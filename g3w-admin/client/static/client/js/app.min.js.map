{"version":3,"sources":["build.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","noop","inserted","cache","insert","css","elem","document","createElement","setAttribute","textContent","styleSheet","cssText","getElementsByTagName","appendChild","removeChild","2","_interopRequireDefault","obj","__esModule","default","_constant","_constant2","_applicationState","_applicationState2","_application","_application2","_InputG3W","_InputG3W2","_InputG3WFormInputs","_InputG3WFormInputs2","_inputservice","_inputservice2","_FormBody","_FormBody2","_FormFooter","_FormFooter2","_C3XYLine","_C3XYLine2","_catalogLayers","_catalogLayers2","_data","_data2","_editing","_editing2","_sessions","_sessions2","_iframePlugin","_iframePlugin2","_mapLayers","_mapLayers2","_plugins","_plugins2","_projects","_projects2","_relations","_relations2","_tasks","_tasks2","_workflows","_workflows2","_api","_api2","_router","_router2","_gui","_gui2","_mixins","_mixins2","G3WObject","utils","geoutils","i18n","Server","Session","Editor","Geom","_require","Geometry","Project","LayersStoreRegistry","LayersStore","Layer","LayerFactory","TableLayer","VectorLayer","ImageLayer","WmsLayer","XYZLayer","MapLayer","Feature","FeaturesStore","OlFeaturesStore","Filter","Expression","Plugin","PluginService","Task","Step","Flow","Workflow","Panel","ControlFactory","ComponentsFactory","FieldsService","Component","MetadataComponent","SearchComponent","SearchPanel","PrintComponent","CatalogComponent","MapComponent","ToolsComponent","QueryResultsComponent","FormComponent","FormService","InputsComponents","ChartsFactory","Fields","SearchPanelService","PickFeatureInteraction","PickCoordinatesInteraction","DeleteFeatureInteraction","AreaInteraction","LengthInteraction","g3wolutils","constant","core","ApplicationService","ApplicationState","ApiService","Router","task","TaskService","data","DataRouterService","iframe","IFrameRouterService","errors","parsers","editing","SessionsRegistry","ChangesManager","geometry","project","ProjectsRegistry","map","MapLayersStoreRegistry","catalog","CatalogLayersStoresRegistry","layer","geom","features","filter","relations","RelationsService","interaction","plugin","PluginsRegistry","workflow","WorkflowsStack","input","inputService","gui","GUI","vue","FormComponents","Body","Footer","Inputs","G3wFormInputs","G3WInput","Charts","c3","lineXY","Mixins","services","ol","interactions","measure","controls","info","$script","window","console","initConfig","version","APP_VERSION","platform","name","os","toString","trim","components/C3XYLine.vue","components/FormBody.vue","components/FormFooter.vue","components/InputG3W.vue","components/InputG3WFormInputs.vue","core/editing/editor","core/editing/session","core/errors/parser/servererrorparser","core/expression/inputservice","core/g3wobject","core/i18n/i18n.service","core/layers/features/feature","core/layers/features/featuresstore","core/layers/features/olfeaturesstore","core/layers/filter/expression","core/layers/filter/filter","core/layers/imagelayer","core/layers/layer","core/layers/layerfactory","core/layers/layersstore","core/layers/layersstoresregistry","core/layers/map/maplayer","core/layers/map/wmslayer","core/layers/map/xyzlayer","core/layers/tablelayer","core/layers/vectorlayer","core/plugin/plugin","core/plugin/pluginservice","core/project/project","core/utils/geo","core/utils/ol","core/utils/utils","core/workflow/flow","core/workflow/step","core/workflow/task","core/workflow/workflow","g3w-ol/interactions/areainteraction","g3w-ol/interactions/deletefeatureinteraction","g3w-ol/interactions/lengthinteraction","g3w-ol/interactions/pickcoordinatesinteraction","g3w-ol/interactions/pickfeatureinteraction","gui/catalog/vue/catalog","gui/charts/chartsfactory","gui/component/component","gui/component/componentsfactory","gui/fields/fields","gui/fields/fieldsservice","gui/form/formservice","gui/form/vue/form","gui/inputs/inputs","gui/map/control/factory","gui/map/vue/map","gui/metadata/vue/metadata","gui/panel","gui/print/vue/print","gui/queryresults/vue/queryresults","gui/search/vue/panel/searchpanel","gui/search/vue/panel/searchservice","gui/search/vue/search","gui/tools/vue/tools","mixins","services/api","services/application","services/data","services/editing","services/gui","services/iframe-plugin","services/relations","services/router","services/tasks","services/workflows","store/application-state","store/catalog-layers","store/map-layers","store/plugins","store/projects","store/sessions","3","Object","defineProperty","value","server","client","_i18n","tools","plugins","undefined","_locales","_locales2","apptitle","supportedLanguages","resources","debug","local","urls","baseurl","ows","api","initconfig","config","merge","type","../locales","4","LOGO_GIS3W","LOCAL_ITEM_IDS","FONT_AWESOME_ICONS","API_BASE_URLS","ZINDEXES","VIEWPORT","TOC_THEMES_INIT_STATUS","TOC_LAYERS_INIT_STATUS","TIMEOUT","SEARCH_RETURN_TYPES","SEARCH_ALLVALUE","QUERY_POINT_TOLERANCE","PRINT_SCALES","PRINT_RESOLUTIONS","PRINT_FORMATS","MAP_SETTINGS","LOCALSTORAGE_EXTERNALWMS_ITEM","LIST_OF_RELATIONS_ID","LIST_OF_RELATIONS_TITLE","GEOMETRY_TYPES","GEOMETRY_FIELDS","FILTER_EXPRESSION_OPERATORS","FILTER_OPERATORS","G3W_FID","EPSG","DOWNLOAD_FORMATS","DEFAULT_EDITING_CAPABILITIES","_extends","assign","target","arguments","source","key","prototype","hasOwnProperty","_version","_version2","download","format","url","download_gpkg","download_gpx","download_csv","download_xls","download_raster","gte","lte","NOT","eq","gt","lt","IN","NOT IN","LIKE","ILIKE","AND","OR","ltgt","ilike","like","POINT","POINTZ","POINTM","POINTZM","POINT25D","MULTIPOINT","MULTIPOINTZ","MULTIPOINTM","MULTIPOINTZM","MULTIPOINT25D","LINESTRING","LINESTRINGZ","LINESTRINGM","LINESTRINGZM","LINESTRING25D","LINE","LINEZ","LINEM","LINEZM","LINE25D","MULTILINESTRING","MULTILINESTRINGZ","MULTILINESTRINGM","MULTILINESTRINGZM","MULTILINESTRING25D","MULTILINE","MULTILINEZ","MULTILINEM","MULTILINEZM","MULTILINE25D","POLYGON","POLYGONZ","POLYGONM","POLYGONZM","POLYGON25D","MULTIPOLYGON","MULTIPOLYGONZ","MULTIPOLYGONM","MULTIPOLYGONZM","MULTIPOLYGON25D","GEOMETRYCOLLECTION","GEOMETRYCOLLECTIONZ","GEOMETRYCOLLECTIONM","GEOMETRYCOLLECTIONZM","GEOMETRYCOLLECTION25D","ZOOM","maxScale","ANIMATION","duration","LAYER_POSITIONS","getPositions","label","unit","resize","min","content","usermessage","tool","CRS","ABOUT","macrogroups","nomacrogoups","projects","group","change-map","file","marker","relation","search","print","info-circle","globe","mail","mobile","fax","user","bars","uncheck","check","filluncheck","table","trash","trash-o","pencil","ellips-h","ellips-v","arrow-up","arrow-down","arrow-left","arrow-right","resize-h","resize-v","resize-default","caret-up","caret-down","caret-left","caret-right","empty-circle","cloud-upload","spinner","minus","minus-square","plus","plus-circle","plus-square","grid","home","folder","sign-out","close","time","calendar","list","link","unlink","eye","eye-close","save","pdf","image","video","unknow","zip","text","excel","xls","gpx","gpkg","shapefile","csv","geotiff","ppt","circle","calculator","picture","keyboard","file-download","copy","draw","chart","chart-line","chart-area","chart-pie","run","warning","alert","crosshairs","success","back","file-upload","wifi","mouse","copy-paste","vector-square","credits","invert","clear","palette","layers","sign-in","language","pin","square","move","moon","sun","refresh","pause","step-backward","fast-backward","step-forward","fast-forward","crop","exit","slider","bookmark","reply","share","SPATIALBOOKMARKS","id","../version","5","_asyncToGenerator","fn","gen","apply","this","Promise","resolve","reject","step","arg","error","done","then","err","BaseService","_this","onbefore","getCurrentProject","proto","handleRequest","request","handleResponse","_ref","regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","stop","_x","getSelectedExternalLayers","_ref2","_ref2$type","getService","getExternalSelectedLayers","getEmptyRequest","hasExternalLayerSelected","_ref3","_ref3$type","6","_defineProperty","enumerable","configurable","writable","_toConsumableArray","arr","Array","isArray","arr2","from","options","setters","_save","addFeature","feature","_addFeature","updateFeature","_updateFeature","deleteFeature","_deleteFeature","setFeatures","_setFeatures","getFeatures","_getFeatures","base","_filter","bbox","_allfeatures","_layer","_featuresstore","getType","LayerTypes","TABLE","_started","_noteditablefileds","getEditingNotEditableFields","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","iterator","push","TypeError","inherit","_canDoGetFeaturesRequest","doRequest","VECTOR","extent","containsExtent","extend","getEditingSource","getSource","_applyChanges","items","reverse","execute","setChanges","getLayer","setLayer","removeNotEditablePropriertiesFromFeature","forEach","field","unset","_cloneFeatures","clone","_addFeaturesFromServer","addFeatures","_doGetFeaturesRequest","online","d","$","Deferred","promise","fail","revert","readFeatures","rollback","changes","applyChangesToNewRelationsAfterCommit","relationsResponse","relationLayerId","getLayerById","editingLayerSource","getEditingLayer","clearState","applyCommitResponse","result","setFieldValueToRelationField","relationId","ids","_ref2$values","values","getSession","getEditor","getFeatureById","fieldvalue","get","set","_this2","lockids","new_lockids","idobj","clientid","setId","setProperties","properties","entries","_ref4","fatherField","childField","addLockIds","getLockIds","commit","commitItems","_this3","add","keys","layerRelation","getRelations","getRelationByFatherChildren","getId","updates","update","concat","getFatherField","getChildField","start","_this4","readEditingFeatures","_this5","unlock","isStarted","getFeaturesStore","resetEditingSource","getFeaturesCollection","7","History","_maxSteps","_states","state","undo","redo","_current","uniqueId","getLastState","_setState","getRelationStates","layerId","relationStates","relationItems","item","_layerId","insertState","stateId","index","_i2","_state","splice","removeState","removeStates","stateIds","_i3","insertStates","states","_i4","canCommit","canUndo","canRedo","_checkItems","action","newItems","own","dependencies","getFirstState","find","idx","setItemsFeatureIds","unsetnewids","unsetnewid","_this6","indexOf","_clearAll","getState","getCurrentState","_this7","currentState","getCurrentStateIndex","_this8","currentStateIndex","checkCommitItems","commitItem","steps","_","isNull","_getStatesToCommit","_this9","statesToCommit","getUid","isNew","isDeleted","isUpdated","_item","isAdded","8","_start","_stop","saveChangesOnServer","started","getfeatures","_editor","editor","_history","_temporarychanges","register","_typeof","constructor","is3DGeometry","getLastHistoryState","getLastStateId","deleteState","unregister","setEditor","Date","now","updateTemporaryChanges","change","getProperties","pushAdd","removeNotEditableProperties","newFeature","pushDelete","pushUpdate","oldFeature","temporarynewfeatureIndex","findIndex","removeChangesFromHistory","changeIds","moveRelationStatesOwnSession","statesIds","_getCommitItems","getCommitItems","relationSession","New","Old","_filterChanges","temporarychange","unshift","_changes","rollbackDependecies","_serializeCommit","itemsToCommit","commitObj","delete","isRelation","sessionRelation","GeoJSONFormat","GeoJSON","writeFeatureObject","childs_properties","_key","set3DGeometryType","_ref$layerId","editingLayer","geometryType","getGeometryType","_ref2$ids","_ref2$relations","_data$new_relations","new_relations","session","_canStop","clearHistory","getHistory","core/editing/history","9","serverErrorParser","_error","parse","traverseErrorMessage","errorObject","entry","_entry","_entries$find","_ref5","_entries$find2","error_message","_ref6","_ref7","replace","_entries$","_value","_ref$type","responseJSON","message","10","convertFeatureToGEOJSON","handleFilterExpressionFormInput","_field$input$options","_field$input$options$","layer_id","filter_expression","loading","qgs_layer_id","parentData","abrupt","getData","inputs","field_name","form_data","parent","formatter","expression","outputs","sent","sort","aKey","bKey","toLowerCase","t0","finish","handleDefaultExpressionFormInput","_callee2","_field$input$options2","_field$input$options3","default_expression","default_value","_context2","11","getFormDataExpressionRequestFromFeature","getVisibility","_ref$feature","contenttype","12","debounce","throttle","_setupListenersChain","debounces","_setupDebounces","throttles","_setupThrottles","EventEmitter","onafter","setter","listener","priority","_onsetter","onceafter","oncebefore","onbeforeasync","un","settersListeners","setterListener","when","async","once","listenerKey","Math","floor","random","fnc","sortBy","after","before","_loop","setterOption","setterFnc","setterFallback","isFunction","fallback","_len","args","_key2","deferred","returnVal","counter","callSetter","onceListenerKeys","afterListeners","abort","beforeListeners","bool","cont","isBoolean","completed","emitEvent","listenerObj","currentCounter","_bool","delay","Function","13","init","appLanguages","plugins18nConfig","i18next","use","i18nextXHRBackend","lng","ns","fallbackLng","jqueryI18next","tName","i18nName","handleName","selectorAttr","targetAttr","optionsAttr","useOptionsAttr","parseDefaultValueFromContent","addI18n","getAppLanguage","getConfig","tPlugin","tPrefix","addI18nPlugin","pluginLanguage","i18nObject","languageObj","addResource","changeLanguage","14","15","BaseIframeService","ready","createFilterFormField","mapService","getComponent","getQgsLayerId","_ref$noValue","noValue","searchFeature","search_endpoint","_ref4$data","getSearchEndPoint","_x2","findFeaturesWithGeometry","layersCount","_ref6$qgs_layer_id","_ref6$zoom","zoom","_ref6$highlight","highlight","found","getGeometry","zoomToFeatures","t1","zoomToProjectInitExtent","setLayers","getLayers","setReady","getReady","_callee3","_context3","16","_iframeApp","_iframeApp2","_iframeEditing","_iframeEditing2","app","services/iframe-app","services/iframe-editing","17","BasePluginService","pluginName","dependencyApi","_ref2$layers","isPluginInConfiguration","getPlugin","setDependencyApi","getApi","isReady","getName","getDependecyApi","core/iframe/services/baseservice","18","ARCGISMAPSERVERLayer","BaseLayer","BasesLayers","_makeOlLayer","_config","attributions","crs","projection","getProjectionFromCrs","olLayer","TMS","source_type","core/layers/baselayers/baselayer","g3w-ol/layers/bases","19","isWMS","getWmsUrl","tiled","_mapLayer","WMSLayer","addLayer","Projections","epsg","_registerLoadingEvent","_olLayer","on","emit","getOLLayer","mapState","extraParams","_updateLayer","setAttributions","setVisible","visible","getMapLayer","g3w-ol/projection/projections","20","BaseLayers","OSM","Bing","ARCGISMAPSERVER","WMTS","WMS","./arcgislayer","./binglayer","./osmlayer","./tmslayer","./wmslayer","./wmtslayer","21","BingLayer","vendorkeys","bing","subtype","BING","imagerySet","22","OSMLayer","title","23","TMSLayer","minZoom","maxZoom","24","singleTile","opacity","25","WMTSLayer","matrixSet","style","requestEncoding","26","geometryFields","_uid","_newPrefix","_geometry","property","setGeometryName","getGeometryName","setGeometry","getStyle","setStyle","new","inherits","_setUid","uid","isGeometry","cloneNew","setTemporaryId","setState","setNew","newValue","setFullState","getFullState","getAlphanumericProperties","alphanumericproperties","isVisible","app/constant","27","_features","_provider","provider","_loadedIds","_lockIds","hasFeatureLockByOtherUser","removeFeature","_removeFeature","_clearFeatures","featurestore","_commit","featuresLockedByOtherUser","cloneDeep","setProvider","getProvider","_filterFeaturesResponse","_readFeatures","_options$features","_options$featurelocks","featurelocks","count","featuresToAdd","featureId","added","_filterLockIds","lockid","featureid","toAddLockId","featurelock","addLoadedIds","lockIds","union","lockId","getFeatureByUid","feat","getDataProvider","28","Collection","getLength","getArray","dispatchEvent","featuresArray","_feature","removeAt","insertAt","29","_layerName","layerName","_expression","and","or","_build","not","operator","join","createSingleExpressionElement","attribute","logicop","filterElement","valueExtra","filterOp","filterLogicOperator","filterValue","Number","isNaN","singolequote","split","_filterElements","_value2","_filterOp","_filterValue","_filterElement","createExpressionFromFilterObject","filterElements","rootFilter","_operator","_value3","_field","_value4","fieldElement","createExpressionFromField","_ref2$operator","createExpressionFromFilterArray","inputsLength","substring","createExpressionFromFilter","filterParam","30","_type","setConfig","mergeConfig","getAll","TYPES","all","setExpression","setBBOX","setFids","fids","serialize","JSON","stringify","31","GeojsonLayer","setup","GeojsonMapLayer","getProjection","getCode","core/layers/map/geojson","32","GeoLayerMixin","getScaleFromResolution","_require2","createFeatureFromFeatureObject","_require3","XHR","sanitizeUrl","RESERVERDPARAMETRS","wms","map_crs","multilayerid","multilayer","legendCategories","olSelectionFeatures","geolayer","geometrytype","legend","show","external","checked","hidden","scalebasedvisibility","minscale","maxscale","ows_method","exclude_from_legend","categories","expanded","_sanitizeSourceUrl","getLegendGraphic","_ref$all","legendParams","layout","legendurl","getLegendUrl","setCategories","getCurrentStyle","category","ruleKey","getCategories","clearCategories","clearOlSelectionFeatures","getOlSelectionFeature","updateOlSelectionFeature","featureObject","_mapService","setSelectionFeatures","deleteOlSelectionFeature","getOlSelectionFeatures","addOlSelectionFeature","showAllOlSelectionFeatures","setInversionOlSelectionFeatures","setOlSelectionFeatureByFid","fid","setOlSelectionFeatures","__layerId","sanitizedUrl","reserverParameters","isLayerCheckedAndAllParents","isChecked","parentGroup","setChecked","oldVisibile","changed","isDisabled","disabled","isPrintable","scale","getStyles","styles","current","getOpacity","setCurrentStyle","currentStyleName","setDisabled","resolution","mapUnits","mapScale","isFilterable","setTocHighlightable","getMultiLayerId","getOwsMethod","setProjection","getEpsg","getCrs","getMapCrs","isCached","cache_url","getCacheUrl","hasAxisInverted","axisOrientation","getAxisOrientation","substr","setMapProjection","mapProjection","_mapProjection","getMapProjection","33","baselayer","IMAGE","legendUrl","customParams","mixin","WMSTLayer","LegendService","getLayerForEditing","_project","editableLayer","_ref2$force","force","vectorurl","project_type","isEditable","layerForEditing","setEditingLayer","isBaseLayer","WMSServerTypes","servertype","isLayerProjectionASMapProjection","isExternalWMS","isArcgisMapserver","SourceTypes","_getBaseLayerName","isWmsUseLayerIds","getWMSLayerName","legendMapBoolean","_ref4$type","wmsUrl","getWFSLayerName","getQueryLayerName","useProxy","getInfoFormats","getWMSInfoLayerName","getPrintLayerName","getStringBBox","minx","miny","maxx","maxy","isWfsActive","ows_type","getFullWmsUrl","metadata_wms_url","metadata","wms_url","getCatalogWmsUrl","getMetadata","catalogWmsUrl","getCatalogWfsUrl","getWfsUrl","getQueryUrl","getServerType","ServerTypes","QGIS","getIconUrlFromLegend","layertitle","params","setMapParamstoLegendUrl","getWfsCapabilities","wfscapabilities","capabilities","iframe_internal","isIframe","mapLayer","method","WMST","Mapserver","Geoserver","OGC","core/layers/geolayermixin","core/layers/legend/legendservice","core/layers/map/arcgismapserverlayer","core/layers/map/wmstlayer","34","fields","query","infourl","_options$project","_createRelations","suffixUrl","vectorUrl","getVectorUrl","rasterUrl","getRasterUrl","filtertoken","shp","widget","unique","featurecount","getUrl","searchParams","I","J","defaultstyle","selected","metadata_querable","isQueryable","onMap","openattributetable","canShowTable","removable","downloadable","isDownloadable","inediting","infoformat","getInfoFormat","infoformats","projectLayer","selection","active","attributetable","pageLength","tochighlightable","stylesfeaturecount","selectionFids","Set","_layersstore","layersstore","serverType","sourceType","providers","ProviderFactory","build","proxyData","parseAttributes","Relations","getProxyData","setProxyData","clearProxyData","getDataProxyFromServer","proxyParams","changeProxyDataAndReloadFromServer","changeParam","param","isInEditing","setInEditing","getSearchParams","projectRelations","referencedLayer","referencingLayer","getRelationById","getRelationAttributes","relationName","getRelationsAttributes","isChild","isFather","getChildren","getFathers","hasChildren","hasRelations","hasFathers","setAttributeTablePageLength","getAttributeTablePageLength","setFilter","getFilterActive","toggleFilterToken","activeFilterToken","createFilterToken","deleteFilterToken","_x10","_callee4","_context4","setFilterToken","_callee5","_context5","size","has","SELECTION_STATE","ALL","EXCLUDE","fidsout","fidsin","getFilterToken","setSelectionFidsAll","isGeoLayer","setSelection","getSelectionFids","invertSelectionFids","hasSelectionFid","includeSelectionFid","_ref8","_callee6","GIVE_ME_A_NAME","createToken","_context6","isSelectionActive","_x12","includeSelectionFids","excludeSelectionFid","_ref9","_callee7","isLastFeatureSelected","_context7","setselectionFidsAll","_x14","excludeSelectionFids","clearSelectionFids","wms_use_layer_ids","getDownloadFilefromDownloadDataType","_ref10","_ref10$data","getShp","getXls","getCsv","getGpx","getGpkg","getGeoTIFF","_ref11","_ref11$data","fileDownload","httpMethod","_ref12","_ref12$data","_ref13","_ref13$data","_ref14","_ref14$data","_ref15","_ref15$data","_ref16","_ref16$data","getSourceType","getDataTable","_ref17","_ref17$page","page","_ref17$page_size","page_size","_ref17$ordering","ordering","_ref17$search","_ref17$suggest","suggest","_ref17$formatter","in_bbox","_ref17$custom_params","custom_params","tokens","headers","getAttributes","getTitle","getFeatureByFids","_callee8","_ref19","_ref19$fids","_ref19$formatter","_context8","vector","searchFeatures","_options$search_endpo","_ref20","_callee9","_options$raw","raw","_options$suggest","queryUrl","_context9","results","getFilterData","t2","t3","_x26","_x27","_callee10","_ref22","_ref22$raw","_ref22$suggest","_ref22$formatter","_context10","feature_count","getFields","getFieldByName","fieldName","getEditingFields","getTableFields","getTableHeaders","getProject","getLayerEditingFormStructure","editor_form_structure","getEditorFormStructure","getFieldsOutOfFormStructure","structure","hasFormStructure","getCustomStyle","customstyle","isShpDownlodable","isXlsDownlodable","isGpxDownlodable","isGpkgDownlodable","isCsvDownlodable","getDownloadableFormats","download_format","getDownloadUrl","isGeoTIFFDownlodable","_editingLayer","isHidden","setHidden","isModified","modified","getOrigName","origname","isType","setType","isSelected","setSelected","_callee11","_context11","getSelection","getFilter","_ref24","queryEnabled","queryableForCababilities","CAPABILITIES","QUERYABLE","infowhennotvisible","getOws","getTocHighlightable","conditions","isFiltrable","FILTERABLE","conditionalFiltrable","reduce","layer_config_value","condition_attribute_values","isQtimeseries","qtimeseries","EDITABLE","setUrl","_ref25","getUrls","setEditingUrl","setQueryUrl","infolayer","getQueryLayerOrigName","ogcService","getInfoUrl","setInfoFormat","infoFormat","changeAttribute","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","getAttributeLabel","getProviders","getLayersStore","setLayersStore","layerstore","not_show_attributes_table","POSTGIS","ORACLE","WFS","OGR","MSSQL","SPATIALITE","G3WSUITE","changeFieldType","_ref26","_ref26$options","_ref26$reset","reset","changeConfigFieldType","_ref27","_ref27$options","_ref27$reset","resetConfigField","_ref28","isVector","isTable","getFeatureCount","getStyleFeatureCount","_ref29","_callee12","_ref30","_context12","post","contentType","_x39","LOCAL","VIRTUAL","CSV","GDAL","WCS","MDAL","VECTOR-TILE","VECTORTILE","GEOJSON","EDITOPS","INSERT","UPDATE","DELETE","core/layers/providers/providersfactory","core/relations/relations","35","layerClass","LayerClass","sourcetype","core/layers/baselayers/baselayers","core/layers/geojson","36","initextent","layerstree","_isQueryable","queryable","_layers","setLayerSelection","setLayerSelected","addLayers","_addLayer","removeLayer","_removeLayer","setQueryable","showOnCatalog","setOptions","removeLayers","getLayersDict","PRINTABLE","VISIBLE","SELECTED","CACHED","SELECTED_OR_ALL","SERVERTYPE","BASELAYER","GEOLAYER","VECTORLAYER","HIDDEN","DISABLED","IDS","isUndefined","filtrable","getBaseLayers","getLayerByName","getLayerAttributes","getLayerAttributeLabel","getGeoLayers","_getAllSiblingsChildrenLayersId","nodeIds","traverse","nodes","node","_getAllParentLayersId","_node","selectLayer","getExtent","getInitExtent","setLayersTree","rootGroup","root","createLayersTree","groupName","full","tocLayersId","lightlayer","groupId","mutually_exclusive","removeLayersTree","getLayersTree","37","LayersStoresRegistry","stores","storesArray","addLayersStore","layersStore","_addLayersStore","removeLayersStore","layerStore","_removeLayersStore","removeLayersStores","_removeLayersStores","storeId","getQuerableLayersStores","getLayersStores","isNil","_storeId","38","ARGISMAPSERVERLegend","_layer$getConfig$sour","layername","serviceUrl","39","arcgismapserver","Legendservice","_ref$options","./arcgismapserverlegend","./wmslegend","40","WMSLegend","width","height","_params$color","color","_params$fontsize","fontsize","_params$transparent","transparent","boxspace","layerspace","_params$layertitle","layertitlespace","symbolspace","iconlabelspace","symbolwidth","symbolheight","itemfontfamily","layerfontfamily","layerfontbold","itemfontbold","layerfontitalic","itemfontitalic","rulelabel","_params$sld_version","sld_version","_options$categories","_options$all","_options$format","LAYER","FORMAT","STYLES","LEGEND_ON","LEGEND_OFF","encodeURIComponent","getContextBaseLegend","_get_LEGEND_ON_LEGEND","get_LEGEND_ON_LEGEND_OFF_Params","41","WMSLAYER","RasterLayers","TiledArgisMapServer","g3w-ol/layers/rasters","42","core/layers/map/vectorlayer","43","allLayers","showSpinnerWhenLoading","_updateLayers","checkLayerDisabled","checkLayersDisabled","setupCustomMapParamsToLegendUrl","44","createOlLayer","createLayerStyle","resetSource","Vector","setSource","_style","_makeStyle","styleConfig","icon","Icon","src","imageSize","stroke","Stroke","fill","Fill","Style","setOLLayer","getVisible","addToMap","45","_objectWithoutProperties","LAYERTYPE","MULTILAYER","_method","withLayers","getGetFeatureInfoUrl","coordinate","getLayerConfigs","_getVisibleLayers","getQueryableLayers","_extraParams$force","visibleLayers","CATEGORIES_LAYERS","OPACITIES","parseInt","prefix","LAYERS","updateParams","46","wmsConfig","representativeLayer","TiledWMSLayer","47","layerOptions","48","GEOJSONDataProvider","_name","Provider","parseFeatures","parser","featureProjection","dataProjection","digestFeaturesForTable","core/layers/providers/provider","49","KMLDataProvider","DataProvider","50","_isReady","_hasFieldsStartWithNotPermittedKey","getTimeoutPromise","handleQueryResponse","responseParser","isValid","handleQueryResponseFromServer","projections","getQueryResponseTimeoutKey","_ref$layers","getTimeoutData","core/utils/parsers","51","providerType","providerClass","ProvidersForServerTypes","Providers","geojson","kml","xml","qgis","wfs","virtual","postgres","oracle","mssql","spatialite","ogr","delimitedtext","wmst","wcs","gdal","vector-tile","vectortile","mdal","./geojsonprovider","./kmlprovider","./qgisprovider","./wfsprovider","./wmsprovider","./xmlprovider","52","QGISProvider","_projections","_queryUrl","_filtertokenUrl","_infoFormat","Parsers","mode","_ref3$data","dataUrl","_ref5$raw","_ref5$suggest","_ref5$formatter","setProjections","_options$filter","layerNames","SERVICE","VERSION","REQUEST","QUERY_LAYERS","INFO_FORMAT","FEATURE_COUNT","FILTER","WITH_GEOMETRY","featuresForLayers","getWidgetData","widgetUrls","unlockUrl","jsonCommits","layerType","urlParams","jsonFilter","_options","_jsonFilter","nofeatures","_jsonFilter2","nofeatures_field","parser_options","featureLock","_urlParams","_loadLayerData","customUrlParameters","_arguments","Obkect","layerCode","noVectorlayerCodes","vectorLayersSetup","_setupVectorLayer","vectorLayersCodes","slice","loadAllVectorsData","_vectorLayersCodes","setVectorLayersCodes","getVectorLayersCodes","reloadVectorData","_createVectorLayerFromConfig","vectorLayer","_getVectorLayerData","vectorDataResponse","setVectorLayerData","_editingApiField","setData","layerCodes","loadedExtent","_loadedExtent","resolvedValue","vectorDataRequests","_loadVectorData","_setCustomUrlParameters","_customUrlParameters","_checkVectorGeometryTypeFromConfig","vectorConfig","layerConfig","_getVectorLayerConfig","vectorConfigResponse","crsLayer","_createVectorLayer","self","_editingMode","setFields","setCrs","lazyRelations","setRelations","setVectorFeaturesLock","getVectorLayerData","_vectorLayersData","getVectorLayersData","vectorLayerData","featureslock","newFeaturesLockIds","differenceBy","getFeatureLocks","newLockId","addLockId","cleanVectorFeaturesLock","cleanFeatureLocks","lockFeatures","_baseUrl","layerApiField","lock","getMode","apiUrl","cleanUpLayers","53","WFSDataProvider","toRawType","_options$reproject","reproject","_options$feature_coun","MAXFEATURES","_options$layers","timeoutKey","_doRequest","featuresForLayer","_featuresForLayer$fea","always","clearTimeout","_post","match","_get","SRSNAME","TYPENAME","OUTPUTFORMAT","filterType","filterConfig","featureRequest","writeGetFeature","featureTypes","_filterConfig$spatial","spatialMethod","children","innerHTML","repeat","queryPromise","status","responseText","54","WMSDataProvider","appendParams","GETFEATUREINFO_IMAGE_SIZE","DPI","getDPI","_getRequestParameters","coordinates","_ref$query_point_tole","query_point_tolerance","getExtentForViewAndSize","x","y","PARAMS_TOLERANCE","bufferGeometry","Polygon","fromCircle","Circle","wkGeometry","WKT","FILTER_GEOM","writeGeometry","FI_POINT_TOLERANCE","FI_LINE_TOLERANCE","FI_POLYGON_TOLERANCE","G3W_TOLERANCE","LEGEND_PARAMS","WIDTH","HEIGHT","layerProjection","_options$size","_options$coordinates","METHOD","test","Content-Type","GET","sourceParam","POST","55","XMLDataProvider","56","clearFeatures","syncSelectionFilterFeatures","setColor","_setColor","_color","_editatbleLayer","getEditingConfig","_ref$constraints","constraints","_ref$capabilities","form","perc","_setOtherConfigParameters","updateItem","setFormPercentage","getFormPercentage","cloneFeatures","setVectorUrl","setProjectType","projectType","getColor","isEditingLayer","getEditingStyle","setEditingStyle","getEditingConstrains","getEditingCapabilities","isFieldRequired","required","validate","editable","isPkField","find_field","pk","isEditingFieldEditable","getEditingMediaFields","getFieldsLabel","labels","getDataFormat","getEditingFormat","addEditingConfigFieldOption","getCommitUrl","setCommitUrl","getEditingUrl","getUnlockUrl","setUnlockUrl","getWidgetUrl","setDataUrl","getDataUrl","getConfigUrl","setConfigUrl","setFeaturesStore","featuresstore","setFieldsWithValues","createAttributesFromFields","attributes","getFieldsWithValues","_options$exclude","exclude","_options$get_default_","get_default_value","forceNull","valid","_valid","value_from_default_value","exclude_values","mutually_valid","empty","createNewFeature","57","VectorMapLayer","getEditingGeometryType","58","_ref$name","_ref$config","getPluginConfig","_ref$service","service","_ref$dependencies","_ref$i18n","_ref$fontClasses","fontClasses","_ref$api","setName","setLocale","setService","setDependencies","addFontClasses","setApi","setHookService","_ready","hookservices","_timeout","setTimeout","removeLoadingPlugin","removeLayout","setPlugin","hook","_hook","getHookService","setLayout","cloneLayout","setCurrentLayout","isCurrentProjectCompatible","projectId","getGid","registerPlugin","iscompatible","getDependencyPlugins","pluginsName","getDependencyPlugin","getDependencyPluginsObject","pluginsApiObject","promises","_x6","isTherePlugin","setHookLoading","_ref3$hook","_ref3$loading","setLoading","addToolGroup","_ref4$hook","order","position","removeToolGroup","addTools","_ref6$hook","html","_ref6$offline","offline","_ref6$options","_ref6$loading","_ref6$disabled","_ref6$state","groupTools","configs","bind","setToolState","_ref7$state","removeTools","createSideBarComponent","vueComponentObject","_ref8$open","_ref8$collapsible","_ref8$mobile","_ref8$isolate","_ref8$closewhenshowvi","_ref8$iconConfig","_ref8$events","_ref8$sidebarOptions","open","collapsible","isolate","closewhenshowviewportcontent","iconConfig","events","sidebarOptions","componentsFactoryOpts","iconColor","getFontClass","PluginSiderbarComponent","addComponent","removeComponent","unload","clearAllEvents","load","addDependency","dependency","addFontClass","className","Vue","g3wtemplate","fonClasses","fontClass","59","_pluginEvents","_appEvents","currentLayout","getCurrentLayoutName","vm","unwatch","$watch","__current","currentLayoutName","resetCurrentLayout","gid","initEvents","registerWindowEvent","evt","cb","unregisterWindowEvent","subscribeEvent","_ref5$once","owner","triggerEvent","_ref6$params","unsubscribeEvent","removeEvent","unsubscribeAllEvents","loadPlugin","60","PrintService","_currentLayerStore","convertObjectToUrlParams","OUTPUT_FORMATS","jpg","COMMON_REQUEST_PARAMETERS","getAtlasParamsFromOptions","template","_options$download","multiValues","EXPRESSION","EXP_FILTER","TEMPLATE","DOWNLOAD","getParamsFromOptions","rotation","dpi","_options$maps","maps","_options$labels","is_maps_preset_theme","preset_theme","mime_type","xhr","XMLHttpRequest","responseType","setRequestHeader","onload","URL","webkitURL","_url","createObjectURL","onerror","send","_getAtlasParamsFromOptions","_getParamsFromOptions","printAtlas","61","catalog_tab","toc_tab_default","_catalog_tab","toc_layers_init_status","toc_themes_init_status","map_themes","expression_eval","vector_data","_processLayers","crsToCrsObject","_projection","_layersStore","_buildLayersStore","setBaseLayer","baselayers","baseLayer","setSearchEndPoint","getAliasUrl","aliasUrl","getActiveCatalogTab","setActiveCatalogTab","tab","context_base_legend","getQueryPointTolerance","getQueryFeatureCount","isQueryMultiLayers","mapcontrol","querymultilayers","getRelationsByLayerId","layer_name_originale","baseLayerId","getBaseLayerId","baseLayerConfig","baseLayerVisibleId","initbaselayer","fixed","overviewprojectgid","WMSUrl","getConfigLayers","setLegendPosition","legend_position","getLegendPosition","getThumbnail","thumbnail","getPrint","getSearches","rasterurl","getOverviewProjectGid","getQgisVersion","qgis_version","setLayersTreePropertiesFromMapTheme","mapThemeConfig","mapThemeLayersTree","groups","map_theme","_ref4$layerstree","getMapThemeFromThemeName","visibility","setCurrentStyleAndResolvePromise","allSettled","_ref6$node","_x8","map_theme_config","theme","getMapThemeConfiguration","_x9","getSpatialBookmarks","bookmarks","62","Relation","uniqueSuffix","father","child","fieldRef","referencedField","referencingField","setTitle","getChild","getFather","isLoading","63","_length","_relationsInfo","fathers","father_child","relationConfig","_createRelationsInfo","relationKey","_clearRelationsInfo","father_children","_reloadRelationsInfo","addRelation","removeRelation","childId","fatherId","core/relations/relation","64","GeometryTypes","removeZValueToOLFeatureGeometry","originalFeatureCoordinates","getCoordinates","setCoordinates","singleLine","singlePolygon","addZValueToOLFeatureGeometry","MULTIPOLYGOZM","getOLGeometry","isMultiGeometry","getAllPointGeometryTypes","isPointGeometryType","getAllLineGeometryTypes","isLineGeometryType","getAllPolygonGeometryTypes","isPolygonGeometryType","type3D","coordinatesToGeometry","geometryClass","MultiPolygon","LineString","MultiLineString","Point","MultiPoint","getDefaultLayerStyle","defaultStyle","radius","styleObj","createFeatureFromCoordinates","createFeatureFromBBOX","fromExtent","createFeatureFromGeometry","_ref6$feature","_feature2","olSource","setOpacity","createWMSLayer","_ref7$layers","wmslayer","createVectorLayerFromGeometry","createVectorLayerFromFeatures","createVectorLayerFromFile","createVectorLayer","separator","errorrows","promiseKmz","mapCrs","KML","vectorSource","_fields","GPX","WMSGetFeatureInfo","extractStyles","row","rowvalues","transform","showUserMessage","hooks","footer","autoclose","buffer","kmlFile","JSZip","arrayBuffer","asText","_x11","createStyleFunctionToVectorLayer","styleFunction","rgba","g","b","setText","Text","font","offsetY","_g3w_options","createSelectedStyle","_ref12$color","_ref12$fill","zIndex","Infinity","fillColor","asArray","asString","getAlphanumericPropertiesFromFeature","getQueryLayersPromisesByBBOX","_ref13$filterConfig","_ref13$feature_count","_ref13$multilayers","multilayers","queriesPromise","getMap","getView","getQueryLayersPromisesByGeometry","queryResponses","queryErrors","layersLenght","layerCrs","_ref14$multilayers","_ref14$filterConfig","_ref14$feature_count","filterGeometry","multiLayers","groupBy","numberRequestd","layersLength","_multilayer","getQueryLayersPromisesByCoordinates","_ref15$feature_count","_ref15$query_point_to","_ref15$multilayers","_ref15$reproject","getSize","getResolution","numberOfRequests","_layers2","rejectedResponses","transformBBOX","sourceCrs","destinationCrs","point1","point2","parseQueryLayersPromiseResponses","responses","getMapLayerById","getMapLayersByFilter","areCoordinatesEqual","coordinates1","coordinates2","getFeaturesFromResponseVectorApi","_ref17$type","covertVectorFeaturesToResultFeatures","splitGeometryLine","splitGeometry","lineGeometry","isZType","splitted","splittedSegments","jstsFromWkt","jsts","io","WKTReader","wktFromOl","olFromJsts","OL3Parser","splitLine","read","wktLineString","targetLine","targetCoordinates","targetCoordinatesLength","geometryFactory","GeometryFactory","pointsNotSplitted","endPoint","startPoint","z","segment","createLineString","intersectCoordinates","intersection","splitPoint","lineNewSegment","write","_lineNewSegment","_coordinates","restOfLine","zCoordinates","pointNotSplitted","splitFeatures","_ref18","_ref18$features","splitfeature","splitterdGeometries","geometries","splitFeature","splitType","featureGeometryType","splittedFeatureGeometries","isMulti","polygonFeature","getPolygons","polygonFeatureGeometry","externalPolygonFeatureGeometry","getLinearRing","holePolygons","getLinearRingCount","holeFeaturesGeometry","holeRing","operation","polygonize","Polygonizer","holyPolygonUnion","toArray","polygon","polygonizer","polygons","difference","intersects","getInteriorPoint","polygonCoordinates","_isMulti","lineFeatureGeometry","getLineStrings","getPointFeaturesfromGeometryVertex","pointFeatures","pop","getVertexLength","vertexLength","isSameBaseGeometryType","geometryType1","geometryType2","isSingleGeometry","singleGeometriesToMultiGeometry","multiGeometryToSingleGeometries","getPoints","convertSingleMultiGeometry","toGeometryType","fromGeometryType","isFromGeometryMulti","isToGeometryMulti","dissolve","_ref20$features","_ref20$index","_ref20$clone","featuresLength","dissolvedFeature","jstsdissolvedFeatureGeometry","baseFeature","baseFeatureGeometry","baseFeatureGeometryType","lineMerger","linemerge","LineMerger","addLineString","mergedLineString","getMergedLineStrings","_feature3","dissolvedFeatureGeometry","dissolvedFeatureGeometryType","dissolvedFeatuteGeometryCoordinates","within","geometryToCheck","jstsGeometry","jstsGeometryToCheck","findSelfIntersects","jstsPolygon","validator","IsSimpleOp","isSimpleLinearGeometry","graph","geomgraph","GeometryGraph","cat","ConsistentAreaTester","isNodeConsistentArea","normalizeEpsg","proj4","axisinverted","geographic","ConvertDMToDEG","_ref21","dms","_ref21$type","dms_Array","degrees","minutes","deg","toFixed","ConvertDEGToDM","_ref22$output","output","absolute","abs","ConvertDMSToDEG","_ref23","_ref23$type","seconds","direction","ConvertDEGToDMS","lat","lon","_ref24$output","minutesNotTruncated","getGeoTIFFfromServer","_options$params","csrfmiddlewaretoken","_options$method","body","geoTIFF","FormData","append","fetch","blob","createOlFeatureFromApiResponseFeature","_feature$properties","sanitizeFidFeature","layerAttributes","featureAttributes","featureAttributesNames","featureAttributesName","_featureAttributesNames","_ref26$wms","distance","c1","c2","sqrt","squaredDistance","x1","y1","x2","y2","dx","dy","closestOnSegment","x0","y0","end","along","_checked","65","INCHES_PER_UNIT","m","DOTS_PER_INCH","obj1","obj2","obj3","center","cosRotation","cos","sinRotation","sin","xCos","xSin","yCos","ySin","x3","y3","max","createPolygonLayerFromBBox","polygonLayer","reverseGeometry","reverseCoordinates","units","round","getResolutionFromScale","normScale","getMetersFromDegrees","proj","Units","METERS_PER_UNIT","needUseSphereMethods","getUnits","getLengthMessageText","useSphereMethods","sphere","totalLength","transformMeterLength","getAreaMessageText","_ref2$segments","segments","area","getArea","segments_info_meausure","segmentLength","transformMeterArea","formatMeasure","getCurrentMapUnit","createMeasureTooltip","element","tooltip","Overlay","offset","positioning","addOverlay","unbyKey","tooltipCoord","getInteriorPoints","getLastCoordinate","setPosition","tounit","removeMeasureTooltip","removeOverlay","Observable","unByKey","setMeasureTooltipStatic","getElement","setOffset","66","olutils","WORD_NUMERIC_FIELD_ESCAPE","getHandledResponsesFromResponse","_ref$id","x2js","X2JS","jsonresponse","xml_str2json","FeatureCollection","handledResponses","featureMember","originalFeatureMember","featureMemberArrayAndPrefix","__prefix","g3w_fid","__text","_fid","groupFeatures","groupFeaturesByFields","handleWMSMultiLayersResponseFromQGISSERVER","_jsonresponse$Feature","handledResponse","parseLayerFeatureCollection","transformFeatures","mainProjection","invertedAxis","reverseFeaturesCoordinates","_require3$Geometry","layerFeatureCollectionXML","json2xml_str","hasFieldsStartWithNotPermittedKey","numericFields","ori_field","handleXMLStringResponseBeforeConvertToJSON","String","XMLSerializer","serializeToString","originalName","sanitizeLayerName","reg","RegExp","arrayQGS","matchAll","originalField","regex","strangeChar","fromCharCode","sub_index","_jsonresponse$Feature2","contenttypes","application/json","_ref5$layers","_ref5$wms","_require4","layersFeatures","layersId","parseData","defaultDataProjection","geometryName","application/geojson","parserGEOJson","text/html","rawdata","text/plain","text/gml","parserGML","application/vnd.ogc.gml","_ref10$wms","not_supported_format","_ref11$layers","VectorParser","_parseLayerGeoJSON","_parseLayermsGMLOutput","gml","gmlTag1","gmlTag2","boundary","parts","part","isGmlPart","TableParser","_parserJSON","_data$features","67","decimalAdjust","exp","NaN","round10","floor10","ceil10","hashCode","hash","chr","len","charCodeAt","Base64","_keyStr","encode","s","_utf8_encode","charAt","decode","_utf8_decode","getUniqueDomId","basemixin","destination","sourceInstance","hasOwn","object","childCtor","parentCtor","tempCtor","superClass_","me","opt_methodName","var_args","caller","callee","foundCaller","ctor","truefnc","falsefnc","getValueFromG3WObjectEvent","getAjaxResponses","listRequests","requestsLenght","DoneRespones","FailedResponses","trimValue","isURL","_ref$reserverParamete","checkUrl","_params","toUpperCase","_param","uri","keyParams","k","qs","imageToDataURL","_ref2$callback","callback","Image","canvas","context","getContext","naturalHeight","naturalWidth","drawImage","dataURL","toDataURL","capitalize_first_letter","string","_toString","isEmptyObject","lastCall","previousCall","func","timeout","getRandomColor","copyUrl","tempinput","select","execCommand","downloadFile","filename","_ref3$mime_type","temapAncor","dataset","downloadurl","href","click","Blob","json","_x7","downloadCSVLayerFeatures","_ref6$alias","alias","downloadCSV","convertToCSV","str","line","_ref7$filename","_ref7$items","exportedFilenmae","navigator","msSaveBlob","_ref8$timeout","_ref9$params","_ref10$formdata","formdata","getResponseStatusHeaders","_formdata","ajax","processData","htmlescape","_ref11$httpMethod","timeoutId","downloadPromise","createSingleFieldParameter","_ref12$operator","_ref12$logicop","_ref12$search_endpoin","valueLenght","_valueLenght","createFilterFromString","_ref13$search_endpoin","_ref13$filter","stringFilter","regexoperator","regexsinglequote","re","replaceValue","createFilterFormInputs","_ref16$search_endpoin","_ref16$inputs","isLayerArray","filters","_ref17$search_endpoin","_ref17$operator","splitContextAndMethod","_string$split","_string$split2","colorHEXToRGB","convertQGISDateTimeFormatToMoment","datetimeformat","matchDayInDate","68","InputValidators","validators","float","integer","isSafeInteger","checkbox","datetimepicker","fielddatetimeformat","moment","radio","range","Validator","69","_workflow","queques","Queque","micro","getInputs","getSteps","runStep","setMessages","help","runMicroTasks","onDone","onError","clearQueques","isRunning","core/workflow/queque","70","tasks","addTask","shift","flush","71","_options$inputs","_options$context","_options$task","_options$outputs","escKeyPressEventHandler","_inputs","_task","_outputs","running","registerEscKeyEvent","escKeyUpHandler","_evt$data","unbindEscKeyUp","unbind","bindEscKeyUp","getTask","setInputs","setContext","panic","getHelp","getError","getMessage","setTask","setOutputs","getOutputs","MESSAGES","72","usermessagesteps","setRoot","getUserMessageSteps","setUserMessageSteps","setUserMessageStepDone","73","_options$flow","flow","_options$steps","_options$runOnce","runOnce","_promise","_flow","_steps","_child","_stackIndex","_messages","_userMessageSteps","messagesSteps","createUserMessageStepsFactory","getContextService","setContextService","getStackIndex","addChild","setInput","_setInputs","getFlow","setFlow","addStep","setSteps","getStep","messages","getMessages","clearMessages","_isThereUserMessaggeSteps","clearUserMessagesSteps","getLastStep","getRunningStep","_stopChild","getCurrent","stepsComponent","closable","_resetUserMessaggeStepsDone","closeUserMessage","userMessageSteps","buttonnext","gui/workflow/createUserMessageStepsFactory","74","SPATIALMETHODS","VM","75","AddLayersControl","tipLabel","Control","_layerstore","setMap","getLayersSore","g3w-ol/controls/control","76","AreaIteraction","MeasureControl","AreaControl","clickmap","interactionClass","g3w-ol/controls/measurecontrol","77","_constants","InteractionControl","VALIDGEOMETRIES","BaseQueryPolygonControl","_options$spatialMetho","onSelectlayer","default_options","toggledTool","how","onhover","geometryTypes","g3w-ol/constants","g3w-ol/controls/interactioncontrol","78","_options$name","_options$visible","_options$enabled","enabled","_enabled","eventKeys","positionCode","customClass","mapControlButtonVue","functional","render","h","_class","class","attrs","directives","mapControlButtonDOMElement","$mount","$el","buttonClickHandler","_handleClick","control","_postRender","isClickMap","isToggled","_toggled","setEventKey","eventType","eventKey","originalHandler","resetOriginalHandlerEvent","overwriteEventHandler","handler","getPosition","event","preventDefault","resetControl","getControls","toggle","shiftPosition","hWhere","changelayout","showControl","hideControl","left","controlWidth","outerWidth","newPosition","siblings","each","hide","setEnable","first","toggleClass","_interaction","setActive","getEnable","_visible","g3w-ol/controls/utils","79","_classCallCheck","instance","Constructor","GeocodingControl","placeholder","noresults","notresponseserver","lang","limit","keepOpen","autoComplete","autoCompleteMinLength","viewbox","bounded","fontIcon","Google","Nominatim","containerClass","cssClasses","namespace","inputText","container","GeocoderVueContainer","inputQueryId","autocomplete","btn","val","aria-hidden","inputResetId","lastQuery","registeredListeners","mapClick","showMarker","hideMarker","zoomToGeometry","createControl","_this10","hit","which","keyCode","focus","addClass","clearResults","handleValue","removeClass","addEventListener","q","_this11","isNumber","_q$split","_q$split2","firstChild","_provider$getParamete","getParameters","countrycodes","spin","_providers$index$hand","header","createList","_this12","_ref4$results","ul","createHeaderProviderResults","addressHtml","addressTemplate","address","li","chosen","original","elementVue","nominatim-noresult","place","addressObj","addressOriginal","coord","parseFloat","headerNodeElement","classList","road","building","house_number","city","town","village","country","expand","_this13","glass","collapse","blur","removeAllChildren","_this14","_createClass","defineProperties","props","descriptor","protoProps","staticProps","olControl","isNumeric","classRegex","classname","array","hasClass","_addClass","el","klass","_removeClass","remove","contains","selector","find_all","simpleRe","periodRe","matches","getElementsByClassName","querySelectorAll","getElementById","isElement","HTMLElement","nodeType","nodeName","getAllChildren","tag","isEmpty","emptyArray","anyMatchInArray","some","everyMatchInArrayy","arr1","every","anyItemHasValue","removeAll","collection","parentNode","childNodes","tagName","htm","htmlEscape","attr","frag","createDocumentFragment","transformExtent","settings","addressdetails","_settings","containsXY","neighbourhood","postcode","formatted","display_name","details","google","_settings2","bounds","location","address_components","types","long_name","short_name","./control","80","GeolocationControl","_showMarker","_ref$show","setCenter","toggledKeyEvent","geolocation","Geolocation","tracking","trackingOptions","enableHighAccuracy","81","GeoScreenshotControl","ScreenshotControl","g3w-ol/controls/screenshotcontrol","82","_mapControls","_mapControls2","_options$toggled","toggled","_options$clickmap","_options$interactionC","_options$autountoggle","autountoggle","_options$geometryType","_options$onhover","_options$help","_options$interactionC2","interactionClassOptions","unwatches","listenLayersVisibilityChange","_interactionClass","_autountoggle","_geometryTypes","_onhover","_help","_helpButton","_toolButton","_interactionClassOptions","_createModalHelp","createControlTool","handleChangeSpatialMethod","onSelectLayer","runSpatialQuery","onAddExternalLayer","unWatches","onRemoveExternalLayer","handleSelectedLayer","handleExternalSelectedLayer","checkVisibile","enable","disable","component","_toggledTool$how","getSpatialMethod","methods","watch","setSpatialMethod","created","setCloseUserMessageBeforeSetContent","beforeDestroy","_createToolOnHoverButton","prepend","stopPropagation","showToggledTool","hover","mouseleave","_showModalHelp","showModalDialog","getGeometryTypes","getControlBottom","addClassToControlBottom","controlButton","removeClassToControlBottom","setGeometryTypes","addInteraction","getInteraction","setSelectedLayer","getSelectedLayer","getExternalLayers","unlistenSpatialMethodChange","watchLayer","expOrFn","isSelectedLayerVisible","hasVisibleProjectLayer","hasVisibleExternalLayer","hasVisibleLayers","addExternalLayerToResult","isExternalLayerSelected","store/map-controls","83","LenghtIteraction","LengthControl","84","_map","85","MousePositionControl","MousePosition","86","OLControl","_control","Zoom","ZoomToExtent","ScaleLine","OverviewMap","getOlControl","viewPort","getViewport","previusControls","previusControl","last","previousOffset","right","previousWidth","offsetWidth","hOffset","showHide","87","OnClickControl","_originalonlick","_onclick","onclick","overwriteOnClickEvent","clickHandler","resetOriginalOnClickEvent","controlElement","buttonControl","cliccked","88","layersFilterObject","condition","QueryBBoxControl","_startCoordinate","filterableLayersAvailable","DragBox","checkVisible","boundingExtent","findLayer","closeOpenSideBarComponent","addExternal","isThereVisibleLayerNotSelected","89","QueryByDrawPolygonControl","Draw","excludeSelected","_ref3$error","g3w-ol/controls/basequerypolygoncontrol","90","QueryByPolygonControl","controlQuerableLayers","controlFiltrableLayers","filterableLayers","queryableLayers","_x3","getPolygonFeatureFromCoordinates","listenPolygonLayersChange","_ref7$data","_ref8$error","91","QueryControl","eventSingleClickKey","runQuery","92","ResetControl","93","ScaleControl","isMobile","deleteLastCustomScale","select2","option","scales","addCustomTag","trigger","newOption","Option","isMapResolutionChanged","selectedOnClick","tags","dropdownParent","getTargetElement","noResults","minimumResultsForSearch","createTag","newTag","term","isInteger","view","setChangeResolutionHandler","setResolution","_setScales","currentResolution","currentScale","_createControl","controlDomElement","optgroup","optgroup_custom","94","g3w-ol/controls/onclickcontrol","95","StreetViewComponent","GoogleStreetViewApiUrl","StreetViewControl","keyError","_sv","_panorama","_lastposition","_streetViewFeature","streetVectorSource","atan2","pixel","StreetViewService","getPanorama","StreetViewPanorama","imageDateControl","addListener","lnglat","getPixelFromCoordinate","setPov","pitch","heading","latLng","closeContent","showStreetView","_ol$proj$transform","_ol$proj$transform2","setContent","clearMarker","gui/streetview/vue/streetview","96","TOPOFFSET","changeLayoutBottomControl","_ref2$isMobile","previusControlWidth","previousLeftPosition","previousTopPosition","top","elementTopPosition","createControlUserMessageTool","97","ZoomBoxControl","start_coordinate","end_coordinate","98","ZoomHistoryControl","vueElement","_MapControlZoomHistory2","_MapControlZoomHistory","components/MapControlZoomHistory.vue","99","maphelpers","helpers","g3w-ol/map/maphelpers","100","MeasureInteraction","g3w-ol/interactions/measureinteraction","101","DeleteInteractionEvent","DeleteInteraction","Pointer","handleDownEvent","handleDownEvent_","handleMoveEvent","handleMoveEvent_","handleUpEvent","handleUpEvent_","handleEvent","handleEvent_","previousCursor_","startCursor_","lastCoordinate_","features_","layer_","map_","mapBrowserEvent","originalEvent","lastFeature_","featuresAtPixel_","cursor","intersectingFeature","forEachFeatureAtPixel","includes","102","LengthIteraction","103","MeasureIteraction","_helpTooltip","_measureTooltipElement","_measureTooltip","_featureGeometryChangelistener","_poinOnMapMoveListener","testTooltip","_helpMsg","drawColor","measureStyle","lineDash","_helpTooltipElement","_drawStart","_drawEnd","setDrawMessage","_clearMessagesAndListeners","measureTooltip","off","_keyDownEventHandler","_removeLastPoint","removeLastPoint","dragging","helpMsg","_createHelpTooltip","_createMeasureTooltip","104","PickCoordinatesEventType","PICKED","PickCoordinatesEvent","_centerMap","getCenter","shouldStopEvent","105","PickFeatureEventType","PickFeatureEvent","layers_","pickedFeature_","pickedLayer_","layerFilter_","include","featureFound","layerFilter","hitTolerance","any","106","Tile","basemap","_ref2$visible","_ref2$url","_ref2$source_type","_ref2$crossOrigin","crossOrigin","_ref3$singleTile","_ref3$opacity","_ref4$style","_ref4$format","_ref4$opacity","projectionExtent","resolutions","getWidth","matrixIds","pow","tileGrid","tilegrid","origin","getTopLeft","preload","BingMaps","107","loadImageTileFunction","_ref$method","_ref$sourceOptions","sourceOptions","imageTile","_url$split","_url$split2","getImage","TileState","ERROR","layerObj","_WMSLayer","optionsFromCapabilities","ImageArgisMapServer","ImageArcGISRest","ratio","TileArcGISRest","_options$tiled","_layerObj$iframe_inte","_layerObj$layers","_layerObj$version","_layerObj$sld_version","_layerObj$opacity","maxResolution","TRANSPARENT","SLD_VERSION","imageOptions","TileWMS","ImageWMS","_options$visible2","createXYZ","getResolutions","TileGrid","XYZ","108","MapHelpers","createViewer","opts","_Viewer","defaults","attribution","DragRotate","View","ol3Logo","keyboardEventTarget","Map","destroy","dispose","updateMap","mapObject","updateView","setTarget","zoomTo","setZoom","goTo","animate","panAnimation","zoomAnimation","goToRes","fit","constrainResolution","getZoom","getBBOX","calculateExtent","removeLayerByName","getActiveLayers","activelayers","getLayersNoBase","addBaseLayer","Aerial","changeBaseLayer","../layers/bases","109","Projection","_options$crs","proj4def","_options$crs$geograph","_options$crs$axisinve","defs","_axisOrientation","isInvertedAxisOrientation","getOlProjection","110","isRegistered","cachedProjection","addProjection","registerProjection","./projection","111","CatalogService","prstate","highlightlayers","layerstrees","layersgroups","addExternalLayer","removeExternalLayer","setSelectedExternalLayer","externalLayer","layersStores","addLayersStoreToLayersTrees","layersTree","storeid","createLayersGroup","_ref4$title","_ref4$layers","getMajorQgisVersion","addLayersGroup","layersGroup","tree","changeMapTheme","currentProject","rootNode","changeMapThemeProjectObj","changeProjectView","_x4","_ref6$type","_ref7$type","getExternalLayerById","_ref8$type","112","_interopRequireWildcard","newObj","resizable","mapComponentId","mapcomponentid","Service","setInternalComponent","InternalComponent","internalComponent","listenToMapVisibility","_components2","_Catalog","catalogComponentOptions","_CatalogLayersGroup","catalogLayersGroupComponentOptions","_CatalogTristateTree","catalogTristateTreeComponentOptions","_CatalogLayersLegend","catalogLayersLegendComponentOptions","_CatalogLayersLegendItems","catalogLayersLegendItemsComponentOptions","_components","components/Catalog.vue","components/CatalogLayersGroup.vue","components/CatalogLayersLegend.vue","components/CatalogLayersLegendItems.vue","components/CatalogTristateTree.vue","gui/catalog/catalogservice","store/components","113","CatalogEventHub","114","ChangeMapMenuComponent","_ChangeMapMenu","vueComponentOptions","components/ChangeMapMenu.vue","115","Chartsfactory","CHARTS","_ref$hooks","_type$split","_type$split2","_type$split2$","library","_type$split2$2","chartType","chartVue","116","VUECOMPONENTSATTRIBUTES","_firstLayout","_options$id","_options$title","_options$open","_options$resizable","_options$info","_options$loading","_options$disabled","_options$closewhensho","sizes","setOpen","_setOpen","_setVisible","reload","_reload","handleEventsComponent","vueComponent","createVueComponent","components","propsData","_service","setInternalComponentTemplate","getOpen","closeWhenViewportContentIsOpen","_events","_open$when","_open$cb","guiEvents","insertComponentAt","removeCompomentAt","popComponent","setComponents","exendComponents","getInternalComponent","internalComponentClass","_options$events","$on","vueObjOptions","addInternalComponentData","overwriteServiceMethod","methodName","overwriteServiceMethods","methodsOptions","extendService","serviceOptions","extendInternalComponent","internalComponentOptions","extendInternalComponentMethods","extendInternalComponentComponents","extendComponents","extendInternalComponentComputed","computed","getInternalTemplate","mount","iCinstance","$nextTick","localize","unmount","$off","$destroy","ismount","$emit","117","buildSidebar","_options$collapsible","_options$isolate","_options$mobile","_options$iconConfig","_options$sidebarOptio","118","matcher","searchItem","modifiedData","errorLoading","searching","inputTooShort","remainingChars","minimum","119","_FieldText","_FieldText2","_FieldLink","_FieldLink2","_FieldImage","_FieldImage2","_FieldGeo","_FieldGeo2","_FieldMedia","_FieldMedia2","_FieldVue","_FieldVue2","simple_field","text_field","link_field","image_field","geo_field","photo_field","media_field","vue_field","components/FieldGeo.vue","components/FieldImage.vue","components/FieldLink.vue","components/FieldMedia.vue","components/FieldText.vue","components/FieldVue.vue","120","URLPattern","PhotoPattern","FieldType","SIMPLE","GEO","LINK","PHOTO","PHOTOLINK","POINTLINK","ROUTE","VUE","fieldValue","photo","isSimple","isLink","isImage","isPhoto","isVue","_ref2$field","resetConfigFieldType","_ref3$field","./fields","121","eventBus","setInitForm","_setInitForm","setFormStructure","formStructure","formstructure","setFormFields","handleFieldsWithExpression","setupFields","_setupFields","setFormData","setField","addActionsForForm","actions","postRender","formId","_options$buttons","buttons","context_inputs","isnew","_options$footer","headerComponent","layerid","disabledcomponents","currentheaderid","tovalidate","componentstovalidate","filter_expression_fields_dependencies","default_expression_fields_dependencies","default_expression_fields_on_update","listenChangeInput","changeInput","evaluateFilterExpressionFields","evaluateDefaultExpressionFields","setUpdate","_options$force","expression_dependency_field","_getField","fieldForm","_handleFieldWithFilterExpression","_filter_expression$re","referencing_fields","_filter_expression$re2","referenced_columns","dependency_fields","dependency_field","_handleFieldWithDefaultExpression","_default_expression$r","_default_expression$r2","_default_expression$a","apply_on_update","setCurrentFormPercentage","setValidComponent","getValidComponent","mutually","countNoTEmptyInputName","inputname","previous","min_field","max_field","input_name","addComponents","_component$header","replaceComponent","disableComponent","disableId","disabledId","setCurrentComponentById","setIdHeader","setRootComponent","getRootComponent","isRootComponent","getComponentById","setComponent","addedComponentTo","formcomponent","addedcomponentto","addToValidate","removeToValidate","getEventBus","handleRelation","clearAll","saveDefaultExpressionFieldsNotDependencies","alreadyRequestDefaultExpressionFields","defaultExpressionPromises","dFs","_loop2","_ret2","delegateYield","122","addBodyFormComponent","_ref$where","where","addBodyFormComponents","_ref2$components","_ref2$where","addFormComponents","addFormComponent","addDependecyComponents","addComponentBeforeBody","addComponentAfterBody","addComponentBeforeFooter","addComponentAfterFooter","setModal","reloadLayout","_Form","components/Form.vue","123","CheckBoxService","validatorOptions","convertCheckedToValue","convertValueToChecked","valueToCheck","gui/inputs/service","124","_InputCheckbox","CheckBoxInput","components/InputCheckbox.vue","125","_InputColor","TextInput","components/InputColor.vue","126","DateTimePickerService","getLocale","applicationConfig","setValidatorOptions","127","_InputDateTimePicker","DateTimePickerInput","components/InputDateTimePicker.vue","128","FloatService","129","_InputFloat","FloatInput","components/InputFloat.vue","130","_InputBase","_InputBase2","InputServices","Input","baseInputMixin","baseinput","notvalid","_notvalid","setErrorMessage","state.value","destroyed","./services","components/InputBase.vue","131","text_input","texthtml_input","textarea_input","integer_input","string_input","float_input","radio_input","check_input","range_input","datetimepicker_input","unique_input","select_input","media_input","select_autocomplete_input","picklayer_input","color_input","slider_input","lonlat_input","./checkbox/vue/checkbox","./color/vue/color","./datetimepicker/vue/datetimepicker","./float/vue/float","./integer/vue/integer","./lonlat/vue/lonlat","./media/vue/media","./picklayer/vue/picklayer","./radio/vue/radio","./range/vue/range","./select/vue/select","./sliderrange/vue/sliderrange","./text/vue/text","./textarea/vue/textarea","./texthtml/vue/texthtml","./unique/vue/unique","132","IntegerService","133","_InputInteger","IntegerInput","components/InputInteger.vue","134","LonLatService","coordinatebutton","mapEpsg","mapControlToggleEventHandler","toggleGetCoordinate","outputEpsg","eventMapKey","setCoordinateButtonReactiveObject","startToGetCoordinates","stopToGetCoordinates","deactiveMapControls","_coordinate","135","_InputLonLat","LatLontInput","components/InputLonLat.vue","136","MediaService","137","_InputMedia","MediaInput","components/InputMedia.vue","138","PickLayerService","pick_type","ispicked","isPicked","unpick","pick","afterPick","_response$0$data","removeInteraction","139","_InputPickLayer","PickLayerInput","components/InputPickLayer.vue","140","RadioService","141","_InputRadio","RadioInput","components/InputRadio.vue","142","RangeService","_options$state$input$","Validators","setValidator","isValueInRange","core/utils/validators","143","_InputRange","RangeInput","components/InputRange.vue","144","SelectService","_getLayerById","addValue","getKeyByValue","arrayValues","_arrayValues","$value","_ref2$layer_id","_ref2$key","_ref2$value","search_value","145","_InputSelect","SelectInput","components/InputSelect.vue","146","setValue","setEmpty","_validator","getValue","addValueToValues","_getValidatorType","isObject","getValidator","147","InputsServices","textarea","texthtml","media","select_autocomplete","picklayer","lonlat","./checkbox/service","./datetimepicker/service","./float/service","./integer/service","./lonlat/service","./media/service","./radio/service","./range/service","./select/service","./service","./sliderrange/service","./unique/service","148","SliderRangeService","changeInfoMessage","149","_InputSliderRange","components/InputSliderRange.vue","150","_InputText","components/InputText.vue","151","_InputTextArea","TextAreaInput","components/InputTextArea.vue","152","_InputTextHtml","TextHtmlInput","components/InputTextHtml.vue","153","UniqueService","154","_InputUnique","UniqueInput","components/InputUnique.vue","155","OnClikControl","geoScreenshotControl","ControlsFactory","create","ControlClass","CONTROLS","zoombox","zoomtoextent","querybbox","querybypolygon","streetview","scaleline","overview","geocoding","addlayers","mouseposition","screenshot","geoscreenshot","querybydrawpolygon","zoomhistory","nominatim","g3w-ol/controls/addlayers","g3w-ol/controls/areacontrol","g3w-ol/controls/geocodingcontrol","g3w-ol/controls/geolocationcontrol","g3w-ol/controls/geoscreenshotcontrol","g3w-ol/controls/lengthcontrol","g3w-ol/controls/mousepositioncontrol","g3w-ol/controls/olcontrol","g3w-ol/controls/querybboxcontrol","g3w-ol/controls/querybydrawpolygoncontrol","g3w-ol/controls/querybypolygoncontrol","g3w-ol/controls/querycontrol","g3w-ol/controls/resetcontrol","g3w-ol/controls/scalecontrol","g3w-ol/controls/streetviewcontrol","g3w-ol/controls/zoomboxcontrol","g3w-ol/controls/zoomhistorycontrol","156","MapService","hidemaps","mapcontrolsalignement","mapcontrolDOM","mapcontrolready","mapcontrolSizes","minWidth","minHeight","mapControl","currentIndex","map_info","mapunits","viewer","maps_container","_layersStoresEventKeys","_keyEvents","g3wobject","eventemitter","_changeMapMapControls","_externalMapLayers","_externalLayers","_externalInteractions","mapBaseLayers","defaultsLayers","highlightLayer","selectionLayer","layersExtraParams","_greyListenerKey","_drawShadow","outer","inner","_howManyAreLoading","_layersLoadingError","_incrementLoaders","showSpinner","_decrementLoaders","hideSpinner","_mapLayerLoadError","notify","keysetCurrentProject","_removeListeners","isSameProject","changeProjectCallBack","_resetView","_setupAllLayers","_checkMapControls","setUpMapOlEvents","who","_setupListeners","_marker","_bboxLayer","_setupCustomMapParamsToLegendUrl","setupControls","_setupControls","addHideMap","_ref$switchable","mainview","switchable","idMap","updateMapView","updateMapLayers","setupViewer","_setupViewer","controlClick","loadExternalLayer","unloadExternalLayer","_onCatalogSelectLayer","catalogSelectedLayer","extraParamsSet","getMapLayers","_setUpEventsKeysToLayersStore","_removeEventsKeysToLayersStore","_wms","WFSProvider","olhelpers","dynamicLegend","keyEvent","keyolchangeresolution","_updateMapView","keyolmoveeend","eventObject","removeListener","showMapSpinner","hideMapSpinner","getScaleFromExtent","getResolutionForExtent","getMapUnits","_addHideMap","_ref2$mainview","view_options","_idMap$map$getSize","_idMap$map$getSize2","setSize","removeHideMap","_showHideMapElement","_ref3$show","createMapImage","background","getMapCanvas","msToBlob","toBlob","getApplicationAttribution","_config$group","header_terms_of_use_link","header_terms_of_use_text","slaveOf","sameLayers","setLayersExtraParams","viewport","isMapHidden","isAxisOrientationInverted","getViewerElement","getGetFeatureInfoUrlForLayer","getMapLayerForLayer","lyr","getVectorLayerFeaturesFromCoordinates","intersectGeom","getIntersectedFeatures","intersectsExtent","getQueryLayerByCoordinates","getQueryLayerPromiseByCoordinates","activeMapControl","controlName","createMapControl","_ref7$add","_ref7$toggled","_ref7$options","addControl","addScaleLineUnits","changeScaleLineUnit","scalelinecontrol","getMapControlByType","setUnits","showAddLayerModal","baseLayers","attributionControl","Attribution","mapcontrols","controlType","zoomInLabel","zoomOutLabel","coordinateLabels","coordinateFormat","undefinedHTML","mapEspg","_coordinateLabels","_crs","caller_download_id","blobImage","_bbox","setDownload","saveAs","getMapBBOX","getCookie","createStringXY","overviewproject","overviewProjectGid","overViewMapLayers","getOverviewMapLayers","viewOptions","_calculateViewOptions","mainView","currentCenter","constrainCenter","collapseLabel","collapsed","_project$state","_mapCrs","_addControlToMapControlsLeftBottom","getMapControls","setZIndexLayer","_ref10$zindex","zindex","setZIndex","getLayerZindex","getZIndex","zoomToFid","_zoom_to_fid$split","_zoom_to_fid$split2","zoom_to_fid","handleZoomToFeaturesUrlParameter","_zoom_to_features$spl","_zoom_to_features$spl2","layerNameorIdorOrigname","fieldsValuesSearch","_ref15$zoom_to_featur","zoom_to_features","_ref15$search_endpoin","getMapExtent","addMapExtentUrlParameterToUrl","map_extent","getMapExtentUrl","createCopyMapExtentUrl","_setMapControlsGrid","rC","rows","columns","_rC","_rC2","_setMapControlsInsideContainerLenght","setMapControlsAlignement","alignement","getMapControlsAlignement","isMapControlsVerticalAlignement","setMapControlsVerticalAlignement","setMapControlsHorizontalAlignement","flipControlsHorizontally","flipMapControlsVertically","mapcontrolsalignment","setMapControlsContainer","mapControlDom","_updateMapControlsLayout","changedAndMoreSpace","space","handleVerticalMapControlDOMElements","mapControslHeight","bottomMapControls","bottomMapControlTop","freeSpace","nextHeight","_mapControslHeight","mapControlsWidth","_setMapControlVisible","_ref18$visible","_addControlToMapControls","display","addToMapControls","placement","$mapElement","getTarget","registerControl","showControls","hideControls","toggleControls","showAllControls","hideAllControls","_removeControls","controlObj","_layoutControls","removeControlById","ctrlIdx","removeControl","_this15","_this16","_unToggleControls","_ref20$close","disableClickMapControls","addMapLayers","mapLayers","_this17","addMapLayer","addLayerToMap","getMapLayerByLayerId","multilayerId","getProjectLayer","_setSettings","_viewer$map$getSize","_viewer$map$getSize2","maxxRes","minyRes","getHeight","getMaxResolution","setView","_this18","URLSearchParams","lat_lon","x_y","maxyRes","initxRes","inityRes","_this19","background_color","getInteractions","_watchInteraction","stopEvent","setLayerZIndex","moveDefaultLayersOnTop","layerZIndex","_setBaseLayerListenerKey","layerStoreId","eventObj","_this20","addLayerKey","removeLayerKey","_this21","_setupBaseLayers","_setupMapLayers","_setupVectorLayers","_setUpDefaultLayers","_this22","baseMapLayer","registerMapLayerListeners","reverseBaseLayers","_this23","_setMapProjectionToLayers","qtimeseries_multilayerid_split_values","multiLayerId","sub_layer","_this24","mapVectorLayer","removeDefaultLayers","setDefaultLayerStyle","resetDefaultLayerStyle","_removeBaseLayers","_removeMapLayers","removeExternalLayers","removeAllLayers","_ref26$zindex","_this25","createMapLayer","projectLayers","overviewMapLayers","updateMapLayer","_ref29$showSpinner","g3w_time","_this26","_this27","registerMapLayerLoadingEvents","unregisterMapLayerLoadingEvents","unregisterMapLayerListeners","elId","getCurrentToggledMapControl","_options$active","untoggleMapControls","_this28","getActive","showMapInfo","_ref31","hideMapInfo","getGeometryAndExtentFromFeatures","geometryCoordinates","featureExtent","_featureExtent","olClassGeomType","highlightFeatures","_getGeometryAndExtent","highlightGeometry","highLightGeometry","zoomToExtent","_getGeometryAndExtent2","getResolutionForZoomToExtent","compareExtentWithProjectMaxExtent","projectExtent","inside","extentResolution","goToBBox","goToWGS84","extentToWGS84","getResolutionForMeters","meters","clientWidth","clientHeight","animatingHighlight","addedFeature","clearSelectionFeatures","seSelectionLayerVisible","geometryObj","_this29","clearHighlightGeometry","customStyle","readGeometry","refreshMap","_ref32","is_hidden","updateSize","hidemap","_this30","_this31","getMapSize","setInnerGreyCoverScale","_resetDrawShadowInner","setInnerGreyCoverBBox","lowerLeftInner","upperRightInner","y_min","DEVICE_PIXEL_RATIO","x_min","y_max","x_max","startDrawGreyCover","_this32","stopDrawGreyCover","postcompose","ctx","restore","beginPath","moveTo","lineTo","closePath","translate","rotate","PI","fillStyle","textAlign","arrayMessages","fillText","_this33","changeLayerVisibility","_ref33","changeLayerOpacity","_ref34","_ref34$opacity","changeLayerMapPosition","_ref35","_ref35$position","_this34","catalogService","QueryResultService","unregisterVectorLayer","externalMapLayer","addExternalWMSLayer","_this35","_ref36","_ref36$epsg","_ref36$position","_ref36$visible","_createWMSLayer","addExternalMapLayer","_ref37","_options$position","_options$opacity","_this36","registerVectorLayer","_x56","setExternalLayerStyle","featureStyleFunction","getStyleFunction","core/layers/providers/wfsprovider","g3w-ol/g3w.ol","gui/wms/vue/wms","157","$cookie","_Map","components/Map.vue","gui/map/mapservice","158","MetadataService","_buildProjectGroupMetadata","ProjectMetadataComponent","METADATAGROUPS","general","spatial","getProjectMetadata","getLayersMetadata","getLayerMetadata","layerMetadata","showMetadata","gui/metadata/vue/components/project/project","159","_ref$state","_MetadataProject2","_MetadataProject","components/MetadataProject.vue","160","_Metadata","components/Metadata.vue","gui/metadata/metadataservice","161","internalPanel","panel","getInternalPanel","setInternalPanel","showPanel","closePanel","onShow","onClose","onResize","parentWidth","parentHeight","162","PrintComponentService","printService","_initialized","_moveMapKeyEvent","_page","_mapUnits","_scalesResolutions","isShow","printextent","setInitState","PrintPage","atlas","atlasValues","scala","dpis","formats","changeTemplate","isPreviousAtlas","_state$print$find","_clearPrint","showPrintArea","_setPrintArea","changeScale","changeRotation","_getPrintExtent","lowerleft","upperright","getOverviewExtent","xmin","xmax","ymin","ymax","overviewextent","_getOptionsPrint","setPrintAreaAfterCloseContent","stopLoading","disableSideBar","showError","startLoading","_calculateInternalPrintExtent","_state$maps$find","w","resolutionInMeters","getCoordinateFromPixel","currentScala","_setAllScalesBasedOnMaxResolution","mapScala","orderScales","orderBy","addedFirstHighestScale","handleScala","higherScale","_setInitialScalaSelect","_setCurrentScala","res","_setMoveendMapEvent","_showPrintArea","_initPrintConfig","mapComponent","renderSync","core/print/printservice","gui/print/vue/printpage","163","_Print","components/Print.vue","gui/print/printservice","164","_PrintPage","components/PrintPage.vue","165","MenuComponent","menuitems","host","_ProjectsMenu","components/ProjectsMenu.vue","166","ProjectsMenuComponent","getListableProjects","description","cbk","changeProject","gui/projectsmenu/menu","167","QueryBuilder","QueryBuilderPanel","QuerybuilderUIfactory","QueryBuilderInstance","queryBuilderDom","gui/querybuilder/vue/panel/querybuilderpanel","gui/querybuilder/vue/querybuilder","168","169","_QueryBuilder","components/QueryBuilder.vue","170","QueryResultsService","_currentLayerIds","_setRelations","_setAtlasActions","download_data","plotLayerIds","unlistenerlayeractionevents","_actions","zoomto","zoomToElement","highlightgeometry","_atlas","_projectLayerIds","zoomToResult","layersactions","actiontools","currentactiontools","currentactionfeaturelayer","layeractiontool","layersFeaturesBoxes","layerscustomcomponents","resultsQueryLayer","_vectorLayers","_addFeaturesLayerResultInteraction","toggleeventhandler","setQueryResponse","queryResponse","_addVectorLayersDataToQueryResponse","showCoordinates","showBBOX","showGeometry","setLayersData","_digestFeaturesForLayers","_orderResponseByProjectLayers","updateLayerResultFeatures","setActionsForLayers","_addComponent","addActionsForLayers","closeComponent","changeLayerResult","_changeLayerResult","activeMapInteraction","editFeature","openCloseFeatureResult","addLayersPlotIds","layerIds","getPlotIds","findPlotId","plotId","_asyncFnc","todo","zoomToLayerFeaturesExtent","goToGeometry","getApplicationService","_QueryResultsActionDownloadFormats","_QueryResultsActionDownloadFormats2","_QueryResultsActionQueryPolygonCSVAttributes","_QueryResultsActionQueryPolygonCSVAttributes2","RelationsPage","registerCustomComponent","_ref3$id","_ref3$position","unRegisterCustomComponent","componentId","addFeatureLayerToResult","getBoxId","removeFeatureLayerFromResult","downloadApplicationWrapper","downloadFnc","download_caller_id","setLoadingContent","textMessage","_layer$features","removeFeatureIndexes","features_ids","indexFindFeature","filtered","featureRemoved","newlayerfeatures","checkIfLayerHasNoFeatures","highlightFeaturesPermanently","addRemoveFeaturesToLayerResult","layeractions","resetCurrentActionToolsLayer","removeAddFeaturesLayerResultInteraction","relation_index","observable","currentactiontoolslayer","currentationfeaturelayer","is_external_layer_or_wms","hasgeometry","mouseover","hint","chartRelationIds","showQueryRelations","createActionState","opened","showRelationsChart","getAtlasByLayerId","downloads","_layer$downloads","_cbk","downloadFeatures","setCurrentActionLayerFeatureTool","ACTIONTOOLSDOWNLOADFORMATS","downloadsaction","toggleable","$set","_state2","checkFeatureSelection","addToSelection","listenClearSelection","hint_change","copyZoomToFidUrl","_ref10$dynamicPropert","dynamicProperties","propertiesObject","accumulator","getActionLayerById","_ref12$component","addCurrentActionToolsLayer","_ref13$config","setLayerActionTool","_ref14$component","_ref14$config","hint_changed","runAsyncTodo","unlistenerEventsActions","removeQueryResultLayerFromMap","getCurrentLayersIds","layerA","layerB","aIndex","bIndex","setZoomToResults","isOneLayerResult","_ref15$toggle","addLayerFeaturesToResultsAction","_layer2","addfeaturesresults","responseObject","getVectorLayerFeaturesFromQueryRequest","_x16","eventHandler","deactiveQueryInteractions","querytitle","printconfig","layerRelationsAttributes","layerTitle","_handleFeatureFoLayer","_layerObj","extractRelations","sanitizeAttribute","getRelationFieldsFromFormStructure","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","split_layer_name","layerSpecialAttributesName","_setSpecialAttributesFeatureProperty","_parseAttributes","relationField","hasImageField","_getFeatureProperties","getFeaturePropertiesAndGeometry","featureObj","attributeObj","featureAttribute","_getFeatureProperties2","_Layer$SourceTypes","showSourcesTypes","actionId","actionMethod","layerActions","layerAction","triggerLayerAction","_x19","_x20","_x21","_x22","_x23","urlTemplate","route","_x24","_x25","_x28","_query$filterConfig","isExternalFilterSelected","isLayerSelected","_printSingleAtlas","_ref19$atlas","_ref19$features","_atlas$atlas$field_na","showChart","relationData","hideChart","inputAtlasAttr","atlasLayer","showLayerDownloadFormats","layerKey","_state$query","runDownload","downloadsactions","choices","sbp_qgs_layer_id","sbp_fid","_x33","_x34","downloadGpx","layerMenu","_hideMenu","downloadXls","selectionFeature","clearSelectionExtenalLayer","addRemoveFilter","selectionFeaturesLayer","acculmulator","_addRemoveSelectionFeature","hasAlreadySelectioned","currentLayer","_x38","_x40","_x41","_layer$external","addQueryResultsLayerToMap","handlerOptions","mapServiceMethod","firstParam","saveLayerResult","_ref28$type","showRelation","nmRelationId","projectRelation","nmRelation","pushContent","currentview","crumb","changeCurrentContentOptions","backonclose","components/QueryResultsActionDownloadFormats.vue","components/QueryResultsActionQueryPolygonCSVAttributes.vue","gui/relations/vue/relationspage","171","queryResultsService","_QueryResults","components/QueryResults.vue","gui/queryresults/queryresultsservice","172","RelationsComponentService","getRelationsNM","saveRelations","buildRelationTable","rows_fid","column","rowFormStructure","173","174","_RelationsPage","_options$relation","_options$relations","_options$feature","_options$table","_options$chartRelatio","_options$currentview","previousview","components/RelationsPage.vue","gui/relations/relationsservice","175","currentProjectState","search_title","searchesObject","searches","searchtools","querybuildersearches","_querybuilder2","getCurrentProjectItems","_querybuilder","removeItem","cleanSearchPanels","panels","addTool","searchTool","searchTools","addQueryBuilderSearch","querybuildersearch","removeTool","services/querybuilder","176","SearchPanelComponent","_SearchPanel","components/SearchPanel.vue","177","SearchService","_mapService$getMap$ge","_mapService$getMap$ge2","heigth","hideSidebar","_run","forminputs","_config$options","querylayerid","otherquerylayerids","inputdependance","inputdependencies","cachedependencies","searchLayer","queryurl","searchLayers","createInputsFormFromFilter","_data3","NONVALIDVALUES","filterLenght","_ref2$filter","forminput","op","_forminput$options","dependance","dependance_strict","getValuesFromField","valuesToKeysValues","setInputDependencies","master","slave","_values","getReturnType","setReturnType","returnType","getAutoFieldDependeciesParamField","fieldDependency","getCurrentFieldDependance","_Object$entries$","createFieldsDependenciesAutocompleteParameter","_ref3$fields","dependendency","fieldParam","getFilterInputFromField","_Object$entries$2","_field2","_getFilterInputFromFi","encodeURI","uniqueValues","getUniqueValuesFromField","getValueRelationValues","getValueMapValues","_x5","_field$options","_ref6$data","autocompleteRequest","doSearch","_ref14$features","_relation$fieldRef","dataPromise","add_panel","_ref13$queryUrl","_ref13$show","createFilter","autozoom_query","search_1n_relationid","showEmptyOutputs","showCustomOutputDataPromise","filterValidFormInputs","createQueryFilterFromConfig","createOperatorObject","inputObj","createBooleanObject","evalObject","booleanOperator","booleanObject","queryFilter","_getExpressionOperatorFromInput","dependanceCascadeField","_getCascadeDependanciesFilter","_currentValue","getDependanceCurrentValue","fillDependencyInputs","_ref19$subscribers","subscribers","_ref19$value","isRoot","invalidValue","subscribe","_allvalues","notAutocompleteSubscribers","rootValues","cachedValue","dependenceCurrentValue","_cachedValue","dependenceValue","fieldParams","_values2","_dependenceValue","_x17","getDependencies","createQueryFilterObject","_ref23$ogcService","_ref23$filter","getInfoFromLayer","setSearchLayer","getSearchLayer","178","_searches_searchtools","_Search","components/Search.vue","gui/search/service","179","180","_SpatialBookMarks","SpatialBookMarksComponent","components/SpatialBookMarks.vue","181","_StreetView","components/StreetView.vue","182","PAGELENGTHS","TableService","currentPage","getHeaders","allfeaturesnumber","nopaginationsfilter","selectedfeaturesfid","relationsGeometry","relationLayer","child_field","paginationfilter","mapBBoxEventHandlerKey","clearAllSelection","selectAll","pageLengths","allfeatures","pagination","nofilteredrow","_async","filterChangeHandler","emitRedraw","reloadData","setDataForDataTable","addRemoveSelectedFeature","_size","createFeatureForSelection","_returnGeometry","getAllFeatures","LoadedFeaturesId","switchSelection","filterFeatures","_selected","checkSelectAll","clearLayerSelection","selectAllFeatures","_paginationParams","featurescount","paginationParams","setFilteredFeature","featuresIndex","_ref6$start","_ref6$order","_ref6$length","_ref6$columns","_ref6$search","_ref6$firstCall","firstCall","searchText","dir","getDataPromise","recordsFiltered","recordsTotal","setInBBoxParam","resetMapBBoxEventHandlerKey","getDataFromBBOX","tableFeature","tabledata","_tabledata$data","_setLayout","zoomAndHighLightFeature","zoomAndHighLightGeometryRelationFeatures","promisesData","183","_Table","_Table2","TableComponent","showContent","components/Table.vue","gui/table/tableservice","184","185","toolsGroups","_addTool","_addTools","_addToolGroup","_removeToolGroup","_removeTools","_project$getState","_project$getState$too","toolName","_tools","ToolsService","ACTIONS","_removeTool","toolIdx","updateToolsGroup","groupConfig","_group","_ref2$state","toolGroup","186","toolsService","_Tools","components/Tools.vue","gui/tools/service","187","BarStack","_parent","contentsdata","_mount","_unmount","unmountRequests","getContentData","getCurrentContentData","getPreviousContentData","jQuery","_setJqueryContent","isString","jqueryEl","_checkDuplicateVueContent","_setVueContent","_setDOMContent","idxToRemove","188","barstack","./barstack","189","ContentsViewerComponent","stack","Stack","_ViewportContentsViewer","_options$push","addContent","clearContents","updateContentVisibility","removeContent","popContent","getComponentByClass","componentClass","contentdata","contentsEls","nextTick","outerHeight","components/ViewportContentsViewer.vue","gui/utils/utils","190","_options$wmsurls","wmsurls","adminwmsurls","localwmsurls","loadClientWmsUrls","_wmslayerspanel","_wmslayerspanel2","getLocalWMSData","updateLocalWMSData","deleteWms","changeLayerData","loadWMSLayerToMap","wmsurl","wmsConfigLayers","getRequestStatusObject","_ref6$error","_ref6$added","addNewUrl","localid","localurl","getWMSLayers","showWmsLayersPanel","checkIfWMSAlreadyAdded","_ref10$layers","addedLayers","deleteWmsUrl","loadWMSDataAndShowWmsLayersPanel","info_formats","abstract","map_formats","_ref15$visible","_ref15$layers","addWMSlayer","wmsLayerConfig","_ref17$name","_ref17$layers","_ref17$opacity","_ref17$visible","getLocalItem","alldata","setLocalItem","gui/wms/vue/panel/wmslayerspanel","191","WmsLayersPanel","WMSLayersPanelComponent","_WMSLayersPanel","components/WMSLayersPanel.vue","192","_service2","_WMS","components/WMS.vue","gui/wms/service","193","_ref$steps","currentStep","deep","alignSelf","listStyle","padding","ismobile","marginBottom","fontWeight","marginRight","directive","flexDirection","dynamic","btn-success","g3w-disabled","194","_vueCookieLaw","_vueCookieLaw2","_HeaderItem","_HeaderItem2","LayoutManager","navbarMenuSlimscroll","navbarMenuSlimscrollWidth","navbarMenuHeight","animationSpeed","sidebarToggleSelector","sidebarPushMenu","sidebarSlimScroll","sidebarExpandOnHover","enableBoxRefresh","enableFastclick","enableControlSidebar","controlSidebarOptions","toggleBtnSelector","slide","enableBoxWidget","boxWidgetOptions","boxWidgetIcons","boxWidgetSelectors","directChat","contactToggleSelector","colors","lightBlue","red","green","aqua","yellow","blue","navy","teal","olive","lime","orange","fuchsia","purple","maroon","black","gray","screenSizes","xs","sm","md","lg","_init","activate","fix","fixSidebar","neg","window_height","sidebar_height","postSetWidth","controlSidebar","slimScroll","touchScrollStep","pushMenu","toggleBtn","expandOnHover","screenWidth","menu","$this","checkElement","is","slideUp","parent_find_active","parents","parent_li","li_siblings","treeviewHeight","slideDown","floatBar","sidebar","bg","_fix","_fixForFixed","_fixForContent","max-height","padding-bottom","boxWidget","selectors","icons","_box","box","box_content","addRefreshButton","boxRefresh","overlay","onLoadStart","onLoadDone","log","rBtn","activateBox","listCustomPlugin","todolist","onCheck","ele","onUncheck","iCheck","LayoutManagerOptions","slimscroll","alwaysVisible","FastClick","attach","resizeMixin","customcredits","appState","current_custom_modal_content","cookie_law_buttonText","HeaderItem","CookieLaw","languages","appconfig","staticurl","powered_by","clienturl","g3w_suite_logo","credits_logo","logo_url","logo_project_url","mediaurl","logo_img","logo_link","getLogoLink","logo_link_target","project_title","username","login_url","numberOfProjectsInGroup","showChangeMap","frontendurl","main_title","main_map_title","group_name","slug","templateResultLanguages","max_width","$refs","navbar_toggle","navbar","mainnavbar","main_title_project_title","maxWidth","logoWidth","showCustomModalContent","_custom_modals$find","custom_modals","custommodal","sidebarService","openProjectsMenu","openChangeMapMenu","_language","currentlanguage","beforeCreate","delayType","delayTime","custom_header_items_position","0","customlinks","header_custom_links","customitem","mounted","rightNavBarElements","elementLenght","controlsidebarEl","setFloatBarMaxHeight","setModalHeight","innerHeight","rightNavbarWidth","img_logo","__vue__options__","_vm","_h","$createElement","_c","_self","rawName","staticClass","buttonText","slot","_v","ref","role","data-toggle","data-target","staticStyle","font-size","max-width","text-align","overflow","margin","_l","show-custom-modal-content","first_name","last_name","admin_url","logout_url","margin-right","templateSelection","templateResult","$event","$$selectedVal","multiple","domProps","paddingTop","tabindex","data-backdrop","data-keyboard","aria-labelledby","_m","flex-direction","justify-content","justify-items","align-items","background-color","border-radius","alt","margin-top","margin-left","line-height","font-weight","staticRenderFns","data-dismiss","aria-label","components/HeaderItem.vue","vue-cookie-law","195","showdata","Boolean","selectitems","setDataOffset","getSelectedItems","selectItem","unselectItem","unselect","selectItems","unselectItems","unselectAll","_setAllowedSpace","querySelector","offsetHeight","_setMaxMin","axis","dataValues","changeItems","changeItem","_ref4$render","onselected","_temp","onunselected","selectitem","generate","bindto","min-height","change-item","change-items","select-item","select-all","unselect-all","unselect-item","196","_catalogeventhub","_catalogeventhub2","_CatalogChangeMapThemes","_CatalogChangeMapThemes2","_CatalogLayerContextMenu","_CatalogLayerContextMenu2","DEFAULT_ACTIVE_TAB","$options","showlegend","currentBaseLayer","activeTab","changemapthemes","cataloglayercontextmenu","showTocTools","_project$state$map_th","hasBaseLayers","hasLayers","layerstresslength","changeStyleLayersId","delegationClickEventTab","showLegend","setBaseLayerId","getSrcBaseLayerImage","customimage","getResourcesUrl","state.external.wms","newlayers","oldlayers","state.prstate.currentProject","oldproject","immediate","layerpositions","oldValue","beforeMount","contextmenu","!click","aria-controls","data-i18n","change-map-theme","_layerstree","parentFolder","legendplace","parent_mutually_exclusive","externallayers","layersgroup","gridTemplateColumns","components/CatalogChangeMapThemes.vue","components/CatalogLayerContextMenu.vue","gui/catalog/vue/catalogeventhub","197","current_map_theme","margin-bottom","border-bottom","white-space","text-overflow","menu-open","_q","for","_scopeId","198","_vueColor","_LayerOpacityPicker","_LayerOpacityPicker2","shpwrite","OFFSETMENU","data_table","colorMenu","stylesMenu","metadatainfoMenu","chrome-picker","Chrome","layer-opacity-picker","click-outside-layer-menu","binding","vnode","removeEventListener","addLayerMenuItem","closeLayerMenu","showColorMenu","onbeforeDestroyChangeColor","color_picker","onChangeColor","canShowWmsUrl","originalLayer","canShowWfsUrl","canDownloadXls","canDownloadGpx","canDownloadGpkg","canDownloadCsv","canDownloadGeoTIFF","canDownloadShp","ancorEement","tempInput","copywmsurltooltip","downloadGeoTIFF","downloadShp","downloadCsv","downloadGpkg","setWMSOpacity","zoomToLayer","canZoom","downloadExternalShapefile","EPSG4326","GeoJSONFile","clonefeature","writeFeaturesObject","point","mulipoint","multipolygon","polyline","multiline","showAttributeTable","tableContent","startEditing","catallogLayersStores","setCurrentLayerStyle","showSubMenuContext","menuentry","submenu","maxH","maxHeight","overflowY","showStylesMenu","showMetadataInfo","getStyleName","_x13","layer-position-change","currentTarget","padding-left","padding-right","init-menu-item","show-menu-item","hook:beforeDestroy","model","$$v","sync","change-range","bottom","data-placement","components/LayerOpacityPicker.vue","gui/table/vue/table","shp-write","vue-color","vueify/lib/insert-css","199","currentstyle","showfeaturecount","externallegend","getWmsSourceLayerLegendUrl","showHideLayerCategory","mapReady","setLayerCategories","setError","urlLoaded","onChangeLayerLegendStyle","_ref4$nodes","_setAllLayerCategories","_updateLayerCategories","_ref5$symbols","symbols","symbol","_ref6$symbols","findSymbol","registerChangeMapLegendParamsEvent","runInitLayerVisibleAction","initialize","layer.visible","layerVisible","200","border","201","visiblelayers","_visiblelayers","old","202","legendurls","getLegendSrc","changeLayersLegend","catalogLayer","getLegendUrlParams","urlLayerName","paramsUrl","legend_on","legend_off","urlMethodsLayersName","urlLayersName","_prefix$split","_prefix$split2","_prefix$split3","_prefix$split4","_urlLayersName","_url2","_url3","econdedParams","_url3$split","_url3$split2","_param$split","_param$split2","legendUrlObject","203","_CatalogLayerLegend","_CatalogLayerLegend2","CLICK_EVENT","timeoutID","handleClick","layerlegend","isGroupChecked","controltoggled","n_childs","showLegendLayer","showLayerTocLegend","isGroup","legendlayerposition","showscalevisibilityclass","showScaleVisibilityToolip","isHighLight","_isHighLightProjectLayer","_isHighLightExternalLayer","isInGrey","total","categoryFeatureCount","layerstree.disabled","layerstree.checked","handleGroupChecked","handleLayerChecked","uncheckable","setAllLayersVisible","layerObject","_layerObject$projectL","toggleFilterLayer","clearSelection","expandCollapse","onTreeItemClick","triClass","downloadExternalLayer","showLayerMenu","itemmarginbottom","marginLeft","bold","toc-added-external-layer","paddingLeft","modifiers","highlightlayer","scalevisibility","current-tooltip","_k","legendConfig","components/CatalogLayerLegend.vue","204","currentProjectGroupId","ImageError","g3w_logo","header_logo_img","showGroups","showRoot","macrogroupsandgroups","getApplicationUser","showProjects","setItemImageSrc","map_url","_location","srid","changeMapProject","getBaseUrl","setSrc","imageSrc","getCurrentProjectGroup","isMacroGroup","macrogroup","findGroup","205","fontSize","_t","word-wrap","206","fieldsService","207","geoMixin","showLayer","208","_Field","_Field2","galleryId","Field","getSrc","showGallery","modal","getGalleryImages","images","components/Field.vue","209","openLink","link_url","210","mediaMixin","getMediaType","211","212","vueoptions","213","_floatbar","_floatbar2","panelsinstack","panelname","stack.contentsdata","services/floatbar","214","_FormHeader","_FormHeader2","switchcomponent","g3wformheader","G3wFormFooter","transitions","addremovetransition","backToRoot","_ref$disabled","resizeForm","switchComponent","footerDOM","g3w_form_footer","bodyFromDOM","g3wform_body","footerHeight","bodyHeight","updated","currentid","resize-form","clickheader","hook:activated","addtovalidate","removetovalidate","changeinput","components/FormHeader.vue","215","tabs","addinput","removeinput","216","originalbuttons","button","enableSave","exec","btnEnabled","_button$enabled","state.component","state.update","eventButtons","activated","deactivated","217","item_selected","218","backgroundColor","bar-loader","219","minDate","maxDate","enabledDates","datetimevalue","date","datetimeinputelement","iddatetimepicker","defaultDate","useCurrent","allowInputToggle","showClose","locale","toolbarPlacement","widgetPositioning","horizontal","datetime","mindatetime","maxdatetime","dates","220","221","carouselId","isActive","isRelativePath","startsWith","data-interval","data-slide","222","223","224","_GlobalGallery","_GlobalGallery2","g3w-images-gallery","components/GlobalGallery.vue","225","layerposition","226","progress","borderRadius","justifyContent","skin-background-color","227","labelValue","showValue","changeBackGround","backgroundSize","changedValue","emitChangeValue","align-self","__r","228","orientation","moveFnc","wrapMoveFnc","domElementMoveListen","$attrs","mousedown","229","toggleFull","toggleFullViewContent","resetToDefault","resetToDefaultContentPercentage","230","231","_name$props$component","_tabservice","_tabservice2","_GlobalTabsNode","_GlobalTabsNode2","showRelationByField","Node","required_fields","setVisibility","visibility_expression","setEditingRequireTab","getField","root_tabs","tab_node","root_tab","group-title","in active","showTitle","components/GlobalTabsNode.vue","core/expression/tabservice","232","G3wInput","editing_required","filterNodes","getNodeType","nodesLength","rowCount","columnNumber","rest","columnCount","columncount","showGroupTile","showlabel","groupbox","loadingRelation","relation_project","isRelationDisabled","getRelationName","isRelationChildLayerNotEditable","getNodes","startIndex","getNode","_b","$props","text-transform","233","showCustomModal","imagelink","img","234","showHideHelp","loadingState","235","widgetMixins","setLabel","changeCheckBox","widgetChanged","stateValueChanged","input-error-validation","tabIndex","$$a","$$el","$$c","$$i","gui/inputs/input","236","composing","237","uniqueValue","widget_container","idinputdatetimepiker","domeDataPicker","timeOnly","stateValue","datetimefieldformat","datetimedisplayformat","_state$input$options","_state$input$options$","_state$input$options$2","_formats$","fieldformat","disabledDates","displayformat","vertical","toDate","ignoreReadonly","widgetParent","datimewidget_container","newDate","_$refs$datetimepicker","datetimepicker_body","getBoundingClientRect","readonly","238","239","border-top","240","show_required_field_message","241","242","lonId","latId","getCoordinateActive","changeLonLat","243","InputMixins","MediaField","g3w-media","mediaid","onClick","createImage","reader","FileReader","readAsDataURL","checkFileSrc","clearMedia","formData","fileupload","dataType","border-style","border-width","data-url","uploadurl","244","pickLayer","pickservice","gui/inputs/picklayer/service","245","radio_value","246","checkValue","keydown","247","PickLayerInputService","InputMixin","G3W_SELECT2_NULL_VALUE","selectMixin","select2Mixin","showPickLayer","picked","showNullOption","nullOption","select2NullValue","state.input.options.values","stateInputOptionsValues","findvalue","keyvalue","pickLayerValue","pickLayerInputService","changeSelect","setAndListenSelect2Change","dependencyLayerId","dependencyLayer","selectElement","getLanguage","minimumInputLength","allowClear","transport","failure","resetValues","processResults","more","248","state.input.options.min","state.input.options.max","249","keyup","mobileChange","250","min-width","251","setupTableCustomTools","buttonColumnLeft","buttonColumnRight","buttonColumnRemove","buttonRowAbove","buttonRowBelow","buttonRowRemove","edit_state","edit","show_html","edit_states","toolbarOptions","align","quill","Quill","quill_editor","modules","toolbar","handlers","innerText","qlformat","column-left","insertColumnLeft","column-right","insertColumnRight","column-remove","deleteColumn","row-above","insertRowAbove","row-below","insertRowBelow","row-remove","deleteRow","getModule","novalid","252","253","setLayerOpacity","showLayerOpacityMenu","layerOpacity","254","_MapAddLayer","_MapAddLayer2","_MapFooter","_MapFooter2","_$options","addlayer","MapFooter","disableMapControls","showHideControls","mapControls","_ref3$layers","_ref3$mainview","_ref3$switchable","components/MapAddLayer.vue","components/MapFooter.vue","255","_toArray","SUPPORTED_FORMAT","CSV_SEPARATORS","box-shadow","MAPEPSG","accepted_extension","separators","hex","csv_extension","setLayerMapPosition","clearError","onAddLayer","input_file","promiseData","files","csv_data","_csv_data","handle_csv_headers","csv_headers","headers_length","readAsText","modal_addlayer","clearLayer","csv.x","csv.y","accept","256","history","setMapExtent","hasEmptyHistory","changeKeyEvent","gap","257","_MapFooterRight","_MapFooterRight2","_MapFooterLeft","_MapFooterLeft2","MapFooterRight","MapFooterLeft","components/MapFooterLeft.vue","components/MapFooterRight.vue","258","259","switch_icon","epsg_4326","mapunit","showmapunits","switchMapsCoordinateTo4326","260","261","metadataMixin","isSpatial","showHideInfo","findAttributeFormMetadataAttribute","findMetadataAttribute","keywords","metadataurl","onlineresources","dataurl","262","_MetadataLayer","_MetadataLayer2","_MetadataProjectTabContent","_MetadataProjectTabContent2","_MetadataProjectBBoxContent","_MetadataProjectBBoxContent2","_MetadataProjectContactsContent","_MetadataProjectContactsContent2","iconsClass","metadata-layer","metadata-tab-content","metadata-bbox-content","metadata-contacts-content","isArrayorObject","components/MetadataLayer.vue","components/MetadataProjectBBoxContent.vue","components/MetadataProjectContactsContent.vue","components/MetadataProjectTabContent.vue","263","bboxlabels","264","contactelectronicmailaddress","personprimary","contactvoicetelephone","sanitizeValue","geti18n","subvalue","265","arrayToString","266","_navbaritems","_navbaritems2","services/navbaritems","267","268","269","270","271","_PrintSelectAtlasFieldValues","_PrintSelectAtlasFieldValues2","_PrintFidAtlasValues","_PrintFidAtlasValues2","SelectAtlasFieldValues","FidAtlasValues","setDisabledPrintButton","setAtlasValues","onChangeTemplate","onChangeScale","onChangeFormat","onChangeDpi","onChangeRotation","disable-print-button","set-values","overflow-y","components/PrintFidAtlasValues.vue","components/PrintSelectAtlasFieldValues.vue","272","validateValue","addRangeToValues","rangeLenght","canAdd","print_atlas_fid","273","disableddownloadbutton","downloadImageName","downloadImage","state.url","stateUrl","timeOut","printoutput","revokeObjectURL","274","autocompleteOptions","autocompleteMixin","emitValues","currentValue","print_atlas_autocomplete","gui/external/select2/options/autocomplete","275","fakeImage","showFullModal","html_page_title","logoSrc","menuitem","276","operators","currentlayer","manual","manualvalue","select.field","addToExpression","getValues","number_of_features","excludejoinfields","customPrefix","joinLayer","joinLayerFields","flex-wrap","skin-background-color lighten","dblclick","scope","skin-border-color","277","QueryBuilderUIFactory","showinfo","gui/querybuilder/querybuilderuifactory","278","_QueryResultsTableAttributeFieldValue","_QueryResultsTableAttributeFieldValue2","_QueryResultsActionInfoFormats","_QueryResultsActionInfoFormats2","_QueryResultsHeaderFeatureBody","_QueryResultsHeaderFeatureBody2","maxSubsetLength","headerExpandActionCellWidth","headerActionsCellWidth","HEADERTYPESFIELD","fieldsMixin","TableAttributeFieldValue","header-feature-body","onelayerresult","hasResults","getLayerCustomComponents","getLayerField","layerField","getQueryFields","getFieldType","getColSpan","attributesSubsetLength","hasLayerOneFeature","getDownloadActions","addLayerFeaturesToResults","showDownloadAction","getContainerFromFeatureLayer","hasOneLayerAndOneFeature","layerHasFeatures","layerHasActions","featureHasActions","geometryAvailable","extractAttributesFromFirstTabOfFormStructureLayers","traverseStructure","attributesSubset","_attributes","relationsAttributesSubset","relationAttributes","relationsAttributes","cellWidth","headerLength","subsetLength","diff","actionsCellWidth","headerAttributeCellTotalWidth","baseCellWidth","featureBoxColspan","colspan","expandable","relationsAttributesSubsetLength","elements","getLayerFormStructure","isAttributeOrTab","isField","getLayerAttributeFromStructureItem","getLayerFeatureBox","boxid","collapsedFeatureBox","showFeatureInfo","toggleFeatureBox","toggleFeatureBoxAndZoom","showFullPhoto","state.layers","stateLayers","requestAnimationFrame","data-widget","downloadformats","boxLayerFeature","featureIndex","showresults","showResults","components/QueryResultsActionInfoFormats.vue","components/QueryResultsHeaderFeatureBody.vue","components/QueryResultsTableAttributeFieldValue.vue","279","clickAction","originalDataTitle","280","_download","flex-grow","281","reloadLayerDataWithChangedContentType","queryService","_responseParser$get","_responseParser$get2","_queryService$getFeat","queryFeature","select2_value","282","choice","g3w_select_feature_featurepolygon","refInFor","283","_QueryResultsAction","_QueryResultsAction2","components/QueryResultsAction.vue","284","_QueryResultsActions","_QueryResultsActions2","mouseout","noAttributes","components/QueryResultsActions.vue","285","g3w-link","g3w-vue","286","_FieldG3W","_FieldG3W2","RelationPageEventBus","SIDEBARWIDTH","inject","headercomponent","downloadButton","downloadLayer","showrelationslist","relationnoback","one","createTable","downloadformatsLength","saveRelation","chartContainer","what","relationDataTable","relationtable","DataTable","bLengthChange","scrollResize","scrollCollapse","scrollX","responsive","columnDefs","orderable","targets","tableHeaderHeight","tableHeight","datatableBody","breadcrumbHeight","OtherElementHeight","query_relation","showFormStructureRow","getRowFields","adjust","$parent","setRelationsList","fieldIs","fieldType","sidebarHeaderSize","pageX","tablecontent","chartcontent","relationwrapper","toggled-white","paddingBottom","components/FieldG3W.vue","gui/relations/vue/relationeventbus","287","featureInfo","infoFeatures","noback","grid-template-columns","grid-column-gap","grid-row-gap","288","_Relations","_Relations2","_Relation","_Relation2","_$options$relation","showChartButton","provide","chartlayerid","relationName1","relationName2","save-relation","show-chart","hide-chart","components/Relation.vue","components/Relations.vue","289","_Tool","_Tool2","_QueryBuilderSearch","_QueryBuilderSearch2","g3w-tool","g3w-search-querybuilder","searchtool","components/QueryBuilderSearch.vue","components/Tool.vue","290","291","_SearchSelect","_SearchSelect2","_SearchDatetime","_SearchDatetime2","_SearchPanelLabel","_SearchPanelLabel2","Select2","SearchDatetime","SearchPanelLabel","isSelectDisabled","onFocus","scrollTop","changeDependencyFields","changeNumericInput","select-change","components/SearchDatetime.vue","components/SearchPanelLabel.vue","components/SearchSelect2.vue","292","getLabelOperator","293","emitChangeEvent","_initSelect2Element","_forminput","numdigaut","isAutocomplete","forminput.value","forminputValue","allvalue","294","_eventbus","_eventbus2","_sidebar","_sidebar2","bOpen","bPageMode","showmainpanel","componentname","closeAllPanels","gui/sidebar/eventbus","services/sidebar","295","_SidebarItemAction","_SidebarItemAction2","main","SidebarItemAction","onClickItem","openClose","anchor_click","components/SidebarItemAction.vue","296","triggerAction","297","_SpatialBookMarkItem","_SpatialBookMarkItem2","SpatialBookMarkItem","borderBottom","components/SpatialBookMarkItem.vue","298","removeBookMark","gotoSpatialBookmark","299","_SpatialBookMarkGroup","_SpatialBookMarkGroup2","_InputText2","SPATIAL_BOOKMARKS_LOCALITEMS","SpatialBookMarkGroup","InputText","showaddform","addbookmarkinput","hasProjectbookmarks","addBookMark","saveUserBookMarks","showAddForm","g3w-tools","remove-bookmark","components/SpatialBookMarkGroup.vue","300","301","_TableBody","_TableBody2","_TableSelectRow","_TableSelectRow2","_TableToolbar","_TableToolbar2","dataTable","fieldsComponents","eventHandlers","nopagination","tableBodyComponent","selectedRow","TableBody","selectAllRow","hasHeaders","createdContentBody","fieldComponent","trDomeElements","rowElement","hasGeometry","contentDOM","SelectRowClass","SelectRowInstance","fieldClass","fieldInstance","hideElements","commonDataTableOptions","debounceSearch","G3WTableToolbarClass","G3WTableToolbarInstance","setContentKey","lengthMenu","processing","sSearch","dom","searchable","attribute_table","serverData","serverSide","deferLoading","changeColumn","searchDelay","components/TableBody.vue","components/TableSelectRow.vue","components/TableToolbar.vue","302","SelectRow","hindex","tab-index","303","304","disableMapTool","rightpanel","height_100","305","AppState","TOOLSTATE","fireAction","showToolStateMessage","toolstatecolor","isCheck","tool_disabled","vertical-align","306","state.toolsGroups","G3wTool","307","COLORS","z-index","subtitle","draggable","showheader","addClassMobile","isSidebarVisible","hideShow","_position$split","_position$split2","308","_UserMessage","_UserMessage2","_NotifyOnline","_NotifyOnline2","_NotifyDownload","_NotifyDownload2","_NotifyPlugins","_NotifyPlugins2","_viewport","_viewport2","userMessage","onlineNotify","downloadNotify","pluginsNotify","updatePreviousTitle","breadcrumb","showresize","currentPerc","getCurrentContentLayout","resized","secondaryPerc","showresizeicon","showtitle","contentsData","contentTitle","_contentsData$options","post_title","backOrBackTo","showgoback","previousTitle","isNotLastCrumb","closeMap","gotoPreviousContent","viewPortSize","mapSize","pageY","contentSize","resizePercentageMap","resizePercentageContent","resizeViewComponents","handleResizeViewport","mediaQueryEventMobile","matchMedia","enter","leave","close-usermessage","aside","components/NotifyDownload.vue","components/NotifyOnline.vue","components/NotifyPlugins.vue","components/UserMessage.vue","services/viewport","309","310","inputswmsurlvalid","addwmsurl","padding-top","311","selectedlayers","filterLayerByCurrentEpsg","layerProjections","crss","firstLayer","_$options$config","$data","312","VueColor","VueCookie","regenerator-runtime","vue-cookie","313","watcher","unique_attr_id","getAttribute","314","removeAttribute","315","316","_utils","directives/utils","317","318","319","_ref$multiple","_ref$search","dropdownCssClass","320","toggleAttribute","321","322","323","324","325","_el","_ref$el","componentUpdated","oldVnode","326","327","g3wsdk","app/api","328","_App","_App2","_GlobalImage","_GlobalImage2","_GlobalGeo","_GlobalGeo2","_GlobalSkeleton","_GlobalSkeleton2","_GlobalBarLoader","_GlobalBarLoader2","_GlobalProgressBar","_GlobalProgressBar2","_GlobalHelpDiv","_GlobalHelpDiv2","_GlobalResize","_GlobalResize2","_GlobalLayerPositions","_GlobalLayerPositions2","_GlobalDateTime","_GlobalDateTime2","_GlobalRange","_GlobalRange2","_GlobalResizeIcon","_GlobalResizeIcon2","_GlobalTabs","_GlobalTabs2","_GlobalDivider","_GlobalDivider2","_Floatbar","_Floatbar2","_NavbaritemsLeft","_NavbaritemsLeft2","_NavbaritemsRight","_NavbaritemsRight2","_Sidebar","_Sidebar2","_Viewport","_Viewport2","_vDisabled","_vDisabled2","_vChecked","_vChecked2","_vSelectedFirst","_vSelectedFirst2","_vSelect","_vSelect2","_vTTooltip","_vTTooltip2","_vTHtml","_vTHtml2","_vTPlaceholder","_vTPlaceholder2","_vTTitle","_vTTitle2","_vT","_vT2","_vTPlugin","_vTPlugin2","_vPlugins","_vPlugins2","_vOnline","_vOnline2","_vDownload","_vDownload2","install","getInfo","getInfoString","_isMobile","inheritAttrs","ApplicationTemplate","appLayoutConfig","_isIframe","waitingoutputdataplace","_createApp","_createTemplateConfig","G3WTemplate","appTitle","ContentsComponent","WMSComponent","placeholders","Services","closeOpenComponents","floatbar","othercomponents","_setDataTableLanguage","_setupInterface","_setupLayout","_setUpServices","templateConfig","skinColor","_buildTemplate","_setUpTemplateDependencies","_setViewport","appendTo","languageOptions","searchPlaceholder","sLengthMenu","paginate","zeroRecords","infoFiltered","dataTableExt","oStdClasses","sFilterInput","oLanguage","_addRoutes","RouterService","getRouterService","addRoute","xy","registerService","getComponents","placeholdersConfig","_addComponents","_addOtherComponents","viewportOptions","PLACEHOLDERS","placeholderService","registerComponent","_removeComponent","unregisterComponent","_showModalOverlay","_isSidebarVisible","_showSidebar","_hideSidebar","VueApp","getTemplateInfo","errorToMessage","_error$error","_error$error$code","_error$error$data","_error$error$message","msg","resourcesurl","showList","closeList","hideList","hidePanel","showTable","closeTable","outputDataPlace","defaultOutputConfig","_options$show","outputConfig","showContentFactory","showResult","showPanelContent","showQueryResults","showForm","_options$split","formComponent","formService","closeForm","_ref12$pop","disableElement","disableContent","disablePanel","hideContent","queryResultsComponent","queryResultService","showContextualContent","getPushContent","addNavbarItem","addItem","removeNavBarItem","disableApplication","dialog","bootbox","showFloatbar","hideFloatbar","showSidebar","reloadComponents","_ref14$element","_ref14$show","setPrimaryView","viewName","showMap","showContextualMap","setContextualMapComponent","resetContextualMapComponent","pushContextualContent","getContentLength","contentLength","getCurrentContentTitle","getCurrentContentId","changeCurrentContentTitle","getCurrentContent","getProjectMenuDOM","projectVueMenuComponent","_closeUserMessageBeforeSetContent","_setContent","hideClientMenu","hideChangeMaps","getTemplateClasses","BootstrapVersionClasses","getTemplateClass","contentsComponent","_ref17$language","error_page","it","at_moment","f5","en","compiledTemplate","compile","postBootstrap","_ref18$error","statusText","./deprecated","./globals","components/App.vue","components/Floatbar.vue","components/GlobalBarLoader","components/GlobalDateTime.vue","components/GlobalDivider.vue","components/GlobalGeo.vue","components/GlobalHelpDiv.vue","components/GlobalImage.vue","components/GlobalLayerPositions.vue","components/GlobalProgressBar","components/GlobalRange.vue","components/GlobalResize.vue","components/GlobalResizeIcon.vue","components/GlobalSkeleton.vue","components/GlobalTabs.vue","components/NavbaritemsLeft.vue","components/NavbaritemsRight.vue","components/Sidebar.vue","components/Viewport.vue","directives/v-checked","directives/v-disabled","directives/v-download","directives/v-online","directives/v-plugins","directives/v-select2","directives/v-selected-first","directives/v-t","directives/v-t-html","directives/v-t-placeholder","directives/v-t-plugin","directives/v-t-title","directives/v-t-tooltip","gui/changemapmenu/changemapmenu","gui/projectsmenu/projectsmenu","gui/spatialbookmarks/vue/spatialbookmarks","gui/templates/500.html","gui/viewport/contentsviewer","329","translation","cookie_law","sign_in","layer_selection_filter","nofilter","show_features_on_map","layer_position","sdk","template_dialog","spatialbookmarks","helptext","sections","no_results","error_loading","layer_not_searchable","layer_not_querable","inputshort","pre","no_layers","download_image","fids_instruction","fids_example","querybuilder","error_run","error_test","additem","unsupported_format","add_external_layer","fees","accessconstraints","contactinformation","subfields","contactorganization","ContactOrganization","contactposition","ContactPosition","contactperson","ContactPerson","tooltips","form_to_row","row_to_form","copy_map_extent_url","download_shapefile","show_chart","add_selection","zoom_to_features_extent","add_features_to_results","remove_feature_from_results","zoom_to_feature","relations_charts","download_features_shapefile","download_features_gpx","download_features_gpkg","download_features_csv","download_features_xls","copy_zoom_to_fid_url","choiches","feature_polygon","no_geometry","querybybbox","nolayers_visible","measures","no_valid_scale","metric","nautical","zoom_last","zoom_next","relation_data","no_relations_found","back_to_relations","list_of_relations_feature","error_missing_father_field","input_validation_mutually_exclusive","input_validation_error","input_validation_min_field","input_validation_max_field","input_validation_exclude_values","bigint","varchar","qgis_input_widget_relation","current_map_theme_prefix","choose_map_theme","setwmsopacity","copied","geotiff_map_extent","wps","list_process","g3wSuiteFramework","g3wSuiteDescription","productOf","toggle_color_scheme","logout","no_other_projects","no_other_groups","yes","no","backto","changemap","change_session","create_print","dosearch","externalwms","nobaselayer","street_search","copy_form_data","paste_form_data","copy_form_data_from_feature","error_map_loading","check_internet_connection_or_server_admin","could_not_load_vector_layers","server_saver_error","server_error","cancel","enlange_reduce","reset_default","exitnosave","annul","layer_is_added","add_wms_layer","delete_wms_url","layer_id_already_added","url_already_added","layer_add_error","list_of_relations","open_link","link_button","geolocations","add_layer_control","select_projection","select_field_to_show","select_csv_separator","select_csv_x_field","select_csv_y_field","select_color","drag_layer","input_relation","catalog_items","zoomtolayer","open_attribute_table","show_metadata","vector_color_menu","layer_opacity","no_data","nodatafilterd","330","331","332","wms_layer_id_already_added","wms_url_already_added","333","_it","_it2","_en","_en2","_fi","_fi2","_se","_se2","_fr","_fr2","_de","_de2","_ro","_ro2","translations","fi","se","fr","de","ro","./de","./en","./fi","./fr","./it","./ro","./se","334","335","336","337","338","showhelpicon","339","getFieldService","_fieldsService","sanitizeFieldValue","340","341","342","formInputsMixins","_autocomplete","_autocomplete2","_fields2","_media","_media2","_geo","_geo2","_resize","_resize2","_select","_select2","_select3","_select4","_formInputs","_formInputs2","_widget","_widget2","_metadata","_metadata2","_baseInput","_baseInput2","mixins/autocomplete","mixins/base-input","mixins/fields","mixins/form-inputs","mixins/geo","mixins/media","mixins/metadata","mixins/resize","mixins/select","mixins/select2","mixins/widget","343","isMedia","344","345","DELAY_TYPE","delayWrapper","delayResize","346","usecompleter","$container","347","348","349","_apiEndpoints","apiEndpoints","howManyAreLoading","apiEndPoint","completeUrl","350","_config2","_clipboard","_clipboard2","i18ninit","onLine","complete","_applicationServices","_initConfigUrl","_initConfig","_groupId","_gid","_changeProject","replaceState","setOnline","setOffline","_setFilterToken","setApplicationUser","browserLanguage","createApplicationConfig","bootstrap","setupI18n","languageConfig","languageLabel","setApplicationLanguage","userLanguage","ajaxSetup","beforeSend","jqXHR","getDownload","loadingPlugin","loadedPlugin","_plugin","pathname","pathArray","registerOnlineOfflineEvent","registerLeavePage","_ref5$bool","_return","onbeforeunload","unregisterOnlineOfflineEvent","getApplicationLanguage","isOnline","setOfflineItem","localStorage","setItem","removeLocalItem","getItem","getOfflineItem","removeOfflineItem","getProxyUrl","proxyurl","getInterfaceOwsUrl","interfaceowsurl","getClipboardService","obtainInitConfig","initConfigUrl","getMacrogroupsGroups","header_logo_link","terms_of_use_text","terms_of_use_link","initproject","getProjectConfigUrl","views","projectPath","locationsearch","clearInitConfig","queryTuple","getInitConfig","setInitVendorKeys","getInitConfigUrl","setInitConfigUrl","_bootstrapPlugins","pluginsBaseUrl","pluginsConfigs","otherPluginsConfig","setEPSGApplication","initialized","startIFrameService","initLocalItems","iframeService","unregisterService","errorHandler","apikey","setVendorKeys","changeProjectview","isProjectViewChanging","reloadCurrentProject","projectUrl","getProjectUrl","width_default","height_default","width_100","getCurrentLayout","core/iframe/routerservice","services/clipboard","351","ClipboardService","formLayer","352","ExpressionService","_ref2$params","_ref2$contentType","core/data/service","353","OWSService","wmsCapabilities","owsUrl","354","ProxyService","proxyUrl","_ref2$method","_ref2$headers","355","QueryService","_ref$feature_count","_ref$filterConfig","_ref$multilayers","_ref$condition","_ref$layerName","_ref$excludeSelected","_ref$external","hasExternalLayersSelected","returnExceptionResponse","messagetext","_ref2$feature_count","_ref2$filterConfig","_ref2$multilayers","_ref2$condition","_ref2$excludeSelected","_ref2$addExternal","_ref2$layersFilterObj","_ref4$layerIds","_ref4$multilayers","_ref4$query_point_tol","_ref4$addExternal","layersResults","356","promisesSearch","dataSearch","_value$data","_ref5$fids","layersfids","layersresponses","_ref7$fids","_ref7$formatter","layerresponse","357","DataService","defaultoutputplaces","currentoutputplaces","ouputplaces","_dataQuery2","_dataSearch2","_dataExpression2","proxy","_dataProxy2","_dataOws2","contextAndMethod","_splitContextAndMetho","serviceName","setOutputPlaces","places","addCurrentOutputPlace","addNewOutputPlace","_ref5$method","resetDefaultOutput","_dataExpression","_dataOws","_dataProxy","_dataQuery","_dataSearch","services/data-expression","services/data-ows","services/data-proxy","services/data-query","services/data-search","358","Actions","opposite","359","FloatbarService","sidebarEl","_zindex","_modalOverlay","_modal","_isopen","isOpen","360","isready","showListing","closeListing","hideListing","hideQueryResults","push_content","setPushContent","guiResized","361","AppService","changeMap","_ref$capture","capture","_ref3$capture","getcenter","zoomtocoordinates","_params$coordinates","_params$highlight","getextent","_params$extent","zoomtofeature","_params$highlight2","362","EditingService","subscribevents","startAction","toolboxes","setSaveConfig","toolbox","stopAction","stopEditing","subscribersHandlers","activeTool","_ref4$disableToolboxe","disableToolboxes","setEnabled","setEditing","cancelform","addfeature","addFeatureTool","getToolById","addSubscribeEvents","closeeditingpanel","resetSubscribeEvents","unsubscribe","configQglLayerId","getEditableLayersId","startstopediting","toolboxPromise","setActiveTool","_options$action","startEditingPromise","stopEditingPromises","resetDefault","_g3wsdk$core$utils","core/iframe/services/plugins/service","363","IframePluginService","pendingactions","serviceNames","eventResponseServiceHandler","postMessage","attachEvent","_ref5$data","outputData","writeFeatures","stopPendingActions","_evt$data$id","_evt$data$single","single","detachEvent","core/iframe/services/index","364","navbaritemsService","365","QueryBuilderService","_cacheValues","_items","QUERYBUILDERSEARCHES","getItems","valuesField","_ref3$showResult","confirm","saveitems","editLocalItem","_querybuildersearch","_resetItems","addLocalItem","_querybuildersearches","prompt","searchService","sample","366","createUrl","_options$layer","_options$type","_options$formatter","_nmRelation$fieldRef","relationsNM","responseFids","_ref2$features","367","crossroads","ignoreState","greedy","_initialLocationQuery","_routeQuery","setRouteQuery","routeQuery","_setRouteQueryFromLocationQuery","pattern","removeRoute","removeAllRoutes","defaultArgs","_initialQuery","_stripInitialQuery","makePermalink","_encodeRouteQuery","makeQueryString","queryParams","slicePath","path","sliceFirst","pathAndQuery","queryString","pathArr","firstPath","getQueryParams","queryPairs","queryPair","pair","getQueryString","_getQueryPortion","queryKey","queryPortion","_decodeRouteQuery","locationQuery","encodedRouteQuery","_getRouteQueryFromLocationQuery","previousQuery","previousQueryLength","previousQueryPosition","queryPrefix","trimEnd","querySuffix","trimStart","368","SidebarService","closeSidebarPanel","openCloseItem","_options$before","sidebarItem","SidebarItem","DOMComponent","isPanelSidebarShow","sidebarcomponetsdomid","childrenLength","findElementIndexId","initService","setComponentClickHandler","_ref$open","reloadComponent","sidebarComponent","_SidebarItem","_SidebarItem2","components/SidebarItem.vue","369","runTask","taskUrl","_options$interval","interval","_options$timeout","_options$listener","task_id","intervalId","setInterval","_response","stopTask","clearInterval","taskId","370","ViewportService","primaryView","v","cloasable","_defaultMapComponent","_contextualMapComponent","_secondaryViewMinWidth","_secondaryViewMinHeight","_immediateComponentsLayout","_options$primaryview","primaryview","setResized","_ref$textMessage","getMapState","getContentState","_toggleMapComponentVisibility","_showView","contextualMapComponent","recoverDefaultMap","_layout","getContentPercentageFromCurrentLayout","evenContentName","_prepareContentView","_layoutComponents","prevContentPerc","secondaryVisible","currentRightPanel","isFullViewContent","contentgetCurrentContentData","currentContent","isContentOpen","closeSecondaryView","isPrimaryView","viewTag","showPrimaryView","showSecondaryView","secondaryViewComponent","_otherView","getDefaultViewPerc","_isSecondary","_setPrimaryView","_options$split2","_options$closable","_options$backonclose","_options$style","_options$showgoback","_options$headertools","headertools","_options$perc","_options$split3","_getReducedSizes","contentEl","reducedWidth","reducedHeight","sideBarToggleEl","toggleWidth","_toggleWidth","reducesdSizes","_setViewSizes","secondaryView","_getViewportSize","getViewportSize","viewportWidth","viewportHeight","primaryWidth","primaryHeight","secondaryWidth","secondaryHeight","_viewportWidth","_viewportHeight","topHeight","main_sidebar","sideBarSpace","setContentPercentageFromCurrentLayout","triggerResize","resizeFired","drawResize","drawing","371","WorkFlowsStack","getParent","_getCurrentIndex","getParents","currentWorkflow","workfow","getLast","getFirst","getAt","372","STATE","upload","STATE_METHODS","373","374","ComponentsRegistry","375","ControlsRegistry","_controls","_offlineids","selectedLayer","externalLayers","callControlsEventHandler","unWatch","controlItem","_registerControl","getControl","unregisterControl","_id","376","MapLayersStoresRegistry","377","_configurationPlugins","_loadedPluginUrls","gidProject","setPluginsConfig","addLoadingPlugins","setOtherPlugins","setDependencyPluginConfig","_loadPlugins","pluginLoadPromises","pluginConfig","_setup","dependecyPluginConfig","law","OTHERPLUGINS","reloadPlugins","scripts","getPlugins","scr","pluginUrl","enabledPluginConfig","_loadScript","getScript","_pluginConfig$jsscrip","jsscripts","depedencypluginlibrariespromises","_loop3","script","baseUrl","scriptUrl","378","currentProjectGroup","createProject","projectConfig","setCurrentProject","projectLayersStore","minScale","_groupProjects","_projectConfigs","setupState","setProjects","getProjectType","getProjects","clearProjects","currentProjectId","listable","projectGid","pendingProject","_getProjectFullConfig","projectFullConfig","_setProjectRelations","getProjectConfigByGid","setProjectAliasUrl","projectBaseConfig","find_map_theme","url_theme","layetstree","379","setSession","getSessions","380"],"mappings":"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","file":"app.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\nvar inserted = exports.cache = {}\n\nfunction noop () {}\n\nexports.insert = function (css) {\n  if (inserted[css]) return noop\n  inserted[css] = true\n\n  var elem = document.createElement('style')\n  elem.setAttribute('type', 'text/css')\n\n  if ('textContent' in elem) {\n    elem.textContent = css\n  } else {\n    elem.styleSheet.cssText = css\n  }\n\n  document.getElementsByTagName('head')[0].appendChild(elem)\n  return function () {\n    document.getElementsByTagName('head')[0].removeChild(elem)\n    inserted[css] = false\n  }\n}\n\n},{}],2:[function(require,module,exports){\nvar _constant = require('constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _InputG3W = require('components/InputG3W.vue');\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nvar _InputG3WFormInputs = require('components/InputG3WFormInputs.vue');\n\nvar _InputG3WFormInputs2 = _interopRequireDefault(_InputG3WFormInputs);\n\nvar _inputservice = require('core/expression/inputservice');\n\nvar _inputservice2 = _interopRequireDefault(_inputservice);\n\nvar _FormBody = require('components/FormBody.vue');\n\nvar _FormBody2 = _interopRequireDefault(_FormBody);\n\nvar _FormFooter = require('components/FormFooter.vue');\n\nvar _FormFooter2 = _interopRequireDefault(_FormFooter);\n\nvar _C3XYLine = require('components/C3XYLine.vue');\n\nvar _C3XYLine2 = _interopRequireDefault(_C3XYLine);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _editing = require('services/editing');\n\nvar _editing2 = _interopRequireDefault(_editing);\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nvar _tasks = require('services/tasks');\n\nvar _tasks2 = _interopRequireDefault(_tasks);\n\nvar _workflows = require('services/workflows');\n\nvar _workflows2 = _interopRequireDefault(_workflows);\n\nvar _api = require('services/api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nvar _mixins2 = _interopRequireDefault(_mixins);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file api file interface for external plugins\n */\n\nvar G3WObject = require('core/g3wobject');\n//MIXINS\n\n\n/**\n * CORE modules\n */\n\n\n/**\n * Single File Components\n */\n\nvar utils = require('core/utils/utils');\nvar geoutils = require('core/utils/geo');\nvar i18n = require('core/i18n/i18n.service');\nvar Server = require('core/errors/parser/servererrorparser');\nvar Session = require('core/editing/session');\nvar Editor = require('core/editing/editor');\nvar Geom = require('core/utils/geo');\n\nvar _require = require('core/utils/geo'),\n    Geometry = _require.Geometry;\n\nvar Project = require('core/project/project');\nvar LayersStoreRegistry = require('core/layers/layersstoresregistry');\nvar LayersStore = require('core/layers/layersstore');\nvar Layer = require('core/layers/layer');\nvar LayerFactory = require('core/layers/layerfactory');\nvar TableLayer = require('core/layers/tablelayer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar ImageLayer = require('core/layers/imagelayer');\nvar WmsLayer = require('core/layers/map/wmslayer');\nvar XYZLayer = require('core/layers/map/xyzlayer');\nvar MapLayer = require('core/layers/map/maplayer');\nvar Feature = require('core/layers/features/feature');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar OlFeaturesStore = require('core/layers/features/olfeaturesstore');\nvar Filter = require('core/layers/filter/filter');\nvar Expression = require('core/layers/filter/expression');\nvar Plugin = require('core/plugin/plugin');\nvar PluginService = require('core/plugin/pluginservice');\nvar Task = require('core/workflow/task');\nvar Step = require('core/workflow/step');\nvar Flow = require('core/workflow/flow');\nvar Workflow = require('core/workflow/workflow');\n\n/**\n * GUI modules\n */\nvar Panel = require('gui/panel');\nvar ControlFactory = require('gui/map/control/factory');\nvar ComponentsFactory = require('gui/component/componentsfactory');\nvar FieldsService = require('gui/fields/fieldsservice');\nvar Component = require('gui/component/component');\nvar MetadataComponent = require('gui/metadata/vue/metadata');\nvar SearchComponent = require('gui/search/vue/search');\nvar SearchPanel = require('gui/search/vue/panel/searchpanel');\nvar PrintComponent = require('gui/print/vue/print');\nvar CatalogComponent = require('gui/catalog/vue/catalog');\nvar MapComponent = require('gui/map/vue/map');\nvar ToolsComponent = require('gui/tools/vue/tools');\nvar QueryResultsComponent = require('gui/queryresults/vue/queryresults');\nvar FormComponent = require('gui/form/vue/form');\nvar FormService = require('gui/form/formservice');\nvar InputsComponents = require('gui/inputs/inputs');\nvar ChartsFactory = require('gui/charts/chartsfactory');\nvar Fields = require('gui/fields/fields');\nvar SearchPanelService = require('gui/search/vue/panel/searchservice');\n\n/**\n * G3W-OL modules\n */\nvar PickFeatureInteraction = require('g3w-ol/interactions/pickfeatureinteraction');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\nvar DeleteFeatureInteraction = require('g3w-ol/interactions/deletefeatureinteraction');\nvar AreaInteraction = require('g3w-ol/interactions/areainteraction');\nvar LengthInteraction = require('g3w-ol/interactions/lengthinteraction');\nvar g3wolutils = require('core/utils/ol');\n\nmodule.exports = {\n\n  // APP CONSTANTS\n  constant: _constant2.default, // TODO: rename to \"constants\" which is more appropriate (in version 4.0)\n\n  // CORE API METHODS AND OBJECTS\n  core: {\n    G3WObject: G3WObject,\n    utils: utils,\n    geoutils: geoutils,\n    ApplicationService: _application2.default,\n    ApplicationState: _applicationState2.default,\n    ApiService: _api2.default,\n    Router: _router2.default,\n    i18n: i18n,\n    task: {\n      TaskService: _tasks2.default\n    },\n    data: {\n      DataRouterService: _data2.default\n    },\n    iframe: {\n      IFrameRouterService: _iframePlugin2.default\n    },\n    errors: {\n      parsers: {\n        Server: Server\n      }\n    },\n    editing: {\n      Session: Session,\n      SessionsRegistry: _sessions2.default,\n      Editor: Editor,\n      ChangesManager: _editing2.default\n    },\n    geometry: {\n      Geom: Geom,\n      Geometry: Geometry\n    },\n    project: {\n      ProjectsRegistry: _projects2.default,\n      Project: Project\n    },\n    map: {\n      MapLayersStoreRegistry: _mapLayers2.default\n    },\n    catalog: {\n      CatalogLayersStoresRegistry: _catalogLayers2.default\n    },\n    layer: {\n      LayersStoreRegistry: LayersStoreRegistry,\n      LayersStore: LayersStore,\n      Layer: Layer,\n      LayerFactory: LayerFactory,\n      TableLayer: TableLayer,\n      VectorLayer: VectorLayer,\n      ImageLayer: ImageLayer,\n      WmsLayer: WmsLayer,\n      XYZLayer: XYZLayer,\n      MapLayer: MapLayer,\n      geometry: {\n        Geometry: Geometry,\n        geom: Geom /** @FIXME capitalize first letter (ie. \"Geom\") */\n      },\n      features: {\n        Feature: Feature,\n        FeaturesStore: FeaturesStore,\n        OlFeaturesStore: OlFeaturesStore\n      },\n      filter: {\n        Filter: Filter,\n        Expression: Expression\n      }\n    },\n    relations: {\n      RelationsService: _relations2.default\n    },\n    interaction: {\n      PickCoordinatesInteraction: PickCoordinatesInteraction,\n      PickFeatureInteraction: PickFeatureInteraction\n    },\n    plugin: {\n      Plugin: Plugin,\n      PluginsRegistry: _plugins2.default,\n      PluginService: PluginService\n    },\n    workflow: {\n      Task: Task,\n      Step: Step,\n      Flow: Flow,\n      Workflow: Workflow,\n      WorkflowsStack: _workflows2.default\n    },\n    input: {\n      inputService: _inputservice2.default\n    }\n  },\n\n  // APPLICATION INTERFACE (vue)\n  gui: {\n    GUI: _gui2.default,\n    Panel: Panel,\n    ControlFactory: ControlFactory,\n    ComponentsFactory: ComponentsFactory,\n    FieldsService: FieldsService,\n    vue: {\n      Component: Component,\n      Panel: Panel,\n      MetadataComponent: MetadataComponent,\n      SearchComponent: SearchComponent,\n      SearchPanel: SearchPanel,\n      PrintComponent: PrintComponent,\n      CatalogComponent: CatalogComponent,\n      MapComponent: MapComponent,\n      ToolsComponent: ToolsComponent,\n      QueryResultsComponent: QueryResultsComponent,\n      // main Form Component\n      FormComponent: FormComponent,\n      // Form Components\n      FormComponents: {\n        Body: _FormBody2.default,\n        Footer: _FormFooter2.default\n      },\n      Inputs: {\n        G3wFormInputs: _InputG3WFormInputs2.default,\n        G3WInput: _InputG3W2.default,\n        InputsComponents: InputsComponents\n      },\n      Charts: {\n        ChartsFactory: ChartsFactory,\n        c3: {\n          lineXY: _C3XYLine2.default\n        }\n      },\n      Fields: Fields,\n      Mixins: _mixins2.default,\n      services: {\n        SearchPanel: SearchPanelService,\n        FormService: FormService\n      }\n    }\n  },\n\n  // OPEN LAYERS COMPONENTS (g3w-ol)\n  ol: {\n    interactions: {\n      PickFeatureInteraction: PickFeatureInteraction,\n      PickCoordinatesInteraction: PickCoordinatesInteraction,\n      DeleteFeatureInteraction: DeleteFeatureInteraction,\n      measure: {\n        AreaInteraction: AreaInteraction,\n        LengthInteraction: LengthInteraction\n      }\n    },\n    controls: {},\n    utils: g3wolutils\n  },\n\n  // G3W-SUITE debug info\n  info: function info() {\n    $script('https://unpkg.com/platform@1.3.6/platform.js', function () {\n      window.console.info(('\\n[g3wsdk.info]\\n\\n- g3w-admin: __' + initConfig.version + '__\\n- g3-client: __' + _constant2.default.APP_VERSION + '__\\n- browser: __' + platform.name + ' ' + platform.version + '__\\n- operating system: __' + platform.os.toString() + '__\\n').trim());\n    });\n  },\n\n  // G3W-CLIENT version\n  version: _constant2.default.APP_VERSION\n};\n\n},{\"components/C3XYLine.vue\":195,\"components/FormBody.vue\":215,\"components/FormFooter.vue\":216,\"components/InputG3W.vue\":239,\"components/InputG3WFormInputs.vue\":240,\"constant\":4,\"core/editing/editor\":6,\"core/editing/session\":8,\"core/errors/parser/servererrorparser\":9,\"core/expression/inputservice\":10,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/features/feature\":26,\"core/layers/features/featuresstore\":27,\"core/layers/features/olfeaturesstore\":28,\"core/layers/filter/expression\":29,\"core/layers/filter/filter\":30,\"core/layers/imagelayer\":33,\"core/layers/layer\":34,\"core/layers/layerfactory\":35,\"core/layers/layersstore\":36,\"core/layers/layersstoresregistry\":37,\"core/layers/map/maplayer\":43,\"core/layers/map/wmslayer\":45,\"core/layers/map/xyzlayer\":47,\"core/layers/tablelayer\":56,\"core/layers/vectorlayer\":57,\"core/plugin/plugin\":58,\"core/plugin/pluginservice\":59,\"core/project/project\":61,\"core/utils/geo\":64,\"core/utils/ol\":65,\"core/utils/utils\":67,\"core/workflow/flow\":69,\"core/workflow/step\":71,\"core/workflow/task\":72,\"core/workflow/workflow\":73,\"g3w-ol/interactions/areainteraction\":100,\"g3w-ol/interactions/deletefeatureinteraction\":101,\"g3w-ol/interactions/lengthinteraction\":102,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"g3w-ol/interactions/pickfeatureinteraction\":105,\"gui/catalog/vue/catalog\":112,\"gui/charts/chartsfactory\":115,\"gui/component/component\":116,\"gui/component/componentsfactory\":117,\"gui/fields/fields\":119,\"gui/fields/fieldsservice\":120,\"gui/form/formservice\":121,\"gui/form/vue/form\":122,\"gui/inputs/inputs\":131,\"gui/map/control/factory\":155,\"gui/map/vue/map\":157,\"gui/metadata/vue/metadata\":160,\"gui/panel\":161,\"gui/print/vue/print\":163,\"gui/queryresults/vue/queryresults\":171,\"gui/search/vue/panel/searchpanel\":176,\"gui/search/vue/panel/searchservice\":177,\"gui/search/vue/search\":178,\"gui/tools/vue/tools\":186,\"mixins\":342,\"services/api\":349,\"services/application\":350,\"services/data\":357,\"services/editing\":358,\"services/gui\":360,\"services/iframe-plugin\":363,\"services/relations\":366,\"services/router\":367,\"services/tasks\":369,\"services/workflows\":371,\"store/application-state\":372,\"store/catalog-layers\":373,\"store/map-layers\":376,\"store/plugins\":377,\"store/projects\":378,\"store/sessions\":379}],3:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.utils = exports.server = exports.client = exports._i18n = exports.tools = exports.plugins = undefined;\n\nvar _locales = require('../locales');\n\nvar _locales2 = _interopRequireDefault(_locales);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar apptitle = \"G3W Client\"; /**\n                              * @TODO consolidate configuration parameters in a single location\n                              * (eg. appConfig, ApplicationState, Constants, ...)\n                              */\n\nvar supportedLanguages = ['en', 'it'];\n\nvar plugins = exports.plugins = {};\n\nvar tools = exports.tools = {\n  tools: []\n};\n\n// get message from internationalization\nvar _i18n = exports._i18n = {\n  resources: _locales2.default\n};\n\nvar client = exports.client = {\n  debug: true,\n  local: false\n};\n\nvar server = exports.server = {\n  urls: {\n    baseurl: '/',\n    ows: 'ows',\n    api: 'api',\n    initconfig: 'api/initconfig',\n    config: 'api/config'\n  }\n};\n\nvar utils = exports.utils = {\n  merge: function merge(type) {\n    if (type) {\n      console.log(CONFIG);\n    }\n  }\n};\n\nexports.default = {\n  apptitle: apptitle,\n  client: client,\n  server: server,\n  plugins: plugins,\n  supportedLanguages: supportedLanguages,\n  tools: tools,\n  _i18n: _i18n,\n  utils: utils\n};\n\n},{\"../locales\":333}],4:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LOGO_GIS3W = exports.LOCAL_ITEM_IDS = exports.FONT_AWESOME_ICONS = exports.API_BASE_URLS = exports.ZINDEXES = exports.VIEWPORT = exports.TOC_THEMES_INIT_STATUS = exports.TOC_LAYERS_INIT_STATUS = exports.TIMEOUT = exports.SEARCH_RETURN_TYPES = exports.SEARCH_ALLVALUE = exports.QUERY_POINT_TOLERANCE = exports.PRINT_SCALES = exports.PRINT_RESOLUTIONS = exports.PRINT_FORMATS = exports.MAP_SETTINGS = exports.LOCALSTORAGE_EXTERNALWMS_ITEM = exports.LIST_OF_RELATIONS_ID = exports.LIST_OF_RELATIONS_TITLE = exports.GEOMETRY_TYPES = exports.GEOMETRY_FIELDS = exports.FILTER_EXPRESSION_OPERATORS = exports.FILTER_OPERATORS = exports.G3W_FID = exports.EPSG = exports.DOWNLOAD_FORMATS = exports.DEFAULT_EDITING_CAPABILITIES = exports.APP_VERSION = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file all contants values used on application\n                                                                                                                                                                                                                                                                   */\n\n//@ts-check\n\n/**\n * @TODO we can safely import \"version\" from \"package.json\" when we will use native ES Modules\n */\n// import { version } from '../../package.json';\n\n\nvar _version = require('../version');\n\nvar _version2 = _interopRequireDefault(_version);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Same as \"package.json\" version\n * \n * @type {string}\n */\nvar APP_VERSION = exports.APP_VERSION = _version2.default;\n\n/**\n * Default editing capabilities \n * \n * @type {string[]}\n */\nvar DEFAULT_EDITING_CAPABILITIES = exports.DEFAULT_EDITING_CAPABILITIES = ['add_feature', 'change_feature', 'change_attr_feature', 'delete_feature'];\n\n/**\n * @type {Object<string, { format: string, url: string }>}\n */\nvar DOWNLOAD_FORMATS = exports.DOWNLOAD_FORMATS = {\n  download: {\n    format: 'shapefile',\n    url: 'shp'\n  },\n  download_gpkg: {\n    format: 'gpkg',\n    url: 'gpkg'\n  },\n  download_gpx: {\n    format: 'gpx',\n    url: 'gpx'\n  },\n  download_csv: {\n    format: 'csv',\n    url: 'csv'\n  },\n  download_xls: {\n    format: 'xls',\n    url: 'xls'\n  },\n  download_raster: {\n    format: 'geotiff',\n    url: 'geotiff'\n  }\n};\n\n/**\n * @type {string[]}\n */\nvar EPSG = exports.EPSG = [\"EPSG:3003\", \"EPSG:3004\", \"EPSG:3045\", \"EPSG:3857\", \"EPSG:4326\", \"EPSG:6708\", \"EPSG:23032\", \"EPSG:23033\", \"EPSG:25833\", \"EPSG:32632\", \"EPSG:32633\"];\n\n/**\n * fid name field referred to fid feature\n * \n * @type {string}\n */\nvar G3W_FID = exports.G3W_FID = 'g3w_fid';\n\n/**\n * @type {Object<string, string>}\n * @since v3.5\n */\nvar FILTER_OPERATORS = exports.FILTER_OPERATORS = {\n  gte: '>=',\n  lte: '<=',\n  NOT: '!=',\n  eq: '=',\n  gt: '>',\n  lt: '<',\n  IN: 'IN',\n  'NOT IN': 'NOT IN',\n  LIKE: 'LIKE',\n  ILIKE: 'ILIKE',\n  AND: 'AND',\n  OR: 'OR'\n};\n\n/**\n * @type {Object<string, string>}\n * @since v3.5\n */\nvar FILTER_EXPRESSION_OPERATORS = exports.FILTER_EXPRESSION_OPERATORS = _extends({\n  lte: '<=',\n  ltgt: '!=',\n  ilike: 'ILIKE',\n  like: 'LIKE'\n}, FILTER_OPERATORS);\n\n/**\n * Geometry fields used to exclude or get geometry information from server request\n * \n * @type {string[]}\n */\nvar GEOMETRY_FIELDS = exports.GEOMETRY_FIELDS = ['geometryProperty', 'boundedBy', 'geom', 'the_geom', 'geometry', 'bbox', 'GEOMETRY', 'geoemtria', 'geometria'];\n\n/**\n * @type {Object<string, string>}\n */\nvar GEOMETRY_TYPES = exports.GEOMETRY_TYPES = {\n  POINT: \"Point\",\n  POINTZ: \"PointZ\",\n  POINTM: \"PointM\",\n  POINTZM: \"PointZM\",\n  POINT25D: \"Point25D\",\n  MULTIPOINT: \"MultiPoint\",\n  MULTIPOINTZ: \"MultiPointZ\",\n  MULTIPOINTM: \"MutliPointM\",\n  MULTIPOINTZM: \"MultiPointZM\",\n  MULTIPOINT25D: \"MultiPoint25D\",\n  LINESTRING: \"LineString\", // QGis definition .GeometryType, Line intead di Linestring.\n  LINESTRINGZ: \"LineStringZ\",\n  LINESTRINGM: \"LineStringM\",\n  LINESTRINGZM: \"LineStringZM\",\n  LINESTRING25D: \"LineString25D\",\n  LINE: \"Line\",\n  LINEZ: \"LineZ\",\n  LINEM: \"LineM\",\n  LINEZM: \"LineZM\",\n  LINE25D: \"Line25D\",\n  MULTILINESTRING: \"MultiLineString\",\n  MULTILINESTRINGZ: \"MultiLineStringZ\",\n  MULTILINESTRINGM: \"MultiLineStringM\",\n  MULTILINESTRINGZM: \"MultiLineStringZM\",\n  MULTILINESTRING25D: \"MultiLineString25D\",\n  MULTILINE: \"MultiLine\",\n  MULTILINEZ: \"MultiLineZ\",\n  MULTILINEM: \"MultiLineM\",\n  MULTILINEZM: \"MultiLineZM\",\n  MULTILINE25D: \"MultiLine25D\",\n  POLYGON: \"Polygon\",\n  POLYGONZ: \"PolygonZ\",\n  POLYGONM: \"PolygonM\",\n  POLYGONZM: \"PolygonZM\",\n  POLYGON25D: \"Polygon25D\",\n  MULTIPOLYGON: \"MultiPolygon\",\n  MULTIPOLYGONZ: \"MultiPolygonZ\",\n  MULTIPOLYGONM: \"MultiPolygonM\",\n  MULTIPOLYGONZM: \"MultiPolygonZM\",\n  MULTIPOLYGON25D: \"MultiPolygon25D\",\n  GEOMETRYCOLLECTION: \"GeometryCollection\",\n  GEOMETRYCOLLECTIONZ: \"GeometryCollectionZ\",\n  GEOMETRYCOLLECTIONM: \"GeometryCollectionM\",\n  GEOMETRYCOLLECTIONZM: \"GeometryCollectionZM\",\n  GEOMETRYCOLLECTION25D: \"GeometryCollection25D\"\n};\n\n/**\n * @type {string}\n */\nvar LIST_OF_RELATIONS_TITLE = exports.LIST_OF_RELATIONS_TITLE = 'info.list_of_relations';\n\n/**\n * @type {string}\n */\nvar LIST_OF_RELATIONS_ID = exports.LIST_OF_RELATIONS_ID = '__G3W_LIST_OF_RELATIONS_ID__';\n\n/**\n * @type {string}\n */\nvar LOCALSTORAGE_EXTERNALWMS_ITEM = exports.LOCALSTORAGE_EXTERNALWMS_ITEM = 'externalwms';\n\n/**\n * @typedef MapSettings\n * @property {{ maxScale: number }} ZOOM\n * @property {{ duration: number }} ANIMATION\n * @property {{ default: string, getPositions: Function }} LAYER_POSITIONS: \n */\n\n/**\n * @type {MapSettings}\n */\nvar MAP_SETTINGS = exports.MAP_SETTINGS = {\n  ZOOM: {\n    maxScale: 1000\n  },\n  ANIMATION: {\n    duration: 2000\n  },\n  LAYER_POSITIONS: {\n    default: 'top',\n    getPositions: function getPositions() {\n      return ['top', 'bottom'];\n    }\n  }\n};\n\n/**\n * @type {Array<{ value: any, label: string }>}\n * @since v3.5\n */\nvar PRINT_FORMATS = exports.PRINT_FORMATS = [{\n  value: 'pdf',\n  label: 'PDF'\n}, {\n  value: 'png',\n  label: 'PNG'\n}];\n\n/**\n * @type {number[]}\n * @since v3.5\n */\nvar PRINT_RESOLUTIONS = exports.PRINT_RESOLUTIONS = [150, 300];\n\n/**\n * @type {Array<{ value: number, label: string }>}\n * @since v3.5\n */\nvar PRINT_SCALES = exports.PRINT_SCALES = [{\n  value: 100,\n  label: '1:100'\n}, {\n  value: 200,\n  label: '1:200'\n}, {\n  value: 500,\n  label: '1:500'\n}, {\n  value: 1000,\n  label: '1:1.000'\n}, {\n  value: 2000,\n  label: '1:2.000'\n}, {\n  value: 2500,\n  label: '1:2.500'\n}, {\n  value: 5000,\n  label: '1:5.000'\n}, {\n  value: 10000,\n  label: '1:10.000'\n}, {\n  value: 20000,\n  label: '1:20.000'\n}, {\n  value: 25000,\n  label: '1:25.000'\n}, {\n  value: 50000,\n  label: '1:50.000'\n}, {\n  value: 100000,\n  label: '1:100.000'\n}, {\n  value: 250000,\n  label: '1:250.000'\n}, {\n  value: 500000,\n  label: '1:500.000'\n}, {\n  value: 1000000,\n  label: '1:1.000.000'\n}, {\n  value: 2500000,\n  label: '1:2.500.000'\n}, {\n  value: 5000000,\n  label: '1:5.000.000'\n}, {\n  value: 10000000,\n  label: '1:10.000.000'\n}, {\n  value: 20000000,\n  label: '1:20.000.000'\n}, {\n  value: 50000000,\n  label: '1:50.000.000'\n}, {\n  value: 100000000,\n  label: '1:100.000.000'\n}, {\n  value: 250000000,\n  label: '1:250.000.000'\n}, {\n  value: 500000000,\n  label: '1:500.000.000'\n}];\n\n/**\n * Point tolerance when clicking on map\n * \n * @type {{unit: string, value: number}}\n */\nvar QUERY_POINT_TOLERANCE = exports.QUERY_POINT_TOLERANCE = {\n  unit: 'pixel',\n  value: 10\n};\n\n/**\n * @type {string}\n * @since v3.5\n */\nvar SEARCH_ALLVALUE = exports.SEARCH_ALLVALUE = '__G3W_ALL__';\n\n/**\n * @type {string[]}\n * @since v3.5\n */\nvar SEARCH_RETURN_TYPES = exports.SEARCH_RETURN_TYPES = ['data', 'search'];\n\n/**\n * TIMEOUT (1 minute = 60000)\n * \n * @type {number}\n */\nvar TIMEOUT = exports.TIMEOUT = 60000;\n\n/**\n * @type {string}\n */\nvar TOC_LAYERS_INIT_STATUS = exports.TOC_LAYERS_INIT_STATUS = 'not_collapsed';\n\n/**\n * @type {string}\n */\nvar TOC_THEMES_INIT_STATUS = exports.TOC_THEMES_INIT_STATUS = 'collapsed';\n\n/**\n * @type {{resize: Object<string, { min: number }>}}\n * @since v3.5\n */\nvar VIEWPORT = exports.VIEWPORT = {\n  resize: {\n    map: {\n      min: 200\n    },\n    content: {\n      min: 200\n    }\n  }\n};\n\n/**\n * @type {Object<string, { tool: number }>}\n */\nvar ZINDEXES = exports.ZINDEXES = {\n  usermessage: {\n    tool: 2\n  }\n};\n\n/**\n * @type {Object<string, string>}\n * @since v3.8\n */\nvar API_BASE_URLS = exports.API_BASE_URLS = {\n  CRS: '/crs/', //Example /crs/<epsg_code>,\n  /**\n   * @since 3.8.0\n   */\n  ABOUT: {\n    macrogroups: '/about/api/macrogroup/', // info about macrogroups of G3W-SUITE\n    nomacrogoups: '/about/api/group/nomacrogroup/', // info about no macrogroups of G3W-SUITE\n    projects: '/about/api/group/__G3W_GROUP_ID__/projects/',\n    group: '/about/api/group/' //\n    //\n  }\n};\n\n/**\n * List of default Font Awesome classes for current project\n * \n * @type {Object<string, string>}\n * @since v3.8\n */\nvar FONT_AWESOME_ICONS = exports.FONT_AWESOME_ICONS = {\n  'change-map': \"fas fa-map-signs\",\n  map: \"far fa-map\",\n  file: \"fas fa-file-code\",\n  marker: \"fas fa-map-marker-alt\",\n  relation: \"fas fa-sitemap\",\n  tools: \"fas fa-cogs\",\n  tool: \"fas fa-cog\",\n  search: \"fas fa-search\",\n  print: \"fas fa-print\",\n  info: \"fas fa-info-circle\",\n  'info-circle': \"fas fa-info-circle\",\n  globe: \"fas fa-globe\",\n  mail: \"fas fa-envelope\",\n  mobile: \"fas fa-mobile\",\n  fax: \"fas fa-fax\",\n  user: \"fas fa-user\",\n  bars: \"fas fa-bars\",\n  uncheck: \"far fa-square\",\n  check: \"far fa-check-square\",\n  filluncheck: \"fas fa-square\",\n  table: \"fas fa-table\",\n  trash: \"fas fa-trash\",\n  'trash-o': \"far fa-trash-alt\",\n  pencil: \"fas fa-pencil-alt\",\n  'ellips-h': \"fas fa-ellipsis-h\",\n  'ellips-v': \"fas fa-ellipsis-v\",\n  'arrow-up': \"fas fa-chevron-up\",\n  'arrow-down': \"fas fa-chevron-down\",\n  'arrow-left': \"fas fa-chevron-left\",\n  'arrow-right': \"fas fa-chevron-right\",\n  'resize-h': \"fas fa-arrows-alt-h\",\n  'resize-v': \"fas fa-arrows-alt-v\",\n  'resize-default': \"fas fa-compress\",\n  'caret-up': \"fas fa-caret-up\",\n  'caret-down': \"fas fa-caret-down\",\n  'caret-left': \"fas fa-caret-left\",\n  'caret-right': \"fas fa-caret-right\",\n  'empty-circle': \"far fa-circle\",\n  'cloud-upload': \"fas fa-cloud-upload-alt\",\n  spinner: \"fas fa-spinner\",\n  minus: \"fas fa-minus\",\n  \"minus-square\": \"far fa-minus-square\",\n  plus: \"fas fa-plus\",\n  'plus-circle': \"fas fa-plus-circle\",\n  'plus-square': \"far fa-plus-square\",\n  grid: \"fas fa-th\",\n  home: \"fas fa-home\",\n  folder: \"fas fa-folder\",\n  'sign-out': \"fas fa-sign-out-alt\",\n  close: \"fas fa-times\",\n  time: \"far fa-clock\",\n  calendar: \"fas fa-calendar-alt\",\n  list: \"fas fa-list-alt\",\n  link: \"fas fa-link\",\n  unlink: \"fas fa-unlink\",\n  eye: \"far fa-eye\",\n  'eye-close': \"far fa-eye-slash\",\n  save: \"far fa-save\",\n  pdf: \"fas fa-file-pdf\",\n  image: \"far fa-image\",\n  video: \"far fa-file-video\",\n  unknow: \"far fa-question-circle\",\n  zip: \"far fa-file-archive\",\n  text: \"far fa-file-alt\",\n  excel: \"far fa-file-excel\",\n  xls: \"far fa-file-excel\",\n  gpx: \"fas fa-location-arrow\",\n  gpkg: \"fas fa-box-open\",\n  shapefile: \"fas fa-file-archive\",\n  csv: \"fas fa-file-csv\",\n  geotiff: \"fas fa-th\",\n  ppt: \"far fa-file-powerpoint\",\n  circle: \"fas fa-circle\",\n  calculator: \"fas fa-calculator\",\n  picture: \"far fa-image\",\n  keyboard: \"far fa-keyboard\",\n  'file-download': \"fas fa-file-download\",\n  copy: \"far fa-copy\",\n  draw: \"fas fa-draw-polygon\",\n  chart: \"fas fa-chart-bar\",\n  'chart-line': \"fas fa-chart-line\",\n  'chart-area': \"fas fa-chart-area\",\n  'chart-pie': \"fas fa-chart-pie\",\n  run: \"fas fa-play\",\n  warning: \"fas fa-exclamation-circle\",\n  alert: \"fas fa-exclamation-triangle\",\n  crosshairs: \"fas fa-crosshairs\",\n  success: \"far fa-check-circle\",\n  back: \"fas fa-chevron-circle-left\",\n  'file-upload': \"fas fa-file-upload\",\n  wifi: \"fas fa-wifi\",\n  mouse: \"fas fa-mouse\",\n  'copy-paste': \"far fa-copy\",\n  'vector-square': \"fas fa-vector-square\",\n  download: \"fas fa-download\",\n  credits: \"fas fa-euro-sign\",\n  filter: \"fas fa-filter\",\n  plugin: \"fas fa-plug\",\n  invert: \"fas fa-exchange-alt\",\n  clear: \"fas fa-broom\",\n  palette: \"fas fa-palette\",\n  layers: \"fas fa-layer-group\",\n  'sign-in': \"fas fa-sign-in-alt\",\n  language: \"fas fa-language\",\n  target: \"fas fa-bullseye\",\n  pin: \"fas fa-map-pin\",\n  square: \"far fa-square\",\n  move: \"fas fa-arrows-alt\",\n  moon: \"fas fa-moon\",\n  sun: \"fas fa-sun\",\n  refresh: \"fas fa-sync-alt\",\n  pause: \"fas fa-pause\",\n  'step-backward': \"fas fa-step-backward\",\n  'fast-backward': \"fas fa-fast-backward\",\n  'step-forward': \"fas fa-step-forward\",\n  'fast-forward': \"fas fa-fast-forward\",\n  crop: \"fas fa-crop-alt\",\n  exit: \"fas fa-door-open\",\n  slider: \"fas fa-sliders-h\",\n\n  /**\n   * @since 3.8.0\n   */\n  bookmark: \"fas fa-bookmark\",\n\n  /**\n   * @since 3.8.0\n   */\n  reply: \"fas fa-reply\",\n\n  /**\n   * @since 3.8.0\n   */\n  share: \"fas fa-share\"\n\n};\n\n/**\n * @typedef LocalItem\n * @property {string} id unique identifier\n * @property {any} value initial value\n */\n\n/**\n * LOCAL ITEM IDS - used to store id used by application\n * \n * @type {Object<string, LocalItem>}\n * \n * @since v3.8\n */\nvar LOCAL_ITEM_IDS = exports.LOCAL_ITEM_IDS = {\n  SPATIALBOOKMARKS: {\n    id: 'SPATIALBOOKMARKS', // id unique\n    value: {} // initial value\n  }\n};\n\n/**\n * @since 3.8.0\n */\n\nvar LOGO_GIS3W = exports.LOGO_GIS3W = 'images/logo_gis3w_156_85.png';\n\nexports.default = {\n  APP_VERSION: APP_VERSION,\n  API_BASE_URLS: API_BASE_URLS,\n  DEFAULT_EDITING_CAPABILITIES: DEFAULT_EDITING_CAPABILITIES,\n  DOWNLOAD_FORMATS: DOWNLOAD_FORMATS,\n  FILTER_OPERATORS: FILTER_OPERATORS,\n  FILTER_EXPRESSION_OPERATORS: FILTER_EXPRESSION_OPERATORS,\n  FONT_AWESOME_ICONS: FONT_AWESOME_ICONS,\n  G3W_FID: G3W_FID,\n  GEOMETRY_FIELDS: GEOMETRY_FIELDS,\n  GEOMETRY_TYPES: GEOMETRY_TYPES,\n  LIST_OF_RELATIONS_TITLE: LIST_OF_RELATIONS_TITLE,\n  LIST_OF_RELATIONS_ID: LIST_OF_RELATIONS_ID,\n  LOCAL_ITEM_IDS: LOCAL_ITEM_IDS,\n  LOCALSTORAGE_EXTERNALWMS_ITEM: LOCALSTORAGE_EXTERNALWMS_ITEM,\n  LOGO_GIS3W: LOGO_GIS3W,\n  MAP_SETTINGS: MAP_SETTINGS,\n  PRINT_FORMATS: PRINT_FORMATS,\n  PRINT_RESOLUTIONS: PRINT_RESOLUTIONS,\n  PRINT_SCALES: PRINT_SCALES,\n  QUERY_POINT_TOLERANCE: QUERY_POINT_TOLERANCE,\n  SEARCH_ALLVALUE: SEARCH_ALLVALUE,\n  SEARCH_RETURN_TYPES: SEARCH_RETURN_TYPES,\n  TIMEOUT: TIMEOUT,\n  TOC_LAYERS_INIT_STATUS: TOC_LAYERS_INIT_STATUS,\n  TOC_THEMES_INIT_STATUS: TOC_THEMES_INIT_STATUS,\n  VIEWPORT: VIEWPORT,\n  ZINDEXES: ZINDEXES\n};\n\n},{\"../version\":380}],5:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    resolve = _require.resolve;\n\nfunction BaseService() {\n  var _this = this;\n\n  _projects2.default.onbefore('setCurrentProject', function (project) {\n    return _this.project = project;\n  });\n  this.project = _projects2.default.getCurrentProject();\n}\n\nvar proto = BaseService.prototype;\n/**\n *\n * @param request is a Promise(jquery promise at moment\n * @returns {Promise<unknown>}\n */\nproto.handleRequest = function (request) {\n  //  OVERWRITE TO SERVICE\n};\n\nproto.handleResponse = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(response) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns { unknown[] } array of external layer add on project\n * \n * @since 3.8.0\n */\nproto.getSelectedExternalLayers = function (_ref2) {\n  var _ref2$type = _ref2.type,\n      type = _ref2$type === undefined ? 'vector' : _ref2$type;\n\n  return _gui2.default.getService('catalog').getExternalSelectedLayers({ type: type });\n};\n\n/**\n * @returns {Promise<[]>} a resolved request (empty array)\n * \n * @since 3.8.0\n */\nproto.getEmptyRequest = function () {\n  return resolve([]);\n};\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns {boolean}\n * \n * @since 3.8.0\n */\nproto.hasExternalLayerSelected = function (_ref3) {\n  var _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'vector' : _ref3$type;\n\n  return this.getSelectedExternalLayers({ type: type }).length > 0;\n};\n\nmodule.exports = BaseService;\n\n},{\"core/utils/utils\":67,\"services/gui\":360,\"store/projects\":378}],6:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _editing = require('services/editing');\n\nvar _editing2 = _interopRequireDefault(_editing);\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar OlFeaturesStore = require('core/layers/features/olfeaturesstore');\nvar Layer = require('core/layers/layer');\n\n// class Editor bind editor to layer to do main actions\nfunction Editor() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.setters = {\n    save: function save() {\n      this._save();\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    deleteFeature: function deleteFeature(feature) {\n      this._deleteFeature(feature);\n    },\n    setFeatures: function setFeatures() {\n      var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this._setFeatures(features);\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    }\n  };\n  base(this);\n  // filter to getFeaturerequest\n  this._filter = {\n    bbox: null\n  };\n\n  this._allfeatures = false;\n  // referred layer\n  this._layer = options.layer;\n  // editing featurestore\n  this._featuresstore = this._layer.getType() === Layer.LayerTypes.TABLE ? new FeaturesStore() : new OlFeaturesStore();\n  // editor is active or not\n  this._started = false;\n  // not editable fields\n  this._noteditablefileds = this._layer.getEditingNotEditableFields() || [];\n}\n\ninherit(Editor, G3WObject);\n\nvar proto = Editor.prototype;\n\nproto._canDoGetFeaturesRequest = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var doRequest = true;\n  if (this._layer.getType() === Layer.LayerTypes.VECTOR) {\n    var _ref = options.filter || {},\n        bbox = _ref.bbox;\n\n    if (bbox) {\n      if (!this._filter.bbox) this._filter.bbox = bbox;else if (!ol.extent.containsExtent(this._filter.bbox, bbox)) {\n        this._filter.bbox = ol.extent.extend(this._filter.bbox, bbox);\n      } else doRequest = false;\n    }\n  }\n  return doRequest;\n};\n\nproto.getEditingSource = function () {\n  return this._featuresstore;\n};\n\n/**\n * get Source\n */\nproto.getSource = function () {\n  this._layer.getSource();\n};\n\nproto._applyChanges = function () {\n  var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  _editing2.default.execute(this._featuresstore, items, reverse);\n};\n\nproto.setChanges = function (items, reverse) {\n  this._applyChanges(items, reverse);\n};\n\nproto.getLayer = function () {\n  return this._layer;\n};\n\nproto.setLayer = function (layer) {\n  this._layer = layer;\n  return this._layer;\n};\n\nproto.removeNotEditablePropriertiesFromFeature = function (feature) {\n  this._noteditablefileds.forEach(function (field) {\n    return feature.unset([field]);\n  });\n};\n\n//clone features method\nproto._cloneFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  return features.map(function (feature) {\n    return feature.clone();\n  });\n};\n\nproto._addFeaturesFromServer = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features = this._cloneFeatures(features);\n  this._featuresstore.addFeatures(features);\n};\n\nproto._doGetFeaturesRequest = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var doRequest = _applicationState2.default.online && !this._allfeatures;\n  return doRequest && this._canDoGetFeaturesRequest(options);\n};\n\n// get features from server method\nproto._getFeatures = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var doRequest = this._doGetFeaturesRequest(options);\n  if (!doRequest) d.resolve();else this._layer.getFeatures(options).then(function (promise) {\n    promise.then(function (features) {\n      _this._addFeaturesFromServer(features);\n      _this._allfeatures = !options.filter;\n      return d.resolve(features);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// method to revert (cancel) all changes in history and clean session\nproto.revert = function () {\n  var d = $.Deferred();\n  var features = this._cloneFeatures(this._layer.readFeatures());\n  this._featuresstore.setFeatures(features);\n  d.resolve();\n  return d.promise();\n};\n\nproto.rollback = function () {\n  var changes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var d = $.Deferred();\n  this._applyChanges(changes, true);\n  d.resolve();\n  return d.promise();\n};\n\nproto.applyChangesToNewRelationsAfterCommit = function (relationsResponse) {\n  for (var relationLayerId in relationsResponse) {\n    var response = relationsResponse[relationLayerId];\n    var layer = this.getLayerById(relationLayerId);\n    var editingLayerSource = this.getEditingLayer(relationLayerId).getEditingSource();\n    var features = editingLayerSource.readFeatures();\n    features.forEach(function (feature) {\n      return feature.clearState();\n    });\n    layer.getSource().setFeatures(features);\n    layer.applyCommitResponse({\n      response: response,\n      result: true\n    });\n    editingLayerSource.setFeatures(layer.getSource().readFeatures());\n  }\n};\n\nproto.setFieldValueToRelationField = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      relationId = _ref2.relationId,\n      ids = _ref2.ids,\n      field = _ref2.field,\n      _ref2$values = _ref2.values,\n      values = _ref2$values === undefined ? [] : _ref2$values;\n\n  var editingLayerSource = _sessions2.default.getSession(relationId).getEditor().getEditingSource();\n  ids.forEach(function (id) {\n    var feature = editingLayerSource.getFeatureById(id);\n    if (feature) {\n      var fieldvalue = feature.get(field);\n      fieldvalue == values[0] && feature.set(field, values[1]);\n    }\n  });\n};\n\n// apply response data from server in case of new inserted feature\nproto.applyCommitResponse = function () {\n  var _this2 = this;\n\n  var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var relations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (response && response.result) {\n    var data = response.response;\n\n    var ids = data.new;\n    var lockids = data.new_lockids;\n    ids.forEach(function (idobj) {\n      var feature = _this2._featuresstore.getFeatureById(idobj.clientid);\n      feature.setId(idobj.id);\n      feature.setProperties(idobj.properties);\n      relations.forEach(function (relation) {\n        Object.entries(relation).forEach(function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 2),\n              relationId = _ref4[0],\n              options = _ref4[1];\n\n          var value = feature.get(options.fatherField);\n          _this2.setFieldValueToRelationField({\n            relationId: relationId,\n            ids: options.ids,\n            field: options.childField,\n            values: [idobj.clientid, value]\n          });\n        });\n      });\n    });\n    var features = this._featuresstore.readFeatures();\n    features.forEach(function (feature) {\n      return feature.clearState();\n    });\n    this._layer.setFeatures(features);\n    this._layer.getSource().addLockIds(lockids);\n  }\n};\n\nproto.getLockIds = function () {\n  return this._layer.getSource().getLockIds();\n};\n\n// run after server apply changed to origin resource\nproto.commit = function (commitItems) {\n  var _this3 = this;\n\n  var d = $.Deferred();\n  // in case of relations bind to new feature\n  var relations = commitItems.add.length ? Object.keys(commitItems.relations).map(function (relationId) {\n    var layerRelation = _this3._layer.getRelations().getRelationByFatherChildren(_this3._layer.getId(), relationId);\n    var updates = commitItems.relations[relationId].update.map(function (relation) {\n      return relation.id;\n    });\n    var add = commitItems.relations[relationId].add.map(function (relation) {\n      return relation.id;\n    });\n    return _defineProperty({}, relationId, {\n      ids: [].concat(_toConsumableArray(add), _toConsumableArray(updates)),\n      fatherField: layerRelation.getFatherField(),\n      childField: layerRelation.getChildField()\n    });\n  }) : [];\n  this._layer.commit(commitItems).then(function (promise) {\n    promise.then(function (response) {\n      _this3.applyCommitResponse(response, relations);\n      d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//start editing function\nproto.start = function () {\n  var _this4 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  // load features of layer based on filter type\n  this.getFeatures(options).then(function (promise) {\n    promise.then(function (features) {\n      // the features are already inside featuresstore\n      d.resolve(features);\n      //if all ok set to started\n      _this4._started = true;\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//action to layer\n\nproto._addFeature = function (feature) {\n  this._featuresstore.addFeature(feature);\n};\n\nproto._deleteFeature = function (feature) {\n  this._featuresstore.deleteFeature(feature);\n};\n\nproto._updateFeature = function (feature) {\n  this._featuresstore.updateFeature(feature);\n};\n\nproto._setFeatures = function (features) {\n  this._featuresstore.setFeatures(features);\n};\n\nproto.readFeatures = function () {\n  return this._layer.readFeatures();\n};\n\nproto.readEditingFeatures = function () {\n  return this._featuresstore.readFeatures();\n};\n\n// stop editor\nproto.stop = function () {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  this._layer.unlock().then(function (response) {\n    _this5.clear();\n    d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//run save layer\nproto._save = function () {\n  this._layer.save();\n};\n\nproto.isStarted = function () {\n  return this._started;\n};\n\nproto.clear = function () {\n  this._started = false;\n  this._filter.bbox = null;\n  this._allfeatures = false;\n  this._featuresstore.clear();\n  this._layer.getFeaturesStore().clear();\n  this._layer.getType() === Layer.LayerTypes.VECTOR && this._layer.resetEditingSource(this._featuresstore.getFeaturesCollection());\n};\n\nmodule.exports = Editor;\n\n},{\"core/g3wobject\":12,\"core/layers/features/featuresstore\":27,\"core/layers/features/olfeaturesstore\":28,\"core/layers/layer\":34,\"core/utils/utils\":67,\"services/editing\":358,\"store/application-state\":372,\"store/sessions\":379}],7:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction History() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.id = options.id;\n  base(this);\n  // registered all changes\n  /*\n  *{\n  * _states: [\n  *     {\n  *       id: unique key\n  *       state: [state] // example: history contsins features state\n  *                      // array because a tool can apply changes to more than one features at time (split di una feature)\n  *     },\n  *     {\n  *       id: unique key\n  *       state: [state]\n  *     },\n  *   ]\n  *     ....\n  *\n  *  _current: unique key // usefult to undo redo\n  *\n  *\n  * */\n  // set maximun \"buffer history\" lenght for  undo redo\n  this._maxSteps = 10;\n  this._states = [];\n  // reactive state of histrory\n  this.state = {\n    commit: false,\n    undo: false,\n    redo: false\n  };\n  this._current = null; // store the current state of history (useful for undo /redo)\n}\n\ninherit(History, G3WObject);\n\nvar proto = History.prototype;\n\nproto.add = function (uniqueId, items) {\n  var _this = this;\n\n  //state object is an array of feature/features changed in a transaction\n  var d = $.Deferred();\n  // before insert an item into the history\n  // check if are at last state step (no redo was done)\n  // in this way avoid starge barch in the history\n  //If we are in the middle of undo, delete all changes in the histroy from the current \"state\"\n  // so i can create a new history\n\n  if (this._current === null) {\n    this._states = [{\n      id: uniqueId,\n      items: items\n    }];\n  } else {\n    if (this._states.length && this._current < this.getLastState().id) this._states = this._states.filter(function (state) {\n      return state.id <= _this._current;\n    });\n    this._states.push({\n      id: uniqueId,\n      items: items\n    });\n  }\n\n  this._current = uniqueId;\n  this._setState();\n  // return unique id key\n  // it can be used in save relation\n  d.resolve(uniqueId);\n  return d.promise();\n};\n\nproto.getRelationStates = function (layerId) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$clear = _ref.clear,\n      clear = _ref$clear === undefined ? false : _ref$clear;\n\n  var relationStates = [];\n  for (var _i = 0; _i < this._states.length; _i++) {\n    var state = this._states[_i];\n    var relationItems = state.items.filter(function (item) {\n      var _layerId = Array.isArray(item) ? item[0].layerId : item.layerId;\n      return _layerId === layerId;\n    });\n    relationItems.length && relationStates.push({\n      id: state.id,\n      items: relationItems\n    });\n  }\n  return relationStates;\n};\n\nproto.insertState = function (state) {\n  var stateId = state.id;\n  var index = this._states.length;\n  for (var _i2 = 0; _i2 < this._states.length; _i2++) {\n    var _state = this._states[_i2];\n    if (_state.id > stateId) {\n      index = _i2;\n      break;\n    } else if (_state.id === stateId) index = -1;\n    break;\n  }\n  if (index > -1) {\n    if (this._current < stateId) this._current = stateId;\n    this._states.splice(index, 0, state);\n  }\n};\n\nproto.removeState = function (stateId) {\n  var index = void 0;\n  for (i = 0; i < this._states.length; i++) {\n    var state = this._states[i];\n    if (state.id === stateId) {\n      index = i;\n      break;\n    }\n  }\n  if (this._current === stateId) this._current = this._states.length > 1 ? this._states[index - 1].id : null;\n  this._states.splice(index, 1);\n};\n\nproto.removeStates = function () {\n  var stateIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var _i3 = 0; _i3 < stateIds.length; _i3++) {\n    var stateId = stateIds[_i3];\n    this.removeState(stateId);\n  }\n};\n\nproto.insertStates = function () {\n  var states = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var _i4 = 0; _i4 < states.length; _i4++) {\n    this.insertState(states[_i4]);\n  }\n  this.canCommit();\n};\n\n// internal method to change the state of the  history when we check\n// a call to a function that modify the hsitory state\nproto._setState = function () {\n  this.canUndo();\n  this.canCommit();\n  this.canRedo();\n};\n\n//check if was did an update (update are array contains two items , old e new value)\nproto._checkItems = function (items, action) {\n  var _this2 = this;\n\n  /**\n   * action: <reffererd to array index>\n   *  0: undo;\n   *  1: redo;\n   **/\n  var newItems = {\n    own: [], //array of changes of layer of the current session\n    dependencies: {} // dependencies\n  };\n  items.forEach(function (item) {\n    if (Array.isArray(item)) item = item[action];\n    // check if belong to session\n    if (_this2.id === item.layerId) {\n      newItems.own.push(item);\n    } else {\n      if (!newItems.dependencies[item.layerId]) newItems.dependencies[item.layerId] = {\n        own: [],\n        dependencies: {}\n      };\n      newItems.dependencies[item.layerId].own.push(item);\n    }\n  });\n  return newItems;\n};\n\n// method undo\nproto.undo = function () {\n  var _this3 = this;\n\n  var items = void 0;\n  if (this._current === this.getFirstState().id) {\n    this._current = null;\n    items = this._states[0].items;\n  } else {\n    this._states.find(function (state, idx) {\n      if (state.id === _this3._current) {\n        items = _this3._states[idx].items;\n        _this3._current = _this3._states[idx - 1].id;\n        return true;\n      }\n    });\n  }\n  items = this._checkItems(items, 0);\n  this._setState();\n  return items;\n};\n\n//method redo\nproto.redo = function () {\n  var _this4 = this;\n\n  var items = void 0;\n  // if not set get first state\n  if (!this._current) {\n    items = this._states[0].items;\n    // set current to first\n    this._current = this._states[0].id;\n  } else {\n    this._states.find(function (state, idx) {\n      if (_this4._current === state.id) {\n        _this4._current = _this4._states[idx + 1].id;\n        items = _this4._states[idx + 1].items;\n        return true;\n      }\n    });\n  }\n  items = this._checkItems(items, 1);\n  this._setState();\n  return items;\n};\n\nproto.setItemsFeatureIds = function () {\n  var _this5 = this;\n\n  var unsetnewids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  unsetnewids.forEach(function (unsetnewid) {\n    var id = unsetnewid.id,\n        clientid = unsetnewid.clientid;\n\n    _this5._states.forEach(function (state) {\n      var items = state.items;\n\n      items.forEach(function (item) {\n        var feature = item.feature.getId() === clientid && item.feature;\n        if (feature) {\n          feature.setId(id);\n        }\n      });\n    });\n  });\n};\n\nproto.clear = function (ids) {\n  var _this6 = this;\n\n  if (ids) this._states.forEach(function (state, idx) {\n    if (ids.indexOf(state.id) !== -1) {\n      if (_this6._current && _this6._current === state.id()) _this6.undo();\n      _this6._states.splice(idx, 1);\n    }\n  });else this._clearAll();\n};\n\nproto._clearAll = function () {\n  this._states = [];\n  this._current = null;\n  this.state.commit = false;\n  this.state.redo = false;\n  this.state.undo = false;\n};\n\nproto.getState = function (id) {\n  return this._states.find(function (state) {\n    return state.id === id;\n  });\n};\n\nproto.getFirstState = function () {\n  return this._states.length ? this._states[0] : null;\n};\n\nproto.getLastState = function () {\n  var length = this._states.length;\n  return length ? this._states[length - 1] : null;\n};\n\nproto.getCurrentState = function () {\n  var _this7 = this;\n\n  var currentState = null;\n  if (this._current && this._states.length) {\n    currentState = this._states.find(function (state) {\n      return _this7._current === state.id;\n    });\n  }\n  return currentState;\n};\n\n// funzione che mi permette di ricavarel'indice dello stato corrente\nproto.getCurrentStateIndex = function () {\n  var _this8 = this;\n\n  var currentStateIndex = null;\n  if (this._current && this._states.length) {\n    this._states.forEach(function (state, idx) {\n      if (_this8._current === state.id) {\n        currentStateIndex = idx;\n        return false;\n      }\n    });\n  }\n  return currentStateIndex;\n};\n\n// method that response true if we can commit\nproto.canCommit = function () {\n  var checkCommitItems = this.commit();\n  var canCommit = false;\n  for (var layerId in checkCommitItems) {\n    var commitItem = checkCommitItems[layerId];\n    canCommit = canCommit || !!commitItem.length;\n  }\n  this.state.commit = canCommit;\n  return this.state.commit;\n};\n\n//cauUdo method\nproto.canUndo = function () {\n  var steps = this._states.length - 1 - this.getCurrentStateIndex();\n  this.state.undo = !_.isNull(this._current) && this._maxSteps > steps;\n  return this.state.undo;\n};\n\n// Caon Redo function\nproto.canRedo = function () {\n  this.state.redo = this.getLastState() && this.getLastState().id != this._current || _.isNull(this._current) && this._states.length > 0;\n  return this.state.redo;\n};\n\nproto._getStatesToCommit = function () {\n  var _this9 = this;\n\n  return this._states.filter(function (state) {\n    return state.id <= _this9._current;\n  });\n};\n\n//get all changes to send to server (mandare al server)\nproto.commit = function () {\n  var commitItems = {};\n  var statesToCommit = this._getStatesToCommit();\n  statesToCommit.forEach(function (state) {\n    state.items.forEach(function (item) {\n      var add = true;\n      if (Array.isArray(item)) item = item[1];\n      commitItems[item.layerId] && commitItems[item.layerId].forEach(function (commitItem, index) {\n        // check if already inserted feature\n        if (commitItem.getUid() === item.feature.getUid()) {\n          if (item.feature.isNew() && !commitItem.isDeleted() && item.feature.isUpdated()) {\n            var _item = item.feature.clone();\n            _item.add();\n            commitItems[item.layerId][index] = _item;\n          } else if (item.feature.isNew() && item.feature.isDeleted()) {\n            commitItems[item.layerId].splice(index, 1);\n          } else if (item.feature.isUpdated() || item.feature.isDeleted()) commitItems[item.layerId][index] = item.feature;\n          add = false;\n          return false;\n        }\n      });\n      if (add) {\n        var feature = item.feature;\n        var layerId = item.layerId;\n        if (!(!feature.isNew() && feature.isAdded())) {\n          if (!commitItems[layerId]) commitItems[layerId] = [];\n          commitItems[layerId].push(feature);\n        }\n      }\n    });\n  });\n  return commitItems;\n};\n\nmodule.exports = History;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],8:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar History = require('core/editing/history');\nvar Layer = require('core/layers/layer');\n\nvar is3DGeometry = require('core/utils/geo').Geometry.is3DGeometry;\n\nfunction Session() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.setters = {\n    start: function start() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._start(options);\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    },\n    stop: function stop() {\n      return this._stop();\n    },\n    saveChangesOnServer: function saveChangesOnServer(commitItems) {} // hook to get informed that are saved on server\n\n  };\n  base(this, options);\n\n  this.state = {\n    id: options.id,\n    started: false,\n    getfeatures: false\n  };\n  // editor\n  this._editor = options.editor;\n  this._history = new History({\n    id: this.state.id\n  });\n  this._temporarychanges = [];\n  this.register();\n}\n\ninherit(Session, G3WObject);\n\nvar proto = Session.prototype;\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getLastHistoryState = function () {\n  return this._history.getLastState();\n};\n\nproto.getLastStateId = function () {\n  return this._history.getLastState().id;\n};\n\nproto.deleteState = function (stateId) {\n  this._history.removeState(stateId);\n};\n\nproto.register = function () {\n  _sessions2.default.register(this);\n};\n\nproto.unregister = function () {\n  _sessions2.default.unregister(this.getId());\n};\n\nproto._start = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this._editor.start(options).then(function (features) {\n    _this.state.started = true;\n    d.resolve(features);\n  }).fail(function (err) {\n    d.reject(err);\n  });\n  return d.promise();\n};\n\n//method to getFeature from server by editor\nproto._getFeatures = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  if (!this._allfeatures) {\n    this._allfeatures = !options.filter;\n    this._editor.getFeatures(options).then(function (promise) {\n      promise.then(function (features) {\n        _this2.state.getfeatures = true;\n        d.resolve(features);\n      }).fail(function (err) {\n        return d.reject(err);\n      });\n    });\n  } else d.resolve([]);\n\n  return d.promise();\n};\n\nproto.isStarted = function () {\n  return this.state.started;\n};\n\nproto.getEditor = function () {\n  return this._editor;\n};\n\nproto.setEditor = function (editor) {\n  this._editor = editor;\n};\n\n// it used to save temporary changes to the layer\n// in history instance and feature store\nproto.save = function () {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  //fill history\n  var d = $.Deferred();\n  // add temporary modify to history\n  if (this._temporarychanges.length) {\n    var uniqueId = options.id || Date.now();\n    this._history.add(uniqueId, this._temporarychanges).then(function () {\n      // clear to temporary changes\n      _this3._temporarychanges = [];\n      // resolve if uniqeu id\n      d.resolve(uniqueId);\n    });\n  } else {\n    d.resolve(null);\n  }\n  return d.promise();\n};\n\nproto.updateTemporaryChanges = function (feature) {\n  this._temporarychanges.forEach(function (change) {\n    change.feature.setProperties(feature.getProperties());\n  });\n};\n\n// method to add temporary feature\nproto.pushAdd = function (layerId, feature) {\n  var removeNotEditableProperties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  /**\n   * Please take care of this to understand\n   */\n  removeNotEditableProperties && this._editor.removeNotEditablePropriertiesFromFeature(feature);\n  var newFeature = feature.clone();\n  this.push({\n    layerId: layerId,\n    feature: newFeature.add()\n  });\n  return newFeature;\n};\n\n// delete temporary feature\nproto.pushDelete = function (layerId, feature) {\n  this.push({\n    layerId: layerId,\n    feature: feature.delete()\n  });\n  return feature;\n};\n\n// add temporary feature changes\nproto.pushUpdate = function (layerId, newFeature, oldFeature) {\n  // in case of change attribute immediately after create feature\n  if (newFeature.isNew()) {\n    var temporarynewfeatureIndex = this._temporarychanges.findIndex(function (change) {\n      return change.layerId === layerId && change.feature.getId() === newFeature.getId();\n    });\n    if (temporarynewfeatureIndex !== -1) {\n      var feature = newFeature.clone();\n      feature.add();\n      this._temporarychanges[temporarynewfeatureIndex].feature = feature;\n      return;\n    }\n  }\n  this.push({\n    layerId: layerId,\n    feature: newFeature.update()\n  }, {\n    layerId: layerId,\n    feature: oldFeature.update()\n  });\n};\n\nproto.removeChangesFromHistory = function () {\n  var changeIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this._history.removeStates(changeIds);\n};\n\nproto.moveRelationStatesOwnSession = function () {\n  var statesIds = {};\n\n  var _getCommitItems = this.getCommitItems(),\n      relationItems = _getCommitItems.relations;\n\n  for (var relationLayerId in relationItems) {\n    var relationStates = this._history.getRelationStates(relationLayerId);\n    var relationSession = _sessions2.default.getSession(relationLayerId);\n    relationSession._history.insertStates(relationStates);\n    statesIds[relationLayerId] = relationStates.map(function (state) {\n      return state.id;\n    });\n  }\n  return statesIds;\n};\n\n// it used to add temporary features\n// that will be added with save method\nproto.push = function (New, Old) {\n  /*\n  New e Old saranno oggetti contenti {\n      layerId: xxxx,\n      feature: feature\n    }\n   */\n  // check is set old (edit)\n  var feature = Old ? [Old, New] : New;\n  this._temporarychanges.push(feature);\n};\n\n// method to revert (cancel) all changes in history and clean session\nproto.revert = function () {\n  var _this4 = this;\n\n  var d = $.Deferred();\n  this._editor.revert().then(function () {\n    _this4._history.clear();\n    d.resolve();\n  });\n  return d.promise();\n};\n\n// handle temporary changes of layer\nproto._filterChanges = function () {\n  var id = this.getId();\n  var changes = {\n    own: [],\n    dependencies: {}\n  };\n  this._temporarychanges.forEach(function (temporarychange) {\n    var change = Array.isArray(temporarychange) ? temporarychange[0] : temporarychange;\n    if (change.layerId === id) changes.own.push(change);else {\n      if (!changes.dependencies[change.layerId]) changes.dependencies[change.layerId] = [];\n      // FILO\n      changes.dependencies[change.layerId].unshift(change);\n    }\n  });\n  return changes;\n};\n\nproto.rollback = function (changes) {\n  if (changes) return this._editor.rollback(changes);else {\n    var d = $.Deferred();\n    var _changes = this._filterChanges();\n    this._editor.rollback(_changes.own).then(function () {\n      var dependencies = _changes.dependencies;\n\n      for (var id in dependencies) {\n        _sessions2.default.getSession(id).rollback(dependencies[id]);\n      }\n      d.resolve(dependencies);\n    });\n    this._temporarychanges = [];\n    return d.promise();\n  }\n};\n\n/**\n * Rollback child changes of current session\n * @param ids [array of child layer id]\n */\nproto.rollbackDependecies = function () {\n  var _this5 = this;\n\n  var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  ids.forEach(function (id) {\n    var changes = [];\n    _this5._temporarychanges = _this5._temporarychanges.filter(function (temporarychange) {\n      if (temporarychange.layerId === id) {\n        changes.push(temporarychange);\n        return false;\n      }\n    });\n    changes.length && _sessions2.default.getSession(id).rollback(changes);\n  });\n};\n\n// method undo\nproto.undo = function (items) {\n  items = items || this._history.undo();\n  this._editor.setChanges(items.own, true);\n  this._history.canCommit();\n  return items.dependencies;\n};\n\n// method redo\nproto.redo = function (items) {\n  items = items || this._history.redo();\n  this._editor.setChanges(items.own, true);\n  this._history.canCommit();\n  return items.dependencies;\n};\n\nproto._serializeCommit = function (itemsToCommit) {\n  var id = this.getId();\n  var state = void 0;\n  var layer = void 0;\n  var commitObj = {\n    add: [],\n    update: [],\n    delete: [],\n    relations: {}\n  };\n  for (var key in itemsToCommit) {\n    var isRelation = false;\n    var items = itemsToCommit[key];\n    if (key !== id) {\n      isRelation = true;\n      var sessionRelation = _sessions2.default.getSession(key);\n      var lockids = sessionRelation ? sessionRelation.getEditor().getLockIds() : [];\n      commitObj.relations[key] = {\n        lockids: lockids,\n        add: [],\n        update: [],\n        delete: []\n      };\n      layer = commitObj.relations[key];\n    } else layer = commitObj;\n    items.forEach(function (item) {\n      state = item.getState();\n      var GeoJSONFormat = new ol.format.GeoJSON();\n      switch (state) {\n        case 'delete':\n          if (!item.isNew()) layer.delete.push(item.getId());\n          break;\n        default:\n          var value = GeoJSONFormat.writeFeatureObject(item);\n          var childs_properties = item.getProperties();\n          for (var _key in value.properties) {\n            if (value.properties[_key] && _typeof(value.properties[_key]) === 'object' && value.properties[_key].constructor === Object) value.properties[_key] = value.properties[_key].value;\n            if (value.properties[_key] === undefined && childs_properties[_key]) value.properties[_key] = childs_properties[_key];\n          }\n          var action = item.isNew() ? 'add' : item.getState();\n          // in case of add i have to remove non editable properties\n          layer[action].push(value);\n          break;\n      }\n    });\n    // check in case of no edit remove relation key\n    if (isRelation && !layer.add.length && !layer.update.length && !layer.delete.length) {\n      delete commitObj.relations[key];\n    }\n  }\n  return commitObj;\n};\n\nproto.getCommitItems = function () {\n  var commitItems = this._history.commit();\n  return this._serializeCommit(commitItems);\n};\n\n/**\n *\n * Set geometry: {type} of geojson to a 3D type if needed\n * @param layerId\n * @param commitItems\n */\nproto.set3DGeometryType = function () {\n  var _this6 = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$layerId = _ref.layerId,\n      layerId = _ref$layerId === undefined ? this.getId() : _ref$layerId,\n      commitItems = _ref.commitItems;\n\n  var relations = commitItems.relations;\n\n  var editingLayer = _mapLayers2.default.getLayerById(layerId).getEditingLayer();\n  // check id there is a editing layer and if is a vector layer\n  if (editingLayer && editingLayer.getType() === Layer.LayerTypes.VECTOR) {\n    // get Geometry type layer\n    var geometryType = editingLayer.getGeometryType();\n    // if is a 3D layer i set on geoJON before send it to server\n    if (is3DGeometry(geometryType)) {\n      ['add', 'update'].forEach(function (action) {\n        commitItems[action].forEach(function (feature) {\n          return feature.geometry.type = geometryType;\n        });\n      });\n    }\n  }\n  // the same control of relations layers\n  Object.keys(relations).forEach(function (layerId) {\n    return _this6.set3DGeometryType({\n      layerId: layerId,\n      commitItems: relations[layerId]\n    });\n  });\n};\n\nproto.commit = function () {\n  var _this7 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$ids = _ref2.ids,\n      ids = _ref2$ids === undefined ? null : _ref2$ids,\n      items = _ref2.items,\n      _ref2$relations = _ref2.relations,\n      relations = _ref2$relations === undefined ? true : _ref2$relations;\n\n  var d = $.Deferred();\n  var commitItems = void 0;\n  if (ids) {\n    commitItems = this._history.commit(ids);\n    this._history.clear(ids);\n  } else {\n    if (items) commitItems = items;else {\n      commitItems = this._history.commit();\n      commitItems = this._serializeCommit(commitItems);\n    }\n    if (!relations) commitItems.relations = {};\n    this._editor.commit(commitItems).then(function (response) {\n      if (response && response.result) {\n        var data = response.response;\n        var _data$new_relations = data.new_relations,\n            new_relations = _data$new_relations === undefined ? {} : _data$new_relations;\n\n        for (var id in new_relations) {\n          var session = _sessions2.default.getSession(id);\n          session.getEditor().applyCommitResponse({\n            response: new_relations[id],\n            result: true\n          });\n        }\n        _this7._history.clear();\n        _this7.saveChangesOnServer(commitItems);\n        d.resolve(commitItems, response);\n      } else d.reject(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto._canStop = function () {\n  return this.state.started || this.state.getfeatures;\n};\n\n//stop session\nproto._stop = function () {\n  var _this8 = this;\n\n  var d = $.Deferred();\n  if (this._canStop()) this._editor.stop().then(function () {\n    _this8.clear();\n    d.resolve();\n  }).fail(function (err) {\n    return d.reject(err);\n  });else d.resolve();\n  return d.promise();\n};\n\n// clear all things bind to session\nproto.clear = function () {\n  this._allfeatures = false;\n  this.state.started = false;\n  this.state.getfeatures = false;\n  this.clearHistory();\n  this._editor.clear();\n};\n\n//return l'history\nproto.getHistory = function () {\n  return this._history;\n};\n\n// clear history\nproto.clearHistory = function () {\n  this._history.clear();\n};\n\nmodule.exports = Session;\n\n},{\"core/editing/history\":7,\"core/g3wobject\":12,\"core/layers/layer\":34,\"core/utils/geo\":64,\"core/utils/utils\":67,\"store/map-layers\":376,\"store/sessions\":379}],9:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar serverErrorParser = function serverErrorParser() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._error = options.error;\n};\n\nvar proto = serverErrorParser.prototype;\n\nproto.parse = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$type = _ref.type,\n      type = _ref$type === undefined ? 'responseJSON' : _ref$type;\n\n  var error_message = \"server_saver_error\";\n  function traverseErrorMessage(errorObject) {\n    var entries = Object.entries(errorObject);\n    var entry = entries.find(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          key = _ref3[0],\n          value = _ref3[1];\n\n      return key === 'fields';\n    });\n    if (entry) {\n      var _entry = _slicedToArray(entry, 2),\n          value = _entry[1];\n\n      try {\n        if (typeof value === 'string') {\n          var _entries$find = entries.find(function (_ref4) {\n            var _ref5 = _slicedToArray(_ref4, 2),\n                key = _ref5[0],\n                value = _ref5[1];\n\n            return key !== 'fields';\n          }),\n              _entries$find2 = _slicedToArray(_entries$find, 1),\n              field = _entries$find2[0];\n\n          error_message = '[' + field + '] ' + value;\n        } else {\n          error_message = '';\n          Object.entries(value).forEach(function (_ref6) {\n            var _ref7 = _slicedToArray(_ref6, 2),\n                field = _ref7[0],\n                error = _ref7[1];\n\n            error_message = '' + error_message + field + ' ' + (Array.isArray(error) ? error[0] : error) + ' \\n';\n          });\n        }\n      } catch (err) {}\n      return error_message.replace(/\\:|\\./g, '');\n    } else {\n      var _entries$ = _slicedToArray(entries[0], 2),\n          _value = _entries$[1];\n\n      if (!Array.isArray(_value) && (typeof _value === 'undefined' ? 'undefined' : _typeof(_value)) === 'object') return traverseErrorMessage(_value);\n    }\n  }\n  if (type === 'responseJSON') {\n    if (this._error && this._error.responseJSON && this._error.responseJSON.error.message) return this._error.responseJSON.error.message;else if (this._error && this._error.errors) return traverseErrorMessage(this._error.errors);\n  } else if (type === 'String') {\n    if (typeof this._error === 'string') return this._error;else return traverseErrorMessage(this._error);\n  }\n  return t(\"server_saver_error\");\n};\n\nmodule.exports = serverErrorParser;\n\n},{\"core/i18n/i18n.service\":13}],10:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/geo'),\n    convertFeatureToGEOJSON = _require.convertFeatureToGEOJSON;\n\nexports.default = {\n\n  /**\n   * @param expr.field\n   * @param expr.feature\n   * @param expr.qgs_layer_id\n   * @param expr.parentData\n   * \n   * @returns { void | Promise<unknown> }\n   */\n  handleFilterExpressionFormInput: function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          field = _ref2.field,\n          feature = _ref2.feature,\n          qgs_layer_id = _ref2.qgs_layer_id,\n          parentData = _ref2.parentData;\n\n      var _field$input$options, key, value, _field$input$options$, layer_id, filter_expression, loading, features, values, i;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _field$input$options = field.input.options, key = _field$input$options.key, value = _field$input$options.value, _field$input$options$ = _field$input$options.layer_id, layer_id = _field$input$options$ === undefined ? qgs_layer_id : _field$input$options$, filter_expression = _field$input$options.filter_expression, loading = _field$input$options.loading;\n\n              /**\n               * @FIXME should return Promise.reject('some error message') ?\n               */\n\n              if (filter_expression) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt('return');\n\n            case 3:\n\n              loading.state = 'loading';\n\n              _context.prev = 4;\n              _context.next = 7;\n              return _data2.default.getData('expression:expression', {\n                inputs: {\n                  field_name: field.name,\n                  layer_id: layer_id,\n                  qgs_layer_id: qgs_layer_id, // layer id owner of the data\n                  form_data: convertFeatureToGEOJSON(feature),\n                  parent: parentData && {\n                    form_data: convertFeatureToGEOJSON(parentData.feature),\n                    qgs_layer_id: parentData.qgs_layer_id,\n                    formatter: 0\n                  },\n                  formatter: 0,\n                  expression: filter_expression.expression\n                },\n                outputs: false\n              });\n\n            case 7:\n              features = _context.sent;\n\n\n              if ('select_autocomplete' === field.input.type) {\n                field.input.options.values = [];\n                // temporary array to sort the keys\n                values = [];\n\n                for (i = 0; i < features.length; i++) {\n                  values.push({\n                    key: features[i].properties[key],\n                    value: features[i].properties[value]\n                  });\n                }\n                values.sort(function (_ref3, _ref4) {\n                  var aKey = _ref3.key;\n                  var bKey = _ref4.key;\n\n                  if ('string' === typeof aKey) {\n                    aKey = aKey.toLowerCase();\n                    bKey = bKey.toLowerCase();\n                  }\n                  if (aKey < bKey) return -1;\n                  if (aKey > bKey) return 1;\n                  return 0;\n                });\n                field.input.options.values = values;\n              }\n\n              return _context.abrupt('return', features);\n\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context['catch'](4);\n              return _context.abrupt('return', Promise.reject(_context.t0));\n\n            case 15:\n              _context.prev = 15;\n\n              loading.state = 'ready';\n              return _context.finish(15);\n\n            case 18:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[4, 12, 15, 18]]);\n    }));\n\n    function handleFilterExpressionFormInput() {\n      return _ref.apply(this, arguments);\n    }\n\n    return handleFilterExpressionFormInput;\n  }(),\n\n\n  /**\n   * @param expr.field\n   * @param expr.feature\n   * @param expr.qgs_layer_id\n   * @param expr.parentData\n   *  \n   * @returns { void | Promise<unknown> } \n   */\n  handleDefaultExpressionFormInput: function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          field = _ref6.field,\n          feature = _ref6.feature,\n          qgs_layer_id = _ref6.qgs_layer_id,\n          parentData = _ref6.parentData;\n\n      var _field$input$options2, _field$input$options3, layer_id, default_expression, loading, default_value, value;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _field$input$options2 = field.input.options, _field$input$options3 = _field$input$options2.layer_id, layer_id = _field$input$options3 === undefined ? qgs_layer_id : _field$input$options3, default_expression = _field$input$options2.default_expression, loading = _field$input$options2.loading, default_value = _field$input$options2.default;\n\n              /**\n               * @FIXME should return Promise.reject('some error message') ?\n               */\n\n              if (default_expression) {\n                _context2.next = 3;\n                break;\n              }\n\n              return _context2.abrupt('return');\n\n            case 3:\n\n              loading.state = 'loading';\n\n              // Call `expression:expression_eval` to get value from expression and set it to field\n              _context2.prev = 4;\n              _context2.next = 7;\n              return _data2.default.getData('expression:expression_eval', {\n                inputs: {\n                  field_name: field.name,\n                  layer_id: layer_id, //\n                  qgs_layer_id: qgs_layer_id, //layer id owner of the data\n                  form_data: convertFeatureToGEOJSON(feature),\n                  formatter: 0,\n                  expression: default_expression.expression,\n                  parent: parentData && {\n                    form_data: convertFeatureToGEOJSON(parentData.feature),\n                    qgs_layer_id: parentData.qgs_layer_id,\n                    formatter: 0\n                  }\n                },\n                outputs: false\n              });\n\n            case 7:\n              value = _context2.sent;\n\n\n              field.value = value;\n\n              return _context2.abrupt('return', value);\n\n            case 12:\n              _context2.prev = 12;\n              _context2.t0 = _context2['catch'](4);\n\n              if (\"undefined\" !== typeof default_value) {\n                field.value = default_value;\n              }\n              return _context2.abrupt('return', Promise.reject(_context2.t0));\n\n            case 16:\n              _context2.prev = 16;\n\n              loading.state = 'ready';\n              return _context2.finish(16);\n\n            case 19:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[4, 12, 16, 19]]);\n    }));\n\n    function handleDefaultExpressionFormInput() {\n      return _ref5.apply(this, arguments);\n    }\n\n    return handleDefaultExpressionFormInput;\n  }()\n};\n\n},{\"core/utils/geo\":64,\"services/data\":357}],11:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/geo'),\n    getFormDataExpressionRequestFromFeature = _require.getFormDataExpressionRequestFromFeature,\n    convertFeatureToGEOJSON = _require.convertFeatureToGEOJSON;\n\nexports.default = {\n  getVisibility: function getVisibility(_ref) {\n    var qgs_layer_id = _ref.qgs_layer_id,\n        expression = _ref.expression,\n        _ref$feature = _ref.feature,\n        feature = _ref$feature === undefined ? {} : _ref$feature,\n        contenttype = _ref.contenttype;\n\n    var formatter = contenttype === 'query' ? 1 : 0;\n    var form_data = contenttype === 'editing' ? convertFeatureToGEOJSON(feature) : getFormDataExpressionRequestFromFeature(feature);\n    return _data2.default.getData('expression:expression_eval', {\n      inputs: {\n        qgs_layer_id: qgs_layer_id,\n        form_data: form_data,\n        expression: expression,\n        formatter: formatter\n      },\n      outputs: false\n    });\n  }\n};\n\n},{\"core/utils/geo\":64,\"services/data\":357}],12:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    noop = _require.noop,\n    debounce = _require.debounce,\n    throttle = _require.throttle;\n\n/**\n * Base object to handle a setter and its listeners.\n * @constructor\n */\n\n\nvar G3WObject = function G3WObject() {\n  //check if setters property is set. Register the chain of events\n  this.setters && this._setupListenersChain(this.setters);\n  // check debounces\n  this.debounces && this._setupDebounces(this.debounces);\n  //check throttles\n  this.throttles && this._setupThrottles(this.throttles);\n};\n\ninherit(G3WObject, EventEmitter);\n\nvar proto = G3WObject.prototype;\n\n/**\n * Insert a listener on afeter setter was executed\n * @param {string} setter - IMethod name to register a listener function\n * @param {function} listener - listener function (only syncron)\n * @param {number} priority - Priorità di esecuzione: valore minore viene eseuito prima\n */\nproto.onafter = function (setter, listener, priority) {\n  return this._onsetter('after', setter, listener, false, priority);\n};\n\nproto.onceafter = function (setter, listener, priority) {\n  return this._onsetter('after', setter, listener, false, priority, true);\n};\n\n/**\n * Listern before cal sesster\n * @param {string} setter - Method name setter\n * @param {function} listener - function to call\n * @param {number} priority - Priority\n */\nproto.onbefore = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, false, priority);\n};\n\n// once before\nproto.oncebefore = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, false, priority, true);\n};\n\n/**\n * @param {string} setter - Method name setter\n * @param {function} listener - function to call\n * @param {number} priority - Priority\n */\nproto.onbeforeasync = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, true, priority);\n};\n\nproto.un = function (setter, key) {\n  // cicle on after before (key) and for each settersListeners (array) find key\n  Object.entries(this.settersListeners).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        _key = _ref2[0],\n        settersListeners = _ref2[1];\n\n    if (key === undefined) settersListeners[setter].splice(0);else settersListeners[setter].forEach(function (setterListener, idx) {\n      if (setterListener.key === key) {\n        settersListeners[setter].splice(idx, 1);\n      }\n    });\n  });\n};\n\n// base function to register and handle on<before/after> setter listeners\n/*\n  when=before|after,\n  type=sync|async\n*/\nproto._onsetter = function (when, setter, listener, async) {\n  var priority = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var once = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n\n  var listenerKey = void 0;\n  // check if setter function is register.\n  if (typeof this.settersListeners[when][setter] !== \"undefined\") {\n    // set unique listenerKey value\n    listenerKey = '' + (Math.floor(Math.random() * 1000000) + Date.now());\n    // add info object to setters listeners\n    this.settersListeners[when][setter].push({\n      key: listenerKey,\n      fnc: listener,\n      async: async,\n      priority: priority,\n      once: once\n    });\n    // set lineners base on priority\n    this.settersListeners[when][setter] = _.sortBy(this.settersListeners[when][setter], function (setterListener) {\n      return setterListener.priority;\n    });\n  }\n  // return key\n  return listenerKey; // in case of no setter register return undefined listerKey\n};\n\nproto._setupListenersChain = function (setters) {\n  var _this = this;\n\n  // initialize all methods inside object \"setters\" of child class.\n  this.settersListeners = {\n    after: {},\n    before: {}\n  };\n\n  var _loop = function _loop(setter) {\n    var setterOption = setters[setter];\n    var setterFnc = noop;\n    var setterFallback = noop;\n    if (_.isFunction(setterOption)) setterFnc = setterOption;else {\n      setterFnc = setterOption.fnc;\n      setterFallback = setterOption.fallback || noop; // method called in case of error\n    }\n    // create array to push before and after subscribers\n    _this.settersListeners.after[setter] = [];\n    _this.settersListeners.before[setter] = [];\n    // assign the property settern name to the object as own method\n    _this[setter] = function () {\n      var _this2 = this;\n\n      for (var _len = arguments.length, args = Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var deferred = $.Deferred();\n      var returnVal = null;\n      var counter = 0;\n      // function to call original function(setter function)\n      var callSetter = function callSetter() {\n        // run setter function\n        returnVal = setterFnc.apply(_this2, args);\n        // resolve promise\n        deferred.resolve(returnVal);\n        //call all subscribed methods afet setter\n        var onceListenerKeys = [];\n        var afterListeners = _this2.settersListeners.after[setter];\n        afterListeners.forEach(function (listener) {\n          listener.fnc.apply(_this2, args);\n          listener.once && onceListenerKeys.push(listener.key);\n        });\n        onceListenerKeys.forEach(function (key) {\n          return _this2.un(setter, key);\n        });\n      };\n      //  abort function\n      var abort = function abort() {\n        setterFallback.apply(_this2, args);\n        deferred.reject();\n      };\n      // get all before listeners functions of setter\n      var beforeListeners = this.settersListeners['before'][setter];\n      // listener counter\n      counter = 0;\n      var next = function next(bool) {\n        // initilize cont to true (continue)\n        var cont = true;\n        // check if bool is Boolean\n        if (_.isBoolean(bool)) cont = bool;\n        // check if count is false or we are arrived to the end of onbefore subscriber\n        if (cont === false) {\n          // found an error so we can abort\n          abort.apply(_this2, args);\n        } else if (counter === beforeListeners.length) {\n          // call complete method methods\n          var completed = callSetter();\n          //verifico che cosa ritorna\n          if (completed === undefined || completed === true) {\n            _this2.emitEvent('set:' + setter, args);\n          }\n        } else if (cont) {\n          var listenerObj = beforeListeners[counter];\n          var currentCounter = counter;\n          // if is async functtion\n          if (beforeListeners[counter].async) {\n            //add function next to argument of listnerFunction\n            args.push(next);\n            // update counter\n            counter += 1;\n            listenerObj.fnc.apply(_this2, args);\n          } else {\n            // return or undefine or a boolen to tell if ok(true) can conitnue or not (false)\n            var _bool = listenerObj.fnc.apply(_this2, args);\n            //update counter\n            counter += 1;\n            next(_bool);\n          }\n          listenerObj.once && beforeListeners.splice(currentCounter, 1);\n        }\n      };\n      // run next to start to run all the subscribers and setrer its self\n      next();\n      // retun a promise\n      return deferred.promise();\n    };\n  };\n\n  for (var setter in setters) {\n    _loop(setter);\n  }\n  return this.settersListeners;\n};\n\nproto._setupDebounces = function (debounces) {\n  for (var name in debounces) {\n    var delay = debounces[name].delay;\n    var fnc = debounces[name].fnc;\n    this[name] = debounce(fnc, delay);\n  }\n};\n\nproto._setupThrottles = function (throttles) {\n  for (var name in throttles) {\n    var delay = throttles[name].delay;\n    var fnc = throttles[name].fnc;\n    this[name] = throttle(fnc, delay);\n  }\n};\n\n//method get\nproto.get = function (key) {\n  return this[key] && !(this[key] instanceof Function) ? this[key] : null;\n};\n\n//method set\nproto.set = function (key, value) {\n  this[key] = value;\n};\n\nmodule.exports = G3WObject;\n\n},{\"core/utils/utils\":67}],13:[function(require,module,exports){\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// main object content for i18n\nvar plugins18nConfig = {};\n\nfunction init(config) {\n  config.appLanguages.forEach(function (language) {\n    plugins18nConfig[language] = {\n      plugins: {}\n    };\n  });\n  i18next.use(i18nextXHRBackend).init({\n    lng: config.language,\n    ns: 'app',\n    fallbackLng: 'en',\n    resources: config.resources\n  });\n  return new Promise(function (resolve, reject) {\n    jqueryI18next.init(i18next, $, {\n      tName: 't', // --> appends $.t = i18next.t\n      i18nName: 'i18n', // --> appends $.i18n = i18next\n      handleName: 'localize', // --> appends $(selector).localize(opts);\n      selectorAttr: 'data-i18n', // selector for translating elements\n      targetAttr: 'data-i18n-target', // element attribute to grab target element to translate (if diffrent then itself)\n      optionsAttr: 'data-i18n-options', // element attribute that contains options, will load/set if useOptionsAttr = true\n      useOptionsAttr: false, // see optionsAttr\n      parseDefaultValueFromContent: true // parses default values from content ele.val or ele.text\n    });\n    addI18n(plugins18nConfig);\n    resolve();\n  });\n}\nvar getAppLanguage = function getAppLanguage() {\n  var config = _application2.default.getConfig();\n  return config.user.i18n || \"en\";\n};\n\n// function to translate\nvar t = function t(text) {\n  return i18next.t(text);\n};\n\n// function to translate plugins\nvar tPlugin = function tPlugin(text) {\n  return i18next.t('plugins.' + text);\n};\n\nvar tPrefix = function tPrefix(filter) {\n  return function (text) {\n    return i18next.t(filter + '.' + text);\n  };\n};\n\nvar addI18nPlugin = function addI18nPlugin(_ref) {\n  var name = _ref.name,\n      config = _ref.config;\n\n  for (var language in config) {\n    var pluginLanguage = plugins18nConfig[language];\n    if (pluginLanguage) pluginLanguage.plugins[name] = config[language];\n  }\n  addI18n(plugins18nConfig);\n};\n\nvar addI18n = function addI18n(i18nObject) {\n  for (var language in i18nObject) {\n    var languageObj = i18nObject[language];\n    for (var key in languageObj) {\n      i18next.addResource(language, 'translation', key, languageObj[key]);\n    }\n  }\n};\n\nvar changeLanguage = function changeLanguage(language) {\n  i18next.changeLanguage(language);\n};\n\nmodule.exports = {\n  init: init,\n  t: t,\n  tPlugin: tPlugin,\n  tPrefix: tPrefix,\n  addI18n: addI18n,\n  addI18nPlugin: addI18nPlugin,\n  changeLanguage: changeLanguage,\n  getAppLanguage: getAppLanguage\n};\n\n},{\"services/application\":350}],14:[function(require,module,exports){\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @FIXME: application is broken using like the following line\n */\n// import { IframePluginService } from 'services';\n\nmodule.exports = _iframePlugin2.default; /**\n                                          * DEPRECATED: this file will be removed after v3.4 (use \"services/iframe-router.js\" instead)\n                                          */\n\n},{\"services/iframe-plugin\":363}],15:[function(require,module,exports){\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    createFilterFormField = _require.createFilterFormField;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction BaseIframeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this.ready = false;\n  this.init = function () {\n    //overwrite each service\n  };\n}\n\ninherit(BaseIframeService, G3WObject);\n\nvar proto = BaseIframeService.prototype;\n\n/**\n * Common mapService attribute\n */\nproto.mapService = _gui2.default.getComponent('map').getService();\n\n/**\n * Common current project attribute\n */\nproto.project = _projects2.default.getCurrentProject();\n\n/**\n *\n * @type {null}\n */\nproto.layers = undefined;\n\n/**\n * Return a qgs_layer_id array based on passed qgis_layer_id\n * @param qgs_layer_id : String , Array of Strings or null/undefined)\n * @returns Array oa qgs_layer_id strings\n * @private\n */\nproto.getQgsLayerId = function (_ref) {\n  var qgs_layer_id = _ref.qgs_layer_id,\n      _ref$noValue = _ref.noValue,\n      noValue = _ref$noValue === undefined ? this.layers.map(function (layer) {\n    return layer.id;\n  }) : _ref$noValue;\n\n  return qgs_layer_id ? Array.isArray(qgs_layer_id) ? qgs_layer_id : [qgs_layer_id] : noValue;\n};\n\n/**\n * Method to getFeature from DataProvider\n * @private\n */\nproto.searchFeature = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2) {\n    var layer = _ref2.layer,\n        feature = _ref2.feature;\n\n    var search_endpoint, field, value, _ref4, _ref4$data, data;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            search_endpoint = this.project.getSearchEndPoint();\n            field = feature.field, value = feature.value;\n            _context.next = 4;\n            return _data2.default.getData('search:features', {\n              inputs: {\n                layer: layer,\n                search_endpoint: search_endpoint,\n                filter: createFilterFormField({\n                  layer: layer,\n                  search_endpoint: search_endpoint,\n                  field: field,\n                  value: value\n                })\n              },\n              outputs: false\n            });\n\n          case 4:\n            _ref4 = _context.sent;\n            _ref4$data = _ref4.data;\n            data = _ref4$data === undefined ? [] : _ref4$data;\n            return _context.abrupt('return', data);\n\n          case 8:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n/**\n * Comme method to search feature/s by field and value\n * @param qgs_layer_id\n * @param feature\n * @param zoom\n * @param highlight\n * @returns {Promise<{qgs_layer_id: null, features: [], found: boolean}>}\n */\nproto.findFeaturesWithGeometry = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$qgs_layer_id = _ref6.qgs_layer_id,\n      qgs_layer_id = _ref6$qgs_layer_id === undefined ? [] : _ref6$qgs_layer_id,\n      feature = _ref6.feature,\n      _ref6$zoom = _ref6.zoom,\n      zoom = _ref6$zoom === undefined ? false : _ref6$zoom,\n      _ref6$highlight = _ref6.highlight,\n      highlight = _ref6$highlight === undefined ? false : _ref6$highlight;\n\n  var response, layersCount, i, layer, data, features;\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          response = {\n            found: false,\n            features: [],\n            qgs_layer_id: null\n          };\n          layersCount = qgs_layer_id.length;\n          i = 0;\n\n        case 3:\n          if (!(!response.found && i < layersCount)) {\n            _context2.next = 20;\n            break;\n          }\n\n          layer = this.project.getLayerById(qgs_layer_id[i]);\n          _context2.prev = 5;\n          _context2.t0 = layer;\n\n          if (!_context2.t0) {\n            _context2.next = 11;\n            break;\n          }\n\n          _context2.next = 10;\n          return this.searchFeature({\n            layer: layer,\n            feature: feature\n          });\n\n        case 10:\n          _context2.t0 = _context2.sent;\n\n        case 11:\n          data = _context2.t0;\n\n          if (data.length) {\n            features = data[0].features;\n\n            response.found = features.length > 0 && !!features.find(function (feature) {\n              return feature.getGeometry();\n            });\n            if (response.found) {\n              response.features = features;\n              response.qgs_layer_id = qgs_layer_id[i];\n              zoom && this.mapService.zoomToFeatures(features, {\n                highlight: highlight\n              });\n            } else i++;\n          } else i++;\n          _context2.next = 18;\n          break;\n\n        case 15:\n          _context2.prev = 15;\n          _context2.t1 = _context2['catch'](5);\n          i++;\n\n        case 18:\n          _context2.next = 3;\n          break;\n\n        case 20:\n          // in case of no response zoom too initial extent\n          !response.found && this.mapService.zoomToProjectInitExtent();\n\n          return _context2.abrupt('return', response);\n\n        case 22:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this, [[5, 15]]);\n}));\n\n/**\n * Set layer function\n * @param layers\n */\nproto.setLayers = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  proto.layers = layers;\n};\n\nproto.getLayers = function () {\n  return proto.layers;\n};\n\n/**\n * Method to set ready the service\n * @param bool\n */\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.ready = bool;\n};\n\nproto.getReady = function () {\n  return this.ready;\n};\n\n/**\n * Method overwrite single service: Usefult to sto eventually running action\n * * @returns {Promise<void>}\n */\nproto.stop = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this);\n}));\n\n/**\n * Overwrite each single service\n */\nproto.clear = function () {\n  //overwrite single service\n};\n\nmodule.exports = BaseIframeService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/data\":357,\"services/gui\":360,\"store/projects\":378}],16:[function(require,module,exports){\nvar _iframeApp = require('services/iframe-app');\n\nvar _iframeApp2 = _interopRequireDefault(_iframeApp);\n\nvar _iframeEditing = require('services/iframe-editing');\n\nvar _iframeEditing2 = _interopRequireDefault(_iframeEditing);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  app: _iframeApp2.default,\n  editing: _iframeEditing2.default\n};\n\n},{\"services/iframe-app\":361,\"services/iframe-editing\":362}],17:[function(require,module,exports){\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseService = require('core/iframe/services/baseservice');\n\nfunction BasePluginService() {\n  base(this);\n  // common attributes between plugin service\n  this.pluginName;\n  this.dependencyApi = {};\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$layers = _ref2.layers,\n        layers = _ref2$layers === undefined ? {} : _ref2$layers;\n\n    var plugin;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            this.layers = layers;\n            // check if the plugin in in configuration\n            if (_plugins2.default.isPluginInConfiguration(this.pluginName)) {\n              plugin = _plugins2.default.getPlugin(this.pluginName);\n\n              if (plugin) {\n                this.setDependencyApi(plugin.getApi());\n                this.setReady(true);\n              } else {\n                _plugins2.default.onafter('registerPlugin', function () {\n                  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(plugin) {\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.next = 2;\n                            return plugin.isReady();\n\n                          case 2:\n                            if (plugin.getName() === _this.pluginName) {\n                              _this.setDependencyApi(plugin.getApi());\n                              _this.setReady(true);\n                            }\n\n                          case 3:\n                          case 'end':\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee, _this);\n                  }));\n\n                  return function (_x2) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }());\n              }\n            }\n\n          case 2:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  this.clear = function () {\n    //TO OVERWRITE\n  };\n}\n\ninherit(BasePluginService, BaseService);\n\nvar proto = BasePluginService.prototype;\n\nproto.setDependencyApi = function () {\n  var api = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.dependencyApi = api;\n};\n\nproto.getDependecyApi = function () {\n  return this.dependencyApi;\n};\n\nmodule.exports = BasePluginService;\n\n},{\"core/iframe/services/baseservice\":15,\"core/utils/utils\":67,\"store/plugins\":377}],18:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction ARCGISMAPSERVERLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(ARCGISMAPSERVERLayer, BaseLayer);\n\nvar proto = ARCGISMAPSERVERLayer.prototype;\n\nproto._makeOlLayer = function () {\n  // here configuration to create TMS\n  var _config = this.config,\n      url = _config.url,\n      attributions = _config.attributions,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.TMS.get({\n    url: url,\n    source_type: 'arcgismapserver',\n    projection: projection,\n    attributions: attributions\n  });\n  return olLayer;\n};\n\nmodule.exports = ARCGISMAPSERVERLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":106}],19:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Projections = require('g3w-ol/projection/projections');\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar ImageLayer = require('core/layers/imagelayer');\n\nfunction BaseLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n  if (this.isWMS()) {\n    var _config = {\n      url: this.getWmsUrl(),\n      id: this.state.id,\n      tiled: this.state.tiled\n    };\n    this._mapLayer = new WMSLayer(_config);\n    this._mapLayer.addLayer(this);\n  } else this._mapLayer = this;\n}\n\ninherit(BaseLayer, ImageLayer);\n\nvar proto = BaseLayer.prototype;\n\nproto.getProjectionFromCrs = function () {\n  var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  crs.epsg = crs.epsg ? crs.epsg : \"EPSG:3857\";\n  return Projections.get(crs);\n};\n\nproto._makeOlLayer = function () {\n  //TO OVERWRITE\n};\n\nproto._registerLoadingEvent = function () {\n  var _this = this;\n\n  this._olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  this._olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.update = function (mapState, extraParams) {\n  this._updateLayer(mapState, extraParams);\n};\n\nproto.getOLLayer = function () {\n  var olLayer = this._olLayer;\n  if (!olLayer) {\n    olLayer = this._olLayer = this._makeOlLayer();\n    this._registerLoadingEvent();\n    if (this._mapLayer.config.attributions) {\n      this._olLayer.getSource().setAttributions(this._mapLayer.config.attributions);\n    }\n    olLayer.setVisible(this._mapLayer.state.visible);\n  }\n  return olLayer;\n};\n\nproto._updateLayer = function (mapState, extraParams) {\n  if (this.isWMS()) {\n    this._mapLayer.update(mapState, extraParams);\n  }\n};\n\nproto.setVisible = function (bool) {\n  this.getOLLayer().setVisible(bool);\n};\n\nproto.getMapLayer = function () {\n  return this._mapLayer;\n};\n\nmodule.exports = BaseLayer;\n\n},{\"core/layers/imagelayer\":33,\"core/layers/map/wmslayer\":45,\"core/utils/utils\":67,\"g3w-ol/projection/projections\":110}],20:[function(require,module,exports){\nvar BaseLayers = {\n  'OSM': require('./osmlayer'),\n  'Bing': require('./binglayer'),\n  'TMS': require('./tmslayer'),\n  'ARCGISMAPSERVER': require('./arcgislayer'),\n  'WMTS': require('./wmtslayer'),\n  'WMS': require('./wmslayer')\n};\n\nmodule.exports = BaseLayers;\n\n},{\"./arcgislayer\":18,\"./binglayer\":21,\"./osmlayer\":22,\"./tmslayer\":23,\"./wmslayer\":24,\"./wmtslayer\":25}],21:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction BingLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n}\n\ninherit(BingLayer, BaseLayer);\n\nvar proto = BingLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var olLayer = void 0;\n  var key = _applicationState2.default.keys.vendorkeys.bing;\n  var subtype = this.config.source ? this.config.source.subtype : null;\n  switch (subtype) {\n    case 'streets':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Road',\n        key: key\n      });\n      break;\n    case 'aerial':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Aerial',\n        key: key\n      });\n      break;\n    case 'aerialwithlabels':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'AerialWithLabels',\n        key: key\n      });\n      break;\n    default:\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Aerial',\n        key: key\n      });\n  }\n  return olLayer;\n};\n\nmodule.exports = BingLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":106,\"store/application-state\":372}],22:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction OSMLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n}\n\ninherit(OSMLayer, BaseLayer);\n\nvar proto = OSMLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var olLayer = BasesLayers.OSM.get({\n    id: this.config.name,\n    title: this.config.title,\n    url: this.config.url\n  });\n  return olLayer;\n};\n\nmodule.exports = OSMLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":106}],23:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction TMSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(TMSLayer, BaseLayer);\n\nvar proto = TMSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  // here configuration to create TMS\n  var _config = this.config,\n      url = _config.url,\n      attributions = _config.attributions,\n      minZoom = _config.minZoom,\n      maxZoom = _config.maxZoom,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.TMS.get({\n    url: url,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    attributions: attributions,\n    projection: projection\n  });\n  return olLayer;\n};\n\nmodule.exports = TMSLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":106}],24:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction WMSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(WMSLayer, BaseLayer);\n\nvar proto = WMSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  //use this config to get params\n  var _config = this.config,\n      url = _config.url,\n      layers = _config.layers,\n      singleTile = _config.singleTile,\n      attributions = _config.attributions,\n      crs = _config.crs,\n      opacity = _config.opacity;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.WMS.get({\n    url: url,\n    layers: layers,\n    singleTile: singleTile,\n    attributions: attributions,\n    projection: projection,\n    opacity: opacity\n  });\n  return olLayer;\n};\n\nmodule.exports = WMSLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":106}],25:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction WMTSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(WMTSLayer, BaseLayer);\n\nvar proto = WMTSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  //use this config to get params\n  var _config = this.config,\n      url = _config.url,\n      layer = _config.layer,\n      attributions = _config.attributions,\n      matrixSet = _config.matrixSet,\n      format = _config.format,\n      style = _config.style,\n      requestEncoding = _config.requestEncoding,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.WMTS.get({\n    url: url,\n    layer: layer,\n    attributions: attributions,\n    format: format,\n    projection: projection,\n    requestEncoding: requestEncoding,\n    matrixSet: matrixSet,\n    style: style\n  });\n  return olLayer;\n};\n\nmodule.exports = WMTSLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":106}],26:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nvar geometryFields = _constant2.default.GEOMETRY_FIELDS;\n\nvar Feature = function Feature() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  ol.Feature.call(this);\n  this._uid = uniqueId();\n  this._newPrefix = '_new_';\n  this._geometry = false;\n  var feature = options.feature,\n      properties = options.properties;\n\n  if (feature) {\n    // check if has to set only some properties or all feature properties\n    if (properties && Array.isArray(properties)) properties.forEach(function (property) {\n      return _this.set(property, feature.get(property));\n    });else this.setProperties(feature.getProperties());\n    this.setId(feature.getId());\n    this.setGeometryName(feature.getGeometryName());\n    var geometry = feature.getGeometry();\n    this._geometry = !!geometry;\n    geometry && this.setGeometry(geometry);\n    var style = this.getStyle();\n    style && this.setStyle(style);\n  }\n  this.state = {\n    new: false,\n    state: null,\n    visible: true\n  };\n};\n\nol.inherits(Feature, ol.Feature);\n\nvar proto = Feature.prototype;\n\n//change constructor\nproto.constructor = 'Feature';\n\n/**\n * Return unique id\n * @returns {*}\n */\nproto.getUid = function () {\n  return this._uid;\n};\n\n/**\n * set new uid\n * @param uid\n * @private\n */\nproto._setUid = function (uid) {\n  this._uid = uid;\n};\n\nproto.isGeometry = function () {\n  return this._geometry;\n};\n\nproto.cloneNew = function () {\n  var clone = this.clone();\n  var uid = uniqueId();\n  clone._setUid(uid);\n  clone.setTemporaryId();\n  return clone;\n};\n\n/**\n * clone existing feature\n * @returns {Feature}\n */\nproto.clone = function () {\n  var feature = ol.Feature.prototype.clone.call(this);\n  feature.setId(this.getId());\n  this.isGeometry() && feature.setGeometry(feature.getGeometry().clone());\n  var clone = new Feature({\n    feature: feature\n  });\n  var uid = this.getUid();\n  clone._setUid(uid);\n  clone.setState(this.getState());\n  this.isNew() && clone.setNew();\n  return clone;\n};\n\nproto.setTemporaryId = function () {\n  var newValue = '' + this._newPrefix + uniqueId();\n  this.setId(newValue);\n  this.setNew();\n};\n\nproto.setNew = function () {\n  this.state.new = true;\n};\n\nproto.delete = function () {\n  this.state.state = 'delete';\n  return this;\n};\n\nproto.update = function () {\n  this.state.state = 'update';\n  return this;\n};\n\nproto.add = function () {\n  this.state.state = 'add';\n  return this;\n};\n\nproto.isNew = function () {\n  return this.state.new;\n};\n\nproto.isAdded = function () {\n  return this.state.state === 'add';\n};\n\nproto.isUpdated = function () {\n  return this.state.state === 'update';\n};\n\nproto.isDeleted = function () {\n  return this.state.state === 'delete';\n};\n\nproto.setFullState = function (state) {\n  this.state = state;\n};\n\nproto.getFullState = function () {\n  return this.state;\n};\n\nproto.setState = function (state) {\n  this.state.state = state;\n};\n\nproto.getState = function () {\n  return this.state.state;\n};\n\nproto.getAlphanumericProperties = function () {\n  var properties = this.getProperties();\n  var alphanumericproperties = {};\n  for (var name in properties) {\n    if (geometryFields.indexOf(name) === -1) alphanumericproperties[name] = properties[name];\n  }\n  return alphanumericproperties;\n};\n\n//clean state of the features\nproto.clearState = function () {\n  this.state.state = null;\n  this.state.new = false;\n};\n\n/**\n * need to filter features visiblity on table\n * @returns {boolean}\n */\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.setVisible = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.visible = bool;\n};\n\nmodule.exports = Feature;\n\n},{\"app/constant\":4,\"core/utils/utils\":67}],27:[function(require,module,exports){\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// Object to store and handle features of layer\nfunction FeaturesStore() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._features = options.features || [];\n  this._provider = options.provider || null;\n  this._loadedIds = []; // store locked ids\n  this._lockIds = []; // store locked features\n  this.hasFeatureLockByOtherUser = false; // property tath i set to true if some feature are locked by other user\n  this.setters = {\n    addFeatures: function addFeatures(features) {\n      var _this = this;\n\n      features.forEach(function (feature) {\n        _this._addFeature(feature);\n      });\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    removeFeature: function removeFeature(feature) {\n      this._removeFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    clear: function clear() {\n      this._clearFeatures();\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    },\n    commit: function commit(commitItems, featurestore) {\n      return this._commit(commitItems, featurestore);\n    },\n\n    /**\n     * setter to know when some feature are locked\n     */\n    featuresLockedByOtherUser: function featuresLockedByOtherUser() {\n      //set to true\n      this.hasFeatureLockByOtherUser = true;\n    }\n  };\n\n  base(this);\n}\n\ninherit(FeaturesStore, G3WObject);\n\nvar proto = FeaturesStore.prototype;\n\nproto.clone = function () {\n  return _.cloneDeep(this);\n};\n\nproto.setProvider = function (provider) {\n  this._provider = provider;\n};\n\nproto.getProvider = function () {\n  return this._provider;\n};\n\n// method unlock features\nproto.unlock = function () {\n  var _this2 = this;\n\n  var d = $.Deferred();\n  this._provider.unlock().then(function (response) {\n    // set to false when featuresstore is unlocked\n    _this2.hasFeatureLockByOtherUser = false;\n    d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// method get all features from server or attribute _features\nproto._getFeatures = function () {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  if (this._provider) {\n    this._provider.getFeatures(options).then(function (options) {\n      var features = _this3._filterFeaturesResponse(options);\n      _this3.addFeatures(features);\n      d.resolve(features);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else d.resolve(this._readFeatures());\n  return d.promise();\n};\n\n//filter features to add\nproto._filterFeaturesResponse = function () {\n  var _this4 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  /**\n   * get features returned from server and feature that are current locked.\n   * If featurelocks are less that a features, it means that other user is editing these feature\n   * @type {*[]}\n   */\n  var _options$features = options.features,\n      features = _options$features === undefined ? [] : _options$features,\n      _options$featurelocks = options.featurelocks,\n      featurelocks = _options$featurelocks === undefined ? [] : _options$featurelocks,\n      count = options.count;\n\n  var featuresToAdd = features.filter(function (feature) {\n    var featureId = feature.getId();\n    var added = _this4._loadedIds.indexOf(featureId) !== -1;\n    if (!added) _this4._loadedIds.push(featureId);\n    return !added;\n  });\n  this._filterLockIds(featurelocks);\n  if (features.length < count && !this.hasFeatureLockByOtherUser) this.featuresLockedByOtherUser();\n  return featuresToAdd;\n};\n\n// method get features locked\nproto._filterLockIds = function (featurelocks) {\n  var _lockIds = this._lockIds.map(function (lockid) {\n    return lockid.featureid;\n  });\n  var toAddLockId = featurelocks.filter(function (featurelock) {\n    return _lockIds.indexOf(featurelock.featureid) === -1;\n  });\n  this._lockIds = [].concat(_toConsumableArray(this._lockIds), _toConsumableArray(toAddLockId));\n};\n\nproto.addLoadedIds = function (id) {\n  this._loadedIds.push(id);\n};\n\nproto.getLockIds = function () {\n  return this._lockIds;\n};\n\n//method to add new lockid\nproto.addLockIds = function (lockIds) {\n  var _this5 = this;\n\n  this._lockIds = _.union(this._lockIds, lockIds);\n  this._lockIds.forEach(function (lockId) {\n    return _this5._loadedIds.push(lockId.featureid);\n  });\n};\n\nproto._readFeatures = function () {\n  return this._features;\n};\n\nproto._commit = function (commitItems) {\n  var d = $.Deferred();\n  if (commitItems && this._provider) {\n    commitItems.lockids = this._lockIds;\n    this._provider.commit(commitItems).then(function (response) {\n      return d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else d.reject();\n  return d.promise();\n};\n\n// get feature from id\nproto.getFeatureById = function (featureId) {\n  return this._features.find(function (feature) {\n    return feature.getId() == featureId;\n  });\n};\n\nproto.getFeatureByUid = function (uid) {\n  return this._features.find(function (feature) {\n    return feature.getUid() === uid;\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._features.push(feature);\n};\n\n//substitute feature after update\nproto._updateFeature = function (feature) {\n  var _this6 = this;\n\n  this._features.find(function (feat, idx) {\n    if (feat.getUid() === feature.getUid()) {\n      _this6._features[idx] = feature;\n      return true;\n    }\n  });\n};\n\nproto.setFeatures = function (features) {\n  this._features = features;\n};\n\nproto._removeFeature = function (feature) {\n  this._features = this._features.filter(function (feat) {\n    return feature.getUid() !== feat.getUid();\n  });\n};\n\nproto._clearFeatures = function () {\n  this._features = null;\n  this._features = [];\n  this._lockIds = [];\n  this._loadedIds = [];\n};\n\nproto.getDataProvider = function () {\n  return this._provider;\n};\n\n// only read downloaded features\nproto.readFeatures = function () {\n  return this._features;\n};\n\nmodule.exports = FeaturesStore;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],28:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar FeaturesStore = require('core/layers/features/featuresstore');\n\n// Storage of the feature in vector layer\nfunction OlFeaturesStore() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._features = options.features || new ol.Collection([]);\n}\n\ninherit(OlFeaturesStore, FeaturesStore);\n\nvar proto = OlFeaturesStore.prototype;\n\nproto.getLength = function () {\n  return this._features.getLength();\n};\n\n//overwrite\nproto.setFeatures = function () {\n  var _this = this;\n\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features.forEach(function (feature) {\n    return _this._features.push(feature);\n  });\n};\n// overwrite\nproto.readFeatures = function () {\n  return this._features.getArray();\n};\n\nproto.getFeaturesCollection = function () {\n  return this._features;\n};\n\nproto.getFeatureById = function (featureId) {\n  return this._features.getArray().find(function (feature) {\n    return feature.getId() == featureId;\n  });\n};\n\nproto.getFeatureByUid = function (uid) {\n  return this._features.getArray().find(function (feature) {\n    return feature.getUid() === uid;\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._features.push(feature);\n  // useful for ol.source.Vector\n  this._features.dispatchEvent('change');\n};\n\n//sobtitute the feature after modify\nproto._updateFeature = function (feature) {\n  // set index at -1\n  var index = -1;\n  var featuresArray = this._features.getArray();\n  for (var i = 0; featuresArray.length; i++) {\n    var _feature = featuresArray[i];\n    if (_feature.getUid() === feature.getUid()) {\n      index = i;\n      break;\n    }\n  }\n  if (index >= 0) {\n    this._features.removeAt(index);\n    this._features.insertAt(index, feature);\n    this._features.dispatchEvent('change');\n  }\n};\n\n// remove feature from store\nproto._removeFeature = function (feature) {\n  var featuresArray = this._features.getArray();\n  for (var i = 0; i < featuresArray.length; i++) {\n    var feat = featuresArray[i];\n    if (feature.getUid() === feat.getUid()) {\n      this._features.removeAt(i);\n      break;\n    }\n  }\n  this._features.dispatchEvent('change');\n};\n\nproto._clearFeatures = function () {\n  try {\n    this._features.clear();\n  } catch (err) {}\n  this._features = null;\n  this._features = new ol.Collection([]);\n};\n\nmodule.exports = OlFeaturesStore;\n\n},{\"core/layers/features/featuresstore\":27,\"core/utils/utils\":67}],29:[function(require,module,exports){\nvar _constant = require('app/constant');\n\n//Expression\nfunction Expression() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._layerName = options.layerName;\n  var filter = options.filter;\n  this._expression = filter && filter || '';\n}\n\nvar proto = Expression.prototype;\n\nproto.and = function (field, value) {\n  this._expression = this._expression ? this._expression + ' AND ' : this._expression;\n  if (field && value) {\n    this.eq(field, value);\n  }\n  return this;\n};\n\nproto.or = function () {\n  if (field && value) {\n    this._expression = this._expression ? this._expression + ' OR ' : this._expression;\n    this.eq(field, value);\n  }\n  return this;\n};\n\nproto.eq = function (field, value) {\n  this._expression = this._expression + this._build('eq', field, value);\n  return this;\n};\n\nproto.like = function (field, value) {\n  this._expression = this._expression + this._build('LIKE', field, value);\n  return this;\n};\n\nproto.ilike = function (field, value) {\n  this._expression = this._expression + this._build('ILIKE', field, value);\n  return this;\n};\n\nproto.not = function (field, value) {\n  this._expression = this._expression + this._build('NOT', field, value);\n  return this;\n};\n\nproto.gt = function (field, value) {\n  this._expression = this._expression + this._build('gt', field, value);\n  return this;\n};\n\nproto.gte = function (field, value) {\n  this._expression = this._expression + this._build('gte', field, value);\n  return this;\n};\n\nproto.lt = function (field, value) {\n  this._expression = this._expression + this._build('lt', field, value);\n  return this;\n};\n\nproto.lte = function (field, value) {\n  this._expression = this._expression + this._build('lte', field, value);\n  return this;\n};\n\nproto.clear = function () {\n  this._expression = '';\n  return this;\n};\n\n// get expression method to get the realt value of the expression\nproto.get = function () {\n  return this._layerName ? this._layerName + ': ' + this._expression : this._expression;\n};\n\nproto._build = function (operator, field, value) {\n  return ['\"' + field + '\"', _constant.FILTER_EXPRESSION_OPERATORS[operator], '' + value].join(' ');\n};\n\nproto.createSingleExpressionElement = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      value = _ref.value,\n      attribute = _ref.attribute,\n      operator = _ref.operator,\n      logicop = _ref.logicop;\n\n  var filterElement = void 0;\n  var valueExtra = operator === 'LIKE' || operator === 'ILIKE' ? \"%\" : \"\";\n  var filterOp = _constant.FILTER_EXPRESSION_OPERATORS[operator];\n  var filterLogicOperator = logicop && ' ' + logicop + ' ' || '';\n  if (operator === 'IN') {\n    var _value = Array.isArray(value) ? value : [value];\n    var filterValue = '( ' + _value.map(function (value) {\n      return '\\'' + value + '\\'';\n    }).join(',').replace(/,/g, ' , ') + ' )';\n    filterElement = '\"' + attribute + '\" ' + filterOp + ' ' + filterValue + filterLogicOperator;\n  } else if (value !== null && value !== undefined && !(Number.isNaN(value) || !value.toString().trim())) {\n    var singolequote = typeof value !== 'number' ? value.split(\"'\") : [];\n    if (singolequote.length > 1) {\n      var _filterElements = [];\n      for (var i = 0; i < singolequote.length; i++) {\n        var _value2 = singolequote[i];\n        if (!_value2) continue;\n        var _filterOp = 'ILIKE';\n        var _filterValue = ('%' + _value2 + '%').trim();\n        var _filterElement = '\"' + attribute + '\" ' + _filterOp + ' \\'' + _filterValue + '\\'';\n        _filterElements.push(_filterElement);\n      }\n      filterElement = '' + _filterElements.join(' AND ') + filterLogicOperator;\n    } else filterElement = '\"' + attribute + '\" ' + filterOp + ' \\'' + valueExtra + value + valueExtra + '\\'' + filterLogicOperator;\n  }\n  return filterElement;\n};\n\nproto.createExpressionFromFilterObject = function () {\n  var _this = this;\n\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var filterElements = [];\n  var rootFilter = void 0;\n  for (var operator in filter) {\n    rootFilter = _constant.FILTER_EXPRESSION_OPERATORS[operator];\n    var inputs = filter[operator];\n    inputs.forEach(function (input) {\n      for (var _operator in input) {\n        var _value3 = input[_operator];\n        if (Array.isArray(_value3)) {\n          _this.createExpressionFromFilterObject(input);\n        } else {\n          var _field = input[_operator];\n          for (var attribute in _field) {\n            var _value4 = _field[attribute];\n            var fieldElement = _this.createSingleExpressionElement({\n              value: _value4,\n              operator: _operator,\n              attribute: attribute\n            });\n            filterElements.push(fieldElement);\n          }\n        }\n      }\n    });\n    rootFilter = filterElements.length > 0 ? filterElements.join(\" \" + rootFilter + \" \") : false;\n  }\n  return rootFilter;\n};\n\nproto.createExpressionFromField = function (_ref2) {\n  var layerName = _ref2.layerName,\n      field = _ref2.field,\n      value = _ref2.value,\n      _ref2$operator = _ref2.operator,\n      operator = _ref2$operator === undefined ? 'eq' : _ref2$operator;\n\n  var filter = this.createSingleExpressionElement({\n    attribute: field,\n    value: value,\n    operator: operator\n  });\n  this._expression = layerName + ':' + filter;\n  return this;\n};\n\nproto.createExpressionFromFilterArray = function () {\n  var _this2 = this;\n\n  var inputs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var filter = '';\n  // set logicop of last element to null\n  var inputsLength = inputs.length ? inputs.length - 1 : inputs.length;\n  inputs.forEach(function (input, index) {\n    var filterElement = _this2.createSingleExpressionElement(input);\n    filter = '' + filter + (input.logicop && index === inputsLength ? filterElement.substring(0, filterElement.length - (input.logicop.length + 1)) : filterElement);\n  });\n  return filter || undefined;\n};\n\nproto.createExpressionFromFilter = function (filter, layerName) {\n  var filterParam = Array.isArray(filter) ? this.createExpressionFromFilterArray(filter) : this.createExpressionFromFilterObject(filter);\n  if (filterParam) this._expression = layerName + ':' + filterParam;\n  return this;\n};\n\nmodule.exports = Expression;\n\n},{\"app/constant\":4}],30:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// class Filter to build filter\n// useful by provider providers to get data\nfunction Filter() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._filter = null;\n  this._type = null;\n  this.config = config;\n}\n\nvar proto = Filter.prototype;\n\n/**\n * Config methods\n */\n\nproto.getConfig = function () {\n  return this.config;\n};\n\nproto.setConfig = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n};\n\nproto.mergeConfig = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = _extends({}, this.config, config);\n};\n\n/***\n *  end config methods\n */\n\nproto.getAll = function () {\n  this._type = Filter.TYPES.all;\n  this._filter = null;\n};\n\n// to create complex filter\nproto.setExpression = function (expression) {\n  this._type = Filter.TYPES.expression;\n  this._filter = expression;\n};\n\nproto.setGeometry = function (geometry) {\n  this._type = Filter.TYPES.geometry;\n  this._filter = geometry;\n  return this;\n};\n\nproto.setBBOX = function (bbox) {\n  this._type = Filter.TYPES.bbox;\n  this._filter = bbox;\n  return this;\n};\n\nproto.setFids = function (ids) {\n  this._type = Filter.TYPES.fids;\n  this._filter = ids;\n  return this;\n};\n\nproto.serialize = function () {\n  return JSON.stringify(this);\n};\n\n// get filter value\nproto.get = function () {\n  return this._filter;\n};\n\nproto.getType = function () {\n  return this._type;\n};\n\nproto.clear = function () {\n  this._filter = null;\n};\n\nFilter.TYPES = {\n  bbox: 'bbox',\n  geometry: 'geometry',\n  expression: 'expression',\n  fids: 'fids',\n  all: 'all'\n};\n\nmodule.exports = Filter;\n\n},{}],31:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar VectorLayer = require('core/layers/vectorlayer');\nvar GeojsonMapLayer = require('core/layers/map/geojson');\n\nfunction GeojsonLayer(config, options) {\n  base(this, config, options);\n  this.config.style = config.style;\n  this.setup(config);\n}\n\ninherit(GeojsonLayer, VectorLayer);\n\nvar proto = GeojsonLayer.prototype;\n\nproto.getMapLayer = function () {\n  if (this._mapLayer) return this._mapLayer;\n  var url = this.get('source').url;\n  var name = this.getName();\n  var id = this.getId();\n  var style = this.get('style');\n  var provider = this.getProvider('data');\n  var options = {\n    url: url,\n    projection: this.getProjection().getCode(),\n    id: id,\n    name: name,\n    style: style,\n    provider: provider\n  };\n  this._mapLayer = new GeojsonMapLayer(options);\n  return this._mapLayer;\n};\n\nmodule.exports = GeojsonLayer;\n\n},{\"core/layers/map/geojson\":42,\"core/layers/vectorlayer\":57,\"core/utils/utils\":67}],32:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nvar _require = require('core/utils/ol'),\n    getScaleFromResolution = _require.getScaleFromResolution;\n\nvar _require2 = require('core/utils/geo'),\n    createFeatureFromFeatureObject = _require2.createFeatureFromFeatureObject;\n\nvar _require3 = require('core/utils/utils'),\n    XHR = _require3.XHR,\n    sanitizeUrl = _require3.sanitizeUrl;\n\nvar RESERVERDPARAMETRS = {\n  wms: ['VERSION', 'REQUEST', 'BBOX', 'LAYERS', 'WIDTH', 'HEIGHT', 'DPI', 'FORMAT', 'CRS']\n};\n\nfunction GeoLayerMixin() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n}\n\nvar proto = GeoLayerMixin.prototype;\n\nproto.setup = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!this.config) {\n    console.log(\"GeoLayerMixin must be used from a valid (geo) Layer instance\");\n    return;\n  }\n  var project = options.project;\n\n  this.config.map_crs = project.getProjection().getCode();\n  this.config.multilayerid = config.multilayer;\n  this.legendCategories = {};\n  // Features that contain\n  this.olSelectionFeatures = {}; // key id / fid of feature and values is an object with feature and added\n  // state extend of layer setting geolayer property to true\n  // and adding information of bbox\n  _.extend(this.state, {\n    geolayer: config.geometrytype !== \"NoGeometry\",\n    legend: {\n      url: null,\n      loading: false,\n      error: false,\n      /**\n       * @deprecated since 3.8. Will be removed in 4.x. Use `expanded` attribute instead\n       */\n      show: true,\n      change: false // used for when categories changed (checkbox on TOC) and legend is on TAB\n    },\n    external: config.source && config.source.external || false,\n    bbox: config.bbox || null,\n    visible: config.visible || false,\n    checked: config.visible || false,\n    epsg: config.crs.epsg,\n    hidden: config.hidden || false,\n    scalebasedvisibility: config.scalebasedvisibility || false,\n    minscale: config.minscale,\n    maxscale: config.maxscale,\n    ows_method: config.ows_method,\n\n    /**\n     * @type {boolean}\n     */\n    exclude_from_legend: typeof config.exclude_from_legend == 'boolean' ? config.exclude_from_legend : true,\n\n    /**\n     * Has more than one categories legend\n     * \n     * @type {boolean}\n     */\n    categories: false,\n\n    /**\n     * Toggle legend item state (expandend or collapsed) in catalog layers (TOC)\n     * \n     * @type {number}\n     *\n     * @since v3.8\n     */\n    expanded: config.expanded,\n\n    /**\n     * Layer opacity\n     * \n     * @type {number} opacity range = [0, 100]\n     * \n     * @since v3.8\n     */\n    opacity: config.opacity || 100\n\n  });\n  if (config.projection) this.config.projection = config.projection.getCode() === config.crs.epsg ? config.projection : Projections.get(config.crs);\n  if (config.attributions) this.config.attributions = config.attributions;\n  config.source && config.source.url && this._sanitizeSourceUrl();\n};\n\n/**\n * Legend Graphic section\n */\nproto.getLegendGraphic = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$all = _ref.all,\n      all = _ref$all === undefined ? true : _ref$all;\n\n  var legendParams = _application2.default.getConfig().layout ? _application2.default.getConfig().layout.legend : {};\n  var legendurl = this.getLegendUrl(legendParams, {\n    categories: true,\n    all: all, // true meaning no bbox no filter just all referred to\n    format: 'application/json' // is the format to request categories (icon and label of each category)\n  });\n  return XHR.get({\n    url: legendurl\n  });\n};\n\n/**\n * Set layer categories legend\n * @param categories\n */\nproto.setCategories = function () {\n  var categories = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.legendCategories[this.getCurrentStyle().name] = categories;\n  //set categories state attribute to true only if exist at least a rule key\n  this.state.categories = categories.length > 0 && categories.filter(function (category) {\n    return category.ruleKey;\n  }).length > 0;\n};\n\n/**\n * Return eventually categories of layers legend\n * @returns {string[] | string | [] | *[] | boolean | {default: {level: *, appenders: string[]}}}\n */\nproto.getCategories = function () {\n  return this.legendCategories[this.getCurrentStyle().name];\n};\n\nproto.clearCategories = function () {\n  this.legendCategories = {};\n  this.state.categories = false;\n};\n\n/**\n * End Legend Graphic section\n */\n\n/**\n * Clear all selection openlayer features\n */\nproto.clearOlSelectionFeatures = function () {\n  this.olSelectionFeatures = null;\n};\n\n/**\n * Get openlayer selection feature by feature id\n * @param id\n * @returns {*}\n */\nproto.getOlSelectionFeature = function (id) {\n  return this.olSelectionFeatures[id];\n};\n\nproto.updateOlSelectionFeature = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      feature = _ref2.feature;\n\n  var featureObject = this.getOlSelectionFeature(id);\n  if (featureObject) {\n    featureObject.feature = feature;\n    var _mapService = _gui2.default.getService('map');\n    _mapService.setSelectionFeatures('update', {\n      feature: feature\n    });\n  }\n};\n\n/**\n * Delete openlayer feature selection by feature id\n * @param id\n */\nproto.deleteOlSelectionFeature = function (id) {\n  var featureObject = this.olSelectionFeatures[id];\n  if (featureObject) {\n    mapService.setSelectionFeatures('remove', {\n      feature: featureObject.feature\n    });\n    delete this.olSelectionFeatures[id];\n  }\n};\n\n/**\n * Get all openlyare feature selection\n * @returns {{}|null}\n */\nproto.getOlSelectionFeatures = function () {\n  return this.olSelectionFeatures;\n};\n\nproto.addOlSelectionFeature = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref3.id,\n      feature = _ref3.feature;\n\n  this.olSelectionFeatures[id] = this.olSelectionFeatures[id] || {\n    feature: createFeatureFromFeatureObject({ id: id, feature: feature }),\n    added: false\n  };\n  return this.olSelectionFeatures[id];\n};\n\nproto.showAllOlSelectionFeatures = function () {\n  var mapService = _gui2.default.getService('map');\n  Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n    !featureObject.added && mapService.setSelectionFeatures('add', {\n      feature: featureObject.feature\n    });\n    featureObject.added = true;\n  });\n};\n\nproto.setInversionOlSelectionFeatures = function () {\n  var mapService = _gui2.default.getComponent('map').getService();\n  Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n    mapService.setSelectionFeatures(featureObject.added ? 'remove' : 'add', {\n      feature: featureObject.feature\n    });\n    featureObject.added = !featureObject.added;\n  });\n};\n\nproto.setOlSelectionFeatureByFid = function (fid, action) {\n  var feature = this.olSelectionFeatures[fid] && this.olSelectionFeatures[fid].feature;\n  return feature && this.setOlSelectionFeatures({ id: fid, feature: feature }, action);\n};\n\nproto.setOlSelectionFeatures = function (feature) {\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'add';\n\n  var mapService = _gui2.default.getComponent('map').getService();\n  if (!feature) {\n    Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n      featureObject.added && mapService.setSelectionFeatures('remove', {\n        feature: featureObject.feature\n      });\n      featureObject.added = false;\n    });\n  } else {\n    var featureObject = this.olSelectionFeatures[feature.id] || this.addOlSelectionFeature(feature);\n    if (action === 'add') {\n      if (!featureObject.added) {\n        /**\n         * add a property of feature __layerId used whe we work with selected Layer features\n         */\n        featureObject.feature.__layerId = this.getId();\n        mapService.setSelectionFeatures(action, {\n          feature: featureObject.feature\n        });\n        featureObject.added = true;\n      }\n    } else {\n      mapService.setSelectionFeatures(action, {\n        feature: featureObject.feature\n      });\n      featureObject.added = false;\n    }\n  }\n  return !Object.values(this.olSelectionFeatures).find(function (featureObject) {\n    return featureObject.added;\n  });\n};\n\n/**\n * Create a get parameter url right\n * @param type\n * @private\n */\nproto._sanitizeSourceUrl = function () {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n\n  var sanitizedUrl = sanitizeUrl({\n    url: this.config.source.url,\n    reserverParameters: RESERVERDPARAMETRS[type]\n  });\n  this.config.source.url = sanitizedUrl;\n};\n\nproto.isLayerCheckedAndAllParents = function () {\n  var checked = this.isChecked();\n  if (checked) {\n    var parentGroup = this.state.parentGroup;\n    while (checked && parentGroup) {\n      checked = checked && parentGroup.checked;\n      parentGroup = parentGroup.parentGroup;\n    }\n  }\n  return checked;\n};\n\nproto.setChecked = function (bool) {\n  this.state.checked = bool;\n};\n\nproto.isChecked = function () {\n  return this.state.checked;\n};\n\n/**\n * Is a method that check for visiblitity dissabled (based on scalevisibility) and checked on toc\n * @param bool\n * @returns {*}\n */\nproto.setVisible = function (bool) {\n  //check if is changed\n  var oldVisibile = this.state.visible;\n  this.state.visible = bool && this.isChecked(); // bool and is checked\n  var changed = oldVisibile !== this.state.visible;\n  //if changed call change\n  changed && this.change();\n  return this.state.visible;\n};\n\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.isDisabled = function () {\n  return this.state.disabled;\n};\n\nproto.isPrintable = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      scale = _ref4.scale;\n\n  return this.isLayerCheckedAndAllParents() && (!this.state.scalebasedvisibility || scale >= this.state.maxscale && scale <= this.state.minscale);\n};\n\n//get style form layer\nproto.getStyles = function () {\n  return this.config.source.external ? this.config.source.styles : this.config.styles;\n};\n\nproto.getStyle = function () {\n  return this.config.source.external ? this.config.source.styles : this.config.styles ? this.config.styles.find(function (style) {\n    return style.current;\n  }).name : '';\n};\n\n/**\n * Get transparency property\n * \n * @returns {number}\n * \n * @since v3.8\n */\n\nproto.getOpacity = function () {\n  return this.state.opacity;\n};\n\n/**\n * Method to change current style  of layer\n * @param currentStyleName\n * @returns {boolean}\n */\nproto.setCurrentStyle = function (currentStyleName) {\n  var changed = false;\n  this.config.styles.forEach(function (style) {\n    if (style.name === currentStyleName) changed = !style.current;\n    style.current = style.name === currentStyleName;\n  });\n  return changed;\n};\n\nproto.getCurrentStyle = function () {\n  return this.config.styles.find(function (style) {\n    return style.current;\n  });\n};\n\n/**\n * Disable layer by check scalevisibility configuration value\n * @param resolution\n * @param mapUnits\n */\nproto.setDisabled = function (resolution) {\n  var mapUnits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'm';\n\n  if (this.state.scalebasedvisibility) {\n    var mapScale = getScaleFromResolution(resolution, mapUnits);\n    this.state.disabled = !(mapScale >= this.state.maxscale && mapScale <= this.state.minscale);\n    this.state.disabled = this.state.minscale === 0 ? !(mapScale >= this.state.maxscale) : this.state.disabled;\n    // needed to check if call setVisible if change disable property\n    // looping through parentfolter checked\n    var setVisible = true;\n    var parentGroup = this.state.parentGroup;\n    while (parentGroup) {\n      setVisible = setVisible && parentGroup.checked;\n      parentGroup = parentGroup.parentGroup;\n    }\n    setVisible && this.setVisible(!this.state.disabled);\n    // change toc highlight property based on disabled otr not\n    this.isFilterable() && this.setTocHighlightable(!this.state.disabled);\n  } else this.state.disabled = false;\n};\n\nproto.getMultiLayerId = function () {\n  return this.config.multilayerid;\n};\n\nproto.getGeometryType = function () {\n  return this.config.geometrytype;\n};\n\nproto.getOwsMethod = function () {\n  return this.config.ows_method;\n};\n\nproto.setProjection = function () {\n  var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config.projection = Projections.get(crs);\n};\n\nproto.getProjection = function () {\n  return this.config.projection;\n};\n\nproto.getEpsg = function () {\n  return this.config.crs.epsg;\n};\n\nproto.getCrs = function () {\n  return this.config.projection && this.config.projection.getCode() || null;\n};\n\nproto.getMapCrs = function () {\n  return this.config.map_crs;\n};\n\nproto.isCached = function () {\n  return this.config.cache_url && this.config.cache_url !== '';\n};\n\nproto.getCacheUrl = function () {\n  if (this.isCached()) return this.config.cache_url;\n};\n\n// return if layer has inverted axis\nproto.hasAxisInverted = function () {\n  var projection = this.getProjection();\n  var axisOrientation = projection.getAxisOrientation ? projection.getAxisOrientation() : \"enu\";\n  return axisOrientation.substr(0, 2) === 'ne';\n};\n\nproto.getMapLayer = function () {\n  console.log('overwrite by single layer');\n};\n\nproto.setMapProjection = function (mapProjection) {\n  this._mapProjection = mapProjection;\n};\n\nproto.getMapProjection = function () {\n  return this._mapProjection;\n};\n\nmodule.exports = GeoLayerMixin;\n\n},{\"core/utils/geo\":64,\"core/utils/ol\":65,\"core/utils/utils\":67,\"g3w-ol/projection/projections\":110,\"services/application\":350,\"services/gui\":360}],33:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    mixin = _require.mixin;\n\nvar Layer = require('core/layers/layer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar WMSTLayer = require('core/layers/map/wmstlayer');\nvar ARCGISMAPSERVERLayer = require('core/layers/map/arcgismapserverlayer');\nvar XYZLayer = require('core/layers/map/xyzlayer');\nvar LegendService = require('core/layers/legend/legendservice');\nvar GeoLayerMixin = require('core/layers/geolayermixin');\n\nfunction ImageLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  /*{\n    id,\n    title,\n    name,\n    origname,\n    multilayerid,\n    servertype,\n    source,\n    crs,\n    projection,\n    bbox,\n    capabilities,\n    cache_url,\n    baselayer,\n    geometrytype,\n    editops,\n    expanded,\n    fields,\n    wmsUrl,\n    infoformat,\n    infourl,\n    maxscale,\n    minscale,\n    visible,\n    scalebasedvisibility,\n    wfscapabilities\n    ows_method\n    wms_use_layer_ids,\n    styles\n  }*/\n  this.setters = {\n    change: function change() {}\n  };\n\n  base(this, config, options);\n  this.config.baselayer = config.baselayer || false;\n  this.type = Layer.LayerTypes.IMAGE;\n  this.legendUrl = null;\n  this.customParams = {};\n  this.setup(config, options);\n}\n\ninherit(ImageLayer, Layer);\n\nmixin(ImageLayer, GeoLayerMixin);\n\nvar proto = ImageLayer.prototype;\n\nproto.getLayerForEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$force = _ref2.force,\n      force = _ref2$force === undefined ? false : _ref2$force,\n      vectorurl = _ref2.vectorurl,\n      project_type = _ref2.project_type,\n      project = _ref2.project;\n\n  var _project, editableLayer, editingLayer;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!(this.isEditable() || force)) {\n            _context.next = 16;\n            break;\n          }\n\n          _project = _project || _projects2.default.getCurrentProject();\n          editableLayer = new VectorLayer(this.config, {\n            vectorurl: vectorurl,\n            project_type: project_type,\n            project: _project\n          });\n          // set editing layer\n\n          _context.prev = 3;\n          _context.next = 6;\n          return editableLayer.layerForEditing;\n\n        case 6:\n          editingLayer = _context.sent;\n\n          this.setEditingLayer(editingLayer);\n          return _context.abrupt('return', editingLayer);\n\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context['catch'](3);\n          return _context.abrupt('return', Promise.reject(_context.t0));\n\n        case 14:\n          _context.next = 17;\n          break;\n\n        case 16:\n          return _context.abrupt('return', null);\n\n        case 17:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[3, 11]]);\n}));\n\nproto.isBaseLayer = function () {\n  return this.config.baselayer;\n};\n\nproto.isWMS = function () {\n  return ImageLayer.WMSServerTypes.indexOf(this.config.servertype) > -1;\n};\n\nproto.isLayerProjectionASMapProjection = function () {\n  return this.config.crs.epsg === this.config.map_crs;\n};\n\nproto.getCrs = function () {\n  return this.config.crs.epsg;\n};\n\nproto.isExternalWMS = function () {\n  return !!(this.config.source && this.config.source.external && this.config.source.url);\n};\n\nproto.isArcgisMapserver = function () {\n  return this.isExternalWMS() && this.config.source.type === Layer.SourceTypes.ARCGISMAPSERVER;\n};\n\nproto._getBaseLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.getWMSLayerName = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'map' : _ref3$type;\n\n  var legendMapBoolean = type === 'map' ? this.isExternalWMS() && this.isLayerProjectionASMapProjection() : true;\n  var layerName = this._getBaseLayerName();\n  if (legendMapBoolean && this.config.source && (type === 'legend' || this.config.source.external) && (this.config.source.layers || this.config.source.layer)) {\n    layerName = this.config.source.layers || this.config.source.layer;\n  }\n  return layerName;\n};\n\n// values: map, legend\nproto.getWmsUrl = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$type = _ref4.type,\n      type = _ref4$type === undefined ? 'map' : _ref4$type;\n\n  var legendMapBoolean = type === 'map' ? this.isExternalWMS() && this.isLayerProjectionASMapProjection() : true;\n  var wmsUrl = legendMapBoolean && this.config.source && (type === 'legend' || this.config.source.external) && (this.config.source.type === 'wms' || this.config.source.type === 'wmst') && this.config.source.url ? this.config.source.url : this.config.wmsUrl;\n  return wmsUrl;\n};\n\nproto.getWFSLayerName = function () {\n  return this.getQueryLayerName().replace(/[/\\s]/g, '_');\n};\n\nproto.useProxy = function () {\n  return this.isExternalWMS() && this.isLayerProjectionASMapProjection() && this.getInfoFormats();\n};\n\nproto.getWMSInfoLayerName = function () {\n  if (this.isExternalWMS() && this.isLayerProjectionASMapProjection() && this.getInfoFormats()) {\n    return this.getSource().layers;\n  } else return this._getBaseLayerName();\n};\n\nproto.getPrintLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.getStringBBox = function () {\n  var bbox = this.config.bbox;\n  return bbox.minx + ',' + bbox.miny + ',' + bbox.maxx + ',' + bbox.maxy;\n};\n\nproto.isWfsActive = function () {\n  return Array.isArray(this.config.ows) && this.config.ows.find(function (ows_type) {\n    return ows_type === 'WFS';\n  }) !== undefined;\n};\n\n/**\n * Metyhod to get wms url of the layer\n * @returns {*}\n */\nproto.getFullWmsUrl = function () {\n  var metadata_wms_url = _projects2.default.getCurrentProject().getState().metadata.wms_url;\n  return this.isExternalWMS() || !metadata_wms_url ? this.getWmsUrl() : metadata_wms_url;\n};\n\n//used to Catalog layer menu to show wms url\nproto.getCatalogWmsUrl = function () {\n  var metadata_wms_url = _projects2.default.getCurrentProject().getMetadata().wms_url;\n  var catalogWmsUrl = this.isExternalWMS() || !metadata_wms_url ? this.getWmsUrl() + '?service=WMS&version=1.3.0&request=GetCapabilities' : metadata_wms_url;\n  return catalogWmsUrl;\n};\n\n//used to Catalog layer menu to show wfs url\nproto.getCatalogWfsUrl = function () {\n  return this.getWfsUrl() + '?service=WFS&version=1.1.0&request=GetCapabilities';\n};\n\nproto.getWfsUrl = function () {\n  return _projects2.default.getCurrentProject().getMetadata().wms_url || this.config.wmsUrl;\n};\n\n/**\n * Get query url based on type, external or same projection of map\n * @returns {string}\n */\nproto.getQueryUrl = function () {\n  var url = base(this, 'getQueryUrl');\n  if (this.getServerType() === Layer.ServerTypes.QGIS && this.isExternalWMS() && this.isLayerProjectionASMapProjection()) {\n    if (this.getInfoFormats()) url = this.getSource().url;else url = url + 'SOURCE=' + this.config.source.type;\n  }\n  return url;\n};\n\nproto.getIconUrlFromLegend = function () {\n  return this.getLegendUrl({\n    layertitle: false\n  });\n};\n\nproto.getLegendUrl = function () {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.legendUrl = LegendService.get({\n    layer: this,\n    params: _extends({}, params, this.customParams),\n    options: options\n  });\n  return this.legendUrl;\n};\n\nproto.setMapParamstoLegendUrl = function (_ref5) {\n  var bbox = _ref5.bbox,\n      crs = _ref5.crs;\n\n  this.customParams = _extends({}, this.customParams, {\n    bbox: bbox,\n    crs: crs\n  });\n};\n\nproto.getWfsCapabilities = function () {\n  return this.config.wfscapabilities || this.config.capabilities === 1;\n};\n\nproto.getMapLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments[1];\n\n  var iframe_internal = _application2.default.isIframe() && !this.isExternalWMS();\n  options.iframe_internal = iframe_internal;\n  var mapLayer = void 0;\n  var method = this.isExternalWMS() ? 'GET' : this.getOwsMethod();\n  if (this.isCached()) {\n    options.extent = this.config.bbox ? [this.config.bbox.minx, this.config.bbox.miny, this.config.bbox.maxx, this.config.bbox.maxy] : null;\n    mapLayer = new XYZLayer(options, method);\n  } else {\n    if (this.isExternalWMS() && this.config.source && this.config.source.type === Layer.SourceTypes.ARCGISMAPSERVER) {\n      options = _extends({}, options, this.config.source);\n      mapLayer = new ARCGISMAPSERVERLayer(options, extraParams);\n    } else {\n      options.url = options.url || this.getWmsUrl();\n      /** check in case WMST Layer\n       *\n       */\n      if (this.isExternalWMS() && this.config.source && this.config.source.type === Layer.SourceTypes.WMST) mapLayer = new WMSTLayer(options, extraParams, method);else mapLayer = new WMSLayer(options, extraParams, method);\n    }\n  }\n  return mapLayer;\n};\n\nImageLayer.WMSServerTypes = [Layer.ServerTypes.QGIS, Layer.ServerTypes.Mapserver, Layer.ServerTypes.Geoserver, Layer.ServerTypes.OGC];\n\nmodule.exports = ImageLayer;\n\n},{\"core/layers/geolayermixin\":32,\"core/layers/layer\":34,\"core/layers/legend/legendservice\":39,\"core/layers/map/arcgismapserverlayer\":41,\"core/layers/map/wmslayer\":45,\"core/layers/map/wmstlayer\":46,\"core/layers/map/xyzlayer\":47,\"core/layers/vectorlayer\":57,\"core/utils/utils\":67,\"services/application\":350,\"store/projects\":378}],34:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('app/constant');\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    inherit = _require2.inherit,\n    base = _require2.base,\n    XHR = _require2.XHR;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require3 = require('core/utils/geo'),\n    geometryFields = _require3.geometryFields,\n    parseAttributes = _require3.parseAttributes;\n\nvar Relations = require('core/relations/relations');\nvar ProviderFactory = require('core/layers/providers/providersfactory');\n\n// Base Class of all Layer\nfunction Layer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\n  this.config = config;\n\n  // assign some attribute\n  config.id = config.id || 'Layer';\n  config.title = config.title || config.name;\n  config.download = !!config.download;\n  config.geolayer = false;\n  config.baselayer = !!config.baselayer;\n  config.fields = config.fields || {};\n  config.urls = _extends({\n    query: config.infourl && '' !== config.infourl ? config.infourl : config.wmsUrl\n  }, config.urls || {});\n\n  var _options$project = options.project,\n      project = _options$project === undefined ? _projects2.default.getCurrentProject() : _options$project;\n\n\n  this.config.search_endpoint = project.getSearchEndPoint();\n\n  // create relations\n  this._relations = this._createRelations(project.getRelations());\n\n  // set URLs to get varios type of data\n  if (!this.isBaseLayer()) {\n    var suffixUrl = project.getType() + '/' + project.getId() + '/' + config.id + '/';\n    var vectorUrl = project.getVectorUrl();\n    var rasterUrl = project.getRasterUrl();\n\n    this.config.urls.filtertoken = vectorUrl + 'filtertoken/' + suffixUrl;\n    this.config.urls.data = vectorUrl + 'data/' + suffixUrl;\n    this.config.urls.shp = vectorUrl + 'shp/' + suffixUrl;\n    this.config.urls.csv = vectorUrl + 'csv/' + suffixUrl;\n    this.config.urls.xls = vectorUrl + 'xls/' + suffixUrl;\n    this.config.urls.gpx = vectorUrl + 'gpx/' + suffixUrl;\n    this.config.urls.gpkg = vectorUrl + 'gpkg/' + suffixUrl;\n    this.config.urls.geotiff = rasterUrl + 'geotiff/' + suffixUrl;\n    this.config.urls.editing = vectorUrl + 'editing/' + suffixUrl;\n    this.config.urls.commit = vectorUrl + 'commit/' + suffixUrl;\n    this.config.urls.config = vectorUrl + 'config/' + suffixUrl;\n    this.config.urls.unlock = vectorUrl + 'unlock/' + suffixUrl;\n    this.config.urls.widget = {\n      unique: vectorUrl + 'widget/unique/data/' + suffixUrl\n    };\n\n    /**\n     * @since 3.8.0\n     */\n    this.config.urls.featurecount = project.getUrl('featurecount');\n\n    /**\n     * Custom parameters based on project qgis version\n     */\n    this.config.searchParams = { I: 0, J: 0 };\n  }\n\n  // dinamic layer values useful for layerstree\n  var defaultstyle = config.styles && config.styles.find(function (style) {\n    return style.current;\n  }).name;\n\n  this.state = {\n\n    id: config.id,\n\n    title: config.title,\n\n    selected: config.selected || false,\n\n    disabled: config.disabled || false,\n\n    metadata: config.metadata,\n\n    metadata_querable: this.isBaseLayer() ? false : this.isQueryable({ onMap: false }),\n\n    openattributetable: this.isBaseLayer() ? false : this.canShowTable(),\n\n    removable: config.removable || false,\n\n    downloadable: this.isDownloadable(),\n\n    source: config.source,\n\n    styles: config.styles,\n\n    defaultstyle: defaultstyle,\n\n    inediting: false, // state of if is in editing (setted by editing plugin )\n\n    infoformat: this.getInfoFormat(),\n\n    infoformats: this.config.infoformats || [],\n\n    projectLayer: true,\n\n    geolayer: false,\n\n    selection: {\n      active: false\n    },\n\n    filter: {\n      active: false\n    },\n\n    attributetable: {\n      pageLength: null\n    },\n\n    visible: config.visible || false,\n\n    tochighlightable: false,\n\n    /**\n     * @type {number}\n     * \n     * @since 3.8.0\n     */\n    featurecount: config.featurecount,\n\n    /**\n     * @FIXME add type tag\n     * \n     * @since 3.8.0\n     */\n    stylesfeaturecount: config.featurecount && defaultstyle && _defineProperty({}, defaultstyle, config.featurecount)\n\n  };\n\n  // add selectionFids\n  this.selectionFids = new Set();\n\n  // referred to (layersstore);\n  this._layersstore = config.layersstore || null;\n\n  /*\n    Providers that layer can use\n     Three type of provider:\n      1 - query\n      2 - filter\n      3 - data -- raw data del layer (editing)\n   */\n  var serverType = this.config.servertype;\n  var sourceType = this.config.source ? this.config.source.type : null; // NB: sourceType = source of layer\n\n  if (serverType && sourceType) {\n    this.providers = {\n      query: ProviderFactory.build('query', serverType, sourceType, { layer: this }),\n      filter: ProviderFactory.build('filter', serverType, sourceType, { layer: this }),\n      filtertoken: ProviderFactory.build('filtertoken', serverType, sourceType, { layer: this }),\n      search: ProviderFactory.build('search', serverType, sourceType, { layer: this }),\n      data: ProviderFactory.build('data', serverType, sourceType, { layer: this })\n    };\n  }\n\n  /**\n   * Store last proxy params (useful for repeat request info formats for wms external layer)\n   */\n  this.proxyData = {\n    wms: null // at the moment only wms data from server\n  };\n\n  base(this);\n}\n\ninherit(Layer, G3WObject);\n\nvar proto = Layer.prototype;\n\n/**\n * Proxyparams\n */\nproto.getProxyData = function (type) {\n  return type ? this.proxyData[type] : this.proxyData;\n};\n\nproto.setProxyData = function (type) {\n  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.proxyData[type] = data;\n};\n\nproto.clearProxyData = function (type) {\n  this.proxyData[type] = null;\n};\n\nproto.getDataProxyFromServer = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n  var proxyParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _ref3, response, data;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _data2.default.getData('proxy:' + type, {\n            inputs: proxyParams,\n            outputs: false\n          });\n\n        case 3:\n          _ref3 = _context.sent;\n          response = _ref3.response;\n          data = _ref3.data;\n\n          this.setProxyData(type, JSON.parse(data));\n          return _context.abrupt('return', response);\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context['catch'](0);\n          return _context.abrupt('return');\n\n        case 13:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[0, 10]]);\n}));\n\nproto.changeProxyDataAndReloadFromServer = function () {\n  var _this = this;\n\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n  var changes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  Object.keys(changes).forEach(function (changeParam) {\n    Object.keys(changes[changeParam]).forEach(function (param) {\n      _this.proxyData[type][changeParam][param] = changes[changeParam][param];\n    });\n  });\n  return this.getDataProxyFromServer(type, this.proxyData[type]);\n};\n\n/**\n * editing method used by plugin\n */\n\nproto.isInEditing = function () {\n  return this.state.inediting;\n};\n\nproto.setInEditing = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.inediting = bool;\n};\n\n/**\n * end proxy params\n */\n\nproto.getSearchParams = function () {\n  return this.config.searchParams;\n};\n\n/**\n *\n * @returns {*}\n */\nproto.getSearchEndPoint = function () {\n  return this.getType() !== Layer.LayerTypes.TABLE ? this.config.search_endpoint : \"api\";\n};\n\n//relations\nproto._createRelations = function (projectRelations) {\n  var layerId = this.getId();\n  return new Relations({\n    relations: projectRelations.filter(function (relation) {\n      return -1 !== [relation.referencedLayer, relation.referencingLayer].indexOf(layerId);\n    })\n  });\n};\n\n// return relations of layer\nproto.getRelations = function () {\n  return this._relations;\n};\n\nproto.getRelationById = function (id) {\n  return this._relations.getArray().find(function (relation) {\n    return relation.getId() === id;\n  });\n};\n\nproto.getRelationAttributes = function (relationName) {\n  var relation = this._relations.find(function (relation) {\n    return relation.name === relationName;\n  });\n  return relation ? relation.fields : [];\n};\n\nproto.getRelationsAttributes = function () {\n  var fields = {};\n  this.state.relations.forEach(function (relation) {\n    return fields[relation.name] = relation.fields;\n  });\n  return fields;\n};\n\nproto.isChild = function () {\n  return this.getRelations() ? this._relations.isChild(this.getId()) : false;\n};\n\nproto.isFather = function () {\n  return this.getRelations() ? this._relations.isFather(this.getId()) : false;\n};\n\nproto.getChildren = function () {\n  return this.isFather() ? this._relations.getChildren(this.getId()) : [];\n};\n\nproto.getFathers = function () {\n  return this.isChild() ? this._relations.getFathers(this.getId()) : [];\n};\n\nproto.hasChildren = function () {\n  return this.hasRelations() ? this._relations.hasChildren(this.getId()) : false;\n};\n\nproto.hasFathers = function () {\n  return this.hasRelations() ? this._relations.hasFathers(this.getId()) : false;\n};\n\nproto.hasRelations = function () {\n  return !!this._relations;\n};\n//end relations\n\n\n// global state\nproto.setAttributeTablePageLength = function (pageLength) {\n  this.state.attributetable.pageLength = pageLength;\n};\n\nproto.getAttributeTablePageLength = function () {\n  return this.state.attributetable.pageLength;\n};\n\n// end global state\n\n//filter token\nproto.setFilter = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.filter.active = bool;\n};\n\nproto.getFilterActive = function () {\n  return this.state.filter.active;\n};\n\nproto.toggleFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          this.state.filter.active = !this.state.filter.active;\n          _context2.next = 3;\n          return this.activeFilterToken(this.state.filter.active);\n\n        case 3:\n          return _context2.abrupt('return', this.state.filter.active);\n\n        case 4:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\nproto.activeFilterToken = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(bool) {\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return bool;\n\n          case 2:\n            if (!_context3.sent) {\n              _context3.next = 6;\n              break;\n            }\n\n            this.createFilterToken();\n            _context3.next = 7;\n            break;\n\n          case 6:\n            this.deleteFilterToken();\n\n          case 7:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function (_x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * @fires filtertokenchange\n */\nproto.deleteFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n  return regeneratorRuntime.wrap(function _callee4$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n\n          if (this.providers['filtertoken']) {\n            _context4.next = 3;\n            break;\n          }\n\n          return _context4.abrupt('return');\n\n        case 3:\n          _context4.next = 5;\n          return this.providers['filtertoken'].deleteFilterToken();\n\n        case 5:\n          _application2.default.setFilterToken(null);\n          this.emit('filtertokenchange', { layerId: this.getId() });\n          _context4.next = 12;\n          break;\n\n        case 9:\n          _context4.prev = 9;\n          _context4.t0 = _context4['catch'](0);\n\n          console.log('Error deleteing filtertoken');\n\n        case 12:\n        case 'end':\n          return _context4.stop();\n      }\n    }\n  }, _callee4, this, [[0, 9]]);\n}));\n\n/**\n * @fires filtertokenchange\n */\nproto.createFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n  var filtertoken, params;\n  return regeneratorRuntime.wrap(function _callee5$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          filtertoken = null;\n          _context5.prev = 1;\n\n          if (!(!this.providers['filtertoken'] || !this.selectionFids.size > 0)) {\n            _context5.next = 4;\n            break;\n          }\n\n          return _context5.abrupt('return');\n\n        case 4:\n          if (!this.selectionFids.has(Layer.SELECTION_STATE.ALL)) {\n            _context5.next = 9;\n            break;\n          }\n\n          _context5.next = 7;\n          return this.providers['filtertoken'].deleteFilterToken();\n\n        case 7:\n          _context5.next = 14;\n          break;\n\n        case 9:\n          params = {};\n\n          if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) {\n            params.fidsout = Array.from(this.selectionFids).filter(function (id) {\n              return id !== Layer.SELECTION_STATE.EXCLUDE;\n            }).join(',');\n          } else {\n            params.fidsin = Array.from(this.selectionFids).join(',');\n          }\n          _context5.next = 13;\n          return this.providers['filtertoken'].getFilterToken(params);\n\n        case 13:\n          filtertoken = _context5.sent;\n\n        case 14:\n          _application2.default.setFilterToken(filtertoken);\n          this.emit('filtertokenchange', { layerId: this.getId() });\n          _context5.next = 21;\n          break;\n\n        case 18:\n          _context5.prev = 18;\n          _context5.t0 = _context5['catch'](1);\n\n          console.log('Error create update token');\n\n        case 21:\n        case 'end':\n          return _context5.stop();\n      }\n    }\n  }, _callee5, this, [[1, 18]]);\n}));\n// end filter token\n//selection Ids layer methods\n\nproto.setSelectionFidsAll = function () {\n  this.selectionFids.clear();\n  this.selectionFids.add(Layer.SELECTION_STATE.ALL);\n  this.isGeoLayer() && this.showAllOlSelectionFeatures();\n  this.setSelection(true);\n  this.state.filter.active && this.createFilterToken();\n};\n\nproto.getSelectionFids = function () {\n  return this.selectionFids;\n};\n\nproto.invertSelectionFids = function () {\n  if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) this.selectionFids.delete(Layer.SELECTION_STATE.EXCLUDE);else if (this.selectionFids.has(Layer.SELECTION_STATE.ALL)) this.selectionFids.delete(Layer.SELECTION_STATE.ALL);else if (this.selectionFids.size > 0) this.selectionFids.add(Layer.SELECTION_STATE.EXCLUDE);\n  if (this.isGeoLayer()) this.setInversionOlSelectionFeatures();\n  if (this.state.filter.active) this.createFilterToken();\n  this.setSelection(this.selectionFids.size > 0);\n};\n\nproto.hasSelectionFid = function (fid) {\n  if (this.selectionFids.has(Layer.SELECTION_STATE.ALL)) return true;else if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) return !this.selectionFids.has(fid);else return this.selectionFids.has(fid);\n};\n\nproto.includeSelectionFid = function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(fid) {\n    var createToken = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var GIVE_ME_A_NAME;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            GIVE_ME_A_NAME = this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE) && this.selectionFids.has(fid);\n\n\n            if (GIVE_ME_A_NAME) {\n              this.selectionFids.delete(fid);\n            }\n\n            if (GIVE_ME_A_NAME && 1 === this.selectionFids.size) {\n              this.setSelectionFidsAll();\n            }\n\n            if (!GIVE_ME_A_NAME) {\n              this.selectionFids.add(fid);\n            }\n\n            if (!GIVE_ME_A_NAME && !this.isSelectionActive()) {\n              this.setSelection(true);\n            }\n\n            if (this.isGeoLayer()) {\n              this.setOlSelectionFeatureByFid(fid, 'add');\n            }\n\n            if (!(createToken && this.state.filter.active)) {\n              _context6.next = 9;\n              break;\n            }\n\n            _context6.next = 9;\n            return this.createFilterToken();\n\n          case 9:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  return function (_x12) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nproto.includeSelectionFids = function () {\n  var _this2 = this;\n\n  var fids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fids.forEach(function (fid) {\n    return _this2.includeSelectionFid(fid);\n  });\n};\n\nproto.excludeSelectionFid = function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(fid) {\n    var isLastFeatureSelected;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n\n            if (this.selectionFids.has(Layer.SELECTION_STATE.ALL) || this.selectionFids.size === 0) {\n              this.selectionFids.clear();\n              this.selectionFids.add(Layer.SELECTION_STATE.EXCLUDE);\n            }\n\n            this.selectionFids[this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE) ? 'add' : 'delete'](fid);\n\n            if (1 === this.selectionFids.size && this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) {\n              this.setselectionFidsAll();\n            }\n\n            isLastFeatureSelected = this.isGeoLayer() && this.setOlSelectionFeatureByFid(fid, 'remove');\n            _context7.t0 = this.state.filter.active;\n\n            if (!_context7.t0) {\n              _context7.next = 8;\n              break;\n            }\n\n            _context7.next = 8;\n            return this.createFilterToken();\n\n          case 8:\n\n            if (0 === this.selectionFids.size || isLastFeatureSelected) {\n              this.selectionFids.clear();\n              this.setSelection(false);\n            }\n\n          case 9:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  return function (_x14) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\nproto.excludeSelectionFids = function () {\n  var _this3 = this;\n\n  var fids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fids.forEach(function (fid) {\n    return _this3.excludeSelectionFid(fid);\n  });\n};\n\nproto.clearSelectionFids = function () {\n  this.selectionFids.clear();\n  this.isGeoLayer() && this.setOlSelectionFeatures();\n  this.setSelection(false);\n};\n// end selection ids methods\n\nproto.getWMSLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.isWmsUseLayerIds = function () {\n  return this.config.wms_use_layer_ids;\n};\n\nproto.getFilterToken = function () {\n  return _application2.default.getFilterToken();\n};\n\n/**\n *\n * DOWNLOAD METHODS\n */\n\n/** \n * @returns promise\n */\nproto.getDownloadFilefromDownloadDataType = function (type, _ref10) {\n  var _ref10$data = _ref10.data,\n      data = _ref10$data === undefined ? {} : _ref10$data,\n      options = _ref10.options;\n\n  data.filtertoken = this.getFilterToken();\n  switch (type) {\n    case 'shapefile':\n      return this.getShp({ data: data, options: options });\n    case 'xls':\n      return this.getXls({ data: data, options: options });\n    case 'csv':\n      return this.getCsv({ data: data, options: options });\n    case 'gpx':\n      return this.getGpx({ data: data, options: options });\n    case 'gpkg':\n      return this.getGpkg({ data: data, options: options });\n    case 'geotiff':\n      return this.getGeoTIFF({ data: data, options: options });\n  }\n};\n\nproto.getGeoTIFF = function () {\n  var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref11$data = _ref11.data,\n      data = _ref11$data === undefined ? {} : _ref11$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('geotiff'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getXls = function () {\n  var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref12$data = _ref12.data,\n      data = _ref12$data === undefined ? {} : _ref12$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('xls'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getShp = function () {\n  var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref13$data = _ref13.data,\n      data = _ref13$data === undefined ? {} : _ref13$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('shp'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getGpx = function () {\n  var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref14$data = _ref14.data,\n      data = _ref14$data === undefined ? {} : _ref14$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('gpx'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getGpkg = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref15$data = _ref15.data,\n      data = _ref15$data === undefined ? {} : _ref15$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('gpkg'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getCsv = function () {\n  var _ref16 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref16$data = _ref16.data,\n      data = _ref16$data === undefined ? {} : _ref16$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('csv'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getSourceType = function () {\n  return this.config.source ? this.config.source.type : null;\n};\n\nproto.isGeoLayer = function () {\n  return this.state.geolayer;\n};\n\nproto.getDataTable = function () {\n  var _this4 = this;\n\n  var _ref17 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref17$page = _ref17.page,\n      page = _ref17$page === undefined ? null : _ref17$page,\n      _ref17$page_size = _ref17.page_size,\n      page_size = _ref17$page_size === undefined ? null : _ref17$page_size,\n      _ref17$ordering = _ref17.ordering,\n      ordering = _ref17$ordering === undefined ? null : _ref17$ordering,\n      _ref17$search = _ref17.search,\n      search = _ref17$search === undefined ? null : _ref17$search,\n      field = _ref17.field,\n      _ref17$suggest = _ref17.suggest,\n      suggest = _ref17$suggest === undefined ? null : _ref17$suggest,\n      _ref17$formatter = _ref17.formatter,\n      formatter = _ref17$formatter === undefined ? 0 : _ref17$formatter,\n      in_bbox = _ref17.in_bbox,\n      _ref17$custom_params = _ref17.custom_params,\n      custom_params = _ref17$custom_params === undefined ? {} : _ref17$custom_params;\n\n  var d = $.Deferred();\n  var provider = void 0;\n  var params = _extends({}, custom_params, {\n    field: field,\n    page: page,\n    page_size: page_size,\n    ordering: ordering,\n    search: search,\n    formatter: formatter,\n    suggest: suggest,\n    in_bbox: in_bbox,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n  if (!(this.getProvider('filter') || this.getProvider('data'))) {\n    d.reject();\n  } else {\n    provider = this.getProvider('data');\n    provider.getFeatures({ editing: false }, params).done(function (response) {\n      var features = response.data.features && response.data.features || [];\n      d.resolve({\n        headers: parseAttributes(_this4.getAttributes(), features.length ? features[0].properties : []),\n        features: features,\n        title: _this4.getTitle(),\n        count: response.count\n      });\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\n/**\n * Search layer feature by fids\n * @param fids formatter\n */\nproto.getFeatureByFids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8() {\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref19$fids = _ref19.fids,\n      fids = _ref19$fids === undefined ? [] : _ref19$fids,\n      _ref19$formatter = _ref19.formatter,\n      formatter = _ref19$formatter === undefined ? 0 : _ref19$formatter;\n\n  var url, features, response;\n  return regeneratorRuntime.wrap(function _callee8$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          url = this.getUrl('data');\n          features = void 0;\n          _context8.prev = 2;\n          _context8.next = 5;\n          return XHR.get({\n            url: url,\n            params: {\n              fids: fids.toString(),\n              formatter: formatter\n            }\n          });\n\n        case 5:\n          response = _context8.sent;\n\n          features = response && response.result && response.vector && response.vector.data && response.vector.data.features;\n          _context8.next = 11;\n          break;\n\n        case 9:\n          _context8.prev = 9;\n          _context8.t0 = _context8['catch'](2);\n\n        case 11:\n          return _context8.abrupt('return', features);\n\n        case 12:\n        case 'end':\n          return _context8.stop();\n      }\n    }\n  }, _callee8, this, [[2, 9]]);\n}));\n\n//search Features methods\nproto.searchFeatures = function () {\n  var _this5 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$search_endpo = options.search_endpoint,\n      search_endpoint = _options$search_endpo === undefined ? this.config.search_endpoint : _options$search_endpo;\n\n  return new Promise(function () {\n    var _ref20 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9(resolve, reject) {\n      var _options$raw, raw, field, _options$suggest, suggest, unique, queryUrl, ordering;\n\n      return regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.t0 = search_endpoint;\n              _context9.next = _context9.t0 === 'ows' ? 3 : _context9.t0 === 'api' ? 5 : 18;\n              break;\n\n            case 3:\n              _this5.search(options, params).then(function (results) {\n                resolve({ data: results });\n              }).fail(function (error) {\n                return reject(error);\n              });\n              return _context9.abrupt('break', 18);\n\n            case 5:\n              _options$raw = options.raw, raw = _options$raw === undefined ? false : _options$raw, field = options.filter, _options$suggest = options.suggest, suggest = _options$suggest === undefined ? {} : _options$suggest, unique = options.unique, queryUrl = options.queryUrl, ordering = options.ordering;\n              _context9.prev = 6;\n              _context9.t1 = resolve;\n              _context9.next = 10;\n              return _this5.getFilterData({ queryUrl: queryUrl, raw: raw, field: field, ordering: ordering, suggest: suggest, unique: unique });\n\n            case 10:\n              _context9.t2 = _context9.sent;\n              (0, _context9.t1)(_context9.t2);\n              _context9.next = 17;\n              break;\n\n            case 14:\n              _context9.prev = 14;\n              _context9.t3 = _context9['catch'](6);\n\n              reject(_context9.t3);\n\n            case 17:\n              return _context9.abrupt('break', 18);\n\n            case 18:\n            case 'end':\n              return _context9.stop();\n          }\n        }\n      }, _callee9, _this5, [[6, 14]]);\n    }));\n\n    return function (_x26, _x27) {\n      return _ref20.apply(this, arguments);\n    };\n  }());\n};\n\n/*\n* getFilterData is a function to get data feature based on fields and suggets\n* params:\n* - suggest (mandatory): object with key is a field of layer and value is value of the field to filter\n* - fields: Array of object with type of suggest (see above)\n* */\nproto.getFilterData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee10() {\n  var _ref22 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref22.field,\n      _ref22$raw = _ref22.raw,\n      raw = _ref22$raw === undefined ? false : _ref22$raw,\n      _ref22$suggest = _ref22.suggest,\n      suggest = _ref22$suggest === undefined ? {} : _ref22$suggest,\n      unique = _ref22.unique,\n      _ref22$formatter = _ref22.formatter,\n      formatter = _ref22$formatter === undefined ? 1 : _ref22$formatter,\n      queryUrl = _ref22.queryUrl,\n      ordering = _ref22.ordering;\n\n  return regeneratorRuntime.wrap(function _callee10$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return this.getProvider('data').getFilterData({\n            queryUrl: queryUrl,\n            field: field,\n            raw: raw,\n            ordering: ordering,\n            suggest: suggest,\n            formatter: formatter,\n            unique: unique\n          });\n\n        case 2:\n          return _context10.abrupt('return', _context10.sent);\n\n        case 3:\n        case 'end':\n          return _context10.stop();\n      }\n    }\n  }, _callee10, this);\n}));\n\n/**\n * search method \n */\nproto.search = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // check option feature_count\n  options.feature_count = options.feature_count || 10;\n  options = _extends({}, options, this.config.searchParams, params);\n  var d = $.Deferred();\n  var provider = this.getProvider('search');\n  if (provider) {\n    provider.query(options).done(function (response) {\n      return d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else {\n    d.reject(t('sdk.search.layer_not_searchable'));\n  }\n  return d.promise();\n};\n\n/**\n * Info from layer (only for querable layers) \n */\nproto.query = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var provider = this.getProvider(options.filter ? 'filter' : 'query');\n  if (provider) {\n    provider.query(options).done(function (response) {\n      return d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else {\n    d.reject(t('sdk.search.layer_not_querable'));\n  }\n  return d.promise();\n};\n\n/**\n * General way to get an attribute \n */\nproto.get = function (property) {\n  return this.config[property] ? this.config[property] : this.state[property];\n};\n\nproto.getFields = function () {\n  return this.config.fields;\n};\n\n/**\n * Get field by name\n * \n * @param fieldName\n * @returns {*}\n */\nproto.getFieldByName = function (fieldName) {\n  return this.getFields().find(function (field) {\n    return field.name === fieldName;\n  });\n};\n\nproto.getEditingFields = function () {\n  return this.config.editing.fields;\n};\n\n/**\n * Return only show fields\n * \n * @returns {T[]}\n */\nproto.getTableFields = function () {\n  return (this.config.fields || []).filter(function (field) {\n    return field.show;\n  });\n};\n\nproto.getTableHeaders = function () {\n  return this.getTableFields().filter(function (field) {\n    return -1 === geometryFields.indexOf(field.name);\n  });\n};\n\nproto.getProject = function () {\n  return this.config.project;\n};\n\nproto.getConfig = function () {\n  return this.config;\n};\n\n/**\n * Get form structure to show on form editing\n * \n * @param fields\n * @returns {[]}\n */\nproto.getLayerEditingFormStructure = function (fields) {\n  return this.config.editor_form_structure;\n};\n\n/**\n * Duplicated beacuase we had to check if it\n * is used by some plugins to avoid to break\n * backward compatibility\n */\nproto.getEditorFormStructure = function () {\n  return this.getLayerEditingFormStructure();\n};\n\nproto.getFieldsOutOfFormStructure = function () {\n  return this.config.editor_form_structure ? this.config.editor_form_structure.filter(function (structure) {\n    return structure.field_name;\n  }) : [];\n};\n\nproto.hasFormStructure = function () {\n  return !!this.config.editor_form_structure;\n};\n\n/**\n * Get custom style (for future implementation) \n */\nproto.getCustomStyle = function () {\n  return this.config.customstyle;\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getSource = function () {\n  return this.state.source;\n};\n\nproto.isDownloadable = function () {\n  return this.isShpDownlodable() || this.isXlsDownlodable() || this.isGpxDownlodable() || this.isGpkgDownlodable() || this.isCsvDownlodable();\n};\n\nproto.getDownloadableFormats = function () {\n  var _this6 = this;\n\n  return Object.keys(_constant.DOWNLOAD_FORMATS).filter(function (download_format) {\n    return _this6.config[download_format];\n  }).map(function (format) {\n    return _constant.DOWNLOAD_FORMATS[format].format;\n  });\n};\n\nproto.getDownloadUrl = function (format) {\n  var find = Object.values(_constant.DOWNLOAD_FORMATS).find(function (download_format) {\n    return download_format.format === format;\n  });\n  return find && find.url;\n};\n\nproto.isGeoTIFFDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download && 'gdal' === this.config.source.type;\n};\n\nproto.isShpDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download && 'gdal' !== this.config.source.type;\n};\n\nproto.isXlsDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_xls;\n};\n\nproto.isGpxDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_gpx;\n};\n\nproto.isGpkgDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_gpkg;\n};\n\nproto.isCsvDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_csv;\n};\n\nproto.getEditingLayer = function () {\n  return this._editingLayer;\n};\n\nproto.setEditingLayer = function (editingLayer) {\n  this._editingLayer = editingLayer;\n};\n\nproto.isHidden = function () {\n  return this.state.hidden;\n};\n\nproto.setHidden = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.hidden = bool;\n};\n\nproto.isModified = function () {\n  return this.state.modified;\n};\n\nproto.getId = function () {\n  return this.config.id;\n};\n\nproto.getMetadata = function () {\n  return this.state.metadata;\n};\n\nproto.getTitle = function () {\n  return this.config.title;\n};\n\nproto.getName = function () {\n  return this.config.name;\n};\n\nproto.getOrigName = function () {\n  return this.config.origname;\n};\n\nproto.getServerType = function () {\n  return this.config.servertype && this.config.servertype !== '' ? this.config.servertype : ServerTypes.QGIS;\n};\n\nproto.getType = function () {\n  return this.type;\n};\n\nproto.isType = function (type) {\n  return this.getType() === type;\n};\n\nproto.setType = function (type) {\n  this.type = type;\n};\n\nproto.isSelected = function () {\n  return this.state.selected;\n};\n\nproto.setSelected = function (bool) {\n  this.state.selected = bool;\n};\n\nproto.setSelection = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee11() {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return regeneratorRuntime.wrap(function _callee11$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          this.state.selection.active = bool;\n\n          if (bool) {\n            _context11.next = 8;\n            break;\n          }\n\n          _context11.t0 = this.state.filter.active;\n\n          if (!_context11.t0) {\n            _context11.next = 6;\n            break;\n          }\n\n          _context11.next = 6;\n          return this.deleteFilterToken();\n\n        case 6:\n          this.state.filter.active = bool;\n          this.emit('unselectionall', this.getId());\n\n        case 8:\n        case 'end':\n          return _context11.stop();\n      }\n    }\n  }, _callee11, this);\n}));\n\nproto.isSelectionActive = function () {\n  return this.state.selection.active;\n};\n\nproto.getSelection = function () {\n  return this.state.selection;\n};\n\nproto.getFilter = function () {\n  return this.state.filter;\n};\n\nproto.setDisabled = function (bool) {\n  this.state.disabled = bool;\n};\n\nproto.isDisabled = function () {\n  return this.state.disabled;\n};\n\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.setVisible = function (bool) {\n  this.state.visible = bool;\n};\n\n/**\n * Set a parameter map to check if request from map point of\n * view or just a capabilities info layer\n */\nproto.isQueryable = function () {\n  var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { onMap: false },\n      onMap = _ref24.onMap;\n\n  var queryEnabled = false;\n  var queryableForCababilities = !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.QUERYABLE);\n  if (!onMap) return queryableForCababilities;\n  // if querable check if is visible or disabled\n  if (queryableForCababilities) {\n    queryEnabled = this.isVisible() && !this.isDisabled();\n    if (this.config.infowhennotvisible !== undefined && this.config.infowhennotvisible === true) queryEnabled = true;\n  }\n  return queryEnabled;\n};\n\nproto.getOws = function () {\n  return this.config.ows;\n};\n\nproto.getTocHighlightable = function () {\n  return this.state.tochighlightable;\n};\n\nproto.setTocHighlightable = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.tochighlightable = bool;\n};\n\n/**\n * @param conditions plain object with configuration layer attribute and value\n */\nproto.isFilterable = function () {\n  var _this7 = this;\n\n  var conditions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n  var isFiltrable = !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.FILTERABLE);\n  if (isFiltrable && conditions) {\n    var conditionalFiltrable = Object.keys(conditions).reduce(function (bool, attribute) {\n      var layer_config_value = _this7.get(attribute);\n      var condition_attribute_values = conditions[attribute];\n      return bool && Array.isArray(layer_config_value) ? layer_config_value.indexOf(condition_attribute_values) !== -1 : condition_attribute_values === layer_config_value;\n    }, true);\n    isFiltrable = isFiltrable && conditionalFiltrable;\n  }\n  return isFiltrable;\n};\n\n/**\n * Check if layer is setup as time series\n */\nproto.isQtimeseries = function () {\n  return this.config.qtimeseries;\n};\n\nproto.isEditable = function () {\n  return !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.EDITABLE);\n};\n\nproto.isBaseLayer = function () {\n  return this.config.baselayer;\n};\n\n/**\n * @param type get url by type (data, shp, csv, xls,  editing, ...) \n */\nproto.getUrl = function (type) {\n  return this.config.urls[type];\n};\n\n/**\n * Set config url\n * \n * @param url.type\n * @param url.url\n */\nproto.setUrl = function () {\n  var _ref25 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref25.type,\n      url = _ref25.url;\n\n  this.config.urls[type] = url;\n};\n\n/**\n * @returns config.urls\n */\nproto.getUrls = function () {\n  return this.config.urls;\n};\n\nproto.setEditingUrl = function (url) {\n  this.config.urls.editing = url || this.config.urls.editing;\n};\n\nproto.getQueryUrl = function () {\n  return this.config.urls.query;\n};\n\nproto.setQueryUrl = function (queryUrl) {\n  this.config.urls.query = queryUrl;\n};\n\nproto.getQueryLayerName = function () {\n  return this.config.infolayer && this.config.infolayer !== '' ? this.config.infolayer : this.getName();\n};\n\nproto.getQueryLayerOrigName = function () {\n  return this.state.infolayer && this.config.infolayer !== '' ? this.config.infolayer : this.config.origname;\n};\n\nproto.getInfoFormat = function (ogcService) {\n  // In case of NETCDF (qtime series)\n  if (this.config.qtimeseries === true || this.getSourceType() === 'gdal') {\n    return 'application/json';\n  }\n  if (this.config.infoformat && '' !== this.config.infoformat && 'wfs' !== ogcService) {\n    return this.config.infoformat;\n  }\n  return 'application/vnd.ogc.gml';\n};\n\nproto.getInfoFormats = function () {\n  return this.state.infoformats;\n};\n\nproto.getInfoUrl = function () {\n  return this.config.infourl;\n};\n\nproto.setInfoFormat = function (infoFormat) {\n  this.config.infoformat = infoFormat;\n};\n\nproto.getAttributes = function () {\n  return this.config.fields;\n};\n\nproto.changeAttribute = function (attribute, type, options) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = this.config.fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var field = _step.value;\n\n      if (field.name === attribute) {\n        field.type = type;\n        field.options = options;\n        break;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.getAttributeLabel = function (name) {\n  var field = this.getAttributes().find(function (field) {\n    return field.name === name;\n  });\n  return field && field.label;\n};\n\nproto.getProvider = function (type) {\n  return this.providers[type];\n};\n\nproto.getProviders = function () {\n  return this.providers;\n};\n\nproto.getLayersStore = function () {\n  return this._layersstore;\n};\n\nproto.setLayersStore = function (layerstore) {\n  this._layersstore = layerstore;\n};\n\nproto.canShowTable = function () {\n  if (this.config.not_show_attributes_table) {\n    return false;\n  }\n\n  if (this.getServerType() === Layer.ServerTypes.QGIS && [Layer.SourceTypes.POSTGIS, Layer.SourceTypes.ORACLE, Layer.SourceTypes.WFS, Layer.SourceTypes.OGR, Layer.SourceTypes.MSSQL, Layer.SourceTypes.SPATIALITE].indexOf(this.config.source.type) > -1 && this.isQueryable()) {\n    return this.getTableFields().length > 0;\n  }\n\n  if (this.getServerType() === Layer.ServerTypes.G3WSUITE && \"geojson\" === this.get('source').type) {\n    return true;\n  }\n\n  if (this.getServerType() !== Layer.ServerTypes.G3WSUITE && this.isFilterable()) {\n    return true;\n  }\n\n  return false;\n};\n\nproto.changeFieldType = function () {\n  var _ref26 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      name = _ref26.name,\n      type = _ref26.type,\n      _ref26$options = _ref26.options,\n      options = _ref26$options === undefined ? {} : _ref26$options,\n      _ref26$reset = _ref26.reset,\n      reset = _ref26$reset === undefined ? false : _ref26$reset;\n\n  var field = this.getFields().find(function (field) {\n    return field.name === name;\n  });\n\n  if (field && reset) {\n    field.type = field._type;\n    delete field._type;\n    delete field[type + 'options'];\n    return field.type;\n  }\n\n  if (field && !reset) {\n    field._type = field.type;\n    field.type = type;\n    field[type + 'options'] = options;\n    return field._type;\n  }\n};\n\nproto.changeConfigFieldType = function (_ref27) {\n  var name = _ref27.name,\n      type = _ref27.type,\n      _ref27$options = _ref27.options,\n      options = _ref27$options === undefined ? {} : _ref27$options,\n      _ref27$reset = _ref27.reset,\n      reset = _ref27$reset === undefined ? false : _ref27$reset;\n\n  return this.changeFieldType({ name: name, type: type, options: options, reset: reset });\n};\n\nproto.resetConfigField = function (_ref28) {\n  var name = _ref28.name;\n\n  this.changeConfigFieldType({ name: name, reset: true });\n};\n\n/**\n * Function called in case of change project to remove all stored information \n */\nproto.clear = function () {};\n\nproto.isVector = function () {\n  return this.getType() === Layer.LayerTypes.VECTOR;\n};\n\nproto.isTable = function () {\n  return this.getType() === Layer.LayerTypes.TABLE;\n};\n\n/**\n * @since 3.8.0\n */\nproto.getFeatureCount = function () {\n  return this.state.featurecount;\n};\n\n/**\n * @param style\n * \n * @returns {Promise<Object>}\n * \n * @since 3.8.0\n */\nproto.getStyleFeatureCount = function () {\n  var _ref29 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee12(style) {\n    var _ref30, result, data;\n\n    return regeneratorRuntime.wrap(function _callee12$(_context12) {\n      while (1) {\n        switch (_context12.prev = _context12.next) {\n          case 0:\n            if (!(\"undefined\" === typeof this.state.stylesfeaturecount[style])) {\n              _context12.next = 13;\n              break;\n            }\n\n            _context12.prev = 1;\n            _context12.next = 4;\n            return XHR.post({\n              url: '' + this.config.urls.featurecount + this.getId() + '/',\n              data: JSON.stringify({ style: style }),\n              contentType: 'application/json'\n            });\n\n          case 4:\n            _ref30 = _context12.sent;\n            result = _ref30.result;\n            data = _ref30.data;\n\n            this.state.stylesfeaturecount[style] = true === result ? data : {};\n            _context12.next = 13;\n            break;\n\n          case 10:\n            _context12.prev = 10;\n            _context12.t0 = _context12['catch'](1);\n\n            this.state.stylesfeaturecount[style] = {};\n\n          case 13:\n            return _context12.abrupt('return', this.state.stylesfeaturecount[style]);\n\n          case 14:\n          case 'end':\n            return _context12.stop();\n        }\n      }\n    }, _callee12, this, [[1, 10]]);\n  }));\n\n  return function (_x39) {\n    return _ref29.apply(this, arguments);\n  };\n}();\n\n/// LAYER PROPERTIES\n\n/**\n * Layer Types\n */\nLayer.LayerTypes = {\n  TABLE: \"table\",\n  IMAGE: \"image\",\n  VECTOR: \"vector\"\n};\n\n/**\n * Server Types\n */\nLayer.ServerTypes = {\n  OGC: \"OGC\",\n  QGIS: \"QGIS\",\n  Mapserver: \"Mapserver\",\n  Geoserver: \"Geoserver\",\n  ARCGISMAPSERVER: \"ARCGISMAPSERVER\",\n  OSM: \"OSM\",\n  BING: \"Bing\",\n  LOCAL: \"Local\",\n  TMS: \"TMS\",\n  WMS: \"WMS\",\n  WMTS: \"WMTS\",\n  G3WSUITE: \"G3WSUITE\"\n  /** \n   * ADD ALSO TO PROVIDER FACTORY (@TODO or already done?) \n   */\n};\n\n/**\n * Source Types\n */\nLayer.SourceTypes = {\n  VIRTUAL: 'virtual',\n  POSTGIS: 'postgres',\n  SPATIALITE: 'spatialite',\n  ORACLE: 'oracle',\n  MSSQL: 'mssql',\n  CSV: 'delimitedtext',\n  OGR: 'ogr',\n  GDAL: 'gdal',\n  WMS: 'wms',\n  WMST: \"wmst\",\n  WFS: 'wfs',\n  WCS: \"wcs\",\n  MDAL: \"mdal\",\n  \"VECTOR-TILE\": \"vector-tile\",\n  VECTORTILE: \"vectortile\",\n  ARCGISMAPSERVER: 'arcgismapserver',\n  GEOJSON: \"geojson\"\n  /**\n   * ADD TO PROVIDER FACTORY (@TODO or already done?)\n   */\n};\n\n/**\n * Layer Capabilities\n */\nLayer.CAPABILITIES = {\n  QUERYABLE: 1,\n  FILTERABLE: 2,\n  EDITABLE: 4\n};\n\n/**\n * Editing types \n */\nLayer.EDITOPS = {\n  INSERT: 1,\n  UPDATE: 2,\n  DELETE: 4\n};\n\n/**\n * Selection state \n */\nLayer.SELECTION_STATE = {\n  ALL: '__ALL__',\n  EXCLUDE: '__EXCLUDE__'\n};\n\nmodule.exports = Layer;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/providers/providersfactory\":51,\"core/relations/relations\":63,\"core/utils/geo\":64,\"core/utils/utils\":67,\"services/application\":350,\"services/data\":357,\"store/application-state\":372,\"store/projects\":378}],35:[function(require,module,exports){\nvar Layer = require('core/layers/layer');\nvar TableLayer = require('core/layers/tablelayer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar ImageLayer = require('core/layers/imagelayer');\nvar BaseLayers = require('core/layers/baselayers/baselayers');\nvar GeojsonLayer = require('core/layers/geojson');\n\n// Class to build layer based on configuration\nfunction LayerFactory() {\n  this.build = function (config, options) {\n    // return the layer instance\n    var layerClass = this.get(config);\n    return layerClass ? new layerClass(config, options) : null;\n  };\n\n  this.get = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var LayerClass = void 0;\n    var serverType = config.servertype;\n    switch (serverType) {\n      case Layer.ServerTypes.QGIS:\n        if (config.source) {\n          if (config.geometrytype) {\n            if ([Layer.SourceTypes.VIRTUAL, Layer.SourceTypes.POSTGIS, Layer.SourceTypes.MSSQL, Layer.SourceTypes.SPATIALITE, Layer.SourceTypes.WFS, Layer.SourceTypes.CSV, Layer.SourceTypes.ORACLE, Layer.SourceTypes.OGR, Layer.SourceTypes.MDAL].find(function (sourcetype) {\n              return sourcetype === config.source.type;\n            })) {\n              if (config.geometrytype && config.geometrytype === 'NoGeometry') LayerClass = TableLayer;else LayerClass = ImageLayer;\n            }\n          } else if ([// here set new layer has to be threat as wms\n          Layer.SourceTypes.WMST, Layer.SourceTypes.WCS, Layer.SourceTypes.WMS, Layer.SourceTypes.GDAL, Layer.SourceTypes.VECTORTILE, Layer.SourceTypes[\"VECTOR-TILE\"], Layer.SourceTypes.MDAL].find(function (sourcetype) {\n            return sourcetype === config.source.type;\n          })) LayerClass = ImageLayer;\n        }\n        break;\n      case Layer.ServerTypes.OGC:\n        if (config.source) {\n          var type = config.source.type;\n          switch (type) {\n            case Layer.SourceTypes.WMS:\n              LayerClass = ImageLayer;\n              break;\n            case Layer.SourceTypes.WFS:\n              LayerClass = VectorLayer;\n          }\n        }\n        break;\n      case Layer.ServerTypes.LOCAL:\n        LayerClass = VectorLayer;\n        break;\n      case Layer.ServerTypes.OSM:\n      case Layer.ServerTypes.BING:\n      case Layer.ServerTypes.TMS:\n      case Layer.ServerTypes.WMS:\n      case Layer.ServerTypes.WMTS:\n      case Layer.ServerTypes.ARCGISMAPSERVER:\n        LayerClass = BaseLayers[serverType];\n        break;\n      case Layer.ServerTypes.G3WSUITE:\n        LayerClass = VectorLayer;\n        if (config.source) {\n          switch (config.source.type) {\n            case 'geojson':\n              LayerClass = GeojsonLayer;\n              break;\n          }\n        }\n        break;\n    }\n    return LayerClass;\n  };\n}\n\nmodule.exports = new LayerFactory();\n\n},{\"core/layers/baselayers/baselayers\":20,\"core/layers/geojson\":31,\"core/layers/imagelayer\":33,\"core/layers/layer\":34,\"core/layers/tablelayer\":56,\"core/layers/vectorlayer\":57}],36:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\n// Interface for Layers\nfunction LayersStore() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = {\n    id: config.id || Date.now(),\n    projection: config.projection,\n    extent: config.extent,\n    initextent: config.initextent,\n    wmsUrl: config.wmsUrl,\n    //set catalogable property\n    catalog: _.isBoolean(config.catalog) ? config.catalog : true\n  };\n\n  this.state = {\n    //useful to build layerstree\n    layerstree: [],\n    relations: null // useful to build tree of relations\n  };\n  this._isQueryable = _.isBoolean(config.queryable) ? config.queryable : true;\n  this._layers = this.config.layers || {};\n  this.setters = {\n    setLayerSelection: function setLayerSelection(_ref) {\n      var layerId = _ref.layerId,\n          selection = _ref.selection;\n\n      var layer = this.getLayerById(layerId);\n    },\n    setLayerSelected: function setLayerSelected(layerId, selected) {\n      this.getLayers().forEach(function (layer) {\n        return layer.state.selected = layerId === layer.getId() ? selected : false;\n      });\n    },\n    addLayers: function addLayers(layers) {\n      var _this = this;\n\n      layers.forEach(function (layer) {\n        return _this.addLayer(layer);\n      });\n    },\n    addLayer: function addLayer(layer) {\n      this._addLayer(layer);\n    },\n    removeLayer: function removeLayer(layerId) {\n      this._removeLayer(layerId);\n    }\n  };\n\n  base(this);\n}\n\ninherit(LayersStore, G3WObject);\n\nvar proto = LayersStore.prototype;\n\nproto.isQueryable = function () {\n  return this._isQueryable;\n};\n\nproto.setQueryable = function (bool) {\n  this._isQueryable = !!bool;\n};\n\nproto.showOnCatalog = function () {\n  return this.config.catalog;\n};\n\nproto.setOptions = function (config) {\n  this.config = config;\n};\n\nproto.getId = function () {\n  return this.config.id;\n};\n\nproto._addLayer = function (layer) {\n  this._layers[layer.getId()] = layer;\n};\n\nproto._removeLayer = function (layer) {\n  var layerId = layer.getId();\n  delete this._layers[layerId];\n};\n\nproto.removeLayers = function () {\n  var _this2 = this;\n\n  Object.entries(this._layers).forEach(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n        layerId = _ref3[0],\n        layer = _ref3[1];\n\n    _this2.removeLayer(layer);\n  });\n};\n\nproto.getLayersDict = function () {\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // in case  we pass filter = null\n  if (!filter) return this._layers;\n  var PRINTABLE = filter.PRINTABLE,\n      QUERYABLE = filter.QUERYABLE,\n      FILTERABLE = filter.FILTERABLE,\n      EDITABLE = filter.EDITABLE,\n      VISIBLE = filter.VISIBLE,\n      SELECTED = filter.SELECTED,\n      CACHED = filter.CACHED,\n      SELECTED_OR_ALL = filter.SELECTED_OR_ALL,\n      SERVERTYPE = filter.SERVERTYPE,\n      BASELAYER = filter.BASELAYER,\n      GEOLAYER = filter.GEOLAYER,\n      VECTORLAYER = filter.VECTORLAYER,\n      HIDDEN = filter.HIDDEN,\n      DISABLED = filter.DISABLED,\n      IDS = filter.IDS;\n\n  // if filter is passed\n\n  if (_.isUndefined(QUERYABLE) && _.isUndefined(FILTERABLE) && _.isUndefined(EDITABLE) && _.isUndefined(VISIBLE) && _.isUndefined(SERVERTYPE) && _.isUndefined(CACHED) && _.isUndefined(SELECTED_OR_ALL) && _.isUndefined(SERVERTYPE) && _.isUndefined(GEOLAYER) && _.isUndefined(HIDDEN) && _.isUndefined(DISABLED) && _.isUndefined(BASELAYER) && _.isUndefined(VECTORLAYER) && _.isUndefined(PRINTABLE) && _.isUndefined(IDS)) return this._layers;\n\n  var layers = [];\n\n  for (var key in this._layers) {\n    layers.push(this._layers[key]);\n  }\n\n  if (IDS) {\n    var ids = Array.isArray(IDS) ? IDS : [IDS];\n    layers = layers.filter(function (layer) {\n      return ids.indexOf(layer.getId()) !== -1;\n    });\n  }\n\n  // return only selected if some one are selected\n  if (SELECTED_OR_ALL) {\n    var _layers = layers;\n    layers = layers.filter(function (layer) {\n      return layer.isSelected();\n    });\n    layers = layers.length ? layers : _layers;\n  }\n\n  if ('boolean' === typeof SELECTED && !SELECTED_OR_ALL) layers = layers.filter(function (layer) {\n    return SELECTED === layer.isSelected();\n  });\n\n  if ('boolean' === typeof QUERYABLE) layers = layers.filter(function (layer) {\n    return QUERYABLE === layer.isQueryable();\n  });\n  if ('boolean' === typeof FILTERABLE) layers = layers.filter(function (layer) {\n    return FILTERABLE === layer.isFilterable(options.filtrable || null);\n  });\n  if ('boolean' === typeof EDITABLE) layers = layers.filter(function (layer) {\n    return EDITABLE === layer.isEditable();\n  });\n  if ('boolean' === typeof VISIBLE) layers = layers.filter(function (layer) {\n    return VISIBLE === layer.isVisible();\n  });\n  if ('boolean' === typeof CACHED) layers = layers.filter(function (layer) {\n    return CACHED === layer.isCached();\n  });\n  if ('boolean' === typeof BASELAYER) layers = layers.filter(function (layer) {\n    return BASELAYER === layer.isBaseLayer();\n  });\n  if ('boolean' === typeof GEOLAYER) layers = layers.filter(function (layer) {\n    return GEOLAYER === layer.state.geolayer;\n  });\n  if ('boolean' === typeof VECTORLAYER) layers = layers.filter(function (layer) {\n    return VECTORLAYER === layer.isType('vector');\n  });\n  if ('boolean' === typeof HIDDEN) layers = layers.filter(function (layer) {\n    return HIDDEN == layer.isHidden();\n  });\n  if ('boolean' === typeof DISABLED) layers = layers.filter(function (layer) {\n    return DISABLED === layer.isDisabled();\n  });\n\n  if ('string' === typeof SERVERTYPE && '' !== SERVERTYPE) layers = layers.filter(function (layer) {\n    return SERVERTYPE === layer.getServerType();\n  });\n\n  if (PRINTABLE) layers = layers.filter(function (layer) {\n    return layer.state.geolayer && layer.isPrintable({ scale: PRINTABLE.scale });\n  });\n\n  return layers;\n};\n\n// return layers array\nproto.getLayers = function () {\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return Object.values(this.getLayersDict(filter, options));\n};\n\nproto.getBaseLayers = function () {\n  return this.getLayersDict({\n    BASELAYER: true\n  });\n};\n\nproto.getLayerById = function (layerId) {\n  return this.getLayersDict()[layerId];\n};\n\nproto.getLayerByName = function (name) {\n  return this._layers.find(function (layer) {\n    return layer.getName() === name;\n  });\n};\n\nproto.getLayerAttributes = function (layerId) {\n  return this.getLayerById(layerId).getAttributes();\n};\n\nproto.getLayerAttributeLabel = function (layerId, name) {\n  return this.getLayerById(layerId).getAttributeLabel(name);\n};\n\nproto.getGeoLayers = function () {\n  return this.getLayers({\n    GEOLAYER: true\n  });\n};\n\nproto._getAllSiblingsChildrenLayersId = function (layerstree) {\n  var nodeIds = [];\n  var traverse = function traverse(layerstree) {\n    layerstree.nodes.forEach(function (node) {\n      if (node.id) nodeIds.push(node.id);else traverse(node);\n    });\n  };\n  traverse(layerstree);\n  return nodeIds;\n};\n\nproto._getAllParentLayersId = function (layerstree, node) {\n  var nodeIds = [];\n  var traverse = function traverse(layerstree) {\n    layerstree.nodes.forEach(function (node) {\n      if (node.id) nodeIds.push(node.id);\n      //else traverse(node);\n    });\n  };\n\n  traverse({\n    nodes: layerstree.nodes.filter(function (_node) {\n      return _node !== node;\n    })\n  });\n\n  return nodeIds;\n};\n\nproto.selectLayer = function (layerId, selected) {\n  this.setLayerSelected(layerId, selected);\n};\n\nproto.getProjection = function () {\n  return this.config.projection;\n};\n\nproto.getExtent = function () {\n  return this.config.extent;\n};\n\nproto.getInitExtent = function () {\n  return this.config.initextent;\n};\n\nproto.getWmsUrl = function () {\n  return this.config.wmsUrl;\n};\n\n/**\n * Set layersstree of layers inside the layersstore\n * \n * @param {unknown[]} layerstree nodes\n * @param {string}    name \n * @param {boolean}   [expanded = true]\n */\nproto.setLayersTree = function () {\n  var layerstree = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var _this3 = this;\n\n  var name = arguments[1];\n  var expanded = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  // Root group project that contain all layerstree of qgis project\n  var rootGroup = {\n    title: name || this.config.id,\n    root: true,\n    parentGroup: null,\n    expanded: expanded,\n    disabled: false,\n    checked: true,\n    nodes: layerstree\n  };\n  var traverse = function traverse(nodes, parentGroup) {\n    nodes.forEach(function (node, index) {\n      // substitute node layer with layer state\n      if (undefined !== node.id) {\n        nodes[index] = _this3.getLayerById(node.id).getState();\n      }\n      if (node.nodes) {\n        node.nodes.forEach(function (node) {\n          return node.parentGroup = parentGroup;\n        });\n        traverse(node.nodes, node);\n      }\n      //SET PARENT GROUP\n      nodes[index].parentGroup = parentGroup;\n    });\n  };\n  if (layerstree.length) {\n    traverse(layerstree, rootGroup);\n    // at the end\n    this.state.layerstree.splice(0, 0, rootGroup);\n  }\n};\n\n/**\n * Used by external plugins to build layerstree\n * \n * @param {string} groupName is a ProjectName\n * @param {layerstree, expanded: boolean, full: bool} options \n */\nproto.createLayersTree = function (groupName) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    layerstree: null,\n    expanded: false,\n    full: false\n  };\n\n\n  // get all layers id from layers server config to compare with layer nodes on layerstree server property\n  var tocLayersId = this.getLayers({ BASELAYER: false }).map(function (layer) {\n    return layer.getId();\n  });\n  var layerstree = [];\n\n  // check if layerstree coming from server project configuration is set\n  if (options.layerstree && true === options.full) {\n    return this.state.layerstree;\n  }\n\n  /** @FIXME add description */\n  if (options.layerstree && true !== options.full) {\n    var traverse = function traverse(nodes, layerstree) {\n      nodes.forEach(function (node) {\n        var lightlayer = null;\n\n        // case TOC has layer ID\n        if (null !== node.id && \"undefined\" !== typeof node.id && tocLayersId.find(function (id) {\n          return id === node.id;\n        })) {\n          lightlayer = _extends({}, lightlayer, node);\n        }\n\n        // case group\n        if (null !== node.nodes && \"undefined\" !== typeof node.nodes) {\n          lightlayer = _extends({}, lightlayer, {\n            title: node.name,\n            groupId: uniqueId(),\n            nodes: [],\n            checked: node.checked,\n            mutually_exclusive: node[\"mutually-exclusive\"]\n          });\n          traverse(node.nodes, lightlayer.nodes); // recursion step\n        }\n\n        // check if lightlayer is not null\n        if (null !== lightlayer) {\n          lightlayer.expanded = node.expanded; // expand legend item (TOC)\n          layerstree.push(lightlayer);\n        }\n      });\n    };\n    traverse(options.layerstree, layerstree);\n  }\n\n  /** @FIXME add description */\n  if (!options.layerstree) {\n    // get all project layers that have geometry\n    layerstree = this.getGeoLayers().map(function (layer) {\n      return {\n        id: layer.getId(),\n        name: layer.getName(),\n        title: layer.getTitle(),\n        visible: layer.isVisible() || false\n      };\n    });\n  }\n\n  // setLayerstree\n  this.setLayersTree(layerstree, groupName, options.expanded);\n};\n\nproto.removeLayersTree = function () {\n  this.state.layerstree.splice(0, this.state.layerstree.length);\n};\n\nproto.getLayersTree = function () {\n  return this.state.layerstree;\n};\n\nmodule.exports = LayersStore;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],37:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// Registy Layers\nfunction LayersStoresRegistry() {\n  this.stores = {};\n  this.storesArray = [];\n  // to react some application components that are binding to Layerstore\n  this.setters = {\n    addLayersStore: function addLayersStore(layersStore, idx) {\n      this._addLayersStore(layersStore, idx);\n    },\n    removeLayersStore: function removeLayersStore(layerStore) {\n      this._removeLayersStore(layerStore);\n    },\n    removeLayersStores: function removeLayersStores() {\n      this._removeLayersStores();\n    }\n  };\n\n  base(this);\n}\n\ninherit(LayersStoresRegistry, G3WObject);\n\nvar proto = LayersStoresRegistry.prototype;\n\nproto.getLayerById = function (layerId) {\n  var layer = void 0;\n  for (var storeId in this.stores) {\n    var layerStore = this.stores[storeId];\n    layer = layerStore.getLayerById(layerId);\n    if (layer) break;\n  }\n  return layer;\n};\n\nproto.getLayers = function (filter) {\n  var layers = [];\n  Object.entries(this.stores).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        storeId = _ref2[0],\n        layersStore = _ref2[1];\n\n    layers = layers.concat(layersStore.getLayers(filter));\n  });\n  return layers;\n};\n\nproto.getQuerableLayersStores = function () {\n  return this.getLayersStores().filter(function (layersStore) {\n    return layersStore.isQueryable();\n  });\n};\n\nproto.getLayersStore = function (id) {\n  return this.stores[id];\n};\n\nproto.getLayersStores = function () {\n  var _this = this;\n\n  var stores = [];\n  this.storesArray.forEach(function (storeId) {\n    stores.push(_this.stores[storeId]);\n  });\n  return stores;\n};\n\nproto._addLayersStore = function (layersStore, idx) {\n  var storeId = layersStore.getId();\n  this.stores[storeId] = layersStore;\n  if (!_.isNil(idx)) this.storesArray.splice(idx, 0, storeId);else this.storesArray.push(storeId);\n};\n\nproto._removeLayersStore = function (layerStore) {\n  if (layerStore) {\n    var storeId = layerStore.getId();\n    this.storesArray = this.storesArray.filter(function (_storeId) {\n      return _storeId != storeId;\n    });\n    delete this.stores[storeId];\n  }\n};\n\nproto._removeLayersStores = function () {\n  this.storesArray = [];\n  this.stores = {};\n};\n\nmodule.exports = LayersStoresRegistry;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],38:[function(require,module,exports){\nfunction ARGISMAPSERVERLegend(_ref) {\n  var layer = _ref.layer,\n      params = _ref.params;\n  var _layer$getConfig$sour = layer.getConfig().source,\n      url = _layer$getConfig$sour.url,\n      layername = _layer$getConfig$sour.layer;\n\n  var serviceUrl = url.replace('/rest/', '/');\n  return serviceUrl + '/WMSServer?request=GetLegendGraphic&version=1.3.0&format=image/png&LAYER=' + layername;\n};\n\nmodule.exports = ARGISMAPSERVERLegend;\n\n},{}],39:[function(require,module,exports){\nvar TYPES = {\n  'wms': require('./wmslegend'),\n  'arcgismapserver': require('./arcgismapserverlegend')\n};\n\nvar Legendservice = {\n  get: function get() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref.layer,\n        params = _ref.params,\n        _ref$options = _ref.options,\n        options = _ref$options === undefined ? {} : _ref$options;\n\n    var type = layer.isArcgisMapserver() ? 'arcgismapserver' : 'wms';\n    return TYPES[type]({\n      layer: layer,\n      params: params,\n      options: options\n    });\n  }\n};\n\nmodule.exports = Legendservice;\n\n},{\"./arcgismapserverlegend\":38,\"./wmslegend\":40}],40:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/geo'),\n    get_LEGEND_ON_LEGEND_OFF_Params = _require.get_LEGEND_ON_LEGEND_OFF_Params;\n\nfunction WMSLegend(_ref) {\n  var layer = _ref.layer,\n      params = _ref.params,\n      _ref$options = _ref.options,\n      options = _ref$options === undefined ? {} : _ref$options;\n  var width = params.width,\n      height = params.height,\n      _params$color = params.color,\n      color = _params$color === undefined ? \"white\" : _params$color,\n      _params$fontsize = params.fontsize,\n      fontsize = _params$fontsize === undefined ? 10 : _params$fontsize,\n      _params$transparent = params.transparent,\n      transparent = _params$transparent === undefined ? true : _params$transparent,\n      boxspace = params.boxspace,\n      layerspace = params.layerspace,\n      _params$layertitle = params.layertitle,\n      layertitle = _params$layertitle === undefined ? true : _params$layertitle,\n      layertitlespace = params.layertitlespace,\n      symbolspace = params.symbolspace,\n      iconlabelspace = params.iconlabelspace,\n      symbolwidth = params.symbolwidth,\n      symbolheight = params.symbolheight,\n      itemfontfamily = params.itemfontfamily,\n      layerfontfamily = params.layerfontfamily,\n      layerfontbold = params.layerfontbold,\n      itemfontbold = params.itemfontbold,\n      layerfontitalic = params.layerfontitalic,\n      itemfontitalic = params.itemfontitalic,\n      rulelabel = params.rulelabel,\n      crs = params.crs,\n      bbox = params.bbox,\n      _params$sld_version = params.sld_version,\n      sld_version = _params$sld_version === undefined ? '1.1.0' : _params$sld_version;\n  var _options$categories = options.categories,\n      categories = _options$categories === undefined ? false : _options$categories,\n      _options$all = options.all,\n      all = _options$all === undefined ? false : _options$all,\n      _options$format = options.format,\n      format = _options$format === undefined ? 'image/png' : _options$format;\n\n\n  var LAYER = layer.getWMSLayerName({ type: 'legend' });\n  var FORMAT = format;\n  var STYLES = void 0,\n      LEGEND_ON = void 0,\n      LEGEND_OFF = void 0,\n      url = layer.getWmsUrl({ type: 'legend' });\n\n  if (all) {\n    // all=true means no filter parameters as BBOX\n    bbox = null;\n  }\n\n  if (categories && 'application/json' === FORMAT) {\n    symbolwidth = symbolheight = 16; //set 16 for symbol of chart or other legend symbol\n    STYLES = encodeURIComponent(layer.getCurrentStyle().name);\n  }\n\n  // in case of GetLegendGraphic of format `application/json`\n  // LEGEND_ON and LEGEND_OFF need to be undefined because\n  // it create some strange behaviour on WMS `getMap` when\n  // switching between layer styles\n  if (categories && (_projects2.default.getCurrentProject().getContextBaseLegend() || 'image/png' === FORMAT)) {\n    var _get_LEGEND_ON_LEGEND = get_LEGEND_ON_LEGEND_OFF_Params(layer);\n\n    LEGEND_ON = _get_LEGEND_ON_LEGEND.LEGEND_ON;\n    LEGEND_OFF = _get_LEGEND_ON_LEGEND.LEGEND_OFF;\n  }\n\n  return ['' + url + (url.indexOf('?') > -1 ? '&' : '?') + 'SERVICE=WMS&VERSION=1.3.0&REQUEST=GetLegendGraphic&SLD_VERSION=' + sld_version, '' + (width ? '&WIDTH=' + width : ''), '' + (height ? '&HEIGHT=' + height : ''), '&FORMAT=' + FORMAT, '&TRANSPARENT=' + transparent, '&ITEMFONTCOLOR=' + color, '&LAYERFONTCOLOR=' + color, '&LAYERTITLE=' + layertitle, '&ITEMFONTSIZE=' + fontsize, '' + (crs ? '&CRS=' + crs : ''), '' + (bbox ? '&BBOX=' + bbox.join(',') : ''), '' + (boxspace ? '&BOXSPACE=' + boxspace : ''), '' + (layerspace ? '&LAYERSPACE=' + layerspace : ''), '' + (layertitlespace ? '&LAYERTITLESPACE=' + layertitlespace : ''), '' + (symbolspace ? '&SYMBOLSPACE=' + symbolspace : ''), '' + (iconlabelspace ? '&ICONLABELSPACE=' + iconlabelspace : ''), '' + (symbolwidth ? '&SYMBOLWIDTH=' + symbolwidth : ''), '' + (symbolheight ? '&SYMBOLHEIGHT=' + symbolheight : ''), '' + (layerfontfamily ? '&LAYERFONTFAMILY=' + layerfontfamily : ''), '' + (itemfontfamily ? '&ITEMFONTFAMILY=' + itemfontfamily : ''), '' + (layerfontbold ? '&LAYERFONTBOLD=' + layerfontbold : ''), '' + (itemfontbold ? '&ITEMFONTBOLD=' + itemfontbold : ''), '' + (layerfontitalic ? '&LAYERFONTITALIC=' + layerfontitalic : ''), '' + (itemfontitalic ? '&ITEMFONTITALIC=' + itemfontitalic : ''), '' + (rulelabel ? '&RULELABEL=' + rulelabel : ''), '' + (LEGEND_ON ? '&LEGEND_ON=' + LEGEND_ON : ''), '' + (LEGEND_OFF ? '&LEGEND_OFF=' + LEGEND_OFF : ''), '' + (STYLES ? '&STYLES=' + STYLES : ''), '&LAYER=' + LAYER].join('');\n}\n\nmodule.exports = WMSLegend;\n\n},{\"core/utils/geo\":64,\"store/projects\":378}],41:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar WMSLAYER = require('core/layers/map/wmslayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction ARCGISMAPSERVERLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, options, extraParams);\n}\n\ninherit(ARCGISMAPSERVERLayer, WMSLAYER);\n\nvar proto = ARCGISMAPSERVERLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var _this = this;\n\n  var config = {\n    url: this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    format: this.config.format\n  };\n  var olLayer = new RasterLayers.TiledArgisMapServer(config);\n  olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n\n  olLayer.getSource().on('imageloaderror', function () {\n    _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\nmodule.exports = ARCGISMAPSERVERLayer;\n\n},{\"core/layers/map/wmslayer\":45,\"core/utils/utils\":67,\"g3w-ol/layers/rasters\":107}],42:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar VectorLayer = require('core/layers/map/vectorlayer');\n\nfunction GeojsonLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var provider = options.provider;\n  this.setProvider(provider);\n  base(this, options);\n  this.getFeatures({\n    url: options.url,\n    mapProjection: this.mapProjection\n  });\n}\n\ninherit(GeojsonLayer, VectorLayer);\n\nmodule.exports = GeojsonLayer;\n\n},{\"core/layers/map/vectorlayer\":44,\"core/utils/utils\":67}],43:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction MapLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n  this.id = config.id;\n  this.iframe_internal = config.iframe_internal || false;\n  this.extent = config.extent;\n  this.projection = config.projection;\n  this.layer = null;\n  this.layers = config.layers || []; // store all enabled layers\n  this.allLayers = []; // store all layers\n  this.showSpinnerWhenLoading = true;\n  base(this);\n}\n\ninherit(MapLayer, G3WObject);\n\nvar proto = MapLayer.prototype;\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.getOLLayer = function () {\n  console.log('every sub classes has to be override');\n};\n\nproto.update = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this._updateLayers(mapState, extraParams);\n};\n\nproto.checkLayerDisabled = function (layer, resolution, mapUnits) {\n  layer.setDisabled(resolution, mapUnits);\n  return layer.isDisabled();\n};\n\n// check which layers has to be disabled\nproto.checkLayersDisabled = function (resolution, mapUnits) {\n  var _this = this;\n\n  this.allLayers.forEach(function (layer) {\n    return _this.checkLayerDisabled(layer, resolution, mapUnits);\n  });\n};\n\nproto.setupCustomMapParamsToLegendUrl = function () {\n  //to owerwrite for each map layer subclass\n\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n};\n\nmodule.exports = MapLayer;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],44:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit;\n\nvar _require2 = require('core/utils/geo'),\n    createOlLayer = _require2.createOlLayer,\n    createLayerStyle = _require2.createLayerStyle;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction VectorLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.mapService = _gui2.default.getComponent('map').getService();\n  this.geometrytype = options.geometrytype || null;\n  this.type = options.type || null;\n  this.crs = options.crs || null;\n  this.id = options.id;\n  this.name = options.name || \"\";\n  this.style = options.style;\n  this.color = options.color;\n  this.geometryType = options.geometryType;\n  this.mapProjection = this.mapService.getProjection().getCode();\n  this.projection = options.projection || this.mapProjection;\n  this.url = options.url;\n  this.provider = options.provider;\n  this._features = options.features || [];\n  this._olLayer = options.olLayer || this.getOLLayer();\n}\n\ninherit(VectorLayer, G3WObject);\n\nmodule.exports = VectorLayer;\n\nvar proto = VectorLayer.prototype;\n\nproto.setProvider = function (provider) {\n  this._provider = provider;\n};\n\nproto.getProvider = function () {\n  return this._provider;\n};\n\nproto.resetSource = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var source = new ol.source.Vector({\n    features: features\n  });\n  this.setSource(source);\n};\n\nproto._makeOlLayer = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      style = _ref.style;\n\n  var _style = this._makeStyle(style);\n  this._olLayer = new ol.layer.Vector({\n    name: this.name,\n    id: this.id,\n    style: _style,\n    source: new ol.source.Vector({})\n  });\n};\n\nproto._makeStyle = function (styleConfig) {\n  var style = void 0;\n  var styles = {};\n  if (styleConfig) {\n    Object.entries(styleConfig).forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          type = _ref3[0],\n          config = _ref3[1];\n\n      switch (type) {\n        case 'point':\n          if (config.icon) {\n            styles.image = new ol.style.Icon({\n              src: config.icon.url,\n              imageSize: config.icon.width\n            });\n          }\n          break;\n        case 'line':\n          styles.stroke = new ol.style.Stroke({\n            color: config.color,\n            width: config.width\n          });\n          break;\n        case 'polygon':\n          styles.fill = new ol.style.Fill({\n            color: config.color\n          });\n          break;\n      }\n    });\n    style = new ol.style.Style(styles);\n  }\n  return style;\n};\n\nproto.getFeatures = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this.provider.getFeatures(options).then(function (features) {\n    _this.addFeatures(features);\n    d.resolve(features);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.addFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.getSource().addFeatures(features);\n};\n\nproto.addFeature = function (feature) {\n  feature && this.getSource().addFeature(feature);\n};\n\nproto.getOLLayer = function () {\n  if (this._olLayer) return this._olLayer;else {\n    var id = this.id;\n    var geometryType = this.geometryType;\n    var color = this.color;\n    var style = this.style ? createLayerStyle(this.style) : null;\n    this._olLayer = createOlLayer({\n      id: id,\n      geometryType: geometryType,\n      color: color,\n      style: style,\n      features: this._features\n    });\n  }\n  return this._olLayer;\n};\n\nproto.setOLLayer = function (olLayer) {\n  this._olLayer = olLayer;\n};\n\nproto.getSource = function () {\n  !this._olLayer && this.getOLLayer();\n  return this._olLayer.getSource();\n};\n\nproto.setSource = function (source) {\n  this._olLayer.setSource(source);\n};\n\nproto.setStyle = function (style) {\n  this._olLayer.setStyle(style);\n};\n\nproto.getFeatureById = function (fid) {\n  return fid ? this._olLayer.getSource().getFeatureById(fid) : null;\n};\n\nproto.isVisible = function () {\n  return this._olLayer.getVisible();\n};\n\nproto.setVisible = function (bool) {\n  this._olLayer.setVisible(bool);\n};\n\nproto.clear = function () {\n  this.getSource().clear();\n};\n\nproto.addToMap = function (map) {\n  map.addLayer(this._olLayer);\n};\n\n},{\"core/g3wobject\":12,\"core/utils/geo\":64,\"core/utils/utils\":67,\"services/gui\":360}],45:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar MapLayer = require('core/layers/map/maplayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction WMSLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  this.LAYERTYPE = {\n    LAYER: 'layer',\n    MULTILAYER: 'multilayer'\n  };\n  this.extraParams = extraParams;\n  this._method = method;\n  base(this, options);\n}\n\ninherit(WMSLayer, MapLayer);\n\nvar proto = WMSLayer.prototype;\n\nproto.getOLLayer = function (withLayers) {\n  if (!this._olLayer) this._olLayer = this._makeOlLayer(withLayers);\n  return this._olLayer;\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.getInfoFormat = function () {\n  return 'application/vnd.ogc.gml';\n};\n\nproto.getGetFeatureInfoUrl = function (coordinate, resolution, epsg, params) {\n  return this.getOLLayer().getSource().getGetFeatureInfoUrl(coordinate, resolution, epsg, params);\n};\n\nproto.getLayerConfigs = function () {\n  return this.layers;\n};\n\nproto.addLayer = function (layer) {\n  if (!this.allLayers.find(function (_layer) {\n    return layer === _layer;\n  })) this.allLayers.push(layer);\n  if (!this.layers.find(function (_layer) {\n    return layer === _layer;\n  })) this.layers.push(layer);\n};\n\nproto.removeLayer = function (layer) {\n  this.layers = this.layers.filter(function (_layer) {\n    return layer !== _layer;\n  });\n};\n\nproto.isVisible = function () {\n  return this._getVisibleLayers().length > 0;\n};\n\nproto.getQueryUrl = function () {\n  var layer = this.layers[0];\n  if (layer.infourl && layer.infourl !== '') return layer.infourl;\n  return this.config.url;\n};\n\nproto.getQueryableLayers = function () {\n  return this.layers.filter(function (layer) {\n    return layer.isQueryable();\n  });\n};\n\nproto._getVisibleLayers = function () {\n  return this.layers.filter(function (layer) {\n    return layer.isVisible();\n  });\n};\n\n/**\n * @param {boolean} withLayers\n * \n * @returns {RasterLayers.WMSLayer}\n * \n * @listens ol.source.ImageWMS~imageloadstart\n * @listens ol.source.ImageWMS~imageloadend\n * @listens ol.source.ImageWMS~imageloaderror\n */\nproto._makeOlLayer = function (withLayers) {\n  var _this = this;\n\n  var olLayer = new RasterLayers.WMSLayer(\n  // wmsConfig\n  {\n    url: this.layers[0] && this.layers[0].getWmsUrl ? this.layers[0].getWmsUrl() : this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    iframe_internal: this.iframe_internal,\n    layers: withLayers ? this.layers.map(function (layer) {\n      return layer.getWMSLayerName();\n    }) : this.layers,\n    /** @since 3.7.11 */\n    format: this.config.format\n  }, this.extraParams, this._method);\n  olLayer.getSource().on('imageloadstart', function () {\n    return _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('imageloadend', function () {\n    return _this.emit(\"loadend\");\n  });\n  olLayer.getSource().on('imageloaderror', function () {\n    return _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\n//update Layers\nproto._updateLayers = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _extraParams$force = extraParams.force,\n      force = _extraParams$force === undefined ? false : _extraParams$force,\n      params = _objectWithoutProperties(extraParams, ['force']);\n  //check disabled layers\n\n\n  !force && this.checkLayersDisabled(mapState.resolution, mapState.mapUnits);\n  var visibleLayers = this._getVisibleLayers(mapState) || [];\n\n  var _require2 = require('core/utils/geo'),\n      get_LEGEND_ON_LEGEND_OFF_Params = _require2.get_LEGEND_ON_LEGEND_OFF_Params;\n\n  if (visibleLayers.length > 0) {\n    var CATEGORIES_LAYERS = {};\n    var STYLES = [];\n    var OPACITIES = [];\n    visibleLayers.map(function (layer) {\n      var layerId = layer.getWMSLayerName();\n      CATEGORIES_LAYERS[layerId] = _extends({}, get_LEGEND_ON_LEGEND_OFF_Params(layer));\n      STYLES.push(layer.getStyle());\n      OPACITIES.push(parseInt(layer.getOpacity() / 100 * 255));\n    });\n\n    var LEGEND_ON = void 0;\n    var LEGEND_OFF = void 0;\n    Object.keys(CATEGORIES_LAYERS).forEach(function (layerId) {\n      if (CATEGORIES_LAYERS[layerId].LEGEND_OFF) {\n        if (typeof LEGEND_OFF === 'undefined') LEGEND_OFF = CATEGORIES_LAYERS[layerId].LEGEND_OFF;else LEGEND_OFF = LEGEND_OFF + ';' + CATEGORIES_LAYERS[layerId].LEGEND_OFF;\n      }\n      if (CATEGORIES_LAYERS[layerId].LEGEND_ON) {\n        if (typeof LEGEND_ON === 'undefined') LEGEND_ON = CATEGORIES_LAYERS[layerId].LEGEND_ON;else LEGEND_ON = LEGEND_ON + ';' + CATEGORIES_LAYERS[layerId].LEGEND_ON;\n      }\n    });\n    var prefix = visibleLayers[0].isArcgisMapserver() ? 'show:' : '';\n    params = _extends({}, params, {\n      filtertoken: _applicationState2.default.tokens.filtertoken,\n      STYLES: STYLES.join(','),\n      /** @since v3.8 */\n      OPACITIES: OPACITIES.join(','),\n      LEGEND_ON: LEGEND_ON,\n      LEGEND_OFF: LEGEND_OFF,\n      LAYERS: '' + prefix + visibleLayers.map(function (layer) {\n        return layer.getWMSLayerName();\n      }).join(',')\n    });\n    this._olLayer.setVisible(true);\n    this._olLayer.getSource().updateParams(params);\n  } else this._olLayer.setVisible(false);\n};\n\nproto.setupCustomMapParamsToLegendUrl = function () {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (this.layer) this.layer.setMapParamstoLegendUrl(params);else this.layers.forEach(function (layer) {\n    return layer.setMapParamstoLegendUrl(params);\n  });\n};\n\nmodule.exports = WMSLayer;\n\n},{\"core/layers/map/maplayer\":43,\"core/utils/geo\":64,\"core/utils/utils\":67,\"g3w-ol/layers/rasters\":107,\"store/application-state\":372}],46:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction WMSTLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  this.LAYERTYPE = {\n    LAYER: 'layer',\n    MULTILAYER: 'multilayer'\n  };\n  this.extraParams = extraParams;\n  this._method = method;\n  base(this, options);\n}\n\ninherit(WMSTLayer, WMSLayer);\n\nvar proto = WMSTLayer.prototype;\n\nproto._makeOlLayer = function (withLayers) {\n  var _this = this;\n\n  var wmsConfig = {\n    url: this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    iframe_internal: this.iframe_internal,\n    layers: this.layers\n  };\n  if (withLayers) wmsConfig.layers = this.layers.map(function (layer) {\n    return layer.getWMSLayerName();\n  });\n  var representativeLayer = this.layers[0];\n  if (representativeLayer && representativeLayer.getWmsUrl) wmsConfig.url = representativeLayer.getWmsUrl();\n  var olLayer = new RasterLayers.TiledWMSLayer(wmsConfig, this.extraParams, this._method);\n  olLayer.getSource().on('tileloadstart', function () {\n    return _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('tileloadend', function () {\n    return _this.emit(\"loadend\");\n  });\n  olLayer.getSource().on('tileloaderror', function () {\n    return _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\nmodule.exports = WMSTLayer;\n\n},{\"core/layers/map/wmslayer\":45,\"core/utils/utils\":67,\"g3w-ol/layers/rasters\":107,\"store/application-state\":372}],47:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar MapLayer = require('core/layers/map/maplayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction XYZLayer(options) {\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n\n  base(this, options);\n  this._method = method;\n}\n\ninherit(XYZLayer, MapLayer);\n\nvar proto = XYZLayer.prototype;\n\nproto.getOLLayer = function () {\n  var olLayer = this._olLayer;\n  if (!olLayer) olLayer = this._olLayer = this._makeOlLayer();\n  return olLayer;\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.getLayerConfigs = function () {\n  return this.layer;\n};\n\nproto.addLayer = function (layer) {\n  this.layer = layer;\n  this.layers.push(layer);\n  this.allLayers.push(layer);\n};\n\nproto.update = function (mapState, extraParams) {\n  this._updateLayer(mapState, extraParams);\n};\n\nproto.isVisible = function () {\n  return layer.state.visible;\n};\n\nproto._makeOlLayer = function () {\n  var _this = this;\n\n  var projection = this.projection ? this.projection : this.layer.getProjection();\n  var layerOptions = {\n    url: this.layer.getCacheUrl() + '/{z}/{x}/{y}.png',\n    maxZoom: 20,\n    extent: this.config.extent,\n    iframe_internal: this.iframe_internal\n  };\n\n  layerOptions.projection = projection;\n  this._olLayer = new RasterLayers.XYZLayer(layerOptions, this._method);\n\n  this._olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  this._olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n  this._olLayer.getSource().on('imageloaderror', function () {\n    _this.emit(\"loaderror\");\n  });\n  return this._olLayer;\n};\n\nproto._updateLayer = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _extraParams$force = extraParams.force,\n      force = _extraParams$force === undefined ? false : _extraParams$force;\n\n  !force && this.checkLayersDisabled(mapState.resolution, mapState.mapUnits);\n  this._olLayer.setVisible(this.layer.isVisible());\n};\n\nmodule.exports = XYZLayer;\n\n},{\"core/layers/map/maplayer\":43,\"core/utils/utils\":67,\"g3w-ol/layers/rasters\":107}],48:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Provider = require('core/layers/providers/provider');\n\nfunction GEOJSONDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'geojson';\n  this.provider = options.provider;\n}\n\ninherit(GEOJSONDataProvider, Provider);\n\nvar proto = GEOJSONDataProvider.prototype;\n\nproto.query = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  d.resolve([]);\n  return d.promise();\n};\n\nproto.getFeatures = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var url = options.url || this.getLayer().get('source').url;\n  var data = options.data;\n  var projection = options.projection || \"EPSG:4326\";\n  var mapProjection = options.mapProjection;\n  var parseFeatures = function parseFeatures(data) {\n    var parser = new ol.format.GeoJSON();\n    return parser.readFeatures(data, {\n      featureProjection: mapProjection,\n      //defaultDataProjection: projection // ol v. 4.5\n      dataProjection: projection\n    });\n  };\n  if (data) {\n    var features = parseFeatures(data);\n    d.resolve(features);\n  } else {\n    $.get({ url: url }).then(function (response) {\n      var features = parseFeatures(response.results);\n      d.resolve(features);\n    }).fail(function (err) {\n      d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto.getDataTable = function () {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      page = _ref.page;\n\n  var d = $.Deferred();\n  this.getFeatures().then(function () {\n    d.resolve(_this._features);\n  }).fail(function (err) {\n    d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.digestFeaturesForTable = function () {\n  return {\n    headers: [],\n    features: []\n  };\n};\n\nmodule.exports = GEOJSONDataProvider;\n\n},{\"core/layers/providers/provider\":50,\"core/utils/utils\":67}],49:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nfunction KMLDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'kml';\n}\n\ninherit(KMLDataProvider, DataProvider);\n\nvar proto = KMLDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\nmodule.exports = KMLDataProvider;\n\n},{\"core/layers/providers/provider\":50,\"core/utils/utils\":67}],50:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    getTimeoutPromise = _require.getTimeoutPromise;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require2 = require('core/utils/geo'),\n    handleQueryResponse = _require2.handleQueryResponse;\n\nvar _require3 = require('core/utils/parsers'),\n    responseParser = _require3.response;\n\nfunction Provider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._isReady = false;\n  this._name = 'provider';\n  this._layer = options.layer;\n  this._hasFieldsStartWithNotPermittedKey;\n  base(this);\n}\n\ninherit(Provider, G3WObject);\n\nvar proto = Provider.prototype;\n\nproto.getLayer = function () {\n  return this._layer;\n};\n\nproto.setLayer = function (layer) {\n  this._layer = layer;\n};\n\nproto.getFeatures = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.query = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.setReady = function (bool) {\n  this._isReady = bool;\n};\n\nproto.isReady = function () {\n  return this._isReady;\n};\n\nproto.error = function () {};\n\nproto.isValid = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.getName = function () {\n  return this._name;\n};\n\n// Method to transform xml from server to present to queryresult component\nproto.handleQueryResponseFromServer = function (response, projections) {\n  var layers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [this._layer];\n  var wms = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  return handleQueryResponse({\n    response: response,\n    projections: projections,\n    layers: layers,\n    wms: wms\n  });\n};\n\nproto.getQueryResponseTimeoutKey = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [],\n      _ref$layers = _ref.layers,\n      layers = _ref$layers === undefined ? [this._layer] : _ref$layers,\n      resolve = _ref.resolve,\n      query = _ref.query;\n\n  /**\n   * set timeout of a query\n   * @type {number}\n   */\n  return getTimeoutPromise({\n    resolve: resolve,\n    data: {\n      data: responseParser.utils.getTimeoutData(layers),\n      query: query\n    }\n  });\n};\n\nmodule.exports = Provider;\n\n},{\"core/g3wobject\":12,\"core/utils/geo\":64,\"core/utils/parsers\":66,\"core/utils/utils\":67}],51:[function(require,module,exports){\nvar Providers = {\n  geojson: require('./geojsonprovider'),\n  kml: require('./kmlprovider'),\n  xml: require('./xmlprovider'),\n  qgis: require('./qgisprovider'),\n  wms: require('./wmsprovider'),\n  wfs: require('./wfsprovider')\n};\n\nvar ProvidersForServerTypes = {\n  'QGIS': {\n    'virtual': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'postgres': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'oracle': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'mssql': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'spatialite': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'ogr': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'delimitedtext': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'wmst': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wcs': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wms': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wfs': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis\n    },\n    'gdal': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'vector-tile': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'vectortile': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'arcgismapserver': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'mdal': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    }\n  },\n  'OGC': {\n    'wms': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    }\n  },\n  'G3WSUITE': {\n    'geojson': {\n      query: Providers.geojson,\n      filter: null,\n      data: Providers.geojson,\n      search: null\n    }\n  }\n};\n\nfunction ProviderFactory() {\n  this.build = function (providerType, serverType, sourceType, options) {\n    // return instace of seletced provider\n    var providerClass = this.get(providerType, serverType, sourceType);\n    if (providerClass) {\n      return new providerClass(options);\n    }\n    return null;\n  };\n\n  this.get = function (providerType, serverType, sourceType) {\n    return ProvidersForServerTypes[serverType][sourceType][providerType];\n  };\n}\n\nmodule.exports = new ProviderFactory();\n\n},{\"./geojsonprovider\":48,\"./kmlprovider\":49,\"./qgisprovider\":52,\"./wfsprovider\":53,\"./wmsprovider\":54,\"./xmlprovider\":55}],52:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nvar _require3 = require('core/utils/parsers'),\n    responseParser = _require3.response;\n\nvar Feature = require('core/layers/features/feature');\nvar Parsers = require('core/utils/parsers');\n\nfunction QGISProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this._name = 'qgis';\n  this._layer = options.layer || {};\n  this._projections = {\n    map: null,\n    layer: null\n  };\n  // url referred to query\n  this._queryUrl = this._layer.getUrl('query');\n  //filtertokenurl\n  this._filtertokenUrl = this._layer.getUrl('filtertoken');\n  // layer name\n  this._layerName = this._layer.getName() || null; // get name  from QGIS layer, because the query are proxed from g3w-server\n  this._infoFormat = this._layer.getInfoFormat() || 'application/vnd.ogc.gml';\n}\n\ninherit(QGISProvider, DataProvider);\n\nvar proto = QGISProvider.prototype;\n/*\n* token: current token if provide\n* action: create, update, delete\n* */\n\nproto.deleteFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return XHR.get({\n            url: this._filtertokenUrl,\n            params: {\n              mode: 'delete'\n            }\n          });\n\n        case 2:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nproto.getFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _ref3, _ref3$data, data;\n\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return XHR.get({\n            url: this._filtertokenUrl,\n            params: params\n          });\n\n        case 3:\n          _ref3 = _context2.sent;\n          _ref3$data = _ref3.data;\n          data = _ref3$data === undefined ? {} : _ref3$data;\n          return _context2.abrupt('return', data.filtertoken);\n\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2['catch'](0);\n          return _context2.abrupt('return', Promise.reject(_context2.t0));\n\n        case 12:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this, [[0, 9]]);\n}));\n\nproto.getFilterData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref5.field,\n      _ref5$raw = _ref5.raw,\n      raw = _ref5$raw === undefined ? false : _ref5$raw,\n      _ref5$suggest = _ref5.suggest,\n      suggest = _ref5$suggest === undefined ? {} : _ref5$suggest,\n      unique = _ref5.unique,\n      _ref5$formatter = _ref5.formatter,\n      formatter = _ref5$formatter === undefined ? 1 : _ref5$formatter,\n      queryUrl = _ref5.queryUrl,\n      ordering = _ref5.ordering;\n\n  var dataUrl, params, response, isVector, data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          dataUrl = this._layer.getUrl('data');\n          params = {\n            field: field,\n            suggest: suggest,\n            ordering: ordering,\n            formatter: formatter,\n            unique: unique,\n            filtertoken: _applicationState2.default.tokens.filtertoken\n          };\n          _context3.prev = 2;\n          _context3.next = 5;\n          return XHR.get({\n            url: '' + (queryUrl ? queryUrl : dataUrl),\n            params: params\n          });\n\n        case 5:\n          response = _context3.sent;\n          isVector = this._layer.getType() !== \"table\";\n\n          isVector && this.setProjections();\n          data = raw ? response : response.result ? unique ? response.data : {\n            data: responseParser.get('application/json')({\n              layers: [this._layer],\n              response: response.vector.data,\n              projections: this._projections\n            })\n          } : Promise.reject();\n          return _context3.abrupt('return', data);\n\n        case 12:\n          _context3.prev = 12;\n          _context3.t0 = _context3['catch'](2);\n          return _context3.abrupt('return', Promise.reject(_context3.t0));\n\n        case 15:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[2, 12]]);\n}));\n\nproto.setProjections = function () {\n  //COMMENTED LAYER PROJECTION: EXPECT ONLY RESULT IN MAP PROJECTION\n  //this._projections.layer = this._layer.getProjection();\n  this._projections.map = this._layer.getMapProjection() || this._projections.layer;\n};\n\n//query by filter\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var feature_count = options.feature_count || 10;\n  // parameter to get rwa response\n  var raw = options.raw || false;\n  var _options$filter = options.filter,\n      filter = _options$filter === undefined ? null : _options$filter;\n\n  filter = filter && Array.isArray(filter) ? filter : [filter];\n  var isVector = this._layer.getType() !== \"table\";\n  isVector && this.setProjections();\n  var CRS = isVector ? this._projections.map.getCode() : _applicationState2.default.map.epsg;\n  var queryUrl = options.queryUrl || this._queryUrl;\n  var I = options.I,\n      J = options.J,\n      layers = options.layers;\n\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWMSLayerName();\n  }).join(',') : this._layer.getWMSLayerName();\n  if (filter) {\n    // check if geometry filter. If not i have to remove projection layer\n    if (filter[0].getType() !== 'geometry') this._projections.layer = null;\n    filter = filter.map(function (filter) {\n      return filter.get();\n    }).filter(function (value) {\n      return value;\n    });\n    var url = queryUrl;\n    var params = {\n      SERVICE: 'WMS',\n      VERSION: '1.3.0',\n      REQUEST: 'GetFeatureInfo',\n      filtertoken: _applicationState2.default.tokens.filtertoken,\n      LAYERS: layerNames,\n      QUERY_LAYERS: layerNames,\n      INFO_FORMAT: this._infoFormat,\n      FEATURE_COUNT: feature_count,\n      CRS: CRS,\n      I: I,\n      J: J,\n      FILTER: filter && filter.length ? filter.join(';') : undefined,\n      WITH_GEOMETRY: isVector\n    };\n    XHR.get({\n      url: url,\n      params: params\n    }).then(function (response) {\n      var featuresForLayers = raw ? response : _this.handleQueryResponseFromServer(response, _this._projections, layers);\n      d.resolve(featuresForLayers);\n    }).catch(function (err) {\n      return d.reject(err);\n    });\n  } else d.reject();\n  return d.promise();\n};\n\n// get layer config\nproto.getConfig = function () {\n  var d = $.Deferred();\n  var url = this._layer.getUrl('config');\n  if (!url) {\n    d.reject('not valid url');\n    return;\n  }\n  $.get(url).then(function (config) {\n    return d.resolve(config);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.getWidgetData = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var type = options.type,\n      fields = options.fields;\n\n  var widgetUrls = this._layer.getUrl('widget');\n  var url = widgetUrls[type];\n  return $.get(url, {\n    fields: fields\n  });\n};\n\n// unlock feature\nproto.unlock = function () {\n  var unlockUrl = this._layer.getUrl('unlock');\n  var d = $.Deferred();\n  $.post(unlockUrl).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// commit function\nproto.commit = function (commitItems) {\n  var d = $.Deferred();\n  //check if editing or not;\n  var url = this._layer.getUrl('commit');\n  var jsonCommits = JSON.stringify(commitItems);\n  $.post({\n    url: url,\n    data: jsonCommits,\n    contentType: \"application/json\"\n  }).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// METODS LOADING EDITING FEATURES (READ/WRITE) //\nproto.getFeatures = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  // filter null value\n  Object.entries(params).forEach(function (_ref6) {\n    var _ref7 = _slicedToArray(_ref6, 2),\n        key = _ref7[0],\n        value = _ref7[1];\n\n    if (value === null || value === void 0) delete params[key];\n  });\n  var layerType = this._layer.getType();\n  // check if data are requested in read or write mode;\n  var url = void 0;\n  //set contentType\n  var contentType = \"application/json\";\n  //editing mode\n  if (options.editing) {\n    var promise = void 0;\n    url = this._layer.getUrl('editing');\n    if (!url) {\n      d.reject('Url not valid');\n      return;\n    }\n    var urlParams = $.param(params);\n    url += urlParams ? '?' + urlParams : '';\n    var features = [];\n    var filter = options.filter || null;\n    if (filter) {\n      // filterbbox\n      if (filter.bbox) {\n        var bbox = filter.bbox;\n        filter = {\n          in_bbox: bbox[0] + ',' + bbox[1] + ',' + bbox[2] + ',' + bbox[3],\n          filtertoken: _applicationState2.default.tokens.filtertoken\n        };\n        var jsonFilter = JSON.stringify(filter);\n        promise = XHR.post({\n          url: url,\n          data: jsonFilter,\n          contentType: contentType\n        });\n        // filter fid\n      } else if (filter.fid) {\n        var _options = filter.fid;\n        promise = _relations2.default.getRelations(_options);\n      } else if (filter.field) {\n        var _jsonFilter = JSON.stringify(filter);\n        promise = XHR.post({\n          url: url,\n          data: _jsonFilter,\n          contentType: contentType\n        });\n      } else if (filter.fids) {\n        promise = XHR.get({\n          url: url,\n          params: filter\n        });\n      } else if (filter.nofeatures) {\n        var _jsonFilter2 = JSON.stringify({\n          field: (filter.nofeatures_field || 'id') + '|eq|__G3W__NO_FEATURES__'\n        });\n        promise = XHR.post({\n          url: url,\n          data: _jsonFilter2,\n          contentType: contentType\n        });\n      }\n    } else promise = XHR.post({ url: url, contentType: contentType });\n    promise.then(function (response) {\n      var vector = response.vector,\n          result = response.result,\n          featurelocks = response.featurelocks;\n\n      if (result) {\n        var data = vector.data,\n            geometrytype = vector.geometrytype,\n            count = vector.count;\n\n        var parser = Parsers[layerType].get({\n          type: 'json'\n        });\n        //const parser_options = (geometrytype !== 'NoGeometry') ? { crs: this._layer.getCrs(), mapCrs: this._layer.getMapCrs() } : {};\n        var parser_options = geometrytype !== 'NoGeometry' ? { crs: _this2._layer.getCrs() } : {};\n        //get lockIds\n        var lockIds = featurelocks.map(function (featureLock) {\n          return featureLock.featureid;\n        });\n        parser(data, parser_options).forEach(function (feature) {\n          var featureId = '' + feature.getId();\n          if (lockIds.indexOf(featureId) > -1) {\n            features.push(new Feature({\n              feature: feature\n            }));\n          }\n        });\n        // resolve with features locked and requested\n        d.resolve({\n          count: count, // real number of feature that request will return\n          features: features, // feature object returned\n          featurelocks: featurelocks // features locked\n        });\n      } else {\n        // case when server responde with result false (error)\n        d.reject({\n          message: t(\"info.server_error\")\n        });\n      }\n    }).catch(function (err) {\n      return d.reject({ message: t(\"info.server_error\") });\n    });\n  } else {\n    url = this._layer.getUrl('data');\n    var _urlParams = $.param(params);\n    url += _urlParams ? '?' + _urlParams : '';\n    $.get({\n      url: url,\n      contentType: contentType\n    }).then(function (response) {\n      var vector = response.vector;\n      var data = vector.data;\n      d.resolve({\n        data: data,\n        count: vector.count\n      });\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto._loadLayerData = function (mode, customUrlParameters) {\n  var _this3 = this,\n      _arguments = arguments;\n\n  var d = $.Deferred();\n  Obkect.entries(this._layers).forEach(function (_ref8) {\n    var _ref9 = _slicedToArray(_ref8, 2),\n        layerCode = _ref9[0],\n        layer = _ref9[1];\n\n    if (_.isNull(layer.vector)) noVectorlayerCodes.push(layerCode);\n  });\n  var vectorLayersSetup = noVectorlayerCodes.map(function (layerCode) {\n    return _this3._setupVectorLayer(layerCode);\n  });\n  this.emit('loadingvectorlayersstart');\n  $.when.apply(this, vectorLayersSetup).then(function () {\n    var vectorLayersCodes = Array.prototype.slice.call(_arguments);\n    _this3.emit('loadingvectolayersdatastart');\n    _this3.loadAllVectorsData(vectorLayersCodes).then(function () {\n      _this3._vectorLayersCodes = vectorLayersCodes;\n      d.resolve(vectorLayersCodes);\n      _this3.emit('loadingvectorlayersend');\n      _this3.setReady(true);\n    }).fail(function () {\n      _this3._layers.forEach(function (layer) {\n        return layer.vector = null;\n      });\n      d.reject();\n      _this3.emit('errorloadingvectorlayersend');\n      _this3.setReady(false);\n    });\n  }).fail(function () {\n    _this3.setReady(false);\n    _this3.emit('errorloadingvectorlayersend');\n    d.reject();\n  });\n  return d.promise();\n};\n\nproto.setVectorLayersCodes = function (vectorLayersCodes) {\n  this._vectorLayersCodes = vectorLayersCodes;\n};\n\nproto.getVectorLayersCodes = function () {\n  return this._vectorLayersCodes;\n};\n\nproto.getLayers = function () {\n  return this._layers;\n};\n\nproto.reloadVectorData = function (layerCode) {\n  var _this4 = this;\n\n  var d = $.Deferred();\n  var bbox = this._mapService.state.bbox;\n  this._createVectorLayerFromConfig(layerCode).then(function (vectorLayer) {\n    _this4._getVectorLayerData(vectorLayer, bbox).then(function (vectorDataResponse) {\n      _this4.setVectorLayerData(vectorLayer[_this4._editingApiField], vectorDataResponse);\n      vectorLayer.setData(vectorDataResponse.vector.data);\n      d.resolve(vectorLayer);\n    });\n  });\n  return d.promise();\n};\n\nproto.loadAllVectorsData = function (layerCodes) {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  var layers = this._layers;\n  var bbox = this._mapService.state.bbox;\n  var loadedExtent = this._loadedExtent;\n  if (loadedExtent && ol.extent.containsExtent(loadedExtent, bbox)) {\n    return resolvedValue();\n  }\n  this._loadedExtent = !loadedExtent ? bbox : ol.extent.extend(loadedExtent, bbox);\n  if (layerCodes) {\n    layers = [];\n    layerCodes.forEach(function (layerCode) {\n      return layers.push(_this5._layers[layerCode]);\n    });\n  }\n  var vectorDataRequests = layers.map(function (Layer) {\n    return _this5._loadVectorData(Layer.vector, bbox);\n  });\n\n  $.when.apply(this, vectorDataRequests).then(function () {\n    return d.resolve(layerCodes);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._setCustomUrlParameters = function (customUrlParameters) {\n  this._customUrlParameters = customUrlParameters;\n};\n\nproto._checkVectorGeometryTypeFromConfig = function (vectorConfig) {\n  switch (vectorConfig.geometrytype) {\n    case 'Line':\n      vectorConfig.geometrytype = 'LineString';\n      break;\n    case 'MultiLine':\n      vectorConfig.geometrytype = 'MultiLineString';\n      break;\n  }\n  return vectorConfig;\n};\n\nproto._createVectorLayerFromConfig = function (layerCode) {\n  var _this6 = this;\n\n  var layerConfig = this._layers[layerCode];\n  var d = $.Deferred();\n  this._getVectorLayerConfig(layerConfig[this._editingApiField]).then(function (vectorConfigResponse) {\n    var vectorConfig = vectorConfigResponse.vector;\n    vectorConfig = _this6._checkVectorGeometryTypeFromConfig(vectorConfig);\n    var crsLayer = layerConfig.crs || _this6._mapService.getProjection().getCode();\n    var vectorLayer = _this6._createVectorLayer({\n      geometrytype: vectorConfig.geometrytype,\n      format: vectorConfig.format,\n      crs: _this6._mapService.getProjection().getCode(),\n      crsLayer: crsLayer,\n      id: layerConfig.id,\n      name: layerConfig.name,\n      editing: self._editingMode\n    });\n    vectorLayer.setFields(vectorConfig.fields);\n    vectorLayer.setCrs(crsLayer);\n    var relations = vectorConfig.relations;\n    if (relations) {\n      vectorLayer.lazyRelations = true;\n      vectorLayer.setRelations(relations);\n    }\n    if (layerConfig.style) vectorLayer.setStyle(layerConfig.style);\n    d.resolve(vectorLayer);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._setupVectorLayer = function (layerCode) {\n  var _this7 = this;\n\n  var d = $.Deferred();\n  this._createVectorLayerFromConfig(layerCode).then(function (vectorLayer) {\n    var layerConfig = _this7._layers[layerCode];\n    layerConfig.vector = vectorLayer;\n    d.resolve(layerCode);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._loadVectorData = function (vectorLayer, bbox) {\n  var _this8 = this;\n\n  return self._getVectorLayerData(vectorLayer, bbox).then(function (vectorDataResponse) {\n    _this8.setVectorLayerData(vectorLayer[_this8._editingApiField], vectorDataResponse);\n    if (_this8._editingMode && vectorDataResponse.featurelocks) {\n      _this8.setVectorFeaturesLock(vectorLayer, vectorDataResponse.featurelocks);\n    }\n    vectorLayer.setData(vectorDataResponse.vector.data);\n    if (_this8._) return vectorDataResponse;\n  }).fail(function () {\n    return false;\n  });\n};\n\nproto.getVectorLayerData = function (layerCode) {\n  return this._vectorLayersData[layerCode];\n};\n\nproto.getVectorLayersData = function () {\n  return this._vectorLayersData;\n};\n\nproto.setVectorLayerData = function (layerCode, vectorLayerData) {\n  this._vectorLayersData[layerCode] = vectorLayerData;\n};\n\nproto.setVectorFeaturesLock = function (vectorLayer, featureslock) {\n  var newFeaturesLockIds = _.differenceBy(featureslock, vectorLayer.getFeatureLocks(), 'featureid');\n  newFeaturesLockIds.forEach(function (newLockId) {\n    vectorLayer.addLockId(newLockId);\n  });\n};\n\nproto.cleanVectorFeaturesLock = function (vectorLayer) {\n  vectorLayer.cleanFeatureLocks();\n};\n\nproto.lockFeatures = function (layerName) {\n  var _this9 = this;\n\n  var d = $.Deferred();\n  var bbox = this._mapService.state.bbox;\n  var vectorLayer = this._layers[layerName].vector;\n  $.get(this._baseUrl + layerName + \"/?lock\" + this._customUrlParameters + \"&in_bbox=\" + bbox[0] + \",\" + bbox[1] + \",\" + bbox[2] + \",\" + bbox[3]).done(function (data) {\n    _this9.setVectorFeaturesLock(vectorLayer, data.featurelocks);\n    d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._getVectorLayerConfig = function (layerApiField) {\n  var d = $.Deferred();\n  $.get(this._baseUrl + layerApiField + \"/?config\" + this._customUrlParameters).done(function (data) {\n    return d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._getVectorLayerData = function (vectorLayer, bbox) {\n  var d = $.Deferred();\n  var lock = this.getMode() == 'w' ? true : false;\n  var apiUrl = lock ? this._baseUrl + vectorLayer[this._editingApiField] + \"/?editing\" : this._baseUrl + vectorLayer[this._editingApiField] + \"/?\";\n  $.get(apiUrl + this._customUrlParameters + \"&in_bbox=\" + bbox[0] + \",\" + bbox[1] + \",\" + bbox[2] + \",\" + bbox[3]).done(function (data) {\n    return d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._createVectorLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var vector = new VectorLayer(options);\n  return vector;\n};\n\nproto.cleanUpLayers = function () {\n  this._loadedExtent = null;\n};\n\nmodule.exports = QGISProvider;\n\n},{\"core/i18n/i18n.service\":13,\"core/layers/features/feature\":26,\"core/layers/providers/provider\":50,\"core/utils/parsers\":66,\"core/utils/utils\":67,\"services/relations\":366,\"store/application-state\":372}],53:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar DataProvider = require('core/layers/providers/provider');\nvar Filter = require('core/layers/filter/filter');\n\nfunction WFSDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'wfs';\n}\n\ninherit(WFSDataProvider, DataProvider);\n\nvar proto = WFSDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\n// query method\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$reproject = options.reproject,\n      reproject = _options$reproject === undefined ? false : _options$reproject,\n      _options$feature_coun = options.feature_count,\n      feature_count = _options$feature_coun === undefined ? 10 : _options$feature_coun,\n      filter = options.filter;\n\n  params.MAXFEATURES = feature_count;\n  var d = $.Deferred();\n  var _options$layers = options.layers,\n      layers = _options$layers === undefined ? [this._layer] : _options$layers;\n\n\n  var projections = {\n    map: this._layer.getMapProjection(),\n    layer: reproject ? this._layer.getProjection() : null\n  };\n\n  var timeoutKey = this.getQueryResponseTimeoutKey({\n    layers: layers,\n    resolve: d.resolve,\n    query: {}\n  });\n\n  this._doRequest(filter, params, layers, reproject).then(function (response) {\n    var featuresForLayers = _this.handleQueryResponseFromServer(response, projections, layers, wms = false);\n    featuresForLayers.forEach(function (featuresForLayer) {\n      var _featuresForLayer$fea = featuresForLayer.features,\n          features = _featuresForLayer$fea === undefined ? [] : _featuresForLayer$fea;\n      //sanitize in case of nil:true\n\n      features.forEach(function (feature) {\n        Object.entries(feature.getProperties()).forEach(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              attribute = _ref2[0],\n              value = _ref2[1];\n\n          if (toRawType(value) === 'Object' && value['xsi:nil']) feature.set(attribute, 'NULL');\n        });\n      });\n    });\n    d.resolve({\n      data: featuresForLayers\n    });\n  }).fail(function (e) {\n    return d.reject(e);\n  }).always(function () {\n    clearTimeout(timeoutKey);\n  });\n  return d.promise();\n};\n\nproto._post = function (url, params) {\n  url = url.match(/\\/$/) ? url : url + '/';\n  var d = $.Deferred();\n  $.post(url, params).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// get request\nproto._get = function (url, params) {\n  // trasform parameters\n  url = url.match(/\\/$/) ? url : url + '/';\n  var d = $.Deferred();\n  var urlParams = $.param(params);\n  url = url + '?' + urlParams;\n  $.get(url).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//request to server\nproto._doRequest = function (filter) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var layers = arguments[2];\n  var reproject = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  var d = $.Deferred();\n  filter = filter || new Filter({});\n  var layer = layers ? layers[0] : this._layer;\n  var httpMethod = layer.getOwsMethod();\n  var url = layer.getQueryUrl();\n  var infoFormat = layer.getInfoFormat();\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWFSLayerName();\n  }).join(',') : layer.getWFSLayerName();\n  var SRSNAME = reproject ? layer.getProjection().getCode() : this._layer.getMapProjection().getCode();\n  params = Object.assign(params, {\n    SERVICE: 'WFS',\n    VERSION: '1.1.0',\n    REQUEST: 'GetFeature',\n    TYPENAME: layerNames,\n    OUTPUTFORMAT: infoFormat,\n    SRSNAME: SRSNAME\n  });\n  if (filter) {\n    var filterType = filter.getType();\n    var filterConfig = filter.getConfig();\n    var featureRequest = void 0;\n    // get filter from ol\n    var f = ol.format.filter;\n    /////\n    filter = filter.get();\n    switch (filterType) {\n      case 'bbox':\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: f.bbox('the_geom', filter)\n        });\n        break;\n      case 'geometry':\n        //speatial methos. <inteserct, within>\n        var _filterConfig$spatial = filterConfig.spatialMethod,\n            spatialMethod = _filterConfig$spatial === undefined ? 'intersects' : _filterConfig$spatial;\n\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: f[spatialMethod]('the_geom', filter)\n        });\n        break;\n      case 'expression':\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: null\n        });\n        break;\n      case 'all':\n        request = this._post(url, params);\n        return request;\n      default:\n        break;\n    }\n    params.FILTER = ('(' + featureRequest.children[0].innerHTML + ')').repeat(layers ? layers.length : 1);\n    var queryPromise = httpMethod === 'GET' && filterType !== 'geometry' ? this._get(url, params) : this._post(url, params);\n    queryPromise.then(function (response) {\n      d.resolve(response);\n    }).fail(function (err) {\n      if (err.status === 200) d.resolve(err.responseText);else d.reject(err);\n    });\n  } else d.reject();\n\n  return d.promise();\n};\n\nmodule.exports = WFSDataProvider;\n\n},{\"core/layers/filter/filter\":30,\"core/layers/providers/provider\":50,\"core/utils/utils\":67}],54:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    appendParams = _require.appendParams,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    get_LEGEND_ON_LEGEND_OFF_Params = _require2.get_LEGEND_ON_LEGEND_OFF_Params;\n\nvar geoutils = require('core/utils/ol');\nvar DataProvider = require('core/layers/providers/provider');\n\n//overwrite method to read feature\n// da un geojson\nvar GETFEATUREINFO_IMAGE_SIZE = [101, 101];\nvar DPI = geoutils.getDPI();\n\nfunction WMSDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'wms';\n  this._projections = {\n    map: null,\n    layer: null\n  };\n}\n\ninherit(WMSDataProvider, DataProvider);\n\nvar proto = WMSDataProvider.prototype;\n\nproto._getRequestParameters = function (_ref) {\n  var layers = _ref.layers,\n      feature_count = _ref.feature_count,\n      coordinates = _ref.coordinates,\n      infoFormat = _ref.infoFormat,\n      _ref$query_point_tole = _ref.query_point_tolerance,\n      query_point_tolerance = _ref$query_point_tole === undefined ? _constant.QUERY_POINT_TOLERANCE : _ref$query_point_tole,\n      resolution = _ref.resolution,\n      size = _ref.size;\n\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWMSInfoLayerName();\n  }).join(',') : this._layer.getWMSInfoLayerName();\n  var extent = geoutils.getExtentForViewAndSize(coordinates, resolution, 0, size);\n  var x = Math.floor((coordinates[0] - extent[0]) / resolution);\n  var y = Math.floor((extent[3] - coordinates[1]) / resolution);\n  var PARAMS_TOLERANCE = {};\n  var unit = query_point_tolerance.unit,\n      value = query_point_tolerance.value;\n\n  if (unit === 'map') {\n    var bufferGeometry = ol.geom.Polygon.fromCircle(new ol.geom.Circle(coordinates, value));\n    var wkGeometry = new ol.format.WKT();\n    PARAMS_TOLERANCE = {\n      FILTER_GEOM: wkGeometry.writeGeometry(bufferGeometry)\n    };\n  } else {\n    PARAMS_TOLERANCE = {\n      FI_POINT_TOLERANCE: value,\n      FI_LINE_TOLERANCE: value,\n      FI_POLYGON_TOLERANCE: value,\n      G3W_TOLERANCE: value * resolution,\n      I: x,\n      J: y\n    };\n  }\n  /**\n   * Add LEGEND_ON and/or LEGEND_OFF in case of layer that has categories\n   * It used to solve issue related to GetFeatureInfo feature layer categories\n   * that are unchecked (not visisble) at QGIS project setting\n   */\n  var LEGEND_PARAMS = {\n    LEGEND_ON: [],\n    LEGEND_OFF: []\n  };\n  layers.forEach(function (layer) {\n    if (layer.getCategories()) {\n      var _get_LEGEND_ON_LEGEND = get_LEGEND_ON_LEGEND_OFF_Params(layer),\n          LEGEND_ON = _get_LEGEND_ON_LEGEND.LEGEND_ON,\n          LEGEND_OFF = _get_LEGEND_ON_LEGEND.LEGEND_OFF;\n\n      LEGEND_ON && LEGEND_PARAMS.LEGEND_ON.push(LEGEND_ON);\n      LEGEND_OFF && LEGEND_PARAMS.LEGEND_OFF.push(LEGEND_OFF);\n    }\n  });\n\n  var params = _extends({\n    SERVICE: 'WMS',\n    VERSION: '1.3.0',\n    REQUEST: 'GetFeatureInfo',\n    CRS: this._projections.map.getCode(),\n    LAYERS: layerNames,\n    QUERY_LAYERS: layerNames,\n    filtertoken: _applicationState2.default.tokens.filtertoken,\n    INFO_FORMAT: infoFormat,\n    FEATURE_COUNT: feature_count,\n    WITH_GEOMETRY: true,\n    DPI: DPI\n  }, PARAMS_TOLERANCE, {\n    WIDTH: size[0],\n    HEIGHT: size[1],\n    //LEGEND_ON / LEGEND_OFF parameter\n    LEGEND_ON: LEGEND_PARAMS.LEGEND_ON.length ? LEGEND_PARAMS.LEGEND_ON.join(';') : undefined,\n    LEGEND_OFF: LEGEND_PARAMS.LEGEND_OFF.length ? LEGEND_PARAMS.LEGEND_OFF.join(';') : undefined\n  });\n  if (!('STYLES' in params)) params['STYLES'] = '';\n  var bbox = this._projections.map.getAxisOrientation().substr(0, 2) === 'ne' ? [extent[1], extent[0], extent[3], extent[2]] : extent;\n  params['BBOX'] = bbox.join(',');\n  return params;\n};\n\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var infoFormat = this._layer.getInfoFormat() || 'application/vnd.ogc.gml';\n  var layerProjection = this._layer.getProjection();\n  this._projections.map = this._layer.getMapProjection() || layerProjection;\n  var _options$layers = options.layers,\n      layers = _options$layers === undefined ? [this._layer] : _options$layers,\n      _options$feature_coun = options.feature_count,\n      feature_count = _options$feature_coun === undefined ? 10 : _options$feature_coun,\n      _options$size = options.size,\n      size = _options$size === undefined ? GETFEATUREINFO_IMAGE_SIZE : _options$size,\n      _options$coordinates = options.coordinates,\n      coordinates = _options$coordinates === undefined ? [] : _options$coordinates,\n      resolution = options.resolution,\n      query_point_tolerance = options.query_point_tolerance;\n\n  var layer = layers[0];\n  var url = layer.getQueryUrl();\n  var METHOD = layer.isExternalWMS() || !/^\\/ows/.test(url) ? 'GET' : layer.getOwsMethod();\n  var params = this._getRequestParameters({ layers: layers, feature_count: feature_count, coordinates: coordinates, infoFormat: infoFormat, query_point_tolerance: query_point_tolerance, resolution: resolution, size: size });\n  var query = {\n    coordinates: coordinates,\n    resolution: resolution\n  };\n  var timeoutKey = this.getQueryResponseTimeoutKey({\n    layers: layers,\n    resolve: d.resolve,\n    query: query\n  });\n\n  if (layer.useProxy()) {\n    layer.getDataProxyFromServer('wms', {\n      url: url,\n      params: params,\n      method: METHOD,\n      headers: {\n        'Content-Type': infoFormat\n      }\n    }).then(function (response) {\n      var data = _this.handleQueryResponseFromServer(response, _this._projections, layers);\n      d.resolve({\n        data: data,\n        query: query\n      });\n    });\n  } else this[METHOD]({ url: url, layers: layers, params: params }).then(function (response) {\n    var data = _this.handleQueryResponseFromServer(response, _this._projections, layers);\n    d.resolve({\n      data: data,\n      query: query\n    });\n  }).catch(function (err) {\n    return d.reject(err);\n  }).finally(function () {\n    return clearTimeout(timeoutKey);\n  });\n  return d.promise();\n};\n\nproto.GET = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref2.url,\n      params = _ref2.params;\n\n  var sourceParam = url.split('SOURCE');\n  if (sourceParam.length) {\n    url = sourceParam[0];\n    if (sourceParam.length > 1) sourceParam = '&SOURCE' + sourceParam[1];else sourceParam = '';\n  }\n  url = appendParams(url, params);\n  url = '' + url + (sourceParam && sourceParam);\n  return XHR.get({\n    url: url\n  });\n};\n\nproto.POST = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref3.url,\n      params = _ref3.params;\n\n  return XHR.post({\n    url: url,\n    data: params\n  });\n};\n\nmodule.exports = WMSDataProvider;\n\n},{\"constant\":4,\"core/layers/providers/provider\":50,\"core/utils/geo\":64,\"core/utils/ol\":65,\"core/utils/utils\":67,\"store/application-state\":372}],55:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nfunction XMLDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this._name = 'xml';\n}\n\ninherit(XMLDataProvider, DataProvider);\n\nvar proto = XMLDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\nmodule.exports = XMLDataProvider;\n\n},{\"core/layers/providers/provider\":50,\"core/utils/utils\":67}],56:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constant = require('app/constant');\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Layer = require('core/layers/layer');\nvar Editor = require('core/editing/editor');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar Feature = require('core/layers/features/feature');\n\n// Base Layer that support editing\nfunction TableLayer() {\n  var _this3 = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // setters\n  this.setters = {\n    // delete all features\n    clearFeatures: function clearFeatures() {\n      this._clearFeatures();\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    deleteFeature: function deleteFeature(feature) {\n      this._deleteFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    setFeatures: function setFeatures(features) {\n      this._setFeatures(features);\n    },\n\n    // get data from every sources (server, wms, etc..)\n    // throught provider related to featuresstore\n    getFeatures: function getFeatures() {\n      var _this = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var d = $.Deferred();\n      this._featuresstore.getFeatures(options).then(function (promise) {\n        promise.then(function (features) {\n          _this.emit('getFeatures', features);\n          return d.resolve(features);\n        }).fail(function (err) {\n          return d.reject(err);\n        });\n      }).fail(function (err) {\n        return d.reject(err);\n      });\n      return d.promise();\n    },\n    commit: function commit(commitItems) {\n      var _this2 = this;\n\n      var d = $.Deferred();\n      this._featuresstore.commit(commitItems).then(function (promise) {\n        promise.then(function (response) {\n          response && response.result && _this2.syncSelectionFilterFeatures(commitItems);\n          d.resolve(response);\n        }).fail(function (err) {\n          return d.reject(err);\n        });\n      }).fail(function (err) {\n        d.reject(err);\n      });\n      return d.promise();\n    },\n    setColor: function setColor(color) {\n      this._setColor(color);\n    }\n  };\n  /*\n   * editing url api:\n   * /api/vector/<type of request: data/editing/config>/<project_type>/<project_id>/<layer_id>\n   * example: /api/vector/config/qdjango/10/points273849503023\n   *\n  */\n  this.type = Layer.LayerTypes.TABLE;\n  // color\n  this._color = null;\n  options.project = options.project || _projects2.default.getCurrentProject();\n  this.layerId = config.id;\n  // add urls\n  config.urls = config.urls || {};\n  // add editing configurations\n  config.editing = {\n    fields: [] // editing fields\n  };\n  // call base layer\n  base(this, config, options);\n\n  // get configuration from server if is editable\n  this._editatbleLayer;\n  if (this.isEditable()) {\n    // add state info for the layer\n    this.layerForEditing = new Promise(function (resolve, reject) {\n      _this3.getEditingConfig().then(function () {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            vector = _ref.vector,\n            _ref$constraints = _ref.constraints,\n            constraints = _ref$constraints === undefined ? {} : _ref$constraints,\n            _ref$capabilities = _ref.capabilities,\n            capabilities = _ref$capabilities === undefined ? _constant.DEFAULT_EDITING_CAPABILITIES : _ref$capabilities;\n\n        _this3.config.editing.fields = vector.fields;\n        _this3.config.editing.format = vector.format;\n        _this3.config.editing.constraints = constraints;\n        //set default editing capabilities\n        _this3.config.editing.capabilities = capabilities;\n        _this3.config.editing.style = vector.style;\n        _this3.config.editing.form = {\n          perc: null\n        };\n        _this3._setOtherConfigParameters(vector);\n        vector.style && _this3.setColor(vector.style.color);\n        // create an instance of editor\n        _this3._editor = new Editor({\n          layer: _this3\n        });\n\n        resolve(_this3);\n        _this3.setReady(true);\n      }).fail(function (err) {\n        reject(_this3);\n        _this3.setReady(false);\n      });\n    });\n    this.state = _extends({}, this.state, {\n      editing: {\n        started: false,\n        modified: false,\n        ready: false\n      }\n    });\n  }\n  this._featuresstore = new FeaturesStore({\n    provider: this.providers.data\n  });\n}\n\ninherit(TableLayer, Layer);\n\nvar proto = TableLayer.prototype;\n\n//sync selection\nproto.syncSelectionFilterFeatures = function (commitItems) {\n  try {\n    var layer = _catalogLayers2.default.getLayerById(this.getId());\n    layer.isGeoLayer() && commitItems.update.forEach(function (updateItem) {\n      var id = updateItem.id,\n          geometry = updateItem.geometry;\n\n      layer.getOlSelectionFeature(id) && layer.updateOlSelectionFeature({ id: id, geometry: geometry });\n    });\n    commitItems.delete.forEach(function (id) {\n      layer.hasSelectionFid(id) && layer.excludeSelectionFid(id);\n    });\n  } catch (err) {}\n};\n\nproto.setFormPercentage = function (perc) {\n  this.config.editing.form.perc = perc;\n};\n\nproto.getFormPercentage = function () {\n  return this.config.editing.form.perc;\n};\n\nproto.clone = function () {\n  return _.cloneDeep(this);\n};\n\nproto.cloneFeatures = function () {\n  return this._featuresstore.clone();\n};\n\nproto.setVectorUrl = function (url) {\n  this.vectorUrl = url;\n};\n\nproto.setProjectType = function (projectType) {\n  this.projectType = projectType;\n};\n\nproto._setColor = function (color) {\n  this._color = color;\n};\n\nproto.getColor = function () {\n  return this._color;\n};\n\nproto.readFeatures = function () {\n  return this._featuresstore.readFeatures();\n};\n\n// return layer for editing\nproto.getLayerForEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      vectorurl = _ref3.vectorurl,\n      project_type = _ref3.project_type;\n\n  var editableLayer;\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          vectorurl && this.setVectorUrl(vectorurl);\n          project_type && this.setProjectType(project_type);\n          this.setEditingUrl();\n          editableLayer = this.clone();\n          _context.prev = 4;\n          _context.next = 7;\n          return editableLayer.layerForEditing;\n\n        case 7:\n          return _context.abrupt('return', _context.sent);\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context['catch'](4);\n          return _context.abrupt('return', _context.t0);\n\n        case 13:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[4, 10]]);\n}));\n\nproto.getEditingSource = function () {\n  return this._editor.getEditingSource();\n};\n\nproto.readEditingFeatures = function () {\n  return this._editor.readEditingFeatures();\n};\n\nproto.getEditingLayer = function () {\n  return this;\n};\n\n//check if is editingLayer useful to get editingstyle\nproto.isEditingLayer = function () {\n  return !!this.config.editing;\n};\n\nproto.getEditingStyle = function () {\n  return this.config.editing.style;\n};\n\nproto.setEditingStyle = function () {\n  var style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config.editing.style = style;\n};\n\nproto.getEditingConstrains = function () {\n  return this.config.editing.constraints;\n};\n\nproto.getEditingCapabilities = function () {\n  return this.config.editing.capabilities;\n};\n\nproto.isFieldRequired = function (fieldName) {\n  var required = false;\n  this.getEditingFields().forEach(function (field) {\n    if (fieldName === field.name) {\n      required = !!field.validate.required;\n      return false;\n    }\n  });\n  return required;\n};\n\n// unlock editng features\nproto.unlock = function () {\n  var d = $.Deferred();\n  this._featuresstore.unlock().then(function () {\n    return d.resolve();\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto._setOtherConfigParameters = function (config) {\n  // overwrite by vector layer\n};\n\n// return layer fields\nproto.getEditingFields = function () {\n  var editable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var fields = this.config.editing.fields.length ? this.config.editing.fields : this.config.fields;\n  if (editable) fields = fields.filter(function (field) {\n    return field.editable;\n  });\n  return fields;\n};\n\nproto.isPkField = function (field) {\n  var find_field = this.getEditingFields().find(function (_field) {\n    return _field.name === field;\n  });\n  return find_field && find_field.pk;\n};\n\nproto.isEditingFieldEditable = function (field) {\n  var find_field = this.getEditingFields().find(function (_field) {\n    return _field.name === field;\n  });\n  return find_field ? find_field.editable : false;\n};\n\nproto.getEditingNotEditableFields = function () {\n  return this.config.editing.fields.filter(function (field) {\n    return !field.editable;\n  }).map(function (field) {\n    return field.name;\n  });\n};\n\nproto.getEditingMediaFields = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n  return this.config.editing.fields.filter(function (field) {\n    return field.input.type === 'media';\n  }).map(function (field) {\n    return field.name;\n  });\n};\n\nproto.getFieldsLabel = function () {\n  var labels = [];\n  this.getEditingFields().forEach(function (field) {\n    return labels.push(field.label);\n  });\n  return labels;\n};\n\nproto.getDataFormat = function () {\n  return this.config.editing.format;\n};\n\n// raw data\nproto.getEditingFormat = function () {\n  return this.config.editing.format;\n};\n\nproto.isReady = function () {\n  return this.state.editing.ready;\n};\n\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.editing.ready = bool;\n};\n\n// get configuration from server\nproto.getEditingConfig = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var provider = this.getProvider('data');\n  provider.getConfig(options).then(function (config) {\n    return d.resolve(config);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.addEditingConfigFieldOption = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref4.field,\n      key = _ref4.key,\n      value = _ref4.value;\n\n  var options = field.input.options;\n  options[key] = value;\n  return options[key];\n};\n\nproto.getWidgetData = function (options) {\n  var provider = this.getProvider('data');\n  var d = $.Deferred();\n  provider.getWidgetData(options).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.getCommitUrl = function () {\n  return this.config.urls.commit;\n};\n\nproto.setCommitUrl = function (url) {\n  this.config.urls.commit = url;\n};\n\nproto.getEditingUrl = function () {\n  return this.config.urls.editing;\n};\n\nproto.getUnlockUrl = function () {\n  return this.config.url.unlock;\n};\n\nproto.setUnlockUrl = function (url) {\n  this.config.urls.unlock = url;\n};\n\nproto.getWidgetUrl = function () {\n  return this.config.urls.widget;\n};\n\n// set data url\nproto.setDataUrl = function (url) {\n  this.config.urls.data = url;\n};\n\nproto.getDataUrl = function () {\n  return this.config.urls.data;\n};\n\n// url to get config layer\nproto.getConfigUrl = function () {\n  return this.config.urls.config;\n};\n\nproto.setConfigUrl = function (url) {\n  this.config.urls.index = url;\n};\n\nproto.getEditor = function () {\n  return this._editor;\n};\n\nproto.isStarted = function () {\n  return this.getEditor().isStarted();\n};\n\nproto.setEditor = function (editor) {\n  this._editor = editor;\n};\n\nproto.getFeaturesStore = function () {\n  return this._featuresstore;\n};\n\nproto.setFeaturesStore = function (featuresstore) {\n  this._featuresstore = featuresstore;\n};\n\nproto.setSource = function (source) {\n  this.setFeaturesStore(source);\n};\n\nproto.getSource = function () {\n  return this._featuresstore;\n};\n\n// get editing style\nproto.getEditingStyle = function () {\n  return this.config.editing.style;\n};\n\nproto._setFeatures = function (features) {\n  this._featuresstore.setFeatures(features);\n};\n\nproto.addFeatures = function (features) {\n  var _this4 = this;\n\n  features.forEach(function (feature) {\n    return _this4.addFeature(feature);\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._featuresstore.addFeature(feature);\n};\n\nproto._deleteFeature = function (feature) {\n  return feature.getId();\n};\n\nproto._updateFeature = function (feature) {};\n\nproto._clearFeatures = function () {\n  this._featuresstore.clearFeatures();\n};\n\nproto.addLockIds = function (lockIds) {\n  this._featuresstore.addLockIds(lockIds);\n};\n\nproto.setFieldsWithValues = function (feature, fields) {\n  var createAttributesFromFields = function createAttributesFromFields(fields) {\n    var attributes = {};\n    fields.forEach(function (field) {\n      if (field.type === 'child') {\n        attributes[field.name] = createAttributesFromFields(field.fields);\n      } else if (field.value === 'null') {\n        field.value = null;\n      }\n      attributes[field.name] = field.value;\n    });\n    return attributes;\n  };\n  var attributes = createAttributesFromFields(fields);\n  feature.setProperties(attributes);\n  return attributes;\n};\n\nproto.getFieldsWithValues = function (obj) {\n  var _this5 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$exclude = options.exclude,\n      exclude = _options$exclude === undefined ? [] : _options$exclude,\n      _options$get_default_ = options.get_default_value,\n      get_default_value = _options$get_default_ === undefined ? true : _options$get_default_;\n\n\n  var fields = JSON.parse(JSON.stringify(this.getEditingFields()));\n  var feature = void 0;\n\n  if (obj instanceof Feature) {\n    feature = obj;\n  } else if (obj instanceof ol.Feature) {\n    feature = new Feature({ feature: obj });\n  } else if (obj) {\n    feature = this.getFeatureById(obj);\n  } else {\n    return fields;\n  }\n\n  var attributes = feature.getProperties();\n\n  fields.forEach(function (field) {\n\n    field.value = attributes[field.name];\n\n    // store original value\n    field._value = attributes[field.name];\n\n    // at beginning set update false. Used to form\n    field.update = false;\n\n    if (field.input) {\n      var _options = _this5.getEditingFields().find(function (_field) {\n        return _field.name === field.name;\n      }).input.options;\n      field.input.options.loading = _options.loading || { state: null };\n      field.input.options.values = _options.values;\n    }\n\n    // exclude contain field to set visible false\n    field.visible = exclude.indexOf(field.name) === -1;\n\n    // for editing purpose\n    if (undefined === field.validate) {\n      field.validate = {};\n    }\n\n    field.forceNull = false;\n\n    field.validate.valid = true;\n\n    //useful to get previous value in certain case\n    field.validate._valid = true;\n\n    // need to be check if default value is set by server configuration field\n    field.value_from_default_value = false;\n\n    // specify if need to get value from form field.input.options.default value in case of missing value of field.value\n    field.get_default_value = get_default_value;\n\n    field.validate.unique = field.validate.unique || false;\n\n    // for validate.unique purpose to check is new value iserted or change need to be di\n    field.validate.exclude_values = new Set();\n\n    field.validate.required = field.validate.required || false;\n\n    field.validate.mutually_valid = true;\n\n    field.validate.empty = !field.validate.required;\n\n    field.validate.message = null;\n  });\n\n  return fields;\n};\n\nproto.createNewFeature = function () {\n  var feature = new ol.Feature();\n  var properties = {};\n  this.getEditingFields().forEach(function (field) {\n    return properties[field.name] = null;\n  });\n  feature.setProperties(properties);\n  feature = new Feature({\n    feature: feature\n  });\n  feature.setNew();\n  return feature;\n};\n\nmodule.exports = TableLayer;\n\n},{\"app/constant\":4,\"core/editing/editor\":6,\"core/layers/features/feature\":26,\"core/layers/features/featuresstore\":27,\"core/layers/layer\":34,\"core/utils/utils\":67,\"store/catalog-layers\":373,\"store/projects\":378}],57:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    mixin = _require.mixin;\n\nvar Layer = require('core/layers/layer');\nvar TableLayer = require('core/layers/tablelayer');\nvar GeoLayerMixin = require('core/layers/geolayermixin');\nvar VectorMapLayer = require('core/layers/map/vectorlayer');\n\nfunction VectorLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments[1];\n\n  base(this, config, options);\n  this._mapLayer = null; // later tah will be added to map\n  this.type = Layer.LayerTypes.VECTOR;\n  // need a ol layer for add to map\n  this.setup(config, options);\n  this.onafter('setColor', function (color) {});\n}\n\ninherit(VectorLayer, TableLayer);\n\nmixin(VectorLayer, GeoLayerMixin);\n\nvar proto = VectorLayer.prototype;\n\nproto.getEditingLayer = function () {\n  return this.getMapLayer().getOLLayer();\n};\n\nproto.resetEditingSource = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.getMapLayer().resetSource(features);\n};\n\nproto._setOtherConfigParameters = function (config) {\n  this.config.editing.geometrytype = config.geometrytype;\n};\n\nproto.getEditingGeometryType = function () {\n  return this.config.editing.geometrytype;\n};\n\nproto.getMapLayer = function () {\n  if (this._mapLayer) return this._mapLayer;\n  var id = this.getId();\n  var geometryType = this.getGeometryType();\n  var color = this.getColor();\n  var style = this.isEditingLayer() ? this.getEditingStyle() : this.getCustomStyle();\n  var provider = this.getProvider('data');\n  this._mapLayer = new VectorMapLayer({\n    id: id,\n    geometryType: geometryType,\n    color: color,\n    style: style,\n    provider: provider,\n    features: this._editor && this._editor.getEditingSource().getFeaturesCollection()\n  });\n  return this._mapLayer;\n};\n\nmodule.exports = VectorLayer;\n\n},{\"core/layers/geolayermixin\":32,\"core/layers/layer\":34,\"core/layers/map/vectorlayer\":44,\"core/layers/tablelayer\":56,\"core/utils/utils\":67}],58:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar G3WObject = require('core/g3wobject');\nvar ComponentsFactory = require('gui/component/componentsfactory');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    addI18nPlugin = _require2.addI18nPlugin;\n\nvar TIMEOUT = 10000;\n\nvar Plugin = function Plugin() {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$name = _ref.name,\n      name = _ref$name === undefined ? null : _ref$name,\n      _ref$config = _ref.config,\n      config = _ref$config === undefined ? _plugins2.default.getPluginConfig(name) : _ref$config,\n      _ref$service = _ref.service,\n      service = _ref$service === undefined ? null : _ref$service,\n      _ref$dependencies = _ref.dependencies,\n      dependencies = _ref$dependencies === undefined ? [] : _ref$dependencies,\n      _ref$i18n = _ref.i18n,\n      i18n = _ref$i18n === undefined ? null : _ref$i18n,\n      _ref$fontClasses = _ref.fontClasses,\n      fontClasses = _ref$fontClasses === undefined ? [] : _ref$fontClasses,\n      _ref$api = _ref.api,\n      api = _ref$api === undefined ? {} : _ref$api;\n\n  base(this);\n\n  this.setName(name);\n  this.setConfig(config);\n  this.setLocale(i18n);\n  this.setService(service);\n  this.setDependencies(dependencies);\n  this.addFontClasses(fontClasses);\n  this.setApi(api);\n  this.setHookService(null);\n\n  this._ready = false;\n\n  // List of sidebar services that usually plugin need to interact with (hook = place/name of component)\n  this.hookservices = {\n    'search': _gui2.default.getService('search'),\n    'tools': _gui2.default.getService('tools')\n  };\n\n  // Automatically remove the loading plugin indicator after timeout\n  this._timeout = setTimeout(function () {\n    _plugins2.default.removeLoadingPlugin(_this.name, _this._ready);\n    _this.removeLayout();\n  }, TIMEOUT);\n};\n\ninherit(Plugin, G3WObject);\n\nvar proto = Plugin.prototype;\n\nproto.setName = function (name) {\n  this.name = name;\n};\n\nproto.getName = function () {\n  return this.name;\n};\n\nproto.setConfig = function (config) {\n  this.config = toRawType(config) === 'Object' ? config : null;\n};\n\nproto.getConfig = function () {\n  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.name;\n\n  return this.config || _plugins2.default.getPluginConfig(name);\n};\n\nproto.setLocale = function (i18n) {\n  if (i18n && this.name) addI18nPlugin({ name: this.name, config: i18n });\n};\n\nproto.setService = function (service) {\n  this.service = service;\n  if (service) service.setPlugin(this);\n};\n\nproto.getService = function () {\n  return this.service;\n};\n\nproto.setDependencies = function (dependencies) {\n  this.dependencies = dependencies;\n};\n\nproto.setApi = function () {\n  var api = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._api = api;\n  /**\n   * @FIXME useless assignment ?\n   */\n  api.getConfig = this._api.getConfig; // add alias for \"api.getConfig()\" method\n};\n\nproto.getApi = function () {\n  return this._api;\n};\n\nproto.setHookService = function (hook) {\n  this._hook = hook;\n};\n\nproto.getHookService = function () {\n  var hook = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"tools\";\n\n  return this.hookservices[hook];\n};\n\n/**\n * Override plugin's content default layout (eg. default panel width, height, ...)\n * \n * @see g3wsdk.core.ApplicationState.gui.layout\n */\nproto.setLayout = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _application2.default.cloneLayout('app');\n\n  _application2.default.setLayout(this.name, config);\n};\n\n/**\n * @FIXME add description\n * \n * @see g3wsdk.core.ApplicationState.gui.layout.__current\n */\nproto.setCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.name);\n};\n\n/**\n * @FIXME add description\n * \n * @see g3wsdk.core.ApplicationState.gui.layout\n */\nproto.removeLayout = function () {\n  _application2.default.removeLayout(this.name);\n};\n\n/**\n * @FIXME add description\n */\nproto.setReady = function (isReady) {\n  var _this2 = this;\n\n  this._ready = isReady;\n  if (this._ready) {\n    this.setLayout();\n  }\n  this.emit('set-ready', isReady, this.name);\n  /**\n   * @FIXME empty delay ?\n   */\n  setTimeout(function () {\n    clearTimeout(_this2._timeout);\n    _plugins2.default.removeLoadingPlugin(_this2.name, _this2._ready);\n  }, 0 /* 0 = allow any previously \"setTimeout\" to execute */);\n};\n\n/**\n * @FIXME add description\n */\nproto.isReady = function () {\n  var _this3 = this;\n\n  return new Promise(function (resolve) {\n    _this3._ready ? resolve(_this3._ready) : _this3.once('set-ready', function (isReady) {\n      _this3._ready = isReady;resolve(_this3._ready);\n    });\n  });\n};\n\n/**\n * Check if plugin is compatible with current projectId\n */\nproto.isCurrentProjectCompatible = function (projectId) {\n  return projectId === _projects2.default.getCurrentProject().getGid();\n};\n\n/**\n * Check and register plugin only when compatible with current projectId (eg: qdjango:1)\n */\nproto.registerPlugin = function (projectId) {\n  var iscompatible = this.isCurrentProjectCompatible(projectId);\n  if (iscompatible) {\n    _plugins2.default.registerPlugin(this);\n  } else {\n    _plugins2.default.removeLoadingPlugin(this.name, false);\n    clearTimeout(this._timeout);\n  }\n  return iscompatible;\n};\n\n/**\n * @FIXME explain better what it does\n * \n * Get plugin dependencies \n */\nproto.getDependencyPlugins = function (pluginsName) {\n  var _this4 = this;\n\n  this.dependencies = pluginsName || this.dependencies;\n  return Promise.all(this.dependencies.map(function (pluginName) {\n    return _this4.getDependencyPlugin(pluginName);\n  }));\n};\n\n/**\n * @FIXME explain better what it does\n * \n * Create to not replace above plugin method used by non changed old plugin\n */\nproto.getDependencyPluginsObject = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(pluginsName) {\n    var pluginsApiObject, promises;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            pluginsApiObject = {};\n            _context.next = 3;\n            return this.getDependencyPlugins(pluginsName);\n\n          case 3:\n            promises = _context.sent;\n\n            this.dependencies.forEach(function (pluginName, index) {\n              return pluginsApiObject[pluginName] = promises[index];\n            });\n            return _context.abrupt('return', pluginsApiObject);\n\n          case 6:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/**\n * @FIXME explain better what it does\n * \n * Get plugin dependency\n */\nproto.getDependencyPlugin = function (pluginName) {\n  if (_plugins2.default.isTherePlugin(pluginName)) {\n    return new Promise(function (resolve) {\n      var plugin = _plugins2.default.getPlugin(pluginName);\n      /**\n       * @TODO refactor weird shortcircuiting logic\n       */\n      plugin && plugin.isReady().then(function () {\n        return resolve(plugin.getApi());\n      }) || _plugins2.default.onafter('registerPlugin', function (plugin) {\n        plugin.name === pluginName && plugin.isReady().then(function () {\n          resolve(plugin.getApi());\n        });\n      });\n    });\n  }\n  return Promise.reject({ error: 'no plugin' });\n};\n\n/**\n * Handle loading process of a specific hook service (eg. \"tools\" interface on the left sidebar)\n */\nproto.setHookLoading = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$hook = _ref3.hook,\n      hook = _ref3$hook === undefined ? \"tools\" : _ref3$hook,\n      _ref3$loading = _ref3.loading,\n      loading = _ref3$loading === undefined ? false : _ref3$loading;\n\n  this.getHookService(hook).setLoading(loading);\n};\n\n/**\n * @FIXME add description\n */\nproto.addToolGroup = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$hook = _ref4.hook,\n      hook = _ref4$hook === undefined ? \"tools\" : _ref4$hook,\n      order = _ref4.position,\n      group = _ref4.title;\n\n  this.getHookService(hook).addToolGroup(order, group);\n};\n\n/**\n * @FIXME add description\n */\nproto.removeToolGroup = function () {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      hook = _ref5.hook,\n      group = _ref5.group;\n\n  this.getHookService(hook).removeToolGroup(group.title);\n};\n\n/**\n * @FIXME add description\n */\nproto.addTools = function () {\n  var _this5 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$hook = _ref6.hook,\n      hook = _ref6$hook === undefined ? \"tools\" : _ref6$hook,\n      action = _ref6.action,\n      html = _ref6.html,\n      _ref6$offline = _ref6.offline,\n      offline = _ref6$offline === undefined ? true : _ref6$offline,\n      icon = _ref6.icon,\n      name = _ref6.name,\n      type = _ref6.type,\n      _ref6$options = _ref6.options,\n      options = _ref6$options === undefined ? {} : _ref6$options,\n      _ref6$loading = _ref6.loading,\n      loading = _ref6$loading === undefined ? false : _ref6$loading,\n      _ref6$disabled = _ref6.disabled,\n      disabled = _ref6$disabled === undefined ? false : _ref6$disabled,\n      _ref6$state = _ref6.state,\n      state = _ref6$state === undefined ? {\n    type: null,\n    message: null\n  } : _ref6$state;\n\n  var groupTools = arguments[1];\n\n  if (!action && !type) {\n    this.removeToolGroup({ hook: hook, group: groupTools });\n    return [];\n  } else {\n    this.setHookService(hook);\n    var tools = (this.config.configs || [this.config]).map(function (config) {\n      return {\n        icon: icon,\n        type: type,\n        name: config.name || name,\n        html: html,\n        loading: loading,\n        disabled: disabled,\n        options: options,\n        offline: offline,\n        action: action && action.bind(_this5, config),\n        state: state\n      };\n    });\n    this.getHookService(hook).addTools(tools, groupTools);\n    return tools;\n  }\n};\n\n/**\n * @FIXME add description\n */\nproto.setToolState = function () {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref7.id,\n      _ref7$state = _ref7.state,\n      state = _ref7$state === undefined ? { type: null, message: null } : _ref7$state;\n\n  this.hookservices[this._hook].setToolState({ id: id, state: state });\n};\n\n/**\n * @FIXME add description\n */\nproto.removeTools = function () {\n  this.hookservices[this._hook].removeTools();\n};\n\n/**\n * Helper method to create and add a custom component item on the left sidebar\n */\nproto.createSideBarComponent = function (vueComponentObject) {\n  var _ref8, _ref8$open, _ref8$collapsible, _ref8$mobile, _ref8$isolate, _ref8$closewhenshowvi, _ref8$iconConfig, _ref8$events, _ref8$sidebarOptions;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (_ref8 = {}, id = _ref8.id, title = _ref8.title, _ref8$open = _ref8.open, open = _ref8$open === undefined ? false : _ref8$open, _ref8$collapsible = _ref8.collapsible, collapsible = _ref8$collapsible === undefined ? true : _ref8$collapsible, _ref8$mobile = _ref8.mobile, mobile = _ref8$mobile === undefined ? true : _ref8$mobile, _ref8$isolate = _ref8.isolate, isolate = _ref8$isolate === undefined ? false : _ref8$isolate, _ref8$closewhenshowvi = _ref8.closewhenshowviewportcontent, closewhenshowviewportcontent = _ref8$closewhenshowvi === undefined ? true : _ref8$closewhenshowvi, _ref8$iconConfig = _ref8.iconConfig, iconConfig = _ref8$iconConfig === undefined ? {\n    // color: 'yellow',                // color of icon\n    // icon:'pin',                     // see gui\\vue\\vueappplugin.js font list\n  } : _ref8$iconConfig, _ref8$events = _ref8.events, events = _ref8$events === undefined ? {\n    // open: {\n    //   when: 'before',\n    //   cb:() => { /* TODO: add sample usage */ }\n    // }\n  } : _ref8$events, _ref8$sidebarOptions = _ref8.sidebarOptions, sidebarOptions = _ref8$sidebarOptions === undefined ? {\n    position: 1 // can be a number or a string \n  } : _ref8$sidebarOptions, _ref8);\n\n\n  var componentsFactoryOpts = _extends({}, options, {\n    iconColor: options.iconConfig.color,\n    icon: _gui2.default.getFontClass(options.iconConfig.icon)\n  });\n\n  delete componentsFactoryOpts.iconConfig;\n\n  var PluginSiderbarComponent = ComponentsFactory.build({ vueComponentObject: vueComponentObject }, componentsFactoryOpts);\n  _gui2.default.addComponent(PluginSiderbarComponent, 'sidebar', options.sidebarOptions);\n  this.once('unload', function () {\n    return _gui2.default.removeComponent(id, 'sidebar', options.sidebarOptions);\n  });\n  return PluginSiderbarComponent;\n};\n\n/**\n * @deprecated since v3.4.\n */\nproto.unload = function () {\n  this.service && this.service.clearAllEvents();\n  this.emit('unload');\n  //console.log('UNLOAD can be overwrite by plugin');\n};\n\n/**\n * @deprecated since v3.4.\n */\nproto.load = function () {\n  //console.log('LOAD  need to be overwrite by plugin');\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.getProject = function () {\n  return _projects2.default.getCurrentProject();\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addDependency = function (dependency) {\n  this.dependencies.push(dependency);\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addFontClass = function (_ref9) {\n  var name = _ref9.name,\n      className = _ref9.className;\n\n  Vue.prototype.g3wtemplate.addFontClass({ name: name, className: className });\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addFontClasses = function () {\n  var _this6 = this;\n\n  var fonClasses = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fonClasses.forEach(function (fontClass) {\n    return _this6.addFontClass(fontClass);\n  });\n};\n\nmodule.exports = Plugin;\n\n},{\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"gui/component/componentsfactory\":117,\"services/application\":350,\"services/gui\":360,\"store/plugins\":377,\"store/projects\":378}],59:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction PluginService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.plugin;\n  this._api = {\n    own: null,\n    dependencies: {}\n  };\n  this._pluginEvents = {};\n  this._appEvents = [];\n  this.currentLayout = _application2.default.getCurrentLayoutName();\n  this.vm = new Vue();\n  this.unwatch = this.vm.$watch(function () {\n    return _applicationState2.default.gui.layout.__current;\n  }, function (currentLayoutName) {\n    return _this.currentLayout = currentLayoutName !== _this.getPlugin().getName() ? currentLayoutName : _this.currentLayout;\n  });\n}\n\ninherit(PluginService, G3WObject);\n\nvar proto = PluginService.prototype;\n\n/**\n * Set a default init method. Overwrite by each plugin\n * @param config: plugin configuration object\n */\nproto.init = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n};\n\nproto.setCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.getPlugin().getName());\n};\n\nproto.resetCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.currentLayout);\n};\n\n// set owner plugin of the service\nproto.setPlugin = function (plugin) {\n  this.plugin = plugin;\n};\n\n// return the instance of the plugin owner of the service\nproto.getPlugin = function () {\n  return this.plugin;\n};\n\nproto.isIframe = function () {\n  return _application2.default.isIframe();\n};\n\n/**\n * Get Current Project\n */\nproto.getCurrentProject = function () {\n  return _application2.default.getCurrentProject();\n};\n\nproto.getGid = function () {\n  var gid = this.config.gid;\n\n  return gid && gid.split(':')[1];\n};\n\nproto.getConfig = function () {\n  return this.config;\n};\n\nproto.setConfig = function (config) {\n  this.config = config;\n};\n\nproto.setApi = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      dependency = _ref.dependency,\n      api = _ref.api;\n\n  if (!dependency) this._api.own = api;else this._api.dependencies[dependency] = api;\n};\n\nproto.getApi = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      dependency = _ref2.dependency;\n\n  return dependency && this._api.dependencies[dependency] || this._api.own;\n};\n\nproto.initEvents = function () {\n  var events = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var i in events) {\n    var name = events[i];\n    this._pluginEvents[name] = {};\n  }\n};\n\nproto.registerWindowEvent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      evt = _ref3.evt,\n      cb = _ref3.cb;\n\n  _application2.default.registerWindowEvent({\n    evt: evt,\n    cb: cb\n  });\n};\n\nproto.unregisterWindowEvent = function (_ref4) {\n  var evt = _ref4.evt,\n      cb = _ref4.cb;\n\n  _application2.default.unregisterWindowEvent({\n    evt: evt,\n    cb: cb\n  });\n};\n\nproto.subscribeEvent = function (_ref5) {\n  var name = _ref5.name,\n      _ref5$once = _ref5.once,\n      once = _ref5$once === undefined ? false : _ref5$once,\n      owner = _ref5.owner,\n      listener = _ref5.listener;\n\n  this._pluginEvents[name] = this._pluginEvents[name] ? this._pluginEvents[name] : {};\n  this._pluginEvents[name][owner] = listener;\n  once ? this.once(name, listener) : this.on(name, listener);\n};\n\nproto.triggerEvent = function (_ref6) {\n  var name = _ref6.name,\n      _ref6$params = _ref6.params,\n      params = _ref6$params === undefined ? {} : _ref6$params;\n\n  this.emit(name, params);\n};\n\nproto.unsubscribeEvent = function (_ref7) {\n  var name = _ref7.name,\n      owner = _ref7.owner;\n\n  var listener = this._pluginEvents[name][owner];\n  this.removeEvent(name, listener);\n  delete this._pluginEvents[name][owner];\n};\n\nproto.unsubscribeAllEvents = function () {\n  for (var name in this._pluginEvents) {\n    this.removeEvent(name);\n    delete this._pluginEvents[name];\n  }\n};\n\nproto.clearAllEvents = function () {\n  this.unsubscribeAllEvents();\n  this.unwatch();\n  this.vm = null;\n  this._pluginEvents = null;\n};\n\n// to owerwrite if we need some condition to load or not the plugin\nproto.loadPlugin = function () {\n  return true;\n};\n\n//Called when plugin is removed to clear events and memory\nproto.clear = function () {\n  // to overwrite\n};\n\nmodule.exports = PluginService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/application\":350,\"store/application-state\":372}],60:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    convertObjectToUrlParams = _require.convertObjectToUrlParams;\n\nvar G3WObject = require('core/g3wobject');\n\n/*\n http://localhost/fcgi-bin/qgis_mapserver/qgis_mapserv.fcgi?MAP=/home/marco/geodaten/projekte/composertest.qgs&SERVICE=WMS&VERSION=1.3.0\n &REQUEST=GetPrint&TEMPLATE=Composer 1&\n map0:extent=693457.466131,227122.338236,700476.845177,230609.807051&\n BBOX=693457.466131,227122.338236,700476.845177,230609.807051&\n CRS=EPSG:21781&WIDTH=1467&HEIGHT=729&LAYERS=layer0,layer1&\n STYLES=,&FORMAT=pdf&DPI=300&TRANSPARENT=true\n\n In detail, the following parameters can be used to set properties for composer maps:\n\n <mapname>:EXTENT=<xmin,ymin,xmax, ymax> //mandatory\n <mapname>:ROTATION=<double> //optional, defaults to 0\n <mapname>:SCALE=<double> //optional. Forces scale denominator as server and client may have different scale calculations\n <mapname>:LAYERS=<comma separated list with layer names> //optional. Defaults to all layer in the WMS request\n <mapname>:STYLES=<comma separated list with style names> //optional\n <mapname>:GRID_INTERVAL_X=<double> //set the grid interval in x-direction for composer grids\n <mapname>:GRID_INTERVAL_Y=<double> //set the grid interval in x-direction for composer grids\n */\nvar OUTPUT_FORMATS = { pdf: 'application/pdf', jpg: 'image/jpeg' };\nvar COMMON_REQUEST_PARAMETERS = { SERVICE: 'WMS', VERSION: '1.3.0' };\n\nvar getAtlasParamsFromOptions = function getAtlasParamsFromOptions() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var field = options.field,\n      values = options.values,\n      template = options.template,\n      _options$download = options.download,\n      download = _options$download === undefined ? false : _options$download;\n\n  var multiValues = values.length > 1;\n  /**\n   * @TODO refactor weird ternary logic\n   */\n  var EXPRESSION = '' + field + (multiValues ? ' IN (' : '=') + values.map(function (value) {\n    return '\\'' + value + '\\'';\n  }).join() + (multiValues ? ')' : '');\n  var params = _extends({}, COMMON_REQUEST_PARAMETERS, {\n    REQUEST: 'GetPrintAtlas',\n    EXP_FILTER: EXPRESSION,\n    TEMPLATE: template,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n  if (download) params.DOWNLOAD = 1;\n  return params;\n};\n\nvar getParamsFromOptions = function getParamsFromOptions() {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var rotation = options.rotation,\n      dpi = options.dpi,\n      format = options.format,\n      crs = options.crs,\n      template = options.template,\n      _options$maps = options.maps,\n      maps = _options$maps === undefined ? [] : _options$maps,\n      _options$labels = options.labels,\n      labels = _options$labels === undefined ? [] : _options$labels,\n      is_maps_preset_theme = options.is_maps_preset_theme;\n\n  var LAYERS = layers.map(function (layer) {\n    return layer.getPrintLayerName();\n  }).join();\n  var STYLES = layers.map(function (layer) {\n    return layer.getStyle();\n  }).join(',');\n  var params = _extends({}, COMMON_REQUEST_PARAMETERS, {\n    REQUEST: 'GetPrint',\n    TEMPLATE: template,\n    DPI: dpi,\n    STYLES: STYLES,\n    FORMAT: format,\n    CRS: crs,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n\n  if (!is_maps_preset_theme) params.LAYERS = LAYERS;\n  maps.forEach(function (_ref) {\n    var name = _ref.name,\n        scale = _ref.scale,\n        extent = _ref.extent,\n        preset_theme = _ref.preset_theme;\n\n    params[name + ':SCALE'] = scale;\n    params[name + ':EXTENT'] = extent;\n    params[name + ':ROTATION'] = rotation;\n    if (is_maps_preset_theme && preset_theme === undefined) params[name + ':LAYERS'] = LAYERS;\n  });\n\n  labels.forEach(function (label) {\n    return params[label.id] = label.text;\n  });\n  return params;\n};\n\nvar GET = function GET(_ref2) {\n  var url = _ref2.url,\n      params = _ref2.params,\n      mime_type = _ref2.mime_type;\n\n  return new Promise(function (resolve, reject) {\n    url = url + '?' + convertObjectToUrlParams(params);\n    resolve({\n      url: url,\n      layers: true,\n      mime_type: mime_type\n    });\n  });\n};\n\nvar POST = function POST(_ref3) {\n  var url = _ref3.url,\n      params = _ref3.params,\n      mime_type = _ref3.mime_type;\n\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('POST', url, true);\n    xhr.responseType = 'blob';\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n    xhr.onload = function () {\n      if (xhr.status === 200) {\n        try {\n          window.URL = window.URL || window.webkitURL;\n          var _url = window.URL.createObjectURL(xhr.response);\n          resolve({\n            url: _url,\n            layers: true,\n            mime_type: mime_type\n          });\n        } catch (e) {\n          reject(e);\n        }\n      } else if (xhr.status === 500) {\n        reject();\n      }\n    };\n    xhr.onerror = function () {\n      reject();\n    };\n    xhr.send(convertObjectToUrlParams(params));\n  });\n};\n\n/**\n * core/print/providers/qgis::PrinterQGISProvider@v3.4\n */\nfunction PrintService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._currentLayerStore = _projects2.default.getCurrentProject().getLayersStore();\n  _projects2.default.onbefore('setCurrentProject', function (project) {\n    return _this._currentLayerStore = project.getLayersStore();\n  });\n  base(this);\n}\n\ninherit(PrintService, G3WObject);\n\nvar proto = PrintService.prototype;\n\nproto.POST = POST;\n\nproto.GET = GET;\n\nproto._getAtlasParamsFromOptions = getAtlasParamsFromOptions;\n\nproto._getParamsFromOptions = getParamsFromOptions;\n\nproto.getUrl = function () {\n  return this._currentLayerStore.getWmsUrl();\n};\n\nproto.printAtlas = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n\n  var url = this.getUrl();\n  var params = this._getAtlasParamsFromOptions(options);\n  return this[method]({\n    url: url,\n    params: params,\n    mime_type: OUTPUT_FORMATS.pdf\n  });\n};\n\nproto.print = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n\n  var url = this.getUrl();\n  // reverse of layer because the order is important\n  var layers = this._currentLayerStore.getLayers({\n    PRINTABLE: {\n      scale: options.scale\n    },\n    SERVERTYPE: 'QGIS'\n  }).reverse();\n  if (layers.length) {\n    options.crs = this._currentLayerStore.getProjection().getCode();\n    var params = this._getParamsFromOptions(layers, options);\n    var mime_type = OUTPUT_FORMATS[params.FORMAT];\n    return this[method]({\n      url: url,\n      params: params,\n      mime_type: mime_type\n    });\n  } else return Promise.resolve({ layers: false });\n};\n\nmodule.exports = PrintService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"store/application-state\":372,\"store/projects\":378}],61:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    crsToCrsObject = _require2.crsToCrsObject;\n\nvar G3WObject = require('core/g3wobject');\nvar LayerFactory = require('core/layers/layerfactory');\nvar LayersStore = require('core/layers/layersstore');\nvar Projections = require('g3w-ol/projection/projections');\n\n/**\n * @FIXME options param appears to be unusued\n * \n * @param config.id\n * @param config.type\n * @param config.gid\n * @param config.name\n * @param config.crs\n * @param config.extent\n * @param config.initextent\n * @param config.layers\n * @param config.layerstree\n * @param config.overviewprojectgid\n * @param config.baselayers\n * @param config.initbaselayer\n * @param config.filtertoken\n * @param config.context_base_legend\n * @param config.query_point_tolerance\n * @param config.wps                           array of wps service\n * @param config.bookmarks                     array of bookmarks\n * @param { 'POST' | 'GET' }                   config.ows_method\n * @param {boolean}                            config.wms_use_layer_ids\n * @param { 'ows' | 'api' }                    config.search_endpoint \n * @param { 'tab' | 'toc' }                    config.legend_position \n * @param { 'layers', 'baselayers', 'legend' } config.catalog_tab\n * \n * @param options\n */\nfunction Project() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  /**\n   * For future implementation catalog tab actived\n   */\n  config.catalog_tab = config.toc_tab_default || config._catalog_tab || 'layers';\n\n  config.ows_method = config.ows_method || 'GET';\n\n  config.toc_layers_init_status = config.toc_layers_init_status || _constant.TOC_LAYERS_INIT_STATUS;\n\n  config.toc_themes_init_status = config.toc_themes_init_status || _constant.TOC_THEMES_INIT_STATUS;\n\n  config.query_point_tolerance = config.query_point_tolerance || _constant.QUERY_POINT_TOLERANCE;\n\n  this.state = config;\n\n  var type = this.getType();\n  var id = this.getId();\n  var vector = this.getVectorUrl();\n\n  /**\n   * View information about project APIs \n   */\n  this.urls = {\n    map_themes: '/' + type + '/api/prjtheme/' + id + '/',\n    expression_eval: '/api/expression_eval/' + id + '/',\n    vector_data: vector + 'data/' + type + '/' + id + '/',\n    featurecount: vector + 'featurecount/' + type + '/' + id + '/'\n  };\n\n  this._processLayers();\n\n  /**\n   * Set the project projection to object crs\n   */\n  this.state.crs = crsToCrsObject(this.state.crs);\n\n  this._projection = Projections.get(this.state.crs);\n\n  /**\n   * Build a layersstore of the project\n   */\n  this._layersStore = this._buildLayersStore();\n\n  /**\n   * Hook methods\n   */\n  this.setters = {\n    setBaseLayer: function setBaseLayer(id) {\n      var _this = this;\n\n      this.state.baselayers.forEach(function (baseLayer) {\n        _this._layersStore.getLayerById(baseLayer.id).setVisible(baseLayer.id === id);\n        baseLayer.visible = baseLayer.id === id;\n      });\n    }\n  };\n\n  this.setSearchEndPoint();\n\n  base(this);\n}\n\ninherit(Project, G3WObject);\n\nvar proto = Project.prototype;\n\n/**\n * Get search end point value (ows or api)\n */\nproto.getSearchEndPoint = function () {\n  return this.state.search_endpoint;\n};\n\nproto.setSearchEndPoint = function () {\n  var _this2 = this;\n\n  (this.state.search || []).forEach(function (search) {\n    return search.search_endpoint = _this2.state.search_endpoint;\n  });\n};\n\nproto.getAliasUrl = function () {\n  return this.state.aliasUrl;\n};\n\nproto.getActiveCatalogTab = function () {\n  return this.state.catalog_tab;\n};\n\nproto.setActiveCatalogTab = function () {\n  var tab = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'layers';\n\n  this.state.catalog_tab = tab;\n};\n\nproto.isWmsUseLayerIds = function () {\n  return this.state.wms_use_layer_ids;\n};\n\nproto.getContextBaseLegend = function () {\n  return this.state.context_base_legend;\n};\n\nproto.getQueryPointTolerance = function () {\n  return this.state.query_point_tolerance;\n};\n\n// check if multi\nproto.getQueryFeatureCount = function () {\n  return this.state.feature_count || 5;\n};\n\nproto.isQueryMultiLayers = function (mapcontrol) {\n  return this.state.querymultilayers && -1 !== this.state.querymultilayers.indexOf(mapcontrol);\n};\n\nproto.getRelations = function () {\n  return this.state.relations;\n};\n\nproto.getRelationById = function (relationId) {\n  return this.state.relations.find(function (relation) {\n    return relation.id === relationId;\n  });\n};\n\nproto.getRelationsByLayerId = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref.layerId,\n      type = _ref.type;\n\n  return this.state.relations.filter(function (relation) {\n    return relation.referencedLayer === layerId && (type ? relation.type === type : true);\n  });\n};\n\nproto.getOwsMethod = function () {\n  return this.state.ows_method;\n};\n\n/**\n * Process layerstree and baselayers of the project\n */\nproto._processLayers = function () {\n  var _this3 = this;\n\n  // useful info for catalog\n  var traverse = function traverse(nodes) {\n    var _loop = function _loop(i) {\n      var node = nodes[i];\n      var layer_name_originale = void 0;\n      //check if layer (node) of folder\n      if (undefined !== node.id) {\n        _this3.state.layers.forEach(function (layer) {\n          layer_name_originale = layer.name;\n          if (node.id === layer.id) {\n            node.name = layer.name;\n            layer.wmsUrl = _this3.getWmsUrl();\n            layer.project = _this3;\n            node[i] = Object.assign(layer, node);\n            return false;\n          }\n        });\n      }\n      if (Array.isArray(node.nodes)) {\n        //add title to tree\n        node.title = node.name;\n        traverse(node.nodes);\n      }\n    };\n\n    for (var i = 0; i < nodes.length; i++) {\n      _loop(i);\n    }\n  };\n\n  traverse(this.state.layerstree);\n  var baseLayerId = _application2.default.getBaseLayerId();\n\n  // Remove bing base layer when no vendor API Key is provided\n  this.state.baselayers = this.state.baselayers.filter(function (baselayer) {\n    return baselayer.servertype === 'Bing' ? _applicationState2.default.keys.vendorkeys.bing : true;\n  });\n\n  for (var i = 0; i < this.state.baselayers.length; i++) {\n    var baseLayerConfig = this.state.baselayers[i];\n    var baseLayerVisibleId = null !== baseLayerId ? baseLayerId : this.state.initbaselayer;\n    baseLayerConfig.visible = baseLayerVisibleId && baseLayerConfig.id === baseLayerVisibleId || !!baseLayerConfig.fixed;\n    baseLayerConfig.baselayer = true;\n  }\n};\n\n/**\n * Build layersstore and create layersstree \n */\nproto._buildLayersStore = function () {\n  var _this4 = this;\n\n  // create a layersStore object\n  var layersStore = new LayersStore();\n\n  //check if we have owerview project\n  var overviewprojectgid = this.state.overviewprojectgid ? this.state.overviewprojectgid.gid : null;\n\n  layersStore.setOptions({\n    id: this.state.gid,\n    projection: this._projection,\n    extent: this.state.extent,\n    initextent: this.state.initextent,\n    wmsUrl: this.state.WMSUrl,\n    catalog: this.state.gid !== overviewprojectgid\n  });\n\n  // instance each layer ad area added to layersstore\n  var layers = this.getLayers();\n\n  layers.forEach(function (layerConfig) {\n    //check and set crs in objectformat\n    layerConfig.crs = crsToCrsObject(layerConfig.crs);\n    // add projection\n    layerConfig.projection = layerConfig.crs ? Projections.get(layerConfig.crs) : _this4._projection;\n    //add ows_method\n    layerConfig.ows_method = _this4.getOwsMethod();\n    layerConfig.wms_use_layer_ids = _this4.state.wms_use_layer_ids;\n    var layer = LayerFactory.build(layerConfig, { project: _this4 });\n    if (layer) {\n      layersStore.addLayer(layer);\n    }\n  });\n\n  // create layerstree from layerstore\n  layersStore.createLayersTree(this.state.name, {\n    layerstree: this.state.layerstree,\n    expanded: this.state.toc_layers_init_status === 'not_collapsed' // config to show layerstrees toc expanded or not\n  });\n\n  return layersStore;\n};\n\nproto.getLayerById = function (layerId) {\n  return this._layersStore.getLayerById(layerId);\n};\n\nproto.getLayers = function () {\n  return [].concat(_toConsumableArray(this.state.layers), _toConsumableArray(this.state.baselayers));\n};\n\nproto.getBaseLayers = function () {\n  return this.state.baselayers;\n};\n\n/**\n * Get configuration layers array from server config\n * \n * @param filter property layer config to filter\n * @returns {*}\n */\nproto.getConfigLayers = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      key = _ref2.key;\n\n  return key ? this.state.layers.filter(function (layer) {\n    return layer[key] !== undefined;\n  }) : this.state.layers;\n};\n\n/**\n * Legend Position\n */\n\nproto.setLegendPosition = function () {\n  var legend_position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'tab';\n\n  this.state.legend_position = legend_position;\n};\n\nproto.getLegendPosition = function () {\n  return this.state.legend_position;\n};\n\n/**\n * End Legend Position\n */\n\nproto.getThumbnail = function () {\n  return this.state.thumbnail;\n};\n\nproto.getMetadata = function () {\n  return this.state.metadata || {};\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getPrint = function () {\n  return this.state.print || [];\n};\n\nproto.getSearches = function () {\n  return this.state.search || [];\n};\n\nproto.getVectorUrl = function () {\n  return this.state.vectorurl;\n};\n\nproto.getRasterUrl = function () {\n  return this.state.rasterurl;\n};\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getType = function () {\n  return this.state.type;\n};\n\nproto.getGid = function () {\n  return this.state.gid;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.getOverviewProjectGid = function () {\n  return this.state.overviewprojectgid ? this.state.overviewprojectgid.gid : null;\n};\n\nproto.getCrs = function () {\n  return this._projection.getCode();\n};\n\n/**\n * @param {'major' | 'minor' | 'patch' } qgis.type \n */\nproto.getQgisVersion = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref3.type;\n\n  var index = ['major', 'minor', 'patch'].indexOf(type);\n  return -1 === index ? this.state.qgis_version : +this.state.qgis_version.split('.')[index];\n};\n\nproto.getProjection = function () {\n  return this._projection;\n};\n\nproto.getWmsUrl = function () {\n  return this.state.WMSUrl;\n};\n\nproto.getInfoFormat = function () {\n  return 'application/vnd.ogc.gml';\n};\n\nproto.getLayersStore = function () {\n  return this._layersStore;\n};\n\n/// Map Themes\n\n/**\n * Set properties ( checked and visible) from view to layerstree\n * \n * @param map_theme map theme name\n * @param layerstree // current layerstree of TOC\n */\nproto.setLayersTreePropertiesFromMapTheme = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref4) {\n    var _this5 = this;\n\n    var map_theme = _ref4.map_theme,\n        _ref4$layerstree = _ref4.layerstree,\n        layerstree = _ref4$layerstree === undefined ? this.state.layerstree : _ref4$layerstree;\n    var mapThemeConfig, mapThemeLayersTree, changes, promises, groups, traverse;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return this.getMapThemeFromThemeName(map_theme);\n\n          case 2:\n            mapThemeConfig = _context.sent;\n\n            // extract layerstree\n            mapThemeLayersTree = mapThemeConfig.layerstree;\n            // create a chages need to apply map_theme changes to map and TOC\n\n            changes = {\n              layers: {} // key is the layer id and object has style, visibility change (Boolean)\n            };\n            promises = [];\n            /**\n             * Function to traverse current layerstree of toc anche get changes with the new one related to map_theme choose\n             * @param mapThemeLayersTree // new mapLayerTree\n             * @param layerstree // current layerstree\n             */\n\n            groups = [];\n\n            traverse = function traverse(mapThemeLayersTree, layerstree, checked) {\n              mapThemeLayersTree.forEach(function (node, index) {\n                if (node.nodes) {\n                  // case of group\n                  groups.push({\n                    node: node,\n                    group: layerstree[index]\n                  });\n                  traverse(node.nodes, layerstree[index].nodes, checked && node.checked);\n                } else {\n                  // case of layer\n                  node.style = mapThemeConfig.styles[node.id]; // set style from map_theme\n                  if (layerstree[index].checked !== node.visible) {\n                    changes.layers[node.id] = {\n                      visibility: true,\n                      style: false\n                    };\n                  }\n                  layerstree[index].checked = node.visible;\n                  // if has a style settled\n                  if (node.style) {\n                    var promise = new Promise(function (resolve, reject) {\n                      var setCurrentStyleAndResolvePromise = function setCurrentStyleAndResolvePromise(node) {\n                        if (changes.layers[node.id] === undefined) changes.layers[node.id] = {\n                          visibility: false,\n                          style: false\n                        };\n                        changes.layers[node.id].style = _this5.getLayerById(node.id).setCurrentStyle(node.style);\n                        resolve();\n                      };\n                      if (_this5.getLayersStore()) setCurrentStyleAndResolvePromise(node);else // case of starting project creation\n                        (function (node) {\n                          return setTimeout(function () {\n                            setCurrentStyleAndResolvePromise(node);\n                          })(node);\n                        });\n                    });\n                    promises.push(promise);\n                  }\n                }\n              });\n            };\n\n            traverse(mapThemeLayersTree, layerstree);\n            _context.next = 11;\n            return Promise.allSettled(promises);\n\n          case 11:\n            // all groups checked after layer checked so is set checked but not visible\n            groups.forEach(function (_ref6) {\n              var group = _ref6.group,\n                  _ref6$node = _ref6.node,\n                  checked = _ref6$node.checked,\n                  expanded = _ref6$node.expanded;\n\n              group.checked = checked;\n              group.expanded = expanded;\n            });\n            return _context.abrupt('return', changes);\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x8) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * get map Theme_configuration\n */\nproto.getMapThemeFromThemeName = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(map_theme) {\n    var mapThemeConfig;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            // get map theme configuration from map_themes project config\n            mapThemeConfig = this.state.map_themes.find(function (map_theme_config) {\n              return map_theme_config.theme === map_theme;\n            });\n            // check if mapThemeConfig exist and if has layerstree (property get from server with a specific api)\n\n            if (!(mapThemeConfig && undefined === mapThemeConfig.layerstree)) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 4;\n            return this.getMapThemeConfiguration(map_theme);\n\n          case 4:\n            mapThemeConfig.layerstree = _context2.sent;\n\n          case 5:\n            return _context2.abrupt('return', mapThemeConfig);\n\n          case 6:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x9) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * Get map_style from server\n * \n * @param map_theme\n * \n * @returns {Promise<*>}\n */\nproto.getMapThemeConfiguration = function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(map_theme) {\n    var response;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return XHR.get({ url: '' + this.urls.map_themes + map_theme + '/' });\n\n          case 3:\n            response = _context3.sent;\n\n            if (!response.result) {\n              _context3.next = 6;\n              break;\n            }\n\n            return _context3.abrupt('return', response.data);\n\n          case 6:\n            _context3.next = 11;\n            break;\n\n          case 8:\n            _context3.prev = 8;\n            _context3.t0 = _context3['catch'](0);\n\n            console.warn('Error while retreiving map theme configuration', _context3.t0);\n\n          case 11:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[0, 8]]);\n  }));\n\n  return function (_x10) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nproto.getUrl = function (type) {\n  return this.urls[type];\n};\n\n/**\n * @returns {Array} spatial bookmarks saved on current QGIS project\n * \n * @since v3.8\n */\nproto.getSpatialBookmarks = function () {\n  return this.state.bookmarks || [];\n};\n\nmodule.exports = Project;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/layers/layerfactory\":35,\"core/layers/layersstore\":36,\"core/utils/geo\":64,\"core/utils/utils\":67,\"g3w-ol/projection/projections\":110,\"services/application\":350,\"store/application-state\":372}],62:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Relation() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var uniqueSuffix = Date.now();\n  var id = config.id || 'id_' + uniqueSuffix;\n  var name = config.name || 'name_' + uniqueSuffix;\n  var origname = config.origname || 'origname_' + uniqueSuffix;\n  this.state = {\n    id: id,\n    name: name,\n    origname: origname,\n    father: config.referencedLayer,\n    child: config.referencingLayer,\n    fatherField: config.fieldRef.referencedField,\n    childField: config.fieldRef.referencingField,\n    type: config.type,\n    loading: false\n  };\n  base(this);\n}\n\ninherit(Relation, G3WObject);\n\nvar proto = Relation.prototype;\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.setId = function (id) {\n  this.state.id = id;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.setName = function (name) {\n  this.state.name = name;\n};\n\nproto.getTitle = function () {\n  return this.state.title;\n};\n\nproto.setTitle = function (title) {\n  return this.state.title = title;\n};\n\nproto.getChild = function () {\n  return this.state.child;\n};\n\nproto.getFather = function () {\n  return this.state.father;\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getType = function () {\n  return this.state.type;\n};\n\nproto.getFields = function () {\n  return {\n    father: this.state.fatherField,\n    child: this.state.childField\n  };\n};\n\nproto.getFatherField = function () {\n  return this.state.fatherField;\n};\n\nproto.getChildField = function () {\n  return this.state.childField;\n};\n\n/**\n * For editing purpose\n */\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto.isLoading = function () {\n  return this.state.loading;\n};\n\n/**\n * End editing loading purpose\n */\n\nmodule.exports = Relation;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],63:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Relation = require('core/relations/relation');\n\n// class Relations\nfunction Relations() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var relations = options.relations;\n  //store relations\n\n  this._relations = {};\n  this._length = relations ? relations.length : 0;\n  // to build relations between layers\n  this._relationsInfo = {\n    children: {}, // array child (unique ids)\n    fathers: {}, // array father (unique ids)\n    father_child: {} // info parent child\n  };\n  var relation = void 0;\n  relations.forEach(function (relationConfig) {\n    relation = new Relation(relationConfig);\n    _this._relations[relation.getId()] = relation;\n  });\n  this._createRelationsInfo();\n  base(this);\n}\n\ninherit(Relations, G3WObject);\n\nvar proto = Relations.prototype;\n\nproto._createRelationsInfo = function () {\n  var _this2 = this;\n\n  var father = void 0;\n  var child = void 0;\n  Object.entries(this._relations).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        relationKey = _ref2[0],\n        relation = _ref2[1];\n\n    father = relation.getFather();\n    child = relation.getChild();\n    _this2._relationsInfo.father_child[father + child] = relationKey;\n    if (!_this2._relationsInfo.fathers[father]) _this2._relationsInfo.fathers[father] = [];\n    if (!_this2._relationsInfo.children[child]) _this2._relationsInfo.children[child] = [];\n    _this2._relationsInfo.fathers[father].push(child);\n    _this2._relationsInfo.children[child].push(father);\n  });\n};\n\nproto._clearRelationsInfo = function () {\n  this._relationsInfo = {\n    children: {},\n    fathers: {},\n    father_children: {}\n  };\n};\n\nproto._reloadRelationsInfo = function () {\n  this._clearRelationsInfo();\n  this._createRelationsInfo();\n};\n\n// number of relations\nproto.getLength = function () {\n  return this._length;\n};\n\nproto.getRelations = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? null : _ref3$type;\n\n  if (!type) return this._relations;else {\n    if (['ONE', 'MANY'].indexOf(type) !== -1) {\n      var relations = {};\n      for (var name in this._relations) {\n        var relation = this._relations[name];\n        if (relation.getType() === type) relations[name] = relation;\n      }\n      return relations;\n    } else return {};\n  }\n};\n\n// array of relation\nproto.getArray = function () {\n  var relations = [];\n  Object.entries(this._relations).forEach(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        relName = _ref5[0],\n        relation = _ref5[1];\n\n    relations.push(relation);\n  });\n  return relations;\n};\n\nproto.setRelations = function (relations) {\n  this._relations = Array.isArray(relations) ? relations : [];\n};\n\nproto.getRelationById = function (id) {\n  return this._relations[id];\n};\n\nproto.getRelationByFatherChildren = function (father, child) {\n  var relationId = this._relationsInfo.father_child[father + child];\n  return this.getRelationById(relationId);\n};\n\nproto.addRelation = function (relation) {\n  if (relation instanceof Relation) {\n    this._relations[relation.getId()] = relation;\n    this._reloadRelationsInfo();\n  }\n};\n\nproto.removeRelation = function (relation) {\n  var relationId = void 0;\n  if (relation instanceof Relation) {\n    relationId = relation.getId();\n    delete this._relations[relationId];\n    this._reloadRelationsInfo();\n  }\n};\n\nproto.hasChildren = function (childId) {\n  var children = this.getChildren(childId);\n  return children ? !!children.length : false;\n};\n\nproto.hasFathers = function (fatherId) {\n  var fathers = this.getFathers(fatherId);\n  return fathers ? !!fathers.length : false;\n};\n\n// get children based on father id\nproto.getChildren = function (fatherId) {\n  if (!this.isFather(fatherId)) return null;\n  return this._relationsInfo.fathers[fatherId];\n};\n\n// get fathers based on childId\nproto.getFathers = function (childId) {\n  if (!this.isChild(childId)) return null;\n  return this._relationsInfo.children[childId];\n};\n\nproto.isChild = function (id) {\n  return !!this._relationsInfo.children[id];\n};\n\nproto.isFather = function (id) {\n  return !!this._relationsInfo.fathers[id];\n};\n\nmodule.exports = Relations;\n\n},{\"core/g3wobject\":12,\"core/relations/relation\":62,\"core/utils/utils\":67}],64:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType,\n    uniqueId = _require.uniqueId;\n\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar Filter = require('core/layers/filter/filter');\n\nvar _require2 = require('core/utils/parsers'),\n    responseParser = _require2.response;\n\nvar geometryFields = _constant2.default.GEOMETRY_FIELDS;\nvar QUERY_POINT_TOLERANCE = _constant2.default.QUERY_POINT_TOLERANCE,\n    G3W_FID = _constant2.default.G3W_FID,\n    GeometryTypes = _constant2.default.GEOMETRY_TYPES;\n\n\nvar Geometry = {\n\n  /**\n   * core/geometry/geometry::GeometryTypes@v3.4\n   */\n  GeometryTypes: GeometryTypes,\n\n  /**\n   * Remove Z values from geometry coordinates\n   */\n  removeZValueToOLFeatureGeometry: function removeZValueToOLFeatureGeometry() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref.feature;\n\n    var geometry = feature.getGeometry();\n    if (geometry) {\n      var geometryType = geometry.getType();\n      var originalFeatureCoordinates = geometry.getCoordinates();\n      switch (geometryType) {\n        // POINT: [x, y]\n        case GeometryTypes.POINT:\n          if (originalFeatureCoordinates.length === 3) {\n            originalFeatureCoordinates.splice(2);\n            feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          }\n          break;\n        // MULTIPOINT: [ [x1, y1], [x2, y2] ]\n        case GeometryTypes.MULTIPOINT:\n        // LINE: [ [x1, y1], [x2, y2] ]\n        case GeometryTypes.LINESTRING:\n        case GeometryTypes.LINE:\n          originalFeatureCoordinates.forEach(function (coordinates) {\n            return coordinates.splice(2);\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // MULTILINE: [\n        //   [ [x1, y1], [x2, y2] ],\n        //   [ [x3, y3], [x4, y4] ]\n        // ]\n        case GeometryTypes.MULTILINESTRING:\n        case GeometryTypes.MULTILINE:\n          originalFeatureCoordinates.forEach(function (singleLine) {\n            singleLine.forEach(function (coordinates) {\n              return coordinates.splice(2);\n            });\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // POLYGON: [\n        //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ]\n        // ]\n        case GeometryTypes.POLYGON:\n          originalFeatureCoordinates[0].forEach(function (coordinates) {\n            return coordinates.splice(2);\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // MULTIPOLYGON:[\n        //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ],\n        //   [ [xa, ya], [xb, yb], [xc, yc], [xa, ya] ]\n        // ]\n        case GeometryTypes.MULTIPOLYGON:\n          originalFeatureCoordinates.forEach(function (singlePolygon) {\n            singlePolygon[0].forEach(function (coordinates) {\n              return coordinates.splice(2);\n            });\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n      }\n    }\n\n    return feature;\n  },\n\n\n  /**\n   * core/geometry/geometry::addZValueToOLFeatureGeometry@v3.4\n   */\n  addZValueToOLFeatureGeometry: function addZValueToOLFeatureGeometry() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref2.feature,\n        geometryType = _ref2.geometryType;\n\n    var geometry = feature.getGeometry();\n    geometryType = geometryType || geometry.getType();\n    var originalFeatureCoordinates = geometry.getCoordinates();\n    switch (geometryType) {\n      // POINT: [x, y]\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        originalFeatureCoordinates.push(0);\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTIPOINT: [ [x1, y1], [x2, y2] ]\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n      // LINE: [ [x1, y1], [x2, y2] ]\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        originalFeatureCoordinates.forEach(function (coordinates) {\n          return coordinates.push(0);\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTILINE: [\n      //   [ [x1, y1], [x2, y2] ],\n      //   [ [x3, y3], [x4, y4] ]\n      // ]\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        originalFeatureCoordinates.forEach(function (singleLine) {\n          singleLine.forEach(function (coordinates) {\n            return coordinates.push(0);\n          });\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // POLYGON: [\n      //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ]\n      // ]\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        originalFeatureCoordinates[0].forEach(function (coordinates) {\n          return coordinates.push(0);\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTIPOLYGON:[\n      //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ],\n      //   [ [xa, ya], [xb, yb], [xc, yc], [xa, ya] ]\n      // ]\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGOZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        originalFeatureCoordinates.forEach(function (singlePolygon) {\n          singlePolygon[0].forEach(function (coordinates) {\n            return coordinates.push(0);\n          });\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n    }\n    return feature;\n  },\n\n\n  /**\n   * core/geometry/geometry::getOLGeometry@v3.4\n   */\n  getOLGeometry: function getOLGeometry(geometryType) {\n    switch (geometryType) {\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryType = 'LineString';\n        break;\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        geometryType = 'MultiLineString';\n        break;\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryType = 'Point';\n        break;\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryType = 'MultiPoint';\n        break;\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryType = 'Polygon';\n        break;\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryType = 'MultiPolygon';\n        break;\n    }\n    return geometryType;\n  },\n\n\n  /**\n   * core/geometry/geometry::isMultiGeometry@v3.4\n   */\n  isMultiGeometry: function isMultiGeometry(geometryType) {\n    return [GeometryTypes.MULTIPOINT, GeometryTypes.MULTIPOINTZ, GeometryTypes.MULTIPOINTZM, GeometryTypes.MULTIPOINTM, GeometryTypes.MULTIPOINT25D, GeometryTypes.MULTILINESTRING, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.MULTILINE, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D, GeometryTypes.MULTIPOLYGON, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D].indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllPointGeometryTypes@v3.4\n   */\n  getAllPointGeometryTypes: function getAllPointGeometryTypes() {\n    return [GeometryTypes.POINT, GeometryTypes.POINTZ, GeometryTypes.POINTM, GeometryTypes.POINTZM, GeometryTypes.POINT25D, GeometryTypes.MULTIPOINT, GeometryTypes.MULTIPOINTZ, GeometryTypes.MULTIPOINTM, GeometryTypes.MULTIPOINTZM, GeometryTypes.MULTIPOINT25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isPointGeometryType@v3.4\n   */\n  isPointGeometryType: function isPointGeometryType(geometryType) {\n    return Geometry.getAllPointGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllLineGeometryTypes@v3.4\n   */\n  getAllLineGeometryTypes: function getAllLineGeometryTypes() {\n    return [GeometryTypes.LINESTRING, GeometryTypes.LINESTRINGZ, GeometryTypes.LINESTRINGM, GeometryTypes.LINESTRINGZM, GeometryTypes.LINESTRING25D, GeometryTypes.MULTILINESTRING, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.LINE, GeometryTypes.LINEZ, GeometryTypes.LINEM, GeometryTypes.LINEZM, GeometryTypes.LINE25D, GeometryTypes.MULTILINE, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isLineGeometryType@v3.4\n   */\n  isLineGeometryType: function isLineGeometryType(geometryType) {\n    return Geometry.getAllLineGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllPolygonGeometryTypes@v3.4\n   */\n  getAllPolygonGeometryTypes: function getAllPolygonGeometryTypes() {\n    return [GeometryTypes.POLYGON, GeometryTypes.POLYGONZ, GeometryTypes.POLYGONM, GeometryTypes.POLYGONZM, GeometryTypes.POLYGON25D, GeometryTypes.MULTIPOLYGON, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isPolygonGeometryType@v3.4\n   */\n  isPolygonGeometryType: function isPolygonGeometryType(geometryType) {\n    return Geometry.getAllPolygonGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::is3DGeometry@v3.4\n   */\n  is3DGeometry: function is3DGeometry(geometryType) {\n    return [GeometryTypes.POINTZ, GeometryTypes.POINTM, GeometryTypes.POINTZM, GeometryTypes.POINT25D, GeometryTypes.LINESTRINGZ, GeometryTypes.LINESTRINGM, GeometryTypes.LINESTRINGZM, GeometryTypes.LINESTRING25D, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.LINEZ, GeometryTypes.LINEM, GeometryTypes.LINEZM, GeometryTypes.LINE25D, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D, GeometryTypes.POLYGONZ, GeometryTypes.POLYGONM, GeometryTypes.POLYGONZM, GeometryTypes.POLYGON25D, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D].find(function (type3D) {\n      return type3D === geometryType;\n    });\n  }\n};\n\nvar geoutils = {\n\n  geometryFields: geometryFields,\n\n  coordinatesToGeometry: function coordinatesToGeometry(geometryType, coordinates) {\n    var geometryClass = void 0;\n    switch (geometryType) {\n      case GeometryTypes.POLYGON:\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryClass = ol.geom.Polygon;\n        break;\n      case GeometryTypes.MULTIPOLYGON:\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryClass = ol.geom.MultiPolygon;\n        break;\n      case GeometryTypes.LINESTRING:\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryClass = ol.geom.LineString;\n        break;\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n      case GeometryTypes.MULTILINESTRING:\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n        geometryClass = ol.geom.MultiLineString;\n        break;\n      case GeometryTypes.POINT:\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryClass = ol.geom.Point;\n        break;\n      case GeometryTypes.MULTIPOINT:\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryClass = ol.geom.MultiPoint;\n        break;\n      default:\n        geometryClass = ol.geom.Point;\n    }\n    var geometry = new geometryClass(coordinates);\n    return geometry;\n  },\n  getDefaultLayerStyle: function getDefaultLayerStyle(geometryType) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var color = options.color;\n\n    switch (geometryType) {\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryType = 'LineString';\n        break;\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        geometryType = 'MultiLineString';\n        break;\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryType = 'Point';\n        break;\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryType = 'MultiPoint';\n        break;\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryType = 'Polygon';\n        break;\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryType = 'MultiPolygon';\n        break;\n    }\n    var defaultStyle = {\n      'Point': new ol.style.Style({\n        image: new ol.style.Circle({\n          fill: new ol.style.Fill({\n            color: color\n          }),\n          radius: 5,\n          stroke: new ol.style.Stroke({\n            color: color,\n            width: 1\n          })\n        })\n      }),\n      'LineString': new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'Polygon': new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: 'rgba(255,255,255,0.5)'\n        }),\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'MultiPoint': new ol.style.Style({\n        image: new ol.style.Circle({\n          fill: new ol.style.Fill({\n            color: color\n          }),\n          radius: 5,\n          stroke: new ol.style.Stroke({\n            color: color,\n            width: 1\n          })\n        })\n      }),\n      'MultiLineString': new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'MultiPolygon': new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: 'rgba(255,255,255,0.5)'\n        }),\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      })\n    };\n    return defaultStyle[geometryType];\n  },\n  createLayerStyle: function createLayerStyle(styleObj) {\n    var style = void 0;\n    var styles = {};\n    if (styleObj) {\n      Object.entries(styleObj).forEach(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            type = _ref4[0],\n            config = _ref4[1];\n\n        switch (type) {\n          case 'point':\n            if (config.icon) {\n              styles.image = new ol.style.Icon({\n                src: config.icon.url,\n                imageSize: config.icon.width\n              });\n            }\n            break;\n          case 'line':\n            styles.stroke = new ol.style.Stroke({\n              color: config.color,\n              width: config.width\n            });\n            break;\n          case 'polygon':\n            styles.fill = new ol.style.Fill({\n              color: config.color\n            });\n            break;\n        }\n      });\n      style = new ol.style.Style(styles);\n    }\n    return style;\n  },\n  createFeatureFromCoordinates: function createFeatureFromCoordinates(coordinates) {\n    var feature = void 0;\n    if (Array.isArray(coordinates) && coordinates.length === 2) {\n      var geometry = new ol.geom.Point(coordinates);\n      feature = new ol.Feature(geometry);\n    }\n    return feature;\n  },\n  createFeatureFromBBOX: function createFeatureFromBBOX(bbox) {\n    var feature = void 0;\n    if (Array.isArray(bbox) && bbox.length === 4) {\n      var geometry = ol.geom.Polygon.fromExtent(bbox);\n      feature = new ol.Feature(geometry);\n    }\n    return feature;\n  },\n  createFeatureFromGeometry: function createFeatureFromGeometry() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        id = _ref5.id,\n        geometry = _ref5.geometry;\n\n    if (geometry) {\n      var feature = new ol.Feature(geometry);\n      feature.setId(id);\n      return feature;\n    }\n  },\n\n\n  /**\n   * in case of feature object\n   * {\n   *   id: X,\n   *   attributes: {key:value}\n   *   geometry: geometry\n   * }\n   * @param id\n   * @param feature\n   */\n  createFeatureFromFeatureObject: function createFeatureFromFeatureObject(_ref6) {\n    var id = _ref6.id,\n        _ref6$feature = _ref6.feature,\n        feature = _ref6$feature === undefined ? {} : _ref6$feature;\n    var _feature2 = feature,\n        geometry = _feature2.geometry,\n        attributes = _feature2.attributes;\n\n    feature = geoutils.createFeatureFromGeometry({ id: id, geometry: geometry });\n    Object.keys(attributes).forEach(function (attribute) {\n      return feature.set(attribute, attributes[attribute]);\n    });\n    return feature;\n  },\n  createOlLayer: function createOlLayer() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var id = options.id;\n    var features = options.features;\n    var geometryType = options.geometryType;\n    var color = options.color;\n    var style = options.style;\n    // create ol layer to add to map\n    var olSource = options.source || new ol.source.Vector({\n      features: features || new ol.Collection()\n    });\n    var olLayer = new ol.layer.Vector({\n      id: id,\n      source: olSource\n    });\n    if (!style) {\n      switch (geometryType) {\n        case GeometryTypes.POINT:\n        case GeometryTypes.POINTZ:\n        case GeometryTypes.POINTM:\n        case GeometryTypes.POINTZM:\n        case GeometryTypes.POINT25D:\n        case GeometryTypes.MULTIPOINT:\n        case GeometryTypes.MULTIPOINTZ:\n        case GeometryTypes.MULTIPOINTM:\n        case GeometryTypes.MULTIPOINTZM:\n        case GeometryTypes.MULTIPOINT25D:\n          style = new ol.style.Style({\n            image: new ol.style.Circle({\n              radius: 5,\n              fill: new ol.style.Fill({\n                color: color\n              })\n            })\n          });\n          break;\n        case GeometryTypes.LINESTRING:\n        case GeometryTypes.LINESTRINGZ:\n        case GeometryTypes.LINESTRINGM:\n        case GeometryTypes.LINESTRINGZM:\n        case GeometryTypes.LINESTRING25D:\n        case GeometryTypes.MULTILINESTRING:\n        case GeometryTypes.MULTILINESTRINGZ:\n        case GeometryTypes.MULTILINESTRINGM:\n        case GeometryTypes.MULTILINESTRINGZM:\n        case GeometryTypes.MULTILINESTRING25D:\n        case GeometryTypes.LINE:\n        case GeometryTypes.LINEZ:\n        case GeometryTypes.LINEM:\n        case GeometryTypes.LINEZM:\n        case GeometryTypes.LINE25D:\n        case GeometryTypes.MULTILINE:\n        case GeometryTypes.MULTILINEZ:\n        case GeometryTypes.MULTILINEM:\n        case GeometryTypes.MULTILINEZM:\n        case GeometryTypes.MULTILINE25D:\n          style = new ol.style.Style({\n            stroke: new ol.style.Stroke({\n              width: 3,\n              color: color\n            })\n          });\n          break;\n        case GeometryTypes.POLYGON:\n        case GeometryTypes.POLYGONZ:\n        case GeometryTypes.POLYGONM:\n        case GeometryTypes.POLYGONZM:\n        case GeometryTypes.POLYGON25D:\n        case GeometryTypes.MULTIPOLYGON:\n        case GeometryTypes.MULTIPOLYGONZ:\n        case GeometryTypes.MULTIPOLYGONM:\n        case GeometryTypes.MULTIPOLYGONZM:\n        case GeometryTypes.MULTIPOLYGON25D:\n          style = new ol.style.Style({\n            stroke: new ol.style.Stroke({\n              color: \"#000000\",\n              width: 1\n            }),\n            fill: new ol.style.Fill({\n              color: color\n            })\n          });\n          olLayer.setOpacity(0.6);\n          break;\n      }\n    }\n    olLayer.setStyle(style);\n    return olLayer;\n  },\n  createWMSLayer: function createWMSLayer() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref7.url,\n        name = _ref7.name,\n        projection = _ref7.projection,\n        _ref7$layers = _ref7.layers,\n        layers = _ref7$layers === undefined ? [] : _ref7$layers;\n\n    var id = name || uniqueId();\n    name = name || id;\n    var wmslayer = new WMSLayer({\n      id: id,\n      layers: layers,\n      projection: projection,\n      url: url\n    });\n    var olLayer = wmslayer.getOLLayer();\n    olLayer.set('id', id); // set unique id\n    olLayer.set('name', name);\n    return {\n      wmslayer: wmslayer,\n      olLayer: olLayer\n    };\n  },\n  createVectorLayerFromGeometry: function createVectorLayerFromGeometry(geometry) {\n    var feature = new ol.Feature(geometry);\n    return geoutils.createVectorLayerFromFeatures(feature);\n  },\n  createVectorLayerFromFeatures: function createVectorLayerFromFeatures(feature) {\n    return new ol.layer.Vector({\n      source: new ol.source.Vector({\n        features: Array.isArray(feature) ? feature : [feature]\n      })\n    });\n  },\n  createVectorLayerFromFile: function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n      var _this = this;\n\n      var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          name = _ref9.name,\n          type = _ref9.type,\n          crs = _ref9.crs,\n          mapCrs = _ref9.mapCrs,\n          data = _ref9.data,\n          style = _ref9.style;\n\n      var format, layer, createVectorLayer, _data, headers, separator, values, x, y, features, errorrows, source, promiseKmz, promise;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              format = void 0;\n              layer = void 0;\n\n              createVectorLayer = function createVectorLayer(format, data) {\n                var epsg = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : crs;\n\n                var vectorLayer = void 0;\n                var features = format.readFeatures(data, {\n                  dataProjection: epsg,\n                  featureProjection: mapCrs || epsg\n                });\n                if (features.length) {\n\n                  // ignore kml property [`<styleUrl>`](https://developers.google.com/kml/documentation/kmlreference)\n                  if (format instanceof ol.format.KML) {\n                    features.forEach(function (feature) {\n                      return feature.unset('styleUrl');\n                    }); // ref: \n                  }\n\n                  var vectorSource = new ol.source.Vector({\n                    features: features\n                  });\n                  vectorLayer = new ol.layer.Vector({\n                    source: vectorSource,\n                    name: name,\n                    _fields: Object.keys(features[0].getProperties()).filter(function (property) {\n                      return geometryFields.indexOf(property) < 0;\n                    }),\n                    id: uniqueId()\n                  });\n                  style && vectorLayer.setStyle(style);\n                }\n                return vectorLayer;\n              };\n\n              _context3.t0 = type;\n              _context3.next = _context3.t0 === 'gpx' ? 6 : _context3.t0 === 'gml' ? 9 : _context3.t0 === 'geojson' ? 12 : _context3.t0 === 'kml' ? 15 : _context3.t0 === 'csv' ? 18 : _context3.t0 === 'kmz' ? 29 : _context3.t0 === 'zip' ? 40 : 51;\n              break;\n\n            case 6:\n              format = new ol.format.GPX();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 9:\n              format = new ol.format.WMSGetFeatureInfo();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 12:\n              format = new ol.format.GeoJSON();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 15:\n              format = new ol.format.KML({\n                extractStyles: false\n              });\n              layer = createVectorLayer(format, data, \"EPSG:4326\");\n              return _context3.abrupt('break', 51);\n\n            case 18:\n              _data = data, headers = _data.headers, separator = _data.separator, values = _data.values, x = _data.x, y = _data.y;\n              features = [];\n              errorrows = [];\n\n              values.forEach(function (row, index) {\n                var properties = {};\n                var rowvalues = row.split(separator);\n                if (rowvalues.length === headers.length) {\n                  var coordinates = [];\n                  rowvalues.forEach(function (value, index) {\n                    var field = headers[index];\n                    if (field === x) coordinates[0] = 1 * value;\n                    if (field === y) coordinates[1] = 1 * value;\n                    properties[field] = value;\n                  });\n                  // check if all coordinates is right\n                  if (coordinates.find(function (value) {\n                    return Number.isNaN(value);\n                  }) === undefined) {\n                    var geometry = new ol.geom.Point(coordinates);\n                    if (crs !== mapCrs) geometry.transform(crs, mapCrs);\n                    var feature = new ol.Feature(geometry);\n                    feature.setId(index); // need to add a id incremental\n                    feature.setProperties(properties);\n                    features.push(feature);\n                  }\n                } else errorrows.push({\n                  row: index + 1,\n                  value: values[index]\n                });\n              });\n\n              if (features.length) {\n                _context3.next = 24;\n                break;\n              }\n\n              return _context3.abrupt('return', Promise.reject());\n\n            case 24:\n              if (errorrows.length) {\n                _gui2.default.showUserMessage({\n                  type: 'warning',\n                  message: 'sdk.mapcontrols.addlayer.messages.csv.warning',\n                  hooks: {\n                    footer: {\n                      template: '<select v-select2=\"errorrows[0].value\" class=\"skin-color\" :search=\"false\" style=\"width:100%\">\\n                    <option v-for=\"errorrow in errorrows\" :key=\"errorrow.row\" :value=\"errorrow.value\">[{{ errorrow.row}}] {{errorrow.value}}</option>\\n                </select>',\n                      data: function data() {\n                        return {\n                          errorrows: errorrows\n                        };\n                      }\n                    }\n                  },\n                  autoclose: false\n                });\n              }\n\n              source = new ol.source.Vector({\n                features: features\n              });\n\n              layer = new ol.layer.Vector({\n                source: source,\n                name: name,\n                _fields: headers,\n                id: uniqueId()\n              });\n              style && layer.setStyle(style);\n              return _context3.abrupt('break', 51);\n\n            case 29:\n              promiseKmz = new Promise(function () {\n                var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n                  var zip, buffer, kmlFile;\n                  return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          zip = new JSZip();\n                          _context.next = 3;\n                          return data.arrayBuffer(data);\n\n                        case 3:\n                          buffer = _context.sent;\n\n                          zip.load(buffer);\n                          kmlFile = zip.file(/.kml$/i)[0];\n\n                          if (kmlFile) {\n                            data = kmlFile.asText();\n                            format = new ol.format.KML({\n                              extractStyles: false\n                            });\n                            resolve(createVectorLayer(format, data, \"EPSG:4326\"));\n                          } else reject();\n\n                        case 7:\n                        case 'end':\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee, _this);\n                }));\n\n                return function (_x9, _x10) {\n                  return _ref10.apply(this, arguments);\n                };\n              }());\n              _context3.prev = 30;\n              _context3.next = 33;\n              return promiseKmz;\n\n            case 33:\n              return _context3.abrupt('return', _context3.sent);\n\n            case 36:\n              _context3.prev = 36;\n              _context3.t1 = _context3['catch'](30);\n              return _context3.abrupt('return', Promise.reject());\n\n            case 39:\n              return _context3.abrupt('break', 51);\n\n            case 40:\n              promise = new Promise(function () {\n                var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n                  var buffer;\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _context2.next = 2;\n                          return data.arrayBuffer(data);\n\n                        case 2:\n                          buffer = _context2.sent;\n\n                          shp(buffer).then(function (geojson) {\n                            var data = JSON.stringify(geojson);\n                            format = new ol.format.GeoJSON({});\n                            resolve(createVectorLayer(format, data, \"EPSG:4326\"));\n                          }).catch(function (err) {\n                            return reject(err);\n                          });\n\n                        case 4:\n                        case 'end':\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, _this);\n                }));\n\n                return function (_x11, _x12) {\n                  return _ref11.apply(this, arguments);\n                };\n              }());\n              _context3.prev = 41;\n              _context3.next = 44;\n              return promise;\n\n            case 44:\n              return _context3.abrupt('return', _context3.sent);\n\n            case 47:\n              _context3.prev = 47;\n              _context3.t2 = _context3['catch'](41);\n              return _context3.abrupt('return', Promise.reject());\n\n            case 50:\n              return _context3.abrupt('break', 51);\n\n            case 51:\n              return _context3.abrupt('return', layer);\n\n            case 52:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this, [[30, 36], [41, 47]]);\n    }));\n\n    function createVectorLayerFromFile() {\n      return _ref8.apply(this, arguments);\n    }\n\n    return createVectorLayerFromFile;\n  }(),\n  createStyleFunctionToVectorLayer: function createStyleFunctionToVectorLayer() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var styleFunction = function styleFunction(feature, resolution) {\n      var color = options.color,\n          field = options.field;\n\n      color = color.rgba ? 'rgba(' + color.rgba.r + ',' + color.rgba.g + ',' + color.rgba.b + ',' + color.rgba.a + ')' : color;\n      var geometryType = feature.getGeometry().getType();\n      var style = geoutils.getDefaultLayerStyle(geometryType, { color: color });\n      field && style.setText(new ol.style.Text({\n        text: '' + feature.get(field),\n        font: 'bold',\n        scale: 2,\n        offsetY: 15,\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        stroke: new ol.style.Stroke({\n          color: '#FFFFFF',\n          width: 2\n        })\n      }));\n      return style;\n    };\n    styleFunction._g3w_options = options;\n    return styleFunction;\n  },\n  createSelectedStyle: function createSelectedStyle() {\n    var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        geometryType = _ref12.geometryType,\n        _ref12$color = _ref12.color,\n        color = _ref12$color === undefined ? 'rgb(255,255,0)' : _ref12$color,\n        _ref12$fill = _ref12.fill,\n        fill = _ref12$fill === undefined ? true : _ref12$fill;\n\n    var style = null;\n    if (geometryType === 'LineString' || geometryType === 'MultiLineString') {\n      style = new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 4\n        })\n      });\n    } else if (geometryType === 'Point' || geometryType === 'MultiPoint') {\n      style = new ol.style.Style({\n        image: new ol.style.Circle({\n          radius: 6,\n          stroke: !fill && new ol.style.Stroke({\n            color: color,\n            width: 4\n          }),\n          fill: fill && new ol.style.Fill({\n            color: color\n          })\n        }),\n        zIndex: Infinity\n      });\n    } else if (geometryType === 'MultiPolygon' || geometryType === 'Polygon') {\n      var fillColor = ol.color.asArray(color);\n      fillColor.splice(3, 1, 0.5);\n      style = new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 4\n        }),\n        fill: fill && new ol.style.Fill({\n          color: ol.color.asString(fillColor)\n        })\n      });\n    }\n    return style;\n  },\n  getAlphanumericPropertiesFromFeature: function getAlphanumericPropertiesFromFeature() {\n    var properties = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    properties = Array.isArray(properties) ? properties : Object.keys(properties);\n    return properties.filter(function (property) {\n      return geometryFields.indexOf(property) === -1;\n    });\n  },\n\n\n  /**\n   * Method to convert feature to form Data for expression/expression_eval request\n   * @param feature\n   * @param type\n   */\n  getFormDataExpressionRequestFromFeature: function getFormDataExpressionRequestFromFeature(feature) {\n    delete feature.attributes.geometry;\n    var _feature = new ol.Feature(feature.geometry);\n    var properties = {};\n    geoutils.getAlphanumericPropertiesFromFeature(feature.attributes).forEach(function (property) {\n      if (property !== G3W_FID) properties[property] = feature.attributes[property];\n    });\n    _feature.setProperties(properties);\n    _feature.setId(feature.attributes[G3W_FID]);\n    return geoutils.convertFeatureToGEOJSON(_feature);\n  },\n\n\n  /**\n   * Convert Feature  to GEOJSON Format\n   * @param feature\n   */\n  convertFeatureToGEOJSON: function convertFeatureToGEOJSON(feature) {\n    var GeoJSONFormat = new ol.format.GeoJSON();\n    return GeoJSONFormat.writeFeatureObject(feature);\n  },\n\n\n  /**\n   *\n   * @param layers\n   * @param bbox\n   * @param feature_count\n   * @param multilayers\n   * @returns {JQuery.Promise<any, any, any>}\n   */\n  getQueryLayersPromisesByBBOX: function getQueryLayersPromisesByBBOX(layers, _ref13) {\n    var bbox = _ref13.bbox,\n        _ref13$filterConfig = _ref13.filterConfig,\n        filterConfig = _ref13$filterConfig === undefined ? {} : _ref13$filterConfig,\n        _ref13$feature_count = _ref13.feature_count,\n        feature_count = _ref13$feature_count === undefined ? 10 : _ref13$feature_count,\n        _ref13$multilayers = _ref13.multilayers,\n        multilayers = _ref13$multilayers === undefined ? false : _ref13$multilayers;\n\n    var queriesPromise = void 0;\n    var geometry = ol.geom.Polygon.fromExtent(bbox);\n    var map = _gui2.default.getComponent('map').getService().getMap();\n    var mapProjection = map.getView().getProjection();\n\n    if (multilayers) {\n      queriesPromise = geoutils.getQueryLayersPromisesByGeometry(layers, {\n        geometry: geometry,\n        feature_count: feature_count,\n        filterConfig: filterConfig,\n        multilayers: multilayers,\n        projection: mapProjection\n      });\n    } else {\n      var d = $.Deferred();\n      var mapCrs = mapProjection.getCode();\n      queriesPromise = d.promise();\n      var queryResponses = [];\n      var queryErrors = [];\n      var layersLenght = layers.length;\n      layers.forEach(function (layer) {\n        var filter = new Filter(filterConfig);\n        var layerCrs = layer.getProjection().getCode();\n        /**\n         * convert\n         */\n        filter.setGeometry(mapCrs !== layerCrs ? geometry.clone().transform(mapCrs, layerCrs) : geometry);\n        layer.query({\n          filter: filter,\n          feature_count: feature_count\n        }).then(function (response) {\n          queryResponses.push(response);\n        }).fail(function (error) {\n          return queryErrors.push(error);\n        }).always(function () {\n          layersLenght -= 1;\n          if (layersLenght === 0) queryErrors.length === layers.length ? d.reject(queryErrors) : d.resolve(queryResponses);\n        });\n      });\n    }\n    return queriesPromise;\n  },\n\n\n  /**\n   *\n   * @param layers\n   * @param multilayers\n   * @param bbox\n   * @param geometry\n   * @param projection\n   * @param feature_count\n   * @returns {JQuery.Promise<any, any, any>}\n   */\n  getQueryLayersPromisesByGeometry: function getQueryLayersPromisesByGeometry(layers) {\n    var _ref14 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref14$multilayers = _ref14.multilayers,\n        multilayers = _ref14$multilayers === undefined ? false : _ref14$multilayers,\n        geometry = _ref14.geometry,\n        _ref14$filterConfig = _ref14.filterConfig,\n        filterConfig = _ref14$filterConfig === undefined ? {} : _ref14$filterConfig,\n        projection = _ref14.projection,\n        _ref14$feature_count = _ref14.feature_count,\n        feature_count = _ref14$feature_count === undefined ? 10 : _ref14$feature_count;\n\n    var d = $.Deferred();\n    var queryResponses = [];\n    var queryErrors = [];\n    var mapCrs = projection.getCode();\n    var filter = new Filter(filterConfig);\n    if (multilayers) {\n      (function () {\n        var filterGeometry = geometry;\n        if (!layers.length) d.resolve([]);\n        var multiLayers = _.groupBy(layers, function (layer) {\n          return layer.getMultiLayerId() + '_' + layer.getProjection().getCode();\n        });\n        var numberRequestd = Object.keys(multiLayers).length;\n        var layersLength = numberRequestd;\n        for (var key in multiLayers) {\n          var _multilayer = multiLayers[key];\n          var _layers = _multilayer;\n          var multilayer = multiLayers[key][0];\n          var provider = multilayer.getProvider('filter');\n          var layerCrs = multilayer.getProjection().getCode();\n          if (mapCrs !== layerCrs) filterGeometry = filterGeometry.clone().transform(mapCrs, layerCrs);\n          filter.setGeometry(filterGeometry);\n          provider.query({\n            filter: filter,\n            layers: _layers,\n            feature_count: feature_count\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLength -= 1;\n            if (layersLength === 0) queryErrors.length === numberRequestd ? d.reject(queryErrors) : d.resolve(queryResponses);\n          });\n        }\n      })();\n    } else {\n      if (layers.length === 0) d.resolve([]);else {\n        var layersLenght = layers.length;\n        layers.forEach(function (layer) {\n          var layerCrs = layer.getProjection().getCode();\n          filter.setGeometry(mapCrs !== layerCrs ? geometry.clone().transform(mapCrs, layerCrs) : geometry);\n          layer.query({\n            filter: filter,\n            filterConfig: filterConfig,\n            feature_count: feature_count\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLenght -= 1;\n            if (layersLenght === 0) {\n              queryErrors.length === layers.length ? d.reject(queryErrors) : d.resolve(queryResponses);\n            }\n          });\n        });\n      }\n    }\n    return d.promise();\n  },\n  getQueryLayersPromisesByCoordinates: function getQueryLayersPromisesByCoordinates(layers) {\n    var _ref15 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        coordinates = _ref15.coordinates,\n        _ref15$feature_count = _ref15.feature_count,\n        feature_count = _ref15$feature_count === undefined ? 10 : _ref15$feature_count,\n        _ref15$query_point_to = _ref15.query_point_tolerance,\n        query_point_tolerance = _ref15$query_point_to === undefined ? QUERY_POINT_TOLERANCE : _ref15$query_point_to,\n        _ref15$multilayers = _ref15.multilayers,\n        multilayers = _ref15$multilayers === undefined ? false : _ref15$multilayers,\n        _ref15$reproject = _ref15.reproject,\n        reproject = _ref15$reproject === undefined ? true : _ref15$reproject;\n\n    var d = $.Deferred();\n    if (!layers.length) return d.resolve(layers);\n    var map = _gui2.default.getComponent('map').getService().getMap();\n    var size = map.getSize();\n    var queryResponses = [];\n    var queryErrors = [];\n    var mapProjection = map.getView().getProjection();\n    var resolution = map.getView().getResolution();\n    if (multilayers) {\n      (function () {\n        // case of multilayers\n        var multiLayers = {};\n        layers.forEach(function (layer) {\n          var key = layer.getInfoFormat() + ':' + layer.getInfoUrl() + ':' + layer.getMultiLayerId();\n          if (multiLayers[key]) multiLayers[key].push(layer);else multiLayers[key] = [layer];\n        });\n        var numberOfRequests = Object.keys(multiLayers).length;\n        var layersLength = numberOfRequests;\n        for (var key in multiLayers) {\n          var _multilayer = multiLayers[key];\n          var _layers2 = _multilayer;\n          var multilayer = multiLayers[key][0];\n          var provider = multilayer.getProvider('query');\n          provider.query({\n            feature_count: feature_count,\n            coordinates: coordinates,\n            query_point_tolerance: query_point_tolerance,\n            mapProjection: mapProjection,\n            reproject: reproject,\n            resolution: resolution,\n            size: size,\n            layers: _layers2\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLength -= 1;\n            if (layersLength === 0) {\n              queryErrors.length === numberOfRequests ? d.reject(queryErrors) : d.resolve(queryResponses);\n            }\n          });\n        }\n      })();\n    } else {\n      // single layers request\n      var layersLength = layers.length;\n      var rejectedResponses = 0;\n      layers.forEach(function (layer) {\n        layer.query({\n          feature_count: feature_count,\n          coordinates: coordinates,\n          query_point_tolerance: query_point_tolerance,\n          mapProjection: mapProjection,\n          size: size,\n          resolution: resolution\n        }).then(function (response) {\n          queryResponses.push(response);\n        }).fail(function (error) {\n          rejectedResponses += 1;\n          queryErrors.push(error);\n        }).always(function () {\n          layersLength -= 1;\n          if (layersLength === 0) {\n            rejectedResponses < layers.length ? d.resolve(queryResponses) : d.reject(queryErrors);\n          }\n        });\n      });\n    }\n    return d.promise();\n  },\n  transformBBOX: function transformBBOX() {\n    var _ref16 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        bbox = _ref16.bbox,\n        sourceCrs = _ref16.sourceCrs,\n        destinationCrs = _ref16.destinationCrs;\n\n    var point1 = new ol.geom.Point([bbox[0], bbox[1]]);\n    var point2 = new ol.geom.Point([bbox[2], bbox[3]]);\n    point1.transform(sourceCrs, destinationCrs);\n    point2.transform(sourceCrs, destinationCrs);\n    return [].concat(_toConsumableArray(point1.getCoordinates()), _toConsumableArray(point2.getCoordinates()));\n  },\n  parseQueryLayersPromiseResponses: function parseQueryLayersPromiseResponses(responses) {\n    var results = {\n      query: responses[0] ? responses[0].query : null,\n      data: []\n    };\n    responses.forEach(function (result) {\n      result.data && result.data.forEach(function (data) {\n        results.data.push(data);\n      });\n    });\n    return results;\n  },\n  getMapLayerById: function getMapLayerById(layerId) {\n    return _mapLayers2.default.getLayerById(layerId);\n  },\n\n\n  //return mapLayer based on filter (properties of layer. Es GEOLAYER etc..)\n  //Default values geolayer\n  getMapLayersByFilter: function getMapLayersByFilter() {\n    var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    filter = _extends({\n      GEOLAYER: true\n    }, filter);\n    var layers = [];\n    _mapLayers2.default.getQuerableLayersStores().forEach(function (layerStore) {\n      layers = layerStore.getLayers(filter, options);\n    });\n    return layers || [];\n  },\n  areCoordinatesEqual: function areCoordinatesEqual() {\n    var coordinates1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var coordinates2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    return coordinates1[0] === coordinates2[0] && coordinates1[1] === coordinates2[1];\n  },\n\n  /**\n   *\n   *\n   * @param response\n   * @param type vector/results\n   * @returns {*|*[]|null}\n   */\n  getFeaturesFromResponseVectorApi: function getFeaturesFromResponseVectorApi() {\n    var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _ref17 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref17$type = _ref17.type,\n        type = _ref17$type === undefined ? 'vector' : _ref17$type;\n\n    if (response.result) {\n      var features = response.vector.data.features || [];\n      switch (type) {\n        case 'result':\n          return geoutils.covertVectorFeaturesToResultFeatures(features);\n          break;\n        case 'vector':\n        default:\n          return features;\n      }\n    } else return null;\n  },\n  covertVectorFeaturesToResultFeatures: function covertVectorFeaturesToResultFeatures() {\n    var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    return features.map(function (feature) {\n      var id = feature.id,\n          attributes = feature.properties,\n          geometry = feature.geometry;\n\n      attributes[G3W_FID] = id;\n      return {\n        geometry: geometry,\n        attributes: attributes,\n        id: id\n      };\n    });\n  },\n  splitGeometryLine: function splitGeometryLine(splitGeometry, lineGeometry) {\n    var isZType = lineGeometry.getCoordinates()[0][2] !== undefined;\n    var splitted = false;\n    var splittedSegments = [];\n    var jstsFromWkt = new jsts.io.WKTReader();\n    var wktFromOl = new ol.format.WKT();\n    var olFromJsts = new jsts.io.OL3Parser();\n    var splitLine = jstsFromWkt.read(wktFromOl.writeGeometry(splitGeometry));\n    var wktLineString = wktFromOl.writeGeometry(lineGeometry);\n    if (isZType) wktLineString = wktLineString.replace(' Z', '');\n    var targetLine = jstsFromWkt.read(wktLineString);\n    var targetCoordinates = targetLine.getCoordinates();\n    var targetCoordinatesLength = targetCoordinates.length;\n    var geometryFactory = new jsts.geom.GeometryFactory();\n    var pointsNotSplitted = [];\n    var endPoint = void 0;\n    var startPoint = void 0;\n    for (var i = 0; i < targetCoordinatesLength - 1; i++) {\n      startPoint = targetCoordinates[i];\n      endPoint = targetCoordinates[i + 1];\n      if (isZType) {\n        startPoint.z = lineGeometry.getCoordinates()[i][2];\n        endPoint.z = lineGeometry.getCoordinates()[i + 1][2];\n      }\n      // create a segment of two vertex\n      var segment = geometryFactory.createLineString([startPoint, endPoint]);\n      var intersectCoordinates = segment.intersection(splitLine).getCoordinates();\n      if (intersectCoordinates.length) {\n        splitted = true;\n        intersectCoordinates.forEach(function (splitPoint) {\n          if (isZType) splitPoint.z = startPoint.z;\n          if (pointsNotSplitted.length) {\n            var lineNewSegment = olFromJsts.write(geometryFactory.createLineString(pointsNotSplitted.concat([startPoint, splitPoint])));\n            if (isZType) {\n              var coordinates = lineNewSegment.getCoordinates();\n              lineNewSegment.setCoordinates([[].concat(_toConsumableArray(coordinates[0]), [startPoint.z]), [].concat(_toConsumableArray(coordinates[1]), [splitPoint.z])]);\n            }\n            splittedSegments.push(lineNewSegment);\n            pointsNotSplitted = [];\n          } else {\n            var _lineNewSegment = olFromJsts.write(geometryFactory.createLineString([startPoint, splitPoint]));\n            if (isZType) {\n              var _coordinates = _lineNewSegment.getCoordinates();\n              _lineNewSegment.setCoordinates([[].concat(_toConsumableArray(_coordinates[0]), [startPoint.z]), [].concat(_toConsumableArray(_coordinates[1]), [splitPoint.z])]);\n            }\n            splittedSegments.push(_lineNewSegment);\n          }\n          startPoint = splitPoint;\n        });\n        pointsNotSplitted = pointsNotSplitted.concat([startPoint, endPoint]);\n      } else pointsNotSplitted = pointsNotSplitted.concat([startPoint, endPoint]);\n    }\n    var restOfLine = olFromJsts.write(geometryFactory.createLineString(pointsNotSplitted));\n    if (isZType) {\n      var zCoordinates = [];\n      pointsNotSplitted.forEach(function (pointNotSplitted, index) {\n        var coordinate = restOfLine.getCoordinates()[index];\n        coordinate.push(pointNotSplitted.z);\n        zCoordinates.push(coordinate);\n      });\n      restOfLine.setCoordinates(zCoordinates);\n    }\n    splittedSegments.push(restOfLine);\n    return splitted && splittedSegments || [];\n  },\n  splitFeatures: function splitFeatures() {\n    var _ref18 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref18$features = _ref18.features,\n        features = _ref18$features === undefined ? [] : _ref18$features,\n        splitfeature = _ref18.splitfeature;\n\n    var splitterdGeometries = [];\n    features.forEach(function (feature) {\n      var geometries = geoutils.splitFeature({ feature: feature, splitfeature: splitfeature });\n      geometries.length > 1 && splitterdGeometries.push({\n        uid: feature.getUid(),\n        geometries: geometries\n      });\n    });\n    return splitterdGeometries;\n  },\n  splitFeature: function splitFeature() {\n    var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref19.feature,\n        splitfeature = _ref19.splitfeature;\n\n    var geometries = {\n      feature: feature.getGeometry(), //geometry of the feature to split\n      split: splitfeature.getGeometry() // geometry of split feature\n    };\n    // check geometry type of split\n    var splitType = geometries.split.getType();\n    // check geometry type of feature\n    var featureGeometryType = geometries.feature.getType();\n    // array of splitted geometries\n    var splittedFeatureGeometries = [];\n    var parser = new jsts.io.OL3Parser();\n    switch (splitType) {\n      case 'LineString':\n        // check if geometry is Polygon\n        if (featureGeometryType.indexOf('Polygon') !== -1) {\n          // check if is a MultiPolygon\n          var isMulti = featureGeometryType.indexOf('Multi') !== -1;\n          // if multiPolygon\n          var polygonFeature = isMulti ? geometries.feature.getPolygons() : geometries.feature;\n          if (Array.isArray(polygonFeature)) {\n            polygonFeature.forEach(function (geometry) {\n              geoutils.splitFeature({\n                splitfeature: splitfeature,\n                feature: new ol.Feature({\n                  geometry: geometry\n                })\n              }).forEach(function (geometry) {\n                geometry && splittedFeatureGeometries.push(new ol.geom.MultiPolygon([geometry.getCoordinates()]));\n              });\n            });\n          } else {\n            // case a Polygon\n            var isZType = polygonFeature.getCoordinates()[0][0][2] !== undefined;\n            var polygonFeatureGeometry = parser.read(polygonFeature);\n            var externalPolygonFeatureGeometry = parser.read(polygonFeature.getLinearRing(0));\n            // create a line splittinf feature in jsts\n            var splitGeometry = parser.read(geometries.split);\n            // add holes geometries\n            var holePolygons = void 0;\n            if (polygonFeature.getLinearRingCount() > 1) {\n              var holeFeaturesGeometry = void 0;\n              for (var index = 1; index < polygonFeature.getLinearRingCount(); index++) {\n                var holeRing = parser.read(polygonFeature.getLinearRing(index));\n                if (holeFeaturesGeometry === undefined) holeFeaturesGeometry = holeRing;else holeFeaturesGeometry = holeFeaturesGeometry.union(holeRing);\n              }\n              holePolygons = new jsts.operation.polygonize.Polygonizer();\n              holePolygons.add(holeFeaturesGeometry);\n              var holyPolygonUnion = void 0;\n              holePolygons.getPolygons().toArray().forEach(function (polygon) {\n                if (holyPolygonUnion === undefined) holyPolygonUnion = polygon;else holyPolygonUnion = holyPolygonUnion.union(polygon);\n              });\n              holePolygons = holyPolygonUnion;\n            }\n\n            if (isZType) {\n              polygonFeature.getCoordinates()[0].forEach(function (coordinate, index) {\n                externalPolygonFeatureGeometry.getCoordinates()[index].z = coordinate[2];\n              });\n              splitGeometry.getCoordinates().forEach(function (coordinate) {\n                return coordinate.z = 0;\n              });\n            }\n\n            var union = externalPolygonFeatureGeometry.union(splitGeometry);\n            var polygonizer = new jsts.operation.polygonize.Polygonizer();\n            polygonizer.add(union);\n            var polygons = polygonizer.getPolygons().toArray();\n            polygons.length > 1 && polygons.forEach(function (polygon) {\n              if (holePolygons) polygon = polygon.difference(holePolygons);\n              if (polygonFeatureGeometry.intersects(polygon.getInteriorPoint())) {\n                var geometry = parser.write(polygon);\n                var polygonCoordinates = polygon.getCoordinates();\n                if (isZType) {\n                  polygonCoordinates.forEach(function (coordinate, index) {\n                    coordinate.z = coordinate.z === undefined ? polygonCoordinates[index === 0 ? index + 1 : index - 1].z : coordinate.z;\n                  });\n                }\n                if (isZType) {\n                  var zCoordinates = [];\n                  geometry.getCoordinates()[0].forEach(function (coordinate, index) {\n                    coordinate.push(polygonCoordinates[index].z);\n                    zCoordinates.push(coordinate);\n                  });\n                  geometry.setCoordinates([zCoordinates]);\n                }\n                var geometryType = geometry.getType();\n                if (isMulti) {\n                  splittedFeatureGeometries.push(new ol.geom.MultiPolygon(geometryType === 'Polygon' ? [geometry.getCoordinates()] : geometry.getCoordinates()));\n                } else {\n                  if (geometryType === 'Polygon') {\n                    splittedFeatureGeometries.push(geometry);\n                  } else geometry.getCoordinates().forEach(function (coordinates) {\n                    splittedFeatureGeometries.push(new ol.geom.Polygon(coordinates));\n                  });\n                }\n              }\n            });\n          }\n          //LineString or MultiLineString\n        } else if (featureGeometryType.indexOf('LineString') !== -1) {\n          var _isMulti = featureGeometryType.indexOf('Multi') !== -1;\n          var lineFeatureGeometry = _isMulti ? geometries.feature.getLineStrings() : geometries.feature;\n          if (Array.isArray(lineFeatureGeometry)) {\n            lineFeatureGeometry.forEach(function (lineGeometry) {\n              geoutils.splitFeature({\n                splitfeature: splitfeature,\n                feature: new ol.Feature({\n                  geometry: lineGeometry\n                })\n              }).forEach(function (geometry) {\n                geometry && splittedFeatureGeometries.push(new ol.geom.MultiLineString([geometry.getCoordinates()]));\n              });\n            });\n          } else return geoutils.splitGeometryLine(geometries.split, geometries.feature);\n        }\n        break;\n    }\n    return splittedFeatureGeometries;\n  },\n\n  /**\n   * Return Point feature vertex from geometry\n   * @param geometry\n   */\n  getPointFeaturesfromGeometryVertex: function getPointFeaturesfromGeometryVertex(geometry) {\n    var pointFeatures = [];\n    switch (geometry.getType()) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            coordinates.pop();\n            coordinates.forEach(function (coordinates) {\n              var feature = new ol.Feature(new ol.geom.Point(coordinates));\n              pointFeatures.push(feature);\n            });\n          });\n        });\n        break;\n      case GeometryTypes.POLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.pop();\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.MULTILINESTRING:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.LINESTRING:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.MULTIPOINT:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          var feature = new ol.Feature(new ol.geom.Point(coordinates));\n          pointFeatures.push(feature);\n        });\n        break;\n      case GeometryTypes.POINT:\n        var coordinates = geometry.getCoordinates();\n        var feature = new ol.geom.Point(coordinates);\n        pointFeatures.push(feature);\n        break;\n    }\n    return pointFeatures;\n  },\n\n\n  /**\n   * Return number of vertex of a feature\n   * @param geometries\n   * @returns {*}\n   */\n  getVertexLength: function getVertexLength(geometry) {\n    var vertexLength = 0;\n    switch (geometry.getType()) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            coordinates.pop();\n            coordinates.forEach(function () {\n              return vertexLength += 1;\n            });\n          });\n        });\n        break;\n      case GeometryTypes.POLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.pop();\n          coordinates.forEach(function () {\n            return vertexLength += 1;\n          });\n        });\n        break;\n    }\n    return vertexLength;\n  },\n\n\n  /**\n   * Method that compare two geometry type and return true id are same geometry type or have in common tha same base geometry type:\n   * es. Point <--> Point => true\n   *  MultiPoint <--> Point => true\n   *  Point <--> Polygon => false\n   *\n   */\n  isSameBaseGeometryType: function isSameBaseGeometryType(geometryType1, geometryType2) {\n    geometryType1 = geometryType1.replace('Multi', '');\n    geometryType2 = geometryType2.replace('Multi', '');\n    return geometryType1 === geometryType2;\n  },\n  isSingleGeometry: function isSingleGeometry(geometry) {\n    return !Geometry.isMultiGeometry(geometry.getType());\n  },\n  singleGeometriesToMultiGeometry: function singleGeometriesToMultiGeometry() {\n    var geometries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    var geometryType = geometries[0] && geometries[0].getType();\n    return geometryType && new ol.geom['Multi' + geometryType](geometries.map(function (geometry) {\n      return geometry.getCoordinates();\n    }));\n  },\n  multiGeometryToSingleGeometries: function multiGeometryToSingleGeometries(geometry) {\n    var geometryType = geometry.getType();\n    var geometries = [];\n    switch (geometryType) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometries = geometry.getPolygons();\n        break;\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINESTRING:\n        geometries = geometry.getLineStrings();\n        break;\n      case GeometryTypes.MULTIPOINT:\n        geometries = geometry.getPoints();\n        break;\n    }\n    return geometries;\n  },\n\n  /**\n   * Convert geometry to geometryType (from Single to Multi or viceversa)\n   * @param geometry //from geometry\n   * @param toGeometryType\n   * @returns {*}\n   */\n  convertSingleMultiGeometry: function convertSingleMultiGeometry(geometry, toGeometryType) {\n    var fromGeometryType = geometry.getType();\n    if (toGeometryType && fromGeometryType !== toGeometryType) {\n      var isFromGeometryMulti = Geometry.isMultiGeometry(fromGeometryType);\n      var isToGeometryMulti = Geometry.isMultiGeometry(toGeometryType);\n      if (isFromGeometryMulti && !isToGeometryMulti) return geoutils.multiGeometryToSingleGeometries(geometry);else if (!isFromGeometryMulti && isToGeometryMulti) return geoutils.singleGeometriesToMultiGeometry([geometry]);\n    }\n    return geometry;\n  },\n  dissolve: function dissolve() {\n    var _ref20 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref20$features = _ref20.features,\n        features = _ref20$features === undefined ? [] : _ref20$features,\n        _ref20$index = _ref20.index,\n        index = _ref20$index === undefined ? 0 : _ref20$index,\n        _ref20$clone = _ref20.clone,\n        clone = _ref20$clone === undefined ? false : _ref20$clone;\n\n    var parser = new jsts.io.OL3Parser();\n    var featuresLength = features.length;\n    var dissolvedFeature = void 0;\n    var jstsdissolvedFeatureGeometry = void 0;\n    switch (featuresLength) {\n      case 0:\n        dissolvedFeature = null;\n        break;\n      case 1:\n        dissolvedFeature = features[0];\n        break;\n      default:\n        var baseFeature = dissolvedFeature = clone ? features[index].clone() : features[index];\n        var baseFeatureGeometry = baseFeature.getGeometry();\n        var baseFeatureGeometryType = baseFeatureGeometry.getType();\n        // check if can buil a LineString\n        if (baseFeatureGeometryType === 'LineString') {\n          var lineMerger = new jsts.operation.linemerge.LineMerger();\n          for (var i = 0; i < featuresLength; i++) {\n            var feature = features[i];\n            var coordinates = parser.read(feature.getGeometry()).getCoordinates();\n            var LineString = new jsts.geom.GeometryFactory().createLineString(coordinates);\n            lineMerger.addLineString(LineString);\n          }\n          var mergedLineString = lineMerger.getMergedLineStrings();\n          jstsdissolvedFeatureGeometry = mergedLineString.size() === 1 ? mergedLineString.toArray()[0] : null;\n        } else {\n          jstsdissolvedFeatureGeometry = parser.read(baseFeatureGeometry);\n          for (var _i = 0; _i < featuresLength; _i++) {\n            if (index !== _i) {\n              var _feature3 = features[_i];\n              jstsdissolvedFeatureGeometry = jstsdissolvedFeatureGeometry.union(parser.read(_feature3.getGeometry()));\n            }\n          }\n        }\n        if (jstsdissolvedFeatureGeometry) {\n          var dissolvedFeatureGeometry = parser.write(jstsdissolvedFeatureGeometry);\n          var dissolvedFeatureGeometryType = dissolvedFeatureGeometry.getType();\n          var dissolvedFeatuteGeometryCoordinates = dissolvedFeatureGeometryType === baseFeatureGeometryType ? dissolvedFeatureGeometry.getCoordinates() : baseFeatureGeometryType.indexOf('Multi') !== -1 && dissolvedFeatureGeometryType === baseFeatureGeometryType.replace('Multi', '') ? [dissolvedFeatureGeometry.getCoordinates()] : null;\n          if (dissolvedFeatuteGeometryCoordinates) baseFeature.getGeometry().setCoordinates(dissolvedFeatuteGeometryCoordinates);else dissolvedFeature = null;\n        } else dissolvedFeature = null;\n    }\n    return dissolvedFeature;\n  },\n\n\n  /**\n   * Check if `geometryToCheck` is within `geometry`\n   * \n   * @param   {ol.geometry} geometry\n   * @param   {ol.geometry} geometryToCheck\n   * @returns {boolean}     whether `geometryToCheck` is within `geometry`\n   * \n   * @since 3.8.0\n   */\n  within: function within(geometry, geometryToCheck) {\n    var olFromJsts = new jsts.io.OL3Parser();\n    var jstsGeometry = olFromJsts.read(geometry);\n    var jstsGeometryToCheck = olFromJsts.read(geometryToCheck);\n    return jstsGeometryToCheck.within(jstsGeometry);\n  },\n\n  /**\n   * Check if `geometryCheck` intersects with `geometry`\n   * \n   * @param   {ol.geometry} geometry\n   * @param   {ol.geometry} geometryToCheck\n   * \n   * @returns {boolean}     whether `geometryToCheck` interesects `geometry`\n   * \n   * @since 3.8.0\n   */\n  intersects: function intersects(geometry, geometryToCheck) {\n    var olFromJsts = new jsts.io.OL3Parser();\n    var jstsGeometry = olFromJsts.read(geometry);\n    var jstsGeometryToCheck = olFromJsts.read(geometryToCheck);\n    return jstsGeometry.intersects(jstsGeometryToCheck);\n  },\n\n\n  /**\n   * Method to find Self Intersection\n   * @param geoJsonPolygon\n   * @returns {[]}\n   */\n  findSelfIntersects: function findSelfIntersects(geometry) {\n    // temporary return true or false (commented the array result for point intersect)\n    var selfIntersectPoint = [];\n    var olFromJsts = new jsts.io.OL3Parser();\n    var jstsPolygon = olFromJsts.read(geometry);\n    // if the geometry is already a simple linear ring, do not\n    // try to find self intersection points.\n    var validator = new jsts.operation.IsSimpleOp(jstsPolygon);\n    //if (validator.isSimpleLinearGeometry(jstsPolygon)) return selfIntersectPoint;\n    if (validator.isSimpleLinearGeometry(jstsPolygon)) return false;\n    var graph = new jsts.geomgraph.GeometryGraph(0, jstsPolygon);\n    var cat = new jsts.operation.valid.ConsistentAreaTester(graph);\n    var r = cat.isNodeConsistentArea();\n    if (!r) {\n      return true;\n      //const pt = cat.getInvalidPoint();\n      //selfIntersectPoint.push([pt.x, pt.y]);\n    }\n  },\n  normalizeEpsg: function normalizeEpsg(epsg) {\n    if (typeof epsg === 'number') return 'EPSG:' + epsg;\n    epsg = epsg.replace(/[^\\d\\.\\-]/g, \"\");\n    if (epsg !== '') return 'EPSG:' + parseInt(epsg);\n  },\n  crsToCrsObject: function crsToCrsObject(crs) {\n    if (crs === null || crs === undefined) return crs;\n    if (toRawType(crs) === 'Object' && crs.epsg) crs.epsg = geoutils.normalizeEpsg(crs.epsg);else crs = {\n      epsg: geoutils.normalizeEpsg(crs),\n      proj4: \"\",\n      axisinverted: false,\n      geographic: false\n    };\n    return crs;\n  },\n\n  /**\n   * Method to convert Degree Minutes  to Degree\n   * @param dm\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDMToDEG: function ConvertDMToDEG(_ref21) {\n    var dms = _ref21.dms,\n        _ref21$type = _ref21.type,\n        type = _ref21$type === undefined ? \"Array\" : _ref21$type;\n\n    var dms_Array = type === 'Array' ? dms : dms.split(/[^\\d\\w\\.]+/);\n    var degrees = 1 * dms_Array[0];\n    var minutes = 1 * dms_Array[1];\n    var deg = (Number(degrees) + Number(minutes) / 60).toFixed(6);\n    return 1 * deg;\n  },\n\n  /**\n   * Method to convert Degree to DM\n   * @param deg\n   * @param lat\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDEGToDM: function ConvertDEGToDM() {\n    var _ref22 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        deg = _ref22.deg,\n        _ref22$output = _ref22.output,\n        output = _ref22$output === undefined ? 'Array' : _ref22$output;\n\n    var absolute = Math.abs(deg);\n    var degrees = Math.floor(absolute);\n    var minutes = (absolute - degrees) * 60;\n    switch (output) {\n      case 'Array':\n        return [degrees, minutes];\n        break;\n      case 'Object':\n        return {\n          degrees: degrees,\n          minutes: minutes\n        };\n        break;\n      case 'Text':\n      default:\n        return degrees + \"°\" + minutes + \"'\";\n    }\n  },\n\n  /**\n   * Method to convert Degree Minutes Seconto to Degree\n   * @param dms\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDMSToDEG: function ConvertDMSToDEG(_ref23) {\n    var dms = _ref23.dms,\n        _ref23$type = _ref23.type,\n        type = _ref23$type === undefined ? \"Array\" : _ref23$type;\n\n    var dms_Array = type === 'Array' ? dms : dms.split(/[^\\d\\w\\.]+/);\n    var degrees = 1 * dms_Array[0];\n    var minutes = 1 * dms_Array[1];\n    var seconds = 1 * dms_Array[2];\n    var direction = dms_Array[3];\n    var deg = (Number(degrees) + Number(minutes) / 60 + Number(seconds) / 3600).toFixed(6);\n    if (direction == \"S\" || direction == \"W\") deg = deg * -1;\n    return 1 * deg;\n  },\n\n  /**\n   * Method to convert Degree to DMS\n   * @param deg\n   * @param lat\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDEGToDMS: function ConvertDEGToDMS() {\n    var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        deg = _ref24.deg,\n        lat = _ref24.lat,\n        lon = _ref24.lon,\n        _ref24$output = _ref24.output,\n        output = _ref24$output === undefined ? 'Array' : _ref24$output;\n\n    var absolute = Math.abs(deg);\n    var degrees = Math.floor(absolute);\n    var minutesNotTruncated = (absolute - degrees) * 60;\n    var minutes = Math.floor(minutesNotTruncated);\n    var seconds = ((minutesNotTruncated - minutes) * 60).toFixed(2);\n    var direction = void 0;\n    if (lat) direction = deg >= 0 ? \"N\" : \"S\";\n    if (lon) direction = deg >= 0 ? \"E\" : \"W\";\n    switch (output) {\n      case 'Array':\n        return [degrees, minutes, seconds, direction];\n        break;\n      case 'Object':\n        return {\n          degrees: degrees,\n          minutes: minutes,\n          seconds: seconds,\n          direction: direction\n        };\n        break;\n      case 'Text':\n      default:\n        return degrees + \"°\" + minutes + \"'\" + seconds + \"\\\"\" + direction;\n    }\n  },\n\n  /**\n   * Method to get geotiff file create by server\n   *\n   * @param options {\n   *   url: server url end point\n   *   method: \"GET\" or \"POST\" - default POST\n   * }\n   * @returns {Promise<Blob>}\n   */\n  getGeoTIFFfromServer: function () {\n    var _ref25 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var url, _options$params, image, csrfmiddlewaretoken, bbox, _options$method, method, body, response, geoTIFF;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              url = options.url, _options$params = options.params, image = _options$params.image, csrfmiddlewaretoken = _options$params.csrfmiddlewaretoken, bbox = _options$params.bbox, _options$method = options.method, method = _options$method === undefined ? \"POST\" : _options$method;\n              body = new FormData();\n\n              body.append('image', image);\n              body.append('csrfmiddlewaretoken', csrfmiddlewaretoken);\n              body.append('bbox', bbox);\n              _context4.next = 7;\n              return fetch(url, {\n                method: method, // *GET, POST, PUT, DELETE, etc.,\n                body: body\n              });\n\n            case 7:\n              response = _context4.sent;\n              _context4.next = 10;\n              return response.blob();\n\n            case 10:\n              geoTIFF = _context4.sent;\n              return _context4.abrupt('return', geoTIFF);\n\n            case 12:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function getGeoTIFFfromServer() {\n      return _ref25.apply(this, arguments);\n    }\n\n    return getGeoTIFFfromServer;\n  }(),\n\n  /**\n   * Method to convert feature forma api\n   * @param feature\n   * @returns {*|Feature|Feature}\n   */\n  createOlFeatureFromApiResponseFeature: function createOlFeatureFromApiResponseFeature(feature) {\n    var _feature$properties = feature.properties,\n        properties = _feature$properties === undefined ? {} : _feature$properties,\n        geometry = feature.geometry,\n        id = feature.id;\n\n    properties[G3W_FID] = id;\n    var Feature = new ol.Feature(geometry && new ol.geom[geometry.type](geometry.coordinates));\n    Feature.setProperties(properties);\n    Feature.setId(id);\n    return Feature;\n  },\n  sanitizeFidFeature: function sanitizeFidFeature(fid) {\n    if (toRawType(fid) === 'String' && Number.isNaN(1 * fid)) {\n      fid = fid.split('.');\n      fid = fid.length === 2 ? fid[1] : fid[0];\n    }\n    return fid;\n  },\n  parseAttributes: function parseAttributes(layerAttributes, featureAttributes) {\n    var featureAttributesNames = Object.keys(featureAttributes).filter(function (featureAttributesName) {\n      return geometryFields.indexOf(featureAttributesName) === -1;\n    });\n    if (layerAttributes && layerAttributes.length) {\n      var _featureAttributesNames = Object.keys(featureAttributes);\n      return layerAttributes.filter(function (attribute) {\n        return _featureAttributesNames.indexOf(attribute.name) > -1;\n      });\n    } else {\n      return featureAttributesNames.map(function (featureAttributesName) {\n        return {\n          name: featureAttributesName,\n          label: featureAttributesName\n        };\n      });\n    }\n  },\n\n  /**\n   * Handle case query response\n   */\n  handleQueryResponse: function handleQueryResponse() {\n    var _ref26 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref26.response,\n        projections = _ref26.projections,\n        layers = _ref26.layers,\n        _ref26$wms = _ref26.wms,\n        wms = _ref26$wms === undefined ? true : _ref26$wms;\n\n    layers = layers ? layers : [this._layer];\n    var layer = layers[0];\n    var infoFormat = layer.getInfoFormat();\n    response = responseParser.get(infoFormat)({\n      response: response,\n      projections: projections,\n      layers: layers,\n      wms: wms\n    });\n    return response;\n  },\n\n\n  /**\n   * core/geometry/geom::distance@v3.4\n   */\n  distance: function distance(c1, c2) {\n    return Math.sqrt(geom.squaredDistance(c1, c2));\n  },\n\n\n  /**\n   * * core/geometry/geom::squaredDistance@v3.4\n   */\n  squaredDistance: function squaredDistance(c1, c2) {\n    var x1 = c1[0];\n    var y1 = c1[1];\n    var x2 = c2[0];\n    var y2 = c2[1];\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    return dx * dx + dy * dy;\n  },\n\n\n  /**\n   * core/geometry/geom::closestOnSegment@v3.4\n   */\n  closestOnSegment: function closestOnSegment(coordinate, segment) {\n    var x0 = coordinate[0];\n    var y0 = coordinate[1];\n    var start = segment[0];\n    var end = segment[1];\n    var x1 = start[0];\n    var y1 = start[1];\n    var x2 = end[0];\n    var y2 = end[1];\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    var along = dx === 0 && dy === 0 ? 0 : (dx * (x0 - x1) + dy * (y0 - y1)) / (dx * dx + dy * dy || 0);\n    var x = void 0,\n        y = void 0;\n    if (along <= 0) {\n      x = x1;\n      y = y1;\n    } else if (along >= 1) {\n      x = x2;\n      y = y2;\n    } else {\n      x = x1 + along * dx;\n      y = y1 + along * dy;\n    }\n    return [x, y];\n  },\n  get_LEGEND_ON_LEGEND_OFF_Params: function get_LEGEND_ON_LEGEND_OFF_Params(layer) {\n    var LEGEND_ON = void 0,\n        LEGEND_OFF = void 0;\n    if (layer.getCategories()) {\n      /**\n       * checked: current status\n       * _checked: original status\n       * handle only difference (diff) from original checked status and current chenge by toc categories\n       */\n      layer.getCategories().forEach(function (_ref27) {\n        var checked = _ref27.checked,\n            _checked = _ref27._checked,\n            ruleKey = _ref27.ruleKey;\n\n        if (checked !== _checked) {\n          if (checked) {\n            if (typeof LEGEND_ON === 'undefined') LEGEND_ON = layer.getWMSLayerName() + ':';else LEGEND_ON = LEGEND_ON + ',';\n            LEGEND_ON = '' + LEGEND_ON + ruleKey;\n          } else {\n            if (typeof LEGEND_OFF === 'undefined') LEGEND_OFF = layer.getWMSLayerName() + ':';else LEGEND_OFF = LEGEND_OFF + ',';\n            LEGEND_OFF = '' + LEGEND_OFF + ruleKey;\n          }\n        }\n      });\n    }\n    return {\n      LEGEND_ON: LEGEND_ON,\n      LEGEND_OFF: LEGEND_OFF\n    };\n  },\n\n\n  /**\n   * @TODO remove \"Geometry\" sub-property (ie. find out how to merge the following functions)\n   */\n  Geometry: Geometry\n\n};\n\nmodule.exports = geoutils;\n\n},{\"app/constant\":4,\"core/layers/filter/filter\":30,\"core/layers/map/wmslayer\":45,\"core/utils/parsers\":66,\"core/utils/utils\":67,\"services/gui\":360,\"store/map-layers\":376}],65:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @FIXME remove weird import (utility functions should be stateles)\n                                                                                                                                                                                                                                                                   */\n\n\nvar _applicationState = require(\"store/application-state\");\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n */\n// const { Geometry } = require('core/utils/geo');\n\nvar INCHES_PER_UNIT = {\n  m: 39.37, //\n  degrees: 4374754\n};\n\n//const DOTS_PER_INCH = ol.has.DEVICE_PIXEL_RATIO * 96; //DPI96\nvar DOTS_PER_INCH = 96; //DPI96\n\nvar utils = {\n  merge: function merge(obj1, obj2) {\n    var obj3 = _extends({}, obj1, obj2);\n    return obj3;\n  },\n  getExtentForViewAndSize: function getExtentForViewAndSize(center, resolution, rotation, size) {\n    var dx = resolution * size[0] / 2;\n    var dy = resolution * size[1] / 2;\n    var cosRotation = Math.cos(rotation);\n    var sinRotation = Math.sin(rotation);\n    var xCos = dx * cosRotation;\n    var xSin = dx * sinRotation;\n    var yCos = dy * cosRotation;\n    var ySin = dy * sinRotation;\n    var x = center[0];\n    var y = center[1];\n    var x0 = x - xCos + ySin;\n    var x1 = x - xCos - ySin;\n    var x2 = x + xCos - ySin;\n    var x3 = x + xCos + ySin;\n    var y0 = y - xSin - yCos;\n    var y1 = y - xSin + yCos;\n    var y2 = y + xSin + yCos;\n    var y3 = y + xSin - yCos;\n    //return [Math.min(y0, y1, y2, y3),Math.min(x0, x1, x2, x3), Math.max(y0, y1, y2, y3), Math.max(x0, x1, x2, x3)]\n    return [Math.min(x0, x1, x2, x3), Math.min(y0, y1, y2, y3), Math.max(x0, x1, x2, x3), Math.max(y0, y1, y2, y3)];\n  },\n\n  // function that create a polygon vector layer from bbox\n  createPolygonLayerFromBBox: function createPolygonLayerFromBBox(bbox) {\n    var polygonFeature = new ol.Feature(new ol.geom.Polygon.fromExtent(bbox));\n    var vectorSource = new ol.source.Vector({\n      features: [polygonFeature]\n    });\n    var polygonLayer = new ol.layer.Vector({\n      source: vectorSource\n    });\n    return polygonLayer;\n  },\n  reverseGeometry: function reverseGeometry(geometry) {\n    var reverseCoordinates = function reverseCoordinates(coordinates) {\n      coordinates.find(function (coordinate) {\n        if (Array.isArray(coordinate)) {\n          reverseCoordinates(coordinate);\n        } else {\n          var _coordinates = _slicedToArray(coordinates, 2),\n              y = _coordinates[0],\n              x = _coordinates[1];\n\n          coordinates[0] = x;\n          coordinates[1] = y;\n          return true;\n        }\n      });\n    };\n    var coordinates = geometry.getCoordinates();\n    reverseCoordinates(coordinates);\n    geometry.setCoordinates(coordinates);\n    return geometry;\n  },\n  getScaleFromResolution: function getScaleFromResolution(resolution) {\n    var units = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"m\";\n\n    return Math.round(resolution * INCHES_PER_UNIT[units] * DOTS_PER_INCH);\n  },\n  getResolutionFromScale: function getResolutionFromScale(scale) {\n    var units = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"m\";\n\n    var normScale = scale >= 1.0 ? 1.0 / scale : scale; // just to prevent that scale is passed as 1:10000 or 0.0001\n    return 1 / (normScale * INCHES_PER_UNIT[units] * DOTS_PER_INCH);\n  },\n  getDPI: function getDPI() {\n    return DOTS_PER_INCH;\n  },\n  getMetersFromDegrees: function getMetersFromDegrees(degrees) {\n    return degrees * ol.proj.Units.METERS_PER_UNIT.degrees;\n  },\n  needUseSphereMethods: function needUseSphereMethods(projection) {\n    return projection.getCode() === 'EPSG:3857' || projection.getUnits() === 'degrees';\n    //return projection.getUnits() === 'degrees';\n  },\n  getLengthMessageText: function getLengthMessageText() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        unit = _ref.unit,\n        projection = _ref.projection,\n        geometry = _ref.geometry;\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n     */\n    var _require = require('core/utils/geo'),\n        Geometry = _require.Geometry;\n    //\n\n\n    var geometryType = geometry.getType();\n    var useSphereMethods = this.needUseSphereMethods(projection);\n    var length = useSphereMethods ? ol.sphere.getLength(geometry, {\n      projection: projection.getCode()\n    }) : Geometry.isMultiGeometry(geometryType) ? geometry.getLineStrings().reduce(function (totalLength, lineGeometry) {\n      return totalLength += lineGeometry.getLength();\n    }, 0) : geometry.getLength();\n    var message = void 0;\n    switch (unit) {\n      case 'nautical':\n        message = this.transformMeterLength(length, unit) + \" nm\";\n        break;\n      case 'metric':\n      default:\n        message = length > 1000 ? (Math.round(length / 1000 * 100) / 100).toFixed(3) + \" km\" : (Math.round(length * 100) / 100).toFixed(2) + \" m\";\n    }\n    return message;\n  },\n  getAreaMessageText: function getAreaMessageText(_ref2) {\n    var unit = _ref2.unit,\n        geometry = _ref2.geometry,\n        projection = _ref2.projection,\n        _ref2$segments = _ref2.segments,\n        segments = _ref2$segments === undefined ? [] : _ref2$segments;\n\n    var useSphereMethods = this.needUseSphereMethods(projection);\n    var area = Math.round(useSphereMethods ? ol.sphere.getArea(geometry, {\n      projection: projection.getCode()\n    }) : geometry.getArea());\n    var message = void 0;\n    var segments_info_meausure = '';\n    var segmentLength = segments.length;\n    if (segmentLength > 2) {\n      segments_info_meausure += this.getLengthMessageText({\n        unit: unit,\n        projection: projection,\n        geometry: new ol.geom.LineString(segments)\n      }) + \" <br>\";\n    }\n    switch (unit) {\n      case 'nautical':\n        message = this.transformMeterArea(area, unit) + \" \\u2009nmi\\xB2\";\n        break;\n      case 'metric':\n      default:\n        message = area > 1000000 ? (Math.round(area / 1000000 * 100) / 100).toFixed(6) + \" km<sup>2</sup>\" : (Math.round(area * 100) / 100).toFixed(3) + \" m<sup>2</sup>\";\n    }\n    if (segments_info_meausure) message = \"Area: \" + message + \" <br><div style=\\\"width: 100%; padding: 3px; border-bottom: 2px solid #ffffff\\\"></div> \" + segments_info_meausure;\n    return message;\n  },\n  formatMeasure: function formatMeasure() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        geometry = _ref3.geometry,\n        projection = _ref3.projection;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n     */\n    var _require2 = require('core/utils/geo'),\n        Geometry = _require2.Geometry,\n        multiGeometryToSingleGeometries = _require2.multiGeometryToSingleGeometries;\n    //\n\n\n    var geometryType = geometry.getType();\n    var unit = this.getCurrentMapUnit();\n    if (Geometry.isLineGeometryType(geometryType)) {\n      return this.getLengthMessageText({\n        unit: unit,\n        projection: projection,\n        geometry: geometry\n      });\n    } else if (Geometry.isPolygonGeometryType(geometryType)) {\n      var segments = void 0;\n      if (Geometry.isMultiGeometry(geometryType)) {\n        segments = [];\n        multiGeometryToSingleGeometries(geometry).forEach(function (geometry) {\n          geometry.getLinearRing().getCoordinates().forEach(function (coordinates) {\n            return segments.push(coordinates);\n          });\n        });\n      } else segments = geometry.getLinearRing().getCoordinates();\n      return this.getAreaMessageText({ unit: unit, geometry: geometry, projection: projection, segments: segments });\n    }\n  },\n\n\n  //create and add measure tooltip\n  createMeasureTooltip: function createMeasureTooltip() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        map = _ref4.map,\n        feature = _ref4.feature;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var element = document.createElement('div');\n    element.className = 'mtooltip mtooltip-measure';\n    var tooltip = new ol.Overlay({\n      element: element,\n      offset: [0, -15],\n      positioning: 'bottom-center'\n    });\n    map.addOverlay(tooltip);\n    var unbyKey = feature.getGeometry().on('change', function (evt) {\n      var tooltipCoord = void 0;\n      var geometry = evt.target;\n      if (geometry instanceof ol.geom.Polygon) tooltipCoord = geometry.getInteriorPoint().getCoordinates();else if (geometry instanceof ol.geom.MultiPolygon) tooltipCoord = geometry.getInteriorPoints().getCoordinates()[0];else if (geometry instanceof ol.geom.LineString) tooltipCoord = geometry.getLastCoordinate();else if (geometry instanceof ol.geom.MultiLineString) tooltipCoord = geometry.getLastCoordinate();\n      var output = utils.formatMeasure({\n        geometry: geometry,\n        projection: map.getView().getProjection()\n      }, options);\n      element.innerHTML = output;\n      tooltip.setPosition(tooltipCoord);\n    });\n\n    return {\n      tooltip: tooltip,\n      unbyKey: unbyKey\n    };\n  },\n\n  /**\n   * @FIXME utility functions should be stateles (move it elsewhere)\n   */\n  getCurrentMapUnit: function getCurrentMapUnit() {\n    return _applicationState2.default.map.unit;\n  },\n\n\n  /**\n   * Method to transform length meter in a specific unti (ex.nautilcal mile)\n   * @param length\n   * @param tounit\n   * @returns {null}\n   */\n  transformMeterLength: function transformMeterLength(length, tounit) {\n    switch (tounit) {\n      case 'nautical':\n        length = length * 0.0005399568;\n        break;\n    }\n    return length;\n  },\n  transformMeterArea: function transformMeterArea(area, tounit) {\n    switch (tounit) {\n      case 'nautical':\n        area = area * 0.000000291553349598122862913947445759414840765222583489217190918463024037990567;\n        break;\n    }\n    return area;\n  },\n\n\n  //remove mesure tootltip\n  removeMeasureTooltip: function removeMeasureTooltip(_ref5) {\n    var map = _ref5.map,\n        tooltip = _ref5.tooltip,\n        unbyKey = _ref5.unbyKey;\n\n    map.removeOverlay(tooltip);\n    ol.Observable.unByKey(unbyKey);\n  },\n  setMeasureTooltipStatic: function setMeasureTooltipStatic(tooltip) {\n    var element = tooltip.getElement();\n    element.className = 'mtooltip mtooltip-static';\n    tooltip.setOffset([0, -7]);\n  }\n};\n\nmodule.exports = utils;\n\n},{\"core/utils/geo\":64,\"store/application-state\":372}],66:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar Feature = require('core/layers/features/feature');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar olutils = require('core/utils/ol');\nvar WORD_NUMERIC_FIELD_ESCAPE = 'GIS3W_ESCAPE_NUMERIC_FIELD_';\n\n/**\n * @FIXME circular dependency (ie. empty object when importing at top level)\n */\n// const { Geometry : { is3DGeometry, removeZValueToOLFeatureGeometry } } = require('core/utils/geo');\n\n/**\n * Response parser (internal utilities)\n */\nvar utils = {\n  getHandledResponsesFromResponse: function getHandledResponsesFromResponse(_ref) {\n    var _this = this;\n\n    var response = _ref.response,\n        layers = _ref.layers,\n        projections = _ref.projections,\n        _ref$id = _ref.id,\n        id = _ref$id === undefined ? false : _ref$id;\n\n    var multilayers = false;\n    var x2js = new X2JS();\n    var jsonresponse = x2js.xml_str2json(response);\n    // in case of parser return null\n    if (!jsonresponse) return [{\n      layer: layers[0],\n      features: []\n    }];\n    var FeatureCollection = jsonresponse.FeatureCollection;\n    var handledResponses = [];\n    if (FeatureCollection.featureMember) {\n      var originalFeatureMember = Array.isArray(FeatureCollection.featureMember) ? FeatureCollection.featureMember : [FeatureCollection.featureMember];\n\n      var _loop = function _loop(i) {\n        var layer = layers[i];\n        var layerName = id ? layer.getId() : 'layer' + i;\n        var featureMemberArrayAndPrefix = {\n          features: null,\n          __prefix: null\n        };\n        jsonresponse.FeatureCollection.featureMember = originalFeatureMember.filter(function (feature) {\n          var featureMember = feature[layerName];\n          if (featureMember) {\n            featureMember.g3w_fid = {\n              __prefix: feature.__prefix,\n              __text: featureMember._fid && featureMember._fid.split('.')[1]\n            };\n            if (Array.isArray(featureMember)) {\n              featureMemberArrayAndPrefix.features = featureMember;\n              featureMemberArrayAndPrefix.__prefix = feature.__prefix;\n              return false;\n            }\n            return true;\n          }\n        });\n        if (featureMemberArrayAndPrefix.features) {\n          var prefix = featureMemberArrayAndPrefix.__prefix;\n          // check if features have the same fields. If not group the features with the same fields\n          var groupFeatures = _this.groupFeaturesByFields(featureMemberArrayAndPrefix.features);\n          //check if features have different fields (multilayers)\n          if (Object.keys(groupFeatures).length > 1) {\n            // is a multilayers. Each feature has different fields\n            multilayers = true;\n            _this.handleWMSMultiLayersResponseFromQGISSERVER({\n              groupFeatures: groupFeatures,\n              prefix: prefix,\n              handledResponses: handledResponses,\n              jsonresponse: jsonresponse,\n              layer: layer,\n              projections: projections\n            });\n          } else {\n            featureMemberArrayAndPrefix.features.forEach(function (feature) {\n              var _jsonresponse$Feature;\n\n              //for Each element have to add and object contain layerName and information, and __prefix\n              jsonresponse.FeatureCollection.featureMember.push((_jsonresponse$Feature = {}, _defineProperty(_jsonresponse$Feature, layerName, feature), _defineProperty(_jsonresponse$Feature, '__prefix', prefix), _jsonresponse$Feature));\n            });\n          }\n        }\n        if (!multilayers) {\n          var handledResponse = _this.parseLayerFeatureCollection({\n            jsonresponse: jsonresponse,\n            layer: layer,\n            projections: projections\n          });\n          handledResponse && handledResponses.unshift(handledResponse[0]);\n        }\n      };\n\n      for (var i = 0; i < layers.length; i++) {\n        _loop(i);\n      }\n    }\n    return handledResponses;\n  },\n  transformFeatures: function transformFeatures(features, projections) {\n    if (features.length) {\n      if (!!features[0].getGeometry()) {\n        var mainProjection = projections.layer ? projections.layer : projections.map;\n        var invertedAxis = mainProjection.getAxisOrientation().substr(0, 2) === 'ne';\n        if (projections.layer && projections.layer.getCode() !== projections.map.getCode()) {\n          features.forEach(function (feature) {\n            var geometry = feature.getGeometry();\n            feature.setGeometry(geometry.transform(projections.layer.getCode(), projections.map.getCode()));\n          });\n        }\n        if (invertedAxis) features = this.reverseFeaturesCoordinates(features);\n      }\n    }\n    return features;\n  },\n  parseLayerFeatureCollection: function parseLayerFeatureCollection(_ref2) {\n    var _this2 = this;\n\n    var jsonresponse = _ref2.jsonresponse,\n        layer = _ref2.layer,\n        projections = _ref2.projections;\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level)\n     */\n    var _require3 = require('core/utils/geo'),\n        _require3$Geometry = _require3.Geometry,\n        is3DGeometry = _require3$Geometry.is3DGeometry,\n        removeZValueToOLFeatureGeometry = _require3$Geometry.removeZValueToOLFeatureGeometry;\n\n    var x2js = new X2JS();\n    var layerFeatureCollectionXML = x2js.json2xml_str(jsonresponse);\n    var parser = new ol.format.WMSGetFeatureInfo();\n    var features = this.transformFeatures(parser.readFeatures(layerFeatureCollectionXML), projections);\n    if (layer.isGeoLayer()) {\n      var geometryType = layer.getGeometryType();\n\n      // Need to remove Z values due a incorrect addition when using\n      // ol.format.WMSGetFeatureInfo readFeatures method from XML\n      // (eg. WMS getFeatureInfo);\n      if (!is3DGeometry(geometryType)) {\n        features.forEach(function (feature) {\n          return removeZValueToOLFeatureGeometry({ feature: feature });\n        });\n      }\n    }\n\n    if (features.length && this.hasFieldsStartWithNotPermittedKey) {\n      var properties = Object.keys(features[0].getProperties());\n      var numericFields = properties.filter(function (property) {\n        return property.indexOf(WORD_NUMERIC_FIELD_ESCAPE) !== -1;\n      });\n      features.forEach(function (feature) {\n        numericFields.forEach(function (_field) {\n          var value = feature.get(_field);\n          var ori_field = _field.replace(WORD_NUMERIC_FIELD_ESCAPE, '');\n          feature.set(_this2.hasFieldsStartWithNotPermittedKey[ori_field], Array.isArray(value) ? value[0] : value);\n          feature.unset(_field);\n        });\n      });\n    }\n    return [{\n      layer: layer,\n      features: features\n    }];\n  },\n  reverseFeaturesCoordinates: function reverseFeaturesCoordinates(features) {\n    features.forEach(function (feature) {\n      var geometry = feature.getGeometry();\n      feature.setGeometry(olutils.reverseGeometry(geometry));\n    });\n    return features;\n  },\n  handleXMLStringResponseBeforeConvertToJSON: function handleXMLStringResponseBeforeConvertToJSON() {\n    var _this3 = this;\n\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref3.response,\n        layers = _ref3.layers,\n        wms = _ref3.wms;\n\n    if (!response) return; // return undefined if no response\n    if (!(typeof response === 'string' || response instanceof String)) response = new XMLSerializer().serializeToString(response);\n    for (var i = 0; i < layers.length; i++) {\n      var _layer = layers[i];\n      var originalName = wms && _layer.isWmsUseLayerIds() ? _layer.getId() : _layer.getName();\n      var sanitizeLayerName = wms ? originalName.replace(/[/\\s]/g, '') : originalName.replace(/[/\\s]/g, '_');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\'+)/, '');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\)+)/, '');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\(+)/, '');\n      var reg = new RegExp('qgs:' + sanitizeLayerName, \"g\");\n      response = response.replace(reg, 'qgs:layer' + i);\n    }\n    // add match numeric value integer or float\n    var arrayQGS = [].concat(_toConsumableArray(response.matchAll(/qgs:(\\d+(?:\\.\\d+)?)(\\w+)/g)), _toConsumableArray(response.matchAll(/qgs:(\\w+):(\\w+)/g)));\n    arrayQGS.forEach(function (find, idx) {\n      if (idx % 2 === 0) {\n        if (!_this3.hasFieldsStartWithNotPermittedKey) _this3.hasFieldsStartWithNotPermittedKey = {};\n        var originalField = find[0].replace('qgs:', '');\n        _this3.hasFieldsStartWithNotPermittedKey['' + find[1] + find[2]] = originalField;\n        var regex = new RegExp('' + find[0], \"g\");\n        response = response.replace(regex, 'qgs:' + WORD_NUMERIC_FIELD_ESCAPE + find[1] + find[2]);\n      }\n    });\n    //PATCH id strange\n    var strangeChar = new RegExp('' + String.fromCharCode(0), \"g\");\n    response = response.replace(strangeChar, '0');\n    ///\n    return response;\n  },\n  groupFeaturesByFields: function groupFeaturesByFields(features) {\n    return _.groupBy(features, function (feature) {\n      return Object.keys(feature);\n    });\n  },\n  handleWMSMultiLayersResponseFromQGISSERVER: function handleWMSMultiLayersResponseFromQGISSERVER() {\n    var _this4 = this;\n\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        groupFeatures = _ref4.groupFeatures,\n        prefix = _ref4.prefix,\n        handledResponses = _ref4.handledResponses,\n        jsonresponse = _ref4.jsonresponse,\n        layer = _ref4.layer,\n        projections = _ref4.projections;\n\n    // is a multilayers. Each feature has different fields. If group has more that one feature spit it and create single features\n    Object.keys(groupFeatures).forEach(function (key, index) {\n      var features = groupFeatures[key];\n      features.forEach(function (feature, sub_index) {\n        var _jsonresponse$Feature2;\n\n        jsonresponse.FeatureCollection.featureMember = (_jsonresponse$Feature2 = {}, _defineProperty(_jsonresponse$Feature2, 'layer' + index + '_' + sub_index, feature), _defineProperty(_jsonresponse$Feature2, '__prefix', prefix), _jsonresponse$Feature2);\n        var handledResponse = _this4.parseLayerFeatureCollection({\n          jsonresponse: jsonresponse,\n          layer: layer,\n          projections: projections\n        });\n        if (handledResponse) {\n          var response = handledResponse[0];\n          response.layer = layer;\n          handledResponses.unshift(response);\n        }\n      });\n    });\n  }\n};\n\n/**\n * Response parser (content types)\n */\nvar contenttypes = {\n  'application/json': function applicationJson() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref5$layers = _ref5.layers,\n        layers = _ref5$layers === undefined ? [] : _ref5$layers,\n        response = _ref5.response,\n        projections = _ref5.projections,\n        _ref5$wms = _ref5.wms,\n        wms = _ref5$wms === undefined ? true : _ref5$wms;\n\n    var _require4 = require('core/utils/geo'),\n        sanitizeFidFeature = _require4.sanitizeFidFeature;\n\n    var layersFeatures = [];\n    var layersId = layers.map(function (layer) {\n      layersFeatures.push({\n        layer: layer,\n        features: []\n      });\n      return wms ? layer.getWMSLayerName() : layer.getWFSLayerName();\n    });\n    var data = response;\n    var parseData = function parseData() {\n      var defaultDataProjection = projections.layer || projections.map;\n      var geojson = new ol.format.GeoJSON({\n        defaultDataProjection: defaultDataProjection,\n        geometryName: \"geometry\"\n      });\n      return geojson.readFeatures(data);\n    };\n    var features = data && parseData();\n    features.filter(function (feature) {\n      var featureId = feature.getId();\n      var g3w_fid = sanitizeFidFeature(featureId);\n      // in case of wms getfeature without filter return string contain layerName or layerid\n      var index = featureId == g3w_fid ? 0 : layersId.indexOf(featureId);\n      if (index !== -1) {\n        var fields = layersFeatures[index].layer.getFields().filter(function (field) {\n          return field.show;\n        });\n        var properties = feature.getProperties();\n        feature.set(_constant.G3W_FID, g3w_fid);\n        fields.forEach(function (field) {\n          if (properties[field.name] === undefined) {\n            properties[field.label] !== undefined && feature.set(field.name, properties[field.label]);\n          }\n        });\n        layersFeatures[index].features.push(feature);\n      }\n    });\n    return layersFeatures;\n  },\n  'application/geojson': function applicationGeojson() {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref6.layers,\n        projections = _ref6.projections,\n        response = _ref6.response;\n\n    var handleResponse = [];\n    var parserGEOJson = Parsers.vector.get({\n      type: 'geojson'\n    });\n    if (response) {\n      layers.forEach(function (layer) {\n        handleResponse.push({\n          layer: layer,\n          features: parserGEOJson(response, {})\n        });\n      });\n    }\n    return handleResponse;\n  },\n  'text/html': function textHtml() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref7.layers,\n        response = _ref7.response;\n\n    var handleResponse = [];\n    layers.forEach(function (layer) {\n      handleResponse.push({\n        layer: layer,\n        rawdata: response\n      });\n    });\n    return handleResponse;\n  },\n  'text/plain': function textPlain() {\n    var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref8.layers,\n        response = _ref8.response;\n\n    var handleResponse = [];\n    layers.forEach(function (layer) {\n      handleResponse.push({\n        layer: layer,\n        rawdata: response\n      });\n    });\n    return handleResponse;\n  },\n  'text/gml': function textGml(_ref9) {\n    var layers = _ref9.layers,\n        response = _ref9.response;\n\n    var parserGML = Parsers.vector.get({\n      type: 'gml'\n    });\n    var features = parserGML({\n      data: response,\n      layer: layers[0]\n    });\n    return layers.map(function (layer) {\n      return {\n        layer: layer,\n        features: features\n      };\n    });\n  },\n  'application/vnd.ogc.gml': function applicationVndOgcGml() {\n    var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref10.response,\n        projections = _ref10.projections,\n        layers = _ref10.layers,\n        _ref10$wms = _ref10.wms,\n        wms = _ref10$wms === undefined ? true : _ref10$wms;\n\n    return utils.getHandledResponsesFromResponse({\n      response: utils.handleXMLStringResponseBeforeConvertToJSON({\n        layers: layers,\n        response: response,\n        wms: wms\n      }),\n      layers: layers,\n      projections: projections\n    });\n  },\n  not_supported_format: function not_supported_format() {\n    var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref11$layers = _ref11.layers,\n        layers = _ref11$layers === undefined ? [] : _ref11$layers;\n\n    return layers.map(function (layer) {\n      return {\n        layer: layer,\n        rawdata: t('warning.not_supported_format')\n      };\n    });\n  }\n};\n\n/**\n * Vector parser\n */\nvar VectorParser = function VectorParser() {\n  // return the right parser for the request\n  this.get = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var type = options.type;\n    var parser = void 0;\n    switch (type) {\n      case 'geojson':\n      case 'json':\n        parser = this._parseLayerGeoJSON;\n        break;\n      case 'gml':\n        parser = this._parseLayermsGMLOutput;\n        break;\n      default:\n        parser = this._parseLayerGeoJSON;\n    }\n    return parser;\n  };\n  this._parseLayermsGMLOutput = function (_ref12) {\n    var data = _ref12.data,\n        layer = _ref12.layer;\n\n    try {\n      var gml = void 0;\n      // to extract gml from multiple (Tuscany region)\n      if (data.substr(0, 2) !== '--') gml = data;else {\n        var gmlTag1 = new RegExp(\"<([^ ]*)FeatureCollection\");\n        var gmlTag2 = new RegExp(\"<([^ ]*)msGMLOutput\");\n        var boundary = '\\r\\n--';\n        var parts = data.split(new RegExp(boundary));\n        parts.forEach(function (part) {\n          var isGmlPart = part.search(gmlTag1) > -1 ? true : part.search(gmlTag2) > -1 ? true : false;\n          if (isGmlPart) {\n            gml = part.substr(part.indexOf(\"<?xml\"));\n          }\n        });\n      }\n      var layers = layer.getQueryLayerOrigName();\n      var parser = new ol.format.WMSGetFeatureInfo({\n        layers: layers\n      });\n      return parser.readFeatures(gml);\n    } catch (err) {\n      return [];\n    }\n  };\n\n  this._parseLayerGeoJSON = function (data, options) {\n    try {\n      data = toRawType(data) === 'String' ? JSON.parse(data) : data;\n      var crs = options.crs,\n          mapCrs = options.mapCrs;\n\n      var geojson = new ol.format.GeoJSON({\n        dataProjection: crs,\n        featureProjection: mapCrs || crs,\n        geometryName: \"geometry\"\n      });\n      return geojson.readFeatures(data);\n    } catch (err) {\n      return [];\n    }\n  };\n};\n\n/**\n * Table parser\n */\nvar TableParser = function TableParser() {\n  this.get = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var type = options.type;\n    var parser = void 0;\n    switch (type) {\n      case 'json':\n        parser = this._parserJSON.bind(this);\n        break;\n      default:\n        parser = this._parserJSON.bind(this);\n    }\n    return parser;\n  };\n\n  this._parserJSON = function () {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _data$features = data.features,\n        features = _data$features === undefined ? [] : _data$features;\n\n    return features.map(function (_feature) {\n      var id = _feature.id,\n          properties = _feature.properties;\n\n      var feature = new Feature();\n      feature.setProperties(properties);\n      feature.setId(id);\n      return feature;\n    });\n  };\n};\n\nvar Parsers = {\n  vector: new VectorParser(),\n  table: new TableParser(),\n  /**\n   * @TODO wrap within dedicated class (ie. new ResponseParser())\n   */\n  response: {\n    get: function get(type) {\n      return contenttypes[type] || contenttypes.not_supported_format;\n    },\n\n    utils: {\n      getTimeoutData: function getTimeoutData() {\n        var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n        return layers.map(function (layer) {\n          return {\n            layer: layer,\n            rawdata: 'timeout'\n          };\n        });\n      }\n    }\n  }\n};\n\nmodule.exports = Parsers;\n\n},{\"app/constant\":4,\"core/i18n/i18n.service\":13,\"core/layers/features/feature\":26,\"core/utils/geo\":64,\"core/utils/ol\":65,\"core/utils/utils\":67}],67:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Filter = require('core/layers/filter/filter');\nvar Expression = require('core/layers/filter/expression');\n\n/**\n * Decimal adjustment of a number.\n *\n * @param {String}  type  The type of adjustment.\n * @param {Number}  value The number.\n * @param {Integer} exp   The exponent (the 10 logarithm of the adjustment base).\n * @returns {Number} The adjusted value.\n */\nfunction decimalAdjust(type, value, exp) {\n  // If the exp is undefined or zero...\n  if (typeof exp === 'undefined' || +exp === 0) return Math[type](value);\n  value = +value;\n  exp = +exp;\n  // If the value is not a number or the exp is not an integer...\n  if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {\n    return NaN;\n  }\n  // Shift\n  value = value.toString().split('e');\n  value = Math[type](+(value[0] + 'e' + (value[1] ? +value[1] - exp : -exp)));\n  // Shift back\n  value = value.toString().split('e');\n  return +(value[0] + 'e' + (value[1] ? +value[1] + exp : exp));\n}\n\n// Decimal round\nif (!Math.round10) {\n  Math.round10 = function (value, exp) {\n    return decimalAdjust('round', value, exp);\n  };\n}\n// Decimal floor\nif (!Math.floor10) {\n  Math.floor10 = function (value, exp) {\n    return decimalAdjust('floor', value, exp);\n  };\n}\n// Decimal ceil\nif (!Math.ceil10) {\n  Math.ceil10 = function (value, exp) {\n    return decimalAdjust('ceil', value, exp);\n  };\n}\n\nString.prototype.hashCode = function () {\n  var hash = 0,\n      i = void 0,\n      chr = void 0,\n      len = void 0;\n  if (this.length === 0) return hash;\n  for (i = 0, len = this.length; i < len; i++) {\n    chr = this.charCodeAt(i);\n    hash = (hash << 5) - hash + chr;\n    hash |= 0;\n  }\n  return hash;\n};\n\nvar Base64 = { _keyStr: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\", encode: function encode(e) {\n    var t = \"\";var n = void 0,\n        r = void 0,\n        i = void 0,\n        s = void 0,\n        o = void 0,\n        u = void 0,\n        a = void 0;var f = 0;e = Base64._utf8_encode(e);while (f < e.length) {\n      n = e.charCodeAt(f++);r = e.charCodeAt(f++);i = e.charCodeAt(f++);s = n >> 2;o = (n & 3) << 4 | r >> 4;u = (r & 15) << 2 | i >> 6;a = i & 63;if (isNaN(r)) {\n        u = a = 64;\n      } else if (isNaN(i)) {\n        a = 64;\n      }t = t + this._keyStr.charAt(s) + this._keyStr.charAt(o) + this._keyStr.charAt(u) + this._keyStr.charAt(a);\n    }return t;\n  }, decode: function decode(e) {\n    var t = \"\";var n = void 0,\n        r = void 0,\n        i = void 0;var s = void 0,\n        o = void 0,\n        u = void 0,\n        a = void 0;var f = 0;e = e.replace(/[^A-Za-z0-9+/=]/g, \"\");while (f < e.length) {\n      s = this._keyStr.indexOf(e.charAt(f++));o = this._keyStr.indexOf(e.charAt(f++));u = this._keyStr.indexOf(e.charAt(f++));a = this._keyStr.indexOf(e.charAt(f++));n = s << 2 | o >> 4;r = (o & 15) << 4 | u >> 2;i = (u & 3) << 6 | a;t = t + String.fromCharCode(n);if (u != 64) {\n        t = t + String.fromCharCode(r);\n      }if (a != 64) {\n        t = t + String.fromCharCode(i);\n      }\n    }t = Base64._utf8_decode(t);return t;\n  }, _utf8_encode: function _utf8_encode(e) {\n    e = e.replace(/rn/g, \"n\");var t = \"\";for (var n = 0; n < e.length; n++) {\n      var r = e.charCodeAt(n);if (r < 128) {\n        t += String.fromCharCode(r);\n      } else if (r > 127 && r < 2048) {\n        t += String.fromCharCode(r >> 6 | 192);t += String.fromCharCode(r & 63 | 128);\n      } else {\n        t += String.fromCharCode(r >> 12 | 224);t += String.fromCharCode(r >> 6 & 63 | 128);t += String.fromCharCode(r & 63 | 128);\n      }\n    }return t;\n  }, _utf8_decode: function _utf8_decode(e) {\n    var t = \"\";var n = 0;var r = c1 = c2 = 0;while (n < e.length) {\n      r = e.charCodeAt(n);if (r < 128) {\n        t += String.fromCharCode(r);n++;\n      } else if (r > 191 && r < 224) {\n        c2 = e.charCodeAt(n + 1);t += String.fromCharCode((r & 31) << 6 | c2 & 63);n += 2;\n      } else {\n        c2 = e.charCodeAt(n + 1);c3 = e.charCodeAt(n + 2);t += String.fromCharCode((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63);n += 3;\n      }\n    }return t;\n  } };\n\nvar _uid = 0;\n\nvar utils = {\n  getUniqueDomId: function getUniqueDomId() {\n    _uid += 1;\n    return _uid + '_' + Date.now();\n  },\n  uniqueId: function uniqueId() {\n    return utils.getUniqueDomId();\n  },\n  basemixin: function basemixin(destination, source) {\n    return utils.merge(destination.prototype, source);\n  },\n  mixin: function mixin(destination, source) {\n    var sourceInstance = new source();\n    utils.merge(destination, sourceInstance);\n    utils.merge(destination.prototype, source.prototype);\n  },\n  merge: function merge(destination, source) {\n    var key = void 0;\n    for (key in source) {\n      if (utils.hasOwn(source, key)) destination[key] = source[key];\n    }\n  },\n  hasOwn: function hasOwn(object, key) {\n    return Object.prototype.hasOwnProperty.call(object, key);\n  },\n\n  // google closure library impememtation\n  inherit: function inherit(childCtor, parentCtor) {\n    function tempCtor() {}\n    tempCtor.prototype = parentCtor.prototype;\n    childCtor.superClass_ = parentCtor.prototype;\n    childCtor.prototype = new tempCtor();\n    childCtor.prototype.constructor = childCtor;\n  },\n\n  // goole closure library implementation\n  base: function base(me, opt_methodName, var_args) {\n    // who call base\n    // noinspection JSAnnotator\n    var caller = arguments.callee.caller;\n    if (caller.superClass_) {\n      // This function constructor (that inherit from superClass_). Call the superclass constructor.\n      //It is a easy way to cal super class in binding to this\n      return caller.superClass_.constructor.apply(me, Array.prototype.slice.call(arguments, 1));\n    }\n    var args = Array.prototype.slice.call(arguments, 2);\n    var foundCaller = false;\n    //constructor is the constructor function of the object\n    for (var ctor = me.constructor; ctor; ctor = ctor.superClass_ && ctor.superClass_.constructor) {\n      if (ctor.prototype[opt_methodName] === caller) {\n        foundCaller = true;\n      } else if (foundCaller) {\n        return ctor.prototype[opt_methodName].apply(me, args);\n      }\n    }\n    // If we did not find the caller in the prototype chain,\n    // then one of two things happened:\n    // 1) The caller is an instance method.\n    // 2) This method was not called by the right caller.\n    if (me[opt_methodName] === caller) {\n      // call the function from prototype object\n      return me.constructor.prototype[opt_methodName].apply(me, args);\n    } else {\n      throw Error('base called from a method of one name ' + 'to a method of a different name');\n    }\n  },\n  noop: function noop() {},\n  truefnc: function truefnc() {\n    return true;\n  },\n  falsefnc: function falsefnc() {\n    return true;\n  },\n  resolve: function resolve(value) {\n    var d = $.Deferred();\n    d.resolve(value);\n    return d.promise();\n  },\n  reject: function reject(value) {\n    var d = $.Deferred();\n    d.reject(value);\n    return d.promise();\n  },\n  getValueFromG3WObjectEvent: function getValueFromG3WObjectEvent() {\n    //TODO\n  },\n  getAjaxResponses: function getAjaxResponses() {\n    var listRequests = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    var requestsLenght = listRequests.length;\n    var d = $.Deferred();\n    var DoneRespones = [];\n    var FailedResponses = [];\n    listRequests.forEach(function (request) {\n      request.then(function (response) {\n        DoneRespones.push(response);\n      }).fail(function (err) {\n        FailedResponses.push(err);\n      }).always(function () {\n        requestsLenght = requestsLenght > 0 ? requestsLenght - 1 : requestsLenght;\n        if (requestsLenght === 0) d.resolve({\n          done: DoneRespones,\n          fail: FailedResponses\n        });\n      });\n    });\n    return d.promise();\n  },\n\n  trimValue: function trimValue(value) {\n    return value.replace(/ /g, '');\n  },\n  /**\n   * Method to check if is a url\n   * @param url\n   * @returns {boolean}\n   */\n  isURL: function isURL(url) {\n    return url && url.match(/(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g);\n  },\n\n  sanitizeUrl: function sanitizeUrl() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref.url,\n        _ref$reserverParamete = _ref.reserverParameters,\n        reserverParameters = _ref$reserverParamete === undefined ? [] : _ref$reserverParamete;\n\n    var checkUrl = new URL(url);\n    reserverParameters.forEach(function (param) {\n      var _params = [param.toUpperCase(), param.toLowerCase()];\n      for (var i = 0; i < 2; i++) {\n        var _param = _params[i];\n        var _value = checkUrl.searchParams.get(_param);\n        if (_value) {\n          url = url.replace(_param + '=' + _value, '');\n          break;\n        }\n      }\n    });\n    return url;\n  },\n  convertObjectToUrlParams: function convertObjectToUrlParams() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return $.param(params);\n  },\n\n  // Appends query parameters to a URI\n  appendParams: function appendParams(uri, params) {\n    var keyParams = [];\n    // Skip any null or undefined parameter values\n    Object.keys(params).forEach(function (k) {\n      if (params[k] !== null && params[k] !== undefined) {\n        keyParams.push(k + '=' + encodeURIComponent(params[k]));\n      }\n    });\n    var qs = keyParams.join('&');\n    // remove any trailing ? or &\n    uri = uri.replace(/[?&]$/, '');\n    // append ? or & depending on whether uri has existing parameters\n    uri = uri.indexOf('?') === -1 ? uri + '?' : uri + '&';\n    return uri + qs;\n  },\n  imageToDataURL: function imageToDataURL(_ref2) {\n    var src = _ref2.src,\n        _ref2$type = _ref2.type,\n        type = _ref2$type === undefined ? 'image/jpeg' : _ref2$type,\n        _ref2$callback = _ref2.callback,\n        callback = _ref2$callback === undefined ? function () {} : _ref2$callback;\n\n    var image = new Image();\n    image.onload = function () {\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.height = this.naturalHeight;\n      canvas.width = this.naturalWidth;\n      context.drawImage(this, 0, 0);\n      var dataURL = canvas.toDataURL(type);\n      callback(dataURL);\n    };\n    image.src = src;\n  },\n  capitalize_first_letter: function capitalize_first_letter(string) {\n    return '' + string[0].toUpperCase() + string.slice(1);\n  },\n\n  Base64: Base64,\n  toRawType: function toRawType(value) {\n    var _toString = Object.prototype.toString;\n    return _toString.call(value).slice(8, -1);\n  },\n  isEmptyObject: function isEmptyObject(obj) {\n    return JSON.stringify(obj) === '{}';\n  },\n\n  // build throttle function\n  throttle: function throttle(fnc) {\n    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n\n    var lastCall = void 0;\n    return function () {\n      var previousCall = lastCall;\n      lastCall = Date.now();\n      if (previousCall === undefined // function is being called for the first time\n      || lastCall - previousCall > delay) {\n        // throttle time has elapsed\n        fnc.apply(undefined, arguments);\n      }\n    };\n  },\n\n  //build debounce function\n  debounce: function debounce(func) {\n    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n\n    var timeout = void 0;\n    return function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        func.apply(undefined, args);\n      }, delay);\n    };\n  },\n  getRandomColor: function getRandomColor() {\n    return '#' + ((1 << 24) * Math.random() | 0).toString(16);\n  },\n  copyUrl: function copyUrl(url) {\n    var tempinput = document.createElement('input');\n    document.body.appendChild(tempinput);\n    tempinput.value = url;\n    tempinput.select();\n    document.execCommand('copy');\n    document.body.removeChild(tempinput);\n  },\n  downloadFile: function downloadFile() {\n    var _this = this;\n\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        filename = _ref3.filename,\n        content = _ref3.content,\n        url = _ref3.url,\n        _ref3$mime_type = _ref3.mime_type,\n        mime_type = _ref3$mime_type === undefined ? 'text/plain' : _ref3$mime_type;\n\n    var download = function download(blob) {\n      var temapAncor = document.createElement('a');\n      temapAncor.setAttribute('href', window.URL.createObjectURL(blob));\n      temapAncor.setAttribute('download', filename);\n      temapAncor.dataset.downloadurl = [mime_type, temapAncor.download, temapAncor.href].join(':');\n      temapAncor.click();\n      temapAncor = null;\n    };\n    return new Promise(function (resolve, reject) {\n      if (content) {\n        var blob = new Blob([content], { type: mime_type });\n        download(blob);\n        resolve();\n      } else if (url) {\n        fetch(url).then(function () {\n          var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(response) {\n            var _ref5, message;\n\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    if (!(response.status === 200)) {\n                      _context.next = 6;\n                      break;\n                    }\n\n                    mime_type = mime_type || response.headers.get('content-type');\n                    filename = filename || response.headers.get('content-disposition').split('filename=').length ? response.headers.get('content-disposition').split('filename=')[1] : 'g3w_download_file';\n                    return _context.abrupt('return', response.blob());\n\n                  case 6:\n                    if (!(response.status === 400 || response.status === 500)) {\n                      _context.next = 12;\n                      break;\n                    }\n\n                    _context.next = 9;\n                    return response.json();\n\n                  case 9:\n                    _ref5 = _context.sent;\n                    message = _ref5.message;\n                    return _context.abrupt('return', Promise.reject(message));\n\n                  case 12:\n                  case 'end':\n                    return _context.stop();\n                }\n              }\n            }, _callee, _this);\n          }));\n\n          return function (_x7) {\n            return _ref4.apply(this, arguments);\n          };\n        }()).then(function (blob) {\n          download(blob);\n          resolve();\n        }).catch(function (error) {\n          reject(error);\n        });\n      }\n    });\n  },\n  downloadCSVLayerFeatures: function downloadCSVLayerFeatures() {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref6.layer,\n        _ref6$alias = _ref6.alias,\n        alias = _ref6$alias === undefined ? true : _ref6$alias;\n\n    var _require = require('core/utils/geo'),\n        getAlphanumericPropertiesFromFeature = _require.getAlphanumericPropertiesFromFeature;\n    //get headers\n\n\n    var attributes = Object.keys(layer.features[0].attributes);\n    var properties = getAlphanumericPropertiesFromFeature(attributes);\n    var headers = !alias ? properties : properties.map(function (property) {\n      var attribute = layer.attributes.find(function (attribute) {\n        return attribute.name === property;\n      });\n      return attribute ? attribute.label : property;\n    });\n    var items = layer.features.map(function (feature) {\n      var attributes = feature.attributes;\n      var item = {};\n      properties.forEach(function (property, index) {\n        var key = !alias && property || headers[index];\n        item[key] = attributes[property];\n      });\n      return item;\n    });\n\n    utils.downloadCSV({\n      filename: layer.id,\n      items: items\n    });\n  },\n  downloadCSV: function downloadCSV() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref7$filename = _ref7.filename,\n        filename = _ref7$filename === undefined ? utils.getUniqueDomId() : _ref7$filename,\n        _ref7$items = _ref7.items,\n        items = _ref7$items === undefined ? [] : _ref7$items;\n\n    function convertToCSV(items) {\n      var str = '';\n      for (var i = 0; i < items.length; i++) {\n        var line = '';\n        for (var index in items[i]) {\n          if (line !== '') line += ';';\n          line += items[i][index];\n        }\n        str += line + '\\r\\n';\n      }\n      return str;\n    }\n    var exportedFilenmae = filename + '.csv';\n    var csv = convertToCSV(items);\n    var blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n    if (navigator.msSaveBlob) {\n      // IE 10+\n      navigator.msSaveBlob(blob, exportedFilenmae);\n    } else {\n      var link = document.createElement(\"a\");\n      if (link.download !== undefined) {\n        // Browsers that support HTML5 download attribute\n        var url = URL.createObjectURL(blob);\n        link.setAttribute(\"href\", url);\n        link.setAttribute(\"download\", exportedFilenmae);\n        link.style.visibility = 'hidden';\n        link.click();\n      }\n    }\n  },\n\n  /**\n   * Method to set timeout\n   * @param timeout\n   * @param resolve\n   * @param data\n   * @returns {number}\n   */\n  getTimeoutPromise: function getTimeoutPromise(_ref8) {\n    var _ref8$timeout = _ref8.timeout,\n        timeout = _ref8$timeout === undefined ? _constant.TIMEOUT : _ref8$timeout,\n        resolve = _ref8.resolve,\n        data = _ref8.data;\n\n    var timeoutKey = setTimeout(function () {\n      resolve(data);\n    }, timeout);\n    return timeoutKey;\n  },\n\n  XHR: {\n    get: function get() {\n      var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref9.url,\n          _ref9$params = _ref9.params,\n          params = _ref9$params === undefined ? {} : _ref9$params;\n\n      return new Promise(function (resolve, reject) {\n        url ? $.get(url, params).then(function (response) {\n          resolve(response);\n        }).fail(function (error) {\n          return reject(error);\n        }) : reject('No url');\n      });\n    },\n    post: function post() {\n      var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref10.url,\n          data = _ref10.data,\n          _ref10$formdata = _ref10.formdata,\n          formdata = _ref10$formdata === undefined ? false : _ref10$formdata,\n          contentType = _ref10.contentType;\n\n      var getResponseStatusHeaders = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      return new Promise(function (resolve, reject) {\n        if (formdata) {\n          var _formdata = new FormData();\n          for (var param in data) {\n            _formdata.append(param, data[param]);\n          }\n          $.ajax({\n            type: 'POST',\n            url: url,\n            data: _formdata,\n            processData: false,\n            contentType: false\n          }).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        } else if (contentType) {\n          $.ajax({\n            type: 'POST',\n            url: url,\n            data: data,\n            processData: false,\n            contentType: contentType || false\n          }).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        } else {\n          $.post(url, data).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        }\n      });\n    },\n    htmlescape: function htmlescape(string) {\n      string = string.replace(\"&\", \"&amp;\");\n      string = string.replace(\"<\", \"&lt;\");\n      string = string.replace(\">\", \"&gt;\");\n      string = string.replace('\"', \"&quot;\");\n      return string;\n    },\n    fileDownload: function fileDownload() {\n      var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref11.url,\n          data = _ref11.data,\n          _ref11$httpMethod = _ref11.httpMethod,\n          httpMethod = _ref11$httpMethod === undefined ? \"POST\" : _ref11$httpMethod;\n\n      var timeoutId = void 0;\n      return new Promise(function (resolve, reject) {\n        var downloadPromise = $.fileDownload(url, {\n          httpMethod: httpMethod,\n          data: data\n        });\n        timeoutId = setTimeout(function () {\n          reject('Timeout');\n          downloadPromise.abort();\n        }, _constant.TIMEOUT);\n        downloadPromise.done(function () {\n          return resolve();\n        }).fail(function () {\n          return reject();\n        }).always(function () {\n          clearTimeout(timeoutId);\n        });\n      });\n    }\n  },\n  createSingleFieldParameter: function createSingleFieldParameter(_ref12) {\n    var field = _ref12.field,\n        value = _ref12.value,\n        _ref12$operator = _ref12.operator,\n        operator = _ref12$operator === undefined ? 'eq' : _ref12$operator,\n        _ref12$logicop = _ref12.logicop,\n        logicop = _ref12$logicop === undefined ? null : _ref12$logicop,\n        _ref12$search_endpoin = _ref12.search_endpoint,\n        search_endpoint = _ref12$search_endpoin === undefined ? \"api\" : _ref12$search_endpoin;\n\n    if (search_endpoint === 'api') {\n      logicop = logicop && '|' + logicop;\n      if (Array.isArray(value)) {\n        var filter = '';\n        var valueLenght = value.length;\n        value.forEach(function (value, index) {\n          filter += field + '|' + operator + '|' + encodeURIComponent(value) + (index < valueLenght - 1 ? logicop + ',' : '');\n        });\n        return filter;\n      } else return field + '|' + operator.toLowerCase() + '|' + encodeURIComponent(value) + (logicop || '');\n    } else {\n      if (Array.isArray(value)) {\n        var _filter = '';\n        var _valueLenght = value.length;\n        value.forEach(function (value, index) {\n          _filter += '\"' + field + '\" ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' \\'' + encodeURIComponent(value) + '\\' ' + (index < _valueLenght - 1 ? logicop + ' ' : '');\n        });\n        return _filter;\n      } else return '\"' + field + '\" ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' \\'' + encodeURIComponent(value) + '\\'';\n    }\n  },\n  createFilterFromString: function createFilterFromString(_ref13) {\n    var layer = _ref13.layer,\n        _ref13$search_endpoin = _ref13.search_endpoint,\n        search_endpoint = _ref13$search_endpoin === undefined ? 'ows' : _ref13$search_endpoin,\n        _ref13$filter = _ref13.filter,\n        filter = _ref13$filter === undefined ? '' : _ref13$filter;\n\n    var stringFilter = filter;\n    switch (search_endpoint) {\n      case 'ows':\n        var layerName = layer.getWMSLayerName();\n        var expression = new Expression({\n          layerName: layerName,\n          filter: stringFilter\n        });\n        filter = new Filter();\n        filter.setExpression(expression.get());\n        break;\n      case 'api':\n        //remove all blank space between operators\n        Object.values(_constant.FILTER_EXPRESSION_OPERATORS).forEach(function (operator) {\n          var regexoperator = new RegExp('\\\\s+' + operator + '\\\\s+', 'g');\n          stringFilter = stringFilter.replace(regexoperator, '' + operator);\n          var regexsinglequote = new RegExp('\\'' + operator, 'g');\n          stringFilter = stringFilter.replace(regexsinglequote, '' + operator);\n          regexsinglequote = new RegExp(operator + '\\'', 'g');\n          stringFilter = stringFilter.replace(regexsinglequote, '' + operator);\n        });\n        stringFilter = stringFilter.replace(/'$/g, '');\n        filter = stringFilter.replace(/\"/g, '');\n        Object.entries(_constant.FILTER_EXPRESSION_OPERATORS).forEach(function (_ref14) {\n          var _ref15 = _slicedToArray(_ref14, 2),\n              key = _ref15[0],\n              value = _ref15[1];\n\n          var re = new RegExp(value, \"g\");\n          var replaceValue = value === 'AND' || value === 'OR' ? '|' + key + ',' : '|' + key + '|';\n          filter = filter.replace(re, replaceValue);\n        });\n        //encode value\n        filter = filter.split('|').map(function (value, index) {\n          return (index + 1) % 3 === 0 ? encodeURIComponent(value) : value;\n        }).join('|');\n        break;\n    }\n    return filter;\n  },\n\n  /**\n   *\n   * @param layer single layer or an array of layers\n   * @param search_endpoint\n   * @param inputs\n   * @returns {*}\n   */\n  createFilterFormInputs: function createFilterFormInputs(_ref16) {\n    var layer = _ref16.layer,\n        _ref16$search_endpoin = _ref16.search_endpoint,\n        search_endpoint = _ref16$search_endpoin === undefined ? 'ows' : _ref16$search_endpoin,\n        _ref16$inputs = _ref16.inputs,\n        inputs = _ref16$inputs === undefined ? [] : _ref16$inputs;\n\n    var isLayerArray = Array.isArray(layer);\n    var filter = void 0;\n    var filters = []; // in case of layer is an array\n    switch (search_endpoint) {\n      case 'ows':\n        if (isLayerArray) {\n          layer.forEach(function (layer) {\n            var expression = new Expression();\n            var layerName = layer.getWMSLayerName();\n            expression.createExpressionFromFilter(inputs, layerName);\n            filter = new Filter();\n            filter.setExpression(expression.get());\n            filters.push(filter);\n          });\n        } else {\n          var expression = new Expression();\n          var layerName = layer.getWMSLayerName();\n          expression.createExpressionFromFilter(inputs, layerName);\n          filter = new Filter();\n          filter.setExpression(expression.get());\n        }\n        break;\n      case 'api':\n        var inputsLength = inputs.length - 1;\n        var fields = inputs.map(function (input, index) {\n          return utils.createSingleFieldParameter({\n            field: input.attribute,\n            value: input.value,\n            operator: input.operator,\n            logicop: index < inputsLength ? input.logicop : null\n          });\n        });\n        filter = fields.length ? fields.join() : undefined;\n        isLayerArray && layer.forEach(function () {\n          return filters.push(filter);\n        });\n        break;\n    }\n    return isLayerArray ? filters : filter;\n  },\n\n  //method to create filter from field based on search_endpoint\n  createFilterFormField: function createFilterFormField(_ref17) {\n    var layer = _ref17.layer,\n        _ref17$search_endpoin = _ref17.search_endpoint,\n        search_endpoint = _ref17$search_endpoin === undefined ? 'ows' : _ref17$search_endpoin,\n        field = _ref17.field,\n        value = _ref17.value,\n        _ref17$operator = _ref17.operator,\n        operator = _ref17$operator === undefined ? 'eq' : _ref17$operator;\n\n    var filter = void 0;\n    switch (search_endpoint) {\n      case 'ows':\n        var expression = new Expression();\n        var layerName = layer.getWMSLayerName();\n        expression.createExpressionFromField({\n          layerName: layerName,\n          field: field,\n          value: value,\n          operator: operator\n        });\n        filter = new Filter();\n        filter.setExpression(expression.get());\n        break;\n      case 'api':\n        filter = utils.createSingleFieldParameter({\n          field: field,\n          value: value,\n          operator: operator\n        });\n        break;\n    }\n    return filter;\n  },\n  splitContextAndMethod: function splitContextAndMethod() {\n    var string = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n    var _string$split = string.split(':'),\n        _string$split2 = _slicedToArray(_string$split, 2),\n        context = _string$split2[0],\n        method = _string$split2[1];\n\n    return {\n      context: context,\n      method: method\n    };\n  },\n\n\n  /**\n   * Convert Hex value color to RGB array\n   * @param color\n   * @returns {number[]}\n   */\n  colorHEXToRGB: function colorHEXToRGB() {\n    var color = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '#FFFFFF';\n\n    var r = parseInt(color.substr(1, 2), 16);\n    var g = parseInt(color.substr(3, 2), 16);\n    var b = parseInt(color.substr(5, 2), 16);\n    return [r, g, b];\n  },\n\n  /**\n   * Covert datetime format from Qgis format to Moment\n   * @param datetimeformat\n   * @returns {*}\n   */\n  convertQGISDateTimeFormatToMoment: function convertQGISDateTimeFormatToMoment(datetimeformat) {\n    datetimeformat = datetimeformat.replace(/y/g, 'Y');\n    var matchDayInDate = datetimeformat.match(/d/g);\n    if (matchDayInDate && matchDayInDate.length < 3) datetimeformat = datetimeformat.replace(/d/g, 'D');\n    return datetimeformat;\n  }\n};\n\nmodule.exports = utils;\n\n},{\"app/constant\":4,\"core/layers/filter/expression\":29,\"core/layers/filter/filter\":30,\"core/utils/geo\":64}],68:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    truefnc = _require.truefnc;\n\nvar InputValidators = {\n  validators: {\n    float: function float() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var float = Number(1 * value);\n        return !Number.isNaN(float);\n      };\n    },\n    integer: function integer() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var integer = 1 * value;\n        return !_.isNaN(integer) ? Number.isSafeInteger(integer) && integer <= 2147483647 : false;\n      };\n    },\n    checkbox: function checkbox() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var values = this.options.values || [];\n        return values.indexOf(value) !== -1;\n      };\n    },\n    datetimepicker: function datetimepicker() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value, options) {\n        var fielddatetimeformat = options.fielddatetimeformat;\n        return moment(value, fielddatetimeformat, true).isValid();\n      };\n    },\n    text: function text() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    string: function string() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    radio: function radio() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    default: function _default() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    range: function range() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var min = options.min,\n          max = options.max;\n\n      this.validate = function (value) {\n        value = 1 * value;\n        return value >= min && value <= max;\n      };\n    }\n  },\n\n  get: function get(type) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var Validator = this.validators[type] || this.validators.default;\n    return new Validator(options);\n  }\n};\n\nmodule.exports = InputValidators;\n\n},{\"core/utils/utils\":67}],69:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Queque = require('core/workflow/queque');\n\n//Class Flow of workflow step by step\nfunction Flow() {\n  var steps = [];\n  var inputs = void 0;\n  var counter = 0;\n  var context = null;\n  var d = void 0;\n  var _workflow = void 0;\n  this.queques = {\n    end: new Queque(),\n    micro: new Queque()\n  };\n  //start workflow\n  this.start = function (workflow) {\n    d = $.Deferred();\n    if (counter > 0) {\n      console.log(\"reset workflow before restarting\");\n    }\n    _workflow = workflow;\n    inputs = workflow.getInputs();\n    context = workflow.getContext();\n    steps = workflow.getSteps();\n    // check if there are steps\n    if (steps && steps.length) {\n      //run step (first)\n      this.runStep(steps[0], inputs, context);\n    }\n    // return a promise that will be reolved if all step go right\n    return d.promise();\n  };\n\n  //run step\n  this.runStep = function (step, inputs) {\n    var _this = this;\n\n    //run step that run task\n    _workflow.setMessages({\n      help: step.state.help\n    });\n    var runMicroTasks = this.queques.micro.getLength();\n    step.run(inputs, context, this.queques).then(function (outputs) {\n      runMicroTasks && _this.queques.micro.run();\n      _this.onDone(outputs);\n    }).fail(function (error) {\n      return _this.onError(error);\n    });\n  };\n\n  //check if all step are resolved\n  this.onDone = function (outputs) {\n    counter++;\n    if (counter === steps.length) {\n      counter = 0;\n      d.resolve(outputs);\n      return;\n    }\n    this.runStep(steps[counter], outputs);\n  };\n\n  // in case of error\n  this.onError = function (err) {\n    counter = 0;\n    this.clearQueques();\n    d.reject(err);\n  };\n\n  // stop flow\n  this.stop = function () {\n    var d = $.Deferred();\n    steps[counter].isRunning() ? steps[counter].stop() : null;\n    this.clearQueques();\n    if (counter > 0) {\n      // set counter to 0\n      counter = 0;\n      // reject flow\n      d.reject();\n    } else {\n      //reject to force rollback session\n      d.resolve();\n    }\n    return d.promise();\n  };\n  base(this);\n}\n\ninherit(Flow, G3WObject);\n\nvar proto = Flow.prototype;\n\nproto.clearQueques = function () {\n  this.queques.micro.clear();\n  this.queques.end.clear();\n};\n\nmodule.exports = Flow;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"core/workflow/queque\":70}],70:[function(require,module,exports){\nfunction Queque() {\n  this.tasks = [];\n}\n\nvar proto = Queque.prototype;\n\nproto.addTask = function (task) {\n  this.tasks.push(task);\n};\n\nproto.run = function () {\n  var reverse = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  while (this.tasks.length) {\n    var task = reverse ? this.tasks.pop() : this.tasks.shift();\n    task();\n  }\n};\n\nproto.flush = function () {\n  return this.tasks.splice(0);\n};\n\nproto.getLength = function () {\n  return this.tasks.length;\n};\n\nproto.clear = function () {\n  this.run();\n  this.tasks = [];\n};\n\nmodule.exports = Queque;\n\n},{}],71:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Step() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var _options$inputs = options.inputs,\n      inputs = _options$inputs === undefined ? null : _options$inputs,\n      _options$context = options.context,\n      context = _options$context === undefined ? null : _options$context,\n      _options$task = options.task,\n      task = _options$task === undefined ? null : _options$task,\n      _options$outputs = options.outputs,\n      outputs = _options$outputs === undefined ? null : _options$outputs,\n      escKeyPressEventHandler = options.escKeyPressEventHandler;\n\n  this._inputs = inputs;\n  this._context = context;\n  this._task = task;\n  this._outputs = outputs;\n  //dynamic state of step\n  this.state = {\n    id: options.id || null,\n    name: options.name || null,\n    help: options.help || null, // help to show wat the user has to do\n    running: false, // running\n    error: null, // error\n    message: options.message || null // message\n  };\n  escKeyPressEventHandler && this.registerEscKeyEvent(escKeyPressEventHandler);\n}\n\ninherit(Step, G3WObject);\n\nvar proto = Step.prototype;\n\n//bind interrupt event on keys escape pressed\n\nproto.escKeyUpHandler = function (evt) {\n  var _evt$data = evt.data,\n      task = _evt$data.task,\n      callback = _evt$data.callback;\n\n  if (evt.key === 'Escape') callback({\n    task: task\n  });\n};\n\nproto.unbindEscKeyUp = function () {\n  $(document).unbind('keyup', this.escKeyUpHandler);\n};\n\nproto.bindEscKeyUp = function () {\n  var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n  $(document).on('keyup', {\n    callback: callback,\n    task: this.getTask()\n  }, this.escKeyUpHandler);\n};\n\nproto.registerEscKeyEvent = function (callback) {\n  var _this = this;\n\n  this.on('run', function () {\n    return _this.bindEscKeyUp(callback);\n  });\n  this.on('stop', function () {\n    return _this.unbindEscKeyUp();\n  });\n};\n\n// End of handle key esc pressed\n\n// method to start task\nproto.run = function (inputs, context, queques) {\n  var _this2 = this;\n\n  //emit run\n  this.emit('run', {\n    inputs: inputs,\n    context: context\n  });\n  var d = $.Deferred();\n  if (this._task) {\n    try {\n      // change state to running\n      this.state.running = true;\n      this._task.setInputs(inputs);\n      this._task.setContext(context);\n      this._task.run(inputs, context, queques).then(function (outputs) {\n        _this2.stop();\n        d.resolve(outputs);\n      }).fail(function (err) {\n        _this2.stop();\n        d.reject(err);\n      });\n    } catch (err) {\n      console.log(err);\n      this.state.error = err;\n      this.state.error = 'Problem ..';\n      this.stop();\n      d.reject(err);\n    }\n  }\n  return d.promise();\n};\n\n// stop step\nproto.stop = function () {\n  // stop task\n  this._task.stop(this._inputs, this._context);\n  //emit run\n  // running to false\n  this.state.running = false;\n  this.emit('stop');\n  this._task.setInputs(null);\n  this._task.setContext(null);\n};\n\n// revert task\nproto.revert = function () {\n  if (this._task && this._task.revert) this._task.revert();\n};\n\n//panic\nproto.panic = function () {\n  if (this._task && this._task.panic) this._task.panic();\n};\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.getHelp = function () {\n  return this.state.help;\n};\n\nproto.getError = function () {\n  return this.state.error;\n};\n\nproto.getMessage = function () {\n  return this.state.message;\n};\n\nproto.isRunning = function () {\n  return this.state.running;\n};\n\nproto.setInputs = function (inputs) {\n  this._inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this._inputs;\n};\n\nproto.setTask = function (task) {\n  this._task = task;\n};\n\nproto.getTask = function () {\n  return this._task;\n};\n\nproto.setOutputs = function (outputs) {\n  this._outputs = outputs;\n};\n\nproto.getOutputs = function () {\n  return this._outputs;\n};\n\nStep.MESSAGES = {\n  help: null\n};\n\nmodule.exports = Step;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],72:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Task() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.state = {\n    usermessagesteps: {}\n  };\n}\n\ninherit(Task, G3WObject);\n\nvar proto = Task.prototype;\n\n/**\n * Set and get task usefult properties used to run\n */\n\nproto.setInputs = function (inputs) {\n  this.inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this.inputs;\n};\n\nproto.setContext = function (context) {\n  return this.context = context;\n};\n\nproto.getContext = function () {\n  return this.context;\n};\n\nproto.revert = function () {\n  console.log('Revert to implemente ');\n};\n\nproto.panic = function () {\n  console.log('Panic to implement ..');\n};\n\nproto.stop = function () {\n  console.log('Task Stop to implement ..');\n};\n\nproto.run = function () {\n  console.log('Wrong. This method has to be overwrite from task');\n};\n\nproto.setRoot = function (task) {\n  this.state.root = task;\n};\n\nproto.getUserMessageSteps = function () {\n  return this.state.usermessagesteps;\n};\n\nproto.setUserMessageSteps = function () {\n  var steps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state.usermessagesteps = steps;\n};\n\nproto.setUserMessageStepDone = function (type) {\n  if (type) this.state.usermessagesteps[type].done = true;\n};\n\nmodule.exports = Task;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],73:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _workflows = require('services/workflows');\n\nvar _workflows2 = _interopRequireDefault(_workflows);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    resolve = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\nvar Flow = require('core/workflow/flow');\n\nvar _require2 = require('core/workflow/step'),\n    MESSAGES = _require2.MESSAGES;\n\nvar createUserMessageStepsFactory = require('gui/workflow/createUserMessageStepsFactory');\n\n//Class to manage flow of steps\nfunction Workflow() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$inputs = options.inputs,\n      inputs = _options$inputs === undefined ? null : _options$inputs,\n      _options$context = options.context,\n      context = _options$context === undefined ? null : _options$context,\n      _options$flow = options.flow,\n      flow = _options$flow === undefined ? new Flow() : _options$flow,\n      _options$steps = options.steps,\n      steps = _options$steps === undefined ? [] : _options$steps,\n      _options$runOnce = options.runOnce,\n      runOnce = _options$runOnce === undefined ? false : _options$runOnce;\n\n  base(this);\n  this._promise = null;\n  // inputs mandatory to work with editing\n  this._inputs = inputs;\n  this._context = context;\n  // flow object to control the flow\n  this._flow = flow;\n  // all steps of flow\n  this._steps = steps;\n  // if is child of another workflow\n  this._child = null;\n  // stack workflowindex\n  this._stackIndex = null;\n  // stop when flow stop\n  this.runOnce = runOnce;\n  this._messages = MESSAGES;\n  this._userMessageSteps = this._steps.reduce(function (messagesSteps, step) {\n    var usermessagesteps = step.getTask().getUserMessageSteps();\n    return usermessagesteps && _extends({}, messagesSteps, usermessagesteps) || messagesSteps;\n  }, {});\n}\n\ninherit(Workflow, G3WObject);\n\nvar proto = Workflow.prototype;\n\nproto.getContextService = function () {\n  var context = this.getContext();\n  return context.service;\n};\n\nproto.setContextService = function (service) {\n  var context = this.getContext();\n  context.service = service;\n};\n\nproto.getStackIndex = function () {\n  return this._stackIndex;\n};\n\nproto.addChild = function (workflow) {\n  if (this._child) this._child.addChild(workflow);else this._child = workflow;\n};\n\nproto.removeChild = function () {\n  if (this._child) {\n    var index = this._child.getStackIndex();\n    _workflows2.default.removeAt(index);\n  }\n  this._child = null;\n};\n\nproto.setInput = function (_ref) {\n  var key = _ref.key,\n      value = _ref.value;\n\n  this._inputs[key] = value;\n};\n\n/**\n * maybe unused method. Remove\n * @param inputs\n * @private\n */\nproto._setInputs = function (inputs) {\n  this._inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this._inputs;\n};\n\nproto.setContext = function (context) {\n  this._context = context;\n};\n\nproto.getContext = function () {\n  return this._context;\n};\n\nproto.getFlow = function () {\n  return this._flow;\n};\n\nproto.setFlow = function (flow) {\n  this._flow = flow;\n};\n\nproto.addStep = function (step) {\n  this._steps.push(step);\n};\n\nproto.setSteps = function (steps) {\n  this._steps = steps;\n};\n\nproto.getSteps = function () {\n  return this._steps;\n};\n\nproto.getStep = function (index) {\n  return this._steps[index];\n};\n\nproto.setMessages = function (messages) {\n  Object.assign(this._messages, messages);\n};\n\nproto.getMessages = function () {\n  return this._messages;\n};\n\nproto.clearMessages = function () {\n  this._messages.help = null;\n  this._isThereUserMessaggeSteps() && this.clearUserMessagesSteps();\n};\n\nproto.getLastStep = function () {\n  var length = this._steps.length;\n  return length ? this._steps[length - 1] : null;\n};\n\nproto.getRunningStep = function () {\n  return this._steps.find(function (step) {\n    return step.isRunning();\n  });\n};\n\n//stop all workflow children\nproto._stopChild = function () {\n  return this._child ? this._child.stop() : resolve();\n};\n\nproto._isThereUserMessaggeSteps = function () {\n  return Object.keys(this._userMessageSteps).length;\n};\n\nproto.reject = function () {\n  this._promise && this._promise.reject();\n};\n\nproto.resolve = function () {\n  this._promise && this._promise.resolve();\n};\n\n// start workflow\nproto.start = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this._promise = d;\n  this._inputs = options.inputs;\n  this._context = options.context || {};\n  var isChild = this._context.isChild || false;\n  //check if are workflow running and if need to stop child\n  if (_workflows2.default.getLength() && _workflows2.default.getCurrent() !== this) {\n    !isChild && _workflows2.default.getCurrent().addChild(this);\n  }\n  this._stackIndex = _workflows2.default.push(this);\n  this._flow = options.flow || this._flow;\n  this._steps = options.steps || this._steps;\n  var showUserMessage = this._isThereUserMessaggeSteps();\n  if (showUserMessage) {\n    var stepsComponent = createUserMessageStepsFactory({\n      steps: this._userMessageSteps\n    });\n    _gui2.default.showUserMessage({\n      title: 'sdk.workflow.steps.title',\n      type: 'tool',\n      position: 'left',\n      size: 'small',\n      closable: false,\n      hooks: {\n        body: stepsComponent\n      }\n    });\n  }\n\n  this._flow.start(this).then(function (outputs) {\n    showUserMessage && setTimeout(function () {\n      _this.clearUserMessagesSteps();\n      d.resolve(outputs);\n    }, 500) || d.resolve(outputs);\n  }).fail(function (error) {\n    showUserMessage && _this.clearUserMessagesSteps();\n    d.reject(error);\n  }).always(function () {\n    _this.runOnce && _this.stop();\n  });\n  this.emit('start');\n  return d.promise();\n};\n\n// stop workflow during flow\nproto.stop = function () {\n  var _this2 = this;\n\n  this._promise = null;\n  var d = $.Deferred();\n  // stop child workflow\n  this._stopChild()\n  // in every case remove child\n  .always(function () {\n    _this2.removeChild();\n    _workflows2.default.removeAt(_this2.getStackIndex());\n    // call stop flow\n    _this2._flow.stop().then(function () {\n      return d.resolve();\n    }).fail(function (err) {\n      return d.reject(err);\n    }).always(function () {\n      return _this2.clearMessages();\n    });\n  });\n  this.emit('stop');\n  return d.promise();\n};\n\nproto.clearUserMessagesSteps = function () {\n  this._resetUserMessaggeStepsDone();\n  _gui2.default.closeUserMessage();\n};\n\nproto._resetUserMessaggeStepsDone = function () {\n  var _this3 = this;\n\n  Object.keys(this._userMessageSteps).forEach(function (type) {\n    var userMessageSteps = _this3._userMessageSteps[type];\n    userMessageSteps.done = false;\n    if (userMessageSteps.buttonnext) userMessageSteps.buttonnext.disabled = true;\n  });\n};\n\nmodule.exports = Workflow;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"core/workflow/flow\":69,\"core/workflow/step\":71,\"gui/workflow/createUserMessageStepsFactory\":193,\"services/gui\":360,\"services/workflows\":371}],74:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n//SPATIAL METHODS USED TO FIND FEATURES\nvar SPATIALMETHODS = exports.SPATIALMETHODS = ['intersects', 'within'];\n\n/**\n * MAIN VUE INSTANCE USED TO WATCH OBJECT CHANGES OR TO EMIT EVENTS\n * \n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nvar VM = exports.VM = new Vue();\n\n},{}],75:[function(require,module,exports){\nvar Control = require('g3w-ol/controls/control');\n\nfunction AddLayersControl() {\n  var options = {\n    name: \"addlayer\",\n    tipLabel: \"sdk.mapcontrols.addlayer.tooltip\",\n    label: \"\\uE907\"\n  };\n  Control.call(this, options);\n  this._layerstore = null;\n}\n\nol.inherits(AddLayersControl, Control);\n\nvar proto = AddLayersControl.prototype;\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  Control.prototype.setMap.call(this, map);\n  $(this.element).on('click', function () {\n    return _this.dispatchEvent('addlayer');\n  });\n};\n\nproto.layout = function (map) {\n  Control.prototype.layout.call(this, map);\n};\n\nproto.getLayersSore = function () {\n  return this._layerstore;\n};\n\nproto.setLayersStore = function (layersStore) {\n  this._layerstore = layersStore;\n};\n\nmodule.exports = AddLayersControl;\n\n},{\"g3w-ol/controls/control\":78}],76:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar AreaIteraction = require('g3w-ol/interactions/areainteraction');\nvar MeasureControl = require('g3w-ol/controls/measurecontrol');\n\nvar AreaControl = function AreaControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    tipLabel: \"sdk.mapcontrols.measures.area.tooltip\",\n    label: '\\uE909',\n    clickmap: true, // set ClickMap\n    interactionClass: AreaIteraction\n  };\n  options = utils.merge(options, _options);\n  MeasureControl.call(this, options);\n};\n\nol.inherits(AreaControl, MeasureControl);\n\nmodule.exports = AreaControl;\n\n},{\"core/utils/ol\":65,\"g3w-ol/controls/measurecontrol\":84,\"g3w-ol/interactions/areainteraction\":100}],77:[function(require,module,exports){\nvar _constants = require('g3w-ol/constants');\n\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol'); /**\n                                                                         * @file\n                                                                         * @since v3.8\n                                                                         */\n\nvar _require = require('core/utils/ol'),\n    merge = _require.merge;\n\nvar _require2 = require('core/utils/geo'),\n    Geometry = _require2.Geometry;\n\nvar VALIDGEOMETRIES = Geometry.getAllPolygonGeometryTypes();\n\nvar BaseQueryPolygonControl = function BaseQueryPolygonControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options = options,\n      _options$spatialMetho = _options.spatialMethod,\n      spatialMethod = _options$spatialMetho === undefined ? _constants.SPATIALMETHODS[0] : _options$spatialMetho,\n      onSelectlayer = _options.onSelectlayer,\n      interactionClass = _options.interactionClass;\n\n\n  var default_options = {\n    offline: false,\n    // update selected layer\n    onSelectlayer: onSelectlayer,\n    clickmap: true, // set ClickMap\n    interactionClass: interactionClass,\n    spatialMethod: spatialMethod,\n    toggledTool: {\n      type: 'spatialMethod',\n      how: 'toggled' // or hover\n    },\n    onhover: true\n  };\n\n  options = merge(options, default_options);\n\n  options.geometryTypes = VALIDGEOMETRIES;\n\n  InteractionControl.call(this, options);\n};\n\nol.inherits(BaseQueryPolygonControl, InteractionControl);\n\nmodule.exports = BaseQueryPolygonControl;\n\n},{\"core/utils/geo\":64,\"core/utils/ol\":65,\"g3w-ol/constants\":74,\"g3w-ol/controls/interactioncontrol\":82}],78:[function(require,module,exports){\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('g3w-ol/controls/utils'),\n    layout = _require.layout;\n\nvar Control = function Control() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$name = options.name,\n      name = _options$name === undefined ? \"\" : _options$name,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$enabled = options.enabled,\n      enabled = _options$enabled === undefined ? false : _options$enabled;\n\n  this._enabled = enabled;\n  this.offline = options.offline !== undefined ? options.offline : true;\n  this.name = name.split(' ').join('-').toLowerCase();\n  this.id = this.name + '_' + Math.floor(Math.random() * 1000000);\n  this.eventKeys = {}; // store eventKey and original havenHandler\n  /*\n    tl: top-left\n    tr: top-right\n    bl: bottom-left\n    bt: bottom-right\n   */\n  this.positionCode = options.position || 'tl';\n  this.priority = options.priority || 0;\n  if (!options.element) {\n    var className = \"ol-\" + this.name.split(' ').join('-').toLowerCase();\n    var customClass = options.customClass;\n    var tipLabel = options.tipLabel || this.name;\n    var label = options.label || '';\n    var mapControlButtonVue = Vue.extend({\n      functional: true,\n      render: function render(h) {\n        var _class;\n\n        return h('div', {\n          class: (_class = {}, _defineProperty(_class, className, !!className), _defineProperty(_class, 'ol-unselectable', true), _defineProperty(_class, 'ol-control', true), _class)\n        }, [h('button', {\n          attrs: {\n            type: 'button'\n          },\n          directives: [{\n            name: 't-tooltip',\n            value: tipLabel\n          }]\n        }, [label, h('i', {\n          class: _defineProperty({}, customClass, !!customClass)\n        })])]);\n      }\n    });\n    var mapControlButtonDOMElement = new mapControlButtonVue().$mount().$el;\n    options.element = mapControlButtonDOMElement;\n  }\n  var buttonClickHandler = options.buttonClickHandler || Control.prototype._handleClick.bind(this);\n  $(options.element).on('click', buttonClickHandler);\n  ol.control.Control.call(this, options);\n  this.setVisible(visible);\n  this._postRender();\n};\n\nol.inherits(Control, ol.control.Control);\n\nvar proto = Control.prototype;\n\n//return if clickmap\nproto.isClickMap = function () {\n  return this.clickmap;\n};\n\nproto.isToggled = function () {\n  return this._toggled;\n};\n\nproto.setEventKey = function (_ref) {\n  var eventType = _ref.eventType,\n      eventKey = _ref.eventKey;\n\n  this.eventKeys[eventType] = {\n    eventKey: eventKey,\n    originalHandler: eventKey.listener\n  };\n};\n\n/**\n * Reset original handler method of control event.\n * \n * @param {string} eventType\n */\nproto.resetOriginalHandlerEvent = function (eventType) {\n  if (this.eventKeys[eventType] && this.eventKeys[eventType].eventKey) {\n    ol.Observable.unByKey(this.eventKeys[eventType].eventKey);\n    this.eventKeys[eventType].eventKey = this.on(eventType, this.eventKeys[eventType].originalHandler);\n  }\n};\n\n/**\n * Override original handler method of control event.\n * \n * @param {string} eventType\n * @param {() => {}} handler\n */\nproto.overwriteEventHandler = function (_ref2) {\n  var eventType = _ref2.eventType,\n      handler = _ref2.handler;\n\n  if (this.eventKeys[eventType] && this.eventKeys[eventType].eventKey) {\n    ol.Observable.unByKey(this.eventKeys[eventType].eventKey);\n    this.eventKeys[eventType].eventKey = this.on(eventType, handler);\n  }\n};\n\nproto.getPosition = function (positionCode) {\n  positionCode = positionCode || this.positionCode;\n  var position = {};\n  position['top'] = positionCode.indexOf('t') > -1 ? true : false;\n  position['left'] = positionCode.indexOf('l') > -1 ? true : false;\n  position['bottom'] = positionCode.indexOf('b') > -1 ? true : false;\n  position['right'] = positionCode.indexOf('r') > -1 ? true : false;\n  return position;\n};\n\n/**\n * Method to handle toggle map controls\n * @param event\n */\nproto._handleClick = function (event) {\n  var _this = this;\n\n  event.preventDefault();\n  var map = this.getMap();\n  var resetControl = null;\n  // remove all the other, eventually toggled, interactioncontrols\n  var controls = map.getControls();\n  this._toggled && controls.forEach(function (control) {\n    if (control.id && control.toggle && control.id !== _this.id) {\n      control.toggle(false);\n      if (control.name === 'reset') resetControl = control;\n    }\n  });\n  if (!this._toggled && resetControl) resetControl.toggle(true);\n  this.dispatchEvent('controlclick');\n};\n\n//shift of control position\nproto.shiftPosition = function (position) {\n  $(this.element).css(hWhere, position + 'px');\n};\n\n// layout handler\nproto.layout = function (map) {\n  if (map) {\n    var position = this.getPosition();\n    var element = $(this.element);\n    layout({ map: map, position: position, element: element });\n  }\n};\n\n// change layout of controls // overwrite to customize beahviour\nproto.changelayout = function (map) {};\n\n//called when a control is added ore removed to map (added: map is an ol.Map instance , removed map is null)\nproto.setMap = function (map) {\n  if (map) {\n    this.layout(map);\n    ol.control.Control.prototype.setMap.call(this, map);\n  }\n};\n/**\n *\n */\nproto.showControl = function () {\n  $(this.element).show();\n};\n\n//hide control and move all controls that sit on his right position\nproto.hideControl = function () {\n  var position = $(this.element).position().left;\n  var controlWidth = $(this.element).outerWidth();\n  var newPosition = position;\n  var controls = $(this.element).siblings('.ol-control-tl');\n  controls.each(function () {\n    if ($(this).position().left > position) {\n      newPosition = $(this).position().left;\n      if (controlWidth > $(this).outerWidth()) {\n        position = position + (controlWidth - $(this).outerWidth());\n      }\n      $(this).css('left', position + 'px');\n      position = newPosition;\n      controlWidth = $(this).outerWidth();\n    }\n  });\n  $(this.element).hide();\n};\n\n/**\n * Toggle pointer events and `g3w-ol-disabled` class on map control button\n * \n * @param {boolean} enabled wheter the map control button is clickable\n */\nproto.setEnable = function (enabled) {\n  $(this.element).find('button').first().toggleClass('g3w-ol-disabled', !enabled);\n  if (!enabled && this._interaction) {\n    this._interaction.setActive(false);\n  }\n  this._enabled = enabled;\n};\n\nproto.getEnable = function () {\n  return this._enabled;\n};\n\nproto.setVisible = function () {\n  var visible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this._visible = visible;\n  $(this.element)[visible ? 'show' : 'hide']();\n};\n\nproto.isVisible = function () {\n  return this._visible;\n};\n\nproto._postRender = function () {};\n\nmodule.exports = Control;\n\n},{\"g3w-ol/controls/utils\":96}],79:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Control = require('./control');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType,\n    XHR = _require.XHR;\n\nvar Projections = require('g3w-ol/projection/projections');\n/**\n * Classes for all element of dom control\n * @type {{country: string, hidden: string, city: string, road: string, spin: string, namespace: string, inputText: {container: string, result: string, input: string, reset: string, control: string}, olControl: string, inputResetId: string, inputQueryId: string}}\n */\nvar cssClasses = {\n  namespace: \"ol-geocoder\",\n  spin: \"gcd-pseudo-rotate\",\n  hidden: \"gcd-hidden\",\n  inputQueryId: \"gcd-input-query\",\n  inputResetId: \"gcd-input-reset\",\n  country: \"gcd-country\",\n  city: \"gcd-city\",\n  road: \"gcd-road\",\n  olControl: \"ol-control\",\n  inputText: {\n    container: \"gcd-txt-container\",\n    control: \"gcd-txt-control\",\n    input: \"gcd-txt-input\",\n    reset: \"gcd-txt-reset\",\n    result: \"gcd-txt-result\"\n  }\n};\n\nvar utils = {\n  isNumeric: function isNumeric(str) {\n    return (/^\\d+$/.test(str)\n    );\n  },\n  classRegex: function classRegex(classname) {\n    return new RegExp(\"(^|\\\\s+) \" + classname + \" (\\\\s+|$)\");\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String|Array<String>} classname Class or array of classes.\n   * For example: 'class1 class2' or ['class1', 'class2']\n   * @param {Number|undefined} timeout Timeout to remove a class.\n   */\n  addClass: function addClass(element, classname, timeout) {\n    var _this = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this.addClass(each, classname);\n      });\n      return;\n    }\n    var array = Array.isArray(classname) ? classname : classname.split(/\\s+/);\n    var i = array.length;\n\n    while (i--) {\n      if (!this.hasClass(element, array[i])) this._addClass(element, array[i], timeout);\n    }\n  },\n  _addClass: function _addClass(el, klass, timeout) {\n    var _this2 = this;\n\n    // use native if available\n    if (el.classList) el.classList.add(klass);else el.className = (el.className + ' ' + klass).trim();\n    if (timeout && this.isNumeric(timeout)) setTimeout(function () {\n      return _this2._removeClass(el, klass);\n    }, timeout);\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String|Array<String>} classname Class or array of classes.\n   * For example: 'class1 class2' or ['class1', 'class2']\n   * @param {Number|undefined} timeout Timeout to add a class.\n   */\n  removeClass: function removeClass(element, classname, timeout) {\n    var _this3 = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this3.removeClass(each, classname, timeout);\n      });\n      return;\n    }\n    var array = Array.isArray(classname) ? classname : classname.split(/\\s+/);\n    var i = array.length;\n\n    while (i--) {\n      if (this.hasClass(element, array[i])) this._removeClass(element, array[i], timeout);\n    }\n  },\n  _removeClass: function _removeClass(el, klass, timeout) {\n    var _this4 = this;\n\n    if (el.classList) el.classList.remove(klass);else el.className = el.className.replace(this.classRegex(klass), ' ').trim();\n    if (timeout && this.isNumeric(timeout)) setTimeout(function () {\n      return _this4._addClass(el, klass);\n    }, timeout);\n  },\n\n  /**\n   * @param {Element} element DOM node.\n   * @param {String} classname Classname.\n   * @return {Boolean}\n   */\n  hasClass: function hasClass(element, c) {\n    // use native if available\n    return element.classList ? element.classList.contains(c) : this.classRegex(c).test(element.className);\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String} classname Classe.\n   */\n  toggleClass: function toggleClass(element, classname) {\n    var _this5 = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this5.toggleClass(each, classname);\n      });\n      return;\n    }\n    // use native if available\n    if (element.classList) element.classList.toggle(classname);else {\n      if (this.hasClass(element, classname)) this._removeClass(element, classname);else this._addClass(element, classname);\n    }\n  },\n\n  /**\n   * Abstraction to querySelectorAll for increased\n   * performance and greater usability\n   * @param {String} selector\n   * @param {Element} context (optional)\n   * @param {Boolean} find_all (optional)\n   * @return (find_all) {Element} : {Array}\n   */\n  find: function find(selector, context, find_all) {\n    if (context === void 0) context = window.document;\n    var simpleRe = /^(#?[\\w-]+|\\.[\\w-.]+)$/,\n        periodRe = /\\./g,\n        slice = Array.prototype.slice,\n        matches = [];\n    // Redirect call to the more performant function\n    // if it's a simple selector and return an array\n    // for easier usage\n    if (simpleRe.test(selector)) {\n      switch (selector[0]) {\n        case '#':\n          matches = [this.$(selector.substr(1))];\n          break;\n        case '.':\n          matches = slice.call(context.getElementsByClassName(selector.substr(1).replace(periodRe, ' ')));\n          break;\n        default:\n          matches = slice.call(context.getElementsByTagName(selector));\n      }\n    } else {\n      // If not a simple selector, query the DOM as usual\n      // and return an array for easier usage\n      matches = slice.call(context.querySelectorAll(selector));\n    }\n    return find_all ? matches : matches[0];\n  },\n  $: function $(id) {\n    id = id[0] === '#' ? id.substr(1, id.length) : id;\n    return document.getElementById(id);\n  },\n  isElement: function isElement(obj) {\n    // DOM, Level2\n    if ('HTMLElement' in window) return !!obj && obj instanceof HTMLElement;\n    // Older browsers\n    return !!obj && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' && obj.nodeType === 1 && !!obj.nodeName;\n  },\n  getAllChildren: function getAllChildren(node, tag) {\n    return [].slice.call(node.getElementsByTagName(tag));\n  },\n  isEmpty: function isEmpty(str) {\n    return !str || 0 === str.length;\n  },\n  emptyArray: function emptyArray(array) {\n    while (array.length) {\n      array.pop();\n    }\n  },\n  anyMatchInArray: function anyMatchInArray(source, target) {\n    return source.some(function (each) {\n      return target.indexOf(each) >= 0;\n    });\n  },\n  everyMatchInArrayy: function everyMatchInArrayy(arr1, arr2) {\n    return arr2.every(function (each) {\n      return arr1.indexOf(each) >= 0;\n    });\n  },\n  anyItemHasValue: function anyItemHasValue(obj, has) {\n    var _this6 = this;\n\n    if (has === undefined) has = false;\n    var keys = Object.keys(obj);\n    keys.forEach(function (key) {\n      if (!_this6.isEmpty(obj[key])) {\n        has = true;\n      }\n    });\n    return has;\n  },\n  removeAllChildren: function removeAllChildren(node) {\n    while (node.firstChild) {\n      node.removeChild(node.firstChild);\n    }\n  },\n  removeAll: function removeAll(collection) {\n    var node = void 0;\n    while (node = collection[0]) {\n      node.parentNode.removeChild(node);\n    }\n  },\n  getChildren: function getChildren(node, tag) {\n    return [].filter.call(node.childNodes, function (el) {\n      return tag ? el.nodeType === 1 && el.tagName.toLowerCase() === tag : el.nodeType === 1;\n    });\n  },\n  template: function template(html, row) {\n    var _this7 = this;\n\n    return html.replace(/\\{ *([\\w_-]+) *\\}/g, function (htm, key) {\n      var value = row[key] === undefined ? '' : row[key];\n      return _this7.htmlEscape(value);\n    });\n  },\n  htmlEscape: function htmlEscape(str) {\n    return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#039;');\n  },\n  createElement: function createElement(node, html) {\n    var elem = void 0;\n    if (Array.isArray(node)) {\n      elem = document.createElement(node[0]);\n      if (node[1].id) elem.id = node[1].id;\n      if (node[1].classname) elem.className = node[1].classname;\n      if (node[1].attr) {\n        var attr = node[1].attr;\n        if (Array.isArray(attr)) {\n          var i = -1;\n          while (++i < attr.length) {\n            elem.setAttribute(attr[i].name, attr[i].value);\n          }\n        } else elem.setAttribute(attr.name, attr.value);\n      }\n    } else elem = document.createElement(node);\n    elem.innerHTML = html;\n    var frag = document.createDocumentFragment();\n    while (elem.childNodes[0]) {\n      frag.appendChild(elem.childNodes[0]);\n    }\n    elem.appendChild(frag);\n    return elem;\n  }\n};\n\n/**\n * Providers\n */\n\nvar Nominatim = function () {\n  function Nominatim() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Nominatim);\n\n    this.id = 'Nominatim (OSM)';\n    this.active = true;\n    var extent = ol.proj.transformExtent(options.viewbox, options.mapCrs, 'EPSG:4326');\n    this.settings = {\n      url: 'https://nominatim.openstreetmap.org/search/',\n      params: {\n        q: '',\n        format: 'json',\n        addressdetails: 1,\n        limit: 10\n      },\n      extent: extent,\n      viewbox: extent.join(',')\n    };\n  }\n\n  _createClass(Nominatim, [{\n    key: 'getParameters',\n    value: function getParameters(options) {\n      var _settings = this.settings,\n          url = _settings.url,\n          viewbox = _settings.viewbox,\n          limit = _settings.params.limit;\n\n      return {\n        url: url,\n        params: {\n          q: options.query,\n          format: 'json',\n          addressdetails: 1,\n          limit: options.limit || limit,\n          viewbox: viewbox,\n          bounded: 1\n        }\n      };\n    }\n  }, {\n    key: 'handleResponse',\n    value: function handleResponse() {\n      var _this8 = this;\n\n      var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var results = response.filter(function (place) {\n        return ol.extent.containsXY(_this8.settings.extent, place.lon, place.lat);\n      }).map(function (result) {\n        return {\n          lon: result.lon,\n          lat: result.lat,\n          address: {\n            name: result.address.neighbourhood || '',\n            road: result.address.road || '',\n            postcode: result.address.postcode,\n            city: result.address.city || result.address.town,\n            state: result.address.state,\n            country: result.address.country\n          },\n          original: {\n            formatted: result.display_name,\n            details: result.address\n          }\n        };\n      });\n      return {\n        results: results,\n        header: {\n          title: this.id\n        }\n      };\n    }\n  }]);\n\n  return Nominatim;\n}();\n\nvar Google = function () {\n  function Google() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Google);\n\n    this.id = 'Google';\n    this.active = _applicationState2.default.keys.vendorkeys.google !== undefined; // PUT HERE A CONDITION TO ACTIVATE OR NOT GOODGLE GEOCODING PROVIDER\n    var extent = ol.proj.transformExtent(options.viewbox, options.mapCrs, 'EPSG:4326');\n    this.settings = {\n      url: 'https://maps.googleapis.com/maps/api/geocode/json',\n      extent: extent,\n      viewbox: extent[1] + ',' + extent[0] + '|' + extent[3] + ',' + extent[2]\n    };\n  }\n\n  _createClass(Google, [{\n    key: 'getParameters',\n    value: function getParameters() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var language = options.lang;\n      var _settings2 = this.settings,\n          url = _settings2.url,\n          viewbox = _settings2.viewbox;\n\n      var params = {\n        address: options.query,\n        key: _applicationState2.default.keys.vendorkeys.google,\n        bounds: viewbox,\n        language: language\n      };\n\n      return {\n        url: url,\n        params: params\n      };\n    }\n  }, {\n    key: 'handleResponse',\n    value: function handleResponse() {\n      var _this9 = this;\n\n      var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var results = []; // Set  to be an Array\n\n      if (response.status === 'OK') {\n        results = response.results.filter(function (result) {\n          return ol.extent.containsXY(_this9.settings.extent, result.geometry.location.lng, result.geometry.location.lat);\n        }).map(function (result) {\n          var name = void 0,\n              road = void 0,\n              city = void 0,\n              postcode = void 0,\n              state = void 0,\n              country = void 0;\n          result.address_components.forEach(function (_ref) {\n            var types = _ref.types,\n                short_name = _ref.short_name,\n                long_name = _ref.long_name;\n\n            if (types.find(function (type) {\n              return type === 'route';\n            })) name = long_name;else if (types.find(function (type) {\n              return type === 'locality';\n            })) city = long_name;else if (types.find(function (type) {\n              return type === 'country';\n            })) country = long_name;\n          });\n          return {\n            lon: result.geometry.location.lng,\n            lat: result.geometry.location.lat,\n            address: {\n              name: name,\n              road: road,\n              postcode: '',\n              city: city,\n              state: state,\n              country: country\n            },\n            original: {\n              formatted: result.display_name,\n              details: result.address\n            }\n          };\n        });\n      } else if (response.status === 'REQUEST_DENIED') {\n        /* disable google geocoding provider on API key error */\n        this.active = false;\n      }\n\n      return {\n        results: results,\n        header: {\n          title: this.id\n        }\n      };\n    }\n  }]);\n\n  return Google;\n}();\n\n/**\n * Geocoding class\n * @param options\n * @constructor\n */\n\n\nfunction GeocodingControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.options = {\n    provider: 'osm',\n    placeholder: options.placeholder || 'Città, indirizzo ... ',\n    noresults: options.noresults || 'Nessun risultato ',\n    notresponseserver: options.notresponseserver || 'Il server non risponde',\n    lang: _applicationState2.default.language || 'it-IT',\n    limit: options.limit || 5,\n    keepOpen: true,\n    preventDefault: false,\n    autoComplete: false,\n    autoCompleteMinLength: 4,\n    debug: false,\n    viewbox: options.bbox,\n    bounded: 1,\n    mapCrs: options.mapCrs,\n    fontIcon: _gui2.default.getFontClass('search')\n  };\n\n  var _options = this.options,\n      placeholder = _options.placeholder,\n      fontIcon = _options.fontIcon,\n      mapCrs = _options.mapCrs,\n      viewbox = _options.viewbox;\n  /**\n   * Providers\n   * @type []\n   */\n\n  this.providers = [new Google({\n    mapCrs: mapCrs,\n    viewbox: viewbox\n  }), new Nominatim({\n    mapCrs: mapCrs,\n    viewbox: viewbox\n  })];\n\n  /**\n   * Layer to show marker after search\n   * IN FUTURE SET AS CONTROL UTILITY (at moment duplicate also in GEOLOCATION CONTROL)\n   */\n\n  this.layer = new ol.layer.Vector({\n    source: new ol.source.Vector(),\n    style: new ol.style.Style({\n      text: new ol.style.Text({\n        text: '\\uF3C5',\n        font: '900 3em \"Font Awesome 5 Free\"',\n        stroke: new ol.style.Stroke({\n          color: 'red',\n          width: 3\n        }),\n        fill: new ol.style.Fill({\n          color: 'rgba(255, 0,0, 0.7)'\n        })\n      })\n    })\n  });\n\n  this.projection;\n\n  var containerClass = cssClasses.namespace + ' ' + cssClasses.inputText.container;\n  var self = this;\n\n  var GeocoderVueContainer = Vue.extend({\n    functional: true,\n    render: function render(h) {\n      return h('div', { class: _defineProperty({}, containerClass, true) }, [h('div', {\n        class: _defineProperty({}, cssClasses.inputText.control, true)\n      }, [h('input', {\n        attrs: {\n          type: 'text',\n          id: cssClasses.inputQueryId,\n          autocomplete: 'off'\n        },\n        class: _defineProperty({}, cssClasses.inputText.input, true),\n        directives: [{\n          name: 't-placeholder',\n          value: placeholder\n        }]\n      }), h('button', {\n        attrs: {\n          type: 'button',\n          id: 'search_nominatim'\n        },\n        class: {\n          btn: true\n        },\n        on: {\n          click: function click() {\n            var value = $('input.' + cssClasses.inputText.input).val();\n            self.query(value);\n          }\n        }\n      }, [h('i', {\n        attrs: {\n          'aria-hidden': true\n        },\n        style: {\n          color: '#ffffff'\n        },\n        class: _defineProperty({}, fontIcon, true)\n      })]), h('button', {\n        attrs: {\n          type: 'button',\n          id: cssClasses.inputResetId\n        },\n        class: _defineProperty({}, cssClasses.inputText.reset + '  ' + cssClasses.hidden, true)\n      })]), h('ul', {\n        class: _defineProperty({}, cssClasses.inputText.result, true)\n      })]);\n    }\n  });\n  this.container = new GeocoderVueContainer().$mount().$el;\n  this.lastQuery = '';\n  this.registeredListeners = {\n    mapClick: false\n  };\n\n  this.showMarker = function (coordinates) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { transform: true };\n    var transform = options.transform;\n\n    this.hideMarker();\n    coordinates = transform ? ol.proj.transform(coordinates, 'EPSG:4326', this.getMap().getView().getProjection()) : coordinates;\n    var geometry = new ol.geom.Point(coordinates);\n    var feature = new ol.Feature(geometry);\n    this.layer.getSource().addFeature(feature);\n    this.getMap().addLayer(this.layer);\n    _gui2.default.getService('map').zoomToGeometry(geometry);\n  };\n\n  this.hideMarker = function () {\n    this.layer.getSource().clear();\n    this.getMap().removeLayer(this.layer);\n  };\n  /**\n   * Methods\n   */\n  this.createControl = function () {\n    var _this10 = this;\n\n    var timeout = void 0,\n        lastQuery = void 0;\n    this.control = utils.find('.' + cssClasses.inputText.control, this.container);\n    this.input = utils.find('.' + cssClasses.inputText.input, this.container);\n    this.reset = utils.find('.' + cssClasses.inputText.reset, this.container);\n    this.result = utils.find('.' + cssClasses.inputText.result, this.container);\n    var query = function query(evt) {\n      var value = evt.target.value.trim();\n      var hit = evt.key ? evt.key === 'Enter' : evt.which ? evt.which === 13 : evt.keyCode ? evt.keyCode === 13 : false;\n      if (hit) {\n        evt.preventDefault();\n        _this10.query(value);\n      }\n    };\n    var reset = function reset() {\n      _this10.input.focus();\n      _this10.input.value = '';\n      _this10.lastQuery = '';\n      utils.addClass(_this10.reset, cssClasses.hidden);\n      _this10.clearResults();\n    };\n    var handleValue = function handleValue(evt) {\n      var value = evt.target.value.trim();\n      value.length ? utils.removeClass(_this10.reset, cssClasses.hidden) : utils.addClass(_this10.reset, cssClasses.hidden);\n      if (_this10.options.autoComplete && value !== lastQuery) {\n        lastQuery = value;\n        timeout && clearTimeout(timeout);\n        timeout = setTimeout(function () {\n          return value.length >= _this10.options.autoCompleteMinLength && _this10.query(value);\n        }, 200);\n      }\n    };\n    this.input.addEventListener('keyup', query, false);\n    this.input.addEventListener('input', handleValue, false);\n    this.reset.addEventListener('click', reset, false);\n  };\n  this.query = function (q) {\n    var _this11 = this;\n\n    /**\n     * Clear source\n     */\n    this.hideMarker();\n    return new Promise(function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n        var isNumber, coordinates, transform, _q$split, _q$split2, x, y, epsg, promises, providers, responses;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                isNumber = function isNumber(value) {\n                  return toRawType(value) === 'Number' && !Number.isNaN(value);\n                };\n\n                coordinates = null;\n                transform = false;\n\n                if (q) {\n                  _q$split = q.split(','), _q$split2 = _slicedToArray(_q$split, 3), x = _q$split2[0], y = _q$split2[1], epsg = _q$split2[2];\n\n                  coordinates = isNumber(1 * x) && isNumber(1 * y) ? [1 * x, 1 * y] : null;\n                  try {\n                    /**\n                     * check if is sett epsg code and if is register on project\n                     */\n                    if (epsg && Projections.get('EPSG:' + epsg.trim())) {\n                      coordinates = ol.proj.transform(coordinates, Projections.get('EPSG:' + epsg.trim()), 'EPSG:4326');\n                      transform = true;\n                    }\n                  } catch (err) {}\n                }\n\n                if (!coordinates) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _this11.showMarker(coordinates, {\n                  transform: transform\n                });\n                resolve(coordinates);\n                _context.next = 19;\n                break;\n\n              case 9:\n                if (!(_this11.lastQuery === q && _this11.result.firstChild)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                return _context.abrupt('return');\n\n              case 11:\n                promises = [];\n                /**\n                 * For loop to active Providers\n                 */\n\n                providers = _this11.providers.filter(function (provider) {\n                  return provider.active;\n                });\n\n                providers.forEach(function (provider) {\n                  var _provider$getParamete = provider.getParameters({\n                    query: q,\n                    lang: _this11.options.lang,\n                    countrycodes: _this11.options.countrycodes,\n                    limit: _this11.options.limit\n                  }),\n                      url = _provider$getParamete.url,\n                      params = _provider$getParamete.params;\n\n                  _this11.lastQuery = q;\n                  _this11.clearResults();\n                  utils.addClass(_this11.reset, cssClasses.spin);\n                  promises.push(XHR.get({\n                    url: url,\n                    params: params\n                  }));\n                });\n                _context.next = 16;\n                return Promise.allSettled(promises);\n\n              case 16:\n                responses = _context.sent;\n\n                responses.forEach(function (_ref3, index) {\n                  var status = _ref3.status,\n                      response = _ref3.value;\n\n                  if (status === 'fulfilled') {\n                    var _providers$index$hand = providers[index].handleResponse(response),\n                        header = _providers$index$hand.header,\n                        results = _providers$index$hand.results;\n\n                    if (providers[index].active) {\n                      _this11.createList({\n                        header: header,\n                        results: results\n                      });\n                    }\n                  }\n                });\n                utils.removeClass(_this11.reset, cssClasses.spin);\n\n              case 19:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this11);\n      }));\n\n      return function (_x8, _x9) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  };\n  this.createList = function () {\n    var _this12 = this;\n\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        header = _ref4.header,\n        _ref4$results = _ref4.results,\n        results = _ref4$results === undefined ? {} : _ref4$results;\n\n    var ul = this.result;\n    ul.appendChild(this.createHeaderProviderResults(header));\n    if (results.length) {\n      results.forEach(function (result) {\n        var addressHtml = _this12.addressTemplate(result.address),\n            html = ['<a href=\"#\">', addressHtml, '</a>'].join(''),\n            li = utils.createElement('li', html);\n        li.addEventListener('click', function (evt) {\n          evt.preventDefault();\n          _this12.chosen(result, addressHtml, result.address, result.original);\n        }, false);\n        ul.appendChild(li);\n      });\n    } else {\n      var noresults = this.options.noresults;\n\n      var elementVue = Vue.extend({\n        functional: true,\n        render: function render(h) {\n          return h('li', {\n            class: {\n              'nominatim-noresult': true\n            },\n            directives: [{ name: 't', value: noresults }]\n          });\n        }\n      });\n      var li = new elementVue().$mount().$el;\n      ul.appendChild(li);\n    }\n  };\n  this.chosen = function (place, addressHtml, addressObj, addressOriginal) {\n    var coord = [parseFloat(place.lon), parseFloat(place.lat)];\n    this.options.keepOpen === false && this.clearResults(true);\n    this.showMarker(coord);\n  };\n  this.createHeaderProviderResults = function () {\n    var header = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var headerNodeElement = '\\n      <div style=\"display: flex; justify-content: space-between; padding: 5px\">\\n        <span  style=\"color: #FFFFFF; font-weight: bold\">' + header.title + '</span>\\n      </div>';\n    var li = utils.createElement('li', headerNodeElement);\n    li.classList.add(\"skin-background-color\");\n    return li;\n  };\n\n  this.addressTemplate = function (address) {\n    var html = [];\n    if (address.name) html.push(['<div class=\"', cssClasses.road, '\">{name}</div>'].join(''));\n    if (address.road || address.building || address.house_number) {\n      html.push(['<div class=\"', cssClasses.road, '\">{building} {road} {house_number}</div>'].join(''));\n    }\n    if (address.city || address.town || address.village) {\n      html.push(['<div class=\"', cssClasses.city, '\">{postcode} {city} {town} {village}</div>'].join(''));\n    }\n    if (address.state || address.country) {\n      html.push(['<div class=\"', cssClasses.country, '\">{state} {country}</div>'].join(''));\n    }\n    return utils.template(html.join('<br>'), address);\n  };\n  this.expand = function () {\n    var _this13 = this;\n\n    utils.removeClass(this.input, cssClasses.spin);\n    utils.addClass(this.control, cssClasses.glass.expanded);\n    setTimeout(function () {\n      return _this13.input.focus();\n    }, 100);\n  };\n  this.collapse = function () {\n    this.input.value = '';\n    this.input.blur();\n    utils.addClass(this.reset, cssClasses.hidden);\n    this.clearResults();\n  };\n\n  this.clearResults = function () {\n    utils.removeAllChildren(this.result);\n    this.hideMarker();\n  };\n  this.getSource = function () {\n    return this.layer.getSource();\n  };\n  this.addLayer = function () {\n    var _this14 = this;\n\n    var map = this.getMap();\n    var layer = map.getLayers().find(function (layer) {\n      return layer === _this14.layer;\n    });\n    !layer && map.addLayer(this.layer);\n  };\n  /**\n   * End methods\n   */\n\n  this.createControl();\n\n  Control.call(this, {\n    element: this.container,\n    name: \"nominatim\",\n    offline: false\n  });\n}\n\nol.inherits(GeocodingControl, Control);\n\nmodule.exports = GeocodingControl;\n\n},{\"./control\":78,\"core/utils/utils\":67,\"g3w-ol/projection/projections\":110,\"services/gui\":360,\"store/application-state\":372}],80:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nfunction GeolocationControl() {\n  var options = {\n    visible: false, // set initial to false. Is set visible if is autorized\n    offline: false,\n    name: \"geolocation\",\n    tipLabel: \"sdk.mapcontrols.geolocation.tooltip\",\n    label: \"\\uE904\"\n  };\n  this._layer = new ol.layer.Vector({\n    source: new ol.source.Vector(),\n    style: new ol.style.Style({\n      text: new ol.style.Text({\n        text: \"\\uF3C5\",\n        font: '900 3em \"Font Awesome 5 Free\"',\n        fill: new ol.style.Fill({\n          color: 'red'\n        })\n      })\n    })\n  });\n  InteractionControl.call(this, options);\n}\n\nol.inherits(GeolocationControl, InteractionControl);\n\nvar proto = GeolocationControl.prototype;\n\n/**\n * Method to add market position layer and feature point always on top of map\n * @param map\n * @param coordinates\n * @param show\n * @private\n */\nproto._showMarker = function (_ref) {\n  var map = _ref.map,\n      coordinates = _ref.coordinates,\n      _ref$show = _ref.show,\n      show = _ref$show === undefined ? true : _ref$show;\n\n  //in case of control is initialized\n  if (this._layer) {\n    this._layer.getSource().clear();\n    if (show) {\n      map.getView().setCenter(coordinates);\n      var feature = new ol.Feature({\n        geometry: new ol.geom.Point(coordinates)\n      });\n      this._layer.getSource().addFeature(feature);\n      map.addLayer(this._layer);\n    } else map.removeLayer(this._layer);\n  }\n};\n\nproto.getMap = function () {\n  return InteractionControl.prototype.getMap.call(this);\n};\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  var toggledKeyEvent = void 0; // key toggled event handler\n  InteractionControl.prototype.setMap.call(this, map);\n\n  var geolocation = new ol.Geolocation({\n    projection: map.getView().getProjection(),\n    tracking: true, // set tracking\n    trackingOptions: {\n      enableHighAccuracy: true\n    }\n  });\n\n  geolocation.on('change:position', function () {\n    var coordinates = geolocation.getPosition();\n    if (coordinates) {\n      if (!_this.isVisible()) {\n        _this.setVisible(true);\n        $(_this.element).removeClass('g3w-ol-disabled');\n        geolocation.dispatchEvent('authorized');\n      }\n      _this._showMarker({\n        map: map,\n        coordinates: coordinates,\n        show: _this.isToggled()\n      });\n    } else _this.hideControl(); // remove control from map control flow\n  });\n\n  geolocation.once('error', function (evt) {\n    _this.hideControl();\n    _this._layer = null;\n    evt.code !== 1 && _this.dispatchEvent('error');\n    ol.Observable.unByKey(toggledKeyEvent);\n    toggledKeyEvent = null;\n  });\n\n  //only when authorized register toogled event\n  geolocation.once('authorized', function () {\n    toggledKeyEvent = _this.on('toggled', function () {\n      var coordinates = geolocation.getPosition();\n      _this._showMarker({\n        map: map,\n        coordinates: coordinates,\n        show: _this.isToggled()\n      });\n    });\n  });\n};\n\nmodule.exports = GeolocationControl;\n\n},{\"g3w-ol/controls/interactioncontrol\":82}],81:[function(require,module,exports){\nvar ScreenshotControl = require('g3w-ol/controls/screenshotcontrol');\n\nfunction GeoScreenshotControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.name = \"maptoimagegeo\";\n  options.tipLabel = \"Geo Screenshot\";\n  options.label = \"\\uE900\";\n  ScreenshotControl.call(this, options);\n}\n\nol.inherits(GeoScreenshotControl, ScreenshotControl);\n\nmodule.exports = GeoScreenshotControl;\n\n},{\"g3w-ol/controls/screenshotcontrol\":94}],82:[function(require,module,exports){\nvar _constants = require('g3w-ol/constants');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mapControls = require('store/map-controls');\n\nvar _mapControls2 = _interopRequireDefault(_mapControls);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar Control = require('g3w-ol/controls/control');\n\nvar InteractionControl = function InteractionControl() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$enabled = options.enabled,\n      enabled = _options$enabled === undefined ? true : _options$enabled,\n      _options$toggled = options.toggled,\n      toggled = _options$toggled === undefined ? false : _options$toggled,\n      _options$clickmap = options.clickmap,\n      clickmap = _options$clickmap === undefined ? false : _options$clickmap,\n      _options$interactionC = options.interactionClass,\n      interactionClass = _options$interactionC === undefined ? null : _options$interactionC,\n      _options$autountoggle = options.autountoggle,\n      autountoggle = _options$autountoggle === undefined ? false : _options$autountoggle,\n      _options$geometryType = options.geometryTypes,\n      geometryTypes = _options$geometryType === undefined ? [] : _options$geometryType,\n      _options$onhover = options.onhover,\n      onhover = _options$onhover === undefined ? false : _options$onhover,\n      _options$help = options.help,\n      help = _options$help === undefined ? null : _options$help,\n      toggledTool = options.toggledTool,\n      _options$interactionC2 = options.interactionClassOptions,\n      interactionClassOptions = _options$interactionC2 === undefined ? {} : _options$interactionC2,\n      _options$layers = options.layers,\n      layers = _options$layers === undefined ? [] : _options$layers,\n      spatialMethod = options.spatialMethod;\n\n  /**\n   * Project layers dependencies\n   * \n   * @since 3.8.0\n   */\n\n  this.layers = layers;\n\n  /**\n   * @since 3.8.0\n   */\n  this.unwatches = [];\n\n  this.listenLayersVisibilityChange();\n\n  this._visible = visible;\n\n  this._toggled = false;\n\n  /**\n   * Check if interact with map\n   */\n  this.clickmap = clickmap;\n\n  this._interactionClass = interactionClass;\n\n  this._interaction = null;\n\n  this._autountoggle = autountoggle;\n\n  /**\n   * Array of types geometries\n   */\n  this._geometryTypes = geometryTypes;\n\n  this._onhover = onhover;\n\n  this._help = help;\n\n  /**\n   * Used to show help info button\n   */\n  this._helpButton;\n\n  /**\n   * Used to show toolbutton\n   */\n  this._toolButton;\n\n  /**\n   * @type { 'intersect' | 'within' }\n   */\n  this.spatialMethod = spatialMethod;\n\n  this.toggledTool;\n\n  this._interactionClassOptions = interactionClassOptions;\n\n  options.buttonClickHandler = InteractionControl.prototype._handleClick.bind(this);\n\n  Control.call(this, options);\n\n  // in case of toggled true, then ... ?\n  if (true === toggled) {\n    this.on('setMap', function () {\n      return _this.toggle(toggled);\n    });\n  }\n\n  // create an help message\n  if (this._help) {\n    this._createModalHelp();\n  }\n\n  // create tool\n  if (toggledTool) {\n    this.createControlTool(toggledTool);\n  }\n\n  // set enabled\n  this.setEnable(enabled);\n\n  // check if spatial method is set\n  if (this.spatialMethod) {\n    this.handleChangeSpatialMethod(this.spatialMethod);\n  }\n};\n\nol.inherits(InteractionControl, Control);\n\nvar proto = InteractionControl.prototype;\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.onSelectLayer = function () {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.runSpatialQuery = function () {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.clear = function () {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.onAddExternalLayer = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref.layer,\n      unWatches = _ref.unWatches;\n};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function (layer) {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.handleSelectedLayer = function (event) {};\n\n/**\n * @virtual method need to be implemented by subclasses\n * \n * @param {{ type: {string}, data: any}} layer event\n * \n * @since 3.8.0\n */\nproto.handleExternalSelectedLayer = function (layer) {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @param layers\n * @returns {boolean}\n *\n * @since 3.8.0\n */\nproto.checkVisibile = function (layers) {\n  return true;\n};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @param layers\n * @returns {boolean}\n *\n * @since 3.8.0\n */\nproto.checkVisibile = function (layers) {\n  return true;\n};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since v3.8.0\n */\nproto.listenLayersVisibilityChange = function () {};\n\n/**\n * method override by subclasses\n *\n * @since 3.8.0\n */\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n  var visible = this.checkVisibile(layers);\n  this.setVisible(visible);\n  this.setEnable(false);\n  this.listenLayersVisibilityChange();\n};\n\nproto.isClickMap = function () {\n  return this.clickmap;\n};\n\n/**\n * Enable map control dom\n */\nproto.enable = function () {\n  $(this.element).removeClass('g3w-disabled');\n};\n\nproto.disable = function () {\n  $(this.element).addClass('g3w-disabled');\n};\n\n/**\n * @param {{ type: {'spatialMethod' | 'custom'}, component: unknown, how: {'toggled' | 'hover'} }} toggledTool \n */\nproto.createControlTool = function () {\n  var _this2 = this;\n\n  var toggledTool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  /**\n   * how can be {\n   *  'toggled'(default) => show tools when control is toggled\n   *  'hover' =>  (show button tool as info help)\n   * }\n   */\n  var type = toggledTool.type,\n      component = toggledTool.component,\n      _toggledTool$how = toggledTool.how,\n      how = _toggledTool$how === undefined ? \"toggled\" : _toggledTool$how;\n\n  switch (type) {\n    case 'spatialMethod':\n      var method = this.getSpatialMethod();\n      this.toggledTool = {\n        data: function data() {\n          this.methods = _constants.SPATIALMETHODS;\n          return {\n            method: method\n          };\n        },\n\n        template: '\\n          <div style=\"width: 100%; padding: 5px;\">\\n            <select ref=\"select\" style=\"width: 100%\"  :search=\"false\" v-select2=\"\\'method\\'\">\\n              <option v-for=\"method in methods\">{{method}}</option>\\n            </select>\\n          </div>',\n        watch: {\n          'method': function method(_method) {\n            return _this2.setSpatialMethod(_method);\n          }\n        },\n        created: function created() {\n          _gui2.default.setCloseUserMessageBeforeSetContent(false);\n        },\n        beforeDestroy: function beforeDestroy() {\n          _gui2.default.setCloseUserMessageBeforeSetContent(true);\n        }\n      };\n      break;\n    case 'custom':\n      this.toggledTool = component;\n      break;\n    // if we want to create a button (as info on hover)\n  }\n  switch (how) {\n    case 'hover':\n      this._createToolOnHoverButton();\n      break;\n  }\n};\n\nproto._createToolOnHoverButton = function () {\n  var _this3 = this;\n\n  if (this._onhover) {\n    this._toolButton = $('<span style=\"display:none\" class=\"tool_mapcontrol_button\"><i class=\"' + _gui2.default.getFontClass('tool') + '\"></i></span>');\n    $(this.element).prepend(this._toolButton);\n    this._toolButton.on('click', function (event) {\n      event.stopPropagation();\n      _this3.showToggledTool(true);\n    });\n    $(this.element).hover(function () {\n      return _this3._toggled && _this3._toolButton.show();\n    });\n    $(this.element).mouseleave(function () {\n      return _this3._toolButton.hide();\n    });\n  }\n};\n\nproto.showToggledTool = function () {\n  var show = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  if (show) {\n    _gui2.default.showUserMessage({\n      title: '',\n      type: 'tool',\n      size: 'small',\n      closable: this._toolButton ? true : false,\n      hooks: {\n        body: this.toggledTool\n      }\n    });\n  } else _gui2.default.closeUserMessage();\n};\n\n/**\n * Show help message\n */\nproto._showModalHelp = function () {\n  _gui2.default.showModalDialog({\n    title: t(this._help.title),\n    message: t(this._help.message)\n  });\n};\n\n/**\n * Create modal help\n */\nproto._createModalHelp = function () {\n  var _this4 = this;\n\n  if (this._onhover) {\n    this._helpButton = $('<span style=\"display:none\" class=\"info_mapcontrol_button\">i</span>');\n    $(this.element).prepend(this._helpButton);\n    this._helpButton.on('click', function (event) {\n      event.stopPropagation();\n      _this4._showModalHelp();\n    });\n    $(this.element).hover(function () {\n      return _this4._helpButton.show();\n    });\n    $(this.element).mouseleave(function () {\n      return _this4._helpButton.hide();\n    });\n  }\n};\n\nproto.getGeometryTypes = function () {\n  return this._geometryTypes;\n};\n\nproto.isToggled = function () {\n  return this._toggled;\n};\n\n/**\n * Get dom bottom\n * \n * @returns {JQuery<HTMLElement> | jQuery | HTMLElement}\n */\nproto.getControlBottom = function () {\n  return $(this.element).find('button').first();\n};\n\nproto.addClassToControlBottom = function () {\n  var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  var controlButton = this.getControlBottom();\n  controlButton.addClass(className);\n};\n\nproto.removeClassToControlBottom = function () {\n  var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  var controlButton = this.getControlBottom();\n  controlButton.removeClass(className);\n};\n\n/**\n * Set button status (pressed / not pressed)\n * \n * @param {boolean} [toggled]\n * \n * @fires toggled event\n */\nproto.toggle = function () {\n  var toggled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !this._toggled;\n\n\n  // skip if button is already toggled or un-toggled\n  if (this._toggled === toggled) {\n    return;\n  }\n\n  this._toggled = toggled;\n\n  // TODO: simplify this by removing all that short circuiting logic\n  if (toggled) {\n    this._interaction && this._interaction.setActive(true);\n    this.addClassToControlBottom('g3w-ol-toggled');\n    this._toolButton && this._toolButton.show();\n  } else {\n    this._help && this._helpButton.hide();\n    this._interaction && this._interaction.setActive(false);\n    this.removeClassToControlBottom('g3w-ol-toggled');\n    this._toolButton && this._toolButton.hide();\n    this.toggledTool && this.showToggledTool(false);\n  }\n\n  if (undefined === this._toolButton && this.toggledTool) {\n    this.showToggledTool(this._toggled);\n  }\n\n  this.dispatchEvent({ type: 'toggled', toggled: toggled });\n};\n\nproto.getGeometryTypes = function () {\n  return this._geometryTypes;\n};\n\nproto.setGeometryTypes = function (types) {\n  this._geometryTypes = types;\n};\n\n/**\n * @param {ol.Map} map\n * \n * @fires setMap event\n */\nproto.setMap = function (map) {\n\n  Control.prototype.setMap.call(this, map);\n\n  if (!this._interaction && this._interactionClass) {\n    this._interaction = new this._interactionClass(this._interactionClassOptions);\n    map.addInteraction(this._interaction);\n    this._interaction.setActive(false);\n  }\n\n  /** @since 3.8.0 */\n  this.dispatchEvent({ type: 'setMap', map: map });\n};\n\nproto._handleClick = function (evt) {\n  if (this._enabled) {\n    this.toggle();\n    Control.prototype._handleClick.call(this, evt);\n  }\n};\n\nproto.getInteraction = function () {\n  return this._interaction;\n};\n\n/**\n * Method to set filter operation intersect or Contains\n */\nproto.setSpatialMethod = function () {\n  var method = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'intersects';\n\n  this.spatialMethod = method;\n  this.dispatchEvent({\n    type: 'change-spatial-method',\n    spatialMethod: this.spatialMethod\n  });\n};\n\nproto.getSpatialMethod = function () {\n  return this.spatialMethod;\n};\n\nproto.setLayers = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n};\n\n/**\n * @param { unknown | null } layer\n *\n * @since 3.8.0\n */\nproto.setSelectedLayer = function (layer) {\n  _mapControls2.default.setSelectedLayer(layer);\n};\n\n/**\n * @since 3.8.0\n */\nproto.getSelectedLayer = function () {\n  return _mapControls2.default.getSelectedLayer();\n};\n\n/**\n * @since 3.8.0\n */\nproto.getExternalLayers = function () {\n  return _mapControls2.default.getExternalLayers();\n};\n\n/**\n * @param { 'intersects' | 'within' } spatialMethod\n * \n * @listens change-spatial-method\n * \n * @since 3.8.0\n */\nproto.handleChangeSpatialMethod = function (spatialMethod) {\n  var _this5 = this;\n\n  var eventKey = null;\n\n  var unlistenSpatialMethodChange = function unlistenSpatialMethodChange() {\n    ol.Observable.unByKey(eventKey);\n    eventKey = null;\n  };\n\n  this.on('toggled', function (_ref2) {\n    var toggled = _ref2.toggled;\n\n    if (true === toggled) {\n      eventKey = _this5.on('change-spatial-method', _this5.runSpatialQuery);\n    } else if (null !== eventKey) {\n      unlistenSpatialMethodChange();\n      // reset to default\n      _this5.setSpatialMethod(spatialMethod);\n      _this5.clear();\n    }\n  });\n};\n\n/**\n * @since 3.8.0\n */\nproto.watchLayer = function (expOrFn, callback) {\n  return _constants.VM.$watch(expOrFn, callback);\n};\n\n/**\n * @returns {boolean}\n *\n * @since 3.8.0\n */\nproto.isSelectedLayerVisible = function () {\n  return 'function' === typeof this.getSelectedLayer().isVisible ? this.getSelectedLayer().isVisible() // in case of a project project\n  : this.getSelectedLayer().visible // in case of external layer\n  ;\n};\n\n/**\n * @returns {boolean} whether at least one of stored `this.layers` is visible\n *\n * @since 3.8.0\n */\nproto.hasVisibleProjectLayer = function () {\n  return !!(this.layers.length > 0 && this.layers.find(function (layer) {\n    return layer.isVisible();\n  }));\n};\n\n/**\n * @returns {boolean} whether at least one of stored `this.getExternalLayers()` is visible\n *\n * @since 3.8.0\n */\nproto.hasVisibleExternalLayer = function () {\n  var _this6 = this;\n\n  return !!this.getExternalLayers().find(function (layer) {\n    return layer !== _this6.layer && true === layer.visible;\n  });\n};\n\n/**\n * @returns {boolean} whether at least one of stored `this.layers` or `this.getExternalLayers()` is visible\n * \n * @since 3.8.0\n */\nproto.hasVisibleLayers = function () {\n  return !!(this.hasVisibleProjectLayer() || this.hasVisibleExternalLayer());\n};\n\n/**\n * @returns {boolean} whether selectedLayer is not external\n * \n * @since 3.8.0\n */\nproto.addExternalLayerToResult = function () {\n  var _this7 = this;\n\n  return null === this.getSelectedLayer() || \"undefined\" !== typeof this.getExternalLayers().find(function (layer) {\n    return layer === _this7.getSelectedLayer();\n  });\n};\n\n/**\n * @returns {boolean}\n * \n * @since 3.8.0\n */\nproto.isExternalLayerSelected = function () {\n  var _this8 = this;\n\n  return null !== this.getSelectedLayer() && \"undefined\" !== typeof this.getExternalLayers().find(function (layer) {\n    return layer === _this8.getSelectedLayer();\n  });\n};\n\nmodule.exports = InteractionControl;\n\n},{\"core/i18n/i18n.service\":13,\"g3w-ol/constants\":74,\"g3w-ol/controls/control\":78,\"services/gui\":360,\"store/map-controls\":375}],83:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar LenghtIteraction = require('g3w-ol/interactions/lengthinteraction');\nvar MeasureControl = require('g3w-ol/controls/measurecontrol');\n\nvar LengthControl = function LengthControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    tipLabel: \"sdk.mapcontrols.measures.length.tooltip\",\n    label: '\\uE908',\n    clickmap: true, // set ClickMap\n    interactionClass: LenghtIteraction\n  };\n\n  options = utils.merge(options, _options);\n  MeasureControl.call(this, options);\n};\n\nol.inherits(LengthControl, MeasureControl);\n\nmodule.exports = LengthControl;\n\n},{\"core/utils/ol\":65,\"g3w-ol/controls/measurecontrol\":84,\"g3w-ol/interactions/lengthinteraction\":102}],84:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar MeasureControl = function MeasureControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._map = null;\n  InteractionControl.call(this, options);\n};\n\nol.inherits(MeasureControl, InteractionControl);\n\nvar proto = MeasureControl.prototype;\n\n/**\n * @param {ol.Map} map \n */\nproto.setMap = function (map) {\n  InteractionControl.prototype.setMap.call(this, map);\n};\n\n/**\n * @param {boolean} toggle \n */\nproto.toggle = function (toggle) {\n\n  InteractionControl.prototype.toggle.call(this, toggle);\n\n  // clean up measurements (if it was activated)\n  if (!this.isToggled() && this.getInteraction()) {\n    this.getInteraction().clear();\n  }\n};\n\nmodule.exports = MeasureControl;\n\n},{\"g3w-ol/controls/interactioncontrol\":82}],85:[function(require,module,exports){\nvar MousePositionControl = function MousePositionControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.target = options.target || 'mouse-position-control';\n  ol.control.MousePosition.call(this, options);\n};\n\nol.inherits(MousePositionControl, ol.control.MousePosition);\n\nmodule.exports = MousePositionControl;\n\nvar proto = MousePositionControl.prototype;\n\nproto.offline = true;\n\nproto.setEnable = function (bool) {\n  bool ? $(this.element) : $(this.element);\n};\n\nproto.setMap = function (map) {\n  if (map) {\n    $(this.element).removeClass('ol-control');\n    ol.control.MousePosition.prototype.setMap.call(this, map);\n  }\n};\n\n},{}],86:[function(require,module,exports){\nvar OLControl = function OLControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._control = null;\n  this.positionCode = options.position || 'tl';\n  switch (options.type) {\n    case 'zoom':\n      this._control = new ol.control.Zoom(options);\n      break;\n    case 'zoomtoextent':\n      this._control = new ol.control.ZoomToExtent(options);\n      break;\n    case 'scaleline':\n      this._control = new ol.control.ScaleLine(options);\n      break;\n    case 'overview':\n      this._control = new ol.control.OverviewMap(options);\n      break;\n  }\n\n  $(this._control.element).addClass(\"ol-control-\" + this.positionCode);\n\n  ol.control.Control.call(this, {\n    element: this._control.element\n  });\n};\n\n// subclass of OpenLayer Control\nol.inherits(OLControl, ol.control.Control);\n\nmodule.exports = OLControl;\n\nvar proto = OLControl.prototype;\n\nproto.offline = true;\n\n/**\n * Return Ol Control\n * @returns {*}\n */\nproto.getOlControl = function () {\n  return this._control;\n};\n\nproto.getPosition = function (positionCode) {\n  positionCode = positionCode || this.positionCode;\n  var position = {};\n  position['top'] = positionCode.indexOf('t') > -1 ? true : false;\n  position['left'] = positionCode.indexOf('l') > -1 ? true : false;\n  return position;\n};\n\nproto.layout = function (map) {\n  if (map) {\n    var position = this.getPosition();\n    var viewPort = map.getViewport();\n    var previusControls = $(viewPort).find('.ol-control-' + this.positionCode);\n    if (previusControls.length) {\n      previusControl = previusControls.last();\n      var previousOffset = position.left ? previusControl.position().left : previusControl.position().right;\n      var hWhere = position.left ? 'left' : 'right';\n      var previousWidth = previusControl[0].offsetWidth;\n      var hOffset = $(this.element).position()[hWhere] + previousOffset + previousWidth + 2;\n      $(this.element).css(hWhere, hOffset + 'px');\n    }\n  }\n};\n\nproto.changelayout = function () {};\n\nproto.showHide = function () {\n  $(this.element).toggle();\n};\n\nproto.setMap = function (map) {\n  this.layout(map);\n  this._control.setMap(map);\n};\n\n},{}],87:[function(require,module,exports){\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Control = require('g3w-ol/controls/control');\n\nfunction OnClickControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._originalonlick = null;\n  this._onclick = options.onclick;\n  Control.call(this, options);\n}\n\nol.inherits(OnClickControl, Control);\n\nvar proto = OnClickControl.prototype;\n\nproto.overwriteOnClickEvent = function (clickHandler) {\n  this._originalonlick = this._originalonlick || this._onclick;\n  this._onclick = clickHandler;\n};\n\nproto.resetOriginalOnClickEvent = function () {\n  this._onclick = this._originalonlick || this._onclick;\n  this._originalonlick = null;\n};\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  Control.prototype.setMap.call(this, map);\n  var controlElement = $(this.element);\n  var buttonControl = controlElement.children('button');\n  var cliccked = false;\n  controlElement.on('click', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (cliccked) {\n              _context.next = 9;\n              break;\n            }\n\n            cliccked = true;\n            buttonControl.addClass('g3w-ol-disabled');\n            _context.t0 = _this._onclick;\n\n            if (!_context.t0) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 7;\n            return _this._onclick();\n\n          case 7:\n            buttonControl.removeClass('g3w-ol-disabled');\n            cliccked = false;\n\n          case 9:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  })));\n};\n\nmodule.exports = OnClickControl;\n\n},{\"g3w-ol/controls/control\":78}],88:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constants = require('g3w-ol/constants');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\n/**\n * Catalog layers (TOC) properties that need to be satisfied\n */\nvar layersFilterObject = {\n  SELECTED_OR_ALL: true, // selected or all\n  FILTERABLE: true, // see: src/app/core/layers/layer.js#L925\n  VISIBLE: true // need to be visible\n};\n\nvar condition = {\n  filtrable: {\n    ows: 'WFS'\n  }\n};\n\nvar QueryBBoxControl = function QueryBBoxControl() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$spatialMetho = options.spatialMethod,\n      spatialMethod = _options$spatialMetho === undefined ? _constants.SPATIALMETHODS[0] : _options$spatialMetho;\n\n  /**\n   * @FIXME add description\n   */\n\n  this._startCoordinate = null;\n\n  /**\n   * @FIXME add description\n   */\n  this.unwatches = [];\n\n  /**\n   * @FIXME add description\n   */\n  var layers = _gui2.default.getService('map').filterableLayersAvailable(condition) || [];\n  layers.forEach(function (layer) {\n    return layer.setTocHighlightable(true);\n  });\n\n  var _options = _extends({}, options, {\n    layers: layers,\n    offline: false,\n    name: \"querybbox\",\n    tipLabel: \"sdk.mapcontrols.querybybbox.tooltip\",\n    label: options.label || '\\uE902',\n    clickmap: true, // set ClickMap\n    interactionClass: ol.interaction.DragBox,\n    onhover: true,\n    toggledTool: {\n      type: 'spatialMethod',\n      how: 'toggled' // or hover\n    },\n    spatialMethod: spatialMethod,\n    help: {\n      title: \"sdk.mapcontrols.querybybbox.help.title\",\n      message: \"sdk.mapcontrols.querybybbox.help.message\"\n    }\n  });\n\n  InteractionControl.call(this, _options);\n\n  this.setEnable(this.hasVisibleLayers());\n\n  /**\n   * Store bbox coordinates\n   * \n   * @type {ol.coordinate}\n   */\n  this.bbox = null;\n\n  /**\n   * Set `layer.tochighlightable` to external layer to show highlight class\n   * \n   * @since 3.8.0\n   */\n  this.on('toggled', function (_ref) {\n    var toggled = _ref.toggled;\n\n    _this.getExternalLayers().forEach(function (layer) {\n      return layer.tochighlightable = toggled;\n    });\n  });\n};\n\nol.inherits(QueryBBoxControl, InteractionControl);\n\nvar proto = QueryBBoxControl.prototype;\n\n/**\n * @deprecated since 3.7\n * \n * @param layers\n */\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n  this.setEnable(this.hasVisibleLayers());\n  this.listenLayersVisibilityChange();\n};\n\nproto.checkVisible = function () {\n  return this.layers.length > 0 || this.getExternalLayers().length > 0;\n};\n\n/**\n * @param {ol.Map} map\n * \n * @listens ol.interaction.DragBox~boxstart\n * @listens ol.interaction.DragBox~boxend\n */\nproto.setMap = function (map) {\n  var _this2 = this;\n\n  InteractionControl.prototype.setMap.call(this, map);\n\n  this._interaction.on('boxstart', function (evt) {\n    return _this2._startCoordinate = evt.coordinate;\n  });\n\n  this._interaction.on('boxend', throttle(function (evt) {\n\n    _this2.bbox = ol.extent.boundingExtent([_this2._startCoordinate, evt.coordinate]);\n\n    _this2.dispatchEvent({ type: 'bboxend', extent: _this2.bbox });\n\n    _this2._startCoordinate = null;\n\n    if (_this2._autountoggle) {\n      _this2.toggle();\n    }\n  }));\n\n  this.setEventKey({\n    eventType: 'bboxend',\n    eventKey: this.on('bboxend', this.runSpatialQuery)\n  });\n};\n\n/**\n * @since 3.8.0\n */\nproto.onSelectLayer = function (layer) {\n  if (layer) {\n    var findLayer = this.layers.find(function (_layer) {\n      return _layer === layer;\n    });\n    this.setEnable(!!findLayer && findLayer.isVisible());\n  } else {\n    this.setEnable(this.hasVisibleLayers());\n  }\n  this.toggle(this.isToggled() && this.getEnable());\n};\n\n/**\n * @since 3.8.0\n */\nproto.listenLayersVisibilityChange = function () {\n  var _this3 = this;\n\n  this.unwatches.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatches.splice(0);\n  this.layers.forEach(function (layer) {\n    _this3.unwatches.push(_this3.watchLayer(function () {\n      return layer.state.visible;\n    }, function (visible) {\n      if (true === layer.state.selected) {\n        _this3.setEnable(visible);\n      } else {\n        _this3.setEnable(_this3.hasVisibleLayers());\n      }\n      _this3.toggle(_this3.isToggled() && _this3.getEnable());\n    }));\n  });\n};\n\n/**\n * @returns {Promise<void>}\n * \n * @since 3.8.0\n */\nproto.runSpatialQuery = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref3, _ref3$data, data;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!(null === this.bbox)) {\n            _context.next = 2;\n            break;\n          }\n\n          return _context.abrupt('return');\n\n        case 2:\n          _gui2.default.closeOpenSideBarComponent();\n          _context.prev = 3;\n          _context.next = 6;\n          return _data2.default.getData('query:bbox', {\n            inputs: {\n              bbox: this.bbox,\n              feature_count: _projects2.default.getCurrentProject().getQueryFeatureCount(),\n              addExternal: this.addExternalLayerToResult(),\n              layersFilterObject: layersFilterObject,\n              filterConfig: {\n                spatialMethod: this.getSpatialMethod() // added spatial method to polygon filter\n              },\n              condition: condition,\n              multilayers: _projects2.default.getCurrentProject().isQueryMultiLayers(this.name)\n            }\n          });\n\n        case 6:\n          _ref3 = _context.sent;\n          _ref3$data = _ref3.data;\n          data = _ref3$data === undefined ? [] : _ref3$data;\n          _context.next = 14;\n          break;\n\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context['catch'](3);\n\n          console.warn('Error running spatial query: ', _context.t0);\n\n        case 14:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[3, 11]]);\n}));\n\n/**\n * @param {{ layer, unWatches }}\n * \n * @since 3.8.0\n */\nproto.onAddExternalLayer = function (_ref4) {\n  var _this4 = this;\n\n  var layer = _ref4.layer,\n      unWatches = _ref4.unWatches;\n\n  //set layer property\n  layer.tochighlightable = this.isToggled() && this.getEnable();\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.selected;\n  }, // watch `layer.selected` property\n  function (selected) {\n    _this4.setEnable(true === selected ? layer.visible : _this4.hasVisibleLayers());\n    _this4.toggle(_this4.isToggled() && _this4.getEnable());\n  }));\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.visible;\n  }, // watch `layer.visible` property\n  function () {\n    _this4.setEnable(_this4.hasVisibleLayers());\n    _this4.toggle(_this4.isToggled() && _this4.getEnable());\n  }));\n\n  this.setEnable(this.hasVisibleLayers());\n};\n\n/**\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function () {\n  this.setEnable(this.isThereVisibleLayerNotSelected());\n};\n\n/**\n * @since 3.8.0\n */\nproto.clear = function () {\n  this.bbox = null;\n};\n\nmodule.exports = QueryBBoxControl;\n\n},{\"core/utils/utils\":67,\"g3w-ol/constants\":74,\"g3w-ol/controls/interactioncontrol\":82,\"services/data\":357,\"services/gui\":360,\"store/projects\":378}],89:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file\n                                                                                                                                                                                                                                                                   * @since v3.8\n                                                                                                                                                                                                                                                                   */\n\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar BaseQueryPolygonControl = require('g3w-ol/controls/basequerypolygoncontrol');\n\nvar QueryByDrawPolygonControl = function QueryByDrawPolygonControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var layers = _gui2.default.getService('map').filterableLayersAvailable({\n    filtrable: {\n      ows: 'WFS'\n    }\n  }) || [];\n\n  var _options = _extends({}, options, {\n    name: \"querybydrawpolygon\",\n    tipLabel: \"sdk.mapcontrols.querybydrawpolygon.tooltip\",\n    customClass: _gui2.default.getFontClass('draw'),\n    clickmap: true, // set ClickMap\n    interactionClass: ol.interaction.Draw,\n    interactionClassOptions: {\n      type: 'Polygon'\n    },\n    layers: layers,\n    help: {\n      title: \"sdk.mapcontrols.querybybbox.help.title\",\n      message: \"sdk.mapcontrols.querybybbox.help.message\"\n    }\n  });\n\n  BaseQueryPolygonControl.call(this, _options);\n  this.setEnable(this.hasVisibleLayers());\n\n  /**\n   * Store drawed ol.Feature\n   */\n  this.feature = null;\n};\n\nol.inherits(QueryByDrawPolygonControl, BaseQueryPolygonControl);\n\nvar proto = QueryByDrawPolygonControl.prototype;\n\n/**\n * @param {ol.Map} map\n * \n * @listens ol.interaction.Draw~drawend\n */\nproto.setMap = function (map) {\n  var _this = this;\n\n  BaseQueryPolygonControl.prototype.setMap.call(this, map);\n\n  this._interaction.on('drawend', throttle(function (evt) {\n    _this.feature = evt.feature;\n    _this.dispatchEvent({ type: 'drawend', feature: _this.feature });\n    if (_this._autountoggle) {\n      _this.toggle();\n    }\n  }));\n\n  this.setEventKey({\n    eventType: 'drawend',\n    eventKey: this.on('drawend', this.runSpatialQuery)\n  });\n};\n\n/**\n * @since 3.8.0\n */\nproto.onSelectLayer = function (layer) {\n  if (layer) {\n    var findLayer = this.layers.find(function (_layer) {\n      return _layer === layer;\n    });\n    this.setEnable(!!findLayer && findLayer.isVisible());\n  } else {\n    this.setEnable(this.hasVisibleLayers());\n  }\n  this.toggle(this.isToggled() && this.getEnable());\n};\n\n/**\n * @param { unknown | null } layer\n *\n * @since 3.8.0\n */\nproto.listenLayersVisibilityChange = function () {\n  var _this2 = this;\n\n  this.unwatches.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatches.splice(0);\n  this.layers.forEach(function (layer) {\n    _this2.unwatches.push(_this2.watchLayer(function () {\n      return layer.state.visible;\n    }, function (visible) {\n      // check if a selectedLayer i set\n      if (null === _this2.getSelectedLayer()) {\n        _this2.setEnable(_this2.hasVisibleLayers());\n      } else {\n        // enable control only if current changed visible layer is true or\n        // if at least one layer (not selected) is visible\n        _this2.setEnable(_this2.isSelectedLayerVisible());\n      }\n      _this2.toggle(_this2.isToggled() && _this2.getEnable());\n    }));\n  });\n};\n\n/**\n * @param {{ layer, unWatches }}\n * \n * @since 3.8.0\n */\nproto.onAddExternalLayer = function (_ref) {\n  var _this3 = this;\n\n  var layer = _ref.layer,\n      unWatches = _ref.unWatches;\n\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.selected;\n  }, // watch `layer.selected` property\n  function (selected) {\n    _this3.setEnable(true === selected ? layer.visible : _this3.hasVisibleLayers());\n    _this3.toggle(_this3.isToggled() && _this3.getEnable());\n  }));\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.visible;\n  }, // watch `layer.visible` property\n  function (visible) {\n    _this3.setEnable(true === layer.selected ? visible : _this3.hasVisibleLayers());\n    _this3.toggle(_this3.isToggled() && _this3.getEnable());\n  }));\n\n  this.setEnable(this.hasVisibleLayers());\n};\n\n/**\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function () {\n  this.setEnable(this.hasVisibleLayers());\n};\n\n/**\n * @returns {Promise<void>}\n * \n * @since 3.8.0\n */\nproto.runSpatialQuery = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _gui2.default.closeOpenSideBarComponent();\n\n          _context.prev = 1;\n          _context.next = 4;\n          return _data2.default.getData('query:polygon', {\n            inputs: {\n              layerName: 'Draw',\n              feature: this.feature,\n              excludeSelected: null === this.getSelectedLayer(),\n              external: {\n                add: this.addExternalLayerToResult(),\n                filter: {\n                  SELECTED: this.isExternalLayerSelected()\n                }\n              },\n              filterConfig: {\n                spatialMethod: this.getSpatialMethod()\n              },\n              multilayers: _projects2.default.getCurrentProject().isQueryMultiLayers(this.name)\n            },\n            outputs: {\n              show: function show(_ref3) {\n                var _ref3$error = _ref3.error,\n                    error = _ref3$error === undefined ? false : _ref3$error;\n\n                return !error;\n              }\n            }\n          });\n\n        case 4:\n          _context.next = 9;\n          break;\n\n        case 6:\n          _context.prev = 6;\n          _context.t0 = _context['catch'](1);\n\n          console.warn(_context.t0);\n\n        case 9:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[1, 6]]);\n}));\n\n/**\n * @since 3.8.0\n */\nproto.clear = function () {\n  this.feature = null;\n};\n\nmodule.exports = QueryByDrawPolygonControl;\n\n},{\"core/utils/utils\":67,\"g3w-ol/controls/basequerypolygoncontrol\":77,\"services/data\":357,\"services/gui\":360,\"store/projects\":378}],90:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar _require2 = require('core/utils/geo'),\n    getMapLayersByFilter = _require2.getMapLayersByFilter,\n    Geometry = _require2.Geometry;\n\nvar BaseQueryPolygonControl = require('g3w-ol/controls/basequerypolygoncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar VALIDGEOMETRIES = Geometry.getAllPolygonGeometryTypes();\n\nvar condition = {\n  filtrable: {\n    ows: 'WFS'\n  }\n};\n\nvar QueryByPolygonControl = function QueryByPolygonControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\n  var controlQuerableLayers = getMapLayersByFilter({ QUERYABLE: true, SELECTED_OR_ALL: true });\n  var controlFiltrableLayers = _gui2.default.getService('map').filterableLayersAvailable(condition);\n\n  var _options = _extends({}, options, {\n    offline: false,\n    enabled: false,\n    name: \"querybypolygon\",\n    tipLabel: \"sdk.mapcontrols.querybypolygon.tooltip\",\n    label: options.label || '\\uE903',\n    interactionClass: PickCoordinatesInteraction,\n    layers: controlFiltrableLayers.length ? [].concat(_toConsumableArray(new Set([].concat(_toConsumableArray(controlFiltrableLayers), _toConsumableArray(controlQuerableLayers))))) : [],\n    help: {\n      title: \"sdk.mapcontrols.querybypolygon.help.title\",\n      message: \"sdk.mapcontrols.querybypolygon.help.message\"\n    }\n  });\n\n  BaseQueryPolygonControl.call(this, _options);\n\n  /**\n   * Data needed to runSpatialQuery\n   */\n  this.data = {\n    layer: null,\n    feature: null,\n    coordinates: null\n  };\n};\n\nol.inherits(QueryByPolygonControl, BaseQueryPolygonControl);\n\nvar proto = QueryByPolygonControl.prototype;\n\n/**\n * @deprecated since 3.7.0. Will be removed in 3.9.0\n * \n * @param {unknown[]} layers\n */\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n  this.setEnable(false);\n  this.listenLayersVisibilityChange();\n};\n\n/**\n * Check visibiliy of control\n * \n * @param layers\n * \n * @returns {boolean}\n */\nproto.checkVisibile = function (layers) {\n  // if no layer or just one\n  if (!layers.length || 1 === layers.length) {\n    return false;\n  }\n\n  // get all layers that haven't the geometries above filterable\n  var filterableLayers = layers.filter(function (layer) {\n    return layer.isFilterable();\n  });\n  // get all layer that have the valid geometries\n  var queryableLayers = layers.filter(function (layer) {\n    return -1 !== VALIDGEOMETRIES.indexOf(layer.getGeometryType());\n  });\n\n  if (1 === queryableLayers.length && 1 === filterableLayers.length) {\n    return filterableLayers[0] !== queryableLayers[0];\n  }\n\n  return queryableLayers.length > 0 && filterableLayers.length > 0;\n};\n\n/**\n * @param {ol.Map} map \n * \n * @listens PickCoordinatesInteraction~picked\n */\nproto.setMap = function (map) {\n  var _this = this;\n\n  BaseQueryPolygonControl.prototype.setMap.call(this, map);\n\n  this._interaction.on('picked', throttle(function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(evt) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.data.coordinates = evt.coordinate;\n\n              _this.dispatchEvent({ type: 'picked', coordinates: _this.data.coordinates });\n\n              if (_this._autountoggle) {\n                _this.toggle();\n              }\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, _this);\n    }));\n\n    return function (_x3) {\n      return _ref.apply(this, arguments);\n    };\n  }()));\n\n  this.setEventKey({\n    eventType: 'picked',\n    eventKey: this.on('picked', this.getPolygonFeatureFromCoordinates)\n  });\n\n  this.setEnable(false);\n};\n\n/**\n * @param layer\n * \n * @since 3.8.0\n */\nproto.onSelectLayer = function (layer) {\n  if (layer && layer.isQueryable() && -1 !== this.getGeometryTypes().indexOf(layer.getGeometryType())) {\n    this.setEnable(this.isThereVisibleLayerNotSelected());\n    this.toggle(this.isToggled() && this.getEnable());\n  } else {\n    this.setEnable(false);\n    this.toggle(false);\n  }\n};\n\n/**\n * @since 3.8.0 \n */\nproto.listenLayersVisibilityChange = function () {\n  var _this2 = this;\n\n  this.unwatches.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatches.splice(0);\n  this.layers.forEach(function (layer) {\n    _this2.unwatches.push(_this2.watchLayer(function () {\n      return layer.state.visible;\n    }, function (visible) {\n      if (layer === _this2.getSelectedLayer()) {\n        _this2.setEnable(visible && _this2.isThereVisibleLayerNotSelected());\n      } else {\n        _this2.setEnable(_this2.isThereVisibleLayerNotSelected());\n      }\n      // enable control only if current changed visible layer is true or\n      // if at least one layer (not selected) is visible\n      _this2.toggle(_this2.isToggled() && _this2.getEnable());\n    }));\n  });\n};\n\n/**\n * @returns {Promise<boolean>}\n * \n * @since 3.8.0\n */\nproto.getPolygonFeatureFromCoordinates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var _ref3, _ref3$data, data;\n\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _gui2.default.closeOpenSideBarComponent();\n\n          // ask for coordinates\n          _context2.prev = 1;\n          _context2.next = 4;\n          return _data2.default.getData('query:coordinates', {\n            inputs: {\n              feature_count: _projects2.default.getCurrentProject().getQueryFeatureCount(),\n              coordinates: this.data.coordinates\n            },\n            outputs: {\n              // whether to show picked coordinates on map\n              show: function show(_ref4) {\n                var _ref4$data = _ref4.data,\n                    data = _ref4$data === undefined ? [] : _ref4$data,\n                    query = _ref4.query;\n\n                var show = data.length === 0;\n                // set query coordinates to null in case to avoid `externalvector` added to query response\n                query.coordinates = show ? query.coordinates : null;\n                return show;\n              }\n            }\n          });\n\n        case 4:\n          _ref3 = _context2.sent;\n          _ref3$data = _ref3.data;\n          data = _ref3$data === undefined ? [] : _ref3$data;\n\n          if (data.length && data[0].features.length) {\n            this.data.feature = data[0].features[0];\n            this.data.layer = data[0].layer;\n            this.runSpatialQuery();\n          }\n          _context2.next = 13;\n          break;\n\n        case 10:\n          _context2.prev = 10;\n          _context2.t0 = _context2['catch'](1);\n\n          console.warn('Error running spatial query:', _context2.t0);\n\n        case 13:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this, [[1, 10]]);\n}));\n\n/**\n * @returns {boolean} whether at least a visible layer not selected\n * \n * @since 3.8.0\n */\nproto.isThereVisibleLayerNotSelected = function () {\n  var _this3 = this;\n\n  return !!(\n  // check if user has selected a layer\n  this.getSelectedLayer() &&\n  // check if current selected layer is visible\n  this.isSelectedLayerVisible() && (\n  // check if at least one layer is visible (project or external layer)\n  !!this.layers.find(function (layer) {\n    return layer !== _this3.getSelectedLayer() && layer.isVisible() && layer.isFilterable(condition.filtrable);\n  }) || this.getExternalLayers().find(function (layer) {\n    return layer !== _this3.getSelectedLayer() && true === layer.visible;\n  })));\n};\n\n/**\n * @deprecated since v3.8.0. Will be removed in v4.0.0. Use `QueryByPolygonControl::listenLayersVisibilityChange()` instead.\n */\nproto.listenPolygonLayersChange = function () {\n  this.listenLayersVisibilityChange();\n};\n\n/**\n * @param {{ layer, unWatches }}\n * \n * @since 3.8.0\n */\nproto.onAddExternalLayer = function (_ref5) {\n  var _this4 = this;\n\n  var layer = _ref5.layer,\n      unWatches = _ref5.unWatches;\n\n\n  // watch `layer.selected` property only on Polygon layers (in order to enable/disable map control)\n  if (Geometry.isPolygonGeometryType(layer.geometryType)) {\n    unWatches.push(this.watchLayer(function () {\n      return layer.selected;\n    }, // watch `layer.selected` property\n    function (selected) {\n      if (true === selected) {\n        _this4.setEnable(layer.visible && _this4.isThereVisibleLayerNotSelected());\n      } else {\n        _this4.setEnable(false);\n      }\n      _this4.toggle(_this4.isToggled() && _this4.getEnable());\n    }));\n\n    unWatches.push(this.watchLayer(function () {\n      return layer.visible;\n    }, // watch `layer.visible` property\n    function (visible) {\n      if (layer.selected) {\n        _this4.setEnable(visible && _this4.isThereVisibleLayerNotSelected());\n      } else {\n        _this4.setEnable(_this4.isThereVisibleLayerNotSelected());\n      }\n      _this4.toggle(_this4.isToggled() && _this4.getEnable());\n    }));\n  }\n\n  this.setEnable(this.isThereVisibleLayerNotSelected());\n};\n\n/**\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function () {\n  this.setEnable(this.isThereVisibleLayerNotSelected());\n};\n\n/**\n * Execute query Polygon request to server\n * \n * @since 3.8.0\n */\nproto.runSpatialQuery = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref7, _ref7$data, data;\n\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (null !== this.data.coordinates && null !== this.data.feature && null !== this.data.layer) {\n            _context3.next = 2;\n            break;\n          }\n\n          return _context3.abrupt('return');\n\n        case 2:\n          _context3.next = 4;\n          return _data2.default.getData('query:polygon', {\n            inputs: {\n              layerName: this.data.layer.getName ? this.data.layer.getName() : this.data.layer.get('name'),\n              excludeSelected: true,\n              feature: this.data.feature,\n              external: {\n                add: true,\n                filter: {\n                  SELECTED: false\n                }\n              },\n              filterConfig: {\n                spatialMethod: this.getSpatialMethod() // added spatial method to polygon filter\n              },\n              multilayers: _projects2.default.getCurrentProject().isQueryMultiLayers(this.name)\n            },\n            outputs: {\n              show: function show(_ref8) {\n                var _ref8$error = _ref8.error,\n                    error = _ref8$error === undefined ? false : _ref8$error;\n\n                return !error;\n              }\n            }\n          });\n\n        case 4:\n          _ref7 = _context3.sent;\n          _ref7$data = _ref7.data;\n          data = _ref7$data === undefined ? [] : _ref7$data;\n\n        case 7:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this);\n}));\n\n/**\n * @since v3.8.0\n */\nproto.clear = function () {\n  this.data.layer = this.data.feature = this.data.coordinates = null;\n};\n\nmodule.exports = QueryByPolygonControl;\n\n},{\"core/utils/geo\":64,\"core/utils/utils\":67,\"g3w-ol/controls/basequerypolygoncontrol\":77,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"services/data\":357,\"services/gui\":360,\"store/projects\":378}],91:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar utils = require('core/utils/ol');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar QueryControl = function QueryControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    offline: false,\n    name: \"querylayer\",\n    tipLabel: \"sdk.mapcontrols.query.tooltip\",\n    label: options.label || '\\uEA0F',\n    clickmap: true, // set ClickMap\n    interactionClass: PickCoordinatesInteraction\n  };\n\n  options = utils.merge(options, _options);\n\n  InteractionControl.call(this, options);\n};\n\nol.inherits(QueryControl, InteractionControl);\n\nvar proto = QueryControl.prototype;\n\n/**\n * @param {ol.Map} map\n * \n * @listens InteractionControl~toggled\n */\nproto.setMap = function (map) {\n  var _this = this;\n\n  var eventSingleClickKey = null;\n\n  this.on('toggled', function (_ref) {\n    var toggled = _ref.toggled;\n\n\n    if (true !== toggled) {\n      ol.Observable.unByKey(eventSingleClickKey);\n      eventSingleClickKey = null;\n    } else if (null === eventSingleClickKey && map) {\n      // register click on map event. It use to dispatch picked event by control\n      eventSingleClickKey = map.on('singleclick', throttle(function (evt) {\n        return _this.dispatchEvent({ type: 'picked', coordinates: evt.coordinate });\n      }));\n    }\n  });\n\n  this.setEventKey({\n    eventType: 'picked',\n    eventKey: this.on('picked', this.runQuery)\n  });\n\n  InteractionControl.prototype.setMap.call(this, map);\n};\n\n/**\n * @since 3.8.0\n * @param event\n */\nproto.runQuery = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2) {\n    var coordinates = _ref2.coordinates;\n    var project;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _gui2.default.closeOpenSideBarComponent();\n            _context.prev = 1;\n            project = _projects2.default.getCurrentProject();\n            _context.next = 5;\n            return _data2.default.getData('query:coordinates', {\n              inputs: {\n                coordinates: coordinates,\n                feature_count: project.getQueryFeatureCount(),\n                query_point_tolerance: project.getQueryPointTolerance(),\n                multilayers: project.isQueryMultiLayers(this.name)\n              }\n            });\n\n          case 5:\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context['catch'](1);\n\n            console.warn('Error running spatial query: ', _context.t0);\n\n          case 10:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[1, 7]]);\n  }));\n\n  return function (_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nmodule.exports = QueryControl;\n\n},{\"core/utils/ol\":65,\"core/utils/utils\":67,\"g3w-ol/controls/interactioncontrol\":82,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"services/data\":357,\"services/gui\":360,\"store/projects\":378}],92:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar ResetControl = function ResetControl(options) {\n  this._toggled = true;\n  this._startCoordinate = null;\n  var _options = {\n    name: \"reset\",\n    tipLabel: \"Pan\",\n    label: '\\uE901'\n  };\n  options = utils.merge(options, _options);\n  InteractionControl.call(this, options);\n};\n\nol.inherits(ResetControl, InteractionControl);\n\nmodule.exports = ResetControl;\n\nvar proto = ResetControl.prototype;\n\nproto._postRender = function () {\n  this.toggle(true);\n};\n\n},{\"core/utils/ol\":65,\"g3w-ol/controls/interactioncontrol\":82}],93:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/ol'),\n    getResolutionFromScale = _require2.getResolutionFromScale,\n    getScaleFromResolution = _require2.getScaleFromResolution;\n\nvar ScaleControl = function ScaleControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.isMobile = options.isMobile || false;\n  options.target = 'scale-control';\n  ol.control.Control.call(this, options);\n};\n\nol.inherits(ScaleControl, ol.control.Control);\n\nmodule.exports = ScaleControl;\n\nvar proto = ScaleControl.prototype;\n\nproto.offline = true;\n\n// called from map when layout change\nproto.changelayout = function (map) {\n  var position = this.position;\n  var element = $(this.element);\n};\n\nproto.layout = function (map) {\n  var self = this;\n  var isMapResolutionChanged = false;\n  var selectedOnClick = false;\n  var element = $(this.element);\n  var select2 = element.children('select').select2({\n    tags: true,\n    dropdownParent: $(map.getTargetElement()),\n    width: '120px',\n    height: '20px',\n    language: {\n      noResults: function noResults(params) {\n        return t(\"sdk.mapcontrols.scale.no_valid_scale\");\n      }\n    },\n    minimumResultsForSearch: this.isMobile ? -1 : 0,\n    createTag: function createTag(params) {\n      var newTag = null;\n      var scale = void 0;\n      // Don't offset to create a tag if there is no @ symbol\n      if (params.term.indexOf('1:') !== -1) {\n        // Return null to disable tag creation\n        scale = params.term.split('1:')[1];\n      } else if (Number.isInteger(Number(params.term)) && Number(params.term) > 0) {\n        scale = Number(params.term);\n        if (1 * scale <= self.scales[0]) {\n          newTag = {\n            id: scale,\n            text: '1:' + params.term,\n            new: true\n          };\n          deleteLastCustomScale();\n        }\n      }\n      return newTag;\n    }\n  });\n  //get change mapsize to close\n  map.on('change:size', function () {\n    return select2.select2('close');\n  });\n  function deleteLastCustomScale() {\n    select2.find('option').each(function (index, option) {\n      return self.scales.indexOf(1 * option.value) === -1 && $(option).remove();\n    });\n  }\n\n  function addCustomTag(data) {\n    if (select2.find(\"option[value='\" + data.id + \"']\").length) select2.val(data.id).trigger('change');else {\n      deleteLastCustomScale();\n      var newOption = new Option(data.text, data.id, true, true);\n      select2.append(newOption).trigger('change');\n    }\n  }\n\n  map.on('moveend', function () {\n    if (isMapResolutionChanged) {\n      var view = this.getView();\n      var resolution = view.getResolution();\n      var mapUnits = view.getProjection().getUnits();\n      var scale = parseInt(getScaleFromResolution(resolution, mapUnits));\n      var data = {\n        id: scale,\n        text: '1:' + scale,\n        new: true\n      };\n      addCustomTag(data);\n      isMapResolutionChanged = false;\n    } else selectedOnClick = false;\n  });\n  var setChangeResolutionHandler = function setChangeResolutionHandler() {\n    map.getView().on('change:resolution', function () {\n      return isMapResolutionChanged = !selectedOnClick;\n    });\n  };\n  setChangeResolutionHandler();\n\n  map.on('change:view', function () {\n    return setChangeResolutionHandler();\n  });\n\n  select2.on('select2:select', function (e) {\n    selectedOnClick = true;\n    var data = e.params.data;\n    if (data.new) {\n      deleteLastCustomScale();\n      addCustomTag(data);\n    }\n    var mapUnits = map.getView().getProjection().getUnits();\n    var scale = 1 * data.id;\n    var resolution = getResolutionFromScale(scale, mapUnits);\n    map.getView().setResolution(resolution);\n  });\n};\n\nproto._setScales = function (map) {\n  var mapUnits = map.getView().getProjection().getUnits();\n  var currentResolution = map.getView().getResolution();\n  var currentScale = parseInt(getScaleFromResolution(currentResolution, mapUnits));\n  this.scales = _constant.PRINT_SCALES.map(function (scale) {\n    return scale.value;\n  }).filter(function (scale) {\n    return scale < currentScale;\n  });\n  this.scales.unshift(currentScale);\n  this._createControl();\n};\n\nproto._createControl = function () {\n  var controlDomElement = document.createElement('div');\n  var select = document.createElement('select');\n  var optgroup = document.createElement('optgroup');\n  optgroup.label = '';\n  this.scales.forEach(function (scale, index) {\n    var option = document.createElement('option');\n    option.value = scale;\n    option.text = '1:' + scale;\n    option.selected = index === 0 ? true : false;\n    optgroup.appendChild(option);\n  });\n  select.appendChild(optgroup);\n  if (!this.isMobile) {\n    var optgroup_custom = document.createElement('optgroup');\n    optgroup_custom.label = 'Custom';\n    select.appendChild(optgroup_custom);\n  }\n  controlDomElement.appendChild(select);\n  // set element of control (it is necessary to visualize it)\n  this.element = controlDomElement;\n  $(this.element).css('height', '20px');\n};\n\nproto.setMap = function (map) {\n  if (map) {\n    this._setScales(map);\n    this.layout(map);\n    ol.control.Control.prototype.setMap.call(this, map);\n  }\n};\n\n},{\"app/constant\":4,\"core/i18n/i18n.service\":13,\"core/utils/ol\":65}],94:[function(require,module,exports){\nvar OnClickControl = require('g3w-ol/controls/onclickcontrol');\n\nfunction ScreenshotControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.layers = options.layers || [];\n  var visible = this.checkVisible(this.layers);\n  options.visible = visible;\n  options.name = options.name || \"maptoimage\";\n  options.tipLabel = options.tipLabel || \"Screenshot\";\n  options.label = options.label || \"\\uE90F\";\n  options.toggled = false;\n  OnClickControl.call(this, options);\n}\n\nol.inherits(ScreenshotControl, OnClickControl);\n\nvar proto = ScreenshotControl.prototype;\n\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var visible = this.checkVisible(layers);\n  this.setVisible(visible);\n};\n\nproto.checkVisible = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var find = layers.find(function (layer) {\n    return layer.isExternalWMS ? layer.isExternalWMS() : false;\n  });\n  return !find;\n};\n\nmodule.exports = ScreenshotControl;\n\n},{\"g3w-ol/controls/onclickcontrol\":87}],95:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\nvar utils = require('core/utils/ol');\nvar StreetViewComponent = require('gui/streetview/vue/streetview');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar GoogleStreetViewApiUrl = 'https://maps.googleapis.com/maps/api/';\n\nvar StreetViewControl = function StreetViewControl() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    offline: false,\n    visible: true, // always visible. Only change behavior if exist or not\n    name: \"streetview\",\n    tipLabel: \"StreetView\",\n    clickmap: true, // set ClickMap\n    label: '\\uE905',\n    interactionClass: PickCoordinatesInteraction\n  };\n  /**\n   * Check Google Key\n   * */\n\n  this.key = _applicationState2.default.keys.vendorkeys.google;\n  this.keyError;\n  if (this.key) {\n    XHR.get({\n      url: GoogleStreetViewApiUrl + 'streetview?location=0,0&size=456x456&key=' + this.key\n    }).catch(function (error) {\n      return _this.keyError = error.responseText;\n    });\n  }\n  //get script script\n  $script(GoogleStreetViewApiUrl + 'js?' + (this.key ? 'key=' + this.key : ''));\n\n  /***/\n\n  this._sv = null;\n  this._panorama = null;\n  this._map = null;\n  this._projection = null;\n  this._lastposition = null;\n  this._streetViewFeature = new ol.Feature();\n  var streetVectorSource = new ol.source.Vector({ features: [] });\n  this.active = false;\n  this._layer = new ol.layer.Vector({\n    source: streetVectorSource,\n    style: function style(feature) {\n      var coordinates = feature.getGeometry().getCoordinates();\n      this._lastposition = this._lastposition ? this._lastposition : coordinates;\n      var dx = coordinates[0] - this._lastposition[0];\n      var dy = coordinates[1] - this._lastposition[1];\n      var rotation = -Math.atan2(dy, dx);\n      var styles = [new ol.style.Style({\n        text: new ol.style.Text({\n          text: '\\uE905',\n          font: 'bold 18px icomoon',\n          fill: new ol.style.Fill({\n            color: '#ffffff'\n          })\n        })\n      }), new ol.style.Style({\n        image: new ol.style.Icon({\n          src: '/static/client/images/streetviewarrow.png',\n          rotation: rotation\n        })\n      })];\n      this._lastposition = coordinates;\n      return styles;\n    }\n  });\n\n  options = utils.merge(options, _options);\n\n  InteractionControl.call(this, options);\n};\n\nol.inherits(StreetViewControl, InteractionControl);\n\nvar proto = StreetViewControl.prototype;\n\nproto.setProjection = function (projection) {\n  this._projection = projection;\n};\n\nproto.setPosition = function (position) {\n  var _this2 = this;\n\n  var self = this;\n  this.active = true;\n  var pixel = void 0;\n  if (!this._sv) this._sv = new google.maps.StreetViewService();\n  this._sv.getPanorama({ location: position }, function (data, status) {\n    self._panorama = new google.maps.StreetViewPanorama(document.getElementById('streetview'), {\n      imageDateControl: true\n    });\n    /**\n     * Listen on position change\n    */\n    self._panorama.addListener('position_changed', function () {\n      if (self.isToggled()) {\n        var lnglat = ol.proj.transform([this.getPosition().lng(), this.getPosition().lat()], 'EPSG:4326', self._projection.getCode());\n        self._streetViewFeature.setGeometry(new ol.geom.Point(lnglat));\n        pixel = self._map.getPixelFromCoordinate(lnglat);\n        if (pixel[0] + 15 > self._map.getSize()[0] || pixel[1] + 15 > self._map.getSize()[1] || pixel[0] < 15 || pixel[1] < 15) {\n          self._map.getView().setCenter(lnglat);\n        }\n      }\n    });\n    if (data && data.location) {\n      self._panorama.setPov({\n        pitch: 0,\n        heading: 0\n      });\n\n      self._panorama.setPosition(data.location.latLng);\n    }\n  }).then(function (response) {\n    if (response === undefined) {\n      _gui2.default.closeContent();\n    }\n  }).catch(function () {\n    return _this2.toggle();\n  });\n};\n\nproto.setMap = function (map) {\n  var _this3 = this;\n\n  this._map = map;\n  InteractionControl.prototype.setMap.call(this, map);\n\n  this.setProjection(this._map.getView().getProjection());\n  this._map.addLayer(this._layer);\n\n  this._interaction.on('picked', function (_ref) {\n    var coordinate = _ref.coordinate;\n\n    _this3.showStreetView(coordinate);\n    _this3._autountoggle && _this3.toggle();\n  });\n};\n\n/**\n * Method to show StreetView depending of key and keyError\n * @param coordinate\n */\nproto.showStreetView = function (coordinate) {\n  var _ol$proj$transform = ol.proj.transform(coordinate, this._map.getView().getProjection().getCode(), 'EPSG:4326'),\n      _ol$proj$transform2 = _slicedToArray(_ol$proj$transform, 2),\n      lng = _ol$proj$transform2[0],\n      lat = _ol$proj$transform2[1];\n\n  if (this.key) {\n    _gui2.default.setContent({\n      content: new StreetViewComponent({\n        keyError: this.keyError\n      }),\n      title: 'StreetView'\n    });\n    !this.keyError && this.setPosition({\n      lng: lng, lat: lat\n    });\n  } else {\n    this._streetViewFeature.setGeometry(new ol.geom.Point(coordinate));\n    window.open('https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=' + lat + ',' + lng);\n  }\n};\n\nproto.clearMarker = function () {\n  this._streetViewFeature.setGeometry(null);\n};\n\nproto.clear = function () {\n  this._layer.getSource().clear();\n  this._streetViewFeature.setGeometry(null);\n  this.clearMarker();\n  this._panorama = null;\n  this.active && _gui2.default.closeContent();\n  this.active = false;\n};\n\nproto.toggle = function (toggle) {\n  InteractionControl.prototype.toggle.call(this, toggle);\n  if (!this.isToggled()) this.clear();else this._layer.getSource().addFeatures([this._streetViewFeature]);\n};\n\nmodule.exports = StreetViewControl;\n\n},{\"core/utils/ol\":65,\"core/utils/utils\":67,\"g3w-ol/controls/interactioncontrol\":82,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"gui/streetview/vue/streetview\":181,\"services/gui\":360,\"store/application-state\":372}],96:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TOPOFFSET = 35;\n\nmodule.exports = {\n  layout: function layout(_ref) {\n    var map = _ref.map,\n        position = _ref.position,\n        element = _ref.element;\n  },\n  changeLayoutBottomControl: function changeLayoutBottomControl(_ref2) {\n    var map = _ref2.map,\n        position = _ref2.position,\n        element = _ref2.element,\n        _ref2$isMobile = _ref2.isMobile,\n        isMobile = _ref2$isMobile === undefined ? false : _ref2$isMobile;\n\n    var viewPort = map.getViewport();\n    var positionCode = (position['top'] ? 't' : 'b') + (position['left'] ? 'l' : 'r');\n    var previusControls = $(viewPort).find('.ol-control-' + positionCode + ':visible');\n    if (previusControls.length) {\n      var previusControl = void 0;\n      previusControls.each(function (index, elem) {\n        if (elem != element[0]) previusControl = $(elem);else return false;\n      });\n      if (previusControl && positionCode === 'br') {\n        if (!isMobile) {\n          var previousTopPosition = previusControl.position().top;\n          var elementTopPosition = element.position().top;\n          if (previousTopPosition - elementTopPosition != TOPOFFSET) {\n            var hOffset = previousTopPosition - TOPOFFSET;\n            element.css('top', hOffset + 'px');\n          }\n        } else {\n          var previusControlWidth = previusControl.width();\n          var previousLeftPosition = previusControlWidth < 10 ? 130 : previusControlWidth + 20;\n          element.css('right', previousLeftPosition + 'px');\n          element.css('bottom', '15px');\n        }\n      }\n    }\n  },\n\n  // method to create user message tool fro map control\n  createControlUserMessageTool: function createControlUserMessageTool() {\n    var tool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      hooks: {\n        body: {\n          template: '<div>\\n                <div >\\n                  <input type=\"radio\" name=\"radio\" id=\"g3w-map_theme-0\" class=\"magic-radio\" value=\"view1\">\\n                  <label  for=\"g3w-map_theme-0\" style=\"display: flex; justify-content: space-between;\">\\n                    <span>Intersect</span>\\n                  </label>\\n                </div>\\n                <div>\\n                  <input  type=\"radio\" name=\"radio\" id=\"_cotains\" class=\"magic-radio\" value=\"view2\">\\n                  <label  for=\"g3w-map_theme-1\" style=\"display: flex; justify-content: space-between;\">\\n                    <span>view2</span>\\n                  </label>\\n                </div>\\n              </div>'\n        }\n      },\n      title: 'Scelgli il tipo di operazione'\n    };\n\n    _gui2.default.showUserMessage({\n      type: 'tool',\n      message: tool.message,\n      size: tool.size || 'small', // small, medium\n      title: tool.title || '',\n      hooks: tool.hooks\n    });\n  }\n};\n\n},{\"services/gui\":360}],97:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar ZoomBoxControl = function ZoomBoxControl(options) {\n  this._startCoordinate = null;\n  var _options = {\n    name: \"zoombox\",\n    tipLabel: \"Zoom to box\",\n    label: \"\\uE901\",\n    interactionClass: ol.interaction.DragBox\n  };\n  options = Object.assign({}, options, _options);\n  InteractionControl.call(this, options);\n};\nol.inherits(ZoomBoxControl, InteractionControl);\nmodule.exports = ZoomBoxControl;\n\nvar proto = ZoomBoxControl.prototype;\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  InteractionControl.prototype.setMap.call(this, map);\n  this._interaction.on('boxstart', function (evt) {\n    return _this._startCoordinate = evt.coordinate;\n  });\n\n  this._interaction.on('boxend', function (evt) {\n    var start_coordinate = _this._startCoordinate;\n    var end_coordinate = evt.coordinate;\n    var extent = ol.extent.boundingExtent([start_coordinate, end_coordinate]);\n    _this.dispatchEvent({\n      type: 'zoomend',\n      extent: extent\n    });\n    _this._startCoordinate = null;\n    _this._autountoggle && _this.toggle();\n  });\n};\n\n},{\"g3w-ol/controls/interactioncontrol\":82}],98:[function(require,module,exports){\nvar _MapControlZoomHistory = require(\"components/MapControlZoomHistory.vue\");\n\nvar _MapControlZoomHistory2 = _interopRequireDefault(_MapControlZoomHistory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Control = require('g3w-ol/controls/control');\n\nfunction ZoomHistoryControl() {\n  var vueElement = Vue.extend(_MapControlZoomHistory2.default);\n  Control.call(this, {\n    name: \"zoomhistory\",\n    tipLabel: \"sdk.mapcontrols.addlayer.tooltip\",\n    element: new vueElement().$mount().$el\n  });\n}\n\nol.inherits(ZoomHistoryControl, Control);\n\nvar proto = ZoomHistoryControl.prototype;\n\nproto.setMap = function (map) {\n  Control.prototype.setMap.call(this, map);\n};\n\nproto.layout = function (map) {\n  Control.prototype.layout.call(this, map);\n};\n\nmodule.exports = ZoomHistoryControl;\n\n},{\"components/MapControlZoomHistory.vue\":256,\"g3w-ol/controls/control\":78}],99:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar maphelpers = require('g3w-ol/map/maphelpers');\n\nvar helpers = utils.merge({}, maphelpers);\n\nmodule.exports = {\n  helpers: helpers\n};\n\n},{\"core/utils/ol\":65,\"g3w-ol/map/maphelpers\":108}],100:[function(require,module,exports){\nvar MeasureInteraction = require('g3w-ol/interactions/measureinteraction');\n\n// Area\nvar AreaIteraction = function AreaIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.geometryType = \"Polygon\";\n  MeasureInteraction.call(this, options);\n};\n\nol.inherits(AreaIteraction, MeasureInteraction);\n\nmodule.exports = AreaIteraction;\n\n},{\"g3w-ol/interactions/measureinteraction\":103}],101:[function(require,module,exports){\nvar DeleteInteractionEvent = function DeleteInteractionEvent(type, layer, features, coordinate) {\n  this.type = type;\n  this.features = features;\n  this.coordinate = coordinate;\n};\n\nvar DeleteInteraction = function DeleteInteraction(options) {\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: DeleteInteraction.handleDownEvent_,\n    handleMoveEvent: DeleteInteraction.handleMoveEvent_,\n    handleUpEvent: DeleteInteraction.handleUpEvent_,\n    handleEvent: DeleteInteraction.handleEvent_\n  });\n\n  this.previousCursor_ = undefined;\n  this.startCursor_ = undefined;\n  this.lastCoordinate_ = null;\n  this.features_ = options.features !== undefined ? options.features : null;\n  this.layer_ = options.layer !== undefined ? options.layer : null;\n  this.map_ = null;\n};\n\nol.inherits(DeleteInteraction, ol.interaction.Pointer);\n\nDeleteInteraction.handleEvent_ = function (mapBrowserEvent) {\n  if (mapBrowserEvent.type == 'keydown') {\n    if (this.features_.getArray().length && mapBrowserEvent.originalEvent.keyCode == 46) {\n      // an event can be string or an object with attribute type\n      this.dispatchEvent(new DeleteInteractionEvent('deleteend', this.layer_, this.features_, event.coordinate));\n      return true;\n    }\n  } else {\n    return ol.interaction.Pointer.handleEvent.call(this, mapBrowserEvent);\n  }\n};\n\nDeleteInteraction.handleDownEvent_ = function (event) {\n  this.lastFeature_ = this.featuresAtPixel_(event.pixel, event.map);\n  if (this.lastFeature_) {\n    DeleteInteraction.handleMoveEvent_.call(this, event);\n    this.dispatchEvent(new DeleteInteractionEvent('deleteend', this.layer_, this.features_, event.coordinate));\n    return true;\n  }\n  return false;\n};\n\nDeleteInteraction.handleMoveEvent_ = function (event) {\n  var _this = this;\n\n  this.map_ = event.map;\n  var elem = this.map_.getTargetElement();\n  if (this.startCursor_ === undefined) {\n    this.startCursor_ = elem.style.cursor;\n  }\n  var intersectingFeature = this.map_.forEachFeatureAtPixel(event.pixel, function (feature, layer) {\n    ///check if is the same layero of editing\n    feature = layer == _this.layer_ ? feature : null;\n    return feature;\n  });\n  if (intersectingFeature) {\n    this.previousCursor_ = elem.style.cursor;\n    elem.style.cursor = 'pointer';\n  } else {\n    elem.style.cursor = this.previousCursor_ !== undefined ? this.previousCursor_ : '';\n    this.previousCursor_ = undefined;\n  }\n};\n\nDeleteInteraction.prototype.featuresAtPixel_ = function (pixel, map) {\n  var found = null;\n  var intersectingFeature = map.forEachFeatureAtPixel(pixel, function (feature) {\n    return feature;\n  });\n  if (this.features_ && _.includes(this.features_.getArray(), intersectingFeature)) {\n    found = intersectingFeature;\n  }\n  return found;\n};\n\nDeleteInteraction.prototype.clear = function () {\n  var elem = void 0;\n  if (this.map_) {\n    elem = this.map_.getTargetElement();\n    elem.style.cursor = this.startCursor_;\n  }\n};\n\nmodule.exports = DeleteInteraction;\n\n},{}],102:[function(require,module,exports){\nvar MeasureInteraction = require('g3w-ol/interactions/measureinteraction');\n\n// LenghtInteracion\nvar LengthIteraction = function LengthIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.geometryType = \"LineString\";\n  MeasureInteraction.call(this, options);\n};\n\nol.inherits(LengthIteraction, MeasureInteraction);\n\nmodule.exports = LengthIteraction;\n\n},{\"g3w-ol/interactions/measureinteraction\":103}],103:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/ol'),\n    createMeasureTooltip = _require2.createMeasureTooltip,\n    setMeasureTooltipStatic = _require2.setMeasureTooltipStatic,\n    removeMeasureTooltip = _require2.removeMeasureTooltip,\n    needUseSphereMethods = _require2.needUseSphereMethods;\n\nvar MeasureIteraction = function MeasureIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._helpTooltip;\n  this._measureTooltipElement;\n  this._measureTooltip;\n  this._featureGeometryChangelistener;\n  this._poinOnMapMoveListener;\n  this.testTooltip;\n  this._helpMsg = options.help;\n  this._projection = options.projection;\n  this.feature = options.feature;\n  var drawColor = options.drawColor || 'rgba(0, 0, 0, 0.5)';\n  var useSphereMethods = needUseSphereMethods(this._projection);\n  var measureStyle = new ol.style.Style({\n    fill: new ol.style.Fill({\n      color: 'rgba(255, 255, 255, 0.2)'\n    }),\n    stroke: new ol.style.Stroke({\n      color: drawColor,\n      lineDash: [10, 10],\n      width: 3\n    }),\n    image: new ol.style.Circle({\n      radius: 5,\n      stroke: new ol.style.Stroke({\n        color: 'rgba(0, 0, 0, 0.7)'\n      }),\n      fill: new ol.style.Fill({\n        color: 'rgba(255, 255, 255, 0.2)'\n      })\n    })\n  });\n  var geometryType = options.geometryType || 'LineString';\n  var source = new ol.source.Vector();\n  this._helpTooltipElement;\n  this._map = null;\n  this._feature = null;\n  this._layer = new ol.layer.Vector({\n    source: source,\n    style: function style() {\n      var styles = [\n      // linestring\n      new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          lineDash: [10, 10],\n          width: 3\n        }),\n        fill: new ol.style.Fill({\n          color: 'rgba(255, 255, 255, 0.2)'\n        })\n      })];\n      return styles;\n    }\n  });\n\n  ol.interaction.Draw.call(this, {\n    source: source,\n    type: geometryType,\n    style: measureStyle\n  });\n  this.set('beforeRemove', this.clear);\n  this.set('layer', this._layer);\n  // register event on two action\n  this.on('drawstart', this._drawStart);\n  this.on('drawend', this._drawEnd);\n};\n\nol.inherits(MeasureIteraction, ol.interaction.Draw);\n\nvar proto = MeasureIteraction.prototype;\n\nproto.setDrawMessage = function (message) {\n  this._helpMsg = message;\n};\n\nproto.clear = function () {\n  this._layer.getSource().clear();\n  this._clearMessagesAndListeners();\n  if (this._map) {\n    removeMeasureTooltip(_extends({\n      map: this._map\n    }, this.measureTooltip));\n    this.measureTooltip = null;\n    this._map.removeLayer(this._layer);\n  }\n};\n\nproto._clearMessagesAndListeners = function () {\n  this._feature = null;\n  // unset tooltip so that a new one can be created\n  if (this._map) {\n    this._measureTooltipElement = null;\n    this._helpTooltipElement.innerHTML = '';\n    this._helpTooltipElement.classList.add('hidden');\n    ol.Observable.unByKey(this._featureGeometryChangelistener);\n    ol.Observable.unByKey(this._poinOnMapMoveListener);\n    $(document).off('keydown', this._keyDownEventHandler);\n  }\n};\n\nproto._removeLastPoint = function (event) {\n  var geom = this._feature.getGeometry();\n  if (event.keyCode === 46) {\n    if (geom instanceof ol.geom.Polygon && geom.getCoordinates()[0].length > 2) {\n      this.removeLastPoint();\n    } else if (geom instanceof ol.geom.LineString && geom.getCoordinates().length > 1) {\n      this.removeLastPoint();\n    }\n  }\n};\n\n//drawStart function\nproto._drawStart = function (evt) {\n  var _this = this;\n\n  this._map = this.getMap();\n  this._map.removeLayer(this._layer);\n  this._feature = evt.feature;\n  this.feature && this._feature.setGeometry(this.feature.getGeometry());\n  this._keyDownEventHandler = this._removeLastPoint.bind(this);\n  $(document).on('keydown', this._keyDownEventHandler);\n  this._layer.getSource().clear();\n  this._poinOnMapMoveListener = this._map.on('pointermove', function (evt) {\n    if (evt.dragging) return;\n    if (_this._feature && _this._helpMsg) {\n      var helpMsg = t(_this._helpMsg);\n      _this._helpTooltipElement.innerHTML = helpMsg;\n      _this._helpTooltip.setPosition(evt.coordinate);\n      _this._helpTooltipElement.classList.remove('hidden');\n    }\n  });\n  this._createHelpTooltip();\n  this._createMeasureTooltip();\n};\n\nproto._drawEnd = function () {\n  var tooltip = this.measureTooltip.tooltip;\n\n  setMeasureTooltipStatic(tooltip);\n  this._clearMessagesAndListeners();\n  this._map.addLayer(this._layer);\n};\n\n/**\n * Creates a new help tooltip\n */\nproto._createHelpTooltip = function () {\n  this._helpTooltipElement && this._helpTooltipElement.parentNode.removeChild(this._helpTooltipElement);\n  this._helpTooltip && this._map.removeOverlay(this._helpTooltip);\n  this._helpTooltipElement = document.createElement('div');\n  this._helpTooltipElement.className = 'mtooltip hidden';\n  this._helpTooltip = new ol.Overlay({\n    element: this._helpTooltipElement,\n    offset: [15, 0],\n    positioning: 'center-left'\n  });\n  this._map.addOverlay(this._helpTooltip);\n};\n\n/**\n * Creates a new measure tooltip\n */\nproto._createMeasureTooltip = function () {\n  this.measureTooltip && removeMeasureTooltip(_extends({}, this.measureTooltip, {\n    map: this._map\n  }));\n  this.measureTooltip = createMeasureTooltip({\n    map: this._map,\n    feature: this._feature\n  });\n};\n// END MEASURE CONTROLS //\n\nmodule.exports = MeasureIteraction;\n\n},{\"core/i18n/i18n.service\":13,\"core/utils/ol\":65}],104:[function(require,module,exports){\nvar PickCoordinatesEventType = {\n  PICKED: 'picked'\n};\n\nvar PickCoordinatesEvent = function PickCoordinatesEvent(type, coordinate) {\n  this.type = type;\n  this.coordinate = coordinate;\n};\n\nvar PickCoordinatesInteraction = function PickCoordinatesInteraction(options) {\n  this.previousCursor_ = null;\n  this._centerMap = null;\n\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: PickCoordinatesInteraction.handleDownEvent_,\n    handleUpEvent: PickCoordinatesInteraction.handleUpEvent_,\n    handleMoveEvent: PickCoordinatesInteraction.handleMoveEvent_\n  });\n};\n\nol.inherits(PickCoordinatesInteraction, ol.interaction.Pointer);\n\nPickCoordinatesInteraction.handleDownEvent_ = function (event) {\n  var _this = this;\n\n  this._centerMap = event.map.getView().getCenter();\n  // set timeout to avoid to block pan\n  setTimeout(function () {\n    if (_this._centerMap === event.map.getView().getCenter()) {\n      PickCoordinatesInteraction.handleUpEvent_.call(_this, event);\n    }\n  }, 300);\n  // return false to avoid  start of drag event\n  return false;\n};\n\nPickCoordinatesInteraction.handleUpEvent_ = function (event) {\n  this.dispatchEvent(new PickCoordinatesEvent(PickCoordinatesEventType.PICKED, event.coordinate));\n  // it used to stop drag event\n  return false;\n};\n\nPickCoordinatesInteraction.handleMoveEvent_ = function (event) {\n  var elem = event.map.getTargetElement();\n  elem.style.cursor = 'pointer';\n  return true;\n};\n\nPickCoordinatesInteraction.prototype.shouldStopEvent = function () {\n  return false;\n};\n\nPickCoordinatesInteraction.prototype.setActive = function (active) {\n  var map = this.getMap();\n  if (map) {\n    var elem = map.getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setActive.call(this, active);\n};\n\nPickCoordinatesInteraction.prototype.setMap = function (map) {\n  if (!map) {\n    var elem = this.getMap().getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setMap.call(this, map);\n};\n\nmodule.exports = PickCoordinatesInteraction;\n\n},{}],105:[function(require,module,exports){\nvar PickFeatureEventType = {\n  PICKED: 'picked'\n};\n\nvar PickFeatureEvent = function PickFeatureEvent(type, coordinate, layer, feature) {\n  this.type = type;\n  this.feature = feature;\n  this.coordinate = coordinate;\n  this.layer = layer;\n};\n\nvar PickFeatureInteraction = function PickFeatureInteraction() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: PickFeatureInteraction.handleDownEvent_,\n    handleUpEvent: PickFeatureInteraction.handleUpEvent_,\n    handleMoveEvent: PickFeatureInteraction.handleMoveEvent_\n  });\n  var features = options.features;\n\n  this.features_ = Array.isArray(features) && features.length && features || null;\n  this.layers_ = options.layers || null;\n  this.pickedFeature_ = null;\n  this.pickedLayer_ = null;\n  this.layerFilter_ = function (layer) {\n    var include = _.includes(_this.layers_, layer);\n    _this.pickedLayer_ = include && layer;\n    return include;\n  };\n};\nol.inherits(PickFeatureInteraction, ol.interaction.Pointer);\n\nPickFeatureInteraction.handleDownEvent_ = function (event) {\n  this.pickedFeature_ = this.featuresAtPixel_(event.pixel, event.map);\n  return this.pickedFeature_;\n};\n\nPickFeatureInteraction.handleUpEvent_ = function (event) {\n  if (this.pickedFeature_) {\n    this.dispatchEvent(new PickFeatureEvent(PickFeatureEventType.PICKED, event.coordinate, this.pickedLayer_, this.pickedFeature_));\n  }\n  return true;\n};\n\nPickFeatureInteraction.handleMoveEvent_ = function (event) {\n  var elem = event.map.getTargetElement();\n  var intersectingFeature = this.featuresAtPixel_(event.pixel, event.map);\n  elem.style.cursor = intersectingFeature ? 'pointer' : '';\n};\n\nPickFeatureInteraction.prototype.featuresAtPixel_ = function (pixel, map) {\n  var _this2 = this;\n\n  var featureFound = null;\n  var intersectingFeature = map.forEachFeatureAtPixel(pixel, function (feature) {\n    if (_this2.features_) {\n      if (_this2.features_.indexOf(feature) > -1) return feature;else return null;\n    }\n    return feature;\n  }, {\n    layerFilter: this.layerFilter_,\n    hitTolerance: isMobile && isMobile.any ? 10 : 0\n  });\n  if (intersectingFeature) featureFound = intersectingFeature;\n  return featureFound;\n};\n\nPickFeatureInteraction.prototype.shouldStopEvent = function () {\n  return false;\n};\n\nPickFeatureInteraction.prototype.setMap = function (map) {\n  if (!map) {\n    var elem = this.getMap().getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setMap.call(this, map);\n};\n\nmodule.exports = PickFeatureInteraction;\n\n},{}],106:[function(require,module,exports){\nvar RasterLayers = require('g3w-ol/layers/rasters');\nvar BaseLayers = {};\n\nBaseLayers.OSM = {};\n\nBaseLayers.OSM.get = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      title = _ref.title,\n      id = _ref.id,\n      url = _ref.url;\n\n  return new ol.layer.Tile({\n    source: new ol.source.OSM({\n      url: url\n    }),\n    id: id || 'osm',\n    title: title || 'OSM',\n    basemap: true\n  });\n};\n\nBaseLayers.TMS = {\n  get: function get() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$visible = _ref2.visible,\n        visible = _ref2$visible === undefined ? false : _ref2$visible,\n        _ref2$url = _ref2.url,\n        url = _ref2$url === undefined ? null : _ref2$url,\n        _ref2$source_type = _ref2.source_type,\n        source_type = _ref2$source_type === undefined ? \"xyz\" : _ref2$source_type,\n        minZoom = _ref2.minZoom,\n        maxZoom = _ref2.maxZoom,\n        projection = _ref2.projection,\n        attributions = _ref2.attributions,\n        _ref2$crossOrigin = _ref2.crossOrigin,\n        crossOrigin = _ref2$crossOrigin === undefined ? 'anonymous' : _ref2$crossOrigin;\n\n    var layer = void 0;\n    switch (source_type) {\n      case 'xyz':\n        layer = RasterLayers.XYZLayer({\n          url: url,\n          visible: visible,\n          minZoom: minZoom,\n          maxZoom: maxZoom,\n          attributions: attributions,\n          projection: projection,\n          crossOrigin: crossOrigin\n        });\n        break;\n      case 'arcgismapserver':\n        layer = RasterLayers.TiledArgisMapServer({\n          url: url,\n          visible: visible,\n          projection: projection,\n          attributions: attributions\n        });\n        break;\n      default:\n    }\n    return layer;\n  }\n};\n\nBaseLayers.WMS = {\n  get: function get(_ref3) {\n    var url = _ref3.url,\n        projection = _ref3.projection,\n        attributions = _ref3.attributions,\n        layers = _ref3.layers,\n        _ref3$singleTile = _ref3.singleTile,\n        singleTile = _ref3$singleTile === undefined ? false : _ref3$singleTile,\n        _ref3$opacity = _ref3.opacity,\n        opacity = _ref3$opacity === undefined ? 1 : _ref3$opacity;\n\n    return RasterLayers.WMSLayer({\n      url: url,\n      projection: projection,\n      attributions: attributions,\n      layers: layers,\n      tiled: singleTile,\n      opacity: opacity\n    });\n  }\n};\n\nBaseLayers.WMTS = {\n  get: function get() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref4.url,\n        layer = _ref4.layer,\n        visible = _ref4.visible,\n        attributions = _ref4.attributions,\n        matrixSet = _ref4.matrixSet,\n        projection = _ref4.projection,\n        requestEncoding = _ref4.requestEncoding,\n        _ref4$style = _ref4.style,\n        style = _ref4$style === undefined ? 'default' : _ref4$style,\n        _ref4$format = _ref4.format,\n        format = _ref4$format === undefined ? 'image/png' : _ref4$format,\n        _ref4$opacity = _ref4.opacity,\n        opacity = _ref4$opacity === undefined ? 0.7 : _ref4$opacity;\n\n    var projectionExtent = projection.getExtent();\n    var resolutions = new Array(14);\n    var size = ol.extent.getWidth(projectionExtent) / 256;\n    var matrixIds = new Array(14);\n    for (var z = 0; z < 14; ++z) {\n      // generate resolutions and matrixIds arrays for this WMTS\n      resolutions[z] = size / Math.pow(2, z);\n      matrixIds[z] = z;\n    }\n    return new ol.layer.Tile({\n      opacity: opacity,\n      source: new ol.source.WMTS({\n        url: url,\n        projection: projection,\n        layer: layer,\n        matrixSet: matrixSet,\n        requestEncoding: requestEncoding,\n        format: format,\n        attributions: attributions,\n        tileGrid: new ol.tilegrid.WMTS({\n          origin: ol.extent.getTopLeft(projectionExtent),\n          resolutions: resolutions,\n          matrixIds: matrixIds\n        }),\n        style: style\n      })\n    });\n  }\n};\n\nBaseLayers.BING = {};\n\nBaseLayers.BING.get = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var imagerySet = config.imagerySet || 'Aerial'; // 'Road', 'AerialWithLabels', 'Aerial'\n  return new ol.layer.Tile({\n    name: imagerySet,\n    visible: false,\n    preload: Infinity,\n    source: new ol.source.BingMaps({\n      imagerySet: imagerySet,\n      key: config.key\n    }),\n    basemap: true\n  });\n};\n\nmodule.exports = BaseLayers;\n\n},{\"g3w-ol/layers/rasters\":107}],107:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar DPI = require('core/utils/ol').getDPI();\n\nvar RasterLayers = {};\n\nvar loadImageTileFunction = function loadImageTileFunction(_ref) {\n  var _ref$method = _ref.method,\n      method = _ref$method === undefined ? 'GET' : _ref$method,\n      _ref$type = _ref.type,\n      type = _ref$type === undefined ? 'image' : _ref$type,\n      _ref$sourceOptions = _ref.sourceOptions,\n      sourceOptions = _ref$sourceOptions === undefined ? {} : _ref$sourceOptions;\n\n  window.URL = window.URL || window.webkitURL;\n  sourceOptions[type + 'LoadFunction'] = function (imageTile, url) {\n    var xhr = new XMLHttpRequest();\n\n    var _url$split = url.split('?'),\n        _url$split2 = _slicedToArray(_url$split, 2),\n        _url = _url$split2[0],\n        params = _url$split2[1];\n\n    xhr.open(method, method === 'POST' && _url || url);\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n    xhr.responseType = 'blob';\n    xhr.onload = function () {\n      var data = this.response;\n      if (data !== undefined) imageTile.getImage().src = window.URL.createObjectURL(data);else imageTile.setState(ol.TileState.ERROR);\n    };\n    xhr.onerror = function () {\n      image.setState(ol.TileState.ERROR);\n    };\n    xhr.send(method === 'POST' && params);\n  };\n};\n\nRasterLayers.TiledWMSLayer = function (layerObj, extraParams) {\n  var options = {\n    layerObj: layerObj,\n    extraParams: extraParams || {},\n    tiled: true\n  };\n  return RasterLayers._WMSLayer(options);\n};\n\nRasterLayers.WMSLayer = function (layerObj) {\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  var options = {\n    layerObj: layerObj,\n    extraParams: extraParams,\n    method: method\n  };\n  return RasterLayers._WMSLayer(options);\n};\n\nRasterLayers.WMTSLayer = function (layerObj, extraParams) {\n  var optionsFromCapabilities = ol.source.WMTS.optionsFromCapabilities;\n  return new ol.layer.Tile({\n    opacity: 1,\n    source: new ol.source.WMTS(options)\n  });\n};\n\nRasterLayers.ImageArgisMapServer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  return new ol.layer.Image({\n    source: new ol.source.ImageArcGISRest({\n      ratio: options.ratio,\n      params: {\n        FORMAT: options.format\n      },\n      url: options.url\n    })\n  });\n};\n\nRasterLayers.TiledArgisMapServer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var url = options.url,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      extent = options.extent,\n      projection = options.projection,\n      attributions = options.attributions,\n      crossOrigin = options.crossOrigin;\n\n  var source = new ol.source.TileArcGISRest({\n    url: url,\n    projection: projection,\n    attributions: attributions,\n    crossOrigin: crossOrigin\n  });\n  return new ol.layer.Tile({\n    extent: extent,\n    visible: visible,\n    source: source\n  });\n};\n\nRasterLayers._WMSLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var layerObj = options.layerObj,\n      _options$method = options.method,\n      method = _options$method === undefined ? 'GET' : _options$method,\n      extraParams = options.extraParams,\n      _options$tiled = options.tiled,\n      tiled = _options$tiled === undefined ? false : _options$tiled;\n  var _layerObj$iframe_inte = layerObj.iframe_internal,\n      iframe_internal = _layerObj$iframe_inte === undefined ? false : _layerObj$iframe_inte,\n      _layerObj$layers = layerObj.layers,\n      layers = _layerObj$layers === undefined ? '' : _layerObj$layers,\n      _layerObj$version = layerObj.version,\n      version = _layerObj$version === undefined ? '1.3.0' : _layerObj$version,\n      _layerObj$sld_version = layerObj.sld_version,\n      sld_version = _layerObj$sld_version === undefined ? '1.1.0' : _layerObj$sld_version,\n      id = layerObj.id,\n      name = layerObj.name,\n      _layerObj$opacity = layerObj.opacity,\n      opacity = _layerObj$opacity === undefined ? 1.0 : _layerObj$opacity,\n      visible = layerObj.visible,\n      extent = layerObj.extent,\n      maxResolution = layerObj.maxResolution,\n      format = layerObj.format;\n\n\n  var params = {\n    LAYERS: layers,\n    VERSION: version,\n    TRANSPARENT: true,\n    SLD_VERSION: sld_version,\n    DPI: DPI\n  };\n\n  /**\n   * Check if not undefined otherwise FORMAT parameter is not send\n   * \n   * @since 3.7.11\n   */\n  if (\"undefined\" !== typeof format) {\n    params.FORMAT = format;\n  }\n\n  var sourceOptions = {\n    url: layerObj.url,\n    params: Object.assign({}, params, extraParams),\n    ratio: 1,\n    projection: layerObj.projection ? layerObj.projection.getCode() : null\n  };\n\n  if (iframe_internal || 'POST' === method) {\n    loadImageTileFunction({ method: method, sourceOptions: sourceOptions, type: 'image' });\n  }\n\n  var imageOptions = {\n    id: id,\n    name: name,\n    opacity: opacity,\n    visible: visible,\n    extent: extent,\n    maxResolution: maxResolution\n  };\n\n  if (tiled) {\n    imageOptions.source = new ol.source.TileWMS(sourceOptions);\n    return new ol.layer.Tile(imageOptions);\n  }\n\n  imageOptions.source = new ol.source.ImageWMS(sourceOptions);\n  return new ol.layer.Image(imageOptions);\n};\n\nRasterLayers.XYZLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n\n  var iframe_internal = options.iframe_internal || false;\n  var url = options.url,\n      projection = options.projection,\n      maxZoom = options.maxZoom,\n      minZoom = options.minZoom,\n      _options$visible2 = options.visible,\n      visible = _options$visible2 === undefined ? true : _options$visible2,\n      crossOrigin = options.crossOrigin;\n\n  if (!url) return;\n  var sourceOptions = {\n    url: url,\n    maxZoom: maxZoom,\n    minZoom: minZoom,\n    projection: projection,\n    crossOrigin: crossOrigin\n  };\n  if (iframe_internal) loadImageTileFunction({\n    method: method,\n    type: 'tile',\n    sourceOptions: sourceOptions\n  });\n\n  if (projection.getUnits() === 'degrees') {\n    var extent = projection.getExtent();\n    var resolutions = ol.tilegrid.createXYZ({ extent: extent, maxZoom: maxZoom }).getResolutions();\n    // needed to remove the first resolutis because in this version of ol createXYZ doesn't  accept maxResolution options .\n    // The extent of EPSG:4326 is not squared [-180, -90, 180, 90] as EPSG:3857 so the resolution is calculate by Math.max(width(extent)/tileSize,Height(extent)/tileSize)\n    // we need to calculate to Math.min instead so we have to remove the first resolution\n    resolutions.splice(0, 1);\n    //////////////////////////////////////////\n    sourceOptions.tileGrid = new ol.tilegrid.TileGrid({\n      extent: extent,\n      resolutions: resolutions\n    });\n  }\n\n  var source = new ol.source.XYZ(sourceOptions);\n  return new ol.layer.Tile({\n    visible: visible,\n    projection: projection,\n    source: source\n  });\n};\n\nmodule.exports = RasterLayers;\n\n},{\"core/utils/ol\":65}],108:[function(require,module,exports){\nvar BaseLayers = require('../layers/bases');\n\nvar MapHelpers = {\n  createViewer: function createViewer() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new _Viewer(opts);\n  }\n};\n\nvar _Viewer = function _Viewer() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var controls = ol.control.defaults({\n    attribution: false,\n    zoom: false\n  });\n\n  var interactions = ol.interaction.defaults().extend([new ol.interaction.DragRotate()]);\n  interactions.removeAt(1); // remove douclickzoom\n  var view = opts.view instanceof ol.View ? opts.view : new ol.View(opts.view);\n  var options = {\n    controls: controls,\n    interactions: interactions,\n    ol3Logo: false,\n    view: view,\n    keyboardEventTarget: document\n  };\n  options.target = opts.id;\n  var map = new ol.Map(options);\n  this.map = map;\n};\n\n_Viewer.prototype.destroy = function () {\n  if (this.map) {\n    this.map.dispose();\n    this.map = null;\n  }\n};\n\n_Viewer.prototype.getView = function () {\n  return this.map.getView();\n};\n\n_Viewer.prototype.updateMap = function (mapObject) {};\n\n_Viewer.prototype.updateView = function () {};\n\n_Viewer.prototype.getMap = function () {\n  return this.map;\n};\n\n_Viewer.prototype.setTarget = function (id) {\n  this.map.setTarget(id);\n};\n\n_Viewer.prototype.zoomTo = function (coordinate, zoom) {\n  var view = this.map.getView();\n  view.setCenter(coordinate);\n  view.setZoom(zoom);\n};\n\n_Viewer.prototype.goTo = function (coordinates, options) {\n  options = options || {};\n  var animate = options.animate || true;\n  var zoom = options.zoom || false;\n  var view = this.map.getView();\n  var panAnimation = void 0;\n  var duration = 300;\n  var zoomAnimation = void 0;\n  if (animate) {\n    panAnimation = {\n      duration: duration,\n      center: coordinates\n    };\n    if (zoom) {\n      zoomAnimation = {\n        duration: duration,\n        zoom: zoom\n      };\n    } else {\n      zoomAnimation = {\n        duration: duration,\n        resolution: view.getResolution()\n      };\n    }\n    view.animate(panAnimation, zoomAnimation);\n  } else {\n    view.setCenter(coordinates);\n    if (zoom) {\n      view.setZoom(zoom);\n    }\n  }\n};\n\n_Viewer.prototype.goToRes = function (coordinates, options) {\n  options = options || {};\n  var animate = options.animate || true;\n  var view = this.map.getView();\n  var resolution = options.resolution || view.getResolution();\n  var panAnimation = void 0;\n  var zoomAnimation = void 0;\n  if (animate) {\n    panAnimation = {\n      duration: 200,\n      center: coordinates\n    };\n    zoomAnimation = {\n      duration: 200,\n      resolution: resolution\n    };\n    view.animate(panAnimation, zoomAnimation);\n  } else {\n    view.setCenter(coordinates);\n    view.setResolution(resolution);\n  }\n};\n\n_Viewer.prototype.fit = function (geometry) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var view = this.map.getView();\n  var animate = options.animate || true;\n  var panAnimation = void 0;\n  var zoomAnimation = void 0;\n  var duration = 200;\n  if (animate) {\n    panAnimation = view.animate({\n      duration: duration,\n      center: view.getCenter()\n    });\n    zoomAnimation = view.animate({\n      duration: duration,\n      resolution: view.getResolution()\n    });\n  }\n\n  if (options.animate) {\n    delete options.animate; // non lo passo al metodo di OL3 perché è un'opzione interna\n  }\n  options.constrainResolution = options.constrainResolution === undefined && true || options.constrainResolution;\n  options.size = this.map.getSize();\n  view.fit(geometry, options);\n};\n\n_Viewer.prototype.getZoom = function () {\n  var view = this.map.getView();\n  return view.getZoom();\n};\n\n_Viewer.prototype.getResolution = function () {\n  var view = this.map.getView();\n  return view.getResolution();\n};\n\n_Viewer.prototype.getCenter = function () {\n  var view = this.map.getView();\n  return view.getCenter();\n};\n\n_Viewer.prototype.getBBOX = function () {\n  return this.map.getView().calculateExtent(this.map.getSize());\n};\n\n_Viewer.prototype.getLayerByName = function (layerName) {\n  var layers = this.map.getLayers();\n  var length = layers.getLength();\n  for (var i = 0; i < length; i++) {\n    if (layerName === layers.item(i).get('name')) {\n      return layers.item(i);\n    }\n  }\n  return null;\n};\n\n_Viewer.prototype.removeLayerByName = function (layerName) {\n  var layer = this.getLayerByName(layerName);\n  if (layer) {\n    this.map.removeLayer(layer);\n    layer = undefined;\n  }\n};\n\n_Viewer.prototype.getActiveLayers = function () {\n  var activelayers = [];\n  this.map.getLayers().forEach(function (layer) {\n    var props = layer.getProperties();\n    if (props.basemap !== true && props.visible) {\n      activelayers.push(layer);\n    }\n  });\n\n  return activelayers;\n};\n\n_Viewer.prototype.removeLayers = function () {\n  this.map.getLayers().clear();\n};\n\n_Viewer.prototype.getLayersNoBase = function () {\n  var layers = [];\n  this.map.getLayers().forEach(function (layer) {\n    var props = layer.getProperties();\n    if (props.basemap != true) {\n      layers.push(layer);\n    }\n  });\n\n  return layers;\n};\n\n_Viewer.prototype.addBaseLayer = function (type) {\n  var layer = void 0;\n  type ? layer = BaseLayers[type] : layer = BaseLayers.BING.Aerial;\n  this.map.addLayer(layer);\n};\n\n_Viewer.prototype.changeBaseLayer = function (layerName) {\n  var baseLayer = this.getLayerByName(layername);\n  var layers = this.map.getLayers();\n  layers.insertAt(0, baseLayer);\n};\n\nmodule.exports = MapHelpers;\n\n},{\"../layers/bases\":106}],109:[function(require,module,exports){\nvar Projection = function Projection() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (!options.crs) return null;\n  // structure of information crs from server set on each layer and base layer\n  var _options$crs = options.crs,\n      epsg = _options$crs.epsg,\n      proj4def = _options$crs.proj4,\n      _options$crs$geograph = _options$crs.geographic,\n      geographic = _options$crs$geograph === undefined ? false : _options$crs$geograph,\n      _options$crs$axisinve = _options$crs.axisinverted,\n      axisinverted = _options$crs$axisinve === undefined ? false : _options$crs$axisinve,\n      extent = _options$crs.extent;\n\n  proj4def && proj4.defs(epsg, proj4def);\n  this._axisOrientation = axisinverted ? 'neu' : 'enu';\n  var degrees = geographic;\n  ol.proj.Projection.call(this, {\n    code: epsg,\n    extent: extent,\n    axisOrientation: this._axisOrientation,\n    units: degrees ? 'degrees' : 'm'\n  });\n};\n\nol.inherits(Projection, ol.proj.Projection);\n\nvar proto = Projection.prototype;\n\nproto.getAxisOrientation = function () {\n  return this._axisOrientation;\n};\n\nproto.isInvertedAxisOrientation = function () {\n  return this._axisOrientation === 'neu';\n};\n\nproto.getOlProjection = function () {};\n\nmodule.exports = Projection;\n\n},{}],110:[function(require,module,exports){\nvar _constant = require('constant');\n\nvar Projection = require('./projection');\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    normalizeEpsg = _require2.normalizeEpsg;\n\nvar Projections = {\n\n  /**\n   * @since v3.8\n   */\n  isRegistered: function isRegistered(epsg) {\n    return ol.proj.get(epsg);\n  },\n  get: function get() {\n    var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var cachedProjection = this.isRegistered(crs.epsg);\n    if (cachedProjection) return cachedProjection;\n    var projection = new Projection({\n      crs: crs\n    });\n    ol.proj.addProjection(projection);\n    ol.proj.proj4.register(proj4);\n    return projection;\n  },\n\n\n  /**\n   * Check and register epsg\n   * \n   * @param epsg : \"EPSG:<CODE>\" Ex. \"EPSG:4326\"\n   * @returns {Promise<Projection>}\n   * @since v3.8\n   */\n  registerProjection: function registerProjection(epsg) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      var projection = _this.isRegistered(epsg);\n      // check if already register\n      if (projection) resolve(projection);else {\n        XHR.get({ url: '' + _constant.API_BASE_URLS.CRS + epsg.split(':')[1] }).then(function (_ref) {\n          var result = _ref.result,\n              data = _ref.data;\n\n          if (result) {\n            data.epsg = normalizeEpsg(data.epsg);\n            projection = _this.get(data);\n            ol.proj.proj4.register(proj4);\n            resolve(projection);\n          }\n        }).catch(function (err) {\n          return reject(err);\n        });\n      }\n    });\n  }\n};\n\nmodule.exports = Projections;\n\n},{\"./projection\":109,\"constant\":4,\"core/utils/geo\":64,\"core/utils/utils\":67}],111:[function(require,module,exports){\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction CatalogService() {\n  var _this2 = this;\n\n  this.state = {\n    prstate: _projects2.default.state,\n    highlightlayers: false,\n    external: {\n      wms: [], // added by wms cside bar component\n      vector: [] // added to map controls for the moment\n    },\n    layerstrees: [],\n    layersgroups: []\n  };\n\n  this.setters = {\n\n    /**\n     * @param {{ layer: unknown, type: 'vector' }}\n     * \n     * @fires CatalogService~addExternalLayer\n     * \n     * @since 3.8.0\n     */\n    addExternalLayer: function addExternalLayer() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          layer = _ref.layer,\n          _ref$type = _ref.type,\n          type = _ref$type === undefined ? 'vector' : _ref$type;\n\n      layer.removable = true;\n      this.state.external[type].push(layer);\n    },\n\n\n    /**\n     * @param {{ name: string, type: 'vector' }}\n     * \n     * @fires CatalogService~removeExternalLayer\n     * \n     * @since 3.8.0\n     */\n    removeExternalLayer: function removeExternalLayer() {\n      var _this = this;\n\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          name = _ref2.name,\n          _ref2$type = _ref2.type,\n          type = _ref2$type === undefined ? 'vector' : _ref2$type;\n\n      this.state.external[type].filter(function (layer, index) {\n        if (layer.name === name) {\n          _this.state.external[type].splice(index, 1);\n          return true;\n        }\n      });\n    },\n\n\n    /**\n     * @param {{ layer: unknown, type: unknown, selected: unknown }}\n     * \n     * @fires CatalogService~setSelectedExternalLayer\n     * \n     * @since 3.8.0\n     */\n    setSelectedExternalLayer: function setSelectedExternalLayer(_ref3) {\n      var layer = _ref3.layer,\n          type = _ref3.type,\n          selected = _ref3.selected;\n\n      this.state.external[type].forEach(function (externalLayer) {\n        if (typeof externalLayer.selected != \"undefined\") externalLayer.selected = layer === externalLayer ? selected : false;\n      });\n    }\n  };\n\n  base(this);\n  var layersStores = _catalogLayers2.default.getLayersStores();\n\n  layersStores.forEach(function (layersStore) {\n    return _this2.addLayersStoreToLayersTrees(layersStore);\n  });\n\n  _catalogLayers2.default.onafter('addLayersStore', function (layersStore) {\n    _this2.addLayersStoreToLayersTrees(layersStore);\n  });\n\n  _catalogLayers2.default.onafter('removeLayersStore', function (layersStore) {\n    _this2.state.layerstrees.find(function (layersTree, idx) {\n      if (layersTree.storeid === layersStore.getId()) {\n        _this2.state.layerstrees.splice(idx, 1);\n        return true;\n      }\n    });\n  });\n  _catalogLayers2.default.onafter('removeLayersStores', function () {\n    _this2.state.layerstrees.forEach(function (layersTree, idx) {\n      _this2.state.layerstrees.splice(idx, 1);\n    });\n  });\n}\n\ninherit(CatalogService, G3WObject);\n\nvar proto = CatalogService.prototype;\n\nproto.createLayersGroup = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$title = _ref4.title,\n      title = _ref4$title === undefined ? 'Layers Group' : _ref4$title,\n      _ref4$layers = _ref4.layers,\n      layers = _ref4$layers === undefined ? [] : _ref4$layers;\n\n  var nodes = [];\n  layers.forEach(function (layer) {\n    return nodes.push(layer);\n  });\n  return {\n    title: title,\n    nodes: nodes\n  };\n};\n\nproto.getMajorQgisVersion = function () {\n  return _projects2.default.getCurrentProject().getQgisVersion({\n    type: 'major'\n  });\n};\n\n// method to add a custom layers group\nproto.addLayersGroup = function (layersGroup) {\n  this.state.layersgroups.push(layersGroup);\n};\n\nproto.addLayersStoreToLayersTrees = function (layersStore) {\n  this.state.layerstrees.push({\n    tree: layersStore.getLayersTree(),\n    storeid: layersStore.getId()\n  });\n};\n\nproto.changeMapTheme = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(map_theme) {\n    var currentProject, rootNode, layerstree, changeMapThemeProjectObj;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // set is changing project view\n            _application2.default.changeProjectView(true);\n            currentProject = this.state.prstate.currentProject;\n            rootNode = this.state.layerstrees[0];\n\n            rootNode.checked = true;\n            layerstree = rootNode.tree[0].nodes;\n            _context.next = 7;\n            return currentProject.setLayersTreePropertiesFromMapTheme({\n              map_theme: map_theme,\n              layerstree: layerstree,\n              rootNode: rootNode\n            });\n\n          case 7:\n            changeMapThemeProjectObj = _context.sent;\n\n            _application2.default.changeProjectView(false);\n            return _context.abrupt('return', changeMapThemeProjectObj);\n\n          case 10:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x4) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns {unknown}\n * \n * @since 3.8.0\n */\nproto.getExternalLayers = function (_ref6) {\n  var _ref6$type = _ref6.type,\n      type = _ref6$type === undefined ? 'vector' : _ref6$type;\n\n  return this.state.external[type];\n};\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns {unknown}\n * \n * @since 3.8.0\n */\nproto.getExternalSelectedLayers = function (_ref7) {\n  var _ref7$type = _ref7.type,\n      type = _ref7$type === undefined ? 'vector' : _ref7$type;\n\n  return this.getExternalLayers({ type: type }).filter(function (layer) {\n    return layer.selected;\n  });\n};\n\n/**\n * @param {{ id: string, type: 'vector' }}\n * \n * @returns {unknown}\n * \n * @since 3.8.0\n */\nproto.getExternalLayerById = function (_ref8) {\n  var id = _ref8.id,\n      _ref8$type = _ref8.type,\n      type = _ref8$type === undefined ? 'vector' : _ref8$type;\n\n  return this.state.external[type].find(function (layer) {\n    return layer.id === id;\n  });\n};\n\n/**\n * @param {{ id: string, type: unknown }}\n * \n * @returns {boolean}\n * \n * @since 3.8.0\n */\nproto.isExternalLayerSelected = function (_ref9) {\n  var id = _ref9.id,\n      type = _ref9.type;\n\n  var externalLayer = this.getExternalLayerById({ id: id, type: type });\n  return externalLayer && externalLayer.selected;\n};\n\nmodule.exports = CatalogService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/application\":350,\"store/catalog-layers\":373,\"store/projects\":378}],112:[function(require,module,exports){\nvar _Catalog = require('components/Catalog.vue');\n\nvar catalogComponentOptions = _interopRequireWildcard(_Catalog);\n\nvar _CatalogLayersGroup = require('components/CatalogLayersGroup.vue');\n\nvar catalogLayersGroupComponentOptions = _interopRequireWildcard(_CatalogLayersGroup);\n\nvar _CatalogTristateTree = require('components/CatalogTristateTree.vue');\n\nvar catalogTristateTreeComponentOptions = _interopRequireWildcard(_CatalogTristateTree);\n\nvar _CatalogLayersLegend = require('components/CatalogLayersLegend.vue');\n\nvar catalogLayersLegendComponentOptions = _interopRequireWildcard(_CatalogLayersLegend);\n\nvar _CatalogLayersLegendItems = require('components/CatalogLayersLegendItems.vue');\n\nvar catalogLayersLegendItemsComponentOptions = _interopRequireWildcard(_CatalogLayersLegendItems);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/catalog/catalogservice');\n\nvar InternalComponent = Vue.extend(catalogComponentOptions);\n\nVue.component('g3w-catalog', catalogComponentOptions);\nVue.component('layers-group', catalogLayersGroupComponentOptions);\nVue.component('tristate-tree', catalogTristateTreeComponentOptions);\nVue.component('layerslegend', catalogLayersLegendComponentOptions);\nVue.component('layerslegend-items', catalogLayersLegendItemsComponentOptions);\n\nfunction CatalogComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.resizable = true;\n  base(this, options);\n  var legend = options.config.legend;\n\n  this.title = \"catalog\";\n  this.mapComponentId = options.mapcomponentid;\n  var service = options.service || new Service();\n  this.setService(service);\n  this.setInternalComponent(new InternalComponent({\n    service: service,\n    legend: legend\n  }));\n  this.internalComponent.state = this.getService().state;\n  var listenToMapVisibility = function listenToMapVisibility(map) {\n    var mapService = map.getService();\n    _this.state.visible = !mapService.state.hidden;\n    mapService.onafter('setHidden', function (hidden) {\n      _this.state.visible = !mapService.state.hidden;\n      _this.state.expanded = true;\n    });\n  };\n  if (this.mapComponentId) {\n    var map = _gui2.default.getComponent(this.mapComponentId);\n    !map && _components2.default.on('componentregistered', function (component) {\n      return component.getId() === _this.mapComponentId && listenToMapVisibility(component);\n    }) || listenToMapVisibility(map);\n  }\n}\n\ninherit(CatalogComponent, Component);\n\nmodule.exports = CatalogComponent;\n\n},{\"components/Catalog.vue\":196,\"components/CatalogLayersGroup.vue\":200,\"components/CatalogLayersLegend.vue\":201,\"components/CatalogLayersLegendItems.vue\":202,\"components/CatalogTristateTree.vue\":203,\"core/utils/utils\":67,\"gui/catalog/catalogservice\":111,\"gui/component/component\":116,\"services/gui\":360,\"store/components\":374}],113:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nvar CatalogEventHub = new Vue();\n\nexports.default = CatalogEventHub;\n\n},{}],114:[function(require,module,exports){\nvar _ChangeMapMenu = require('components/ChangeMapMenu.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_ChangeMapMenu);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    merge = _require.merge;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ChangeMapMenuComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.id = 'changemapmenu';\n  base(this, options);\n  this.state.visible = true;\n  merge(this, options);\n  this.internalComponent = new InternalComponent();\n}\ninherit(ChangeMapMenuComponent, Component);\n\nmodule.exports = ChangeMapMenuComponent;\n\n},{\"components/ChangeMapMenu.vue\":204,\"core/utils/utils\":67,\"gui/component/component\":116}],115:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _C3XYLine = require('components/C3XYLine.vue');\n\nvar _C3XYLine2 = _interopRequireDefault(_C3XYLine);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Chartsfactory = {\n  CHARTS: {\n    c3: {\n      lineXY: _C3XYLine2.default\n    }\n  },\n  /*\n  * type: <library(es:c3)>:<chartType:(es.lineXY)>\n  * */\n  build: function build() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        type = _ref.type,\n        _ref$hooks = _ref.hooks,\n        hooks = _ref$hooks === undefined ? {} : _ref$hooks;\n\n    var _type$split = type.split(':'),\n        _type$split2 = _slicedToArray(_type$split, 2),\n        _type$split2$ = _type$split2[0],\n        library = _type$split2$ === undefined ? 'c3' : _type$split2$,\n        _type$split2$2 = _type$split2[1],\n        chartType = _type$split2$2 === undefined ? 'lineXY' : _type$split2$2;\n\n    var chartVue = this.CHARTS[library][chartType];\n    return Object.assign(hooks, chartVue);\n  }\n};\n\nmodule.exports = Chartsfactory;\n\n},{\"components/C3XYLine.vue\":195}],116:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    merge = _require.merge,\n    noop = _require.noop,\n    capitalize_first_letter = _require.capitalize_first_letter,\n    resolve = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\n\nvar VUECOMPONENTSATTRIBUTES = ['methods', 'computed', 'data', 'components'];\n\n// class component\nvar Component = function Component() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._firstLayout = true;\n  // internal VUE component\n  this.internalComponent = null;\n  this._components = [];\n  var _options$id = options.id,\n      id = _options$id === undefined ? Math.random() * 1000 : _options$id,\n      _options$title = options.title,\n      title = _options$title === undefined ? '' : _options$title,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$open = options.open,\n      open = _options$open === undefined ? false : _options$open,\n      _options$resizable = options.resizable,\n      resizable = _options$resizable === undefined ? false : _options$resizable,\n      _options$info = options.info,\n      info = _options$info === undefined ? null : _options$info,\n      _options$loading = options.loading,\n      loading = _options$loading === undefined ? false : _options$loading,\n      _options$disabled = options.disabled,\n      disabled = _options$disabled === undefined ? false : _options$disabled,\n      _options$closewhensho = options.closewhenshowviewportcontent,\n      closewhenshowviewportcontent = _options$closewhensho === undefined ? true : _options$closewhensho;\n\n  this.id = id;\n  this.title = title;\n  this.state = {\n    visible: visible, // visibile\n    open: open, // open,\n    resizable: resizable,\n    info: info,\n    loading: loading,\n    disabled: disabled,\n    closewhenshowviewportcontent: closewhenshowviewportcontent,\n    sizes: {\n      width: 0,\n      height: 0\n    }\n  };\n  //setters\n  this.setters = {\n    setOpen: function setOpen(bool) {\n      this.state.open = bool;\n      this._setOpen(bool);\n    },\n    setVisible: function setVisible(bool) {\n      this.state.visible = bool;\n      this._setVisible(bool);\n    },\n    setLoading: function setLoading() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.state.loading = bool;\n    },\n    setDisabled: function setDisabled() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.state.disabled = bool;\n    },\n    reload: function reload() {\n      this._reload();\n    }\n  };\n  merge(this, options);\n  base(this);\n  // add events options\n  this.events = options.events;\n  this.events && this.handleEventsComponent();\n};\n\ninherit(Component, G3WObject);\n\nvar proto = Component.prototype;\n\nproto.init = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.vueComponent = this.createVueComponent(options.vueComponentObject);\n  this._components = options.components || [];\n  var service = options.service || noop;\n  var template = options.template,\n      propsData = options.propsData;\n\n  this.setService(service);\n  this._service.init ? this._service.init(options) : null;\n  template && this.setInternalComponentTemplate(template);\n  this.setInternalComponent = function () {\n    var InternalComponent = Vue.extend(this.vueComponent);\n    this.internalComponent = new InternalComponent({\n      service: this._service,\n      template: template,\n      propsData: propsData\n    });\n    this.internalComponent.state = this.getService().state;\n  };\n  this.setInternalComponent();\n};\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.setId = function (id) {\n  this.id = id;\n};\n\nproto.getOpen = function () {\n  return this.state.open;\n};\n\nproto.closeWhenViewportContentIsOpen = function () {\n  return this.getOpen() && this.state.closewhenshowviewportcontent;\n};\n\nproto.getVisible = function () {\n  return this.state.visible;\n};\n\nproto.getTitle = function () {\n  return this.state.title;\n};\n\nproto.setTitle = function (title) {\n  this.state.title = title;\n};\n\nproto.getService = function () {\n  return this._service;\n};\n\nproto.setService = function (service) {\n  this._service = service;\n};\n\nproto.handleEventsComponent = function () {\n  var _events = this.events,\n      open = _events.open,\n      visible = _events.visible;\n\n  if (open) {\n    var _open$when = open.when,\n        when = _open$when === undefined ? \"after\" : _open$when,\n        _open$cb = open.cb,\n        cb = _open$cb === undefined ? function () {} : _open$cb,\n        _open$guiEvents = open.guiEvents,\n        guiEvents = _open$guiEvents === undefined ? [] : _open$guiEvents;\n\n    this['on' + when]('setOpen', function (bool) {\n      return cb(bool);\n    });\n  }\n};\n\nproto.insertComponentAt = function (index, Component) {\n  this._components.splice(index, 0, Component);\n};\n\nproto.removeCompomentAt = function (index) {\n  this._components.splice(index, 1);\n};\n\nproto.addComponent = function (Component) {\n  this._components.push(Component);\n};\n\nproto.popComponent = function () {\n  return this._components.pop();\n};\n\nproto.removeComponent = function (Component) {\n  var _this = this;\n\n  this._components.forEach(function (component, index) {\n    if (component === Component) {\n      _this.splice(index, 1);\n      return false;\n    }\n  });\n};\n\nproto.setComponents = function (components) {\n  this._components = Array.isArray(components) ? components : [];\n};\n\nproto.exendComponents = function (components) {\n  _.merge(this._components, components);\n};\n\nproto.getInternalComponent = function () {\n  return this.internalComponent;\n};\n\nproto.setInternalComponent = function (internalComponent) {\n  var _this2 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!internalComponent && this.internalComponentClass) this.internalComponent = new this.internalComponentClass();else this.internalComponent = internalComponent;\n  var _options$events = options.events,\n      events = _options$events === undefined ? [] : _options$events;\n\n  events.forEach(function (event) {\n    var name = event.name,\n        handler = event.handler;\n\n    _this2.internalComponent.$on(name, function (data) {\n      return handler && handler(data) || _this2['set' + capitalize_first_letter(name)](data);\n    });\n  });\n};\n\nproto.createVueComponent = function (vueObjOptions) {\n  return _.cloneDeep(vueObjOptions);\n};\n\nproto.addInternalComponentData = function (data) {\n  _.merge(this.internalComponent, data);\n};\n\nproto.overwriteServiceMethod = function (methodName, method) {\n  this._service[methodName] = method;\n};\n\nproto.overwriteServiceMethods = function (methodsOptions) {\n  var _this3 = this;\n\n  Object.entries(methodsOptions).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        methodName = _ref2[0],\n        method = _ref2[1];\n\n    return _this3.overwriteServiceMethod(methodName, method);\n  });\n};\n\nproto.extendService = function (serviceOptions) {\n  this._service && merge(this._service, serviceOptions);\n};\n\nproto.extendInternalComponent = function (internalComponentOptions) {\n  var _this4 = this;\n\n  if (this.vueComponent) {\n    Object.entries(internalComponentOptions).forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          key = _ref4[0],\n          value = _ref4[1];\n\n      if (VUECOMPONENTSATTRIBUTES.indexOf(key) > -1) {\n        switch (key) {\n          case 'methods':\n            _this4.extendInternalComponentMethods(value);\n            break;\n          case 'components':\n            _this4.extendInternalComponentComponents(value);\n            break;\n          default:\n            merge(_this4.vueComponent[key], value);\n        }\n      }\n    });\n  } else this.vueComponent = internalComponentOptions;\n};\n\nproto.extendInternalComponentComponents = function (components) {\n  components && merge(this.vueComponent.components, components);\n};\n\nproto.extendComponents = function (components) {\n  this.extendInternalComponentComponents(components);\n};\n\nproto.addComponent = function (component) {\n  if (component) this.vueComponent.components[component.key] = component.value;\n};\n\nproto.extendInternalComponentMethods = function (methods) {\n  if (methods) {\n    Object.entries(methods).forEach.forEach(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n          key = _ref6[0],\n          value = _ref6[1];\n\n      return !(value instanceof Function) && delete methods[key];\n    });\n    merge(this.vueComponent.methods, methods);\n  }\n};\n\nproto.extendInternalComponentComputed = function (computed) {\n  if (computed) {\n    Object.entries(computed).forEach(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          key = _ref8[0],\n          value = _ref8[1];\n\n      return !(value instanceof Function) && delete computed[key];\n    });\n    merge(this.vueComponent.computed, computed);\n  }\n};\n\nproto.setInternalComponentTemplate = function (template) {\n  if (template) this.vueComponent.template = template;\n};\n\nproto.getInternalTemplate = function () {\n  return this.vueComponent.template;\n};\n\nproto.destroy = function () {};\n\nproto.click = function () {};\n\n// hook function to show componet\nproto.show = function () {};\n\nproto._setOpen = function (bool) {};\n\nproto._setVisible = function () {};\n\nproto._reload = function () {};\n\nproto.mount = function (parent, append) {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  if (!this.internalComponent) this.setInternalComponent();\n  if (append) {\n    var iCinstance = this.internalComponent.$mount();\n    $(parent).append(iCinstance.$el);\n  } else this.internalComponent.$mount(parent);\n  this.internalComponent.$nextTick(function () {\n    $(parent).localize();\n    _this5.emit('ready');\n    d.resolve(true);\n  });\n  // emit mount event\n  this.emit('mount');\n  return d.promise();\n};\n\nproto.unmount = function () {\n  if (!this.internalComponent) return resolve();\n  if (this.state.resizable) this.internalComponent.$off('resize-component', this.internalComponent.layout);\n  this.state.open = false;\n  // destroy vue component\n  this.internalComponent.$destroy(true);\n  // remove dom element\n  $(this.internalComponent.$el).remove();\n  // set internal componet to null (for GC)\n  this.internalComponent = null;\n  // emit unmount event\n  this.emit('unmount');\n  return resolve();\n};\n\nproto.ismount = function () {\n  return this.internalComponent && this.internalComponent.$el;\n};\n\nproto.layout = function (width, height) {\n  var _this6 = this;\n\n  if (this.state.resizable && this._firstLayout) {\n    this.internalComponent.$on('resize-component', this.internalComponent.layout);\n    this._firstLayout = false;\n  }\n  this.internalComponent.$nextTick(function () {\n    _this6.internalComponent.$emit('resize-component', {\n      width: width,\n      height: height\n    });\n  });\n  // emit layout event\n  this.emit('layout');\n};\n\nmodule.exports = Component;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],117:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Component = require('gui/component/component');\n\nvar ComponentsFactory = {\n  // build a componet\n  build: function build(_ref) {\n    var vueComponentObject = _ref.vueComponentObject,\n        service = _ref.service,\n        propsData = _ref.propsData;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var component = new Component(options);\n    component.init({\n      vueComponentObject: vueComponentObject,\n      service: service,\n      propsData: propsData\n    });\n    return component;\n  },\n\n  //buildSidebarComponent and add to sidebar\n  buildSidebar: function buildSidebar(_ref2) {\n    var vueComponentObject = _ref2.vueComponentObject,\n        service = _ref2.service,\n        propsData = _ref2.propsData;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var id = options.id,\n        title = options.title,\n        _options$open = options.open,\n        open = _options$open === undefined ? false : _options$open,\n        _options$collapsible = options.collapsible,\n        collapsible = _options$collapsible === undefined ? true : _options$collapsible,\n        _options$isolate = options.isolate,\n        isolate = _options$isolate === undefined ? false : _options$isolate,\n        _options$mobile = options.mobile,\n        mobile = _options$mobile === undefined ? true : _options$mobile,\n        _options$iconConfig = options.iconConfig,\n        iconConfig = _options$iconConfig === undefined ? {} : _options$iconConfig,\n        _options$events = options.events,\n        events = _options$events === undefined ? {} : _options$events,\n        _options$sidebarOptio = options.sidebarOptions,\n        sidebarOptions = _options$sidebarOptio === undefined ? { position: 1 } : _options$sidebarOptio;\n\n\n    var component = this.build({ vueComponentObject: vueComponentObject }, {\n      id: id,\n      title: title,\n      open: open,\n      collapsible: collapsible,\n      isolate: isolate,\n      iconColor: iconConfig.color && iconConfig.color,\n      icon: iconConfig.icon && _gui2.default.getFontClass(iconConfig.icon),\n      mobile: mobile,\n      events: events\n    });\n\n    _gui2.default.addComponent(component, 'sidebar', sidebarOptions);\n    return component;\n  }\n};\n\nmodule.exports = ComponentsFactory;\n\n},{\"gui/component/component\":116,\"services/gui\":360}],118:[function(require,module,exports){\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nmodule.exports = {\n  matcher: function matcher(params, data) {\n    var searchItem = params.term ? params.term.toLowerCase() : params.term;\n    // If there are no search terms, return all of the data\n    if ($.trim(searchItem) === '') return data;\n    // Do not display the item if there is no 'text' property\n    if (typeof data.text === 'undefined') return null;\n    // `params.term` should be the term that is used for searching\n    // `data.text` is the text that is displayed for the data object\n    if (data.text.toLowerCase().indexOf(searchItem) > -1) {\n      var modifiedData = $.extend({}, data, true);\n      // You can return modified objects from here\n      // This includes matching the `children` how you want in nested data sets\n      return modifiedData;\n    }\n    // Return `null` if the term should not be displayed\n    return null;\n  },\n  language: {\n    noResults: function noResults() {\n      return t(\"sdk.search.no_results\");\n    },\n    errorLoading: function errorLoading() {\n      return t(\"sdk.search.error_loading\");\n    },\n    searching: function searching() {\n      return t(\"sdk.search.searching\");\n    },\n    inputTooShort: function inputTooShort(args) {\n      var remainingChars = args.minimum - args.input.length;\n      return t(\"sdk.search.autocomplete.inputshort.pre\") + ' ' + remainingChars + ' ' + t(\"sdk.search.autocomplete.inputshort.post\");\n    }\n  }\n};\n\n},{\"core/i18n/i18n.service\":13}],119:[function(require,module,exports){\nvar _FieldText = require('components/FieldText.vue');\n\nvar _FieldText2 = _interopRequireDefault(_FieldText);\n\nvar _FieldLink = require('components/FieldLink.vue');\n\nvar _FieldLink2 = _interopRequireDefault(_FieldLink);\n\nvar _FieldImage = require('components/FieldImage.vue');\n\nvar _FieldImage2 = _interopRequireDefault(_FieldImage);\n\nvar _FieldGeo = require('components/FieldGeo.vue');\n\nvar _FieldGeo2 = _interopRequireDefault(_FieldGeo);\n\nvar _FieldMedia = require('components/FieldMedia.vue');\n\nvar _FieldMedia2 = _interopRequireDefault(_FieldMedia);\n\nvar _FieldVue = require('components/FieldVue.vue');\n\nvar _FieldVue2 = _interopRequireDefault(_FieldVue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = {\n  simple_field: _FieldText2.default,\n  text_field: _FieldText2.default,\n  link_field: _FieldLink2.default,\n  image_field: _FieldImage2.default,\n  geo_field: _FieldGeo2.default,\n  photo_field: _FieldImage2.default,\n  media_field: _FieldMedia2.default,\n  vue_field: _FieldVue2.default\n};\n\nmodule.exports = Fields;\n\n},{\"components/FieldGeo.vue\":207,\"components/FieldImage.vue\":208,\"components/FieldLink.vue\":209,\"components/FieldMedia.vue\":210,\"components/FieldText.vue\":211,\"components/FieldVue.vue\":212}],120:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = require('./fields');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar URLPattern = /^(https?:\\/\\/[^\\s]+)/g;\nvar PhotoPattern = /[^\\s]+.(png|jpg|jpeg|gif)$/g;\n\nvar FieldType = {\n  SIMPLE: 'simple',\n  GEO: 'geo',\n  LINK: 'link',\n  PHOTO: 'photo',\n  PHOTOLINK: \"photolink\",\n  IMAGE: 'image',\n  POINTLINK: 'pointlink',\n  ROUTE: 'route',\n  VUE: 'vue'\n};\n\nmodule.exports = {\n  /**\n   * Get Type field from field value\n   * field : Object contain the value of the field\n   * @param field\n   * @returns {string}\n   */\n  getType: function getType(field) {\n    var type = field.type;\n    if (type !== 'vue') {\n      var fieldValue = field.value;\n      var value = fieldValue && toRawType(fieldValue) === 'Object' && !fieldValue.coordinates && !fieldValue.vue ? fieldValue.value : fieldValue;\n      if (!value) type = FieldType.SIMPLE;else if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'object') {\n        if (value.coordinates) type = FieldType.GEO;else if (value.vue) type = FieldType.VUE;\n      } else if (value && Array.isArray(value)) {\n        if (value.length && value[0].photo) type = FieldType.PHOTO;else type = FieldType.SIMPLE;\n      } else if (value.toString().toLowerCase().match(PhotoPattern)) {\n        type = FieldType.PHOTO;\n      } else if (value.toString().match(URLPattern)) {\n        type = FieldType.LINK;\n      } else type = FieldType.SIMPLE;\n    }\n    return type + '_field';\n  },\n  isSimple: function isSimple(field) {\n    return this.getType(field) === FieldType.SIMPLE + '_field';\n  },\n  isLink: function isLink(field) {\n    return this.getType(field) === FieldType.LINK + '_field';\n  },\n  isImage: function isImage(field) {\n    return this.getType(field) === FieldType.IMAGE + '_field';\n  },\n  isPhoto: function isPhoto(field) {\n    return this.getType(field) === FieldType.PHOTO + '_field';\n  },\n  isVue: function isVue(field) {\n    return this.getType(field) === FieldType.VUE + '_field';\n  },\n\n  /**\n   * Method to add a new field type to Fields\n   * @param type\n   * @param field\n   */\n  add: function add(_ref) {\n    var type = _ref.type,\n        field = _ref.field;\n\n    Fields[type] = field;\n  },\n\n  /**\n   * Remove field from Fields list\n   * @param type\n   */\n  remove: function remove(type) {\n    delete Fields[type];\n  },\n\n  /**\n   * chenge type of field (example to set vue type)\n   * @param layerId\n   * @param field\n   */\n  changeConfigFieldType: function changeConfigFieldType(_ref2) {\n    var layerId = _ref2.layerId,\n        _ref2$field = _ref2.field,\n        field = _ref2$field === undefined ? {} : _ref2$field;\n\n    var layer = _catalogLayers2.default.getLayerById(layerId);\n    layer.changeConfigFieldType(field);\n  },\n\n  /**\n   * Reset origin type\n   * @param layerId\n   * @param field\n   */\n  resetConfigFieldType: function resetConfigFieldType(_ref3) {\n    var layerId = _ref3.layerId,\n        _ref3$field = _ref3.field,\n        field = _ref3$field === undefined ? {} : _ref3$field;\n\n    var layer = _catalogLayers2.default.getLayerById(layerId);\n    layer.resetConfigField(field);\n  }\n};\n\n},{\"./fields\":119,\"core/utils/utils\":67,\"store/catalog-layers\":373}],121:[function(require,module,exports){\nvar _inputservice = require('core/expression/inputservice');\n\nvar _inputservice2 = _interopRequireDefault(_inputservice);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction FormService() {\n  var _this = this;\n\n  this.state = null;\n  this.eventBus = new Vue();\n  /**\n   * property used to force some state property to force to be a certain value.\n   * It set fro example by child form service to form service parent\n   * @type {{valid: boolean, update: boolean}}\n   */\n  this.force = {\n    update: false,\n    valid: false // NOT USED FOR THE MOMENT\n  };\n  this.layer;\n  this.setters = {\n    setInitForm: function setInitForm() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._setInitForm(options);\n    },\n    setFormStructure: function setFormStructure(formStructure) {\n      this.state.formstructure = formStructure;\n    },\n\n    // setter change fields\n    setFormFields: function setFormFields() {\n      var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.state.fields = fields;\n      this.handleFieldsWithExpression(fields);\n    },\n    setupFields: function setupFields() {\n      this._setupFields();\n    },\n\n    // setter insert data into form\n    setFormData: function setFormData(fields) {\n      this.setFormFields(fields);\n    },\n\n    // setter single field\n    setField: function setField(field) {},\n\n    // settere state\n    setState: function setState(state) {\n      this._setState(state);\n    },\n\n    // setter add action\n    addActionsForForm: function addActionsForForm(actions) {},\n    postRender: function postRender(element) {\n      // hook for listener to chenge DOM\n    }\n  };\n  base(this);\n  this.init = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this._setInitForm(options);\n  };\n  // init form options passed for example by editor\n  this._setInitForm = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var fields = options.fields,\n        feature = options.feature,\n        parentData = options.parentData,\n        layer = options.layer,\n        _options$title = options.title,\n        title = _options$title === undefined ? 'Form' : _options$title,\n        formId = options.formId,\n        name = options.name,\n        _options$buttons = options.buttons,\n        buttons = _options$buttons === undefined ? {} : _options$buttons,\n        context_inputs = options.context_inputs,\n        isnew = options.isnew,\n        _options$footer = options.footer,\n        footer = _options$footer === undefined ? {} : _options$footer,\n        headerComponent = options.headerComponent;\n\n    this.layer = layer;\n    // need to be cloned\n    this.feature = feature.clone();\n    this.title = title;\n    this.formId = formId;\n    this.name = name;\n    this.buttons = buttons;\n    this.context_inputs = context_inputs;\n    this.parentData = parentData;\n    this.headerComponent = headerComponent;\n    // Property used to set forced update state of the service\n    //Used fro example from child form to set update also parent service\n    this.state = {\n      layerid: layer.getId(),\n      loading: false,\n      components: [],\n      disabledcomponents: [],\n      component: null,\n      headers: [],\n      currentheaderid: null,\n      fields: null,\n      buttons: this.buttons,\n      disabled: false,\n      isnew: isnew,\n      valid: true, // global form validation state. True at beginning\n      update: feature.isNew(), // set update in case or not is a new feature\n      // when input change will be update\n      tovalidate: {},\n      feature: feature,\n      componentstovalidate: {},\n      footer: footer,\n      ready: false\n    };\n    this.force.update = feature.isNew();\n    this.filter_expression_fields_dependencies = {}; // expression fields dependencies from filter_expression\n    this.default_expression_fields_dependencies = {}; // expression fields dependencies from default_expression\n    this.default_expression_fields_on_update = []; // since 3.8.0\n    this.listenChangeInput = true; // since 3.8.0\n    this.setFormFields(fields);\n    if (this.layer && options.formStructure) {\n      var formstructure = this.layer.getLayerEditingFormStructure(fields);\n      this.setFormStructure(formstructure);\n    }\n  };\n  this.eventBus.$on('set-loading-form', function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    return _this.state.loading = bool;\n  });\n}\n\ninherit(FormService, G3WObject);\n\nvar proto = FormService.prototype;\n\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.ready = bool;\n};\n\n/**\n * Method called when an input change value\n * @param input\n */\nproto.changeInput = function (input) {\n  //add 3.8.0 to avoid listen changes when\n  // saveDefaultExpressionFieldsNotDependencies is called\n  // TODO find better solution\n  if (true === this.listenChangeInput) {\n    this.evaluateFilterExpressionFields(input);\n    this.evaluateDefaultExpressionFields(input);\n    this.isValid(input);\n    this.isUpdated(input);\n  }\n};\n\n/**\n * Method to check if form is updated base on change on input\n * @param input\n */\nproto.isUpdated = function (input) {\n  this.state.update = this.force.update || (!this.state.update ? input.update : !!this.state.fields.find(function (field) {\n    return field.update;\n  }));\n};\n\n/**\n *\n */\nproto.setUpdate = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$force = options.force,\n      force = _options$force === undefined ? false : _options$force;\n\n  this.force.update = force;\n  this.state.update = this.force.update || bool;\n};\n\n/**\n * Method to evaluate filter expression\n * @param input\n */\nproto.evaluateDefaultExpressionFields = function () {\n  var _this2 = this;\n\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var default_expression_fields_dependencies = this.default_expression_fields_dependencies[input.name];\n  if (default_expression_fields_dependencies) {\n    this.feature.set(input.name, input.value);\n    default_expression_fields_dependencies.forEach(function (expression_dependency_field) {\n      var field = _this2._getField(expression_dependency_field);\n      var qgs_layer_id = _this2.layer.getId();\n      _inputservice2.default.handleDefaultExpressionFormInput({\n        parentData: _this2.parentData,\n        qgs_layer_id: qgs_layer_id, // the owner of feature\n        field: field, // field related\n        feature: _this2.feature //feature to transform in form_data\n      });\n    });\n  }\n};\n\n/**\n * Method to evaluate filter expression\n * @param input\n */\nproto.evaluateFilterExpressionFields = function () {\n  var _this3 = this;\n\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var filter_expression_fields_dependencies = this.filter_expression_fields_dependencies[input.name];\n  if (filter_expression_fields_dependencies) {\n    //need in case of init form service where filter_expression option has\n    //referencing_fields or referenced_columns from another layer\n    var fieldForm = this._getField(input.name);\n    fieldForm && this.feature.set(fieldForm.name, fieldForm.value);\n    filter_expression_fields_dependencies.forEach(function (expression_dependency_field) {\n      var field = _this3._getField(expression_dependency_field);\n      var qgs_layer_id = _this3.layer.getId();\n      _inputservice2.default.handleFilterExpressionFormInput({\n        parentData: _this3.parentData,\n        qgs_layer_id: qgs_layer_id, // the owner of feature\n        field: field, // field related\n        feature: _this3.feature //feature to transform in form_data\n      });\n    });\n  }\n};\n\n/**\n * Handle a field that has a `filter_expression` value object\n * \n * @since 3.8.0\n */\nproto._handleFieldWithFilterExpression = function (field, filter_expression) {\n  var _this4 = this;\n\n  if (filter_expression) {\n    var _filter_expression$re = filter_expression.referencing_fields,\n        referencing_fields = _filter_expression$re === undefined ? [] : _filter_expression$re,\n        _filter_expression$re2 = filter_expression.referenced_columns,\n        referenced_columns = _filter_expression$re2 === undefined ? [] : _filter_expression$re2;\n\n    var dependency_fields = new Set();\n\n    // TODO: add description\n    [].concat(_toConsumableArray(referenced_columns), _toConsumableArray(referencing_fields)).forEach(function (dependency_field) {\n      return dependency_fields.add(dependency_field);\n    });\n\n    dependency_fields.forEach(function (dependency_field) {\n      // TODO: shorten variable name\n      if (undefined === _this4.filter_expression_fields_dependencies[dependency_field]) {\n        _this4.filter_expression_fields_dependencies[dependency_field] = [];\n      }\n      _this4.filter_expression_fields_dependencies[dependency_field].push(field.name);\n    });\n  }\n};\n\n/**\n * Handle a field that has a `default_value` object and check if `apply_on_update` only\n * \n * @since 3.8.0\n */\nproto._handleFieldWithDefaultExpression = function (field, default_expression) {\n  var _this5 = this;\n\n  if (default_expression) {\n    var _default_expression$r = default_expression.referencing_fields,\n        referencing_fields = _default_expression$r === undefined ? [] : _default_expression$r,\n        _default_expression$r2 = default_expression.referenced_columns,\n        referenced_columns = _default_expression$r2 === undefined ? [] : _default_expression$r2,\n        _default_expression$a = default_expression.apply_on_update,\n        apply_on_update = _default_expression$a === undefined ? false : _default_expression$a;\n\n    // Skip if not apply_on_update (listen dependencies change only for new Feature)\n\n    if (!apply_on_update && !this.state.isnew) {\n      return;\n    }\n\n    var dependency_fields = new Set();\n\n    // Get array of dependency fields on default expression if exist\n    // add each of it in a Set (unique array items)\n    [].concat(_toConsumableArray(referenced_columns), _toConsumableArray(referencing_fields)).forEach(function (dependency_field) {\n      return dependency_fields.add(dependency_field);\n    });\n\n    //Only in apply update listen changeInput\n    if (apply_on_update) {\n\n      this.default_expression_fields_on_update.push(field);\n\n      dependency_fields.forEach(function (dependency_field) {\n        // TODO: shorten variable name\n        if (undefined === _this5.default_expression_fields_dependencies[dependency_field]) {\n          _this5.default_expression_fields_dependencies[dependency_field] = [];\n        }\n        _this5.default_expression_fields_dependencies[dependency_field].push(field.name);\n      });\n    }\n\n    // Call input service if a field has a default_expression and is a new feature\n    if (this.state.isnew) {\n      _inputservice2.default.handleDefaultExpressionFormInput({\n        field: field,\n        feature: this.feature,\n        qgs_layer_id: this.layer.getId(),\n        parentData: this.parentData\n      });\n    }\n  }\n};\n\n/**\n * Handle fields with associated expression\n * \n * @param {Array} [fields = []]\n */\nproto.handleFieldsWithExpression = function () {\n  var _this6 = this;\n\n  var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  // TODO: add description\n  fields.forEach(function (field) {\n    var _field$input$options = field.input.options,\n        options = _field$input$options === undefined ? {} : _field$input$options;\n\n    _this6._handleFieldWithFilterExpression(field, options.filter_expression);\n    _this6._handleFieldWithDefaultExpression(field, options.default_expression);\n  });\n  // start to evaluate filter expression field\n  Object.keys(this.filter_expression_fields_dependencies).forEach(function (name) {\n    _this6.evaluateFilterExpressionFields({ name: name });\n  });\n};\n\nproto.setCurrentFormPercentage = function (perc) {\n  this.layer.setFormPercentage(perc);\n};\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto.setValidComponent = function (_ref) {\n  var id = _ref.id,\n      valid = _ref.valid;\n\n  this.state.componentstovalidate[id] = valid;\n  this.isValid();\n};\n\nproto.getValidComponent = function (id) {\n  return this.state.componentstovalidate[id];\n};\n\n// Every input send to form it valid value that will change the general state of form\nproto.isValid = function (input) {\n  var _this7 = this;\n\n  if (input) {\n    // check mutually\n    if (input.validate.mutually) {\n      if (!input.validate.required) {\n        if (!input.validate.empty) {\n          input.validate._valid = input.validate.valid;\n          input.validate.mutually_valid = input.validate.mutually.reduce(function (previous, inputname) {\n            return previous && _this7.state.tovalidate[inputname].validate.empty;\n          }, true);\n          input.validate.valid = input.validate.mutually_valid && input.validate.valid;\n        } else {\n          input.value = null;\n          input.validate.mutually_valid = true;\n          input.validate.valid = true;\n          input.validate._valid = true;\n          var countNoTEmptyInputName = [];\n          for (var i = input.validate.mutually.length; i--;) {\n            var inputname = input.validate.mutually[i];\n            !this.state.tovalidate[inputname].validate.empty && countNoTEmptyInputName.push(inputname);\n          }\n          if (countNoTEmptyInputName.length < 2) {\n            countNoTEmptyInputName.forEach(function (inputname) {\n              _this7.state.tovalidate[inputname].validate.mutually_valid = true;\n              _this7.state.tovalidate[inputname].validate.valid = true;\n              setTimeout(function () {\n                _this7.state.tovalidate[inputname].validate.valid = _this7.state.tovalidate[inputname].validate._valid;\n                _this7.state.valid = _this7.state.valid && _this7.state.tovalidate[inputname].validate.valid;\n              });\n            });\n          }\n        }\n      }\n      //check if min_field or max_field is set\n    } else if (!input.validate.empty && (input.validate.min_field || input.validate.max_field)) {\n      var input_name = input.validate.min_field || input.validate.max_field;\n      input.validate.valid = input.validate.min_field ? this.state.tovalidate[input.validate.min_field].validate.empty || 1 * input.value > 1 * this.state.tovalidate[input.validate.min_field].value : this.state.tovalidate[input.validate.max_field].validate.empty || 1 * input.value < 1 * this.state.tovalidate[input.validate.max_field].value;\n      if (input.validate.valid) this.state.tovalidate[input_name].validate.valid = true;\n    }\n  }\n  this.state.valid = Object.values(this.state.tovalidate).reduce(function (previous, input) {\n    return previous && input.validate.valid;\n  }, true) && Object.values(this.state.componentstovalidate).reduce(function (previous, valid) {\n    return previous && valid;\n  }, true);\n};\n\nproto.addComponents = function () {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = components[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var component = _step.value;\n\n      this.addComponent(component);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.addComponent = function (component) {\n  var id = component.id,\n      title = component.title,\n      name = component.name,\n      icon = component.icon,\n      valid = component.valid,\n      headerComponent = component.headerComponent,\n      _component$header = component.header,\n      header = _component$header === undefined ? true : _component$header;\n\n  if (valid !== undefined) {\n    this.state.componentstovalidate[id] = valid;\n    this.state.valid = this.state.valid && valid;\n    this.eventBus.$emit('add-component-validate', {\n      id: id,\n      valid: valid\n    });\n  }\n  // we can set a component that can be part of headers (tabs or not)\n  if (header) {\n    this.state.headers.push({ title: title, name: name, id: id, icon: icon, component: headerComponent });\n    this.state.currentheaderid = this.state.currentheaderid || id;\n  }\n\n  this.state.components.push(component);\n};\n\nproto.replaceComponent = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      component = _ref2.component;\n\n  var index = this.state.components.findIndex(function (component) {\n    return component.id === id;\n  });\n  this.state.components.splice(index, 1, component);\n};\n\nproto.disableComponent = function (_ref3) {\n  var id = _ref3.id,\n      disabled = _ref3.disabled;\n\n  if (disabled) this.state.disabledcomponents.push(id);else this.state.disabledcomponents = this.state.disabledcomponents.filter(function (disableId) {\n    return disabledId !== id;\n  });\n};\n\nproto.setCurrentComponentById = function (id) {\n  if (this.state.disabledcomponents.indexOf(id) === -1) {\n    this.setIdHeader(id);\n    this.state.component = this.state.components.find(function (component) {\n      return component.id === id;\n    }).component;\n    return this.state.component;\n  }\n};\n\n/**\n * setRootComponent (is form )\n */\nproto.setRootComponent = function () {\n  this.state.component = this.state.components.find(function (component) {\n    return component.root;\n  }).component;\n};\n\nproto.getRootComponent = function () {\n  return this.state.components.find(function (component) {\n    return component.root;\n  }).component;\n};\n\nproto.isRootComponent = function (component) {\n  return this.getRootComponent() == component;\n};\n\nproto.getComponentById = function (id) {\n  return this.state.components.find(function (component) {\n    return component.id === id;\n  });\n};\n\nproto.setComponent = function (component) {\n  this.state.component = component;\n};\n\nproto.addedComponentTo = function () {\n  var formcomponent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'body';\n\n  this.state.addedcomponentto[formcomponent] = true;\n};\n\nproto.addToValidate = function (input) {\n  this.state.tovalidate[input.name] = input;\n  // check if is mounted on form gui otherwise leave form component to run is Valid whe form is mounted on dom\n  this.state.ready && this.isValid(input);\n};\n\nproto.removeToValidate = function (input) {\n  delete this.state.tovalidate[input.name];\n  this.isValid();\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto._setState = function (state) {\n  this.state = state;\n};\n\nproto.getFields = function () {\n  return this.state.fields;\n};\n\nproto._getField = function (fieldName) {\n  return this.state.fields.find(function (field) {\n    return field.name === fieldName;\n  });\n};\n\nproto.getEventBus = function () {\n  return this.eventBus;\n};\n\nproto.setIdHeader = function (id) {\n  this.state.currentheaderid = id;\n};\n\nproto.getContext = function () {\n  return this.context_inputs.context;\n};\n\nproto.getSession = function () {\n  return this.getContext().session;\n};\n\nproto.getInputs = function () {\n  return this.context_inputs.inputs;\n};\n\n/**\n * handleRelation\n */\n\nproto.handleRelation = function (_ref4) {\n  //OVERWRITE BY  PLUGIN EDITING PLUGIN\n\n  var relationId = _ref4.relationId,\n      feature = _ref4.feature;\n};\n\n//method to clear all the open things opened by service\nproto.clearAll = function () {\n  this.eventBus.$off('addtovalidate');\n  this.eventBus.$off('set-main-component');\n  this.eventBus.$off('set-loading-form');\n  this.eventBus.$off('component-validation');\n  this.eventBus.$off('disable-component');\n};\n\n/**\n * @since 3.8.0\n * @returns {Promise<void>}\n * Method\n */\nproto.saveDefaultExpressionFieldsNotDependencies = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _this8 = this;\n\n  var alreadyRequestDefaultExpressionFields, _loop, i, defaultExpressionPromises;\n\n  return regeneratorRuntime.wrap(function _callee$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (!(0 === this.default_expression_fields_on_update.length)) {\n            _context3.next = 4;\n            break;\n          }\n\n          return _context3.abrupt('return');\n\n        case 4:\n          // disable listen changeInput\n          // TODO improve\n          this.listenChangeInput = false;\n          //Array contain field name already resolved with server default_expression request\n          alreadyRequestDefaultExpressionFields = [];\n          // loop through default_expression_fields\n\n          _loop = /*#__PURE__*/regeneratorRuntime.mark(function _loop(i) {\n            var dFs, _loop2, _i, _ret2;\n\n            return regeneratorRuntime.wrap(function _loop$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    // extract all dependency fields of current field\n                    dFs = Object.keys(_this8.default_expression_fields_dependencies).filter(function (field) {\n                      return (\n                        // check if dependency field is field on update\n                        _this8.default_expression_fields_on_update.find(function (_ref6) {\n                          var name = _ref6.name;\n                          return name === field;\n                        }) &&\n                        // if has bind current field\n                        _this8.default_expression_fields_dependencies[field].find(function (fieldName) {\n                          return fieldName === _this8.default_expression_fields_on_update[i].name;\n                        })\n                      );\n                    });\n                    // id current field has a Array (at least one) dependency fields\n                    // need to evaluate its value and after evaluate field value expression\n\n                    _loop2 = /*#__PURE__*/regeneratorRuntime.mark(function _loop2(_i) {\n                      var value;\n                      return regeneratorRuntime.wrap(function _loop2$(_context) {\n                        while (1) {\n                          switch (_context.prev = _context.next) {\n                            case 0:\n                              if (!(\"undefined\" !== typeof alreadyRequestDefaultExpressionFields.find(function (name) {\n                                return name === dFs[_i];\n                              }))) {\n                                _context.next = 2;\n                                break;\n                              }\n\n                              return _context.abrupt('return', 'continue');\n\n                            case 2:\n                              _context.prev = 2;\n                              _context.next = 5;\n                              return _inputservice2.default.handleDefaultExpressionFormInput({\n                                field: _this8._getField(dFs[_i]),\n                                feature: _this8.feature,\n                                qgs_layer_id: _this8.layer.getId(),\n                                parentData: _this8.parentData\n                              });\n\n                            case 5:\n                              value = _context.sent;\n\n                              // update field with evaluated value to feature\n                              _this8.feature.set(dFs[_i], value);\n                              // add to array\n                              alreadyRequestDefaultExpressionFields.push(dFs[_i]);\n                              _context.next = 12;\n                              break;\n\n                            case 10:\n                              _context.prev = 10;\n                              _context.t0 = _context['catch'](2);\n\n                            case 12:\n                            case 'end':\n                              return _context.stop();\n                          }\n                        }\n                      }, _loop2, _this8, [[2, 10]]);\n                    });\n                    _i = 0;\n\n                  case 3:\n                    if (!(_i < dFs.length)) {\n                      _context2.next = 11;\n                      break;\n                    }\n\n                    return _context2.delegateYield(_loop2(_i), 't0', 5);\n\n                  case 5:\n                    _ret2 = _context2.t0;\n\n                    if (!(_ret2 === 'continue')) {\n                      _context2.next = 8;\n                      break;\n                    }\n\n                    return _context2.abrupt('continue', 8);\n\n                  case 8:\n                    _i++;\n                    _context2.next = 3;\n                    break;\n\n                  case 11:\n                  case 'end':\n                    return _context2.stop();\n                }\n              }\n            }, _loop, _this8);\n          });\n          i = 0;\n\n        case 8:\n          if (!(i < this.default_expression_fields_on_update.length)) {\n            _context3.next = 13;\n            break;\n          }\n\n          return _context3.delegateYield(_loop(i), 't0', 10);\n\n        case 10:\n          i++;\n          _context3.next = 8;\n          break;\n\n        case 13:\n\n          // array of defaultExpressionPromises request\n          defaultExpressionPromises = [];\n\n\n          this.default_expression_fields_on_update.forEach(function (field) {\n            if (\"undefined\" === typeof alreadyRequestDefaultExpressionFields.find(function (name) {\n              return name === field.name;\n            })) {\n              defaultExpressionPromises.push(_inputservice2.default.handleDefaultExpressionFormInput({\n                field: field,\n                feature: _this8.feature,\n                qgs_layer_id: _this8.layer.getId(),\n                parentData: _this8.parentData\n              }));\n            }\n          });\n\n          _context3.prev = 15;\n          _context3.next = 18;\n          return Promise.allSettled(defaultExpressionPromises);\n\n        case 18:\n          _context3.next = 22;\n          break;\n\n        case 20:\n          _context3.prev = 20;\n          _context3.t1 = _context3['catch'](15);\n\n        case 22:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee, this, [[15, 20]]);\n}));\n\nmodule.exports = FormService;\n\n},{\"core/expression/inputservice\":10,\"core/g3wobject\":12,\"core/utils/utils\":67}],122:[function(require,module,exports){\nvar _Form = require('components/Form.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Form);\n\nvar _FormBody = require('components/FormBody.vue');\n\nvar _FormBody2 = _interopRequireDefault(_FormBody);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/form/formservice');\n\nfunction FormComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$id = options.id,\n      id = _options$id === undefined ? 'form' : _options$id,\n      name = options.name,\n      title = options.title,\n      headerComponent = options.headerComponent;\n\n  base(this, options);\n  options.service = options.service ? new options.service() : new Service();\n  options.vueComponentObject = options.vueComponentObject || vueComponentOptions;\n  //set element of the form\n  var components = options.components || [{\n    id: id,\n    title: title,\n    name: name,\n    root: true,\n    component: _FormBody2.default,\n    headerComponent: headerComponent\n  }];\n  options.perc = options.layer.getFormPercentage() !== null ? options.layer.getFormPercentage() : options.perc;\n  // initialize component\n  this.init(options);\n  this.getService().addComponents(components);\n  this.getService().setComponent(components[0].component);\n  /**\n   * Used to add component to form body\n   * @param component\n   */\n  this.addBodyFormComponent = function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        component = _ref.component,\n        _ref$where = _ref.where,\n        where = _ref$where === undefined ? 'after' : _ref$where;\n\n    this.getInternalComponent().body.components[where].push(component);\n  };\n\n  this.addBodyFormComponents = function () {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$components = _ref2.components,\n        components = _ref2$components === undefined ? [] : _ref2$components,\n        _ref2$where = _ref2.where,\n        where = _ref2$where === undefined ? \"after\" : _ref2$where;\n\n    components.forEach(function (component) {\n      return _this.addBodyFormComponent({\n        component: component,\n        where: where\n      });\n    });\n  };\n\n  this.addFormComponents = function () {\n    var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.getService().addComponents(components);\n  };\n\n  this.addFormComponent = function (component) {\n    component && this.getService().addComponent(component);\n  };\n  // some utilities methods\n  this.addDependecyComponents = function (components) {\n    this.getService().addDependecyComponents(components);\n  };\n  this.addComponentBeforeBody = function (Component) {\n    //this.getService().addedComponentTo('body');\n    //this.insertComponentAt(1, Component);\n  };\n\n  this.addComponentAfterBody = function (Component) {\n    //this.getService().addedComponentTo('body');\n    //this.insertComponentAt(2, Component)\n  };\n\n  this.addComponentBeforeFooter = function () {\n    //TODO\n  };\n\n  this.addComponentAfterFooter = function (Component) {\n    //TODO\n  };\n  // overwrite father mount method.\n  this.mount = function (parent, append) {\n    return base(this, 'mount', parent, append).then(function () {\n      // set modal window to true\n      _gui2.default.setModal(true);\n    });\n  };\n\n  this.layout = function () {\n    this.internalComponent.reloadLayout();\n  };\n}\n\ninherit(FormComponent, Component);\n\nmodule.exports = FormComponent;\n\n},{\"components/Form.vue\":214,\"components/FormBody.vue\":215,\"core/utils/utils\":67,\"gui/component/component\":116,\"gui/form/formservice\":121,\"services/gui\":360}],123:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction CheckBoxService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var value = options.state.input.options.values.find(function (value) {\n    return value.checked === false;\n  });\n  options.validatorOptions = {\n    values: options.state.input.options.values.map(function (value) {\n      return value;\n    })\n  };\n  if (options.state.value === null && !options.state.forceNull) options.state.value = value.value;\n  base(this, options);\n}\n\ninherit(CheckBoxService, Service);\n\nvar proto = CheckBoxService.prototype;\n\nproto.convertCheckedToValue = function (checked) {\n  checked = checked === null || checked === undefined ? false : checked;\n  var option = this.state.input.options.values.find(function (value) {\n    return value.checked === checked;\n  });\n  this.state.value = option.value;\n  return this.state.value;\n};\n\nproto.convertValueToChecked = function () {\n  var valueToCheck = this.state.value;\n  if (valueToCheck === null || valueToCheck === undefined) return false;\n  var option = this.state.input.options.values.find(function (value) {\n    return value.value == valueToCheck;\n  });\n  if (option === undefined) {\n    option = this.state.input.options.values.find(function (value) {\n      return value.checked === false;\n    });\n    this.state.value = option.value;\n  }\n  return option.checked;\n};\n\nmodule.exports = CheckBoxService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":146}],124:[function(require,module,exports){\nvar _InputCheckbox = require('components/InputCheckbox.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputCheckbox);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar CheckBoxInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = CheckBoxInput;\n\n},{\"components/InputCheckbox.vue\":235}],125:[function(require,module,exports){\nvar _InputColor = require('components/InputColor.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputColor);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextInput;\n\n},{\"components/InputColor.vue\":236}],126:[function(require,module,exports){\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base,\n    convertQGISDateTimeFormatToMoment = _require.convertQGISDateTimeFormatToMoment;\n\nvar Service = require('gui/inputs/service');\n\nfunction DateTimePickerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.validatorOptions = {};\n  base(this, options);\n}\n\ninherit(DateTimePickerService, Service);\n\nvar proto = DateTimePickerService.prototype;\n\nproto.getLocale = function () {\n  var applicationConfig = _application2.default.getConfig();\n  return applicationConfig.user.i18n ? applicationConfig.user.i18n : 'en';\n};\n\nproto.convertQGISDateTimeFormatToMoment = function (datetimeformat) {\n  return convertQGISDateTimeFormatToMoment(datetimeformat);\n};\n\nproto.setValidatorOptions = function (options) {\n  this.validatorOptions = options;\n};\n\nmodule.exports = DateTimePickerService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":146,\"services/application\":350}],127:[function(require,module,exports){\nvar _InputDateTimePicker = require('components/InputDateTimePicker.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputDateTimePicker);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar DateTimePickerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = DateTimePickerInput;\n\n},{\"components/InputDateTimePicker.vue\":237}],128:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction FloatService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(FloatService, Service);\n\nmodule.exports = FloatService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":146}],129:[function(require,module,exports){\nvar _InputFloat = require('components/InputFloat.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputFloat);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar FloatInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = FloatInput;\n\n},{\"components/InputFloat.vue\":238}],130:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _InputBase = require('components/InputBase.vue');\n\nvar _InputBase2 = _interopRequireDefault(_InputBase);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InputServices = require('./services');\n\nvar Input = {\n  props: ['state'],\n  mixins: [_mixins.baseInputMixin],\n  components: {\n    'baseinput': _InputBase2.default\n  },\n  watch: {\n    'notvalid': function notvalid(_notvalid) {\n      _notvalid && this.service.setErrorMessage(this.state);\n    },\n    'state.value': function stateValue() {\n      var _this = this;\n\n      if (\"undefined\" !== typeof this.state.input.options.default_expression) {\n        // need to postpone state.value watch parent that use mixin\n        setTimeout(function () {\n          return _this.change();\n        });\n      }\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.service = new InputServices[this.state.input.type]({\n      state: this.state\n    });\n    this.$watch(function () {\n      return _applicationState2.default.language;\n    }, function () {\n      return _this2.service.setErrorMessage(_this2.state);\n    });\n    this.state.editable && this.state.validate.required && this.service.validate();\n    this.$emit('addinput', this.state);\n    /**\n     * in case of input value is fill with default value option we need to emit changeinput event\n     * without check validation. Example:\n     * {\n        \"name\": \"id\",\n        \"type\": \"integer\",\n        \"label\": \"id\",\n        \"editable\": false,\n        \"validate\": {\n            \"required\": true,\n            \"unique\": true\n        },\n        \"pk\": true,\n        \"default\": \"nextval('g3wsuite.zone_id_seq'::regclass)\",\n        \"input\": {\n            \"type\": \"text\",\n            \"options\": {}\n        }\n      }\n     in this case if we start a validation, it fail because default value is a string while input is interger\n     */\n    this.state.value_from_default_value && this.$emit('changeinput', this.state);\n  },\n  destroyed: function destroyed() {\n    // emit remove input to form (in case for example tab visibility condition)\n    this.$emit('removeinput', this.state);\n  }\n};\n\nmodule.exports = Input;\n\n},{\"./services\":147,\"components/InputBase.vue\":234,\"mixins\":342,\"store/application-state\":372}],131:[function(require,module,exports){\nvar InputsComponents = {\n  'text_input': require('./text/vue/text'),\n  'texthtml_input': require('./texthtml/vue/texthtml'),\n  'textarea_input': require('./textarea/vue/textarea'),\n  'integer_input': require('./integer/vue/integer'),\n  'string_input': require('./text/vue/text'), //temporary\n  'float_input': require('./float/vue/float'),\n  'radio_input': require('./radio/vue/radio'),\n  'check_input': require('./checkbox/vue/checkbox'),\n  'range_input': require('./range/vue/range'),\n  'datetimepicker_input': require('./datetimepicker/vue/datetimepicker'),\n  'unique_input': require('./unique/vue/unique'),\n  'select_input': require('./select/vue/select'),\n  'media_input': require('./media/vue/media'),\n  'select_autocomplete_input': require('./select/vue/select'),\n  'picklayer_input': require('./picklayer/vue/picklayer'),\n  'color_input': require('./color/vue/color'),\n  'slider_input': require('./sliderrange/vue/sliderrange'),\n  'lonlat_input': require('./lonlat/vue/lonlat')\n};\n\nmodule.exports = InputsComponents;\n\n},{\"./checkbox/vue/checkbox\":124,\"./color/vue/color\":125,\"./datetimepicker/vue/datetimepicker\":127,\"./float/vue/float\":129,\"./integer/vue/integer\":133,\"./lonlat/vue/lonlat\":135,\"./media/vue/media\":137,\"./picklayer/vue/picklayer\":139,\"./radio/vue/radio\":141,\"./range/vue/range\":143,\"./select/vue/select\":145,\"./sliderrange/vue/sliderrange\":149,\"./text/vue/text\":150,\"./textarea/vue/textarea\":151,\"./texthtml/vue/texthtml\":152,\"./unique/vue/unique\":154}],132:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction IntegerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(IntegerService, Service);\n\nmodule.exports = IntegerService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":146}],133:[function(require,module,exports){\nvar _InputInteger = require('components/InputInteger.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputInteger);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar IntegerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = IntegerInput;\n\n},{\"components/InputInteger.vue\":241}],134:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction LonLatService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.coordinatebutton;\n  this.mapService = _gui2.default.getComponent('map').getService();\n  this.mapEpsg = this.mapService.getCrs();\n  this.mapControlToggleEventHandler = function (evt) {\n    if (evt.target.isToggled() && evt.target.isClickMap()) {\n      _this.coordinatebutton.active && _this.toggleGetCoordinate();\n    }\n  };\n  this.map = _gui2.default.getComponent('map').getService().getMap();\n  this.outputEpsg = this.state.epsg || this.mapEpsg;\n  this.eventMapKey;\n}\n\ninherit(LonLatService, Service);\n\nvar proto = LonLatService.prototype;\n\nproto.setCoordinateButtonReactiveObject = function (coordinatebutton) {\n  this.coordinatebutton = coordinatebutton;\n};\n\nproto.validate = function () {\n  if (this.state.values.lon < -180) this.state.values.lon = -180;else if (this.state.values.lon > 180) this.state.values.lon = 180;\n  if (this.state.values.lat < -90) this.state.values.lon = -90;else if (this.state.values.lat > 90) this.state.values.lon = 90;\n  this.state.validate.valid = !Number.isNaN(1 * this.state.values.lon);\n};\n\nproto.toggleGetCoordinate = function () {\n  this.coordinatebutton.active = !this.coordinatebutton.active;\n  this.coordinatebutton.active ? this.startToGetCoordinates() : this.stopToGetCoordinates();\n};\n\nproto.startToGetCoordinates = function () {\n  var _this2 = this;\n\n  this.mapService.deactiveMapControls();\n  this.mapService.on('mapcontrol:toggled', this.mapControlToggleEventHandler);\n  this.eventMapKey = this.map.on('click', function (evt) {\n    evt.originalEvent.stopPropagation();\n    evt.preventDefault();\n    var coordinate = _this2.mapEpsg !== _this2.outputEpsg ? ol.proj.transform(evt.coordinate, _this2.mapEpsg, _this2.outputEpsg) : evt.coordinate;\n    _this2.state.value = [coordinate];\n\n    var _coordinate = _slicedToArray(coordinate, 2),\n        lon = _coordinate[0],\n        lat = _coordinate[1];\n\n    _this2.state.values.lon = lon;\n    _this2.state.values.lat = lat;\n  });\n};\n\nproto.stopToGetCoordinates = function () {\n  ol.Observable.unByKey(this.eventMapKey);\n  this.mapService.off('mapcontrol:toggled', this.mapControlToggleEventHandler);\n};\n\nproto.clear = function () {\n  this.stopToGetCoordinates();\n};\n\nmodule.exports = LonLatService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":146,\"services/gui\":360}],135:[function(require,module,exports){\nvar _InputLonLat = require('components/InputLonLat.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputLonLat);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar LatLontInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = LatLontInput;\n\n},{\"components/InputLonLat.vue\":242}],136:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction MediaService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(MediaService, Service);\n\nmodule.exports = MediaService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":146}],137:[function(require,module,exports){\nvar _InputMedia = require('components/InputMedia.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputMedia);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar MediaInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = MediaInput;\n\n},{\"components/InputMedia.vue\":243}],138:[function(require,module,exports){\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PickFeatureInteraction = require('g3w-ol/interactions/pickfeatureinteraction');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar _require = require('core/utils/geo'),\n    getQueryLayersPromisesByCoordinates = _require.getQueryLayersPromisesByCoordinates;\n\nfunction PickLayerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.pick_type = options.pick_type || 'wms';\n  this.ispicked = false;\n  this.fields = options.fields || [options.value];\n  this.layerId = options.layer_id;\n  this.mapService = _gui2.default.getService('map');\n  this.interaction = this.pick_type === 'map' ? new PickFeatureInteraction({\n    layers: [this.mapService.getLayerById(this.layerId)]\n  }) : new PickCoordinatesInteraction();\n}\n\nvar proto = PickLayerService.prototype;\n\nproto.isPicked = function () {\n  return this.ispicked;\n};\n\n//bind interrupt event\nproto.escKeyUpHandler = function (_ref) {\n  var keyCode = _ref.keyCode,\n      owner = _ref.data.owner;\n\n  keyCode === 27 && owner.unpick();\n};\n\nproto.unbindEscKeyUp = function () {\n  $(document).unbind('keyup', this.escKeyUpHandler);\n};\n\nproto.bindEscKeyUp = function () {\n  $(document).on('keyup', { owner: this }, this.escKeyUpHandler);\n};\n\nproto.pick = function () {\n  var _this = this;\n\n  return new Promise(function (resolve, reject) {\n    _this.bindEscKeyUp();\n    var values = {};\n    _this.ispicked = true;\n    var afterPick = function afterPick(feature) {\n      if (feature) {\n        var attributes = feature.getProperties();\n        _this.fields.forEach(function (field) {\n          values[field] = attributes[field];\n        });\n        resolve(values);\n      } else reject();\n      _this.ispicked = false;\n      _this.unpick();\n    };\n    _gui2.default.setModal(false);\n    _this.mapService.addInteraction(_this.interaction);\n    _this.interaction.once('picked', function (event) {\n      if (_this.pick_type === 'map') {\n        var feature = event.feature;\n        afterPick(feature);\n      } else if (_this.pick_type === 'wms') {\n        var layer = _mapLayers2.default.getLayerById(_this.layerId);\n        if (layer) {\n          getQueryLayersPromisesByCoordinates([layer], {\n            map: _this.mapService.getMap(),\n            feature_count: 1,\n            coordinates: event.coordinate\n          }).then(function (response) {\n            var _response$0$data = response[0].data,\n                data = _response$0$data === undefined ? [] : _response$0$data;\n\n            var feature = data.length && data[0].features[0] || null;\n            afterPick(feature);\n          });\n        }\n      }\n    });\n  });\n};\n\nproto.unpick = function () {\n  this.mapService.removeInteraction(this.interaction);\n  _gui2.default.setModal(true);\n  this.unbindEscKeyUp();\n  this.ispicked = false;\n};\n\nproto.clear = function () {\n  this.isPicked() && this.unpick();\n  this.mapService = this.interaction = this.field = null;\n};\n\nmodule.exports = PickLayerService;\n\n},{\"core/utils/geo\":64,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"g3w-ol/interactions/pickfeatureinteraction\":105,\"services/gui\":360,\"store/map-layers\":376}],139:[function(require,module,exports){\nvar _InputPickLayer = require('components/InputPickLayer.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputPickLayer);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar PickLayerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = PickLayerInput;\n\n},{\"components/InputPickLayer.vue\":244}],140:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction RadioService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(RadioService, Service);\n\nmodule.exports = RadioService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":146}],141:[function(require,module,exports){\nvar _InputRadio = require('components/InputRadio.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputRadio);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RadioInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RadioInput;\n\n},{\"components/InputRadio.vue\":245}],142:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\nvar Validators = require('core/utils/validators');\n\nfunction RangeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$state$input$ = options.state.input.options.values[0],\n      min = _options$state$input$.min,\n      max = _options$state$input$.max;\n\n  options.state.info = '[MIN: ' + min + ' - MAX: ' + max + ']';\n  base(this, options);\n  var validator = Validators.get('range', {\n    min: 1 * min,\n    max: 1 * max\n  });\n  this.setValidator(validator);\n}\n\ninherit(RangeService, Service);\n\nvar proto = Service.prototype;\n\nproto.isValueInRange = function (value, min, max) {\n  return value <= max && value >= min;\n};\n\nmodule.exports = RangeService;\n\n},{\"core/utils/utils\":67,\"core/utils/validators\":68,\"gui/inputs/service\":146}],143:[function(require,module,exports){\nvar _InputRange = require('components/InputRange.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputRange);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RangeInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RangeInput;\n\n},{\"components/InputRange.vue\":246}],144:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction SelectService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.layer = null;\n}\n\ninherit(SelectService, Service);\n\nvar proto = SelectService.prototype;\n\nproto._getLayerById = function (layer_id) {\n  return _catalogLayers2.default.getLayerById(layer_id);\n};\n\nproto.addValue = function (value) {\n  this.state.input.options.values.push(value);\n};\n\nproto.getKeyByValue = function () {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      search = _ref.search;\n\n  var options = this.state.input.options;\n  var value = options.value,\n      key = options.key;\n\n  this.getData({\n    key: value,\n    value: key,\n    search: search\n  }).then(function (arrayValues) {\n    var _arrayValues = _slicedToArray(arrayValues, 1),\n        _value = _arrayValues[0];\n\n    var key = _value.$value,\n        value = _value.text;\n\n    _this.addValue({\n      key: key,\n      value: value\n    });\n  }).catch(function (err) {\n    return console.log(err);\n  });\n};\n\nproto.getData = function () {\n  var _this2 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$layer_id = _ref2.layer_id,\n      layer_id = _ref2$layer_id === undefined ? this.state.input.options.layer_id : _ref2$layer_id,\n      _ref2$key = _ref2.key,\n      key = _ref2$key === undefined ? this.state.input.options.key : _ref2$key,\n      _ref2$value = _ref2.value,\n      value = _ref2$value === undefined ? this.state.input.options.value : _ref2$value,\n      search = _ref2.search;\n\n  var search_value = (key + '|' + search).trim();\n  return new Promise(function (resolve, reject) {\n    if (!_this2._layer) _this2._layer = _this2._getLayerById(layer_id);\n    _this2._layer.getDataTable({\n      suggest: search_value,\n      ordering: key\n    }).then(function (response) {\n      var values = [];\n      var features = response.features;\n      for (var i = 0; i < features.length; i++) {\n        values.push({\n          text: features[i].properties[key],\n          id: i,\n          $value: features[i].properties[value]\n        });\n      }\n      resolve(values);\n    }).fail(function (err) {\n      return reject(err);\n    });\n  });\n};\n\nmodule.exports = SelectService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":146,\"store/catalog-layers\":373}],145:[function(require,module,exports){\nvar _InputSelect = require('components/InputSelect.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputSelect);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar SelectInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = SelectInput;\n\n},{\"components/InputSelect.vue\":247}],146:[function(require,module,exports){\nvar Validators = require('core/utils/validators');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nfunction Service() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  // set state of input\n  this.state = options.state || {};\n  // type of input\n  //this.state.validate.required && this.setValue(this.state.value);\n  /*\n  * set starting value of input based on value or default value on options\n   */\n  this.setValue(this.state.value);\n  this.setEmpty(this.state.value);\n  var type = this.state.type;\n  var validatorOptions = options.validatorOptions || this.state.input.options || {};\n  // useful for the validator to validate input\n  this._validator = Validators.get(type, validatorOptions);\n  this.setErrorMessage(options.state);\n}\n\nvar proto = Service.prototype;\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getValue = function () {\n  return this.state.value;\n};\n\n/**\n * @param value\n *\n * @returns {void}\n */\nproto.setValue = function (value) {\n\n  if (null !== value || undefined !== value) {\n    return;\n  }\n\n  var options = this.state.input.options;\n\n  var default_value = options.default;\n\n  /** @TODO (maybe need to removed in v3.9.0) double check G3W-ADMIN server configuration. */\n  if (Array.isArray(options)) {\n    if (options[0].default) {\n      default_value = options[0].default;\n    } else if (Array.isArray(options.values) && options.values.length > 0) {\n      default_value = options.values[0] && (options.values[0].value || options.values[0]);\n    }\n  }\n\n  // check if default value is set\n  var get_default_value = this.state.get_default_value && // ref: core/layers/tablelayer.js::getFieldsWithValues()\n  undefined !== default_value && null !== default_value;\n\n  // check if we can state.check get_default_value from input.options.default is set\n  if (get_default_value && undefined === options.default_expression) {\n    this.state.value = default_value;\n  }\n\n  this.state.value_from_default_value = get_default_value;\n};\n\nproto.addValueToValues = function (value) {\n  this.state.input.options.values.unshift(value);\n};\n\nproto._getValidatorType = function () {\n  return this.state.type;\n};\n\nproto.setState = function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = _.isObject(state) ? state : {};\n};\n\n// return validator\nproto.getValidator = function () {\n  return this._validator;\n};\n\nproto.setValidator = function (validator) {\n  this._validator = validator;\n};\n\nproto.setEmpty = function () {\n  this.state.validate.empty = !(Array.isArray(this.state.value) && this.state.value.length || !_.isEmpty(_.trim(this.state.value)));\n};\n\n// general method to check the value of the state is valid or not\nproto.validate = function () {\n  if (this.state.validate.empty) {\n    this.state.validate.empty = true;\n    this.state.value = null;\n    this.state.validate.unique = true;\n    // check if require or check validation\n    this.state.validate.valid = this.state.validate.required ? false : this._validator.validate(this.state.value);\n  } else {\n    if (this.state.input.type === 'integer' || this.state.input.type === 'float') {\n      if (+this.state.value < 0) {\n        this.state.value = null;\n        this.state.validate.empty = true;\n        this.state.validate.valid = !this.state.validate.required;\n      } else this.state.validate.valid = this._validator.validate(this.state.value);\n    }\n    if (this.state.validate.exclude_values && this.state.validate.exclude_values.size) {\n      this.state.validate.valid = !this.state.validate.exclude_values.has(this.state.value);\n    } else this.state.validate.valid = this._validator.validate(this.state.value);\n  }\n  return this.state.validate.valid;\n};\n\nproto.setErrorMessage = function (input) {\n  var message = void 0;\n  if (input.validate.mutually && !input.validate.mutually_valid) this.state.validate.message = t(\"sdk.form.inputs.input_validation_mutually_exclusive\") + ' ( ' + input.validate.mutually.join(',') + ' )';else if (input.validate.max_field) this.state.validate.message = t(\"sdk.form.inputs.input_validation_max_field\") + ' (' + input.validate.max_field + ')';else if (input.validate.min_field) this.state.validate.message = t(\"sdk.form.inputs.input_validation_min_field\") + ' (' + input.validate.min_field + ')';else if (input.validate.unique && input.validate.exclude_values && input.validate.exclude_values.size) this.state.validate.message = '' + t(\"sdk.form.inputs.input_validation_exclude_values\");else if (input.validate.required) {\n    message = t(\"sdk.form.inputs.input_validation_error\") + ' ( ' + t(\"sdk.form.inputs.\" + input.type) + ' )';\n    if (this.state.info) {\n      message = message + '\\n                 <div>\\n                  <b>' + this.state.info + '</b>\\n                 </div>         \\n      ';\n    }\n    this.state.validate.message = this.state.info || message;\n  } else this.state.validate.message = this.state.info;\n};\n/**\n * Method to set update\n */\nproto.setUpdate = function () {\n  var _state = this.state,\n      value = _state.value,\n      _value = _state._value;\n\n  if (this.state.input.type === 'media' && toRawType(value) !== 'Object' && toRawType(_value) !== 'Object') {\n    this.state.update = value.value != _value.value;\n  } else if (this.state.input.type === \"datetimepicker\") {\n    //check\n    this.state.update = (null !== value ? value.toUpperCase() : value) != (_value ? _value.toUpperCase() : _value);\n  } else {\n    this.state.update = value != _value;\n  }\n};\n\nmodule.exports = Service;\n\n},{\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"core/utils/validators\":68}],147:[function(require,module,exports){\nvar InputsServices = {\n  'text': require('./service'),\n  'textarea': require('./service'),\n  'texthtml': require('./service'),\n  'integer': require('./integer/service'),\n  'string': require('./service'),\n  'float': require('./float/service'),\n  'radio': require('./radio/service'),\n  'check': require('./checkbox/service'),\n  'range': require('./range/service'),\n  'datetimepicker': require('./datetimepicker/service'),\n  'unique': require('./unique/service'),\n  'select': require('./select/service'),\n  'media': require('./media/service'),\n  'select_autocomplete': require('./select/service'),\n  'picklayer': require('./service'),\n  'color': require('./service'),\n  'slider': require('./sliderrange/service'),\n  'lonlat': require('./lonlat/service')\n};\n\nmodule.exports = InputsServices;\n\n},{\"./checkbox/service\":123,\"./datetimepicker/service\":126,\"./float/service\":128,\"./integer/service\":132,\"./lonlat/service\":134,\"./media/service\":136,\"./radio/service\":140,\"./range/service\":142,\"./select/service\":144,\"./service\":146,\"./sliderrange/service\":148,\"./unique/service\":153}],148:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\nvar Validators = require('core/utils/validators');\n\nfunction SliderRangeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var state = options.state;\n\n  options.state.info = '[MIN: ' + state.input.options.min + ' - MAX: ' + state.input.options.max + ']';\n  base(this, options);\n  var validator = Validators.get('range', {\n    min: 1 * state.input.options.min,\n    max: 1 * state.input.options.max\n  });\n  this.setValidator(validator);\n  this.validate = function () {\n    this.state.value = 1 * this.state.value;\n    this.state.validate.valid = this.state.value >= this.state.input.options.min || this.state.value <= this.state.input.options.max;\n  };\n}\n\ninherit(SliderRangeService, Service);\n\nvar proto = SliderRangeService.prototype;\n\nproto.changeInfoMessage = function () {\n  this.state.info = '[MIN: ' + this.state.input.options.min + ' - MAX: ' + this.state.input.options.max + ']';\n};\n\nmodule.exports = SliderRangeService;\n\n},{\"core/utils/utils\":67,\"core/utils/validators\":68,\"gui/inputs/service\":146}],149:[function(require,module,exports){\nvar _InputSliderRange = require('components/InputSliderRange.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputSliderRange);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RangeInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RangeInput;\n\n},{\"components/InputSliderRange.vue\":248}],150:[function(require,module,exports){\nvar _InputText = require('components/InputText.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputText);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextInput;\n\n},{\"components/InputText.vue\":249}],151:[function(require,module,exports){\nvar _InputTextArea = require('components/InputTextArea.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputTextArea);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextAreaInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextAreaInput;\n\n},{\"components/InputTextArea.vue\":250}],152:[function(require,module,exports){\nvar _InputTextHtml = require('components/InputTextHtml.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputTextHtml);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextHtmlInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextHtmlInput;\n\n},{\"components/InputTextHtml.vue\":251}],153:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction UniqueService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(UniqueService, Service);\n\nmodule.exports = UniqueService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":146}],154:[function(require,module,exports){\nvar _InputUnique = require('components/InputUnique.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputUnique);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar UniqueInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = UniqueInput;\n\n},{\"components/InputUnique.vue\":252}],155:[function(require,module,exports){\nvar ResetControl = require('g3w-ol/controls/resetcontrol');\nvar QueryControl = require('g3w-ol/controls/querycontrol');\nvar ZoomBoxControl = require('g3w-ol/controls/zoomboxcontrol');\nvar QueryBBoxControl = require('g3w-ol/controls/querybboxcontrol');\nvar QueryByPolygonControl = require('g3w-ol/controls/querybypolygoncontrol');\nvar GeolocationControl = require('g3w-ol/controls/geolocationcontrol');\nvar StreetViewControl = require('g3w-ol/controls/streetviewcontrol');\nvar AddLayersControl = require('g3w-ol/controls/addlayers');\nvar LengthControl = require('g3w-ol/controls/lengthcontrol');\nvar AreaControl = require('g3w-ol/controls/areacontrol');\nvar OLControl = require('g3w-ol/controls/olcontrol');\nvar GeocodingControl = require('g3w-ol/controls/geocodingcontrol');\nvar MousePositionControl = require('g3w-ol/controls/mousepositioncontrol');\nvar ScaleControl = require('g3w-ol/controls/scalecontrol');\nvar OnClikControl = require('g3w-ol/controls/onclickcontrol');\nvar ScreenshotControl = require('g3w-ol/controls/screenshotcontrol');\nvar geoScreenshotControl = require('g3w-ol/controls/geoscreenshotcontrol');\nvar ZoomHistoryControl = require('g3w-ol/controls/zoomhistorycontrol');\nvar QueryByDrawPolygonControl = require('g3w-ol/controls/querybydrawpolygoncontrol');\n\nvar ControlsFactory = {\n  create: function create() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var ControlClass = ControlsFactory.CONTROLS[options.type];\n    if (ControlClass) return new ControlClass(options);\n  }\n};\n\nControlsFactory.CONTROLS = {\n  'reset': ResetControl,\n  'zoombox': ZoomBoxControl,\n  'zoomtoextent': OLControl,\n  'query': QueryControl,\n  'querybbox': QueryBBoxControl,\n  'querybypolygon': QueryByPolygonControl,\n  'geolocation': GeolocationControl,\n  'streetview': StreetViewControl,\n  'zoom': OLControl,\n  'scaleline': OLControl,\n  'overview': OLControl,\n  'geocoding': GeocodingControl,\n  'addlayers': AddLayersControl,\n  'length': LengthControl,\n  'area': AreaControl,\n  'mouseposition': MousePositionControl,\n  'scale': ScaleControl,\n  'onclick': OnClikControl,\n  'screenshot': ScreenshotControl,\n  'geoscreenshot': geoScreenshotControl,\n  'querybydrawpolygon': QueryByDrawPolygonControl,\n\n  /**\n   * @since 3.8.0\n   */\n  'zoomhistory': ZoomHistoryControl,\n\n  /**\n   * @deprecated since version ??. Will be removed in version ??. Use 'geocoding' control instead.\n   */\n  'nominatim': GeocodingControl\n\n};\n\nmodule.exports = ControlsFactory;\n\n},{\"g3w-ol/controls/addlayers\":75,\"g3w-ol/controls/areacontrol\":76,\"g3w-ol/controls/geocodingcontrol\":79,\"g3w-ol/controls/geolocationcontrol\":80,\"g3w-ol/controls/geoscreenshotcontrol\":81,\"g3w-ol/controls/lengthcontrol\":83,\"g3w-ol/controls/mousepositioncontrol\":85,\"g3w-ol/controls/olcontrol\":86,\"g3w-ol/controls/onclickcontrol\":87,\"g3w-ol/controls/querybboxcontrol\":88,\"g3w-ol/controls/querybydrawpolygoncontrol\":89,\"g3w-ol/controls/querybypolygoncontrol\":90,\"g3w-ol/controls/querycontrol\":91,\"g3w-ol/controls/resetcontrol\":92,\"g3w-ol/controls/scalecontrol\":93,\"g3w-ol/controls/screenshotcontrol\":94,\"g3w-ol/controls/streetviewcontrol\":95,\"g3w-ol/controls/zoomboxcontrol\":97,\"g3w-ol/controls/zoomhistorycontrol\":98}],156:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _wms = require('gui/wms/vue/wms');\n\nvar _wms2 = _interopRequireDefault(_wms);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _mapControls = require('store/map-controls');\n\nvar _mapControls2 = _interopRequireDefault(_mapControls);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    inherit = _require2.inherit,\n    base = _require2.base,\n    copyUrl = _require2.copyUrl,\n    uniqueId = _require2.uniqueId,\n    throttle = _require2.throttle,\n    toRawType = _require2.toRawType,\n    createFilterFromString = _require2.createFilterFromString;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require3 = require('core/utils/geo'),\n    createVectorLayerFromFile = _require3.createVectorLayerFromFile,\n    createWMSLayer = _require3.createWMSLayer,\n    createSelectedStyle = _require3.createSelectedStyle,\n    getMapLayersByFilter = _require3.getMapLayersByFilter,\n    getGeoTIFFfromServer = _require3.getGeoTIFFfromServer;\n\nvar WFSProvider = require('core/layers/providers/wfsprovider');\nvar olhelpers = require('g3w-ol/g3w.ol').helpers;\n\nvar _require4 = require('core/utils/ol'),\n    getScaleFromResolution = _require4.getScaleFromResolution,\n    getResolutionFromScale = _require4.getResolutionFromScale;\n\nvar ControlsFactory = require('gui/map/control/factory');\nvar VectorLayer = require('core/layers/vectorlayer');\n\nvar SETTINGS = {\n  zoom: {\n    maxScale: 1000\n  },\n  animation: {\n    duration: 2000\n  }\n};\n\nfunction MapService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = {\n    mapUnits: 'm',\n    bbox: [],\n    hidemaps: [],\n    resolution: null,\n    center: null,\n    loading: false,\n    hidden: true,\n    scale: 0,\n    mapcontrolsalignement: 'rv',\n    mapcontrolDOM: null,\n    mapcontrolready: false,\n    mapcontrolSizes: {\n      height: 47,\n      width: 47,\n      minWidth: 47,\n      minHeight: 47\n    },\n    mapControl: {\n      grid: [],\n      length: 0,\n      currentIndex: 0,\n      update: true,\n      disabled: false\n    },\n    map_info: {\n      info: null,\n      style: null\n    },\n    mapunits: ['metric']\n  };\n  this.id = 'MapService';\n  this.viewer = null;\n  this.target = options.target || null;\n  this.layersCount = 0; // useful to set Zindex to layer order on map\n  this.maps_container = options.maps_container || null;\n  this._layersStoresEventKeys = {};\n  this._keyEvents = {\n    ol: [],\n    g3wobject: [],\n    eventemitter: []\n  };\n  this.project = null;\n  this._mapControls = [];\n  this._changeMapMapControls = [];\n  this._mapLayers = [];\n  this._externalMapLayers = [];\n  this._externalLayers = [];\n  // array where store interactions added from plugin or external from application\n  this._externalInteractions = [];\n  this.mapBaseLayers = {};\n  /**\n   * Default layers are OL layers that are add to map by default.\n   * Are used to show selection Features and/or highlight Layer feature\n   */\n  this.defaultsLayers = {\n    _style: {\n      highlightLayer: {\n        color: undefined\n      },\n      selectionLayer: {\n        color: 'red'\n      }\n    },\n    highlightLayer: new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: function style(feature) {\n        var styles = [];\n        var geometryType = feature.getGeometry().getType();\n        var style = createSelectedStyle({\n          geometryType: geometryType,\n          color: _this.defaultsLayers._style.highlightLayer.color,\n          fill: false\n        });\n        styles.push(style);\n        return styles;\n      }\n    }),\n    selectionLayer: new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: function style(feature) {\n        var styles = [];\n        var geometryType = feature.getGeometry().getType();\n        var style = createSelectedStyle({\n          geometryType: geometryType,\n          color: _this.defaultsLayers._style.selectionLayer.color,\n          fill: false\n        });\n        styles.push(style);\n        return styles;\n      }\n    })\n  };\n  this.layersExtraParams = {};\n  this._greyListenerKey = null;\n  this._drawShadow = {\n    type: 'coordinate',\n    outer: [],\n    inner: [],\n    scale: null,\n    rotation: null\n  };\n  this.config = options.config || _application2.default.getConfig();\n  this._howManyAreLoading = 0;\n  this._layersLoadingError = false;\n  // function to show spinner layers\n  this._incrementLoaders = function () {\n    if (_this._howManyAreLoading === 0) {\n      _this.emit('loadstart');\n      _gui2.default.showSpinner({\n        container: $('#map-spinner'),\n        id: 'maploadspinner',\n        style: 'transparent'\n      });\n    }\n    _this._howManyAreLoading += 1;\n  };\n\n  this._decrementLoaders = function () {\n    _this._howManyAreLoading -= 1;\n    if (_this._howManyAreLoading === 0) {\n      _this.emit('loadend');\n      _gui2.default.hideSpinner('maploadspinner');\n    }\n  };\n\n  this._mapLayerLoadError = function () {\n    if (!_this._layersLoadingError) {\n      _gui2.default.notify.warning('sdk.errors.layers.load');\n      _this._layersLoadingError = true;\n    }\n    _this._decrementLoaders();\n  };\n  if (options.project) this.project = options.project;else {\n    this.project = _projects2.default.getCurrentProject();\n    //on after setting current project\n    var keysetCurrentProject = _projects2.default.onafter('setCurrentProject', function (project) {\n      _this.removeLayers();\n      _this._removeListeners();\n      // check if reload same project\n      var isSameProject = _this.project.getId() === project.getId();\n      _this.project = project;\n      var changeProjectCallBack = function changeProjectCallBack() {\n        _this._resetView();\n        _this._setupAllLayers();\n        _this._checkMapControls();\n        _this.setUpMapOlEvents();\n        _this.setupCustomMapParamsToLegendUrl();\n      };\n      _application2.default.isIframe() && changeProjectCallBack();\n      isSameProject ? changeProjectCallBack() : _this.getMap().once('change:size', changeProjectCallBack);\n    });\n    this._keyEvents.g3wobject.push({\n      who: _projects2.default,\n      setter: 'setCurrentProject',\n      key: keysetCurrentProject\n    });\n  }\n  this._setupListeners();\n  this._marker = null;\n  this._bboxLayer = new ol.layer.Vector({\n    source: new ol.source.Vector({})\n  });\n  this.debounces = {\n    setupCustomMapParamsToLegendUrl: {\n      fnc: function fnc() {\n        _this._setupCustomMapParamsToLegendUrl.apply(_this, arguments);\n      },\n      delay: 1000\n    }\n  };\n  this.setters = {\n    setupControls: function setupControls() {\n      return this._setupControls();\n    },\n    addHideMap: function addHideMap() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          ratio = _ref.ratio,\n          _ref$layers = _ref.layers,\n          layers = _ref$layers === undefined ? [] : _ref$layers,\n          _ref$mainview = _ref.mainview,\n          mainview = _ref$mainview === undefined ? false : _ref$mainview,\n          _ref$switchable = _ref.switchable,\n          switchable = _ref$switchable === undefined ? false : _ref$switchable;\n\n      var id = 'hidemap_' + Date.now();\n      var idMap = {\n        id: id,\n        map: null,\n        switchable: switchable\n      };\n      this.state.hidemaps.push(idMap);\n      return idMap;\n    },\n    updateMapView: function updateMapView(bbox, resolution, center) {\n      this.state.bbox = bbox;\n      this.state.resolution = resolution;\n      this.state.center = center;\n      this.updateMapLayers();\n    },\n    setHidden: function setHidden(bool) {\n      this.state.hidden = bool;\n    },\n    setupViewer: function setupViewer(width, height) {\n      if (width === 0 || height === 0) return;\n      if (this.viewer) {\n        this.viewer.destroy();\n        this.viewer = null;\n      }\n      this._setupViewer(width, height);\n      this.state.bbox = this.viewer.getBBOX();\n      this.state.resolution = this.viewer.getResolution();\n      this.state.center = this.viewer.getCenter();\n      this._setupAllLayers();\n      this.setUpMapOlEvents();\n      this.emit('viewerset');\n    },\n    controlClick: function controlClick(mapcontrol) {\n      var info = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    },\n    loadExternalLayer: function loadExternalLayer(layer) {},\n    // used in general to alert external layer is  loaded\n    unloadExternalLayer: function unloadExternalLayer(layer) {}\n  };\n\n  this._onCatalogSelectLayer = function (layer) {\n    _mapControls2.default.catalogSelectedLayer(layer);\n  };\n\n  this.on('cataloglayerselected', this._onCatalogSelectLayer);\n\n  this._keyEvents.eventemitter.push({\n    event: 'cataloglayerselected',\n    listener: this._onCatalogSelectLayer\n  });\n\n  var extraParamsSet = function extraParamsSet(extraParams, update) {\n    update && _this.getMapLayers().forEach(function (mapLayer) {\n      return mapLayer.update(_this.state, extraParams);\n    });\n  };\n\n  this.on('extraParamsSet', extraParamsSet);\n\n  this._keyEvents.eventemitter.push({\n    event: 'extraParamsSet',\n    listener: extraParamsSet\n  });\n\n  this.once('viewerset', function () {\n    //CHECK IF MAPLAYESRSTOREREGISTRY HAS LAYERSTORE\n    _mapLayers2.default.getLayersStores().forEach(function (layersStore) {\n      _this._setUpEventsKeysToLayersStore(layersStore);\n    });\n    // LISTEN ON EVERY ADDED LAYERSSTORE\n    _mapLayers2.default.onafter('addLayersStore', function (layersStore) {\n      _this._setUpEventsKeysToLayersStore(layersStore);\n    });\n    // LISTENER ON REMOVE LAYERSTORE\n    _mapLayers2.default.onafter('removeLayersStore', function (layerStore) {\n      _this._removeEventsKeysToLayersStore(layerStore);\n    });\n  });\n\n  base(this);\n}\n\ninherit(MapService, G3WObject);\n\nvar proto = MapService.prototype;\n\nproto.setUpMapOlEvents = function () {\n  var _this2 = this;\n\n  var dynamicLegend = this.project.getContextBaseLegend();\n  // set change resolution\n  this._keyEvents.ol.forEach(function (keyEvent) {\n    return ol.Observable.unByKey(keyEvent);\n  });\n  var keyolchangeresolution = this.viewer.map.getView().on(\"change:resolution\", function (evt) {\n    _this2._updateMapView();\n    dynamicLegend && _this2.setupCustomMapParamsToLegendUrl();\n  });\n  this._keyEvents.ol.push(keyolchangeresolution);\n  if (dynamicLegend) {\n    var keyolmoveeend = this.viewer.map.on(\"moveend\", function (evt) {\n      return _this2.setupCustomMapParamsToLegendUrl();\n    });\n    this._keyEvents.ol.push(keyolmoveeend);\n  } else this.setupCustomMapParamsToLegendUrl(); //set always to show legend at start\n};\n\n//clear methods to remove all listeners events\nproto.clear = function () {\n  var _this3 = this;\n\n  Object.keys(this._keyEvents).forEach(function (type) {\n    switch (type) {\n      case 'ol':\n        _this3._keyEvents[type].forEach(function (keyEvent) {\n          return ol.Observable.unByKey(keyEvent);\n        });\n        break;\n      case 'g3wobject':\n        _this3._keyEvents[type].forEach(function (eventObject) {\n          var who = eventObject.who,\n              setter = eventObject.setter,\n              key = eventObject.key;\n\n          who.un(setter, key);\n        });\n        break;\n      case 'eventemitter':\n        _this3._keyEvents[type].forEach(function (eventObject) {\n          var event = eventObject.event,\n              listener = eventObject.listener;\n\n          _this3.removeListener(event, listener);\n        });\n        break;\n    }\n  });\n  this._keyEvents = null;\n  _mapLayers2.default.getLayersStores().forEach(function (layerStore) {\n    _this3._removeEventsKeysToLayersStore(layerStore);\n  });\n};\n\nproto.showMapSpinner = function () {\n  _gui2.default.showSpinner({\n    container: $('#map-spinner'),\n    id: 'maploadspinner',\n    style: 'transparent'\n  });\n};\n\nproto.hideMapSpinner = function () {\n  _gui2.default.hideSpinner('maploadspinner');\n};\n\nproto.getScaleFromExtent = function (extent) {\n  var resolution = this.getMap().getView().getResolutionForExtent(extent, this.getMap().getSize());\n  var scale = getScaleFromResolution(resolution, this.getMapUnits());\n  return scale;\n};\n\nproto._addHideMap = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      ratio = _ref2.ratio,\n      _ref2$layers = _ref2.layers,\n      layers = _ref2$layers === undefined ? [] : _ref2$layers,\n      _ref2$mainview = _ref2.mainview,\n      mainview = _ref2$mainview === undefined ? false : _ref2$mainview;\n\n  var idMap = this.state.hidemaps[this.state.hidemaps.length - 1];\n  var view = this.getMap().getView();\n  var view_options = {\n    projection: view.getProjection(),\n    center: view.getCenter(),\n    resolution: this.getResolution()\n  };\n  var viewer = olhelpers.createViewer({\n    id: idMap.id,\n    view: mainview ? view : view_options\n  });\n  // set Map\n  idMap.map = viewer.getMap();\n  // in case of rate\n  if (ratio) {\n    var _idMap$map$getSize = idMap.map.getSize(),\n        _idMap$map$getSize2 = _slicedToArray(_idMap$map$getSize, 2),\n        width = _idMap$map$getSize2[0],\n        height = _idMap$map$getSize2[1];\n\n    idMap.map.setSize([width, width * ratio]);\n  }\n\n  for (var i = 0; i < layers.length; i++) {\n    var layer = layers[i];\n    idMap.map.addLayer(layer);\n  }\n  return idMap.map;\n};\n\nproto.removeHideMap = function (id) {\n  var index = void 0;\n  for (var i = 0; i < this.state.hidemaps.length; i++) {\n    if (id === this.state.hidemaps[i].id) {\n      index = i;\n      break;\n    }\n  }\n  index !== undefined && this.state.hidemaps.splice(index, 1);\n};\n\nproto._showHideMapElement = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      map = _ref3.map,\n      _ref3$show = _ref3.show,\n      show = _ref3$show === undefined ? false : _ref3$show;\n\n  show ? $(map.getTargetElement()).addClass('show') : $(map.getTargetElement()).removeClass('show');\n};\n\nproto.createMapImage = function () {\n  var _this4 = this;\n\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      map = _ref4.map,\n      background = _ref4.background;\n\n  return new Promise(function (resolve, reject) {\n    try {\n      var canvas = _this4.getMapCanvas(map);\n      if (navigator.msSaveBlob) resolve(canvas.msToBlob());else canvas.toBlob(function (blob) {\n        return resolve(blob);\n      });\n    } catch (err) {\n      reject(err);\n    }\n  });\n};\n\nproto.getApplicationAttribution = function () {\n  var _config$group = this.config.group,\n      header_terms_of_use_link = _config$group.header_terms_of_use_link,\n      header_terms_of_use_text = _config$group.header_terms_of_use_text;\n\n  if (header_terms_of_use_text) {\n    return header_terms_of_use_link ? '<a href=\"' + header_terms_of_use_link + '\">' + header_terms_of_use_text + '</a>' : '<span class=\"skin-color\" style=\"font-weight: bold\">' + header_terms_of_use_text + '</span>';\n  } else return false;\n};\n\nproto.slaveOf = function (mapService, sameLayers) {\n  sameLayers = sameLayers || false;\n};\n\nproto.setLayersExtraParams = function (params, update) {\n  this.layersExtraParams = _.assign(this.layersExtraParams, params);\n  this.emit('extraParamsSet', params, update);\n};\n\nproto.getProject = function () {\n  return this.project;\n};\n\nproto.getMap = function () {\n  try {\n    return this.viewer.map;\n  } catch (err) {}\n};\n\nproto.getMapCanvas = function (map) {\n  var viewport = map ? map.getViewport() : $('#' + this.maps_container + ' .g3w-map').last().children('.ol-viewport')[0];\n  return $(viewport).children('canvas')[0];\n};\n\nproto.getProjection = function () {\n  return this.project.getProjection();\n};\n\nproto.isMapHidden = function () {\n  return this.state.hidden;\n};\n\nproto.isAxisOrientationInverted = function () {\n  return this.getProjection().getAxisOrientation() === 'neu' ? true : false;\n};\n\nproto.getCrs = function () {\n  return this.getProjection().getCode();\n};\n\nproto.getViewerElement = function () {\n  return this.viewer.map.getTargetElement();\n};\n\nproto.getViewport = function () {\n  return this.viewer.map.getViewport();\n};\n\nproto.getResolution = function () {\n  return this.viewer.map.getView().getResolution();\n};\n\nproto.getEpsg = function () {\n  return this.viewer.map.getView().getProjection().getCode();\n};\n\nproto.getGetFeatureInfoUrlForLayer = function (layer, coordinates, resolution, epsg, params) {\n  var mapLayer = this.getMapLayerForLayer(layer);\n  return mapLayer.getGetFeatureInfoUrl(coordinates, resolution, epsg, params);\n};\n\n/**\n * Show Marker on map\n * @param coordinates\n * @param duration\n */\nproto.showMarker = function (coordinates) {\n  var _this5 = this;\n\n  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n\n  this._marker.setPosition(coordinates);\n  setTimeout(function () {\n    return _this5._marker.setPosition();\n  }, duration);\n};\n\n// return layer by name\nproto.getLayerByName = function (name) {\n  return this.getMap().getLayers().getArray().find(function (lyr) {\n    return lyr.get('name') === name;\n  });\n};\n\n// return layer by id\nproto.getLayerById = function (id) {\n  return this.getMap().getLayers().getArray().find(function (layer) {\n    return layer.get('id') === id;\n  });\n};\n\n// method do get all feature from vector layer based on coordinates\nproto.getVectorLayerFeaturesFromCoordinates = function (layerId, coordinates) {\n  var intersectGeom = void 0;\n  var features = [];\n  var map = this.getMap();\n  var vectorLayer = this.getLayerById(layerId);\n  if (Array.isArray(coordinates)) {\n    if (coordinates.length === 2) {\n      var pixel = map.getPixelFromCoordinate(coordinates);\n      map.forEachFeatureAtPixel(pixel, function (feature) {\n        return features.push(feature);\n      }, {\n        layerFilter: function layerFilter(layer) {\n          return layer === vectorLayer;\n        }\n      });\n    } else if (coordinates.length === 4) {\n      intersectGeom = ol.geom.Polygon.fromExtent(coordinates);\n      switch (vectorLayer.constructor) {\n        case VectorLayer:\n          features = vectorLayer.getIntersectedFeatures(intersectGeom);\n          break;\n        case ol.layer.Vector:\n          vectorLayer.getSource().getFeatures().forEach(function (feature) {\n            intersectGeom.intersectsExtent(feature.getGeometry().getExtent()) && features.push(feature);\n          });\n          break;\n      }\n    }\n  } else if (coordinates instanceof ol.geom.Polygon || coordinates instanceof ol.geom.MultiPolygon) {\n    intersectGeom = coordinates;\n    switch (vectorLayer.constructor) {\n      case VectorLayer:\n        features = vectorLayer.getIntersectedFeatures(intersectGeom);\n        break;\n      case ol.layer.Vector:\n        vectorLayer.getSource().getFeatures().forEach(function (feature) {\n          intersectGeom.intersectsExtent(feature.getGeometry().getExtent()) && features.push(feature);\n        });\n        break;\n    }\n  }\n  return features;\n};\n\nproto.getQueryLayerByCoordinates = function () {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref5.layer,\n      coordinates = _ref5.coordinates;\n\n  var mapProjection = this.getProjection();\n  var resolution = this.getResolution();\n  return new Promise(function (resolve, reject) {\n    layer.query({\n      coordinates: coordinates,\n      mapProjection: mapProjection,\n      resolution: resolution\n    }).then(function (response) {\n      return resolve(response);\n    }).fail(function (err) {\n      return reject(err);\n    });\n  });\n};\n\nproto.getQueryLayerPromiseByCoordinates = function () {\n  var _this6 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref6.layer,\n      coordinates = _ref6.coordinates;\n\n  return new Promise(function (resolve, reject) {\n    var mapProjection = _this6.getProjection();\n    var resolution = _this6.getResolution();\n    layer.query({\n      coordinates: coordinates,\n      mapProjection: mapProjection,\n      resolution: resolution\n    }).then(function (response) {\n      resolve(response);\n    }).fail(function (error) {\n      reject(error);\n    });\n  });\n};\n\n//setup controls\n/*\n  layout : {\n    lv: <options> h : horizontal (default), v vertical\n    lh: <options> h: horizontal: v vertical (default)\n  }\n */\n\nproto.activeMapControl = function (controlName) {\n  var mapControl = this._mapControls.find(function (control) {\n    return control.type === controlName;\n  });\n  var control = mapControl.control;\n  !control.isToggled() ? control.toggle() : null;\n};\n\nproto.createMapControl = function (type) {\n  var _ref7 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      id = _ref7.id,\n      _ref7$add = _ref7.add,\n      add = _ref7$add === undefined ? true : _ref7$add,\n      _ref7$toggled = _ref7.toggled,\n      toggled = _ref7$toggled === undefined ? false : _ref7$toggled,\n      visible = _ref7.visible,\n      _ref7$options = _ref7.options,\n      options = _ref7$options === undefined ? {} : _ref7$options;\n\n  id = id || type;\n  var control = ControlsFactory.create(_extends({\n    type: type,\n    toggled: toggled\n  }, options));\n  visible = visible === undefined ? control.isVisible ? control.isVisible() : true : visible;\n  control && this.addControl(id, type, control, add, visible);\n  return control;\n};\n\nproto.addScaleLineUnits = function () {\n  var _this7 = this;\n\n  var units = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  units.forEach(function (unit) {\n    return _this7.state.mapunits.push(unit);\n  });\n};\n\nproto.changeScaleLineUnit = function (unit) {\n  var scalelinecontrol = this.getMapControlByType({\n    type: 'scaleline'\n  });\n  scalelinecontrol && scalelinecontrol.getOlControl().setUnits(unit);\n};\n\nproto.showAddLayerModal = function () {\n  this.emit('addexternallayer');\n};\n\nproto._checkMapControls = function () {\n  this._changeMapMapControls.forEach(function (_ref8) {\n    var control = _ref8.control,\n        getLayers = _ref8.getLayers;\n\n    var layers = getLayers();\n    control.change(layers);\n  });\n};\n\nproto._setupControls = function () {\n  var _this8 = this;\n\n  var baseLayers = getMapLayersByFilter({\n    BASELAYER: true\n  });\n  this.getMapLayers().forEach(function (mapLayer) {\n    return mapLayer.getSource().setAttributions(_this8.getApplicationAttribution());\n  });\n  // check if base layer is set. If true add attribution control\n  if (this.getApplicationAttribution() || baseLayers.length) {\n    var attributionControl = new ol.control.Attribution({\n      collapsible: false,\n      target: 'map_footer_left'\n    });\n    this.getMap().addControl(attributionControl);\n  }\n\n  if (this.config && this.config.mapcontrols) {\n    var mapcontrols = this.config.mapcontrols;\n    //common spatial methods for map controls\n    var spatialMethod = 'intersects';\n    mapcontrols.forEach(function (mapcontrol) {\n      var control = void 0;\n      // mapcontrol can be a String or object with options\n      var controlType = toRawType(mapcontrol) === 'String' ? mapcontrol : mapcontrol.name;\n      switch (controlType) {\n        case 'reset':\n          if (!isMobile.any) {\n            control = ControlsFactory.create({\n              type: controlType\n            });\n          }\n          _this8.addControl(controlType, control, false);\n          break;\n        case 'zoom':\n          control = _this8.createMapControl(controlType, {\n            options: {\n              zoomInLabel: '\\uE98A',\n              zoomOutLabel: '\\uE98B'\n            }\n          });\n          break;\n        case 'zoombox':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {});\n            control.on('zoomend', function (e) {\n              _this8.viewer.fit(e.extent);\n            });\n          }\n          break;\n        case 'zoomtoextent':\n          control = _this8.createMapControl(controlType, {\n            options: {\n              label: '\\uE98C',\n              extent: _this8.project.state.initextent\n            }\n          });\n          break;\n        case 'mouseposition':\n          if (!isMobile.any) {\n            var coordinateLabels = _this8.getProjection().getUnits() === 'm' ? ['X', 'Y'] : ['Lng', 'Lat'];\n            var crs = _this8.getCrs();\n            control = _this8.createMapControl(controlType, {\n              add: false,\n              options: {\n                coordinateFormat: function coordinateFormat(coordinate) {\n                  return ol.coordinate.format(coordinate, '\\xA0' + coordinateLabels[0] + ': {x}, ' + coordinateLabels[1] + ': {y}\\xA0\\xA0 [' + crs + ']\\xA0', 4);\n                },\n\n                undefinedHTML: false,\n                projection: _this8.getCrs()\n              }\n            });\n            if (_this8.getEpsg() !== 'EPSG:4326') {\n              var mapEspg = _this8.getEpsg();\n              var _coordinateLabels = ['Lng', 'Lat'];\n              var _crs = _this8.getCrs();\n              control = _this8.createMapControl(controlType, {\n                add: false,\n                options: {\n                  target: 'mouse-position-control-epsg-4326',\n                  coordinateFormat: function coordinateFormat(coordinate) {\n                    coordinate = ol.proj.transform(coordinate, mapEspg, 'EPSG:4326');\n                    return ol.coordinate.format(coordinate, '\\xA0' + _coordinateLabels[0] + ': {x}, ' + _coordinateLabels[1] + ': {y}\\xA0\\xA0 [' + _crs + ']\\xA0', 4);\n                  },\n\n                  undefinedHTML: false,\n                  projection: _this8.getCrs()\n                }\n              });\n            }\n          }\n          break;\n        case 'screenshot':\n        case 'geoscreenshot':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                layers: _mapLayers2.default.getLayers(),\n                onclick: function () {\n                  var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n                    var caller_download_id, blobImage, url, _bbox, csrfmiddlewaretoken, geoTIFF;\n\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            // Start download show Image\n                            caller_download_id = _application2.default.setDownload(true);\n                            _context.prev = 1;\n                            _context.next = 4;\n                            return _this8.createMapImage();\n\n                          case 4:\n                            blobImage = _context.sent;\n\n                            if (!(controlType === 'screenshot')) {\n                              _context.next = 9;\n                              break;\n                            }\n\n                            saveAs(blobImage, 'map_' + Date.now() + '.png');\n                            _context.next = 22;\n                            break;\n\n                          case 9:\n                            url = '/' + _this8.project.getType() + '/api/asgeotiff/' + _this8.project.getId() + '/';\n                            _bbox = _this8.getMapBBOX().toString();\n                            csrfmiddlewaretoken = _this8.getCookie('csrftoken');\n                            _context.prev = 12;\n                            _context.next = 15;\n                            return getGeoTIFFfromServer({\n                              url: url,\n                              params: {\n                                image: blobImage,\n                                csrfmiddlewaretoken: csrfmiddlewaretoken,\n                                bbox: _bbox\n                              },\n                              method: \"POST\"\n                            });\n\n                          case 15:\n                            geoTIFF = _context.sent;\n\n                            saveAs(geoTIFF, 'map_' + Date.now() + '.tif');\n                            _context.next = 22;\n                            break;\n\n                          case 19:\n                            _context.prev = 19;\n                            _context.t0 = _context['catch'](12);\n\n                            console.log(_context.t0);\n\n                          case 22:\n                            _context.next = 27;\n                            break;\n\n                          case 24:\n                            _context.prev = 24;\n                            _context.t1 = _context['catch'](1);\n\n                            _gui2.default.showUserMessage({\n                              type: 'alert',\n                              message: t(\"mapcontrols.screenshot.error\"),\n                              autoclose: true\n                            });\n\n                          case 27:\n                            // Stop download show Image\n                            _application2.default.setDownload(false, caller_download_id);\n                            return _context.abrupt('return', true);\n\n                          case 29:\n                          case 'end':\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee, _this8, [[1, 24], [12, 19]]);\n                  }));\n\n                  function onclick() {\n                    return _ref9.apply(this, arguments);\n                  }\n\n                  return onclick;\n                }()\n              }\n            });\n          }\n          break;\n        case 'scale':\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              coordinateFormat: ol.coordinate.createStringXY(4),\n              projection: _this8.getCrs(),\n              isMobile: isMobile.any\n            }\n          });\n          break;\n        case 'query':\n          control = _this8.createMapControl(controlType, {\n            add: true,\n            toggled: true\n          });\n          break;\n        case 'querybypolygon':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, { options: { spatialMethod: spatialMethod } });\n          }\n          break;\n        case 'querybbox':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, { options: { spatialMethod: spatialMethod } });\n          }\n          break;\n        case 'querybydrawpolygon':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, { options: { spatialMethod: spatialMethod } });\n          }\n          break;\n        case 'streetview':\n          // streetview\n          control = _this8.createMapControl(controlType, {});\n          break;\n        case 'scaleline':\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              position: 'br'\n            }\n          });\n          break;\n        case 'overview':\n          if (!isMobile.any) {\n            if (!_this8.config.overviewproject) return;\n            var overviewProjectGid = _this8.config.overviewproject.gid;\n            if (overviewProjectGid) {\n              _projects2.default.getProject(overviewProjectGid).then(function (project) {\n                var overViewMapLayers = _this8.getOverviewMapLayers(project);\n                var viewOptions = _this8._calculateViewOptions({\n                  width: 200, // at moment hardcoded\n                  height: 150,\n                  project: project\n                });\n                var view = new ol.View(viewOptions);\n                var mainView = _this8.getMap().getView();\n                view.on('change:center', function () {\n                  var currentCenter = this.getCenter();\n                  var center = mainView.constrainCenter(currentCenter);\n                  center[0] !== currentCenter[0] || center[1] !== currentCenter[1] && view.setCenter(center);\n                });\n                control = _this8.createMapControl(controlType, {\n                  add: false,\n                  options: {\n                    position: 'bl',\n                    className: 'ol-overviewmap ol-custom-overviewmap',\n                    collapseLabel: $('<span class=\"' + _gui2.default.getFontClass('arrow-left') + '\"></span>')[0],\n                    label: $('<span class=\"' + _gui2.default.getFontClass('arrow-right') + '\"></span>')[0],\n                    collapsed: false,\n                    layers: overViewMapLayers,\n                    view: view\n                  }\n                });\n              });\n            }\n          }\n          break;\n        case 'geocoding':\n        case 'nominatim':\n          var _project$state = _this8.project.state,\n              bbox = _project$state.extent,\n              _mapCrs = _project$state.crs.epsg;\n\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              isMobile: isMobile.any,\n              bbox: bbox,\n              mapCrs: _mapCrs,\n              placeholder: \"mapcontrols.nominatim.placeholder\",\n              noresults: \"mapcontrols.nominatim.noresults\",\n              notresponseserver: \"mapcontrols.nominatim.notresponseserver\"\n            }\n          });\n          break;\n        case 'geolocation':\n          control = _this8.createMapControl(controlType);\n          control.on('click', throttle(function (evt) {\n            return _this8.showMarker(evt.coordinates);\n          }));\n          control.on('error', function (evt) {\n            _gui2.default.showUserMessage({\n              type: 'warning',\n              message: \"mapcontrols.geolocations.error\",\n              autoclose: true\n            });\n          });\n          break;\n        case 'addlayers':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {});\n            control.on('addlayer', function () {\n              return _this8.emit('addexternallayer');\n            });\n          }\n          break;\n        case 'length':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                tipLabel: 'sdk.mapcontrols.measures.length.tooltip',\n                interactionClassOptions: {\n                  projection: _this8.getProjection(),\n                  help: 'sdk.mapcontrols.measures.length.help'\n                }\n              }\n            });\n          }\n          break;\n        case 'area':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                tipLabel: 'sdk.mapcontrols.measures.area.tooltip',\n                interactionClassOptions: {\n                  projection: _this8.getProjection(),\n                  help: 'sdk.mapcontrols.measures.area.help'\n                }\n              }\n            });\n          }\n          break;\n        /**\n         * @since 3.8.0\n         */\n        case 'zoomhistory':\n          control = _this8.createMapControl(controlType, { add: false });\n          _this8._addControlToMapControlsLeftBottom(control);\n          break;\n\n      }\n    });\n    return this.getMapControls();\n  }\n};\n\n/**\n *  Set ZIndex layer from fa stack\n */\nproto.setZIndexLayer = function () {\n  var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref10.layer,\n      _ref10$zindex = _ref10.zindex,\n      zindex = _ref10$zindex === undefined ? this.getMap().getLayers().getLength() : _ref10$zindex;\n\n  layer && layer.setZIndex(zindex);\n};\n\n/**\n *\n * Get map stack layer position\n */\nproto.getLayerZindex = function (layer) {\n  return layer && layer.getZIndex();\n};\n\nproto.getCenter = function () {\n  var map = this.getMap();\n  return map.getView().getCenter();\n};\n\n/**\n *\n *method to zoom to feature\n */\nproto.zoomToFid = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var zoom_to_fid = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '|';\n\n  var _zoom_to_fid$split, _zoom_to_fid$split2, layerId, fid, layer, _ref12, _ref12$data, data, feature;\n\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _zoom_to_fid$split = zoom_to_fid.split(separator), _zoom_to_fid$split2 = _slicedToArray(_zoom_to_fid$split, 2), layerId = _zoom_to_fid$split2[0], fid = _zoom_to_fid$split2[1];\n\n          if (!(layerId !== undefined && fid !== undefined)) {\n            _context2.next = 10;\n            break;\n          }\n\n          layer = this.project.getLayerById(layerId);\n          _context2.next = 5;\n          return _data2.default.getData('search:fids', {\n            inputs: {\n              layer: layer,\n              fids: [fid]\n            },\n            outputs: {\n              show: {\n                loading: false,\n                condition: function condition() {\n                  var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                      _ref13$data = _ref13.data,\n                      data = _ref13$data === undefined ? [] : _ref13$data;\n\n                  return data[0] && data[0].features.length > 0;\n                }\n              }\n            }\n          });\n\n        case 5:\n          _ref12 = _context2.sent;\n          _ref12$data = _ref12.data;\n          data = _ref12$data === undefined ? [] : _ref12$data;\n          feature = data[0] && data[0].features[0];\n\n          feature && this.zoomToFeatures([feature]);\n\n        case 10:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\n/**\n * Method to handele ztf url parameter\n * @param zoom_to_feature\n */\nproto.handleZoomToFeaturesUrlParameter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref15$zoom_to_featur = _ref15.zoom_to_features,\n      zoom_to_features = _ref15$zoom_to_featur === undefined ? '' : _ref15$zoom_to_featur,\n      _ref15$search_endpoin = _ref15.search_endpoint,\n      search_endpoint = _ref15$search_endpoin === undefined ? 'api' : _ref15$search_endpoin;\n\n  var _zoom_to_features$spl, _zoom_to_features$spl2, layerNameorIdorOrigname, fieldsValuesSearch, projectLayer, layer, filter, _ref16, data;\n\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _zoom_to_features$spl = zoom_to_features.split(':'), _zoom_to_features$spl2 = _slicedToArray(_zoom_to_features$spl, 2), layerNameorIdorOrigname = _zoom_to_features$spl2[0], fieldsValuesSearch = _zoom_to_features$spl2[1];\n\n          if (!(layerNameorIdorOrigname && fieldsValuesSearch)) {\n            _context3.next = 12;\n            break;\n          }\n\n          projectLayer = this.project.getLayers().find(function (layer) {\n            return layer.id === layerNameorIdorOrigname || layer.name === layerNameorIdorOrigname || layer.origname === layerNameorIdorOrigname;\n          });\n\n          if (!projectLayer) {\n            _context3.next = 12;\n            break;\n          }\n\n          layer = this.project.getLayerById(projectLayer.id);\n          filter = createFilterFromString({\n            layer: layer,\n            search_endpoint: search_endpoint,\n            filter: fieldsValuesSearch\n          });\n          _context3.next = 9;\n          return _data2.default.getData('search:features', {\n            inputs: {\n              layer: layer,\n              filter: filter,\n              search_endpoint: search_endpoint\n            },\n            outputs: {\n              show: {\n                loading: false\n              }\n            }\n          });\n\n        case 9:\n          _ref16 = _context3.sent;\n          data = _ref16.data;\n\n          data && data[0] && data[0].features && this.zoomToFeatures(data[0].features);\n\n        case 12:\n          _context3.next = 17;\n          break;\n\n        case 14:\n          _context3.prev = 14;\n          _context3.t0 = _context3['catch'](0);\n\n          console.log(_context3.t0);\n\n        case 17:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[0, 14]]);\n}));\n\nproto.getMapExtent = function () {\n  var map = this.getMap();\n  return map.getView().calculateExtent(map.getSize());\n};\n\n/**\n *\n * @param url\n * @param crs @since 3.8.0\n * @returns {string}\n */\nproto.addMapExtentUrlParameterToUrl = function (url, epsg) {\n  url = new URL(url);\n  var map_extent = \"undefined\" !== typeof epsg && this.getEpsg() !== epsg ? ol.proj.transformExtent(this.getMapExtent(), this.getEpsg(), epsg) : this.getMapExtent();\n  url.searchParams.set('map_extent', map_extent.toString());\n  return url.toString();\n};\n\nproto.getMapExtentUrl = function () {\n  var url = new URL(location.href);\n  var map_extent = this.getMapExtent().toString();\n  url.searchParams.set('map_extent', map_extent);\n  return url.toString();\n};\n\nproto.createCopyMapExtentUrl = function () {\n  var url = this.getMapExtentUrl();\n  copyUrl(url);\n};\n\nproto._setMapControlsGrid = function (length) {\n  var grid = this.state.mapControl.grid;\n  if (length < 2) {\n    var rC = grid[grid.length - 1];\n    grid.push({\n      rows: rC.rows * 2,\n      columns: 2\n    });\n    return;\n  }\n  if (length === 2) {\n    if (grid.length) {\n      var _rC = grid[grid.length - 1];\n      grid.push({\n        rows: _rC.columns,\n        columns: _rC.rows\n      });\n    } else {\n      grid.push({\n        rows: 1,\n        columns: 2\n      });\n    }\n  } else if (length === 3) {\n    var _rC2 = grid[grid.length - 1];\n    grid.push({\n      rows: 2 * _rC2.rows,\n      columns: length\n    });\n  } else {\n    grid.push({\n      rows: grid.length + 1 + (Number.isInteger(length) ? 0 : 1),\n      columns: Number.isInteger(length) ? length : parseInt(length) + 1\n    });\n    var _length = Number.isInteger(length) ? length : parseInt(length);\n    this._setMapControlsGrid(_length / 2);\n  }\n};\n\nproto._setMapControlsInsideContainerLenght = function () {\n  var _this9 = this;\n\n  this.state.mapControl.length = 1;\n  // count the mapcontrol inside g3w-map-control container\n  this._mapControls.forEach(function (control) {\n    var map = _this9.getMap();\n    _this9.state.mapControl.length += control.mapcontrol ? control.id === 'zoom' ? 2 : 1 : 0;\n    control.control.changelayout ? control.control.changelayout(map) : null;\n  });\n  // add 1 id odd number\n  this.state.mapControl.length += this.state.mapControl.length % 2;\n  this.state.mapControl.grid = [];\n  this._setMapControlsGrid(this.state.mapControl.length);\n};\n\n/**\n * Get filtrable layer. Get parameter to custom filter Object\n */\nproto.filterableLayersAvailable = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var layers = getMapLayersByFilter({\n    FILTERABLE: true,\n    SELECTED_OR_ALL: true\n  }, options);\n  return layers.filter(function (layer) {\n    return layer.getProvider('filter') instanceof WFSProvider;\n  });\n};\n\nproto.setMapControlsAlignement = function () {\n  var alignement = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'rv';\n\n  this.state.mapcontrolsalignement = alignement;\n};\n\nproto.getMapControlsAlignement = function () {\n  return this.state.mapcontrolsalignement;\n};\n\nproto.isMapControlsVerticalAlignement = function () {\n  return this.state.mapcontrolsalignement.indexOf('v') !== -1;\n};\n\nproto.setMapControlsVerticalAlignement = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] + 'v';\n};\n\nproto.setMapControlsHorizontalAlignement = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] + 'h';\n};\n\nproto.flipControlsHorizontally = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] === 'r' ? 'l' + this.state.mapcontrolsalignement[1] : 'r' + this.state.mapcontrolsalignement[1];\n};\n\nproto.flipMapControlsVertically = function () {\n  this.state.mapcontrolsalignment = this.state.mapcontrolsalignement[1] === 'v' ? this.state.mapcontrolsalignement[0] + 'h' : this.state.mapcontrolsalignement[0] + 'v';\n};\n\nproto.setMapControlsContainer = function (mapControlDom) {\n  this.state.mapcontrolDOM = mapControlDom;\n};\n\nproto._updateMapControlsLayout = function () {\n  var _this10 = this;\n\n  var _ref17 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      width = _ref17.width,\n      height = _ref17.height;\n\n  // case mobile open keyboard\n  width == 0 || height == 0 ? this.state.mapcontrolDOM.css('z-index', 0) : this.state.mapcontrolDOM.css('z-index', 1);\n  // update only when all control are ready\n  if (this.state.mapcontrolready && this.state.mapControl.update) {\n    var changedAndMoreSpace = {\n      changed: false,\n      space: false\n    };\n    // count the mapcontrol insied g3w-map-control container\n    this._mapControls.forEach(function (control) {\n      var map = _this10.getMap();\n      control.control.changelayout ? control.control.changelayout(map) : null;\n    });\n    // check if is vertical\n    if (this.isMapControlsVerticalAlignement()) {\n      var handleVerticalMapControlDOMElements = function handleVerticalMapControlDOMElements() {\n        var mapControslHeight = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].columns * _this10.state.mapcontrolSizes.minWidth;\n        // get bottom controls\n        var bottomMapControls = $('.ol-control-b' + _this10.getMapControlsAlignement()[0]);\n        var bottomMapControlTop = bottomMapControls.length ? $(bottomMapControls[bottomMapControls.length - 1]).position().top : height;\n        var freeSpace = bottomMapControlTop > 0 ? bottomMapControlTop - mapControslHeight : height - mapControslHeight;\n        if (freeSpace < 10) {\n          _this10.state.mapControl.currentIndex = _this10.state.mapControl.currentIndex === _this10.state.mapControl.grid.length - 1 ? _this10.state.mapControl.currentIndex : _this10.state.mapControl.currentIndex + 1;\n          changedAndMoreSpace.changed = true;\n        } else {\n          // check if there enough space to expand map controls\n          /**\n           Add 15 px of offset. Need to find a better solution in future\n           */\n          var nextHeight = 15 + (_this10.state.mapControl.currentIndex > 0 ? _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex - 1].columns * _this10.state.mapcontrolSizes.minWidth - mapControslHeight : mapControslHeight);\n          if (freeSpace > nextHeight) {\n            changedAndMoreSpace.changed = true;\n            changedAndMoreSpace.space = true;\n            _this10.state.mapControl.currentIndex = _this10.state.mapControl.currentIndex === 0 ? _this10.state.mapControl.currentIndex : _this10.state.mapControl.currentIndex - 1;\n          }\n        }\n        if (changedAndMoreSpace.changed) {\n          var _mapControslHeight = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].columns * _this10.state.mapcontrolSizes.minWidth;\n          var mapControlsWidth = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].rows * _this10.state.mapcontrolSizes.minWidth;\n          _this10.state.mapcontrolDOM.css('height', _mapControslHeight + 'px');\n          _this10.state.mapcontrolDOM.css('width', mapControlsWidth + 'px');\n          changedAndMoreSpace.changed = false;\n          changedAndMoreSpace.space && setTimeout(function () {\n            return handleVerticalMapControlDOMElements();\n          });\n        }\n      };\n      handleVerticalMapControlDOMElements();\n    } else isMobile.any && this.setMapControlsAlignement('rv');\n  }\n};\n\n/**\n *\n * @param control\n * @param visible\n * @private\n */\nproto._setMapControlVisible = function (_ref18) {\n  var control = _ref18.control,\n      _ref18$visible = _ref18.visible,\n      visible = _ref18$visible === undefined ? true : _ref18$visible;\n\n  control && control.setVisible(visible);\n};\n\nproto._addControlToMapControls = function (control) {\n  var visible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  var controlElement = control.element;\n  if (!visible) control.element.style.display = \"none\";\n  $('.g3w-map-controls').append(controlElement);\n};\n\n/**\n * @since 3.8.0\n */\nproto._addControlToMapControlsLeftBottom = function (control) {\n  var visible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (!visible) {\n    control.element.style.display = \"none\";\n  }\n  $('.g3w-map-controls-left-bottom').append(control.element);\n};\n\nproto.getMapControlByType = function () {\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref19.type;\n\n  var mapControl = this._mapControls.find(function (mapControl) {\n    return type === mapControl.type;\n  });\n  return mapControl && mapControl.control;\n};\n\n/**\n *\n *\n * @param id\n * @param type\n * @param control\n * @param addToMapControls\n * @param visible\n */\nproto.addControl = function (id, type, control) {\n  var _this11 = this;\n\n  var addToMapControls = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var visible = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n\n  this.state.mapcontrolready = false;\n  this.viewer.map.addControl(control);\n  control.on('toggled', function (evt) {\n    return _this11.emit('mapcontrol:toggled', evt);\n  });\n  this._mapControls.push({\n    id: id,\n    type: type,\n    control: control,\n    visible: visible,\n    mapcontrol: addToMapControls && visible\n  });\n  control.on('controlclick', function (evt) {\n    var mapcontrol = evt.target;\n\n    var info = {\n      clickmap: mapcontrol.isClickMap && mapcontrol.isClickMap() || false\n    };\n    info.clickmap && _this11._externalInteractions.forEach(function (interaction) {\n      return interaction.setActive(false);\n    });\n    _this11.controlClick(mapcontrol, info);\n  });\n  var buttonControl = $(control.element).find('button');\n  buttonControl.tooltip({\n    placement: 'bottom',\n    trigger: _gui2.default.isMobile() ? 'click' : 'hover'\n  });\n  // in case of mobile hide tooltip after click\n  _gui2.default.isMobile() && buttonControl.on('shown.bs.tooltip', function () {\n    var _this12 = this;\n\n    setTimeout(function () {\n      return $(_this12).tooltip('hide');\n    }, 600);\n  });\n  if (addToMapControls) this._addControlToMapControls(control, visible);else {\n    var $mapElement = $('#' + this.getMap().getTarget());\n    this._updateMapControlsLayout({\n      width: $mapElement.width(),\n      height: $mapElement.height()\n    });\n  }\n  _mapControls2.default.registerControl(type, control);\n  this._setMapControlsInsideContainerLenght();\n  this.state.mapcontrolready = true;\n};\n\nproto.showControl = function (type) {\n  this.showControls([type]);\n};\n\nproto.hideControl = function (type) {\n  this.hideControls([type]);\n};\n\nproto.showControls = function (types) {\n  this.toggleControls(true, types);\n};\n\nproto.hideControls = function (types) {\n  this.toggleControls(false, types);\n};\n\nproto.showAllControls = function () {\n  this.toggleControls(true);\n};\n\nproto.hideAllControls = function () {\n  this.toggleControls(false);\n};\n\nproto.toggleControls = function (toggle, types) {\n  this._removeControls();\n  this._mapControls.forEach(function (controlObj) {\n    if (types) {\n      if (types.indexOf(controlObj.type) > -1) controlObj.visible = toggle;\n    } else controlObj.visible = toggle;\n  });\n  this._layoutControls();\n};\n\nproto._layoutControls = function () {\n  var _this13 = this;\n\n  this._mapControls.forEach(function (controlObj) {\n    if (controlObj.visible) _this13.viewer.map.addControl(controlObj.control);\n  });\n};\n\nproto.getMapControls = function () {\n  return this._mapControls;\n};\n\nproto.removeControlById = function (id) {\n  var _this14 = this;\n\n  this._mapControls.find(function (controlObj, ctrlIdx) {\n    if (id === controlObj.id) {\n      _this14._mapControls.splice(ctrlIdx, 1);\n      var control = controlObj.control;\n      _this14.viewer.map.removeControl(control);\n      control.hideControl && control.hideControl();\n      return true;\n    }\n  });\n};\n\nproto.removeControl = function (type) {\n  var _this15 = this;\n\n  this._mapControls.find(function (controlObj, ctrlIdx) {\n    if (type === controlObj.type) {\n      _this15._mapControls.splice(ctrlIdx, 1);\n      var control = controlObj.control;\n      _this15.viewer.map.removeControl(control);\n      control.hideControl && control.hideControl();\n      return true;\n    }\n  });\n};\n\nproto._removeControls = function () {\n  var _this16 = this;\n\n  this._mapControls.forEach(function (controlObj) {\n    return _this16.viewer.map.removeControl(controlObj.control);\n  });\n};\n\n/**\n * untoggle mapcontrol\n * @param close GUI content\n * @private\n */\nproto._unToggleControls = function () {\n  var _ref20 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref20$close = _ref20.close,\n      close = _ref20$close === undefined ? true : _ref20$close;\n\n  this._mapControls.forEach(function (controlObj) {\n    if (controlObj.control.isToggled && controlObj.control.isToggled()) {\n      controlObj.control.toggle(false);\n      close && _gui2.default.closeContent();\n    }\n  });\n};\n\nproto.deactiveMapControls = function () {\n  this._unToggleControls({\n    close: false\n  });\n};\n\n/**\n *\n * Method to disable\n */\nproto.disableClickMapControls = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this._mapControls.forEach(function (controlObj) {\n    var control = controlObj.control;\n\n    var clickmap = control.isClickMap ? control.isClickMap() : false;\n    if (clickmap) {\n      control.isToggled() && control.toggle();\n      control[bool ? 'disable' : 'enable']();\n    }\n  });\n};\n\nproto.addMapLayers = function (mapLayers) {\n  var _this17 = this;\n\n  mapLayers.reverse().forEach(function (mapLayer) {\n    return _this17.addMapLayer(mapLayer);\n  });\n};\n\nproto._setupCustomMapParamsToLegendUrl = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  if (bool) {\n    var map = this.getMap();\n    var size = map && map.getSize().filter(function (value) {\n      return value > 0;\n    }) || null;\n    var bbox = size && size.length === 2 ? map.getView().calculateExtent(size) : this.project.state.initextent;\n    // in case of axis orientation inverted i need to inverted the axis\n    bbox = map.getView().getProjection().getAxisOrientation() === \"neu\" ? [bbox[1], bbox[0], bbox[3], bbox[2]] : bbox;\n    var crs = this.getEpsg();\n    //setup initial legend parameter\n    this.getMapLayers().forEach(function (mapLayer) {\n      mapLayer.setupCustomMapParamsToLegendUrl && mapLayer.setupCustomMapParamsToLegendUrl({\n        crs: crs,\n        bbox: bbox\n      });\n    });\n    this.emit('change-map-legend-params');\n  }\n};\n\nproto.addMapLayer = function (mapLayer) {\n  this._mapLayers.push(mapLayer);\n  this.addLayerToMap(mapLayer);\n};\n\nproto.getMapLayerByLayerId = function (layerId) {\n  return this.getMapLayers().find(function (mapLayer) {\n    return mapLayer.getLayerConfigs().find(function (layer) {\n      return layer.getId() === layerId;\n    });\n  });\n};\n\nproto.getMapLayers = function () {\n  return this._mapLayers;\n};\n\nproto.getBaseLayers = function () {\n  return this.mapBaseLayers;\n};\n\nproto.getMapLayerForLayer = function (layer) {\n  var multilayerId = 'layer_' + layer.getMultiLayerId();\n  var mapLayers = this.getMapLayers();\n  var mapLayer = mapLayers.find(function (mapLayer) {\n    return mapLayer.getId() === multilayerId;\n  });\n  return mapLayer;\n};\n\nproto.getProjectLayer = function (layerId) {\n  return _mapLayers2.default.getLayerById(layerId);\n};\n\nproto._setSettings = function () {\n  var ZOOM = _constant.MAP_SETTINGS.ZOOM;\n\n  var maxScale = this.getScaleFromExtent(this.project.state.initextent);\n  // settings maxScale\n  ZOOM.maxScale = ZOOM.maxScale > maxScale ? maxScale : ZOOM.maxScale;\n};\n\nproto._resetView = function () {\n  var _viewer$map$getSize = this.viewer.map.getSize(),\n      _viewer$map$getSize2 = _slicedToArray(_viewer$map$getSize, 2),\n      width = _viewer$map$getSize2[0],\n      height = _viewer$map$getSize2[1];\n\n  var extent = this.project.state.extent;\n  var maxxRes = ol.extent.getWidth(extent) / width;\n  var minyRes = ol.extent.getHeight(extent) / height;\n  var maxResolution = Math.max(maxxRes, minyRes) > this.viewer.map.getView().getMaxResolution() ? Math.max(maxxRes, minyRes) : this.viewer.map.getView().getMaxResolution();\n  var view = new ol.View({\n    extent: extent,\n    projection: this.viewer.map.getView().getProjection(),\n    center: this.viewer.map.getView().getCenter(),\n    resolution: this.viewer.map.getView().getResolution(),\n    maxResolution: maxResolution\n  });\n  this._setSettings();\n  this.viewer.map.setView(view);\n};\n\nproto._calculateViewOptions = function () {\n  var _this18 = this;\n\n  var _ref21 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      project = _ref21.project,\n      width = _ref21.width,\n      height = _ref21.height;\n\n  var searchParams = new URLSearchParams(location.search);\n  var map_extent = searchParams.get('map_extent');\n  var zoom_to_fid = searchParams.get('zoom_to_fid');\n  var zoom_to_features = searchParams.get('ztf'); // zoom to features\n  var lat_lon = searchParams.get('lat') && searchParams.get('lon') && {\n    lat: 1 * searchParams.get('lat'),\n    lon: 1 * searchParams.get('lon')\n  };\n  var x_y = searchParams.get('x') && searchParams.get('y') && {\n    x: 1 * searchParams.get('x'),\n    y: 1 * searchParams.get('y')\n  };\n  if (zoom_to_fid) this.zoomToFid(zoom_to_fid);else if (zoom_to_features) this.handleZoomToFeaturesUrlParameter({ zoom_to_features: zoom_to_features });else if (lat_lon && !Number.isNaN(lat_lon.lat) && !Number.isNaN(lat_lon.lon)) {\n    setTimeout(function () {\n      var geometry = new ol.geom.Point(ol.proj.transform([lat_lon.lon, lat_lon.lat], 'EPSG:4326', _this18.getEpsg()));\n      if (geometry.getExtent()) _this18.zoomToGeometry(geometry);\n    });\n  } else if (x_y && !Number.isNaN(x_y.x) && !Number.isNaN(x_y.y)) setTimeout(function () {\n    var geometry = new ol.geom.Point([x_y.x, x_y.y]);\n    _this18.zoomToGeometry(geometry);\n  });\n  var initextent = map_extent ? map_extent.split(',').map(function (coordinate) {\n    return 1 * coordinate;\n  }) : project.state.initextent;\n  var projection = this.getProjection();\n  var extent = project.state.extent;\n  var maxxRes = ol.extent.getWidth(extent) / width;\n  var maxyRes = ol.extent.getHeight(extent) / height;\n  var maxResolution = Math.max(maxxRes, maxyRes);\n  var initxRes = ol.extent.getWidth(initextent) / width;\n  var inityRes = ol.extent.getHeight(initextent) / height;\n  var resolution = Math.max(initxRes, inityRes);\n  var center = ol.extent.getCenter(initextent);\n  return {\n    projection: projection,\n    center: center,\n    extent: extent,\n    maxResolution: maxResolution,\n    resolution: resolution\n  };\n};\n\n// set view based on project config\nproto._setupViewer = function (width, height) {\n  var _this19 = this;\n\n  this.viewer = olhelpers.createViewer({\n    id: this.target,\n    view: this._calculateViewOptions({\n      width: width,\n      height: height,\n      project: this.project\n    })\n  });\n  this._setSettings();\n  this.state.size = this.viewer.map.getSize();\n  //set mapunit\n  this.state.mapUnits = this.viewer.map.getView().getProjection().getUnits();\n\n  if (this.config.background_color) {\n    $('#' + this.target).css('background-color', this.config.background_color);\n  }\n\n  $(this.viewer.map.getViewport()).prepend('<div id=\"map-spinner\" style=\"position:absolute; top: 50%; right: 50%\"></div>');\n\n  this.viewer.map.getInteractions().forEach(function (interaction) {\n    return _this19._watchInteraction(interaction);\n  });\n\n  this.viewer.map.getInteractions().on('add', function (interaction) {\n    return _this19._watchInteraction(interaction.element);\n  });\n\n  this.viewer.map.getInteractions().on('remove', function (interaction) {\n    //this._onRemoveInteraction(interaction););\n  });\n\n  this._marker = new ol.Overlay({\n    position: null,\n    positioning: 'center-center',\n    element: document.getElementById('marker'),\n    stopEvent: false\n  });\n\n  this.viewer.map.addOverlay(this._marker);\n\n  /**\n   *\n   * Register map addLayer\n   *\n   */\n  this.viewer.map.getLayers().on('add', function (evt) {\n    var layer = evt.element;\n\n    var basemap = layer.get('basemap');\n    var position = layer.get('position');\n    var zindex = basemap && 0;\n    if (position && position === 'bottom') zindex = 0;\n    zindex = _this19.setLayerZIndex({\n      layer: layer,\n      zindex: zindex\n    });\n    _this19.moveDefaultLayersOnTop(zindex);\n  });\n\n  this.viewer.map.getLayers().on('remove', function (evt) {\n    var layer = evt.element;\n\n    var layerZIndex = layer.getZIndex();\n    if (layerZIndex === _this19.layersCount) _this19.layersCount -= 1;\n  });\n};\n\nproto.getMapUnits = function () {\n  return this.state.mapUnits;\n};\n\nproto._removeListeners = function () {\n  this._setBaseLayerListenerKey && this.project.un('setBaseLayer', this._setBaseLayerListenerKey);\n};\n\n// remove all events of layersStore\nproto._removeEventsKeysToLayersStore = function (layerStore) {\n  var layerStoreId = layerStore.getId();\n  if (this._layersStoresEventKeys[layerStoreId]) {\n    this._layersStoresEventKeys[layerStoreId].forEach(function (eventObj) {\n      Object.entries(eventObj).forEach(function (_ref22) {\n        var _ref23 = _slicedToArray(_ref22, 2),\n            event = _ref23[0],\n            eventKey = _ref23[1];\n\n        return layerStore.un(event, eventKey);\n      });\n    });\n    delete this._layersStoresEventKeys[layerStoreId];\n  }\n};\n\n// register all events of layersStore and relative keys\nproto._setUpEventsKeysToLayersStore = function (layerStore) {\n  var _this20 = this;\n\n  var layerStoreId = layerStore.getId();\n  // check if already store a key of events\n  this._layersStoresEventKeys[layerStoreId] = [];\n  //ADD LAYER\n  var addLayerKey = layerStore.onafter('addLayer', function (layer) {\n    if (layer.getType() === 'vector') {\n      var mapLayer = layer.getMapLayer();\n      _this20.addLayerToMap(mapLayer);\n    }\n  });\n  this._layersStoresEventKeys[layerStoreId].push({\n    addLayer: addLayerKey\n  });\n  // REMOVE LAYER\n  var removeLayerKey = layerStore.onafter('removeLayer', function (layer) {\n    if (layer.getType() === 'vector') {\n      var olLayer = layer.getOLLayer();\n      _this20.viewer.map.removeLayer(olLayer);\n    }\n  });\n\n  this._layersStoresEventKeys[layerStoreId].push({\n    removeLayer: removeLayerKey\n  });\n};\n\nproto._setupListeners = function () {\n  var _this21 = this;\n\n  this._setBaseLayerListenerKey = this.project.onafter('setBaseLayer', function () {\n    _this21.updateMapLayers();\n  });\n};\n\n// SETUP ALL LAYERS\nproto._setupAllLayers = function () {\n  this._setupBaseLayers();\n  this._setupMapLayers();\n  this._setupVectorLayers();\n  this._setUpDefaultLayers();\n};\n\n//SETUP BASELAYERS\nproto._setupBaseLayers = function () {\n  var _this22 = this;\n\n  var baseLayers = getMapLayersByFilter({\n    BASELAYER: true\n  });\n  if (!baseLayers.length) return;\n  baseLayers.forEach(function (layer) {\n    var baseMapLayer = layer.getMapLayer();\n    _this22.registerMapLayerListeners(baseMapLayer);\n    _this22.mapBaseLayers[layer.getId()] = baseMapLayer;\n  });\n  var reverseBaseLayers = Object.values(this.mapBaseLayers).reverse();\n  reverseBaseLayers.forEach(function (baseMapLayer) {\n    baseMapLayer.update(_this22.state, _this22.layersExtraParams);\n    _this22.addLayerToMap(baseMapLayer);\n  });\n};\n\n//SETUP MAPLAYERS\nproto._setupMapLayers = function () {\n  var _this23 = this;\n\n  // get all geolayers exclude baselayers and eventually vector layers\n  var layers = getMapLayersByFilter({\n    BASELAYER: false,\n    VECTORLAYER: false\n  });\n  this._setMapProjectionToLayers(layers);\n  //group layer by mutilayer (multilayer property of layer on project configuration)\n  // nee to split time series to group to speed up eventualli time seriesries loading of single layer\n  var qtimeseries_multilayerid_split_values = {};\n  var multiLayers = _.groupBy(layers, function (layer) {\n    var multiLayerId = layer.getMultiLayerId();\n    if (layer.isQtimeseries()) {\n      qtimeseries_multilayerid_split_values[multiLayerId] = qtimeseries_multilayerid_split_values[multiLayerId] === undefined ? 0 : qtimeseries_multilayerid_split_values[multiLayerId] + 1;\n      multiLayerId = multiLayerId + '_' + qtimeseries_multilayerid_split_values[multiLayerId];\n    } else multiLayerId = qtimeseries_multilayerid_split_values[multiLayerId] === undefined ? multiLayerId : multiLayerId + '_' + (qtimeseries_multilayerid_split_values[multiLayerId] + 1);\n    return multiLayerId;\n  });\n  qtimeseries_multilayerid_split_values = null; // delete to garbage collector\n  var mapLayers = [];\n  Object.entries(multiLayers).forEach(function (_ref24) {\n    var _ref25 = _slicedToArray(_ref24, 2),\n        id = _ref25[0],\n        layers = _ref25[1];\n\n    var multilayerId = 'layer_' + id;\n    var mapLayer = void 0;\n    var layer = layers[0] || [];\n    if (layers.length === 1) {\n      mapLayer = layer.getMapLayer({\n        id: multilayerId,\n        projection: _this23.getProjection(),\n        /**\n         * @since 3.7.11\n         */\n        format: layer.getSource() && layer.getSource().format\n      }, {});\n      mapLayer.addLayer(layer);\n      mapLayers.push(mapLayer);\n    } else {\n      mapLayer = layer.getMapLayer({\n        id: multilayerId,\n        projection: _this23.getProjection()\n      }, _this23.layersExtraParams);\n      layers.reverse().forEach(function (sub_layer) {\n        return mapLayer.addLayer(sub_layer);\n      });\n      mapLayers.push(mapLayer);\n    }\n    _this23.registerMapLayerListeners(mapLayer);\n  });\n  this.addMapLayers(mapLayers);\n  this.updateMapLayers();\n  return mapLayers;\n};\n\n//SETUP VECTORLAYERS\nproto._setupVectorLayers = function () {\n  var _this24 = this;\n\n  var layers = getMapLayersByFilter({\n    VECTORLAYER: true\n  });\n  this._setMapProjectionToLayers(layers);\n  layers.forEach(function (layer) {\n    var mapVectorLayer = layer.getMapLayer();\n    _this24.addLayerToMap(mapVectorLayer);\n  });\n};\n\nproto._setUpDefaultLayers = function () {\n  // follow the order that i want\n  this.getMap().addLayer(this.defaultsLayers.highlightLayer);\n  this.getMap().addLayer(this.defaultsLayers.selectionLayer);\n};\n\n/**\n * Method to set Default layers (selectionLayer, and highlightLayer)\n * always on top of layers stack of map to be always visible\n */\nproto.moveDefaultLayersOnTop = function (zindex) {\n  this.setZIndexLayer({\n    layer: this.defaultsLayers.highlightLayer,\n    zindex: zindex + 1\n  });\n  this.setZIndexLayer({\n    layer: this.defaultsLayers.selectionLayer,\n    zindex: zindex + 2\n  });\n};\n\nproto.removeDefaultLayers = function () {\n  this.defaultsLayers.highlightLayer.getSource().clear();\n  this.defaultsLayers.selectionLayer.getSource().clear();\n  this.getMap().removeLayer(this.defaultsLayers.highlightLayer);\n  this.getMap().removeLayer(this.defaultsLayers.selectionLayer);\n};\n\nproto.setDefaultLayerStyle = function (type) {\n  var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (type && this.defaultsLayers[type]) this.defaultsLayers._style[type] = style;\n};\n\nproto.resetDefaultLayerStyle = function (type) {\n  var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (type && this.defaultsLayers[type]) this.defaultsLayers._style[type] = {\n    color: type === 'highlightLayer' ? undefined : 'red'\n  };\n};\n\nproto.removeLayers = function () {\n  this._removeBaseLayers();\n  this._removeMapLayers();\n  this.removeExternalLayers();\n  this.removeDefaultLayers();\n};\n\nproto.removeAllLayers = function () {\n  this.viewer.removeLayers();\n};\n\n//set ad increase layerIndex\nproto.setLayerZIndex = function (_ref26) {\n  var layer = _ref26.layer,\n      _ref26$zindex = _ref26.zindex,\n      zindex = _ref26$zindex === undefined ? this.layersCount += 1 : _ref26$zindex;\n\n  layer.setZIndex(zindex);\n  return zindex;\n};\n\n/**\n * Add olLayer to mapLayer\n * @param layer\n */\nproto.addLayerToMap = function (layer) {\n  var olLayer = layer.getOLLayer();\n  olLayer && this.getMap().addLayer(olLayer);\n};\n\nproto._setMapProjectionToLayers = function (layers) {\n  var _this25 = this;\n\n  // setup mapProjection on ech layers\n  layers.forEach(function (layer) {\n    return layer.setMapProjection(_this25.getProjection());\n  });\n};\n\nproto.createMapLayer = function (layer) {\n  layer.setMapProjection(this.getProjection());\n  var multilayerId = 'layer_' + layer.getMultiLayerId();\n  var mapLayer = layer.getMapLayer({\n    id: multilayerId,\n    projection: this.getProjection()\n  }, this.layersExtraParams);\n  mapLayer.addLayer(layer);\n  return mapLayer;\n};\n\nproto.getOverviewMapLayers = function (project) {\n  var WMSLayer = require('core/layers/map/wmslayer');\n  var projectLayers = project.getLayersStore().getLayers({\n    GEOLAYER: true,\n    BASELAYER: false\n  });\n  var multiLayers = _.groupBy(projectLayers, function (layer) {\n    return layer.getMultiLayerId();\n  });\n  var overviewMapLayers = [];\n\n  Object.entries(multiLayers).forEach(function (_ref27) {\n    var _ref28 = _slicedToArray(_ref27, 2),\n        id = _ref28[0],\n        layers = _ref28[1];\n\n    var multilayerId = 'overview_layer_' + id;\n    var tiled = layers[0].state.tiled;\n    var config = {\n      url: project.getWmsUrl(),\n      id: multilayerId,\n      tiled: tiled\n    };\n    var mapLayer = new WMSLayer(config);\n    layers.reverse().forEach(function (layer) {\n      return mapLayer.addLayer(layer);\n    });\n    overviewMapLayers.push(mapLayer.getOLLayer(true));\n  });\n  return overviewMapLayers.reverse();\n};\n\n/**\n * method to update MapLayer\n * @param mapLayer\n * @param options\n */\nproto.updateMapLayer = function (mapLayer) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { force: false };\n\n  var _ref29 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref29$showSpinner = _ref29.showSpinner,\n      showSpinner = _ref29$showSpinner === undefined ? true : _ref29$showSpinner;\n\n  // if force add g3w_time parameter to force request of map layer from server\n  if (options.force) options.g3w_time = Date.now();\n  if (showSpinner !== mapLayer.showSpinnerWhenLoading) {\n    mapLayer.showSpinnerWhenLoading = showSpinner;\n    this[showSpinner ? 'registerMapLayerLoadingEvents' : 'unregisterMapLayerLoadingEvents'](mapLayer);\n  }\n  mapLayer.update(this.state, options);\n  return mapLayer;\n};\n\n// run update function on each mapLayer\nproto.updateMapLayers = function () {\n  var _this26 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.getMapLayers().forEach(function (mapLayer) {\n    return _this26.updateMapLayer(mapLayer, options);\n  });\n  var baseLayers = this.getBaseLayers();\n  //updatebase layer\n  Object.values(baseLayers).forEach(function (baseLayer) {\n    return baseLayer.update(_this26.state, _this26.layersExtraParams);\n  });\n};\n\n// register map Layer listeners of creation\nproto.registerMapLayerListeners = function (mapLayer) {\n  var _this27 = this;\n\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  this.registerMapLayerLoadingEvents(mapLayer);\n  //listen change filter token\n  if (projectLayer && mapLayer.layers && Array.isArray(mapLayer.layers)) mapLayer.layers.forEach(function (layer) {\n    layer.onbefore('change', function () {\n      return _this27.updateMapLayer(mapLayer, { force: true });\n    });\n    layer.on('filtertokenchange', function () {\n      return _this27.updateMapLayer(mapLayer, { force: true });\n    });\n  });\n  ///\n};\n\n/** Methos to register and unregister map loadmap\n *\n * */\nproto.registerMapLayerLoadingEvents = function (mapLayer) {\n  mapLayer.on('loadstart', this._incrementLoaders);\n  mapLayer.on('loadend', this._decrementLoaders);\n  mapLayer.on('loaderror', this._mapLayerLoadError);\n};\n\nproto.unregisterMapLayerLoadingEvents = function (mapLayer) {\n  mapLayer.off('loadstart', this._incrementLoaders);\n  mapLayer.off('loadend', this._decrementLoaders);\n  mapLayer.off('loaderror', this._mapLayerLoadError);\n};\n\n/**\n * End\n */\n\n// unregister listeners of mapLayers creation\nproto.unregisterMapLayerListeners = function (mapLayer) {\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  this.unregisterMapLayerLoadingEvents(mapLayer);\n  // try to remove layer filter token\n  if (projectLayer && mapLayer.layers && Array.isArray(mapLayer.layers)) mapLayer.layers.forEach(function (layer) {\n    layer.un('change');\n    layer.removeEvent('filtertokenchange');\n  });\n};\n\nproto.setTarget = function (elId) {\n  this.target = elId;\n};\n\nproto.getCurrentToggledMapControl = function () {\n  var mapControl = this._mapControls.find(function (_ref30) {\n    var control = _ref30.control;\n    return control && control.isToggled && control.isToggled();\n  });\n  return mapControl && mapControl.control;\n};\n\n/**\n * close: param to close eventually right content open\n * @param interaction\n * @param options is an object contain: {\n *   active: If set new interaction active or not\n *   active: If set new interaction active or not\n *   close: if close eventually GUI Content (es. result right content )\n * }\n * return object having current toggled control if there is a toggled mapcontrol\n */\nproto.addInteraction = function (interaction) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { active: true, close: true };\n  var _options$active = options.active,\n      active = _options$active === undefined ? true : _options$active;\n\n  var control = this.getCurrentToggledMapControl();\n  var toggled = control && control.isToggled && control.isToggled() || false;\n  var untoggleMapControls = control && control.isClickMap ? control.isClickMap() : true;\n  untoggleMapControls && active && this._unToggleControls(options);\n  this.getMap().addInteraction(interaction);\n  interaction.setActive(active);\n  this._externalInteractions.push(interaction);\n  return {\n    control: control,\n    toggled: toggled // return current toggled map control if toggled\n  };\n};\n\nproto.removeInteraction = function (interaction) {\n  interaction && interaction.setActive(false);\n  this.viewer.map.removeInteraction(interaction);\n  this._externalInteractions = this._externalInteractions.filter(function (_interaction) {\n    return interaction !== _interaction;\n  });\n};\n\nproto._watchInteraction = function (interaction) {\n  var _this28 = this;\n\n  interaction.on('change:active', function (e) {\n    if (e.target instanceof ol.interaction.Pointer && e.target.getActive()) {\n      _this28.emit('mapcontrol:active', e.target);\n    }\n  });\n};\n\n/**\n * Show map Info\n * @param info\n */\nproto.showMapInfo = function () {\n  var _ref31 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      info = _ref31.info,\n      style = _ref31.style;\n\n  this.state.map_info.info = info;\n  this.state.map_info.style = style || this.state.map_info.style;\n};\n\nproto.hideMapInfo = function () {\n  this.state.map_info.info = null;\n  this.state.map_info.style = null;\n};\n\nproto.zoomTo = function (coordinate) {\n  var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;\n\n  this.viewer.zoomTo(coordinate, zoom);\n};\n\nproto.goTo = function (coordinates, zoom) {\n  var options = {\n    zoom: zoom || 6\n  };\n  this.viewer.goTo(coordinates, options);\n};\n\nproto.goToRes = function (coordinates, resolution) {\n  this.viewer.goToRes(coordinates, {\n    resolution: resolution\n  });\n};\n\nproto.getGeometryAndExtentFromFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var extent = void 0;\n  var geometryType = void 0;\n  var geometry = void 0;\n  var coordinates = void 0;\n  var geometryCoordinates = [];\n  for (var i = 0; i < features.length; i++) {\n    var feature = features[i];\n    var _geometry = feature.getGeometry ? feature.getGeometry() : feature.geometry;\n    if (_geometry) {\n      if (_geometry instanceof ol.geom.Geometry) {\n        var featureExtent = [].concat(_toConsumableArray(_geometry.getExtent()));\n        extent = !extent ? featureExtent : ol.extent.extend(extent, featureExtent);\n        geometryType = geometryType ? geometryType : _geometry.getType();\n        coordinates = _geometry.getCoordinates();\n        if (geometryType.includes('Multi')) geometryCoordinates = [].concat(_toConsumableArray(geometryCoordinates), _toConsumableArray(coordinates));else geometryCoordinates.push(coordinates);\n      } else {\n        var _featureExtent = feature.bbox;\n        extent = !extent ? _featureExtent : ol.extent.extend(extent, _featureExtent);\n        geometryType = _geometry.type;\n        coordinates = _geometry.coordinates;\n      }\n      if (geometryType.includes('Multi')) geometryCoordinates = [].concat(_toConsumableArray(geometryCoordinates), _toConsumableArray(coordinates));else geometryCoordinates.push(coordinates);\n    }\n  }\n  try {\n    var olClassGeomType = geometryType.includes('Multi') ? geometryType : 'Multi' + geometryType;\n    geometry = new ol.geom[olClassGeomType](geometryCoordinates);\n    if (extent === undefined) extent = geometry.getExtent();\n  } catch (err) {}\n  return {\n    extent: extent,\n    geometry: geometry\n  };\n};\n\nproto.highlightFeatures = function (features) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _getGeometryAndExtent = this.getGeometryAndExtentFromFeatures(features),\n      geometry = _getGeometryAndExtent.geometry;\n  //force zoom false\n\n\n  options.zoom = false;\n  this.highlightGeometry(geometry, options);\n};\n\n/**\n * Zoom methods\n */\n\nproto.zoomToGeometry = function (geometry) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { highlight: false };\n\n  var extent = geometry && geometry.getExtent();\n  var highlight = options.highlight;\n\n  if (highlight && extent) options.highLightGeometry = geometry;\n  extent && this.zoomToExtent(extent, options);\n};\n\nproto.zoomToFeatures = function (features) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { highlight: false };\n\n  var _getGeometryAndExtent2 = this.getGeometryAndExtentFromFeatures(features),\n      geometry = _getGeometryAndExtent2.geometry,\n      extent = _getGeometryAndExtent2.extent;\n\n  var highlight = options.highlight;\n\n  if (highlight && extent) options.highLightGeometry = geometry;\n  return extent && this.zoomToExtent(extent, options) || Promise.resolve();\n};\n\n/**\n * @param   { ol.extent }                                          extent\n * @param   {{ force?: boolean, highLightGeometry?: ol.geometry }} [options={}]\n * @returns { Promise<void> }\n */\nproto.zoomToExtent = function (extent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.goToRes(ol.extent.getCenter(extent), this.getResolutionForZoomToExtent(extent, { force: options.force || false }));\n  if (options.highLightGeometry) {\n    return this.highlightGeometry(options.highLightGeometry, { zoom: false, duration: options.duration });\n  }\n  return Promise.resolve();\n};\n\nproto.zoomToProjectInitExtent = function () {\n  this.zoomToExtent(this.project.state.initextent);\n};\n\n/**\n * End zoom methods\n */\n\nproto.compareExtentWithProjectMaxExtent = function (extent) {\n  var projectExtent = this.project.state.extent;\n  var inside = ol.extent.containsExtent(projectExtent, extent);\n  return inside ? extent : projectExtent;\n};\n\n/**\n * @param   {[ minx: number, miny: number, maxx: number, maxy: number ]} extent\n * @param   {{ force?: boolean }} [options] if force is undefined calculate `resolution` from given `extent`\n * @returns {number} resolution (in pixels?)\n */\nproto.getResolutionForZoomToExtent = function (extent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { force: false };\n\n  var map = this.getMap();\n\n  // if outside project extent, return max resolution\n  if (false === ol.extent.containsExtent(this.project.state.extent, extent)) {\n    return map.getView().getResolutionForExtent(this.project.state.extent, map.getSize());\n  }\n\n  var extentResolution = map.getView().getResolutionForExtent(extent, map.getSize()); // resolution of request extent\n\n  // retrive resolution from given `extent`\n  if (true === options.force) {\n    return extentResolution;\n  }\n\n  // calculate main resolutions from map\n  var resolution = void 0;\n  var currentResolution = map.getView().getResolution();\n  var maxResolution = getResolutionFromScale(_constant.MAP_SETTINGS.ZOOM.maxScale, this.getMapUnits()); // max resolution of the map\n  resolution = extentResolution > maxResolution ? extentResolution : maxResolution;\n  resolution = currentResolution < resolution && currentResolution > extentResolution ? currentResolution : resolution;\n  return resolution;\n};\n\nproto.goToBBox = function (bbox) {\n  var epsg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getEpsg();\n\n  bbox = epsg === this.getEpsg() ? bbox : ol.proj.transformExtent(bbox, epsg, this.getEpsg());\n  this.viewer.fit(this.compareExtentWithProjectMaxExtent(bbox));\n};\n\nproto.goToWGS84 = function (coordinates, zoom) {\n  coordinates = ol.proj.transform(coordinates, 'EPSG:4326', this.project.state.crs.epsg);\n  this.goTo(coordinates, zoom);\n};\n\nproto.extentToWGS84 = function (extent) {\n  return ol.proj.transformExtent(extent, this.project.state.crs.epsg, 'EPSG:4326');\n};\n\nproto.getResolutionForMeters = function (meters) {\n  var viewport = this.viewer.map.getViewport();\n  return meters / Math.max(viewport.clientWidth, viewport.clientHeight);\n};\n\nvar animatingHighlight = false;\n\n/*\n* geometries = array of geometries\n* action: add, clear, remove :\n*                             add: feature/features to selectionLayer. If selectionLayer doesn't exist create a  new vector layer.\n*                             clear: remove selectionLayer\n*                             remove: remove feature from selection layer. If no more feature are in selectionLayer it will be removed\n* */\nproto.setSelectionFeatures = function () {\n  var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'add';\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var feature = options.feature,\n      color = options.color;\n\n  color && this.setDefaultLayerStyle('selectionLayer', {\n    color: color\n  });\n  var source = this.defaultsLayers.selectionLayer.getSource();\n  switch (action) {\n    case 'add':\n      source.addFeature(feature);\n      break;\n    case 'remove':\n      source.removeFeature(feature);\n      break;\n    case 'update':\n      var id = feature.getId();\n      var addedFeature = source.getFeatureById(id);\n      addedFeature.setGeometry(feature.getGeometry());\n      break;\n    case 'clear':\n      source.clear();\n      break;\n  }\n};\n\nproto.clearSelectionFeatures = function () {\n  this.defaultsLayers.selectionLayer.getSource().clear();\n};\n\nproto.seSelectionLayerVisible = function () {\n  var visible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.defaultsLayers.selectionLayer.setVisible(visible);\n};\n\nproto.highlightGeometry = function (geometryObj) {\n  var _this29 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return new Promise(function (resolve, reject) {\n    var color = options.color;\n\n    _this29.clearHighlightGeometry();\n    _this29.setDefaultLayerStyle('highlightLayer', {\n      color: color\n    });\n    var zoom = typeof options.zoom === 'boolean' ? options.zoom : true;\n    var hide = options.hide;\n    if (hide) hide = typeof hide === 'function' ? hide : null;\n    var customStyle = options.style;\n    var defaultStyle = function defaultStyle(feature) {\n      var styles = [];\n      var geometryType = feature.getGeometry().getType();\n      var style = createSelectedStyle({\n        geometryType: geometryType,\n        color: color,\n        fill: false\n      });\n      styles.push(style);\n      return styles;\n    };\n    var ANIMATION = _constant.MAP_SETTINGS.ANIMATION;\n\n    var highlight = typeof options.highlight == 'boolean' ? options.highlight : true;\n    var duration = options.duration || ANIMATION.duration;\n    var geometry = void 0;\n    if (geometryObj instanceof ol.geom.Geometry) geometry = geometryObj;else {\n      var format = new ol.format.GeoJSON();\n      geometry = format.readGeometry(geometryObj);\n    }\n    if (zoom) {\n      var extent = geometry.getExtent();\n      _this29.zoomToExtent(extent);\n    }\n    if (highlight) {\n      var feature = new ol.Feature({\n        geometry: geometry\n      });\n      var highlightLayer = _this29.defaultsLayers.highlightLayer;\n      customStyle && highlightLayer.setStyle(customStyle);\n      highlightLayer.getSource().addFeature(feature);\n      if (hide) {\n        var callback = function callback() {\n          highlightLayer.getSource().clear();\n          customStyle && highlightLayer.setStyle(defaultStyle);\n          resolve();\n        };\n        hide(callback);\n      } else if (duration) {\n        if (duration !== Infinity) {\n          animatingHighlight = true;\n          setTimeout(function () {\n            highlightLayer.getSource().clear();\n            customStyle && highlightLayer.setStyle(defaultStyle);\n            animatingHighlight = false;\n            resolve();\n          }, duration);\n        }\n      }\n    } else resolve();\n  });\n};\n\nproto.clearHighlightGeometry = function () {\n  !animatingHighlight && this.defaultsLayers.highlightLayer.getSource().clear();\n  this.resetDefaultLayerStyle('highlightLayer');\n};\n\n/**\n * Force to referesh map\n * @param options\n */\nproto.refreshMap = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { force: true };\n\n  this.updateMapLayers(options);\n};\n\n// called when layout (window) resize\nproto.layout = function (_ref32) {\n  var width = _ref32.width,\n      height = _ref32.height;\n\n  var is_hidden = width <= 0 || height <= 0;\n  if (!this.viewer) {\n    this.setupViewer(width, height);\n    if (this.viewer) {\n      this.setupControls();\n      this.emit('ready');\n    }\n  } else {\n    if (!is_hidden) {\n      this.getMap().updateSize();\n      this.state.hidemaps.forEach(function (hidemap) {\n        return hidemap.map.updateSize();\n      });\n      this._updateMapView();\n    }\n  }\n  this.setHidden(is_hidden);\n  this._mapControls.length && this._updateMapControlsLayout({ width: width, height: height });\n};\n\n//remove BaseLayers\nproto._removeBaseLayers = function () {\n  var _this30 = this;\n\n  Object.keys(this.mapBaseLayers).forEach(function (baseLayerId) {\n    _this30.viewer.map.removeLayer(_this30.mapBaseLayers[baseLayerId].getOLLayer());\n  });\n};\n\n// function to remove maplayers\nproto._removeMapLayers = function () {\n  var _this31 = this;\n\n  this.getMapLayers().forEach(function (mapLayer) {\n    _this31.unregisterMapLayerListeners(mapLayer);\n    _this31.viewer.map.removeLayer(mapLayer.getOLLayer());\n  });\n  this._mapLayers = [];\n};\n\nproto.getMapBBOX = function () {\n  return this.viewer.getBBOX();\n};\n\nproto._updateMapView = function () {\n  var bbox = this.viewer.getBBOX();\n  var resolution = this.viewer.getResolution();\n  var center = this.viewer.getCenter();\n  var size = this.getMap().getSize();\n  this.updateMapView(bbox, resolution, center, size);\n};\n\nproto.getMapSize = function () {\n  var map = this.viewer.map;\n  return map.getSize();\n};\n\nproto.setInnerGreyCoverScale = function (scale) {\n  this._drawShadow.scale = scale;\n};\n\nproto._resetDrawShadowInner = function () {\n  this._drawShadow = {\n    type: 'coordinate',\n    outer: [],\n    inner: [],\n    scale: null,\n    rotation: null\n  };\n};\n\nproto.setInnerGreyCoverBBox = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var map = this.viewer.map;\n  var type = options.type || 'coordinate';\n  var inner = options.inner || null;\n  var rotation = options.rotation;\n  var scale = options.scale;\n  var lowerLeftInner = void 0;\n  var upperRightInner = void 0;\n  if (inner) {\n    switch (type) {\n      case 'coordinate':\n        lowerLeftInner = map.getPixelFromCoordinate([inner[0], inner[1]]);\n        upperRightInner = map.getPixelFromCoordinate([inner[2], inner[3]]);\n        break;\n      case 'pixel':\n        lowerLeftInner = [inner[0], inner[1]];\n        upperRightInner = [inner[2], inner[3]];\n        break;\n    }\n    var y_min = lowerLeftInner[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var x_min = lowerLeftInner[0] * ol.has.DEVICE_PIXEL_RATIO;\n    var y_max = upperRightInner[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var x_max = upperRightInner[0] * ol.has.DEVICE_PIXEL_RATIO;\n    this._drawShadow.inner[0] = x_min;\n    this._drawShadow.inner[1] = y_min;\n    this._drawShadow.inner[2] = x_max;\n    this._drawShadow.inner[3] = y_max;\n  }\n  if (_.isNil(scale)) this._drawShadow.scale = this._drawShadow.scale || 1;else this._drawShadow.scale = scale;\n\n  if (_.isNil(rotation)) this._drawShadow.rotation = this._drawShadow.rotation || 0;else this._drawShadow.rotation = rotation;\n\n  this._drawShadow.outer && map.render();\n};\n\n// grey map precompose mapcompose\nproto.startDrawGreyCover = function (message) {\n  var _this32 = this;\n\n  // after rendering the layer, restore the canvas context\n  var map = this.viewer.map;\n  var x_min = void 0,\n      x_max = void 0,\n      y_min = void 0,\n      y_max = void 0,\n      rotation = void 0,\n      scale = void 0;\n  this.stopDrawGreyCover();\n  var postcompose = function postcompose(evt) {\n    var ctx = evt.context;\n    var size = _this32.getMap().getSize();\n    // Inner polygon,must be counter-clockwise\n    var height = size[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var width = size[0] * ol.has.DEVICE_PIXEL_RATIO;\n    _this32._drawShadow.outer = [0, 0, width, height];\n    ctx.restore();\n    ctx.beginPath();\n    // Outside polygon, must be clockwise\n    ctx.moveTo(0, 0);\n    ctx.lineTo(width, 0);\n    ctx.lineTo(width, height);\n    ctx.lineTo(0, height);\n    ctx.lineTo(0, 0);\n    ctx.closePath();\n    // end external bbox (map is cover)\n    if (_this32._drawShadow.inner.length) {\n      ctx.save();\n      x_min = _this32._drawShadow.inner[0];\n      y_min = _this32._drawShadow.inner[3];\n      x_max = _this32._drawShadow.inner[2];\n      y_max = _this32._drawShadow.inner[1];\n      rotation = _this32._drawShadow.rotation;\n      scale = _this32._drawShadow.scale;\n      // Inner polygon,must be counter-clockwise antiorario\n      ctx.translate((x_max + x_min) / 2, (y_max + y_min) / 2);\n      ctx.rotate(rotation * Math.PI / 180);\n      ctx.moveTo(-((x_max - x_min) / 2), (y_max - y_min) / 2);\n      ctx.lineTo((x_max - x_min) / 2, (y_max - y_min) / 2);\n      ctx.lineTo((x_max - x_min) / 2, -((y_max - y_min) / 2));\n      ctx.lineTo(-((x_max - x_min) / 2), -((y_max - y_min) / 2));\n      ctx.lineTo(-((x_max - x_min) / 2), (y_max - y_min) / 2);\n      ctx.closePath();\n      // end inner bbox\n    }\n    ctx.fillStyle = 'rgba(0, 5, 25, 0.40)';\n    ctx.fill();\n    if (message) {\n      ctx.font = \"bold 25px Arial\";\n      ctx.fillStyle = \"#ffffff\";\n      ctx.textAlign = \"center\";\n      var arrayMessages = message.split('\\n');\n      for (var i = 0; i < arrayMessages.length; i++) {\n        ctx.fillText(arrayMessages[i], width / 2, height / 2 + 30 * i);\n      }\n      //ctx.fillText(message,width/2, height/2);\n    }\n    ctx.restore();\n  };\n  this._greyListenerKey = map.on('postcompose', postcompose);\n};\n\nproto.stopDrawGreyCover = function () {\n  var map = this.getMap();\n  if (this._greyListenerKey) {\n    ol.Observable.unByKey(this._greyListenerKey);\n    this._greyListenerKey = null;\n    this._drawShadow.inner.length && this._resetDrawShadowInner();\n  }\n  map.render();\n};\n\nproto.removeExternalLayers = function () {\n  var _this33 = this;\n\n  this._externalLayers.forEach(function (layer) {\n    var name = layer.get('name');\n    _this33.removeExternalLayer(name);\n  });\n  this._externalLayers = [];\n};\n\nproto.changeLayerVisibility = function (_ref33) {\n  var id = _ref33.id,\n      _ref33$external = _ref33.external,\n      external = _ref33$external === undefined ? false : _ref33$external,\n      visible = _ref33.visible;\n\n  var layer = this.getLayerById(id);\n  if (layer) {\n    layer.setVisible(visible);\n    this.emit('change-layer-visibility', { id: id, visible: visible });\n  }\n};\n\nproto.changeLayerOpacity = function () {\n  var _ref34 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref34.id,\n      _ref34$opacity = _ref34.opacity,\n      opacity = _ref34$opacity === undefined ? 1 : _ref34$opacity;\n\n  var layer = this.getLayerById(id);\n  layer && layer.setOpacity(opacity);\n  this.emit('change-layer-opacity', { id: id, opacity: opacity });\n};\n\nproto.changeLayerMapPosition = function (_ref35) {\n  var id = _ref35.id,\n      _ref35$position = _ref35.position,\n      position = _ref35$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _ref35$position;\n\n  var layer = this.getLayerById(id);\n  switch (position) {\n    case 'top':\n      layer.setZIndex(this.layersCount);\n      break;\n    case 'bottom':\n      layer.setZIndex(0);\n      break;\n  }\n  this.emit('change-layer-position-map', { id: id, position: position });\n};\n\n/**\n * Remove externla layer\n * @param name\n */\nproto.removeExternalLayer = function (name) {\n  var _this34 = this;\n\n  var layer = this.getLayerByName(name);\n  var catalogService = _gui2.default.getService('catalog');\n  var QueryResultService = _gui2.default.getService('queryresults');\n  QueryResultService.unregisterVectorLayer(layer);\n  this.viewer.map.removeLayer(layer);\n  var type = layer._type || 'vector';\n  catalogService.removeExternalLayer({\n    name: name,\n    type: type\n  });\n  if (type == 'wms') this._externalMapLayers = this._externalMapLayers.filter(function (externalMapLayer) {\n    if (externalMapLayer.getId() === layer.id) _this34.unregisterMapLayerListeners(externalMapLayer, layer.projectLayer);\n    return externalMapLayer.getId() !== layer.id;\n  });\n  this._externalLayers = this._externalLayers.filter(function (externalLayer) {\n    return externalLayer.get('id') !== layer.get('id');\n  });\n  this.unloadExternalLayer(layer);\n  this.emit('remove-external-layer', name);\n};\n\n/**\n * Add wms external layer to mapo\n * @param url\n * @param layers\n * @param name\n * @param projection\n * @param position\n * @returns {Promise<unknown>}\n */\nproto.addExternalWMSLayer = function () {\n  var _this35 = this;\n\n  var _ref36 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref36.url,\n      layers = _ref36.layers,\n      name = _ref36.name,\n      _ref36$epsg = _ref36.epsg,\n      epsg = _ref36$epsg === undefined ? this.getEpsg() : _ref36$epsg,\n      _ref36$position = _ref36.position,\n      position = _ref36$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _ref36$position,\n      opacity = _ref36.opacity,\n      _ref36$visible = _ref36.visible,\n      visible = _ref36$visible === undefined ? true : _ref36$visible;\n\n  var projection = ol.proj.get(epsg);\n  return new Promise(function (resolve, reject) {\n    var _createWMSLayer = createWMSLayer({\n      name: name,\n      url: url,\n      layers: layers,\n      projection: projection\n    }),\n        wmslayer = _createWMSLayer.wmslayer,\n        olLayer = _createWMSLayer.olLayer;\n\n    wmslayer.once('loadend', function () {\n      resolve(wmslayer);\n    });\n\n    wmslayer.once('loaderror', function (err) {\n      reject(err);\n    });\n\n    /**\n     * add to map\n     */\n    _this35.addExternalLayer(olLayer, {\n      position: position,\n      opacity: opacity,\n      visible: visible\n    });\n\n    /**\n     * cal register and other thing to alert that new map layer is added\n     */\n    _this35.addExternalMapLayer(wmslayer, false);\n  });\n};\n\n/**\n *\n * Return extanla layers added to map\n * @returns {[]|*[]|T[]}\n */\nproto.getExternalLayers = function () {\n  return this._externalLayers;\n};\n\nproto.addExternalMapLayer = function (externalMapLayer) {\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  this._externalMapLayers.push(externalMapLayer);\n  this.registerMapLayerListeners(externalMapLayer, projectLayer);\n};\n\n/**\n * Add an external layer to the map (eg. ZIP, KMZ, GPX, ...)\n * \n * @param { ol.layer.Vector | ol.layer.Image | unknown } externalLayer\n * @param {{ position: unknown, opacity: number, visible: boolean, crs: unknown, type: unknown, download: unknown }} options\n * \n * @returns { Promise<unknown> }\n */\nproto.addExternalLayer = function () {\n  var _ref37 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(externalLayer) {\n    var _this36 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var vectorLayer, name, data, color, style, type, crs, _options$position, position, _options$opacity, opacity, _options$visible, visible, map, catalogService, QueryResultService, _color, _style, loadExternalLayer, layer;\n\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            vectorLayer = void 0, name = void 0, data = void 0, color = void 0, style = void 0, type = void 0, crs = void 0;\n            _options$position = options.position, position = _options$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _options$position, _options$opacity = options.opacity, opacity = _options$opacity === undefined ? 1 : _options$opacity, _options$visible = options.visible, visible = _options$visible === undefined ? true : _options$visible;\n            map = this.viewer.map;\n            catalogService = _gui2.default.getService('catalog');\n            QueryResultService = _gui2.default.getService('queryresults');\n\n            /**\n             * EXTERNAL VECTOR LAYER\n             */\n\n            if (externalLayer instanceof ol.layer.Vector) {\n              _color = void 0;\n\n\n              if (undefined === externalLayer.get('id')) {\n                externalLayer.set('id', uniqueId());\n              }\n\n              vectorLayer = externalLayer;\n              vectorLayer.filter = { // used by `selection` for query result purpose ?\n                active: false // UNUSUED - it means not yet implemented?\n              };\n              vectorLayer.selection = {\n                active: false,\n                features: []\n              };\n\n              try {\n                _style = externalLayer.getStyle();\n\n                _color = _style._g3w_options ? _style._g3w_options.color : 'blue'; //setted by geo utils create style function\n              } catch (err) {\n                _color = 'blue';\n              }\n\n              name = vectorLayer.get('name') || vectorLayer.get('id');\n              type = 'vector';\n              externalLayer = {\n                id: externalLayer.get('id'),\n                name: name,\n                projectLayer: false,\n                title: name,\n                removable: true,\n                external: true,\n                crs: options.crs,\n                type: options.type,\n                _type: type,\n                download: options.download || false,\n                visible: visible,\n                checked: true,\n                position: position,\n                opacity: opacity,\n                color: _color,\n                filter: vectorLayer.filter,\n                selection: vectorLayer.selection,\n                tochighlightable: false //@since 3.8.0\n              };\n            }\n\n            /**\n             * EXTERNAL IMAGE LAYER\n             */\n            else if (externalLayer instanceof ol.layer.Image) {\n                type = 'wms';\n                name = externalLayer.get('name');\n                externalLayer.id = externalLayer.get('id');\n                externalLayer.removable = true;\n                externalLayer.projectLayer = false;\n                externalLayer.name = name;\n                externalLayer.title = name;\n                externalLayer._type = type;\n                externalLayer.opacity = opacity;\n                externalLayer.position = position;\n                externalLayer.external = true;\n                externalLayer.checked = visible;\n              }\n\n              /**\n               * UKNOWN EXTERNAL LAYER TYPE ?\n               */\n              else {\n                  name = externalLayer.name;\n                  type = externalLayer.type;\n                  crs = externalLayer.crs;\n                  data = externalLayer.data;\n                  color = externalLayer.color;\n                }\n\n            loadExternalLayer = function loadExternalLayer(layer, type) {\n              var extent = void 0;\n              // skip if is not a valid layer\n              if (!layer) {\n                return Promise.reject();\n              }\n              if (type === 'vector') {\n                var features = layer.getSource().getFeatures();\n                if (features.length) {\n                  var id = 0;\n                  // add id value\n                  features.forEach(function (feature) {\n                    feature.setId(id++);\n                  });\n                  externalLayer.geometryType = features[0].getGeometry().getType();\n                  externalLayer.selected = false;\n                }\n                extent = layer.getSource().getExtent();\n                externalLayer.bbox = { minx: extent[0], miny: extent[1], maxx: extent[2], maxy: extent[3] };\n              }\n              layer.set('position', position);\n              layer.setOpacity(opacity);\n              layer.setVisible(visible);\n              map.addLayer(layer);\n              _this36._externalLayers.push(layer);\n              QueryResultService.registerVectorLayer(layer);\n              catalogService.addExternalLayer({ layer: externalLayer, type: type });\n              if (extent) {\n                map.getView().fit(extent);\n              }\n              _this36.loadExternalLayer(layer);\n              return Promise.resolve(layer);\n            };\n\n            layer = this.getLayerByName(name);\n\n            if (layer) {\n              _context4.next = 20;\n              break;\n            }\n\n            _context4.t0 = type;\n            _context4.next = _context4.t0 === 'vector' ? 12 : _context4.t0 === 'wms' ? 13 : 14;\n            break;\n\n          case 12:\n            return _context4.abrupt('return', loadExternalLayer(vectorLayer, type));\n\n          case 13:\n            return _context4.abrupt('return', loadExternalLayer(externalLayer, type));\n\n          case 14:\n            _context4.next = 16;\n            return createVectorLayerFromFile({ name: name, type: type, crs: crs, mapCrs: mapCrs, data: data, style: style });\n\n          case 16:\n            vectorLayer = _context4.sent;\n            return _context4.abrupt('return', loadExternalLayer(vectorLayer));\n\n          case 18:\n            _context4.next = 21;\n            break;\n\n          case 20:\n            _gui2.default.notify.warning(\"layer_is_added\", false);\n\n          case 21:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x56) {\n    return _ref37.apply(this, arguments);\n  };\n}();\n\nproto.setExternalLayerStyle = function (color, field) {\n  color = color.rgba;\n  color = 'rgba(' + color.r + ',' + color.g + ',' + color.b + ',' + color.a + ')';\n  var defaultStyle = {\n    'Point': new ol.style.Style({\n      image: new ol.style.Circle({\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        radius: 5,\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 1\n        })\n      })\n    }),\n    'LineString': new ol.style.Style({\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'Polygon': new ol.style.Style({\n      fill: new ol.style.Fill({\n        color: 'rgba(255,255,255,0.5)'\n      }),\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'MultiPoint': new ol.style.Style({\n      image: new ol.style.Circle({\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        radius: 5,\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 1\n        })\n      })\n    }),\n    'MultiLineString': new ol.style.Style({\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'MultiPolygon': new ol.style.Style({\n      fill: new ol.style.Fill({\n        color: 'rgba(255,255,255,0.5)'\n      }),\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    })\n  };\n  var styleFunction = function styleFunction(feature, resolution) {\n    var featureStyleFunction = feature.getStyleFunction();\n    return featureStyleFunction ? featureStyleFunction.call(feature, resolution) : defaultStyle[feature.getGeometry().getType()];\n  };\n  return styleFunction;\n};\n\nmodule.exports = MapService;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/map/wmslayer\":45,\"core/layers/providers/wfsprovider\":53,\"core/layers/vectorlayer\":57,\"core/utils/geo\":64,\"core/utils/ol\":65,\"core/utils/utils\":67,\"g3w-ol/g3w.ol\":99,\"gui/map/control/factory\":155,\"gui/wms/vue/wms\":192,\"services/application\":350,\"services/data\":357,\"services/gui\":360,\"store/map-controls\":375,\"store/map-layers\":376,\"store/projects\":378}],157:[function(require,module,exports){\nvar _Map = require('components/Map.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Map);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    merge = _require.merge,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar MapService = require('gui/map/mapservice');\n\n// interanl registration\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nVue.component('g3w-map', vueComponentOptions);\n\nfunction MapComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"map-component\";\n  this.title = \"Map Component\";\n  var target = options.target || \"map\";\n  var maps_container = options.maps_container || \"g3w-maps\";\n  options.target = target;\n  options.maps_container = maps_container;\n  var service = new MapService(options);\n  this.setService(service);\n  merge(this, options);\n  this.internalComponent = new InternalComponent({\n    service: service,\n    target: target,\n    maps_container: maps_container\n  });\n  /**\n   * add Vue get cookie method\n   *\n   */\n  service.getCookie = this.internalComponent.$cookie.get;\n}\n\ninherit(MapComponent, Component);\n\nvar proto = MapComponent.prototype;\n\nproto.layout = function (width, height) {\n  $('#' + this.target).height(height);\n  $('#' + this.target).width(width);\n  this._service.layout({ width: width, height: height });\n};\n\nmodule.exports = MapComponent;\n\n},{\"components/Map.vue\":254,\"core/utils/utils\":67,\"gui/component/component\":116,\"gui/map/mapservice\":156}],158:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar ProjectMetadataComponent = require('gui/metadata/vue/components/project/project');\n\nvar METADATAGROUPS = {\n  general: ['title', 'name', 'description', 'abstract', 'keywords', 'fees', 'accessconstraints', 'contactinformation', 'wms_url'],\n  spatial: ['crs', 'extent'],\n  layers: ['layers']\n};\n\nfunction MetadataService() {\n  this.content = null;\n  this.show = false;\n  this.state = {\n    name: '',\n    groups: {}\n  };\n  this._buildProjectGroupMetadata();\n}\n\ninherit(MetadataService, G3WObject);\n\nvar proto = MetadataService.prototype;\n\nproto._buildProjectGroupMetadata = function () {\n  var project = _projects2.default.getCurrentProject().getState();\n  this.state.name = project.title;\n  var groups = {};\n  Object.entries(METADATAGROUPS).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        groupName = _ref2[0],\n        value = _ref2[1];\n\n    groups[groupName] = {};\n    value.forEach(function (field) {\n      var fieldValue = project.metadata && project.metadata[field] ? project.metadata[field] : project[field];\n      if (!!fieldValue) {\n        groups[groupName][field] = {\n          label: ['sdk', 'metadata', 'groups', groupName, 'fields', field].join('.'),\n          value: fieldValue\n        };\n      }\n    });\n  });\n  this.state.groups = groups;\n};\n\nproto.getProjectMetadata = function () {\n  return this.state;\n};\n\nproto.getLayersMetadata = function () {\n  return this.state.groups.layers;\n};\n\nproto.getLayerMetadata = function (id) {\n  var layerMetadata = this.state.groups.layers.filter(function (layer) {\n    return layer.id === id;\n  });\n  return layerMetadata[0];\n};\n\nproto.showMetadata = function (bool) {\n  this.show = bool;\n  if (this.show) {\n    this.content = new ProjectMetadataComponent({\n      state: this.getProjectMetadata(),\n      service: this\n    });\n    _gui2.default.setContent({\n      content: this.content,\n      title: \"sdk.metadata.title\",\n      perc: 100\n    });\n    this.show = true;\n  } else _gui2.default.closeContent();\n};\n\nproto.reload = function () {\n  this.emit('reload');\n  this._buildProjectGroupMetadata();\n};\n\nmodule.exports = MetadataService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"gui/metadata/vue/components/project/project\":159,\"services/gui\":360,\"store/projects\":378}],159:[function(require,module,exports){\nvar _MetadataProject = require('components/MetadataProject.vue');\n\nvar _MetadataProject2 = _interopRequireDefault(_MetadataProject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\n\nfunction ProjectMetadataComponent() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$state = _ref.state,\n      state = _ref$state === undefined ? {} : _ref$state,\n      service = _ref.service;\n\n  base(this);\n  var vueComponent = Vue.extend(_MetadataProject2.default);\n  this.setService(service);\n  this.internalComponent = new vueComponent({\n    state: state\n  });\n  this.layout = function () {};\n}\n\ninherit(ProjectMetadataComponent, Component);\n\nmodule.exports = ProjectMetadataComponent;\n\n},{\"components/MetadataProject.vue\":262,\"core/utils/utils\":67,\"gui/component/component\":116}],160:[function(require,module,exports){\nvar _Metadata = require('components/Metadata.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Metadata);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar MetadataService = require('gui/metadata/metadataservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar MetadataComponent = function MetadataComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = \"sdk.metadata.title\";\n  var service = options.service || new MetadataService(options);\n  this.setService(service);\n  this._service.on('reload', function () {\n    _this.setOpen(false);\n  });\n  this.setInternalComponent = function () {\n    this.internalComponent = new InternalComponent({\n      service: service\n    });\n    this.internalComponent.state = service.state;\n    return this.internalComponent;\n  };\n  this._setOpen = function (bool) {\n    this._service.showMetadata(bool);\n  };\n  _gui2.default.on('closecontent', function () {\n    _this.state.open = false;\n  });\n};\n\ninherit(MetadataComponent, Component);\n\nmodule.exports = MetadataComponent;\n\n},{\"components/Metadata.vue\":260,\"core/utils/utils\":67,\"gui/component/component\":116,\"gui/metadata/metadataservice\":158,\"services/gui\":360}],161:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    resolvedValue = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\n\nvar Panel = function Panel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.id = options.id || null;\n  this.title = options.title || '';\n  this.internalPanel = options.panel || null;\n  this.service = options.service;\n};\n\ninherit(Panel, G3WObject);\n\nvar proto = Panel.prototype;\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.getTitle = function () {\n  return this.title;\n};\n\nproto.getService = function () {\n  return this.service;\n};\n\nproto.setService = function (service) {\n  this.service = service;\n};\n\nproto.getInternalPanel = function () {\n  return this.internalPanel;\n};\n\nproto.setInternalPanel = function (internalPanel) {\n  this.internalPanel = internalPanel;\n};\n\nproto.show = function () {\n  _gui2.default.showPanel(this);\n};\n\nproto.close = function () {\n  _gui2.default.closePanel();\n};\n\nproto.mount = function (parent) {\n  var panel = this.internalPanel;\n  var iCinstance = panel.$mount();\n  $(parent).append(iCinstance.$el);\n  iCinstance.$nextTick(function () {\n    $(parent).localize();\n    panel.onShow && panel.onShow();\n  });\n  return resolvedValue(true);\n};\n\nproto.unmount = function () {\n  var panel = this.internalPanel;\n  var d = $.Deferred();\n  panel.$destroy(true);\n  $(panel.$el).remove();\n  panel.onClose && panel.onClose();\n  this.internalComponent = null;\n  d.resolve();\n  return d.promise();\n};\n\nproto.onResize = function (parentWidth, parentHeight) {};\n\nmodule.exports = Panel;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/gui\":360}],162:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    downloadFile = _require.downloadFile;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar G3WObject = require('core/g3wobject');\nvar PrintService = require('core/print/printservice');\n\nvar _require3 = require('core/utils/ol'),\n    getScaleFromResolution = _require3.getScaleFromResolution,\n    getResolutionFromScale = _require3.getResolutionFromScale,\n    getMetersFromDegrees = _require3.getMetersFromDegrees;\n\nvar PrintPage = require('gui/print/vue/printpage');\n\nfunction PrintComponentService() {\n  base(this);\n  this.printService = new PrintService();\n  this._initialized = false;\n  this.state = {\n    loading: false\n  };\n  this._moveMapKeyEvent = null;\n  this._page = null;\n  this._mapService = null;\n  this._map = null;\n  this._mapUnits;\n  this._scalesResolutions = {};\n  this.init = function () {\n    this._project = _projects2.default.getCurrentProject();\n    this.state.print = this._project.getPrint() || [];\n    this.state.visible = this.state.print.length > 0;\n    this.state.isShow = false;\n    this.state.url = null;\n    this.state.output = {\n      url: null,\n      method: this._project.getOwsMethod(),\n      layers: true,\n      format: null,\n      loading: false,\n      type: null\n    };\n    this.state.printextent = {\n      minx: [0, 0],\n      miny: [0, 0],\n      maxx: [0, 0],\n      maxy: [0, 0]\n    };\n    this.state.visible && this.setInitState();\n  };\n}\n\ninherit(PrintComponentService, G3WObject);\n\nvar proto = PrintComponentService.prototype;\n\nproto.setInitState = function () {\n  this.state.template = this.state.print[0].name;\n  this.state.atlas = this.state.print[0].atlas;\n  this.state.atlasValues = [];\n  this.state.rotation = 0;\n  this.state.inner = [0, 0, 0, 0];\n  this.state.center = null;\n  this.state.size = null;\n  this.state.scale = _constant.PRINT_SCALES;\n  this.state.scala = null;\n  this.state.dpis = _constant.PRINT_RESOLUTIONS;\n  this.state.dpi = _constant.PRINT_RESOLUTIONS[0];\n  this.state.formats = _constant.PRINT_FORMATS;\n  this.state.output.format = _constant.PRINT_FORMATS[0].value;\n  this.state.maps = this.state.print[0].maps;\n  // label section\n  this.state.labels = this.state.print[0].labels;\n};\n\nproto.changeTemplate = function () {\n  var _this = this;\n\n  if (!this.state.template) return;\n  var isPreviousAtlas = this.state.atlas;\n\n  var _state$print$find = this.state.print.find(function (print) {\n    return print.name === _this.state.template;\n  }),\n      atlas = _state$print$find.atlas,\n      maps = _state$print$find.maps,\n      labels = _state$print$find.labels;\n\n  this.state.maps = maps;\n  this.state.atlas = atlas;\n  this.state.labels = labels;\n  this.state.atlasValues = [];\n  this.state.atlas ? this._clearPrint() : isPreviousAtlas ? this.showPrintArea(true) : this._setPrintArea();\n};\n\nproto.changeScale = function () {\n  this.state.scala && this._setPrintArea();\n};\n\nproto.changeRotation = function () {\n  this._mapService.setInnerGreyCoverBBox({\n    rotation: this.state.rotation\n  });\n};\n\nproto._getPrintExtent = function () {\n  var _ref = [].concat(_toConsumableArray(this.state.printextent.lowerleft), _toConsumableArray(this.state.printextent.upperright)),\n      minx = _ref[0],\n      miny = _ref[1],\n      maxx = _ref[2],\n      maxy = _ref[3];\n\n  var extent = this._mapService.isAxisOrientationInverted() ? [miny, minx, maxy, maxx] : [minx, miny, maxx, maxy];\n  return extent.join();\n};\n\nproto.getOverviewExtent = function () {\n  var extent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var xmin = extent.xmin,\n      xmax = extent.xmax,\n      ymin = extent.ymin,\n      ymax = extent.ymax;\n\n  var overviewextent = this._mapService.isAxisOrientationInverted() ? [ymin, xmin, ymax, xmax] : [xmin, ymin, xmax, ymax];\n  return overviewextent.join();\n};\n\nproto._getOptionsPrint = function () {\n  var _this2 = this;\n\n  var is_maps_preset_theme = false;\n  var maps = this.state.maps.map(function (map) {\n    is_maps_preset_theme = is_maps_preset_theme || map.preset_theme !== undefined;\n    return {\n      name: map.name,\n      preset_theme: map.preset_theme,\n      scale: map.overview ? map.scale : _this2.state.scala,\n      extent: map.overview ? _this2.getOverviewExtent(map.extent) : _this2._getPrintExtent()\n    };\n  });\n  var options = {\n    rotation: this.state.rotation,\n    dpi: this.state.dpi,\n    template: this.state.template,\n    maps: maps,\n    scale: this.state.scala,\n    format: this.state.output.format,\n    labels: this.state.labels,\n    is_maps_preset_theme: is_maps_preset_theme\n  };\n\n  return options;\n};\n\nproto.setPrintAreaAfterCloseContent = function () {\n  this._map.once('postrender', this._setPrintArea.bind(this));\n  this.stopLoading();\n};\n\nproto.print = function () {\n  var _this3 = this;\n\n  return new Promise(function (resolve, reject) {\n    //disable sidebar\n    _gui2.default.disableSideBar(true);\n    if (_this3.state.atlas) {\n      var caller_download_id = _application2.default.setDownload(true);\n      _this3.state.loading = true;\n      _this3.printService.printAtlas({\n        template: _this3.state.template,\n        field: _this3.state.atlas.field_name || '$id',\n        values: _this3.state.atlasValues,\n        download: true\n      }).then(function (_ref2) {\n        var url = _ref2.url;\n\n        downloadFile({\n          url: url,\n          filename: _this3.state.template,\n          mime_type: 'application/pdf'\n        }).then(function () {\n          resolve();\n        }).catch(function (error) {\n          _this3.showError(error);\n          reject();\n        }).finally(function () {\n          _this3.state.loading = false;\n          _application2.default.setDownload(false, caller_download_id);\n          _gui2.default.disableSideBar(false);\n        });\n      });\n    } else {\n      _this3.state.output.url = null;\n      _this3.state.output.layers = true;\n      _this3._page = new PrintPage({\n        service: _this3\n      });\n      _gui2.default.setContent({\n        content: _this3._page,\n        title: 'print',\n        perc: 100\n      });\n      var options = _this3._getOptionsPrint();\n      _this3.printService.print(options, method = _this3.state.output.method).then(function (data) {\n        _this3.state.output.url = data.url;\n        _this3.state.output.layers = data.layers;\n        _this3.state.output.mime_type = data.mime_type;\n        resolve();\n      }).catch(function (err) {\n        _this3.showError();\n        reject(err);\n      }).finally(function () {\n        // in case of no layers\n        !_this3.state.output.layers && _gui2.default.disableSideBar(false);\n      });\n    }\n  });\n};\n\nproto.startLoading = function () {\n  this.state.output.loading = true;\n};\n\nproto.stopLoading = function () {\n  this.state.output.loading = false;\n};\n\nproto.showError = function (error) {\n  _gui2.default.notify.error(error || t(\"info.server_error\"));\n  _gui2.default.closeContent();\n};\n\nproto._calculateInternalPrintExtent = function () {\n  var resolution = this._map.getView().getResolution();\n  var scala = parseFloat(this.state.scala);\n\n  var _state$maps$find = this.state.maps.find(function (map) {\n    return !map.overview;\n  }),\n      height = _state$maps$find.h,\n      width = _state$maps$find.w;\n\n  var resolutionInMeters = this._mapService.getMapUnits() === 'm' ? resolution : getMetersFromDegrees(resolution);\n  var w = width / 1000.0 * scala / resolutionInMeters;\n  var h = height / 1000.0 * scala / resolutionInMeters;\n  // get current map center ( in pixel)\n  var center = [this.state.size[0] / 2, // X\n  this.state.size[1] / 2 // Y\n  ];\n  // Calculate the inner bbox in pixel\n  var xmin = center[0] - w / 2;\n  var ymin = center[1] - h / 2;\n  var xmax = center[0] + w / 2;\n  var ymax = center[1] + h / 2;\n  this.state.printextent.lowerleft = this._map.getCoordinateFromPixel([xmin, ymax]) ? this._map.getCoordinateFromPixel([xmin, ymax]) : this.state.printextent.lowerleft;\n  this.state.printextent.upperright = this._map.getCoordinateFromPixel([xmax, ymin]) ? this._map.getCoordinateFromPixel([xmax, ymin]) : this.state.printextent.upperright;\n  this.state.inner = [xmin, ymax, xmax, ymin];\n};\n\nproto._setPrintArea = function () {\n  this.state.size = this._map.getSize();\n  var resolution = this._map.getView().getResolution();\n  this.state.currentScala = getScaleFromResolution(resolution, this._mapUnits);\n  this.state.center = this._map.getView().getCenter();\n  this._calculateInternalPrintExtent();\n  this._mapService.setInnerGreyCoverBBox({\n    type: 'pixel',\n    inner: this.state.inner,\n    rotation: this.state.rotation\n  });\n};\n\nproto._clearPrint = function () {\n  var reset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  ol.Observable.unByKey(this._moveMapKeyEvent);\n  this._moveMapKeyEvent = null;\n  this._mapService.stopDrawGreyCover();\n};\n\nproto._setAllScalesBasedOnMaxResolution = function (maxResolution) {\n  var _this4 = this;\n\n  var resolution = maxResolution;\n  var mapScala = getScaleFromResolution(resolution, this._mapUnits);\n  var orderScales = _.orderBy(this.state.scale, ['value'], ['desc']);\n  var scale = [];\n  var addedFirstHighestScale = false;\n  var handleScala = function handleScala(scala) {\n    scale.push(scala);\n    resolution = getResolutionFromScale(scala.value, _this4._mapUnits);\n    _this4._scalesResolutions[scala.value] = resolution;\n    resolution = resolution / 2;\n  };\n  orderScales.forEach(function (scala, index) {\n    if (mapScala > scala.value) {\n      if (!addedFirstHighestScale) {\n        var higherScale = orderScales[index - 1];\n        handleScala(higherScale);\n        addedFirstHighestScale = true;\n      }\n      handleScala(scala);\n    }\n  });\n  this.state.scale = scale;\n};\n\nproto._setInitialScalaSelect = function () {\n  this.state.scala = this.state.scale[0].value;\n  $('#scala').val(this.state.scala);\n};\n\nproto._setCurrentScala = function (resolution) {\n  var _this5 = this;\n\n  Object.entries(this._scalesResolutions).find(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        scala = _ref4[0],\n        res = _ref4[1];\n\n    if (resolution <= res) {\n      _this5.state.scala = scala;\n      return true;\n    }\n  });\n};\n\nproto._setMoveendMapEvent = function () {\n  this._moveMapKeyEvent = this._map.on('moveend', this._setPrintArea.bind(this));\n};\n\nproto._showPrintArea = function () {\n  if (this.state.atlas === undefined) {\n    this._setPrintArea();\n    this._mapService.startDrawGreyCover();\n  }\n};\n\nproto._initPrintConfig = function () {\n  if (!this._initialized) {\n    var maxResolution = this._map.getView().getMaxResolution();\n    this._setAllScalesBasedOnMaxResolution(maxResolution);\n    this._initialized = true;\n  }\n  var resolution = this._map.getView().getResolution();\n  this._setCurrentScala(resolution);\n};\n\nproto.showPrintArea = function (bool) {\n  var _this6 = this;\n\n  // close content if open\n  this.state.isShow = bool;\n  _gui2.default.closeContent().then(function (mapComponent) {\n    setTimeout(function () {\n      _this6._mapService = mapComponent.getService();\n      _this6._mapUnits = _this6._mapService.getMapUnits();\n      _this6._mapService.getMap().once('postrender', function (evt) {\n        _this6._map = evt.map;\n        if (bool) {\n          _this6._setMoveendMapEvent();\n          _this6._initPrintConfig();\n          _this6._showPrintArea();\n        } else _this6._clearPrint();\n      });\n      _this6._mapService.getMap().renderSync();\n    });\n  });\n};\n\nproto.reload = function () {\n  var _this7 = this;\n\n  this._project = _projects2.default.getCurrentProject();\n  this._mapService = _gui2.default.getService('map');\n  this._map = this._mapService.viewer.map;\n  this.state.print = this._project.state.print || [];\n  this.state.visible = this.state.print.length > 0;\n  if (this.state.visible) {\n    this.state.template = this.state.print[0].name;\n    !this._initialized && this.init();\n    this._initPrintConfig();\n    this._mapService.on('changeviewaftercurrentproject', function () {\n      var maxResolution = _this7._map.getView().getMaxResolution();\n      _this7.state.scale = _constant.PRINT_SCALES;\n      _this7._setAllScalesBasedOnMaxResolution(maxResolution);\n    });\n  } else this._clearPrint();\n};\n\nmodule.exports = PrintComponentService;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/print/printservice\":60,\"core/utils/ol\":65,\"core/utils/utils\":67,\"gui/print/vue/printpage\":164,\"services/application\":350,\"services/gui\":360,\"store/projects\":378}],163:[function(require,module,exports){\nvar _Print = require('components/Print.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Print);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar PrintService = require('gui/print/printservice');\n\nfunction PrintComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = \"print\";\n  this.vueComponent = vueComponentOptions;\n  this.internalComponent = null;\n  var service = options.service || new PrintService();\n  this.setService(service);\n  // init service\n  this._service.init();\n  this.setInternalComponent = function () {\n    var InternalComponent = Vue.extend(this.vueComponent);\n    this.internalComponent = new InternalComponent({\n      service: service\n    });\n    this.state.visible = service.state.visible;\n    this.internalComponent.state = service.state;\n    return this.internalComponent;\n  };\n\n  this._reload = function () {\n    var service = this.getService();\n    service.reload();\n    this.state.visible = service.state.visible;\n  };\n\n  this._setOpen = function (bool) {\n    this._service.showPrintArea(bool);\n  };\n}\n\ninherit(PrintComponent, Component);\n\nmodule.exports = PrintComponent;\n\n},{\"components/Print.vue\":271,\"core/utils/utils\":67,\"gui/component/component\":116,\"gui/print/printservice\":162}],164:[function(require,module,exports){\nvar _PrintPage = require('components/PrintPage.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_PrintPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar PrintPage = function PrintPage() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var service = options.service;\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    service: service\n  });\n  this.setInternalComponent(internalComponent);\n  this.internalComponent.state = service.state.output;\n  this.unmount = function () {\n    this.getService().setPrintAreaAfterCloseContent();\n    return base(this, 'unmount');\n  };\n};\n\ninherit(PrintPage, Component);\n\nmodule.exports = PrintPage;\n\n},{\"components/PrintPage.vue\":273,\"core/utils/utils\":67,\"gui/component/component\":116}],165:[function(require,module,exports){\nvar _ProjectsMenu = require('components/ProjectsMenu.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_ProjectsMenu);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    merge = _require.merge;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction MenuComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = options.title || \"menu\";\n  this.state.visible = true;\n  this.state.menuitems = options.menuitems;\n  var host = options.host;\n  merge(this, options);\n  this.internalComponent = new InternalComponent({\n    service: this,\n    host: host\n  });\n  this.internalComponent.state = this.state;\n}\ninherit(MenuComponent, Component);\n\nvar proto = MenuComponent.prototype;\n\nproto.trigger = function (item) {};\n\nmodule.exports = MenuComponent;\n\n},{\"components/ProjectsMenu.vue\":275,\"core/utils/utils\":67,\"gui/component/component\":116}],166:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar MenuComponent = require('gui/projectsmenu/menu');\n\nfunction ProjectsMenuComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.id = 'projectsmenu';\n  base(this, options);\n  this.state.menuitems = [];\n  var host = options.host;\n  var projects = options.projects || _projects2.default.getListableProjects();\n  this.state.menuitems = projects.map(function (project) {\n    return {\n      title: project.title,\n      description: project.description,\n      thumbnail: project.thumbnail,\n      gid: project.gid,\n      cbk: options.cbk || function () {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var gid = options.gid;\n\n        return _application2.default.changeProject({\n          gid: gid,\n          host: host\n        });\n      }\n    };\n  });\n}\n\ninherit(ProjectsMenuComponent, MenuComponent);\n\nmodule.exports = ProjectsMenuComponent;\n\n},{\"core/utils/utils\":67,\"gui/projectsmenu/menu\":165,\"services/application\":350,\"store/projects\":378}],167:[function(require,module,exports){\nvar QueryBuilder = require('gui/querybuilder/vue/querybuilder');\nvar QueryBuilderPanel = require('gui/querybuilder/vue/panel/querybuilderpanel');\n\nvar QuerybuilderUIfactory = {\n  type: null,\n  show: function show() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$type = _ref.type,\n        type = _ref$type === undefined ? 'sidebar' : _ref$type,\n        options = _ref.options;\n\n    var QueryBuilderInstance = void 0;\n    this.type = this.type === null ? type : this.type;\n    if (this.type === 'modal') {\n      QueryBuilderInstance = new QueryBuilder({\n        options: options\n      });\n      var queryBuilderDom = QueryBuilderInstance.$mount().$el;\n      GUI.showModalDialog({\n        title: 'Query Builder',\n        message: queryBuilderDom,\n        className: \"modal-background-dark \"\n      });\n    } else {\n      var panel = new QueryBuilderPanel({\n        options: options\n      });\n      QueryBuilderInstance = panel.getInternalPanel();\n      panel.show();\n    }\n    return QueryBuilderInstance;\n  }\n};\n\nmodule.exports = QuerybuilderUIfactory;\n\n},{\"gui/querybuilder/vue/panel/querybuilderpanel\":168,\"gui/querybuilder/vue/querybuilder\":169}],168:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Panel = require('gui/panel');\nvar QueryBuilder = require('gui/querybuilder/vue/querybuilder');\n\nfunction QueryBuilderPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.title = 'Query Builder';\n  base(this, options);\n  var internalPanel = new QueryBuilder(options);\n  this.setInternalPanel(internalPanel);\n}\n\ninherit(QueryBuilderPanel, Panel);\n\nmodule.exports = QueryBuilderPanel;\n\n},{\"core/utils/utils\":67,\"gui/panel\":161,\"gui/querybuilder/vue/querybuilder\":169}],169:[function(require,module,exports){\nvar _QueryBuilder = require('components/QueryBuilder.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_QueryBuilder);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar QueryBuilder = Vue.extend(vueComponentOptions);\n\nmodule.exports = QueryBuilder;\n\n},{\"components/QueryBuilder.vue\":276}],170:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _constant = require('constant');\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _QueryResultsActionDownloadFormats = require('components/QueryResultsActionDownloadFormats.vue');\n\nvar _QueryResultsActionDownloadFormats2 = _interopRequireDefault(_QueryResultsActionDownloadFormats);\n\nvar _QueryResultsActionQueryPolygonCSVAttributes = require('components/QueryResultsActionQueryPolygonCSVAttributes.vue');\n\nvar _QueryResultsActionQueryPolygonCSVAttributes2 = _interopRequireDefault(_QueryResultsActionQueryPolygonCSVAttributes);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    noop = _require.noop,\n    downloadFile = _require.downloadFile,\n    throttle = _require.throttle,\n    getUniqueDomId = _require.getUniqueDomId,\n    copyUrl = _require.copyUrl;\n\nvar _require2 = require('core/utils/geo'),\n    createFeatureFromFeatureObject = _require2.createFeatureFromFeatureObject,\n    intersects = _require2.intersects,\n    within = _require2.within;\n\nvar _require3 = require('core/utils/geo'),\n    getAlphanumericPropertiesFromFeature = _require3.getAlphanumericPropertiesFromFeature,\n    createFeatureFromGeometry = _require3.createFeatureFromGeometry,\n    createFeatureFromBBOX = _require3.createFeatureFromBBOX,\n    createFeatureFromCoordinates = _require3.createFeatureFromCoordinates;\n\nvar _require4 = require('core/i18n/i18n.service'),\n    t = _require4.t;\n\nvar Layer = require('core/layers/layer');\nvar G3WObject = require('core/g3wobject');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar PrintService = require('core/print/printservice');\nvar RelationsPage = require('gui/relations/vue/relationspage');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\n//used to get and set vue reactivity to queryresultservice\nvar VM = new Vue();\n\nfunction QueryResultsService() {\n  var _this = this;\n\n  this.printService = new PrintService();\n  this._currentLayerIds = [];\n\n  _projects2.default.onafter('setCurrentProject', function (project) {\n    _this._project = project;\n    _this._setRelations(project);\n    _this._setAtlasActions(project);\n    _this.state.download_data = false;\n    _this.plotLayerIds = [];\n  });\n  this.unlistenerlayeractionevents = [];\n  this._actions = {\n    'zoomto': QueryResultsService.zoomToElement,\n    'highlightgeometry': this.highlightGeometry.bind(this),\n    'clearHighlightGeometry': this.clearHighlightGeometry.bind(this)\n  };\n  this._relations = [];\n  this._atlas = [];\n  this.plotLayerIds = [];\n  var project = this._project = _projects2.default.getCurrentProject();\n  // userful to set right order for query result based on toc order layers\n  this._projectLayerIds = this._project.getConfigLayers().map(function (layer) {\n    return layer.id;\n  });\n  // set reactive state\n  this.state = {\n    zoomToResult: true,\n    components: [],\n    layers: [],\n    changed: false,\n    query: null,\n    type: 'ows', // or api in case of search\n    layersactions: {},\n    actiontools: {}, // addd action tools (for features)\n    currentactiontools: {}, // current action tools contain component of a specific action (for example download)\n    currentactionfeaturelayer: {}, // contain current action that expose component vue (it useful to comprare id other action is toggled and expose component)\n    layeractiontool: {},\n    layersFeaturesBoxes: {},\n    layerscustomcomponents: {} // used to show a custom component for a layer\n  };\n  this.init = function () {\n    this.clearState();\n  };\n\n  /**\n  * Vector layer used by query result to show query\n  * request as coordinates, bbox, polygon, etc ..\n  * \n  * @type {ol.layer.Vector}\n  */\n  this.resultsQueryLayer = new ol.layer.Vector({\n    source: new ol.source.Vector(),\n    style: function style(feature) {\n      var fill = new ol.style.Fill({ color: 'rgba(0, 0, 255, 0.7)' });\n      var stroke = new ol.style.Stroke({ color: 'blue', width: 3 });\n      if ('Point' === feature.getGeometry().getType()) {\n        return new ol.style.Style({\n          text: new ol.style.Text({\n            text: '\\uF3C5',\n            font: '900 3em \"Font Awesome 5 Free\"',\n            fill: fill,\n            stroke: stroke,\n            offsetY: -15\n          })\n        });\n      }\n      return new ol.style.Style({ stroke: stroke });\n    }\n  });\n\n  this._vectorLayers = [];\n  this._addFeaturesLayerResultInteraction = {\n    id: null, // reference to current layer\n    interaction: null, // interaction bind to layer,\n    mapcontrol: null, // add current toggled map control if toggled\n    toggleeventhandler: null\n  };\n\n  this.setters = {\n\n    /**\n     * Hook method called when response is handled by Data Provider\n     * \n     * @param queryResponse\n     * @param {{ add: boolean }} options `add` is used to know if is a new query request or add/remove query request\n     */\n    setQueryResponse: function setQueryResponse(queryResponse) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n\n\n      // set mandatory queryResponse fields\n      if (!queryResponse.data) queryResponse.data = [];\n      if (!queryResponse.query) queryResponse.query = { external: { add: false, filter: { SELECTED: false } } };\n      if (!queryResponse.query.external) queryResponse.query.external = { add: false, filter: { SELECTED: false } };\n\n      // whether add response to current results using addLayerFeaturesToResultsAction\n      if (!options.add) {\n        // in case of new request results reset the query otherwise maintain the previous request\n        this.clearState();\n        this.state.query = queryResponse.query;\n        this.state.type = queryResponse.type;\n\n        // if true add external layers to response\n        if (true === queryResponse.query.external.add) {\n          this._addVectorLayersDataToQueryResponse(queryResponse);\n        }\n\n        switch (this.state.query.type) {\n          case 'coordinates':\n            this.showCoordinates(this.state.query.coordinates);break;\n          case 'bbox':\n            this.showBBOX(this.state.query.bbox);break;\n          case 'polygon':\n            this.state.query.geometry && this.showGeometry(this.state.query.geometry);break;\n        }\n      }\n\n      this.setLayersData(this._digestFeaturesForLayers(queryResponse.data), options);\n    },\n\n\n    /**\n     * method to add layer and feature for response\n     * @param layers\n     * @param options\n     */\n    setLayersData: function setLayersData(layers) {\n      var _this2 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n      var add = options.add;\n\n      if (!add) {\n        // here set the right order of result layers based on toc\n        this._currentLayerIds = layers.map(function (layer) {\n          return layer.id;\n        });\n        this._orderResponseByProjectLayers(layers);\n      }\n      layers.forEach(function (layer) {\n        // in case of a new request query\n        if (!add) _this2.state.layers.push(layer);\n        //get features from add pick layer\n        else _this2.updateLayerResultFeatures(layer);\n      });\n      this.setActionsForLayers(layers, { add: add });\n      this.state.changed = true;\n    },\n\n    /**\n     * Method\n     * @param component\n     */\n    addComponent: function addComponent(component) {\n      this._addComponent(component);\n    },\n\n    /**\n     *\n     */\n    addActionsForLayers: function addActionsForLayers(actions, layers) {},\n\n    /**\n     *\n     * @param element\n     */\n    postRender: function postRender(element) {},\n\n    /**\n     *\n     */\n    closeComponent: function closeComponent() {},\n\n    /**\n     *\n     * @param layer\n     */\n    changeLayerResult: function changeLayerResult(layer) {\n      this._changeLayerResult(layer);\n    },\n\n    /**\n     *\n     */\n    activeMapInteraction: function activeMapInteraction() {},\n\n    /**\n     *  setter hook to relation table\n     */\n    editFeature: function editFeature() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          layer = _ref.layer,\n          feature = _ref.feature;\n    },\n\n    /**\n     * Method to listen open/close feature info data content.\n     * @param open\n     * @param layer\n     * @param feature\n     * @param container\n     */\n    openCloseFeatureResult: function openCloseFeatureResult() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          open = _ref2.open,\n          layer = _ref2.layer,\n          feature = _ref2.feature,\n          container = _ref2.container;\n    }\n  };\n\n  base(this);\n\n  this.addLayersPlotIds = function () {\n    var layerIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.plotLayerIds = layerIds;\n  };\n\n  this.getPlotIds = function () {\n    return this.plotLayerIds;\n  };\n\n  this.findPlotId = function (id) {\n    return this.plotLayerIds.find(function (plotId) {\n      return plotId == id;\n    });\n  };\n\n  this._setRelations(project);\n  this._setAtlasActions(project);\n  this._asyncFnc = {\n    todo: noop,\n    zoomToLayerFeaturesExtent: {\n      async: false\n    },\n    goToGeometry: {\n      async: false\n    }\n  };\n  _gui2.default.onbefore('setContent', function (options) {\n    var perc = options.perc;\n\n    _this.mapService = _this.mapService || _application2.default.getApplicationService('map');\n    if (perc === 100 && _gui2.default.isMobile()) {\n      _this._asyncFnc.zoomToLayerFeaturesExtent.async = true;\n      _this._asyncFnc.goToGeometry.async = true;\n    }\n  });\n}\n\n// Make the public service en Event Emitter\ninherit(QueryResultsService, G3WObject);\n\nvar proto = QueryResultsService.prototype;\n\n/**\n * Method to register for plugin or other component of application to add custom component on result for each layer feature or layer\n * @param id unique id identification\n * @param layerId Layer id of layer\n * @param component custom component\n * @param type feature or layer\n */\nproto.registerCustomComponent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$id = _ref3.id,\n      id = _ref3$id === undefined ? getUniqueDomId() : _ref3$id,\n      layerId = _ref3.layerId,\n      component = _ref3.component,\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'feature' : _ref3$type,\n      _ref3$position = _ref3.position,\n      position = _ref3$position === undefined ? 'after' : _ref3$position;\n\n  if (this.state.layerscustomcomponents[layerId] === undefined) this.state.layerscustomcomponents[layerId] = {\n    layer: {\n      before: [],\n      after: []\n    },\n    feature: {\n      before: [],\n      after: []\n    }\n  };\n  this.state.layerscustomcomponents[layerId][type][position].push({\n    id: id,\n    component: component\n  });\n  return id;\n};\n\n/**\n * To check position\n * @param id\n * @param layerId\n * @param type\n */\nproto.unRegisterCustomComponent = function (_ref4) {\n  var _this3 = this;\n\n  var id = _ref4.id,\n      layerId = _ref4.layerId,\n      type = _ref4.type,\n      position = _ref4.position;\n\n  if (position) this.state.layerscustomcomponents[layerId][type][position] = this.state.layerscustomcomponents[layerId][type][position].filter(function (_ref5) {\n    var componentId = _ref5.id;\n    return componentId !== id;\n  });else Object.keys(this.state.layerscustomcomponents[layerId][type]).forEach(function (position) {\n    _this3.state.layerscustomcomponents[layerId][type][position] = _this3.state.layerscustomcomponents[layerId][type][position].filter(function (_ref6) {\n      var componentId = _ref6.id;\n      return componentId !== id;\n    });\n  });\n};\n\n/**\n * Method to add a feature to current layer result\n * @param layer\n * @param feature\n */\nproto.addFeatureLayerToResult = function (layer, feature) {\n  this.state.layersFeaturesBoxes[this.getBoxId(layer, feature)].collapsed = true;\n};\n\n/**\n * Method to remove a feature from current layer result\n * @param layer\n * @param feature\n */\nproto.removeFeatureLayerFromResult = function (layer, feature) {\n  var id = layer.id,\n      external = layer.external;\n\n  this.updateLayerResultFeatures({\n    id: id,\n    external: external,\n    features: [feature]\n  });\n};\n\n/**\n * Method wrapper for download\n */\n\nproto.downloadApplicationWrapper = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(downloadFnc) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var download_caller_id;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            download_caller_id = _application2.default.setDownload(true);\n\n            _gui2.default.setLoadingContent(true);\n            _context.prev = 2;\n            _context.next = 5;\n            return downloadFnc(options);\n\n          case 5:\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context['catch'](2);\n\n            _gui2.default.showUserMessage({\n              type: 'alert',\n              message: _context.t0 || 'server_error',\n              textMessage: _context.t0 ? true : false\n            });\n\n          case 10:\n            _application2.default.setDownload(false, download_caller_id);\n            _gui2.default.setLoadingContent(false);\n\n          case 12:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[2, 7]]);\n  }));\n\n  return function (_x8) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * Based on layer response check if features layer are to add or remove to current state.layers results\n * @param layer\n * @since v3.8.0\n */\nproto.updateLayerResultFeatures = function (layer) {\n  var _this4 = this;\n\n  //extract features from layer object\n  var _layer$features = layer.features,\n      features = _layer$features === undefined ? [] : _layer$features;\n  // get layer from current state.layers showed on result\n\n  var findLayer = this.state.layers.find(function (_layer) {\n    return _layer.id === layer.id;\n  });\n  // if get features and find layer\n  if (findLayer && features.length) {\n    // get id external layer or not (external is a layer added by mapcontrol addexternlayer)\n    var external = findLayer.external;\n    // is array of idexes od features that we has to remove from state.layer because is already loaded\n\n    var removeFeatureIndexes = [];\n    // get id of the features\n    var features_ids = features.map(function (feature) {\n      return !external ? feature.attributes[_constant.G3W_FID] : feature.id;\n    });\n    // loop nad filter the features that we had to remove)\n    findLayer.features = findLayer.features.filter(function (feature) {\n      var indexFindFeature = features_ids.indexOf(!external ? feature.attributes[_constant.G3W_FID] : feature.id);\n      // check if need to filter or not\n      var filtered = indexFindFeature === -1;\n      if (!filtered) {\n        removeFeatureIndexes.push(indexFindFeature);\n        var featureRemoved = features[indexFindFeature];\n        _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, feature)].collapsed = true;\n        setTimeout(function () {\n          return delete _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, featureRemoved)];\n        });\n      } else _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, feature)].collapsed = true;\n      return filtered;\n    });\n    // filter features to add\n    features = features.filter(function (feature, index) {\n      return removeFeatureIndexes.indexOf(index) === -1;\n    });\n    // check if new feature ha to be added\n    if (features.length) {\n      var newlayerfeatures = [].concat(_toConsumableArray(findLayer.features), _toConsumableArray(features));\n      findLayer.features = newlayerfeatures;\n    }\n    //in case of removed features\n    if (findLayer.features.length === 1 && this.state.layersFeaturesBoxes[this.getBoxId(findLayer, findLayer.features[0])])\n      // used to do all vue reactive thing before update layers\n      setTimeout(function () {\n        return _this4.state.layersFeaturesBoxes[_this4.getBoxId(findLayer, findLayer.features[0])].collapsed = false;\n      });\n    // in case no more features on layer remove interaction pickcoordinate to get result from map\n    this.checkIfLayerHasNoFeatures(findLayer);\n  }\n  // hightlight new feature\n  this.state.layers.length === 1 && this.highlightFeaturesPermanently(this.state.layers[0]);\n  this.changeLayerResult(findLayer);\n};\n\n/**\n * @deprecated since v3.8. Will be deleted in 4.x. Use QueryResultsService::updateLayerResultFeatures(layer) instead\n */\nproto.addRemoveFeaturesToLayerResult = proto.updateLayerResultFeatures;\n\n/**\n * Method called when layer result features for example is changed\n * @param layer\n */\nproto._changeLayerResult = function (layer) {\n  var layeractions = this.state.layersactions[layer.id];\n  // call if present change mthod to action\n  layeractions.forEach(function (action) {\n    return action.change && action.change(layer);\n  });\n  //reset layer current actions tools\n  this.resetCurrentActionToolsLayer(layer);\n};\n\n/**\n * Check and do action if layer has no features after delete feature(s\n */\nproto.checkIfLayerHasNoFeatures = function (layer) {\n  var _this5 = this;\n\n  if (layer.features.length === 0) {\n    // used to do all vue reactive thing before update layers\n    setTimeout(function () {\n      _this5.state.layers = _this5.state.layers.filter(function (_layer) {\n        return _layer.id !== layer.id;\n      });\n      _this5.clearHighlightGeometry(layer);\n      _this5.removeAddFeaturesLayerResultInteraction({\n        toggle: true\n      });\n    });\n  }\n};\n\n/**\n * Method to create boxid identify to query result hmtl\n * @param layer\n * @param feature\n * @param relation_index\n * @returns {string}\n */\nproto.getBoxId = function (layer, feature, relation_index) {\n  return relation_index !== null && relation_index !== undefined ? layer.id + '_' + feature.id + '_' + relation_index : layer.id + '_' + feature.id;\n};\n\nproto.setActionsForLayers = function (layers) {\n  var _this6 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n  var add = options.add;\n\n  if (!add) {\n    this.unlistenerlayeractionevents = [];\n    layers.forEach(function (layer) {\n      /**\n       * set eventually layer action tool and need to be reactive\n       * @type {{}}\n       */\n      _this6.state.layeractiontool[layer.id] = Vue.observable({\n        component: null,\n        config: null\n      });\n      var currentactiontoolslayer = {};\n      var currentationfeaturelayer = {};\n      layer.features.forEach(function (feature, index) {\n        currentactiontoolslayer[index] = null;\n        currentationfeaturelayer[index] = null;\n      });\n      _this6.state.currentactiontools[layer.id] = Vue.observable(currentactiontoolslayer);\n      _this6.state.currentactionfeaturelayer[layer.id] = Vue.observable(currentationfeaturelayer);\n      var is_external_layer_or_wms = layer.external || (layer.source ? layer.source.type === 'wms' : false);\n      if (!_this6.state.layersactions[layer.id]) _this6.state.layersactions[layer.id] = [];\n      /**\n       * An action is an object contains\n       * {\n       * id: Unique action Id => required True\n          download: if is action download or not => required False\n          class: calss fontawsome to show icon => required True,\n          state: need to be reactive. Used for example to toggled state of action icon => required False\n          hint: Tooltip text => required False\n          init: Method called when action is loaded => required False\n          clear: Method called before clear the service. Used for example to clear unwatch => require False\n          change: Method called when feature of layer is changed\n          cbk: Method called when action is cliccked => required True\n          }\n       *\n       * }\n       */\n\n      //in case of geometry\n      if (layer.hasgeometry) {\n        _this6.state.layersactions[layer.id].push({\n          id: 'gotogeometry',\n          download: false,\n          mouseover: true,\n          class: _gui2.default.getFontClass('marker'),\n          hint: 'sdk.mapcontrols.query.actions.zoom_to_feature.hint',\n          cbk: throttle(_this6.goToGeometry.bind(_this6))\n        });\n      }\n      // in case of relations\n      if (_this6._relations) {\n        var relations = _this6._relations[layer.id] && _this6._relations[layer.id].filter(function (relation) {\n          return relation.type === 'MANY';\n        });\n        if (relations && relations.length) {\n          var chartRelationIds = [];\n          relations.forEach(function (relation) {\n            var id = _this6.plotLayerIds.find(function (id) {\n              return id === relation.referencingLayer;\n            });\n            id && chartRelationIds.push(id);\n          });\n\n          _this6.state.layersactions[layer.id].push({\n            id: 'show-query-relations',\n            download: false,\n            class: _gui2.default.getFontClass('relation'),\n            hint: 'sdk.mapcontrols.query.actions.relations.hint',\n            cbk: _this6.showQueryRelations,\n            relations: relations,\n            chartRelationIds: chartRelationIds\n          });\n          var _state = _this6.createActionState({\n            layer: layer\n          });\n          chartRelationIds.length && _this6.state.layersactions[layer.id].push({\n            id: 'show-plots-relations',\n            download: false,\n            opened: true,\n            class: _gui2.default.getFontClass('chart'),\n            state: _state,\n            hint: 'sdk.mapcontrols.query.actions.relations_charts.hint',\n            cbk: throttle(_this6.showRelationsChart.bind(_this6, chartRelationIds))\n          });\n        }\n      }\n      /**\n       *\n       * Check if layer has atlas\n       */\n      _this6.getAtlasByLayerId(layer.id).length && _this6.state.layersactions[layer.id].push({\n        id: 'printatlas',\n        download: true,\n        class: _gui2.default.getFontClass('print'),\n        hint: 'sdk.tooltips.atlas',\n        cbk: _this6.printAtlas.bind(_this6)\n      });\n      var state = _this6.createActionState({\n        layer: layer\n      });\n      if (layer.downloads.length === 1) {\n        var _layer$downloads = _slicedToArray(layer.downloads, 1),\n            format = _layer$downloads[0];\n\n        var _cbk = _this6.downloadFeatures.bind(_this6, format);\n        layer[format] = Vue.observable({\n          active: false\n        });\n        _this6.state.layersactions[layer.id].push({\n          id: 'download_' + format + '_feature',\n          download: true,\n          state: state,\n          class: _gui2.default.getFontClass('download'),\n          hint: 'sdk.tooltips.download_' + format,\n          cbk: function cbk(layer, feature, action, index) {\n            action.state.toggled[index] = !action.state.toggled[index];\n            if (action.state.toggled[index]) _cbk(layer, feature, action, index);else _this6.setCurrentActionLayerFeatureTool({\n              index: index,\n              action: action,\n              layer: layer\n            });\n          }\n        });\n      } else if (layer.downloads.length > 1) {\n        // SET CONSTANT TO AVOID TO CHANGE ALL THINGS\n        var ACTIONTOOLSDOWNLOADFORMATS = _QueryResultsActionDownloadFormats2.default.name;\n        var downloads = [];\n        layer.downloads.forEach(function (format) {\n          downloads.push({\n            id: 'download_' + format + '_feature',\n            download: true,\n            format: format,\n            class: _gui2.default.getFontClass(format),\n            hint: 'sdk.tooltips.download_' + format,\n            cbk: function cbk(layer, feature, action, index) {\n              //used to untoggle downloads action\n              _this6.downloadFeatures(format, layer, feature, action, index);\n              var downloadsaction = _this6.state.layersactions[layer.id].find(function (action) {\n                return action.id === 'downloads';\n              });\n              if (_this6.state.query.type !== 'polygon') downloadsaction.cbk(layer, feature, downloadsaction, index);\n            }\n          });\n        });\n        _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS] = _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS] || {};\n        // set config of actionstools\n        _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS][layer.id] = {\n          downloads: downloads // ARE DOWNLOAD ACTIONS,\n        };\n        // used to\n        //check if has download actions\n        _this6.state.layersactions[layer.id].push({\n          id: 'downloads',\n          download: true,\n          class: _gui2.default.getFontClass('download'),\n          state: state,\n          toggleable: true,\n          hint: 'Downloads',\n          change: function change(_ref8) {\n            var _this7 = this;\n\n            var features = _ref8.features;\n\n            features.forEach(function (feature, index) {\n              if (_this7.state.toggled[index] === undefined) VM.$set(_this7.state.toggled, index, false);else _this7.state.toggled[index] = false;\n            });\n          },\n\n          cbk: function cbk(layer, feature, action, index) {\n            action.state.toggled[index] = !action.state.toggled[index];\n            _this6.setCurrentActionLayerFeatureTool({\n              layer: layer,\n              index: index,\n              action: action,\n              component: action.state.toggled[index] ? _QueryResultsActionDownloadFormats2.default : null\n            });\n          }\n        });\n      }\n      /*\n      Check if si external layer or wms\n       */\n      !is_external_layer_or_wms && _this6.state.layersactions[layer.id].push({\n        id: 'removefeaturefromresult',\n        download: false,\n        mouseover: true,\n        class: _gui2.default.getFontClass('minus-square'),\n        style: {\n          color: 'red'\n        },\n        hint: 'sdk.mapcontrols.query.actions.remove_feature_from_results.hint',\n        cbk: _this6.removeFeatureLayerFromResult.bind(_this6)\n      });\n\n      /**\n       * check if selection is active\n       */\n      if (layer.selection.active !== undefined) {\n        // selection action\n        var _state2 = _this6.createActionState({\n          layer: layer\n        });\n\n        _this6.state.layersactions[layer.id].push({\n          id: 'selection',\n          download: false,\n          class: _gui2.default.getFontClass('success'),\n          hint: 'sdk.mapcontrols.query.actions.add_selection.hint',\n          state: _state2,\n          init: function init() {\n            var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                feature = _ref9.feature,\n                index = _ref9.index,\n                action = _ref9.action;\n\n            typeof layer.selection.active !== \"undefined\" && _this6.checkFeatureSelection({\n              layer: layer,\n              index: index,\n              feature: feature,\n              action: action\n            });\n          },\n          cbk: throttle(_this6.addToSelection.bind(_this6))\n        });\n        /*\n        * In case of external layer don't listen selection event\n        * */\n        _this6.listenClearSelection(layer, 'selection');\n        //end selection action\n      }\n      /*\n        If not wms of external layer show copy link to feature\n       */\n      !is_external_layer_or_wms && layer.hasgeometry && _this6.state.layersactions[layer.id].push({\n        id: 'link_zoom_to_fid',\n        download: false,\n        class: _gui2.default.getFontClass('link'),\n        hint: 'sdk.mapcontrols.query.actions.copy_zoom_to_fid_url.hint',\n        hint_change: {\n          hint: 'sdk.mapcontrols.query.actions.copy_zoom_to_fid_url.hint_change',\n          duration: 1000\n        },\n        cbk: _this6.copyZoomToFidUrl.bind(_this6)\n      });\n      layer.editable && !layer.inediting && _this6.state.layersactions[layer.id].push({\n        id: 'editing',\n        class: _gui2.default.getFontClass('pencil'),\n        hint: 'Editing',\n        cbk: function cbk(layer, feature) {\n          _this6.editFeature({\n            layer: layer,\n            feature: feature\n          });\n        }\n      });\n    });\n    this.addActionsForLayers(this.state.layersactions, this.state.layers);\n  }\n};\n\nproto.createActionState = function (_ref10) {\n  var layer = _ref10.layer,\n      _ref10$dynamicPropert = _ref10.dynamicProperties,\n      dynamicProperties = _ref10$dynamicPropert === undefined ? ['toggled'] : _ref10$dynamicPropert;\n\n  // check number of download formats\n  var propertiesObject = dynamicProperties.reduce(function (accumulator, property) {\n    accumulator[property] = {};\n    return accumulator;\n  }, {});\n  layer.features.map(function (feature, index) {\n    Object.keys(propertiesObject).forEach(function (property) {\n      propertiesObject[property][index] = null;\n    });\n  });\n  return Vue.observable(propertiesObject);\n};\n\n/**\n * Method to get action referred to layer getting the acion id\n * @param layer layer linked to action\n * @param id action id\n * @returns {*}\n */\nproto.getActionLayerById = function () {\n  var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref11.layer,\n      id = _ref11.id;\n\n  return this.state.layersactions[layer.id].find(function (action) {\n    return action.id === id;\n  });\n};\n\n/**\n * Set current layer action tool in feature\n * @param layer current layer\n * @param index feature index\n * @param value component value or null\n */\nproto.setCurrentActionLayerFeatureTool = function () {\n  var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref12.layer,\n      action = _ref12.action,\n      index = _ref12.index,\n      _ref12$component = _ref12.component,\n      component = _ref12$component === undefined ? null : _ref12$component;\n\n  if (component) {\n    if (this.state.currentactiontools[layer.id][index] && action.id !== this.state.currentactionfeaturelayer[layer.id][index].id && this.state.currentactionfeaturelayer[layer.id][index].toggleable) this.state.currentactionfeaturelayer[layer.id][index].state.toggled[index] = false;\n    this.state.currentactionfeaturelayer[layer.id][index] = action;\n  } else this.state.currentactionfeaturelayer[layer.id][index] = null;\n  this.state.currentactiontools[layer.id][index] = component;\n};\n\nproto.addCurrentActionToolsLayer = function (_ref13) {\n  var id = _ref13.id,\n      layer = _ref13.layer,\n      _ref13$config = _ref13.config,\n      config = _ref13$config === undefined ? {} : _ref13$config;\n\n  this.state.actiontools[id] = {};\n  this.state.actiontools[id][layer.id] = config;\n};\n\n/**\n * Reset current action tools on layer when feature layer change\n * @param layer\n */\nproto.resetCurrentActionToolsLayer = function (layer) {\n  var _this8 = this;\n\n  layer.features.forEach(function (feature, index) {\n    if (_this8.state.currentactiontools[layer.id]) {\n      if (_this8.state.currentactiontools[layer.id][index] === undefined) Vue.set(_this8.state.currentactiontools[layer.id], index, null);else _this8.state.currentactiontools[layer.id][index] = null;\n      _this8.state.currentactionfeaturelayer[layer.id][index] = null;\n    }\n  });\n};\n\n/**\n *\n */\nproto.setLayerActionTool = function () {\n  var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref14.layer,\n      _ref14$component = _ref14.component,\n      component = _ref14$component === undefined ? null : _ref14$component,\n      _ref14$config = _ref14.config,\n      config = _ref14$config === undefined ? null : _ref14$config;\n\n  this.state.layeractiontool[layer.id].component = component;\n  this.state.layeractiontool[layer.id].config = config;\n};\n\n/**\n * Method copy zoomtofid url\n * @param layer\n * @param feature\n */\nproto.copyZoomToFidUrl = function (layer, feature, action) {\n  var fid = feature.attributes[_constant.G3W_FID];\n  var url = new URL(location.href);\n  var zoom_to_fid = layer.id + '|' + fid;\n  url.searchParams.set('zoom_to_fid', zoom_to_fid);\n  copyUrl(url.toString());\n  action.hint_changed = true;\n};\n\n/**\n * Clear all\n */\nproto.clear = function () {\n  this.runAsyncTodo();\n  this.unlistenerEventsActions();\n  this.mapService.clearHighlightGeometry();\n  this.resultsQueryLayer.getSource().clear();\n  this.removeAddFeaturesLayerResultInteraction({\n    toggle: true\n  });\n  this._asyncFnc = null;\n  this._asyncFnc = {\n    todo: noop,\n    zoomToLayerFeaturesExtent: {\n      async: false\n    },\n    goToGeometry: {\n      async: false\n    }\n  };\n  this.clearState();\n  this.closeComponent();\n  this.removeQueryResultLayerFromMap();\n};\n\nproto.getCurrentLayersIds = function () {\n  return this._currentLayerIds;\n};\n\nproto.runAsyncTodo = function () {\n  this._asyncFnc.todo();\n};\n\nproto._orderResponseByProjectLayers = function (layers) {\n  var _this9 = this;\n\n  layers.sort(function (layerA, layerB) {\n    var aIndex = _this9._projectLayerIds.indexOf(layerA.id);\n    var bIndex = _this9._projectLayerIds.indexOf(layerB.id);\n    return aIndex > bIndex ? 1 : -1;\n  });\n};\n\nproto.setZoomToResults = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.zoomToResult = bool;\n};\n\nproto.highlightFeaturesPermanently = function (layer) {\n  var features = layer.features;\n\n  this.mapService.highlightFeatures(features, {\n    duration: Infinity\n  });\n};\n\n/**\n * Check if one layer result\n * @returns {boolean}\n */\nproto.isOneLayerResult = function () {\n  return this.state.layers.length === 1;\n};\n\n/**\n *\n * @param toggle boolean If true toggle true the mapcontrol\n */\nproto.removeAddFeaturesLayerResultInteraction = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref15$toggle = _ref15.toggle,\n      toggle = _ref15$toggle === undefined ? false : _ref15$toggle;\n\n  if (this._addFeaturesLayerResultInteraction.interaction) this.mapService.removeInteraction(this._addFeaturesLayerResultInteraction.interaction);\n  this._addFeaturesLayerResultInteraction.interaction = null;\n  this._addFeaturesLayerResultInteraction.id = null;\n  // check if map control query map is register and if toggled\n  toggle && this._addFeaturesLayerResultInteraction.mapcontrol && this._addFeaturesLayerResultInteraction.mapcontrol.toggle(true);\n  this._addFeaturesLayerResultInteraction.mapcontrol = null;\n  this._addFeaturesLayerResultInteraction.toggleeventhandler && this.mapService.off('mapcontrol:toggled', this._addFeaturesLayerResultInteraction.toggleeventhandler);\n  this._addFeaturesLayerResultInteraction.toggleeventhandler = null;\n};\n\n/**\n *\n * Adde feature to Features results\n * @param layer\n */\nproto.addLayerFeaturesToResultsAction = function (layer) {\n  var _this10 = this;\n\n  /**\n   * Check if layer is current layer to add or clear previous\n   */\n  if (this._addFeaturesLayerResultInteraction.id !== null && this._addFeaturesLayerResultInteraction.id !== layer.id) {\n    var _layer2 = this.state.layers.find(function (layer) {\n      return layer.id === _this10._addFeaturesLayerResultInteraction.id;\n    });\n    if (_layer2) _layer2.addfeaturesresults.active = false;\n    //remove previous add result interaction\n    if (this._addFeaturesLayerResultInteraction.interaction) this.mapService.removeInteraction(this._addFeaturesLayerResultInteraction.interaction);\n  }\n  this._addFeaturesLayerResultInteraction.id = layer.id;\n  layer.addfeaturesresults.active = !layer.addfeaturesresults.active;\n  if (layer.addfeaturesresults.active) {\n    this.activeMapInteraction(); // useful o send an event\n    var external = layer.external;\n\n    if (!this._addFeaturesLayerResultInteraction.mapcontrol) this._addFeaturesLayerResultInteraction.mapcontrol = this.mapService.getCurrentToggledMapControl();\n    this._addFeaturesLayerResultInteraction.interaction = new PickCoordinatesInteraction();\n    this.mapService.addInteraction(this._addFeaturesLayerResultInteraction.interaction, {\n      close: false\n    });\n    this._addFeaturesLayerResultInteraction.interaction.on('picked', function () {\n      var _ref16 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(evt) {\n        var coordinates, vectorLayer, responseObject;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                coordinates = evt.coordinate;\n\n                if (external) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _context2.next = 4;\n                return _data2.default.getData('query:coordinates', {\n                  inputs: {\n                    coordinates: coordinates,\n                    query_point_tolerance: _this10._project.getQueryPointTolerance(),\n                    layerIds: [layer.id],\n                    multilayers: false\n                  }, outputs: {\n                    show: {\n                      add: true\n                    }\n                  }\n                });\n\n              case 4:\n                _context2.next = 9;\n                break;\n\n              case 6:\n                vectorLayer = _this10._vectorLayers.find(function (vectorLayer) {\n                  return layer.id === vectorLayer.get('id');\n                });\n                responseObject = _this10.getVectorLayerFeaturesFromQueryRequest(vectorLayer, {\n                  coordinates: coordinates\n                });\n\n                _this10.setQueryResponse({\n                  data: [responseObject],\n                  query: {\n                    coordinates: coordinates\n                  }\n                }, { add: true });\n\n              case 9:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this10);\n      }));\n\n      return function (_x16) {\n        return _ref16.apply(this, arguments);\n      };\n    }());\n    var eventHandler = function eventHandler(evt) {\n      if (evt.target.isToggled() && evt.target.isClickMap()) layer.addfeaturesresults.active = false;\n    };\n    this._addFeaturesLayerResultInteraction.toggleeventhandler = eventHandler;\n    this.mapService.once('mapcontrol:toggled', eventHandler);\n  } else this.removeAddFeaturesLayerResultInteraction({\n    toggle: true\n  });\n};\n\nproto.deactiveQueryInteractions = function () {\n  this.state.layers.forEach(function (layer) {\n    if (layer.addfeaturesresults) layer.addfeaturesresults.active = false;\n  });\n  this.removeAddFeaturesLayerResultInteraction();\n};\n\nproto.zoomToLayerFeaturesExtent = function (layer) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var features = layer.features;\n\n  options.highlight = !this.isOneLayerResult();\n  if (this._asyncFnc.zoomToLayerFeaturesExtent.async) this._asyncFnc.todo = this.mapService.zoomToFeatures.bind(this.mapService, features, options);else this.mapService.zoomToFeatures(features, options);\n};\n\nproto.clearState = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state.layers.splice(0);\n  this.state.query = null;\n  this.state.querytitle = \"\";\n  this.state.changed = false;\n  // clear action if present\n  Object.values(this.state.layersactions).forEach(function (layeractions) {\n    return layeractions.forEach(function (action) {\n      return action.clear && action.clear();\n    });\n  });\n  this.state.layersactions = {};\n  this.state.actiontools = {};\n  this.state.layeractiontool = {};\n  // current action tools\n  this.state.currentactiontools = {};\n  this.state.layersFeaturesBoxes = {};\n  this.removeAddFeaturesLayerResultInteraction();\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.setState = function (state) {\n  this.state = state;\n};\n\nproto._setRelations = function (project) {\n  var projectRelations = project.getRelations();\n  this._relations = projectRelations ? _.groupBy(projectRelations, 'referencedLayer') : [];\n};\n\nproto.getAtlasByLayerId = function (layerId) {\n  return this._atlas.filter(function (atlas) {\n    return atlas.atlas.qgs_layer_id === layerId;\n  });\n};\n\nproto._setAtlasActions = function (project) {\n  this._atlas = project.getPrint().filter(function (printconfig) {\n    return printconfig.atlas;\n  }) || [];\n};\n\nproto.setTitle = function (querytitle) {\n  this.state.querytitle = querytitle || \"\";\n};\n\nproto.reset = function () {\n  this.clearState();\n};\n\n/**\n * Method that convert response from Data Provider to a Query Result component data structure\n * @param featuresForLayers: Array contains for each layer features\n * @returns {[]}\n * @private\n */\nproto._digestFeaturesForLayers = function (featuresForLayers) {\n  var _this11 = this;\n\n  var id = 0;\n  featuresForLayers = featuresForLayers || [];\n  var layers = [];\n  var layerAttributes = void 0,\n      layerRelationsAttributes = void 0,\n      layerTitle = void 0,\n      layerId = void 0;\n  var _handleFeatureFoLayer = function _handleFeatureFoLayer(featuresForLayer) {\n    var _layerObj;\n\n    var formStructure = void 0;\n    var sourceType = void 0;\n    var source = void 0;\n    var extractRelations = false;\n    var external = false;\n    var editable = false;\n    var inediting = false;\n    var layer = featuresForLayer.layer;\n    var downloads = [];\n    var infoformats = [];\n    var infoformat = void 0;\n    var filter = {};\n    var selection = {};\n    if (layer instanceof Layer) {\n      editable = layer.isEditable();\n      inediting = layer.isInEditing();\n      source = layer.getSource();\n      infoformats = layer.getInfoFormats(); // add infoformats property\n      infoformat = layer.getInfoFormat();\n      // set selection filter and relation if not wms\n      if ([Layer.SourceTypes.WMS, Layer.SourceTypes.WCS, Layer.SourceTypes.WMST].indexOf(layer.getSourceType()) === -1) {\n        filter = layer.state.filter;\n        selection = layer.state.selection;\n        extractRelations = true;\n      }\n      downloads = layer.getDownloadableFormats();\n      try {\n        sourceType = layer.getSourceType();\n      } catch (err) {}\n      // sanitize attributes layer only if is ows\n      layerAttributes = _this11.state.type === 'ows' ? layer.getAttributes().map(function (attribute) {\n        var sanitizeAttribute = _extends({}, attribute);\n        sanitizeAttribute.name = sanitizeAttribute.name.replace(/ /g, '_');\n        return sanitizeAttribute;\n      }) : layer.getAttributes();\n\n      layerRelationsAttributes = [];\n      layerTitle = layer.getTitle();\n      layerId = layer.getId();\n      if (layer.hasFormStructure()) {\n        var structure = layer.getLayerEditingFormStructure();\n        if (_this11._relations && _this11._relations.length) {\n          var getRelationFieldsFromFormStructure = function getRelationFieldsFromFormStructure(node) {\n            if (!node.nodes) {\n              node.name ? node.relation = true : null;\n            } else {\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = node.nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var _node = _step.value;\n\n                  getRelationFieldsFromFormStructure(_node);\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n            }\n          };\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = structure[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var node = _step2.value;\n\n              getRelationFieldsFromFormStructure(node);\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        }\n        var fields = layer.getFields().filter(function (field) {\n          return field.show;\n        }); // get features show\n        formStructure = {\n          structure: structure,\n          fields: fields\n        };\n      }\n    } else if (layer instanceof ol.layer.Vector) {\n      selection = layer.selection;\n      layerAttributes = layer.getProperties();\n      layerRelationsAttributes = [];\n      layerTitle = layer.get('name');\n      layerId = layer.get('id');\n      external = true;\n    } else if (typeof layer === 'string' || layer instanceof String) {\n      sourceType = Layer.LayerTypes.VECTOR;\n      var feature = featuresForLayer.features[0];\n      layerAttributes = feature ? feature.getProperties() : [];\n      layerRelationsAttributes = [];\n      var split_layer_name = layer.split('_');\n      layerTitle = split_layer_name.length > 4 ? split_layer_name.slice(0, split_layer_name.length - 4).join(' ') : layer;\n      layerId = layer;\n      external = true;\n    }\n    var layerObj = (_layerObj = {\n      title: layerTitle,\n      id: layerId,\n      infoformat: infoformat,\n      infoformats: infoformats,\n      attributes: [],\n      features: [],\n      hasgeometry: false,\n      atlas: _this11.getAtlasByLayerId(layerId),\n      source: source,\n      downloads: downloads,\n      show: true,\n      filter: filter,\n      addfeaturesresults: {\n        active: false\n      }\n    }, _defineProperty(_layerObj, _QueryResultsActionDownloadFormats2.default.name, {\n      active: false\n    }), _defineProperty(_layerObj, 'external', external), _defineProperty(_layerObj, 'editable', editable), _defineProperty(_layerObj, 'inediting', inediting), _defineProperty(_layerObj, 'selection', selection), _defineProperty(_layerObj, 'expandable', true), _defineProperty(_layerObj, 'hasImageField', false), _defineProperty(_layerObj, 'relationsattributes', layerRelationsAttributes), _defineProperty(_layerObj, 'formStructure', formStructure), _defineProperty(_layerObj, 'error', ''), _defineProperty(_layerObj, 'rawdata', null), _defineProperty(_layerObj, 'loading', false), _layerObj);\n    if (featuresForLayer.rawdata) {\n      layerObj.rawdata = featuresForLayer.rawdata;\n      layers.push(layerObj);\n    } else if (featuresForLayer.features && featuresForLayer.features.length) {\n      var layerSpecialAttributesName = layer instanceof Layer ? layerAttributes.filter(function (attribute) {\n        try {\n          return attribute.name[0] === '_' || Number.isInteger(1 * attribute.name[0]);\n        } catch (e) {\n          return false;\n        }\n      }).map(function (attribute) {\n        return {\n          alias: attribute.name.replace(/_/, ''),\n          name: attribute.name\n        };\n      }) : [];\n      layerSpecialAttributesName.length && featuresForLayer.features.forEach(function (feature) {\n        return _this11._setSpecialAttributesFeatureProperty(layerSpecialAttributesName, feature);\n      });\n      layerObj.attributes = _this11._parseAttributes(layerAttributes, featuresForLayer.features[0], sourceType);\n      layerObj.attributes.forEach(function (attribute) {\n        if (formStructure) {\n          var relationField = layer.getFields().find(function (field) {\n            return field.name === attribute.name;\n          }); // need to check all field also show false\n          !relationField && formStructure.fields.push(attribute);\n        }\n        if (attribute.type === 'image') layerObj.hasImageField = true;\n      });\n      featuresForLayer.features.forEach(function (feature) {\n        var _getFeatureProperties = _this11.getFeaturePropertiesAndGeometry(feature),\n            fid = _getFeatureProperties.id,\n            geometry = _getFeatureProperties.geometry,\n            attributes = _getFeatureProperties.properties,\n            selection = _getFeatureProperties.selection;\n\n        if (geometry) layerObj.hasgeometry = true;\n        var featureObj = {\n          id: layerObj.external ? feature.getId() : fid,\n          attributes: attributes,\n          geometry: geometry,\n          selection: selection,\n          show: true\n        };\n        layerObj.features.push(featureObj);\n        id += 1;\n      });\n      layers.push(layerObj);\n    } else if (featuresForLayer.error) layerObj.error = featuresForLayer.error;\n  };\n  featuresForLayers.forEach(function (featuresForLayer) {\n    if (!Array.isArray(featuresForLayer)) _handleFeatureFoLayer(featuresForLayer);else featuresForLayer.forEach(function (featuresForLayer) {\n      return _handleFeatureFoLayer(featuresForLayer);\n    });\n  });\n  return layers;\n};\n\n/**\n * Method to set special attributes\n * @param layerSpecialAttributesName\n * @param feature\n * @private\n */\nproto._setSpecialAttributesFeatureProperty = function (layerSpecialAttributesName, feature) {\n  // get feature properties get from server request\n  var featureAttributes = feature.getProperties();\n  // get attributes special keys\n  var featureAttributesNames = Object.keys(featureAttributes);\n  if (layerSpecialAttributesName.length) {\n    layerSpecialAttributesName.forEach(function (attributeObj) {\n      featureAttributesNames.find(function (featureAttribute) {\n        if (featureAttribute === attributeObj.alias) {\n          feature.set(attributeObj.name, feature.get(featureAttribute));\n          return true;\n        }\n      });\n    });\n  }\n};\n\n/**\n * Method to get properties geometry and id from different type of fetaure\n * @param feature\n * @returns {{geometry: (undefined|*|null|ol.Feature), id: *, properties: string[]}|{geometry: *, id: *, properties: *}}\n */\nproto.getFeaturePropertiesAndGeometry = function (feature) {\n  if (feature instanceof ol.Feature) {\n    return {\n      selection: feature.selection,\n      properties: feature.getProperties(),\n      geometry: feature.getGeometry(),\n      id: feature.getId()\n    };\n  } else {\n    var selection = feature.selection,\n        properties = feature.properties,\n        geometry = feature.geometry,\n        id = feature.id;\n\n    return {\n      selection: selection,\n      properties: properties,\n      geometry: geometry,\n      id: id\n    };\n  }\n};\n\n/**\n * parse attributre to show on result based on field\n * @param layerAttributes\n * @param feature\n * @param sourceType\n * @returns {{name: T, show: boolean, label: T}[]|*}\n * @private\n */\nproto._parseAttributes = function (layerAttributes, feature, sourceType) {\n  var _getFeatureProperties2 = this.getFeaturePropertiesAndGeometry(feature),\n      featureAttributes = _getFeatureProperties2.properties;\n\n  var featureAttributesNames = Object.keys(featureAttributes);\n  featureAttributesNames = getAlphanumericPropertiesFromFeature(featureAttributesNames);\n  if (layerAttributes && layerAttributes.length) {\n    var attributes = layerAttributes.filter(function (attribute) {\n      return featureAttributesNames.indexOf(attribute.name) > -1;\n    });\n    return attributes;\n  } else {\n    var _Layer$SourceTypes = Layer.SourceTypes,\n        GDAL = _Layer$SourceTypes.GDAL,\n        WMS = _Layer$SourceTypes.WMS,\n        WCS = _Layer$SourceTypes.WCS,\n        WMST = _Layer$SourceTypes.WMST;\n\n    var showSourcesTypes = [GDAL, WMS, WCS, WMST];\n    return featureAttributesNames.map(function (featureAttributesName) {\n      return {\n        name: featureAttributesName,\n        label: featureAttributesName,\n        show: featureAttributesName !== _constant.G3W_FID && (sourceType === undefined || showSourcesTypes.indexOf(sourceType) !== -1),\n        type: 'varchar'\n      };\n    });\n  }\n};\n\nproto.trigger = function () {\n  var _ref17 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(actionId, layer, feature, index, container) {\n    var actionMethod, layerActions, action;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            actionMethod = this._actions[actionId];\n\n            actionMethod && actionMethod(layer, feature, index);\n\n            if (!layer) {\n              _context3.next = 10;\n              break;\n            }\n\n            layerActions = this.state.layersactions[layer.id];\n\n            if (!layerActions) {\n              _context3.next = 10;\n              break;\n            }\n\n            action = layerActions.find(function (layerAction) {\n              return layerAction.id === actionId;\n            });\n            _context3.t0 = action;\n\n            if (!_context3.t0) {\n              _context3.next = 10;\n              break;\n            }\n\n            _context3.next = 10;\n            return this.triggerLayerAction(action, layer, feature, index, container);\n\n          case 10:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function (_x19, _x20, _x21, _x22, _x23) {\n    return _ref17.apply(this, arguments);\n  };\n}();\n\nproto.triggerLayerAction = function () {\n  var _ref18 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(action, layer, feature, index, container) {\n    var url, urlTemplate;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.t0 = action.cbk;\n\n            if (!_context4.t0) {\n              _context4.next = 4;\n              break;\n            }\n\n            _context4.next = 4;\n            return action.cbk(layer, feature, action, index, container);\n\n          case 4:\n            if (action.route) {\n              url = void 0;\n              urlTemplate = action.route;\n\n              url = urlTemplate.replace(/{(\\w*)}/g, function (m, key) {\n                return feature.attributes.hasOwnProperty(key) ? feature.attributes[key] : \"\";\n              });\n              url && url !== '' && _gui2.default.goto(url);\n            }\n\n          case 5:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x24, _x25, _x26, _x27, _x28) {\n    return _ref18.apply(this, arguments);\n  };\n}();\n\nproto.registerVectorLayer = function (vectorLayer) {\n  this._vectorLayers.indexOf(vectorLayer) === -1 && this._vectorLayers.push(vectorLayer);\n};\n\nproto.unregisterVectorLayer = function (vectorLayer) {\n  var _this12 = this;\n\n  this._vectorLayers = this._vectorLayers.filter(function (layer) {\n    _this12.state.layers = _this12.state.layers && _this12.state.layers.filter(function (layer) {\n      return layer.id !== vectorLayer.get('id');\n    });\n    return layer !== vectorLayer;\n  });\n};\n\nproto.getVectorLayerFeaturesFromQueryRequest = function (vectorLayer) {\n  var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var coordinates = query.coordinates,\n      bbox = query.bbox,\n      geometry = query.geometry,\n      _query$filterConfig = query.filterConfig,\n      filterConfig = _query$filterConfig === undefined ? {} : _query$filterConfig; // extract information about query type\n\n  var features = [];\n\n  // case query coordinates\n  if (coordinates && Array.isArray(coordinates)) {\n    var pixel = this.mapService.viewer.map.getPixelFromCoordinate(coordinates);\n    this.mapService.viewer.map.forEachFeatureAtPixel(pixel, function (feature, layer) {\n      features.push(feature);\n    }, {\n      layerFilter: function layerFilter(layer) {\n        return layer === vectorLayer;\n      }\n    });\n  }\n\n  // TODO: rewrite this in order to avoid nested else-if conditions\n  else {\n\n      // case query bbox\n      if (bbox && Array.isArray(bbox)) {\n        //set geometry has Polygon\n        geometry = ol.geom.Polygon.fromExtent(bbox);\n      }\n\n      // check query geometry (Polygon or MultiPolygon)\n      if (geometry instanceof ol.geom.Polygon || geometry instanceof ol.geom.MultiPolygon) {\n        switch (vectorLayer.constructor) {\n          case VectorLayer:\n            features = vectorLayer.getIntersectedFeatures(geometry);\n            break;\n          case ol.layer.Vector:\n            vectorLayer.getSource().getFeatures().forEach(function (feature) {\n              var add = void 0;\n              switch (filterConfig.spatialMethod) {\n                case 'intersects':\n                  add = intersects(geometry, feature.getGeometry());break;\n                case 'within':\n                  add = within(geometry, feature.getGeometry());break;\n                default:\n                  add = geometry.intersectsExtent(feature.getGeometry().getExtent());break;\n              }\n              if (true === add) {\n                features.push(feature);\n              }\n            });\n            break;\n        }\n      }\n    }\n\n  return {\n    features: features,\n    layer: vectorLayer\n  };\n};\n\n/**\n * @TODO add description (eg. what is a vector layer ?)\n */\nproto._addVectorLayersDataToQueryResponse = function (queryResponse) {\n  var _this13 = this;\n\n  var catalogService = _gui2.default.getService('catalog');\n\n  /** @type { boolean | undefined } */\n  var isExternalFilterSelected = queryResponse.query.external.filter.SELECTED;\n\n  // add visible layers to query response (vector layers)\n  this._vectorLayers.forEach(function (layer) {\n    var isLayerSelected = catalogService.isExternalLayerSelected({ id: layer.get('id'), type: 'vector' });\n    if (layer.getVisible() && ( // TODO: extract this into `layer.isSomething()` ?\n    true === isLayerSelected && true === isExternalFilterSelected || false === isLayerSelected && false === isExternalFilterSelected || \"undefined\" === typeof isExternalFilterSelected)) {\n      queryResponse.data.push(_this13.getVectorLayerFeaturesFromQueryRequest(layer, queryResponse.query));\n    }\n  });\n};\n\n//function to add custom component in query result\nproto._addComponent = function (component) {\n  this.state.components.push(component);\n};\n\nproto._printSingleAtlas = function () {\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref19$atlas = _ref19.atlas,\n      atlas = _ref19$atlas === undefined ? {} : _ref19$atlas,\n      _ref19$features = _ref19.features,\n      features = _ref19$features === undefined ? [] : _ref19$features;\n\n  // TODO: make it easier to understand.. (what variables are declared? which ones are aliased?)\n  var template = atlas.name,\n      _atlas$atlas$field_na = atlas.atlas.field_name,\n      field_name = _atlas$atlas$field_na === undefined ? '' : _atlas$atlas$field_na;\n\n\n  field_name = field_name || '$id';\n\n  var values = features.map(function (feat) {\n    return feat.attributes[field_name === '$id' ? _constant.G3W_FID : field_name];\n  });\n  var download_caller_id = _application2.default.setDownload(true);\n\n  return this.printService.printAtlas({\n    field: field_name,\n    values: values,\n    template: template,\n    download: true\n  }).then(function (_ref20) {\n    var url = _ref20.url;\n\n    downloadFile({ url: url, filename: template, mime_type: 'application/pdf' }).catch(function (error) {\n      _gui2.default.showUserMessage({ type: 'alert', error: error });\n    }).finally(function () {\n      _application2.default.setDownload(false, download_caller_id);_gui2.default.setLoadingContent(false);\n    });\n  });\n};\n\nproto.showChart = function (ids, container, relationData) {\n  this.emit('show-chart', ids, container, relationData);\n};\n\nproto.hideChart = function (container) {\n  this.emit('hide-chart', container);\n};\n\nproto.showRelationsChart = function () {\n  var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var layer = arguments[1];\n  var feature = arguments[2];\n  var action = arguments[3];\n  var index = arguments[4];\n  var container = arguments[5];\n\n  action.state.toggled[index] = !action.state.toggled[index];\n  if (action.state.toggled[index]) {\n    var relations = this._relations[layer.id];\n    var relationData = {\n      relations: relations,\n      fid: feature.attributes[_constant.G3W_FID],\n      height: 400\n    };\n    this.emit('show-chart', ids, container, relationData);\n  } else this.hideChart(container);\n};\n\nproto.printAtlas = function (layer, feature) {\n  var _this14 = this;\n\n  var layerId = layer.id,\n      features = layer.features;\n\n  var inputAtlasAttr = 'g3w_atlas_index';\n  features = feature ? [feature] : features;\n  var atlasLayer = this.getAtlasByLayerId(layerId);\n  if (atlasLayer.length > 1) {\n    var inputs = '';\n    atlasLayer.forEach(function (atlas, index) {\n      var id = getUniqueDomId();\n      inputs += '<input id=\"' + id + '\" ' + inputAtlasAttr + '=\"' + index + '\" class=\"magic-radio\" type=\"radio\" name=\"template\" value=\"' + atlas.name + '\"/>\\n                 <label for=\"' + id + '\">' + atlas.name + '</label>\\n                 <br>';\n    });\n\n    _gui2.default.showModalDialog({\n      title: t('sdk.atlas.template_dialog.title'),\n      message: inputs,\n      buttons: {\n        success: {\n          label: \"OK\",\n          className: \"skin-button\",\n          callback: function callback() {\n            var index = $('input[name=\"template\"]:checked').attr(inputAtlasAttr);\n            if (index !== null || index !== undefined) {\n              var atlas = atlasLayer[index];\n              _this14._printSingleAtlas({\n                atlas: atlas,\n                features: features\n              });\n            }\n          }\n        }\n      }\n    });\n  } else this._printSingleAtlas({\n    atlas: atlasLayer[0],\n    features: features\n  });\n};\n\n/**\n * Method that in case\n * @param layer\n */\nproto.showLayerDownloadFormats = function (layer) {\n  var layerKey = _QueryResultsActionDownloadFormats2.default.name;\n  layer[layerKey].active = !layer[layerKey].active;\n  this.setLayerActionTool({\n    layer: layer,\n    component: layer[layerKey].active ? _QueryResultsActionDownloadFormats2.default : null,\n    config: layer[layerKey].active ? this.state.actiontools[layerKey][layer.id] : null\n  });\n};\n\n/**\n *\n * @param type\n * @param layerId\n * @param features\n */\nproto.downloadFeatures = function () {\n  var _ref21 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(type, layer) {\n    var features = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n    var _this15 = this;\n\n    var action = arguments[3];\n    var index = arguments[4];\n\n    var layerId, _state$query, query, data, runDownload, downloadsactions, fid, polygonLayer, config;\n\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            layerId = layer.id;\n            _state$query = this.state.query, query = _state$query === undefined ? {} : _state$query;\n\n            features = features ? Array.isArray(features) ? features : [features] : features;\n            data = {\n              fids: features.map(function (feature) {\n                return feature.attributes[_constant.G3W_FID];\n              }).join(',')\n            };\n            /**\n             * is a function that che be called in case of querybypolygon\n             * @param active\n             */\n\n            runDownload = function () {\n              var _ref22 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n                var active = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n                var projectLayer, download_caller_id, downloadsactions;\n                return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                  while (1) {\n                    switch (_context5.prev = _context5.next) {\n                      case 0:\n                        if (features.length > 1) {\n                          layer[_QueryResultsActionDownloadFormats2.default.name].active = active;\n                          _this15.setLayerActionTool({\n                            layer: layer\n                          });\n                        }\n                        projectLayer = _catalogLayers2.default.getLayerById(layer.id);\n                        download_caller_id = _application2.default.setDownload(true);\n\n                        _gui2.default.setLoadingContent(true);\n                        _context5.prev = 4;\n                        _context5.next = 7;\n                        return projectLayer.getDownloadFilefromDownloadDataType(type, {\n                          data: data\n                        });\n\n                      case 7:\n                        _context5.t0 = _context5.sent;\n\n                        if (_context5.t0) {\n                          _context5.next = 10;\n                          break;\n                        }\n\n                        Promise.resolve();\n\n                      case 10:\n                        _context5.next = 15;\n                        break;\n\n                      case 12:\n                        _context5.prev = 12;\n                        _context5.t1 = _context5['catch'](4);\n\n                        _gui2.default.notify.error(_context5.t1 || t(\"info.server_error\"));\n\n                      case 15:\n                        _application2.default.setDownload(false, download_caller_id);\n                        _gui2.default.setLoadingContent(false);\n                        downloadsactions = _this15.state.layersactions[layer.id].find(function (action) {\n                          return action.id === 'downloads';\n                        });\n\n                        if (features.length > 1) {\n                          if (downloadsactions === undefined) {\n                            layer[type].active = false;\n                            _this15.setLayerActionTool({\n                              layer: layer\n                            });\n                          } else layer[_QueryResultsActionDownloadFormats2.default.name].active = false;\n                        } else {\n                          if (downloadsactions === undefined) action.state.toggled[index] = false;else downloadsactions.state.toggled[index] = false;\n                          _this15.setCurrentActionLayerFeatureTool({\n                            index: index,\n                            action: action,\n                            layer: layer\n                          });\n                        }\n\n                      case 19:\n                      case 'end':\n                        return _context5.stop();\n                    }\n                  }\n                }, _callee5, _this15, [[4, 12]]);\n              }));\n\n              return function runDownload() {\n                return _ref22.apply(this, arguments);\n              };\n            }();\n\n            if (query.type === 'polygon') {\n              //check if multidownload if present\n              downloadsactions = this.state.layersactions[layer.id].find(function (action) {\n                return action.id === 'downloads';\n              });\n              fid = query.fid, polygonLayer = query.layer;\n              config = {\n                choices: [{\n                  id: getUniqueDomId(),\n                  type: 'feature',\n                  label: 'sdk.mapcontrols.querybypolygon.download.choiches.feature.label'\n                }, {\n                  id: getUniqueDomId(),\n                  type: 'polygon',\n                  label: 'sdk.mapcontrols.querybypolygon.download.choiches.feature_polygon.label'\n                }],\n                download: function download(type) {\n                  // choose between only feature attribute or also polygon attibute\n                  if (type === 'polygon') {\n                    // id type polygon add paramateres to api download\n                    data.sbp_qgs_layer_id = polygonLayer.getId();\n                    data.sbp_fid = fid;\n                  } else {\n                    // force to remove\n                    delete data.sbp_fid;\n                    delete data.sbp_qgs_layer_id;\n                  }\n                  runDownload(true);\n                }\n              };\n\n              if (features.length === 1) {\n                if (downloadsactions === undefined) {\n                  action.state.toggled[index] = true;\n                }\n                this.state.actiontools[_QueryResultsActionQueryPolygonCSVAttributes2.default.name] = this.state.actiontools[layerId] || {};\n                this.state.actiontools[_QueryResultsActionQueryPolygonCSVAttributes2.default.name][layerId] = config;\n                this.setCurrentActionLayerFeatureTool({\n                  layer: layer,\n                  index: index,\n                  action: action,\n                  component: _QueryResultsActionQueryPolygonCSVAttributes2.default\n                });\n              } else {\n                if (downloadsactions === undefined) {\n                  layer[type].active = !layer[type].active;\n                  if (layer[type].active) {\n                    this.setLayerActionTool({\n                      layer: layer,\n                      component: _QueryResultsActionQueryPolygonCSVAttributes2.default,\n                      config: config\n                    });\n                  } else this.setLayerActionTool({\n                    layer: layer\n                  });\n                } else {\n                  this.setLayerActionTool({\n                    layer: layer,\n                    component: _QueryResultsActionQueryPolygonCSVAttributes2.default,\n                    config: config\n                  });\n                }\n              }\n            } else runDownload();\n\n          case 6:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  return function (_x33, _x34) {\n    return _ref21.apply(this, arguments);\n  };\n}();\n\nproto.downloadGpx = function () {\n  var _this16 = this;\n\n  var _ref23 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref23.id;\n\n  var feature = arguments[1];\n\n  var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n  var layer = _catalogLayers2.default.getLayerById(layerId);\n  layer.getGpx({ fid: fid }).catch(function (err) {\n    _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    _this16.layerMenu.loading.shp = false;\n    _this16._hideMenu();\n  });\n};\n\nproto.downloadXls = function () {\n  var _this17 = this;\n\n  var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref24.id;\n\n  var feature = arguments[1];\n\n  var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n  var layer = _catalogLayers2.default.getLayerById(layerId);\n  layer.getXls({ fid: fid }).catch(function (err) {\n    _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    _this17.layerMenu.loading.shp = false;\n    _this17._hideMenu();\n  });\n};\n\nproto.listenClearSelection = function (layer, actionId) {\n  var _this18 = this;\n\n  if (!layer.external) {\n    var _layer = _catalogLayers2.default.getLayerById(layer.id);\n    var handler = function handler() {\n      var action = _this18.state.layersactions[layer.id].find(function (action) {\n        return action.id === actionId;\n      });\n      layer.features.forEach(function (feature, index) {\n        return action.state.toggled[index] = false;\n      });\n    };\n    _layer.on('unselectionall', handler);\n    this.unlistenerlayeractionevents.push({\n      layer: _layer,\n      event: 'unselectionall',\n      handler: handler\n    });\n  } else {\n    layer.features.forEach(function (feature) {\n      var selectionFeature = layer.selection.features.find(function (selectionFeature) {\n        return feature.id === selectionFeature.getId();\n      });\n      feature.selection = selectionFeature ? selectionFeature.selection : {\n        selected: false\n      };\n    });\n  }\n};\n\nproto.clearSelectionExtenalLayer = function (layer) {\n  var _this19 = this;\n\n  layer.selection.active = false;\n  var action = this.state.layersactions[layer.id] && this.state.layersactions[layer.id].find(function (action) {\n    return action.id === 'selection';\n  });\n  layer.selection.features.forEach(function (feature, index) {\n    if (feature.selection.selected) {\n      feature.selection.selected = false;\n      if (action) action.state.toggled[index] = false;\n      _this19.mapService.setSelectionFeatures('remove', {\n        feature: feature\n      });\n    }\n  });\n};\n\nproto.unlistenerEventsActions = function () {\n  this.unlistenerlayeractionevents.forEach(function (obj) {\n    return obj.layer.off(obj.event, obj.handler);\n  });\n  this.unlistenerlayeractionevents = [];\n};\n\nproto.addRemoveFilter = function (layer) {\n  var _layer = _catalogLayers2.default.getLayerById(layer.id);\n  _layer.toggleFilterToken();\n};\n\n/**\n *\n * @param layer\n */\nproto.selectionFeaturesLayer = function (layer) {\n  var _this20 = this;\n\n  var layerId = layer.id;\n  var action = this.state.layersactions[layerId].find(function (action) {\n    return action.id === 'selection';\n  });\n  var bool = Object.values(action.state.toggled).reduce(function (acculmulator, value) {\n    return acculmulator && value;\n  }, true);\n  var _layer = !layer.external ? _catalogLayers2.default.getLayerById(layerId) : layer;\n  layer.features.forEach(function (feature, index) {\n    action.state.toggled[index] = !bool;\n    _this20._addRemoveSelectionFeature(_layer, feature, index, bool ? 'remove' : 'add');\n  });\n};\n\n/**\n *\n * @param layer\n * @param feature\n * @param index\n * @param force\n * @returns {Promise<void>}\n * @private\n */\nproto._addRemoveSelectionFeature = function () {\n  var _ref25 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(layer, feature, index, force) {\n    var selectionFeature, fid, hasAlreadySelectioned, currentLayer;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            if (!(typeof layer.external !== \"undefined\" && layer.external)) {\n              _context7.next = 12;\n              break;\n            }\n\n            if (typeof layer.selection.features === \"undefined\") layer.selection.features = {};\n            if (!layer.selection.features.find(function (selectionFeature) {\n              return selectionFeature.getId() === feature.id;\n            })) {\n              /***\n               * Feature used in selection tool action\n               */\n              selectionFeature = createFeatureFromFeatureObject({\n                feature: feature,\n                id: feature.id\n              });\n\n              selectionFeature.__layerId = layer.id;\n              selectionFeature.selection = feature.selection;\n              layer.selection.features.push(selectionFeature);\n            }\n\n            if (!(force === 'add' && feature.selection.selected || force === 'remove' && !feature.selection.selected)) {\n              _context7.next = 7;\n              break;\n            }\n\n            return _context7.abrupt('return');\n\n          case 7:\n            feature.selection.selected = !feature.selection.selected;\n\n          case 8:\n            this.mapService.setSelectionFeatures(feature.selection.selected ? 'add' : 'remove', {\n              feature: layer.selection.features.find(function (selectionFeature) {\n                return feature.id === selectionFeature.getId();\n              })\n            });\n            /*\n            * Set selection layer active based on features selection selected properties\n             */\n            layer.selection.active = layer.selection.features.reduce(function (accumulator, feature) {\n              return accumulator || feature.selection.selected;\n            }, false);\n            _context7.next = 28;\n            break;\n\n          case 12:\n            // case of project layer on TOC\n            fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n            hasAlreadySelectioned = layer.getFilterActive() || layer.hasSelectionFid(fid);\n\n            if (!hasAlreadySelectioned) {\n              if (feature && feature.geometry && !layer.getOlSelectionFeature(fid)) {\n                layer.addOlSelectionFeature({\n                  id: fid,\n                  feature: feature\n                });\n              }\n            }\n\n            if (!(force === undefined)) {\n              _context7.next = 19;\n              break;\n            }\n\n            layer[hasAlreadySelectioned ? 'excludeSelectionFid' : 'includeSelectionFid'](fid);\n            _context7.next = 27;\n            break;\n\n          case 19:\n            if (!(!hasAlreadySelectioned && force === 'add')) {\n              _context7.next = 24;\n              break;\n            }\n\n            _context7.next = 22;\n            return layer.includeSelectionFid(fid);\n\n          case 22:\n            _context7.next = 27;\n            break;\n\n          case 24:\n            if (!(hasAlreadySelectioned && force === 'remove')) {\n              _context7.next = 27;\n              break;\n            }\n\n            _context7.next = 27;\n            return layer.excludeSelectionFid(fid);\n\n          case 27:\n            if (layer.getFilterActive()) {\n              currentLayer = this.state.layers.find(function (_layer) {\n                return _layer.id === layer.getId();\n              });\n\n              layer.getSelectionFids().size > 0 && currentLayer && currentLayer.features.splice(index, 1);\n              this.mapService.clearHighlightGeometry();\n              this.state.layers.length === 1 && !this.state.layers[0].features.length && this.state.layers.splice(0);\n            }\n\n          case 28:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  return function (_x38, _x39, _x40, _x41) {\n    return _ref25.apply(this, arguments);\n  };\n}();\n\n/**\n * Initial check of selection active on layer\n * @param layer\n * @param feature\n * @param index\n * @param action\n */\nproto.checkFeatureSelection = function () {\n  var _ref26 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref26.layer,\n      feature = _ref26.feature,\n      index = _ref26.index,\n      action = _ref26.action;\n\n  if (!layer.external) {\n    var projectLayer = _catalogLayers2.default.getLayerById(layer.id);\n    if (feature) {\n      var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n      action.state.toggled[index] = projectLayer.getFilterActive() || projectLayer.hasSelectionFid(fid);\n    }\n  } else {\n    action.state.toggled[index] = feature.selection.selected;\n  }\n};\n\n/**\n *\n * @param layer\n * @param feature\n * @param action\n * @param index\n */\nproto.addToSelection = function (layer, feature, action, index) {\n  var _layer$external = layer.external,\n      external = _layer$external === undefined ? false : _layer$external;\n\n  action.state.toggled[index] = !action.state.toggled[index];\n  var _layer = !external ? _catalogLayers2.default.getLayerById(layer.id) : layer;\n  this._addRemoveSelectionFeature(_layer, feature, index);\n};\n\nproto.removeQueryResultLayerFromMap = function () {\n  this.resultsQueryLayer.getSource().clear();\n  this.mapService.getMap().removeLayer(this.resultsQueryLayer);\n};\n\n/**\n * Show layerQuery result on map\n */\nproto.addQueryResultsLayerToMap = function (_ref27) {\n  var feature = _ref27.feature;\n\n\n  this.removeQueryResultLayerFromMap();\n\n  this.resultsQueryLayer.getSource().addFeature(feature);\n  this.mapService.getMap().addLayer(this.resultsQueryLayer);\n\n  // make sure that layer is on top of other map.\n  this.mapService.setZIndexLayer({ layer: this.resultsQueryLayer });\n};\n\n/**\n *\n  Show featureFormCoordinates\n */\nproto.showCoordinates = function (coordinates) {\n  var feature = createFeatureFromCoordinates(coordinates);\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n * Show BBox\n * @param bbox\n */\nproto.showBBOX = function (bbox) {\n  var feature = createFeatureFromBBOX(bbox);\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n * Show Geometry\n * @param geometry\n */\nproto.showGeometry = function (geometry) {\n  var feature = createFeatureFromGeometry({\n    geometry: geometry\n  });\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n *\n * @param layer\n * @param feature\n */\nproto.goToGeometry = function (layer, feature) {\n  var _this21 = this;\n\n  if (feature.geometry) {\n    var handlerOptions = {\n      mapServiceMethod: this.isOneLayerResult() ? 'zoomToFeatures' : 'highlightGeometry',\n      firstParam: this.isOneLayerResult() ? [feature] : feature.geometry,\n      options: this.isOneLayerResult() ? {} : {\n        layerId: layer.id,\n        duration: 1500\n      }\n    };\n    if (this._asyncFnc.goToGeometry.async) this._asyncFnc.todo = this.mapService[handlerOptions.mapServiceMethod].bind(this.mapService, handlerOptions.firstParam, handlerOptions.options);else setTimeout(function () {\n      return _this21.mapService[handlerOptions.mapServiceMethod](handlerOptions.firstParam, handlerOptions.options);\n    });\n  }\n};\n\n//save layer result\nproto.saveLayerResult = function () {\n  var _ref28 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref28.layer,\n      _ref28$type = _ref28.type,\n      type = _ref28$type === undefined ? 'csv' : _ref28$type;\n\n  this.downloadFeatures(type, layer, layer.features);\n};\n\nproto.highlightGeometry = function (layer, feature) {\n  feature.geometry && this.mapService.highlightGeometry(feature.geometry, {\n    layerId: layer.id,\n    zoom: false,\n    duration: Infinity\n  });\n};\n\nproto.clearHighlightGeometry = function (layer) {\n  this.mapService.clearHighlightGeometry();\n  this.isOneLayerResult() && this.highlightFeaturesPermanently(layer);\n};\n\n/**\n * method to handle show Relation on result\n * @param relationId,\n * layerId : current layer fathre id\n * feature: current feature father id\n */\nproto.showRelation = function () {\n  var _ref29 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      relation = _ref29.relation,\n      layerId = _ref29.layerId,\n      feature = _ref29.feature;\n\n  var relationId = relation.name,\n      nmRelationId = relation.nmRelationId;\n\n  var chartRelationIds = [];\n  var projectRelation = this._project.getRelationById(relationId);\n  var nmRelation = this._project.getRelationById(nmRelationId);\n  this.findPlotId(projectRelation.referencingLayer) && chartRelationIds.push(projectRelation.referencingLayer);\n\n  _gui2.default.pushContent({\n    content: new RelationsPage({\n      currentview: 'relation',\n      relations: [projectRelation],\n      chartRelationIds: chartRelationIds,\n      nmRelation: nmRelation,\n      feature: feature,\n      layer: {\n        id: layerId\n      }\n    }),\n    crumb: {\n      title: projectRelation.name\n    },\n    title: projectRelation.name,\n    closable: false\n  });\n};\n\nproto.showQueryRelations = function (layer, feature, action) {\n\n  _gui2.default.changeCurrentContentOptions({\n    crumb: {\n      title: layer.title\n    }\n  });\n\n  _gui2.default.pushContent({\n    content: new RelationsPage({\n      relations: action.relations,\n      chartRelationIds: action.chartRelationIds,\n      feature: feature,\n      layer: layer\n    }),\n    backonclose: true,\n    title: _constant.LIST_OF_RELATIONS_TITLE,\n    id: _constant.LIST_OF_RELATIONS_ID,\n    crumb: {\n      title: _constant.LIST_OF_RELATIONS_TITLE,\n      trigger: null\n    },\n    closable: false\n  });\n};\n\nmodule.exports = QueryResultsService;\n\n},{\"components/QueryResultsActionDownloadFormats.vue\":280,\"components/QueryResultsActionQueryPolygonCSVAttributes.vue\":282,\"constant\":4,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/layer\":34,\"core/layers/vectorlayer\":57,\"core/print/printservice\":60,\"core/utils/geo\":64,\"core/utils/utils\":67,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"gui/relations/vue/relationspage\":174,\"services/application\":350,\"services/data\":357,\"services/gui\":360,\"store/catalog-layers\":373,\"store/projects\":378}],171:[function(require,module,exports){\nvar _QueryResults = require('components/QueryResults.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_QueryResults);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar QueryResultsService = require('gui/queryresults/queryresultsservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction QueryResultsComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"queryresults\";\n  this.title = \"Query Results\";\n  this._service = new QueryResultsService();\n  this.setInternalComponent = function () {\n    this.internalComponent = new InternalComponent({\n      queryResultsService: this._service\n    });\n    this.internalComponent.querytitle = this._service.state.querytitle;\n  };\n\n  this.getElement = function () {\n    if (this.internalComponent) return this.internalComponent.$el;\n  };\n\n  this._service.onafter('setLayersData', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            !_this.internalComponent && _this.setInternalComponent();\n            _context.next = 3;\n            return _this.internalComponent.$nextTick();\n\n          case 3:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  })));\n\n  this.layout = function (width, height) {};\n  this.unmount = function () {\n    this.getService().closeComponent();\n    return base(this, 'unmount');\n  };\n}\n\ninherit(QueryResultsComponent, Component);\n\nmodule.exports = QueryResultsComponent;\n\n},{\"components/QueryResults.vue\":278,\"core/utils/utils\":67,\"gui/component/component\":116,\"gui/queryresults/queryresultsservice\":170}],172:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction RelationsComponentService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = {};\n  this._options = {};\n  base(this);\n}\n\ninherit(RelationsComponentService, G3WObject);\n\nvar proto = RelationsComponentService.prototype;\n\nproto.getRelations = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._options = options;\n  return _relations2.default.getRelations(options);\n};\n\nproto.getRelationsNM = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n    var nmRelation = _ref.nmRelation,\n        features = _ref.features;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _relations2.default.getRelationsNM({\n              nmRelation: nmRelation,\n              features: features\n            });\n\n          case 2:\n            return _context.abrupt('return', _context.sent);\n\n          case 3:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nproto.saveRelations = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(type) {\n    var caller_download_id;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            this._options.type = type;\n            caller_download_id = _application2.default.setDownload(true);\n            _context2.prev = 2;\n            _context2.next = 5;\n            return _relations2.default.save(this._options);\n\n          case 5:\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2['catch'](2);\n\n            _gui2.default.showUserMessage({\n              type: 'alert',\n              message: _context2.t0 || \"info.server_error\",\n              closable: true\n            });\n\n          case 10:\n            _application2.default.setDownload(false, caller_download_id);\n\n          case 11:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[2, 7]]);\n  }));\n\n  return function (_x4) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nproto.buildRelationTable = function () {\n  var relations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var id = arguments[1];\n\n  var layer = _application2.default.getCurrentProject().getLayerById(id);\n  var headers = layer.getTableHeaders();\n  var columns = null;\n  var rows = [];\n  var rows_fid = [];\n  var fields = void 0;\n  if (relations.length) {\n    var attributes = Object.keys(relations[0].attributes);\n    columns = headers.filter(function (header) {\n      return attributes.indexOf(header.name) !== -1;\n    });\n    rows = relations.map(function (relation) {\n      rows_fid.push(relation.attributes[_constant.G3W_FID]);\n      return columns.map(function (column) {\n        return relation.attributes[column.name];\n      });\n    });\n    fields = columns;\n    columns = columns.map(function (column) {\n      return column.label;\n    });\n  }\n  return {\n    columns: columns,\n    rows: rows,\n    rows_fid: rows_fid,\n    features: relations,\n    fields: fields,\n    formStructure: layer.getLayerEditingFormStructure(),\n    rowFormStructure: null,\n    layerId: layer.getId()\n  };\n};\n\nmodule.exports = RelationsComponentService;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/application\":350,\"services/gui\":360,\"services/relations\":366}],173:[function(require,module,exports){\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nmodule.exports = new Vue();\n\n},{}],174:[function(require,module,exports){\nvar _RelationsPage = require('components/RelationsPage.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_RelationsPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/relations/relationsservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar RelationsPage = function RelationsPage() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  var service = options.service || new Service();\n  var layer = options.layer,\n      _options$relation = options.relation,\n      relation = _options$relation === undefined ? null : _options$relation,\n      _options$relations = options.relations,\n      relations = _options$relations === undefined ? [] : _options$relations,\n      _options$feature = options.feature,\n      feature = _options$feature === undefined ? null : _options$feature,\n      _options$table = options.table,\n      table = _options$table === undefined ? null : _options$table,\n      _options$chartRelatio = options.chartRelationIds,\n      chartRelationIds = _options$chartRelatio === undefined ? [] : _options$chartRelatio,\n      nmRelation = options.nmRelation,\n      _options$currentview = options.currentview,\n      currentview = _options$currentview === undefined ? \"relations\" : _options$currentview;\n\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    previousview: currentview,\n    service: service,\n    relations: relations,\n    relation: relation,\n    nmRelation: nmRelation,\n    chartRelationIds: chartRelationIds,\n    feature: feature,\n    currentview: currentview,\n    layer: layer,\n    table: table\n  });\n  this.setInternalComponent(internalComponent);\n  internalComponent.state = service.state;\n  this.layout = function () {\n    internalComponent.reloadLayout();\n  };\n};\n\ninherit(RelationsPage, Component);\n\nmodule.exports = RelationsPage;\n\n},{\"components/RelationsPage.vue\":288,\"core/utils/utils\":67,\"gui/component/component\":116,\"gui/relations/relationsservice\":172}],175:[function(require,module,exports){\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar SearchPanel = require('gui/search/vue/panel/searchpanel');\n\nfunction Service() {\n  base(this);\n  var currentProjectState = _projects2.default.getCurrentProject().state;\n  this.title = currentProjectState.search_title || \"search\";\n  this.init = function (searchesObject) {\n    this.state.searches = searchesObject || currentProjectState.search;\n  };\n  this.state = {\n    searches: [],\n    searchtools: [],\n    querybuildersearches: _querybuilder2.default.getCurrentProjectItems()\n  };\n}\n\ninherit(Service, G3WObject);\n\nvar proto = Service.prototype;\n\nproto.removeItem = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref.type,\n      index = _ref.index;\n\n  switch (type) {\n    case 'querybuilder':\n      this.state.querybuildersearches.splice(index, 1);\n      break;\n  }\n};\n\nproto.getTitle = function () {\n  return this.title;\n};\n\nproto.showPanel = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var panel = new SearchPanel(config);\n  panel.show();\n  return panel;\n};\n\nproto.cleanSearchPanels = function () {\n  this.state.panels = {};\n};\n\nproto.stop = function () {\n  var d = $.Deferred();\n  d.resolve();\n  return d.promise();\n};\n\nproto.addTool = function (searchTool) {\n  this.state.searchtools.push(searchTool);\n};\n\nproto.addTools = function (searchTools) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = searchTools[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var searchTool = _step.value;\n\n      this.addTool(searchTool);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.addQueryBuilderSearch = function (querybuildersearch) {\n  this.state.querybuildersearches.push(querybuildersearch);\n};\n\nproto.removeTool = function (searchTool) {};\n\nproto.removeTools = function () {\n  this.state.searchtools.splice(0);\n};\n\nproto.reload = function () {\n  this.state.searches = _projects2.default.getCurrentProject().state.search;\n  this.state.querybuildersearches = _querybuilder2.default.getCurrentProjectItems();\n};\n\nmodule.exports = Service;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"gui/search/vue/panel/searchpanel\":176,\"services/querybuilder\":365,\"store/projects\":378}],176:[function(require,module,exports){\nvar _SearchPanel = require('components/SearchPanel.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_SearchPanel);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar Panel = require('gui/panel');\nvar Service = require('gui/search/vue/panel/searchservice');\n\nvar SearchPanelComponent = Vue.extend(vueComponentOptions);\n\nfunction SearchPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var service = options.service || new Service(options);\n  this.setService(service);\n  this.id = uniqueId();\n  this.title = 'search';\n  var SearchPanel = options.component || SearchPanelComponent;\n  var internalPanel = new SearchPanel({\n    service: service\n  });\n  this.setInternalPanel(internalPanel);\n  this.unmount = function () {\n    return base(this, 'unmount').then(function () {\n      service.clear();\n    });\n  };\n}\n\ninherit(SearchPanel, Panel);\n\nmodule.exports = SearchPanel;\n\n},{\"components/SearchPanel.vue\":291,\"core/utils/utils\":67,\"gui/panel\":161,\"gui/search/vue/panel/searchservice\":177}],177:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data2 = require('services/data');\n\nvar _data3 = _interopRequireDefault(_data2);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType,\n    getUniqueDomId = _require.getUniqueDomId,\n    createFilterFormInputs = _require.createFilterFormInputs,\n    createSingleFieldParameter = _require.createSingleFieldParameter,\n    isEmptyObject = _require.isEmptyObject;\n\nvar G3WObject = require('core/g3wobject');\n\nvar NONVALIDVALUES = [null, undefined, _constant.SEARCH_ALLVALUE];\n\nfunction SearchService() {\n  var _this = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.debounces = {\n    run: {\n      fnc: function fnc() {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        if (_gui2.default.isMobile()) {\n          var _mapService$getMap$ge = _this.mapService.getMap().getSize(),\n              _mapService$getMap$ge2 = _slicedToArray(_mapService$getMap$ge, 2),\n              width = _mapService$getMap$ge2[0],\n              heigth = _mapService$getMap$ge2[1];\n\n          if (width === 0 || heigth === 0) {\n            _gui2.default.hideSidebar();\n            setTimeout(function () {\n              _this._run.apply(_this, args);\n            }, 600);\n          } else _this._run.apply(_this, args);\n        } else _this._run.apply(_this, args);\n      }\n    }\n  };\n  base(this);\n  // reactivity data\n  this.state = {\n    title: null,\n    forminputs: [],\n    loading: {},\n    searching: false\n  };\n  this.config = config;\n  var _config = this.config,\n      type = _config.type,\n      _config$options = _config.options,\n      options = _config$options === undefined ? {} : _config$options;\n\n  var layerid = options.querylayerid || options.layerid || null;\n  var otherquerylayerids = options.otherquerylayerids || [];\n  var filter = options.filter || [];\n  this.inputdependance = {};\n  this.inputdependencies = {};\n  this.cachedependencies = {};\n  this.project = _projects2.default.getCurrentProject();\n  this.mapService = _gui2.default.getService('map');\n  this.searchLayer = null;\n  this.filter = null;\n  this.inputs = [];\n  this.state.title = config.name;\n  this.search_endpoint = config.search_endpoint;\n  this.url = options.queryurl;\n  this.filter = options.filter;\n  /*\n   type:\n     search: search default ,\n     search_1n in case of 1:N\n  */\n  this.type = type || 'search';\n  this.return = options.return || 'data';\n  this.show = this.return === 'data' && this.type === 'search';\n  this.searchLayer = _catalogLayers2.default.getLayerById(layerid);\n  // store layers that will be searchable for that form search. First one is layer owner of the search setted on admin\n  this.searchLayers = [layerid].concat(_toConsumableArray(otherquerylayerids)).map(function (layerid) {\n    return _catalogLayers2.default.getLayerById(layerid);\n  });\n  // stat to create the form search structure\n  this.createInputsFormFromFilter({ filter: filter });\n}\n\ninherit(SearchService, G3WObject);\n\nvar proto = SearchService.prototype;\n\n/**\n * Start Method to create right search structure for search form\n * @param filter\n * @returns {Promise<void>}\n */\nproto.createInputsFormFromFilter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _this2 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$filter = _ref2.filter,\n      filter = _ref2$filter === undefined ? [] : _ref2$filter;\n\n  var filterLenght, _loop, index;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          filterLenght = filter.length - 1;\n\n          _loop = function _loop(index) {\n            var input = filter[index];\n            var forminput = {\n              label: input.label,\n              attribute: input.attribute,\n              type: input.input.type || 'textfield',\n              options: _extends({}, input.input.options),\n              value: null,\n              operator: input.op,\n              logicop: index === filterLenght ? null : input.logicop,\n              id: input.id || getUniqueDomId(),\n              loading: false,\n              widget: null\n            };\n            //check if has a dependance\n            var _forminput$options = forminput.options,\n                dependance = _forminput$options.dependance,\n                dependance_strict = _forminput$options.dependance_strict;\n\n            if (forminput.type === 'selectfield' || forminput.type === 'autocompletefield') {\n              // to be sure set values options to empty array if undefined\n              forminput.loading = forminput.type !== 'autocompletefield';\n              var promise = new Promise(function (resolve, reject) {\n                if (forminput.options.values === undefined) forminput.options.values = [];else if (dependance) {\n                  // in case of dependence load right now\n                  if (!dependance_strict) _this2.getValuesFromField(forminput).then(function (values) {\n                    // return array of values\n                    values = _this2.valuesToKeysValues(values); // set values for select\n                    forminput.options.values = values;\n                  }).catch(function () {\n                    return forminput.options.values = [];\n                  }) // in case of error\n                  .finally(function () {\n                    forminput.loading = false;\n                    resolve();\n                  });else {\n                    forminput.loading = false;\n                    resolve();\n                  }\n                } else {\n                  // no dependance\n                  _this2.getValuesFromField(forminput).then(function (values) {\n                    // return array of values\n                    values = _this2.valuesToKeysValues(values); // set values for select\n                    forminput.options.values = values;\n                  }).catch(function () {\n                    return forminput.options.values = [];\n                  }) // in case of error\n                  .finally(function () {\n                    forminput.loading = false;\n                    resolve();\n                  });\n                }\n              });\n              if (dependance) {\n                //set dependance of input\n                _this2.inputdependance[forminput.attribute] = dependance;\n                _this2.state.loading[dependance] = false;\n                // set disabled false for back compatibility\n                forminput.options.disabled = dependance_strict;\n                /**\n                 * Set dependance between input\n                 */\n                _this2.setInputDependencies({\n                  master: dependance,\n                  slave: forminput\n                });\n                /**\n                 * Set widget type for fill dependency\n                 */\n                if (forminput.options.values.length) {\n                  forminput.widget = 'valuemap';\n                  forminput.options._values = [].concat(_toConsumableArray(forminput.options.values));\n                } else if (forminput.options.layer_id) {\n                  forminput.widget = 'valuerelation';\n                }\n              }\n              promise.then(function () {\n                if (forminput.type !== 'autocompletefield') {\n                  if (forminput.options.values.length) forminput.options.values[0].value !== _constant.SEARCH_ALLVALUE && forminput.options.values.unshift({ value: _constant.SEARCH_ALLVALUE });else forminput.options.values.push({ value: _constant.SEARCH_ALLVALUE });\n                  forminput.value = _constant.SEARCH_ALLVALUE;\n                }\n              });\n            }\n            // ad form inputs to list of search input\n            _this2.state.forminputs.push(forminput);\n          };\n\n          for (index = 0; index <= filterLenght; index++) {\n            _loop(index);\n          }\n\n        case 3:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\n/**\n * Get return type\n */\n\nproto.getReturnType = function () {\n  return this.return;\n};\n\n/**\n * Set return type\n */\n\nproto.setReturnType = function () {\n  var returnType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'data';\n\n  this.return = returnType;\n  //set show only in case return === 'data'\n  this.show = this.return === 'data';\n};\n\nproto.getAutoFieldDependeciesParamField = function (field) {\n  var fieldDependency = this.getCurrentFieldDependance(field);\n  if (fieldDependency) {\n    var _Object$entries$ = _slicedToArray(Object.entries(fieldDependency)[0], 2),\n        _field = _Object$entries$[0],\n        value = _Object$entries$[1];\n\n    return this.createFieldsDependenciesAutocompleteParameter({ field: _field, value: value });\n  }\n};\n\nproto.createFieldsDependenciesAutocompleteParameter = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$fields = _ref3.fields,\n      fields = _ref3$fields === undefined ? [] : _ref3$fields,\n      field = _ref3.field,\n      value = _ref3.value;\n\n  var dependendency = this.getCurrentFieldDependance(field);\n  if (value !== undefined) {\n    var fieldParam = createSingleFieldParameter({\n      field: field,\n      value: value,\n      operator: this.getFilterInputFromField(field).op\n    });\n    fields.push(fieldParam);\n  }\n  if (dependendency) {\n    var _Object$entries$2 = _slicedToArray(Object.entries(dependendency)[0], 2),\n        _field2 = _Object$entries$2[0],\n        _value = _Object$entries$2[1];\n    // In case of some input dependeny are not filled\n\n\n    if (typeof _value !== \"undefined\") {\n      // need to set to lower case for api purpose\n      var _getFilterInputFromFi = this.getFilterInputFromField(_field2),\n          op = _getFilterInputFromFi.op,\n          logicop = _getFilterInputFromFi.logicop;\n\n      if (fields.length) fields.unshift(_field2 + '|' + op.toLowerCase() + '|' + encodeURI(_value) + '|' + logicop.toLowerCase());else fields.unshift(_field2 + '|' + op.toLowerCase() + '|' + encodeURI(_value));\n    }\n    return this.createFieldsDependenciesAutocompleteParameter({\n      fields: fields,\n      field: _field2\n    });\n  }\n  return fields.length && fields.join() || undefined;\n};\n\n/**\n * Request to server value for a specific select select field\n * @param field (form input)\n * @returns {Promise<*[]>}\n */\nproto.getValuesFromField = function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(field) {\n    var uniqueValues, layer, filter;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!field.options.layer_id) {\n              _context2.next = 9;\n              break;\n            }\n\n            _context2.next = 3;\n            return this.getUniqueValuesFromField({\n              field: field,\n              unique: field.attribute\n            });\n\n          case 3:\n            uniqueValues = _context2.sent;\n            layer = _catalogLayers2.default.getLayerById(field.options.layer_id);\n            filter = createFilterFormInputs({\n              layer: layer,\n              search_endpoint: this.getSearchEndPoint(),\n              inputs: uniqueValues.map(function (value) {\n                return {\n                  attribute: field.options.value,\n                  logicop: \"OR\",\n                  operator: \"eq\",\n                  value: value\n                };\n              })\n            });\n            return _context2.abrupt('return', this.getValueRelationValues(field, filter));\n\n          case 9:\n            if (!field.options.values.length) {\n              _context2.next = 13;\n              break;\n            }\n\n            return _context2.abrupt('return', this.getValueMapValues(field));\n\n          case 13:\n            return _context2.abrupt('return', this.getUniqueValuesFromField({\n              field: field,\n              unique: field.attribute\n            }));\n\n          case 14:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x5) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nproto.getValueRelationValues = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(field, filter) {\n    var _field$options, layer_id, key, value, layer, _ref6, _ref6$data, data, features, values;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _field$options = field.options, layer_id = _field$options.layer_id, key = _field$options.key, value = _field$options.value;\n            layer = _catalogLayers2.default.getLayerById(layer_id);\n            _context3.prev = 2;\n            _context3.next = 5;\n            return _data3.default.getData('search:features', {\n              inputs: {\n                layer: layer,\n                search_endpoint: this.getSearchEndPoint(),\n                filter: filter,\n                ordering: key\n              },\n              outputs: false\n            });\n\n          case 5:\n            _ref6 = _context3.sent;\n            _ref6$data = _ref6.data;\n            data = _ref6$data === undefined ? [] : _ref6$data;\n            features = data && data[0] && data[0].features || [];\n            values = [];\n\n            features.forEach(function (feature) {\n              values.push({\n                key: feature.get(key),\n                value: feature.get(value)\n              });\n            });\n            return _context3.abrupt('return', values);\n\n          case 14:\n            _context3.prev = 14;\n            _context3.t0 = _context3['catch'](2);\n            return _context3.abrupt('return', []);\n\n          case 17:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[2, 14]]);\n  }));\n\n  return function (_x6, _x7) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * Return values map\n * @param field\n * @returns {Promise<*>}\n */\nproto.getValueMapValues = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(field) {\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt('return', field.options.values.filter(function (value) {\n              return value !== _constant.SEARCH_ALLVALUE;\n            }));\n\n          case 1:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x8) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * Method to get unique values from field\n * @param field\n * @param value\n * @param unique\n * @returns {Promise<[]>}\n */\nproto.getUniqueValuesFromField = function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(_ref8) {\n    var field = _ref8.field,\n        value = _ref8.value,\n        unique = _ref8.unique;\n    var data;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            data = [];\n            _context5.prev = 1;\n            _context5.next = 4;\n            return this.searchLayer.getFilterData({\n              suggest: value !== undefined ? field + '|' + value : undefined,\n              unique: unique,\n              ordering: field.attribute\n            });\n\n          case 4:\n            data = _context5.sent;\n            _context5.next = 9;\n            break;\n\n          case 7:\n            _context5.prev = 7;\n            _context5.t0 = _context5['catch'](1);\n\n          case 9:\n            return _context5.abrupt('return', data);\n\n          case 10:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[1, 7]]);\n  }));\n\n  return function (_x9) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\nproto.autocompleteRequest = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n  var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref11.field,\n      value = _ref11.value;\n\n  var data;\n  return regeneratorRuntime.wrap(function _callee6$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          data = [];\n          _context6.prev = 1;\n          _context6.next = 4;\n          return this.searchLayer.getFilterData({\n            field: this.getAutoFieldDependeciesParamField(field),\n            suggest: field + '|' + value,\n            unique: field\n          });\n\n        case 4:\n          data = _context6.sent;\n          _context6.next = 10;\n          break;\n\n        case 7:\n          _context6.prev = 7;\n          _context6.t0 = _context6['catch'](1);\n\n          console.log(_context6.t0);\n\n        case 10:\n          return _context6.abrupt('return', data.map(function (value) {\n            return {\n              id: value,\n              text: value\n            };\n          }));\n\n        case 11:\n        case 'end':\n          return _context6.stop();\n      }\n    }\n  }, _callee6, this, [[1, 7]]);\n}));\n\n/**\n * Method to run search\n * @param filter\n * @param search_endpoint\n * @param queryUrl\n * @param feature_count\n * @param show\n * @returns {Promise<void|unknown>}\n */\nproto.doSearch = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n  var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      filter = _ref13.filter,\n      _ref13$search_endpoin = _ref13.search_endpoint,\n      search_endpoint = _ref13$search_endpoin === undefined ? this.getSearchEndPoint() : _ref13$search_endpoin,\n      _ref13$queryUrl = _ref13.queryUrl,\n      queryUrl = _ref13$queryUrl === undefined ? this.url : _ref13$queryUrl,\n      _ref13$feature_count = _ref13.feature_count,\n      feature_count = _ref13$feature_count === undefined ? 10000 : _ref13$feature_count,\n      _ref13$show = _ref13.show,\n      show = _ref13$show === undefined ? this.show : _ref13$show;\n\n  var data, relationId, _ref14, _ref14$features, features, relation, inputs, referencedLayer, _relation$fieldRef, referencedField, referencingField, uniqueValues, layer, _filter, dataPromise, SearchPanel, add_panel;\n\n  return regeneratorRuntime.wrap(function _callee7$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          filter = filter || this.createFilter();\n          // call a generic method of layer\n          data = void 0;\n\n          this.state.searching = true;\n          _context7.prev = 3;\n          _context7.next = 6;\n          return _data3.default.getData('search:features', {\n            inputs: {\n              layer: this.searchLayers,\n              search_endpoint: search_endpoint,\n              filter: filter,\n              queryUrl: queryUrl,\n              formatter: 1, // set formatter to 1\n              feature_count: feature_count,\n              raw: this.return === 'search' // parameter to get raw response\n            },\n            outputs: show && {\n              title: this.state.title\n            }\n          });\n\n        case 6:\n          data = _context7.sent;\n\n          if (!show) {\n            _context7.next = 11;\n            break;\n          }\n\n          // in case of autozoom_query\n          if (this.project.state.autozoom_query && data && data.data.length === 1) {\n            this.mapService.zoomToFeatures(data.data[0].features);\n          }\n          _context7.next = 38;\n          break;\n\n        case 11:\n          if (!(this.type === 'search_1n')) {\n            _context7.next = 31;\n            break;\n          }\n\n          relationId = this.config.options.search_1n_relationid;\n          _ref14 = data.data[0] || {}, _ref14$features = _ref14.features, features = _ref14$features === undefined ? [] : _ref14$features;\n          // check if has features on result\n\n          if (!features.length) {\n            _context7.next = 28;\n            break;\n          }\n\n          relation = this.project.getRelationById(relationId);\n          inputs = [];\n\n          if (!relation) {\n            _context7.next = 26;\n            break;\n          }\n\n          referencedLayer = relation.referencedLayer, _relation$fieldRef = relation.fieldRef, referencedField = _relation$fieldRef.referencedField, referencingField = _relation$fieldRef.referencingField;\n          uniqueValues = new Set();\n\n          features.forEach(function (feature) {\n            var value = feature.getProperties()[referencingField];\n            if (!uniqueValues.has(value)) {\n              uniqueValues.add(value);\n              inputs.push({\n                attribute: referencedField,\n                logicop: \"OR\",\n                operator: \"eq\",\n                value: value\n              });\n            }\n          });\n          layer = this.project.getLayerById(referencedLayer);\n          _filter = createFilterFormInputs({\n            layer: layer,\n            search_endpoint: search_endpoint,\n            inputs: inputs\n          });\n          _context7.next = 25;\n          return _data3.default.getData('search:features', {\n            inputs: {\n              layer: layer,\n              search_endpoint: search_endpoint,\n              filter: _filter,\n              formatter: 1, // set formatter to 1\n              feature_count: feature_count\n            },\n            outputs: {\n              title: this.state.title\n            }\n          });\n\n        case 25:\n          data = _context7.sent;\n\n        case 26:\n          _context7.next = 29;\n          break;\n\n        case 28:\n          _data3.default.showEmptyOutputs();\n\n        case 29:\n          _context7.next = 38;\n          break;\n\n        case 31:\n          _context7.t0 = this.return;\n          _context7.next = _context7.t0 === 'search' ? 34 : 38;\n          break;\n\n        case 34:\n          _gui2.default.closeContent();\n          // in case of api get first response on array\n          data = data.data[0].data;\n          if (isEmptyObject(data)) {\n            dataPromise = Promise.resolve({});\n\n            _data3.default.showCustomOutputDataPromise(dataPromise);\n          } else {\n            SearchPanel = require('gui/search/vue/panel/searchpanel');\n            add_panel = new SearchPanel(data);\n\n            add_panel.show();\n          }\n          return _context7.abrupt('break', 38);\n\n        case 38:\n          _context7.next = 42;\n          break;\n\n        case 40:\n          _context7.prev = 40;\n          _context7.t1 = _context7['catch'](3);\n\n        case 42:\n          this.state.searching = false;\n          return _context7.abrupt('return', data);\n\n        case 44:\n        case 'end':\n          return _context7.stop();\n      }\n    }\n  }, _callee7, this, [[3, 40]]);\n}));\n\nproto.filterValidFormInputs = function () {\n  return this.state.forminputs.filter(function (input) {\n    return NONVALIDVALUES.indexOf(input.value) === -1 && input.value.toString().trim() !== '';\n  });\n};\n\n/**\n *\n * @returns {string|*|string}\n */\nproto.getSearchEndPoint = function () {\n  return this.search_endpoint || this.searchLayer.getSearchEndPoint();\n};\n\n/*\n* type wms, vector (for vector api)\n* */\nproto.createFilter = function () {\n  var search_endpoint = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSearchEndPoint();\n\n  var inputs = this.filterValidFormInputs();\n  return createFilterFormInputs({\n    layer: this.searchLayers,\n    inputs: inputs,\n    search_endpoint: search_endpoint\n  });\n};\n\nproto._run = function () {\n  this.doSearch();\n};\n\n/**\n * Method called when input search change\n * @param id\n * @param value\n */\nproto.changeInput = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref15.id,\n      value = _ref15.value;\n\n  var input = this.state.forminputs.find(function (input) {\n    return id == input.id;\n  });\n  input.value = value;\n};\n\nproto.createQueryFilterFromConfig = function (_ref16) {\n  var filter = _ref16.filter;\n\n  var queryFilter = void 0;\n  function createOperatorObject(inputObj) {\n    for (var _operator in inputObj) {\n      var input = inputObj[_operator];\n      if (Array.isArray(input)) {\n        createBooleanObject(_operator, input);\n        break;\n      }\n    }\n    var field = inputObj.attribute;\n    var operator = inputObj.op;\n    var evalObject = {};\n    evalObject[operator] = {};\n    evalObject[operator][field] = null;\n    return evalObject;\n  }\n\n  function createBooleanObject(booleanOperator) {\n    var inputs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var booleanObject = {};\n    booleanObject[booleanOperator] = [];\n    inputs.forEach(function (input) {\n      booleanObject[booleanOperator].push(createOperatorObject(input));\n    });\n    return booleanObject;\n  }\n\n  for (var operator in filter) {\n    var inputs = filter[operator];\n    queryFilter = createBooleanObject(operator, inputs);\n  }\n  return queryFilter;\n};\n\nproto.getFilterInputFromField = function (field) {\n  return this.filter.find(function (input) {\n    return input.attribute === field;\n  });\n};\n\nproto._getExpressionOperatorFromInput = function (field) {\n  var dependanceCascadeField = this.getFilterInputFromField(field);\n  return dependanceCascadeField ? dependanceCascadeField.op : null;\n};\n\nproto._getCascadeDependanciesFilter = function (field) {\n  var dependencies = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  var dependanceCascadeField = this.getFilterInputFromField(field);\n  var dependance = dependanceCascadeField.input.options.dependance;\n  if (dependance) {\n    dependencies.unshift(dependance);\n    this._getCascadeDependanciesFilter(dependance, dependencies);\n  }\n  return dependencies;\n};\n\n/**\n * Check if a field has a dependance\n * @param field\n * @returns {{}}\n */\nproto.getCurrentFieldDependance = function (field) {\n  var dependance = this.inputdependance[field];\n  // found a dependance\n  if (dependance) {\n    // check if as value\n    if (this.cachedependencies[dependance] && this.cachedependencies[dependance]._currentValue !== _constant.SEARCH_ALLVALUE) return _defineProperty({}, dependance, this.cachedependencies[dependance]._currentValue);\n    // otherwise se value of dependance undefined so it no add on list o field dependance\n    else return _defineProperty({}, dependance, undefined);\n  }\n  return dependance;\n};\n\n// check the current value of dependance\nproto.getDependanceCurrentValue = function (field) {\n  var dependance = this.inputdependance[field];\n  return dependance ? this.cachedependencies[dependance]._currentValue : this.state.forminputs.find(function (forminput) {\n    return forminput.attribute === field;\n  }).value;\n};\n\n// fill all dependencies inputs based on value\nproto.fillDependencyInputs = function () {\n  var _this3 = this;\n\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref19.field,\n      _ref19$subscribers = _ref19.subscribers,\n      subscribers = _ref19$subscribers === undefined ? [] : _ref19$subscribers,\n      _ref19$value = _ref19.value,\n      value = _ref19$value === undefined ? _constant.SEARCH_ALLVALUE : _ref19$value;\n\n  var isRoot = this.inputdependance[field] === undefined;\n  //check id inpute father is valid to search on subscribers\n  var invalidValue = value === _constant.SEARCH_ALLVALUE || value === null || value === undefined || value.toString().trim() === '';\n  return new Promise(function (resolve, reject) {\n    //loop over dependencies fields inputs\n    subscribers.forEach(function (subscribe) {\n      // in case of autocomplete reset values to empty array\n      if (subscribe.type === 'autocompletefield') subscribe.options.values.splice(0);else {\n        //set starting all values\n        if (subscribe.options._allvalues === undefined) subscribe.options._allvalues = [].concat(_toConsumableArray(subscribe.options.values));\n        //case of father is set an empty invalid value (all value example)\n        if (invalidValue) {\n          //subscribe has to set all valaues\n          subscribe.options.values.splice(0);\n          setTimeout(function () {\n            return subscribe.options.values = [].concat(_toConsumableArray(subscribe.options._allvalues));\n          });\n        } else subscribe.options.values.splice(1); //otherwise has to get first __ALL_VALUE\n      }\n      subscribe.value = subscribe.type !== 'selectfield' ? _constant.SEARCH_ALLVALUE : null;\n    });\n    // check i cache field values are set\n    _this3.cachedependencies[field] = _this3.cachedependencies[field] || {};\n    _this3.cachedependencies[field]._currentValue = value;\n    var notAutocompleteSubscribers = subscribers.filter(function (subscribe) {\n      return subscribe.type !== 'autocompletefield';\n    });\n    if (value && value !== _constant.SEARCH_ALLVALUE) {\n      var isCached = void 0;\n      var rootValues = void 0;\n      if (isRoot) {\n        var cachedValue = _this3.cachedependencies[field] && _this3.cachedependencies[field][value];\n        isCached = cachedValue !== undefined;\n        rootValues = isCached && cachedValue;\n      } else {\n        var dependenceCurrentValue = _this3.getDependanceCurrentValue(field);\n        var _cachedValue = _this3.cachedependencies[field] && _this3.cachedependencies[field][dependenceCurrentValue] && _this3.cachedependencies[field][dependenceCurrentValue][value];\n        isCached = _cachedValue !== undefined;\n        rootValues = isCached && _cachedValue;\n      }\n      if (isCached) {\n        for (var i = 0; i < subscribers.length; i++) {\n          var subscribe = subscribers[i];\n          var values = rootValues[subscribe.attribute];\n          if (values && values.length) {\n            for (var _i = 0; _i < values.length; _i++) {\n              subscribe.options.values.push(values[_i]);\n            }\n          }\n          // set disabled false to dependence field\n          subscribe.options.disabled = false;\n          resolve();\n        }\n      } else {\n        _this3.state.loading[field] = true;\n        if (isRoot) _this3.cachedependencies[field][value] = _this3.cachedependencies[field][value] || {};else {\n          var dependenceValue = _this3.getDependanceCurrentValue(field);\n          _this3.cachedependencies[field][dependenceValue] = _this3.cachedependencies[field][dependenceValue] || {};\n          _this3.cachedependencies[field][dependenceValue][value] = _this3.cachedependencies[field][dependenceValue][value] || {};\n        }\n        // exclude autocomplete subscribers\n        if (notAutocompleteSubscribers.length) {\n          var fieldParams = _this3.createFieldsDependenciesAutocompleteParameter({\n            field: field,\n            value: value\n          });\n          //need to set undefined because if we has a subscribe input with valuerelations widget i need to extract the value of the field to get\n          // filter data from relation layer\n          _this3.searchLayer.getFilterData({\n            field: fieldParams\n          }).then(function () {\n            var _ref20 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(data) {\n              var parentData, _loop2, _i2;\n\n              return regeneratorRuntime.wrap(function _callee8$(_context9) {\n                while (1) {\n                  switch (_context9.prev = _context9.next) {\n                    case 0:\n                      parentData = data.data[0].features || [];\n                      _loop2 = /*#__PURE__*/regeneratorRuntime.mark(function _loop2(_i2) {\n                        var subscribe, attribute, widget, uniqueValues, _values, _data, filter, _values2, _dependenceValue;\n\n                        return regeneratorRuntime.wrap(function _loop2$(_context8) {\n                          while (1) {\n                            switch (_context8.prev = _context8.next) {\n                              case 0:\n                                subscribe = notAutocompleteSubscribers[_i2];\n                                attribute = subscribe.attribute, widget = subscribe.widget;\n                                uniqueValues = new Set();\n                                // case value map\n\n                                if (!(widget === 'valuemap')) {\n                                  _context8.next = 11;\n                                  break;\n                                }\n\n                                _values = [].concat(_toConsumableArray(subscribe.options._values));\n\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n                                _data = [].concat(_toConsumableArray(uniqueValues));\n\n                                _values = _values.filter(function (_ref21) {\n                                  var key = _ref21.key;\n                                  return _data.indexOf(key) !== -1;\n                                });\n                                _values.forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n                                _context8.next = 29;\n                                break;\n\n                              case 11:\n                                if (!(widget === 'valuerelation')) {\n                                  _context8.next = 27;\n                                  break;\n                                }\n\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n\n                                if (!(uniqueValues.size > 0)) {\n                                  _context8.next = 25;\n                                  break;\n                                }\n\n                                filter = createSingleFieldParameter({\n                                  field: subscribe.options.key,\n                                  value: [].concat(_toConsumableArray(uniqueValues))\n                                });\n                                _context8.prev = 15;\n                                _context8.next = 18;\n                                return _this3.getValueRelationValues(subscribe, filter);\n\n                              case 18:\n                                _values2 = _context8.sent;\n\n                                _values2.forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n                                _context8.next = 25;\n                                break;\n\n                              case 22:\n                                _context8.prev = 22;\n                                _context8.t0 = _context8['catch'](15);\n                                console.log(_context8.t0);\n\n                              case 25:\n                                _context8.next = 29;\n                                break;\n\n                              case 27:\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n                                _this3.valuesToKeysValues([].concat(_toConsumableArray(uniqueValues)).sort()).forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n\n                              case 29:\n                                if (isRoot) _this3.cachedependencies[field][value][subscribe.attribute] = subscribe.options.values.slice(1);else {\n                                  _dependenceValue = _this3.getDependanceCurrentValue(field);\n\n                                  _this3.cachedependencies[field][_dependenceValue][value][subscribe.attribute] = subscribe.options.values.slice(1);\n                                }\n                                subscribe.options.disabled = false;\n\n                              case 31:\n                              case 'end':\n                                return _context8.stop();\n                            }\n                          }\n                        }, _loop2, _this3, [[15, 22]]);\n                      });\n                      _i2 = 0;\n\n                    case 3:\n                      if (!(_i2 < notAutocompleteSubscribers.length)) {\n                        _context9.next = 8;\n                        break;\n                      }\n\n                      return _context9.delegateYield(_loop2(_i2), 't0', 5);\n\n                    case 5:\n                      _i2++;\n                      _context9.next = 3;\n                      break;\n\n                    case 8:\n                    case 'end':\n                      return _context9.stop();\n                  }\n                }\n              }, _callee8, _this3);\n            }));\n\n            return function (_x17) {\n              return _ref20.apply(this, arguments);\n            };\n          }()).catch(function (error) {\n            return reject(error);\n          }).finally(function () {\n            _this3.state.loading[field] = false;\n            resolve();\n          });\n        } else {\n          //set disable\n          subscribers.forEach(function (subscribe) {\n            if (subscribe.options.dependance_strict) subscribe.options.disabled = false;\n          });\n          _this3.state.loading[field] = false;\n          resolve();\n        }\n      }\n    } else {\n      subscribers.forEach(function (subscribe) {\n        return subscribe.options.disabled = subscribe.options.dependance_strict;\n      });\n      resolve();\n    }\n  });\n};\n\nproto.getDependencies = function (field) {\n  return this.inputdependencies[field] || [];\n};\n\nproto.setInputDependencies = function () {\n  var _ref22 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      master = _ref22.master,\n      slave = _ref22.slave;\n\n  this.inputdependencies[master] = this.inputdependencies[master] !== undefined ? this.inputdependencies[master] : [];\n  this.inputdependencies[master].push(slave);\n};\n\n//set key value for select\nproto.valuesToKeysValues = function (values) {\n  if (values.length) {\n    var type = toRawType(values[0]);\n    values = type !== 'Object' ? values.map(function (value) {\n      return {\n        key: value,\n        value: value\n      };\n    }) : values;\n  }\n  return values;\n};\n\nproto.createQueryFilterObject = function () {\n  var _ref23 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref23$ogcService = _ref23.ogcService,\n      ogcService = _ref23$ogcService === undefined ? 'wms' : _ref23$ogcService,\n      _ref23$filter = _ref23.filter,\n      filter = _ref23$filter === undefined ? {} : _ref23$filter;\n\n  var info = this.getInfoFromLayer(ogcService);\n  Object.assign(info, {\n    ogcService: ogcService,\n    filter: filter\n  });\n  return info;\n};\n\nproto.getInfoFromLayer = function (ogcService) {\n  var queryUrl = ogcService === 'wfs' ? this.searchLayer.getProject().getWmsUrl() : this.searchLayer.getQueryUrl();\n  return {\n    url: queryUrl,\n    layers: [],\n    infoFormat: this.searchLayer.getInfoFormat(ogcService),\n    crs: this.searchLayer.getCrs(),\n    serverType: this.searchLayer.getServerType()\n  };\n};\n\nproto.setSearchLayer = function (layer) {\n  this.searchLayer = layer;\n};\n\nproto.getSearchLayer = function () {\n  return this.searchLayer;\n};\n\nproto.clear = function () {\n  this.state = null;\n};\n\nmodule.exports = SearchService;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/utils/utils\":67,\"gui/search/vue/panel/searchpanel\":176,\"services/data\":357,\"services/gui\":360,\"store/catalog-layers\":373,\"store/projects\":378}],178:[function(require,module,exports){\nvar _Search = require('components/Search.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Search);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/search/service');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction SearchComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"search\";\n  this._service = options.service || new Service();\n  this._service.init();\n  this.title = this._service.getTitle();\n  this.internalComponent = new InternalComponent({\n    service: this._service\n  });\n  this.internalComponent.state = this._service.state;\n  this.state.visible = true;\n  this._reload = function () {\n    this._service.reload();\n  };\n  this.unmount = function () {\n    this._searches_searchtools.$destroy();\n    return base(this, 'unmount');\n  };\n}\n\ninherit(SearchComponent, Component);\n\nmodule.exports = SearchComponent;\n\n},{\"components/Search.vue\":289,\"core/utils/utils\":67,\"gui/component/component\":116,\"gui/search/service\":175}],179:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nexports.default = new Vue();\n\n},{}],180:[function(require,module,exports){\nvar _SpatialBookMarks = require('components/SpatialBookMarks.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_SpatialBookMarks);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * @file\n * @since v3.8\n */\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar SpatialBookMarksComponent = function SpatialBookMarksComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = \"sdk.spatialbookmarks.title\";\n  this.setInternalComponent = function () {\n    this.internalComponent = new InternalComponent();\n    return this.internalComponent;\n  };\n\n  _gui2.default.on('closecontent', function () {\n    _this.state.open = false;\n  });\n};\n\ninherit(SpatialBookMarksComponent, Component);\n\nmodule.exports = SpatialBookMarksComponent;\n\n},{\"components/SpatialBookMarks.vue\":299,\"core/utils/utils\":67,\"gui/component/component\":116,\"services/gui\":360}],181:[function(require,module,exports){\nvar _StreetView = require('components/StreetView.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_StreetView);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar StreetViewComponent = function StreetViewComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var keyError = options.keyError;\n\n  var internalComponent = new InternalComponent({\n    keyError: keyError\n  });\n  this.setInternalComponent(internalComponent);\n  this.unmount = function () {\n    return base(this, 'unmount');\n  };\n};\n\ninherit(StreetViewComponent, Component);\n\nmodule.exports = StreetViewComponent;\n\n},{\"components/StreetView.vue\":300,\"core/utils/utils\":67,\"gui/component/component\":116}],182:[function(require,module,exports){\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    noop = _require.noop;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar _require3 = require('core/utils/geo'),\n    coordinatesToGeometry = _require3.coordinatesToGeometry;\n\nvar _require4 = require('core/layers/layer'),\n    SELECTION_STATE = _require4.SELECTION_STATE;\n\nvar PAGELENGTHS = [10, 25, 50];\n\nvar TableService = function TableService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.currentPage = 0; // number of pages\n  this.layer = options.layer;\n  this.formatter = options.formatter;\n  var headers = this.getHeaders();\n  this.allfeaturesnumber;\n  this.nopaginationsfilter = [];\n  this.selectedfeaturesfid = this.layer.getSelectionFids();\n  this.geolayer = this.layer.isGeoLayer();\n  this.relationsGeometry = [];\n  !this.geolayer && this.layer.getRelations().getArray().forEach(function (relation) {\n    var relationLayer = _catalogLayers2.default.getLayerById(relation.getChild());\n    if (relationLayer.isGeoLayer()) {\n      _this.relationsGeometry.push({\n        layer: relationLayer,\n        child_field: relation.getChildField(),\n        field: relation.getFatherField(),\n        features: {}\n      });\n    }\n  });\n  this.projection = this.geolayer ? this.layer.getProjection() : null;\n  this.mapService = _gui2.default.getService('map');\n  this.getAll = false;\n  this.paginationfilter = false;\n  this.mapBBoxEventHandlerKey = {\n    key: null,\n    cb: null\n  };\n  this.clearAllSelection = function () {\n    _this.state.features.forEach(function (feature) {\n      return feature.selected = false;\n    });\n    _this.state.tools.show = false;\n    _this.state.selectAll = false;\n  };\n  this.state = {\n    pageLengths: PAGELENGTHS,\n    pageLength: this.layer.getAttributeTablePageLength() || PAGELENGTHS[0],\n    features: [],\n    title: this.layer.getTitle(),\n    headers: headers,\n    geometry: true,\n    loading: false,\n    allfeatures: 0,\n    pagination: !this.getAll,\n    selectAll: false,\n    nofilteredrow: false,\n    tools: {\n      geolayer: {\n        show: this.geolayer,\n        active: false,\n        in_bbox: void 0\n      },\n      show: false,\n      filter: this.layer.state.filter\n    }\n  };\n  // pagination filter features\n  this._async = {\n    state: false,\n    fnc: noop\n  };\n  _gui2.default.onbefore('setContent', function (options) {\n    _this._async.state = options.perc === 100;\n  });\n  this.layer.on('unselectionall', this.clearAllSelection);\n  this.filterChangeHandler = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        type = _ref2.type;\n\n    var data, emitRedraw;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _this.allfeaturesnumber = undefined;\n            data = [];\n            // emit redraw if in_bbox filter or not select all\n\n            emitRedraw = type === 'in_bbox' || !_this.selectedfeaturesfid.has(SELECTION_STATE.ALL);\n\n            if (_this.state.pagination) {\n              _context.next = 12;\n              break;\n            }\n\n            if (!emitRedraw) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.next = 7;\n            return _this.reloadData();\n\n          case 7:\n            _context.t0 = _context.sent;\n            _context.next = 11;\n            break;\n\n          case 10:\n            _context.t0 = [];\n\n          case 11:\n            data = _context.t0;\n\n          case 12:\n            emitRedraw && _this.emit('redraw', data);\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  }));\n  this.layer.on('filtertokenchange', this.filterChangeHandler);\n};\n\ninherit(TableService, G3WObject);\n\nvar proto = TableService.prototype;\n\nproto.toggleFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return this.layer.toggleFilterToken();\n\n        case 2:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\nproto.getHeaders = function () {\n  //add null as firs vale of header because need to add a custom input selector fro datatable purpose\n  return [null].concat(_toConsumableArray(this.layer.getTableHeaders()));\n};\n\n// function need to work with pagination\nproto.setDataForDataTable = function () {\n  var _this2 = this;\n\n  var data = [];\n  this.state.features.forEach(function (feature) {\n    var attributes = feature.attributes ? feature.attributes : feature.properties;\n    var values = [null];\n    _this2.state.headers.forEach(function (header) {\n      if (header) {\n        var value = attributes[header.name];\n        header.value = value;\n        //header.label = undefined; // removed label\n        values.push(value);\n      }\n    });\n    data.push(values);\n  });\n  return data;\n};\n\nproto.addRemoveSelectedFeature = function (feature) {\n  feature.selected = !feature.selected;\n  if (this.state.selectAll) {\n    this.state.selectAll = false;\n    this.layer.excludeSelectionFid(feature.id, this.state.pagination);\n  } else if (this.selectedfeaturesfid.has(SELECTION_STATE.EXCLUDE)) {\n    this.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n    var size = this.selectedfeaturesfid.size;\n    if (size === 1) {\n      !this.state.tools.filter.active && this.layer.setSelectionFidsAll();\n      this.state.selectAll = true;\n    } else if (size - 1 === this.state.features.length) this.layer.clearSelectionFids();\n  } else {\n    this.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n    var _size = this.selectedfeaturesfid.size;\n    if (_size === this.allfeaturesnumber) {\n      this.state.selectAll = true;\n      !this.state.tools.filter.active && this.layer.setSelectionFidsAll();\n    }\n  }\n  this.state.tools.show = this.selectedfeaturesfid.size > 0;\n  if (!this.state.pagination) {\n    if (this.nopaginationsfilter.length) {\n      this.state.selectAll = this.state.features.filter(function (feature) {\n        return feature.selected;\n      }).length === this.nopaginationsfilter.length;\n    }\n  }\n};\n\nproto.createFeatureForSelection = function (feature) {\n  return {\n    attributes: feature.attributes ? feature.attributes : feature.properties,\n    geometry: this._returnGeometry(feature)\n  };\n};\n\nproto.getAllFeatures = function (params) {\n  var _this3 = this;\n\n  _gui2.default.setLoadingContent(true);\n  return new Promise(function (resolve, reject) {\n    _this3.layer.getDataTable(params || {}).then(function (data) {\n      var features = data.features;\n\n      if (_this3.geolayer && features) {\n        if (!params) {\n          var LoadedFeaturesId = _this3.state.features.map(function (feature) {\n            return feature.id;\n          });\n          features.forEach(function (feature) {\n            if (LoadedFeaturesId.indexOf(feature.id) === -1) {\n              feature.geometry && _this3.layer.addOlSelectionFeature({\n                id: feature.id,\n                feature: _this3.createFeatureForSelection(feature)\n              });\n            }\n          });\n          _this3.getAll = true;\n        }\n        resolve(features);\n      }\n    }).fail(function () {\n      return reject();\n    }).always(function () {\n      return _gui2.default.setLoadingContent(false);\n    });\n  });\n};\n\nproto.switchSelection = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _this4 = this;\n\n  var selected, filterFeatures, _selected;\n\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (this.state.pagination) {\n            _context3.next = 4;\n            break;\n          }\n\n          // no pagination\n          if (this.nopaginationsfilter.length) {\n            //filtered\n            selected = false;\n            filterFeatures = [];\n\n            this.state.features.forEach(function (feature, index) {\n              if (_this4.nopaginationsfilter.indexOf(index) !== -1) filterFeatures.push(feature);\n              feature.selected = !feature.selected;\n              _this4.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n              selected = selected || feature.selected;\n            });\n            this.state.tools.show = selected;\n            this.checkSelectAll(filterFeatures);\n          } else {\n            // no filter\n            this.state.features.forEach(function (feature) {\n              feature.selected = !feature.selected;\n            });\n            this.layer.invertSelectionFids();\n            this.checkSelectAll();\n            this.state.tools.show = this.selectedfeaturesfid.size > 0;\n          }\n          _context3.next = 13;\n          break;\n\n        case 4:\n          // pagination\n          _selected = false;\n\n          this.state.features.forEach(function (feature) {\n            feature.selected = !feature.selected;\n            _selected = feature.selected;\n          });\n          _context3.t0 = !this.getAll;\n\n          if (!_context3.t0) {\n            _context3.next = 10;\n            break;\n          }\n\n          _context3.next = 10;\n          return this.getAllFeatures();\n\n        case 10:\n          this.state.selectAll = this.paginationfilter ? _selected : this.state.selectAll;\n          this.layer.invertSelectionFids();\n          this.state.tools.show = this.selectedfeaturesfid.size > 0;\n\n        case 13:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this);\n}));\n\nproto.clearLayerSelection = function () {\n  this.layer.clearSelectionFids();\n};\n\n/**\n * Called when alla selected feature is checked\n * @returns {Promise<void>}\n */\nproto.selectAllFeatures = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n  var _this5 = this;\n\n  var selected, _paginationParams, search, ordering, formatter, in_bbox, features;\n\n  return regeneratorRuntime.wrap(function _callee4$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          // set inverse of selectAll\n          this.state.selectAll = !this.state.selectAll;\n\n          if (this.state.pagination) {\n            _context4.next = 5;\n            break;\n          }\n\n          //no pagination no filter\n          if (this.nopaginationsfilter.length) {\n            //check if filter is set (no pagination)\n            selected = false;\n\n            this.state.features.forEach(function (feature, index) {\n              if (_this5.nopaginationsfilter.indexOf(index) !== -1) {\n                feature.selected = _this5.state.selectAll;\n                _this5.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n                selected = selected || feature.selected;\n              }\n            });\n            this.state.tools.show = selected;\n          } else {\n            this.state.tools.show = this.state.selectAll;\n            this.layer[this.state.selectAll ? 'setSelectionFidsAll' : 'clearSelectionFids']();\n            this.state.features.forEach(function (feature) {\n              return feature.selected = _this5.state.selectAll;\n            });\n          }\n          _context4.next = 25;\n          break;\n\n        case 5:\n          if (!this.paginationfilter) {\n            _context4.next = 18;\n            break;\n          }\n\n          if (!(this.state.featurescount >= this.state.allfeatures)) {\n            _context4.next = 10;\n            break;\n          }\n\n          this.state.features.forEach(function (feature) {\n            feature.selected = _this5.state.selectAll;\n            _this5.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n          });\n          _context4.next = 15;\n          break;\n\n        case 10:\n          _paginationParams = this.paginationParams, search = _paginationParams.search, ordering = _paginationParams.ordering, formatter = _paginationParams.formatter, in_bbox = _paginationParams.in_bbox;\n          _context4.next = 13;\n          return this.getAllFeatures({\n            search: search,\n            ordering: ordering,\n            formatter: formatter,\n            in_bbox: in_bbox\n          });\n\n        case 13:\n          features = _context4.sent;\n\n          features.forEach(function (feature) {\n            !_this5.getAll && _this5.geolayer && feature.geometry && _this5.layer.addOlSelectionFeature({\n              id: feature.id,\n              feature: _this5.createFeatureForSelection(feature)\n            });\n            _this5.layer[_this5.state.selectAll ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n          });\n\n        case 15:\n          this.state.features.forEach(function (feature) {\n            return feature.selected = _this5.state.selectAll;\n          });\n          _context4.next = 24;\n          break;\n\n        case 18:\n          this.state.features.forEach(function (feature) {\n            return feature.selected = _this5.state.selectAll;\n          });\n          _context4.t0 = !this.getAll;\n\n          if (!_context4.t0) {\n            _context4.next = 23;\n            break;\n          }\n\n          _context4.next = 23;\n          return this.getAllFeatures();\n\n        case 23:\n          this.layer[this.state.selectAll ? 'setSelectionFidsAll' : 'clearSelectionFids']();\n\n        case 24:\n          this.state.tools.show = this.state.selectAll || this.selectedfeaturesfid.size > 0;\n\n        case 25:\n        case 'end':\n          return _context4.stop();\n      }\n    }\n  }, _callee4, this);\n}));\n\n/**\n * Method to set filtered features\n * @param featuresIndex\n */\nproto.setFilteredFeature = function (featuresIndex) {\n  var _this6 = this;\n\n  this.nopaginationsfilter = featuresIndex;\n  this.checkSelectAll(featuresIndex.length === this.allfeaturesnumber || featuresIndex.length === 0 ? undefined : this.nopaginationsfilter.map(function (index) {\n    return _this6.state.features[index];\n  }));\n};\n\nproto.setAttributeTablePageLength = function (length) {\n  this.layer.setAttributeTablePageLength(length);\n};\n\n/**\n * Main method to get data table layer\n * @param start\n * @param order\n * @param length\n * @param columns\n * @param search\n * @param firstCall\n * @returns {Promise<unknown>}\n */\nproto.getData = function () {\n  var _this7 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$start = _ref6.start,\n      start = _ref6$start === undefined ? 0 : _ref6$start,\n      _ref6$order = _ref6.order,\n      order = _ref6$order === undefined ? [] : _ref6$order,\n      _ref6$length = _ref6.length,\n      length = _ref6$length === undefined ? this.state.pageLength : _ref6$length,\n      _ref6$columns = _ref6.columns,\n      columns = _ref6$columns === undefined ? [] : _ref6$columns,\n      _ref6$search = _ref6.search,\n      search = _ref6$search === undefined ? { value: null } : _ref6$search,\n      _ref6$firstCall = _ref6.firstCall,\n      firstCall = _ref6$firstCall === undefined ? false : _ref6$firstCall;\n\n  // reset features before load\n  _gui2.default.setLoadingContent(true);\n  this.setAttributeTablePageLength(length);\n  return new Promise(function (resolve, reject) {\n    if (!_this7.state.headers.length) resolve({\n      data: [],\n      recordsTotal: 0,\n      recordsFiltered: 0\n    });else {\n      var searchText = search.value && search.value.length > 0 ? search.value : null;\n      _this7.state.features.splice(0);\n      if (!order.length) {\n        order.push({\n          column: 1,\n          dir: 'asc'\n        });\n      }\n      var ordering = order[0].dir === 'asc' ? _this7.state.headers[order[0].column].name : '-' + _this7.state.headers[order[0].column].name;\n      _this7.currentPage = start === 0 || _this7.state.pagination && _this7.state.tools.filter.active ? 1 : start / length + 1;\n      var in_bbox = _this7.state.tools.geolayer.in_bbox;\n      var field = _this7.state.pagination ? columns.filter(function (column) {\n        return column.search && column.search.value;\n      }).map(function (column) {\n        return column.name + '|ilike|' + column.search.value + '|and';\n      }).join(',') : undefined;\n      _this7.paginationParams = {\n        field: field || undefined,\n        page: _this7.currentPage,\n        page_size: length,\n        search: searchText,\n        in_bbox: in_bbox,\n        formatter: _this7.formatter,\n        ordering: ordering\n      };\n      var getDataPromise = _this7.state.pagination ? _this7.layer.getDataTable(_this7.paginationParams) : _this7.layer.getDataTable({\n        ordering: ordering,\n        in_bbox: in_bbox,\n        formatter: _this7.formatter\n      });\n      getDataPromise.then(function (data) {\n        var _data$features = data.features,\n            features = _data$features === undefined ? [] : _data$features;\n\n        _this7.state.allfeatures = data.count || _this7.state.features.length;\n        _this7.state.featurescount = features.length;\n        _this7.allfeaturesnumber = _this7.allfeaturesnumber === undefined ? data.count : _this7.allfeaturesnumber;\n        _this7.paginationfilter = data.count !== _this7.allfeaturesnumber;\n        _this7.state.pagination = firstCall ? _this7.state.tools.filter.active || features.length < _this7.allfeaturesnumber : _this7.state.pagination;\n        _this7.addFeatures(features);\n        resolve({\n          data: _this7.setDataForDataTable(),\n          recordsFiltered: data.count,\n          recordsTotal: data.count\n        });\n      }).fail(function (err) {\n        _gui2.default.notify.error(t(\"info.server_error\"));\n        reject(err);\n      }).always(function () {\n        _gui2.default.setLoadingContent(false);\n      });\n    }\n  });\n};\n\nproto.setInBBoxParam = function () {\n  this.state.tools.geolayer.in_bbox = this.state.tools.geolayer.active ? this.mapService.getMapBBOX().join(',') : void 0;\n};\n\nproto.resetMapBBoxEventHandlerKey = function () {\n  ol.Observable.unByKey(this.mapBBoxEventHandlerKey.key);\n  this.mapBBoxEventHandlerKey.key = null;\n  this.mapBBoxEventHandlerKey.cb = null;\n};\n\nproto.getDataFromBBOX = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n  var _this8 = this;\n\n  return regeneratorRuntime.wrap(function _callee6$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          this.state.tools.geolayer.active = !this.state.tools.geolayer.active;\n          if (this.state.tools.geolayer.active) {\n            this.mapBBoxEventHandlerKey.cb = this.state.pagination ? function () {\n              _this8.setInBBoxParam();\n              _this8.emit('ajax-reload');\n            } : _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n              return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                while (1) {\n                  switch (_context5.prev = _context5.next) {\n                    case 0:\n                      _this8.setInBBoxParam();\n                      _this8.filterChangeHandler({\n                        type: 'in_bbox'\n                      });\n\n                    case 2:\n                    case 'end':\n                      return _context5.stop();\n                  }\n                }\n              }, _callee5, _this8);\n            }));\n            this.mapBBoxEventHandlerKey.key = this.mapService.getMap().on('moveend', this.mapBBoxEventHandlerKey.cb);\n            this.mapBBoxEventHandlerKey.cb();\n          } else {\n            this.mapBBoxEventHandlerKey.cb && this.mapBBoxEventHandlerKey.cb();\n            this.resetMapBBoxEventHandlerKey();\n          }\n\n        case 2:\n        case 'end':\n          return _context6.stop();\n      }\n    }\n  }, _callee6, this);\n}));\n\nproto.addFeature = function (feature) {\n  var tableFeature = {\n    id: feature.id,\n    selected: this.state.tools.filter.active || this.layer.hasSelectionFid(feature.id),\n    attributes: feature.attributes ? feature.attributes : feature.properties\n  };\n  if (this.geolayer && feature.geometry) {\n    this.layer.getOlSelectionFeature(tableFeature.id) || this.layer.addOlSelectionFeature({\n      id: tableFeature.id,\n      feature: this.createFeatureForSelection(feature)\n    });\n    tableFeature.geometry = feature.geometry;\n  }\n  this.state.features.push(tableFeature);\n};\n\nproto.checkSelectAll = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.features;\n\n  this.state.selectAll = this.selectedfeaturesfid.has(SELECTION_STATE.ALL) || features.length && features.reduce(function (accumulator, feature) {\n    return accumulator && feature.selected;\n  }, true);\n};\n\nproto.addFeatures = function () {\n  var _this9 = this;\n\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features.forEach(function (feature) {\n    return _this9.addFeature(feature);\n  });\n  this.state.tools.show = this.layer.getFilterActive() || this.selectedfeaturesfid.size > 0;\n  this.checkSelectAll();\n};\n\nproto.reloadData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n  var pagination = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var tabledata, _tabledata$data, data, reloadData;\n\n  return regeneratorRuntime.wrap(function _callee7$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          this.state.features.splice(0);\n          this.state.pagination = pagination;\n          _context7.next = 4;\n          return this.getData();\n\n        case 4:\n          tabledata = _context7.sent;\n          _tabledata$data = tabledata.data, data = _tabledata$data === undefined ? [] : _tabledata$data, reloadData = tabledata.reloadData;\n          return _context7.abrupt('return', data);\n\n        case 7:\n        case 'end':\n          return _context7.stop();\n      }\n    }\n  }, _callee7, this);\n}));\n\nproto._setLayout = function () {\n  //TODO\n};\n\nproto._returnGeometry = function (feature) {\n  var geometry = void 0;\n  if (feature.attributes) geometry = feature.geometry;else if (feature.geometry) geometry = coordinatesToGeometry(feature.geometry.type, feature.geometry.coordinates);\n  return geometry;\n};\n\nproto.zoomAndHighLightFeature = function (feature) {\n  var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  var geometry = feature.geometry;\n  if (geometry) {\n    if (this._async.state) this._async.fnc = this.mapService.highlightGeometry.bind(mapService, geometry, { zoom: zoom });else this.mapService.highlightGeometry(geometry, { zoom: zoom });\n  }\n};\n\n/**\n * Zoom to eventually features relation\n */\nproto.zoomAndHighLightGeometryRelationFeatures = function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(feature) {\n    var _this10 = this;\n\n    var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var features, promises, values, promisesData;\n    return regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            if (!this.relationsGeometry.length) {\n              _context8.next = 10;\n              break;\n            }\n\n            features = [];\n            promises = [];\n            values = []; // usefult to check if add or not\n\n            this.relationsGeometry.forEach(function (_ref11) {\n              var layer = _ref11.layer,\n                  child_field = _ref11.child_field,\n                  field = _ref11.field,\n                  features = _ref11.features;\n\n              var value = feature.attributes[field];\n              values.push(value);\n              if (features[value] === undefined) {\n                var promise = void 0;\n                if (zoom) {\n                  promise = _data2.default.getData('search:features', {\n                    inputs: {\n                      layer: layer,\n                      filter: child_field + '|eq|' + value,\n                      formatter: 1, // set formatter to 1\n                      search_endpoint: 'api'\n                    },\n                    outputs: false\n                  });\n                } else promise = Promise.reject();\n                promises.push(promise);\n              } else promises.push(Promise.resolve({\n                data: [{\n                  features: features[value]\n                }]\n              }));\n            });\n            _context8.next = 7;\n            return Promise.allSettled(promises);\n\n          case 7:\n            promisesData = _context8.sent;\n\n            promisesData.forEach(function (_ref12, index) {\n              var status = _ref12.status,\n                  value = _ref12.value;\n\n              if (status === 'fulfilled') {\n                var _features = value.data[0] ? value.data[0].features : [];\n                _features.forEach(function (feature) {\n                  return features.push(feature);\n                });\n                if (_this10.relationsGeometry[index].features[values[index]] === undefined) {\n                  _this10.relationsGeometry[index].features[values[index]] = _features;\n                }\n              }\n            });\n            zoom ? this.mapService.zoomToFeatures(features, {\n              highlight: true\n            }) : this.mapService.highlightFeatures(features);\n\n          case 10:\n          case 'end':\n            return _context8.stop();\n        }\n      }\n    }, _callee8, this);\n  }));\n\n  return function (_x9) {\n    return _ref10.apply(this, arguments);\n  };\n}();\n\nproto.clear = function () {\n  var _this11 = this;\n\n  this.layer.off('unselectionall', this.clearAllSelection);\n  this.layer.off('filtertokenchange', this.filterChangeHandler);\n  this.resetMapBBoxEventHandlerKey();\n  this.allfeaturesnumber = null;\n  this.mapService = null;\n  this._async.state && setTimeout(function () {\n    _this11._async.fnc();\n    _this11._async.state = false;\n    _this11._async.fnc = noop;\n  });\n};\n\nmodule.exports = TableService;\n\n},{\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/layer\":34,\"core/utils/geo\":64,\"core/utils/utils\":67,\"services/data\":357,\"services/gui\":360,\"store/catalog-layers\":373}],183:[function(require,module,exports){\nvar _Table = require('components/Table.vue');\n\nvar _Table2 = _interopRequireDefault(_Table);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    base = _require2.base,\n    inherit = _require2.inherit;\n\nvar Component = require('gui/component/component');\nvar TableService = require('gui/table/tableservice');\n\nvar InternalComponent = Vue.extend(_Table2.default);\n\nvar TableComponent = function TableComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this.id = \"openattributetable\";\n  var layer = options.layer,\n      formatter = options.formatter;\n\n  var service = options.service || new TableService({\n    layer: layer,\n    formatter: formatter\n  });\n\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    service: service\n  });\n\n  this.setInternalComponent(internalComponent);\n  internalComponent.state = service.state;\n\n  service.on('redraw', function () {\n    _this.layout();\n  });\n\n  this.unmount = function () {\n    return base(this, 'unmount');\n  };\n\n  this.layout = function () {\n    internalComponent.reloadLayout();\n  };\n};\n\ninherit(TableComponent, Component);\n\nvar proto = TableComponent.prototype;\n\n// overwrite show method\nproto.show = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var service = this.getService();\n  // close all sidebar open component\n  _gui2.default.closeOpenSideBarComponent();\n  service.getData({ firstCall: true }).then(function () {\n    _gui2.default.showContent({\n      content: _this2,\n      perc: 50,\n      split: _gui2.default.isMobile() ? 'h' : 'v',\n      push: false,\n      title: options.title\n    });\n  }).catch(function (err) {\n    return _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    return _this2.emit('show');\n  });\n};\n\nproto.unmount = function () {\n  var _this3 = this;\n\n  return base(this, 'unmount').then(function () {\n    _this3._service.clear();\n  });\n};\n\nmodule.exports = TableComponent;\n\n},{\"components/Table.vue\":301,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"gui/component/component\":116,\"gui/table/tableservice\":182,\"services/gui\":360}],184:[function(require,module,exports){\nmodule.exports = \"<div class=\\\"error-initial-page skin-background-color\\\">\\n  <template v-if=\\\"isMobile()\\\">\\n    <h3 class=\\\"oops\\\">Oops!</h3>\\n    <h5 class=\\\"cause\\\">{{messages.error}}</h5>\\n    <h6 class=\\\"at-moment\\\">{{ messages.at_moment }}</h6>\\n    <h4 class=\\\"f5\\\">{{ messages.f5}}</h4>\\n  </template>\\n  <template v-else>\\n    <h1 class=\\\"oops\\\">Oops!</h1>\\n    <h1 class=\\\"cause\\\">{{messages.error}}</h1>\\n    <h3 class=\\\"at-moment\\\">{{ messages.at_moment }}</h3>\\n    <h2 class=\\\"f5\\\">{{ messages.f5}}</h2>\\n  </template>\\n\\n</div>\\n\";\n\n},{}],185:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Service() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = null;\n  this.state = _extends({}, options, {\n    toolsGroups: [],\n    visible: false,\n    loading: false\n  });\n  this.setters = {\n    addTool: function addTool(tool, groupName) {\n      tool.state = tool.state ? tool.state : {\n        type: null,\n        message: null\n      };\n      return this._addTool(tool, groupName);\n    },\n    addTools: function addTools(tools, groupName) {\n      return this._addTools(tools, groupName);\n    },\n    addToolGroup: function addToolGroup(order, name) {\n      return this._addToolGroup(order, name);\n    },\n    removeToolGroup: function removeToolGroup(name) {\n      return this._removeToolGroup(name);\n    },\n    removeTools: function removeTools() {\n      return this._removeTools();\n    }\n  };\n\n  base(this);\n\n  var project = _projects2.default.getCurrentProject();\n\n  var _project$getState = project.getState(),\n      _project$getState$too = _project$getState.tools,\n      tools = _project$getState$too === undefined ? {} : _project$getState$too;\n\n  var _loop = function _loop(toolName) {\n    var groupName = toolName.toUpperCase();\n    _this.addToolGroup(0, groupName);\n    var _tools = tools[toolName].map(function (tool) {\n      return {\n        name: tool.name,\n        action: ToolsService.ACTIONS[toolName].bind(null, tool)\n      };\n    });\n    _this.addTools(_tools, { position: 0, title: groupName });\n  };\n\n  for (var toolName in tools) {\n    _loop(toolName);\n  }\n}\n\ninherit(Service, G3WObject);\n\nvar proto = Service.prototype;\n\nproto.reload = function () {\n  this.removeTools();\n};\n\nproto._addTool = function (tool, _ref) {\n  var order = _ref.position,\n      name = _ref.title;\n\n  var group = this._addToolGroup(order, name);\n  if (tool.action === undefined && tool.type) tool.action = Service.ACTIONS[tool.type] ? Service.ACTIONS[tool.type].bind(null, tool.options) : function () {};\n  group.tools.push(tool);\n};\n\nproto._addTools = function (tools, groupName) {\n  var _this2 = this;\n\n  tools.forEach(function (tool) {\n    return _this2.addTool(tool, groupName);\n  });\n};\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto._removeTool = function (toolIdx) {\n  this.state.toolsGroups = this.state.toolsGroups.splice(toolIdx, 1);\n};\n\nproto._removeTools = function () {\n  this.state.toolsGroups.splice(0);\n};\n\nproto.updateToolsGroup = function (order, groupConfig) {\n  Vue.set(this.state.toolsGroups, order, groupConfig);\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto._removeToolGroup = function (name) {\n  this.state.toolsGroups = this.state.toolsGroups.filter(function (group) {\n    return group.name !== name;\n  });\n};\n\nproto._addToolGroup = function (order, name) {\n  var group = this.state.toolsGroups.find(function (_group) {\n    return _group.name === name;\n  });\n  if (!group) {\n    group = {\n      name: name,\n      tools: []\n    };\n    this.state.toolsGroups.splice(order, 0, group);\n  }\n  return group;\n};\n\nproto.setToolState = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      _ref2$state = _ref2.state,\n      state = _ref2$state === undefined ? { type: null, message: null } : _ref2$state;\n\n  this.state.toolsGroups.find(function (toolGroup) {\n    var tool = toolGroup.tools.find(function (tool) {\n      return tool.name === id;\n    });\n    if (tool) {\n      tool.state.type = state.type;\n      tool.state.message = state.message;\n      return true;\n    }\n  });\n};\n\nService.ACTIONS = {};\n\nmodule.exports = Service;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"store/projects\":378}],186:[function(require,module,exports){\nvar _Tools = require('components/Tools.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Tools);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar ToolsService = require('gui/tools/service');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ToolsComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._service = new ToolsService(options);\n  this.title = \"tools\";\n\n  var internalComponent = new InternalComponent({\n    toolsService: this._service\n  });\n\n  internalComponent.state = this._service.state;\n  this.setInternalComponent(internalComponent, {\n    events: [{ name: 'visible' }]\n  });\n\n  this._setOpen = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.internalComponent.state.open = bool;\n    bool && _gui2.default.closeContent();\n  };\n}\n\ninherit(ToolsComponent, Component);\n\nmodule.exports = ToolsComponent;\n\n},{\"components/Tools.vue\":306,\"core/utils/utils\":67,\"gui/component/component\":116,\"gui/tools/service\":185,\"services/gui\":360}],187:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    resolve = _require.resolve,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Component = require('gui/component/component');\nvar Panel = require('gui/panel');\n\n//Barstack Class\n// It used to mount panels stack\n// on top of each parent\nfunction BarStack() {\n  this._parent = null;\n  // barstack state. It store the panels array\n  this.state = {\n    contentsdata: []\n  };\n}\n\ninherit(BarStack, G3WObject);\n\nvar proto = BarStack.prototype;\n\n// push componenet on top of parent\nproto.push = function (content) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // parent identify the DOM element where insert (append o meno) the component/panel\n  this._parent = options.parent;\n  // call barstack mount method\n  return this._mount(content, options);\n};\n\n// remove last component from stack\nproto.pop = function () {\n  var _this = this;\n\n  var d = $.Deferred();\n  if (this.state.contentsdata.length) {\n    var content = this.state.contentsdata.slice(-1)[0].content;\n    this._unmount(content).then(function () {\n      var content = _this.state.contentsdata.pop();\n      d.resolve(content);\n    });\n  } else d.resolve();\n  return d.promise();\n};\n\n// clear all stack\nproto.clear = function () {\n  var _this2 = this;\n\n  var d = $.Deferred();\n  if (this.state.contentsdata.length) {\n    var unmountRequests = [];\n    this.state.contentsdata.forEach(function (data) {\n      unmountRequests.push(_this2._unmount(data.content));\n    });\n    $.when(unmountRequests).then(function () {\n      _this2.state.contentsdata.splice(0, _this2.state.contentsdata.length);\n      d.resolve();\n    });\n  } else d.resolve();\n  return d.promise();\n};\n\nproto.getContentData = function () {\n  return this.state.contentsdata;\n};\n\nproto.getCurrentContentData = function () {\n  return this.state.contentsdata[this.state.contentsdata.length - 1];\n};\n\nproto.getPreviousContentData = function () {\n  return this.state.contentsdata[this.state.contentsdata.length - 2];\n};\n\n// mount component\nproto._mount = function (content, options) {\n  // check the type of content:\n  // JQuery type\n  if (content instanceof jQuery) return this._setJqueryContent(content);\n  //String\n  else if (_.isString(content)) {\n      var jqueryEl = $(content);\n      if (!jqueryEl.length) jqueryEl = $('<div>' + content + '</div>');\n      return this._setJqueryContent(jqueryEl);\n    }\n    // Vue\n    else if (content.mount && typeof content.mount == 'function') {\n        this._checkDuplicateVueContent(content); // if already exist it removed before based on id\n        return this._setVueContent(content, options);\n      }\n      // DOM\n      else return this._setDOMContent(content);\n};\n\n// JQuery append jQuery component\nproto._setJqueryContent = function (content, options) {\n  $(this._parent).append(content);\n  this.state.contentsdata.push({\n    content: content,\n    options: options\n  });\n  return resolve();\n};\n\n//Append DOM element\nproto._setDOMContent = function (content, options) {\n  this._parent.appendChild(content);\n  this.state.contentsdata.push({\n    content: content,\n    options: options\n  });\n  return resolve();\n};\n\n// Mount component to parent\nproto._setVueContent = function (content) {\n  var _this3 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  var append = options.append || false;\n  content.mount(this._parent, append).then(function () {\n    $(_this3._parent).localize();\n    // Insert the content into the array with the following attributes:\n    // content: component object\n    // options: es. title, perc etc ...\n    _this3.state.contentsdata.push({\n      content: content,\n      options: options\n    });\n    d.resolve(content);\n  });\n  return d.promise();\n};\n\n// Check duplicate Vue Content\nproto._checkDuplicateVueContent = function (content) {\n  var _this4 = this;\n\n  var idxToRemove = null;\n  var id = content.getId();\n  this.state.contentsdata.forEach(function (data, idx) {\n    if (data.content.getId && data.content.getId() == id) idxToRemove = idx;\n  });\n  if (!_.isNull(idxToRemove)) {\n    var data = this.state.contentsdata[idxToRemove];\n    data.content.unmount().then(function () {\n      return _this4.state.contentsdata.splice(idxToRemove, 1);\n    });\n  }\n};\n\n// unmount component\nproto._unmount = function (content) {\n  var d = $.Deferred();\n  if (content instanceof Component || content instanceof Panel) {\n    content.unmount().then(function () {\n      return d.resolve();\n    });\n  } else {\n    $(this._parent).empty();\n    d.resolve();\n  }\n  return d.promise();\n};\n\nproto.forEach = function (cbk) {\n  this.state.contentsdata.forEach(function (data) {\n    return cbk(data.content);\n  });\n};\n\n// Get lenght / numbero of element stored in stack\nproto.getLength = function () {\n  return this.state.contentsdata.length;\n};\n\nmodule.exports = BarStack;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"gui/component/component\":116,\"gui/panel\":161}],188:[function(require,module,exports){\nmodule.exports = {\n  barstack: require('./barstack')\n};\n\n},{\"./barstack\":187}],189:[function(require,module,exports){\nvar _ViewportContentsViewer = require('components/ViewportContentsViewer.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_ViewportContentsViewer);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('gui/utils/utils'),\n    Stack = _require2.barstack;\n\nvar Component = require('gui/component/component');\n\n// Internal Component (VUE) of the content of the  viewport\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ContentsViewerComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.stack = new Stack();\n  this.setService(this);\n  this.title = \"contents\";\n  this.contentsdata = this.stack.state.contentsdata;\n  this.state.visible = true;\n  var internalComponent = new InternalComponent({\n    service: this\n  });\n  this.setInternalComponent(internalComponent);\n  this.internalComponent.state = this.state;\n}\n\ninherit(ContentsViewerComponent, Component);\n\nvar proto = ContentsViewerComponent.prototype;\n\nproto.setContent = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$push = options.push,\n      push = _options$push === undefined ? false : _options$push,\n      content = options.content,\n      crumb = options.crumb;\n\n  var d = $.Deferred();\n  // clean the stack every time, sure to have just one component.\n  // Use barstack because it handle the logic og mounting component on DOM\n  if (push) {\n    this.addContent(content, options).then(function () {\n      return d.resolve(options);\n    });\n  } else {\n    // clear stack\n    this.clearContents().then(function () {\n      _this.addContent(content, options).then(function () {\n        return d.resolve(options);\n      });\n    });\n  }\n\n  this.setOpen(true);\n  return d.promise();\n};\n\nproto.addContent = function (content) {\n  var _this2 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  // parent element is the internal element\n  options.parent = this.internalComponent.$el;\n  options.append = true;\n  var promise = this.stack.push(content, options);\n  promise.then(function () {\n    // get stack content\n    _this2.contentsdata = _this2.stack.state.contentsdata;\n    // update the visibility of the others components\n    _this2.updateContentVisibility();\n    d.resolve();\n  });\n  return d.promise();\n};\n\n// remove content from stack\nproto.removeContent = function () {\n  this.setOpen(false);\n  return this.clearContents();\n};\n\n// used by  viewport.js\nproto.popContent = function () {\n  var _this3 = this;\n\n  return this.stack.pop().then(function () {\n    // update the content of contentsdata only after stack is updated\n    _this3.contentsdata = _this3.stack.state.contentsdata;\n    _this3.updateContentVisibility();\n  });\n};\n\n// get component through class\nproto.getComponentByClass = function (componentClass) {\n  var component = void 0;\n  var contentdata = this.stack.getContentData();\n  contentdata.forEach(function (content) {\n    if (content.content instanceof componentClass) {\n      component = content.content;\n      return false;\n    }\n  });\n  return component;\n};\n\n// get component by component id\nproto.getComponentById = function (id) {\n  var component = void 0;\n  var contentdata = this.stack.getContentData();\n  contentdata.forEach(function (content) {\n    if (content.content.id == id) {\n      component = content.content;\n      return false;\n    }\n  });\n  return component;\n};\n\nproto.getContentData = function () {\n  return this.stack.getContentData();\n};\n\n// get current contentdata\nproto.getCurrentContentData = function () {\n  return this.stack.getCurrentContentData();\n};\n\n// get  previuos contentdata\nproto.getPreviousContentData = function () {\n  return this.stack.getPreviousContentData();\n};\n\n// update visibility of the components of content\nproto.updateContentVisibility = function () {\n  // hide each elements but not the last one\n  var contentsEls = $(this.internalComponent.$el).children();\n  contentsEls.hide();\n  contentsEls.last().show();\n};\n\n// stack clear because if we want the contentComponente stack\n// it has to be empty stack\nproto.clearContents = function () {\n  var _this4 = this;\n\n  return this.stack.clear().then(function () {\n    return _this4.contentsdata = _this4.stack.state.contentsdata;\n  });\n};\n\n// Set layout of the content each time\n// Parameters are: height and with of the parent content\nproto.layout = function (parentWidth, parentHeight) {\n  var _this5 = this;\n\n  var el = $(this.internalComponent.$el);\n  //run the callback only after that vue state is updated\n  Vue.nextTick(function () {\n    var contentsdata = _this5.stack.state.contentsdata;\n    // el.parent() is div g3w-view-content\n    var height = el.parent().height() - el.siblings('.close-panel-block').outerHeight(true) - el.siblings('.content_breadcrumb').outerHeight(true) - 10; // margin 10 from bottom\n    el.height(height);\n    el.children().first().height(height);\n    contentsdata.forEach(function (data) {\n      //check each componentstored in stack\n      if (typeof data.content.layout == 'function') {\n        //call function layout of each component that are stored into the stack\n        data.content.layout(parentWidth + 0.5, height);\n      }\n    });\n  });\n};\n\nmodule.exports = ContentsViewerComponent;\n\n},{\"components/ViewportContentsViewer.vue\":309,\"core/utils/utils\":67,\"gui/component/component\":116,\"gui/utils/utils\":188}],190:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _wmslayerspanel = require('gui/wms/vue/panel/wmslayerspanel');\n\nvar _wmslayerspanel2 = _interopRequireDefault(_wmslayerspanel);\n\nvar _constant = require('app/constant');\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nfunction Service() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$wmsurls = options.wmsurls,\n      wmsurls = _options$wmsurls === undefined ? [] : _options$wmsurls;\n\n  this.projectId = _projects2.default.getCurrentProject().getId(); // get current project id used to store data or get data to current project\n  this.panel;\n  this.state = {\n    adminwmsurls: wmsurls, // coming from admin wmsurls\n    localwmsurls: [] // contain array of object {id, url}\n  };\n  this.loadClientWmsUrls().then(function (urls) {\n    return _this.state.localwmsurls = urls;\n  });\n  _projects2.default.onafter('setCurrentProject', function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(project) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.projectId = project.getId();\n              _this.state.adminwmsurls = project.wmsurls || [];\n              _context.next = 4;\n              return _this.loadClientWmsUrls();\n\n            case 4:\n              _this.state.localwmsurls = _context.sent;\n\n            case 5:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, _this);\n    }));\n\n    return function (_x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n}\n\nvar proto = Service.prototype;\n\n/**\n * Getting Wms Urls from local browser storage\n */\nproto.loadClientWmsUrls = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var _this2 = this;\n\n  var data;\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          data = this.getLocalWMSData();\n\n          if (data === undefined) {\n            data = {\n              urls: [], // unique url fro wms\n              wms: {} // object contain url as key and array of layers bind to url\n            };\n            this.updateLocalWMSData(data);\n          }\n          _context2.next = 4;\n          return _gui2.default.isReady();\n\n        case 4:\n          setTimeout(function () {\n            var mapService = _gui2.default.getService('map');\n            mapService.on('remove-external-layer', function (name) {\n              return _this2.deleteWms(name);\n            });\n            mapService.on('change-layer-position-map', function () {\n              var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref3.id,\n                  position = _ref3.position;\n\n              return _this2.changeLayerData(name, {\n                key: 'position',\n                value: position\n              });\n            });\n            mapService.on('change-layer-opacity', function () {\n              var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref4.id,\n                  opacity = _ref4.opacity;\n\n              return _this2.changeLayerData(name, {\n                key: 'opacity',\n                value: opacity\n              });\n            });\n            mapService.on('change-layer-visibility', function () {\n              var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref5.id,\n                  visible = _ref5.visible;\n\n              return _this2.changeLayerData(name, {\n                key: 'visible',\n                value: visible\n              });\n            });\n\n            // load eventually data\n            Object.keys(data.wms).forEach(function (url) {\n              data.wms[url].forEach(function (config) {\n                _this2.loadWMSLayerToMap(_extends({\n                  url: url\n                }, config));\n              });\n            });\n          });\n          return _context2.abrupt('return', data.urls);\n\n        case 6:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\n/**\n * General Method to change config of storage layer options as position, opacity\n * @param name\n * @param config\n */\nproto.changeLayerData = function (name) {\n  var attribute = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var data = this.getLocalWMSData();\n  Object.keys(data.wms).find(function (wmsurl) {\n    var wmsConfigLayers = data.wms[wmsurl];\n    var index = wmsConfigLayers.findIndex(function (config) {\n      return config.name == name;\n    });\n    if (index !== -1) {\n      wmsConfigLayers[index][attribute.key] = attribute.value;\n      return true;\n    }\n  });\n  this.updateLocalWMSData(data);\n};\n\n/**\n * Create a common status object\n * @param error\n * @param added\n * @returns {{error, status: string}}\n */\nproto.getRequestStatusObject = function () {\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$error = _ref6.error,\n      error = _ref6$error === undefined ? false : _ref6$error,\n      _ref6$added = _ref6.added,\n      added = _ref6$added === undefined ? false : _ref6$added;\n\n  return {\n    error: error,\n    added: added\n  };\n};\n\n/**\n * Add new\n * @param wmsurl\n * @returns {*}\n */\nproto.addNewUrl = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref8.id,\n      url = _ref8.url;\n\n  var find, status, response, data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          find = this.state.localwmsurls.find(function (_ref9) {\n            var localid = _ref9.id,\n                localurl = _ref9.url;\n            return localurl == url || localid == id;\n          });\n          status = this.getRequestStatusObject({\n            added: !!find\n          });\n\n          if (find) {\n            _context3.next = 13;\n            break;\n          }\n\n          _context3.prev = 3;\n          _context3.next = 6;\n          return this.getWMSLayers(url);\n\n        case 6:\n          response = _context3.sent;\n\n          // if result (meaning response in done right)\n          if (response.result) {\n            data = this.getLocalWMSData();\n\n            this.state.localwmsurls.push({\n              id: id,\n              url: url\n            });\n            data.urls = this.state.localwmsurls;\n            this.updateLocalWMSData(data);\n            response.wmsurl = url;\n            this.showWmsLayersPanel(response);\n          } else status.error = true;\n          _context3.next = 13;\n          break;\n\n        case 10:\n          _context3.prev = 10;\n          _context3.t0 = _context3['catch'](3);\n\n          status.error = true;\n\n        case 13:\n          return _context3.abrupt('return', status);\n\n        case 14:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[3, 10]]);\n}));\n\n/**\n * Delete WMS\n * @param name\n */\nproto.deleteWms = function (name) {\n  var data = this.getLocalWMSData();\n  Object.keys(data.wms).find(function (wmsurl) {\n    var wmsConfigLayers = data.wms[wmsurl];\n    var index = wmsConfigLayers.findIndex(function (config) {\n      return config.name == name;\n    });\n    if (index !== -1) {\n      wmsConfigLayers.splice(index, 1);\n      if (wmsConfigLayers.length == 0) delete data.wms[wmsurl];\n      return true;\n    }\n  });\n  this.updateLocalWMSData(data);\n};\n/**\n * Method to find if name or layer of a specific url is already added\n * @param name\n * @param layers\n */\nproto.checkIfWMSAlreadyAdded = function () {\n  var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref10.url,\n      _ref10$layers = _ref10.layers,\n      layers = _ref10$layers === undefined ? [] : _ref10$layers;\n\n  var added = false;\n  var data = this.getLocalWMSData();\n  if (data.wms[url]) {\n    added = !!data.wms[url].find(function (_ref11) {\n      var addedLayers = _ref11.layers;\n\n      var layersLength = layers.length;\n      if (addedLayers.length === layersLength) {\n        return layers.reduce(function (accumulator, layerName) {\n          return accumulator + addedLayers.indexOf(layerName) !== -1 ? 1 : 0;\n        }, 0) === layersLength;\n      }\n    });\n  }\n  return added;\n};\n\n/**\n * Delete url from local storage\n * @param wmsurl\n */\nproto.deleteWmsUrl = function (id) {\n  this.state.localwmsurls = this.state.localwmsurls.filter(function (_ref12) {\n    var localid = _ref12.id;\n    return id !== localid;\n  });\n  var data = this.getLocalWMSData();\n  data.urls = this.state.localwmsurls;\n  this.updateLocalWMSData(data);\n};\n\n/**\n * Method to lad data from server and show wms layer panel\n * @param wmsurl\n * @returns {Promise<{added: boolean, error: boolean}>}\n */\nproto.loadWMSDataAndShowWmsLayersPanel = function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(url) {\n    var status, response;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            status = this.getRequestStatusObject();\n            _context4.prev = 1;\n            _context4.next = 4;\n            return this.getWMSLayers(url);\n\n          case 4:\n            response = _context4.sent;\n\n            status.error = !response.result;\n            if (response.result) {\n              response.wmsurl = url;\n              this.showWmsLayersPanel(response);\n            }\n            _context4.next = 12;\n            break;\n\n          case 9:\n            _context4.prev = 9;\n            _context4.t0 = _context4['catch'](1);\n\n            status.error = true;\n\n          case 12:\n            return _context4.abrupt('return', status);\n\n          case 13:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[1, 9]]);\n  }));\n\n  return function (_x10) {\n    return _ref13.apply(this, arguments);\n  };\n}();\n\n/**\n * show addding wma layers wms panel\n * @param wmsurl\n * @returns {WmsLayersPanel}\n */\nproto.showWmsLayersPanel = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.panel = new _wmslayerspanel2.default({\n    service: this,\n    config: config\n  });\n  this.panel.show();\n  return this.panel;\n};\n\n/**\n * gettind data of wms url from server\n * @param url\n * @returns {Promise<{result: boolean, info_formats: [], layers: [], map_formats: [], abstract: null, title: null}>}\n */\nproto.getWMSLayers = function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(url) {\n    var response;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            response = {\n              result: false,\n              layers: [],\n              info_formats: [],\n              abstract: null,\n              map_formats: [],\n              title: null\n            };\n            _context5.prev = 1;\n            _context5.next = 4;\n            return _data2.default.getData('ows:wmsCapabilities', {\n              inputs: {\n                url: url\n              },\n              outputs: false\n            });\n\n          case 4:\n            response = _context5.sent;\n            _context5.next = 10;\n            break;\n\n          case 7:\n            _context5.prev = 7;\n            _context5.t0 = _context5['catch'](1);\n\n            console.log(_context5.t0);\n\n          case 10:\n            if (!response.result) {\n              _context5.next = 12;\n              break;\n            }\n\n            return _context5.abrupt('return', response);\n\n          case 12:\n            return _context5.abrupt('return', response);\n\n          case 13:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[1, 7]]);\n  }));\n\n  return function (_x12) {\n    return _ref14.apply(this, arguments);\n  };\n}();\n\nproto.loadWMSLayerToMap = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref15.url,\n      name = _ref15.name,\n      epsg = _ref15.epsg,\n      position = _ref15.position,\n      opacity = _ref15.opacity,\n      _ref15$visible = _ref15.visible,\n      visible = _ref15$visible === undefined ? true : _ref15$visible,\n      _ref15$layers = _ref15.layers,\n      layers = _ref15$layers === undefined ? [] : _ref15$layers;\n\n  var mapService = _gui2.default.getService('map');\n  return mapService.addExternalWMSLayer({\n    url: url,\n    name: name,\n    layers: layers,\n    epsg: epsg,\n    position: position,\n    visible: visible,\n    opacity: opacity\n  });\n};\n\n/**\n * Method to check if a layer is already added to map\n * @param url\n * @param name\n * @param epsg\n * @param position\n * @param layers\n * @returns {Promise<void>}\n */\nproto.addWMSlayer = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n  var _ref17 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref17.url,\n      _ref17$name = _ref17.name,\n      name = _ref17$name === undefined ? 'wms_' + uniqueId() : _ref17$name,\n      epsg = _ref17.epsg,\n      position = _ref17.position,\n      _ref17$layers = _ref17.layers,\n      layers = _ref17$layers === undefined ? [] : _ref17$layers,\n      _ref17$opacity = _ref17.opacity,\n      opacity = _ref17$opacity === undefined ? 1 : _ref17$opacity,\n      _ref17$visible = _ref17.visible,\n      visible = _ref17$visible === undefined ? true : _ref17$visible;\n\n  var data, wmsLayerConfig, mapService;\n  return regeneratorRuntime.wrap(function _callee6$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          data = this.getLocalWMSData();\n          wmsLayerConfig = {\n            url: url,\n            name: name,\n            layers: layers,\n            epsg: epsg,\n            position: position,\n            visible: visible,\n            opacity: opacity\n          };\n\n          if (data.wms[url] === undefined) data.wms[url] = [wmsLayerConfig];else data.wms[url].push(wmsLayerConfig);\n          this.updateLocalWMSData(data);\n          _context6.prev = 4;\n          _context6.next = 7;\n          return this.loadWMSLayerToMap(wmsLayerConfig);\n\n        case 7:\n          _context6.next = 15;\n          break;\n\n        case 9:\n          _context6.prev = 9;\n          _context6.t0 = _context6['catch'](4);\n          mapService = _gui2.default.getService('map');\n\n          mapService.removeExternalLayer(name);\n          this.deleteWms(name);\n          setTimeout(function () {\n            _gui2.default.showUserMessage({\n              type: 'warning',\n              message: 'sidebar.wms.layer_add_error'\n            });\n          });\n\n        case 15:\n          this.panel.close();\n\n        case 16:\n        case 'end':\n          return _context6.stop();\n      }\n    }\n  }, _callee6, this, [[4, 9]]);\n}));\n\n/**\n * Method to get local storage wms  data based on current projectId\n * @returns {*}\n */\nproto.getLocalWMSData = function () {\n  return _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM) && _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM)[this.projectId];\n};\n\n/**\n * Method to update local storage data based on changes\n * @param data\n */\nproto.updateLocalWMSData = function (data) {\n  // in case for the firs time is non present set empty object\n  var alldata = _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM) || {};\n  alldata[this.projectId] = data;\n  _application2.default.setLocalItem({\n    id: _constant.LOCALSTORAGE_EXTERNALWMS_ITEM,\n    data: alldata\n  });\n};\n\nproto.clear = function () {\n  this.panel = null;\n};\n\nexports.default = Service;\n\n},{\"app/constant\":4,\"core/utils/utils\":67,\"gui/wms/vue/panel/wmslayerspanel\":191,\"services/application\":350,\"services/data\":357,\"services/gui\":360,\"store/projects\":378}],191:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _WMSLayersPanel = require('components/WMSLayersPanel.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_WMSLayersPanel);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar Panel = require('gui/panel');\n\nvar WMSLayersPanelComponent = Vue.extend(vueComponentOptions);\n\nfunction WmsLayersPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var service = options.service,\n      config = options.config;\n\n  this.setService(service);\n  this.id = uniqueId();\n  this.title = 'sidebar.wms.panel.title';\n  var panel = WMSLayersPanelComponent;\n  var internalPanel = new panel({\n    service: service,\n    config: config\n  });\n  this.setInternalPanel(internalPanel);\n  this.unmount = function () {\n    return base(this, 'unmount').then(function () {\n      service.clear();\n    });\n  };\n}\n\ninherit(WmsLayersPanel, Panel);\n\nexports.default = WmsLayersPanel;\n\n},{\"components/WMSLayersPanel.vue\":311,\"core/utils/utils\":67,\"gui/panel\":161}],192:[function(require,module,exports){\nvar _WMS = require('components/WMS.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_WMS);\n\nvar _service = require('gui/wms/service');\n\nvar _service2 = _interopRequireDefault(_service);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ToolsComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._service = new _service2.default(options);\n  this.title = \"WMS\";\n\n  var internalComponent = new InternalComponent({\n    service: this._service\n  });\n\n  internalComponent.state = this._service.state;\n  this.setInternalComponent(internalComponent);\n\n  this._setOpen = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.internalComponent.state.open = bool;\n    bool && _gui2.default.closeContent();\n  };\n}\n\ninherit(ToolsComponent, Component);\n\nmodule.exports = ToolsComponent;\n\n},{\"components/WMS.vue\":310,\"core/utils/utils\":67,\"gui/component/component\":116,\"gui/wms/service\":190,\"services/gui\":360}],193:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nmodule.exports = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$steps = _ref.steps,\n      steps = _ref$steps === undefined ? {} : _ref$steps;\n\n  return {\n    data: function data() {\n      return {\n        steps: steps,\n        currentStep: 0\n      };\n    },\n\n    watch: {\n      steps: {\n        handler: function handler(steps) {\n          var _this = this;\n\n          Object.values(steps).find(function (step, index) {\n            if (!step.done) {\n              _this.currentStep = index;\n              return true;\n            }\n          });\n        },\n\n        deep: false\n      }\n    },\n    render: function render(h) {\n      var _this2 = this;\n\n      return h('ul', {\n        style: {\n          alignSelf: 'flex-start',\n          listStyle: 'none',\n          padding: (_applicationState2.default.ismobile ? 5 : 10) + 'px !important',\n          marginBottom: 0\n        }\n      }, Object.values(this.steps).map(function (step, index) {\n        var _class;\n\n        var state = {\n          current: !step.done && index === _this2.currentStep,\n          done: step.done,\n          todo: !step.done && index !== _this2.currentStep\n        };\n        return h('li', {\n          style: {\n            fontWeight: (step.done || !step.done && index === _this2.currentStep) && 'bold' || null,\n            marginBottom: '5px',\n            color: step.done && \"green\",\n            display: step.buttonnext && 'inline-flex'\n          }\n        }, [h('i', {\n          style: {\n            marginRight: '5px',\n            fontWeight: step.done && 'bold'\n          },\n          class: (_class = {}, _defineProperty(_class, _gui2.default.getFontClass('arrow-right'), state.current), _defineProperty(_class, _gui2.default.getFontClass('empty-circle'), state.todo), _defineProperty(_class, _gui2.default.getFontClass('success'), state.done), _class)\n        }), h('span', {\n          directives: [{\n            name: step.directive,\n            value: step.description\n          }],\n          style: {\n            display: step.buttonnext ? 'inline-flex' : 'inline',\n            flexDirection: step.buttonnext && 'row-reverse'\n          }\n        }), step.dynamic !== undefined && h('span', {\n          style: {\n            alignSelf: 'center',\n            padding: '3px'\n          }\n        }, step.dynamic), step.buttonnext && h('button', {\n          on: {\n            click: function click() {\n              step.done = true;\n              step.buttonnext.done();\n            }\n          },\n          directives: [{\n            name: 't',\n            value: 'sdk.workflow.next'\n          }],\n          style: {\n            fontWeight: 'bold'\n          },\n          class: {\n            btn: true,\n            'btn-success': true,\n            'g3w-disabled': step.buttonnext.disabled\n          }\n        })]);\n      }));\n    }\n  };\n};\n\n},{\"services/gui\":360,\"store/application-state\":372}],194:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vueCookieLaw = require('vue-cookie-law');\n\nvar _vueCookieLaw2 = _interopRequireDefault(_vueCookieLaw);\n\nvar _HeaderItem = require('components/HeaderItem.vue');\n\nvar _HeaderItem2 = _interopRequireDefault(_HeaderItem);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nif (typeof jQuery === \"undefined\") {\n  throw new Error(\"LayoutManager requires jQuery\");\n}\n\n$.LayoutManager = $.LayoutManager || {\n  options: {\n    navbarMenuSlimscroll: true,\n    navbarMenuSlimscrollWidth: \"0px\",\n    navbarMenuHeight: \"200px\",\n    animationSpeed: 'fast',\n\n    sidebarToggleSelector: \"[data-toggle='offcanvas']\",\n\n    sidebarPushMenu: true,\n\n    sidebarSlimScroll: false,\n\n    sidebarExpandOnHover: false,\n\n    enableBoxRefresh: true,\n\n    enableFastclick: true,\n\n    enableControlSidebar: true,\n    controlSidebarOptions: {\n      toggleBtnSelector: \"[data-toggle='control-sidebar']\",\n\n      selector: \".control-sidebar\",\n\n      slide: true\n    },\n\n    enableBoxWidget: true,\n\n    boxWidgetOptions: {\n      boxWidgetIcons: {\n        collapse: 'fa-minus',\n\n        open: 'fa-plus',\n\n        remove: 'fa-times'\n      },\n      boxWidgetSelectors: {\n        remove: '[data-widget=\"remove\"]',\n\n        collapse: '[data-widget=\"collapse\"]'\n      }\n    },\n\n    directChat: {\n      enable: true,\n\n      contactToggleSelector: '[data-widget=\"chat-pane-toggle\"]'\n    },\n\n    colors: {\n      lightBlue: \"#3c8dbc\",\n      red: \"#f56954\",\n      green: \"#00a65a\",\n      aqua: \"#00c0ef\",\n      yellow: \"#f39c12\",\n      blue: \"#0073b7\",\n      navy: \"#001F3F\",\n      teal: \"#39CCCC\",\n      olive: \"#3D9970\",\n      lime: \"#01FF70\",\n      orange: \"#FF851B\",\n      fuchsia: \"#F012BE\",\n      purple: \"#8E24AA\",\n      maroon: \"#D81B60\",\n      black: \"#222222\",\n      gray: \"#d2d6de\"\n    },\n\n    screenSizes: {\n      xs: 480,\n      sm: 768,\n      md: 992,\n      lg: 1200\n    }\n  },\n\n  _init: function _init() {\n    'use strict';\n\n    $.LayoutManager.layout = {\n      activate: function activate() {\n        var _this = this;\n        _this.fix();\n        _this.fixSidebar();\n        $(window, \".wrapper\").resize(function () {\n          _this.fix();\n          _this.fixSidebar();\n        });\n      },\n      fix: function fix() {\n        var neg = $('.main-header').outerHeight() + $('.main-footer').outerHeight();\n        var window_height = $(window).height();\n        var sidebar_height = $(\".sidebar\").height();\n\n        if ($(\"body\").hasClass(\"fixed\")) {\n          $(\".content-wrapper, .right-side\").css('min-height', window_height - $('.main-footer').outerHeight());\n          $(\".content-wrapper, .right-side\").css('height', window_height - $('.main-footer').outerHeight());\n        } else {\n          var postSetWidth = void 0;\n          if (window_height >= sidebar_height) {\n            $(\".content-wrapper, .right-side\").css('min-height', window_height - neg);\n            postSetWidth = window_height - neg;\n          } else {\n            $(\".content-wrapper, .right-side\").css('min-height', sidebar_height);\n            postSetWidth = sidebar_height;\n          }\n\n          var controlSidebar = $($.LayoutManager.options.controlSidebarOptions.selector);\n          if (typeof controlSidebar !== \"undefined\") {\n            if (controlSidebar.height() > postSetWidth) $(\".content-wrapper, .right-side\").css('min-height', controlSidebar.height());\n          }\n        }\n      },\n      fixSidebar: function fixSidebar() {\n        if (!$(\"body\").hasClass(\"fixed\")) {\n          if (typeof $.fn.slimScroll != 'undefined') {\n            $(\".sidebar\").slimScroll({ destroy: true }).height(\"auto\");\n          }\n          return;\n        } else if (typeof $.fn.slimScroll == 'undefined' && window.console) {\n          window.console.error(\"Error: the fixed layout requires the slimscroll plugin!\");\n        }\n\n        if ($.LayoutManager.options.sidebarSlimScroll && !isMobile.any) {\n          if (typeof $.fn.slimScroll != 'undefined') {\n            $(\"#g3w-sidebar\").slimScroll({ destroy: true }).height(\"auto\");\n\n            $(\"#g3w-sidebar\").slimScroll({\n              touchScrollStep: 50,\n              height: $(window).height() - $(\".navbar-header\").height() - 10 + \"px\",\n              color: \"rgba(255,255,255,0.7)\",\n              size: \"3px\"\n            });\n          }\n        } else {\n          $(\".sidebar\").css({ 'height': $(window).height() - $(\".navbar-header\").height() + \"px\" });\n          $(\".sidebar\").css('overflow-y', 'auto');\n        }\n      }\n    };\n\n    $.LayoutManager.pushMenu = {\n      activate: function activate(toggleBtn) {\n        var screenSizes = $.LayoutManager.options.screenSizes;\n\n        $(toggleBtn).on('click', function (e) {\n          e.preventDefault();\n\n          if ($(window).width() > screenSizes.sm - 1) {\n            if ($(\"body\").hasClass('sidebar-collapse')) {\n              $(\"body\").removeClass('sidebar-collapse').trigger('expanded.pushMenu');\n            } else {\n              $(\"body\").addClass('sidebar-collapse').trigger('collapsed.pushMenu');\n            }\n          } else {\n              if ($(\"body\").hasClass('sidebar-open')) {\n                $(\"body\").removeClass('sidebar-open').removeClass('sidebar-collapse').trigger('collapsed.pushMenu');\n              } else {\n                $(\"body\").addClass('sidebar-open').trigger('expanded.pushMenu');\n              }\n            }\n        });\n\n        if ($.LayoutManager.options.sidebarExpandOnHover || $('body').hasClass('fixed') && $('body').hasClass('sidebar-mini')) {\n          this.expandOnHover();\n        }\n      },\n      expandOnHover: function expandOnHover() {\n        var _this = this;\n        var screenWidth = $.LayoutManager.options.screenSizes.sm - 1;\n\n        $('.main-sidebar').hover(function () {\n          if ($('body').hasClass('sidebar-mini') && $(\"body\").hasClass('sidebar-collapse') && $(window).width() > screenWidth) {\n            _this.expand();\n          }\n        }, function () {\n          if ($('body').hasClass('sidebar-mini') && $('body').hasClass('sidebar-expanded-on-hover') && $(window).width() > screenWidth) {\n            _this.collapse();\n          }\n        });\n      },\n      expand: function expand() {\n        $(\"body\").removeClass('sidebar-collapse').addClass('sidebar-expanded-on-hover');\n      },\n      collapse: function collapse() {\n        if ($('body').hasClass('sidebar-expanded-on-hover')) {\n          $('body').removeClass('sidebar-expanded-on-hover').addClass('sidebar-collapse');\n        }\n      }\n    };\n\n    $.LayoutManager.tree = function (menu) {\n      var _this = this;\n      var animationSpeed = $.LayoutManager.options.animationSpeed;\n\n      $(document).on('click', menu + ' li a', function (e) {\n        var $this = $(this);\n\n        var checkElement = $this.next();\n\n        if (checkElement.is('.treeview-menu') && checkElement.is(':visible')) {\n          checkElement.slideUp(animationSpeed, function () {\n            checkElement.parent(\"li.treeview\").removeClass(\"active\");\n            checkElement.removeClass('menu-open');\n          });\n        } else if (checkElement.is('.treeview-menu') && !checkElement.is(':visible')) {\n            var parent = $this.parents('ul').first();\n            var parent_li = $this.parent(\"li\");\n            var li_siblings = parent_li.siblings();\n            var parent_find_active;\n            var sidebar_content_height = parent.height() - parent.find('li.header').outerHeight();\n            var treeviewHeight = parent_li.outerHeight();\n            li_siblings.not('.header').each(function (index, el) {\n              treeviewHeight += $(el).find('a').outerHeight();\n            });\n            var section_height = sidebar_content_height - treeviewHeight;\n\n            var ul = parent.find('ul.treeview-menu:visible').slideUp(animationSpeed);\n\n            ul.removeClass('menu-open');\n\n            checkElement.slideDown(animationSpeed, function () {\n              checkElement.addClass('menu-open');\n              parent_find_active = parent.find('li.treeview.active');\n              parent_find_active.removeClass('active');\n              parent_li.addClass('active');\n\n              _this.layout.fix();\n            });\n          }\n\n        if (checkElement.is('.treeview-menu')) {\n          e.preventDefault();\n        }\n      });\n    };\n\n    $.LayoutManager.floatBar = $.LayoutManager.controlSidebar = {\n      activate: function activate() {\n        var _this = this;\n\n        var o = $.LayoutManager.options.controlSidebarOptions;\n\n        var sidebar = $(o.selector);\n\n        var btn = $(o.toggleBtnSelector);\n\n        btn.on('click', function (e) {\n          e.preventDefault();\n\n          if (!sidebar.hasClass('control-sidebar-open') && !$('body').hasClass('control-sidebar-open')) {\n            _this.open(sidebar, o.slide);\n          } else {\n            _this.close(sidebar, o.slide);\n          }\n        });\n\n        var bg = $(\".control-sidebar-bg\");\n        _this._fix(bg);\n\n        if ($('body').hasClass('fixed')) {\n          _this._fixForFixed(sidebar);\n        } else {\n          if ($('.content-wrapper, .right-side').height() < sidebar.height()) {\n            _this._fixForContent(sidebar);\n          }\n        }\n      },\n      open: function open(sidebar, slide) {\n        if (slide) {\n          sidebar.addClass('control-sidebar-open');\n        } else {\n          $('body').addClass('control-sidebar-open');\n        }\n      },\n      close: function close(sidebar, slide) {\n        if (slide) {\n          sidebar.removeClass('control-sidebar-open');\n        } else {\n          $('body').removeClass('control-sidebar-open');\n        }\n      },\n      _fix: function _fix(sidebar) {\n        var _this = this;\n        if ($(\"body\").hasClass('layout-boxed')) {\n          sidebar.css('position', 'absolute');\n          sidebar.height($(\".wrapper\").height());\n          $(window).resize(function () {\n            _this._fix(sidebar);\n          });\n        } else {\n          sidebar.css({\n            'position': 'fixed',\n            'height': 'auto'\n          });\n        }\n      },\n      _fixForFixed: function _fixForFixed(sidebar) {\n        sidebar.css({\n          'position': 'fixed',\n          'max-height': '100%',\n\n          'padding-bottom': '50px'\n        });\n      },\n      _fixForContent: function _fixForContent(sidebar) {\n        $(\".content-wrapper, .right-side\").css('min-height', sidebar.height());\n      }\n    };\n\n    $.LayoutManager.boxWidget = {\n      selectors: $.LayoutManager.options.boxWidgetOptions.boxWidgetSelectors,\n      icons: $.LayoutManager.options.boxWidgetOptions.boxWidgetIcons,\n      animationSpeed: $.LayoutManager.options.animationSpeed,\n      activate: function activate(_box) {\n        var _this = this;\n        if (!_box) {\n          _box = document;\n        }\n\n        $(_box).on('click', _this.selectors.collapse, function (e) {\n          e.preventDefault();\n          _this.collapse($(this));\n        });\n\n        $(_box).on('click', _this.selectors.remove, function (e) {\n          e.preventDefault();\n          _this.remove($(this));\n        });\n      },\n      collapse: function collapse(element) {\n        var _this = this;\n\n        var box = element.parents(\".box\").first();\n\n        var box_content = box.find(\"> .box-body, > .box-footer, > form  >.box-body, > form > .box-footer\");\n        if (!box.hasClass(\"collapsed-box\")) {\n          element.find(\".btn-collapser\").removeClass(_this.icons.collapse).addClass(_this.icons.open);\n\n          box_content.slideUp(_this.animationSpeed, function () {\n            box.addClass(\"collapsed-box\");\n          });\n        } else {\n          element.find(\".btn-collapser\").removeClass(_this.icons.open).addClass(_this.icons.collapse);\n\n          box_content.slideDown(_this.animationSpeed, function () {\n            box.removeClass(\"collapsed-box\");\n          });\n        }\n      },\n      remove: function remove(element) {\n        var box = element.parents(\".box\").first();\n        box.slideUp(this.animationSpeed);\n      }\n    };\n\n    return $.LayoutManager;\n  },\n\n  addRefreshButton: function addRefreshButton() {\n    \"use strict\";\n\n    $.fn.boxRefresh = function (options) {\n      var settings = $.extend({\n        trigger: \".refresh-btn\",\n\n        source: \"\",\n        onLoadStart: function onLoadStart(box) {\n          return box;\n        },\n        onLoadDone: function onLoadDone(box) {\n          return box;\n        }\n      }, options);\n\n      var overlay = $('<div class=\"overlay\"><div class=\"fa fa-refresh fa-spin\"></div></div>');\n\n      return this.each(function () {\n        if (settings.source === \"\") {\n          if (window.console) {\n            window.console.log(\"Please specify a source first - boxRefresh()\");\n          }\n          return;\n        }\n\n        var box = $(this);\n\n        var rBtn = box.find(settings.trigger).first();\n\n        rBtn.on('click', function (e) {\n          e.preventDefault();\n\n          start(box);\n\n          box.find(\".box-body\").load(settings.source, function () {\n            done(box);\n          });\n        });\n      });\n\n      function start(box) {\n        box.append(overlay);\n\n        settings.onLoadStart.call(box);\n      }\n\n      function done(box) {\n        box.find(overlay).remove();\n\n        settings.onLoadDone.call(box);\n      }\n    };\n    return $.LayoutManager;\n  },\n\n  activateBox: function activateBox() {\n    'use strict';\n\n    $.fn.activateBox = function () {\n      $.LayoutManager.boxWidget.activate(this);\n    };\n\n    return $.LayoutManager;\n  },\n\n  listCustomPlugin: function listCustomPlugin() {\n    'use strict';\n\n    $.fn.todolist = function (options) {\n      var settings = $.extend({\n        onCheck: function onCheck(ele) {\n          return ele;\n        },\n        onUncheck: function onUncheck(ele) {\n          return ele;\n        }\n      }, options);\n\n      return this.each(function () {\n\n        if (typeof $.fn.iCheck != 'undefined') {\n          $('input', this).on('ifChecked', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            settings.onCheck.call(ele);\n          });\n\n          $('input', this).on('ifUnchecked', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            settings.onUncheck.call(ele);\n          });\n        } else {\n          $('input', this).on('change', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            if ($('input', ele).is(\":checked\")) {\n              settings.onCheck.call(ele);\n            } else {\n              settings.onUncheck.call(ele);\n            }\n          });\n        }\n      });\n    };\n    return $.LayoutManager;\n  },\n\n  setup: function setup() {\n    \"use strict\";\n\n    $(\"body\").removeClass(\"hold-transition\");\n\n    if (typeof LayoutManagerOptions !== \"undefined\") {\n      $.extend(true, $.LayoutManager.options, LayoutManagerOptions);\n    }\n\n    var o = $.LayoutManager.options;\n\n    $.LayoutManager._init();\n\n    $.LayoutManager.layout.activate();\n\n    $.LayoutManager.tree('.sidebar');\n\n    if (o.enableControlSidebar) {\n      $.LayoutManager.controlSidebar.activate();\n    }\n\n    if (o.navbarMenuSlimscroll && typeof $.fn.slimscroll != 'undefined') {\n      $(\".navbar .menu\").slimscroll({\n        height: o.navbarMenuHeight,\n        alwaysVisible: false,\n        size: o.navbarMenuSlimscrollWidth\n      }).css(\"width\", \"100%\");\n    }\n\n    if (o.sidebarPushMenu) {\n      $.LayoutManager.pushMenu.activate(o.sidebarToggleSelector);\n    }\n\n    if (o.enableBoxWidget) {\n      $.LayoutManager.boxWidget.activate();\n    }\n\n    if (o.enableFastclick && typeof FastClick != 'undefined') {\n      FastClick.attach(document.body);\n    }\n\n    if (o.directChat.enable) {\n      $(document).on('click', o.directChat.contactToggleSelector, function () {\n        var box = $(this).parents('.direct-chat').first();\n        box.toggleClass('direct-chat-contacts-open');\n      });\n    }\n\n    $('.btn-group[data-toggle=\"btn-toggle\"]').each(function () {\n      var group = $(this);\n      $(this).find(\".btn\").on('click', function (e) {\n        group.find(\".btn.active\").removeClass(\"active\");\n        $(this).addClass(\"active\");\n        e.preventDefault();\n      });\n    });\n\n    return $.LayoutManager.addRefreshButton().activateBox().listCustomPlugin();\n  },\n\n  loading: function loading(start) {\n    $('#initerror').remove();\n    start = _.isBoolean(start) ? start : true;\n    if (start) {\n      $('body').append('\\n          <div id=\"startingspinner\">\\n          <div class=\"double-bounce1\"></div>\\n          <div class=\"double-bounce2\"></div>\\n          </div>');\n    } else {\n      $('#startingspinner').remove();\n    }\n  }\n\n};\n\nvar layout = $.LayoutManager;\n\nexports.default = {\n  mixins: [_mixins.resizeMixin],\n  data: function data() {\n    return {\n      customcredits: false,\n      appState: _application2.default.getState(),\n      current_custom_modal_content: null,\n      language: null,\n      cookie_law_buttonText: t('cookie_law.buttonText')\n    };\n  },\n\n  components: {\n    HeaderItem: _HeaderItem2.default,\n    CookieLaw: _vueCookieLaw2.default\n  },\n  computed: {\n    app: function app() {\n      return this.appState.gui.app;\n    },\n    languages: function languages() {\n      var languages = Array.isArray(this.appconfig.i18n) && this.appconfig.i18n || [];\n      return languages.length > 1 && languages;\n    },\n    currentProject: function currentProject() {\n      return _projects2.default.getCurrentProject();\n    },\n    appconfig: function appconfig() {\n      return _application2.default.getConfig();\n    },\n    isIframe: function isIframe() {\n      return !!this.appconfig.group.layout.iframe;\n    },\n    urls: function urls() {\n      return this.appconfig.urls;\n    },\n    staticurl: function staticurl() {\n      return this.urls.staticurl;\n    },\n    powered_by: function powered_by() {\n      return this.appconfig.group.powered_by;\n    },\n    clienturl: function clienturl() {\n      return this.urls.clienturl;\n    },\n    g3w_suite_logo: function g3w_suite_logo() {\n      return this.clienturl + 'images/g3wsuite_logo.png';\n    },\n    credits_logo: function credits_logo() {\n      return this.clienturl + 'images/logo_gis3w_156_85.png';\n    },\n    logo_url: function logo_url() {\n      var logo_project_url = this.currentProject.getThumbnail();\n      return logo_project_url ? logo_project_url : '' + this.appconfig.mediaurl + this.appconfig.logo_img;\n    },\n    logo_link: function logo_link() {\n      var logo_link = this.getLogoLink();\n      return logo_link ? logo_link : \"#\";\n    },\n    logo_link_target: function logo_link_target() {\n      var logo_link = this.getLogoLink();\n      return logo_link ? \"_blank\" : \"\";\n    },\n    project_title: function project_title() {\n      return this.currentProject.getState().name;\n    },\n    user: function user() {\n      return this.appconfig.user && this.appconfig.user.username ? this.appconfig.user : null;\n    },\n    login_url: function login_url() {\n      return this.appconfig.user.login_url;\n    },\n    numberOfProjectsInGroup: function numberOfProjectsInGroup() {\n      return this.appconfig.projects.length;\n    },\n    showChangeMap: function showChangeMap() {\n      console.log();\n      return this.appconfig.macrogroups.length + this.appconfig.groups.length + this.appconfig.projects.length > 1;\n    },\n    frontendurl: function frontendurl() {\n      return this.urls.frontendurl;\n    },\n    main_title: function main_title() {\n      var main_title = this.appconfig.main_map_title;\n      var group_name = this.appconfig.group.name || this.appconfig.group.slug;\n      return main_title ? main_title + ' - ' + group_name : group_name;\n    }\n  },\n  methods: {\n    templateResultLanguages: function templateResultLanguages(state) {\n      if (!state.id) {\n        return state.text;\n      }\n      return $('\\n        <div style=\"font-weight: bold; display:flex; align-items: center; justify-content: space-around;\">\\n          <img src=\"' + this.staticurl + 'img/flags/' + state.element.value.toLowerCase() + '.png\" />\\n          <span style=\"margin-left: 5px;\">' + state.text + '</span> \\n        </span>');\n    },\n    resize: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var max_width;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.isIframe) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 3;\n                return this.$nextTick();\n\n              case 3:\n                max_width = this.$refs.navbar_toggle.offsetWidth > 0 ? this.$refs.navbar.offsetWidth - this.$refs.navbar_toggle.offsetWidth : this.$refs.mainnavbar.offsetWidth - this.$refs['app-navbar-nav'].offsetWidth;\n\n                this.$refs.main_title_project_title.style.maxWidth = max_width - this.logoWidth - 15 + 'px';\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function resize() {\n        return _ref.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    showCustomModalContent: function showCustomModalContent(id) {\n      var _custom_modals$find = this.custom_modals.find(function (custommodal) {\n        return custommodal.id === id;\n      }),\n          content = _custom_modals$find.content;\n\n      this.current_custom_modal_content = content;\n    },\n    closePanel: function closePanel() {\n      sidebarService.closePanel();\n    },\n    getLogoLink: function getLogoLink() {\n      return this.appconfig.logo_link ? this.appconfig.logo_link : null;\n    },\n    openProjectsMenu: function openProjectsMenu() {\n      _gui2.default.openProjectsMenu();\n    },\n    openChangeMapMenu: function openChangeMapMenu() {\n      _gui2.default.openChangeMapMenu();\n    }\n  },\n  watch: {\n    'language': function language(_language, currentlanguage) {\n      if (currentlanguage) {\n        _application2.default.changeLanguage(_language);\n        this.cookie_law_buttonText = t('cookie_law.buttonText');\n      }\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n    this.delayTime = 0;\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.language = this.appconfig._i18n.language;\n    this.custom_modals = [];\n    this.custom_header_items_position = {\n      0: [],\n      1: [],\n      2: [],\n      3: [],\n      4: []\n    };\n    this.customlinks = Array.isArray(this.appconfig.header_custom_links) ? this.appconfig.header_custom_links.filter(function (customitem) {\n      if (customitem !== null) {\n        var id = customitem.id = uniqueId();\n        customitem.type === 'modal' && _this2.custom_modals.push({\n          id: id,\n          content: customitem.content\n        });\n        var position = 1 * (customitem.position || 0);\n        position = position > 4 ? 4 : position < 0 || Number.isNaN(position) ? 0 : position;\n        _this2.custom_header_items_position[position].push(customitem);\n        return true;\n      }\n      return false;\n    }) : [];\n\n    !!this.appconfig.credits && $.get(this.appconfig.credits).then(function (credits) {\n      return _this2.customcredits = credits !== 'None' && credits;\n    });\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this3 = this;\n\n      var rightNavBarElements, elementLenght, i, controlsidebarEl, setFloatBarMaxHeight, setModalHeight;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setModalHeight = function setModalHeight() {\n                $('#g3w-modal-overlay').css('height', $(window).height());\n              };\n\n              setFloatBarMaxHeight = function setFloatBarMaxHeight() {\n                $(controlsidebarEl).css('max-height', $(window).innerHeight());\n                $('.g3w-sidebarpanel').css('height', $(window).height() - $(\"#main-navbar\").height());\n              };\n\n              this.logoWidth = 0;\n              _context2.next = 5;\n              return this.$nextTick();\n\n            case 5:\n              rightNavBarElements = !this.isIframe ? this.$refs.mainnavbar.getElementsByTagName('ul') : [];\n              elementLenght = rightNavBarElements.length;\n\n              this.rightNavbarWidth = 15;\n              for (i = 0; i < elementLenght; i++) {\n                this.rightNavbarWidth += rightNavBarElements.item(i).offsetWidth;\n              }\n              this.language = this.appconfig.user.i18n;\n              _context2.next = 12;\n              return this.$nextTick();\n\n            case 12:\n              !this.isIframe && this.$refs.img_logo.addEventListener('load', function () {\n                _this3.logoWidth = _this3.$refs.img_logo.offsetWidth + 15;\n                _this3.resize();\n              }, { once: true });\n\n              layout.loading(false);\n              layout.setup();\n\n              layout.pushMenu.expandOnHover();\n              layout.controlSidebar._fix($(\".control-sidebar-bg\"));\n              layout.controlSidebar._fix($(\".control-sidebar\"));\n              controlsidebarEl = layout.options.controlSidebarOptions.selector;\n\n              setFloatBarMaxHeight();\n\n              $(window).resize(function () {\n                setFloatBarMaxHeight();\n                setModalHeight();\n              });\n\n            case 21:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.app.disabled),expression:\"app.disabled\"}],staticClass:\"wrapper\"},[_c('cookie-law',{attrs:{\"theme\":\"dark-lime\",\"buttonText\":_vm.cookie_law_buttonText}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('cookie_law.message'),expression:\"'cookie_law.message'\"}],attrs:{\"slot\":\"message\"},slot:\"message\"})]),_vm._v(\" \"),(!_vm.isIframe)?_c('header',{staticClass:\"main-header\"},[_c('nav',{ref:\"navbar\",staticClass:\"navbar navbar-inverse navbar-fixed-top\",attrs:{\"role\":\"navigation\"}},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"navbar-header\"},[_c('button',{ref:\"navbar_toggle\",staticClass:\"navbar-toggle\",attrs:{\"type\":\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#main-navbar\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('ellips-v'),staticStyle:{\"font-size\":\"1.3em\"}})]),_vm._v(\" \"),_c('a',{staticClass:\"sidebar-toggle\",attrs:{\"id\":\"g3w-small-screen-hamburger-sidebar\",\"href\":\"#\",\"data-toggle\":\"offcanvas\",\"role\":\"button\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('bars'),staticStyle:{\"font-size\":\"1.3em\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"logo-wrapper\",class:{'mobile': _vm.isMobile()}},[(_vm.logo_url)?_c('a',{staticClass:\"project_logo_link\",attrs:{\"href\":_vm.logo_link,\"target\":_vm.logo_link_target}},[_c('img',{ref:\"img_logo\",staticClass:\"img-responsive\",staticStyle:{\"max-width\":\"250px\"},attrs:{\"src\":_vm.logo_url}})]):_vm._e(),_vm._v(\" \"),_c('div',{ref:\"main_title_project_title\",staticClass:\"project_title_content\"},[_c('div',{staticClass:\"main_title\"},[_vm._v(_vm._s(_vm.main_title))]),_vm._v(\" \"),_c('div',{staticClass:\"sub_title\"},[_vm._v(_vm._s(_vm.project_title))])])])]),_vm._v(\" \"),_c('div',{ref:\"mainnavbar\",staticClass:\"collapse navbar-collapse\",staticStyle:{\"text-align\":\"center\",\"overflow\":\"hidden\",\"margin\":\"0 0\"},attrs:{\"id\":\"main-navbar\"}},[_c('navbarleftitems'),_vm._v(\" \"),_c('navbarrightitems'),_vm._v(\" \"),_c('ul',{ref:\"app-navbar-nav\",staticClass:\"nav navbar-nav navbar-right app-navbar-nav\"},[(!_vm.user)?_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{attrs:{\"href\":_vm.login_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('sign-in'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sign_in'),expression:\"'sign_in'\"}]})])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[0]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.showChangeMap)?_c('li',{staticClass:\"dropdown user\",attrs:{\"id\":\"changemaps\"}},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"dropdown\"},on:{\"click\":_vm.openChangeMapMenu}},[_c('i',{class:_vm.g3wtemplate.getFontClass('change-map'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('changemap'),expression:\"'changemap'\"}]})])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[1]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.user)?_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"dropdown\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('user')}),_vm._v(\" \"),_c('span',{staticClass:\"hidden-xs\"},[_vm._v(_vm._s(_vm.user.username))])]),_vm._v(\" \"),_c('ul',{staticClass:\"dropdown-menu\"},[_c('li',{staticClass:\"user-header\"},[_c('p',[_vm._v(\"\\n                    \"+_vm._s(_vm.user.first_name)+\" \"+_vm._s(_vm.user.last_name)+\"\\n                  \")])]),_vm._v(\" \"),_c('li',{staticClass:\"user-footer\"},[(_vm.user.admin_url)?_c('div',{staticClass:\"pull-left\"},[_c('a',{staticClass:\"btn btn-default btn-flat skin-color bold\",attrs:{\"href\":_vm.user.admin_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('folder')}),_vm._v(\" Admin\\n                    \")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"pull-right\"},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('logout'),expression:\"'logout'\"}],staticClass:\"btn btn-default btn-flat skin-color bold\",attrs:{\"href\":_vm.user.logout_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('sign-out'),staticStyle:{\"margin-right\":\"2px\"}})])])])])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[2]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"modal\",\"data-target\":\"#credits\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('credits'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"Credits\")])])]),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[3]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.languages)?_c('li',{staticClass:\"g3w-languages\"},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('language'),expression:\"'language'\"},{name:\"model\",rawName:\"v-model\",value:(_vm.language),expression:\"language\"}],staticClass:\"form-control\",staticStyle:{\"cursor\":\"pointer\",\"width\":\"130px\"},attrs:{\"templateSelection\":_vm.templateResultLanguages,\"templateResult\":_vm.templateResultLanguages},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.language=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.languages),function(lang){return _c('option',{key:lang[0],domProps:{\"value\":lang[0],\"selected\":lang[0] === _vm.language && 'selected'}},[_vm._v(\"\\n                  \"+_vm._s(lang[1])+\"\\n                \")])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.frontendurl)?_c('li',{staticClass:\"dropdown\"},[_c('a',{attrs:{\"href\":_vm.frontendurl}},[_c('span',[_c('i',{class:_vm.g3wtemplate.getFontClass('home')}),_vm._v(\" Home\")])])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[4]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})})],2)],1)])])]):_vm._e(),_vm._v(\" \"),_c('sidebar'),_vm._v(\" \"),_c('div',{staticClass:\"content-wrapper\",style:({paddingTop: _vm.isIframe ? 0 : null})},[_c('viewport',{attrs:{\"appState\":_vm.appState}})],1),_vm._v(\" \"),_c('floatbar'),_vm._v(\" \"),_c('div',{staticClass:\"control-sidebar-bg\"}),_vm._v(\" \"),_c('div',{staticClass:\"modal fade modal-fullscreen force-fullscreen\",attrs:{\"id\":\"full-screen-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"data-backdrop\":\"static\",\"data-keyboard\":\"false\",\"aria-labelledby\":\"full-screen-modal\",\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"credits\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-around\",\"justify-items\":\"center\",\"align-items\":\"center\"}},[(!!_vm.customcredits)?_c('div',{staticClass:\"customcredits\",domProps:{\"innerHTML\":_vm._s(_vm.customcredits)}}):_vm._e(),_vm._v(\" \"),(_vm.powered_by)?_c('div',[_c('div',{staticClass:\"g3w-credits-block\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('credits.g3wSuiteFramework'),expression:\"'credits.g3wSuiteFramework'\"}],staticClass:\"credit-title-logo\",staticStyle:{\"background-color\":\"#95ad36\",\"padding\":\"5px\",\"border-radius\":\"3px\",\"color\":\"#ffffff\"}}),_vm._v(\" \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://g3wsuite.it/\"}},[_c('img',{staticClass:\"g3w-suite-logo\",attrs:{\"src\":_vm.g3w_suite_logo,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('credits.g3wSuiteDescription'),expression:\"'credits.g3wSuiteDescription'\"}],staticStyle:{\"margin-top\":\"10px\"}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('credits.productOf'),expression:\"'credits.productOf'\",arg:\"pre\"}],staticClass:\"credit-title-logo g3w-credits-block\",staticStyle:{\"font-size\":\"1em\",\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('a',{staticStyle:{\"text-align\":\"center!important\"},attrs:{\"href\":\"http://www.gis3w.it\",\"target\":\"_blank\"}},[_c('img',{staticClass:\"img-responsive center-block\",staticStyle:{\"margin-left\":\"5px\"},attrs:{\"width\":\"60\",\"src\":_vm.credits_logo,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('address',{staticStyle:{\"line-height\":\"1.3\",\"text-align\":\"center\",\"margin-top\":\"5px\",\"display\":\"flex\",\"justify-content\":\"center\"},attrs:{\"id\":\"address-credits\"}},[_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('marker'),staticStyle:{\"color\":\"#95ad36\",\"font-weight\":\"bold\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Montecatini Terme - Italy\\n                \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('mobile'),staticStyle:{\"color\":\"#95ad36\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"  +39 393 8534336\\n                \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('mail'),staticStyle:{\"color\":\"#95ad36\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('a',{staticStyle:{\"color\":\"#000000\"},attrs:{\"href\":\"mailto:info@gis3w.it\"}},[_vm._v(\" info@gis3w.it\")])])])]):_vm._e()])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"custom_modal\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\",domProps:{\"innerHTML\":_vm._s(_vm.current_custom_modal_content)}})])])],1)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",staticStyle:{\"color\":\"#ffffff\",\"font-weight\":\"bold\",\"opacity\":\"1\",\"position\":\"absolute\",\"right\":\"25px\",\"top\":\"20px\"},attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\n\n},{\"components/HeaderItem.vue\":233,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"mixins\":342,\"services/application\":350,\"services/gui\":360,\"store/projects\":378,\"vue-cookie-law\":\"vue-cookie-law\"}],195:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  props: {\n    showdata: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      id: 'graphline' + getUniqueDomId(),\n      selectitems: [],\n      data: [],\n      components: [],\n      config: {\n        data: {\n          columns: [['x'], ['y']]\n        }\n      },\n      size: {\n        width: 0,\n        height: 0\n      }\n    };\n  },\n\n  methods: {\n    addComponent: function addComponent(component) {\n      this.components.push(component);\n    },\n    addComponents: function addComponents() {\n      var _this = this;\n\n      var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      components.forEach(function (component) {\n        return _this.addComponent(component);\n      });\n    },\n    setConfig: function setConfig() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.config = config;\n    },\n    setDataOffset: function setDataOffset(offset) {\n      var render = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var data = this.getData();\n      for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        item.value += offset;\n      }\n      if (render) {\n        this.resize();\n      }\n    },\n    getSelectedItems: function getSelectedItems() {\n      return this.selectitems;\n    },\n    selectItem: function selectItem(id) {\n      this.chart.select(['y'], [id]);\n    },\n    unselectItem: function unselectItem(id) {\n      this.chart.unselect(['y'], [id]);\n    },\n    selectItems: function selectItems() {\n      var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.chart.select([y], ids);\n    },\n    unselectItems: function unselectItems() {\n      var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.chart.unselect(['y'], ids);\n    },\n    unselectAll: function unselectAll() {\n      this.chart.unselect();\n    },\n    selectAll: function selectAll() {\n      this.chart.select();\n    },\n    getData: function getData() {\n      return this.data;\n    },\n    resize: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            width = _ref2.width,\n            height = _ref2.height;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.chart.resize({\n                  width: width,\n                  height: height || $('#' + this.id).height() - 4\n                });\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function resize() {\n        return _ref.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    _setAllowedSpace: function _setAllowedSpace() {\n      if (this.components && this.components.length) this.size.height = document.querySelector('.g3wform_content').offsetHeight - this.$el.offsetHeight - document.querySelector('.g3wform_header').offsetHeight - 50;\n    },\n    _setMaxMin: function _setMaxMin(_ref3) {\n      var value = _ref3.value,\n          max = _ref3.max,\n          min = _ref3.min;\n\n      min = value ? +value : +min;\n      max = value ? +value : +max;\n      if (min < this.chart.axis.min().y) this.chart.axis.min(min);else if (max > this.chart.axis.max().y) this.chart.axis.max(max);else {\n        var dataValues = this.data.map(function (data) {\n          return +data.value;\n        });\n        this.chart.axis.max(Math.max.apply(Math, _toConsumableArray(dataValues)));\n        this.chart.axis.min(Math.min.apply(Math, _toConsumableArray(dataValues)));\n      }\n      this.resize();\n    },\n    changeItems: function changeItems(items) {\n      if (items.length === 1) this._setMaxMin(items[0].value);else {\n        var max = Math.max.apply(Math, _toConsumableArray(items.map(function (item) {\n          return +item.value;\n        })));\n        var min = Math.min.apply(Math, _toConsumableArray(items.map(function (item) {\n          return +item.value;\n        })));\n        this._setMaxMin({\n          max: max,\n          min: min\n        });\n      }\n      this.resize();\n    },\n    changeItem: function changeItem(_ref4) {\n      var item = _ref4.item,\n          _ref4$render = _ref4.render,\n          render = _ref4$render === undefined ? true : _ref4$render;\n\n      var value = item.value;\n      this._setMaxMin({ value: value });\n      if (render) {\n        this.resize();\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _gui2.default.on('resize', _this2.resize);\n      var self = _this2;\n      _this2.config.data.onselected = function (evt) {\n        var _temp = [].concat(_toConsumableArray(self.selectitems), [evt]);\n        self.selectitems = _temp;\n      };\n      _this2.config.data.onunselected = function (evt) {\n        self.selectitems = self.selectitems.filter(function (selectitem) {\n          return selectitem.index !== evt.index;\n        });\n      };\n      _this2.chart = c3.generate(_extends({\n        bindto: '#' + _this2.id\n      }, _this2.config));\n      var data = _this2.chart.data()[0] ? _this2.chart.data()[0].values : [];\n      data.forEach(function (item) {\n        _this2.data.push(item);\n      });\n      _this2._setAllowedSpace();\n\n      _this2.$emit('chart-ready', _this2.chart);\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.data = this.selectitems = null;\n    this.chart.destroy();\n    this.chart = null;\n    _gui2.default.off('resize', this.resize);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chart_wrapper\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\"}},[_c('div',{staticStyle:{\"height\":\"100%\",\"min-height\":\"200px\",\"background-color\":\"#ffffff\"},attrs:{\"id\":_vm.id}}),_vm._v(\" \"),_vm._l((_vm.components),function(component){return _c('div',[_c('span',{staticClass:\"divider\"}),_vm._v(\" \"),_c(component,{tag:\"component\",attrs:{\"data\":_vm.data,\"selectitems\":_vm.selectitems,\"size\":_vm.size},on:{\"change-item\":_vm.changeItem,\"change-items\":_vm.changeItems,\"select-item\":_vm.selectItem,\"select-all\":_vm.selectAll,\"unselect-all\":_vm.unselectAll,\"unselect-item\":_vm.unselectItem}})],1)})],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"services/gui\":360}],196:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _CatalogChangeMapThemes = require('components/CatalogChangeMapThemes.vue');\n\nvar _CatalogChangeMapThemes2 = _interopRequireDefault(_CatalogChangeMapThemes);\n\nvar _CatalogLayerContextMenu = require('components/CatalogLayerContextMenu.vue');\n\nvar _CatalogLayerContextMenu2 = _interopRequireDefault(_CatalogLayerContextMenu);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _mapControls = require('store/map-controls');\n\nvar _mapControls2 = _interopRequireDefault(_mapControls);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar DEFAULT_ACTIVE_TAB = 'layers';\n\nexports.default = {\n  data: function data() {\n    var legend = this.$options.legend;\n    legend.place = _application2.default.getCurrentProject().getLegendPosition() || 'tab';\n    return {\n      state: null,\n      legend: legend,\n      showlegend: false,\n      currentBaseLayer: null,\n      activeTab: null,\n      loading: false\n    };\n  },\n\n  components: {\n    'changemapthemes': _CatalogChangeMapThemes2.default,\n    'cataloglayercontextmenu': _CatalogLayerContextMenu2.default\n  },\n  computed: {\n    showTocTools: function showTocTools() {\n      var _project$state$map_th = this.project.state.map_themes,\n          map_themes = _project$state$map_th === undefined ? [] : _project$state$map_th;\n\n      var show = map_themes.length > 1;\n      return show;\n    },\n    project: function project() {\n      return this.state.prstate.currentProject;\n    },\n    title: function title() {\n      return this.project.state.name;\n    },\n    baselayers: function baselayers() {\n      return this.project.state.baselayers;\n    },\n    hasBaseLayers: function hasBaseLayers() {\n      return this.project.state.baselayers.length > 0;\n    },\n    hasLayers: function hasLayers() {\n      var layerstresslength = 0;\n      this.state.layerstrees.forEach(function (layerstree) {\n        return layerstresslength += layerstree.tree.length;\n      });\n      return this.state.external.vector.length > 0 || layerstresslength > 0 || this.state.layersgroups.length > 0;\n    }\n  },\n  methods: {\n    changeMapTheme: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(map_theme) {\n        var changes, changeStyleLayersId;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.closeContent();\n                _context.next = 3;\n                return this.$options.service.changeMapTheme(map_theme);\n\n              case 3:\n                changes = _context.sent;\n                changeStyleLayersId = Object.keys(changes.layers).filter(function (layerId) {\n                  if (changes.layers[layerId].style) {\n                    if (!changes.layers[layerId].visible) {\n                      var layer = _catalogLayers2.default.getLayerById(layerId);\n\n                      layer.clearCategories();\n                      layer.change();\n                    }\n                    return true;\n                  }\n                });\n\n                this.legend.place === 'tab' ? _catalogeventhub2.default.$emit('layer-change-style') : changeStyleLayersId.forEach(function (layerId) {\n                  _catalogeventhub2.default.$emit('layer-change-style', {\n                    layerId: layerId\n                  });\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function changeMapTheme(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return changeMapTheme;\n    }(),\n    delegationClickEventTab: function delegationClickEventTab(evt) {\n      this.activeTab = evt.target.attributes['aria-controls'] ? evt.target.attributes['aria-controls'].value : this.activeTab;\n    },\n    showLegend: function showLegend(bool) {\n      this.showlegend = bool;\n    },\n    setBaseLayer: function setBaseLayer(id) {\n      this.currentBaseLayer = id;\n      this.project.setBaseLayer(id);\n      _application2.default.setBaseLayerId(id);\n    },\n    getSrcBaseLayerImage: function getSrcBaseLayerImage(baseLayer) {\n      var type = baseLayer && baseLayer.servertype || baseLayer;\n      var image = void 0;\n      var customimage = false;\n      switch (type) {\n        case 'OSM':\n          image = 'osm.png';\n          break;\n        case 'Bing':\n          var subtype = baseLayer.source.subtype;\n          image = 'bing' + subtype + '.png';\n          break;\n        case 'TMS':\n        case 'WMTS':\n          if (baseLayer.icon) {\n            customimage = true;\n            image = baseLayer.icon;\n            break;\n          }\n        default:\n          image = 'nobaselayer.png';\n      }\n      return !customimage ? _gui2.default.getResourcesUrl() + 'images/' + image : image;\n    }\n  },\n  watch: {\n    'state.external.wms': function stateExternalWms(newlayers, oldlayers) {\n      if (oldlayers && newlayers.length === 0) {\n        this.activeTab = this.project.state.catalog_tab || DEFAULT_ACTIVE_TAB;\n      }\n    },\n\n    'state.prstate.currentProject': {\n      handler: function () {\n        var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(project, oldproject) {\n          var _this = this;\n\n          var activeTab;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  activeTab = project.state.catalog_tab || DEFAULT_ACTIVE_TAB;\n\n                  this.loading = activeTab === 'baselayers';\n                  _context2.next = 4;\n                  return this.$nextTick();\n\n                case 4:\n                  setTimeout(function () {\n                    _this.loading = false;\n                    _this.activeTab = activeTab;\n                  }, activeTab === 'baselayers' ? 500 : 0);\n\n                case 5:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function handler(_x2, _x3) {\n          return _ref2.apply(this, arguments);\n        }\n\n        return handler;\n      }(),\n\n      immediate: false\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.layerpositions = _constant.MAP_SETTINGS.LAYER_POSITIONS.getPositions();\n\n    _catalogeventhub2.default.$on('unselectionlayer', function (storeid, layerstree) {\n      if (layerstree.external) {\n        _gui2.default.getService('queryresults').clearSelectionExtenalLayer(layerstree);\n      } else {\n        _catalogLayers2.default.getLayersStore(storeid).getLayerById(layerstree.id).clearSelectionFids();\n      }\n    });\n\n    _catalogeventhub2.default.$on('activefiltertokenlayer', function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(storeid, layerstree) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _catalogLayers2.default.getLayersStore(storeid).getLayerById(layerstree.id).toggleFilterToken();\n\n              case 2:\n                layerstree.filter.active = _context3.sent;\n\n              case 3:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this2);\n      }));\n\n      return function (_x4, _x5) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _catalogeventhub2.default.$on('treenodevisible', function (layer) {\n      _gui2.default.getService('map').emit('cataloglayervisible', layer);\n    });\n\n    _catalogeventhub2.default.$on('treenodeselected', function (storeid, node) {\n      var layer = _catalogLayers2.default.getLayersStore(storeid).getLayerById(node.id);\n\n      if (!layer.isSelected()) {\n        _gui2.default.getService('catalog').setSelectedExternalLayer({ layer: null, type: 'vector', selected: false });\n      }\n      setTimeout(function () {\n        _catalogLayers2.default.getLayersStore(storeid).selectLayer(node.id, !layer.isSelected());\n\n        _gui2.default.getService('map').emit('cataloglayerselected', layer);\n      });\n    });\n\n    _catalogeventhub2.default.$on('treenodeexternalselected', function (layer) {\n      _gui2.default.getService('catalog').setSelectedExternalLayer({ layer: layer, type: 'vector', selected: !layer.selected }).then(function () {\n        if (layer.selected) {\n          _catalogLayers2.default.getLayersStores().forEach(function (layer) {\n            layer.selectLayer(null, false);\n          });\n        }\n      });\n    });\n\n    _mapControls2.default.onafter('registerControl', function (id, control) {\n      if ('querybbox' === id) {\n        control.getInteraction().on('propertychange', function (evt) {\n          if ('active' === evt.key) _this2.state.highlightlayers = !evt.oldValue;\n        });\n      }\n    });\n  },\n  beforeMount: function beforeMount() {\n    this.currentBaseLayer = this.project.state.initbaselayer;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tabbable-panel catalog\",attrs:{\"id\":\"catalog\"},on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{staticClass:\"tabbable-line\"},[_c('ul',{staticClass:\"nav nav-tabs catalalog-nav-tabs\",attrs:{\"role\":\"tablist\"},on:{\"!click\":function($event){return _vm.delegationClickEventTab($event)}}},[(_vm.hasLayers)?_c('li',{class:{ active: _vm.activeTab === 'layers' && 'hasLayers' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('data'),expression:\"'data'\"}],attrs:{\"href\":\"#layers\",\"aria-controls\":\"layers\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"tree\"}})]):_vm._e(),_vm._v(\" \"),(_vm.state.external.wms.length)?_c('li',{class:{ active: _vm.activeTab === 'externalwms' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('externalwms'),expression:\"'externalwms'\"}],attrs:{\"href\":\"#externalwms\",\"aria-controls\":\"externalwms\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"externalwms\"}})]):_vm._e(),_vm._v(\" \"),(_vm.hasBaseLayers)?_c('li',{class:{ active: _vm.activeTab === 'baselayers' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('baselayers'),expression:\"'baselayers'\"}],attrs:{\"href\":\"#baselayers\",\"aria-controls\":\"baselayers\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"baselayers\"}})]):_vm._e(),_vm._v(\" \"),(_vm.legend.place ===  'tab' && _vm.showlegend)?_c('li',{class:{ active: _vm.activeTab === 'legend' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('legend'),expression:\"'legend'\"}],attrs:{\"href\":\"#legend\",\"aria-controls\":\"legend\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"legend\"}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"tab-content catalog-tab-content\"},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane\",class:{ active: _vm.activeTab === 'layers' && 'hasLayers' },attrs:{\"role\":\"tabpanel\",\"id\":\"layers\"}},[_c('helpdiv',{attrs:{\"message\":\"catalog_items.helptext\"}}),_vm._v(\" \"),(_vm.showTocTools)?_c('div',{staticStyle:{\"margin\":\"2px\"},attrs:{\"id\":\"g3w-catalog-toc-layers-toolbar\"}},[_c('changemapthemes',{key:_vm.project.state.gid,attrs:{\"map_themes\":_vm.project.state.map_themes},on:{\"change-map-theme\":_vm.changeMapTheme}})],1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layerstrees),function(_layerstree){return _c('ul',{key:_layerstree.storeid,staticClass:\"tree-root root project-root\"},_vm._l((_layerstree.tree),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"highlightlayers\":_vm.state.highlightlayers,\"layerstree\":layerstree,\"parentFolder\":false,\"root\":true,\"legendplace\":_vm.legend.place,\"parent_mutually_exclusive\":false,\"storeid\":_layerstree.storeid}})}),1)}),_vm._v(\" \"),(_vm.state.external.vector.length)?_c('ul',{staticClass:\"g3w-external_layers-group\"},_vm._l((_vm.state.external.vector),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"externallayers\":_vm.state.external.vector,\"layerstree\":layerstree}})}),1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layersgroups),function(layersgroup){return _c('ul',[_c('layers-group',{attrs:{\"layersgroup\":layersgroup}})],1)})],2),_vm._v(\" \"),(_vm.state.external.wms.length)?_c('div',{staticClass:\"tab-pane\",class:{ active: _vm.activeTab === 'externalwms' },attrs:{\"role\":\"tabpanel\",\"id\":\"externalwms\"}},[_c('ul',{staticClass:\"g3w-external_wms_layers-group\"},_vm._l((_vm.state.external.wms),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"externallayers\":_vm.state.external.wms,\"layerstree\":layerstree}})}),1)]):_vm._e(),_vm._v(\" \"),(_vm.hasBaseLayers)?_c('div',{staticClass:\"tab-pane baselayers\",class:{ active: _vm.activeTab === 'baselayers' || !_vm.hasLayers },attrs:{\"role\":\"tabpanel\",\"id\":\"baselayers\"}},[_c('ul',{class:{'mobile': _vm.isMobile()},style:({gridTemplateColumns: (\"repeat(auto-fill, minmax(\" + (_vm.baselayers.length > 4 ? 80 : 120) + \"px, 1fr))\")}),attrs:{\"id\":\"baselayers-content\"}},[_vm._l((_vm.baselayers),function(baselayer){return (!baselayer.fixed)?_c('li',{key:baselayer.title},[_c('img',{staticClass:\"img-responsive img-thumbnail baselayer\",style:({opacity: _vm.currentBaseLayer === baselayer.id ? 1 : 0.5}),attrs:{\"src\":_vm.getSrcBaseLayerImage(baselayer)},on:{\"click\":function($event){$event.stopPropagation();return _vm.setBaseLayer(baselayer.id)}}}),_vm._v(\" \"),_c('div',{staticClass:\"baseselayer-text text-center\"},[_vm._v(_vm._s(baselayer.title))])]):_vm._e()}),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){$event.stopPropagation();return _vm.setBaseLayer(null)}}},[_c('img',{staticClass:\"img-responsive img-thumbnail baselayer\",style:({opacity: _vm.currentBaseLayer === null ? 1 : 0.5}),attrs:{\"src\":_vm.getSrcBaseLayerImage(null)}}),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('nobaselayer'),expression:\"'nobaselayer'\"}],staticClass:\"baseselayer-text text-center\"})])],2)]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layerstrees),function(_layerstree){return (_vm.legend.place === 'tab')?_c('layerslegend',{key:_layerstree.id,attrs:{\"legend\":_vm.legend,\"active\":_vm.activeTab === 'legend',\"layerstree\":_layerstree},on:{\"showlegend\":_vm.showLegend}}):_vm._e()})],2)]),_vm._v(\" \"),_c('cataloglayercontextmenu',{attrs:{\"external\":_vm.state.external}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"components/CatalogChangeMapThemes.vue\":197,\"components/CatalogLayerContextMenu.vue\":198,\"gui/catalog/vue/catalogeventhub\":113,\"services/application\":350,\"services/gui\":360,\"store/catalog-layers\":373,\"store/map-controls\":375}],197:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"changemapthemes\",\n  data: function data() {\n    var collapsed = _projects2.default.getCurrentProject().state.toc_themes_init_status === 'collapsed';\n    var current_map_theme = this.map_themes.find(function (map_theme) {\n      return map_theme.default;\n    });\n    return {\n      current_map_theme: current_map_theme ? current_map_theme.theme : null,\n      collapsed: collapsed\n    };\n  },\n\n  props: {\n    map_themes: {\n      type: Array,\n      default: []\n    }\n  },\n  watch: {\n    'current_map_theme': {\n      immediate: false,\n      handler: function handler(map_theme) {\n        this.$emit('change-map-theme', map_theme);\n      }\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"sidebar-menu\"},[_c('li',{staticClass:\"treeview sidebaritem skin-border-color\",staticStyle:{\"margin-bottom\":\"5px\",\"border-bottom\":\"2px solid\"},attrs:{\"id\":\"g3w-catalog-toc-views\"}},[_c('a',{ref:\"g3w-map-theme-ancor\",staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"padding\":\"5px 5px 5px 2px\"},attrs:{\"href\":\"#\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('caret-down'),staticStyle:{\"padding\":\"3px\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('eye'),staticStyle:{\"padding\":\"0 0 0 4px\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.current_map_theme ),expression:\"current_map_theme \"}],staticClass:\"treeview-label g3w-long-text\",staticStyle:{\"overflow\":\"hidden\",\"white-space\":\"normal\",\"text-overflow\":\"ellipsis\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('sdk.catalog.current_map_theme_prefix'),expression:\"'sdk.catalog.current_map_theme_prefix'\",arg:\"pre\"}],staticStyle:{\"color\":\"#cccccc !important\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\",staticStyle:{\"font-size\":\"1.1em\"}},[_vm._v(_vm._s(_vm.current_map_theme))])]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.current_map_theme),expression:\"!current_map_theme\"}],staticClass:\"treeview-label\",staticStyle:{\"color\":\"#cccccc !important\",\"font-weight\":\"bold\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.choose_map_theme'),expression:\"'sdk.catalog.choose_map_theme'\"}]})])]),_vm._v(\" \"),_c('ul',{staticClass:\"treeview-menu\",class:{'menu-open': !_vm.collapsed},style:({display: _vm.collapsed ? 'none' : 'block'}),attrs:{\"id\":\"g3w-catalog-views\"}},[_c('li',{staticStyle:{\"padding\":\"5px 5px 5px 17px\"}},_vm._l((_vm.map_themes),function(map_theme,index){return _c('div',{key:map_theme.theme},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.current_map_theme),expression:\"current_map_theme\"}],staticClass:\"magic-radio\",attrs:{\"type\":\"radio\",\"name\":\"radio\",\"id\":(\"g3w-map_theme-\" + index)},domProps:{\"value\":map_theme.theme,\"checked\":map_theme.default,\"checked\":_vm._q(_vm.current_map_theme,map_theme.theme)},on:{\"change\":function($event){_vm.current_map_theme=map_theme.theme}}}),_vm._v(\" \"),_c('label',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"},attrs:{\"for\":(\"g3w-map_theme-\" + index)}},[_c('span',{staticClass:\"g3w-long-text\"},[_vm._v(_vm._s(map_theme.theme))])])])}),0)])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-06d0cd43\"\n\n},{\"store/projects\":378}],198:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"li .item-text[data-v-7828b5c0]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _vueColor = require('vue-color');\n\nvar _LayerOpacityPicker = require('components/LayerOpacityPicker.vue');\n\nvar _LayerOpacityPicker2 = _interopRequireDefault(_LayerOpacityPicker);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar shpwrite = require('shp-write');\nvar TableComponent = require('gui/table/vue/table');\n\nvar OFFSETMENU = {\n  top: 50,\n  left: 15\n};\n\nexports.default = {\n  name: 'Cataloglayermenu',\n  props: {\n    external: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      layerMenu: {\n        show: false,\n        top: 0,\n        left: 0,\n        tooltip: false,\n        name: '',\n        layer: null,\n        loading: {\n          data_table: false,\n          shp: false,\n          csv: false,\n          gpx: false,\n          gpkg: false,\n          xls: false\n        },\n\n        colorMenu: {\n          show: false,\n          top: 0,\n          left: 0,\n          color: null\n        },\n\n        stylesMenu: {\n          show: false,\n          top: 0,\n          left: 0,\n          style: null,\n          default: null\n        },\n\n        metadatainfoMenu: {\n          show: false,\n          top: 0,\n          left: 0\n        }\n      }\n    };\n  },\n\n  components: {\n    'chrome-picker': _vueColor.Chrome,\n    'layer-opacity-picker': _LayerOpacityPicker2.default\n  },\n  directives: {\n    'click-outside-layer-menu': {\n      bind: function bind(el, binding, vnode) {\n        this.event = function (event) {\n          if (el === event.target || el.contains(event.target)) {\n            return;\n          }\n          event.stopPropagation();\n          vnode.context[binding.expression](event);\n        };\n        document.body.addEventListener('click', this.event, true);\n      },\n      unbind: function unbind(el) {\n        document.body.removeEventListener('click', this.event, true);\n      }\n    }\n\n  },\n  methods: {\n    addLayerMenuItem: function addLayerMenuItem() {\n      var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.layerMenu = _extends({}, this.layerMenu, item);\n    },\n    _hideMenu: function _hideMenu() {\n      this.layerMenu.show = false;\n      this.layerMenu.styles = false;\n      this.layerMenu.loading.data_table = false;\n      this.layerMenu.loading.shp = false;\n      this.layerMenu.loading.csv = false;\n      this.layerMenu.loading.gpx = false;\n      this.layerMenu.loading.gpkg = false;\n      this.layerMenu.loading.xls = false;\n      this.layerMenu.loading.geotiff = false;\n    },\n    closeLayerMenu: function closeLayerMenu() {\n      var menu = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._hideMenu();\n      this.showColorMenu(false);\n      menu.show = false;\n    },\n    onbeforeDestroyChangeColor: function onbeforeDestroyChangeColor() {\n      this.$refs.color_picker.$off();\n    },\n    onChangeColor: function onChangeColor(val) {\n      var mapService = _gui2.default.getService('map');\n      this.layerMenu.layer.color = val;\n      var layer = mapService.getLayerByName(this.layerMenu.name);\n      var style = layer.getStyle();\n      style._g3w_options.color = val;\n      layer.setStyle(style);\n    },\n    canShowWmsUrl: function canShowWmsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer ? !!(!originalLayer.isType('table') && originalLayer.getFullWmsUrl()) : false;\n    },\n    canShowWfsUrl: function canShowWfsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer && !originalLayer.isType('table') && originalLayer.isWfsActive();\n    },\n    canDownloadXls: function canDownloadXls(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isXlsDownlodable() : false;\n    },\n    canDownloadGpx: function canDownloadGpx(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGpxDownlodable() : false;\n    },\n    canDownloadGpkg: function canDownloadGpkg(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGpkgDownlodable() : false;\n    },\n    canDownloadCsv: function canDownloadCsv(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isCsvDownlodable() : false;\n    },\n    canDownloadGeoTIFF: function canDownloadGeoTIFF(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGeoTIFFDownlodable() : false;\n    },\n    canDownloadShp: function canDownloadShp(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isShpDownlodable() : false;\n    },\n    getWmsUrl: function getWmsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer.getCatalogWmsUrl();\n    },\n    getWfsUrl: function getWfsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer.getCatalogWfsUrl();\n    },\n    copyUrl: function copyUrl() {\n      var _this = this;\n\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          evt = _ref.evt,\n          layerId = _ref.layerId,\n          type = _ref.type;\n\n      var url = this['get' + type + 'Url'](layerId);\n      var ancorEement = document.createElement('a');\n      ancorEement.href = url;\n      var tempInput = document.createElement('input');\n      tempInput.value = ancorEement.href;\n      document.body.appendChild(tempInput);\n      tempInput.select();\n      document.execCommand(\"copy\");\n      $(evt.target).attr('data-original-title', t('sdk.catalog.menu.wms.copied')).tooltip('show');\n      $(evt.target).attr('title', this.copywmsurltooltip).tooltip('fixTitle');\n      document.body.removeChild(tempInput);\n      ancorEement = null;\n      setTimeout(function () {\n        return _this._hideMenu();\n      }, 600);\n    },\n    downloadGeoTIFF: function downloadGeoTIFF(layerId) {\n      var _this2 = this;\n\n      var map_extent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.geotiff = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGeoTIFF({\n        data: map_extent ? {\n          map_extent: _gui2.default.getService('map').getMapExtent().toString()\n        } : undefined\n      }).catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this2.layerMenu.loading.geotiff = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this2._hideMenu();\n      });\n    },\n    downloadShp: function downloadShp(layerId) {\n      var _this3 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.shp = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getShp().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this3.layerMenu.loading.shp = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this3._hideMenu();\n      });\n    },\n    downloadCsv: function downloadCsv(layerId) {\n      var _this4 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.csv = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getCsv().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this4.layerMenu.loading.csv = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this4._hideMenu();\n      });\n    },\n    downloadXls: function downloadXls(layerId) {\n      var _this5 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.xls = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getXls().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this5.layerMenu.loading.xls = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this5._hideMenu();\n      });\n    },\n    downloadGpx: function downloadGpx(layerId) {\n      var _this6 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.gpx = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGpx().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this6.layerMenu.loading.gpx = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this6._hideMenu();\n      });\n    },\n    downloadGpkg: function downloadGpkg(layerId) {\n      var _this7 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.gpkg = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGpkg().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this7.layerMenu.loading.gpkg = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this7._hideMenu();\n      });\n    },\n    changeLayerMapPosition: function changeLayerMapPosition(_ref2) {\n      var position = _ref2.position,\n          layer = _ref2.layer;\n\n      var mapService = _gui2.default.getService('map');\n      var changed = layer.position !== position;\n      if (changed) {\n        layer.position = position;\n        mapService.changeLayerMapPosition({\n          id: layer.id,\n          position: position\n        });\n        changed && this._hideMenu();\n      }\n    },\n    setWMSOpacity: function setWMSOpacity(_ref3) {\n      var _ref3$id = _ref3.id,\n          id = _ref3$id === undefined ? this.layerMenu.layer.id : _ref3$id,\n          opacity = _ref3.value;\n\n      this.layerMenu.layer.opacity = opacity;\n      var mapService = _gui2.default.getService('map');\n      mapService.changeLayerOpacity({\n        id: id,\n        opacity: opacity\n      });\n    },\n    zoomToLayer: function zoomToLayer(layer) {\n      _gui2.default.getService('map').goToBBox([layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy], layer.epsg);\n      this._hideMenu();\n    },\n    canZoom: function canZoom(layer) {\n      return layer.bbox && [layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy].find(function (coordinate) {\n        return coordinate > 0;\n      });\n    },\n    getGeometryType: function getGeometryType(layerId) {\n      var external = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var geometryType = void 0;\n      if (external) {\n        var layer = this.external.vector.find(function (layer) {\n          return layer.id === layerId;\n        });\n        if (layer) geometryType = layer.geometryType;\n      } else {\n        var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n        geometryType = originalLayer.config.geometrytype;\n      }\n      geometryType = geometryType && geometryType !== 'NoGeometry' ? geometryType : '';\n      return geometryType;\n    },\n    downloadExternalShapefile: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(layer) {\n        var EPSG4326, mapService, vectorLayer, GeoJSONFormat, features, GeoJSONFile, name;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                EPSG4326 = 'EPSG:4326';\n\n                this.layerMenu.loading.shp = true;\n                mapService = _gui2.default.getService('map');\n                vectorLayer = mapService.getLayerByName(layer.name);\n                GeoJSONFormat = new ol.format.GeoJSON();\n                features = vectorLayer.getSource().getFeatures();\n\n                if (layer.crs !== EPSG4326) {\n                  features = features.map(function (feature) {\n                    var clonefeature = feature.clone();\n                    clonefeature.getGeometry().transform(layer.crs, EPSG4326);\n                    return clonefeature;\n                  });\n                }\n                GeoJSONFile = GeoJSONFormat.writeFeaturesObject(features, {\n                  featureProjection: EPSG4326\n                });\n                name = layer.name.split('.' + layer.type)[0];\n\n                shpwrite.download(GeoJSONFile, {\n                  folder: name,\n                  types: {\n                    point: name,\n                    mulipoint: name,\n                    polygon: name,\n                    multipolygon: name,\n                    line: name,\n                    polyline: name,\n                    multiline: name\n                  }\n                });\n                _context.next = 12;\n                return this.$nextTick();\n\n              case 12:\n                this.layerMenu.loading.shp = false;\n                this._hideMenu();\n\n              case 14:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function downloadExternalShapefile(_x6) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return downloadExternalShapefile;\n    }(),\n    showAttributeTable: function showAttributeTable(layerId) {\n      var _this8 = this;\n\n      this.layerMenu.loading.data_table = false;\n      _gui2.default.closeContent();\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      this.layerMenu.loading.data_table = true;\n      var tableContent = new TableComponent({\n        layer: layer,\n        formatter: 1\n      });\n      tableContent.on('show', function () {\n        _this8.isMobile() && _gui2.default.hideSidebar();\n        _this8.layerMenu.loading.data_table = false;\n        _this8._hideMenu();\n      });\n      tableContent.show({\n        title: layer.getName()\n      });\n    },\n    startEditing: function startEditing() {\n      var _this9 = this;\n\n      var layer = void 0;\n      var catallogLayersStores = _catalogLayers2.default.getLayersStores();\n      catallogLayersStores.forEach(function (layerStore) {\n        layer = layerStore.getLayerById(_this9.layerMenu.layer.id);\n        if (layer) {\n          layer.getLayerForEditing();\n          return false;\n        }\n      });\n    },\n    setCurrentLayerStyle: function setCurrentLayerStyle(index) {\n      var _this10 = this;\n\n      var changed = false;\n      this.layerMenu.layer.styles.forEach(function (style, idx) {\n        if (idx === index) {\n          _this10.layerMenu.stylesMenu.style = style.name;\n          changed = !style.current;\n          style.current = true;\n        } else style.current = false;\n      });\n      if (changed) {\n        var layerId = this.layerMenu.layer.id;\n        var layer = _catalogLayers2.default.getLayerById(this.layerMenu.layer.id);\n        if (layer) {\n          _catalogeventhub2.default.$emit('layer-change-style', {\n            layerId: layerId,\n            style: this.layerMenu.stylesMenu.style\n          });\n          layer.change();\n        }\n      }\n      this.closeLayerMenu(this.layerMenu.stylesMenu);\n    },\n    showSubMenuContext: function () {\n      var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref5) {\n        var menu = _ref5.menu,\n            bool = _ref5.bool,\n            evt = _ref5.evt;\n        var elem, contextmenu, menuentry, submenu, height, maxH;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!bool) {\n                  _context2.next = 15;\n                  break;\n                }\n\n                elem = $(evt.target);\n\n                menu.top = elem.offset().top;\n                menu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 + OFFSETMENU.left;\n                contextmenu = $(this.$refs['layer-menu']);\n                menuentry = $(evt.target);\n                submenu = menuentry.children('ul');\n                height = submenu.height();\n                maxH = contextmenu.height();\n\n                menu.maxHeight = height >= maxH ? maxH : null;\n                menu.overflowY = height >= maxH ? 'scroll' : null;\n                menu.top = (height >= maxH ? contextmenu : menuentry).offset().top;\n                menu.left = this.isMobile() ? 0 : menuentry.offset().left + menuentry.width() + (menuentry.outerWidth() - menuentry.width()) / 2 + OFFSETMENU.left;\n                _context2.next = 15;\n                return this.$nextTick();\n\n              case 15:\n                menu.show = bool;\n\n              case 16:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function showSubMenuContext(_x7) {\n        return _ref6.apply(this, arguments);\n      }\n\n      return showSubMenuContext;\n    }(),\n    showStylesMenu: function () {\n      var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(bool, evt) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.showSubMenuContext({\n                  menu: this.layerMenu.stylesMenu,\n                  bool: bool,\n                  evt: evt\n                });\n\n              case 1:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function showStylesMenu(_x8, _x9) {\n        return _ref7.apply(this, arguments);\n      }\n\n      return showStylesMenu;\n    }(),\n    showMetadataInfo: function () {\n      var _ref8 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(bool, evt) {\n        var elem;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!bool) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                elem = $(evt.target);\n\n                this.layerMenu.metadatainfoMenu.top = elem.offset().top;\n                this.layerMenu.metadatainfoMenu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 + OFFSETMENU.left;\n                _context4.next = 6;\n                return this.$nextTick();\n\n              case 6:\n                this.layerMenu.metadatainfoMenu.show = bool;\n\n              case 7:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function showMetadataInfo(_x10, _x11) {\n        return _ref8.apply(this, arguments);\n      }\n\n      return showMetadataInfo;\n    }(),\n    showColorMenu: function showColorMenu(bool, evt) {\n      if (bool) {\n        var elem = $(evt.target);\n        var contextmenu = $(this.$refs['layer-menu']);\n        this.layerMenu.colorMenu.top = contextmenu.offset().top;\n        this.layerMenu.colorMenu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 - OFFSETMENU.left;\n      }\n      this.layerMenu.colorMenu.show = bool;\n    },\n    getStyleName: function getStyleName(style) {\n      return style.name + (style.name === this.layerMenu.layer.defaultstyle && this.layerMenu.layer.styles.length > 1 ? ' (' + t('default') + ')' : '');\n    }\n  },\n\n  created: function created() {\n    var _this11 = this;\n\n    _catalogeventhub2.default.$on('showmenulayer', function () {\n      var _ref9 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(layerstree, evt) {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this11._hideMenu();\n                _context5.next = 3;\n                return _this11.$nextTick();\n\n              case 3:\n                _this11.layerMenu.left = evt.x;\n                _this11.layerMenu.name = layerstree.name;\n                _this11.layerMenu.layer = layerstree;\n                _this11.layerMenu.show = true;\n                _this11.layerMenu.colorMenu.color = layerstree.color;\n                _context5.next = 10;\n                return _this11.$nextTick();\n\n              case 10:\n                _this11.layerMenu.top = $(evt.target).offset().top - $(_this11.$refs['layer-menu']).height() + $(evt.target).height() / 2;\n                $('.catalog-menu-wms[data-toggle=\"tooltip\"]').tooltip();\n\n              case 12:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, _this11);\n      }));\n\n      return function (_x12, _x13) {\n        return _ref9.apply(this, arguments);\n      };\n    }());\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.layerMenu.show)?_c('ul',{directives:[{name:\"click-outside-layer-menu\",rawName:\"v-click-outside-layer-menu\",value:(_vm.closeLayerMenu),expression:\"closeLayerMenu\"}],ref:\"layer-menu\",style:({top: _vm.layerMenu.top + 'px', left: _vm.layerMenu.left + 'px' }),attrs:{\"id\":\"layer-menu\",\"tabindex\":\"-1\"}},[_c('li',{staticClass:\"title\"},[_c('div',[_vm._v(_vm._s(_vm.layerMenu.layer.title))]),_vm._v(\" \"),_c('div',{staticStyle:{\"font-weight\":\"normal\",\"font-size\":\"0.8em\"}},[_vm._v(_vm._s(_vm.getGeometryType(_vm.layerMenu.layer.id, _vm.layerMenu.layer.external)))])]),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer)?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"}},[_c('layerspositions',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-between\"},attrs:{\"position\":_vm.layerMenu.layer.position},on:{\"layer-position-change\":function($event){return _vm.changeLayerMapPosition({position:$event, layer: _vm.layerMenu.layer})}}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.metadata && _vm.layerMenu.layer.metadata.abstract)?_c('li',{on:{\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showMetadataInfo(false)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showMetadataInfo(true,  $event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('info')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('Metadata'),expression:\"'Metadata'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerMenu.metadatainfoMenu.show),expression:\"layerMenu.metadatainfoMenu.show\"}],staticStyle:{\"position\":\"fixed\",\"background-color\":\"#FFFFFF\",\"color\":\"#000000\",\"padding-left\":\"0\",\"border-radius\":\"0 3px 3px 0\"},style:({ top: _vm.layerMenu.metadatainfoMenu.top + 'px', left: ((_vm.layerMenu.metadatainfoMenu.left+1) + \"px\") })},[_c('div',{staticClass:\"layer-menu-metadata-info\",staticStyle:{\"padding\":\"5px\"},domProps:{\"innerHTML\":_vm._s(_vm.layerMenu.layer.metadata.abstract)}})])]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.geolayer && _vm.layerMenu.layer.styles && _vm.layerMenu.layer.styles.length > 1)?_c('li',{staticClass:\"menu-icon\",on:{\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showStylesMenu(false,$event)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showStylesMenu(true,$event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('palette')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.styles'),expression:\"'catalog_items.contextmenu.styles'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon\",class:_vm.g3wtemplate.getFontClass('arrow-right'),staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"margin-top\":\"3px\"}}),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerMenu.stylesMenu.show),expression:\"layerMenu.stylesMenu.show\"}],staticStyle:{\"position\":\"fixed\",\"padding-left\":\"0\",\"background-color\":\"#FFFFFF\",\"color\":\"#000000\"},style:({ top: _vm.layerMenu.stylesMenu.top + 'px', left: ((_vm.layerMenu.stylesMenu.left) + \"px\"), maxHeight: _vm.layerMenu.stylesMenu.maxHeight + 'px', overflowY: _vm.layerMenu.stylesMenu.overflowY })},_vm._l((_vm.layerMenu.layer.styles),function(style,index){return _c('li',{key:style.name,on:{\"click\":function($event){$event.stopPropagation();return _vm.setCurrentLayerStyle(index)}}},[(style.current)?_c('span',{class:_vm.g3wtemplate.getFontClass('circle'),staticStyle:{\"font-size\":\"0.8em\"}}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.getStyleName(style)))])])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.geolayer && _vm.layerMenu.layer.visible)?_c('li',{staticClass:\"menu-icon\",staticStyle:{\"padding-right\":\"0\"}},[_c('layer-opacity-picker',{attrs:{\"layer\":_vm.layerMenu.layer},on:{\"init-menu-item\":_vm.addLayerMenuItem,\"show-menu-item\":_vm.showSubMenuContext}})],1):_vm._e(),_vm._v(\" \"),(_vm.canZoom(_vm.layerMenu.layer))?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.zoomToLayer(_vm.layerMenu.layer)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('search')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.zoomtolayer'),expression:\"'catalog_items.contextmenu.zoomtolayer'\"}],staticClass:\"item-text\"})]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.openattributetable)?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.showAttributeTable(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.data_table}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('list')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.open_attribute_table'),expression:\"'catalog_items.contextmenu.open_attribute_table'\"}],staticClass:\"item-text\"})],1):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type !== 'wms')?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();},\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showColorMenu(false,$event)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showColorMenu(true,$event)}}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.vector_color_menu'),expression:\"'catalog_items.contextmenu.vector_color_menu'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('arrow-right'),staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"margin-top\":\"3px\"}}),_vm._v(\" \"),(_vm.layerMenu.colorMenu.show)?_c('ul',{staticStyle:{\"position\":\"fixed\"},style:({ top: _vm.layerMenu.colorMenu.top + 'px', left: _vm.layerMenu.colorMenu.left + 'px' })},[_c('li',{staticStyle:{\"padding\":\"0\"}},[_c('chrome-picker',{ref:\"color_picker\",staticStyle:{\"width\":\"100%\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();},\"hook:beforeDestroy\":_vm.onbeforeDestroyChangeColor,\"input\":_vm.onChangeColor},model:{value:(_vm.layerMenu.colorMenu.color),callback:function ($$v) {_vm.$set(_vm.layerMenu.colorMenu, \"color\", $$v)},expression:\"layerMenu.colorMenu.color\"}})],1)]):_vm._e()]):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type !== 'wms')?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadExternalShapefile(_vm.layerMenu.layer)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.shp}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('shapefile')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.shp'),expression:\"'sdk.catalog.menu.download.shp'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type === 'wms')?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.setwmsopacity'),expression:\"'sdk.catalog.menu.setwmsopacity'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin-left\":\"5px\"}},[_vm._v(_vm._s(_vm.layerMenu.layer.opacity))])]),_vm._v(\" \"),_c('range',{attrs:{\"value\":_vm.layerMenu.layer.opacity,\"min\":0,\"max\":1,\"step\":0.1,\"sync\":true},on:{\"changed\":_vm._hideMenu,\"change-range\":_vm.setWMSOpacity}})],1):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGeoTIFF(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGeoTIFF(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.geotiff}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('geotiff')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.geotiff'),expression:\"'sdk.catalog.menu.download.geotiff'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGeoTIFF(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{staticStyle:{\"position\":\"relative\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGeoTIFF(_vm.layerMenu.layer.id, true)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.geotiff}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('geotiff'),staticStyle:{\"color\":\"#777\"}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('crop'),staticStyle:{\"position\":\"absolute\",\"left\":\"-7px\",\"bottom\":\"8px\",\"font-size\":\"1.2em\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.geotiff_map_extent'),expression:\"'sdk.catalog.menu.download.geotiff_map_extent'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadShp(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadShp(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.shp}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('shapefile')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.shp'),expression:\"'sdk.catalog.menu.download.shp'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGpx(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGpx(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.gpx}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('gpx')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.gpx'),expression:\"'sdk.catalog.menu.download.gpx'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGpkg(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGpkg(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.gpkg}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('gpkg')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.gpkg'),expression:\"'sdk.catalog.menu.download.gpkg'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadCsv(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadCsv(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.csv}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('csv')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.csv'),expression:\"'sdk.catalog.menu.download.csv'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadXls(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadXls(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.xls}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('xls')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.xls'),expression:\"'sdk.catalog.menu.download.xls'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canShowWmsUrl(_vm.layerMenu.layer.id))?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"max-width\":\"300px\",\"align-items\":\"center\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.copyUrl({evt: $event, layerId:_vm.layerMenu.layer.id, type:'Wms'})}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('map')}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline-flex\",\"justify-content\":\"space-between\",\"width\":\"100%\",\"align-items\":\"baseline\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.catalog.menu.wms.copy'),expression:\"'sdk.catalog.menu.wms.copy'\"}],staticClass:\"item-text catalog-menu-wms skin-tooltip-top\",attrs:{\"data-toggle\":\"tooltip\"}},[_vm._v(\"WMS URL\")]),_vm._v(\" \"),_c('span',{staticClass:\"bold catalog-menu-wms wms-url-tooltip skin-tooltip-top skin-color-dark\",class:_vm.g3wtemplate.getFontClass('eye'),attrs:{\"data-placement\":\"top\",\"data-toggle\":\"tooltip\",\"title\":_vm.getWmsUrl(_vm.layerMenu.layer.id)}})])])]):_vm._e(),_vm._v(\" \"),(_vm.canShowWfsUrl(_vm.layerMenu.layer.id))?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"max-width\":\"300px\",\"align-items\":\"center\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.copyUrl({evt: $event, layerId:_vm.layerMenu.layer.id, type:'Wfs'})}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('map')}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline-flex\",\"justify-content\":\"space-between\",\"width\":\"100%\",\"align-items\":\"baseline\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.catalog.menu.wms.copy'),expression:\"'sdk.catalog.menu.wms.copy'\"}],staticClass:\"item-text catalog-menu-wms skin-tooltip-top\",attrs:{\"data-toggle\":\"tooltip\"}},[_vm._v(\"WFS URL\")]),_vm._v(\" \"),_c('span',{staticClass:\"bold catalog-menu-wms wms-url-tooltip skin-tooltip-top skin-color-dark\",class:_vm.g3wtemplate.getFontClass('eye'),attrs:{\"data-placement\":\"top\",\"data-toggle\":\"tooltip\",\"title\":_vm.getWfsUrl(_vm.layerMenu.layer.id)}})])])]):_vm._e()]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-7828b5c0\"\n\n},{\"components/LayerOpacityPicker.vue\":253,\"core/i18n/i18n.service\":13,\"gui/catalog/vue/catalogeventhub\":113,\"gui/table/vue/table\":183,\"services/application\":350,\"services/gui\":360,\"shp-write\":\"shp-write\",\"store/catalog-layers\":373,\"vue-color\":\"vue-color\",\"vueify/lib/insert-css\":1}],199:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".layer-legend[data-v-fc3d03ea]{padding-left:36px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: \"layerlegend\",\n  props: {\n    legendplace: {\n      type: 'String'\n    },\n    layer: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      loading: false,\n\n      categories: [],\n\n      currentstyle: this.layer.styles.find(function (style) {\n        return true === style.current;\n      }).name\n\n    };\n  },\n\n  computed: {\n    showfeaturecount: function showfeaturecount() {\n      return undefined !== this.layer.featurecount;\n    },\n    externallegend: function externallegend() {\n      return 'wms' === this.layer.source.type;\n    },\n    legend: function legend() {\n      return this.layer.legend;\n    },\n    show: function show() {\n      return this.layer.expanded && this.layer.visible && ('toc' === this.legendplace || 'tab' === this.legendplace && this.layer.categories);\n    }\n  },\n\n  methods: {\n    getWmsSourceLayerLegendUrl: function getWmsSourceLayerLegendUrl() {\n      return this.getProjectLayer().getLegendUrl({\n        width: 16,\n        height: 16\n      });\n    },\n    getProjectLayer: function getProjectLayer() {\n      return _catalogLayers2.default.getLayerById(this.layer.id);\n    },\n    isDisabled: function isDisabled(index) {\n      return this.categories[index].disabled;\n    },\n    showHideLayerCategory: function showHideLayerCategory(index) {\n      this.categories[index].checked = !this.categories[index].checked;\n      this.getProjectLayer().change();\n      if ('tab' === this.legendplace) {\n        this.layer.legend.change = true;\n      } else if (this.categories[index].checked && this.mapReady) {\n        this.setLayerCategories(false);\n      }\n    },\n    setError: function setError() {\n      this.legend.error = true;\n      this.legend.loading = false;\n    },\n    urlLoaded: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.legend.loading = false;\n\n              case 1:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function urlLoaded() {\n        return _ref.apply(this, arguments);\n      }\n\n      return urlLoaded;\n    }(),\n    onChangeLayerLegendStyle: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.loading = true;\n\n                if (!this.externallegend) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                return _context2.abrupt('return');\n\n              case 3:\n                if (!(options.layerId === this.layer.id)) {\n                  _context2.next = 19;\n                  break;\n                }\n\n                _context2.prev = 4;\n\n                if (!(undefined !== options.style)) {\n                  _context2.next = 14;\n                  break;\n                }\n\n                _context2.next = 8;\n                return this.setLayerCategories(true);\n\n              case 8:\n                _context2.next = 10;\n                return this.getProjectLayer().getStyleFeatureCount(options.style);\n\n              case 10:\n                this.currentstyle = options.style;\n\n                if (!this.dynamic) {\n                  _context2.next = 14;\n                  break;\n                }\n\n                _context2.next = 14;\n                return this.setLayerCategories(false);\n\n              case 14:\n                _context2.next = 19;\n                break;\n\n              case 16:\n                _context2.prev = 16;\n                _context2.t0 = _context2['catch'](4);\n\n                console.warn('Error while changing layer style');\n\n              case 19:\n                this.loading = false;\n\n              case 20:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[4, 16]]);\n      }));\n\n      function onChangeLayerLegendStyle() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return onChangeLayerLegendStyle;\n    }(),\n    setLayerCategories: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var all = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n        var projectLayer, categories, _ref4, _ref4$nodes, nodes;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                projectLayer = this.getProjectLayer();\n                categories = projectLayer.getCategories();\n\n                if (!(all && categories)) {\n                  _context3.next = 7;\n                  break;\n                }\n\n                this.categories = categories;\n                _context3.next = 13;\n                break;\n\n              case 7:\n                _context3.next = 9;\n                return projectLayer.getLegendGraphic({ all: all });\n\n              case 9:\n                _ref4 = _context3.sent;\n                _ref4$nodes = _ref4.nodes;\n                nodes = _ref4$nodes === undefined ? [] : _ref4$nodes;\n\n                if (all) {\n                  this._setAllLayerCategories(nodes);\n                } else {\n                  this._updateLayerCategories(nodes, categories);\n                }\n\n              case 13:\n                _context3.next = 18;\n                break;\n\n              case 15:\n                _context3.prev = 15;\n                _context3.t0 = _context3['catch'](0);\n\n                this.setError();\n\n              case 18:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 15]]);\n      }));\n\n      function setLayerCategories() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return setLayerCategories;\n    }(),\n    _setAllLayerCategories: function _setAllLayerCategories(nodes) {\n      var projectLayer = this.getProjectLayer();\n\n      var categories = [];\n      nodes.forEach(function (_ref5) {\n        var icon = _ref5.icon,\n            title = _ref5.title,\n            ruleKey = _ref5.ruleKey,\n            checked = _ref5.checked,\n            _ref5$symbols = _ref5.symbols,\n            symbols = _ref5$symbols === undefined ? [] : _ref5$symbols;\n\n        if (icon) {\n          categories.push({ icon: icon, title: title, ruleKey: ruleKey, checked: checked, disabled: false });\n        } else {\n          symbols.forEach(function (symbol) {\n            symbol._checked = symbol.checked;\n            symbol.disabled = false;\n            categories.push(symbol);\n          });\n        }\n      });\n      projectLayer.setCategories(categories);\n      this.categories = categories;\n    },\n    _updateLayerCategories: function _updateLayerCategories(nodes, categories) {\n      var projectLayer = this.getProjectLayer();\n\n      projectLayer.setCategories(categories);\n      this.categories = categories;\n\n      if (nodes.length) {\n        nodes.forEach(function (_ref6) {\n          var icon = _ref6.icon,\n              title = _ref6.title,\n              _ref6$symbols = _ref6.symbols,\n              symbols = _ref6$symbols === undefined ? [] : _ref6$symbols;\n\n          if (icon) {\n            symbols = [{ icon: icon, title: title }];\n          }\n          categories.forEach(function (category) {\n            var findSymbol = symbols.find(function (symbol) {\n              return symbol.icon === category.icon && symbol.title === category.title;\n            });\n            var disabled = \"undefined\" !== typeof category.checked ? category.checked : true;\n            category.disabled = disabled && \"undefined\" === typeof findSymbol;\n          });\n        });\n      } else {\n        categories.forEach(function (category) {\n          return category.disabled = \"undefined\" !== typeof category.checked ? category.checked : true;\n        });\n      }\n    },\n    registerChangeMapLegendParamsEvent: function registerChangeMapLegendParamsEvent() {\n      var _this = this;\n\n      _gui2.default.getService('map').on('change-map-legend-params', _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _this.mapReady = true;\n                if (_this.layer.visible && false === _this.externallegend && ('toc' === _this.legendplace || _this.layer.categories)) {\n                  _this.setLayerCategories(false);\n                }\n\n              case 2:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, _this);\n      })));\n    },\n    runInitLayerVisibleAction: function () {\n      var _ref8 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5() {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.setLayerCategories(true);\n\n              case 2:\n                if (!this.dynamic) {\n                  _context5.next = 6;\n                  break;\n                }\n\n                _context5.next = 5;\n                return this.setLayerCategories(false);\n\n              case 5:\n                this.registerChangeMapLegendParamsEvent();\n\n              case 6:\n                this.initialize = true;\n\n              case 7:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function runInitLayerVisibleAction() {\n        return _ref8.apply(this, arguments);\n      }\n\n      return runInitLayerVisibleAction;\n    }()\n  },\n  watch: {\n    'layer.visible': function () {\n      var _ref9 = _asyncToGenerator(regeneratorRuntime.mark(function _callee6(visible) {\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                if (!(false === this.externallegend && visible)) {\n                  _context6.next = 8;\n                  break;\n                }\n\n                if (!(false === this.initialize)) {\n                  _context6.next = 6;\n                  break;\n                }\n\n                _context6.next = 4;\n                return this.runInitLayerVisibleAction();\n\n              case 4:\n                _context6.next = 8;\n                break;\n\n              case 6:\n                _context6.next = 8;\n                return this.setLayerCategories(!this.dynamic);\n\n              case 8:\n              case 'end':\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function layerVisible(_x3) {\n        return _ref9.apply(this, arguments);\n      }\n\n      return layerVisible;\n    }()\n  },\n\n  created: function () {\n    var _ref10 = _asyncToGenerator(regeneratorRuntime.mark(function _callee7() {\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              this.initialize = false;\n\n              this.dynamic = _projects2.default.getCurrentProject().getContextBaseLegend();\n              this.mapReady = false;\n\n              _catalogeventhub2.default.$on('layer-change-style', this.onChangeLayerLegendStyle);\n\n              if (!(false === this.externallegend && true === this.layer.visible)) {\n                _context7.next = 7;\n                break;\n              }\n\n              _context7.next = 7;\n              return this.runInitLayerVisibleAction();\n\n            case 7:\n            case 'end':\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }));\n\n    function created() {\n      return _ref10.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    _catalogeventhub2.default.$off('layer-change-style', this.onChangeLayerLegendStyle);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"layer-legend\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();}}},[(_vm.legend)?_c('bar-loader',{attrs:{\"loading\":_vm.legend.loading}}):_vm._e(),_vm._v(\" \"),(_vm.externallegend)?_c('figure',[_c('img',{attrs:{\"src\":_vm.getWmsSourceLayerLegendUrl()}})]):_c('figure',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.loading),expression:\"loading\"}]},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_vm._l((_vm.categories),function(category,index){return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(category.disabled),expression:\"category.disabled\"}],staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"width\":\"100%\"}},[(category.ruleKey)?_c('span',{class:_vm.g3wtemplate.getFontClass(category.checked ? 'check': 'uncheck'),staticStyle:{\"padding-right\":\"3px\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.showHideLayerCategory(index)}}}):_vm._e(),_vm._v(\" \"),(('toc' === _vm.legendplace))?_c('img',{attrs:{\"src\":category.icon && (\"data:image/png;base64,\" + (category.icon))},on:{\"error\":function($event){return _vm.setError()},\"load\":function($event){return _vm.urlLoaded()}}}):_vm._e(),_vm._v(\" \"),(('tab' === _vm.legendplace && category.ruleKey) || ('toc' === _vm.legendplace))?_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"padding-left\":\"3px\"}},[_c('span',[_vm._v(_vm._s(category.title))]),_vm._v(\" \"),(_vm.showfeaturecount && 'undefined' !== typeof category.ruleKey)?_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"\\n          [\"+_vm._s(_vm.layer.stylesfeaturecount[_vm.currentstyle][category.ruleKey])+\"]\\n        \")]):_vm._e()]):_vm._e()])})],2)],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-fc3d03ea\"\n\n},{\"gui/catalog/vue/catalogeventhub\":113,\"services/gui\":360,\"store/catalog-layers\":373,\"store/projects\":378,\"vueify/lib/insert-css\":1}],200:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: {\n    layersgroup: {\n      type: Object\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"border\":\"1px solid #ffffff33\",\"margin\":\"5px\"}},[_c('h4',{staticStyle:{\"margin\":\"5px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.layersgroup.title))]),_vm._v(\" \"),_vm._l((_vm.layersgroup.nodes),function(node){return _c('tristate-tree',{staticClass:\"item\",attrs:{\"layerstree\":node}})})],2)}\n__vue__options__.staticRenderFns = []\n\n},{}],201:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: ['layerstree', 'legend', 'active'],\n  data: function data() {\n    return {};\n  },\n\n  computed: {\n    visiblelayers: function visiblelayers() {\n      var _visiblelayers = [];\n      var traverse = function traverse(obj) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = obj[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var layer = _step.value;\n\n            if (!_.isNil(layer.id) && layer.visible && layer.geolayer && !layer.exclude_from_legend) {\n              _visiblelayers.push(layer);\n            }\n            if (!_.isNil(layer.nodes)) {\n              traverse(layer.nodes);\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      };\n      traverse(this.layerstree.tree);\n      return _visiblelayers;\n    }\n  },\n  watch: {\n    'layerstree': {\n      handler: function handler(val, old) {},\n\n      deep: true\n    },\n    'visiblelayers': function visiblelayers(visibleLayers) {\n      this.$emit('showlegend', !!visibleLayers.length);\n    }\n  },\n  created: function created() {\n    this.$emit('showlegend', !!this.visiblelayers.length);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-pane\",class:{active:_vm.active},attrs:{\"role\":\"tabpanel\",\"id\":\"legend\"}},[_c('layerslegend-items',{attrs:{\"active\":_vm.active,\"legend\":_vm.legend,\"layers\":_vm.visiblelayers}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],202:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  props: {\n    layers: {\n      default: []\n    },\n    legend: {\n      type: Object\n    },\n    active: {\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      legendurls: []\n    };\n  },\n\n  watch: {\n    layers: {\n      handler: function handler() {\n        this.getLegendSrc();\n      },\n\n      immediate: false\n    },\n\n    active: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(bool) {\n        var changeLayersLegend;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!bool) {\n                  _context.next = 6;\n                  break;\n                }\n\n                changeLayersLegend = this.layers.filter(function (layer) {\n                  return layer.legend.change;\n                });\n\n                if (!(this.legendurls.length === 0 || this.dynamic || changeLayersLegend.length)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 5;\n                return this.getLegendSrc(this.layers);\n\n              case 5:\n                changeLayersLegend.forEach(function (layer) {\n                  return layer.legend.change = false;\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function active(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return active;\n    }()\n  },\n  methods: {\n    setError: function setError(legendurl) {\n      legendurl.error = true;\n      legendurl.loading = false;\n    },\n    urlLoaded: function urlLoaded(legendurl) {\n      legendurl.loading = false;\n    },\n    getLegendUrl: function getLegendUrl(layer) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var catalogLayer = _catalogLayers2.default.getLayerById(layer.id);\n      if (catalogLayer) {\n        return catalogLayer.getLegendUrl(params, {\n          all: !this.dynamic,\n          format: 'image/png',\n          categories: layer.categories\n        });\n      }\n    },\n    getLegendUrlParams: function getLegendUrlParams() {\n      var urlLayerName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var paramsUrl = '';\n      var params = {\n        LAYERS: [],\n        STYLES: [],\n        LEGEND_ON: [],\n        LEGEND_OFF: []\n      };\n\n      urlLayerName.reduce(function (_, layer) {\n        params.LAYERS.push(layer.layerName);\n        params.STYLES.push(layer.style);\n        if (layer.legend_on) {\n          params.LEGEND_ON.push(layer.legend_on);\n        }\n        if (layer.legend_off) {\n          params.LEGEND_OFF.push(layer.legend_off);\n        }\n        return params;\n      }, params);\n\n      paramsUrl += 'LAYERS=' + encodeURIComponent(params.LAYERS.join(','));\n      paramsUrl += '&STYLES=' + encodeURIComponent(params.STYLES.join(','));\n\n      if (params.LEGEND_ON.length) {\n        paramsUrl += '&LEGEND_ON=' + encodeURIComponent(params.LEGEND_ON.join(','));\n      }\n\n      if (params.LEGEND_OFF.length) {\n        paramsUrl += '&LEGEND_OFF=' + encodeURIComponent(params.LEGEND_OFF.join(','));\n      }\n\n      if (_application2.default.getFilterToken()) {\n        paramsUrl += '&filtertoken=' + _application2.default.getFilterToken();\n      }\n\n      return paramsUrl;\n    },\n    getLegendSrc: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var _this = this;\n\n        var urlMethodsLayersName, self, layers, i, layer, style, urlLayersName, url, prefix, legend_on, legend_off, _url$split, _url$split2, _prefix$split, _prefix$split2, _prefix$split3, _prefix$split4, method, _urlLayersName, _url2, _loop, _url3;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.legendurls = [];\n\n                _context2.next = 3;\n                return this.$nextTick();\n\n              case 3:\n                if (this.active) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                return _context2.abrupt('return');\n\n              case 5:\n                urlMethodsLayersName = {\n                  GET: {},\n                  POST: {}\n                };\n                self = this;\n                layers = this.layers.filter(function (layer) {\n                  return layer.geolayer;\n                });\n                i = 0;\n\n              case 9:\n                if (!(i < layers.length)) {\n                  _context2.next = 20;\n                  break;\n                }\n\n                layer = layers[i];\n                style = Array.isArray(layer.styles) && layer.styles.find(function (style) {\n                  return style.current;\n                });\n                urlLayersName = layer.source && layer.source.url || layer.external ? urlMethodsLayersName.GET : urlMethodsLayersName[layer.ows_method];\n                url = '' + this.getLegendUrl(layer, this.legend.config);\n\n                if (!(\"undefined\" === typeof url)) {\n                  _context2.next = 16;\n                  break;\n                }\n\n                return _context2.abrupt('continue', 17);\n\n              case 16:\n                if (layer.source && layer.source.url) {\n                  urlLayersName[url] = [];\n                } else {\n                  prefix = void 0, legend_on = void 0, legend_off = void 0;\n                  _url$split = url.split('LAYER=');\n                  _url$split2 = _slicedToArray(_url$split, 2);\n                  prefix = _url$split2[0];\n                  layerName = _url$split2[1];\n                  _prefix$split = prefix.split('LEGEND_ON=');\n                  _prefix$split2 = _slicedToArray(_prefix$split, 2);\n                  prefix = _prefix$split2[0];\n                  legend_on = _prefix$split2[1];\n                  _prefix$split3 = prefix.split('LEGEND_OFF=');\n                  _prefix$split4 = _slicedToArray(_prefix$split3, 2);\n                  prefix = _prefix$split4[0];\n                  legend_off = _prefix$split4[1];\n\n\n                  if (!urlLayersName[prefix]) {\n                    urlLayersName[prefix] = [];\n                  }\n\n                  urlLayersName[prefix].unshift({\n                    layerName: layerName,\n                    style: style && style.name,\n                    legend_on: (legend_on || '').replace('&', ''),\n                    legend_off: (legend_off || '').replace('&', '') });\n                }\n\n              case 17:\n                i++;\n                _context2.next = 9;\n                break;\n\n              case 20:\n                for (method in urlMethodsLayersName) {\n                  _urlLayersName = urlMethodsLayersName[method];\n\n                  if ('GET' === method) {\n                    for (_url2 in _urlLayersName) {\n                      if (_urlLayersName[_url2].length) {\n                        _url2 += '' + this.getLegendUrlParams(_urlLayersName[_url2]);\n                      }\n                      this.legendurls.push({\n                        loading: true,\n                        error: false,\n                        url: _url2\n                      });\n                    }\n                  } else {\n                    _loop = function _loop(_url3) {\n                      var xhr = new XMLHttpRequest();\n                      var econdedParams = [];\n\n                      var _url3$split = _url3.split('?'),\n                          _url3$split2 = _slicedToArray(_url3$split, 2),\n                          _url = _url3$split2[0],\n                          params = _url3$split2[1];\n\n                      params = params.split('&');\n\n                      params.forEach(function (param) {\n                        var _param$split = param.split('='),\n                            _param$split2 = _slicedToArray(_param$split, 2),\n                            key = _param$split2[0],\n                            value = _param$split2[1];\n\n                        if (key) {\n                          econdedParams.push(key + '=' + encodeURIComponent(value));\n                        }\n                      });\n\n                      params = econdedParams.join('&') + '&' + _this.getLegendUrlParams(_urlLayersName[_url3]);\n\n                      var legendUrlObject = {\n                        loading: true,\n                        url: null,\n                        error: false\n                      };\n\n                      xhr.open('POST', _url);\n                      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n                      xhr.responseType = 'blob';\n\n                      self.legendurls.push(legendUrlObject);\n\n                      xhr.onload = function () {\n                        if (undefined !== this.response) {\n                          legendUrlObject.url = window.URL.createObjectURL(this.response);\n                        }\n                        legendUrlObject.loading = false;\n                      };\n\n                      xhr.onerror = function () {\n                        legendUrlObject.loading = false;\n                      };\n\n                      xhr.send(params);\n                    };\n\n                    for (_url3 in _urlLayersName) {\n                      _loop(_url3);\n                    }\n                  }\n                }\n\n              case 21:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getLegendSrc() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return getLegendSrc;\n    }()\n  },\n\n  created: function created() {\n    var _this2 = this;\n\n    this.dynamic = _projects2.default.getCurrentProject().getContextBaseLegend();\n    this.mapReady = false;\n\n    _catalogeventhub2.default.$on('layer-change-style', function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _this2.getLegendSrc();\n    });\n  },\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              if (this.dynamic) {\n                _gui2.default.getService('map').on('change-map-legend-params', function () {\n                  _this3.mapReady = true;\n                  _this3.getLegendSrc();\n                });\n              } else {\n                this.mapReady = true;\n              }\n\n            case 3:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"legend-item\"},_vm._l((_vm.legendurls),function(legendurl){return _c('figure',[_c('bar-loader',{attrs:{\"loading\":legendurl.loading}}),_vm._v(\" \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!legendurl.loading && !legendurl.error),expression:\"!legendurl.loading && !legendurl.error\"}],attrs:{\"src\":legendurl.url},on:{\"error\":function($event){return _vm.setError(legendurl)},\"load\":function($event){return _vm.urlLoaded(legendurl)}}}),_vm._v(\" \"),_c('span',{staticClass:\"divider\"})],1)}),0)}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/catalog/vue/catalogeventhub\":113,\"services/application\":350,\"services/gui\":360,\"store/catalog-layers\":373,\"store/projects\":378}],203:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _CatalogLayerLegend = require('components/CatalogLayerLegend.vue');\n\nvar _CatalogLayerLegend2 = _interopRequireDefault(_CatalogLayerLegend);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    downloadFile = _require.downloadFile;\n\nvar CLICK_EVENT = {\n  count: 0,\n  timeoutID: null, handleClick: function handleClick(callback, context) {\n    CLICK_EVENT.count += 1;\n    if (!CLICK_EVENT.timeoutID) {\n      CLICK_EVENT.timeoutID = setTimeout(function () {\n        callback.call(context);\n        CLICK_EVENT.reset();\n      }, 300);\n    }\n  },\n  reset: function reset() {\n    CLICK_EVENT.count = 0;\n    CLICK_EVENT.timeoutID = null;\n  }\n};\n\nexports.default = {\n  props: ['layerstree', 'storeid', 'legend', 'legendplace', 'highlightlayers', 'parent_mutually_exclusive', 'parentFolder', 'externallayers', 'root', 'parent'],\n  components: {\n    'layerlegend': _CatalogLayerLegend2.default\n  },\n  data: function data() {\n    return {\n      expanded: this.layerstree.expanded,\n      isGroupChecked: true,\n      controltoggled: false,\n      n_childs: null,\n      filtered: false\n    };\n  },\n\n  computed: {\n    showfeaturecount: function showfeaturecount() {\n      return \"undefined\" !== typeof this.layerstree.featurecount;\n    },\n    showLegendLayer: function showLegendLayer() {\n      return !this.layerstree.exclude_from_legend;\n    },\n    showLayerTocLegend: function showLayerTocLegend() {\n      return !this.isGroup && this.showLegendLayer && this.layerstree.geolayer;\n    },\n    isGroup: function isGroup() {\n      return !!this.layerstree.nodes;\n    },\n    legendlayerposition: function legendlayerposition() {\n      return this.showLegendLayer && this.layerstree.legend ? this.legendplace : 'tab';\n    },\n    showscalevisibilityclass: function showscalevisibilityclass() {\n      return !this.isGroup && this.layerstree.scalebasedvisibility;\n    },\n    showScaleVisibilityToolip: function showScaleVisibilityToolip() {\n      return this.showscalevisibilityclass && this.layerstree.disabled && this.layerstree.checked;\n    },\n    isTable: function isTable() {\n      return !this.isGroup && !this.layerstree.geolayer && !this.layerstree.external;\n    },\n    isHidden: function isHidden() {\n      return this.layerstree.hidden && true === this.layerstree.hidden;\n    },\n    selected: function selected() {\n      this.layerstree.selected = this.layerstree.disabled && this.layerstree.selected ? false : this.layerstree.selected;\n    },\n    isHighLight: function isHighLight() {\n      return this._isHighLightProjectLayer || this._isHighLightExternalLayer;\n    },\n    isInGrey: function isInGrey() {\n      return !this.isGroup && !this.isTable && !this.layerstree.external && (!this.layerstree.visible || this.layerstree.disabled);\n    },\n    getFeatureCount: function getFeatureCount() {\n      return Object.values(this.layerstree.featurecount).reduce(function (total, categoryFeatureCount) {\n        return total + 1 * categoryFeatureCount;\n      }, 0);\n    },\n    _isHighLightProjectLayer: function _isHighLightProjectLayer() {\n      return this.highlightlayers && !this.isGroup && _catalogLayers2.default.getLayerById(this.layerstree.id).getTocHighlightable() && this.layerstree.visible;\n    },\n    _isHighLightExternalLayer: function _isHighLightExternalLayer() {\n      return this.layerstree.external && this.layerstree.visible && \"vector\" && this.layerstree._type && true === this.layerstree.tochighlightable;\n    }\n  },\n  watch: {\n    'layerstree.disabled': function layerstreeDisabled(bool) {},\n    'layerstree.checked': function layerstreeChecked(n, o) {\n      if (this.isGroup) {\n        this.handleGroupChecked(this.layerstree);\n      } else {\n        this.handleLayerChecked(this.layerstree);\n      }\n    }\n  },\n  methods: {\n    init: function init() {\n      var _this = this;\n\n      if (this.isGroup && !this.layerstree.checked) {\n        this.handleGroupChecked(this.layerstree);\n      }\n      if (this.isGroup && !this.root) {\n        this.layerstree.nodes.forEach(function (node) {\n          if (node.id && _this.parent_mutually_exclusive && !_this.layerstree.mutually_exclusive) {\n            node.uncheckable = true;\n          }\n        });\n      }\n    },\n    handleGroupChecked: function handleGroupChecked(group) {\n      var checked = group.checked,\n          parentGroup = group.parentGroup,\n          nodes = group.nodes;\n\n      var setAllLayersVisible = function setAllLayersVisible(_ref) {\n        var nodes = _ref.nodes,\n            visible = _ref.visible;\n\n        nodes.forEach(function (node) {\n          if (undefined !== node.id) {\n            if (node.parentGroup.checked && node.checked) {\n              _catalogLayers2.default.getLayerById(node.id).setVisible(visible);\n            }\n          } else {\n            setAllLayersVisible({ nodes: node.nodes, visible: visible && node.checked });\n          }\n        });\n      };\n      if (checked) {\n        var visible = parentGroup ? parentGroup.checked : true;\n        if (parentGroup && parentGroup.mutually_exclusive) {\n          parentGroup.nodes.forEach(function (node) {\n            node.checked = node.groupId === group.groupId;\n            if (node.checked) {\n              setAllLayersVisible({ nodes: node.nodes, visible: visible });\n            }\n          });\n        } else {\n          setAllLayersVisible({ nodes: nodes, visible: visible });\n        }\n        while (parentGroup) {\n          parentGroup.checked = parentGroup.root || parentGroup.checked;\n          parentGroup = parentGroup.parentGroup;\n        }\n      } else {\n        nodes.forEach(function (node) {\n          if (undefined !== node.id) {\n            if (node.checked) {\n              _catalogLayers2.default.getLayerById(node.id).setVisible(false);\n            }\n          } else {\n            setAllLayersVisible({ nodes: node.nodes, visible: false });\n          }\n        });\n      }\n    },\n    handleLayerChecked: function handleLayerChecked(layerObject) {\n      var checked = layerObject.checked,\n          id = layerObject.id,\n          disabled = layerObject.disabled,\n          _layerObject$projectL = layerObject.projectLayer,\n          projectLayer = _layerObject$projectL === undefined ? false : _layerObject$projectL,\n          parentGroup = layerObject.parentGroup;\n\n      if (!projectLayer) {\n        layerObject.visible = checked;\n        _gui2.default.getService('map').changeLayerVisibility({ id: id, visible: checked });\n      } else {\n          var layer = _catalogLayers2.default.getLayerById(id);\n          if (checked) {\n            var visible = layer.setVisible(!disabled);\n\n            if (parentGroup.mutually_exclusive) {\n              parentGroup.nodes.forEach(function (node) {\n                return node.checked = node.id === id;\n              });\n            }\n            while (parentGroup) {\n              parentGroup.checked = true;\n              parentGroup = parentGroup.parentGroup;\n            }\n          } else {\n            layer.setVisible(false);\n          }\n          _catalogeventhub2.default.$emit('treenodevisible', layer);\n        }\n    },\n    toggleFilterLayer: function toggleFilterLayer() {\n      _catalogeventhub2.default.$emit('activefiltertokenlayer', this.storeid, this.layerstree);\n    },\n    clearSelection: function clearSelection() {\n      _catalogeventhub2.default.$emit('unselectionlayer', this.storeid, this.layerstree);\n    },\n    toggle: function toggle() {\n      this.layerstree.checked = !this.layerstree.checked;\n    },\n    expandCollapse: function expandCollapse() {\n      this.layerstree.expanded = !this.layerstree.expanded;\n    },\n    select: function select() {\n      if (this.layerstree.external && 'undefined' !== typeof this.layerstree.selected) {\n        _catalogeventhub2.default.$emit('treenodeexternalselected', this.layerstree);\n      } else if (!this.isGroup && !this.isTable) {\n        _catalogeventhub2.default.$emit('treenodeselected', this.storeid, this.layerstree);\n      }\n    },\n    zoomToLayer: function zoomToLayer(layer) {\n      _gui2.default.getService('map').goToBBox([layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy], layer.epsg);\n    },\n    canZoom: function canZoom(layer) {\n      return layer.bbox && [layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy].find(function (coordinate) {\n        return coordinate > 0;\n      });\n    },\n    onTreeItemClick: function onTreeItemClick() {\n      var _this2 = this;\n\n      if (this.isGroup || this.isTable) {\n        return;\n      }\n      CLICK_EVENT.handleClick(function () {\n        switch (CLICK_EVENT.count) {\n          case 1:\n            _this2.select();break;\n          case 2:\n            _this2.canZoom(_this2.layerstree) && _this2.zoomToLayer(_this2.layerstree);break;\n        }\n      }, this);\n    },\n    triClass: function triClass() {\n      return this.g3wtemplate.getFontClass(this.layerstree.checked ? 'check' : 'uncheck');\n    },\n    downloadExternalLayer: function downloadExternalLayer(download) {\n      if (download.file) {\n        downloadFile(download.file);\n      } else if (download.url) {}\n    },\n    removeExternalLayer: function removeExternalLayer(name, type) {\n      _gui2.default.getService('map').removeExternalLayer(name, wms);\n    },\n    showLayerMenu: function showLayerMenu(layerstree, evt) {\n      if (!this.isGroup && (this.layerstree.openattributetable || this.layerstree.downloadable || this.layerstree.geolayer || this.layerstree.external)) {\n        _catalogeventhub2.default.$emit('showmenulayer', layerstree, evt);\n      }\n    }\n  },\n\n  created: function created() {\n    this.init();\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('span.scalevisibility').tooltip();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"tree-item\",class:{\n    selected: !_vm.isGroup || !_vm.isTable ? _vm.layerstree.selected : false,\n    itemmarginbottom: !_vm.isGroup,\n    disabled: _vm.isInGrey, group: _vm.isGroup\n  },style:({\n    marginLeft: !_vm.isGroup ? '5px' : '0'\n  }),on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.showLayerMenu(_vm.layerstree, $event)},\"click\":function($event){$event.stopPropagation();return _vm.onTreeItemClick($event)}}},[(_vm.isGroup)?_c('span',{staticClass:\"root collapse-expande-collapse-icon\",class:[\n      { bold : _vm.isGroup },\n       _vm.g3wtemplate.getFontClass(_vm.layerstree.expanded ? 'caret-down' : 'caret-right')\n    ],staticStyle:{\"padding-right\":\"2px\"},on:{\"click\":_vm.expandCollapse}}):_vm._e(),_vm._v(\" \"),(_vm.isGroup)?_c('span',{class:[_vm.triClass()],staticStyle:{\"color\":\"#ffffff\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle()}}}):(_vm.isTable)?_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden),expression:\"!layerstree.hidden\"}],class:[\n      _vm.parentFolder ? 'child' : 'root',\n      _vm.g3wtemplate.getFontClass('table')\n    ],staticStyle:{\"padding-left\":\"18px\"}}):[(_vm.layerstree.external && _vm.layerstree.removable)?_c('span',{class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\",\"padding-left\":\"1px\"},on:{\"click\":function($event){return _vm.removeExternalLayer(_vm.layerstree.name, _vm.layerstree._type)}}}):_vm._e(),_vm._v(\" \"),(_vm.layerstree.external && _vm.layerstree.download)?_c('span',{class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"color\":\"#ffffff\",\"margin-left\":\"5px\"},on:{\"click\":function($event){return _vm.downloadExternalLayer(_vm.layerstree.download)}}}):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden),expression:\"!layerstree.hidden\"}],staticClass:\"checkbox-layer\",class:_vm.parentFolder ? 'child' : 'root'},[('toc' === _vm.legendlayerposition || !_vm.isGroup && _vm.layerstree.categories)?_c('span',{staticClass:\"collapse-expande-collapse-icon\",class:_vm.g3wtemplate.getFontClass(_vm.layerstree.visible && _vm.layerstree.expanded ? 'caret-down' : 'caret-right'),on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }$event.stopPropagation();return _vm.expandCollapse($event)}}}):_vm._e(),_vm._v(\" \"),_c('span',{class:[\n          _vm.g3wtemplate.getFontClass(_vm.layerstree.checked ? 'check': 'uncheck'),\n          { 'toc-added-external-layer': (!_vm.layerstree.legend && _vm.layerstree.external) }\n        ],style:({\n          paddingLeft: ('toc' === _vm.legendlayerposition)\n            ? '5px'\n            : !_vm.isGroup && _vm.layerstree.categories\n              ? '5px'\n              : (!_vm.layerstree.legend && _vm.layerstree.external)\n                ? '1px'\n                : '18px'\n        }),on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle()}}})])],_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden || _vm.isGroup),expression:\"!layerstree.hidden || isGroup\"}],staticClass:\"tree-node-title\",class:{\n      disabled: !_vm.layerstree.external && (_vm.layerstree.disabled || (_vm.layerstree.id && !_vm.layerstree.visible)),\n      bold: _vm.isGroup\n    }},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.text\",value:(_vm.showScaleVisibilityToolip ? (\"minscale:\" + (_vm.layerstree.minscale) + \" - maxscale:\" + (_vm.layerstree.maxscale)) : ''),expression:\"showScaleVisibilityToolip ? `minscale:${layerstree.minscale} - maxscale:${layerstree.maxscale}` : ''\",modifiers:{\"text\":true}}],staticClass:\"skin-tooltip-top g3w-long-text\",class:{\n        highlightlayer: _vm.isHighLight,\n        scalevisibility: _vm.showscalevisibilityclass\n      },attrs:{\"data-placement\":\"top\",\"current-tooltip\":_vm.showScaleVisibilityToolip ? (\"minscale:\" + (_vm.layerstree.minscale) + \" - maxscale: \" + (_vm.layerstree.maxscale)) : ''}},[_c('span',[_vm._v(_vm._s(_vm.layerstree.title))]),_vm._v(\" \"),(!_vm.isGroup && _vm.showfeaturecount)?_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"[\"+_vm._s(_vm.getFeatureCount)+\"]\")]):_vm._e()]),_vm._v(\" \"),((!_vm.isGroup && _vm.layerstree.selection))?_c('div',[(_vm.layerstree.selection.active)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.clear'),expression:\"'layer_selection_filter.tools.clear'\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left selection-filter-icon\",class:_vm.g3wtemplate.getFontClass('success'),attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"caputure\",undefined,$event.key,undefined)){ return null; }$event.preventDefault();$event.stopPropagation();return _vm.clearSelection($event)}}}):_vm._e(),_vm._v(\" \"),(!_vm.layerstree.external && (_vm.layerstree.selection.active || _vm.layerstree.filter.active))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left selection-filter-icon\",class:[_vm.g3wtemplate.getFontClass('filter'), _vm.layerstree.filter.active ? 'active' : ''],attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"caputure\",undefined,$event.key,undefined)){ return null; }$event.preventDefault();$event.stopPropagation();return _vm.toggleFilterLayer($event)}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),(_vm.showLayerTocLegend)?_c('layerlegend',{attrs:{\"legendplace\":_vm.legendplace,\"layer\":_vm.layerstree}}):_vm._e(),_vm._v(\" \"),(_vm.isGroup)?_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerstree.expanded),expression:\"layerstree.expanded\"}],staticClass:\"tree-content-items group\",class:[(\"g3w-lendplace-\" + _vm.legendplace)]},_vm._l((_vm.layerstree.nodes),function(_layerstree){return _c('span',{key:_layerstree.id || _layerstree.groupId},[_c('tristate-tree',{attrs:{\"root\":false,\"legendConfig\":_vm.legend,\"legendplace\":_vm.legendplace,\"highlightlayers\":_vm.highlightlayers,\"parentFolder\":_vm.isGroup,\"layerstree\":_layerstree,\"storeid\":_vm.storeid,\"parent\":_vm.layerstree,\"parent_mutually_exclusive\":!!_vm.layerstree.mutually_exclusive}})],1)}),0):_vm._e()],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/CatalogLayerLegend.vue\":199,\"core/utils/utils\":67,\"gui/catalog/vue/catalogeventhub\":113,\"services/gui\":360,\"store/catalog-layers\":373}],204:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"#g3w-change-map-menu[data-v-9eb2df56]{width:100%;position:relative}.g3w-change-map-menu-container[data-v-9eb2df56]{height:100%;display:grid;grid-template-columns:repeat(auto-fill,minmax(30%,1fr));grid-gap:1em;overflow-y:auto}.menu-item[data-v-9eb2df56]{margin-bottom:20px;margin-top:20px}.menu-item-image[data-v-9eb2df56]{cursor:pointer;position:relative;overflow:hidden;padding-bottom:50%;opacity:.7}.menu-item-image[data-v-9eb2df56]:hover{opacity:1}.menu-item-image img[data-v-9eb2df56]{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.menu-item-content[data-v-9eb2df56]{padding:15px;background:hsla(0,0%,100%,.3)}.menu-item-text[data-v-9eb2df56]{position:relative;overflow:hidden;height:100%;text-align:justify}.menu-item-title[data-v-9eb2df56]{text-align:center;font-weight:700;background:hsla(0,0%,100%,.5);padding:5px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _constant = require('constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      loading: false,\n      current: 'projects',\n      items: [],\n      parent: null,\n      steps: [],\n      currentProjectGroupId: null };\n  },\n\n  methods: {\n    ImageError: function ImageError(item) {\n      var g3w_logo = '' + _application2.default.getConfig().urls.clienturl + _constant.LOGO_GIS3W;\n      if (item.thumbnail) item.thumbnail = g3w_logo;else if (item.logo_img) item.thumbnail = g3w_logo;else if (item.header_logo_img) item.header_logo_img = g3w_logo;\n    },\n    back: function back() {\n      if (this.steps.length > 1) {\n        var item = this.steps[0];\n        this.steps = [];\n        this.showGroups(item);\n      } else {\n        this.showRoot();\n      }\n    },\n    showRoot: function showRoot() {\n      this.current = 'root';\n      this.items = this.macrogroupsandgroups;\n      this.steps = [];\n    },\n    showGroups: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(item) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.loading = true;\n                this.parent = item;\n                _context.prev = 2;\n                _context.next = 5;\n                return XHR.get({\n                  url: encodeURI('/' + _application2.default.getApplicationUser().i18n + _constant.API_BASE_URLS.ABOUT.group + item.id + '/')\n                });\n\n              case 5:\n                this.items = _context.sent;\n\n                this.current = 'groups';\n\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context['catch'](2);\n\n                this.items = [];\n\n              case 12:\n                this.steps.push(this.parent);\n                this.loading = false;\n\n              case 14:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 9]]);\n      }));\n\n      function showGroups(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return showGroups;\n    }(),\n    showProjects: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(item) {\n        var _this = this;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.loading = true;\n                this.parent = item;\n\n                if (!(this.parent.id === this.currentProjectGroupId)) {\n                  _context2.next = 7;\n                  break;\n                }\n\n                this.items = _projects2.default.getListableProjects();\n                this.current = 'projects';\n                _context2.next = 18;\n                break;\n\n              case 7:\n                _context2.prev = 7;\n                _context2.next = 10;\n                return XHR.get({\n                  url: encodeURI('/' + _application2.default.getApplicationUser().i18n + _constant.API_BASE_URLS.ABOUT.projects.replace('__G3W_GROUP_ID__', item.id))\n                });\n\n              case 10:\n                this.items = _context2.sent;\n\n                this.items.forEach(function (item) {\n                  return _this.setItemImageSrc({\n                    item: item,\n                    type: 'project'\n                  });\n                });\n                this.current = 'projects';\n                _context2.next = 18;\n                break;\n\n              case 15:\n                _context2.prev = 15;\n                _context2.t0 = _context2['catch'](7);\n\n                this.items = [];\n\n              case 18:\n\n                this.steps.push(this.parent);\n                this.loading = false;\n\n              case 20:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[7, 15]]);\n      }));\n\n      function showProjects(_x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return showProjects;\n    }(),\n    trigger: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(item) {\n        var map_url, url, _location, origin, epsg;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.t0 = this.current;\n                _context3.next = _context3.t0 === 'projects' ? 3 : _context3.t0 === 'groups' ? 10 : _context3.t0 === 'macrogroup' ? 12 : _context3.t0 === 'root' ? 14 : 16;\n                break;\n\n              case 3:\n                map_url = item.map_url, url = item.url;\n                _location = location, origin = _location.origin;\n                epsg = this.parent.srid ? 'EPSG:' + this.parent.srid : this.parent.crs.epsg;\n                _context3.next = 8;\n                return Projections.registerProjection(epsg);\n\n              case 8:\n                return _context3.abrupt('return', _application2.default.changeMapProject({\n                  url: '' + origin + _projects2.default.getBaseUrl() + (url || map_url.replace(/^\\//, \"\")),\n                  epsg: epsg\n                }));\n\n              case 10:\n                this.showProjects(item);\n                return _context3.abrupt('break', 16);\n\n              case 12:\n                this.showGroups(item);\n                return _context3.abrupt('break', 16);\n\n              case 14:\n                if (\"undefined\" === typeof item.srid) {\n                  this.showGroups(item);\n                } else {\n                  this.showProjects(item);\n                }\n                return _context3.abrupt('break', 16);\n\n              case 16:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function trigger(_x3) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return trigger;\n    }(),\n    setItemImageSrc: function setItemImageSrc() {\n      var _this2 = this;\n\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          item = _ref4.item,\n          type = _ref4.type;\n\n      var setSrc = function setSrc(src) {\n        var imageSrc = void 0;\n        if (src) {\n          imageSrc = src.indexOf(_projects2.default.config.mediaurl) !== -1 ? src : src.indexOf('static') === -1 && src.indexOf('media') === -1 ? '' + _projects2.default.config.mediaurl + src : '' + _application2.default.getConfig().urls.clienturl + _constant.LOGO_GIS3W;\n        } else imageSrc = '' + _application2.default.getConfig().urls.clienturl + _constant.LOGO_GIS3W;\n        return _this2.$options.host ? '' + _this2.$options.host + imageSrc : imageSrc;\n      };\n\n      switch (type) {\n        case 'project':\n          item.thumbnail = setSrc(item.thumbnail);\n          break;\n        case 'group':\n          item.header_logo_img = setSrc(item.header_logo_img);\n          break;\n        case 'macrogroup':\n          item.logo_img = setSrc(item.logo_img);\n          break;\n      }\n    }\n  },\n  created: function created() {\n    var _this3 = this;\n\n    this.items = _projects2.default.getListableProjects();\n    this.items.forEach(function (item) {\n      return _this3.setItemImageSrc({\n        item: item,\n        type: 'project'\n      });\n    });\n    this.parent = _projects2.default.getCurrentProjectGroup();\n    this.currentProjectGroupId = this.parent.id;\n\n    this.macrogroups = _application2.default.getConfig().macrogroups;\n    this.macrogroups.forEach(function (item) {\n      return _this3.setItemImageSrc({\n        item: item,\n        type: 'magrocroup'\n      });\n    });\n\n    this.groups = _application2.default.getConfig().groups;\n    this.groups.forEach(function (item) {\n      return _this3.setItemImageSrc({\n        item: item,\n        type: 'group'\n      });\n    });\n\n    this.macrogroupsandgroups = [].concat(_toConsumableArray(this.macrogroups), _toConsumableArray(this.groups));\n\n    var isMacroGroup = this.macrogroups.find(function (macrogroup) {\n      return macrogroup.id === _this3.parent.id;\n    });\n    if (isMacroGroup) {\n      var findGroup = this.groups.find(function (group) {\n        return group.id === _this3.parent.id;\n      });\n      if (findGroup) {\n        this.parent = findGroup;\n        this.currentProjectGroupId = this.parent.id;\n      }\n    }\n    if (0 === this.items.length) {\n      this.showRoot();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"g3w-change-map-menu\"}},[(_vm.current !== 'root')?[_c('div',{staticClass:\"skin-background-color\",staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"color\":\"#ffffff\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:bottom.create\",value:('change_session'),expression:\"'change_session'\",arg:\"bottom\",modifiers:{\"create\":true}},{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"font-size\":\"2em\",\"margin\":\"5px\",\"cursor\":\"pointer\",\"padding\":\"3px\",\"border\":\"2px solid #ffffff\",\"border-radius\":\"3px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.back($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('reply'),staticStyle:{\"color\":\"#FFFFFF\"}})]),_vm._v(\" \"),(_vm.parent)?_c('div',{staticStyle:{\"margin\":\"auto\"}},[_c('h3',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.parent.title || _vm.parent.name))])]):_vm._e()])]:_vm._e(),_vm._v(\" \"),(_vm.items.length)?_c('div',{staticClass:\"g3w-change-map-menu-container\"},_vm._l((_vm.items),function(item){return _c('div',{key:item.title,staticClass:\"menu-item\"},[_c('div',{staticClass:\"menu-item-image\",on:{\"click\":function($event){$event.stopPropagation();return _vm.trigger(item)}}},[_c('img',{staticClass:\"img-responsive\",attrs:{\"alt\":\"logo\",\"src\":item.thumbnail || item.header_logo_img || item.logo_img},on:{\"error\":function($event){return _vm.ImageError(item)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"menu-item-content\"},[_c('div',{staticClass:\"menu-item-text\"},[_c('h4',{staticClass:\"menu-item-title\"},[_vm._v(_vm._s(item.title))]),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(item.description)}})])])])}),0):[_c('h3',{directives:[{name:\"t\",rawName:\"v-t\",value:((\"no_other_\" + _vm.current)),expression:\"`no_other_${current}`\"}],staticStyle:{\"font-weight\":\"bold\"}})]],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-9eb2df56\"\n\n},{\"constant\":4,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"g3w-ol/projection/projections\":110,\"services/application\":350,\"store/projects\":378,\"vueify/lib/insert-css\":1}],205:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field[data-v-6783d4c4]{background-color:transparent!important;padding-top:3px;padding-bottom:3px;display:flex;align-items:center}.value[data-v-6783d4c4]{position:relative}.field div[data-v-6783d4c4]{padding-left:3px;padding-right:3px}.field_value[data-v-6783d4c4]{padding-left:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"field\",\n  props: ['state']\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field\",style:({fontSize: _vm.isMobile() && '0.8em'})},[(_vm.state.label)?_c('div',{staticClass:\"col-sm-6  field_label\"},[_vm._t(\"label\",[_vm._v(_vm._s(_vm.state.label))])],2):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"field_value\",class:[_vm.state.label ? 'col-sm-6' : null ]},[_vm._t(\"field\",[_c('span',{staticStyle:{\"word-wrap\":\"break-word\"},domProps:{\"innerHTML\":_vm._s(_vm.state.value)}})])],2)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-6783d4c4\"\n\n},{\"vueify/lib/insert-css\":1}],206:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar fieldsService = require('gui/fields/fieldsservice');\nvar Fields = require('gui/fields/fields');\n\nexports.default = {\n  name: \"g3w-field\",\n  props: {\n    state: {\n      required: true\n    },\n    feature: {\n      type: Object\n    }\n  },\n  components: _extends({}, Fields),\n  created: function created() {\n    this.type = fieldsService.getType(this.state);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.type,{tag:\"component\",attrs:{\"feature\":_vm.feature,\"state\":_vm.state}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-46843712\"\n\n},{\"gui/fields/fields\":119,\"gui/fields/fieldsservice\":120}],207:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".show-hide-geo[data-v-3362679d]{color:#3c8dbc;cursor:pointer;font-size:1.2em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-geospatial\",\n  props: {\n    data: {}\n  },\n  mixins: [_mixins.geoMixin],\n  data: function data() {\n    return {\n      layerId: 'table_layer_' + Date.now(),\n      visible: false,\n      id: 'geo_table_' + Date.now()\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"geo-content\"},[_c('span',{staticClass:\"show-hide-geo\",class:[_vm.visible ? _vm.g3wtemplate.font['eye-close'] : _vm.g3wtemplate.font['eye']],on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayer()}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-3362679d\"\n\n},{\"mixins\":342,\"vueify/lib/insert-css\":1}],208:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".img-responsive[data-v-70d2a0b2]{cursor:pointer}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nexports.default = {\n  name: \"image\",\n  props: ['state'],\n  data: function data() {\n    return {\n      galleryId: 'gallery_' + Date.now(),\n      active: null,\n      value: this.state.value.mime_type !== undefined ? this.state.value.value : this.state.value\n    };\n  },\n\n  components: {\n    Field: _Field2.default\n  },\n  computed: {\n    values: function values() {\n      return Array.isArray(this.value) ? this.value : [this.value];\n    }\n  },\n  methods: {\n    getSrc: function getSrc(value) {\n      return toRawType(value) === 'Object' ? value.photo : value;\n    },\n    showGallery: function showGallery(index) {\n      this.active = index;\n      if (toRawType(this.value) === 'Object') this.value.active = true;\n      $('#' + this.galleryId).modal('show');\n    },\n    getGalleryImages: function getGalleryImages() {\n      var _this = this;\n\n      return this.values.map(function (image) {\n        return { src: _this.getSrc(image) };\n      });\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('div',{staticStyle:{\"text-align\":\"left\"},attrs:{\"slot\":\"field\"},slot:\"field\"},[_vm._l((_vm.values),function(value,index){return _c('img',{staticClass:\"img-responsive\",staticStyle:{\"max-height\":\"50px\"},attrs:{\"src\":_vm.getSrc(value)},on:{\"click\":function($event){return _vm.showGallery(index)}}})}),_vm._v(\" \"),_c('g3w-images-gallery',{attrs:{\"id\":_vm.galleryId,\"active\":_vm.active,\"images\":_vm.getGalleryImages()}})],2)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-70d2a0b2\"\n\n},{\"components/Field.vue\":205,\"core/utils/utils\":67,\"vueify/lib/insert-css\":1}],209:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field_link[data-v-156f65de]{max-width:100%}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"link\",\n  props: ['state'],\n  data: function data() {\n    return {\n      value: null\n    };\n  },\n\n  components: {\n    Field: _Field2.default\n  },\n  methods: {\n    openLink: function openLink(link_url) {\n      window.open(link_url, '_blank');\n    }\n  },\n  created: function created() {\n    this.value = this.state.value && _typeof(this.state.value) === 'object' ? this.state.value.value : this.state.value;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('info.link_button'),expression:\"'info.link_button'\"}],staticClass:\"btn skin-button field_link\",attrs:{\"slot\":\"field\"},on:{\"click\":function($event){return _vm.openLink(_vm.value)}},slot:\"field\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-156f65de\"\n\n},{\"components/Field.vue\":205,\"vueify/lib/insert-css\":1}],210:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-media\",\n  mixins: [_mixins.mediaMixin],\n  props: ['state'],\n  computed: {\n    type: function type() {\n      return this.getMediaType(this.state.mime_type).type;\n    },\n    value: function value() {\n      return this.state.value;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.value)?_c('div',{staticClass:\"preview\"},[_c('a',{attrs:{\"href\":_vm.value,\"target\":\"_blank\"}},[_c('div',{staticClass:\"previewtype\",class:_vm.type},[_c('i',{staticClass:\"fa-2x\",class:_vm.g3wtemplate.font[_vm.type]})])]),_vm._v(\" \"),_c('div',{staticClass:\"filename\"},[_vm._v(_vm._s(_vm.filename))]),_vm._v(\" \"),_vm._t(\"default\")],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-7b8309b0\"\n\n},{\"mixins\":342}],211:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field_text_table[data-v-db21acde]{background-color:transparent!important}.field_text_table .field_label[data-v-db21acde]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"text\",\n  props: ['state'],\n  components: {\n    Field: _Field2.default\n  },\n  created: function created() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-db21acde\"\n\n},{\"components/Field.vue\":205,\"vueify/lib/insert-css\":1}],212:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require(\"components/Field.vue\");\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"vuefield\",\n  props: {\n    feature: {\n      type: Object\n    },\n    state: {\n      type: Object,\n      default: {\n        value: null,\n        vueoptions: {\n          component: {}\n        }\n      }\n    }\n  },\n  components: {\n    Field: _Field2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"field\"},slot:\"field\"},[_c(_vm.state.vueoptions.component,{tag:\"component\",attrs:{\"feature\":_vm.feature,\"value\":_vm.state.value}})],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-67a07f52\"\n\n},{\"components/Field.vue\":205}],213:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _floatbar = require(\"services/floatbar\");\n\nvar _floatbar2 = _interopRequireDefault(_floatbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"Floatbar\",\n  data: function data() {\n    return {\n      stack: _floatbar2.default.stack.state\n    };\n  },\n\n  computed: {\n    panelsinstack: function panelsinstack() {\n      return this.stack.contentsdata.length > 0;\n    },\n    panelname: function panelname() {\n      var name = void 0;\n      if (this.stack.contentsdata.length) {\n        name = this.stack.contentsdata.slice(-1)[0].content.getTitle();\n      }\n      return name;\n    },\n    closable: function closable() {\n      return _floatbar2.default.closable;\n    }\n  },\n  watch: {\n    \"stack.contentsdata\": function stackContentsdata() {\n      var children = $(\"#g3w-floatbarpanel-placeholder\").children();\n      children.forEach(function (child, index) {\n        if (index == children.length - 1) $(child).show();else $(child).hide();\n      });\n    }\n  },\n  methods: {\n    closePanel: function closePanel() {\n      _floatbar2.default.closePanel();\n    }\n  }\n\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"control-sidebar control-sidebar-light\"},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"floatbar-aside-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"control-sidebar\",\"role\":\"button\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Expand\")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\"},attrs:{\"id\":\"floatbar-spinner\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"g3w-sidebarpanel\"},[(_vm.closable)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-12 col-sm-12 col-md-12\"},[_c('button',{staticClass:\"pull-right close-panel-button\",class:_vm.g3wtemplate.getFontClass('close'),on:{\"click\":_vm.closePanel}})])]):_vm._e(),_vm._v(\" \"),(_vm.panelname)?_c('div',[_c('h4',{staticClass:\"g3w-floatbarpanel-name\"},[_vm._v(_vm._s(_vm.panelname))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"g3w-floatbarpanel-placeholder\",attrs:{\"id\":\"g3w-floatbarpanel-placeholder\"}})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-29b017dd\"\n\n},{\"services/floatbar\":359}],214:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FormHeader = require('components/FormHeader.vue');\n\nvar _FormHeader2 = _interopRequireDefault(_FormHeader);\n\nvar _FormFooter = require('components/FormFooter.vue');\n\nvar _FormFooter2 = _interopRequireDefault(_FormFooter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: {},\n      switchcomponent: false,\n      body: {\n        components: {\n          before: [],\n          after: []\n        }\n      }\n    };\n  },\n\n  components: {\n    g3wformheader: _FormHeader2.default,\n    G3wFormFooter: _FormFooter2.default\n  },\n  transitions: { 'addremovetransition': 'showhide' },\n  methods: {\n    isRootComponent: function isRootComponent(component) {\n      return this.$options.service.isRootComponent(component);\n    },\n    backToRoot: function backToRoot() {\n      this.$options.service.setRootComponent();\n    },\n    handleRelation: function handleRelation(relationId) {\n      this.$options.service.handleRelation(relationId);\n    },\n    disableComponent: function disableComponent(_ref) {\n      var id = _ref.id,\n          _ref$disabled = _ref.disabled,\n          disabled = _ref$disabled === undefined ? false : _ref$disabled;\n\n      this.$options.service.disableComponent({\n        id: id,\n        disabled: disabled\n      });\n    },\n    resizeForm: function resizeForm(perc) {\n      this.$options.service.setCurrentFormPercentage(perc);\n    },\n    switchComponent: function switchComponent(id) {\n      this.switchcomponent = true;\n      this.$options.service.setCurrentComponentById(id);\n    },\n    changeInput: function changeInput(input) {\n      return this.$options.service.changeInput(input);\n    },\n    addToValidate: function addToValidate(input) {\n      this.$options.service.addToValidate(input);\n    },\n    removeToValidate: function removeToValidate(input) {\n      this.$options.service.removeToValidate(input);\n    },\n    reloadLayout: function reloadLayout() {\n      var height = $(this.$el).height();\n      if (!height) return;\n      var footerDOM = $(this.$refs.g3w_form_footer.$el);\n      var bodyFromDOM = $(this.$refs.g3wform_body);\n      var footerHeight = footerDOM.height() ? footerDOM.height() + 50 : 50;\n      var bodyHeight = height - ($(this.$refs.g3wformheader.$el).height() + footerHeight);\n      bodyFromDOM.height(bodyHeight);\n    }\n  },\n  updated: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.switchcomponent && setTimeout(function () {\n                return _this.switchcomponent = false;\n              }, 0);\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function updated() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return updated;\n  }(),\n  created: function created() {\n    var _this2 = this;\n\n    this.$options.service.getEventBus().$on('set-main-component', function () {\n      _this2.switchComponent(0);\n    });\n    this.$options.service.getEventBus().$on('component-validation', function (_ref3) {\n      var id = _ref3.id,\n          valid = _ref3.valid;\n\n      _this2.$options.service.setValidComponent({\n        id: id,\n        valid: valid\n      });\n    });\n    this.$options.service.getEventBus().$on('addtovalidate', this.addToValidate);\n    this.$options.service.getEventBus().$on('disable-component', this.disableComponent);\n  },\n  mounted: function mounted() {\n    this.$options.service.isValid();\n    this.$options.service.setReady(true);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.$options.service.clearAll();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3wform_content\",staticStyle:{\"position\":\"relative\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_c('g3wformheader',{ref:\"g3wformheader\",attrs:{\"currentid\":_vm.state.currentheaderid,\"headers\":_vm.state.headers,\"update\":_vm.state.update,\"valid\":_vm.state.valid},on:{\"resize-form\":_vm.resizeForm,\"clickheader\":_vm.switchComponent}}),_vm._v(\" \"),_c('div',{ref:\"g3wform_body\",staticClass:\"g3wform_body\"},[_vm._l((_vm.body.components.before),function(component){return _c(component,{tag:\"component\",attrs:{\"fields\":_vm.state.fields}})}),_vm._v(\" \"),_c('keep-alive',[_c(_vm.state.component,{tag:\"component\",attrs:{\"handleRelation\":_vm.handleRelation,\"state\":_vm.state},on:{\"hook:activated\":_vm.reloadLayout,\"addtovalidate\":_vm.addToValidate,\"removetovalidate\":_vm.removeToValidate,\"changeinput\":_vm.changeInput}})],1),_vm._v(\" \"),_vm._l((_vm.body.components.after),function(component){return _c(component,{tag:\"component\",attrs:{\"fields\":_vm.state.fields}})})],2),_vm._v(\" \"),_c('g3w-form-footer',{ref:\"g3w_form_footer\",attrs:{\"isRootComponent\":_vm.isRootComponent,\"backToRoot\":_vm.backToRoot,\"state\":_vm.state}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/FormFooter.vue\":216,\"components/FormHeader.vue\":217}],215:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _InputG3WFormInputs = require('components/InputG3WFormInputs.vue');\n\nvar _InputG3WFormInputs2 = _interopRequireDefault(_InputG3WFormInputs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = Vue.extend({\n  props: ['state', 'handleRelation'],\n  data: function data() {\n    return {\n      show: true\n    };\n  },\n\n  components: {\n    G3wFormInputs: _InputG3WFormInputs2.default\n  },\n  methods: {\n    addToValidate: function addToValidate(input) {\n      this.$emit('addtovalidate', input);\n    },\n    removeToValidate: function removeToValidate(input) {\n      this.$emit('removetovalidate', input);\n    },\n    changeInput: function changeInput(input) {\n      this.$emit('changeinput', input);\n    }\n  },\n  computed: {\n    hasFormStructure: function hasFormStructure() {\n      return !!this.state.formstructure;\n    }\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{staticClass:\"form-horizontal g3w-form\"},[_c('div',{staticClass:\"box-primary\"},[_c('div',{staticClass:\"box-body\"},[(_vm.hasFormStructure)?[_c('tabs',{attrs:{\"layerid\":_vm.state.layerid,\"feature\":_vm.state.feature,\"handleRelation\":_vm.handleRelation,\"contenttype\":'editing',\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput,\"removeToValidate\":_vm.removeToValidate,\"tabs\":_vm.state.formstructure,\"fields\":_vm.state.fields}})]:[_c('g3w-form-inputs',{attrs:{\"state\":_vm.state,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}})]],2)])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/InputG3WFormInputs.vue\":240}],216:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = Vue.extend({\n  props: {\n    state: {\n      type: Object\n    },\n    backToRoot: {\n      type: Function,\n      default: function _default() {}\n    },\n    isRootComponent: {\n      type: Function\n    }\n  },\n  data: function data() {\n    this.originalbuttons = this.state.buttons.map(function (button) {\n      return _extends({}, button);\n    });\n    return {\n      id: \"footer\",\n      active: true,\n      show: true\n    };\n  },\n\n  computed: {\n    enableSave: function enableSave() {\n      return this.state.valid && this.state.update;\n    }\n  },\n  methods: {\n    exec: function exec(cbk) {\n      cbk instanceof Function ? cbk(this.state.fields) : function () {\n        return this.state.fields;\n      }();\n    },\n    btnEnabled: function btnEnabled(button) {\n      var _button$enabled = button.enabled,\n          enabled = _button$enabled === undefined ? true : _button$enabled,\n          type = button.type;\n\n      return enabled && (type !== 'save' || type === 'save' && this.enableSave);\n    },\n    isValid: function isValid() {\n      return this.state.valid;\n    }\n  },\n  watch: {\n    'state.component': function stateComponent(component) {\n      this.show = this.isRootComponent(component);\n    },\n\n    'state.update': {\n      immediate: true,\n      handler: function handler(value) {\n        var _this = this;\n\n        this.state.buttons.find(function (button, index) {\n          if (button.eventButtons && button.eventButtons.update) {\n            if (button.eventButtons.update[value]) {\n              _this.state.buttons.splice(index, 1, _extends({}, button, button.eventButtons.update[value]));\n            } else _this.state.buttons.splice(index, 1, _this.originalbuttons[index]);\n          }\n        });\n      }\n    }\n  },\n  activated: function activated() {\n    this.active = true;\n  },\n  deactivated: function deactivated() {\n    this.active = false;\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group g3wform_footer\"},[(_vm.show)?[_vm._t(\"default\",[_c('div',{staticStyle:{\"margin\":\"3px\",\"font-weight\":\"bold\"}},[_vm._v(\"\\n        * \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.form.footer.required_fields'),expression:\"'sdk.form.footer.required_fields'\"}]}),_vm._v(\" \"),(_vm.state.footer.message)?_c('div',{style:([_vm.state.footer.style])},[_vm._v(_vm._s(_vm.state.footer.message))]):_vm._e()]),_vm._v(\" \"),_vm._l((_vm.state.buttons),function(button){return _c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.btnEnabled(button)),expression:\"!btnEnabled(button)\"},{name:\"t\",rawName:\"v-t\",value:(button.title),expression:\"button.title\"}],key:button.id,staticClass:\"btn \",class:[button.class],attrs:{\"update\":_vm.state.update,\"valid\":_vm.state.valid},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.exec(button.cbk)}}})})])]:[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('back'),expression:\"'back'\"}],staticClass:\"btn skin-button\",on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"prevet\",undefined,$event.key,undefined)){ return null; }$event.stopPropagation();return _vm.backToRoot($event)}}})]],2)}\n__vue__options__.staticRenderFns = []\n\n},{}],217:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Vue.extend({\n  props: {\n    headers: {\n      type: Array,\n      default: []\n    },\n    currentid: {\n      type: 'String'\n    },\n    update: {\n      type: Boolean\n    },\n    valid: {\n      type: Boolean\n    }\n  },\n  methods: {\n    click: function click(id) {\n      if (this.currentid !== id) this.$emit('clickheader', id);\n    },\n    resizeForm: function resizeForm(perc) {\n      this.$emit('resize-form', perc);\n    }\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3wform_header box-header with-border\",staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('section',{staticClass:\"g3wform_header_content\"},_vm._l((_vm.headers),function(header){return _c('span',{key:header.id,staticClass:\"title\",class:[{item_selected: _vm.currentid === header.id && _vm.headers.length > 1},[_vm.headers.length > 1 ? 'tabs' : 'one' ]],staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"},style:({fontSize: _vm.isMobile() && '1em !important'}),on:{\"click\":function($event){$event.stopPropagation();return _vm.click(header.id)}}},[(header.icon)?_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_c('i',{class:header.icon})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:(header.title),expression:\"header.title\",arg:\"pre\"}],staticClass:\"g3w-long-text\"},[_vm._v(_vm._s(header.name))]),_vm._v(\" \"),_c(header.component,{tag:\"component\",attrs:{\"valid\":_vm.valid,\"update\":_vm.update}})],1)}),0)])}\n__vue__options__.staticRenderFns = []\n\n},{}],218:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  name: \"bar-loader\",\n  props: ['loading', 'color'],\n  render: function render(createElement) {\n    if (this.loading) {\n      return createElement('div', {\n        style: {\n          backgroundColor: this.color || '#FFFFFF',\n          border: 0\n        },\n        class: {\n          \"bar-loader\": true\n        }\n      });\n    }\n  }\n};\n\n},{}],219:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"datetime\",\n  props: {\n    type: {\n      type: String,\n      default: 'date' },\n    format: {\n      type: String,\n      default: 'YYYY-MM-DD'\n    },\n    minDate: {\n      default: false\n    },\n    maxDate: {\n      default: false\n    },\n    enabledDates: {\n      default: false\n    },\n    value: {},\n    label: {\n      default: 'Date'\n    }\n  },\n  data: function data() {\n    return {\n      datetimevalue: this.value\n    };\n  },\n\n  methods: {\n    changeInput: function changeInput(evt) {},\n    change: function change(value) {\n      var date = moment(value).format(this.format);\n      this.$emit('change', date);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.datetimeinputelement = $(this.$refs.iddatetimepicker);\n              this.datetimeinputelement.datetimepicker({\n                minDate: this.minDate,\n                maxDate: this.maxDate,\n                defaultDate: this.datetimevalue,\n                useCurrent: false,\n                allowInputToggle: true,\n                enabledDates: this.enabledDates,\n                showClose: true,\n                format: this.format,\n                locale: _applicationState2.default.language,\n                toolbarPlacement: 'top',\n                widgetPositioning: {\n                  horizontal: 'right'\n                }\n              });\n              this.datetimeinputelement.on(\"dp.change\", function (_ref2) {\n                var date = _ref2.date;\n\n                _this.change(date);\n              });\n              this.datetimeinputelement.on(\"dp.hide\", function (evt) {});\n              _applicationState2.default.ismobile && setTimeout(function () {\n                return datetimeinputelement.blur();\n              });\n\n            case 7:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n\n  watch: {\n    value: function value(datetime) {\n      this.datetimevalue = datetime;\n      this.datetimeinputelement.data(\"DateTimePicker\").date(datetime);\n    },\n    minDate: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(mindatetime) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.datetimeinputelement.data(\"DateTimePicker\").minDate(mindatetime);\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function minDate(_x) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return minDate;\n    }(),\n    maxDate: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(maxdatetime) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.datetimeinputelement.data(\"DateTimePicker\").maxDate(maxdatetime);\n\n              case 1:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function maxDate(_x2) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return maxDate;\n    }(),\n    enabledDates: function enabledDates(dates) {\n      this.datetimeinputelement.data(\"DateTimePicker\").enabledDates(dates);\n    }\n  },\n  created: function created() {\n    this.id = getUniqueDomId();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"datimecontainer\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.label),expression:\"label\"}],staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.id}}),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('div',{ref:\"iddatetimepicker\",staticClass:\"input-group date\"},[_c('input',{ref:\"idinputdatetimepiker\",staticClass:\"form-control\",attrs:{\"id\":_vm.id,\"type\":\"text\"},on:{\"change\":_vm.changeInput}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon caret\"},[_c('span',{staticClass:\"datetimeinput\",class:[_vm.type === 'time'? _vm.g3wtemplate.getFontClass('time') :  _vm.g3wtemplate.getFontClass('calendar')]})])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-e7683bf8\"\n\n},{\"core/utils/utils\":67,\"store/application-state\":372}],220:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".divider[data-v-6409ddc0]{display:block;position:relative;padding:0;margin-bottom:5px;height:0;width:100%;max-height:0;font-size:1px;line-height:0;clear:both;border:none;border-bottom:2px solid #eee}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"divider\"\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"divider\"})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-6409ddc0\"\n\n},{\"vueify/lib/insert-css\":1}],221:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".modal-content[data-v-38db7d79]{background:hsla(0,0%,100%,.6);border-radius:3px}.modal-dialog[data-v-38db7d79]{display:inline-block;text-align:left;vertical-align:middle}.modal[data-v-38db7d79]{text-align:center;padding:0!important}.modal[data-v-38db7d79]:before{content:\\\"\\\";display:inline-block;height:100%;vertical-align:middle;margin-right:-4px}.carousel .carousel-control span[data-v-38db7d79]{color:#3c8dbc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-images-gallery\",\n  props: {\n    images: {\n      type: Array,\n      default: []\n    },\n    id: {\n      type: String,\n      default: 'gallery'\n    },\n    active: {\n      type: Number\n    }\n  },\n  data: function data() {\n    return {\n      carouselId: 'carousel_' + Date.now()\n    };\n  },\n\n  methods: {\n    isActive: function isActive(src) {\n      return src === active;\n    },\n    isRelativePath: function isRelativePath(url) {\n      if (!_.startsWith(url, '/') && !_.startsWith(url, 'http')) {\n        return _projects2.default.getConfig().mediaurl + url;\n      }\n      return url;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade modal-fullscreen force-fullscreen\",attrs:{\"id\":_vm.id,\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"carousel slide\",attrs:{\"id\":_vm.carouselId,\"data-interval\":\"false\"}},[_c('div',{staticClass:\"carousel-inner\"},_vm._l((_vm.images),function(image,index){return _c('div',{staticClass:\"item\",class:_vm.active == index ? 'active' : ''},[_c('img',{staticStyle:{\"margin\":\"auto\"},attrs:{\"src\":_vm.isRelativePath(image.src)}})])}),0),_vm._v(\" \"),(_vm.images.length> 1)?_c('a',{staticClass:\"left carousel-control\",attrs:{\"href\":'#'+_vm.carouselId,\"role\":\"button\",\"data-slide\":\"prev\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e(),_vm._v(\" \"),(_vm.images.length> 1)?_c('a',{staticClass:\"right carousel-control\",attrs:{\"href\":'#'+_vm.carouselId,\"role\":\"button\",\"data-slide\":\"next\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e()])])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-38db7d79\"\n\n},{\"store/projects\":378,\"vueify/lib/insert-css\":1}],222:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".show-hide-geo[data-v-ea8dc510]{color:#3c8dbc;cursor:pointer;font-size:1.2em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-geospatial\",\n  props: {\n    data: {}\n  },\n  mixins: [_mixins.geoMixin],\n  data: function data() {\n    return {\n      layerId: 'table_layer_' + Date.now(),\n      visible: false,\n      id: 'geo_table_' + Date.now()\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"geo-content\"},[_c('span',{staticClass:\"show-hide-geo\",class:[_vm.visible ? _vm.g3wtemplate.getFontClass('eye-close') : _vm.g3wtemplate.getFontClass('eye')],on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayer()}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-ea8dc510\"\n\n},{\"mixins\":342,\"vueify/lib/insert-css\":1}],223:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".help_div_container[data-v-5d3720b7]{color:#fff;text-align:justify;position:relative;border-radius:3px;margin:5px 2px;white-space:pre-line;background-color:#384246!important}.help_icon[data-v-5d3720b7]{text-align:center;font-size:.7em;margin-top:-4px;margin-left:-4px;background-color:#222d32;font-weight:700;color:#fff;position:absolute;top:0;left:0;width:15px;height:15px;box-shadow:0 3px 5px rgba(0,0,0,.5);border:1px solid #fff;border-radius:50%}.g3w-help-message-content[data-v-5d3720b7]{max-height:200px;padding:10px;overflow-y:auto}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"helpdiv\",\n  props: {\n    message: {\n      type: String,\n      required: true\n    },\n    type: {\n      type: String,\n      default: 'info' }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"help_div_container\"},[_c('span',{staticClass:\"help_icon\"},[_vm._v(\"i\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.message),expression:\"message\"}],staticClass:\"g3w-help-message-content\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-5d3720b7\"\n\n},{\"vueify/lib/insert-css\":1}],224:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".img-responsive[data-v-b7d14a7c]{cursor:pointer}.g3w-image[data-v-b7d14a7c]{padding-left:0!important;min-width:100px;max-width:100%;cursor:pointer}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _GlobalGallery = require('components/GlobalGallery.vue');\n\nvar _GlobalGallery2 = _interopRequireDefault(_GlobalGallery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-image\",\n  props: {\n    value: {}\n  },\n  data: function data() {\n    return {\n      galleryId: 'gallery_' + Date.now(),\n      active: null\n    };\n  },\n\n  components: {\n    'g3w-images-gallery': _GlobalGallery2.default\n  },\n  computed: {\n    values: function values() {\n      return Array.isArray(this.value) ? this.value : [this.value];\n    }\n  },\n  methods: {\n    getSrc: function getSrc(value) {\n      if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n        return value.photo;\n      }\n      return value;\n    },\n    showGallery: function showGallery(index) {\n      this.active = index;\n      if (_typeof(this.value) === 'object') {\n        this.value.active = true;\n      }\n      $('#' + this.galleryId).modal('show');\n    },\n    getGalleryImages: function getGalleryImages() {\n      var _this = this;\n\n      var images = [];\n      this.values.forEach(function (image) {\n        images.push({\n          src: _this.getSrc(image)\n        });\n      });\n      return images;\n    }\n  },\n  created: function created() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.values),function(value,index){return _c('div',{staticClass:\"g3w-image col-md-6 col-sm-12\"},[_c('img',{staticClass:\"img-thumbnail\",attrs:{\"src\":_vm.getSrc(value)},on:{\"click\":function($event){return _vm.showGallery(index)}}})])}),0),_vm._v(\" \"),_c('g3w-images-gallery',{attrs:{\"id\":_vm.galleryId,\"active\":_vm.active,\"images\":_vm.getGalleryImages()}})],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b7d14a7c\"\n\n},{\"components/GlobalGallery.vue\":221,\"vueify/lib/insert-css\":1}],225:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-layer-positions[data-v-026784c2]{display:flex;flex-direction:column;margin:5px 0}.g3w-layer-positions-info-message[data-v-026784c2]{margin-bottom:5px;font-weight:700}.g3w-layer-positions-checkboxes[data-v-026784c2]{display:flex;justify-content:space-between}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"layerspositions\",\n  props: {\n    position: {\n      type: String,\n      default: _constant.MAP_SETTINGS.LAYER_POSITIONS.default\n    }\n  },\n  data: function data() {\n    return {\n      layerpositions: _constant.MAP_SETTINGS.LAYER_POSITIONS.getPositions()\n    };\n  },\n\n  methods: {\n    change: function change() {\n      this.$emit('layer-position-change', this.position);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.ids = {\n      layerpositions: getUniqueDomId()\n    };\n    this.layerpositions.forEach(function (layerposition) {\n      return _this.ids[layerposition] = getUniqueDomId();\n    });\n    this.change();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-layer-positions\",attrs:{\"id\":_vm.ids.layerpositions}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(\"layer_position.message\"),expression:\"`layer_position.message`\"}],staticClass:\"g3w-layer-positions-info-message\"}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-layer-positions-checkboxes\"},_vm._l((_vm.layerpositions),function(layerposition){return _c('div',{key:layerposition},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.position),expression:\"position\"}],staticClass:\"form-control magic-radio\",attrs:{\"type\":\"radio\",\"id\":_vm.ids[layerposition]},domProps:{\"value\":layerposition,\"checked\":_vm.position === layerposition,\"checked\":_vm._q(_vm.position,layerposition)},on:{\"change\":[function($event){_vm.position=layerposition},_vm.change]}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:((\"layer_position.\" + layerposition)),expression:\"`layer_position.${layerposition}`\"}],attrs:{\"for\":_vm.ids[layerposition]}})])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-026784c2\"\n\n},{\"app/constant\":4,\"core/utils/utils\":67,\"vueify/lib/insert-css\":1}],226:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  name: \"progressbar\",\n  props: ['progress'],\n  render: function render(createElement) {\n    if (this.progress !== null && this.progress !== undefined) {\n      return createElement('div', {\n        style: {\n          margin: '5px 0 5px 0',\n          width: '100%',\n          backgroundColor: '#FFFFFF',\n          border: 0,\n          borderRadius: '3px'\n        }\n      }, [createElement('div', {\n        style: {\n          width: (this.progress < 10 ? 10 : this.progress) + '%',\n          display: 'flex',\n          justifyContent: 'center',\n          fontWeight: 'bold'\n        },\n        class: {\n          'skin-background-color': true\n        }\n      }, [createElement('span', this.progress + '%')])]);\n    }\n  }\n};\n\n},{}],227:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".min-max-label[data-v-a8bbacb8]{align-self:end;font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    debounce = _require.debounce;\n\nexports.default = {\n  name: \"range\",\n  props: {\n    id: {\n      required: true\n    },\n\n    label: {\n      type: \"String\",\n      default: ''\n    },\n\n    min: {\n      type: Number,\n      default: 0\n    },\n\n    max: {\n      type: Number,\n      default: 10\n    },\n\n    step: {\n      type: Number,\n      default: 1\n    },\n\n    labelValue: {},\n\n    value: {\n      default: 0\n    },\n\n    sync: {\n      type: Boolean,\n      default: false\n    },\n\n    showValue: {\n      type: Boolean,\n      default: false\n    },\n\n    unit: {\n      type: String,\n      default: ''\n    }\n\n  },\n  data: function data() {\n    return {};\n  },\n\n  methods: {\n    changeBackGround: function changeBackGround(value) {\n      this.$refs['range-input'].style.backgroundSize = (value ? (value - this.min) * 100 / (this.max - this.min) : 0) + \"% 100%\";\n    },\n    setValue: function setValue(value) {\n      this.changedValue(value);\n    },\n    change: function change(evt) {\n      var value = 1 * evt.target.value;\n      this.changedValue(value);\n    },\n    emitChangeValue: function emitChangeValue(value) {\n      this.value = value;\n      this.$emit('change-range', {\n        id: this.id,\n        value: value\n      });\n    }\n  },\n  watch: {\n    value: function value(_value) {\n      this.changeBackGround(_value);\n      this.sync && this.emitChangeValue(_value);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.changedValue = this.sync ? function () {\n      return _this.$emit('changed');\n    } : debounce(function (value) {\n      _this.emitChangeValue(value);\n    });\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.changeBackGround(this.value);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"font-weight\":\"bold\"}},[_c('section',{staticStyle:{\"align-self\":\"flex-end\"}},[_c('span',{staticClass:\"min-max-label\"},[_vm._v(_vm._s(_vm.min))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.unit))])]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"margin\":\"0 3px\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.label),expression:\"label\"}],staticClass:\"skin-color\",staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.id}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],ref:\"range-input\",attrs:{\"type\":\"range\",\"id\":_vm.id,\"min\":_vm.min,\"max\":_vm.max,\"step\":_vm.step},domProps:{\"value\":(_vm.value)},on:{\"change\":_vm.change,\"__r\":function($event){_vm.value=$event.target.value}}})]),_vm._v(\" \"),_c('section',{staticStyle:{\"align-self\":\"flex-end\"}},[_c('span',{staticClass:\"min-max-label\"},[_vm._v(_vm._s(_vm.max))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.unit))])])]),_vm._v(\" \"),(_vm.showValue)?[_c('span',[_vm._v(_vm._s(_vm.value))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.unit))])]:_vm._e()],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-a8bbacb8\"\n\n},{\"core/utils/utils\":67,\"vueify/lib/insert-css\":1}],228:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: \"g3w-resize\",\n  props: {\n    show: {\n      type: Boolean,\n      required: true,\n      default: true\n    },\n    orientation: {\n      type: String,\n      required: true,\n      default: 'h'\n    },\n    where: {\n      type: 'string',\n      default: 'document'\n    },\n    moveFnc: {\n      type: Function,\n      default: function _default(evt) {\n        return console.log(evt);\n      }\n    },\n    style: {\n      type: Object,\n      default: {}\n    }\n  },\n  methods: {\n    wrapMoveFnc: function wrapMoveFnc(evt) {\n      this.domElementMoveListen.addEventListener('mouseup', this.stop, { once: true });\n      this.moveFnc(evt);\n    },\n    start: function start() {\n      this.domElementMoveListen.addEventListener('mousemove', this.wrapMoveFnc);\n    },\n    stop: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.domElementMoveListen.removeEventListener('mousemove', this.wrapMoveFnc);\n                _context.next = 3;\n                return this.$nextTick();\n\n              case 3:\n                _gui2.default.emit('resize');\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stop() {\n        return _ref.apply(this, arguments);\n      }\n\n      return stop;\n    }()\n  },\n  watch: {\n    'orientation': {\n      handler: function handler(orientation) {\n        this.style.cursor = orientation === 'v' ? 'ns-resize' : 'col-resize';\n      },\n\n      immediate: true\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.domElementMoveListen;\n              this.style = _extends({\n                minWidth: '5px',\n                backgroundColor: '#dddddd',\n                cursor: 'col-resize'\n              }, this.style);\n              _context2.t0 = this.where;\n              _context2.next = _context2.t0 === 'content' ? 5 : _context2.t0 === 'document' ? 7 : 7;\n              break;\n\n            case 5:\n              this.domElementMoveListen = document.getElementById('g3w-view-content');\n              return _context2.abrupt('break', 8);\n\n            case 7:\n              this.domElementMoveListen = document;\n\n            case 8:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.domElementMoveListen = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],style:(_vm.style),attrs:{\"id\":_vm.$attrs.id},on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.start($event)}}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-9cb98a46\"\n\n},{\"services/gui\":360}],229:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    name: 'resize-icon',\n    props: {\n        type: {\n            type: String,\n            default: 'h'\n        }\n    },\n    computed: function computed() {},\n\n    methods: {\n        toggleFull: function toggleFull() {\n            _gui2.default.toggleFullViewContent();\n            _gui2.default.emit('resize');\n        },\n        resetToDefault: function resetToDefault() {\n            _gui2.default.resetToDefaultContentPercentage();\n            _gui2.default.emit('resize');\n        }\n    }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('i',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:bottom.create\",value:('enlange_reduce'),expression:\"'enlange_reduce'\",arg:\"bottom\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-color-dark\",class:_vm.g3wtemplate.getFontClass((\"resize-\" + _vm.type)),staticStyle:{\"cursor\":\"pointer\",\"margin-right\":\"3px\"},on:{\"click\":_vm.toggleFull}}),_vm._v(\" \"),_c('i',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('reset_default'),expression:\"'reset_default'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-color-dark\",class:_vm.g3wtemplate.getFontClass(\"resize-default\"),staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.resetToDefault}})])}\n__vue__options__.staticRenderFns = []\n\n},{\"services/gui\":360}],230:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".br[data-v-8413fc94]{border-radius:8px}.card[data-v-8413fc94]{width:80%;padding:10px 20px;margin:50px auto}.item[data-v-8413fc94]{height:15px;background:#ccc;margin-top:15px}.item-light[data-v-8413fc94]{background:#ddd}.text80[data-v-8413fc94]{width:80%}.chart-wrapper[data-v-8413fc94]{height:50px;display:flex;align-items:baseline;margin-bottom:20px}.chart-item[data-v-8413fc94]{height:100%;width:15px;background:#ccc;margin-right:10px}.chart-item-80[data-v-8413fc94]{height:80%}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"skeleton\",\n  mounted: function mounted() {\n    this.$nextTick(function () {});\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card br\"},[_c('div',{staticClass:\"chart-wrapper\"},[_c('div',{staticClass:\"chart-item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item chart-item-80 item-light br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item br chart-item-80\"})]),_vm._v(\" \"),_c('div',{staticClass:\"item br text80\"}),_vm._v(\" \"),_c('div',{staticClass:\"item item-light br\"}),_vm._v(\" \"),_c('div',{staticClass:\"item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"item item-light br text80\"})])}]\n__vue__options__._scopeId = \"data-v-8413fc94\"\n\n},{\"vueify/lib/insert-css\":1}],231:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".formquerytabs[data-v-2cbd8ce7]{overflow:hidden!important;display:flex;flex-wrap:wrap}.formquerytabs>li[data-v-2cbd8ce7]{flex:1;display:flex}.formquerytabs>li>a[data-v-2cbd8ce7]{font-weight:700;flex:1}.tab-content[data-v-2cbd8ce7]{//margin-top:10px}.nav-tabs>li>a.mobile[data-v-2cbd8ce7]{padding:5px 10px}.tab_a[data-v-2cbd8ce7]{padding:5px;margin-right:0!important;//border:1px solid #eee;border-bottom:0;margin-bottom:3px;border-radius:3px 3px 0 0}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _name$props$component;\n\nvar _tabservice = require('core/expression/tabservice');\n\nvar _tabservice2 = _interopRequireDefault(_tabservice);\n\nvar _GlobalTabsNode = require('components/GlobalTabsNode.vue');\n\nvar _GlobalTabsNode2 = _interopRequireDefault(_GlobalTabsNode);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = (_name$props$component = {\n  name: \"tabs\",\n  props: {\n    group: {\n      type: Boolean,\n      default: false\n    },\n    contenttype: {\n      default: 'query' },\n    layerid: {\n      required: true\n    },\n    tabs: {\n      required: true\n    },\n    feature: {\n      required: true\n    },\n    fields: {\n      required: true\n    },\n    addToValidate: Function,\n    removeToValidate: Function,\n    changeInput: Function,\n    showRelationByField: {\n      type: Boolean,\n      default: true\n    },\n    handleRelation: {\n      type: Function,\n      default: function _default() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            relation = _ref.relation,\n            layerId = _ref.layerId,\n            feature = _ref.feature;\n\n        return _gui2.default.getService('queryresults').showRelation({ relation: relation, layerId: layerId, feature: feature });\n      }\n    }\n  },\n  components: {\n    Node: _GlobalTabsNode2.default\n  },\n  data: function data() {\n    return {\n      ids: []\n    };\n  },\n\n  computed: {\n    required_fields: function required_fields() {\n      return this.contenttype === 'editing' && this.fields.filter(function (field) {\n        return field.validate.required;\n      }).map(function (field) {\n        return field.name;\n      });\n    },\n    show: function show() {\n      return this.tabs.reduce(function (accumulator, tab) {\n        return accumulator || tab.visible === undefined || !!tab.visible;\n      }, false);\n    }\n  },\n  methods: {\n    setVisibility: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(tab) {\n        var visible;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _tabservice2.default.getVisibility({\n                  qgs_layer_id: this.layerid,\n                  expression: tab.visibility_expression.expression,\n                  feature: this.feature,\n                  contenttype: this.contenttype\n                });\n\n              case 2:\n                visible = _context.sent;\n\n                tab.visible = visible;\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function setVisibility(_x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return setVisibility;\n    }(),\n    setEditingRequireTab: function setEditingRequireTab(obj) {\n      var _this = this;\n\n      var required = false;\n      if (obj.nodes === undefined) required = this.required_fields.indexOf(obj.field_name) !== -1;else required = !!obj.nodes.find(function (node) {\n        return _this.setEditingRequireTab(node);\n      });\n      return required;\n    },\n    getField: function getField(fieldName) {\n      return this.fields.find(function (field) {\n        return field.name === fieldName;\n      });\n    }\n  }\n}, _defineProperty(_name$props$component, 'components', {\n  Node: _GlobalTabsNode2.default\n}), _defineProperty(_name$props$component, 'created', function () {\n  var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n    var _this2 = this;\n\n    var _loop, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, tab, nodes;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            this.unwatch = [];\n\n            _loop = function _loop(tab) {\n              if (tab.visibility_expression) {\n                if (tab.visible === undefined) _this2.$set(tab, 'visible', 0);\n                _this2.setVisibility(tab);\n              }\n              if (_this2.contenttype === 'editing') {\n                if (tab.required === undefined) tab.required = _this2.setEditingRequireTab(tab);\n                if (tab.visibility_expression) {\n                  tab.visibility_expression.referenced_columns.forEach(function (column) {\n                    var field = _this2.fields.find(function (field) {\n                      return field.name === column;\n                    });\n                    _this2.unwatch.push(_this2.$watch(function () {\n                      return field.value;\n                    }, function () {\n                      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(value) {\n                        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                          while (1) {\n                            switch (_context2.prev = _context2.next) {\n                              case 0:\n                                _this2.feature.set(field.name, value);\n                                _this2.setVisibility(tab);\n\n                              case 2:\n                              case 'end':\n                                return _context2.stop();\n                            }\n                          }\n                        }, _callee2, _this2);\n                      }));\n\n                      return function (_x3) {\n                        return _ref4.apply(this, arguments);\n                      };\n                    }()));\n                  });\n                }\n              }\n              _this2.ids.push('tab_' + getUniqueDomId());\n            };\n\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _iteratorError = undefined;\n            _context3.prev = 5;\n            for (_iterator = this.tabs[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              tab = _step.value;\n\n              _loop(tab);\n            }\n            _context3.next = 13;\n            break;\n\n          case 9:\n            _context3.prev = 9;\n            _context3.t0 = _context3['catch'](5);\n            _didIteratorError = true;\n            _iteratorError = _context3.t0;\n\n          case 13:\n            _context3.prev = 13;\n            _context3.prev = 14;\n\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n\n          case 16:\n            _context3.prev = 16;\n\n            if (!_didIteratorError) {\n              _context3.next = 19;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 19:\n            return _context3.finish(16);\n\n          case 20:\n            return _context3.finish(13);\n\n          case 21:\n            this.root_tabs = [];\n            if (!this.group) {\n              nodes = [];\n\n              this.tabs.forEach(function (tab_node) {\n                if (tab_node.nodes) nodes.push(tab_node);else {\n                  if (nodes.length) {\n                    _this2.root_tabs.push([].concat(nodes));\n                    nodes.splice(0);\n                  }_this2.root_tabs.push({ nodes: [tab_node] });\n                }\n              });\n              if (nodes.length) this.root_tabs.push(nodes);\n            } else this.root_tabs = [this.tabs];\n\n          case 23:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[5, 9, 13, 21], [14,, 16, 20]]);\n  }));\n\n  function created() {\n    return _ref3.apply(this, arguments);\n  }\n\n  return created;\n}()), _defineProperty(_name$props$component, 'beforeDestroy', function beforeDestroy() {\n  this.unwatch.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatch = null;\n}), _name$props$component);\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{staticClass:\"tabs-wrapper\"},[_vm._l((_vm.root_tabs),function(root_tab){return [(Array.isArray(root_tab))?[_c('ul',{staticClass:\"formquerytabs nav nav-tabs\"},[_vm._l((root_tab),function(tab,index){return [(tab.visible === undefined || tab.visible)?_c('li',{class:{active: index === 0}},[_c('a',{staticClass:\"tab_a\",class:{'mobile': _vm.isMobile(), 'group-title': _vm.group},style:({fontSize: _vm.isMobile() ? '1.0em': ((_vm.group ? '1.1': '1.2') + \"em\")}),attrs:{\"data-toggle\":\"tab\",\"href\":(\"#\" + (_vm.ids[index]))}},[_vm._v(\"\\n              \"+_vm._s(tab.name)+\" \"),(_vm.contenttype === 'editing' && tab.required)?_c('span',{staticStyle:{\"padding-left\":\"3px\",\"font-size\":\"1.1em\"}},[_vm._v(\"*\")]):_vm._e()])]):_vm._e()]})],2),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\",class:{editing: _vm.contenttype === 'editing'}},[_vm._l((root_tab),function(tab,index){return [(tab.visible === undefined || tab.visible)?_c('div',{staticClass:\"tab-pane fade\",class:{'in active': index === 0},attrs:{\"id\":_vm.ids[index]}},[_c('node',{attrs:{\"showRelationByField\":_vm.showRelationByField,\"handleRelation\":_vm.handleRelation,\"feature\":_vm.feature,\"layerid\":_vm.layerid,\"contenttype\":_vm.contenttype,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput,\"fields\":_vm.fields,\"showTitle\":false,\"node\":tab}})],1):_vm._e()]})],2)]:_c('node',{attrs:{\"showRelationByField\":_vm.showRelationByField,\"handleRelation\":_vm.handleRelation,\"feature\":_vm.feature,\"layerid\":_vm.layerid,\"contenttype\":_vm.contenttype,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput,\"fields\":_vm.fields,\"showTitle\":false,\"node\":root_tab}})]})],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2cbd8ce7\"\n\n},{\"components/GlobalTabsNode.vue\":232,\"core/expression/tabservice\":11,\"core/utils/utils\":67,\"services/gui\":360,\"vueify/lib/insert-css\":1}],232:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".tab-node[data-v-9685e2ee]{min-width:0;overflow:hidden}.title[data-v-9685e2ee]{font-weight:700;width:100%;color:#fff;padding:3px;margin-top:5px;margin-bottom:5px;border-radius:2px}.node-row[data-v-9685e2ee]{margin-bottom:0;column-gap:2px;margin-top:0;display:grid;grid-auto-columns:minmax(0,1fr);grid-auto-flow:column}.row.mobile[data-v-9685e2ee]{margin-bottom:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _InputG3W = require('components/InputG3W.vue');\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = require('gui/fields/fields');\n\nexports.default = {\n  name: \"node\",\n  props: ['contenttype', 'node', 'fields', 'showTitle', 'addToValidate', 'removeToValidate', 'changeInput', 'layerid', 'feature', 'showRelationByField', 'handleRelation'],\n  components: _extends({\n    G3wInput: _InputG3W2.default\n  }, Fields),\n  data: function data() {\n    return {\n      context: this.contenttype,\n      editing_required: false\n    };\n  },\n\n  computed: {\n    filterNodes: function filterNodes() {\n      var _this = this;\n\n      var filterNodes = this.node.nodes && this.node.nodes.filter(function (node) {\n        if (_this.getNodeType(node) === 'group') {\n          return true;\n        } else if (!node.nodes && node.name && _this.getNodeType(node) != 'group') {\n          node.relation = true;\n          return true;\n        } else {\n          return !!_this.fields.find(function (field) {\n            var field_name = node.field_name ? node.field_name.replace(/ /g, \"_\") : node.field_name;\n            return field.name === field_name || node.relation;\n          });\n        }\n      });\n      return filterNodes || [];\n    },\n    nodesLength: function nodesLength() {\n      return this.filterNodes.length;\n    },\n    rows: function rows() {\n      var rowCount = 1;\n      if (this.nodesLength === 0) rowCount = 0;else if (this.columnNumber <= this.nodesLength) {\n        var rest = this.nodesLength % this.columnNumber;\n        rowCount = Math.floor(this.nodesLength / this.columnNumber) + rest;\n      }\n      return rowCount;\n    },\n    columnNumber: function columnNumber() {\n      var columnCount = parseInt(this.node.columncount) ? parseInt(this.node.columncount) : 1;\n      return columnCount > this.nodesLength ? this.nodesLength : columnCount;\n    },\n    showGroupTile: function showGroupTile() {\n      return this.showTitle && this.node.showlabel && this.node.groupbox;\n    }\n  },\n  methods: {\n    loadingRelation: function loadingRelation(relation) {\n      var layer = _projects2.default.getCurrentProject().getLayerById(this.layerid);\n      var relation_project = layer.getRelationById(relation.name);\n      return relation_project.state;\n    },\n    isRelationDisabled: function isRelationDisabled(relation) {\n      return this.getRelationName(relation.name) === undefined || this.contenttype === 'editing' && this.isRelationChildLayerNotEditable(relation);\n    },\n    getRelationName: function getRelationName(relationId) {\n      var relation = _projects2.default.getCurrentProject().getRelationById(relationId);\n      return relation && relation.name;\n    },\n    isRelationChildLayerNotEditable: function isRelationChildLayerNotEditable(relation) {\n      var nmRelationId = relation.nmRelationId,\n          name = relation.name;\n\n      var currentProject = _projects2.default.getCurrentProject();\n      var projectRelation = currentProject.getRelationById(name);\n      var relationLayerId = projectRelation.referencingLayer;\n      var relationLayer = currentProject.getLayerById(relationLayerId);\n\n      return !relationLayer.isEditable();\n    },\n    getNodes: function getNodes(row) {\n      var startIndex = (row - 1) * this.columnNumber;\n      return this.filterNodes.slice(startIndex, this.columnNumber + startIndex);\n    },\n    getNode: function getNode(row, column) {\n      return this.getNodes(row)[column - 1];\n    },\n    getField: function getField(node) {\n      if (node.relation) return node;\n      var field = this.fields.find(function (field) {\n        var field_name = node.field_name ? node.field_name.replace(/ /g, \"_\") : node.field_name;\n        return field.name === field_name;\n      });\n      return field;\n    },\n    getNodeType: function getNodeType(node) {\n      var type = node.groupbox || node.nodes ? 'group' : node.relation ? 'relation' : 'field';\n      if (type === 'field' && (node.alias === undefined || node.alias === '')) {\n        node.alias = node.field_name;\n      }\n      return type;\n    },\n    getComponent: function getComponent(field) {\n      if (field.relation) return;else if (field.query) return field.input.type;else return 'g3w-input';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-node group\"},[(_vm.showGroupTile)?_c('h5',{staticClass:\"title group-title\",class:{'mobile': _vm.isMobile()},style:({fontSize: _vm.isMobile() ? '1em' : '1.1em'})},[_vm._v(_vm._s(_vm.node.name))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.rows),function(row){return _c('div',{staticClass:\"node-row\",class:{'mobile': _vm.isMobile()}},[_vm._l((_vm.columnNumber),function(column){return [(_vm.getNode(row, column))?[(_vm.getNodeType(_vm.getNode(row, column)) === 'field')?_c(_vm.getComponent(_vm.getField(_vm.getNode(row, column))),{tag:\"component\",staticStyle:{\"padding\":\"5px 3px 5px 3px\"},attrs:{\"state\":_vm.getField(_vm.getNode(row, column)),\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"feature\":_vm.feature},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}}):[(_vm.getNodeType(_vm.getNode(row, column)) === 'group')?_c('tabs',_vm._b({staticClass:\"sub-group\",staticStyle:{\"width\":\"100% !important\"},attrs:{\"group\":true,\"tabs\":[_vm.getNode(row, column)]}},'tabs',_vm.$props,false)):[(_vm.showRelationByField)?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.isRelationDisabled(_vm.getNode(row, column)) || _vm.loadingRelation(_vm.getNode(row, column)).loading),expression:\"isRelationDisabled(getNode(row, column)) || loadingRelation(getNode(row, column)).loading\"}],style:({cursor: _vm.showRelationByField && 'pointer'}),on:{\"click\":function($event){$event.stopPropagation();_vm.handleRelation({relation: _vm.getNode(row, column), feature:_vm.feature, layerId: _vm.layerid})}}},[_c('bar-loader',{attrs:{\"loading\":_vm.loadingRelation(_vm.getNode(row, column)).loading}}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('div',{staticClass:\"query_relation_field\"},[_c('i',{class:_vm.g3wtemplate.font[(\"\" + (_vm.context === 'query' ? 'relation' : 'pencil'))]})]),_vm._v(\" \"),_c('span',{staticClass:\"query_relation_field_message g3w-long-text\"},[_c('span',{staticStyle:{\"text-transform\":\"uppercase\"}},[_vm._v(\" \"+_vm._s(_vm.getRelationName(_vm.getNode(row, column).name)))])])])],1):_vm._e()]]]:_vm._e()]})],2)})],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-9685e2ee\"\n\n},{\"components/InputG3W.vue\":239,\"gui/fields/fields\":119,\"services/gui\":360,\"store/projects\":378,\"vueify/lib/insert-css\":1}],233:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: ['state'],\n  methods: {\n    showCustomModal: function showCustomModal(id) {\n      this.$emit('show-custom-modal-content', id);\n    }\n  },\n  created: function created() {\n    this.state.type = this.state.type || 'link';\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"customheaderlink dropdown user user-menu\",attrs:{\"title\":_vm.state.title}},[(_vm.state.type === 'link')?_c('a',{staticClass:\"dropdown-toggle\",class:{ imagelink : !!_vm.state.img},attrs:{\"href\":_vm.state.url,\"target\":_vm.state.target}},[(_vm.state.img)?_c('img',{staticStyle:{\"max-height\":\"20px\"},attrs:{\"src\":_vm.state.img}}):_c('span',[(_vm.state.i18n)?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.state.title),expression:\"state.title\"}]}):_c('span',[_vm._v(_vm._s(_vm.state.title))])])]):(_vm.state.type === 'modal')?_c('a',{staticClass:\"dropdown-toggle\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#custom_modal\"},on:{\"click\":function($event){return _vm.showCustomModal(_vm.state.id)}}},[_c('span',[_vm._v(_vm._s(_vm.state.title))])]):_vm._e()])}\n__vue__options__.staticRenderFns = []\n\n},{}],234:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".control-label[data-v-cb533ff6]{text-align:left!important;padding-top:0!important;margin-bottom:3px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nexports.default = _extends({\n  name: \"InputBase\",\n  props: ['state']\n}, _mixins.baseInputMixin);\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.state.visible)?_c('div',{staticClass:\"form-group\"},[_vm._t(\"label\",[_c('label',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"col-sm-12 control-label\",attrs:{\"for\":_vm.state.name}},[_vm._v(_vm._s(_vm.state.label)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e(),_vm._v(\" \"),(_vm.showhelpicon)?_c('i',{staticClass:\"skin-color\",class:_vm.g3wtemplate.font['info'],staticStyle:{\"margin-left\":\"3px\",\"cursor\":\"pointer\"},on:{\"click\":_vm.showHideHelp}}):_vm._e(),_vm._v(\" \"),_vm._t(\"label-action\")],2)]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-12\"},[_vm._t(\"loading\",[(_vm.loadingState === 'loading')?_c('div',{staticStyle:{\"position\":\"relative\",\"width\":\"100%\"},attrs:{\"slot\":\"loading\"},slot:\"loading\"},[_c('bar-loader',{attrs:{\"loading\":\"true\"}})],1):_vm._e()]),_vm._v(\" \"),_vm._t(\"body\"),_vm._v(\" \"),_vm._t(\"message\",[(_vm.notvalid)?_c('p',{staticClass:\"g3w-long-text error-input-message\",staticStyle:{\"margin\":\"0\"},domProps:{\"innerHTML\":_vm._s(_vm.state.validate.message)}}):(_vm.state.info)?_c('p',{staticStyle:{\"margin\":\"0\"},domProps:{\"innerHTML\":_vm._s(_vm.state.info)}}):_vm._e()]),_vm._v(\" \"),(_vm.state.help && this.state.help.visible)?_c('div',{staticClass:\"g3w_input_help skin-background-color extralighten\",domProps:{\"innerHTML\":_vm._s(_vm.state.help.message)}}):_vm._e()],2)],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-cb533ff6\"\n\n},{\"mixins\":342,\"vueify/lib/insert-css\":1}],235:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input, _mixins.widgetMixins],\n  data: function data() {\n    return {\n      value: null,\n      label: null,\n      id: getUniqueDomId() };\n  },\n\n  methods: {\n    setLabel: function setLabel() {\n      this.label = this.service.convertCheckedToValue(this.value);\n    },\n    setValue: function setValue() {\n      this.value = this.service.convertValueToChecked();\n    },\n    changeCheckBox: function changeCheckBox() {\n      this.setLabel();\n      this.widgetChanged();\n    },\n    stateValueChanged: function stateValueChanged() {\n      this.setValue();\n      this.setLabel();\n    }\n  },\n  created: function created() {\n    this.value = this.state.forceNull ? this.value : this.service.convertValueToChecked();\n  },\n  mounted: function mounted() {\n    if (!this.state.forceNull) this.setLabel();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticStyle:{\"height\":\"20px\",\"margin-top\":\"8px\"},attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"magic-checkbox\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"tabIndex\":_vm.tabIndex,\"type\":\"checkbox\",\"id\":_vm.id},domProps:{\"checked\":Array.isArray(_vm.value)?_vm._i(_vm.value,null)>-1:(_vm.value)},on:{\"change\":[function($event){var $$a=_vm.value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.value=$$a.concat([$$v]))}else{$$i>-1&&(_vm.value=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.value=$$c}},_vm.changeCheckBox]}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.id}},[_vm._v(_vm._s(_vm.label))])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":130,\"mixins\":342}],236:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"cursor\":\"pointer\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"type\":\"color\",\"tabIndex\":_vm.tabIndex,\"field\":_vm.state.name,\"id\":_vm.state.name},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":130}],237:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n\n  mixins: [Input, _mixins.resizeMixin],\n\n  data: function data() {\n    var uniqueValue = getUniqueDomId();\n    return {\n      widget_container: {\n        top: 0,\n        left: 0\n      },\n      iddatetimepicker: 'datetimepicker_' + uniqueValue,\n      idinputdatetimepiker: 'inputdatetimepicker_' + uniqueValue\n    };\n  },\n\n\n  methods: {\n    resize: function resize() {\n      var domeDataPicker = $('#' + this.iddatetimepicker);\n      if (domeDataPicker && domeDataPicker.data(\"DateTimePicker\")) {\n        domeDataPicker.data(\"DateTimePicker\").hide();\n      }\n    },\n    timeOnly: function timeOnly() {\n      return !this.state.input.options.formats[0].date;\n    }\n  },\n  watch: {\n    'state.value': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(value) {\n        var date;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(value !== $('#' + this.idinputdatetimepiker).val())) {\n                  _context.next = 5;\n                  break;\n                }\n\n                date = null !== value ? moment(value, this.datetimefieldformat).format(this.datetimedisplayformat) : value;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                $('#' + this.idinputdatetimepiker).val(date);\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateValue(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateValue;\n    }()\n  },\n\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this = this;\n\n      var _state$input$options, _state$input$options$, formats, _state$input$options$2, layout, _formats$, minDate, maxDate, fieldformat, enabledDates, disabledDates, displayformat, useCurrent, date;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _state$input$options = this.state.input.options, _state$input$options$ = _state$input$options.formats, formats = _state$input$options$ === undefined ? [] : _state$input$options$, _state$input$options$2 = _state$input$options.layout, layout = _state$input$options$2 === undefined ? {\n                vertical: \"top\",\n                horizontal: \"left\"\n              } : _state$input$options$2;\n              _formats$ = formats[0], minDate = _formats$.minDate, maxDate = _formats$.maxDate, fieldformat = _formats$.fieldformat, enabledDates = _formats$.enabledDates, disabledDates = _formats$.disabledDates, displayformat = _formats$.displayformat, useCurrent = _formats$.useCurrent;\n              _context3.next = 4;\n              return this.$nextTick();\n\n            case 4:\n\n              this.datetimedisplayformat = this.service.convertQGISDateTimeFormatToMoment(displayformat);\n              this.datetimefieldformat = this.service.convertQGISDateTimeFormatToMoment(fieldformat);\n\n              this.service.setValidatorOptions({ fielddatetimeformat: this.datetimefieldformat });\n\n              date = moment(this.state.value, this.datetimefieldformat, true).isValid() ? moment(this.state.value, this.datetimefieldformat).toDate() : null;\n\n\n              $('#' + this.iddatetimepicker).datetimepicker({\n                defaultDate: date,\n                format: this.datetimedisplayformat,\n                ignoreReadonly: true,\n                allowInputToggle: true,\n                enabledDates: enabledDates,\n                disabledDates: disabledDates,\n                useCurrent: useCurrent,\n                toolbarPlacement: 'top',\n                minDate: minDate,\n                maxDate: maxDate,\n                widgetParent: $(this.$refs.datimewidget_container),\n                widgetPositioning: {\n                  vertical: layout.vertical || 'top',\n                  horizontal: layout.horizontal || 'left'\n                },\n                showClose: true,\n                locale: this.service.getLocale()\n              });\n\n              $('#' + this.iddatetimepicker).on(\"dp.change\", function () {\n                var newDate = $('#' + _this.idinputdatetimepiker).val();\n                var value = _.isEmpty(_.trim(newDate)) ? null : moment(newDate, _this.datetimedisplayformat).format(_this.datetimefieldformat);\n                _this.state.value = value;\n                _this.change();\n              });\n\n              $('#' + this.iddatetimepicker).on(\"dp.show\", function () {\n                var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(evt) {\n                  var _$refs$datetimepicker, top, left, width;\n\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _context2.next = 2;\n                          return _this.$nextTick();\n\n                        case 2:\n                          _$refs$datetimepicker = _this.$refs.datetimepicker_body.getBoundingClientRect(), top = _$refs$datetimepicker.top, left = _$refs$datetimepicker.left, width = _$refs$datetimepicker.width;\n\n                          _this.widget_container.top = top;\n                          _this.widget_container.left = left - width;\n                          _this.$emit('datetimepickershow');\n\n                        case 6:\n                        case 'end':\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, _this);\n                }));\n\n                return function (_x2) {\n                  return _ref3.apply(this, arguments);\n                };\n              }());\n\n              $('#' + this.iddatetimepicker).on(\"dp.hide\", function (evt) {\n                _this.$emit('datetimepickershow');\n              });\n\n              if (_applicationState2.default.ismobile) {\n                setTimeout(function () {\n                  $('#' + _this.idinputdatetimepiker).blur();\n                });\n              }\n\n            case 13:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{ref:\"datetimepicker_body\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('div',{ref:\"datimewidget_container\",style:({\n        top: _vm.widget_container.top + 'px',\n        left: _vm.widget_container.left + 'px',\n        position: 'fixed',\n        zIndex: 10000\n      })}),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"input-group date\",attrs:{\"id\":_vm.iddatetimepicker}},[_c('input',{staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},attrs:{\"type\":\"text\",\"id\":_vm.idinputdatetimepiker,\"tabIndex\":_vm.tabIndex,\"readonly\":!_vm.editable || _vm.isMobile() ? 'readonly' : null}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon caret\"},[_c('span',{class:[ _vm.g3wtemplate.getFontClass(_vm.timeOnly() ? 'time' : 'calendar') ]})])])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":130,\"mixins\":342,\"store/application-state\":372}],238:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"step\":_vm.state.step || 1,\"placeholder\":_vm.state.default},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change]},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":130}],239:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar Inputs = require('gui/inputs/inputs');\n\nexports.default = {\n  name: \"g3w-input\",\n  props: {\n    state: {\n      required: true\n    },\n    addToValidate: {\n      type: Function,\n      required: true\n    },\n    removeToValidate: {\n      type: Function,\n      required: true\n    },\n    changeInput: {\n      type: Function,\n      required: true\n    }\n  },\n  components: _extends({}, Inputs),\n  computed: {\n    type: function type() {\n      if (this.state.type !== 'child') return this.state.input.type ? this.state.input.type + '_input' : this.state.type + '_input';\n    }\n  },\n  created: function created() {\n    if (this.state.type !== 'child' && !this.state.input.options) this.state.input.options = {};\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.state.visible)?_c('div',[(_vm.state.type !== 'child')?_c('div',[_c(_vm.type,{tag:\"component\",attrs:{\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"state\":_vm.state},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}}),_vm._v(\" \"),_c('span',{staticClass:\"divider\"})],1):_c('div',{staticClass:\"skin-border-color field-child\",staticStyle:{\"border-top\":\"2px solid\"}},[_c('h4',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.state.label))]),_vm._v(\" \"),_c('div',[_vm._v(\" \"+_vm._s(_vm.state.description)+\" \")]),_vm._v(\" \"),_vm._l((_vm.state.fields),function(field){return _c('g3w-input',{key:field.name,attrs:{\"state\":field,\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}})})],2)]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0fece3a7\"\n\n},{\"gui/inputs/inputs\":131}],240:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"#g3w-for-inputs-required-inputs-message[data-v-06573254]{margin-bottom:5px;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center}.box-body[data-v-06573254]{padding:5px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _InputG3W = require(\"components/InputG3W.vue\");\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-form-inputs\",\n  props: {\n    state: {\n      type: Object,\n      default: {\n        fields: []\n      }\n    },\n    addToValidate: {\n      type: Function\n    },\n    changeInput: {\n      type: Function\n    },\n    show_required_field_message: {\n      type: Boolean,\n      default: false\n    }\n\n  },\n  components: {\n    G3wInput: _InputG3W2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"form-horizontal g3w-form\"},[_c('div',{staticClass:\"box-primary\"},[_c('div',{staticClass:\"box-body\"},[_vm._l((_vm.state.fields),function(field){return [_c('g3w-input',{attrs:{\"state\":field,\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput},on:{\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput}})]})],2),_vm._v(\" \"),(_vm.show_required_field_message)?_c('div',{attrs:{\"id\":\"g3w-for-inputs-required-inputs-message\"}},[_c('span',{staticClass:\"hide-cursor-caret-color\"},[_vm._v(\"*\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.form.footer.required_fields'),expression:\"'sdk.form.footer.required_fields'\"}],staticClass:\"hide-cursor-caret-color\"})]):_vm._e()])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-06573254\"\n\n},{\"components/InputG3W.vue\":239,\"vueify/lib/insert-css\":1}],241:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"tabIndex\":_vm.tabIndex,\"type\":\"number\"},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change]},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":130}],242:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    return {\n      lonId: getUniqueDomId(),\n      latId: getUniqueDomId(),\n      coordinatebutton: {\n        active: false\n      }\n    };\n  },\n\n  computed: {\n    getCoordinateActive: function getCoordinateActive() {\n      return this.service.state.getCoordinateActive;\n    }\n  },\n  methods: {\n    toggleGetCoordinate: function toggleGetCoordinate() {\n      this.service.toggleGetCoordinate();\n    },\n    changeLonLat: function changeLonLat() {\n      this.change();\n      this.setValue();\n    },\n    setValue: function setValue() {\n      this.state.value = [[1 * this.state.values.lon, 1 * this.state.values.lat]];\n    }\n  },\n  created: function created() {\n    this.state.values = this.state.values || { lon: 0, lat: 0 };\n    this.setValue();\n    this.service.setCoordinateButtonReactiveObject(this.coordinatebutton);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.$nextTick(function () {\n                $(_this.$refs['g3w-input-lat-lon']).tooltip({\n                  trigger: 'hover'\n                });\n              });\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.service.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"position\":\"relative\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"height\":\"35px\",\"margin-right\":\"12px\",\"margin-bottom\":\"5px\"}},[_c('button',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.form.inputs.tooltips.lonlat'),expression:\"'sdk.form.inputs.tooltips.lonlat'\"}],ref:\"g3w-input-lat-lon\",staticClass:\"action skin-tooltip-left skin-color skin-border-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"border-radius\":\"5px\",\"font-weight\":\"bold\",\"font-size\":\"20px\",\"cursor\":\"pointer\"},style:({border: _vm.coordinatebutton.active ? '2px solid' : 0}),attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.toggleGetCoordinate($event)}}})]),_vm._v(\" \"),_c('baseinput',{attrs:{\"state\":_vm.state}},[_c('label',{staticClass:\"col-sm-4 control-label\",attrs:{\"slot\":\"label\",\"for\":_vm.lonId},slot:\"label\"},[_vm._v(_vm._s(_vm.state.labels.lon)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.values.lon),expression:\"state.values.lon\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"5px\"},attrs:{\"id\":_vm.lonId,\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"min\":\"-180\",\"max\":\"180\",\"placeholder\":\"Lon\"},domProps:{\"value\":(_vm.state.values.lon)},on:{\"change\":_vm.changeLonLat,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state.values, \"lon\", $event.target.value)}}})])]),_vm._v(\" \"),_c('baseinput',{attrs:{\"state\":_vm.state}},[_c('label',{staticClass:\"col-sm-4 control-label\",attrs:{\"slot\":\"label\",\"for\":_vm.latId},slot:\"label\"},[_vm._v(_vm._s(_vm.state.labels.lat)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.values.lat),expression:\"state.values.lat\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"5px\"},attrs:{\"id\":_vm.latId,\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"min\":\"-90\",\"max\":\"90\",\"placeholder\":\"Lon\"},domProps:{\"value\":(_vm.state.values.lat)},on:{\"change\":_vm.changeLonLat,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state.values, \"lat\", $event.target.value)}}})])])],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":130}],243:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InputMixins = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar _require3 = require('gui/fields/fields'),\n    MediaField = _require3.media_field;\n\nexports.default = {\n  mixins: [InputMixins],\n  components: {\n    'g3w-media': MediaField\n  },\n  data: function data() {\n    return {\n      data: {\n        value: null,\n        mime_type: null\n      },\n      mediaid: 'media_' + getUniqueDomId(),\n      loading: false\n    };\n  },\n\n  methods: {\n    onClick: function onClick(e) {\n      document.getElementById(this.mediaid).click();\n    },\n    createImage: function createImage(file, field) {\n      var reader = new FileReader();\n      reader.onload = function (e) {\n        field.value = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    checkFileSrc: function checkFileSrc(value) {\n      if (_.isNil(value)) {\n        value = '';\n      }\n      return value;\n    },\n    clearMedia: function clearMedia() {\n      this.data.value = this.data.mime_type = this.state.value = null;\n      this.change();\n    }\n  },\n  created: function created() {\n    if (this.state.value) {\n      this.data.value = this.state.value.value;\n      this.data.mime_type = this.state.value.mime_type;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var fieldName = this.state.name;\n    var formData = {\n      name: fieldName,\n      csrfmiddlewaretoken: this.$cookie.get('csrftoken')\n    };\n    this.$nextTick(function () {\n      $('#' + _this.mediaid).fileupload({\n        dataType: 'json',\n        formData: formData,\n        start: function start() {\n          _this.loading = true;\n        },\n        done: function done(e, data) {\n          var response = data.result[fieldName];\n          if (response) {\n            _this.data.value = response.value;\n            _this.data.mime_type = response.mime_type;\n            _this.state.value = _this.data;\n            _this.change();\n          }\n        },\n        fail: function fail() {\n          _gui2.default.notify.error(t(\"info.server_error\"));\n        },\n        always: function always() {\n          _this.loading = false;\n        }\n      });\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    $('#' + this.mediaid).fileupload('destroy');\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('div',{staticClass:\"g3w_input_button skin-border-color\",staticStyle:{\"border-style\":\"solid\",\"border-width\":\"2px\",\"border-radius\":\"4px\",\"width\":\"100%\",\"cursor\":\"pointer\",\"text-align\":\"center\"},on:{\"click\":_vm.onClick}},[_c('i',{staticClass:\"fa-2x skin-color\",class:_vm.g3wtemplate.getFontClass('file-upload'),staticStyle:{\"padding\":\"5px\"}},[_c('input',{class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"display\":\"none\"},attrs:{\"id\":_vm.mediaid,\"name\":_vm.state.name,\"tabIndex\":_vm.tabIndex,\"data-url\":_vm.state.input.options.uploadurl,\"type\":\"file\"}})])]),_vm._v(\" \"),_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('g3w-media',{attrs:{\"state\":_vm.data}},[_c('div',{staticClass:\"clearmedia\",on:{\"click\":function($event){return _vm.clearMedia()}}},[_c('i',{staticClass:\"g3w-icon\",class:_vm.g3wtemplate.font['trash-o']})])])],1)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"gui/fields/fields\":119,\"gui/inputs/input\":130,\"services/gui\":360}],244:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\nvar Service = require('gui/inputs/picklayer/service');\n\nexports.default = {\n  mixins: [Input],\n  methods: {\n    pickLayer: function pickLayer() {\n      var _this = this;\n\n      this.pickservice.pick().then(function (value) {\n        return _this.state.value = value;\n      }).catch(function () {});\n    },\n    unpick: function unpick() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        return !_this2.pickservice.isPicked() && _this2.pickservice.unpick();\n      }, 200);\n    }\n  },\n  created: function created() {\n    this.pickservice = new Service(this.state.input.options);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.pickservice.clear();\n    this.pickservice = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"left\":\"0\",\"top\":\"7px\",\"position\":\"absolute\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},style:({cursor: _vm.editable ? 'pointer': null}),attrs:{\"readonly\":\"readonly\",\"tabIndex\":_vm.tabIndex},domProps:{\"value\":(_vm.state.value)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change],\"click\":_vm.pickLayer,\"blur\":_vm.unpick}})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":130,\"gui/inputs/picklayer/service\":138}],245:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    return {\n      ids: [getUniqueDomId(), getUniqueDomId()],\n      name: 'name_' + getUniqueDomId(),\n      radio_value: this.state.value\n    };\n  },\n\n  watch: {\n    'radio_value': function radio_value() {\n      this.state.value = this.radio_value;\n      this.change();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},_vm._l((_vm.state.input.options.values),function(value,index){return _c('span',{key:value.key},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.radio_value),expression:\"radio_value\"}],staticClass:\"magic-radio\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"id\":_vm.ids[index],\"name\":_vm.name,\"tabIndex\":_vm.tabIndex,\"type\":\"radio\"},domProps:{\"value\":value.value,\"checked\":_vm._q(_vm.radio_value,value.value)},on:{\"change\":function($event){_vm.radio_value=value.value}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.ids[index]}},[_vm._v(_vm._s(value.key))])])}),0)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":130}],246:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    var _state$input$options$ = this.state.input.options.values[0],\n        min = _state$input$options$.min,\n        max = _state$input$options$.max,\n        step = _state$input$options$.Step;\n\n    return {\n      min: min,\n      max: max,\n      step: step\n    };\n  },\n\n  methods: {\n    checkValue: function checkValue() {\n      var isEmpty = _.isEmpty(_.trim(this.state.value));\n\n      if (isEmpty && !this.state.validate.required) {\n        this.state.value = this.state.input.options.values[0].default;\n      }\n\n      this.state.validate.valid = !this.state.validate.required;\n\n      if (!isEmpty) {\n        this.state.validate.valid = this.service.getValidator().validate(this.state.value);\n      }\n\n      this.change();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"padding-right\":\"5px\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"step\":_vm.step},domProps:{\"value\":(_vm.state.value)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==69){ return null; }$event.preventDefault();},function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }$event.stopPropagation();}],\"change\":_vm.checkValue,\"blur\":_vm.checkValue,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":130}],247:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar PickLayerInputService = require('gui/inputs/picklayer/service');\nvar Layer = require('core/layers/layer');\nvar InputMixin = require('gui/inputs/input');\n\nvar G3W_SELECT2_NULL_VALUE = null;exports.default = {\n  mixins: [InputMixin, _mixins.selectMixin, _mixins.select2Mixin],\n  data: function data() {\n    return {\n      showPickLayer: false,\n      picked: false\n    };\n  },\n\n  computed: {\n    showNullOption: function showNullOption() {\n      return this.state.nullOption === undefined || this.state.nullOption === true;\n    },\n    select2NullValue: function select2NullValue() {\n      return this.showNullOption && G3W_SELECT2_NULL_VALUE;\n    }\n  },\n  watch: {\n    'state.input.options.values': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(values) {\n        var _this = this;\n\n        var changed, value, findvalue;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                changed = false;\n\n                if (!this.autocomplete) {\n                  value = void 0;\n\n                  if (values.length === 0) value = G3W_SELECT2_NULL_VALUE;else {\n                    findvalue = values.find(function (keyvalue) {\n                      return keyvalue.value == _this.state.value;\n                    });\n\n                    if (!findvalue) value = G3W_SELECT2_NULL_VALUE;else value = findvalue.value;\n                  }\n                  changed = value != this.state.value;\n                  this.state.value = value;\n                  this.setValue();\n                }\n                changed && this.change();\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateInputOptionsValues(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateInputOptionsValues;\n    }()\n  },\n  methods: {\n    pickLayerValue: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var values, field, value;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n\n                if (!this.picked) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                this.pickLayerInputService.unpick();\n                this.picked = false;\n                _context2.next = 16;\n                break;\n\n              case 6:\n                this.picked = true;\n                _context2.next = 9;\n                return this.pickLayerInputService.pick();\n\n              case 9:\n                values = _context2.sent;\n                field = this.state.input.options.value;\n                value = values[field];\n\n                this.select2.val(value).trigger('change');\n                this.changeSelect(value);\n                _gui2.default.showUserMessage({\n                  type: 'success',\n                  autoclose: true\n                });\n                this.picked = false;\n\n              case 16:\n                _context2.next = 22;\n                break;\n\n              case 18:\n                _context2.prev = 18;\n                _context2.t0 = _context2['catch'](0);\n\n                _gui2.default.showUserMessage({\n                  type: \"warning\",\n                  message: 'sdk.form.inputs.messages.errors.picklayer',\n                  autoclose: true\n                });\n                this.picked = false;\n\n              case 22:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 18]]);\n      }));\n\n      function pickLayerValue() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return pickLayerValue;\n    }(),\n    setAndListenSelect2Change: function setAndListenSelect2Change() {\n      var _this2 = this;\n\n      this.select2.on('select2:select', function (event) {\n        var value = event.params.data.$value ? event.params.data.$value : event.params.data.id;\n        value = _this2.showNullOption ? value === G3W_SELECT2_NULL_VALUE ? null : value.toString() : value.toString();\n        _this2.changeSelect(value);\n      });\n    }\n  },\n  created: function created() {\n    this.open = false;\n    if (this.state.input.type === 'select_autocomplete') {\n      var dependencyLayerId = this.state.input.options.layer_id;\n      try {\n        var dependencyLayer = _mapLayers2.default.getLayerById(dependencyLayerId).getEditingLayer() || _catalogLayers2.default.getLayerById(dependencyLayerId);\n        this.showPickLayer = dependencyLayer ? dependencyLayer.getType() !== Layer.LayerTypes.TABLE : false;\n        var _state$input$options = this.state.input.options,\n            field = _state$input$options.value,\n            layer_id = _state$input$options.layer_id;\n\n        var options = {\n          layer_id: layer_id,\n          fields: [field],\n          pick_type: dependencyLayer.isStarted && dependencyLayer.isStarted() && 'map' || null\n        };\n        this.pickLayerInputService = this.showPickLayer && new PickLayerInputService(options);\n      } catch (err) {}\n    }\n    this.autocomplete && this.state.value && this.service.getKeyByValue({\n      search: this.state.value\n    });\n  },\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      var selectElement, language, dropdownParent;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.unwatch;\n              selectElement = $(this.$refs.select);\n              language = this.getLanguage();\n              dropdownParent = this.state.dropdownParent === undefined && $('#g3w-view-content');\n\n              if (this.autocomplete) {\n                this.select2 = selectElement.select2({\n                  minimumInputLength: 1,\n                  dropdownParent: dropdownParent,\n                  allowClear: this.showNullOption,\n                  language: language,\n                  ajax: {\n                    delay: 250,\n                    transport: function transport(params, success, failure) {\n                      var search = params.data.term;\n\n                      $('.select2-results__option.loading-results').siblings().hide();\n                      _this3.resetValues();\n                      _this3.service.getData({\n                        search: search\n                      }).then(function (values) {\n                        return success(values);\n                      }).catch(function (err) {\n                        return failure(err);\n                      });\n                    },\n                    processResults: function processResults(data, params) {\n                      params.page = params.page || 1;\n                      return {\n                        results: data,\n                        pagination: {\n                          more: false\n                        }\n                      };\n                    } }\n                });\n              } else this.select2 = selectElement.select2({\n                language: language,\n                dropdownParent: dropdownParent,\n                minimumResultsForSearch: this.isMobile() ? -1 : null\n              });\n              this.setAndListenSelect2Change();\n              this.setValue();\n\n            case 9:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    if (this.pickLayerInputService) {\n      this.pickLayerInputService.clear();\n      this.pickLayerInputService = null;\n    }\n    this.unwatch && this.unwatch();\n    this.unwatch = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[(_vm.showPickLayer)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.form.inputs.tooltips.picklayer'),expression:\"'sdk.form.inputs.tooltips.picklayer'\"},{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disabled),expression:\"disabled\"}],staticClass:\"skin-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"cursor\":\"pointer\",\"position\":\"relative\",\"top\":\"2px\",\"font-size\":\"1.2em\"},attrs:{\"slot\":\"label-action\",\"data-placement\":\"top\"},on:{\"click\":_vm.pickLayerValue},slot:\"label-action\"}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disabled),expression:\"disabled\"}],attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex},slot:\"body\"},[_c('select',{ref:\"select\",staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"}},[(_vm.showNullOption)?_c('option',{domProps:{\"value\":_vm.select2NullValue}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.input.options.values),function(value){return _c('option',{key:_vm.getValue(value.value),domProps:{\"value\":_vm.getValue(value.value)}},[_vm._v(_vm._s(value.key))])})],2)]),_vm._v(\" \"),(_vm.loadingState === 'error')?_c('p',{directives:[{name:\"t\",rawName:\"v-t\",value:('server_error'),expression:\"'server_error'\"}],staticClass:\"error-input-message\",attrs:{\"slot\":\"message\"},slot:\"message\"}):_vm._e()])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/layers/layer\":34,\"gui/inputs/input\":130,\"gui/inputs/picklayer/service\":138,\"mixins\":342,\"services/gui\":360,\"store/catalog-layers\":373,\"store/map-layers\":376}],248:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  watch: {\n    'state.input.options.min': function stateInputOptionsMin() {\n      this.service.changeInfoMessage();\n    },\n    'state.input.options.max': function stateInputOptionsMax() {\n      this.service.changeInfoMessage();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.state.value))]),_vm._v(\" \"),_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"padding-right\":\"5px\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"min\":_vm.state.input.options.min,\"max\":_vm.state.input.options.max,\"type\":\"range\",\"step\":_vm.state.input.options.step},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"__r\":function($event){return _vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":130}],249:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"tabIndex\":_vm.tabIndex,\"field\":_vm.state.name,\"id\":_vm.state.name},domProps:{\"value\":(_vm.state.value)},on:{\"keyup\":function($event){_vm.isMobile() ? _vm.mobileChange($event) : _vm.change()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":130}],250:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"textarea[data-v-3ac5abe4]{resize:none;border:1px solid #ccc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('textarea',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"max-width\":\"100%\",\"min-width\":\"100%\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"rows\":\"3\",\"tabIndex\":_vm.tabIndex},domProps:{\"value\":(_vm.state.value)},on:{\"keydown\":function($event){$event.stopPropagation();},\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change],\"change\":_vm.change},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-3ac5abe4\"\n\n},{\"gui/inputs/input\":130,\"vueify/lib/insert-css\":1}],251:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"button.ql-html{width:40px!important}button.ql-html:after{content:\\\"html\\\"}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  methods: {\n    setupTableCustomTools: function setupTableCustomTools() {\n      var buttonColumnLeft = this.$el.querySelector('.ql-column-left');\n      buttonColumnLeft.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-left-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M10.205 12.456A.5.5 0 0 0 10.5 12V4a.5.5 0 0 0-.832-.374l-4.5 4a.5.5 0 0 0 0 .748l4.5 4a.5.5 0 0 0 .537.082z\"/></svg>';\n      buttonColumnLeft.title = \"Add column left\";\n\n      var buttonColumnRight = this.$el.querySelector('.ql-column-right');\n      buttonColumnRight.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-right-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M5.795 12.456A.5.5 0 0 1 5.5 12V4a.5.5 0 0 1 .832-.374l4.5 4a.5.5 0 0 1 0 .748l-4.5 4a.5.5 0 0 1-.537.082z\"/></svg>';\n      buttonColumnRight.title = \"Add column right\";\n\n      var buttonColumnRemove = this.$el.querySelector('.ql-column-remove');\n      buttonColumnRemove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/></svg>';\n      buttonColumnRemove.title = \"Remove column\";\n\n      var buttonRowAbove = this.$el.querySelector('.ql-row-above');\n      buttonRowAbove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-up-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M3.544 10.705A.5.5 0 0 0 4 11h8a.5.5 0 0 0 .374-.832l-4-4.5a.5.5 0 0 0-.748 0l-4 4.5a.5.5 0 0 0-.082.537z\"/></svg>';\n      buttonRowAbove.title = \"Add row above\";\n\n\n      var buttonRowBelow = this.$el.querySelector('.ql-row-below');\n      buttonRowBelow.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-down-square\" viewBox=\"0 0 16 16\"><path d=\"M3.626 6.832A.5.5 0 0 1 4 6h8a.5.5 0 0 1 .374.832l-4 4.5a.5.5 0 0 1-.748 0l-4-4.5z\"/><path d=\"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2z\"/></svg>';\n      buttonRowBelow.title = \"Add row below\";\n\n      var buttonRowRemove = this.$el.querySelector('.ql-row-remove');\n      buttonRowRemove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-dash-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\"/></svg>';\n      buttonRowRemove.title = \"Remove row\";\n    }\n  },\n  created: function created() {\n    this.edit_state = {\n      edit: false,\n      show_html: false\n    };\n\n    if (!this.state.edit_states) this.state.edit_states = [];\n    this.state.edit_states.push(this.edit_state);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var toolbarOptions;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              toolbarOptions = [[{ header: [1, 2, 3, 4, 5, 6, false] }], [{ 'align': '' }, { 'align': 'center' }, { 'align': 'right' }, { 'align': 'justify' }], [{ 'color': [] }, { 'background': [] }], ['bold', 'italic', 'underline', { 'list': 'ordered' }, { 'list': 'bullet' }, 'link', 'clean', 'html'], ['table', 'column-left', 'column-right', 'column-remove', 'row-above', 'row-below', 'row-remove']];\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              this.quill = new Quill(this.$refs.quill_editor, {\n                modules: {\n                  table: true,\n                  toolbar: {\n                    container: toolbarOptions,\n                    handlers: {\n                      html: function html() {\n                        _this.edit_state.show_html = !_this.edit_state.show_html;\n                        if (_this.edit_state.show_html) _this.quill.container.firstChild.innerText = _this.quill.container.firstChild.innerHTML;else _this.quill.container.firstChild.innerHTML = _this.quill.container.firstChild.innerText;\n                        var _iteratorNormalCompletion = true;\n                        var _didIteratorError = false;\n                        var _iteratorError = undefined;\n\n                        try {\n                          for (var _iterator = _this.$el.querySelectorAll('.ql-formats')[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                            var qlformat = _step.value;\n                            var _iteratorNormalCompletion2 = true;\n                            var _didIteratorError2 = false;\n                            var _iteratorError2 = undefined;\n\n                            try {\n                              for (var _iterator2 = qlformat.children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                                var child = _step2.value;\n\n                                if (!child.classList.contains('ql-html')) child.classList.toggle('g3w-disabled');else child.classList.toggle('skin-color');\n                              }\n                            } catch (err) {\n                              _didIteratorError2 = true;\n                              _iteratorError2 = err;\n                            } finally {\n                              try {\n                                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                  _iterator2.return();\n                                }\n                              } finally {\n                                if (_didIteratorError2) {\n                                  throw _iteratorError2;\n                                }\n                              }\n                            }\n                          }\n                        } catch (err) {\n                          _didIteratorError = true;\n                          _iteratorError = err;\n                        } finally {\n                          try {\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                              _iterator.return();\n                            }\n                          } finally {\n                            if (_didIteratorError) {\n                              throw _iteratorError;\n                            }\n                          }\n                        }\n                      },\n                      'column-left': function columnLeft() {\n                        return _this.table.insertColumnLeft();\n                      },\n                      'column-right': function columnRight() {\n                        return _this.table.insertColumnRight();\n                      },\n                      'column-remove': function columnRemove() {\n                        return _this.table.deleteColumn();\n                      },\n                      'row-above': function rowAbove() {\n                        return _this.table.insertRowAbove();\n                      },\n                      'row-below': function rowBelow() {\n                        return _this.table.insertRowBelow();\n                      },\n                      'row-remove': function rowRemove() {\n                        return _this.table.deleteRow();\n                      }\n                    }\n\n                  }\n                },\n                theme: 'snow'\n              });\n              this.quill.container.firstChild.innerHTML = this.state.value;\n\n              this.table = this.quill.getModule('table');\n              this.setupTableCustomTools();\n\n              this.handler = function () {\n                _this.state.value = _this.edit_state.show_html ? _this.quill.container.firstChild.innerText : _this.quill.container.firstChild.innerHTML;\n                _this.edit_state.edit = true;\n                _this.change();\n                setTimeout(function () {\n                  return _this.edit_state.edit = false;\n                });\n              };\n\n              this.quill.on('text-change', this.handler);\n\n            case 9:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n\n  watch: {\n    'state.value': function stateValue(value) {\n      if (!this.edit_state.edit) {\n        if (this.edit_state.show_html) this.quill.container.firstChild.innerText = value;else this.quill.container.firstChild.innerHTML = value;\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.quill.off('text-change', this.handler);\n    this.handler = null;\n    this.quill = null;\n    this.edit_state.edit = false;\n    this.edit_state.show_html = false;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],attrs:{\"state\":_vm.state}},[_c('div',{ref:\"quill_editor\",staticClass:\"form-control\",style:({border: _vm.novalid ? '1px solid reed' : '1px solid #ccc'}),attrs:{\"slot\":\"body\"},on:{\"keydown\":function($event){$event.stopPropagation();}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":130,\"vueify/lib/insert-css\":1}],252:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input, _mixins.selectMixin],\n  data: function data() {\n    var id = 'unique_' + getUniqueDomId();\n    return { id: id };\n  },\n\n  watch: {\n    'state.input.options.values': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(values) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.state.value = this.state.value ? this.state.value : null;\n                this.state.value !== null && values.indexOf(this.state.value) === -1 && this.service.addValueToValues(this.state.value);\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                this.state.value && this.select2.val(this.state.value).trigger('change');\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateInputOptionsValues(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateInputOptionsValues;\n    }()\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              if (this.state.input.options.editable) {\n                this.select2 = $('#' + this.id).select2({\n                  dropdownParent: $('#g3w-view-content'),\n                  tags: true,\n                  language: this.getLanguage()\n                });\n                this.select2.val(this.state.value).trigger('change');\n                this.select2.on('select2:select', function (event) {\n                  var value = event.params.data.$value ? event.params.data.$value : event.params.data.id;\n                  _this.changeSelect(value);\n                });\n              }\n\n            case 3:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('select',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"id\":_vm.id,\"tabIndex\":_vm.tabIndex},slot:\"body\"},[_c('option',{attrs:{\"value\":\"null\"}}),_vm._v(\" \"),_vm._l((_vm.state.input.options.values),function(value){return _c('option',{key:value,domProps:{\"value\":_vm.getValue(value)}},[_vm._v(_vm._s(_vm.getValue(value)))])})],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":130,\"mixins\":342}],253:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"li .item-text[data-v-41231f64]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n\n  name: 'Layeropacitypicker',\n\n  props: {\n    layer: {\n      type: Object,\n      required: true\n    }\n  },\n\n  data: function data() {\n    return {\n      menu: {\n        show: false,\n        top: 0,\n        left: 0,\n        overflowY: 'none',\n        style: null,\n        default: null\n      }\n    };\n  },\n\n  methods: {\n    setLayerOpacity: function setLayerOpacity(_ref) {\n      var _ref$id = _ref.id,\n          id = _ref$id === undefined ? this.layer.id : _ref$id,\n          opacity = _ref.value;\n\n      if (this.layer.opacity == opacity) {\n        return;\n      }\n      this.layer.opacity = opacity;\n      var layer = _catalogLayers2.default.getLayerById(id);\n      if (layer) {\n        _catalogeventhub2.default.$emit('layer-change-opacity', { layerId: id });\n        layer.change();\n      }\n    },\n    showLayerOpacityMenu: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(bool, evt) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.$emit('show-menu-item', { menu: this.menu, bool: bool, evt: evt });\n\n              case 1:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function showLayerOpacityMenu(_x, _x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return showLayerOpacityMenu;\n    }()\n  },\n\n  created: function created() {\n    this.$emit('init-menu-item', { layerOpacity: this.menu });\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{on:{\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showLayerOpacityMenu(false, $event)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showLayerOpacityMenu(true, $event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('slider')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.layer_opacity'),expression:\"'catalog_items.contextmenu.layer_opacity'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon\",class:_vm.g3wtemplate.getFontClass('arrow-right'),staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"margin-top\":\"3px\"}}),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layer && _vm.menu.show),expression:\"layer && menu.show\"}],style:({\n      top:             _vm.menu.top       + 'px',\n      left:            _vm.menu.left - 15 + 'px',\n      maxHeight:       _vm.menu.maxHeight + 'px',\n      overflowY:       _vm.menu.overflowY,\n      paddingLeft:     0,\n      position:        'fixed',\n      backgroundColor: '#FFF',\n      color:           '#000',\n     })},[_c('li',[_c('range',{attrs:{\"value\":_vm.layer.opacity,\"min\":0,\"max\":100,\"step\":1,\"sync\":false,\"showValue\":true,\"unit\":'%'},on:{\"change-range\":_vm.setLayerOpacity}})],1)])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-41231f64\"\n\n},{\"gui/catalog/vue/catalogeventhub\":113,\"store/catalog-layers\":373,\"vueify/lib/insert-css\":1}],254:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-map-controls-left-bottom[data-v-70e886b4]{position:absolute;bottom:75px;left:10px;z-index:1}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MapAddLayer = require('components/MapAddLayer.vue');\n\nvar _MapAddLayer2 = _interopRequireDefault(_MapAddLayer);\n\nvar _MapFooter = require('components/MapFooter.vue');\n\nvar _MapFooter2 = _interopRequireDefault(_MapFooter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    var _$options = this.$options,\n        service = _$options.service,\n        target = _$options.target;\n\n    return {\n      target: target,\n      maps_container: this.$options.maps_container,\n      service: service,\n      hidemaps: service.state.hidemaps,\n      map_info: service.state.map_info\n    };\n  },\n\n  components: {\n    'addlayer': _MapAddLayer2.default,\n    MapFooter: _MapFooter2.default\n  },\n  computed: {\n    mapcontrolsalignement: function mapcontrolsalignement() {\n      return this.service.state.mapcontrolsalignement;\n    },\n    disableMapControls: function disableMapControls() {\n      return this.service.state.mapControl.disabled;\n    }\n  },\n  methods: {\n    showHideControls: function showHideControls() {\n      var mapControls = this.service.getMapControls();\n      mapControls.forEach(function (control) {\n        return control.type !== \"scaleline\" && control.control.showHide();\n      });\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.crs = this.service.getCrs();\n              _context2.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              this.service.setMapControlsContainer($(this.$refs['g3w-map-controls']));\n\n              this.service.onafter('addHideMap', _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n                var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                    ratio = _ref3.ratio,\n                    _ref3$layers = _ref3.layers,\n                    layers = _ref3$layers === undefined ? [] : _ref3$layers,\n                    _ref3$mainview = _ref3.mainview,\n                    mainview = _ref3$mainview === undefined ? false : _ref3$mainview,\n                    _ref3$switchable = _ref3.switchable,\n                    switchable = _ref3$switchable === undefined ? false : _ref3$switchable;\n\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return _this.$nextTick();\n\n                      case 2:\n                        _this.service._addHideMap({ ratio: ratio, layers: layers, mainview: mainview, switchable: switchable });\n\n                      case 3:\n                      case 'end':\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, _this);\n              })));\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.service.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.maps_container}},[_vm._l((_vm.hidemaps),function(hidemap){return _c('div',{key:hidemap.id,staticClass:\"g3w-map hidemap\",attrs:{\"id\":hidemap.id}})}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-map\",attrs:{\"id\":_vm.target}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disableMapControls),expression:\"disableMapControls\"}],ref:\"g3w-map-controls\",staticClass:\"g3w-map-controls\",class:_vm.mapcontrolsalignement,staticStyle:{\"display\":\"flex\"}}),_vm._v(\" \"),(_vm.map_info.info)?_c('div',{ref:\"g3w-map-info\",style:(_vm.map_info.style),attrs:{\"id\":\"g3w-map-info\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.map_info.info)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('addlayer',{attrs:{\"service\":_vm.service}}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-map-controls-left-bottom\"})],1),_vm._v(\" \"),_c('map-footer',{attrs:{\"service\":_vm.service}})],2)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{attrs:{\"id\":\"marker\"}})])}]\n__vue__options__._scopeId = \"data-v-70e886b4\"\n\n},{\"components/MapAddLayer.vue\":255,\"components/MapFooter.vue\":257,\"vueify/lib/insert-css\":1}],255:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vueColor = require('vue-color');\n\nvar _constant = require('app/constant');\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nvar _require = require('core/utils/geo'),\n    createVectorLayerFromFile = _require.createVectorLayerFromFile,\n    createStyleFunctionToVectorLayer = _require.createStyleFunctionToVectorLayer;\n\nvar SUPPORTED_FORMAT = ['zip', 'geojson', 'GEOJSON', 'kml', 'kmz', 'KMZ', 'KML', 'json', 'gpx', 'gml', 'csv'];\nvar CSV_SEPARATORS = [',', ';'];\n\n_vueColor.Chrome.mounted = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return this.$nextTick();\n\n        case 2:\n          $('.vue-color__chrome__toggle-btn').remove();\n          $('.vue-color__editable-input__label').remove();\n          $('.vue-color__chrome__saturation-wrap').css('padding-bottom', '100px');\n          $('.vue-color__chrome').css({\n            'box-shadow': '0 0 0 0',\n            'border': '1px solid #97A1A8'\n          });\n\n        case 6:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nexports.default = {\n  props: ['service'],\n  data: function data() {\n    var MAPEPSG = this.service.getCrs();\n    _constant.EPSG.find(function (epsg) {\n      return epsg === MAPEPSG;\n    }) === undefined && _constant.EPSG.unshift(MAPEPSG);\n    return {\n      vectorLayer: null,\n      options: _constant.EPSG,\n      error: false,\n      error_message: null,\n      position: null,\n      loading: false,\n      fields: [],\n      field: null,\n      accepted_extension: SUPPORTED_FORMAT.map(function (format) {\n        return '.' + format;\n      }).join(','),\n      csv: {\n        valid: false,\n        loading: false,\n        headers: [],\n        x: null,\n        y: null,\n        separators: CSV_SEPARATORS,\n        separator: CSV_SEPARATORS[0]\n      },\n      layer: {\n        name: null,\n        type: null,\n        crs: null,\n        mapCrs: null,\n        color: {\n          hex: '#194d33',\n          rgba: {\n            r: 25,\n            g: 77,\n            b: 51,\n            a: 1\n          },\n          a: 1\n        },\n        data: null,\n        visible: true,\n        title: null,\n        id: null,\n        external: true\n      }\n    };\n  },\n\n  components: {\n    'chrome-picker': _vueColor.Chrome\n  },\n  computed: {\n    csv_extension: function csv_extension() {\n      return this.layer.type === 'csv';\n    },\n    add: function add() {\n      return this.layer.data || this.csv.valid;\n    }\n  },\n  methods: {\n    setLayerMapPosition: function setLayerMapPosition(position) {\n      this.position = position;\n    },\n    setError: function setError(type) {\n      this.error_message = 'sdk.errors.' + type;\n      this.error = true;\n    },\n    clearError: function clearError() {\n      this.error = false;\n      this.error_message = null;\n    },\n    onChangeColor: function onChangeColor(val) {\n      this.layer.color = val;\n    },\n    onAddLayer: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(evt) {\n        var _this = this;\n\n        var reader, name, type, input_file, promiseData;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                reader = new FileReader();\n                name = evt.target.files[0].name;\n                type = evt.target.files[0].name.split('.');\n\n                type = type[type.length - 1].toLowerCase();\n                input_file = $(this.$refs.input_file);\n\n                if (!(SUPPORTED_FORMAT.indexOf(type) !== -1)) {\n                  _context2.next = 32;\n                  break;\n                }\n\n                this.clearError();\n                this.layer.mapCrs = this.service.getEpsg();\n                this.layer.name = name;\n                this.layer.title = name;\n                this.layer.id = name;\n                this.layer.type = type;\n\n                if (!(this.layer.type === 'csv')) {\n                  _context2.next = 17;\n                  break;\n                }\n\n                reader.onload = function (evt) {\n                  input_file.val(null);\n                  var csv_data = evt.target.result.split(/\\r\\n|\\n/).filter(function (row) {\n                    return row;\n                  });\n\n                  var _csv_data = _toArray(csv_data),\n                      headers = _csv_data[0],\n                      values = _csv_data.slice(1);\n\n                  var handle_csv_headers = function handle_csv_headers(separator) {\n                    var data = null;\n                    _this.csv.loading = true;\n                    var csv_headers = headers.split(separator);\n                    var headers_length = csv_headers.length;\n                    if (headers_length > 1) {\n                      _this.csv.headers = csv_headers;\n                      _this.fields = csv_headers;\n                      _this.csv.x = csv_headers[0];\n                      _this.csv.y = csv_headers[1];\n                      data = {\n                        headers: csv_headers,\n                        separator: separator,\n                        x: _this.csv.x,\n                        y: _this.csv.y,\n                        values: values\n                      };\n                      _this.csv.valid = true;\n                    } else {\n                      _this.csv.headers = _this.fields = [];\n                      _this.vectorLayer = null;\n                      _this.csv.valid = false;\n                      _this.fields.splice(0);\n                    }\n                    _this.csv.loading = false;\n                    return data;\n                  };\n                  _this.layer.data = handle_csv_headers(_this.csv.separator);\n                  _this.$watch('csv.separator', function (separator) {\n                    return _this.layer.data = handle_csv_headers(separator);\n                  });\n                };\n                reader.readAsText(evt.target.files[0]);\n                _context2.next = 30;\n                break;\n\n              case 17:\n                promiseData = new Promise(function (resolve, reject) {\n                  if (_this.layer.type === 'zip' || _this.layer.type === 'kmz') {\n                    var data = evt.target.files[0];\n                    input_file.val(null);\n                    resolve(data);\n                  } else {\n                    reader.onload = function (evt) {\n                      var data = evt.target.result;\n                      input_file.val(null);\n                      resolve(data);\n                    };\n                    reader.readAsText(evt.target.files[0]);\n                  }\n                });\n                _context2.next = 20;\n                return promiseData;\n\n              case 20:\n                this.layer.data = _context2.sent;\n                _context2.prev = 21;\n\n                this.fields.splice(0);_context2.next = 25;\n                return this.createVectorLayer();\n\n              case 25:\n                this.fields = this.vectorLayer.get('_fields');\n                _context2.next = 30;\n                break;\n\n              case 28:\n                _context2.prev = 28;\n                _context2.t0 = _context2['catch'](21);\n\n              case 30:\n                _context2.next = 33;\n                break;\n\n              case 32:\n                this.setError('unsupported_format');\n\n              case 33:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[21, 28]]);\n      }));\n\n      function onAddLayer(_x) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return onAddLayer;\n    }(),\n    createVectorLayer: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return createVectorLayerFromFile(this.layer);\n\n              case 3:\n                this.vectorLayer = _context3.sent;\n                _context3.next = 6;\n                return this.$nextTick();\n\n              case 6:\n                _context3.next = 11;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3['catch'](0);\n                this.setError('add_external_layer');\n              case 11:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 8]]);\n      }));\n\n      function createVectorLayer() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return createVectorLayer;\n    }(),\n    addLayer: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n        var crs;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.layer.data || this.csv.valid)) {\n                  _context4.next = 27;\n                  break;\n                }\n\n                crs = this.layer.crs;\n                _context4.prev = 2;\n                _context4.prev = 3;\n                _context4.next = 6;\n                return Projections.registerProjection(crs);\n\n              case 6:\n                _context4.next = 12;\n                break;\n\n              case 8:\n                _context4.prev = 8;\n                _context4.t0 = _context4['catch'](3);\n\n                this.setError(_context4.t0);\n                return _context4.abrupt('return');\n\n              case 12:\n\n                this.loading = true;\n                _context4.next = 15;\n                return createVectorLayerFromFile(this.layer);\n\n              case 15:\n                this.vectorLayer = _context4.sent;\n\n                this.vectorLayer.setStyle(createStyleFunctionToVectorLayer({\n                  color: this.layer.color,\n                  field: this.field\n                }));\n                _context4.next = 19;\n                return this.service.addExternalLayer(this.vectorLayer, {\n                  crs: this.layer.crs,\n                  type: this.layer.type,\n                  position: this.position\n                });\n\n              case 19:\n                $(this.$refs.modal_addlayer).modal('hide');\n                this.clear();\n\n                _context4.next = 26;\n                break;\n\n              case 23:\n                _context4.prev = 23;\n                _context4.t1 = _context4['catch'](2);\n\n                this.setError('add_external_layer');\n\n              case 26:\n                this.loading = false;\n\n              case 27:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[2, 23], [3, 8]]);\n      }));\n\n      function addLayer() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return addLayer;\n    }(),\n    clear: function clear() {\n      this.clearError();\n      this.loading = false;\n      this.layer.name = null;\n      this.layer.title = null;\n      this.layer.id = null;\n      this.layer.type = null;\n      this.layer.crs = this.service.getCrs();\n      this.layer.color = {\n        hex: '#194d33',\n        rgba: { r: 25, g: 77, b: 51, a: 1 },\n        a: 1\n      };\n      this.layer.data = null;\n      this.vectorLayer = null;\n      this.fields = [];\n      this.field = null;\n      this.csv.valid = false;\n    },\n    clearLayer: function clearLayer() {\n      this.clear();\n    }\n  },\n  watch: {\n    'csv.x': function csvX(value) {\n      if (value) this.layer.data.x = value;\n    },\n    'csv.y': function csvY(value) {\n      if (value) this.layer.data.y = value;\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.layer.crs = this.service.getCrs();\n    this.service.on('addexternallayer', function () {\n      return _this2.modal.modal('show');\n    });\n  },\n  mounted: function () {\n    var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5() {\n      var _this3 = this;\n\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.modal = $('#modal-addlayer').modal('hide');\n              this.modal.on('hide.bs.modal', function () {\n                _this3.clear();\n              });\n\n            case 4:\n            case 'end':\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }));\n\n    function mounted() {\n      return _ref5.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.clear();\n    this.modal.modal('hide');\n    this.modal.remove();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"modal_addlayer\",staticClass:\"modal fade\",attrs:{\"id\":\"modal-addlayer\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"×\")]),_vm._v(\" \"),_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.header'),expression:\"'mapcontrols.add_layer_control.header'\"}],staticClass:\"modal-title\",staticStyle:{\"font-weight\":\"bold\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_projection'),expression:\"'mapcontrols.add_layer_control.select_projection'\"}],attrs:{\"for\":\"projection-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.layer.crs),expression:\"layer.crs\"}],staticClass:\"form-control\",attrs:{\"id\":\"projection-layer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.layer, \"crs\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.options),function(option){return _c('option',{domProps:{\"value\":option}},[_vm._v(_vm._s(option))])}),0)]),_vm._v(\" \"),_c('layerspositions',{on:{\"layer-position-change\":function($event){return _vm.setLayerMapPosition($event)}}}),_vm._v(\" \"),_c('p',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_color'),expression:\"'mapcontrols.add_layer_control.select_color'\"}],staticStyle:{\"font-weight\":\"700\"}}),_vm._v(\" \"),_c('chrome-picker',{staticStyle:{\"width\":\"100%\",\"margin\":\"auto\"},on:{\"input\":_vm.onChangeColor},model:{value:(_vm.layer.color),callback:function ($$v) {_vm.$set(_vm.layer, \"color\", $$v)},expression:\"layer.color\"}}),_vm._v(\" \"),_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('form',{attrs:{\"id\":\"addcustomlayer\"}},[_c('input',{ref:\"input_file\",attrs:{\"type\":\"file\",\"title\":\" \",\"accept\":_vm.accepted_extension},on:{\"change\":function($event){return _vm.onAddLayer($event)}}}),_vm._v(\" \"),_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.drag_layer'),expression:\"'mapcontrols.add_layer_control.drag_layer'\"}]}),_vm._v(\" \"),(_vm.layer.name)?_c('h4',{staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.layer.name))]):_vm._e(),_vm._v(\" \"),_c('div',[_c('i',{staticClass:\"fa-5x\",class:_vm.g3wtemplate.getFontClass('cloud-upload'),attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\" \"),_c('p',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"[.gml, .geojson, .kml, .kmz ,.gpx, .csv, .zip(shapefile)]\")])]),_vm._v(\" \"),(_vm.csv_extension)?_c('div',{staticStyle:{\"padding\":\"15px\",\"border\":\"1px solid grey\",\"border-radius\":\"3px\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.csv.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"select_field\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_separator'),expression:\"'mapcontrols.add_layer_control.select_csv_separator'\"}],attrs:{\"for\":\"g3w-select-field-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.separator),expression:\"csv.separator\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-separator\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"separator\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.separators),function(separator){return _c('option',{key:separator,domProps:{\"value\":separator}},[_vm._v(_vm._s(separator))])}),0),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.csv.headers || _vm.csv.headers.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_x_field'),expression:\"'mapcontrols.add_layer_control.select_csv_x_field'\"}],attrs:{\"for\":\"g3w-select-x-field\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.x),expression:\"csv.x\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-x-field\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"x\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.headers),function(header){return _c('option',{key:header,domProps:{\"value\":header}},[_vm._v(_vm._s(header))])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.csv.headers || _vm.csv.headers.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_y_field'),expression:\"'mapcontrols.add_layer_control.select_csv_y_field'\"}],attrs:{\"for\":\"g3w-select-y-field\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.y),expression:\"csv.y\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-y-field\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"y\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.headers),function(header){return _c('option',{key:header,domProps:{\"value\":header}},[_vm._v(_vm._s(header))])}),0)])])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.fields || _vm.fields.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_field_to_show'),expression:\"'mapcontrols.add_layer_control.select_field_to_show'\"}],attrs:{\"for\":\"g3w-select-field-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.field),expression:\"field\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-field-layer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.field=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"---\")]),_vm._v(\" \"),_vm._l((_vm.fields),function(field){return _c('option',{key:field,domProps:{\"value\":field}},[_vm._v(_vm._s(field))])})],2)]),_vm._v(\" \"),(_vm.error)?_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.error_message),expression:\"error_message\"}],staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.2em\",\"background-color\":\"orange\",\"padding\":\"10px\",\"text-align\":\"center\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('add'),expression:\"'add'\"}],staticClass:\"btn btn-success pull-left\",attrs:{\"type\":\"button\",\"disabled\":!_vm.add},on:{\"click\":function($event){$event.stopPropagation();return _vm.addLayer($event)}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('close'),expression:\"'close'\"}],staticClass:\"btn btn-default\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}})])],1)])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"core/utils/geo\":64,\"g3w-ol/projection/projections\":110,\"vue-color\":\"vue-color\"}],256:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    debounce = _require.debounce;\n\nexports.default = {\n  name: \"MapControlZoomHistory\",\n  data: function data() {\n    return {\n      history: {\n        index: 0,\n        items: []\n      }\n    };\n  },\n\n  methods: {\n    last: function last() {\n      this.history.index--;\n      this.setMapExtent();\n    },\n    next: function next() {\n      this.history.index++;\n      this.setMapExtent();\n    },\n    setMapExtent: function setMapExtent() {\n      _gui2.default.getService('map').getMap().getView().fit(this.history.items[this.history.index]);\n    }\n  },\n  computed: {\n    hasEmptyHistory: function hasEmptyHistory() {\n      return 0 === this.history.index && 1 === this.history.items.length || this.history.items.length - 1 === this.history.index;\n    }\n  },\n\n  created: function created() {\n    var _this = this;\n\n    var map = _gui2.default.getService('map').getMap();\n    var view = map.getView();\n\n    this.history.items.push(view.calculateExtent(map.getSize()));\n\n    this.changeKeyEvent = view.on('change', debounce(function (evt) {\n      if (_this.history.index !== _this.history.items.length - 1) {\n        _this.history.items.splice(_this.history.index - _this.history.items.length + 1);\n      }\n      _this.history.items.push(evt.target.calculateExtent(map.getSize()));\n      _this.history.index++;\n    }, 600));\n  },\n  beforeDestroy: function beforeDestroy() {\n    ol.Object.unByKey(this.changeKeyEvent);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ol-zoom-history ol-unselectable ol-control\",staticStyle:{\"display\":\"flex\",\"gap\":\"5px\"}},[_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sdk.mapcontrols.zoomhistory.zoom_last'),expression:\"'sdk.mapcontrols.zoomhistory.zoom_last'\",arg:\"top\",modifiers:{\"create\":true}}]},[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.history.index === 0),expression:\"history.index === 0\"}],attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.last($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('reply')})])]),_vm._v(\" \"),_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sdk.mapcontrols.zoomhistory.zoom_next'),expression:\"'sdk.mapcontrols.zoomhistory.zoom_next'\",arg:\"top\",modifiers:{\"create\":true}}]},[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.hasEmptyHistory),expression:\"hasEmptyHistory\"}],attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.next($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('share')})])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-5ba4faea\"\n\n},{\"core/utils/utils\":67,\"services/gui\":360}],257:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MapFooterRight = require('components/MapFooterRight.vue');\n\nvar _MapFooterRight2 = _interopRequireDefault(_MapFooterRight);\n\nvar _MapFooterLeft = require('components/MapFooterLeft.vue');\n\nvar _MapFooterLeft2 = _interopRequireDefault(_MapFooterLeft);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'Mapfooter',\n  props: {\n    service: {\n      type: Object\n    }\n  },\n  components: {\n    MapFooterRight: _MapFooterRight2.default,\n    MapFooterLeft: _MapFooterLeft2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"skin-border-color\",attrs:{\"id\":\"map_footer\"}},[_c('map-footer-left'),_vm._v(\" \"),_c('map-footer-right',{attrs:{\"service\":_vm.service}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/MapFooterLeft.vue\":258,\"components/MapFooterRight.vue\":259}],258:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'Mapfooter'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\"},attrs:{\"id\":\"map_footer_left\"}},[_c('a',{staticStyle:{\"margin-left\":\"5px\",\"align-self\":\"center\"},attrs:{\"href\":\"https://g3wsuite.it/\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"height\":\"15\",\"src\":\"/static/client/images/g3wsuite_logo.png\",\"alt\":\"\"}})])])}]\n\n},{}],259:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: 'Mapfooter',\n  props: {\n    service: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      mouse: {\n        switch_icon: false,\n        epsg_4326: false,\n        tooltip: null\n      },\n      mapunit: _applicationState2.default.map.unit\n    };\n  },\n\n  computed: {\n    showmapunits: function showmapunits() {\n      return this.service.state.mapunits.length > 1;\n    }\n  },\n  methods: {\n    createCopyMapExtentUrl: function createCopyMapExtentUrl() {\n      this.service.createCopyMapExtentUrl();\n    },\n    switchMapsCoordinateTo4326: function switchMapsCoordinateTo4326() {\n      this.mouse.epsg_4326 = !this.mouse.epsg_4326;\n    }\n  },\n  watch: {\n    'mapunit': function mapunit(unit) {\n      _applicationState2.default.map.unit = unit;\n      this.service.changeScaleLineUnit(unit);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.service.once('ready', function () {\n                _this.mouse.switch_icon = _this.service.getMapControlByType({\n                  type: 'mouseposition'\n                }) && _this.service.getEpsg() !== 'EPSG:4326';\n                _this.mouse.tooltip = 'ESPG ' + _this.service.getCrs().split(':')[1] + ' <--> WGS84';\n              });\n\n            case 1:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\"},attrs:{\"id\":\"map_footer_right\"}},[_c('div',{attrs:{\"id\":\"scale-control\"}}),_vm._v(\" \"),(_vm.mouse.switch_icon && !_vm.isMobile())?_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:(_vm.mouse.tooltip),expression:\"mouse.tooltip\",arg:\"top\",modifiers:{\"create\":true}}],attrs:{\"id\":\"switch-mouse-coordinate\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.switchMapsCoordinateTo4326($event)}}},[_c('span',{staticClass:\"skin-color hide-cursor-caret-color\",class:_vm.g3wtemplate.getFontClass('mouse')})]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mouse.epsg_4326),expression:\"!mouse.epsg_4326\"}],attrs:{\"id\":\"mouse-position-control\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mouse.epsg_4326),expression:\"mouse.epsg_4326\"}],attrs:{\"id\":\"mouse-position-control-epsg-4326\"}}),_vm._v(\" \"),(_vm.showmapunits)?_c('div',{attrs:{\"id\":\"scale-line-units\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mapunit),expression:\"mapunit\"}],staticClass:\"skin-color\",staticStyle:{\"padding\":\"5px 2px\",\"font-weight\":\"bold\",\"border\":\"0\",\"cursor\":\"pointer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.mapunit=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.service.state.mapunits),function(unit){return _c('option',{directives:[{name:\"t\",rawName:\"v-t\",value:((\"sdk.mapcontrols.scaleline.units.\" + unit)),expression:\"`sdk.mapcontrols.scaleline.units.${unit}`\"}],staticStyle:{\"font-weight\":\"bold\"},domProps:{\"value\":unit,\"selected\":_vm.mapunit === unit}})}),0)]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sdk.tooltips.copy_map_extent_url'),expression:\"'sdk.tooltips.copy_map_extent_url'\",arg:\"top\",modifiers:{\"create\":true}}],staticStyle:{\"background-color\":\"#eeeeee\"},attrs:{\"id\":\"permalink\"}},[_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('link'),on:{\"click\":function($event){$event.stopPropagation();return _vm.createCopyMapExtentUrl($event)}}})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"store/application-state\":372}],260:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\n__vue__options__.staticRenderFns = []\n\n},{}],261:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".layer_header[data-v-fee105a8]{padding:5px;margin-bottom:0;margin-top:0;cursor:pointer}.layer-name[data-v-fee105a8]{font-weight:700}.layer-header-icon[data-v-fee105a8]{margin-right:10px;color:#999}.layer_header span.open-close[data-v-fee105a8]{position:absolute;right:5px;color:#999}.metadata-label[data-v-fee105a8]{font-weight:700;font-size:1.1em}.row[data-v-fee105a8]{padding:10px;border-bottom:1px solid #e2e2e2}.nav-tabs[data-v-fee105a8]{border-bottom:0 solid #ddd}.nav-tabs>li.active>a[data-v-fee105a8],.nav-tabs>li.active>a[data-v-fee105a8]:focus,.nav-tabs>li.active>a[data-v-fee105a8]:hover{border-width:0}.nav-tabs>li>a[data-v-fee105a8]{border:none;color:#aeaeae}.nav-tabs>li.active>a[data-v-fee105a8],.nav-tabs>li>a[data-v-fee105a8]:hover{border:none;background:transparent}.nav-tabs>li>a[data-v-fee105a8]:after{content:\\\"\\\";height:2px;position:absolute;width:100%;left:0;bottom:-1px;transition:all .25s ease 0s;transform:scale(0)}.nav-tabs>li.active>a[data-v-fee105a8]:after,.nav-tabs>li:hover>a[data-v-fee105a8]:after{transform:scale(1)}.tab-nav>li>a[data-v-fee105a8]:after{background:#21527d none repeat scroll 0 0;color:#fff}.tab-content[data-v-fee105a8]{margin:10px;background-color:#eee;overflow:auto}.spatial-tab[data-v-fee105a8]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"layer\",\n  mixins: [_mixins.metadataMixin],\n  props: {\n    state: {}\n  },\n  data: function data() {\n    return {\n      show: false\n    };\n  },\n\n  computed: {\n    isSpatial: function isSpatial() {\n      return this.state.geometrytype != 'NoGeometry';\n    }\n  },\n  methods: {\n    showHideInfo: function showHideInfo() {\n      this.show = !this.show;\n    }\n  },\n  mounted: function mounted() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row-info\"},[_c('h4',{staticClass:\"layer_header\",attrs:{\"data-toggle\":\"collapse\",\"data-target\":'#' + _vm.state.id},on:{\"click\":_vm.showHideInfo}},[_c('i',{staticClass:\"layer-header-icon action-button nohover\",class:[_vm.isSpatial ? _vm.g3wtemplate.font['map']: _vm.g3wtemplate.font['table']],attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{staticClass:\"layer-name\"},[_vm._v(_vm._s(_vm.state.name))]),_vm._v(\" \"),_c('span',{staticClass:\"action-button nohover open-close\",class:[_vm.show ? _vm.g3wtemplate.getFontClass('minus') :_vm.g3wtemplate.getFontClass('plus')]})]),_vm._v(\" \"),_c('div',{staticClass:\"collapse\",attrs:{\"id\":_vm.state.id}},[_c('ul',{staticClass:\"metadata-nav-tabs nav nav-tabs\",attrs:{\"role\":\"tablist\"}},[_c('li',{staticClass:\"active spatial-tab\",attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.groups.general'),expression:\"'sdk.metadata.groups.layers.groups.general'\"}],attrs:{\"href\":'#layer_general_' + _vm.state.id,\"aria-controls\":\"general\",\"role\":\"tab\",\"data-toggle\":\"tab\"}})]),_vm._v(\" \"),(_vm.isSpatial)?_c('li',{staticClass:\"spatial-tab\",attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.groups.spatial'),expression:\"'sdk.metadata.groups.layers.groups.spatial'\"}],attrs:{\"href\":'#layer_spatial_' + _vm.state.id,\"aria-controls\":\"profile\",\"role\":\"tab\",\"data-toggle\":\"tab\"}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\"},[_c('div',{staticClass:\"tab-pane active\",attrs:{\"role\":\"tabpanel\",\"id\":'layer_general_' + _vm.state.id}},[_c('div',{staticClass:\"container-fluid\"},[(_vm.findAttributeFormMetadataAttribute('title'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.title'),expression:\"'sdk.metadata.groups.layers.fields.subfields.title'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_vm._v(_vm._s(_vm.state.metadata.title))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('name'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.name'),expression:\"'sdk.metadata.groups.layers.fields.subfields.name'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_vm._v(_vm._s(_vm.state.name))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('source'))?_c('div',{staticClass:\"row metadata-layer-source\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.source'),expression:\"'sdk.metadata.groups.layers.fields.subfields.source'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label metadata-layer-source-value-key\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value metadata-layer-source-value\"},[_vm._v(_vm._s(_vm.state.source.type))])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('abstract'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.abstract'),expression:\"'sdk.metadata.groups.layers.fields.subfields.abstract'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\",domProps:{\"innerHTML\":_vm._s( _vm.state.metadata.abstract)}})]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('keywords'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.keywords'),expression:\"'sdk.metadata.groups.layers.fields.subfields.keywords'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('div',[_vm._v(_vm._s(_vm.state.metadata.keywords.join(', ')))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('metadataurl') && _vm.state.metadata.metadataurl.onlineresources)?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.metadataurl'),expression:\"'sdk.metadata.groups.layers.fields.subfields.metadataurl'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('a',{attrs:{\"href\":_vm.state.metadata.metadataurl.onlineresources}},[_vm._v(_vm._s(_vm.state.metadata.metadataurl.onlineresources))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('dataurl') && _vm.state.metadata.dataurl.onlineresources)?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.dataurl'),expression:\"'sdk.metadata.groups.layers.fields.subfields.dataurl'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('a',{attrs:{\"href\":_vm.state.metadata.dataurl.onlineresources}},[_vm._v(_vm._s(_vm.state.metadata.dataurl.onlineresources))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('attributes'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.attributes'),expression:\"'sdk.metadata.groups.layers.fields.subfields.attributes'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\",staticStyle:{\"overflow\":\"auto\"}},[_c('table',{staticClass:\"table table-striped\",staticStyle:{\"background-color\":\"#eeeeee !important\"}},[_c('thead',[_c('tr',_vm._l((_vm.state.metadata.attributes[0]),function(value,header){return _c('th',[_vm._v(_vm._s(header))])}),0)]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.state.metadata.attributes),function(attribute){return _c('tr',_vm._l((attribute),function(value,header){return _c('td',[_vm._v(_vm._s(value))])}),0)}),0)])])]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane\",attrs:{\"role\":\"tabpanel\",\"id\":'layer_spatial_'+_vm.state.id}},[_c('div',{staticClass:\"container-fluid\"},[(_vm.findMetadataAttribute('crs'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.crs'),expression:\"'sdk.metadata.groups.layers.fields.subfields.crs'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(_vm._s(_vm.state.crs.epsg))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('geometrytype'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.geometrytype'),expression:\"'sdk.metadata.groups.layers.fields.subfields.geometrytype'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(_vm._s(_vm.state.geometrytype))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('bbox'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.bbox'),expression:\"'sdk.metadata.groups.layers.fields.subfields.bbox'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},_vm._l((_vm.state.bbox),function(value,key){return _c('p',[_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin-right\":\"5px\"}},[_vm._v(_vm._s(key))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(value))])])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('crs'))?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-2 metadata-label\"},[_vm._v(\"CRS\")]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},_vm._l((_vm.state.metadata.crs),function(crs){return _c('div',[_c('span',[_vm._v(_vm._s(crs))])])}),0)]):_vm._e()])])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-fee105a8\"\n\n},{\"mixins\":342,\"vueify/lib/insert-css\":1}],262:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-nav-bar li a[data-v-0e556a34]{text-align:center}.metadata-nav-bar li a i[data-v-0e556a34]{margin-right:5px}.metadata-item-tab[data-v-0e556a34]{margin-right:10px;border-radius:3px;margin-bottom:10px}.metadata-body[data-v-0e556a34]{overflow-y:auto;overflow-x:hidden;padding-left:0;padding-right:0}.tab-title[data-v-0e556a34]{position:absolute;bottom:10px;right:auto}.row-info[data-v-0e556a34]{margin:0!important;padding-top:10px;padding-bottom:10px;border-bottom:1px solid #eee}.row-info .label[data-v-0e556a34]{font-weight:700}.h_90[data-v-0e556a34]{height:90%}.h_100[data-v-0e556a34]{height:100%}#project-catalog[data-v-0e556a34]{position:relative;overflow:auto}.nav-tabs-wrapper[data-v-0e556a34]{display:inline-block;margin-bottom:-6px;margin-left:1.25%;margin-right:1.25%;position:relative;width:100%}.nav-tabs[data-v-0e556a34]{border-bottom:0 none}.nav-stacked[data-v-0e556a34]{font-size:1.2em;font-weight:700;padding:10px 0}.nav-stacked li a[data-v-0e556a34]{color:#fff}.left-vertical-tabs[data-v-0e556a34]{padding-left:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _MetadataLayer = require('components/MetadataLayer.vue');\n\nvar _MetadataLayer2 = _interopRequireDefault(_MetadataLayer);\n\nvar _MetadataProjectTabContent = require('components/MetadataProjectTabContent.vue');\n\nvar _MetadataProjectTabContent2 = _interopRequireDefault(_MetadataProjectTabContent);\n\nvar _MetadataProjectBBoxContent = require('components/MetadataProjectBBoxContent.vue');\n\nvar _MetadataProjectBBoxContent2 = _interopRequireDefault(_MetadataProjectBBoxContent);\n\nvar _MetadataProjectContactsContent = require('components/MetadataProjectContactsContent.vue');\n\nvar _MetadataProjectContactsContent2 = _interopRequireDefault(_MetadataProjectContactsContent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"project\",\n  data: function data() {\n    return {\n      state: this.$options.state,\n      iconsClass: {\n        info: this.g3wtemplate.getFontClass(\"info-circle\"),\n        globe: this.g3wtemplate.getFontClass(\"globe\"),\n        bars: this.g3wtemplate.getFontClass(\"bars\")\n      }\n    };\n  },\n\n  components: {\n    'metadata-layer': _MetadataLayer2.default,\n    'metadata-tab-content': _MetadataProjectTabContent2.default,\n    'metadata-bbox-content': _MetadataProjectBBoxContent2.default,\n    'metadata-contacts-content': _MetadataProjectContactsContent2.default\n  },\n  methods: {\n    isArrayorObject: function isArrayorObject(value) {\n      return Array.isArray(value) || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n    },\n    setComponent: function setComponent(key) {\n      var component = void 0;\n      switch (key) {\n        case 'extent':\n          component = 'metadata-bbox-content';\n          break;\n        case 'contactinformation':\n          component = 'metadata-contacts-content';\n          break;\n        default:\n          component = 'metadata-tab-content';\n      }\n      return component;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"project-catalog\"}},[_c('div',{class:_vm.isMobile() ? 'mobile' : null,staticStyle:{\"padding\":\"0\"},attrs:{\"id\":\"project-catalog-container\"}},[_c('ul',{staticClass:\"nav nav-tabs metadata-nav-bar\",attrs:{\"role\":\"tablist\"}},[_c('li',{staticClass:\"active\"},[_c('a',{staticClass:\"metadata-item-tab general\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#general\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.g3wtemplate.getFontClass('info'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.title'),expression:\"'sdk.metadata.groups.general.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])]),_vm._v(\" \"),_c('li',[_c('a',{staticClass:\"metadata-item-tab spatial\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#spatial\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.iconsClass.globe,attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.spatial.title'),expression:\"'sdk.metadata.groups.spatial.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])]),_vm._v(\" \"),_c('li',[_c('a',{staticClass:\"metadata-item-tab layers\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#metadata_layers\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.iconsClass.bars,attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.title'),expression:\"'sdk.metadata.groups.layers.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-12 metadata-body tab-content\"},[_c('div',{staticClass:\"tab-pane fade in active\",attrs:{\"id\":\"general\"}},[_vm._l((_vm.state.groups.general),function(data,key){return _c('div',{staticClass:\"row h_100 row-info\"},[_c(_vm.setComponent(key),{tag:\"component\",attrs:{\"data\":data,\"fieldName\":key}})],1)})],2),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane fade\",attrs:{\"id\":\"spatial\"}},[_c('div',[_vm._l((_vm.state.groups.spatial),function(data,key){return _c('div',{staticClass:\"row row-info\"},[_c(_vm.setComponent(key),{tag:\"component\",attrs:{\"data\":data,\"fieldName\":key}})],1)})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane fade\",attrs:{\"id\":\"metadata_layers\"}},_vm._l((_vm.state.groups.layers.layers.value),function(layer){return _c('metadata-layer',{attrs:{\"state\":layer}})}),1)])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0e556a34\"\n\n},{\"components/MetadataLayer.vue\":261,\"components/MetadataProjectBBoxContent.vue\":263,\"components/MetadataProjectContactsContent.vue\":264,\"components/MetadataProjectTabContent.vue\":265,\"vueify/lib/insert-css\":1}],263:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-b715e0e8]{font-weight:700;font-size:1.1em}.bbox-labels[data-v-b715e0e8]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"metadatabbox\",\n  props: {\n    data: {}\n  },\n  data: function data() {\n    return {\n      bboxlabels: ['MINX', 'MINY', 'MAXX', 'MAXY']\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,index){return _c('div',[_c('span',{staticClass:\"bbox-labels\"},[_vm._v(_vm._s(_vm.bboxlabels[index]))]),_vm._v(\" \"+_vm._s(value)+\"\\n      \")])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b715e0e8\"\n\n},{\"vueify/lib/insert-css\":1}],264:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-60ad65fc]{font-weight:700;font-size:1.1em}.metadata-contact-label[data-v-60ad65fc]{font-weight:700}.contact-icon[data-v-60ad65fc]{margin-right:3px}.row[data-v-60ad65fc]{margin-bottom:5px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = {\n  name: \"metadatacontatcs\",\n  props: {\n    data: {}\n  },\n  data: function data() {\n    return {\n      iconsClass: {\n        contactelectronicmailaddress: this.g3wtemplate.getFontClass(\"mail\"),\n        personprimary: this.g3wtemplate.getFontClass(\"user\"),\n        contactvoicetelephone: this.g3wtemplate.getFontClass(\"mobile\")\n      }\n    };\n  },\n\n  methods: {\n    sanitizeValue: function sanitizeValue(value) {\n      if (value !== null && value !== undefined) {\n        if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === 'object') {\n          value = Object.keys(value).length ? value : '';\n        } else if (Array.isArray(value)) {\n          value = value.length ? value : '';\n        }\n      }\n      return value;\n    },\n    geti18n: function geti18n(key) {}\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,key){return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-2 metadata-contact-label\"},[_c('i',{staticClass:\"contact-icon\",class:_vm.iconsClass[key],attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.fields.subfields.contactinformation.' + key),expression:\"'sdk.metadata.groups.general.fields.subfields.contactinformation.' + key\"}]})]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10\"},[(key === 'personprimary')?_vm._l((value),function(subvalue,key){return _c('div',[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.fields.subfields.contactinformation.' + key),expression:\"'sdk.metadata.groups.general.fields.subfields.contactinformation.' + key\"}],staticClass:\"metadata-contact-label\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(subvalue))])])}):_c('div',[(key === 'contactelectronicmailaddress')?[_c('a',{staticStyle:{\"font-weight\":\"bold\"},attrs:{\"href\":'mailto:' + _vm.sanitizeValue(value)}},[_vm._v(_vm._s(_vm.sanitizeValue(value)))])]:[_vm._v(\"\\n              \"+_vm._s(_vm.sanitizeValue(value))+\"\\n            \")]],2)],2)])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-60ad65fc\"\n\n},{\"vueify/lib/insert-css\":1}],265:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-6b130710]{font-weight:700;font-size:1.1em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = {\n  name: \"metadatatabcontent\",\n  props: {\n    data: {},\n    fieldName: {}\n  },\n  computed: {\n    arrayToString: function arrayToString() {\n      return this.data.value.join(', ');\n    }\n  },\n  methods: {\n    isArrayorObject: function isArrayorObject(value) {\n      return Array.isArray(value) || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),(_vm.fieldName == 'keywords')?_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(\"\\n    \"+_vm._s(_vm.arrayToString)+\"\\n  \")]):(_vm.fieldName == 'wms_url')?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',[_vm._v(_vm._s(_vm.data.value))])]):(!_vm.isArrayorObject(_vm.data.value))?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.data.value)}})]):(_vm.fieldName == 'abstract')?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.data.value)}})]):_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,key){return _c('div',[_c('span',[_vm._v(_vm._s(value))])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-6b130710\"\n\n},{\"vueify/lib/insert-css\":1}],266:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _navbaritems = require(\"services/navbaritems\");\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"NavbaritemLeft\",\n  data: function data() {\n    return {\n      items: _navbaritems2.default.state.items.right\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav navbar-nav navbar-left\"},_vm._l((_vm.items),function(item){return _c(item,{key:item.id,tag:\"li\"})}),1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2c7478a1\"\n\n},{\"services/navbaritems\":364}],267:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _navbaritems = require(\"services/navbaritems\");\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"NavbaritemRight\",\n  data: function data() {\n    return {\n      items: _navbaritems2.default.state.items.right\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav navbar-nav navbar-right\"},_vm._l((_vm.items),function(item){return _c(item,{key:item.id,tag:\"li\"})}),1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-c140951c\"\n\n},{\"services/navbaritems\":364}],268:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'download-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"download\",rawName:\"v-download.show\",modifiers:{\"show\":true}}],staticClass:\"skin-color\",attrs:{\"id\":\"download_notification\",\"title\":\"DOWNLOAD\"}},[_c('bar-loader',{attrs:{\"loading\":\"true\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"padding\":\"3px\"}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],269:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'online-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"online\",rawName:\"v-online:hide\",arg:\"hide\"}],staticStyle:{\"color\":\"#999\"},attrs:{\"id\":\"offline_notification\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('wifi')}),_vm._v(\" \"),_c('div',{staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"0.4em\"}},[_vm._v(\"offline\")])])}\n__vue__options__.staticRenderFns = []\n\n},{}],270:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'plugins-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"plugins\",rawName:\"v-plugins\"}],staticStyle:{\"color\":\"#994b10\"},attrs:{\"id\":\"plugins_notification\"}},[_c('bar-loader',{attrs:{\"loading\":\"true\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('plugin')})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],271:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _PrintSelectAtlasFieldValues = require('components/PrintSelectAtlasFieldValues.vue');\n\nvar _PrintSelectAtlasFieldValues2 = _interopRequireDefault(_PrintSelectAtlasFieldValues);\n\nvar _PrintFidAtlasValues = require('components/PrintFidAtlasValues.vue');\n\nvar _PrintFidAtlasValues2 = _interopRequireDefault(_PrintFidAtlasValues);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      button: {\n        class: \"btn-success\",\n        type: \"stampa\",\n        disabled: false\n      }\n    };\n  },\n\n  components: {\n    SelectAtlasFieldValues: _PrintSelectAtlasFieldValues2.default,\n    FidAtlasValues: _PrintFidAtlasValues2.default\n  },\n  computed: {\n    disabled: function disabled() {\n      return this.state.output.loading || !!this.state.atlas && this.state.atlasValues.length === 0;\n    }\n  },\n  methods: {\n    setDisabledPrintButton: function setDisabledPrintButton() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.button.disabled = bool;\n    },\n    setAtlasValues: function setAtlasValues() {\n      var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.state.atlasValues = values;\n    },\n    onChangeTemplate: function onChangeTemplate() {\n      this.$options.service.changeTemplate();\n    },\n    onChangeScale: function onChangeScale() {\n      this.$options.service.changeScale();\n    },\n    onChangeFormat: function onChangeFormat() {},\n    onChangeDpi: function onChangeDpi() {},\n    onChangeRotation: function onChangeRotation(evt) {\n      if (this.state.rotation >= 0 && !_.isNil(this.state.rotation) && this.state.rotation != '') {\n        this.state.rotation = this.state.rotation > 360 ? 360 : this.state.rotation;\n        evt.target.value = this.state.rotation;\n      } else if (this.state.rotation < 0) {\n        this.state.rotation = this.state.rotation < -360 ? -360 : this.state.rotation;\n        evt.target.value = this.state.rotation;\n      } else {\n        this.state.rotation = 0;\n      }\n      this.$options.service.changeRotation();\n    },\n    print: function print() {\n      this.$options.service.print();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"treeview-menu\",attrs:{\"id\":\"print\"}},[_c('li',[_c('form',{staticClass:\"g3w-search-form form-horizonal\"},[_c('div',{staticClass:\"box-body\"},[_c('transition',{attrs:{\"duration\":500,\"name\":\"fade\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}})],1),_vm._v(\" \"),_c('helpdiv',{attrs:{\"message\":\"sdk.print.help\"}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.template'),expression:\"'sdk.print.template'\"}],attrs:{\"for\":\"templates\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.template),expression:\"state.template\"}],staticClass:\"form-control\",style:({marginBottom: this.state.atlas && '10px'}),attrs:{\"id\":\"templates\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"template\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeTemplate]}},_vm._l((_vm.state.print),function(print){return _c('option',{domProps:{\"value\":print.name}},[_vm._v(_vm._s(print.name))])}),0),_vm._v(\" \"),(!_vm.state.atlas)?[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.scale'),expression:\"'sdk.print.scale'\"}],attrs:{\"for\":\"scala\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.scala),expression:\"state.scala\"}],staticClass:\"form-control\",attrs:{\"id\":\"scala\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"scala\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeScale]}},_vm._l((_vm.state.scale),function(scala){return _c('option',{domProps:{\"value\":scala.value}},[_vm._v(_vm._s(scala.label))])}),0),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"dpi\"}},[_vm._v(\"dpi\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.dpi),expression:\"state.dpi\"}],staticClass:\"form-control\",attrs:{\"id\":\"dpi\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"dpi\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeDpi]}},_vm._l((_vm.state.dpis),function(dpi){return _c('option',[_vm._v(_vm._s(dpi))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.rotation'),expression:\"'sdk.print.rotation'\"}],attrs:{\"for\":\"rotation\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.rotation),expression:\"state.rotation\"}],staticClass:\"form-control\",attrs:{\"min\":\"-360\",\"max\":\"360\",\"id\":\"rotation\",\"type\":\"number\"},domProps:{\"value\":(_vm.state.rotation)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"rotation\", $event.target.value)},_vm.onChangeRotation]}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.format'),expression:\"'sdk.print.format'\"}],attrs:{\"for\":\"format\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.output.format),expression:\"state.output.format\"}],staticClass:\"form-control\",attrs:{\"id\":\"format\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state.output, \"format\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.state.formats),function(format){return _c('option',{domProps:{\"value\":format.value}},[_vm._v(_vm._s(format.label))])}),0)]:(_vm.state.atlas.field_name)?[_c('select-atlas-field-values',{attrs:{\"atlas\":_vm.state.atlas,\"reset\":!_vm.state.isShow},on:{\"disable-print-button\":_vm.setDisabledPrintButton,\"set-values\":_vm.setAtlasValues}})]:[_c('fid-atlas-values',{attrs:{\"atlas\":_vm.state.atlas,\"reset\":!_vm.state.isShow},on:{\"disable-print-button\":_vm.setDisabledPrintButton,\"set-values\":_vm.setAtlasValues}})],_vm._v(\" \"),(_vm.state.labels && _vm.state.labels.length)?[_c('div',{staticClass:\"print-labels-content\",staticStyle:{\"margin-top\":\"5px\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.labels'),expression:\"'sdk.print.labels'\"}],staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.1em\",\"display\":\"block\",\"border-bottom\":\"2px solid #ffffff\",\"margin-bottom\":\"5px\"}}),_vm._v(\" \"),_c('div',{staticClass:\"labels-input-content\",staticStyle:{\"max-height\":\"120px\",\"overflow-y\":\"auto\"}},_vm._l((_vm.state.labels),function(label){return _c('span',{key:label.id},[_c('label',{attrs:{\"for\":(\"g3w_label_id_input_\" + (label.id))}},[_vm._v(_vm._s(label.id))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(label.text),expression:\"label.text\"}],staticClass:\"form-control\",attrs:{\"id\":(\"g3w_label_id_input_\" + (label.id))},domProps:{\"value\":(label.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(label, \"text\", $event.target.value)}}})])}),0)])]:_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"box-footer\",staticStyle:{\"background-color\":\"transparent\"}},[_c('span',[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.button.disabled),expression:\"button.disabled\"},{name:\"download\",rawName:\"v-download\"},{name:\"t\",rawName:\"v-t\",value:('create_print'),expression:\"'create_print'\"}],staticClass:\"sidebar-button-run btn\",staticStyle:{\"width\":\"100%\",\"font-weight\":\"bold\"},attrs:{\"id\":\"printbutton\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.print($event)}}})])])])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/PrintFidAtlasValues.vue\":272,\"components/PrintSelectAtlasFieldValues.vue\":274}],272:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"fid-atlas-values\",\n  props: {\n    atlas: {\n      type: Object\n    },\n    reset: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      value: ''\n    };\n  },\n\n  methods: {\n    validateValue: function validateValue(value) {\n      value = value && 1 * value;\n      return Number.isInteger(value) && value >= 0 && value < this.atlas.feature_count || null;\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      handler: function handler(value) {\n        var _this = this;\n\n        this.value = value;\n        var values = new Set();\n        var addValue = function addValue(value) {\n          return _this.validateValue(value) !== null && values.add(value);\n        };\n        var addRangeToValues = function addRangeToValues() {\n          var range = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n          var rangeLenght = range.length;\n          for (var i = 1; i < rangeLenght; i++) {\n            var start = range[i - 1];\n            var end = range[i];\n            for (var _i = start; _i < end; _i++) {\n              values.add(_i + '');\n            }\n          }\n          values.add(range[rangeLenght - 1]);\n        };\n        if (value) {\n          value.split(',').forEach(function (value) {\n            if (value) {\n              if (value.indexOf('-') !== -1) {\n                var _values = value.split('-');\n                var range = _values.filter(function (value) {\n                  return _this.validateValue(value) !== null;\n                });\n                if (range.length === _values.length) {\n                  var canAdd = range.reduce(function (bool, value, currentIndex) {\n                    return bool && (currentIndex === 0 || range[currentIndex - 1] <= value);\n                  }, true);\n                  canAdd && addRangeToValues(range);\n                }\n              } else addValue(value);\n            }\n          });\n        }\n        this.$emit('set-values', Array.from(values));\n        this.$emit('disable-print-button', value.trim() === '');\n      }\n    },\n    reset: function reset(bool) {\n      if (bool) {\n        this.value = '';\n        this.$emit('set-values', []);\n        this.$emit('disable-print-button', true);\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.value = null;\n    this.$emit('disable-print-button', false);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"width\":\"100%\"}},[_c('label',{staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.print_atlas_fid}},[_c('span',[_vm._v(\"fids [max: \"+_vm._s(_vm.atlas.feature_count - 1)+\"]\")])]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"form-control\",domProps:{\"value\":(_vm.value)},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"])){ return null; }$event.preventDefault();},\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"5px\",\"color\":\"#ffffff\"},attrs:{\"id\":\"fid-print-atals-instruction\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.fids_instruction'),expression:\"'sdk.print.fids_instruction'\"}],staticStyle:{\"white-space\":\"pre-line\"},attrs:{\"id\":\"fids_intruction\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.fids_example'),expression:\"'sdk.print.fids_example'\"}],staticStyle:{\"margin-top\":\"3px\",\"font-weight\":\"bold\"},attrs:{\"id\":\"fids_examples_values\"}})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-1dcb18ba\"\n\n},{}],273:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    imageToDataURL = _require.imageToDataURL;\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      disableddownloadbutton: true,\n      downloadImageName: '',\n      format: null\n    };\n  },\n\n  computed: {\n    loading: function loading() {\n      return this.state.loading && this.state.layers;\n    }\n  },\n  methods: {\n    setLoading: function setLoading() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      _gui2.default.disableSideBar(bool);\n      this.state.loading = bool;\n      this.disableddownloadbutton = bool;\n    },\n    downloadImage: function downloadImage() {\n      var _this = this;\n\n      this.setLoading(true);\n      if (this.format === 'jpg' || this.format === 'png') {\n        this.downloadImageName = 'download.' + this.state.format;\n        imageToDataURL({\n          src: this.state.url,\n          type: 'image/' + this.state.format,\n          callback: function callback(url) {\n            return setTimeout(function () {\n              return _this.setLoading(false);\n            });\n          }\n        });\n      }\n    }\n  },\n  watch: {\n    'state.url': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(url) {\n        var _this2 = this;\n\n        var timeOut;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!url) {\n                  _context.next = 6;\n                  break;\n                }\n\n                this.format = this.state.format;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                timeOut = setTimeout(function () {\n                  _this2.setLoading(false);\n                  _gui2.default.showUserMessage({\n                    type: 'alert',\n                    message: 'timeout'\n                  });\n                }, _constant.TIMEOUT);\n\n\n                $(this.$refs.printoutput).load(url, function (response, status) {\n                  _this2.$options.service.stopLoading();\n                  status === 'error' && _this2.$options.service.showError();\n                  clearTimeout(timeOut);\n                  _this2.setLoading(false);\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateUrl(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateUrl;\n    }()\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.state.layers && this.$options.service.startLoading();\n\n            case 3:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.state.url && this.state.method === 'POST' && window.URL.revokeObjectURL(this.state.url);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\",\"position\":\"relative\"},attrs:{\"id\":\"print-output\"}},[_c('transition',{attrs:{\"duration\":500,\"name\":\"fade\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}})],1),_vm._v(\" \"),(_vm.format === 'pdf')?_c('iframe',{ref:\"printoutput\",staticStyle:{\"border\":\"0\",\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"type\":_vm.state.mime_type,\"src\":_vm.state.url}}):(_vm.format === 'png')?_c('div',{staticClass:\"g3w-print-png-output\",staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"position\":\"relative\",\"height\":\"100%\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"align-items\":\"flex-end\",\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"},attrs:{\"id\":\"g3w-print-header\"}},[_c('div',{class:{'g3w-disabled': _vm.disableddownloadbutton}},[_c('a',{attrs:{\"href\":_vm.state.url,\"download\":_vm.downloadImageName}},[_c('button',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('sdk.print.download_image'),expression:\"'sdk.print.download_image'\",modifiers:{\"create\":true}}],staticClass:\"btn skin-button skin-tooltip-left\",class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"font-weight\":\"bold\"},attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\",\"role\":\"button\"},on:{\"click\":_vm.downloadImage}})])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.format==='png' && _vm.state.url),expression:\"format==='png' && state.url\"}],staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"position\":\"relative\",\"overflow-y\":\"auto\"}},[_c('img',{ref:\"printoutput\",staticStyle:{\"height\":\"auto\",\"max-width\":\"100%\"},attrs:{\"src\":_vm.state.url}})])]):_vm._e(),_vm._v(\" \"),(!_vm.state.layers)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.no_layers'),expression:\"'sdk.print.no_layers'\"}],staticStyle:{\"font-weight\":\"bold\"}}):_vm._e()],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"core/utils/utils\":67,\"services/gui\":360}],274:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar autocompleteOptions = require('gui/external/select2/options/autocomplete');\n\nexports.default = {\n  name: \"selectAtlasFieldValues\",\n  mixins: [_mixins.autocompleteMixin, _mixins.select2Mixin],\n  props: {\n    atlas: {\n      type: Object,\n      required: true\n    },\n    reset: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    emitValues: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.$emit('set-values', this.values);\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function emitValues() {\n        return _ref.apply(this, arguments);\n      }\n\n      return emitValues;\n    }()\n  },\n  data: function data() {\n    return {\n      values: []\n    };\n  },\n\n  watch: {\n    values: {\n      immediate: true,\n      handler: function handler(values) {\n        this.$emit('disable-print-button', values.length === 0);\n      }\n    },\n    reset: function reset(bool) {\n      if (bool) {\n        this.select2 && this.select2.val(null).trigger('change');\n        this.values = [];\n        this.emitValues();\n      }\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n      var _this = this;\n\n      var _atlas, field, layerId;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              _atlas = this.atlas, field = _atlas.field_name, layerId = _atlas.qgs_layer_id;\n\n              setTimeout(function () {});\n              this.select2 = $('#print_atlas_autocomplete').select2(_extends({\n                width: '100%',\n                multiple: true,\n                dropdownParent: $(this.$el),\n                minimumInputLength: 1,\n                ajax: {\n                  delay: 500,\n                  transport: function () {\n                    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref3, success, failure) {\n                      var value = _ref3.data.q;\n                      var data;\n                      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                        while (1) {\n                          switch (_context2.prev = _context2.next) {\n                            case 0:\n                              _context2.prev = 0;\n                              _context2.next = 3;\n                              return _this.autocompleteRequest({\n                                layerId: layerId,\n                                field: field,\n                                value: value\n                              });\n\n                            case 3:\n                              data = _context2.sent;\n\n                              success({ results: data });\n                              _context2.next = 10;\n                              break;\n\n                            case 7:\n                              _context2.prev = 7;\n                              _context2.t0 = _context2['catch'](0);\n\n                              failure(_context2.t0);\n\n                            case 10:\n                            case 'end':\n                              return _context2.stop();\n                          }\n                        }\n                      }, _callee2, _this, [[0, 7]]);\n                    }));\n\n                    function transport(_x, _x2, _x3) {\n                      return _ref4.apply(this, arguments);\n                    }\n\n                    return transport;\n                  }()\n                }\n              }, autocompleteOptions));\n              this.select2.on('select2:select', function (evt) {\n                var value = evt.params.data.id;\n                _this.values.push(value);\n                _this.emitValues();\n              });\n              this.select2.on('select2:unselect', function () {\n                var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(evt) {\n                  var value;\n                  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          value = evt.params.data.id;\n\n                          _this.values = _this.values.filter(function (currentValue) {\n                            return currentValue !== value;\n                          });\n                          _this.emitValues();\n\n                        case 3:\n                        case 'end':\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3, _this);\n                }));\n\n                return function (_x4) {\n                  return _ref5.apply(this, arguments);\n                };\n              }());\n\n            case 7:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.values = null;\n    this.$emit('disable-print-button', false);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"width\":\"100%\"}},[_c('label',{staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.print_atlas_autocomplete}},[_c('span',[_vm._v(_vm._s(_vm.atlas.field_name))])]),_vm._v(\" \"),_c('select',{staticClass:\"form-control\",attrs:{\"name\":_vm.atlas.field_name,\"id\":\"print_atlas_autocomplete\"}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-40b097a4\"\n\n},{\"gui/external/select2/options/autocomplete\":118,\"mixins\":342}],275:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar t = require('core/i18n/i18n.service').t;\n\nvar fakeImage = '/static/client/images/FakeProjectThumb.png';\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      loading: false\n    };\n  },\n\n  methods: {\n    trigger: function trigger(item) {\n      if (item.cbk) {\n        _gui2.default.showFullModal({\n          show: true\n        });\n        _gui2.default.setLoadingContent(true);\n        var gid = item.gid;\n\n        item.cbk.call(item, {\n          gid: gid\n        }).then(function (promise) {\n          promise.then(function (project) {\n            return document.title = project.state.html_page_title;\n          }).fail(function () {\n            _gui2.default.notify.error(\"<h4>\" + t(\"error_map_loading\") + \"</h4>\" + \"<h5>\" + t(\"check_internet_connection_or_server_admin\") + \"</h5>\");\n          }).always(function () {\n            _gui2.default.showFullModal({\n              show: false\n            });\n            _gui2.default.setLoadingContent(false);\n          });\n        });\n      } else if (item.href) window.open(item.href, '_blank');else if (item.route) _gui2.default.goto(item.route);else console.log(\"No action for \" + item.title);\n    },\n    logoSrc: function logoSrc(src) {\n      var imageSrc = void 0;\n      if (src) {\n        imageSrc = src.indexOf(_projects2.default.config.mediaurl) !== -1 ? src : src.indexOf('static') === -1 && src.indexOf('media') === -1 ? '' + _projects2.default.config.mediaurl + src : fakeImage;\n      } else imageSrc = fakeImage;\n      return this.$options.host && '' + this.$options.host + imageSrc || imageSrc;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"menu-projects\"}},[_c('div',{staticClass:\"row row-equal\"},[_vm._l((_vm.state.menuitems),function(menuitem){return _c('div',{key:menuitem.title,staticClass:\"col-xs-12 col-sm-4 project-menu\",on:{\"click\":function($event){return _vm.trigger(menuitem)}}},[_c('div',{staticClass:\"project-menu-item-image\"},[_c('img',{staticClass:\"img-responsive\",attrs:{\"src\":_vm.logoSrc(menuitem.thumbnail)}})]),_vm._v(\" \"),_c('div',{staticClass:\"project-menu-item-content\"},[_c('div',{staticClass:\"project-menu-item-text\"},[_c('h4',{staticClass:\"project-menu-item-title\"},[_vm._v(_vm._s(menuitem.title))]),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(menuitem.description)}})])])])}),_vm._v(\" \"),(!_vm.state.menuitems.length)?_c('div',{staticStyle:{\"margin-left\":\"15px\"}},[_c('h2',{directives:[{name:\"t\",rawName:\"v-t\",value:('no_other_projects'),expression:\"'no_other_projects'\"}]})]):_vm._e()],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/i18n/i18n.service\":13,\"services/gui\":360,\"store/projects\":378}],276:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nvar _constant = require('app/constant');\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar operators = Object.values(_constant.FILTER_OPERATORS);\n\nexports.default = {\n  data: function data() {\n    var options = this.$options.options;\n    var edit = options !== undefined;\n    return {\n      edit: edit,\n      currentlayer: null,\n      message: '',\n      filter: edit ? options.filter : '',\n      loading: {\n        test: false,\n        values: false\n      },\n      values: [],\n      manual: true,\n      manualvalue: null,\n      select: {\n        field: null,\n        value: null\n      }\n    };\n  },\n\n  computed: {\n    fields: function fields() {\n      return this.currentlayer ? this.currentlayer.fields : [];\n    },\n    disabled: function disabled() {\n      return !this.filter;\n    }\n  },\n  watch: {\n    'select.field': function selectField() {\n      this.values = [];\n      this.manual = true;\n    }\n  },\n  methods: {\n    addToExpression: function addToExpression() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          value = _ref.value,\n          type = _ref.type;\n\n      switch (type) {\n        case 'operator':\n          value = ' ' + value + ' ';\n          break;\n        case 'field':\n          value = '\"' + value + '\"';\n          break;\n        case 'value':\n          value = '\\'' + value + '\\'';\n          break;\n      }\n      if (value) this.filter = '' + this.filter + value;\n    },\n    all: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.loading.values = true;\n                _context.prev = 1;\n                _context.next = 4;\n                return _querybuilder2.default.getValues({\n                  layerId: this.currentlayer.id,\n                  field: this.select.field\n                });\n\n              case 4:\n                this.values = _context.sent;\n                _context.next = 9;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context['catch'](1);\n\n              case 9:\n                this.loading.values = false;\n                _context.next = 12;\n                return this.$nextTick();\n\n              case 12:\n                this.manualvalue = null;\n                this.manual = false;\n\n              case 14:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 7]]);\n      }));\n\n      function all() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return all;\n    }(),\n    reset: function reset() {\n      this.filter = '';\n      this.message = '';\n      this.filterElement.previous = null;\n      this.filterElement.current = null;\n      this.filterElement.operator = null;\n    },\n    test: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var layerId, number_of_features;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                layerId = this.currentlayer.id;\n\n                this.loading.test = true;\n                number_of_features = void 0;\n                _context2.prev = 3;\n                _context2.next = 6;\n                return _querybuilder2.default.test({\n                  layerId: layerId,\n                  filter: this.filter\n                });\n\n              case 6:\n                number_of_features = _context2.sent;\n\n                this.message = number_of_features !== undefined ? ' ' + number_of_features : '';\n                _context2.next = 13;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2['catch'](3);\n\n                this.message = _context2.t0;\n\n              case 13:\n                this.loading.test = false;\n                _context2.next = 16;\n                return this.$nextTick();\n\n              case 16:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 10]]);\n      }));\n\n      function test() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return test;\n    }(),\n    run: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var layerId, response;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layerId = this.currentlayer.id;\n\n                this.loading.test = true;\n                _context3.prev = 2;\n                _context3.next = 5;\n                return _querybuilder2.default.run({\n                  layerId: layerId,\n                  filter: this.filter\n                });\n\n              case 5:\n                response = _context3.sent;\n                _context3.next = 10;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3['catch'](2);\n\n              case 10:\n                this.loading.test = false;\n\n              case 11:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[2, 8]]);\n      }));\n\n      function run() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return run;\n    }(),\n    save: function save() {\n      _querybuilder2.default.save({\n        layerId: this.currentlayer.id,\n        filter: this.filter,\n        projectId: this.projectId,\n        name: this.edit && this.$options.options.name,\n        id: this.edit && this.$options.options.id\n      });\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.filterElement = {\n      current: null,\n      previous: null,\n      operator: null\n    };\n    var project = _projects2.default.getCurrentProject();\n    this.layers = project.getLayers().filter(function (layer) {\n      return !layer.baselayer && layer.geometrytype && layer.geometrytype !== 'NoGeometry' && Array.isArray(layer.fields);\n    }).map(function (layer) {\n      var relations = project.getRelationsByLayerId({\n        layerId: layer.id,\n        type: 'ONE'\n      });\n      var excludejoinfields = [];\n      relations.forEach(function (relation) {\n        var customPrefix = relation.customPrefix;\n\n        var joinLayer = project.getLayerById(relation.referencingLayer);\n        customPrefix = customPrefix === undefined ? joinLayer.getName() + '_' : customPrefix;\n        var joinLayerFields = joinLayer.getFields().map(function (field) {\n          return '' + customPrefix + field.name;\n        });\n        excludejoinfields = [].concat(_toConsumableArray(excludejoinfields), _toConsumableArray(joinLayerFields));\n      });\n      return {\n        id: layer.id,\n        label: layer.name,\n        fields: layer.fields.filter(function (field) {\n          return field.show;\n        }).map(function (_ref5) {\n          var label = _ref5.label,\n              name = _ref5.name;\n          return {\n            label: label,\n            name: name\n          };\n        }).filter(function (field) {\n          return excludejoinfields.indexOf(field) === -1;\n        })\n      };\n    });\n    this.operators = operators;\n    this.currentlayer = this.edit ? this.layers.find(function (layer) {\n      return layer.id === _this.$options.options.layerId;\n    }) : this.layers[0];\n  },\n  mounted: function () {\n    var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n      var _this2 = this;\n\n      var index;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.select2 = $('#query_builder_layers_select').select2({\n                width: '100%'\n              });\n              if (this.edit) {\n                index = this.layers.indexOf(this.currentlayer);\n\n                this.select2.val(index);\n                this.select2.trigger('change');\n              }\n              this.select2.on('select2:select', function (evt) {\n                _this2.currentlayer = _this2.layers[evt.params.data.id];\n                _this2.select.field = null;\n                _this2.select.value = null;\n                _this2.reset();\n              });\n\n            case 5:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function mounted() {\n      return _ref6.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.select2.select2('destroy');\n    this.select2 = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"flex-wrap\":\"nowrap !important\"},attrs:{\"id\":\"query_builder\"}},[_c('div',{attrs:{\"id\":\"query_builder_header\"}}),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_layers\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.layers'),expression:\"'sdk.querybuilder.panel.layers'\"}],staticClass:\"querybuilder-title\"}),_vm._v(\" \"),_c('select',{staticClass:\"form-control\",attrs:{\"id\":\"query_builder_layers_select\"}},_vm._l((_vm.layers),function(layer,index){return _c('option',{key:layer.label,staticClass:\"bold\",domProps:{\"value\":index}},[_vm._v(_vm._s(layer.label))])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_fields\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.fields'),expression:\"'sdk.querybuilder.panel.fields'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_fields_title\"}}),_vm._v(\" \"),_c('div',{staticClass:\"querybuilder-content\",attrs:{\"id\":\"query_builder_fields_content\"}},[_c('table',{staticClass:\"table table-striped content-table\"},[_c('tbody',_vm._l((_vm.fields),function(ref){\nvar name = ref.name;\nvar label = ref.label;\nreturn _c('tr',{key:name,class:{'skin-background-color lighten': _vm.select.field===name},staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.select.field = name},\"dblclick\":function($event){return _vm.addToExpression({value: name, type: 'field'})}}},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(label))])])}),0)])])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_values\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.values'),expression:\"'sdk.querybuilder.panel.values'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_values_title\"}}),_vm._v(\" \"),(!_vm.manual)?_c('div',{staticClass:\"querybuilder-content margin-between-element\",attrs:{\"id\":\"query_builder_values_content\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading.values}}),_vm._v(\" \"),_c('table',{staticClass:\"table table-striped content-table\"},[_c('tbody',[_vm._l((_vm.values),function(value){return _c('tr',{key:value,class:{'skin-background-color lighten': _vm.select.value===value},staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.select.value = value},\"dblclick\":function($event){return _vm.addToExpression({value: value, type: 'value'})}}},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(value))])])}),_vm._v(\" \"),_vm._m(0)],2)])],1):_c('div',{staticClass:\"margin-between-element\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"stretch\"},attrs:{\"id\":\"querybuilder-manual\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualvalue),expression:\"manualvalue\"}],staticClass:\"form-control\",staticStyle:{\"border\":\"0\"},attrs:{\"style\":\"border: 0;\"},domProps:{\"value\":(_vm.manualvalue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.manualvalue=$event.target.value}}}),_vm._v(\" \"),_c('span',{class:_vm.g3wtemplate.getFontClass('plus'),staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"1.2em\",\"background-color\":\"white\",\"color\":\"#000000\",\"padding\":\"9px\"},on:{\"click\":function($event){_vm.manualvalue && _vm.addToExpression({value: _vm.manualvalue, type: 'value'})}}})]),_vm._v(\" \"),_c('div',{staticClass:\"content-end skin-color\",attrs:{\"id\":\"query_builder_values_buttons\"}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.manual'),expression:\"'sdk.querybuilder.panel.button.manual'\"}],staticClass:\"query_builder_button btn btn-secondary bold \",class:{'skin-border-color' : _vm.manual},attrs:{\"id\":\"query_builder_values_buttons_sample\"},on:{\"click\":function($event){_vm.manual = true}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.all'),expression:\"'sdk.querybuilder.panel.button.all'\"}],staticClass:\"query_builder_button btn btn-secondary bold \",class:{'skin-border-color' : !_vm.manual},attrs:{\"id\":\"query_builder_values_buttons_all\",\"disabled\":_vm.select.field === null},on:{\"click\":_vm.all}})])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",staticStyle:{\"margin-top\":\"auto !important\"},attrs:{\"id\":\"query_builder_operators\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.operators'),expression:\"'sdk.querybuilder.panel.operators'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_operators_title\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content-wrap\",attrs:{\"id\":\"query_builder_operators_content\"}},_vm._l((_vm.operators),function(operator){return _c('button',{key:operator,staticClass:\"query_builder_button btn btn-secondary skin-color bold\",on:{\"click\":function($event){return _vm.addToExpression({value: operator, type: 'operator'})}}},[_vm._v(_vm._s(operator))])}),0)]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"query_builder_footer\"}},[_c('div',{attrs:{\"id\":\"query_builder_expression\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.expression'),expression:\"'sdk.querybuilder.panel.expression'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_expression_title\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"query_builder_expression_content\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter),expression:\"filter\"}],staticStyle:{\"width\":\"100%\",\"resize\":\"none\",\"height\":\"100px\",\"color\":\"#000000\"},domProps:{\"value\":(_vm.filter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.filter=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_message\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading.test}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.message),expression:\"message\"},{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.messages.number_of_features'),expression:\"'sdk.querybuilder.messages.number_of_features'\"}],staticClass:\"bold skin-color\"}),_c('span',{staticClass:\"bold skin-color\"},[_vm._v(_vm._s(_vm.message))])],1),_vm._v(\" \"),_c('div',{staticClass:\"content-end margin-between-element\",attrs:{\"id\":\"query_builder_footer_buttons\"}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.test'),expression:\"'sdk.querybuilder.panel.button.test'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.test}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.clear'),expression:\"'sdk.querybuilder.panel.button.clear'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",on:{\"click\":_vm.reset}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.run'),expression:\"'sdk.querybuilder.panel.button.run'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.run}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.save'),expression:\"'sdk.querybuilder.panel.button.save'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.save}})])])])}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',{attrs:{\"scope\":\"row\"}})])}]\n\n},{\"app/constant\":4,\"services/querybuilder\":365,\"store/projects\":378}],277:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar QueryBuilderUIFactory = require('gui/querybuilder/querybuilderuifactory');\n\nexports.default = {\n  name: \"g3w-querybuilder-search\",\n  props: {\n    querybuildersearch: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      loading: false,\n      showinfo: false\n    };\n  },\n\n  methods: {\n    remove: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _querybuilder2.default.delete(this.querybuildersearch);\n\n              case 3:\n                this.$emit('delete');\n                _context.next = 8;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context['catch'](0);\n\n              case 8:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 6]]);\n      }));\n\n      function remove() {\n        return _ref.apply(this, arguments);\n      }\n\n      return remove;\n    }(),\n    edit: function edit() {\n      QueryBuilderUIFactory.show({\n        options: {\n          id: this.querybuildersearch.id,\n          name: this.querybuildersearch.name,\n          layerId: this.querybuildersearch.layerId,\n          filter: this.querybuildersearch.filter\n        }\n      });\n    },\n    run: function run() {\n      var _this = this;\n\n      this.loading = true;\n      _querybuilder2.default.run({\n        layerId: this.querybuildersearch.layerId,\n        filter: this.querybuildersearch.filter\n      }).finally(function () {\n        _this.loading = false;\n      });\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"querybuliserch-tools\",staticStyle:{\"display\":\"flex\",\"align-items\":\"baseline\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('filter'),staticStyle:{\"margin-right\":\"14px\",\"margin-left\":\"1px\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.name))]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-left\":\"auto\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.run'),expression:\"'sdk.querybuilder.search.run'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('run'),staticStyle:{\"color\":\"green\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.run($event)}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.info'),expression:\"'sdk.querybuilder.search.info'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('info'),staticStyle:{\"color\":\"#FFFFFF\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();_vm.showinfo=!_vm.showinfo}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.edit'),expression:\"'sdk.querybuilder.search.edit'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('pencil'),staticStyle:{\"color\":\"#307095\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.edit($event)}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.delete'),expression:\"'sdk.querybuilder.search.delete'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.remove($event)}}})])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showinfo),expression:\"showinfo\"}],staticClass:\"querybuildsearch-info\",staticStyle:{\"margin-top\":\"5px\"}},[_c('div',[_c('span',{staticStyle:{\"font-weight\":\"bold\",\"white-space\":\"pre\"}},[_vm._v(\"LAYER: \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.layerName))])]),_vm._v(\" \"),_c('div',[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"EXPRESSION: \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.filter))])])])],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-4002ad61\"\n\n},{\"gui/querybuilder/querybuilderuifactory\":167,\"services/querybuilder\":365}],278:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nvar _QueryResultsTableAttributeFieldValue = require('components/QueryResultsTableAttributeFieldValue.vue');\n\nvar _QueryResultsTableAttributeFieldValue2 = _interopRequireDefault(_QueryResultsTableAttributeFieldValue);\n\nvar _QueryResultsActionInfoFormats = require('components/QueryResultsActionInfoFormats.vue');\n\nvar _QueryResultsActionInfoFormats2 = _interopRequireDefault(_QueryResultsActionInfoFormats);\n\nvar _QueryResultsHeaderFeatureBody = require('components/QueryResultsHeaderFeatureBody.vue');\n\nvar _QueryResultsHeaderFeatureBody2 = _interopRequireDefault(_QueryResultsHeaderFeatureBody);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar maxSubsetLength = 3;\nvar headerExpandActionCellWidth = 10;\nvar headerActionsCellWidth = 10;\nvar HEADERTYPESFIELD = ['varchar', 'integer', 'float', 'date'];\n\nexports.default = {\n  data: function data() {\n    return {\n      state: this.$options.queryResultsService.state,\n      headerExpandActionCellWidth: headerExpandActionCellWidth,\n      headerActionsCellWidth: headerActionsCellWidth\n    };\n  },\n\n  mixins: [_mixins.fieldsMixin],\n  components: {\n    TableAttributeFieldValue: _QueryResultsTableAttributeFieldValue2.default,\n    'infoformats': _QueryResultsActionInfoFormats2.default,\n    'header-feature-body': _QueryResultsHeaderFeatureBody2.default\n  },\n  computed: {\n    layersFeaturesBoxes: function layersFeaturesBoxes() {\n      return this.state.layersFeaturesBoxes;\n    },\n    onelayerresult: function onelayerresult() {\n      return this.state.layers.length === 1;\n    },\n    hasLayers: function hasLayers() {\n      return this.hasResults || !!this.state.components.length;\n    },\n    hasResults: function hasResults() {\n      return this.state.layers.length > 0;\n    },\n    info: function info() {\n      if (this.state.query) {\n        var query = this.state.query;\n        switch (query.type) {\n          case 'coordinates':\n            return {\n              icon: 'marker',\n              message: '  ' + query.coordinates[0] + ', ' + query.coordinates[1]\n            };\n          case 'bbox':\n            return {\n              icon: 'square',\n              message: '  [' + query.bbox.join(' , ') + ']'\n            };\n          case 'polygon':\n            return {\n              icon: 'draw',\n              message: query.layerName ? query.layerName + ' ' + (\"undefined\" !== typeof query.fid ? ' - Feature Id: ' + query.fid : '') : ' ' };\n          default:\n            console.warn('Unsupported query type:  ' + query.type);\n            break;\n        }\n      } else if (this.state.search) {}\n\n      return { icon: null, message: null };\n    }\n  },\n  methods: {\n    getLayerCustomComponents: function getLayerCustomComponents(layerId) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'feature';\n      var position = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'after';\n\n      return this.state.layerscustomcomponents[layerId] && this.state.layerscustomcomponents[layerId][type] && this.state.layerscustomcomponents[layerId][type][position] || [];\n    },\n    getLayerField: function getLayerField(_ref) {\n      var layer = _ref.layer,\n          feature = _ref.feature,\n          fieldName = _ref.fieldName;\n\n      var layerField = layer.attributes.find(function (attribute) {\n        return attribute.name === fieldName;\n      });\n      var field = _extends({}, layerField, {\n        label: null,\n        value: feature.attributes[fieldName]\n      });\n      return field;\n    },\n    getQueryFields: function getQueryFields(layer, feature) {\n      var fields = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = layer.formStructure.fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var field = _step.value;\n\n          var _field = _extends({}, field);\n          _field.query = true;\n          _field.value = feature.attributes[field.name];\n          _field.input = {\n            type: '' + this.getFieldType(_field)\n          };\n          fields.push(_field);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return fields;\n    },\n    getColSpan: function getColSpan(layer) {\n      return this.attributesSubsetLength(layer) + (this.state.layersactions[layer.id].length ? 1 : 0) + !this.hasLayerOneFeature(layer) * 1;\n    },\n    getDownloadActions: function getDownloadActions(layer) {\n      return this.state.layersactions[layer.id].find(function (action) {\n        return action.formats;\n      });\n    },\n    addLayerFeaturesToResults: function addLayerFeaturesToResults(layer) {\n      this.$options.queryResultsService.addLayerFeaturesToResultsAction(layer);\n    },\n    showDownloadAction: function showDownloadAction(evt) {\n      var display = evt.target.children[0].style.display;\n      evt.target.children[0].style.display = display === 'none' ? 'inline-block' : 'none';\n    },\n    printAtlas: function printAtlas(layer) {\n      this.$options.queryResultsService.printAtlas(layer);\n    },\n    showLayerDownloadFormats: function showLayerDownloadFormats(layer) {\n      this.$options.queryResultsService.showLayerDownloadFormats(layer);\n    },\n    saveLayerResult: function saveLayerResult(layer) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"csv\";\n\n      this.$options.queryResultsService.saveLayerResult({ layer: layer, type: type });\n    },\n    hasLayerOneFeature: function hasLayerOneFeature(layer) {\n      return layer.features.length === 1;\n    },\n    addRemoveFilter: function addRemoveFilter(layer) {\n      this.$options.queryResultsService.addRemoveFilter(layer);\n    },\n    getContainerFromFeatureLayer: function getContainerFromFeatureLayer() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          layer = _ref2.layer,\n          index = _ref2.index;\n\n      return $('#' + layer.id + '_' + index + ' > td');\n    },\n    hasOneLayerAndOneFeature: function hasOneLayerAndOneFeature(layer) {\n      return this.hasLayerOneFeature(layer);\n    },\n    hasFormStructure: function hasFormStructure(layer) {\n      return !!layer.formStructure;\n    },\n    layerHasFeatures: function layerHasFeatures(layer) {\n      return layer.features && layer.features.length > 0 ? true : false;\n    },\n    selectionFeaturesLayer: function selectionFeaturesLayer(layer) {\n      this.$options.queryResultsService.selectionFeaturesLayer(layer);\n    },\n    layerHasActions: function layerHasActions(layer) {\n      return this.state.layersactions[layer.id].length > 0;\n    },\n    featureHasActions: function featureHasActions(layer, feature) {\n      return this.geometryAvailable(feature);\n    },\n    geometryAvailable: function geometryAvailable(feature) {\n      return feature.geometry ? true : false;\n    },\n    extractAttributesFromFirstTabOfFormStructureLayers: function extractAttributesFromFirstTabOfFormStructureLayers(layer) {\n      var _this = this;\n\n      var attributes = new Set();\n      var traverseStructure = function traverseStructure(item) {\n        if (item.nodes) item.nodes.forEach(function (node) {\n          return traverseStructure(node);\n        });else {\n          var field = layer.formStructure.fields.find(function (field) {\n            return field.name === item.field_name;\n          });\n          if (field) {\n            if (_this.state.type === 'ows') {\n              field = _extends({}, field);\n              field.name = field.name.replace(/ /g, '_');\n            }\n            attributes.add(field);\n          }\n        }\n      };\n      layer.formStructure.structure.length && layer.formStructure.structure.forEach(function (structure) {\n        return traverseStructure(structure);\n      });\n      return Array.from(attributes);\n    },\n    attributesSubset: function attributesSubset(layer) {\n      var attributes = this.hasFormStructure(layer) ? this.extractAttributesFromFirstTabOfFormStructureLayers(layer) : layer.attributes;\n      var _attributes = attributes.filter(function (attribute) {\n        return attribute.show && HEADERTYPESFIELD.indexOf(attribute.type) !== -1;\n      });\n      var end = Math.min(maxSubsetLength, attributes.length);\n      return _attributes.slice(0, end);\n    },\n    relationsAttributesSubset: function relationsAttributesSubset(relationAttributes) {\n      var attributes = [];\n      _.forEach(relationAttributes, function (value, attribute) {\n        if (Array.isArray(value)) return;\n        attributes.push({ label: attribute, value: value });\n      });\n      var end = Math.min(maxSubsetLength, attributes.length);\n      return attributes.slice(0, end);\n    },\n    relationsAttributes: function relationsAttributes(relationAttributes) {\n      var attributes = [];\n      _.forEach(relationAttributes, function (value, attribute) {\n        attributes.push({ label: attribute, value: value });\n      });\n      return attributes;\n    },\n    attributesSubsetLength: function attributesSubsetLength(layer) {\n      return this.attributesSubset(layer).length;\n    },\n    cellWidth: function cellWidth(index, layer) {\n      var headerLength = maxSubsetLength + this.state.layersactions[layer.id].length;\n      var subsetLength = this.attributesSubsetLength(layer);\n      var diff = headerLength - subsetLength;\n      var actionsCellWidth = layer.hasgeometry ? headerActionsCellWidth : 0;\n      var headerAttributeCellTotalWidth = 100 - headerExpandActionCellWidth - actionsCellWidth;\n      var baseCellWidth = headerAttributeCellTotalWidth / maxSubsetLength;\n      if (index === subsetLength - 1 && diff > 0) return baseCellWidth * (diff + 1);else return baseCellWidth;\n    },\n    featureBoxColspan: function featureBoxColspan(layer) {\n      var colspan = this.attributesSubsetLength(layer);\n      if (layer.expandable) colspan += 1;\n      if (layer.hasgeometry) colspan += 1;\n      return colspan;\n    },\n    relationsAttributesSubsetLength: function relationsAttributesSubsetLength(elements) {\n      return this.relationsAttributesSubset(elements).length;\n    },\n    getLayerFormStructure: function getLayerFormStructure(layer) {\n      return layer.formStructure.structure;\n    },\n    isAttributeOrTab: function isAttributeOrTab(layer, item) {\n      var isField = item.field_name !== undefined;\n      return {\n        type: isField && 'field' || 'tab',\n        item: isField && this.getLayerAttributeFromStructureItem(layer, item.field_name) || [item]\n      };\n    },\n    getLayerAttributeFromStructureItem: function getLayerAttributeFromStructureItem(layer, field_name) {\n      return layer.attributes.find(function (attribute) {\n        return attribute.name === field_name;\n      });\n    },\n    getLayerFeatureBox: function getLayerFeatureBox(layer, feature, relation_index) {\n      var _this2 = this;\n\n      var boxid = this.getBoxId(layer, feature, relation_index);\n      if (this.layersFeaturesBoxes[boxid] === undefined) {\n        this.layersFeaturesBoxes[boxid] = Vue.observable({\n          collapsed: true\n        });\n        this.$watch(function () {\n          return _this2.layersFeaturesBoxes[boxid].collapsed;\n        }, function (collapsed) {\n          var index = layer.features.findIndex(function (_feature) {\n            return feature.id === _feature.id;\n          });\n          var container = _this2.getContainerFromFeatureLayer({\n            layer: layer,\n            index: index\n          });\n          _this2.$options.queryResultsService.openCloseFeatureResult({\n            open: !collapsed,\n            layer: layer,\n            feature: feature,\n            container: container\n          });\n        });\n        this.layersFeaturesBoxes[boxid].collapsed = layer.features.length > 1;\n      }\n      return this.layersFeaturesBoxes[boxid];\n    },\n    collapsedFeatureBox: function collapsedFeatureBox(layer, feature, relation_index) {\n      var boxid = this.getBoxId(layer, feature, relation_index);\n      return this.layersFeaturesBoxes[boxid] ? this.layersFeaturesBoxes[boxid].collapsed : true;\n    },\n    showFeatureInfo: function showFeatureInfo(layer, boxid) {\n      this.$options.queryResultsService.emit('show-query-feature-info', {\n        layer: layer,\n        tabs: this.hasFormStructure(layer),\n        show: this.layersFeaturesBoxes[boxid] ? !this.layersFeaturesBoxes[boxid].collapsed : false\n      });\n    },\n    getBoxId: function getBoxId(layer, feature, relation_index) {\n      return this.$options.queryResultsService.getBoxId(layer, feature, relation_index);\n    },\n    toggleFeatureBox: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(layer, feature, relation_index) {\n        var boxid;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                boxid = this.getBoxId(layer, feature, relation_index);\n\n                this.layersFeaturesBoxes[boxid].collapsed = !this.layersFeaturesBoxes[boxid].collapsed;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                this.showFeatureInfo(layer, boxid);\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function toggleFeatureBox(_x5, _x6, _x7) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return toggleFeatureBox;\n    }(),\n    toggleFeatureBoxAndZoom: function toggleFeatureBoxAndZoom(layer, feature, relation_index) {\n      !this.hasLayerOneFeature(layer) && this.toggleFeatureBox(layer, feature, relation_index);\n    },\n    trigger: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(action, layer, feature, index) {\n        var container;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(action.opened && $('#' + layer.id + '_' + index).css('display') === 'none')) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                this.toggleFeatureBox(layer, feature);\n                _context2.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                container = this.getContainerFromFeatureLayer({ layer: layer, index: index });\n                _context2.next = 7;\n                return this.$options.queryResultsService.trigger(action.id, layer, feature, index, container);\n\n              case 7:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function trigger(_x8, _x9, _x10, _x11) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return trigger;\n    }(),\n    showFullPhoto: function showFullPhoto(url) {\n      this.$options.queryResultsService.showFullPhoto(url);\n    },\n    openLink: function openLink(link_url) {\n      window.open(link_url, '_blank');\n    }\n  },\n  watch: {\n    'state.layers': function () {\n      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(layers) {\n        var _this3 = this;\n\n        var layer, feature, boxid;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layers.forEach(function (layer) {\n                  if (layer.attributes.length <= maxSubsetLength && !layer.hasImageField) layer.expandable = false;\n                  layer.features.forEach(function (feature) {\n                    _this3.getLayerFeatureBox(layer, feature);\n                    if (feature.attributes.relations) {\n                      var relations = feature.attributes.relations;\n                      relations.forEach(function (relation) {\n                        var boxid = layer.id + '_' + feature.id + '_' + relation.name;\n                        var elements = relation.elements;\n                        elements.forEach(function (element, index) {\n                          _this3.layersFeaturesBoxes[boxid + index] = {\n                            collapsed: true\n                          };\n                        });\n                      });\n                    }\n                  });\n                });\n\n                this.onelayerresult = layers.length === 1;\n\n                if (this.onelayerresult && this.hasLayerOneFeature(layers[0])) {\n                  layer = layers[0];\n                  feature = layer.features[0];\n                  boxid = this.getBoxId(layer, feature);\n\n                  this.$options.queryResultsService.onceafter('postRender', function () {\n                    _this3.showFeatureInfo(layer, boxid);\n                  });\n                }\n                requestAnimationFrame(function () {\n                  return _this3.$options.queryResultsService.postRender(_this3.$el);\n                });\n                _context3.next = 6;\n                return this.$nextTick();\n\n              case 6:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function stateLayers(_x12) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return stateLayers;\n    }(),\n    onelayerresult: function onelayerresult(bool) {\n      bool && this.$options.queryResultsService.highlightFeaturesPermanently(this.state.layers[0]);\n    }\n  },\n  created: function created() {\n    var _this4 = this;\n\n    this.zoomToLayerFeaturesExtent = throttle(function (layer) {\n      _this4.$options.queryResultsService.zoomToLayerFeaturesExtent(layer, {\n        highlight: true\n      });\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.state.zoomToResult = true;\n    this.layersFeaturesBoxes = null;\n  },\n  destroyed: function destroyed() {\n    this.$options.queryResultsService.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"queryresults-wrapper\",attrs:{\"id\":\"search-results\"}},[(_vm.info.message)?_c('div',{staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"margin-bottom\":\"3px\",\"font-size\":\"1.1em\"}},[(_vm.info.icon)?_c('span',{staticClass:\"action-button skin-tooltip-bottom\",class:_vm.g3wtemplate.getFontClass(_vm.info.icon)}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.info.message))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"queryresults-container\"},[(_vm.state.layers.length)?[(_vm.hasLayers)?_c('ul',{staticClass:\"queryresults\",staticStyle:{\"position\":\"relative\"},attrs:{\"id\":\"queryresults\"}},[_vm._l((_vm.state.layers),function(layer){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.layerHasFeatures(layer) || layer.rawdata) && layer.show),expression:\"(layerHasFeatures(layer) || layer.rawdata) && layer.show\"}]},[_c('bar-loader',{attrs:{\"loading\":layer.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"box box-primary\"},[_c('div',{staticClass:\"box-header with-border\",class:{'mobile': _vm.isMobile()},attrs:{\"data-widget\":\"collapse\"}},[_c('div',{staticClass:\"box-title query-layer-title\",style:({fontSize: _vm.isMobile() && '1em !important'})},[_vm._v(_vm._s(layer.title)+\"\\n                \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!layer.rawdata),expression:\"!layer.rawdata\"}],staticClass:\"query-layer-feature-count\"},[_vm._v(\"(\"+_vm._s(layer.features.length)+\")\")])]),_vm._v(\" \"),_c('div',{staticClass:\"box-features-action\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('infoformats',{attrs:{\"layer\":layer}}),_vm._v(\" \"),(layer.features.length > 1)?[(layer.hasgeometry)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.zoom_to_features_extent.hint'),expression:\"'sdk.mapcontrols.query.actions.zoom_to_features_extent.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.zoomToLayerFeaturesExtent(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('marker')})]):_vm._e(),_vm._v(\" \"),(layer.atlas.length)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.atlas.hint'),expression:\"'sdk.mapcontrols.query.actions.atlas.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.printAtlas(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('print')})]):_vm._e(),_vm._v(\" \"),(layer.downloads.length === 1)?[_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:((\"sdk.mapcontrols.query.actions.download_features_\" + (layer.downloads[0]) + \".hint\")),expression:\"`sdk.mapcontrols.query.actions.download_features_${layer.downloads[0]}.hint`\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer[layer.downloads[0]].active}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('download'),on:{\"click\":function($event){$event.stopPropagation();return _vm.saveLayerResult(layer, layer.downloads[0])}}})])]:(layer.downloads.length > 1)?[_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('Downloads'),expression:\"'Downloads'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer.downloadformats.active}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('download'),on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayerDownloadFormats(layer)}}})])]:_vm._e()]:_vm._e(),_vm._v(\" \"),(layer.external || (layer.source && layer.source.type !== 'wms'))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.add_features_to_results.hint'),expression:\"'sdk.mapcontrols.query.actions.add_features_to_results.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer.addfeaturesresults.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.addLayerFeaturesToResults(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('plus-square')})]):_vm._e(),_vm._v(\" \"),(layer.features.length > 1 && (layer.external || (layer.source && layer.source.type !== 'wms')))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.add_selection.hint'),expression:\"'sdk.mapcontrols.query.actions.add_selection.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left\",class:{'toggled': layer.selection.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.selectionFeaturesLayer(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('success')})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(layer.selection.active && !layer.external),expression:\"layer.selection.active && !layer.external\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left\",class:{'toggled': layer.filter.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.addRemoveFilter(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('filter')})])],2),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-box-tool\",attrs:{\"data-widget\":\"collapse\"}},[_c('i',{staticClass:\"btn-collapser skin-color\",class:_vm.g3wtemplate.font['minus']})])]),_vm._v(\" \"),(_vm.state.layeractiontool[layer.id].component)?[_c('div',{staticClass:\"g3w-layer-action-tools with-border\",class:{'mobile': _vm.isMobile()},staticStyle:{\"padding\":\"5px\"}},[_c(_vm.state.layeractiontool[layer.id].component,{tag:\"component\",attrs:{\"layer\":layer,\"config\":_vm.state.layeractiontool[layer.id].config}})],1)]:_vm._e(),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'layer', 'before')),function(ref){\nvar component = ref.component;\nreturn _c(component,{tag:\"component\",attrs:{\"layer\":layer}})}),_vm._v(\" \"),_c('div',{staticClass:\"box-body\",class:{'mobile': _vm.isMobile()}},[(layer.rawdata)?[_c('div',{staticClass:\"queryresults-text-html\",class:{text: layer.infoformat === 'text/plain'},domProps:{\"innerHTML\":_vm._s(layer.rawdata)}})]:(_vm.hasFormStructure(layer))?[_c('table',{staticClass:\"table\",class:{'mobile': _vm.isMobile()}},[_c('thead',[_c('tr',[(_vm.state.layersactions[layer.id].length)?_c('th',{style:({width: ((_vm.state.layersactions[layer.id].length *26) + \"px\"), maxWidth:((_vm.state.layersactions[layer.id].length * 26) + \"px\")})}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.attributesSubset(layer)),function(attribute,index){return _c('th',{staticClass:\"centered\"},[_vm._v(_vm._s(attribute.label))])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(layer))?_c('th',{staticClass:\"collapsed\"}):_vm._e()],2)]),_vm._v(\" \"),_c('tbody',[_vm._l((layer.features),function(feature,index){return (feature.show)?[_c('header-feature-body',{attrs:{\"actions\":_vm.state.layersactions[layer.id],\"layer\":layer,\"feature\":feature,\"index\":index,\"onelayerresult\":_vm.onelayerresult,\"trigger\":_vm.trigger,\"toggleFeatureBoxAndZoom\":_vm.toggleFeatureBoxAndZoom,\"hasLayerOneFeature\":_vm.hasLayerOneFeature,\"boxLayerFeature\":_vm.getLayerFeatureBox(layer, feature),\"attributesSubset\":_vm.attributesSubset,\"getLayerField\":_vm.getLayerField}}),_vm._v(\" \"),_c('tr',{staticClass:\"g3w-feature-result-action-tools\"},[(_vm.state.currentactiontools[layer.id][index])?[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(_vm.state.currentactiontools[layer.id][index],{tag:\"component\",attrs:{\"colspan\":_vm.getColSpan(layer),\"layer\":layer,\"feature\":feature,\"featureIndex\":index,\"config\":_vm.state.actiontools[_vm.state.currentactiontools[layer.id][index].name][layer.id]}})],1)]:_vm._e()],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'before')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])}),_vm._v(\" \"),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.collapsedFeatureBox(layer,feature) || _vm.hasOneLayerAndOneFeature(layer)),expression:\"!collapsedFeatureBox(layer,feature) || hasOneLayerAndOneFeature(layer)\"}],staticClass:\"featurebox-body\",attrs:{\"id\":((layer.id) + \"_\" + index)}},[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c('tabs',{attrs:{\"fields\":_vm.getQueryFields(layer, feature),\"layerid\":layer.id,\"feature\":feature,\"tabs\":_vm.getLayerFormStructure(layer)}})],1)]),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])})]:_vm._e()})],2)])]:_c('table',{staticClass:\"table\",class:{'mobile': _vm.isMobile()}},[_c('thead',[_c('tr',[(_vm.state.layersactions[layer.id].length)?_c('th',{style:({width: ((_vm.state.layersactions[layer.id].length *26) + \"px\"), maxWidth:((_vm.state.layersactions[layer.id].length * 26) + \"px\")})}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.attributesSubset(layer)),function(attribute,index){return _c('th',{staticClass:\"centered\"},[_vm._v(_vm._s(attribute.label))])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(layer))?_c('th',{staticClass:\"collapsed\"}):_vm._e()],2)]),_vm._v(\" \"),_vm._l((layer.features),function(feature,index){return (feature.show)?_c('tbody',{key:feature.id},[_c('header-feature-body',{attrs:{\"actions\":_vm.state.layersactions[layer.id],\"layer\":layer,\"feature\":feature,\"index\":index,\"onelayerresult\":_vm.onelayerresult,\"trigger\":_vm.trigger,\"toggleFeatureBoxAndZoom\":_vm.toggleFeatureBoxAndZoom,\"hasLayerOneFeature\":_vm.hasLayerOneFeature,\"boxLayerFeature\":_vm.getLayerFeatureBox(layer, feature),\"attributesSubset\":_vm.attributesSubset,\"getLayerField\":_vm.getLayerField}}),_vm._v(\" \"),_c('tr',{staticClass:\"g3w-feature-result-action-tools\"},[(_vm.state.currentactiontools[layer.id][index])?[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(_vm.state.currentactiontools[layer.id][index],{tag:\"component\",attrs:{\"colspan\":_vm.getColSpan(layer),\"layer\":layer,\"feature\":feature,\"featureIndex\":index,\"config\":_vm.state.actiontools[_vm.state.currentactiontools[layer.id][index].name][layer.id]}})],1)]:_vm._e()],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'before')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":\"getColSpan(layer)\"}},[_c(component,{tag:\"component\",staticClass:\"box-body\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])}),_vm._v(\" \"),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.collapsedFeatureBox(layer,feature) || _vm.hasOneLayerAndOneFeature(layer)),expression:\"!collapsedFeatureBox(layer,feature) || hasOneLayerAndOneFeature(layer)\"}],staticClass:\"featurebox-body\",attrs:{\"id\":((layer.id) + \"_\" + index)}},[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c('table',{staticClass:\"feature_attributes\"},_vm._l((layer.attributes.filter(function (attribute) { return attribute.show; })),function(attribute){return _c('tr',[_c('td',{staticClass:\"attr-label\"},[_vm._v(_vm._s(attribute.label))]),_vm._v(\" \"),_c('td',{staticClass:\"attr-value\",attrs:{\"attribute\":attribute.name}},[_c('table-attribute-field-value',{attrs:{\"feature\":feature,\"field\":_vm.getLayerField({layer: layer, feature: feature, fieldName: attribute.name})}})],1)])}),0)])]),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":\"getColSpan(layer)\"}},[_c(component,{tag:\"component\",staticClass:\"box-body\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])})],2):_c('tbody')})],2)],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'layer', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('div',{staticClass:\"box-body\",class:{'mobile': _vm.isMobile()}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer}})],1)})],2)],1)}),_vm._v(\" \"),_vm._l((_vm.state.components),function(component){return _c('li',[_c(component,{tag:\"component\",on:{\"showresults\":function($event){return _vm.showResults()}}})],1)})],2):_vm._e()]:[(_vm.state.changed)?_c('div',{staticClass:\"query-results-not-found\"},[_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('info.no_results'),expression:\"'info.no_results'\"}],staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"text-align\":\"center\"}})]):_vm._e()]],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/QueryResultsActionInfoFormats.vue\":281,\"components/QueryResultsHeaderFeatureBody.vue\":284,\"components/QueryResultsTableAttributeFieldValue.vue\":285,\"core/utils/utils\":67,\"mixins\":342}],279:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"action\",\n  data: function data() {\n    return {\n      show: true\n    };\n  },\n\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    trigger: {\n      type: Function\n    },\n    action: {\n      type: Object,\n      required: true\n    }\n  },\n  methods: {\n    clickAction: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(action, layer, feature, featureIndex, event) {\n        var element, originalDataTitle;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.trigger(action, layer, feature, featureIndex);\n\n              case 2:\n                if (action.hint_change) {\n                  element = $(event.target).parent();\n                  originalDataTitle = element.attr('data-original-title');\n\n                  element.attr('data-original-title', t(action.hint_change.hint));\n                  element.tooltip('show');\n                  setTimeout(function () {\n                    element.attr('data-original-title', originalDataTitle);\n                    element.tooltip('show');\n                  }, action.hint_change.duration || 600);\n                }\n                this.$emit('action-clicked', action);\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function clickAction(_x, _x2, _x3, _x4, _x5) {\n        return _ref.apply(this, arguments);\n      }\n\n      return clickAction;\n    }()\n  },\n  created: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var show;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.action.init && this.action.init({ layer: this.layer, feature: this.feature, index: this.featureIndex, action: this.action });\n\n              if (!(typeof this.action.condition === 'function')) {\n                _context2.next = 11;\n                break;\n              }\n\n              show = this.action.condition({ layer: this.layer, feature: this.feature });\n\n              if (!(show instanceof Promise)) {\n                _context2.next = 9;\n                break;\n              }\n\n              _context2.next = 6;\n              return show;\n\n            case 6:\n              _context2.t0 = _context2.sent;\n              _context2.next = 10;\n              break;\n\n            case 9:\n              _context2.t0 = show;\n\n            case 10:\n              this.show = _context2.t0;\n\n            case 11:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function created() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('.action-button[data-toggle=\"tooltip\"]').tooltip();\n\n            case 3:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\",value:(_vm.action.download),expression:\"action.download\"},{name:\"t-title\",rawName:\"v-t-title\",value:(_vm.action.hint),expression:\"action.hint\"}],staticClass:\"action-button skin-tooltip-right\",class:{'toggled': _vm.action.state && _vm.action.state.toggled[_vm.featureIndex] },attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();},\"click\":function($event){$event.stopPropagation();return _vm.clickAction(_vm.action, _vm.layer, _vm.feature, _vm.featureIndex, $event)}}},[_c('span',{class:(\"action-button-icon \" + (_vm.action.class)),staticStyle:{\"padding\":\"2px\"},style:(_vm.action.style)})]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-8bfeb4ec\"\n\n},{\"core/i18n/i18n.service\":13}],280:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: \"downloadformats\",\n  data: function data() {\n    var download_format = this.config.downloads[0].format;\n    return {\n      download_format: download_format\n    };\n  },\n\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    config: {\n      type: Object,\n      default: null\n    }\n  },\n  methods: {\n    download: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var _download;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _download = this.config.downloads.find(function (action) {\n                  return action.format === _this.download_format;\n                });\n                _context.next = 4;\n                return _download.cbk(this.layer, this.feature ? this.feature : this.layer.features, _download, this.featureIndex);\n\n              case 4:\n                _context.next = 8;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 6]]);\n      }));\n\n      function download() {\n        return _ref.apply(this, arguments);\n      }\n\n      return download;\n    }()\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-download-formats-content\",staticStyle:{\"width\":\"100%\",\"display\":\"flex\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('download_format'),expression:\"'download_format'\"}],staticClass:\"form-control\",staticStyle:{\"flex-grow\":\"1\"},attrs:{\"search\":false}},_vm._l((_vm.config.downloads),function(download){return _c('option',{directives:[{name:\"download\",rawName:\"v-download\"}],key:download.id,domProps:{\"value\":download.format}},[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(download.format))])])}),0),_vm._v(\" \"),_c('button',{directives:[{name:\"download\",rawName:\"v-download\"}],staticClass:\"btn skin-button\",staticStyle:{\"border-radius\":\"0 3px 3px 0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.download($event)}}},[_c('span',{class:_vm.g3wtemplate.getFontClass('download')})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-72d7b8fa\"\n\n},{}],281:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/parsers'),\n    responseParser = _require.response;\n\nvar _require2 = require('core/utils/geo'),\n    getAlphanumericPropertiesFromFeature = _require2.getAlphanumericPropertiesFromFeature,\n    query = _require2.query;\n\nexports.default = {\n    name: 'Infoformats',\n    props: {\n        layer: {\n            type: Object,\n            required: true\n        }\n    },\n    data: function data() {\n        return {\n            infoformat: this.layer.infoformat\n        };\n    },\n\n    computed: {\n        infoformats: function infoformats() {\n            return this.layer.infoformats || [];\n        }\n    },\n    methods: {\n        reloadLayerDataWithChangedContentType: function () {\n            var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(contenttype) {\n                var _this = this;\n\n                var queryService, response, _responseParser$get, _responseParser$get2, data;\n\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                queryService = _gui2.default.getService('queryresults');\n\n                                this.layer.loading = true;\n                                _context.prev = 2;\n                                _context.next = 5;\n                                return this.projectLayer.changeProxyDataAndReloadFromServer('wms', {\n                                    headers: {\n                                        'Content-Type': contenttype\n                                    },\n                                    params: {\n                                        INFO_FORMAT: contenttype\n                                    }\n                                });\n\n                            case 5:\n                                response = _context.sent;\n\n                                this.layer.infoformat = contenttype;\n                                this.projectLayer.setInfoFormat(this.layer.infoformat);\n                                _responseParser$get = responseParser.get(contenttype)({\n                                    layers: [this.projectLayer],\n                                    response: response\n                                }), _responseParser$get2 = _slicedToArray(_responseParser$get, 1), data = _responseParser$get2[0];\n\n                                if (!data.features) {\n                                    _context.next = 14;\n                                    break;\n                                }\n\n                                this.layer.rawdata = null;\n                                data.features.forEach(function (feature) {\n                                    var _queryService$getFeat = queryService.getFeaturePropertiesAndGeometry(feature),\n                                        fid = _queryService$getFeat.id,\n                                        geometry = _queryService$getFeat.geometry,\n                                        attributes = _queryService$getFeat.properties;\n\n                                    if (_this.layer.attributes.length === 0) {\n                                        _this.layer.hasgeometry = !!geometry;\n\n                                        queryService.setActionsForLayers([_this.layer]);\n                                        getAlphanumericPropertiesFromFeature(attributes).forEach(function (name) {\n                                            _this.layer.attributes.push({\n                                                name: name,\n                                                label: name,\n                                                show: true\n                                            });\n                                        });\n                                    }\n                                    var queryFeature = {\n                                        id: fid,\n                                        attributes: attributes,\n                                        geometry: geometry,\n                                        show: true\n                                    };\n                                    queryFeature.show = true;\n                                    _this.layer.features.push(queryFeature);\n                                });\n                                _context.next = 18;\n                                break;\n\n                            case 14:\n                                this.layer.features.splice(0);\n                                _context.next = 17;\n                                return this.$nextTick();\n\n                            case 17:\n                                this.layer.rawdata = data.rawdata;\n\n                            case 18:\n                                _context.next = 23;\n                                break;\n\n                            case 20:\n                                _context.prev = 20;\n                                _context.t0 = _context['catch'](2);\n\n                                console.log(_context.t0);\n\n                            case 23:\n                                this.layer.loading = false;\n\n                            case 24:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this, [[2, 20]]);\n            }));\n\n            function reloadLayerDataWithChangedContentType(_x) {\n                return _ref.apply(this, arguments);\n            }\n\n            return reloadLayerDataWithChangedContentType;\n        }()\n    },\n    watch: {\n        'infoformat': function infoformat(value) {\n            this.reloadLayerDataWithChangedContentType(value);\n        }\n    },\n    created: function created() {\n        this.projectLayer = _catalogLayers2.default.getLayerById(this.layer.id);\n    },\n    beforeDestroy: function beforeDestroy() {\n        this.projectLayer && this.projectLayer.clearProxyData('wms');\n        this.projectLayer = null;\n    }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.infoformats.length)?_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('infoformat'),expression:\"'infoformat'\"}],staticClass:\"skin-color\",attrs:{\"select2_value\":_vm.infoformat,\"search\":false}},_vm._l((_vm.infoformats),function(infoformat){return _c('option',{key:infoformat,domProps:{\"value\":infoformat}},[_vm._v(_vm._s(infoformat))])}),0):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/geo\":64,\"core/utils/parsers\":66,\"services/gui\":360,\"store/catalog-layers\":373}],282:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-polygonattributes-types-title[data-v-7fd19c11]{font-weight:700;padding:3px;color:#fff;margin:0 0 5px}.g3w-polygonattributes-types-content[data-v-7fd19c11]{display:flex;justify-content:space-between;padding:3px;border-radius:3px;border:1px solid #f4f4f4}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"querypolygonaddattributes\",\n  props: {\n    layer: {\n      type: Object\n    },\n    config: {\n      type: Object,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      type: this.config.choices[0].type\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.unwatch = this.$watch(function () {\n      return _applicationState2.default.language;\n    }, function () {\n      _this.config.choices.forEach(function (choice) {\n        return $(_this.$refs[choice.type]).text(t(choice.label));\n      });\n      $(_this.$refs.g3w_select_feature_featurepolygon).select2().trigger('change');\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unwatch && this.unwatch();\n    this.unwatch = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\"}},[_c('h5',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.mapcontrols.querybypolygon.download.title'),expression:\"'sdk.mapcontrols.querybypolygon.download.title'\"}],staticClass:\"skin-background-color g3w-polygonattributes-types-title\"}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-polygonattributes-types-content\"},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('type'),expression:\"'type'\"}],ref:\"g3w_select_feature_featurepolygon\",staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"},attrs:{\"search\":false}},_vm._l((_vm.config.choices),function(choice){return _c('option',{directives:[{name:\"t\",rawName:\"v-t\",value:(choice.label),expression:\"choice.label\"}],key:choice.type,ref:choice.type,refInFor:true,domProps:{\"value\":choice.type}})}),0),_vm._v(\" \"),_c('button',{staticClass:\"btn skin-button\",staticStyle:{\"border-radius\":\"0 3px 3px 0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.config.download(_vm.type)}}},[_c('span',{class:_vm.g3wtemplate.getFontClass('download')})])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-7fd19c11\"\n\n},{\"core/i18n/i18n.service\":13,\"store/application-state\":372,\"vueify/lib/insert-css\":1}],283:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _QueryResultsAction = require(\"components/QueryResultsAction.vue\");\n\nvar _QueryResultsAction2 = _interopRequireDefault(_QueryResultsAction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"actions\",\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    trigger: {\n      type: Function\n    },\n    actions: {\n      type: Array,\n      default: []\n    }\n  },\n  components: {\n    action: _QueryResultsAction2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.actions.length)?_c('td',{staticClass:\"g3w-feature-actions\"},_vm._l((_vm.actions),function(action){return _c('action',_vm._b({key:action.id,attrs:{\"action\":action}},'action',_vm.$props,false))}),1):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-ec80a64e\"\n\n},{\"components/QueryResultsAction.vue\":279}],284:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".noAttributes[data-v-137530c7]{display:flex;justify-content:flex-end}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _QueryResultsActions = require('components/QueryResultsActions.vue');\n\nvar _QueryResultsActions2 = _interopRequireDefault(_QueryResultsActions);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"headerfeaturebody\",\n  mixins: [_mixins.fieldsMixin],\n  props: {\n    toggleFeatureBoxAndZoom: {\n      type: Function\n    },\n    trigger: {\n      type: Function\n    },\n    hasLayerOneFeature: {\n      type: Function\n    },\n    boxLayerFeature: {\n      type: Object\n    },\n    getLayerField: {\n      type: Function\n    },\n    attributesSubset: {\n      type: Function\n    },\n    layer: {\n      type: Object\n    },\n    feature: {\n      type: Object\n    },\n    index: {\n      type: Number\n    },\n    actions: {\n      type: Array\n    }\n  },\n  components: {\n    actions: _QueryResultsActions2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{staticClass:\"featurebox-header\",class:[_vm.boxLayerFeature.collapsed ? '' : 'featurebox-header-open'],on:{\"click\":function($event){return _vm.toggleFeatureBoxAndZoom(_vm.layer,_vm.feature)},\"mouseover\":function($event){return _vm.trigger({id:'highlightgeometry'}, _vm.layer, _vm.feature, _vm.index)},\"mouseout\":function($event){return _vm.trigger({id:'clearHighlightGeometry'}, _vm.layer, _vm.feature, _vm.index)}}},[_c('actions',{attrs:{\"layer\":_vm.layer,\"featureIndex\":_vm.index,\"trigger\":_vm.trigger,\"feature\":_vm.feature,\"actions\":_vm.actions}}),_vm._v(\" \"),_vm._l((_vm.attributesSubset(_vm.layer)),function(attribute){return _c('td',{staticClass:\"attribute\"},[(_vm.isLink(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('link')}):(_vm.isPhoto(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('image')}):(_vm.isImage(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('image')}):_c('span',[_vm._v(_vm._s(_vm.feature.attributes[attribute.name]))])])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(_vm.layer))?_c('td',{staticClass:\"collapsed\",class:{noAttributes: _vm.attributesSubset(_vm.layer).length === 0}},[_c('span',{staticClass:\"fa link morelink skin-color\",class:[_vm.boxLayerFeature.collapsed ? _vm.g3wtemplate.font['plus'] : _vm.g3wtemplate.font['minus']]})]):_vm._e()],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-137530c7\"\n\n},{\"components/QueryResultsActions.vue\":283,\"mixins\":342,\"vueify/lib/insert-css\":1}],285:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FieldLink = require('components/FieldLink.vue');\n\nvar _FieldLink2 = _interopRequireDefault(_FieldLink);\n\nvar _FieldVue = require('components/FieldVue.vue');\n\nvar _FieldVue2 = _interopRequireDefault(_FieldVue);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"tableattributefieldvalue\",\n  props: {\n    field: {\n      type: Object\n    },\n    feature: {\n      type: Object\n    }\n  },\n  mixins: [_mixins.fieldsMixin],\n  components: {\n    'g3w-link': _FieldLink2.default,\n    'g3w-vue': _FieldVue2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isVue(_vm.field))?_c('g3w-vue',{attrs:{\"feature\":_vm.feature,\"state\":_vm.field}}):(_vm.isSimple(_vm.field))?_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.field.value)}}):(_vm.isPhoto(_vm.field))?_c('g3w-image',{attrs:{\"value\":_vm.field.value}}):(_vm.isImage(_vm.field))?_c('g3w-image',{attrs:{\"value\":_vm.field.value}}):(_vm.isLink(_vm.field))?_c('g3w-link',{attrs:{\"state\":{value: _vm.field.value}}}):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0a32e30e\"\n\n},{\"components/FieldLink.vue\":209,\"components/FieldVue.vue\":212,\"mixins\":342}],286:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nvar _QueryResultsActionDownloadFormats = require('components/QueryResultsActionDownloadFormats.vue');\n\nvar _QueryResultsActionDownloadFormats2 = _interopRequireDefault(_QueryResultsActionDownloadFormats);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar RelationPageEventBus = require('gui/relations/vue/relationeventbus');\n\nvar SIDEBARWIDTH = void 0;\n\nexports.default = {\n  props: ['table', 'feature', 'relation', 'previousview', 'showChartButton', 'cardinality'],\n  inject: ['relationnoback'],\n  mixins: [_mixins.fieldsMixin, _mixins.resizeMixin],\n  components: {\n    Field: _FieldG3W2.default\n  },\n  data: function data() {\n    return {\n      feature: null,\n      fields: null,\n      chart: false,\n      headercomponent: null,\n      downloadButton: null,\n      downloadLayer: {\n        state: null,\n        config: {\n          downloads: []\n        }\n      }\n    };\n  },\n\n  computed: {\n    showrelationslist: function showrelationslist() {\n      return this.previousview === 'relations' && !this.relationnoback;\n    },\n    one: function one() {\n      return this.relation.type === 'ONE';\n    }\n  },\n  methods: {\n    createTable: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var _this = this;\n\n        var layer, downloadformats, downloadformatsLength;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layer = _catalogLayers2.default.getLayerById(this.table.layerId);\n\n                this.isEditable = layer.isEditable() && !layer.isInEditing();\n                downloadformats = layer.isDownloadable() ? layer.getDownloadableFormats() : [];\n                downloadformatsLength = downloadformats.length;\n\n                if (downloadformatsLength > 0) {\n                  this.downloadButton = {\n                    toggled: false,\n                    tooltip: downloadformatsLength > 1 ? 'Downloads' : 'sdk.tooltips.download_' + downloadformats[0],\n                    handler: downloadformatsLength > 1 ? _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n                      return regeneratorRuntime.wrap(function _callee$(_context) {\n                        while (1) {\n                          switch (_context.prev = _context.next) {\n                            case 0:\n                              _this.downloadButton.toggled = !_this.downloadButton.toggled;\n                              _this.downloadLayer.state = _this.downloadLayer.state || layer.state;\n                              _this.downloadLayer.config.downloads = _this.downloadLayer.config.downloads.length ? _this.downloadLayer.config.downloads : downloadformats.map(function (format) {\n                                return {\n                                  id: format,\n                                  format: format,\n                                  cbk: function cbk() {\n                                    _this.saveRelation(layer.getDownloadUrl(format));\n                                    _this.headercomponent = null;\n                                  },\n                                  download: true\n                                };\n                              });\n                              _this.headercomponent = _this.downloadButton.toggled ? _QueryResultsActionDownloadFormats2.default : null;\n\n                            case 4:\n                            case 'end':\n                              return _context.stop();\n                          }\n                        }\n                      }, _callee, _this);\n                    })) : function () {\n                      return _this.saveRelation(layer.getDownloadUrl(downloadformats[0]));\n                    }\n                  };\n                }\n                RelationPageEventBus.$on('reload', function () {\n                  _this.reloadLayout();\n                });\n                this.showChart = throttle(_asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n                  var relationData;\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _this.chart = !_this.chart;\n                          _context2.next = 3;\n                          return _this.$nextTick();\n\n                        case 3:\n                          _this.chartContainer = _this.chartContainer || $('#chart_content');\n                          relationData = {\n                            relations: [_this.relation],\n                            fid: _this.feature.attributes[_constant.G3W_FID]\n                          };\n\n                          _this.$emit(_this.chart ? 'show-chart' : 'hide-chart', _this.chartContainer, relationData);\n\n                        case 6:\n                        case 'end':\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, _this);\n                })));\n                _context3.next = 9;\n                return this.$nextTick();\n\n              case 9:\n                SIDEBARWIDTH = _gui2.default.getSize({ element: 'sidebar', what: 'width' });\n                this.relation.title = this.relation.name;\n\n                if (!this.one) {\n                  this.relationDataTable = $(this.$refs.relationtable).DataTable({\n                    \"pageLength\": 10,\n                    \"bLengthChange\": true,\n                    \"scrollResize\": true,\n                    \"scrollCollapse\": true,\n                    \"scrollX\": true,\n                    \"responsive\": true,\n                    \"order\": [this.table.formStructure ? 1 : 0, 'asc'],\n                    \"columnDefs\": [{ \"orderable\": !this.table.formStructure, \"targets\": 0 }]\n                  });\n                  this.tableHeaderHeight = $('.query-relation  div.dataTables_scrollHeadInner').height();\n                }\n\n                _gui2.default.on('pop-content', this.resize);\n\n              case 13:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function createTable() {\n        return _ref.apply(this, arguments);\n      }\n\n      return createTable;\n    }(),\n    resize: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n        var tableHeight, datatableBody, breadcrumbHeight, OtherElementHeight, width;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (this.$refs.query_relation && this.$refs.query_relation.parentNode.style.display !== 'none') {\n                  tableHeight = $(\".content\").height();\n                  datatableBody = $(this.$refs.query_relation).find('div.dataTables_scrollBody');\n                  breadcrumbHeight = $('.content_breadcrumb').outerHeight();\n                  OtherElementHeight = breadcrumbHeight + $('.navbar-header').outerHeight() + $('.close-panel-block').outerHeight() + $(this.$refs['relation-header']).outerHeight() + $('.dataTables_filter').last().outerHeight() + $('.dataTables_paginate.paging_simple_numbers').outerHeight() + $('.dataTables_scrollHead').last().outerHeight();\n\n                  datatableBody.height(tableHeight - this.tableHeaderHeight - OtherElementHeight);\n                  if (this.table.rowFormStructure) {\n                    width = datatableBody.width() - $(this.$refs.relationtable).find('tr.selected > td').outerWidth() - 20;\n\n                    $('.row-wrap-tabs > .tabs-wrapper').width(width);\n                  }\n                  this.reloadLayout();\n                }\n\n              case 1:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function resize() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    saveRelation: function saveRelation(type) {\n      this.$emit('save-relation', type);\n      this.downloadButton.toggled = false;\n    },\n    showFormStructureRow: function () {\n      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(event, row) {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                this.table.rowFormStructure = this.table.rowFormStructure === row ? null : row;\n                this.fields = this.getRowFields(row);\n                _context5.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                $('#relationtable_wrapper div.dataTables_scrollBody').css('overflow-x', this.table.rowFormStructure ? 'hidden' : 'auto');\n                this.resize();\n\n              case 6:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function showFormStructureRow(_x, _x2) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return showFormStructureRow;\n    }(),\n    editFeature: function editFeature(index) {\n      var queryResultsService = _gui2.default.getService('queryresults');\n      queryResultsService.editFeature({\n        layer: {\n          id: this.table.layerId,\n          attributes: this.table.fields\n        },\n        feature: this.table.features[index]\n      });\n    },\n    getRowFields: function getRowFields(row) {\n      var _this2 = this;\n\n      return this.table.fields.map(function (field, index) {\n        field.value = row[index];\n        field.query = true;\n        field.input = {\n          type: '' + _this2.getFieldType(field)\n        };\n        return field;\n      });\n    },\n    reloadLayout: function reloadLayout() {\n      this.relationDataTable && this.relationDataTable.columns.adjust();\n    },\n    back: function back() {\n      this.$parent.setRelationsList();\n    },\n    fieldIs: function fieldIs(type, value) {\n      var fieldType = this.getFieldType(value);\n      return fieldType === type;\n    },\n    is: function is(type, value) {\n      return this.fieldIs(type, value);\n    },\n    moveFnc: function moveFnc(evt) {\n      var sidebarHeaderSize = $('.sidebar-collapse').length ? 0 : SIDEBARWIDTH;\n      var size = evt.pageX + 2 - sidebarHeaderSize;\n      this.$refs.tablecontent.style.width = size + 'px';\n      this.$refs.chartcontent.style.width = $(this.$refs.relationwrapper).width() - size - 10 + 'px';\n    }\n  },\n  watch: {\n    table: {\n      immediate: true,\n      handler: function handler(table) {\n        table && table.rows.length && this.createTable();\n      }\n    },\n    chart: function () {\n      var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee6() {\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.resize();\n\n              case 3:\n              case 'end':\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function chart() {\n        return _ref6.apply(this, arguments);\n      }\n\n      return chart;\n    }(),\n    headercomponent: function () {\n      var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee7() {\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.resize();\n\n              case 3:\n              case 'end':\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function headercomponent() {\n        return _ref7.apply(this, arguments);\n      }\n\n      return headercomponent;\n    }()\n  },\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n  },\n  beforeDestroy: function () {\n    var _ref8 = _asyncToGenerator(regeneratorRuntime.mark(function _callee8() {\n      return regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              if (this.relationDataTable) {\n                this.relationDataTable.destroy();\n                this.relationDataTable = null;\n                this.chartContainer && this.$emit('hide-chart', this.chartContainer);\n                this.chartContainer = null;\n                this.tableHeaderHeight = null;\n                _gui2.default.off('pop-content', this.resize);\n              }\n\n            case 1:\n            case 'end':\n              return _context8.stop();\n          }\n        }\n      }, _callee8, this);\n    }));\n\n    function beforeDestroy() {\n      return _ref8.apply(this, arguments);\n    }\n\n    return beforeDestroy;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.table)?_c('div',{ref:\"query_relation\",staticClass:\"query-relation\",class:_vm.isMobile() ? 'mobile' : null,staticStyle:{\"margin-top\":\"3px\"}},[_c('div',{ref:\"relation-header\",staticClass:\"header skin-background-color lighten\",staticStyle:{\"padding\":\"3px\",\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"width\":\"100%\"}},[_c('div',{staticClass:\"g3w-long-text\",staticStyle:{\"border-radius\":\"3px\"},style:({fontSize: _vm.isMobile() ? '1em' : '1.3em'})},[(_vm.showrelationslist)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:('sdk.relations.back_to_relations'),expression:\"'sdk.relations.back_to_relations'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:_vm.g3wtemplate.getFontClass('exit'),staticStyle:{\"font-size\":\"0.8em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.back($event)}}}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"relation-tile skin-color\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\" \"+_vm._s(_vm.relation.name))])]),_vm._v(\" \"),(_vm.table.rows.length)?_c('div',{staticClass:\"relations-table-tools\",staticStyle:{\"font-size\":\"1.1em\",\"margin-bottom\":\"3px\"}},[(_vm.downloadButton)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:(_vm.downloadButton.tooltip),expression:\"downloadButton.tooltip\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:[_vm.g3wtemplate.getFontClass('download'), {'toggled-white': _vm.downloadButton.toggled}],staticStyle:{\"padding\":\"5px\"},on:{\"click\":_vm.downloadButton.handler}}):_vm._e(),_vm._v(\" \"),(_vm.showChartButton)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:bottom.create\",value:('sdk.tooltips.show_chart'),expression:\"'sdk.tooltips.show_chart'\",arg:\"bottom\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:[_vm.g3wtemplate.getFontClass('chart'), _vm.chart ? 'toggled-white' : ''],staticStyle:{\"padding\":\"5px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showChart($event)}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),(_vm.table.rows.length)?_c('div',{ref:\"relationwrapper\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"margin-bottom\":\"5px\",\"margin-top\":\"3px\",\"height\":\"95%\"}},[_c('div',{ref:\"tablecontent\",style:({width: _vm.chart ? '70%' : '100%', marginRight: _vm.chart ? '8px' : '3px', position: 'relative' }),attrs:{\"id\":\"table_content\"}},[(_vm.headercomponent)?[_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"margin-left\":\"auto\",\"margin-bottom\":\"5px\",\"margin-right\":\"4px\"}},[_c(_vm.headercomponent,{tag:\"component\",attrs:{\"layer\":_vm.downloadLayer.state,\"config\":_vm.downloadLayer.config}})],1)]:_vm._e(),_vm._v(\" \"),_c('table',{ref:\"relationtable\",staticClass:\"hover relationtable table table-striped row-border\",staticStyle:{\"width\":\"100%\"}},[_c('thead',[_c('tr',{staticStyle:{\"height\":\"0! important\"}},[(_vm.table.formStructure || _vm.isEditable)?_c('th',{style:({minWidth: ((((1*!!_vm.table.formStructure) + (1*_vm.isEditable))*30) + \"px\"), padding: '0 !important' })}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.table.columns),function(column){return _c('th',[_vm._v(_vm._s(column))])})],2)]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.table.rows),function(row,index){return _c('tr',{key:_vm.table.rows_fid[index],class:{'selected': _vm.table.rowFormStructure === row}},[(_vm.table.formStructure || _vm.isEditable)?_c('td',[(_vm.table.formStructure)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:(_vm.table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'),expression:\"table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button row-form skin-color\",class:[_vm.table.rowFormStructure === row ? _vm.g3wtemplate.getFontClass('minus') :  _vm.g3wtemplate.getFontClass('table')],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"current-tooltip\":_vm.table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'},on:{\"click\":function($event){$event.stopPropagation();return _vm.showFormStructureRow($event, row)}}}):_vm._e(),_vm._v(\" \"),(_vm.isEditable)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:('Edit'),expression:\"'Edit'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button row-form skin-color\",class:_vm.g3wtemplate.getFontClass('pencil'),on:{\"click\":function($event){$event.stopPropagation();return _vm.editFeature(index)}}}):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.table.formStructure && _vm.table.rowFormStructure === row)?[_c('td',{staticClass:\"row-wrap-tabs\",attrs:{\"colspan\":_vm.table.columns.length}},[_c('tabs',{attrs:{\"layerid\":_vm.table.layerId,\"feature\":_vm.table.features[index],\"fields\":_vm.fields,\"tabs\":_vm.table.formStructure}})],1)]:_vm._l((row),function(value){return _c('td',[_c('field',{attrs:{\"state\":{value:value}}})],1)})],2)}),0)])],2),_vm._v(\" \"),_c('g3w-resize',{staticClass:\"skin-border-color lighten\",staticStyle:{\"border-style\":\"solid\",\"border-width\":\"0 1px 0 1px\"},attrs:{\"show\":_vm.chart,\"moveFnc\":_vm.moveFnc,\"where\":'content'}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.chart),expression:\"chart\"}],ref:\"chartcontent\",style:({width: _vm.chart ? '30%' : '0', paddingBottom: '5px', marginBottom: '5px', marginLeft: '8px' }),attrs:{\"id\":\"chart_content\"}})],1):_c('div',{staticClass:\"dataTables_scrollBody\",staticStyle:{\"font-weight\":\"bold\",\"margin-top\":\"10px\",\"font-size\":\"1.1em\",\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.relations.no_relations_found'),expression:\"'sdk.relations.no_relations_found'\"}]})])]):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"components/FieldG3W.vue\":206,\"components/QueryResultsActionDownloadFormats.vue\":280,\"core/utils/utils\":67,\"gui/relations/vue/relationeventbus\":173,\"mixins\":342,\"services/gui\":360,\"store/catalog-layers\":373}],287:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".relation-grid-item[data-v-02f56b7e]{min-width:0;min-height:80px;border:2px solid;cursor:pointer;border-radius:4px;background-color:#fff;display:flex;align-items:center}.relation-grid-item[data-v-02f56b7e]:hover{background-color:transparent}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  props: ['relations', 'feature', 'loading'],\n  methods: {\n    showRelation: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(relation) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$parent.showRelation(relation);\n\n              case 2:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function showRelation(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return showRelation;\n    }(),\n    featureInfo: function featureInfo() {\n      var infoFeatures = [];\n      var index = 0;\n      Object.entries(this.feature.attributes).forEach(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            key = _ref3[0],\n            value = _ref3[1];\n\n        if (index > 2) return false;\n        if (value && _.isString(value) && value.indexOf('/') === -1) {\n          infoFeatures.push({\n            key: key,\n            value: value\n          });\n          index += 1;\n        }\n      });\n      return infoFeatures;\n    }\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var relation;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(this.relations.length === 1)) {\n                _context2.next = 5;\n                break;\n              }\n\n              relation = this.relations[0];\n\n              relation.noback = true;\n              _context2.next = 5;\n              return this.showRelation(relation);\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    if (this.relations.length === 1) {\n      delete this.relations[0].noback;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"query-relations\",staticStyle:{\"overflow-y\":\"auto\"}},[_c('div',{staticClass:\"header skin-background-color lighten\",staticStyle:{\"margin-bottom\":\"10px\",\"border-radius\":\"4px\",\"padding\":\"5px\"}},[_c('div',{staticClass:\"skin-color-dark\"},[_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('sdk.relations.list_of_relations_feature'),expression:\"'sdk.relations.list_of_relations_feature'\",arg:\"pre\"}],staticStyle:{\"font-size\":\"1.1em\"}}),_vm._v(\" \"),_vm._l((_vm.featureInfo()),function(info){return _c('span',[_c('b',[_vm._v(_vm._s(info.key))]),_vm._v(\": \"+_vm._s(info.value)+\" \")])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"query-relations-content\",staticStyle:{\"display\":\"grid\",\"grid-template-columns\":\"repeat(2, auto)\",\"grid-column-gap\":\"5px\",\"grid-row-gap\":\"5px\"}},_vm._l((_vm.relations),function(relation){return _c('div',{staticClass:\"skin-border-color relation-grid-item\",on:{\"click\":function($event){return _vm.showRelation(relation)}}},[_c('span',{staticClass:\"skin-color g3w-long-text\",staticStyle:{\"font-weight\":\"bold\",\"padding\":\"5px\"}},[_vm._v(_vm._s(relation.name))])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-02f56b7e\"\n\n},{\"vueify/lib/insert-css\":1}],288:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _Relations = require('components/Relations.vue');\n\nvar _Relations2 = _interopRequireDefault(_Relations);\n\nvar _Relation = require('components/Relation.vue');\n\nvar _Relation2 = _interopRequireDefault(_Relation);\n\nvar _constant = require('constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/geo'),\n    getFeaturesFromResponseVectorApi = _require.getFeaturesFromResponseVectorApi;\n\nvar RelationPageEventBus = require('gui/relations/vue/relationeventbus');\n\nexports.default = {\n  data: function data() {\n    this.chartRelationIds = this.$options.chartRelationIds || [];\n    var _$options = this.$options,\n        table = _$options.table,\n        _$options$relation = _$options.relation,\n        relation = _$options$relation === undefined ? null : _$options$relation,\n        relations = _$options.relations,\n        nmRelation = _$options.nmRelation,\n        feature = _$options.feature,\n        currentview = _$options.currentview,\n        service = _$options.service;\n\n    return {\n      loading: false,\n      state: null,\n      error: false,\n      table: table ? service.buildRelationTable(table) : null,\n      relation: relation,\n      relations: relations,\n      nmRelation: nmRelation,\n      showChartButton: false,\n      feature: feature,\n      currentview: currentview,\n      previousview: currentview\n    };\n  },\n  provide: function provide() {\n    return {\n      relationnoback: this.$options.relations.length === 1\n    };\n  },\n\n  components: {\n    'relations': _Relations2.default,\n    'relation': _Relation2.default\n  },\n  methods: {\n    saveRelations: function saveRelations(type) {\n      this.$options.service.saveRelations(type);\n    },\n    reloadLayout: function reloadLayout() {\n      RelationPageEventBus.$emit('reload');\n    },\n    showChart: function showChart(container, relationData) {\n      var relationLayerId = this.relation.referencingLayer;\n      _gui2.default.getService('queryresults').showChart([relationLayerId], container, relationData);\n    },\n    hideChart: function hideChart(container) {\n      _gui2.default.getService('queryresults').hideChart(container);\n    },\n    showRelation: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(relation) {\n        var relationLayerId, fid, response, relations;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.setLoadingContent(true);\n                this.loading = true;\n                this.relation = relation;\n                relationLayerId = relation.referencingLayer;\n                fid = this.feature.attributes[_constant.G3W_FID];\n                _context.prev = 5;\n                _context.next = 8;\n                return this.$options.service.getRelations({\n                  layer: this.$options.layer,\n                  relation: relation,\n                  fid: fid\n                });\n\n              case 8:\n                response = _context.sent;\n                relations = getFeaturesFromResponseVectorApi(response, {\n                  type: 'result'\n                });\n\n                if (!this.nmRelation) {\n                  _context.next = 15;\n                  break;\n                }\n\n                relationLayerId = this.nmRelation.referencedLayer;\n                _context.next = 14;\n                return this.$options.service.getRelationsNM({\n                  nmRelation: this.nmRelation,\n                  features: relations\n                });\n\n              case 14:\n                relations = _context.sent;\n\n              case 15:\n                this.showChartButton = !!this.chartRelationIds.find(function (chartlayerid) {\n                  return chartlayerid === relationLayerId;\n                });\n                this.table = this.$options.service.buildRelationTable(relations, relationLayerId);\n\n                _gui2.default.changeCurrentContentOptions({\n                  title: relation.name,\n                  crumb: {\n                    title: relation.name\n                  }\n                });\n                _context.next = 20;\n                return this.$nextTick();\n\n              case 20:\n                this.previousview = this.currentview;\n                this.currentview = 'relation';\n                _context.next = 26;\n                break;\n\n              case 24:\n                _context.prev = 24;\n                _context.t0 = _context['catch'](5);\n\n              case 26:\n                _gui2.default.setLoadingContent(false);\n                this.loading = true;\n\n              case 28:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 24]]);\n      }));\n\n      function showRelation(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return showRelation;\n    }(),\n    setRelationsList: function setRelationsList() {\n      this.previousview = 'relation';\n      this.currentview = 'relations';\n      _gui2.default.changeCurrentContentOptions({\n        crumb: {\n          title: _constant.LIST_OF_RELATIONS_TITLE\n        }\n      });\n      this.loading = false;\n    }\n  },\n  beforeMount: function beforeMount() {\n    if (this.currentview === 'relation' || this.relations.length === 1 && this.relations[0].type === 'ONE') this.showRelation(this.relations[0]);\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.relations.sort(function (_ref3, _ref4) {\n                var relationName1 = _ref3.name;\n                var relationName2 = _ref4.name;\n\n                if (relationName1 < relationName2) return -1;\n                if (relationName1 > relationName2) return 1;\n                return 0;\n              });\n              _context2.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              if (this.error) requestAnimationFrame(function () {\n                _gui2.default.popContent();\n              });\n              this.error = false;\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"query-relations-page\"},[_c(_vm.currentview,{ref:_vm.currentview,tag:\"component\",attrs:{\"loading\":_vm.loading,\"previousview\":_vm.previousview,\"showChartButton\":_vm.showChartButton,\"relations\":_vm.relations,\"relation\":_vm.relation,\"nmRelation\":_vm.nmRelation,\"feature\":_vm.feature,\"table\":_vm.table},on:{\"save-relation\":_vm.saveRelations,\"show-chart\":_vm.showChart,\"hide-chart\":_vm.hideChart}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/Relation.vue\":286,\"components/Relations.vue\":287,\"constant\":4,\"core/utils/geo\":64,\"gui/relations/vue/relationeventbus\":173,\"services/gui\":360}],289:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Tool = require('components/Tool.vue');\n\nvar _Tool2 = _interopRequireDefault(_Tool);\n\nvar _QueryBuilderSearch = require('components/QueryBuilderSearch.vue');\n\nvar _QueryBuilderSearch2 = _interopRequireDefault(_QueryBuilderSearch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  },\n\n  components: {\n    'g3w-tool': _Tool2.default,\n    'g3w-search-querybuilder': _QueryBuilderSearch2.default\n  },\n  computed: {\n    show: function show() {\n      return this.state.searches.length + this.state.searchtools.length + this.state.querybuildersearches.length > 0;\n    }\n  },\n  methods: {\n    showPanel: function showPanel() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.$options.service.showPanel(config);\n    },\n    removeItem: function removeItem(_ref) {\n      var type = _ref.type,\n          index = _ref.index;\n\n      this.$options.service.removeItem({\n        type: type,\n        index: index\n      });\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('.icon-search-action').tooltip();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('ul',{staticClass:\"treeview-menu g3w-search g3w-tools menu-items\",attrs:{\"id\":\"g3w-search\"}},[_vm._l((_vm.state.searches),function(search){return _c('li',{staticClass:\"menu-item\",on:{\"click\":function($event){return _vm.showPanel(search)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('empty-circle')}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(search.name))])])}),_vm._v(\" \"),_vm._l((_vm.state.searchtools),function(searchtool){return _c('li',[_c('g3w-tool',{attrs:{\"tool\":searchtool}})],1)}),_vm._v(\" \"),_vm._l((_vm.state.querybuildersearches),function(querybuildersearch,index){return _c('g3w-search-querybuilder',{key:querybuildersearch.id,attrs:{\"querybuildersearch\":querybuildersearch},on:{\"delete\":function($event){return _vm.removeItem({type:'querybuilder', index:index})}}})})],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"components/QueryBuilderSearch.vue\":277,\"components/Tool.vue\":305}],290:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId,\n    convertQGISDateTimeFormatToMoment = _require.convertQGISDateTimeFormatToMoment;\n\nexports.default = {\n  name: 'Searchdatetime',\n  props: {\n    forminput: {\n      type: Object,\n      require: true\n    }\n  },\n  created: function created() {\n    this.id = 'search_datetime_' + getUniqueDomId();\n  },\n\n  computed: {\n    time: function time() {\n      return this.forminput.options.format.time;\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var format, fieldformat, displayformat;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              format = this.forminput.options.format;\n              fieldformat = format.fieldformat, displayformat = format.displayformat;\n\n              fieldformat = convertQGISDateTimeFormatToMoment(fieldformat);\n              displayformat = convertQGISDateTimeFormatToMoment(displayformat);\n              $('#' + this.id).datetimepicker({\n                defaultDate: null,\n                format: displayformat,\n                ignoreReadonly: true,\n                allowInputToggle: true,\n                toolbarPlacement: 'top',\n                widgetPositioning: {\n                  vertical: 'bottom',\n                  horizontal: 'left'\n                },\n                showClose: true,\n                locale: _applicationState2.default.language || 'en'\n              });\n\n              $('#' + this.id).on(\"dp.change\", function () {\n                var newDate = $('#' + _this.forminput.id).val();\n                _this.forminput.value = _.isEmpty(_.trim(newDate)) ? null : moment(newDate, displayformat).format(fieldformat);\n                _this.$emit('change', _this.forminput);\n              });\n\n              _applicationState2.default.ismobile && setTimeout(function () {\n                $('#' + _this.forminput.id).blur();\n              });\n\n            case 9:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group date\",attrs:{\"id\":_vm.id}},[_c('input',{staticClass:\"form-control\",attrs:{\"id\":_vm.forminput.id,\"type\":\"text\"}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon skin-color\"},[_c('span',{class:_vm.g3wtemplate.getFontClass(_vm.time ? 'time': 'calendar')})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"store/application-state\":372}],291:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SearchSelect = require('components/SearchSelect2.vue');\n\nvar _SearchSelect2 = _interopRequireDefault(_SearchSelect);\n\nvar _SearchDatetime = require('components/SearchDatetime.vue');\n\nvar _SearchDatetime2 = _interopRequireDefault(_SearchDatetime);\n\nvar _SearchPanelLabel = require('components/SearchPanelLabel.vue');\n\nvar _SearchPanelLabel2 = _interopRequireDefault(_SearchPanelLabel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  components: {\n    Select2: _SearchSelect2.default,\n    SearchDatetime: _SearchDatetime2.default,\n    SearchPanelLabel: _SearchPanelLabel2.default\n  },\n  data: function data() {\n    return {\n      state: this.$options.service.state\n    };\n  },\n\n  methods: {\n    isSelectDisabled: function isSelectDisabled(forminput) {\n      return [this.state.loading[forminput.options.dependance], forminput.loading, forminput.options.disabled].reduce(function (disabled) {\n        var current = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        return disabled || current;\n      }, false);\n    },\n    onFocus: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(event) {\n        var top;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.isMobile()) {\n                  _context.next = 5;\n                  break;\n                }\n\n                top = $(event.target).position().top - 10;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                setTimeout(function () {\n                  return $('.sidebar').scrollTop(top);\n                }, 500);\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function onFocus(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return onFocus;\n    }(),\n    autocompleteRequest: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt('return', this.$options.service.autocompleteRequest(params));\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function autocompleteRequest() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return autocompleteRequest;\n    }(),\n    changeDependencyFields: function changeDependencyFields(_ref3) {\n      var field = _ref3.attribute,\n          value = _ref3.value;\n\n      var subscribers = this.$options.service.getDependencies(field);\n      return subscribers.length ? this.$options.service.fillDependencyInputs({\n        field: field,\n        subscribers: subscribers,\n        value: value\n      }) : Promise.resolve();\n    },\n    changeNumericInput: function changeNumericInput(input) {\n      input.value = input.value || input.value === 0 ? input.value : null;\n      this.changeInput(input);\n    },\n    changeInput: function changeInput(input) {\n      var _this = this;\n\n      var id = input.id,\n          attribute = input.attribute,\n          value = input.value,\n          type = input.type;\n\n      try {\n        value = type === 'textfield' || type === 'textField' ? value : value.trim();\n      } catch (err) {}\n      this.$options.service.changeInput({ id: id, value: value });\n      this.state.searching = true;\n      this.changeDependencyFields({\n        attribute: attribute,\n        value: value\n      }).finally(function () {\n        _this.state.searching = false;\n      });\n    },\n    doSearch: function doSearch(event) {\n      event.preventDefault();\n      this.$options.service.run();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.searching),expression:\"state.searching\"}],staticClass:\"g3w-search-panel form-group\"},[_c('h4',{},[_c('b',[_vm._v(_vm._s(_vm.state.title))])]),_vm._v(\" \"),_vm._t(\"tools\"),_vm._v(\" \"),_vm._t(\"form\",[_c('form',{staticClass:\"g3w-search-form\"},[_vm._l((_vm.state.forminputs),function(forminput){return _c('span',{key:forminput.id},[(forminput.type === 'numberfield')?_c('div',{staticClass:\"form-group numeric\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(forminput.value),expression:\"forminput.value\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"0\",\"id\":forminput.id},domProps:{\"value\":(forminput.value)},on:{\"change\":function($event){return _vm.changeNumericInput(forminput)},\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(forminput, \"value\", $event.target.value)},function($event){return _vm.changeNumericInput(forminput)}]}})],1):(forminput.type === 'textfield' || forminput.type === 'textField')?_c('div',{staticClass:\"form-group form-item-search  text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(forminput.value),expression:\"forminput.value\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":forminput.id},domProps:{\"value\":(forminput.value)},on:{\"focus\":_vm.onFocus,\"change\":function($event){return _vm.changeInput(forminput)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(forminput, \"value\", $event.target.value)}}})],1):(forminput.type === 'selectfield' || forminput.type === 'autocompletefield')?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.isSelectDisabled(forminput)),expression:\"isSelectDisabled(forminput)\"}],staticClass:\"form-group text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),(forminput.options.dependance)?_c('bar-loader',{attrs:{\"loading\":_vm.state.loading[forminput.options.dependance] || forminput.loading}}):_vm._e(),_vm._v(\" \"),_c('select2',{attrs:{\"forminput\":forminput,\"autocompleteRequest\":_vm.autocompleteRequest},on:{\"select-change\":_vm.changeInput}})],1):_vm._e(),_vm._v(\" \"),(forminput.type === 'datetimefield')?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.loading[forminput.options.dependance] || false),expression:\"state.loading[forminput.options.dependance] || false\"}],staticClass:\"form-group text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('search-datetime',{attrs:{\"forminput\":forminput},on:{\"change\":_vm.changeInput}})],1):_vm._e(),_vm._v(\" \"),(forminput.logicop)?_c('div',{staticClass:\"search-logicop skin-border-color\"},[_c('h4',[_vm._v(_vm._s(forminput.logicop))])]):_vm._e()])}),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('dosearch'),expression:\"'dosearch'\"}],staticClass:\"sidebar-button-run btn btn-block pull-right\",attrs:{\"id\":\"dosearch\",\"data-i18n\":\"dosearch\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.doSearch($event)}}})])],2)]),_vm._v(\" \"),_vm._t(\"footer\")],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/SearchDatetime.vue\":290,\"components/SearchPanelLabel.vue\":292,\"components/SearchSelect2.vue\":293}],292:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nexports.default = {\n  name: 'Searchpanellabel',\n  props: {\n    forminput: {\n      type: Object,\n      require: true\n    }\n  },\n  methods: {\n    getLabelOperator: function getLabelOperator(operator) {\n      return '[ ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' ]';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"search-label\",staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"justify-content\":\"space-between\"},attrs:{\"for\":_vm.forminput.id}},[_c('span',[_vm._v(_vm._s(_vm.forminput.label || _vm.forminput.attribute))]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\"},[_vm._v(_vm._s(_vm.getLabelOperator(_vm.forminput.operator)))])])}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4}],293:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constant = require('app/constant');\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar autocompleteOptions = require('gui/external/select2/options/autocomplete');\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    debounce = _require2.debounce;\n\nexports.default = {\n  name: \"select2\",\n  props: ['forminput', 'autocompleteRequest'],\n  mixins: [_mixins.select2Mixin],\n  methods: {\n    emitChangeEvent: function emitChangeEvent(evt) {\n      var id = $(evt.target).attr('id');\n      var attribute = $(evt.target).attr('name');\n      var data = evt.params.data;\n      var value = data ? data.id : _constant.SEARCH_ALLVALUE;\n      this.$emit('select-change', {\n        id: id,\n        attribute: attribute,\n        value: value,\n        type: this.forminput.type\n      });\n    },\n    _initSelect2Element: function _initSelect2Element() {\n      var _this = this;\n\n      var _forminput = this.forminput,\n          type = _forminput.type,\n          attribute = _forminput.attribute,\n          options = _forminput.options;\n\n      var numdigaut = options.numdigaut && !Number.isNaN(1 * options.numdigaut) && 1 * options.numdigaut > 0 && 1 * options.numdigaut || 2;\n      var isAutocomplete = type === 'autocompletefield';\n      this.select2 = $(this.$el).select2(_extends({\n        width: '100%',\n        dropdownParent: $('.g3w-search-form:visible'),\n        minimumInputLength: isAutocomplete && numdigaut || 0,\n        allowClear: isAutocomplete,\n        placeholder: isAutocomplete ? '' : null,\n        ajax: isAutocomplete ? {\n          delay: 500,\n          transport: function () {\n            var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref, success, failure) {\n              var value = _ref.data.q;\n              var data;\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.prev = 0;\n                      _context.next = 3;\n                      return _this.autocompleteRequest({\n                        field: attribute,\n                        value: value\n                      });\n\n                    case 3:\n                      data = _context.sent;\n\n                      success({ results: data });\n                      _context.next = 10;\n                      break;\n\n                    case 7:\n                      _context.prev = 7;\n                      _context.t0 = _context['catch'](0);\n\n                      failure(_context.t0);\n\n                    case 10:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this, [[0, 7]]);\n            }));\n\n            function transport(_x, _x2, _x3) {\n              return _ref2.apply(this, arguments);\n            }\n\n            return transport;\n          }()\n        } : null\n      }, autocompleteOptions));\n      this.select2.on('select2:select', function (evt) {\n        _this.emitChangeEvent(evt);\n      });\n      this.forminput.type === 'autocompletefield' && this.select2.on('select2:unselecting', function (evt) {\n        _this.emitChangeEvent(evt);\n      });\n    }\n  },\n  watch: {\n    'forminput.value': function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(value) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                if (value === _constant.SEARCH_ALLVALUE) {\n                  this.select2.val(value);\n                  this.select2.trigger('change');\n                }\n\n              case 3:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function forminputValue(_x4) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return forminputValue;\n    }()\n  },\n  created: function created() {\n    this.allvalue = _constant.SEARCH_ALLVALUE;\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this._initSelect2Element();\n\n            case 3:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('select',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.forminput.options.disabled || _vm.forminput.loading),expression:\"forminput.options.disabled || forminput.loading\"}],staticClass:\"form-control\",attrs:{\"name\":_vm.forminput.attribute,\"id\":_vm.forminput.id}},_vm._l((_vm.forminput.options.values),function(keyvalue){return _c('option',{key:keyvalue.value,domProps:{\"value\":keyvalue.value}},[(keyvalue.value === _vm.allvalue )?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.search.all'),expression:\"'sdk.search.all'\"}]}):_c('span',[_vm._v(_vm._s(keyvalue.key))])])}),0)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-525bb7b8\"\n\n},{\"app/constant\":4,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"gui/external/select2/options/autocomplete\":118,\"mixins\":342}],294:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _eventbus = require('gui/sidebar/eventbus');\n\nvar _eventbus2 = _interopRequireDefault(_eventbus);\n\nvar _sidebar = require('services/sidebar');\n\nvar _sidebar2 = _interopRequireDefault(_sidebar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"Sidebar\",\n  data: function data() {\n    return {\n      components: _sidebar2.default.state.components,\n      panels: _sidebar2.default.stack.state.contentsdata,\n      bOpen: true,\n      bPageMode: false,\n      header: t('main navigation'),\n      state: _sidebar2.default.state\n    };\n  },\n\n  computed: {\n    disabled: function disabled() {\n      return _applicationState2.default.gui.sidebar.disabled;\n    },\n    panelsinstack: function panelsinstack() {\n      return this.panels.length > 0;\n    },\n    showmainpanel: function showmainpanel() {\n      return this.components.length > 0 && !this.panelsinstack;\n    },\n    componentname: function componentname() {\n      return this.components.length ? this.components.slice(-1)[0].getTitle() : \"\";\n    },\n    panelname: function panelname() {\n      var name = \"\";\n      if (this.panels.length) {\n        name = this.panels.slice(-1)[0].content.getTitle();\n      }\n      return name;\n    }\n  },\n  methods: {\n    closePanel: function closePanel() {\n      _sidebar2.default.closePanel();\n    },\n    closeAllPanels: function closeAllPanels() {\n      _sidebar2.default.closeAllPanels();\n    }\n  },\n  created: function created() {\n    this.iframe = _applicationState2.default.iframe;\n    _eventbus2.default.$on('sidebaritemclick', function () {\n      return $('.sidebar-toggle').click();\n    });\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"main-sidebar\",class:{ iframe: _vm.iframe, 'g3w-disabled': _vm.disabled }},[_c('a',{staticClass:\"sidebar-aside-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"offcanvas\",\"role\":\"button\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('bars')})]),_vm._v(\" \"),_c('div',{staticClass:\"sidebar\",attrs:{\"id\":\"g3w-sidebar\"}},[_c('div',{attrs:{\"id\":\"disable-sidebar\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"g3w-sidebarpanel\"},[_c('div',{staticStyle:{\"overflow\":\"hidden\",\"line-height\":\"14px\",\"font-size\":\"1.5em\"},attrs:{\"id\":\"g3w-sidebarpanel-header-placeholder\"}},[_c('div',{staticStyle:{\"display\":\"flex\"},style:({justifyContent: _vm.state.gui.title ? 'space-between' : 'flex-end' })},[(_vm.state.gui.title)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.state.gui.title),expression:\"state.gui.title\"}],staticStyle:{\"display\":\"inline-block\",\"font-weight\":\"bold\"}}):_vm._e(),_vm._v(\" \"),_c('div',[(_vm.panels.length > 1)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('back'),expression:\"'back'\",modifiers:{\"create\":true}}],staticClass:\"skin-tooltip-left g3w-span-button close-pane-button fa-stack\",attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":_vm.closePanel}},[_c('i',{staticClass:\"fa-stack-1x panel-button\",class:_vm.g3wtemplate.getFontClass('circle')}),_vm._v(\" \"),_c('i',{staticClass:\"fa-stack-1x panel-icon\",class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('close'),expression:\"'close'\",modifiers:{\"create\":true}}],staticClass:\"skin-tooltip-left g3w-span-button close-pane-button fa-stack\",attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":_vm.closeAllPanels}},[_c('i',{staticClass:\"fa-stack-1x panel-button\",class:_vm.g3wtemplate.getFontClass('circle')}),_vm._v(\" \"),_c('i',{staticClass:\"fa-stack-1x panel-icon\",class:_vm.g3wtemplate.getFontClass('close')})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"g3w-sidebarpanel-placeholder\",attrs:{\"id\":\"g3w-sidebarpanel-placeholder\"}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"g3w-sidebarcomponents-content\"}},[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showmainpanel),expression:\"showmainpanel\"}],staticClass:\"sidebar-menu\",class:{'g3w-disabled': _vm.state.disabled},attrs:{\"id\":\"g3w-sidebarcomponents\"}})])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b2170cb4\"\n\n},{\"core/i18n/i18n.service\":13,\"gui/sidebar/eventbus\":179,\"services/sidebar\":368,\"store/application-state\":372}],295:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _eventbus = require('gui/sidebar/eventbus');\n\nvar _eventbus2 = _interopRequireDefault(_eventbus);\n\nvar _SidebarItemAction = require('components/SidebarItemAction.vue');\n\nvar _SidebarItemAction2 = _interopRequireDefault(_SidebarItemAction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"SidebarItem\",\n  data: function data() {\n    return {\n      info: this.$options.info || {\n        state: null,\n        style: null,\n        class: null\n      },\n      main: true,\n      component: this.$options.component,\n      active: false,\n      title: '',\n      open: false,\n      icon: null,\n      iconColor: null,\n      collapsible: null\n    };\n  },\n\n  components: {\n    SidebarItemAction: _SidebarItemAction2.default\n  },\n  methods: {\n    onClickItem: function onClickItem(evt) {\n      var _this = this;\n\n      this.component.isolate && evt.stopPropagation();\n      if (!this.component.isolate) {\n        this.$options.service.state.components.forEach(function (component) {\n          if (component !== _this.component) {\n            if (component.getOpen()) {\n              component.click({\n                open: component.isolate\n              });\n            }\n          }\n        });\n        !this.component.collapsible && isMobile.any && _eventbus2.default.$emit('sidebaritemclick');\n      }\n      this.component.setOpen(!this.component.state.open);\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.component.openClose = function () {\n      return _this2.$refs.anchor_click.click();\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.visible),expression:\"state.visible\"},{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.disabled),expression:\"state.disabled\"}],staticClass:\"treeview sidebaritem\",class:{'active': _vm.open},attrs:{\"id\":_vm.component.id}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_c('a',{ref:\"anchor_click\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onClickItem($event)}}},[_c('div',[_c('i',{class:_vm.icon,style:({color: _vm.iconColor})}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.title),expression:\"title\"}],staticClass:\"treeview-label\"})]),_vm._v(\" \"),_c('div',[(_vm.info.state)?_c('span',{class:_vm.info.class,staticStyle:{\"position\":\"absolute\",\"right\":\"5px\",\"font-weight\":\"bold\"},style:(_vm.info.style),attrs:{\"title\":_vm.info.tooltip}},[_vm._v(_vm._s(_vm.info.state))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.actions),function(action){return _c('sidebar-item-action',{key:action.id,attrs:{\"component\":_vm.component.internalComponent,\"action\":action}})})],2),_vm._v(\" \"),(_vm.collapsible)?_c('i',{staticClass:\"pull-right\",class:_vm.g3wtemplate.getFontClass('angle-left')}):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"g3w-sidebarcomponent-placeholder\"}})],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2f606059\"\n\n},{\"components/SidebarItemAction.vue\":296,\"gui/sidebar/eventbus\":179}],296:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'Sidebaritemaction',\n  props: {\n    action: {\n      type: Object,\n      required: true\n    },\n    component: {\n      type: Object\n    }\n  },\n  methods: {\n    triggerAction: function triggerAction() {\n      this.action.fnc(this.component);\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:(_vm.action.tooltip),expression:\"action.tooltip\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action skin-tooltip-left\",class:_vm.action.class,staticStyle:{\"font-weight\":\"bold\",\"padding\":\"3px\"},style:(_vm.action.style),on:{\"click\":function($event){$event.stopPropagation();return _vm.triggerAction($event)}}})}\n__vue__options__.staticRenderFns = []\n\n},{}],297:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SpatialBookMarkItem = require(\"components/SpatialBookMarkItem.vue\");\n\nvar _SpatialBookMarkItem2 = _interopRequireDefault(_SpatialBookMarkItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  props: {\n    group: {\n      type: Object,\n\n      required: true\n    }\n  },\n  components: {\n    SpatialBookMarkItem: _SpatialBookMarkItem2.default\n  },\n  methods: {},\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('div',{staticStyle:{\"font-weight\":\"bold\",\"width\":\"100%\"},style:({borderBottom: _vm.group.expanded ? '2px solid #2c3b41' : 'none'}),on:{\"click\":function($event){$event.stopPropagation();_vm.group.expanded = !_vm.group.expanded}}},[_c('span',{class:[_vm.g3wtemplate.getFontClass(_vm.group.expanded ? 'caret-down' : 'caret-right')],staticStyle:{\"margin-right\":\"5px\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.group.name))])]),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.group.expanded),expression:\"group.expanded\"}],staticStyle:{\"margin-left\":\"10px\"}},_vm._l((_vm.group.nodes),function(node){return _c('spatial-book-mark-item',{attrs:{\"bookmark\":node}})}),1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-07ff686a\"\n\n},{\"components/SpatialBookMarkItem.vue\":298}],298:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".spatial-bookmark[data-v-fab34912]{display:flex;align-items:baseline;justify-content:space-between;padding:5px!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nexports.default = {\n  props: {\n    bookmark: {\n      type: Object,\n\n      required: true\n    }\n  },\n  methods: {\n    removeBookMark: function removeBookMark() {},\n    gotoSpatialBookmark: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref) {\n        var extent = _ref.extent,\n            crs = _ref.crs;\n        var projection;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(_gui2.default.getService('map').getEpsg().split('EPSG:')[1] !== crs.epsg)) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 3;\n                return Projections.registerProjection('EPSG:' + crs.epsg);\n\n              case 3:\n                projection = _context.sent;\n\n                extent = ol.proj.transformExtent(extent, projection, _gui2.default.getService('map').getProjection());\n\n              case 5:\n                _gui2.default.getService('map').zoomToExtent(extent, { force: true });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function gotoSpatialBookmark(_x) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return gotoSpatialBookmark;\n    }()\n  },\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"spatial-bookmark\",on:{\"click\":function($event){$event.stopPropagation();return _vm.gotoSpatialBookmark(_vm.bookmark)}}},[_c('div',[_c('span',{class:_vm.g3wtemplate.getFontClass('bookmark'),staticStyle:{\"margin-right\":\"5px\",\"font-size\":\"0.7em\"}}),_vm._v(\" \"),_c('span',{staticClass:\"g3w-long-text\"},[_vm._v(_vm._s(_vm.bookmark.name))])]),_vm._v(\" \"),(_vm.bookmark.removable)?_c('span',{staticStyle:{\"color\":\"red\",\"margin\":\"5px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('remove-bookmark', _vm.bookmark.id)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('trash')})]):_vm._e()])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-fab34912\"\n\n},{\"g3w-ol/projection/projections\":110,\"services/gui\":360,\"vueify/lib/insert-css\":1}],299:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".content-bookmarks{font-weight:700;color:#fff;padding:5px;border-bottom:2px solid #fff;margin-bottom:5px}.container.add-bookmark-input p.error-input-message{color:#fff}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _SpatialBookMarkGroup = require('components/SpatialBookMarkGroup.vue');\n\nvar _SpatialBookMarkGroup2 = _interopRequireDefault(_SpatialBookMarkGroup);\n\nvar _SpatialBookMarkItem = require('components/SpatialBookMarkItem.vue');\n\nvar _SpatialBookMarkItem2 = _interopRequireDefault(_SpatialBookMarkItem);\n\nvar _InputText = require('components/InputText.vue');\n\nvar _InputText2 = _interopRequireDefault(_InputText);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar SPATIAL_BOOKMARKS_LOCALITEMS = _application2.default.getLocalItem(_constant.LOCAL_ITEM_IDS.SPATIALBOOKMARKS.id);\n\nexports.default = {\n\n  components: {\n    SpatialBookMarkGroup: _SpatialBookMarkGroup2.default,\n    SpatialBookMarkItem: _SpatialBookMarkItem2.default,\n    InputText: _InputText2.default\n  },\n\n  data: function data() {\n    var project = _projects2.default.getCurrentProject();\n\n    if (\"undefined\" === typeof SPATIAL_BOOKMARKS_LOCALITEMS[project.getId()]) {\n      SPATIAL_BOOKMARKS_LOCALITEMS[project.getId()] = [];\n    }\n\n    return {\n      showaddform: false,\n\n      project: {\n        bookmarks: project.getSpatialBookmarks() || []\n      },\n\n      user: {\n        bookmarks: SPATIAL_BOOKMARKS_LOCALITEMS[project.getId()]\n      },\n\n      addbookmarkinput: {\n        name: 'add-bookmark',\n        label: t('sdk.spatialbookmarks.input.name'),\n        value: null,\n        editable: true,\n        type: 'varchar',\n        input: {\n          type: 'text',\n          options: {}\n        },\n        visible: true,\n        validate: {\n          valid: false,\n          required: true\n        }\n      }\n\n    };\n  },\n\n\n  computed: {\n    hasProjectbookmarks: function hasProjectbookmarks() {\n      return this.project.bookmarks.length > 0;\n    }\n  },\n\n  methods: {\n    addBookMark: function addBookMark() {\n      this.user.bookmarks.push({\n        id: uniqueId(),\n        name: this.addbookmarkinput.value,\n        extent: _gui2.default.getService('map').getMapExtent(),\n        removable: true,\n        crs: {\n          epsg: 1 * _gui2.default.getService('map').getCrs().split('EPSG:')[1]\n        }\n      });\n      this.saveUserBookMarks();\n      this.showaddform = false;\n    },\n    removeBookMark: function removeBookMark(id) {\n      this.user.bookmarks = this.user.bookmarks.filter(function (bookmark) {\n        return bookmark.id !== id;\n      });\n      this.saveUserBookMarks();\n    },\n    saveUserBookMarks: function saveUserBookMarks() {\n      SPATIAL_BOOKMARKS_LOCALITEMS[_projects2.default.getCurrentProject().getId()] = this.user.bookmarks;\n      _application2.default.setLocalItem({\n        id: _constant.LOCAL_ITEM_IDS.SPATIALBOOKMARKS.id,\n        data: SPATIAL_BOOKMARKS_LOCALITEMS\n      });\n    },\n    showAddForm: function showAddForm() {\n      this.addbookmarkinput.value = null;\n      this.showaddform = true;\n    }\n  },\n\n  created: function created() {\n    var _this = this;\n\n    this.$on('close', function () {\n      _this.showaddform = false;\n    });\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"treeview-menu g3w-spatial-bookmarks menu-items\",class:{'g3w-tools': !_vm.showaddform},attrs:{\"id\":\"g3w-spatial-bookmarks\"}},[(_vm.showaddform)?[_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"end\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('close'),expression:\"'close'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"sidebar-button sidebar-button-icon\",class:_vm.g3wtemplate.getFontClass('close'),staticStyle:{\"padding\":\"5px\",\"margin\":\"3px\"},on:{\"click\":function($event){$event.stopPropagation();_vm.showaddform = false}}})]),_vm._v(\" \"),_c('helpdiv',{attrs:{\"message\":\"sdk.spatialbookmarks.helptext\"}}),_vm._v(\" \"),_c('div',{staticClass:\"container add-bookmark-input\",staticStyle:{\"padding\":\"5px\",\"width\":\"100%\"}},[_c('input-text',{attrs:{\"state\":_vm.addbookmarkinput}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"5px\"}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('add'),expression:\"'add'\"},{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.addbookmarkinput.validate.valid),expression:\"!addbookmarkinput.validate.valid\"}],staticClass:\"sidebar-button-run btn btn-block\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addBookMark($event)}}})])],1)]:[(_vm.hasProjectbookmarks)?[_c('div',{staticClass:\"content-bookmarks\"},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.spatialbookmarks.sections.project.title'),expression:\"'sdk.spatialbookmarks.sections.project.title'\"}]})]),_vm._v(\" \"),_vm._l((_vm.project.bookmarks),function(bookmark){return [(bookmark.nodes)?_c('spatial-book-mark-group',{attrs:{\"group\":bookmark}}):_c('spatial-book-mark-item',{attrs:{\"bookmark\":bookmark}})]})]:_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"content-bookmarks\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"margin-top\":\"10px\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.spatialbookmarks.sections.user.title'),expression:\"'sdk.spatialbookmarks.sections.user.title'\"}],staticStyle:{\"font-weight\":\"bold\",\"color\":\"#ffffff\"}}),_vm._v(\" \"),_c('span',{staticClass:\"sidebar-button sidebar-button-icon\",class:_vm.g3wtemplate.getFontClass('plus'),staticStyle:{\"padding\":\"5px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showAddForm($event)}}})]),_vm._v(\" \"),_vm._l((_vm.user.bookmarks),function(bookmark){return _c('spatial-book-mark-item',{attrs:{\"bookmark\":bookmark},on:{\"remove-bookmark\":_vm.removeBookMark}})})]],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"components/InputText.vue\":249,\"components/SpatialBookMarkGroup.vue\":297,\"components/SpatialBookMarkItem.vue\":298,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"services/application\":350,\"services/gui\":360,\"store/projects\":378,\"vueify/lib/insert-css\":1}],300:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"#streetview-error-key[data-v-06dad624]{display:flex;justify-content:center;align-items:center;font-weight:700;height:100%;padding:10px;background-color:#fff}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"streetview\"}},[(_vm.$options.keyError)?_c('div',{attrs:{\"id\":\"streetview-error-key\"}},[_c('span',{staticClass:\"skin-color\"},[_vm._v(\" \"+_vm._s(_vm.$options.keyError))])]):_vm._e()])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-06dad624\"\n\n},{\"vueify/lib/insert-css\":1}],301:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".geometry[data-v-b4d834d0]{cursor:pointer}#noheaders[data-v-b4d834d0]{background-color:#fff;font-weight:700;margin-top:10px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _TableBody = require('components/TableBody.vue');\n\nvar _TableBody2 = _interopRequireDefault(_TableBody);\n\nvar _TableSelectRow = require('components/TableSelectRow.vue');\n\nvar _TableSelectRow2 = _interopRequireDefault(_TableSelectRow);\n\nvar _TableToolbar = require('components/TableToolbar.vue');\n\nvar _TableToolbar2 = _interopRequireDefault(_TableToolbar);\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    debounce = _require.debounce;\n\nvar dataTable = void 0;\nvar fieldsComponents = [];\nvar eventHandlers = {\n  pagination: {},\n  nopagination: {}\n};\n\nexports.default = {\n  name: \"G3WTable\",\n  mixins: [_mixins.resizeMixin],\n  data: function data() {\n    return {\n      tableBodyComponent: null,\n      state: null,\n      table: null,\n      selectedRow: null\n    };\n  },\n\n  components: {\n    TableBody: _TableBody2.default\n  },\n  methods: {\n    getDataFromBBOX: function getDataFromBBOX() {\n      this.$options.service.getDataFromBBOX();\n    },\n    toggleFilterToken: function toggleFilterToken() {\n      this.$options.service.toggleFilterToken();\n    },\n    clearAllSelection: function clearAllSelection() {\n      this.$options.service.clearLayerSelection();\n    },\n    switchSelection: function switchSelection() {\n      this.$options.service.switchSelection();\n    },\n    selectAllRow: function selectAllRow() {\n      this.state.features.length && this.$options.service.selectAllFeatures();\n    },\n    _setLayout: function _setLayout() {\n      this.$options.service._setLayout();\n    },\n    zoomAndHighLightFeature: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(feature) {\n        var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!feature.geometry) {\n                  _context.next = 4;\n                  break;\n                }\n\n                this.$options.service.zoomAndHighLightFeature(feature, zoom);\n                _context.next = 6;\n                break;\n\n              case 4:\n                _context.next = 6;\n                return this.$options.service.zoomAndHighLightGeometryRelationFeatures(feature, zoom);\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function zoomAndHighLightFeature(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return zoomAndHighLightFeature;\n    }(),\n    addRemoveSelectedFeature: function addRemoveSelectedFeature(feature) {\n      this.$options.service.addRemoveSelectedFeature(feature);\n    },\n    reloadLayout: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                dataTable && dataTable.columns.adjust();\n\n              case 3:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function reloadLayout() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return reloadLayout;\n    }(),\n    hasHeaders: function hasHeaders() {\n      return !!this.state.headers.length;\n    },\n    createdContentBody: function createdContentBody() {\n      var _this = this;\n\n      fieldsComponents = fieldsComponents.filter(function (fieldComponent) {\n        fieldComponent.$destroy();\n        return false;\n      });\n      var trDomeElements = dataTable.rows().nodes();\n\n      trDomeElements.each(function (rowElement, index) {\n        $(rowElement).css('cursor', 'pointer');\n        if (_this.state.features.length) {\n          var feature = _this.state.features[index];\n          var hasGeometry = !!feature.geometry;\n          $(rowElement).addClass('feature_attribute');\n          feature.selected && $(rowElement).addClass('selected');\n          $(rowElement).on('click', function () {\n            return hasGeometry && _this.zoomAndHighLightFeature(feature);\n          });\n          $(rowElement).on('mouseover', function () {\n            return hasGeometry && _this.zoomAndHighLightFeature(feature, false);\n          });\n          $(rowElement).children().each(function (index, element) {\n            var header = _this.state.headers[index];\n            var contentDOM = void 0;\n            if (header === null) {\n              var SelectRowClass = Vue.extend(_TableSelectRow2.default);\n              var SelectRowInstance = new SelectRowClass({\n                propsData: {\n                  feature: feature\n                }\n              });\n              SelectRowInstance.$on('selected', function (feature) {\n                return _this.$options.service.addRemoveSelectedFeature(feature);\n              });\n              _this.$watch(function () {\n                return feature.selected;\n              }, function (selected) {\n                selected ? $(rowElement).addClass('selected') : $(rowElement).removeClass('selected');\n              });\n              contentDOM = SelectRowInstance.$mount().$el;\n            } else {\n              var fieldClass = Vue.extend(_FieldG3W2.default);\n              var fieldInstance = new fieldClass({\n                propsData: {\n                  state: {\n                    value: feature.attributes[header.name]\n                  }\n                }\n              });\n              fieldInstance.$mount();\n              fieldsComponents.push(fieldInstance);\n              contentDOM = fieldInstance.$el;\n            }\n            $(element).html(contentDOM);\n          });\n        }\n      });\n      setTimeout(function () {\n        return _this.reloadLayout();\n      }, 0);\n    },\n    resize: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var tableHeight, tableHeaderHeight;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                tableHeight = $(\".content\").height();\n                tableHeaderHeight = $('#open_attribute_table  div.dataTables_scrollHeadInner').height();\n\n                $('#open_attribute_table  div.dataTables_scrollBody').height(tableHeight - tableHeaderHeight - 130);\n\n              case 5:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function resize() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return resize;\n    }()\n  },\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee7() {\n      var _this2 = this;\n\n      var hideElements, commonDataTableOptions, debounceSearch, G3WTableToolbarClass, G3WTableToolbarInstance;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              this.setContentKey = _gui2.default.onafter('setContent', this.resize);\n\n              hideElements = function hideElements() {\n                $('.dataTables_info, .dataTables_length').hide();\n                $('.dataTables_paginate').css({\n                  'display': 'flex',\n                  'justify-content': 'space-between',\n                  'font-size': '0.8em',\n                  'margin-top': '5px'\n                });\n                $('.dataTables_filter').css('float', 'right');\n                $('.dataTables_paginate').css('margin', '0');\n              };\n\n              _context7.next = 4;\n              return this.$nextTick();\n\n            case 4:\n              this.first = false;\n              commonDataTableOptions = {\n                \"lengthMenu\": this.state.pageLengths,\n                \"pageLength\": this.state.pageLength,\n                \"scrollX\": true,\n                \"processing\": false,\n                \"scrollCollapse\": true,\n                \"sSearch\": false,\n                \"order\": [1, 'asc'],\n                \"dom\": 'l<\"#g3w-table-toolbar\">frtip',\n                \"columnDefs\": [{\n                  \"targets\": 0,\n                  \"orderable\": false,\n                  \"searchable\": false,\n                  \"width\": '1%'\n                }]\n              };\n\n              if (this.state.pagination) {\n                dataTable = $(this.$refs.attribute_table).DataTable(_extends({}, commonDataTableOptions, {\n                  \"columns\": this.state.headers,\n                  \"ajax\": debounce(function (data, callback) {\n                    var trDomeElements = $('#open_attribute_table table tr');\n                    trDomeElements.each(function (element) {\n                      $(element).off('click');\n                      $(element).off('mouseover');\n                    });\n                    _this2.$options.service.getData(data).then(function () {\n                      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(serverData) {\n                        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                          while (1) {\n                            switch (_context4.prev = _context4.next) {\n                              case 0:\n                                callback(serverData);\n                                _context4.next = 3;\n                                return _this2.$nextTick();\n\n                              case 3:\n                                _this2.createdContentBody();\n                                _this2.isMobile() && hideElements();\n\n                              case 5:\n                              case 'end':\n                                return _context4.stop();\n                            }\n                          }\n                        }, _callee4, _this2);\n                      }));\n\n                      return function (_x3) {\n                        return _ref5.apply(this, arguments);\n                      };\n                    }()).catch(function (error) {\n                      console.log(error);\n                    });\n                  }, 800),\n                  \"serverSide\": true,\n                  \"deferLoading\": this.state.allfeatures\n                }));\n                this.$options.service.on('ajax-reload', dataTable.ajax.reload);\n                this.changeColumn = debounce(function () {\n                  var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(event, index) {\n                    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                      while (1) {\n                        switch (_context5.prev = _context5.next) {\n                          case 0:\n                            dataTable.columns(index).search(event.target.value.trim()).draw();\n\n                          case 1:\n                          case 'end':\n                            return _context5.stop();\n                        }\n                      }\n                    }, _callee5, _this2);\n                  }));\n\n                  return function (_x4, _x5) {\n                    return _ref6.apply(this, arguments);\n                  };\n                }());\n              } else {\n                dataTable = $(this.$refs.attribute_table).DataTable(_extends({}, commonDataTableOptions, {\n                  searchDelay: 600\n                }));\n                debounceSearch = debounce(function () {\n                  _this2.$options.service.setFilteredFeature(dataTable.rows({ search: 'applied' })[0]);\n                }, 600);\n\n                eventHandlers.nopagination['search.dt'] = debounceSearch;\n                dataTable.on('search.dt', debounceSearch);\n                dataTable.on('length.dt', function (evt, settings, length) {\n                  _this2.$options.service.setAttributeTablePageLength(length);\n                });\n                this.changeColumn = debounce(function () {\n                  var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee6(event, index) {\n                    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n                      while (1) {\n                        switch (_context6.prev = _context6.next) {\n                          case 0:\n                            dataTable.columns(index).search(event.target.value.trim()).draw();\n                            _this2.$options.service.setFilteredFeature(dataTable.rows({ search: 'applied' })[0]);\n\n                          case 2:\n                          case 'end':\n                            return _context6.stop();\n                        }\n                      }\n                    }, _callee6, _this2);\n                  }));\n\n                  return function (_x6, _x7) {\n                    return _ref7.apply(this, arguments);\n                  };\n                }());\n              }\n\n              this.isMobile() && hideElements();\n\n              G3WTableToolbarClass = Vue.extend(_TableToolbar2.default);\n              G3WTableToolbarInstance = new G3WTableToolbarClass({\n                propsData: {\n                  tools: this.state.tools,\n                  geolayer: this.state.geolayer,\n                  switchSelection: this.switchSelection,\n                  clearAllSelection: this.clearAllSelection,\n                  toggleFilterToken: this.toggleFilterToken,\n                  getDataFromBBOX: this.getDataFromBBOX\n                }\n              });\n\n\n              $('#g3w-table-toolbar').html(G3WTableToolbarInstance.$mount().$el);\n\n              this.$options.service.on('redraw', function (data) {\n                dataTable.clear();\n                dataTable.draw(false);\n                setTimeout(function () {\n                  dataTable.rows.add(data);\n                  dataTable.draw(false);\n                  _this2.createdContentBody();\n                  _this2.isMobile() && hideElements();\n                });\n              });\n\n            case 12:\n            case 'end':\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.$options.service.clear();\n    this.$options.service.off('ajax-reload');\n    this.$options.service.off('redraw');\n    _gui2.default.un('setContent', this.setContentKey);\n    dataTable.destroy(true);\n    dataTable = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-top\":\"5px\"},attrs:{\"id\":\"open_attribute_table\"}},[(_vm.hasHeaders())?_c('table',{ref:\"attribute_table\",staticClass:\"table table-striped row-border compact nowrap\",staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"layer_attribute_table\"}},[_c('thead',[_c('tr',[_c('th'),_vm._v(\" \"),_vm._l((_vm.state.headers),function(header,index){return (index > 0)?_c('th',[_c('input',{staticClass:\"form-control column-search\",staticStyle:{\"height\":\"25px\",\"min-width\":\"40px\",\"padding\":\"2px\"},attrs:{\"type\":\"text\",\"placeholder\":header.name},on:{\"keyup\":function($event){return _vm.changeColumn($event, index)}}})]):_vm._e()})],2),_vm._v(\" \"),_c('tr',_vm._l((_vm.state.headers),function(header,index){return _c('th',[(index === 0)?_c('span',[_c('input',{staticClass:\"magic-checkbox\",attrs:{\"type\":\"checkbox\",\"id\":\"attribute_table_select_all_rows\",\"disabled\":_vm.state.nofilteredrow || _vm.state.features.length === 0},domProps:{\"checked\":_vm.state.selectAll}}),_vm._v(\" \"),_c('label',{staticStyle:{\"margin-bottom\":\"0 !important\"},attrs:{\"for\":\"attribute_table_select_all_rows\"},on:{\"!click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.selectAllRow($event)}}},[_c('span',{staticStyle:{\"padding\":\"5px\"}})])]):_c('span',[_vm._v(_vm._s(header.label))])])}),0)]),_vm._v(\" \"),_c('table-body',{attrs:{\"headers\":_vm.state.headers,\"filter\":_vm.state.tools.filter,\"features\":_vm.state.features,\"addRemoveSelectedFeature\":_vm.addRemoveSelectedFeature,\"zoomAndHighLightFeature\":_vm.zoomAndHighLightFeature}})],1):_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('dataTable.no_data'),expression:\"'dataTable.no_data'\"}],attrs:{\"id\":\"noheaders\"}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b4d834d0\"\n\n},{\"components/FieldG3W.vue\":206,\"components/TableBody.vue\":302,\"components/TableSelectRow.vue\":303,\"components/TableToolbar.vue\":304,\"core/utils/utils\":67,\"mixins\":342,\"services/gui\":360,\"vueify/lib/insert-css\":1}],302:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _TableSelectRow = require('components/TableSelectRow.vue');\n\nvar _TableSelectRow2 = _interopRequireDefault(_TableSelectRow);\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"table-body\",\n  props: {\n    headers: {\n      required: true,\n      type: Array\n    },\n    features: {\n      required: true,\n      type: Array\n    },\n    zoomAndHighLightFeature: {\n      type: Function\n    },\n    addRemoveSelectedFeature: {\n      type: Function\n    },\n    filter: {\n      type: Object,\n      default: {\n        active: false\n      }\n    }\n  },\n  data: function data() {\n    return {\n      selectedRow: null\n    };\n  },\n\n  components: {\n    Field: _FieldG3W2.default,\n    SelectRow: _TableSelectRow2.default\n  },\n  methods: {\n    getField: function getField(feature, header) {\n      return {\n        value: feature.attributes[header.name],\n        label: undefined };\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tbody',{attrs:{\"id\":\"table_body_attributes\"}},_vm._l((_vm.features),function(feature,index){return _c('tr',{key:feature.id,staticClass:\"feature_attribute\",class:[index %2 == 1 ? 'odd' : 'pair', {geometry: !!feature.geometry}, {'selected': feature.selected}],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"role\":\"row\",\"selected\":_vm.selectedRow === index},on:{\"mouseover\":function($event){return _vm.zoomAndHighLightFeature(feature, false)},\"click\":function($event){return _vm.zoomAndHighLightFeature(feature, true)}}},_vm._l((_vm.headers),function(header,hindex){return _c('td',{attrs:{\"tab-index\":1}},[(hindex===0)?_c('select-row',{attrs:{\"feature\":feature},on:{\"selected\":_vm.addRemoveSelectedFeature}}):_c('field',{attrs:{\"feature\":feature,\"state\":_vm.getField(feature, header)}})],1)}),0)}),0)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-521d3b4c\"\n\n},{\"components/FieldG3W.vue\":206,\"components/TableSelectRow.vue\":303}],303:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"select-row\",\n  props: {\n    feature: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      id: getUniqueDomId()\n    };\n  },\n\n  methods: {\n    select: function select() {\n      this.$emit('selected', this.feature);\n    }\n  },\n  destroyed: function destroyed() {\n    this.$off('selected');\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('input',{staticClass:\"magic-checkbox\",attrs:{\"type\":\"checkbox\",\"id\":_vm.id},domProps:{\"checked\":_vm.feature.selected}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.id},on:{\"!click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.select($event)}}},[_c('span')])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-f4034894\"\n\n},{\"core/utils/utils\":67}],304:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".action-button[data-v-4f671d73]{padding:4px}.action-button.toggled[data-v-4f671d73]{border:1px solid #ccc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require(\"store/application-state\");\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-table-toolbar\",\n  props: {\n    tools: {\n      type: Object\n    },\n    switchSelection: {\n      type: Function\n    },\n    clearAllSelection: {\n      type: Function\n    },\n    toggleFilterToken: {\n      type: Function\n    },\n    getDataFromBBOX: {\n      type: Function\n    }\n  },\n  computed: {\n    disableMapTool: function disableMapTool() {\n      return !this.tools.geolayer.active && _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel.height_100;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"padding\":\"1px\"}},[(_vm.tools.geolayer.show)?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disableMapTool),expression:\"disableMapTool\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.show_features_on_map'),expression:\"'layer_selection_filter.tools.show_features_on_map'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('map'), _vm.tools.geolayer.active ? 'toggled' : ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.getDataFromBBOX($event)}}}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.clear'),expression:\"'layer_selection_filter.tools.clear'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:_vm.g3wtemplate.getFontClass('clear'),attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.clearAllSelection($event)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.invert'),expression:\"'layer_selection_filter.tools.invert'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('invert'), _vm.tools.filter.active ? 'g3w-disabled': ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.switchSelection($event)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('filter'), _vm.tools.filter.active ? 'toggled' : ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleFilterToken($event)}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-4f671d73\"\n\n},{\"store/application-state\":372,\"vueify/lib/insert-css\":1}],305:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".tool_disabled[data-v-31811884]{cursor:not-allowed}.tool_disabled>span[data-v-31811884]{color:#777}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AppState = _application2.default.getState();\n\nvar TOOLSTATE = {\n  alert: {\n    color: 'red'\n  },\n  info: {\n    color: 'blue'\n  },\n  warning: {\n    color: 'orange'\n  }\n};\n\nexports.default = {\n  name: \"g3w-tool\",\n  props: {\n    tool: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {};\n  },\n\n  methods: {\n    fireAction: function fireAction(tool) {\n      this.tool.action(tool);\n    },\n    showToolStateMessage: function showToolStateMessage() {\n      _gui2.default.showModalDialog({\n        title: this.tool.state.type.toUpperCase(),\n        message: this.tool.state.message\n      });\n    }\n  },\n  computed: {\n    disabled: function disabled() {\n      return !this.tool.offline && !AppState.online || this.tool.loading || this.tool.disabled;\n    },\n    icon: function icon() {\n      return this.tool.icon || 'caret-right';\n    },\n    toolstatecolor: function toolstatecolor() {\n      return TOOLSTATE[this.tool.state.type].color;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.tool.type === 'checkbox' )?_c('div',{staticClass:\"checkbox\"},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tool.isCheck),expression:\"tool.isCheck\"}],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"id\":_vm.tool.layerName,\"type\":\"checkbox\"},domProps:{\"value\":_vm.tool.layerName,\"checked\":Array.isArray(_vm.tool.isCheck)?_vm._i(_vm.tool.isCheck,_vm.tool.layerName)>-1:(_vm.tool.isCheck)},on:{\"click\":function($event){return _vm.fireAction(_vm.tool)},\"change\":function($event){var $$a=_vm.tool.isCheck,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=_vm.tool.layerName,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.tool, \"isCheck\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.tool, \"isCheck\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.tool, \"isCheck\", $$c)}}}}),_vm._v(\"\\n      \"+_vm._s(_vm.tool.name)+\"\\n    \")])]):_c('div',{staticClass:\"tool\",class:{tool_disabled: _vm.disabled},staticStyle:{\"position\":\"relative\"},on:{\"click\":function($event){!_vm.disabled ? _vm.fireAction(_vm.tool) : null}}},[_c('bar-loader',{attrs:{\"loading\":_vm.tool.loading}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass(_vm.icon)}),_vm._v(\" \"),(_vm.tool.html)?_c('span',[_c('i',{class:_vm.tool.html.icon}),_vm._v(\"\\n      \"+_vm._s(_vm.tool.html.text || _vm.tool.name)+\"\\n    \")]):_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.tool.name),expression:\"tool.name\"}]}),_vm._v(\" \"),(_vm.tool.state.type)?_c('span',{staticStyle:{\"cursor\":\"pointer\",\"vertical-align\":\"center\",\"position\":\"absolute\",\"right\":\"0\",\"top\":\"0\",\"padding\":\"5px\"},style:({color: _vm.toolstatecolor}),on:{\"click\":function($event){$event.stopPropagation();return _vm.showToolStateMessage($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass(_vm.tool.state.type)})]):_vm._e()],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-31811884\"\n\n},{\"services/application\":350,\"services/gui\":360,\"vueify/lib/insert-css\":1}],306:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Tool = require('components/Tool.vue');\n\nvar _Tool2 = _interopRequireDefault(_Tool);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  },\n\n  watch: {\n    'state.toolsGroups': {\n      handler: function handler(groups) {\n        this.$emit('visible', groups.length > 0);\n      }\n    }\n  },\n  components: {\n    G3wTool: _Tool2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"g3w-tools treeview-menu\"},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_vm._l((_vm.state.toolsGroups),function(group){return _c('li',{key:group.name},[_c('div',{staticClass:\"tool-header\"},[_c('i',{class:_vm.g3wtemplate.getFontClass('tool')}),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(group.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"tool-box\",attrs:{\"id\":group.name + '-tools'}},_vm._l((group.tools),function(tool){return _c('g3w-tool',{key:tool.name,attrs:{\"tool\":tool}})}),1)])})],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/Tool.vue\":305}],307:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".usermessage-content[data-v-57c4f706]{color:#fff;z-index:1000;position:absolute;line-height:normal;padding:3px;min-width:250px;box-shadow:0 3px 5px rgba(0,0,0,.3);-moz-box-shadow:0 3px 5px rgba(0,0,0,.3)}.usermessage-content.mobile[data-v-57c4f706]{padding:0;min-width:100%}.usermessage-header-content[data-v-57c4f706]{display:flex;align-items:baseline;justify-content:space-between;width:100%}.usermessage-header-icontype[data-v-57c4f706]{padding:10px 0 0 5px;font-weight:700;font-size:1.3em}.usermessage-content.mobile .usermessage-header-icontype[data-v-57c4f706]{padding:0 0 0 5px;font-size:1.1em}.usermessage-header-title[data-v-57c4f706],.usermessage-header-title h4[data-v-57c4f706]{font-weight:700;text-align:center}.usermessage-content.mobile .usermessage-header-title h4[data-v-57c4f706]{margin:0}.usermessage-header-subtitle[data-v-57c4f706]{font-weight:700;margin:5px}.usermessage-header-right[data-v-57c4f706]{padding:5px}.usermessage-header-right-item[data-v-57c4f706]{font-weight:700!important;font-size:1.2em;cursor:pointer}.usermessage-message[data-v-57c4f706]{width:100%;padding:0 0 3px 10px;max-height:100px;font-size:1.1em;align-self:flex-start;overflow-y:auto}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar COLORS = {\n  success: {\n    backgroundColor: '#62ac62',\n    color: '#FFFFFF'\n  },\n  info: {\n    backgroundColor: '#44a0bb',\n    color: '#FFFFFF'\n  },\n  warning: {\n    backgroundColor: '#f29e1d',\n    color: '#FFFFFF'\n  },\n  alert: {\n    backgroundColor: '#c34943',\n    color: '#FFFFFF'\n  },\n  tool: {\n    backgroundColor: '#FFFFFF',\n    color: \"#222d32\"\n  },\n  loading: {\n    backgroundColor: '#FFFFFF',\n    color: \"#222d32\",\n    fontWeight: \"bold\"\n  }\n};\n\nvar STYLES = {\n  success: {},\n  info: {},\n  warning: {},\n  alert: {},\n  tool: {\n    \"z-index\": _constant.ZINDEXES.usermessage.tool,\n    left: \"40px\"\n  },\n  loading: {}\n};\n\nexports.default = {\n  name: \"usermessage\",\n  props: {\n    id: {},\n    type: {\n      type: String,\n      default: 'info' },\n    title: {\n      type: String,\n      default: null\n    },\n    subtitle: {\n      type: String,\n      default: null\n    },\n    position: {\n      type: String,\n      default: 'top'\n    },\n    size: {\n      type: 'String',\n      default: 'fullpage'\n    },\n    message: {\n      type: String,\n      default: ''\n    },\n    textMessage: {\n      type: Boolean,\n      default: false\n    },\n    autoclose: {\n      type: Boolean,\n      default: false\n    },\n    draggable: {\n      type: Boolean,\n      default: false\n    },\n    duration: {\n      type: Number,\n      default: 2000\n    },\n    closable: {\n      type: Boolean,\n      default: true\n    }\n  },\n  computed: {\n    showheader: function showheader() {\n      return this.type !== 'loading';\n    }\n  },\n  methods: {\n    addClassMobile: function addClassMobile() {\n      return this.isMobile() && !_gui2.default.isSidebarVisible();\n    },\n    closeUserMessage: function closeUserMessage() {\n      this.$emit('close-usermessage');\n    },\n    hideShow: function hideShow() {}\n  },\n  created: function created() {\n    var _position$split = this.position.split('-'),\n        _position$split2 = _slicedToArray(_position$split, 2),\n        where = _position$split2[0],\n        alignement = _position$split2[1];\n\n    var width = '100%';\n    switch (this.size) {\n      case 'small':\n        width = '25%';\n        break;\n      case 'medium':\n        width = '50%';\n        break;\n      case 'fullpage':\n      default:\n        width = '100%';\n    }\n    if (where === 'center') where = {\n      top: 0,\n      bottom: 0,\n      maxHeight: '20%'\n    };else {\n      where = _defineProperty({}, where, 50);\n    }\n    var position = _extends({}, where, {\n      width: width\n    });\n    if (alignement) {\n      position.width = '25%';\n      switch (alignement) {\n        case 'center':\n          position.left = '0';\n          position.right = '0';\n          position.margin = 'auto';\n          break;\n        case 'right':\n          position.right = 0;\n          break;\n      }\n    }\n    this.style = _extends({}, COLORS[this.type], position, STYLES[this.type]);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var timeout;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!this.autoclose) {\n                _context.next = 4;\n                break;\n              }\n\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              timeout = setTimeout(function () {\n                _this.closeUserMessage();\n                clearTimeout(timeout);\n              }, this.duration);\n\n            case 4:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"usermessage-content\",class:{'mobile': _vm.addClassMobile()},style:(_vm.style),attrs:{\"id\":_vm.id}},[(_vm.showheader)?_c('div',{staticClass:\"usermessage-header-content\"},[_c('i',{staticClass:\"usermessage-header-icontype\",class:_vm.g3wtemplate.getFontClass(_vm.type)}),_vm._v(\" \"),_c('div',{staticClass:\"usermessage-header-title\"},[_vm._t(\"header\",[(_vm.title)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.title),expression:\"title\"}]}):_c('h4',[_vm._v(\" \"+_vm._s(_vm.type.toUpperCase()))]),_vm._v(\" \"),(_vm.subtitle)?_c('h5',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.subtitle),expression:\"subtitle\"}],staticClass:\"usermessage-header-subtitle\"}):_vm._e()])],2),_vm._v(\" \"),_c('div',{staticClass:\"usermessage-header-right\"},[(!_vm.autoclose && _vm.closable)?_c('div',{on:{\"click\":_vm.closeUserMessage}},[_c('i',{staticClass:\"usermessage-header-right-item\",class:_vm.g3wtemplate.getFontClass('close')})]):_vm._e()])]):_vm._e(),_vm._v(\" \"),_vm._t(\"body\",[(_vm.textMessage)?_c('div',{staticClass:\"usermessage-message\"},[_vm._v(_vm._s(_vm.message))]):_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.message),expression:\"message\"}],staticClass:\"usermessage-message\"})]),_vm._v(\" \"),_vm._t(\"footer\")],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-57c4f706\"\n\n},{\"app/constant\":4,\"services/gui\":360,\"vueify/lib/insert-css\":1}],308:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".content_breadcrumb[data-v-466a54cc]{font-size:1.2em;padding:0 3px;border-radius:3px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _UserMessage = require('components/UserMessage.vue');\n\nvar _UserMessage2 = _interopRequireDefault(_UserMessage);\n\nvar _NotifyOnline = require('components/NotifyOnline.vue');\n\nvar _NotifyOnline2 = _interopRequireDefault(_NotifyOnline);\n\nvar _NotifyDownload = require('components/NotifyDownload.vue');\n\nvar _NotifyDownload2 = _interopRequireDefault(_NotifyDownload);\n\nvar _NotifyPlugins = require('components/NotifyPlugins.vue');\n\nvar _NotifyPlugins2 = _interopRequireDefault(_NotifyPlugins);\n\nvar _constant = require('app/constant');\n\nvar _viewport = require('services/viewport');\n\nvar _viewport2 = _interopRequireDefault(_viewport);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexports.default = {\n  name: \"Viewport\",\n  props: {\n    appState: {\n      type: Object\n    }\n  },\n  components: {\n    userMessage: _UserMessage2.default,\n    onlineNotify: _NotifyOnline2.default,\n    downloadNotify: _NotifyDownload2.default,\n    pluginsNotify: _NotifyPlugins2.default\n  },\n  data: function data() {\n    return {\n      state: _viewport2.default.state,\n      updatePreviousTitle: false,\n      media: {\n        matches: true\n      }\n    };\n  },\n\n  computed: {\n    breadcrumb: function breadcrumb() {\n      return this.state.content.contentsdata.filter(function (content) {\n        return content.options.crumb;\n      }).map(function (content) {\n        return content.options.crumb;\n      });\n    },\n    showresize: function showresize() {\n      var currentPerc = _viewport2.default.getCurrentContentLayout()[this.state.split === 'h' ? 'width' : 'height'];\n      return this.state.resized.start && this.state.secondaryPerc > 0 && this.state.secondaryPerc < 100 && currentPerc < 100 && currentPerc > 0;\n    },\n    showresizeicon: function showresizeicon() {\n      return this.state.secondaryPerc !== 100;\n    },\n    hooks: function hooks() {\n      return this.usermessage.hooks;\n    },\n    usermessage: function usermessage() {\n      return this.state.usermessage;\n    },\n    showtitle: function showtitle() {\n      var showtitle = true;\n      var contentsData = this.state.content.contentsdata;\n      if (contentsData.length) {\n        var options = contentsData[contentsData.length - 1].options;\n        if (_.isBoolean(options.showtitle)) showtitle = options.showtitle;\n      }\n      return showtitle;\n    },\n    showContent: function showContent() {\n      return this.state.content.show;\n    },\n    styles: function styles() {\n      return {\n        map: {\n          width: this.state.map.sizes.width + 'px',\n          height: this.state.map.sizes.height + 'px'\n        },\n        content: {\n          width: this.state.content.sizes.width + 'px',\n          height: this.state.content.sizes.height + 'px',\n          zIndex: _constant.ZINDEXES.usermessage.tool + 1,\n          minHeight: this.state.split === 'v' ? _constant.VIEWPORT.resize.content.min + 'px' : null\n        }\n      };\n    },\n    contentTitle: function contentTitle() {\n      var contentsData = this.state.content.contentsdata;\n      if (contentsData.length) {\n        var _contentsData$options = contentsData[contentsData.length - 1].options,\n            title = _contentsData$options.title,\n            post_title = _contentsData$options.post_title;\n\n        return { title: title, post_title: post_title };\n      }\n    },\n    backOrBackTo: function backOrBackTo() {\n      var contentsData = this.state.content.contentsdata;\n      return contentsData.length > 1 && this.state.content.showgoback ? !contentsData[contentsData.length - 2].options.title ? 'back' : 'backto' : false;\n    },\n    previousTitle: function previousTitle() {\n      var _this = this;\n\n      var contentsData = this.state.content.contentsdata;\n      var title = contentsData.length > 1 && this.state.content.showgoback ? contentsData[contentsData.length - 2].options.title : null;\n      this.updatePreviousTitle = true;\n      this.$nextTick(function () {\n        return _this.updatePreviousTitle = false;\n      });\n      return title;\n    }\n  },\n  methods: {\n    isNotLastCrumb: function isNotLastCrumb(index) {\n      return index < this.breadcrumb.length - 1;\n    },\n    closeContent: function closeContent() {\n      _gui2.default.closeContent();\n    },\n    closeMap: function closeMap() {\n      _viewport2.default.closeMap();\n    },\n    gotoPreviousContent: function gotoPreviousContent() {\n      _gui2.default.popContent();\n    },\n    closeUserMessage: function closeUserMessage() {\n      _gui2.default.closeUserMessage();\n    },\n    moveFnc: function moveFnc(evt) {\n      var size = this.state.split === 'h' ? 'width' : 'height';\n      evt.preventDefault();\n      var sidebarHeaderSize = size === 'width' ? $('.sidebar-collapse').length ? 0 : _viewport2.default.SIDEBARWIDTH : $('#main-navbar').height();\n      var viewPortSize = $(this.$el)[size]();\n      var mapSize = (size === 'width' ? evt.pageX + 2 : evt.pageY + 2) - sidebarHeaderSize;\n      if (mapSize > viewPortSize - _constant.VIEWPORT.resize.content.min) mapSize = viewPortSize - _constant.VIEWPORT.resize.content.min;else if (mapSize < _constant.VIEWPORT.resize.map.min) mapSize = _constant.VIEWPORT.resize.map.min;\n      var contentSize = viewPortSize - mapSize;\n      var resizePercentageMap = Math.round(mapSize / viewPortSize * 100);\n      var resizePercentageContent = 100 - resizePercentageMap;\n      _viewport2.default.resizeViewComponents(this.state.split, {\n        map: _defineProperty({}, size, mapSize),\n        content: _defineProperty({}, size, contentSize)\n      }, resizePercentageContent);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this2 = this;\n\n      var handleResizeViewport, mediaQueryEventMobile;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              handleResizeViewport = function handleResizeViewport() {\n                _this2.state.resized.start = true;\n              };\n\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              mediaQueryEventMobile = window.matchMedia(\"(min-height: 300px)\");\n\n              this.media.matches = mediaQueryEventMobile.matches;\n              mediaQueryEventMobile.addListener(function (event) {\n                if (event.type === 'change') _this2.media.matches = event.currentTarget.matches;\n              });\n              handleResizeViewport();\n\n            case 7:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-viewport\"},[_c('transition',{attrs:{\"name\":\"fade\",\"duration\":{ enter: 500, leave: 500 }}},[(_vm.usermessage.show)?_c('user-message',{attrs:{\"title\":_vm.usermessage.title,\"subtitle\":_vm.usermessage.subtitle,\"id\":_vm.usermessage.id,\"message\":_vm.usermessage.message,\"draggable\":_vm.usermessage.draggable,\"closable\":_vm.usermessage.closable,\"duration\":_vm.usermessage.duration,\"position\":_vm.usermessage.position,\"autoclose\":_vm.usermessage.autoclose,\"textMessage\":_vm.usermessage.textMessage,\"size\":_vm.usermessage.size,\"type\":_vm.usermessage.type},on:{\"close-usermessage\":_vm.closeUserMessage}},[(_vm.hooks.header)?_c('template',{slot:\"header\"},[_c(_vm.hooks.header,{tag:\"component\"})],1):_vm._e(),_vm._v(\" \"),(_vm.hooks.body)?_c('template',{slot:\"body\"},[_c(_vm.hooks.body,{tag:\"component\"})],1):_vm._e(),_vm._v(\" \"),(_vm.hooks.footer)?_c('template',{slot:\"footer\"},[_c(_vm.usermessage.hooks.footer,{tag:\"component\"})],1):_vm._e()],2):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"g3w-view map\",class:(\"split-\" + (_vm.state.split)),style:(_vm.styles.map),attrs:{\"id\":\"g3w-view-map\"}},[_c('g3w-resize',{class:(\"split-\" + (_vm.state.split)),style:({backgroundColor:'transparent'}),attrs:{\"id\":\"resize-map-and-content\",\"show\":_vm.showresize,\"moveFnc\":_vm.moveFnc,\"orientation\":_vm.state.split}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"application-notifications\"}},[_c('online-notify'),_vm._v(\" \"),_c('download-notify'),_vm._v(\" \"),_c('plugins-notify')],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.content.disabled),expression:\"state.content.disabled\"}],staticClass:\"g3w-view content\",class:(\"split-\" + (_vm.state.split)),style:(_vm.styles.content),attrs:{\"id\":\"g3w-view-content\"}},[(_vm.breadcrumb.length > 1)?_c('section',{ref:_vm.breadcrumb,staticClass:\"content_breadcrumb\"},_vm._l((_vm.breadcrumb),function(crumb,index){return _c('span',{key:crumb.title},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(crumb.title),expression:\"crumb.title\"}],staticClass:\"skin-color-dark\",style:({fontWeight: _vm.isNotLastCrumb(index) ? 'bold' : 'normal'})}),_vm._v(\" \"),(_vm.isNotLastCrumb(index))?_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin\":\"3px 0\"}},[_vm._v(\"/\")]):_vm._e()])}),0):_vm._e(),_vm._v(\" \"),((_vm.showtitle && _vm.contentTitle) || _vm.previousTitle || (_vm.state.content.closable && _vm.state.content.aside))?_c('div',{staticClass:\"close-panel-block\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[(_vm.previousTitle)?_c('div',{staticClass:\"g3w_contents_back g3w-long-text\"},[(_vm.backOrBackTo === 'back')?_c('div',{class:_vm.backOrBackTo},[_c('span',{staticClass:\"action-button\",class:_vm.g3wtemplate.getFontClass('back')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('back'),expression:\"'back'\"}]})]):_c('div',{class:_vm.backOrBackTo,on:{\"click\":function($event){$event.stopPropagation();return _vm.gotoPreviousContent()}}},[_c('span',{staticClass:\"action-button\",class:_vm.g3wtemplate.getFontClass('back')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('backto'),expression:\"'backto'\"}]}),_vm._v(\" \"),(!_vm.updatePreviousTitle)?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.previousTitle),expression:\"previousTitle\"}]}):_vm._e()])]):_vm._e(),_vm._v(\" \"),(!_vm.previousTitle && _vm.showtitle && _vm.contentTitle)?_c('div',{staticClass:\"panel-title\",class:{'mobile': _vm.isMobile()},style:([_vm.state.content.style.title])},[_c('span',{attrs:{\"id\":\"contenttitle\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.contentTitle.title),expression:\"contentTitle.title\"}]}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.contentTitle.post_title),expression:\"contentTitle.post_title\"}]})])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"g3-content-header-action-tools\",staticStyle:{\"display\":\"flex\"}},[_vm._l((_vm.state.content.headertools),function(tool){return _c(tool,{tag:\"component\"})}),_vm._v(\" \"),(_vm.showresizeicon)?_c('resize-icon',{staticStyle:{\"font-size\":\"1em\",\"padding\":\"0\",\"align-self\":\"center\",\"margin-left\":\"auto\"},style:({marginRight: _vm.state.content.closable ? '5px': '0px'}),attrs:{\"type\":_vm.state.split}}):_vm._e(),_vm._v(\" \"),(_vm.state.content.closable && _vm.state.content.aside)?_c('span',{staticClass:\"action-button\",class:{'mobile': _vm.isMobile()},staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\"},on:{\"click\":_vm.closeContent}},[_c('i',{staticClass:\"skin-color-dark\",class:_vm.g3wtemplate.getFontClass('close')})]):_vm._e()],2)]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.content.loading),expression:\"state.content.loading\"}],staticClass:\"bar-loader\"})])],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-466a54cc\"\n\n},{\"app/constant\":4,\"components/NotifyDownload.vue\":268,\"components/NotifyOnline.vue\":269,\"components/NotifyPlugins.vue\":270,\"components/UserMessage.vue\":307,\"services/gui\":360,\"services/viewport\":370,\"vueify/lib/insert-css\":1}],309:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contents\",attrs:{\"id\":\"contents\"}})}\n__vue__options__.staticRenderFns = []\n\n},{}],310:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-add-wms-url-message[data-v-965f11b2]{font-weight:700;color:#000}.g3w-wmsurl-error[data-v-965f11b2]{background-color:red}.g3w-wmsurl-already-added[data-v-965f11b2]{background-color:orange}.wms_url_input_content[data-v-965f11b2]{margin-bottom:5px}.wms-icon-action[data-v-965f11b2]{font-weight:700;font-size:1.3em;box-shadow:0 5px 10px #1e282c}.wms-icon-action[data-v-965f11b2]:hover{box-shadow:none}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    isURL = _require.isURL;\n\nexports.default = {\n  name: \"sidebaritem\",\n  data: function data() {\n    return {\n      url: null,\n      id: null,\n      loading: false,\n      status: {\n        error: false,\n        added: false\n      }\n    };\n  },\n\n  computed: {\n    inputswmsurlvalid: function inputswmsurlvalid() {\n      return this.url !== null && this.url.trim() && isURL(this.url) && this.id !== null && this.id.trim();\n    }\n  },\n  methods: {\n    addwmsurl: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _ref2, error, added;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.loading = true;\n                _context.next = 3;\n                return this.$options.service.addNewUrl({\n                  url: this.url,\n                  id: this.id\n                });\n\n              case 3:\n                _ref2 = _context.sent;\n                error = _ref2.error;\n                added = _ref2.added;\n\n                this.status.error = error;\n                this.status.added = added;\n                this.loading = false;\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function addwmsurl() {\n        return _ref.apply(this, arguments);\n      }\n\n      return addwmsurl;\n    }(),\n    deleteWmsUrl: function deleteWmsUrl(id) {\n      this.$options.service.deleteWmsUrl(id);\n    },\n    showWmsLayersPanel: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(url) {\n        var _ref4, error, added;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n\n                this.loading = true;\n                _context2.next = 4;\n                return this.$options.service.loadWMSDataAndShowWmsLayersPanel(url);\n\n              case 4:\n                _ref4 = _context2.sent;\n                error = _ref4.error;\n                added = _ref4.added;\n\n                this.status.error = error;\n                this.status.added = added;\n                this.loading = false;\n                _context2.next = 15;\n                break;\n\n              case 12:\n                _context2.prev = 12;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                console.log(_context2.t0);\n\n              case 15:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 12]]);\n      }));\n\n      function showWmsLayersPanel(_x) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return showWmsLayersPanel;\n    }()\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"treeview-menu g3w-tools menu-items\"},[(_vm.loading)?_c('li',[_c('bar-loader',{attrs:{\"loading\":_vm.loading}})],1):_vm._e(),_vm._v(\" \"),_c('li',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-between\",\"background\":\"transparent !important\",\"margin-bottom\":\"10px\"}},[_c('div',{staticClass:\"wms_url_input_content\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.name'),expression:\"'sidebar.wms.panel.label.name'\"}],attrs:{\"for\":\"add_custom_name_url_wms_input\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.id),expression:\"id\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\",\"color\":\"#000000\"},attrs:{\"id\":\"add_custom_name_url_wms_input\"},domProps:{\"value\":(_vm.id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.id=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"wms_url_input_content\"},[_c('label',{attrs:{\"for\":\"add_custom_url_wms_input\"}},[_vm._v(\"URL\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.url),expression:\"url\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\",\"color\":\"#000000\"},attrs:{\"id\":\"add_custom_url_wms_input\"},domProps:{\"value\":(_vm.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.url=$event.target.value}}})]),_vm._v(\" \"),_c('div',[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.inputswmsurlvalid),expression:\"!inputswmsurlvalid\"}],staticClass:\"btn btn-block skin-background-color\",staticStyle:{\"width\":\"100%\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.addwmsurl($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square')})])])]),_vm._v(\" \"),(_vm.status.error)?_c('li',[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('server_error'),expression:\"'server_error'\"}],staticClass:\"g3w-add-wms-url-message g3w-wmsurl-error\"})]):(_vm.status.added)?_c('li',[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.url_already_added'),expression:\"'sidebar.wms.url_already_added'\"}],staticClass:\"g3w-add-wms-url-message g3w-wmsurl-already-added\"})]):_vm._e(),_vm._v(\" \"),_c('li',{staticClass:\"skin-border-color\",staticStyle:{\"background\":\"transparent !important\",\"border-top\":\"2px solid\"}},[_c('div',{staticStyle:{\"max-height\":\"200px\",\"overflow-y\":\"auto\"}},[_vm._l((_vm.state.adminwmsurls),function(ref){\nvar id = ref.id;\nvar url = ref.url;\nreturn _c('div',{key:_vm.wmsurl,staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"border-bottom\":\"1px solid #cccccc\",\"padding-bottom\":\"3px\"}},[_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"flex-grow\":\"1\",\"margin-right\":\"15px\"}},[_vm._v(_vm._s(id))]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\",staticStyle:{\"padding\":\"5px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showWmsLayersPanel(id)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square'),staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.3em\"}})])])}),_vm._v(\" \"),_vm._l((_vm.state.localwmsurls),function(ref){\nvar id = ref.id;\nvar url = ref.url;\nreturn _c('div',{key:id,staticStyle:{\"border-bottom\":\"1px solid #cccccc\",\"padding-bottom\":\"3px\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"padding-top\":\"3px\"}},[_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"flex-grow\":\"1\",\"margin-right\":\"15px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(id))]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sidebar.wms.add_wms_layer'),expression:\"'sidebar.wms.add_wms_layer'\",arg:\"top\",modifiers:{\"create\":true}}],staticClass:\"skin-color\",staticStyle:{\"padding\":\"3px\",\"margin\":\"2px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showWmsLayersPanel(url)}}},[_c('i',{staticClass:\"wms-icon-action\",class:_vm.g3wtemplate.getFontClass('plus-square')})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sidebar.wms.delete_wms_url'),expression:\"'sidebar.wms.delete_wms_url'\",arg:\"top\",modifiers:{\"create\":true}}],staticStyle:{\"color\":\"red\",\"padding\":\"3px\",\"margin\":\"2px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteWmsUrl(id)}}},[_c('i',{staticClass:\"wms-icon-action\",class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"g3w-long-text\",staticStyle:{\"font-size\":\"0.7em\"},attrs:{\"title\":url}},[_vm._v(_vm._s(url))])])})],2)])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-965f11b2\"\n\n},{\"core/utils/utils\":67,\"vueify/lib/insert-css\":1}],311:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-wms-panel-title[data-v-64ebf92a]{font-size:1.2em;font-weight:700;margin-bottom:10px}button.wms-add-layer-buttom[data-v-64ebf92a]{width:100%;margin-top:10px}.g3w-wms-external-panel-layer-added-message[data-v-64ebf92a]{font-weight:700;color:red;margin:5px 0}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nexports.default = {\n  name: \"wmpspanel\",\n  data: function data() {\n    return {\n      loading: false,\n      position: undefined,\n      name: undefined,\n      title: null,\n      abstract: null,\n      map_formats: [],\n      info_formats: [],\n      layers: [],\n      selectedlayers: [],\n      projections: [],\n      epsg: null,\n      added: false\n    };\n  },\n\n  methods: {\n    addWMSlayer: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var config;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                config = {\n                  url: this.url,\n                  name: this.name && this.name.trim() || undefined,\n                  layers: this.selectedlayers,\n                  epsg: this.epsg,\n                  position: this.position\n                };\n\n                this.added = this.$options.service.checkIfWMSAlreadyAdded(config);\n\n                if (this.added) {\n                  _context.next = 13;\n                  break;\n                }\n\n                this.loading = true;\n                _context.prev = 4;\n                _context.next = 7;\n                return this.$options.service.addWMSlayer(config);\n\n              case 7:\n                _context.next = 11;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](4);\n\n              case 11:\n                this.loading = false;\n                this.clear();\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[4, 9]]);\n      }));\n\n      function addWMSlayer() {\n        return _ref.apply(this, arguments);\n      }\n\n      return addWMSlayer;\n    }(),\n    clear: function clear() {\n      this.selectedlayers = [];\n      this.name = null;\n    },\n    filterLayerByCurrentEpsg: function filterLayerByCurrentEpsg() {\n      var _this = this;\n\n      this.layers = this.epsg !== null ? this.layers.filter(function (_ref2) {\n        var name = _ref2.name;\n        return _this.layerProjections[name].crss.indexOf(_this.epsg) !== -1;\n      }) : this.$options.config.layers;\n    }\n  },\n  watch: {\n    selectedlayers: function selectedlayers(layers) {\n      var _this2 = this;\n\n      if (layers.length) {\n        var firstLayer = layers[0];\n        if (layers.length === 1) {\n          this.epsg = this.layerProjections[firstLayer].crss[0];\n\n          this.projections = this.layerProjections[firstLayer].crss;\n        } else this.projections = this.projections.filter(function (projection) {\n          return _this2.layerProjections[layers[layers.length - 1]].crss.index(projection) !== -1;\n        });\n      } else {\n        this.epsg = null;\n        this.projections = [];\n      }\n    },\n    epsg: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.filterLayerByCurrentEpsg();\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function epsg() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return epsg;\n    }()\n  },\n  created: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      var _$options$config, layers, title, abstract, url;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _$options$config = this.$options.config, layers = _$options$config.layers, title = _$options$config.title, abstract = _$options$config.abstract, url = _$options$config.wmsurl;\n\n              this.layerProjections = {};\n              this.url = url;\n              layers.forEach(function (layer) {\n                _this3.layerProjections[layer.name] = {\n                  crss: layer.crss.map(function (crs) {\n                    Projections.get(crs);\n                    return \"EPSG:\" + crs.epsg;\n                  }).sort(),\n                  title: layer.title\n                };\n              });\n              this.layers = layers;\n\n              this.title = title;\n\n              this.abstract = abstract;\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function created() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.$data = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.loading),expression:\"loading\"}]},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('h3',{staticClass:\"skin-color g3w-wms-panel-title\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),(_vm.abstract)?_c('helpdiv',{attrs:{\"message\":_vm.abstract}}):_vm._e(),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.layers'),expression:\"'sidebar.wms.panel.label.layers'\"}],attrs:{\"for\":\"g3w-wms-layers\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('selectedlayers'),expression:\"'selectedlayers'\"}],attrs:{\"id\":\"g3w-wms-layers\",\"multiple\":\"multiple\",\"clear\":\"true\"}},_vm._l((_vm.layers),function(layer){return _c('option',{key:layer.name,domProps:{\"value\":layer.name}},[_vm._v(_vm._s(layer.title))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.projections'),expression:\"'sidebar.wms.panel.label.projections'\"}],attrs:{\"for\":\"g3w-wms-projections\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('epsg'),expression:\"'epsg'\"}],attrs:{\"id\":\"g3w-wms-projections\"}},_vm._l((_vm.projections),function(projection){return _c('option',{key:projection,domProps:{\"value\":projection}},[_vm._v(_vm._s(projection))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.name'),expression:\"'sidebar.wms.panel.label.name'\"}],attrs:{\"for\":\"g3w-wms-layer-name\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-wms-layer-name\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_vm._v(\" \"),(_vm.added)?_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.layer_id_already_added'),expression:\"'sidebar.wms.layer_id_already_added'\"}],staticClass:\"g3w-wms-external-panel-layer-added-message\"}):_vm._e(),_vm._v(\" \"),_c('layerspositions',{attrs:{\"position\":_vm.position},on:{\"layer-position-change\":function($event){_vm.position=$event}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.selectedlayers.length === 0),expression:\"selectedlayers.length === 0\"}],staticClass:\"btn wms-add-layer-buttom sidebar-button skin-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addWMSlayer($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square'),staticStyle:{\"font-weight\":\"bold\"}})])],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-64ebf92a\"\n\n},{\"g3w-ol/projection/projections\":110,\"vueify/lib/insert-css\":1}],312:[function(require,module,exports){\nrequire('regenerator-runtime');\n\nvar _vueColor = require('vue-color');\n\nvar VueColor = _interopRequireWildcard(_vueColor);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * @deprecated since v3.8. Will be removed in v4.x. Use ESM imports from 'vue-color' instead\n */\n/**\n * @file shims legacy variables to ensure backward compatibily with old G3W-CLIENT plugins (eg. window variables)\n * @since v3.8\n */\n\n/**\n * Add babel runtime support for compiled/transpiled async functions\n * \n * @TODO check if this still useful nowdays (IE 11 ?)\n */\nwindow.VueColor = VueColor;\n\n/**\n * @deprecated since v3.8. Will be removed in v4.x. Use require('vue-cookie') instead of window.VueCookie\n */\nwindow.VueCookie = require('vue-cookie');\n\n},{\"regenerator-runtime\":\"regenerator-runtime\",\"vue-color\":\"vue-color\",\"vue-cookie\":\"vue-cookie\"}],313:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @TODO refactor stateful directives (eg. \"v-t\") in order to delete this file: \"src/directives/utils.js\"\n */\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\n/**\n * Internal state\n */\n\n\nvar vm = new Vue();\nvar directives = {};\n\nvar watch = exports.watch = function watch(_ref) {\n  var el = _ref.el,\n      attr = _ref.attr,\n      watcher = _ref.watcher;\n\n  var unique_attr_id = uniqueId();\n  el.setAttribute(attr, unique_attr_id);\n  var dir = directives[unique_attr_id] = {};\n  if (watcher) {\n    dir.unwatch = vm.$watch(watcher[0], watcher[1], watcher[2] || { immediate: true });\n    dir.handler = watcher[1];\n  }\n  return unique_attr_id;\n};\n\nvar unwatch = exports.unwatch = function unwatch(_ref2) {\n  var el = _ref2.el,\n      attr = _ref2.attr;\n\n  var unique_attr_id = el.getAttribute(attr);\n  if (unique_attr_id) {\n    directives[unique_attr_id].unwatch();\n    delete directives[unique_attr_id];\n  }\n};\n\nvar trigger = exports.trigger = function trigger(_ref3) {\n  var el = _ref3.el,\n      attr = _ref3.attr,\n      data = _ref3.data;\n  return directives[el.getAttribute(attr)].handler(data);\n};\n\n},{\"core/utils/utils\":67}],314:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  binding.value ? el.setAttribute('checked', 'checked') : el.removeAttribute('checked');\n};\n\n},{}],315:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  var className = 'g3w-disabled';\n  if (binding.value) {\n    if (!el.classList.contains(className)) el.classList.add(className);\n  } else el.classList.remove(className);\n};\n\n},{}],316:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-download-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    if (typeof binding.value === 'boolean' ? binding.value : true) {\n      (0, _utils.watch)({\n        el: el,\n        attr: attr,\n        watcher: [function () {\n          return _applicationState2.default.download;\n        }, function (bool) {\n          var className = binding.modifiers && binding.modifiers.show && 'hide' || 'disabled';\n          el.classList.toggle('g3w-' + className, className === 'hide' ? !bool : bool);\n        }]\n      });\n    }\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":313,\"store/application-state\":372}],317:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-offline-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    // show if online\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.online;\n      }, function (bool) {\n        bool = (binding.arg && binding.arg === 'hide' ? false : true) ? bool : !bool;\n        el.classList.toggle('g3w-hide', !bool);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":313,\"store/application-state\":372}],318:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-plugins-id';\n\nexports.default = {\n  bind: function bind(el) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.plugins;\n      }, function (plugins) {\n        el.classList.toggle('g3w-hide', plugins.length === 0);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":313,\"store/application-state\":372}],319:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  inserted: function inserted(el, binding, vnode) {\n    var _ref = vnode.data.attrs || {},\n        templateResult = _ref.templateResult,\n        templateSelection = _ref.templateSelection,\n        _ref$multiple = _ref.multiple,\n        multiple = _ref$multiple === undefined ? false : _ref$multiple,\n        _ref$search = _ref.search,\n        search = _ref$search === undefined ? true : _ref$search,\n        select2_value = _ref.select2_value;\n\n    $(el).select2({\n      width: '100%',\n      dropdownCssClass: 'skin-color',\n      templateResult: templateResult,\n      templateSelection: templateSelection,\n      minimumResultsForSearch: !search ? -1 : undefined\n    }).on('select2:select', function (e) {\n      if (binding.value) {\n        var value = e.params.data.id;\n        if (multiple && vnode.context[binding.value].filter(function (d) {\n          return value === d;\n        }).length === 0) {\n          vnode.context[binding.value].push(value);\n        } else {\n          vnode.context[binding.value] = value;\n        }\n      }\n    }).on('select2:unselect', function (e) {\n      if (binding.value && multiple) {\n        vnode.context[binding.value] = vnode.context[binding.value].filter(function (d) {\n          return e.params.data.id !== d;\n        });\n      }\n    });\n\n    if (binding.value && select2_value) {\n      $(el).val(select2_value).trigger('change');\n    }\n  },\n\n  unbind: function unbind(el) {\n    $(el).select2('destroy');\n  }\n};\n\n},{}],320:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  el.toggleAttribute('selected', binding.value === 0);\n};\n\n},{}],321:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar attr = 'g3w-v-t-html-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        el.innerHTML = '' + t(binding.value);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":313,\"store/application-state\":372}],322:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-placeholder-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        el.setAttribute('placeholder', (binding.arg === 'plugin' ? tPlugin : t)(binding.value));\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":313,\"store/application-state\":372}],323:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-plugin-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    var innerHTML = el.innerHTML;\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var value = binding.value !== null ? tPlugin(binding.value) : '';\n        switch (binding.arg ? binding.arg : 'post') {\n          case 'pre':\n            el.innerHTML = value + ' ' + innerHTML;break;\n          case 'post':\n            el.innerHTML = innerHTML + ' ' + value;break;\n        }\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":313,\"store/application-state\":372}],324:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-title-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var title = (binding.arg === 'plugin' ? tPlugin : t)(binding.value);\n        el.setAttribute('title', title);\n        el.setAttribute('data-original-title', title);\n      }] });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":313,\"store/application-state\":372}],325:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-tooltip-id';\n\nexports.default = {\n  bind: function bind(_el, binding) {\n    // Automatically create tooltip\n    if (binding.modifiers.create) {\n      if (binding.arg) {\n        _el.setAttribute('data-placement', binding.arg);\n        _el.classList.add('skin-color', 'skin-tooltip-' + binding.arg);\n      }\n      $(_el).tooltip({ trigger: _applicationState2.default.ismobile ? 'click' : 'hover', html: true })\n      // hide tooltip on mobile  after click\n      .on('shown.bs.tooltip', function () {\n        _applicationState2.default.ismobile && setTimeout(function () {\n          return $(_el).tooltip('hide');\n        }, 600);\n      });\n    }\n    (0, _utils.watch)({\n      el: _el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function (_ref) {\n        var _ref$el = _ref.el,\n            el = _ref$el === undefined ? _el : _ref$el;\n\n        var value = el.getAttribute('current-tooltip');\n        if (value === null) {\n          value = binding.value;\n        }\n        el.setAttribute('data-original-title', binding.modifiers.text ? value : (binding.arg === 'plugin' ? tPlugin : t)(value));\n      }]\n    });\n  },\n  componentUpdated: function componentUpdated(el, oldVnode) {\n    var value = el.getAttribute('current-tooltip');\n    if (value != null && value !== oldVnode.oldValue) {\n      (0, _utils.trigger)({ el: el, attr: attr, data: { el: el } });\n    }\n  },\n\n  unbind: function unbind(el) {\n    $(el).tooltip('hide');(0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":313,\"store/application-state\":372}],326:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar attr = 'g3w-v-t-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    var innerHTML = el.innerHTML;\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var value = binding.value !== null ? t(binding.value) : '';\n        switch (binding.arg ? binding.arg : 'post') {\n          case 'pre':\n            el.innerHTML = value + ' ' + innerHTML;break;\n          case 'post':\n            el.innerHTML = innerHTML + ' ' + value;break;\n        }\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":313,\"store/application-state\":372}],327:[function(require,module,exports){\n/**\n * @file Expose `window.g3wsdk` variable\n * @since v3.8\n */\n\n/**\n * Expose \"g3wsdk\" variable globally used by plugins to load sdk class and instances\n * \n * @type {object}\n */\nwindow.g3wsdk = require('app/api');\n\n/**\n * @TODO not yet implemented\n *\n * @see https://github.com/g3w-suite/g3w-client/issues/71\n * @see https://github.com/g3w-suite/g3w-client/issues/46\n */\n// window.g3w = window.g3wsdk;\n\n},{\"app/api\":2}],328:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nrequire('./deprecated');\n\nrequire('./globals');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _viewport = require('services/viewport');\n\nvar _viewport2 = _interopRequireDefault(_viewport);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _floatbar = require('services/floatbar');\n\nvar _floatbar2 = _interopRequireDefault(_floatbar);\n\nvar _navbaritems = require('services/navbaritems');\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nvar _sidebar = require('services/sidebar');\n\nvar _sidebar2 = _interopRequireDefault(_sidebar);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nvar _App = require('components/App.vue');\n\nvar _App2 = _interopRequireDefault(_App);\n\nvar _GlobalImage = require('components/GlobalImage.vue');\n\nvar _GlobalImage2 = _interopRequireDefault(_GlobalImage);\n\nvar _GlobalGallery = require('components/GlobalGallery.vue');\n\nvar _GlobalGallery2 = _interopRequireDefault(_GlobalGallery);\n\nvar _GlobalGeo = require('components/GlobalGeo.vue');\n\nvar _GlobalGeo2 = _interopRequireDefault(_GlobalGeo);\n\nvar _GlobalSkeleton = require('components/GlobalSkeleton.vue');\n\nvar _GlobalSkeleton2 = _interopRequireDefault(_GlobalSkeleton);\n\nvar _GlobalBarLoader = require('components/GlobalBarLoader');\n\nvar _GlobalBarLoader2 = _interopRequireDefault(_GlobalBarLoader);\n\nvar _GlobalProgressBar = require('components/GlobalProgressBar');\n\nvar _GlobalProgressBar2 = _interopRequireDefault(_GlobalProgressBar);\n\nvar _GlobalHelpDiv = require('components/GlobalHelpDiv.vue');\n\nvar _GlobalHelpDiv2 = _interopRequireDefault(_GlobalHelpDiv);\n\nvar _GlobalResize = require('components/GlobalResize.vue');\n\nvar _GlobalResize2 = _interopRequireDefault(_GlobalResize);\n\nvar _GlobalLayerPositions = require('components/GlobalLayerPositions.vue');\n\nvar _GlobalLayerPositions2 = _interopRequireDefault(_GlobalLayerPositions);\n\nvar _GlobalDateTime = require('components/GlobalDateTime.vue');\n\nvar _GlobalDateTime2 = _interopRequireDefault(_GlobalDateTime);\n\nvar _GlobalRange = require('components/GlobalRange.vue');\n\nvar _GlobalRange2 = _interopRequireDefault(_GlobalRange);\n\nvar _GlobalResizeIcon = require('components/GlobalResizeIcon.vue');\n\nvar _GlobalResizeIcon2 = _interopRequireDefault(_GlobalResizeIcon);\n\nvar _GlobalTabs = require('components/GlobalTabs.vue');\n\nvar _GlobalTabs2 = _interopRequireDefault(_GlobalTabs);\n\nvar _GlobalDivider = require('components/GlobalDivider.vue');\n\nvar _GlobalDivider2 = _interopRequireDefault(_GlobalDivider);\n\nvar _Floatbar = require('components/Floatbar.vue');\n\nvar _Floatbar2 = _interopRequireDefault(_Floatbar);\n\nvar _NavbaritemsLeft = require('components/NavbaritemsLeft.vue');\n\nvar _NavbaritemsLeft2 = _interopRequireDefault(_NavbaritemsLeft);\n\nvar _NavbaritemsRight = require('components/NavbaritemsRight.vue');\n\nvar _NavbaritemsRight2 = _interopRequireDefault(_NavbaritemsRight);\n\nvar _Sidebar = require('components/Sidebar.vue');\n\nvar _Sidebar2 = _interopRequireDefault(_Sidebar);\n\nvar _Viewport = require('components/Viewport.vue');\n\nvar _Viewport2 = _interopRequireDefault(_Viewport);\n\nvar _vDisabled = require('directives/v-disabled');\n\nvar _vDisabled2 = _interopRequireDefault(_vDisabled);\n\nvar _vChecked = require('directives/v-checked');\n\nvar _vChecked2 = _interopRequireDefault(_vChecked);\n\nvar _vSelectedFirst = require('directives/v-selected-first');\n\nvar _vSelectedFirst2 = _interopRequireDefault(_vSelectedFirst);\n\nvar _vSelect = require('directives/v-select2');\n\nvar _vSelect2 = _interopRequireDefault(_vSelect);\n\nvar _vTTooltip = require('directives/v-t-tooltip');\n\nvar _vTTooltip2 = _interopRequireDefault(_vTTooltip);\n\nvar _vTHtml = require('directives/v-t-html');\n\nvar _vTHtml2 = _interopRequireDefault(_vTHtml);\n\nvar _vTPlaceholder = require('directives/v-t-placeholder');\n\nvar _vTPlaceholder2 = _interopRequireDefault(_vTPlaceholder);\n\nvar _vTTitle = require('directives/v-t-title');\n\nvar _vTTitle2 = _interopRequireDefault(_vTTitle);\n\nvar _vT = require('directives/v-t');\n\nvar _vT2 = _interopRequireDefault(_vT);\n\nvar _vTPlugin = require('directives/v-t-plugin');\n\nvar _vTPlugin2 = _interopRequireDefault(_vTPlugin);\n\nvar _vPlugins = require('directives/v-plugins');\n\nvar _vPlugins2 = _interopRequireDefault(_vPlugins);\n\nvar _vOnline = require('directives/v-online');\n\nvar _vOnline2 = _interopRequireDefault(_vOnline);\n\nvar _vDownload = require('directives/v-download');\n\nvar _vDownload2 = _interopRequireDefault(_vDownload);\n\nvar _constant = require('app/constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file Production entry point (app.min.js)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.8\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\n// include backward compatibilies\n\n\n// expose global variables\n\n\n//import core\n\n\n//import services\n\n\n// import store\n\n\n//components\n\n\n//directives\n\n\n// constants\n\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t,\n    tPlugin = _require2.tPlugin;\n\nvar G3WObject = require('core/g3wobject');\nvar ProjectsMenuComponent = require('gui/projectsmenu/projectsmenu');\nvar ChangeMapMenuComponent = require('gui/changemapmenu/changemapmenu');\n\n/**\n * Install global components\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.globalcomponents.js@3.6\n */\nVue.component(_GlobalImage2.default.name, _GlobalImage2.default);\nVue.component(_GlobalGallery2.default.name, _GlobalGallery2.default);\nVue.component(_GlobalGeo2.default.name, _GlobalGeo2.default);\nVue.component(_GlobalBarLoader2.default.name, _GlobalBarLoader2.default);\nVue.component(_GlobalProgressBar2.default.name, _GlobalProgressBar2.default);\nVue.component(_GlobalSkeleton2.default.name, _GlobalSkeleton2.default);\nVue.component(_GlobalHelpDiv2.default.name, _GlobalHelpDiv2.default);\nVue.component(_GlobalResize2.default.name, _GlobalResize2.default);\nVue.component(_GlobalLayerPositions2.default.name, _GlobalLayerPositions2.default);\nVue.component(_GlobalDateTime2.default.name, _GlobalDateTime2.default);\nVue.component(_GlobalRange2.default.name, _GlobalRange2.default);\nVue.component(_GlobalResizeIcon2.default.name, _GlobalResizeIcon2.default);\nVue.component(_GlobalTabs2.default.name, _GlobalTabs2.default);\nVue.component(_GlobalDivider2.default.name, _GlobalDivider2.default);\n\n/**\n * Install application filters\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.filter.js@3.6\n */\nVue.filter('t', function (value) {\n  return t(value);\n});\nVue.filter('tPlugin', function (value) {\n  return value !== null ? tPlugin(value) : '';\n});\n\n/**\n * Install global directives\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.directives.js@v3.6\n */\nVue.directive(\"disabled\", _vDisabled2.default);\nVue.directive(\"checked\", _vChecked2.default);\nVue.directive(\"selected-first\", _vSelectedFirst2.default);\nVue.directive('select2', _vSelect2.default);\nVue.directive('t-tooltip', _vTTooltip2.default);\nVue.directive('t-html', _vTHtml2.default);\nVue.directive('t-placeholder', _vTPlaceholder2.default);\nVue.directive('t-title', _vTTitle2.default);\nVue.directive(\"t\", _vT2.default);\nVue.directive(\"t-plugin\", _vTPlugin2.default);\nVue.directive(\"plugins\", _vPlugins2.default);\nVue.directive(\"online\", _vOnline2.default);\nVue.directive(\"download\", _vDownload2.default);\n\n/**\n * Install global plugins\n */\nVue.use(window.VueCookie);\n\n/**\n * Vue 2 Plugin used to add global-level functionality to Vue\n *\n * @link https://v2.vuejs.org/v2/guide/plugins.html\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vueappplugin.js@3.6\n */\nVue.use({\n  install: function install(Vue) {\n    // hold a list of registered fontawsome classes for current project\n    Vue.prototype.g3wtemplate = {\n      font: _constant.FONT_AWESOME_ICONS,\n      /**\n       * @TODO check if deprecated\n       */\n      get: function get() {},\n      getInfo: function getInfo() {\n        return {\n          font: this.font\n        };\n      },\n      addFontClass: function addFontClass() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            name = _ref.name,\n            className = _ref.className;\n\n        var added = this.font[name] === undefined;\n        if (added) this.font[name] = className;\n        return added;\n      },\n\n      /**\n       * @TODO check if deprecated\n       */\n      getInfoString: function getInfoString() {},\n      getFontClass: function getFontClass(type) {\n        return typeof this.font[type] !== \"undefined\" ? this.font[type] : '';\n      }\n    };\n    // include isMobile() method within all Vue instances\n    Vue.mixin({\n      methods: {\n        isMobile: function (_isMobile) {\n          function isMobile() {\n            return _isMobile.apply(this, arguments);\n          }\n\n          isMobile.toString = function () {\n            return _isMobile.toString();\n          };\n\n          return isMobile;\n        }(function () {\n          return isMobile.any;\n        })\n      }\n    });\n  }\n}, {});\n\nVue.mixin({ inheritAttrs: false }); // set mixins inheriAttrs to avoid tha unused props are setted as attrs\n\n/**\n * @requires components/App.vue\n */\nvar layout = $.LayoutManager;\n\n// loading spinner at beginning\nlayout.loading(true);\n\n/**\n * ORIGINAL SOURCE: src/gui/app/index.js@3.4\n */\nvar ApplicationTemplate = function ApplicationTemplate(_ref2) {\n  var ApplicationService = _ref2.ApplicationService;\n\n  var appLayoutConfig = ApplicationService.getConfig().layout || {};\n  // useful to build a difference layout/component based on mobile or not\n  this._isMobile = isMobile.any;\n  this._isIframe = appLayoutConfig.iframe;\n  //ussefult ot not close user message when set content is called\n  this.sizes = {\n    sidebar: {\n      width: 0\n    }\n  };\n  /*\n    usefull to show onaly last waiting request output\n    at moment will be an object\n    {\n      stop: method to sot to show result\n    }\n   */\n  this.waitingoutputdataplace = null;\n  this.init = function () {\n    // create Vue App\n    this._createApp();\n  };\n  // create application config\n  this._createTemplateConfig = function () {\n    var G3WTemplate = Vue.prototype.g3wtemplate;\n    var appTitle = ApplicationService.getConfig().apptitle || 'G3W Suite';\n    var ContentsComponent = require('gui/viewport/contentsviewer');\n    var CatalogComponent = require('gui/catalog/vue/catalog');\n    var SearchComponent = require('gui/search/vue/search');\n    var QueryBuilderUIFactory = require('gui/querybuilder/querybuilderuifactory');\n    var PrintComponent = require('gui/print/vue/print');\n    var MetadataComponent = require('gui/metadata/vue/metadata');\n    var ToolsComponent = require('gui/tools/vue/tools');\n    var WMSComponent = require('gui/wms/vue/wms');\n    var MapComponent = require('gui/map/vue/map');\n    var QueryResultsComponent = require('gui/queryresults/vue/queryresults');\n    var SpatialBookMarksComponent = require('gui/spatialbookmarks/vue/spatialbookmarks');\n    return {\n      title: appTitle,\n      placeholders: {\n        navbar: {\n          components: []\n        },\n        sidebar: {\n          components: [new MetadataComponent({\n            id: 'metadata',\n            open: false,\n            collapsible: false,\n            icon: G3WTemplate.getFontClass('file'),\n            mobile: true\n          }), new SpatialBookMarksComponent({\n            id: 'spatialbookmarks',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('bookmark'),\n            mobile: true\n          }), new PrintComponent({\n            id: 'print',\n            open: false,\n            collapsible: true, //  it used to manage click event if can run setOpen component method\n            icon: G3WTemplate.getFontClass('print'),\n            mobile: false\n          }), new SearchComponent({\n            id: 'search',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('search'),\n            actions: [{\n              id: \"querybuilder\",\n              class: G3WTemplate.getFontClass('calculator') + ' sidebar-button sidebar-button-icon',\n              tooltip: 'Query Builder',\n              fnc: function fnc() {\n                _gui2.default.closeContent();\n                ApplicationTemplate.Services.sidebar.closeOpenComponents();\n                QueryBuilderUIFactory.show({\n                  type: 'sidebar' // sidebar or modal\n                });\n              },\n              style: {\n                color: '#8DC3E3',\n                padding: '6px',\n                fontSize: '1.2em',\n                borderRadius: '3px',\n                marginRight: '5px'\n              }\n            }],\n            mobile: true\n          }),\n          // Component that store plugins\n          new ToolsComponent({\n            id: 'tools',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('tools'),\n            mobile: true\n          }), new WMSComponent({\n            id: 'wms',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('layers'),\n            mobile: true\n          }), new CatalogComponent({\n            id: 'catalog',\n            open: false,\n            collapsible: false,\n            isolate: true,\n            icon: G3WTemplate.getFontClass('map'),\n            mobile: true,\n            config: {\n              legend: {\n                config: appLayoutConfig.legend\n              }\n            }\n          })]\n        },\n        floatbar: {\n          components: []\n        }\n      },\n      othercomponents: [new QueryResultsComponent({\n        id: 'queryresults'\n      })],\n      viewport: {\n        // placeholder of the content (view content). Secondary view (hidden)\n        components: {\n          map: new MapComponent({\n            id: 'map'\n          }),\n          content: new ContentsComponent({\n            id: 'contents'\n          })\n        }\n      }\n    };\n  };\n\n  //Vue app\n  this._createApp = function () {\n    this._setDataTableLanguage();\n    var self = this;\n    if (isMobile.any || this._isIframe) $('body').addClass('sidebar-collapse');\n    return new Vue({\n      el: '#app',\n      created: function created() {\n        // set general metods for the application as  GUI.showForm etc ..\n        self._setupInterface();\n        // setup layout\n        self._setupLayout();\n        //register all services fro the application\n        self._setUpServices();\n        // create templateConfig\n        self.templateConfig = self._createTemplateConfig();\n        // listen lng change and reset datatable language\n        this.$watch(function () {\n          return _applicationState2.default.language;\n        }, function () {\n          self._setDataTableLanguage();\n        });\n      },\n      mounted: function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n          var skinColor;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return this.$nextTick();\n\n                case 2:\n                  self._buildTemplate();\n                  // setup Font, Css class methods\n                  self._setUpTemplateDependencies(this);\n                  $(document).localize();\n                  self._setViewport(self.templateConfig.viewport);\n                  skinColor = $('.navbar').css('background-color');\n\n                  _gui2.default.skinColor = skinColor && '#' + skinColor.substr(4, skinColor.indexOf(')') - 4).split(',').map(function (color) {\n                    return parseInt(color).toString(16);\n                  }).join('');\n                  _context.next = 10;\n                  return this.$nextTick();\n\n                case 10:\n                  self.emit('ready');\n                  self.sizes.sidebar.width = $('#g3w-sidebar').width();\n                  //getSkinColor\n                  _gui2.default.ready();\n\n                case 13:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        function mounted() {\n          return _ref3.apply(this, arguments);\n        }\n\n        return mounted;\n      }()\n    });\n  };\n\n  this._setupLayout = function () {\n    if (!isMobile.any) {\n      // setup map controls\n      $(\"<style type='text/css'> .ol-control-tl {\" + \"top: 7px;\" + \"left:43px;\" + \"}</style>\").appendTo(\"head\");\n    }\n    // Inizialization of the components of the application\n    Vue.component('sidebar', _Sidebar2.default);\n    //Navbar custom items\n    Vue.component('navbarleftitems', _NavbaritemsLeft2.default);\n    Vue.component('navbarrightitems', _NavbaritemsRight2.default);\n    Vue.component('viewport', _Viewport2.default);\n    Vue.component('floatbar', _Floatbar2.default);\n    Vue.component('app', _App2.default);\n  };\n\n  // dataTable Translations and custom extentions\n  this._setDataTableLanguage = function () {\n    var dataTable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var languageOptions = {\n      \"language\": {\n        \"sSearch\": '',\n        \"searchPlaceholder\": t(\"dosearch\"),\n        \"sLengthMenu\": t(\"dataTable.lengthMenu\"),\n        \"paginate\": {\n          \"previous\": t(\"dataTable.previous\"),\n          \"next\": t(\"dataTable.next\")\n        },\n        \"info\": t(\"dataTable.info\"),\n        \"zeroRecords\": t(\"dataTable.nodatafilterd\"),\n        \"infoFiltered\": ''\n      }\n    };\n    //set form control class to filter\n    $.extend($.fn.dataTableExt.oStdClasses, {\n      \"sFilterInput\": \"form-control search\"\n    });\n    !dataTable ? $.extend(true, $.fn.dataTable.defaults, languageOptions) : dataTable.dataTable({ \"oLanguage\": languageOptions });\n  };\n\n  // route setting att beginning (is an example)\n  this._addRoutes = function () {\n    var RouterService = ApplicationService.getRouterService();\n    var mapService = _gui2.default.getComponent('map').getService();\n    RouterService.addRoute('map/zoomto/{coordinate}/:zoom:', function (coordinate, zoom) {\n      coordinate = _.map(coordinate.split(','), function (xy) {\n        return Number(xy);\n      });\n      zoom = zoom ? Number(zoom) : null;\n      if (coordinate.length) {\n        mapService.on('ready', function () {\n          this.zoomTo(coordinate, zoom);\n        });\n      }\n    });\n  };\n\n  //register all services\n  this._setUpServices = function () {\n    Object.keys(ApplicationTemplate.Services).forEach(function (element) {\n      var service = ApplicationTemplate.Services[element];\n      ApplicationService.registerService(element, service);\n    });\n    Object.values(_gui2.default.getComponents()).forEach(function (component) {\n      ApplicationService.registerService(component.id, component.getService());\n    });\n    ApplicationTemplate.Services.viewport.on('resize', function () {\n      return _gui2.default.emit('resize');\n    });\n  };\n  // build template function\n  this._buildTemplate = function () {\n    var _this = this;\n\n    _floatbar2.default.init(layout);\n    var placeholdersConfig = this.templateConfig.placeholders;\n    Object.entries(placeholdersConfig).forEach(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          placeholder = _ref5[0],\n          options = _ref5[1];\n\n      _this._addComponents(options.components, placeholder);\n    });\n    //register other compoents\n    this._addOtherComponents();\n  };\n\n  //add component not related to placeholder\n  this._addOtherComponents = function () {\n    if (this.templateConfig.othercomponents) this._addComponents(this.templateConfig.othercomponents);\n  };\n  // viewport setting\n  this._setViewport = function (viewportOptions) {\n    // viewport components\n    // es.: map e content\n    /*\n     components: {\n      map: new MapComponent({\n        id: 'map'\n      }),\n      content: new ContentsComponent({\n        id: 'content',\n      })\n     }\n      */\n    if (viewportOptions) {\n      ApplicationTemplate.Services.viewport.init(viewportOptions);\n      this._addComponents(viewportOptions.components);\n    }\n  };\n\n  // add component to template\n  this._addComponent = function (component, placeholder) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    this._addComponents([component], placeholder, options);\n    return true;\n  };\n\n  // registry component\n  this._addComponents = function (components, placeholder, options) {\n    var register = true;\n    if (placeholder && ApplicationTemplate.PLACEHOLDERS.indexOf(placeholder) > -1) {\n      var placeholderService = ApplicationTemplate.Services[placeholder];\n      if (placeholderService) register = placeholderService.addComponents(components, options);\n    }\n    Object.entries(components).forEach(function (_ref6) {\n      var _ref7 = _slicedToArray(_ref6, 2),\n          key = _ref7[0],\n          component = _ref7[1];\n\n      if (register) {\n        _components2.default.registerComponent(component);\n        ApplicationService.registerService(component.id, component.getService());\n      }\n    });\n  };\n\n  this._removeComponent = function (componentId, placeholder, options) {\n    var component = _components2.default.unregisterComponent(componentId);\n    placeholder && ApplicationTemplate.Services[placeholder] && ApplicationTemplate.Services[placeholder].removeComponent(component, options);\n  };\n\n  this._showModalOverlay = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var message = arguments[1];\n\n    var mapService = _gui2.default.getService('map');\n    if (bool) mapService.startDrawGreyCover(message);else mapService.stopDrawGreyCover();\n  };\n\n  this._isSidebarVisible = function () {\n    return !$('body').hasClass('sidebar-collapse');\n  };\n\n  this._showSidebar = function () {\n    $('body').addClass('sidebar-open');\n    $('body').removeClass('sidebar-collapse');\n  };\n\n  this._hideSidebar = function () {\n    $('body').removeClass('sidebar-open');\n    $('body').addClass('sidebar-collapse');\n  };\n\n  // setup Fonts Css dependencies methods\n  this._setUpTemplateDependencies = function (VueApp) {\n    _gui2.default.isMobile = function () {\n      return isMobile.any;\n    };\n    // method that return Template Info\n    _gui2.default.getTemplateInfo = function () {\n      return VueApp.g3wtemplate.getInfo();\n    };\n    _gui2.default.getTemplateInfo = function () {\n      return VueApp.g3wtemplate.getInfo();\n    };\n    _gui2.default.getFontClass = function (type) {\n      return VueApp.g3wtemplate.getFontClass(type);\n    };\n  };\n\n  /**\n   * Convert error to user message showed\n   * @param error\n   * @returns {string}\n   */\n  _gui2.default.errorToMessage = function (error) {\n    var message = 'server_error';\n    switch (toRawType(error)) {\n      case 'Error':\n        message = 'CLIENT - ' + error.message;\n        break;\n      case 'Object':\n        if (error.responseJSON) {\n          error = error.responseJSON;\n          if (error.result === false) {\n            var _error$error = error.error,\n                _error$error$code = _error$error.code,\n                code = _error$error$code === undefined ? '' : _error$error$code,\n                _error$error$data = _error$error.data,\n                data = _error$error$data === undefined ? '' : _error$error$data,\n                _error$error$message = _error$error.message,\n                msg = _error$error$message === undefined ? '' : _error$error$message;\n\n            message = code.toUpperCase() + ' ' + data + ' ' + msg;\n          }\n        } else if (error.responseText) {\n          message = error.responseText;\n        }\n        break;\n      case 'Array':\n        message = error.map(function (error) {\n          return _gui2.default.errorToMessage(error);\n        }).join(' ');\n        break;\n      case 'String':\n      default:\n        message = error;\n    }\n    return message;\n  };\n\n  // setup Interaces\n  this._setupInterface = function () {\n    var _this2 = this;\n\n    /* PLUBLIC INTERFACE */\n    /* Common methods */\n    _gui2.default.layout = layout;\n    _gui2.default.getSize = function (_ref8) {\n      var element = _ref8.element,\n          what = _ref8.what;\n\n      if (element && what) return _this2.sizes[element][what];\n    };\n    _gui2.default.addComponent = this._addComponent.bind(this);\n    _gui2.default.removeComponent = this._removeComponent.bind(this);\n    /* Metodos to define */\n    _gui2.default.getResourcesUrl = function () {\n      return ApplicationService.getConfig().resourcesurl;\n    };\n    //LIST\n    _gui2.default.showList = _floatbar2.default.showPanel.bind(_floatbar2.default);\n    _gui2.default.closeList = _floatbar2.default.closePanel.bind(_floatbar2.default);\n    _gui2.default.hideList = _floatbar2.default.hidePanel.bind(_floatbar2.default);\n    // TABLE\n    _gui2.default.showTable = function () {};\n    _gui2.default.closeTable = function () {};\n\n    //Function called from DataRouterservice for gui output\n    /**\n     *\n     * @param data\n     * @param options\n     */\n    _gui2.default.outputDataPlace = function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(dataPromise) {\n        var _this3 = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var defaultOutputConfig, _options$title, title, _options$show, show, before, after, outputConfig, condition, add, loading, queryResultsService;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                // show parameter it used to set condition to show result or not\n                // loading parameter is used to show result content when we are wait the response. Default true otherwise we shoe result content at the end\n                defaultOutputConfig = { condition: true, add: false, loading: true };\n                _options$title = options.title, title = _options$title === undefined ? '' : _options$title, _options$show = options.show, show = _options$show === undefined ? defaultOutputConfig : _options$show, before = options.before, after = options.after;\n                // convert show in an object\n\n                outputConfig = toRawType(show) !== 'Object' ? {\n                  condition: show, // can be Function or Boolean otherwise is set true\n                  add: false,\n                  loading: true\n                } : _extends({}, defaultOutputConfig, show);\n                condition = outputConfig.condition, add = outputConfig.add, loading = outputConfig.loading;\n                //check if waiting output data\n                // in case we stop and substiute with new request data\n\n                _context4.t0 = this.waitingoutputdataplace;\n\n                if (!_context4.t0) {\n                  _context4.next = 8;\n                  break;\n                }\n\n                _context4.next = 8;\n                return this.waitingoutputdataplace.stop();\n\n              case 8:\n                queryResultsService = add ? _gui2.default.getService('queryresults') : loading && this.showContentFactory('query')(title);\n\n                this.waitingoutputdataplace = function () {\n                  var _stop = false;\n                  _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n                    var data, showResult, message;\n                    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            _context2.prev = 0;\n                            _context2.next = 3;\n                            return dataPromise;\n\n                          case 3:\n                            data = _context2.sent;\n                            _context2.t0 = before;\n\n                            if (!_context2.t0) {\n                              _context2.next = 8;\n                              break;\n                            }\n\n                            _context2.next = 8;\n                            return before(data);\n\n                          case 8:\n                            // in case of usermessage show user message\n                            data.usermessage && _gui2.default.showUserMessage({\n                              type: data.usermessage.type,\n                              message: data.usermessage.message,\n                              autoclose: data.usermessage.autoclose\n                            });\n                            if (!_stop) {\n                              // check condition\n                              showResult = toRawType(condition) === 'Function' ? condition(data) : toRawType(condition) === 'Boolean' ? condition : true;\n\n                              if (showResult) {\n                                (queryResultsService ? queryResultsService : _this3.showContentFactory('query')(title)).setQueryResponse(data, {\n                                  add: add\n                                });\n                              } else _gui2.default.closeContent();\n                              // call after is set with data\n                              after && after(data);\n                            }\n                            _context2.next = 17;\n                            break;\n\n                          case 12:\n                            _context2.prev = 12;\n                            _context2.t1 = _context2['catch'](0);\n                            message = _this3.errorToMessage(_context2.t1);\n\n                            _this3.showUserMessage({\n                              type: 'alert',\n                              message: message,\n                              textMessage: true\n                            });\n                            _this3.closeContent();\n\n                          case 17:\n                            _context2.prev = 17;\n\n                            if (!_stop) _this3.waitingoutputdataplace = null;\n                            return _context2.finish(17);\n\n                          case 20:\n                          case 'end':\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2, _this3, [[0, 12, 17, 20]]);\n                  }))();\n                  return {\n                    stop: function () {\n                      var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n                        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                          while (1) {\n                            switch (_context3.prev = _context3.next) {\n                              case 0:\n                                _stop = true;\n\n                              case 1:\n                              case 'end':\n                                return _context3.stop();\n                            }\n                          }\n                        }, _callee3, _this3);\n                      }));\n\n                      function stop() {\n                        return _ref11.apply(this, arguments);\n                      }\n\n                      return stop;\n                    }()\n                  };\n                }();\n\n              case 10:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function (_x6) {\n        return _ref9.apply(this, arguments);\n      };\n    }();\n\n    _gui2.default.showContentFactory = function (type) {\n      var showPanelContent = void 0;\n      switch (type) {\n        case 'query':\n          showPanelContent = _gui2.default.showQueryResults;\n          break;\n        case 'form':\n          showPanelContent = _gui2.default.showForm;\n          break;\n      }\n      return showPanelContent;\n    };\n\n    _gui2.default.showForm = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var perc = options.perc,\n          _options$split = options.split,\n          split = _options$split === undefined ? 'h' : _options$split,\n          push = options.push,\n          showgoback = options.showgoback,\n          crumb = options.crumb;\n\n      var FormComponent = require('gui/form/vue/form');\n      // new isnstace every time\n      var formComponent = options.formComponent ? new options.formComponent(options) : new FormComponent(options);\n      //get service\n      var formService = formComponent.getService();\n      // parameters : [content, title, push, perc, split, closable, crumb]\n      _gui2.default.setContent({\n        perc: perc,\n        content: formComponent,\n        split: split,\n        crumb: crumb,\n        push: !!push, //only one( if other delete previous component)\n        showgoback: !!showgoback,\n        closable: false\n      });\n      // return service\n      return formService;\n    };\n    /**\n     *\n     * @param pop remove or not content or pop\n     */\n    _gui2.default.closeForm = function () {\n      var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref12$pop = _ref12.pop,\n          pop = _ref12$pop === undefined ? false : _ref12$pop;\n\n      this.emit('closeform', false);\n      pop ? _gui2.default.popContent() : _viewport2.default.removeContent();\n      // force set modal to false\n      _gui2.default.setModal(false);\n    };\n\n    _gui2.default.disableElement = function (_ref13) {\n      var element = _ref13.element,\n          disable = _ref13.disable;\n\n      disable && $(element).addClass('g3w-disabled') || $(element).removeClass('g3w-disabled');\n    };\n\n    _gui2.default.disableContent = function (disable) {\n      _viewport2.default.disableContent(disable);\n    };\n\n    _gui2.default.disablePanel = function () {\n      var disable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      _gui2.default.disableElement({\n        element: \"#g3w-sidebarpanel-placeholder\",\n        disable: disable\n      });\n    };\n\n    // hide content\n    _gui2.default.hideContent = function (bool, perc) {\n      return _viewport2.default.hideContent(bool, perc);\n    };\n\n    _gui2.default.closeContent = function () {\n      this.emit('closecontent', false);\n      return _viewport2.default.closeContent();\n    };\n\n    _gui2.default.closeOpenSideBarComponent = function () {\n      ApplicationTemplate.Services.sidebar.closeOpenComponents();\n    };\n\n    // show results info/search\n    _gui2.default.showQueryResults = function (title, results) {\n      var queryResultsComponent = _gui2.default.getComponent('queryresults');\n      var queryResultService = queryResultsComponent.getService();\n      queryResultService.reset();\n      results && queryResultService.setQueryResponse(results);\n      _gui2.default.showContextualContent({\n        content: queryResultsComponent,\n        title: \"info.title\",\n        crumb: {\n          title: \"info.title\",\n          trigger: null\n        },\n        push: _gui2.default.getPushContent(),\n        post_title: title\n      });\n      return queryResultService;\n    };\n    _gui2.default.addNavbarItem = function (item) {\n      _navbaritems2.default.addItem(item);\n    };\n    _gui2.default.removeNavBarItem = function () {};\n    _gui2.default.showPanel = _sidebar2.default.showPanel.bind(_sidebar2.default);\n    _gui2.default.closePanel = _sidebar2.default.closePanel.bind(_sidebar2.default);\n    ///\n    _gui2.default.disableApplication = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      ApplicationService.disableApplication(bool);\n    };\n\n    //showusermessage\n    _gui2.default.showUserMessage = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return _viewport2.default.showUserMessage(options);\n    };\n\n    _gui2.default.closeUserMessage = function () {\n      _viewport2.default.closeUserMessage();\n    };\n    /* ------------------ */\n    _gui2.default.notify = {\n      warning: function warning(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'warning',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      error: function error(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'alert',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      info: function info(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'info',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      success: function success(message) {\n        _gui2.default.showUserMessage({\n          type: 'success',\n          message: message,\n          autoclose: true\n        });\n      }\n    };\n    // proxy  bootbox library\n    _gui2.default.dialog = bootbox;\n    //modal dialog//\n    _gui2.default.showModalDialog = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return _gui2.default.dialog.dialog(options);\n    };\n    /* spinner */\n    _gui2.default.showSpinner = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var container = options.container || 'body';\n      var id = options.id || 'loadspinner';\n      var where = options.where || 'prepend'; // append | prepend\n      var style = options.style || '';\n      var transparent = options.transparent ? 'background-color: transparent' : '';\n      var center = options.center ? 'margin: auto' : '';\n      if (!$(\"#\" + id).length) {\n        $(container)[where].call($(container), '<div id=\"' + id + '\" class=\"spinner-wrapper ' + style + '\" style=\"' + transparent + '\"><div class=\"spinner ' + style + '\" style=\"' + center + '\"></div></div>');\n      }\n    };\n    //hide spinner\n    _gui2.default.hideSpinner = function () {\n      var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'loadspinner';\n\n      $(\"#\" + id).remove();\n    };\n    /* end spinner*/\n    /* end common methods */\n\n    /*  */\n    // FLOATBAR //\n    _gui2.default.showFloatbar = function () {\n      _floatbar2.default.open();\n    };\n    _gui2.default.hideFloatbar = function () {\n      _floatbar2.default.close();\n    };\n    // SIDEBAR //\n    _gui2.default.showSidebar = this._showSidebar.bind(this);\n    _gui2.default.hideSidebar = this._hideSidebar.bind(this);\n    _gui2.default.isSidebarVisible = this._isSidebarVisible.bind(this);\n\n    // RELOAD COMPONENTS\n    _gui2.default.reloadComponents = function () {\n      ApplicationTemplate.Services.sidebar.reloadComponents();\n    };\n    // MODAL\n    _gui2.default.setModal = this._showModalOverlay.bind(this);\n    _gui2.default.showFullModal = function () {\n      var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref14$element = _ref14.element,\n          element = _ref14$element === undefined ? \"#full-screen-modal\" : _ref14$element,\n          _ref14$show = _ref14.show,\n          show = _ref14$show === undefined ? true : _ref14$show;\n\n      show ? $(element).modal('show') : $(element).modal('hide');\n    };\n\n    _gui2.default.disableSideBar = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      _applicationState2.default.gui.sidebar.disabled = bool;\n    };\n\n    // VIEWPORT //\n    _gui2.default.setPrimaryView = function (viewName) {\n      _viewport2.default.setPrimaryView(viewName);\n    };\n    // only map\n    _gui2.default.showMap = function () {\n      _viewport2.default.showMap();\n    };\n\n    _gui2.default.showContextualMap = function () {\n      var perc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 30;\n      var split = arguments[1];\n\n      _viewport2.default.showContextualMap({\n        perc: perc,\n        split: split\n      });\n    };\n\n    _gui2.default.setContextualMapComponent = function (mapComponent) {\n      _viewport2.default.setContextualMapComponent(mapComponent);\n    };\n\n    _gui2.default.resetContextualMapComponent = function () {\n      _viewport2.default.resetContextualMapComponent();\n    };\n\n    //  (100%) content\n    _gui2.default.showContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _gui2.default.setLoadingContent(false);\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.setContent(options);\n      return true;\n    };\n\n    _gui2.default.showContextualContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.setContent(options);\n      return true;\n    };\n    // add component to stack (append)\n    // Differences between pushContent and setContent are :\n    //  - push every componet is added, set is refreshed\n    //  - pushContent has a new parameter (backonclose) when is clicked x\n    //  - the contentComponet is close all stack is closed\n    _gui2.default.pushContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      options.push = true;\n      _gui2.default.setContent(options);\n    };\n    // add content to stack\n    _gui2.default.pushContextualContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.pushContent(options);\n    };\n    // remove last content from stack\n    _gui2.default.popContent = function () {\n      _viewport2.default.popContent();\n    };\n    //return number of component of stack\n    _gui2.default.getContentLength = function () {\n      return _viewport2.default.contentLength();\n    };\n\n    _gui2.default.getCurrentContentTitle = function () {\n      return _viewport2.default.getCurrentContentTitle();\n    };\n\n    _gui2.default.getCurrentContentId = function () {\n      return _viewport2.default.getCurrentContentId();\n    };\n\n    /**\n     * change current content title\n     * @param title\n     */\n    _gui2.default.changeCurrentContentTitle = function (title) {\n      _viewport2.default.changeCurrentContentTitle(title);\n    };\n    /**\n     * change current content options\n     * @param options: {title, crumb}\n     */\n    _gui2.default.changeCurrentContentOptions = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _viewport2.default.changeCurrentContentOptions(options);\n    };\n\n    /**\n     * Method to get current content\n     */\n    _gui2.default.getCurrentContent = function () {\n      return _viewport2.default.getCurrentContent();\n    };\n\n    _gui2.default.toggleFullViewContent = function () {\n      _viewport2.default.toggleFullViewContent();\n    };\n\n    _gui2.default.resetToDefaultContentPercentage = function () {\n      _viewport2.default.resetToDefaultContentPercentage();\n    };\n\n    _gui2.default.getProjectMenuDOM = function () {\n      var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          projects = _ref15.projects,\n          host = _ref15.host,\n          cbk = _ref15.cbk;\n\n      var options = {\n        projects: projects && Array.isArray(projects) && projects,\n        cbk: cbk,\n        host: host\n      };\n      var projectVueMenuComponent = new ProjectsMenuComponent(options).getInternalComponent();\n      return projectVueMenuComponent.$mount().$el;\n    };\n\n    _gui2.default.setCloseUserMessageBeforeSetContent = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this._closeUserMessageBeforeSetContent = bool;\n    };\n\n    _gui2.default._setContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _this2._closeUserMessageBeforeSetContent && _gui2.default.closeUserMessage();\n      options.content = options.content || null;\n      options.title = options.title || \"\";\n      options.push = _.isBoolean(options.push) ? options.push : false;\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      options.split = options.split || 'h';\n      options.backonclose = _.isBoolean(options.backonclose) ? options.backonclose : false;\n      options.showtitle = _.isBoolean(options.showtitle) ? options.showtitle : true;\n      _viewport2.default.showContent(options);\n    };\n\n    _gui2.default.hideClientMenu = function () {\n      ApplicationService.getConfig().user = null;\n    };\n\n    _gui2.default.hideChangeMaps = function () {\n      ApplicationService.getConfig().projects = [];\n    };\n\n    // return specific classes\n    _gui2.default.getTemplateClasses = function () {\n      return BootstrapVersionClasses;\n    };\n\n    _gui2.default.getTemplateClass = function (_ref16) {\n      var element = _ref16.element,\n          type = _ref16.type;\n\n      return BootstrapVersionClasses[element][type];\n    };\n\n    _gui2.default.setLoadingContent = function () {\n      var loading = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      ApplicationTemplate.Services.viewport.setLoadingContent(loading);\n      return loading && new Promise(function (resolve) {\n        setTimeout(resolve, 200);\n      });\n    };\n\n    _gui2.default.openProjectsMenu = function () {\n      var contentsComponent = _gui2.default.getComponent('contents');\n      // check if is projectmenucomponent\n      if (contentsComponent.getComponentById('projectsmenu')) _gui2.default.closeContent();else {\n        if (this.isMobile()) {\n          _gui2.default.hideSidebar();\n          $('#main-navbar.navbar-collapse').removeClass('in');\n        }\n        ApplicationTemplate.Services.sidebar.closeOpenComponents();\n        _gui2.default.setContent({\n          content: new ProjectsMenuComponent(),\n          title: '',\n          perc: 100\n        });\n      }\n    };\n\n    /**\n     * @since 3.8.0\n     */\n    _gui2.default.openChangeMapMenu = function () {\n      var contentsComponent = _gui2.default.getComponent('contents');\n      // check if is projectmenucomponent\n      if (contentsComponent.getComponentById('changemapmenu')) _gui2.default.closeContent();else {\n        if (this.isMobile()) {\n          _gui2.default.hideSidebar();\n          $('#main-navbar.navbar-collapse').removeClass('in');\n        }\n        ApplicationTemplate.Services.sidebar.closeOpenComponents();\n        _gui2.default.setContent({\n          content: new ChangeMapMenuComponent(),\n          title: '',\n          perc: 100\n        });\n      }\n    };\n  };\n  base(this);\n};\n\ninherit(ApplicationTemplate, G3WObject);\n\n// Placeholder knowed by application\nApplicationTemplate.PLACEHOLDERS = ['navbar', 'sidebar', 'viewport', 'floatbar'];\n\n// service know by the applications (standard)\nApplicationTemplate.Services = {\n  navbar: null,\n  sidebar: _sidebar2.default,\n  viewport: _viewport2.default,\n  floatbar: null\n};\n\nApplicationTemplate.fail = function (_ref17) {\n  var _ref17$language = _ref17.language,\n      language = _ref17$language === undefined ? 'en' : _ref17$language,\n      error = _ref17.error;\n\n  layout.loading(false);\n  var error_page = {\n    it: {\n      error: error || \"Errore di connessione\",\n      at_moment: \"Al momento non è possibile caricare la mappa\",\n      f5: \"Premi Ctrl+F5\"\n    },\n    en: {\n      error: error || \"Connection error\",\n      at_moment: \"At the moment is not possible show map\",\n      f5: \"Press Ctrl+F5\"\n    }\n  };\n  var compiledTemplate = Vue.compile(require('gui/templates/500.html'));\n  var app = new Vue(_extends({\n    el: '#app'\n  }, compiledTemplate, {\n    data: {\n      messages: error_page[language]\n    }\n  }));\n};\n\n/**\n * Application starting point\n *\n * create the ApplicationTemplate instance passing template interface configuration\n * and the applicationService instance that is useful to work with project API\n */\n_application2.default.init().then(function () {\n  var app = new ApplicationTemplate({ ApplicationService: _application2.default });\n  app.on('ready', function () {\n    return _application2.default.postBootstrap();\n  });\n  app.init();\n}).catch(function (_ref18) {\n  var _ref18$error = _ref18.error,\n      error = _ref18$error === undefined ? null : _ref18$error,\n      language = _ref18.language;\n\n  if (error) {\n    if (error.responseJSON && error.responseJSON.error.data) error = error.responseJSON.error.data;else if (error.statusText) error = error.statusText;\n  }\n  ApplicationTemplate.fail({\n    language: language,\n    error: error\n  });\n});\n\n},{\"./deprecated\":312,\"./globals\":327,\"app/constant\":4,\"components/App.vue\":194,\"components/Floatbar.vue\":213,\"components/GlobalBarLoader\":218,\"components/GlobalDateTime.vue\":219,\"components/GlobalDivider.vue\":220,\"components/GlobalGallery.vue\":221,\"components/GlobalGeo.vue\":222,\"components/GlobalHelpDiv.vue\":223,\"components/GlobalImage.vue\":224,\"components/GlobalLayerPositions.vue\":225,\"components/GlobalProgressBar\":226,\"components/GlobalRange.vue\":227,\"components/GlobalResize.vue\":228,\"components/GlobalResizeIcon.vue\":229,\"components/GlobalSkeleton.vue\":230,\"components/GlobalTabs.vue\":231,\"components/NavbaritemsLeft.vue\":266,\"components/NavbaritemsRight.vue\":267,\"components/Sidebar.vue\":294,\"components/Viewport.vue\":308,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"directives/v-checked\":314,\"directives/v-disabled\":315,\"directives/v-download\":316,\"directives/v-online\":317,\"directives/v-plugins\":318,\"directives/v-select2\":319,\"directives/v-selected-first\":320,\"directives/v-t\":326,\"directives/v-t-html\":321,\"directives/v-t-placeholder\":322,\"directives/v-t-plugin\":323,\"directives/v-t-title\":324,\"directives/v-t-tooltip\":325,\"gui/catalog/vue/catalog\":112,\"gui/changemapmenu/changemapmenu\":114,\"gui/form/vue/form\":122,\"gui/map/vue/map\":157,\"gui/metadata/vue/metadata\":160,\"gui/print/vue/print\":163,\"gui/projectsmenu/projectsmenu\":166,\"gui/querybuilder/querybuilderuifactory\":167,\"gui/queryresults/vue/queryresults\":171,\"gui/search/vue/search\":178,\"gui/spatialbookmarks/vue/spatialbookmarks\":180,\"gui/templates/500.html\":184,\"gui/tools/vue/tools\":186,\"gui/viewport/contentsviewer\":189,\"gui/wms/vue/wms\":192,\"services/application\":350,\"services/floatbar\":359,\"services/gui\":360,\"services/navbaritems\":364,\"services/sidebar\":368,\"services/viewport\":370,\"store/application-state\":372,\"store/components\":374}],329:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Diese Website verwendet Cookies, um Ihnen die bestmögliche Erfahrung auf unserer Website zu bieten.\",\n      buttonText: \"Verstanden!\"\n    },\n    default: \"default\",\n    sign_in: \"Anmelden\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Filter hinzufügen/entfernen\",\n        nofilter: \"Filter entfernen\",\n        invert: \"Auswahl umkehren\",\n        clear: \"Auswahl löschen\",\n        show_features_on_map: \"Auf der Karte sichtbare Features anzeigen\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Nicht unterstütztes Format\"\n    },\n    layer_position: {\n      top: 'OBEN',\n      bottom: 'UNTEN',\n      message: \"Position relativ zu den Layern im TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Template auswählen\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Räumliche Lesezeichen\",\n        helptext: \"Bewegen Sie sich auf der Kartenausdehnung, fügen Sie den Namen ein und klicken Sie auf Hinzufügen\",\n        input: {\n          name: \"Name\"\n        },\n        sections: {\n          project: {\n            title: \"Projekt-Lesezeichen\"\n          },\n          user: {\n            title: \"Benutzer-Lesezeichen\"\n          }\n        }\n      },\n      search: {\n        all: 'ALLE',\n        no_results: \"Keine Ergebnisse\",\n        searching: \"Suchen ...\",\n        error_loading: \"Fehler beim Datenladen\",\n        layer_not_searchable: \"Layer ist nicht durchsuchbar\",\n        layer_not_querable: \"Layer ist nicht abfragbar\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Bitte\",\n            post: \"oder mehrere Zeichen eingeben\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Kein Layer zu drucken',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Skala\",\n        format: \"Format\",\n        rotation: \"Drehung\",\n        download_image: \"Bild herunterladen\",\n        fids_instruction: \"Akzeptierte Werte: von 1 bis [max]. Es ist möglich, ein Intervall einzugeben, z. B. 4-6\",\n        fids_example: \"Bsp. 1,4-6 druckt id 1,4,5,6\",\n        help: \"Die im Druck angezeigten Layer können die im Projekt definierten sein und nicht die auf der Karte angezeigten\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Ausführen\",\n          info: \"Information\",\n          delete: \"Löschen\",\n          edit: \"Bearbeiten\"\n        },\n        messages: {\n          changed: 'Gespeichert',\n          number_of_features: \"Anzahl der Features\"\n        },\n        panel: {\n          button: {\n            all: 'ALLE',\n            save: 'SPEICHERN',\n            test: 'TEST',\n            clear: 'LÖSCHEN',\n            run: 'AUSFÜHREN',\n            manual: 'MANUELL'\n          },\n          layers: 'LAYERS',\n          fields: 'FELDER',\n          values: 'WERTE',\n          operators: 'OPERATOREN',\n          expression: 'AUSDRUCK'\n        },\n        error_run: 'Es ist ein Fehler aufgetreten. Bitte überprüfen Sie die Abfrage',\n        error_test: \"Während der Ausführung der Abfrage ist ein Fehler aufgetreten\",\n        delete: 'Soll es gelöscht werden?',\n        additem: 'Geben Sie den Namen der neuen Suche ein'\n      },\n      errors: {\n        layers: {\n          load: \"Einige Layer sind nicht verfügbar\"\n        },\n        unsupported_format: 'Nicht unterstütztes Format',\n        add_external_layer: 'Fehler im Ladevorgang des Layers'\n      },\n      metadata: {\n        title: 'Metadaten',\n        groups: {\n          general: {\n            title: 'ALLGEMEIN',\n            fields: {\n              title: 'TITEL',\n              name: 'NAME',\n              description: \"BESCHREIBUNG\",\n              abstract: \"ABASTRACT\",\n              keywords: 'SCHLÜSSELWÖRTER',\n              fees: \"GEBÜHREN\",\n              accessconstraints: \"ZUGRIFFSBESCHRÄNKUNG\",\n              contactinformation: \"KONTAKTE\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'Referenzen',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Firma',\n                  ContactOrganization: 'Firma',\n                  contactposition: 'Position',\n                  ContactPosition: 'Position',\n                  contactperson: 'Person',\n                  ContactPerson: 'Person'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'LAYERS',\n            fields: {\n              layers: 'LAYERS',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITEL\",\n                name: 'NAME',\n                geometrytype: 'GEOMETRIE',\n                source: 'QUELLE',\n                attributes: 'ATTRIBUTE',\n                abstract: 'ABSTRACT',\n                attribution: 'ATRIBUTION',\n                keywords: \"SCHLÜSSELWÖRTER\",\n                metadataurl: 'METADATEN URL',\n                dataurl: \"DATEN URL\"\n              }\n            },\n            groups: {\n              general: 'ALLGEMEIN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Zeilenansicht\",\n          row_to_form: \"Formularansicht\"\n        },\n        copy_map_extent_url: 'Link zur Kartenansicht kopieren',\n        download_shapefile: \"Shapefile herunterladen\",\n        download_gpx: \"DGPX herunterladen\",\n        download_gpkg: \"GPKG herunterladen\",\n        download_csv: \"CSV herunterladen\",\n        download_xls: \"XLS herunterladen\",\n        show_chart: \"Diagramm anzeigen\",\n        atlas: \"Atlas drucken\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Query layer',\n          actions: {\n            add_selection: {\n              hint: \"Auswahl hinzufügen/entfernen\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom auf Feature-Ausdehnung\"\n            },\n            add_features_to_results: {\n              hint: \"Hinzufügen/Entfernen von Features zu den Ergebnissen\"\n            },\n            remove_feature_from_results: {\n              hint: \"Feature aus den Ergebnissen entfernen\"\n            },\n            zoom_to_feature: {\n              hint: \"Zum Feature zoomen\"\n            },\n            relations: {\n              hint: \"Relationen anzeigen\"\n            },\n            relations_charts: {\n              hint: \"Relationship-Diagramm anzeigen\"\n            },\n            download_features_shapefile: {\n              hint: 'Features Shapefile herunterladen'\n            },\n            download_shapefile: {\n              hint: 'Feature Shapefile herunterladen'\n            },\n            download_features_gpx: {\n              hint: \"Feature GPX herunterladen\"\n            },\n            download_features_gpkg: {\n              hint: \"Feature GPKG herunterladen\"\n            },\n            download_gpx: {\n              hint: \"Feature GPX herunterladen\"\n            },\n            download_gpkg: {\n              hint: \"Feature GPKG herunterladen\"\n            },\n            download_features_csv: {\n              hint: \"Features CSV herunterladen\"\n            },\n            download_csv: {\n              hint: \"Feature CSV herunterladen\"\n            },\n            download_features_xls: {\n              hint: \"Features XLS herunterladen\"\n            },\n            download_xls: {\n              hint: \"Feature XLS herunterladen\"\n            },\n            atlas: {\n              hint: \"Atlas drucken\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Kopieren der Karten-URL mit dieser Geometrie-Feature-Erweiterung\",\n              hint_change: \"Kopiert\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attribute herunterladen\",\n            choiches: {\n              feature: {\n                label: \"Nur Features\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Query nach Polygon',\n          no_geometry: 'Keine Geometrie in der Antwort',\n          help: {\n            title: 'Hilfe - Abfrage nach Polygon',\n            message: \"\\n                <ul>\\n                  <li>W\\xE4hlen Sie einen Polygon Layer auf TOC.</li>\\n                  <li>Stellen Sie sicher, dass der Layer sichtbar ist.</li>\\n                  <li>Klicken Sie auf ein Feature des ausgew\\xE4hlten Layers.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Abfrage durch Polygon zeichnen\"\n        },\n        querybybbox: {\n          tooltip: 'BBox Layer abfragen',\n          nolayers_visible: 'Es sind keine abfragbaren Layer sichtbar. Bitte setzen Sie mindestens einen sichtbaren wfs Layer, um die Abfrage zu starten',\n          help: {\n            title: 'Hilfe - Abfrage des BBox Layers',\n            message: \"\\n                 <ul>\\n                  <li>Ein Quadrat auf der Karte ziehen, um unterstrichene Layer im TOC abzufragen</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Das Ergebnis in der Karte ist unvollständig, da die unten stehende Liste fehlerhafter Einträge enthält:\"\n            }\n          },\n          tooltip: 'Layer hinzufügen'\n        },\n        geolocation: {\n          tooltip: 'Geolokalisierung'\n        },\n        measures: {\n          length: {\n            tooltip: \"Länge\",\n            help: \"Klicken Sie auf die Karte, um die Linie zu zeichnen. Drücken Sie <br>CANC, wenn Sie den letzten Eckpunkt löschen möchten.\"\n          },\n          area: {\n            tooltip: \"Fläche\",\n            help: \"Drücken Sie <br>CANC, wenn Sie den letzten Eckpunkt löschen wollen.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Ungültige Skala\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meter',\n            nautical: 'Nautische Meile'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Vorheriger\",\n          zoom_next: \"Zoom Nächster\"\n        }\n      },\n      relations: {\n        relation_data: 'Daten zur Relation',\n        no_relations_found: 'Keine Relationen gefunden',\n        back_to_relations: 'Zurück zu den Relationen',\n        list_of_relations_feature: 'Liste der Relationen des Features',\n        error_missing_father_field: \"Ein Feld fehlt\"\n      },\n      workflow: {\n        steps: {\n          title: 'Schritte'\n        },\n        next: 'Weiter'\n      },\n      form: {\n        loading: 'Laden ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Kein Feature ausgewählt. Prüfen, ob der Layer in Bearbeitung oder im aktuellen Maßstab sichtbar ist\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Wert aus dem Layer abrufen\",\n            lonlat: \"Zum Abrufen der Koordinaten auf die Karte klicken\"\n          },\n          input_validation_mutually_exclusive: \"Feld schließt sich gegenseitig aus mit \",\n          input_validation_error: \"Obligatorisches Feld oder falscher Datentyp\",\n          input_validation_min_field: \"Der Wert muss größer/gleich sein als der Feldwert  \",\n          input_validation_max_field: \"Der Wert muss kleiner/gleich sein als der Feldwert \",\n          input_validation_exclude_values: \"Wert muss einmalig sein\",\n          integer: \"integer\",\n          bigint: \"integer\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string\",\n          date: \"date\",\n          datetime: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          \"required_fields\": \"Erforderliche Felder\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Spezifisches Relations-Formular verwenden, um mit Relationen zu arbeiten\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEMA\",\n        choose_map_theme: \"THEMA AUSWÄHLEN\",\n        menu: {\n          layerposition: 'Position des Layers',\n          setwmsopacity: \"Opazität einstellen\",\n          wms: {\n            title: \"\",\n            copy: \"Klicken Sie hier, um die Url zu kopieren\",\n            copied: \"Kopiert\"\n          },\n          download: {\n            shp: 'Shapefile herunterladen',\n            gpx: 'GPX herunterladen',\n            gpkg: 'GPKG herunterladen',\n            csv: 'CSV herunterladen',\n            xls: 'XLS herunterladen',\n            geotiff: \"GEOTIFF herunterladen\",\n            geotiff_map_extent: \"GEOTIFF herunterladen (aktueller Ansichtsumfang)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Liste der Prozesse\",\n        tooltip: 'Karte anklicken'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Applikation basiert auf OS-Framework\",\n      g3wSuiteDescription: \"Veröffentlichen und verwalten Sie Ihre QGIS-Projekte im Internet\",\n      productOf: \"Framework entwickelt von\"\n    },\n    toggle_color_scheme: \"Farbschema umschalten\",\n    logout: \"Logout\",\n    no_other_projects: \"Kein weiteres Projekt für diese Gruppe\",\n    /**\n     * @since 3.8.0\n     */\n    no_other_groups: \"No more groups fro this Macrogroup\",\n    yes: \"Ja\",\n    no: \"No\",\n    back: \"Zurück\",\n    backto: \"Zurück zu \",\n    changemap: \"Karte ändern\",\n    change_session: \"Change Session\",\n    component: \"Allgemeine Komponente\",\n    search: \"Suche\",\n    no_results: \"Keine Ergebnisse gefunden\",\n    print: \"Drucken\",\n    create_print: \"Drucken erstellen\",\n    dosearch: \"Suche\",\n    catalog: \"Karte\",\n    data: \"Daten\",\n    externalwms: \"WMS\",\n    baselayers: \"Base\",\n    tools: \"Tools\",\n    tree: \"Layers\",\n    legend: \"Legende\",\n    nobaselayer: \"Keine Basemap\",\n    street_search: \"Adresse finden\",\n    show: \"Anzeigen\",\n    hide: \"Ausblenden\",\n    copy_form_data: \"Daten kopieren\",\n    paste_form_data: \"Einfügen\",\n    copy_form_data_from_feature: \"Daten von der Karte kopieren\",\n    error_map_loading: \"Fehler beim Laden der Karte\",\n    check_internet_connection_or_server_admin: \"Internetverbindung prüfen oder Admin kontaktieren\",\n    could_not_load_vector_layers: \"Verbindungsfehler: Layers können geladen werden\",\n    server_saver_error: \"Fehler beim Speichern auf dem Server\",\n    server_error: \"Server-Verbindungsfehler\",\n    save: \"Speichern\",\n    cancel: \"Abbrechen\",\n    close: \"Schließen\",\n    enlange_reduce: \"Vergrößern/Verkleinern\",\n    reset_default: \"Standardgröße\",\n    add: \"Hinzufügen\",\n    exitnosave: \"Beenden ohne Speichern\",\n    annul: \"Abbrechen\",\n    layer_is_added: \"Layer mit gleichem Namen bereits hinzugefügt\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'WMS Layer hinzufügen',\n          label: {\n            position: \"Kartenposition\",\n            name: \"Name\",\n            projections: 'Projektion',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"WMS Layer hinzufügen\",\n        delete_wms_url: \"WMS Url löschen\",\n        layer_id_already_added: \"WMS Layer bereits hinzugefügt\",\n        url_already_added: \"WMS URL/Name bereits hinzugefügt\",\n        layer_add_error: \"WMS Layer nicht hinzugefügt. Bitte überprüfen Sie alle WMS-Parameter oder Url\"\n      }\n    },\n    info: {\n      title: \"Ergebnisse\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Beigefügtes Dokument öffnen\",\n      server_error: \"Auf dem Server ist ein Fehler aufgetreten\",\n      no_results: \"Keine Ergebnisse für diese Anfrage/Suche gefunden\",\n      link_button: \"Öffnen\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Position kann nicht bestimmt werden\"\n      },\n      nominatim: {\n        placeholder: \"Addresse ...\",\n        noresults: \"Keine Ergebnisse\",\n        notresponseserver: \"Keine Antwort vom Server\"\n      },\n      add_layer_control: {\n        header: \"Layer hinzufügen\",\n        select_projection: \"Layer Projektion auswählen\",\n        select_field_to_show: \"Feld auswählen, das auf der Karte angezeigt werden soll\",\n        select_csv_separator: \"Begrenzer auswählen\",\n        select_csv_x_field: \"X-Feld auswählen\",\n        select_csv_y_field: \"Y-Feld auswählen\",\n        select_color: \"Layer Farbe auswählen\",\n        drag_layer: \"Layer hierher ziehen und ablegen\"\n      },\n      query: {\n        input_relation: \"Klicken, um Relationen anzuzeigen\"\n      },\n      length: {\n        tooltip: \"Länge\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Screenshot Fehlererstellung\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Klicken Sie mit der rechten Maustaste auf einen einzelnen Layer, um auf zusätzliche Funktionen zuzugreifen\",\n      contextmenu: {\n        zoomtolayer: \"Zoom auf Layer\",\n        open_attribute_table: \"Attributtabelle öffnen\",\n        show_metadata: \"Metadaten\",\n        styles: 'Stile',\n        vector_color_menu: \"Farbe einstellen/ändern\",\n        layer_opacity: \"Opazität\"\n      }\n    },\n    dataTable: {\n      previous: \"Vorherige\",\n      next: \"Weiter\",\n      lengthMenu: \"_MENÜ_ anzeigen\",\n      info: \"Anzeige von _START_ bis _END_ der _TOTAL_ Einträge\",\n      no_data: \"Keine Daten\",\n      nodatafilterd: \"Keine passenden Datensätze gefunden\",\n      infoFiltered: \"(gefiltert aus _MAX_ Gesamtsätzen)\"\n    }\n  }\n};\n\n},{}],330:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"default\",\n    sign_in: \"Sign in\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Add/Remove Filter\",\n        nofilter: \"Remove Filter\",\n        invert: \"Invert Selection\",\n        clear: \"Clear Selection\",\n        show_features_on_map: \"Show features visible on map\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Select Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Spatial Bookmarks\",\n        helptext: \"Move on map extent, insert name and click Add\",\n        input: {\n          name: \"Name\"\n        },\n        sections: {\n          project: {\n            title: \"Project Bookmarks\"\n          },\n          user: {\n            title: \"User Bookmarks\"\n          }\n        }\n      },\n      search: {\n        all: 'ALL',\n        no_results: \"No results\",\n        searching: \"Searching ...\",\n        error_loading: \"Error Loading Data\",\n        layer_not_searchable: \"Layer is not searchable\",\n        layer_not_querable: \"Layer is not querable\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Please enter\",\n            post: \"or more characters\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'No Layer to print',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Scale\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Download Image\",\n        fids_instruction: \"Values accepted: from 1 to value of [max]. Is possible to insert a range ex. 4-6\",\n        fids_example: \"Ex. 1,4-6 will be printed id 1,4,5,6\",\n        help: \"The layers shown in the print could be those defined on the project and not those displayed on the map\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Run\",\n          info: \"Information\",\n          delete: \"Delete\",\n          edit: \"Edit\"\n        },\n        messages: {\n          changed: 'Saved',\n          number_of_features: \"Number of features\"\n        },\n        panel: {\n          button: {\n            all: 'ALL',\n            save: 'SAVE',\n            test: 'TEST',\n            clear: 'CLEAR',\n            run: 'RUN',\n            manual: 'MANUAL'\n          },\n          layers: 'LAYERS',\n          fields: 'FIELDS',\n          values: 'VALUES',\n          operators: 'OPERATORS',\n          expression: 'EXPRESSION'\n        },\n        error_run: 'An error occurs. Please check the query',\n        error_test: \"An error occur during query execution\",\n        delete: 'Do you want delete it?',\n        additem: 'Insert the name of the new search'\n      },\n      errors: {\n        layers: {\n          load: \"Some layers are not available\"\n        },\n        unsupported_format: 'Not supported format',\n        add_external_layer: 'Load layer error'\n      },\n      metadata: {\n        title: 'Metadata',\n        groups: {\n          general: {\n            title: 'GENERAL',\n            fields: {\n              title: 'TITLE',\n              name: 'NAME',\n              description: \"DESCRIPTION\",\n              abstract: \"ABSTRACT\",\n              keywords: 'KEYWORDS',\n              fees: \"FEES\",\n              accessconstraints: \"ACCESS CONSTRAINT\",\n              contactinformation: \"CONTACTS\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'References',\n                  contactvoicetelephone: 'Phone',\n                  contactorganization: 'Organization',\n                  ContactOrganization: 'Organization',\n                  contactposition: 'Position',\n                  ContactPosition: 'Position',\n                  contactperson: 'Person',\n                  ContactPerson: 'Person'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'LAYERS',\n            fields: {\n              layers: 'LAYERS',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITLE\",\n                name: 'NAME',\n                geometrytype: 'GEOMETRY',\n                source: 'SOURCE',\n                attributes: 'ATTRIBUTES',\n                abstract: 'ABSTRACT',\n                attribution: 'ATTRIBUTION',\n                keywords: \"PAROLE CHIAVE\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'GENERAL',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Row View\",\n          row_to_form: \"Form View\"\n        },\n        copy_map_extent_url: 'Copy map view link',\n        download_shapefile: \"Download Shapefile\",\n        download_gpx: \"Download GPX\",\n        download_gpkg: \"Download GPKG\",\n        download_csv: \"Download CSV\",\n        download_xls: \"Download XLS\",\n        show_chart: \"Show Chart\",\n        atlas: \"Print Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Query layer',\n          actions: {\n            add_selection: {\n              hint: \"Add/Remove Selection\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom to features extent\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom to feature\"\n            },\n            relations: {\n              hint: \"Show Relations\"\n            },\n            relations_charts: {\n              hint: \"Show relations chart\"\n            },\n            download_features_shapefile: {\n              hint: 'Download features Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Download feature Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Download feature GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Download features GPKG\"\n            },\n            download_gpx: {\n              hint: \"Download feature GPX\"\n            },\n            download_gpkg: {\n              hint: \"Download feature GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Download features CSV\"\n            },\n            download_csv: {\n              hint: \"Download feature CSV\"\n            },\n            download_features_xls: {\n              hint: \"Download features XLS\"\n            },\n            download_xls: {\n              hint: \"Download feature XLS\"\n            },\n            atlas: {\n              hint: \"Print Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Query By Polygon',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Guide - Query By Polygon',\n            message: \"\\n                <ul>\\n                  <li>Select a polygon layer on TOC.</li>\\n                  <li>Be sure that layer is visible.</li>\\n                  <li>Click on a feature of selected layer.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Query by Draw Polygon \"\n        },\n        querybybbox: {\n          tooltip: 'Query BBox layer',\n          nolayers_visible: 'No querable layers are visible. Please set at least one visible wfs layer to run query',\n          help: {\n            title: 'Guide - Query BBox layer',\n            message: \"\\n                  <ul>\\n                  <li>Draw a square on map to query underlined layers on TOC</li>\\n                  </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Add Layer'\n        },\n        geolocation: {\n          tooltip: 'Geolocation'\n        },\n        measures: {\n          length: {\n            tooltip: \"Length\",\n            help: \"Click on map to draw the line. Press <br>CANC if you want delete last vertex\"\n          },\n          area: {\n            tooltip: \"Area\",\n            help: \"Click to draw poligon.Press <br>CANC if you want delete last vertex\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Invalid Scale\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Last\",\n          zoom_next: \"Zoom Next\"\n        }\n      },\n      relations: {\n        relation_data: 'Relation data',\n        no_relations_found: 'No relations found',\n        back_to_relations: 'Back to relations',\n        list_of_relations_feature: 'List of relations of feature',\n        error_missing_father_field: \"Field is missing\"\n      },\n      workflow: {\n        steps: {\n          title: 'Steps'\n        },\n        next: 'Next'\n      },\n      form: {\n        loading: 'Loading ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"No feature selected. Check if layer is on editing or visible at current scale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Get value from ma layer\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Field mutually exclusive with \",\n          input_validation_error: \"Mandatory Field or wrong data type\",\n          input_validation_min_field: \"Value has to be more/equal to field value  \",\n          input_validation_max_field: \"Value has to be less/equal to field value \",\n          input_validation_exclude_values: \"Value has to be unique\",\n          integer: \"integer\",\n          bigint: \"integer\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string\",\n          date: \"date\",\n          datetime: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          \"required_fields\": \"Required fields\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Use relation specific form to work with relation\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Click here to copy url\",\n            copied: \"Copied\"\n          },\n          download: {\n            shp: 'Download Shapefile',\n            gpx: 'Download GPX',\n            gpkg: 'Download GPKG',\n            csv: 'Download CSV',\n            xls: 'Download XLS',\n            geotiff: \"Download GEOTIFF\",\n            geotiff_map_extent: \"Download GEOTIFF(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"List of process\",\n        tooltip: 'Click on map'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Application based on OS framework\",\n      g3wSuiteDescription: \"Publish and manage your QGIS projects on the web\",\n      productOf: \"Framework developed by\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Logout\",\n    no_other_projects: \"No more project for this group\",\n    /**\n     * @since 3.8.0\n     */\n    no_other_groups: \"No more groups fro this Macrogroup\",\n    yes: \"Yes\",\n    no: \"No\",\n    back: \"Back\",\n    backto: \"Back to \",\n    changemap: \"Change Map\",\n    change_session: \"Change Session\",\n    component: \"Generic Component\",\n    search: \"Search\",\n    no_results: \"No results found\",\n    print: \"Print\",\n    create_print: \"Create Print\",\n    dosearch: \"Search\",\n    catalog: \"Map\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Base\",\n    tools: \"Tools\",\n    tree: \"Layers\",\n    legend: \"Legend\",\n    nobaselayer: \"No basemap\",\n    street_search: \"Find Address\",\n    show: \"Show\",\n    hide: \"Hide\",\n    copy_form_data: \"Copy data\",\n    paste_form_data: \"Paste\",\n    copy_form_data_from_feature: \"Copy data from map\",\n    error_map_loading: \"Error occurs loading map\",\n    check_internet_connection_or_server_admin: \"Check internet connection or contact admin\",\n    could_not_load_vector_layers: \"Connection error: Layers can be loaded\",\n    server_saver_error: \"Error in server saving\",\n    server_error: \"Server connection error\",\n    save: \"Save\",\n    cancel: \"Cancel\",\n    close: \"Close\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Add\",\n    exitnosave: \"Exit without save\",\n    annul: \"Cancel\",\n    layer_is_added: \"Layer with same name already added\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Add WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Layer already added\",\n        url_already_added: \"WMS URL/Name already added\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Results\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Open attached document\",\n      server_error: \"An error occurred from server\",\n      no_results: \"No results found for this query/search\",\n      link_button: \"Open\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Can't get your position\"\n      },\n      nominatim: {\n        placeholder: \"Address ...\",\n        noresults: \"No results\",\n        notresponseserver: \"No response from server\"\n      },\n      add_layer_control: {\n        header: \"Add Layer\",\n        select_projection: \"Select layer projection\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Select Layer Color\",\n        drag_layer: \"Drag and drop layer here\"\n      },\n      query: {\n        input_relation: \"Click to show relations\"\n      },\n      length: {\n        tooltip: \"Length\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Right-click on individual layer to access additional features\",\n      contextmenu: {\n        zoomtolayer: \"Zoom to Layer\",\n        open_attribute_table: \"Open Attribute Table\",\n        show_metadata: \"Metadata\",\n        styles: 'Styles',\n        vector_color_menu: \"Set/Change Color\",\n        layer_opacity: \"Opacity\"\n      }\n    },\n    dataTable: {\n      previous: \"Previous\",\n      next: \"Next\",\n      lengthMenu: \"Show _MENU_\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"No data\",\n      nodatafilterd: \"No matching records found\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],331:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"oletuksena\",\n    sign_in: \"Kirjaudu sisään\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Lisätä/Poista Suodattaa\",\n        nofilter: \"Poista Suodattaa\",\n        invert: \"Käänteinen Valinta\",\n        clear: \"Peruuttaa Valinta\",\n        show_features_on_map: \"Näytä kartalla näkyvät ominaisuudet\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Valitse Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Tilalliset kirjanmerkit\",\n        helptext: \"Siirry kartan laajuuteen, lisää nimi ja napsauta Lisää\",\n        input: {\n          name: \"Nimi\"\n        },\n        sections: {\n          project: {\n            title: \"Projektin kirjanmerkit\"\n          },\n          user: {\n            title: \"Käyttäjän kirjanmerkit\"\n          }\n        }\n      },\n      search: {\n        all: 'KAIKKI',\n        no_results: \"Ei tuloksia\",\n        searching: \"Haetaan ...\",\n        error_loading: \"Virhe ladattaessa tietoja.\",\n        layer_not_searchable: \"Taso ei ole haettavissa.\",\n        layer_not_querable: \"Tasolle ei voi suorittaa kyselyitä.\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Syötä\",\n            post: \"tai useampi merkki\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Ei tulostettavia tasoja',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Mittakaava\",\n        format: \"Formaatti\",\n        rotation: \"Kierto\",\n        download_image: \"Lataa kuva\",\n        fids_instruction: \"Hyväksytyt arvot: yhdestä arvoon [max]. Salittua syöttää myös väli, esim. 4-6.\",\n        fids_example: \"Esimerkiksi 1,4-6 tulostuu id 1,4,5,6.\",\n        help: \"Tulosteessa esiintyvät tasot voivat olla projektissa määriteltyjä ei kartalla esiintyviä.\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Suorita\",\n          info: \"Informaatio\",\n          delete: \"Poista\",\n          edit: \"Muokkaa\"\n        },\n        messages: {\n          changed: 'Tallennettu',\n          number_of_features: \"Ominaisuuksien lukumäärä\"\n        },\n        panel: {\n          button: {\n            all: 'KAIKKI',\n            save: 'TALLENNA',\n            test: 'TESTI',\n            clear: 'TYHJENNÄ',\n            run: 'SUORITA',\n            manual: 'MANUAALINEN'\n          },\n          layers: 'TASOT',\n          fields: 'KENTÄT',\n          values: 'ARVOT',\n          operators: 'OPERAATTORIT',\n          expression: 'LAUSEKE'\n        },\n        error_run: 'Tapahtui virhe. Tarkista kysely.',\n        error_test: \"Kyselyä suorittaessa tapahtui virhe.\",\n        delete: 'Haluatko poistaa sen?',\n        additem: 'Anna nimi uudelle haulle.'\n      },\n      errors: {\n        layers: {\n          load: \"Jotkin tasot eivät ole saatavilla.\"\n        },\n        unsupported_format: 'Ei tuettu formaatti',\n        add_external_layer: 'Tason latausvirhe'\n      },\n      metadata: {\n        title: 'Metatiedot',\n        groups: {\n          general: {\n            title: 'YLEINEN',\n            fields: {\n              title: 'OTSIKKO',\n              name: 'NIMI',\n              description: \"KUVAUS\",\n              abstract: \"TIIVISTELMÄ\",\n              keywords: 'AVAINSANAT',\n              fees: \"MAKSUT\",\n              accessconstraints: \"PÄÄSYRAJOITUKSET\",\n              contactinformation: \"YHTEYSTIEDOT\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Sähköposti\",\n                  personprimary: 'Viitteet',\n                  contactvoicetelephone: 'Puhelin',\n                  contactorganization: 'Organisaatio',\n                  ContactOrganization: 'Organisaatio',\n                  contactposition: 'Asema',\n                  ContactPosition: 'Asema',\n                  contactperson: 'Yhteyshenkilö',\n                  ContactPerson: 'Yhteyshenkilö'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'TASOT',\n            fields: {\n              layers: 'TASOT',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"OTSIKKO\",\n                name: 'NIMI',\n                geometrytype: 'GEOMETRIA',\n                source: 'LÄHDE',\n                attributes: 'ATTRIBUUTIT',\n                abstract: 'TIIVISTELMÄ',\n                attribution: 'ATTRIBUUTIO',\n                keywords: \"AVAINSANAT\",\n                metadataurl: 'METATIEDON URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'YLEINEN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Rivinäkymä\",\n          row_to_form: \"Taulukkonäkymä\"\n        },\n        copy_map_extent_url: 'Kopioi kartan katselulinkki',\n        download_shapefile: \"Lataa SHP-tiedosto\",\n        download_gpx: \"Lataa GPX-tiedosto\",\n        download_gpkg: \"Lataa GPKG-tiedosto\",\n        download_csv: \"Lataa CSV-tiedosto\",\n        download_xls: \"Lataa XLS-tiedosto\",\n        show_chart: \"Näytä kaavio\",\n        atlas: \"Tulosta Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Kyselytaso',\n          actions: {\n            add_selection: {\n              hint: 'Lisää/Poista valinta'\n            },\n            zoom_to_features_extent: {\n              hint: \"Tarkenna ominaisuuden laajuuteen\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Tarkenna ominaisuuteen\"\n            },\n            relations: {\n              hint: \"Näytä relaatiot\"\n            },\n            relations_charts: {\n              hint: \"Näytä relaatiokaavio\"\n            },\n            download_features_shapefile: {\n              hint: 'Lataa ominaisuuden SHP-tiedosto'\n            },\n            download_shapefile: {\n              hint: 'Lataa ominaisuuden SHP-tiedosto'\n            },\n            download_features_gpx: {\n              hint: \"Lataa ominaisuuden GPX-tiedosto\"\n            },\n            download_features_gpkg: {\n              hint: \"Lataa ominaisuuden GPKG-tiedosto\"\n            },\n            download_gpx: {\n              hint: \"Lataa ominaisuuden GPX-tiedosto\"\n            },\n            download_gpkg: {\n              hint: \"Lataa ominaisuuden GPKG-tiedosto\"\n            },\n            download_features_csv: {\n              hint: \"Lataa ominaisuuden CSV-tiedosto\"\n            },\n            download_csv: {\n              hint: \"Lataa ominaisuuden CSV-tiedosto\"\n            },\n            download_features_xls: {\n              hint: \"Lataa ominaisuuden XLS-tiedosto\"\n            },\n            download_xls: {\n              hint: \"Lataa ominaisuuden XLS-tiedosto\"\n            },\n            atlas: {\n              hint: \"Tulosta Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Kysely monikulmiolla',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Ohje - Kysely monikulmiolla',\n            message: \"\\n                <ul>\\n                  <li>Valitse monikulmiotaso luettelosta.</li>\\n                  <li>Tarkista, ett\\xE4 taso on n\\xE4kyvill\\xE4.</li>\\n                  <li>Valitse ominaisuus valitulla tasolla.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Kysely piirtopolygonin mukaan\"\n        },\n        querybybbox: {\n          tooltip: 'Tasoon kohdituva BBox-kysely',\n          nolayers_visible: 'Ei kyseltäviä tasoja näkyvillä. Aseta vähintään yksi WFS-taso näkyväksi suorittaaksesi haun.',\n          help: {\n            title: 'Ohje - Tasoon kohdistuva BBox-kysely',\n            message: \"\\n                 <ul>\\n                  <li>Piirr\\xE4 suorakulmio kartalle suorittaaksesi kyselyn luettelossa alleviivatuille tasoille.</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Lisää taso'\n        },\n        geolocation: {\n          tooltip: 'Maantieteellinen sijainti'\n        },\n        measures: {\n          length: {\n            tooltip: \"Pituus\",\n            help: \"Piirrä murtoviiva kartalle. Paina <br>CANC, mikäli haluat poistaa edellisen pisteen.\"\n          },\n          area: {\n            tooltip: \"Alue\",\n            help: \"Piirrä monikulmio kartalle. Paina <br>CANC, mikäli haluat poistaa edellisen pisteen.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Väärä mittakaava\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Edellinen\",\n          zoom_next: \"Zoom Seurata\"\n        }\n      },\n      relations: {\n        relation_data: 'Relaation tiedot',\n        no_relations_found: 'Relaatiota ei löytynyt.',\n        back_to_relations: 'Takaisin relaatioihin',\n        list_of_relations_feature: 'Lista ominaisuuden relaatioista',\n        error_missing_father_field: \"Kenttä puuttu\"\n      },\n      workflow: {\n        steps: {\n          title: 'Vaiheet'\n        },\n        next: \"Seuraava\"\n      },\n      form: {\n        loading: 'Ladataan...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Ominaisuuksia ei valiitu. Tarkista, että taso on muokattavissa tai näkyvissä nykyisellä mittakaavalla.\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Valitse arvo karttatasolta\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Kenttä toisensa poissulkeva.\",\n          input_validation_error: \"Pakollinen kenttä tai väärä tietotyyppi.\",\n          input_validation_min_field: \"Arvon tulee olla suurempi tai yhtäsuuri kuin kentän arvo.\",\n          input_validation_max_field: \"Arvon tulee olla pienempi tai yhtäsuuri kuin kentän arvo.\",\n          input_validation_exclude_values: \"Arvon tulee olla uniikki.\",\n          integer: \"kokonaisluku\",\n          bigint: \"kokonaisluku\",\n          text: \"teksti\",\n          varchar: \"teksti\",\n          textarea: \"teksti\",\n          string: \"merkkijono\",\n          date: \"päiväys\",\n          datetime: \"päiväys\",\n          float: \"liukuluku\",\n          table: \"taulukko\"\n        },\n        footer: {\n          \"required_fields\": \"Vaaditut kentät\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Käytä relaatioiden määrittämiseen tähän tarkoitettua toimintoa\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Paina tästä kopioidaksesi url:n.\",\n            copied: \"Kopioitu.\"\n          },\n          download: {\n            shp: 'Lataa SHP-tiedosto',\n            gpx: 'Lataa GPX-tiedosto',\n            gpkg: 'Lataa GPKG-tiedosto',\n            csv: 'Lataa CSV-tiedosto',\n            xls: 'Lataa XLS-tiedosto',\n            geotiff: 'Lataa GEOTIFF-tiedosto',\n            geotiff_map_extent: \"Lataa GEOTIFF-tiedosto(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista prosesseista\",\n        tooltip: 'Valitse kartalta'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Sovellus perustuu OS framework\",\n      g3wSuiteDescription: \"Julkaise ja hallinnoi QGIS-projekteja verkossa.\",\n      productOf: \"Frameworkin on kehittänyt\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Kirjaudu ulos\",\n    no_other_projects: \"Ei projekteja tälle ryhmälle\",\n    /**\n     * @since 3.8.0\n     */\n    no_other_groups: \"No more groups fro this Macrogroup\",\n    yes: \"Kyllä\",\n    no: \"Ei\",\n    back: \"Palaa\",\n    backto: \"Takaisin \",\n    changemap: \"Vaihda karttaa\",\n    change_session: \"Change Session\",\n    component: \"Yleinen komponentti\",\n    search: \"Hae\",\n    no_results: \"Ei hakutuloksia\",\n    print: \"Tulosta\",\n    create_print: \"Luo tuloste\",\n    dosearch: \"Hae\",\n    catalog: \"Kartta\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Taustakartta\",\n    tools: \"Työkalut\",\n    tree: \"Tasot\",\n    legend: \"Merkintöjen selite\",\n    nobaselayer: \"Ei taustakarttaa\",\n    street_search: \"Hae osoite\",\n    show: \"Näytä\",\n    hide: \"Piilota\",\n    copy_form_data: \"Kopioi tiedot\",\n    paste_form_data: \"Liitä\",\n    copy_form_data_from_feature: \"Kopioi tiedot kartalta\",\n    error_map_loading: \"Virhe ladattessa karttaa\",\n    check_internet_connection_or_server_admin: \"Tarkista internetyhteys tai ota yhteyttä ylläpitäjään.\",\n    could_not_load_vector_layers: \"Yhteysvirhe, tasoja ei voida ladata.\",\n    server_saver_error: \"Virhe tallentaessa palvelimelle.\",\n    server_error: \"Yhteysvirhe palvelimeen\",\n    save: \"Tallenna\",\n    cancel: \"Peruuta\",\n    close: \"Sulje\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Lisää\",\n    exitnosave: \"Poistu tallentamatta\",\n    annul: \"Peruuta\",\n    layer_is_added: \"Samanniminen taso on jo lisätty.\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Taso on jo lisätty.\",\n        url_already_added: \"WMS URL/Name on jo lisätty.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Tulokset\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Avaa liitetiedosto\",\n      server_error: \"Palvelimella tapahtui virhe.\",\n      no_results: \"Ei tuloksia haulle/kyselylle.\",\n      link_button: \"Avaa\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Sijaintiasi ei saada\"\n      },\n      nominatim: {\n        placeholder: \"Osoite ...\",\n        noresults: \"Ei tuloksia\",\n        notresponseserver: \"Ei vastausta palvelimelta\"\n      },\n      add_layer_control: {\n        header: \"Lisää taso\",\n        select_projection: \"Valitse tason projektio\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Valitse tason väri\",\n        drag_layer: \"Vedä ja pudota taso tähän\"\n      },\n      query: {\n        input_relation: \"Paina näyttääksesi relaatiot\"\n      },\n      length: {\n        tooltip: \"Pituus\"\n      },\n      area: {\n        tooltip: \"Pinta-ala\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Napsauta hiiren kakkospainikkeella yksittäistä tasoa päästäksesi lisäominaisuuksiin.\",\n      contextmenu: {\n        zoomtolayer: \"Tarkenna tasoon\",\n        open_attribute_table: \"Avaa attribuuttitaulu\",\n        show_metadata: \"Metatiedot\",\n        styles: \"Tyylejä\",\n        vector_color_menu: \"Aseta/muuta väriä\",\n        layer_opacity: \"Peittävyys\"\n      }\n    },\n    dataTable: {\n      previous: \"Edellinen\",\n      next: \"Seuraava\",\n      lengthMenu: \"Show _MENU_ items\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"Ei tietoja\",\n      nodatafilterd: \"Vastaavia tietueita ei löytynyt\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],332:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Ce site utilise des cookies pour assurer une bonne convivialité pour l'utilisateur final.\",\n      buttonText: \"J’ai compris !\"\n    },\n    default: \"par défaut \",\n    sign_in: \"Se connecter \",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Ajout/Suppression de filtre \",\n        nofilter: \"Supprimer le filtre \",\n        invert: \"Sélection inversée \",\n        clear: \"Effacer la sélection \",\n        show_features_on_map: \"Afficher les caractéristiques visibles sur la carte\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Sélectionnez Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Signets spatiaux\",\n        helptext: \"Déplacez-vous sur l'étendue de la carte, insérez le nom et cliquez sur Ajouter\",\n        input: {\n          name: \"Nom\"\n        },\n        sections: {\n          project: {\n            title: \"Signets du projet\"\n          },\n          user: {\n            title: \"Signets de l'utilisateur\"\n          }\n        }\n      },\n      search: {\n        all: 'TOUTES',\n        no_results: \"Aucune valeur trouvée\",\n        searching: \"Je cherche...\",\n        error_loading: \"Erreur de chargement des valeurs\",\n        layer_not_searchable: \"Le layer n’est pas recherchable\",\n        layer_not_querable: \"Le layer n'est pas interrogeable\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Tapez au moins\",\n            post: \"caractères\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Aucune layer visible',\n        scale: \"Échelle\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Télécharger l'image\",\n        fids_instruction: \"Valeurs acceptées : de 1 à la valeur maximale indiquée par [max]. Il est également possible d'indiquer une fourchette de valeurs, par exemple 4-6\",\n        fids_example: \"Par exemple 1,4-6 les ids 1,4,5,6 seront imprimés\",\n        help: \"Les layers montrés dans l'impression peuvent être ceux définis dans le projet et non ceux montrés sur la carte\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Lancer la recherche\",\n          info: \"Information\",\n          delete: \"Supprimer\",\n          edit: \"Editer\"\n        },\n        messages: {\n          changed: 'Enregistré correctement',\n          number_of_features: \"Nombre de fonctionnalités\"\n        },\n        panel: {\n          button: {\n            all: 'TOUTES',\n            save: 'SAUVEGARDER',\n            test: 'TESTER',\n            clear: 'NETTOYER',\n            run: 'EXECUTER',\n            manual: 'MANUEL'\n          },\n          layers: 'LAYERS',\n          fields: 'CHAMPS',\n          values: 'VALEURS',\n          operators: 'OPERATEURS',\n          expression: 'EXPRESSION'\n        },\n        error_run: \"Une erreur s'est produite. Vérifiez si la requête est correcte\",\n        error_test: \"Erreur d'exécution de la requête\",\n        delete: 'Voulez-vous confirmer la suppression ?',\n        additem: 'Entrer le nom de la requête'\n      },\n      errors: {\n        layers: {\n          load: \"Certaines layers du projet ne sont pas disponibles actuellement et n'apparaissent donc pas dans la vue actuelle\"\n        },\n        unsupported_format: 'Format non supporté',\n        add_external_layer: 'Erreur lors du chargement du layer'\n      },\n      metadata: {\n        title: \"Métadonnées\",\n        groups: {\n          general: {\n            title: 'GÉNÉRAL',\n            fields: {\n              title: 'TITRE',\n              name: 'NOM',\n              description: \"DESCRIPTION\",\n              abstract: \"ABREGE\",\n              keywords: 'LISTE DE MOTS-CLÉS',\n              fees: \"DROITS D'INSCRIPTION\",\n              accessconstraints: \"CONTRAINTES D'ACCÈS\",\n              contactinformation: \"CONTACTS\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-mail\",\n                  personprimary: 'Références',\n                  contactvoicetelephone: 'Téléphone',\n                  contactorganization: 'Organisation',\n                  ContactOrganization: 'Organisation',\n                  contactposition: 'Localisation',\n                  ContactPosition: 'Localisation',\n                  contactperson: 'Personne',\n                  ContactPerson: 'Personne'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'INFO ESPACE',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATES',\n            groups: {\n              general: 'GENERALE',\n              spatial: 'INFO ESPACE'\n            },\n            fields: {\n              layers: 'STRATES',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITRE\",\n                name: 'NOM',\n                geometrytype: 'GÉOMÉTRIE',\n                source: 'SOURCE',\n                attributes: 'ATTRIBUTES',\n                abstract: 'ABRÉGÉ',\n                attribution: 'ATTRIBUTION',\n                keywords: \"MOTS- CLÉS\",\n                metadataurl: 'URL DE MÉTADONNÉES',\n                dataurl: \"URL DES DONNÉES\"\n              }\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Afficher le format de la ligne\",\n          row_to_form: \"Format du formulaire d'affichage\"\n        },\n        zoom_to_features_extent: \"Zoom sur les fonctionnalités\",\n        copy_map_extent_url: 'Copier le lien de visualisation de la carte',\n        download_shapefile: \"Télécharger le fichier Shapefile\",\n        download_gpx: \"Télécharger GPX\",\n        download_gpkg: \"Télécharger GPKG\",\n        download_csv: \"Télécharger CSV\",\n        download_xls: \"Télécharger XLS\",\n        show_chart: \"Montrer graphique\",\n        atlas: \"Imprimer l'Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interrogation layer',\n          actions: {\n            add_selection: {\n              hint: \"Ajouter/supprimer une sélection\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom sur les fonctionnalités\"\n            },\n            add_features_to_results: {\n              hint: \"Ajouter des fonctionnalités aux résultats\"\n            },\n            remove_feature_from_results: {\n              hint: \"Supprimer la fonctionnalité des résultats\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom sur les fonctionnalités\"\n            },\n            relations: {\n              hint: \"Voir les relations\"\n            },\n            relations_charts: {\n              hint: \"Voir les graphiques de relations\"\n            },\n            download_features_shapefile: {\n              hint: 'Télécharger les fonctionnalités vers Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Télécharger le Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Télécharger les fonctionnalités vers GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Télécharger les fonctionnalités vers GPKG\"\n            },\n            download_gpx: {\n              hint: \"Télécharger le GPX\"\n            },\n            download_gpkg: {\n              hint: \"Télécharger le GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Télécharger les fonctionnalités vers CSV\"\n            },\n            download_csv: {\n              hint: \"Télécharger le CSV\"\n            },\n            download_features_xls: {\n              hint: \"Télécharger les fonctionnalités vers XLS\"\n            },\n            download_xls: {\n              hint: \"Télécharger le XLS\"\n            },\n            atlas: {\n              hint: \"Imprimer l'Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copier l'URL de la carte avec l'extension vers cette géométrie\",\n              hint_change: \"Copié\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Téléchargement des attributs\",\n            choiches: {\n              feature: {\n                label: \"Fonctionnalités seulement\"\n              },\n              feature_polygon: {\n                label: \"Fonctionnalités+Requête Polygon \"\n              }\n            }\n          },\n          tooltip: 'Requête par polygone',\n          no_geometry: 'La réponse ne contient pas de géométrie',\n          help: {\n            title: 'Aide - Requête par polygone',\n            message: \"\\n                <ul>\\n                  <li>S\\xE9lectionnez un layer de polygone dans la l\\xE9gende.</li>\\n                  <li>V\\xE9rifiez que le layer est visible dans la carte.</li>\\n                  <li>Cliquez sur une g\\xE9om\\xE9trie du layer s\\xE9lectionn\\xE9.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Requête par polygone de dessin\"\n        },\n        querybybbox: {\n          tooltip: 'Requête pour BBOX',\n          nolayers_visible: \"Aucun layer requêtable n'est visible. Assurez-vous qu'au moins un layer wfs est visible pour exécuter la requête\",\n          help: {\n            title: 'Aide - Requête BBox',\n            message: \"\\n                  <ul>\\n                    <li>Dessinez un rectangle pour interroger les couches surlign\\xE9es en jaune</li>\\n                 </ul>\\n            \"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Le résultat de la carte est partiel en raison de la présence des enregistrements incorrects suivants :\"\n            }\n          },\n          tooltip: 'Ajouter un layer'\n        },\n        geolocation: {\n          tooltip: 'Géolocalisation'\n        },\n        measures: {\n          length: {\n            tooltip: \"Longueur\",\n            help: \"Cliquez sur la carte pour continuer à dessiner la ligne.<br>CANC si vous voulez supprimer le dernier vertex inséré\"\n          },\n          area: {\n            tooltip: \"Zone\",\n            help: \"Cliquez pour continuer à dessiner le polygone.<br>CANC si vous voulez supprimer le dernier vertex inséré\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Échelle invalide\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Précédent\",\n          zoom_next: \"Zoom Suivant\"\n        }\n      },\n      relations: {\n        relation_data: 'Données relationnelles',\n        no_relations_found: 'Aucune relation trouvée',\n        back_to_relations: 'Retour aux relations',\n        list_of_relations_feature: 'Liste des relations entre les caractéristiques',\n        error_missing_father_field: \"Le champ concerné n'existe pas\"\n      },\n      workflow: {\n        steps: {\n          title: 'Étapes'\n        },\n        next: 'Suivant'\n      },\n      form: {\n        loading: 'Chargement...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Aucune fonction sélectionnée. Vérifier si le layer est en édition ou non visible à l'échelle actuelle\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Obtenir la valeur de la carte\",\n            lonlat: \"Cliquez sur la carte pour obtenir les coordonnées\"\n          },\n          input_validation_mutually_exclusive: \"Champ mutuellement exclusif avec \",\n          input_validation_error: \"Champ obligatoire ou type de valeur incorrect\",\n          input_validation_min_field: \"La valeur doit être supérieure ou égale au camp \",\n          input_validation_max_field: \"La valeur doit être inférieure ou égale au champ \",\n          input_validation_exclude_values: \"Le champ doit contenir une valeur différente\",\n          integer: \"entier\",\n          bigint: \"entier\",\n          text: \"textuel\",\n          varchar: \"textuel\",\n          textarea: \"textuel\",\n          string: \"chaîne\",\n          date: \"date\",\n          datetime: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          required_fields: \"Champs obligatoires\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Gérer les relations via un formulaire dédié\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"SÉLECTIONNEZ LE THÈME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Cliquez ici pour copier l'url\",\n            copied: \"Copié\"\n          },\n          download: {\n            shp: 'Télécharger Shapefile',\n            gpx: 'Télécharger GPX',\n            gpkg: 'Télécharger GPKG',\n            csv: 'Télécharger CSV',\n            xls: 'Télécharger XLS',\n            geotiff: 'Télécharger GEOTIFF',\n            geotiff_map_extent: \"Télécharger GEOTIFF(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Liste des processus\",\n        tooltip: 'Cliquez sur la carte'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Application construite avec le framework OS\",\n      g3wSuiteDescription: \"Publiez et gérez vos projets QGIS sur le Web\",\n      productOf: \"Framework développé par\"\n    },\n    logout: \"Quitter\",\n    no_other_projects: \"Il n'y a pas d'autres projets dans ce groupe de cartes\",\n    /**\n     * @since 3.8.0\n     */\n    no_other_groups: \"No more groups fro this Macrogroup\",\n    yes: \"Oui\",\n    no: \"No\",\n    back: \"Retour\",\n    backto: \"Retour à \",\n    changemap: \"Changer de carte\",\n    change_session: \"Change Session\",\n    component: \"Composant générique\",\n    search: \"Recherches\",\n    no_results: \"Aucun résultat trouvé\",\n    print: \"Imprimer\",\n    create_print: \"Créer une impression\",\n    dosearch: \"Recherche\",\n    catalog: \"Carte\",\n    data: \"Données\",\n    externalwms: \"WMS\",\n    baselayers: \"Bases\",\n    tools: \"Outils\",\n    tree: \"Strates\",\n    legend: \"Légende\",\n    nobaselayer: \"Pas de carte de base\",\n    street_search: \"Adresse de recherche\",\n    show: \"Afficher\",\n    hide: \"Cacher\",\n    copy_form_data: \"Copier les données du formulaire\",\n    paste_form_data: \"Coller\",\n    copy_form_data_from_feature: \"Copier les données de la carte\",\n    error_map_loading: \"Erreur de chargement de la nouvelle carte\",\n    check_internet_connection_or_server_admin: \"Vérifiez la connexion internet ou contactez l'administrateur\",\n    could_not_load_vector_layers: \"Erreur de connexion au serveur : il n'a pas été possible de charger les vecteurs demandés\",\n    server_saver_error: \"Erreur de sauvegarde sur le serveur\",\n    server_error: \"Une erreur s'est produite dans la requête au serveur\",\n    save: \"Sauvegarder\",\n    cancel: \"Supprimer\",\n    close: \"Fermer\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Ajouter\",\n    exitnosave: \"Quitter sans sauvegarder\",\n    annul: \"Annuler\",\n    layer_is_added: \"Layer avec le même nom déjà ajouté\",\n    wms_layer_id_already_added: \"WMS Layer déjà ajouté\",\n    wms_url_already_added: \"WMS URL déjà ajouté\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Add WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Nivån har redan lagts till.\",\n        url_already_added: \"WMS URL/Name har redan lagts till.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Résultats\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Ouvrir le document joint\",\n      server_error: \"Une erreur s'est produite dans la requête au serveur\",\n      no_results: \"Aucun résultat pour cette requête/recherche\",\n      link_button: \"Ouvrir\"\n    },\n    mapcontrols: {\n      geolocations: {\n        title: \"\",\n        error: \"Votre position ne peut être calculée.\"\n      },\n      nominatim: {\n        placeholder: \"Adresse ...\",\n        noresults: \"Aucun résultat\",\n        notresponseserver: \"Le serveur ne répond pas\"\n      },\n      add_layer_control: {\n        header: \"Ajouter un layer\",\n        select_projection: \"Sélectionnez le système de projection de couches\",\n        select_field_to_show: \"Sélectionnez le champ à afficher sur la carte\",\n        select_csv_separator: \"Sélectionner le séparateur\",\n        select_csv_x_field: \"Sélectionnez le champ X\",\n        select_csv_y_field: \"Sélectionnez le champ Y\",\n        select_color: \"Sélectionnez la couleur du layer\",\n        drag_layer: \"Faire glisser le layer vers cette zone\"\n      },\n      query: {\n        input_relation: \"Cliquez pour voir les relations\"\n      },\n      length: {\n        tooltip: \"Longueur\"\n      },\n      area: {\n        tooltip: \"Zone\"\n      },\n      screenshot: {\n        error: \"Erreur de création de la capture d'écran\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Cliquez avec le bouton droit de la souris sur les différents layers pour accéder à des fonctionnalités supplémentaires\",\n      contextmenu: {\n        zoomtolayer: \"Zoom sur le layer\",\n        open_attribute_table: \"Table d'attributs ouverte\",\n        show_metadata: \"Métadonnées\",\n        styles: \"Styles\",\n        vector_color_menu: \"Définir/changer la couleur\",\n        layer_opacity: \"Opacité\"\n      }\n    },\n    dataTable: {\n      previous: \"Précédent\",\n      next: \"Suivant\",\n      lengthMenu: \"Afficher _MENU_\",\n      info: \"Afficher _START_ à _END_ sur _TOTAL_ lignes\",\n      nodatafilterd: \"Aucun résultat trouvé\",\n      infoFiltered: \"(Filtré par _MAX_ rangs totaux)\"\n    }\n  }\n};\n\n},{}],333:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _it = require('./it');\n\nvar _it2 = _interopRequireDefault(_it);\n\nvar _en = require('./en');\n\nvar _en2 = _interopRequireDefault(_en);\n\nvar _fi = require('./fi');\n\nvar _fi2 = _interopRequireDefault(_fi);\n\nvar _se = require('./se');\n\nvar _se2 = _interopRequireDefault(_se);\n\nvar _fr = require('./fr');\n\nvar _fr2 = _interopRequireDefault(_fr);\n\nvar _de = require('./de');\n\nvar _de2 = _interopRequireDefault(_de);\n\nvar _ro = require('./ro');\n\nvar _ro2 = _interopRequireDefault(_ro);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar translations = {\n  it: _it2.default,\n  en: _en2.default,\n  fi: _fi2.default,\n  se: _se2.default,\n  fr: _fr2.default,\n  de: _de2.default,\n  ro: _ro2.default\n};\n\nexports.default = translations;\n\n},{\"./de\":329,\"./en\":330,\"./fi\":331,\"./fr\":332,\"./it\":334,\"./ro\":335,\"./se\":336}],334:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Questo sito utilizza i cookie per garantire una buona usabilità all'utilizzatore finale.\",\n      buttonText: \"Ho capito!\"\n    },\n    default: \"predefinito\",\n    sign_in: \"Accedi\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Aggiungi/Rimuovi Filtro\",\n        nofilter: \"Rimuovi filtro\",\n        invert: \"Inverti Selezione\",\n        clear: \"Annulla selezione\",\n        show_features_on_map: \"Mostra features visibili su mappa\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Formato non supportato\"\n    },\n    layer_position: {\n      top: 'SOPRA',\n      bottom: 'IN FONDO',\n      message: \"Posizione rispetto ai layers della TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Seleziona Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Segnalibri Spaziali\",\n        helptext: \"Posizionati all'estensione del tuo nuovo segnalibro, definisci il nome e clicca Aggiungi\",\n        input: {\n          name: \"Nome\"\n        },\n        sections: {\n          project: {\n            title: \"Segnalibri Progetto\"\n          },\n          user: {\n            title: \"Segnalibri Utente\"\n          }\n        }\n      },\n      search: {\n        all: 'TUTTE',\n        no_results: \"Nessun valore trovato\",\n        searching: \"Sto cercando ..\",\n        error_loading: \"Errore nel caricamento valori\",\n        layer_not_searchable: \"Il layer non è ricercabile\",\n        layer_not_querable: \"Il layer non è interrogabile\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Digita almeno\",\n            post: \"caratteri\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Nessun Layer visibile',\n        template: \"Template\",\n        labels: \"Etichette\",\n        scale: \"Scala\",\n        format: \"Formato\",\n        rotation: \"Rotazione\",\n        download_image: \"Scarica Immagine\",\n        fids_instruction: \"Valori accettati: da 1 al valore massimo indicato da [max]. Possibile indicare anche range di valori es. 4-6\",\n        fids_example: \"Es. 1,4-6 verranno stampati gli id 1,4,5,6\",\n        help: \"I layers mostrati nella stampa potrebbero essere quelli definiti sul progetto e non quelli visualizzati sulla mappa\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Lancia ricerca\",\n          info: \"Informazioni\",\n          delete: \"Cancella\",\n          edit: \"Modifica\"\n        },\n        messages: {\n          changed: 'Salvato correttamente',\n          number_of_features: \"Numero di features\"\n        },\n        panel: {\n          button: {\n            all: 'TUTTI',\n            save: 'SALVA',\n            test: 'TEST',\n            clear: 'PULISCI',\n            run: 'ESEGUI',\n            manual: 'MANUALE'\n          },\n          layers: 'LAYERS',\n          fields: 'CAMPI',\n          values: 'VALORI',\n          operators: 'OPERATORI',\n          expression: 'ESPRESSIONE'\n        },\n        error_run: 'Si è verificato un errore. Verificare se la query è corretta',\n        error_test: \"Errore nell'esecuzione della query\",\n        delete: 'Vuoi confermare la cancellazione?',\n        additem: 'Inserisci nome della ricerca'\n      },\n      errors: {\n        layers: {\n          load: \"Alcuni layers presenti nel progetto non sono attualmente disponibili e quindi non compaiono nell'attuale visualizzazione\"\n        },\n        unsupported_format: 'Formato non supportato',\n        add_external_layer: 'Errore nel caricamento del layer'\n      },\n      metadata: {\n        title: \"Metadati\",\n        groups: {\n          general: {\n            title: 'GENERALE',\n            fields: {\n              title: 'TITOLO',\n              name: 'NOME',\n              description: \"DESCRIZIONE\",\n              abstract: \"ABSTRACT\",\n              keywords: 'LISTA DELLE PAROLE CHIAVE',\n              fees: \"CANONI\",\n              accessconstraints: \"VINCOLI DI ACCESSO\",\n              contactinformation: \"CONTATTI\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-mail\",\n                  personprimary: 'Riferimenti',\n                  contactvoicetelephone: 'Telefono',\n                  contactorganization: 'Organizzazione',\n                  ContactOrganization: 'Organizzazione',\n                  contactposition: 'Posizione',\n                  ContactPosition: 'Posizione',\n                  contactperson: 'Persona',\n                  ContactPerson: 'Persona'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'INFO SPAZIALI',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATI',\n            groups: {\n              general: 'GENERALE',\n              spatial: 'INFO SPAZIALI'\n            },\n            fields: {\n              layers: 'STRATI',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITOLO\",\n                name: 'NOME',\n                geometrytype: 'GEOMETRIA',\n                source: 'SORGENTE',\n                attributes: 'ATTRIBUTI',\n                abstract: 'ABSTRACT',\n                attribution: 'ATTRIBUTION',\n                keywords: \"PAROLE CHIAVE\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Visualizza formato Riga\",\n          row_to_form: \"Visualizza formato Form\"\n        },\n        zoom_to_features_extent: \"Zoom sulle features\",\n        copy_map_extent_url: 'Copia map view link',\n        download_shapefile: \"Scarica Shapefile\",\n        download_gpx: \"Scarica GPX\",\n        download_gpkg: \"Scarica GPKG\",\n        download_csv: \"Scarica CSV\",\n        download_xls: \"Scarica XLS\",\n        show_chart: \"Mostra Grafico\",\n        atlas: \"Stampa Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interroga Layer',\n          actions: {\n            add_selection: {\n              hint: \"Aggiungi/Rimuovi Selezione\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom sulle features\"\n            },\n            add_features_to_results: {\n              hint: \"Aggiungi features ai risultati\"\n            },\n            remove_feature_from_results: {\n              hint: \"Rimuovi feature dai risultati\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom sulla feature\"\n            },\n            relations: {\n              hint: \"Visualizza Relazioni\"\n            },\n            relations_charts: {\n              hint: \"Visualizza grafici relazioni\"\n            },\n            download_features_shapefile: {\n              hint: 'Scarica features in Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Scarica feature in Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Scarica features in GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Scarica features in GPKG\"\n            },\n            download_gpx: {\n              hint: \"Scarica feature in GPX\"\n            },\n            download_gpkg: {\n              hint: \"Scarica feature in GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Scarica features in CSV\"\n            },\n            download_csv: {\n              hint: \"Scarica feature in CSV\"\n            },\n            download_features_xls: {\n              hint: \"Scarica features in XLS\"\n            },\n            download_xls: {\n              hint: \"Scarica la feature in XLS\"\n            },\n            atlas: {\n              hint: \"Stampa Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copia URL mappa con estensione a questa geometria\",\n              hint_change: \"Copiato\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Download attributi\",\n            choiches: {\n              feature: {\n                label: \"Solo features\"\n              },\n              feature_polygon: {\n                label: \"Features+Poligono Interrogazione\"\n              }\n            }\n          },\n          tooltip: 'Interroga per poligono',\n          no_geometry: 'Non contiene la geometria nella risposta',\n          help: {\n            title: 'Guida - Interrogazione con Poligono',\n            message: \"\\n                <ul>\\n                  <li>Seleziona uno strato poligonale in legenda.</li>\\n                  <li>Assicurati che lo strato sia visibile in mappa.</li>\\n                  <li>Clicca su una geometria dello strato selezionato.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Disegna un poligono per interrogare\"\n        },\n        querybybbox: {\n          tooltip: 'Interroga per BBOX',\n          nolayers_visible: \"Nessun layer interrogabile è visibile. Assicurarsi che almeno un layer wfs sia visibile per eseguire l'interrogazione\",\n          help: {\n            title: 'Guida - Interrogazione BBox',\n            message: \"\\n                  <ul>\\n                    <li>Disegna un rettangolo per interrogare gli strati evidenziati in giallo</li>\\n                  </ul>\\n            \"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Il risultato in mappa è parziale a causa della presenza dei seguenti records non corretti:\"\n            }\n          },\n          tooltip: 'Aggiungi Layer'\n        },\n        geolocation: {\n          tooltip: 'Geolocalizzazione'\n        },\n        measures: {\n          length: {\n            tooltip: \"Lunghezza\",\n            help: \"Clicca sulla mappa per continuare a disegnare la linea.<br>CANC se si vuole cancellare l'ultimo vertice inserito\"\n          },\n          area: {\n            tooltip: \"Area\",\n            help: \"Clicca per continuare a disegnare il poligono.<br>CANC se si vuole cancellare l'ultimo vertice inserito\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Scala non valida\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Metri',\n            nautical: 'Miglio Nautico'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Precedente\",\n          zoom_next: \"Zoom Successivo\"\n        }\n      },\n      relations: {\n        relation_data: 'Dati Relazione',\n        no_relations_found: 'Nessuna relazione trovata',\n        back_to_relations: 'Ritorna alle relazioni',\n        list_of_relations_feature: 'Lista delle relazioni della feature',\n        error_missing_father_field: \"Il campo relazionato non esiste\"\n      },\n      workflow: {\n        steps: {\n          title: 'Passi'\n        },\n        next: 'Avanti'\n      },\n      form: {\n        loading: 'Caricamento ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Nessuna feature selezionata. Verificare se il layer è in editing o non visibile alla scala attuale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Prendi valore dalla mappa\",\n            lonlat: \"Clicca sulla mappa per prendere le coordinate\"\n          },\n          input_validation_mutually_exclusive: \"Campo mutualmente esclusivo con \",\n          input_validation_error: \"Campo obbligatorio o tipo valore non corretto\",\n          input_validation_min_field: \"Valore deve essere magiore uguale a quello del camp \",\n          input_validation_max_field: \"Valore deve essere minore uguale a quello del campo \",\n          input_validation_exclude_values: \"Campo deve contenere un valore diverso\",\n          integer: \"intero\",\n          bigint: \"intero\",\n          text: \"testuale\",\n          varchar: \"testuale\",\n          textarea: \"testuale\",\n          string: \"stringa\",\n          date: \"data\",\n          datetime: \"data\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          required_fields: \"Campi obbligatori\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Gestisci le relazioni tramite form dedicato\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"TEMA\",\n        choose_map_theme: \"SCEGLI TEMA\",\n        menu: {\n          layerposition: 'Posizione Layer',\n          setwmsopacity: \"Cambia opacità\",\n          wms: {\n            title: \"\",\n            copy: \"Clicca qui per copiare url\",\n            copied: \"Copiato\"\n          },\n          download: {\n            shp: 'Scarica Shapefile',\n            gpx: 'Scarica GPX',\n            gpkg: 'Scarica GPKG',\n            csv: 'Scarica CSV',\n            xls: 'Scarica XLS',\n            geotiff: \"Scarica GEOTIFF\",\n            geotiff_map_extent: \"Scarica GEOTIFF(estensione vista corrente)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista dei processi\",\n        tooltip: 'Clicca sulla mappa'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Applicativo realizzato con il framework OS\",\n      g3wSuiteDescription: \"Pubblica e gestisci i tuoi progetti QGIS sul Web\",\n      productOf: \"Framework sviluppato da\"\n    },\n    toggle_color_scheme: \"Cambia colore\",\n    logout: \"Esci\",\n    no_other_projects: \"Non ci sono altri progetti in questo gruppo cartografico\",\n    /**\n     * @since 3.8.0\n     */\n    no_other_groups: \"Non ci sono altri gruppi in questo Macrogruppo\",\n    yes: \"Si\",\n    no: \"No\",\n    back: \"Indietro\",\n    backto: \"Torna a \",\n    changemap: \"Cambia Mappa\",\n    change_session: \"Cambia Sessione\",\n    component: \"Componente Generico\",\n    search: \"Ricerche\",\n    no_results: \"Nessun risultato trovato\",\n    print: \"Stampa\",\n    create_print: \"Crea Stampa\",\n    dosearch: \"Cerca\",\n    catalog: \"Mappa\",\n    data: \"Dati\",\n    externalwms: \"WMS\",\n    baselayers: \"Basi\",\n    tools: \"Strumenti\",\n    tree: \"Strati\",\n    legend: \"Legenda\",\n    nobaselayer: \"Nessuna mappa di base\",\n    street_search: \"Cerca indirizzo\",\n    show: \"Mostra\",\n    hide: \"Nascondi\",\n    copy_form_data: \"Copia i dati del modulo\",\n    paste_form_data: \"Incolla\",\n    copy_form_data_from_feature: \"Copia i dati dalla mappa\",\n    error_map_loading: \"Errore di caricamento della nuova mappa\",\n    check_internet_connection_or_server_admin: \"Controllare la connessione internet o contattare l'amministratore\",\n    could_not_load_vector_layers: \"Errore di connessione al server: non è stato possibile caricare i vettoriali richiesti\",\n    server_saver_error: \"Errore nel salvataggio sul server\",\n    server_error: \"Si è verificato un errore nella richiesta al server\",\n    save: \"Salva\",\n    cancel: \"Cancella\",\n    close: \"Chiudi\",\n    enlange_reduce: \"Allarga/Riduci\",\n    reset_default: \"Dimensione Partenza\",\n    add: \"Aggiungi\",\n    exitnosave: \"Esci senza salvare\",\n    annul: \"Annulla\",\n    layer_is_added: \"Layer con stesso nome già aggiunto\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Aggiungi WMS Layer',\n          label: {\n            position: \"Posizione su Mappa\",\n            name: \"Nome\",\n            projections: 'Sistema di riferimento',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Elimina WMS url\",\n        layer_id_already_added: \"WMS Layer già aggiunto\",\n        url_already_added: \"WMS URL/Nome già aggiunto\",\n        layer_add_error: \"WMS Layer non aggiunto. Verificare i parametri o l'url\"\n      }\n    },\n    info: {\n      title: \"Risultati\",\n      list_of_relations: \"Lista delle relazioni\",\n      open_link: \"Apri documento allegato\",\n      server_error: \"Si è verificato un errore nella richiesta al server\",\n      no_results: \"Nessun risultato per questa interrogazione/ricerca \",\n      link_button: \"Apri\"\n    },\n    mapcontrols: {\n      geolocations: {\n        title: \"\",\n        error: \"Non è possibile calcolare la tua posizione.\"\n      },\n      nominatim: {\n        placeholder: \"Indirizzo ...\",\n        noresults: \"Nessun risultato\",\n        notresponseserver: \"Il server non risponde\"\n      },\n      add_layer_control: {\n        header: \"Aggiungi Layer\",\n        select_projection: \"Seleziona il sistema di proiezione del layer\",\n        select_field_to_show: \"Seleziona il campo da visualizzare sulla mappa\",\n        select_csv_separator: \"Seleziona il separatore\",\n        select_csv_x_field: \"Seleziona il campo X\",\n        select_csv_y_field: \"Seleziona il campo Y\",\n        select_color: \"Seleziona il colore del Layer\",\n        drag_layer: \"Trascina il layer in questa area\"\n      },\n      query: {\n        input_relation: \"Clicca per consultare le relazioni\"\n      },\n      length: {\n        tooltip: \"Lunghezza\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Errore nella creazione dello screenshot\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Tasto destro sui singoli layer per accedere alle funzionalità aggiuntive\",\n      contextmenu: {\n        zoomtolayer: \"Zoom to Layer\",\n        open_attribute_table: \"Apri tabella attributi\",\n        show_metadata: \"Metadati\",\n        styles: \"Stili\",\n        vector_color_menu: \"Setta/Cambia Colore\",\n        layer_opacity: \"Trasparenza\"\n      }\n    },\n    dataTable: {\n      previous: \"Precedente\",\n      next: \"Successivo\",\n      lengthMenu: \"Visualizza _MENU_\",\n      info: \"Visualizzazione _START_ a _END_ su _TOTAL_ righe\",\n      nodatafilterd: \"Nessun risultato trovato\",\n      infoFiltered: \"(Filtrati da _MAX_ total righe)\"\n    }\n  }\n};\n\n},{}],335:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Acest website foloseste cookie-uri pentru a furniza vizitatorilor o experiență mult mai bună de navigare\",\n      buttonText: \"Am înțeles!\"\n    },\n    default: \"Implicit\",\n    sign_in: \"Logare\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Adăugare/Eliminare Filtrare\",\n        nofilter: \"Eliminare Filtrare\",\n        invert: \"Inversare Selecție\",\n        clear: \"Elimină Selecția\",\n        show_features_on_map: \"Arată entitățile vizibile în cadrul hărții\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Formatul nu este acceptat\"\n    },\n    layer_position: {\n      top: 'SUS',\n      bottom: 'JOS',\n      message: \"Poziție relativă la straturile din TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Selectați Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Marcaje spațiale\",\n        helptext: \"Deplasați-vă pe întinderea hărții, introduceți numele și faceți clic pe Adăugați\",\n        input: {\n          name: \"Nume\"\n        },\n        sections: {\n          project: {\n            title: \"Marcaje de proiect\"\n          },\n          user: {\n            title: \"Marcaje utilizator\"\n          }\n        }\n      },\n      search: {\n        all: 'Toate',\n        no_results: \"Fără rezultat\",\n        searching: \"Căutare ...\",\n        error_loading: \"Încărcarea a eșuat\",\n        layer_not_searchable: \"Nu se poate căuta pe strat\",\n        layer_not_querable: \"Stratul nu se poate interoga\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Te rog introdu\",\n            post: \"sau mai multe caractere\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Nu avem straturi de print',\n        template: \"Șablon\",\n        labels: \"Etichete\",\n        scale: \"Scară\",\n        format: \"Format\",\n        rotation: \"Rotație\",\n        download_image: \"Descarcă Imaginea\",\n        fids_instruction: \"Valori acceptate: de la 1 la valoarea [max]. Este posibilă inserarea de interval, de ex. 4-6\",\n        fids_example: \"Ex. 1,4-6 vor fi tipărite id 1,4,5,6\",\n        help: \"Straturile prezentate în print pot fi acelea definite în proiect și nu acelea prezentate în cadrul hărții\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Execută\",\n          info: \"Info\",\n          delete: \"Elimină\",\n          edit: \"Modifică\"\n        },\n        messages: {\n          changed: 'Salvat',\n          number_of_features: \"Număr de entități\"\n        },\n        panel: {\n          button: {\n            all: 'TOATE',\n            save: 'SALVEAZĂ',\n            test: 'TEST',\n            clear: 'ȘTERGE',\n            run: 'RUN',\n            manual: 'MANUAL'\n          },\n          layers: 'STRATURI',\n          fields: 'CÂMPURI',\n          values: 'VALORI',\n          operators: 'OPERATORI',\n          expression: 'EXPRESII'\n        },\n        error_run: 'A survenit o eroare. De verificat interogarea',\n        error_test: \"A survenit o eroare în timp ce se executa interogarea\",\n        delete: 'Vrei să o ștergi?',\n        additem: 'Introdu numele noii căutări'\n      },\n      errors: {\n        layers: {\n          load: \"Câteva straturi nu sunt disponibile\"\n        },\n        unsupported_format: 'Formatul nu este acceptat',\n        add_external_layer: 'Eroare încărcare strat'\n      },\n      metadata: {\n        title: 'Metadate',\n        groups: {\n          general: {\n            title: 'GENERALITĂȚI',\n            fields: {\n              title: 'TITLU',\n              name: 'NUME',\n              description: \"DESCRIERE\",\n              abstract: \"ABSTRACT\",\n              keywords: 'CUVINTE CHEIE',\n              fees: \"TAXE\",\n              accessconstraints: \"CONSTRÂNGERI DE ACCES\",\n              contactinformation: \"CONTACTE\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'Referințe',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Organizație',\n                  ContactOrganization: 'Organizație',\n                  contactposition: 'Poziție',\n                  ContactPosition: 'Poziție',\n                  contactperson: 'Persoana',\n                  ContactPerson: 'Persoana'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPAȚIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATURI',\n            fields: {\n              layers: 'STRATURI',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITLU\",\n                name: 'NUME',\n                geometrytype: 'GEOMETRIE',\n                source: 'SURSA',\n                attributes: 'ATRIBUTE',\n                abstract: 'ABSTRACT',\n                attribution: 'ATRIBUIRE',\n                keywords: \"CUVINTE CHEIE\",\n                metadataurl: 'URL METADATE',\n                dataurl: \"URL DATE\"\n              }\n            },\n            groups: {\n              general: 'GENERALITĂȚI',\n              spatial: 'SPAȚIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Vizualizare pe rânduri\",\n          row_to_form: \"Vizualizare formular\"\n        },\n        copy_map_extent_url: 'Copiază linkul de vizualizare hartă',\n        download_shapefile: \"Descarcă Shapefile\",\n        download_gpx: \"Descarcă GPX\",\n        download_gpkg: \"Descarcă GPKG\",\n        download_csv: \"Descarcă CSV\",\n        download_xls: \"Descarcă XLS\",\n        show_chart: \"Arată Diagrama\",\n        atlas: \"Tipărire Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interogare strat',\n          actions: {\n            add_selection: {\n              hint: \"Adaugă/Elimină Selecția\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom la încadrarea entităților\"\n            },\n            add_features_to_results: {\n              hint: \"Adaugă/Elimină entități rezultat\"\n            },\n            remove_feature_from_results: {\n              hint: \"Elimină entitate din rezultat\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom la entitate\"\n            },\n            relations: {\n              hint: \"Arată Relațiile\"\n            },\n            relations_charts: {\n              hint: \"Arată diagrama de relații\"\n            },\n            download_features_shapefile: {\n              hint: 'Descarcă entități în Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Descarcă entitate în Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Descarcă entități în GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Descarcă entități în GPKG\"\n            },\n            download_gpx: {\n              hint: \"Descarcă entitate în GPX\"\n            },\n            download_gpkg: {\n              hint: \"Descarcă entitate în GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Descarcă entități în CSV\"\n            },\n            download_csv: {\n              hint: \"Descarcă entitate în CSV\"\n            },\n            download_features_xls: {\n              hint: \"Descarcă entități în XLS\"\n            },\n            download_xls: {\n              hint: \"Descarcă entitate în XLS\"\n            },\n            atlas: {\n              hint: \"Tipărire Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copiază URL hartă cu întinderea geometriei entității\",\n              hint_change: \"Copiat\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Descărcare atribute\",\n            choiches: {\n              feature: {\n                label: \"Doar entități\"\n              },\n              feature_polygon: {\n                label: \"Entități+Poligon Interogare\"\n              }\n            }\n          },\n          tooltip: 'Interogare După Poligon',\n          no_geometry: 'Nu avem geometrii în răspuns',\n          help: {\n            title: 'Ghid - Interogare După Poligon',\n            message: \"\\n                <ul>\\n                  <li>Selecteaz\\u0103 un strat poligon din TOC.</li>\\n                  <li>Asigur\\u0103-te c\\u0103 stratul este vizibil.</li>\\n                  <li>Click pe o entitate a stratului selectat.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Interogare prin poligon de desen\"\n        },\n        querybybbox: {\n          tooltip: 'Interogare BBox strat',\n          nolayers_visible: 'Nu este vizibil niciun strat de interogare. Trebuie setat cel puțin un strat WFS vizibil pentru a efectua interogarea',\n          help: {\n            title: 'Ghid - Interogare BBox strat',\n            message: \"\\n                 <ul>\\n                  <li>Deseneaz\\u0103 un p\\u0103trat pe hart\\u0103 pentru a interoga straturile din TOC de sub </li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Rezultateul pe hartă este parțial datorită prezenței următoarei liste de rezultate incorecte:\"\n            }\n          },\n          tooltip: 'Adaugă Strat'\n        },\n        geolocation: {\n          tooltip: 'Geolocalizare'\n        },\n        measures: {\n          length: {\n            tooltip: \"Lungime\",\n            help: \"Click pe hartă pentru a desena linia. Apasă <br>CANC dacă dorești să ștergi ultimul vertex\"\n          },\n          area: {\n            tooltip: \"Aria\",\n            help: \"Click pentru desen poligon. Apasă <br>CANC dacă dorești să ștergi ultimul vertex\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Scară Invalidă\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Metri',\n            nautical: 'Mile Nautice'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Anterior\",\n          zoom_next: \"Zoom Urmatorul\"\n        }\n      },\n      relations: {\n        relation_data: 'Date Relații',\n        no_relations_found: 'Nu am găsit nicio relație',\n        back_to_relations: 'Înapoi la relații',\n        list_of_relations_feature: 'Lista de relații a entității',\n        error_missing_father_field: \"Câmpul de legătură lipsește\"\n      },\n      workflow: {\n        steps: {\n          title: 'Pași'\n        },\n        next: 'Următorul'\n      },\n      form: {\n        loading: 'Se încarcă ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Nu avem entitate selectată. Verifică dacă stratul este în editare sau vizibil la scara curentă if layer is on editing or visible at current scale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Ia valoare din strat\",\n            lonlat: \"Click pe hartă pentru a prelua coordonate\"\n          },\n          input_validation_mutually_exclusive: \"Câmp ce se exclude mutual cu \",\n          input_validation_error: \"Câmp mandatoriu sau tip de date greșit\",\n          input_validation_min_field: \"Valoarea trebuie să fie mai mare/egală cu valoare câmpului \",\n          input_validation_max_field: \"Valoarea trebuie să fie mai mică/egală cu valoare câmpului \",\n          input_validation_exclude_values: \"Valoarea trebuie să fie unică\",\n          integer: \"integer - nr. întreg\",\n          bigint: \"integer - nr. întreg\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string - text\",\n          date: \"data\",\n          datetime: \"data\",\n          float: \"float - nr. cu zecimale\",\n          table: \"tabelă\"\n        },\n        footer: {\n          \"required_fields\": \"Câmpuri necesare\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Folosește formular specific de relații pentru a lucra cu relația\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"TEMA\",\n        choose_map_theme: \"ALEGE TEMA\",\n        menu: {\n          layerposition: 'Poziție Strat',\n          setwmsopacity: \"Alege Opacitatea\",\n          wms: {\n            title: \"Titlu\",\n            copy: \"Click pentru copiere URL\",\n            copied: \"Copiat\"\n          },\n          download: {\n            shp: 'Descarcă Shapefile',\n            gpx: 'Descarcă GPX',\n            gpkg: 'Descarcă GPKG',\n            csv: 'Descarcă CSV',\n            xls: 'Descarcă XLS',\n            geotiff: \"Descarcă GEOTIFF\",\n            geotiff_map_extent: \"Descarcă GEOTIFF(ce se vede în cadrul hărții)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista de procese\",\n        tooltip: 'Click pe hartă'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Aplicație bazată pe frameworkul\",\n      g3wSuiteDescription: \"Publică și administrează proiectele de QGIS pe WEB\",\n      productOf: \"Framework dezvoltat de\"\n    },\n    toggle_color_scheme: \"Comutare schemă de culori\",\n    logout: \"Deconectare\",\n    no_other_projects: \"No more project for this group\",\n    /**\n     * @since 3.8.0\n     */\n    no_other_groups: \"No more groups fro this Macrogroup\",\n    yes: \"Da\",\n    no: \"Nu\",\n    back: \"Înapoi\",\n    backto: \"Înapoi la \",\n    changemap: \"Schimbare Hartă\",\n    change_session: \"Change Session\",\n    component: \"Componentă Generică\",\n    search: \"Căutare\",\n    no_results: \"Niciun rezultat găsit\",\n    print: \"Tipărire\",\n    create_print: \"Tipărește\",\n    dosearch: \"Caută\",\n    catalog: \"Hartă\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Straturi Bază\",\n    tools: \"Instrumente\",\n    tree: \"Straturi\",\n    legend: \"Legendă\",\n    nobaselayer: \"Fără strat de bază\",\n    street_search: \"Caută Adresă\",\n    show: \"Arată\",\n    hide: \"Ascunde\",\n    copy_form_data: \"Copiază data\",\n    paste_form_data: \"Lipește\",\n    copy_form_data_from_feature: \"Copiază data din hartă\",\n    error_map_loading: \"Sunt erori la încărcarea hărții\",\n    check_internet_connection_or_server_admin: \"Verificați conexiune de internet sau contactați administratorul de sistem\",\n    could_not_load_vector_layers: \"Eroare de conexiune: Straturile nu pot fi încărcate\",\n    server_saver_error: \"Eroare la salvarea pe server\",\n    server_error: \"Eroare de conexiune la server\",\n    save: \"Salvează\",\n    cancel: \"Anulează\",\n    close: \"Închide\",\n    enlange_reduce: \"Mărește/Micșorează\",\n    reset_default: \"Mărimea implicită\",\n    add: \"Adaugă\",\n    exitnosave: \"Ieșire fără salvare\",\n    annul: \"Anulează\",\n    layer_is_added: \"Există un strat cu același nume deja adăugat\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Adaugă strat WMS',\n          label: {\n            position: \"Poziție Hartă\",\n            name: \"Nume\",\n            projections: 'Proiecție',\n            layers: 'Straturi'\n          }\n        },\n        add_wms_layer: \"Adaugă strat WMS\",\n        delete_wms_url: \"Șterge URL WMS\",\n        layer_id_already_added: \"Strat WMS deja adăugat\",\n        url_already_added: \"URL WMS/Nume deja adăugat\",\n        layer_add_error: \"Stratul WMS nu s-a adăugat. Verificați URL-ul sau parametrii WMS\"\n      }\n    },\n    info: {\n      title: \"Rezultate\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Deschide document atașat\",\n      server_error: \"Serverul a întâmpinat o eroare\",\n      no_results: \"Niciun rezultat\",\n      link_button: \"Deschide\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Nu te-am putut localiza\"\n      },\n      nominatim: {\n        placeholder: \"Adresa ...\",\n        noresults: \"Niciun rezultat\",\n        notresponseserver: \"Niciun răspuns de la server\"\n      },\n      add_layer_control: {\n        header: \"Adăugare Strat\",\n        select_projection: \"Selectează proiecția strat\",\n        select_field_to_show: \"Selectează câmpul de arătat pe hartă\",\n        select_csv_separator: \"Selectează delimitatorul\",\n        select_csv_x_field: \"Selectează câmpul X - Est\",\n        select_csv_y_field: \"Selectează câmpul Y - Nord\",\n        select_color: \"Selectează culoare strat\",\n        drag_layer: \"Trageți stratul aici (Drag&Drop)\"\n      },\n      query: {\n        input_relation: \"Click pentru a arăta relațiile\"\n      },\n      length: {\n        tooltip: \"Lungime\"\n      },\n      area: {\n        tooltip: \"Arie\"\n      },\n      screenshot: {\n        error: \"Eroare captură ecran\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Click dreapta pe strat pentru a accesa opțiuni\",\n      contextmenu: {\n        zoomtolayer: \"Zoom pe Strat\",\n        open_attribute_table: \"Deschide Tabela Atribute\",\n        show_metadata: \"Metadate\",\n        styles: 'Stiluri',\n        vector_color_menu: \"Setează/Schimbă Culoare\",\n        layer_opacity: \"Opacitate\"\n      }\n    },\n    dataTable: {\n      previous: \"Anteriorul\",\n      next: \"Următorul\",\n      lengthMenu: \"Arată _MENU_\",\n      info: \"Arată _START_ până la _END_ din _TOTAL_ de intrări\",\n      no_data: \"Fără date\",\n      nodatafilterd: \"Niciun rezultat\",\n      infoFiltered: \"(filtrat din _MAX_ de rezultate totale)\"\n    }\n  }\n};\n\n},{}],336:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"standard\",\n    sign_in: \"Logga in\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Lägg till/Avlägsna Filtrera\",\n        nofilter: \"Avlägsna Filtrera\",\n        invert: \"Invertera Urval\",\n        clear: \"Annullera Urval\",\n        show_features_on_map: \"Visa funktioner som är synliga på kartan\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Välj Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Rumsliga bokmärken\",\n        helptext: \"Flytta på kartans omfattning, ange namn och klicka på Lägg till\",\n        input: {\n          name: \"Namn\"\n        },\n        sections: {\n          project: {\n            title: \"Projektbokmärken\"\n          },\n          user: {\n            title: \"Användarbokmärken\"\n          }\n        }\n      },\n      search: {\n        all: 'ALLA',\n        no_results: \"Inga resultat\",\n        searching: \"Sökning ...\",\n        error_loading: \"Fel vid laddning av uppgifter.\",\n        layer_not_searchable: \"Nivån kan inte sökas.\",\n        layer_not_querable: \"Förfrågningar kan inte göras på nivån.\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Mata in\",\n            post: \"eller flera tecken\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Inga nivåer att skriva ut',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Skala\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Ladda ner bild\",\n        fids_instruction: \"Godkända värden: Från ett till värdet [max]. Mellanslag tillåts, t.ex. 4-6.\",\n        fids_example: \"Exempelvis 1,4-6 skriver ut id 1,4,5,6.\",\n        help: \"Nivåerna på utskriften kan vara specificerade i ett projekt inte sådana som visas på karta.\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Utför\",\n          info: \"Information\",\n          delete: \"Ta bort\",\n          edit: \"Redigera\"\n        },\n        messages: {\n          changed: 'Sparat',\n          number_of_features: \"Antal funktione\"\n        },\n        panel: {\n          button: {\n            all: 'ALLA',\n            save: 'SPARA',\n            test: 'TEST',\n            clear: 'TÖM',\n            run: 'UTFÖR',\n            manual: 'MANUELL'\n          },\n          layers: 'NIVÅER',\n          fields: 'FÄLT',\n          values: 'VÄRDEN',\n          operators: 'OPERATÖRER',\n          expression: 'KLAUSUL'\n        },\n        error_run: 'Ett fel inträffade. Kontrollera förfrågan.',\n        error_test: \"Ett fel inträffade när förfrågan utfördes.\",\n        delete: 'Vill du ta bort den?',\n        additem: 'Ge den nya sökningen ett namn.'\n      },\n      errors: {\n        layers: {\n          load: \"Vissa nivåer är inte tillgängliga.\"\n        },\n        unsupported_format: 'Formatet stöds inte',\n        add_external_layer: 'Fel vid laddning av nivån'\n      },\n      metadata: {\n        title: 'Metadata',\n        groups: {\n          general: {\n            title: 'ALLMÄN',\n            fields: {\n              title: 'RUBRIK',\n              name: 'NAMN',\n              description: \"BESKRIVNING\",\n              abstract: \"SAMMANDRAG\",\n              keywords: 'NYCKELORD',\n              fees: \"AVGIFTER\",\n              accessconstraints: \"ÅTKOMSTBEGRÄNSNINGAR\",\n              contactinformation: \"KONTAKTUPPGIFTER\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-post\",\n                  personprimary: 'Referenser',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Organisation',\n                  ContactOrganization: 'Organisation',\n                  contactposition: 'Ställning',\n                  ContactPosition: 'Ställning',\n                  contactperson: 'Kontaktperson',\n                  ContactPerson: 'Kontaktperson'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'NIVÅER',\n            fields: {\n              layers: 'NIVÅER',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"RUBRIK\",\n                name: 'NAMN',\n                geometrytype: 'GEOMETRI',\n                source: 'KÄLLA',\n                attributes: 'ATTRIBUT',\n                abstract: 'SAMMANDRAG',\n                attribution: 'TILLSKRIVNING',\n                keywords: \"NYCKELORD\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'ALLMÄN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Radvy\",\n          row_to_form: \"Tabellvy\"\n        },\n        copy_map_extent_url: 'Kopiera länk till karta',\n        download_shapefile: \"Ladda SHP-fil\",\n        download_gpx: \"Ladda GPX-fil\",\n        download_gpkg: \"Ladda GPKG-fil\",\n        download_csv: \"Ladda CSV-fil\",\n        download_xls: \"Ladda XLS-fil\",\n        show_chart: \"Visa diagram\", //Tero 9.12.2020\n        atlas: \"Skriv ut Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Förfrågningsnivå',\n          actions: {\n            add_selection: {\n              hint: \"Lägg till/Avlägsna Urval\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zooma till egenskapens omfattning\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Zooma till egenskapen\"\n            },\n            relations: {\n              hint: \"Visa relationerna\"\n            },\n            relations_charts: {\n              hint: \"Visa relationsdiagrammet\" //Tero 9.12.2020\n            },\n            download_features_shapefile: {\n              hint: 'Ladda egenskapens SHP-fil'\n            },\n            download_shapefile: {\n              hint: 'Ladda egenskapens SHP-fil'\n            },\n            download_features_gpx: {\n              hint: \"Ladda egenskapens GPX-fil\"\n            },\n            download_features_gpkg: {\n              hint: \"Ladda egenskapens GPKG-fil\"\n            },\n            download_gpx: {\n              hint: \"Ladda egenskapens GPX-fil\"\n            },\n            download_gpkg: {\n              hint: \"Ladda egenskapens GPKG-fil\"\n            },\n            download_features_csv: {\n              hint: \"Ladda egenskapens CSV-fil\"\n            },\n            download_csv: {\n              hint: \"Ladda egenskapens CSV-fil\"\n            },\n            download_features_xls: {\n              hint: \"Ladda egenskapens XLS-fil\"\n            },\n            download_xls: {\n              hint: \"Ladda egenskapens XLS-fil\"\n            },\n            atlas: {\n              hint: \"Skriv ut Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Förfrågan med polygon',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Ohje - Förfrågan med polygon',\n            message: \"\\n                <ul>\\n                  <li>V\\xE4lj polygonniv\\xE5 i listan.</li>\\n                  <li>Kontrollera att niv\\xE5n \\xE4r synlig.</li>\\n                  <li>V\\xE4lj egenskap p\\xE5 \\xF6nskad niv\\xE5.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Fråga efter ritpolygon\"\n        },\n        querybybbox: {\n          tooltip: 'BBox-förfrågan som riktar sig till en nivå',\n          nolayers_visible: 'Inga nivåer som förfrågningar kan riktas till. Gör minst en WFS-nivå synlig för att kunna utföra sökningen.',\n          help: {\n            title: 'Ohje - BBox-förfrågan som riktar sig till nivån',\n            message: \"\\n                 <ul>\\n                  <li>Rita upp en rektangel p\\xE5 kartan f\\xF6r att utf\\xF6ra f\\xF6rfr\\xE5gan p\\xE5 de i listan understreckade niv\\xE5erna.</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Lägg till nivå'\n        },\n        geolocation: {\n          tooltip: 'Geografiskt läge'\n        },\n        measures: {\n          length: {\n            tooltip: \"Längd\",\n            help: \"Rita upp en bruten linje på kartan. Tryck <br>CANC, om du vill ta bort föregående punkt.\"\n          },\n          area: {\n            tooltip: \"Område\",\n            help: \"Rita upp en polygon på kartan. Tryck <br>CANC, om du vill ta bort föregående punkt.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Fel skala\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Föregående\",\n          zoom_next: \"Zoom Nästa\"\n        }\n      },\n      relations: {\n        relation_data: 'Relationsuppgifter',\n        no_relations_found: 'Inga relationer hittades.',\n        back_to_relations: 'Tillbaka till relationerna',\n        list_of_relations_feature: 'Lista på egenskapens relationer',\n        error_missing_father_field: \"Fält saknas\"\n      },\n      workflow: {\n        steps: {\n          title: 'Skeden'\n        },\n        next: \"Nästa\"\n\n      },\n      form: {\n        loading: 'Laddning...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Inga egenskaper har valts. Kontroller att nivån kan redigeras eller att den syns med nuvarande skala.\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Välj värde på kartnivå\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Fälten utesluter varandra.\",\n          input_validation_error: \"Obligatoriskt fält eller fel datatyp.\",\n          input_validation_min_field: \"Värdet ska vara större eller lika stort som värdet i fältet.\",\n          input_validation_max_field: \"Värdet ska vara mindre eller lika stort som värdet i fältet.\",\n          input_validation_exclude_values: \"Värdet ska vara unikt.\",\n          integer: \"heltal\",\n          bigint: \"heltal\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"teckensträng\",\n          date: \"datum\",\n          datetime: \"datum\",\n          float: \"flyttal\",\n          table: \"tabell\"\n        },\n        footer: {\n          \"required_fields\": \"Obligatoriska fält\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Använd den specifika funktinen för att bestämma relationer\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Tryck här för att kopiera url.\",\n            copied: \"Kopierad.\"\n          },\n          download: {\n            shp: 'Ladda SHP-fil',\n            gpx: 'Ladda GPX-fil',\n            gpkg: 'Ladda GPKG-fil',\n            csv: 'Ladda CSV-fil',\n            xls: 'Ladda XLS-fil',\n            geotiff: 'Ladda GEOTIFF-fil',\n            geotiff_map_extent: \"Ladda GEOTIFF-fil(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista på processer\",\n        tooltip: 'Välj på kartan'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Tillämpningen baserar på OS framework\",\n      g3wSuiteDescription: \"Publicera och hantera QGIS-projekt på nätet.\",\n      productOf: \"Framework har utvecklats av\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Logga ut\",\n    no_other_projects: \"Inga projekt för denna grupp\",\n    /**\n     * @since 3.8.0\n     */\n    no_other_groups: \"No more groups fro this Macrogroup\",\n    yes: \"Ja\",\n    no: \"Nej\",\n    back: \"Gå tillbaka\",\n    backto: \"Tillbaka \",\n    changemap: \"Byt karta\",\n    change_session: \"Change Session\",\n    component: \"Allmän komponent\",\n    search: \"Sök\",\n    no_results: \"Inga sökresultat\",\n    print: \"Skriv ut\",\n    create_print: \"Skapa utskrift\",\n    dosearch: \"Sök\",\n    catalog: \"Karta\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Bakgrundskarta\",\n    tools: \"Verktyg\",\n    tree: \"Nivåer\",\n    legend: \"Förklaring till beteckningarna\",\n    nobaselayer: \"Ingen bakgrundskarta\",\n    street_search: \"Sök adress\",\n    show: \"Visa\",\n    hide: \"Dölj\",\n    copy_form_data: \"Kopiera uppgifterna\",\n    paste_form_data: \"Infoga\",\n    copy_form_data_from_feature: \"Kopiera uppgifter från kartan\",\n    error_map_loading: \"Fel vid laddning av kartan\",\n    check_internet_connection_or_server_admin: \"Kontrollera internetanslutningen eller kontakta administratören.\",\n    could_not_load_vector_layers: \"Fel i anslutningen, nivåer kan inte laddas.\",\n    server_saver_error: \"Fel vid lagring på servern.\",\n    server_error: \"Fel på anslutningen till servern\",\n    save: \"Spara\",\n    cancel: \"Ånga\",\n    close: \"Stäng\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Lägg till\",\n    exitnosave: \"Lämna programmet utan att spara\",\n    annul: \"Ångra\",\n    layer_is_added: \"Lagret med samma namn har redan lagts till.\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Nivån har redan lagts till.\",\n        url_already_added: \"WMS URL/Name har redan lagts till.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Resultat\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Öppna filbilaga\",\n      server_error: \"Ett fel uppstod på servern.\",\n      no_results: \"Inga resultat för sökningen/förfrågan.\",\n      link_button: \"Öppna\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Du kan inte lokaliseras\"\n      },\n      nominatim: {\n        placeholder: \"Adress ...\",\n        noresults: \"Inga resultat\",\n        notresponseserver: \"Inget svar från servern\"\n      },\n      add_layer_control: {\n        header: \"Lägg till nivå\",\n        select_projection: \"Välj projektion för nivån\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Välj färg på nivån\",\n        drag_layer: \"Dra och släpp nivån hit\"\n      },\n      query: {\n        input_relation: \"Tryck för att visa relationerna\"\n      },\n      length: {\n        tooltip: \"Längd\"\n      },\n      area: {\n        tooltip: \"Areal\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Högerklicka på en enskild nivå för att komma till tilläggsegenskaperna.\",\n      contextmenu: {\n        zoomtolayer: \"Zooma till nivå\",\n        open_attribute_table: \"Öppna attributtabellen\",\n        show_metadata: \"Metadata\",\n        styles: \"Stilar\",\n        vector_color_menu: \"Ställ in/ändra färg\",\n        layer_opacity: \"Opacitet\"\n      }\n    },\n    dataTable: {\n      previous: \"Föregående\",\n      next: \"Nästa\",\n      lengthMenu: \"Show _MENU_ items\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"Inga uppgifter\",\n      nodatafilterd: \"Inga motsvarande poster hittades\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],337:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nexports.default = {\n  methods: {\n    autocompleteRequest: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            layerId = _ref2.layerId,\n            field = _ref2.field,\n            value = _ref2.value;\n\n        var data, layer;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = [];\n                layer = _catalogLayers2.default.getLayerById(layerId);\n                _context.prev = 2;\n                _context.next = 5;\n                return layer.getFilterData({\n                  suggest: field + '|' + value,\n                  unique: field\n                });\n\n              case 5:\n                data = _context.sent;\n                _context.next = 10;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context['catch'](2);\n\n              case 10:\n                return _context.abrupt('return', data.map(function (value) {\n                  return {\n                    id: value,\n                    text: value\n                  };\n                }));\n\n              case 11:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 8]]);\n      }));\n\n      function autocompleteRequest() {\n        return _ref.apply(this, arguments);\n      }\n\n      return autocompleteRequest;\n    }()\n  }\n};\n\n},{\"store/catalog-layers\":373}],338:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  computed: {\n    tabIndex: function tabIndex() {\n      return this.editable ? 0 : -1;\n    },\n    notvalid: function notvalid() {\n      return this.state.validate.valid === false;\n    },\n    editable: function editable() {\n      return this.state.editable;\n    },\n    showhelpicon: function showhelpicon() {\n      return this.state.help && this.state.help.message.trim();\n    },\n    disabled: function disabled() {\n      return !this.editable || this.loadingState === 'loading' || this.loadingState === 'error';\n    },\n    loadingState: function loadingState() {\n      return this.state.input.options.loading ? this.state.input.options.loading.state : null;\n    }\n  },\n  methods: {\n    showHideHelp: function showHideHelp() {\n      this.state.help.visible = !this.state.help.visible;\n    },\n\n    // used to text input to listen mobile changes\n    mobileChange: function mobileChange(event) {\n      this.state.value = event.target.value;\n      this.change();\n    },\n\n    // called when input value change\n    change: function change() {\n      this.service.setEmpty();\n      this.service.setUpdate();\n      // validate input if is required or need to be unique\n      if (this.state.validate.required || this.state.validate.unique) this.service.validate();\n      // emit change input\n      this.$emit('changeinput', this.state);\n    },\n    isVisible: function isVisible() {}\n  }\n};\n\n},{}],339:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  methods: {\n    getFieldService: function getFieldService() {\n      if (this._fieldsService === undefined) this._fieldsService = require('gui/fields/fieldsservice');\n      return this._fieldsService;\n    },\n    getFieldType: function getFieldType(field) {\n      return this.getFieldService().getType(field);\n    },\n    isSimple: function isSimple(field) {\n      return this.getFieldService().isSimple(field);\n    },\n    isLink: function isLink(field) {\n      return this.getFieldService().isLink(field);\n    },\n    isImage: function isImage(field) {\n      return this.getFieldService().isImage(field);\n    },\n    isPhoto: function isPhoto(field) {\n      return this.getFieldService().isPhoto(field);\n    },\n    isVue: function isVue(field) {\n      return this.getFieldService().isVue(field);\n    },\n    sanitizeFieldValue: function sanitizeFieldValue(value) {\n      return Array.isArray(value) && !value.length ? '' : value;\n    }\n  }\n};\n\n},{\"gui/fields/fieldsservice\":120}],340:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  data: function data() {\n    return {\n      valid: false\n    };\n  },\n\n  methods: {\n    addToValidate: function addToValidate(input) {\n      this.tovalidate.push(input);\n    },\n    changeInput: function changeInput(input) {\n      this.isValid(input);\n    },\n\n    // Every input send to form it valid value that will change the genaral state of form\n    isValid: function isValid(input) {\n      var _this = this;\n\n      if (input) {\n        // check mutually\n        if (input.validate.mutually) {\n          if (!input.validate.required) {\n            if (!input.validate.empty) {\n              input.validate._valid = input.validate.valid;\n              input.validate.mutually_valid = input.validate.mutually.reduce(function (previous, inputname) {\n                return previous && _this.tovalidate[inputname].validate.empty;\n              }, true);\n              input.validate.valid = input.validate.mutually_valid && input.validate.valid;\n            } else {\n              input.value = null;\n              input.validate.mutually_valid = true;\n              input.validate.valid = true;\n              input.validate._valid = true;\n              var countNoTEmptyInputName = [];\n              for (var i = input.validate.mutually.length; i--;) {\n                var inputname = input.validate.mutually[i];\n                !this.tovalidate[inputname].validate.empty && countNoTEmptyInputName.push(inputname);\n              }\n              if (countNoTEmptyInputName.length < 2) {\n                countNoTEmptyInputName.forEach(function (inputname) {\n                  _this.tovalidate[inputname].validate.mutually_valid = true;\n                  _this.tovalidate[inputname].validate.valid = true;\n                  setTimeout(function () {\n                    _this.tovalidate[inputname].validate.valid = _this.tovalidate[inputname].validate._valid;\n                    _this.state.valid = _this.state.valid && _this.tovalidate[inputname].validate.valid;\n                  });\n                });\n              }\n            }\n          }\n          //check if min_field or max_field is set\n        } else if (!input.validate.empty && (input.validate.min_field || input.validate.max_field)) {\n          var input_name = input.validate.min_field || input.validate.max_field;\n          input.validate.valid = input.validate.min_field ? this.tovalidate[input.validate.min_field].validate.empty || 1 * input.value > 1 * this.tovalidate[input.validate.min_field].value : this.tovalidate[input.validate.max_field].validate.empty || 1 * input.value < 1 * this.tovalidate[input.validate.max_field].value;\n          if (input.validate.valid) this.tovalidate[input_name].validate.valid = true;\n        }\n      }\n      this.valid = Object.values(this.tovalidate).reduce(function (previous, input) {\n        return previous && input.validate.valid;\n      }, true);\n    }\n  },\n  created: function created() {\n    this.tovalidate = [];\n  },\n  destroyed: function destroyed() {\n    this.tovalidate = null;\n  }\n};\n\n},{}],341:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  methods: {\n    showLayer: function showLayer() {\n      this.visible = !this.visible;\n      this.layer.setVisible(this.visible);\n    }\n  },\n  created: function created() {\n    var data = this.data;\n    var mapService = _gui2.default.getComponent('map').getService();\n    var mapProjection = mapService.getProjection().getCode();\n    var style = void 0;\n    switch (data.type) {\n      case 'Point':\n      case 'MultiPoint':\n        style = [new ol.style.Style({\n          image: new ol.style.Circle({\n            radius: 6,\n            fill: new ol.style.Fill({\n              color: [255, 255, 255, 1.0]\n            }),\n            stroke: new ol.style.Stroke({\n              color: [0, 0, 0, 1.0],\n              width: 2\n            })\n          })\n        }), new ol.style.Style({\n          image: new ol.style.Circle({\n            radius: 2,\n            fill: new ol.style.Fill({\n              color: [255, 255, 255, 1.0]\n            }),\n            stroke: new ol.style.Stroke({\n              color: [0, 0, 0, 1.0],\n              width: 2\n            })\n          })\n        })];\n        break;\n      case 'Line':\n      case 'MultiLineString':\n      case 'Polygon':\n      case 'MultiPolygon':\n        style = new ol.style.Style({\n          fill: new ol.style.Fill({\n            color: 'rgba(255, 255, 255, 0.3)'\n          }),\n          stroke: new ol.style.Stroke({\n            color: [0, 0, 0, 1.0],\n            width: 2\n          })\n        });\n        break;\n    }\n    this.layer = new ol.layer.Vector({\n      source: new ol.source.Vector({\n        features: new ol.format.GeoJSON().readFeatures(data, {\n          featureProjection: mapProjection\n        })\n      }),\n      visible: !!this.visible,\n      style: style\n    });\n    mapService.getMap().addLayer(this.layer);\n  },\n  beforeDestroy: function beforeDestroy() {\n    var mapService = _gui2.default.getComponent('map').getService();\n    mapService.getMap().removeLayer(this.layer);\n  }\n}; /**\n    * @file\n    * @since v3.7\n    */\n\n},{\"services/gui\":360}],342:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mixins = exports.autocompleteMixin = exports.baseInputMixin = exports.metadataMixin = exports.widgetMixins = exports.formInputsMixins = exports.select2Mixin = exports.selectMixin = exports.resizeMixin = exports.geoMixin = exports.mediaMixin = exports.fieldsMixin = undefined;\n\nvar _autocomplete = require('mixins/autocomplete');\n\nvar _autocomplete2 = _interopRequireDefault(_autocomplete);\n\nvar _fields = require('mixins/fields');\n\nvar _fields2 = _interopRequireDefault(_fields);\n\nvar _media = require('mixins/media');\n\nvar _media2 = _interopRequireDefault(_media);\n\nvar _geo = require('mixins/geo');\n\nvar _geo2 = _interopRequireDefault(_geo);\n\nvar _resize = require('mixins/resize');\n\nvar _resize2 = _interopRequireDefault(_resize);\n\nvar _select = require('mixins/select');\n\nvar _select2 = _interopRequireDefault(_select);\n\nvar _select3 = require('mixins/select2');\n\nvar _select4 = _interopRequireDefault(_select3);\n\nvar _formInputs = require('mixins/form-inputs');\n\nvar _formInputs2 = _interopRequireDefault(_formInputs);\n\nvar _widget = require('mixins/widget');\n\nvar _widget2 = _interopRequireDefault(_widget);\n\nvar _metadata = require('mixins/metadata');\n\nvar _metadata2 = _interopRequireDefault(_metadata);\n\nvar _baseInput = require('mixins/base-input');\n\nvar _baseInput2 = _interopRequireDefault(_baseInput);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mixins = {\n  autocompleteMixin: _autocomplete2.default,\n  fieldsMixin: _fields2.default,\n  mediaMixin: _media2.default,\n  geoMixin: _geo2.default,\n  resizeMixin: _resize2.default,\n  selectMixin: _select2.default,\n  select2Mixin: _select4.default,\n  formInputsMixins: _formInputs2.default,\n  widgetMixins: _widget2.default,\n  metadataMixin: _metadata2.default,\n  baseInputMixin: _baseInput2.default\n}; /**\n    * @file\n    * @since v3.7\n    */\n\nexports.fieldsMixin = _fields2.default;\nexports.mediaMixin = _media2.default;\nexports.geoMixin = _geo2.default;\nexports.resizeMixin = _resize2.default;\nexports.selectMixin = _select2.default;\nexports.select2Mixin = _select4.default;\nexports.formInputsMixins = _formInputs2.default;\nexports.widgetMixins = _widget2.default;\nexports.metadataMixin = _metadata2.default;\nexports.baseInputMixin = _baseInput2.default;\nexports.autocompleteMixin = _autocomplete2.default;\nexports.mixins = mixins;\nexports.default = mixins;\n\n},{\"mixins/autocomplete\":337,\"mixins/base-input\":338,\"mixins/fields\":339,\"mixins/form-inputs\":340,\"mixins/geo\":341,\"mixins/media\":343,\"mixins/metadata\":344,\"mixins/resize\":345,\"mixins/select\":346,\"mixins/select2\":347,\"mixins/widget\":348}],343:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  computed: {\n    filename: function filename() {\n      return this.value ? this.value.split('/').pop() : this.value;\n    }\n  },\n  methods: {\n    isMedia: function isMedia(value) {\n      if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.constructor === Object) return !!value.mime_type;\n      return false;\n    },\n    getMediaType: function getMediaType(mime_type) {\n      var media = {\n        type: null,\n        options: {}\n      };\n      switch (mime_type) {\n        case 'image/gif':\n        case 'image/png':\n        case 'image/jpeg':\n        case 'image/bmp':\n          media.type = 'image';\n          break;\n        case 'application/pdf':\n          media.type = 'pdf';\n          break;\n        case 'video/mp4':\n        case 'video/ogg':\n        case 'video/x-ms-wmv':\n        case 'video/x-msvideo':\n        case 'video/quicktime':\n          media.type = 'video';\n          media.options.format = mime_type;\n          break;\n        case 'application/gzip':\n        case 'application/zip':\n          media.type = 'zip';\n          break;\n        case 'application/msword':\n        case 'application/vnd.oasis.opendocument.text':\n          media.type = 'text';\n          break;\n        case 'application/vnd.ms-office':\n        case 'application/vnd.oasis.opendocument.spreadsheet':\n          media.type = 'excel';\n          break;\n        case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':\n        case 'application/vnd.ms-powerpoint':\n        case 'application/vnd.oasis.opendocument.presentation':\n          media.type = 'ppt';\n          break;\n        default:\n          media.type = 'unknow';\n      }\n      return media;\n    }\n  }\n};\n\n},{}],344:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  methods: {\n    findAttributeFormMetadataAttribute: function findAttributeFormMetadataAttribute(name) {\n      return this.state.metadata ? this.state.metadata[name] !== undefined : false;\n    },\n    findMetadataAttribute: function findMetadataAttribute(name) {\n      return this.state[name] !== undefined;\n    }\n  }\n};\n\n},{}],345:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle,\n    debounce = _require.debounce;\n\nvar DELAY_TYPE = {\n  throttle: throttle,\n  debounce: debounce\n};\n\nexports.default = {\n  created: function created() {\n    var delayWrapper = this.delayType && DELAY_TYPE[this.delayType] || DELAY_TYPE.throttle;\n    this.delayResize = this.resize ? delayWrapper(this.resize.bind(this), this.delayTime) : null;\n    _gui2.default.on('resize', this.delayResize);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.resize && this.resize();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    _gui2.default.off('resize', this.delayResize);\n    this.delayResize = null;\n    this.delayTime = null;\n  }\n};\n\n},{\"core/utils/utils\":67,\"services/gui\":360}],346:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    getAppLanguage = _require.getAppLanguage;\n\nexports.default = {\n  methods: {\n    getLanguage: function getLanguage() {\n      return getAppLanguage();\n    },\n    changeSelect: function changeSelect(value) {\n      this.state.value = value === 'null' ? null : value;\n      this.change();\n    },\n    getValue: function getValue(value) {\n      return value === null ? 'null' : value;\n    },\n    resetValues: function resetValues() {\n      this.state.input.options.values.splice(0);\n    }\n  },\n  computed: {\n    autocomplete: function autocomplete() {\n      return this.state.input.type === 'select_autocomplete' && this.state.input.options.usecompleter;\n    }\n  },\n  watch: {\n    notvalid: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(value) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                if (this.select2) value ? this.select2.data('select2').$container.addClass(\"input-error-validation\") : this.select2.data('select2').$container.removeClass(\"input-error-validation\");\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function notvalid(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return notvalid;\n    }()\n  }\n};\n\n},{\"core/i18n/i18n.service\":13}],347:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _resize = require('mixins/resize');\n\nvar _resize2 = _interopRequireDefault(_resize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  mixins: [_resize2.default],\n  methods: {\n    setValue: function setValue() {\n      this.select2.val(this.state.value).trigger('change');\n    },\n    resize: function resize() {\n      this.select2 && !_applicationState2.default.ismobile && this.select2.select2('close');\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    //destroy a select2  dom element\n    this.select2 && this.select2.select2('destroy');\n    // remove all event\n    this.select2.off();\n    this.select2 = null;\n  }\n};\n\n},{\"mixins/resize\":345,\"store/application-state\":372}],348:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  data: function data() {\n    return {\n      changed: false\n    };\n  },\n\n  methods: {\n    widgetChanged: function widgetChanged() {\n      this.changed = true;\n      this.change();\n    },\n    stateValueChanged: function stateValueChanged(value) {\n      console.log('need to be implemented by widget'); // method to overwrite\n    }\n  },\n  watch: {\n    'state.value': function stateValue(value) {\n      this.changed ? this.changed = false : this.stateValueChanged(value);\n    }\n  }\n};\n\n},{}],349:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    reject = _require.reject;\n\nvar G3WObject = require('core/g3wobject');\n\n// Class Api Service\nfunction ApiService() {\n  this._config = null;\n  this._baseUrl = null;\n  this.init = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var d = $.Deferred();\n    this._config = config;\n    // prende l'url base delle api dal config dell'applicazione\n    this._baseUrl = config.urls.api;\n    this._apiEndpoints = config.urls.apiEndpoints;\n    d.resolve();\n    return d.promise();\n  };\n  var howManyAreLoading = 0;\n  this._incrementLoaders = function () {\n    howManyAreLoading === 0 && this.emit('apiquerystart');\n    howManyAreLoading += 1;\n  };\n\n  this._decrementLoaders = function () {\n    howManyAreLoading -= 1;\n    howManyAreLoading === 0 && this.emit('apiqueryend');\n  };\n  this.get = function (api, options) {\n    var _this = this;\n\n    var apiEndPoint = this._apiEndpoints[api];\n    if (apiEndPoint) {\n      var completeUrl = this._baseUrl + '/' + apiEndPoint;\n      if (options.request) completeUrl = completeUrl + '/' + options.request;\n      var params = options.params || {};\n      this.emit(api + 'querystart');\n      this._incrementLoaders();\n      return $.get(completeUrl, params).done(function (response) {\n        _this.emit(api + 'queryend', response);\n        return response;\n      }).fail(function (error) {\n        _this.emit(api + 'queryfail', error);\n        return error;\n      }).always(function () {\n        return _this._decrementLoaders();\n      });\n    } else return reject();\n  };\n  base(this);\n}\n\ninherit(ApiService, G3WObject);\n\nexports.default = new ApiService();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],350:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _config = require('config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _constant = require('app/constant');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _api = require('services/api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _clipboard = require('services/clipboard');\n\nvar _clipboard2 = _interopRequireDefault(_clipboard);\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/i18n/i18n.service'),\n    i18ninit = _require.init,\n    changeLanguage = _require.changeLanguage;\n\nvar _require2 = require('core/utils/utils'),\n    base = _require2.base,\n    inherit = _require2.inherit,\n    XHR = _require2.XHR,\n    uniqueId = _require2.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\n//Manage Application\nvar ApplicationService = function ApplicationService() {\n  var _this = this;\n\n  this.version = _constant.APP_VERSION;\n  _applicationState2.default.iframe = window.top !== window.self;\n  _applicationState2.default.online = navigator.onLine;\n  _applicationState2.default.ismobile = isMobile.any;\n  this.complete = false;\n  this.baseurl = '/'; // set base url\n  this.download_caller_id = null;\n  // store all services sidebar etc..\n  this._applicationServices = {};\n  this.config = {};\n  this._initConfigUrl = null;\n  this._initConfig = null;\n  this._groupId = null;\n  this._gid = null;\n  this.setters = {\n    changeProject: function changeProject() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          gid = _ref.gid,\n          host = _ref.host;\n\n      return this._changeProject({ gid: gid, host: host });\n    },\n\n    /**\n     * @since 3.8.0\n     */\n    changeMapProject: function changeMapProject(_ref2) {\n      var url = _ref2.url,\n          epsg = _ref2.epsg;\n\n      url = _gui2.default.getService('map').addMapExtentUrlParameterToUrl(url, epsg);\n      history.replaceState(null, null, url);\n      location.replace(url);\n    },\n    online: function online() {\n      this.setOnline();\n    },\n    offline: function offline() {\n      this.setOffline();\n    },\n    setFilterToken: function setFilterToken(filtertoken) {\n      this._setFilterToken(filtertoken);\n    }\n  };\n  base(this);\n  /*\n  * intiConfig as parameter\n  * */\n  this.on('initconfig', function () {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        user = _ref3.user;\n\n    // only user attribute is used\n    _this.setApplicationUser(user);\n  });\n  // init application\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var config, browserLanguage, language;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return this.createApplicationConfig();\n\n          case 3:\n            config = _context.sent;\n\n            this.setConfig(config);\n            this.setLayout('app', config.layout);\n            _context.next = 8;\n            return this.bootstrap();\n\n          case 8:\n            return _context.abrupt('return', _context.sent);\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context['catch'](0);\n            browserLanguage = navigator && navigator.language || 'en';\n            language = _config2.default.supportedLanguages.find(function (language) {\n              return browserLanguage.indexOf(language) !== -1;\n            });\n            return _context.abrupt('return', Promise.reject({\n              error: _context.t0,\n              language: language\n            }));\n\n          case 16:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[0, 11]]);\n  }));\n  /**\n   * setup Internationalization\n   */\n  this.setupI18n = function () {\n    var languageConfig = this._config._i18n;\n    languageConfig.appLanguages = this._config.i18n.map(function (languageLabel) {\n      return languageLabel[0];\n    });\n    this.setApplicationLanguage(languageConfig.language);\n    //setup internationalization for translation\n    i18ninit(languageConfig);\n    this._groupId = this._config.group.slug || this._config.group.name.replace(/\\s+/g, '-').toLowerCase();\n    // set accept-language reuest header based on config language\n    var userLanguage = this._config.user.i18n || 'en';\n    $.ajaxSetup({\n      beforeSend: function beforeSend(jqXHR) {\n        jqXHR.setRequestHeader('Accept-Language', userLanguage);\n      }\n    });\n  };\n\n  this.getCurrentProject = function () {\n    return _projects2.default.getCurrentProject();\n  };\n\n  /**\n   *\n   * @param bool\n   * @param download_caller_id\n   * @returns {null}\n   */\n  this.setDownload = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var download_caller_id = arguments[1];\n\n    if (download_caller_id) {\n      if (!bool && download_caller_id && this.download_caller_id === download_caller_id) {\n        _applicationState2.default.download = false;\n        this.download_caller_id = null;\n      } else if (bool && this.download_caller_id === null) {\n        _applicationState2.default.download = bool;\n        this.download_caller_id = uniqueId();\n      }\n    } else _applicationState2.default.download = bool;\n    return this.download_caller_id;\n  };\n\n  this.getDownload = function () {\n    return _applicationState2.default.download;\n  };\n\n  this.loadingPlugin = function (plugin) {\n    _applicationState2.default.plugins.push(plugin);\n  };\n\n  /*\n  * plugin: name of plugin\n  * */\n  this.loadedPlugin = function (plugin) {\n    _applicationState2.default.plugins = _applicationState2.default.plugins.filter(function (_plugin) {\n      return _plugin !== plugin;\n    });\n  };\n\n  /*\n   *filtertoken methods\n  */\n\n  /**\n   * token is a string passed by server and used as parameter in XHR request\n   * @param filtertoken\n   * @private\n   */\n  this._setFilterToken = function (filtertoken) {\n    _applicationState2.default.tokens.filtertoken = filtertoken;\n  };\n\n  this.getFilterToken = function () {\n    return _applicationState2.default.tokens.filtertoken;\n  };\n\n  /**\n   *  filter token methods\n   */\n\n  this.changeLanguage = function (language) {\n    changeLanguage(language);\n    /**\n     * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n     */\n    _applicationState2.default.lng = language;\n    _applicationState2.default.language = language;\n    var pathname = window.location.pathname;\n    var pathArray = pathname.split('/');\n    pathArray[1] = language;\n    history.replaceState(null, null, pathArray.join('/'));\n  };\n\n  this.registerOnlineOfflineEvent = function () {\n    var _this2 = this;\n\n    this.registerWindowEvent({\n      evt: 'online',\n      cb: function cb() {\n        return _this2.online();\n      }\n    });\n\n    this.registerWindowEvent({\n      evt: 'offline',\n      cb: function cb() {\n        return _this2.offline();\n      }\n    });\n  };\n\n  this.getBaseLayerId = function () {\n    return _applicationState2.default.baseLayerId;\n  };\n\n  this.setBaseLayerId = function (baseLayerId) {\n    _applicationState2.default.baseLayerId = baseLayerId;\n  };\n\n  this.registerLeavePage = function () {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref5$bool = _ref5.bool,\n        bool = _ref5$bool === undefined ? false : _ref5$bool,\n        _ref5$message = _ref5.message,\n        message = _ref5$message === undefined ? '' : _ref5$message;\n\n    var _return = !bool ? undefined : bool;\n    window.onbeforeunload = function (event) {\n      return _return;\n    };\n  };\n\n  this.unregisterOnlineOfflineEvent = function () {\n    window.removeEventListener('online');\n    window.removeEventListener('offline');\n  };\n\n  this.getState = function () {\n    return _applicationState2.default;\n  };\n\n  this.disableApplication = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    _applicationState2.default.gui.app.disabled = bool;\n  };\n\n  this.setApplicationLanguage = function () {\n    var language = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'en';\n\n    /**\n     * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n     */\n    _applicationState2.default.lng = language;\n    _applicationState2.default.language = language;\n  };\n\n  this.getApplicationLanguage = function () {\n    return _applicationState2.default.language;\n  };\n\n  this.setOnline = function () {\n    _applicationState2.default.online = true;\n  };\n\n  this.setOffline = function () {\n    _applicationState2.default.online = false;\n  };\n\n  this.isOnline = function () {\n    return _applicationState2.default.online;\n  };\n\n  this.setOfflineItem = function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(id) {\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.setLocalItem({\n                id: id,\n                data: data\n              });\n\n            case 1:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x8) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  this.setLocalItem = function () {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        id = _ref7.id,\n        data = _ref7.data;\n\n    try {\n      var item = JSON.stringify(data);\n      window.localStorage.setItem(id, item);\n    } catch (error) {\n      return error;\n    }\n  };\n\n  this.removeLocalItem = function (id) {\n    window.localStorage.removeItem(id);\n  };\n\n  this.getLocalItem = function (id) {\n    var item = window.localStorage.getItem(id);\n    if (item) return JSON.parse(item);else return undefined;\n  };\n\n  this.getOfflineItem = function (id) {\n    return this.getLocalItem(id);\n  };\n\n  this.removeOfflineItem = function (id) {\n    this.removeLocalItem(id);\n  };\n\n  //check if is in Iframe\n  this.isIframe = function () {\n    return _applicationState2.default.iframe;\n  };\n\n  // get config\n  this.getConfig = function () {\n    return this._config;\n  };\n\n  this.setConfig = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this._config = config;\n  };\n\n  // router service\n  this.getRouterService = function () {\n    return _router2.default;\n  };\n\n  //application proxy url\n  this.getProxyUrl = function () {\n    return '' + this._initConfig.proxyurl;\n  };\n\n  /**\n   * Get Interface OWS Url\n   */\n  this.getInterfaceOwsUrl = function () {\n    return '' + this._initConfig.interfaceowsurl;\n  };\n\n  // clipboard service\n  this.getClipboardService = function () {\n    return _clipboard2.default;\n  };\n\n  /**\n   * Create application config object\n   * @param initConfig\n   * @returns {Promise<string|{terms_of_use_link, projects: ([{gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}], type: string}, {gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}, {qgs_layer_id: string, fields: [string]}, {qgs_layer_id: string, fields: [string]}], type: string}, {gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}, {qgs_layer_id: string, fields: [string]}], type: string}]|{gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}], type: string}|[]), maxscale: (null|ProjectsRegistry.setProjects.config.maxscale), mediaurl: *, plugins: *, mapcontrols: *, tools: *, resourcesurl: *, initproject, urls: *, credits: *, getWmsUrl(*): string, _i18n: ({resources: {se: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, fi: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, en: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, it: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {title: string, error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {zoom_to_features_extent: string, download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}}}|{resources: *}), views: (*|{}), group: *, vectorurl: *, debug: boolean, crs: *, apptitle: (string), header_custom_links, i18n: *, overviewproject: (*|null), layout: (*|{}), logo_img: *, baselayers: (string|vueComponentOptions.computed.baselayers|{count: number}|*), logo_link: *, background_color, terms_of_use_text: *, main_map_title: *, getProjectConfigUrl(*): string, user: (*|null), minscale: ProjectsRegistry.setProjects.config.minscale}>}\n   */\n  this.createApplicationConfig = function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(initConfig) {\n      var config, _ref9, macrogroups, groups;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              config = _extends({}, _config2.default);\n              _context3.prev = 1;\n\n              if (!initConfig) {\n                _context3.next = 6;\n                break;\n              }\n\n              _context3.t0 = initConfig;\n              _context3.next = 9;\n              break;\n\n            case 6:\n              _context3.next = 8;\n              return this.obtainInitConfig({\n                initConfigUrl: '' + _config2.default.server.urls.initconfig\n              });\n\n            case 8:\n              _context3.t0 = _context3.sent;\n\n            case 9:\n              initConfig = _context3.t0;\n\n\n              // write urls of static files and media url (base url and vector url)\n              this.baseurl = initConfig.baseurl;\n              /**\n               * Since 3.8.0\n               * @type {string|string}\n               */\n              _context3.next = 13;\n              return this.getMacrogroupsGroups();\n\n            case 13:\n              _ref9 = _context3.sent;\n              macrogroups = _ref9.macrogroups;\n              groups = _ref9.groups;\n\n\n              config.server.urls.baseurl = initConfig.baseurl;\n              config.server.urls.frontendurl = initConfig.frontendurl;\n              config.server.urls.staticurl = initConfig.staticurl;\n              config.server.urls.clienturl = initConfig.staticurl + initConfig.client;\n              config.server.urls.mediaurl = initConfig.mediaurl;\n              config.server.urls.vectorurl = initConfig.vectorurl;\n              config.server.urls.proxyurl = initConfig.proxyurl;\n              config.server.urls.rasterurl = initConfig.rasterurl;\n              config.server.urls.interfaceowsurl = initConfig.interfaceowsurl;\n              config.main_map_title = initConfig.main_map_title;\n              config.group = initConfig.group;\n              config.user = initConfig.user;\n              config.credits = initConfig.credits;\n              config.i18n = initConfig.i18n;\n              // get language from server\n              config._i18n.language = config.user.i18n;\n              // create application configuration\n              // check if is inside a iframe\n              config.group.layout.iframe = window.top !== window.self;\n              return _context3.abrupt('return', {\n                apptitle: config.apptitle || '',\n                logo_img: config.group.header_logo_img,\n                logo_link: config.group.header_logo_link,\n                terms_of_use_text: config.group.header_terms_of_use_text,\n                terms_of_use_link: config.group.terms_of_use_link,\n                header_custom_links: config.group.header_custom_links,\n                debug: config.client.debug || false,\n                group: config.group,\n                urls: config.server.urls,\n                mediaurl: config.server.urls.mediaurl,\n                resourcesurl: config.server.urls.clienturl,\n                vectorurl: config.server.urls.vectorurl,\n                rasterurl: config.server.urls.rasterurl,\n                interfaceowsurl: config.server.urls.interfaceowsurl,\n                projects: config.group.projects,\n                initproject: config.group.initproject,\n                overviewproject: config.group.overviewproject && config.group.overviewproject.gid ? config.group.overviewproject : null,\n                baselayers: config.group.baselayers,\n                mapcontrols: config.group.mapcontrols,\n                background_color: config.group.background_color,\n                crs: config.group.crs,\n                minscale: config.group.minscale,\n                maxscale: config.group.maxscale,\n                main_map_title: config.main_map_title,\n                credits: config.credits,\n                _i18n: config._i18n,\n                i18n: config.i18n,\n                layout: config.group.layout || {},\n                // needed by ProjectService\n                getWmsUrl: function getWmsUrl(project) {\n                  return config.server.urls.baseurl + config.server.urls.ows + '/' + config.group.id + '/' + project.type + '/' + project.id + '/';\n                },\n\n                // needed by ProjectsRegistry to get informations about project configuration\n                getProjectConfigUrl: function getProjectConfigUrl(project) {\n                  return config.server.urls.baseurl + config.server.urls.config + '/' + config.group.id + '/' + project.type + '/' + project.id + '?_t=' + project.modified;\n                },\n\n                plugins: config.group.plugins,\n                tools: config.tools,\n                views: config.views || {},\n                user: config.user || null,\n                /**\n                 * @since 3.8.0\n                 */\n                groups: groups,\n                macrogroups: macrogroups\n              });\n\n            case 35:\n              _context3.prev = 35;\n              _context3.t1 = _context3['catch'](1);\n              return _context3.abrupt('return', Promise.reject(_context3.t1));\n\n            case 38:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this, [[1, 35]]);\n    }));\n\n    return function (_x11) {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n\n  /**\n   * @since 3.8.0\n   */\n  this.getMacrogroupsGroups = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return XHR.get({\n              url: '/' + this.getApplicationUser().i18n + _constant.API_BASE_URLS.ABOUT.macrogroups\n            });\n\n          case 3:\n            _context4.t0 = _context4.sent;\n            _context4.next = 6;\n            return XHR.get({\n              url: '/' + this.getApplicationUser().i18n + _constant.API_BASE_URLS.ABOUT.nomacrogoups\n            });\n\n          case 6:\n            _context4.t1 = _context4.sent;\n            return _context4.abrupt('return', {\n              macrogroups: _context4.t0,\n              groups: _context4.t1\n            });\n\n          case 10:\n            _context4.prev = 10;\n            _context4.t2 = _context4['catch'](0);\n            return _context4.abrupt('return', {\n              macrogroups: [],\n              groups: []\n            });\n\n          case 13:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[0, 10]]);\n  }));\n\n  this.obtainInitConfig = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        initConfigUrl = _ref12.initConfigUrl,\n        url = _ref12.url,\n        host = _ref12.host;\n\n    var projectPath, locationsearch;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            if (!this._initConfigUrl) this._initConfigUrl = initConfigUrl;else this.clearInitConfig();\n\n            // if exist a global initConfig\n            this._initConfig = window.initConfig;\n\n            projectPath = void 0;\n\n            // DEPRECATED: will be removed after v4.0\n\n            locationsearch = url ? url.split('?')[1] : location.search.substring(1);\n\n\n            if (locationsearch) {\n              //check if exist project in url\n              /**\n               * The way to extract project group,type and id\n               * Example http:localhost:3000/?project=3003/qdjango/1\n               * is deprecate\n               */\n              locationsearch.split('&').forEach(function (queryTuple) {\n                projectPath = queryTuple.indexOf(\"project\") > -1 ? queryTuple.split(\"=\")[1] : projectPath;\n              });\n\n              ///////////////////////////////////////////////////////////////////\n            } else if (this._gid) {\n              projectPath = this._groupId + '/' + this._gid.split(':').join('/');\n            }\n\n            _context5.prev = 5;\n\n            if (!projectPath) {\n              _context5.next = 10;\n              break;\n            }\n\n            _context5.next = 9;\n            return this.getInitConfig('' + (host || '') + this.baseurl + this._initConfigUrl + '/' + projectPath);\n\n          case 9:\n            this._initConfig = _context5.sent;\n\n          case 10:\n            _context5.next = 15;\n            break;\n\n          case 12:\n            _context5.prev = 12;\n            _context5.t0 = _context5['catch'](5);\n            return _context5.abrupt('return', Promise.reject(_context5.t0));\n\n          case 15:\n            _context5.prev = 15;\n\n            window.initConfig = this._initConfig;\n            this.emit('initconfig', this._initConfig);\n            this.setInitVendorKeys(this._initConfig);\n            return _context5.abrupt('return', Promise.resolve(this._initConfig));\n\n          case 21:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[5, 12, 15, 21]]);\n  }));\n\n  // method to get initial application configuration\n  this.getInitConfig = function (url) {\n    var _this3 = this;\n\n    return new Promise(function (resolve, reject) {\n      if (_this3._initConfig) resolve(_this3._initConfig);else XHR.get({ url: url }).then(function (initConfig) {\n        return resolve(initConfig);\n      }).catch(function (error) {\n        return reject(error);\n      });\n    });\n  };\n\n  this.getInitConfigUrl = function () {\n    return this._initConfigUrl;\n  };\n\n  this.setInitConfigUrl = function (initConfigUrl) {\n    this._initConfigUrl = initConfigUrl;\n  };\n\n  // post boostratp\n  this.postBootstrap = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            if (this.complete) {\n              _context6.next = 13;\n              break;\n            }\n\n            _context6.prev = 1;\n\n            _router2.default.init();\n            // once the projects are inizilized and also api service\n            // register  plugins\n            _context6.next = 5;\n            return this._bootstrapPlugins();\n\n          case 5:\n            _context6.next = 9;\n            break;\n\n          case 7:\n            _context6.prev = 7;\n            _context6.t0 = _context6['catch'](1);\n\n          case 9:\n            _context6.prev = 9;\n\n            this.complete = true;\n            this.emit('complete');\n            return _context6.finish(9);\n\n          case 13:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this, [[1, 7, 9, 13]]);\n  }));\n\n  //boostrap plugins\n  this._bootstrapPlugins = function () {\n    return _plugins2.default.init({\n      pluginsBaseUrl: this._config.urls.staticurl,\n      pluginsConfigs: this._config.plugins,\n      otherPluginsConfig: _projects2.default.getCurrentProject().getState()\n    });\n  };\n\n  //set EPSG of Application is usefule for example to wms request for table layer\n  this.setEPSGApplication = function (project) {\n    _applicationState2.default.map.epsg = project.state.crs.epsg;\n  };\n\n  //Application User\n  this.setApplicationUser = function (user) {\n    _applicationState2.default.user = user;\n  };\n\n  this.getApplicationUser = function () {\n    return _applicationState2.default.user;\n  };\n\n  //  bootstrap (when called init)\n  this.bootstrap = function () {\n    var _this4 = this;\n\n    return new Promise(function (resolve, reject) {\n      // setup All i18n configuration\n      _this4.setupI18n();\n      // run Timeout\n      var timeout = setTimeout(function () {\n        reject('Timeout');\n      }, _constant.TIMEOUT);\n      //first time l'application service is not ready\n      if (!_applicationState2.default.ready) {\n        $.when(\n        // register project\n        _projects2.default.init(_this4._config),\n        // inizialize api service\n        _api2.default.init(_this4._config)).then(function () {\n          // clear TIMEOUT\n          clearTimeout(timeout);\n          //clear\n          _this4.registerOnlineOfflineEvent();\n          _this4.emit('ready');\n          _applicationState2.default.ready = _this4.initialized = true;\n          // set current project gid\n          var project = _projects2.default.getCurrentProject();\n          _this4._gid = project.getGid();\n          //sett\n          _this4.setEPSGApplication(project);\n          //IFRAME CHECK\n          _applicationState2.default.iframe && _this4.startIFrameService({\n            project: project\n          });\n          // initialize data router service\n          _data2.default.init();\n          // init Local Items for the user\n          _this4.initLocalItems();\n          resolve(true);\n        }).fail(function (error) {\n          return reject(error);\n        });\n      }\n    });\n  };\n\n  //iframeservice\n  this.startIFrameService = function () {\n    var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        project = _ref14.project;\n\n    var iframeService = require('core/iframe/routerservice');\n    iframeService.init({ project: project });\n  };\n\n  this.registerWindowEvent = function () {\n    var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        evt = _ref15.evt,\n        cb = _ref15.cb;\n\n    window.addEventListener(evt, cb);\n  };\n\n  this.unregisterWindowEvent = function () {\n    var _ref16 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        evt = _ref16.evt,\n        cb = _ref16.cb;\n\n    window.removeEventListener(evt, cb);\n  };\n\n  this.registerService = function (element, service) {\n    this._applicationServices[element] = service;\n  };\n\n  this.unregisterService = function (element) {\n    delete this._applicationServices[element];\n  };\n\n  this.getApplicationService = function (type) {\n    return this._applicationServices[type];\n  };\n\n  this.getService = function (element) {\n    return this._applicationServices[element];\n  };\n\n  this.errorHandler = function (error) {};\n\n  /**\n   * clear initConfig\n   */\n  this.clearInitConfig = function () {\n    window.initConfig = this._initConfig = null;\n  };\n\n  this.setInitVendorKeys = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var vendorkeys = config.group.vendorkeys || {};\n    config.group.baselayers.forEach(function (baselayer) {\n      if (baselayer.apikey) {\n        var type = baselayer.servertype ? baselayer.servertype.toLowerCase() : null;\n        vendorkeys[type] = baselayer.apikey;\n      }\n    });\n    this.setVendorKeys(vendorkeys);\n  };\n\n  this.setVendorKeys = function () {\n    var keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    Object.keys(keys).forEach(function (key) {\n      return _applicationState2.default.keys.vendorkeys[key] = keys[key];\n    });\n  };\n\n  // change View\n  this.changeProjectView = function (change) {\n    _applicationState2.default.changeProjectview = change;\n  };\n\n  this.isProjectViewChanging = function () {\n    return _applicationState2.default.changeProjectview;\n  };\n\n  this.reloadCurrentProject = function () {\n    return this.changeProject({\n      gid: _projects2.default.getCurrentProject().getGid()\n    });\n  };\n\n  /**\n   * Change project method that do all request and rebuild interface\n   * @param gid\n   * @param host\n   * @returns {JQuery.Promise<any, any, any>}\n   * @private\n   */\n  this._changeProject = function () {\n    var _ref17 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        gid = _ref17.gid,\n        host = _ref17.host,\n        crs = _ref17.crs;\n\n    var d = $.Deferred();\n    this._gid = gid;\n    var projectUrl = _projects2.default.getProjectUrl(gid);\n    var url = _gui2.default.getService('map').addMapExtentUrlParameterToUrl(projectUrl, crs);\n    history.replaceState(null, null, url);\n    location.replace(url);\n    d.resolve();\n    return d.promise();\n  };\n\n  /**\n   * Layout section\n   */\n\n  this.setLayout = function () {\n    var who = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    /**\n     * Set default height percentage of height when show vertical content (for example show table attribute)\n     * @type {{}}\n     */\n    if (config.rightpanel) {\n      config.rightpanel.width = config.rightpanel.width || 50;\n      config.rightpanel.height = config.rightpanel.height || 50;\n      config.rightpanel.width_default = config.rightpanel.width; // used eventually to reset starting values\n      config.rightpanel.height_default = config.rightpanel.height;\n      config.rightpanel.width_100 = false;\n      config.rightpanel.height_100 = false;\n    } else config.rightpanel = { width: 50, height: 50, width_default: 50, height_default: 50, width_100: false, height_100: false };\n    _applicationState2.default.gui.layout[who] = config;\n  };\n\n  this.removeLayout = function (who) {\n    who && delete _applicationState2.default.gui.layout[who];\n  };\n\n  this.setCurrentLayout = function () {\n    var who = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n\n    _applicationState2.default.gui.layout.__current = who;\n  };\n\n  this.getCurrentLayout = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current];\n  };\n\n  this.getCurrentLayoutName = function () {\n    return _applicationState2.default.gui.layout.__current;\n  };\n\n  this.cloneLayout = function () {\n    var which = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n\n    return JSON.parse(JSON.stringify(_applicationState2.default.gui.layout[which]));\n  };\n\n  /**\n   * Layout section\n   */\n\n  this.clear = function () {\n    this.unregisterOnlineOfflineEvent();\n  };\n\n  /**\n   * Method to initialize local items if not initialize\n   * each item has id (unique identifier)\n   * and value (for initial value)\n   * @since v3.8\n   */\n  this.initLocalItems = function () {\n    var _this5 = this;\n\n    Object.keys(_constant.LOCAL_ITEM_IDS).forEach(function (id) {\n      if (\"undefined\" === typeof _this5.getLocalItem(id)) {\n        _this5.setLocalItem({\n          id: id,\n          data: _constant.LOCAL_ITEM_IDS[id].value\n        });\n      }\n    });\n  };\n};\n\ninherit(ApplicationService, G3WObject);\n\nexports.default = new ApplicationService();\n\n},{\"app/constant\":4,\"config\":3,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/iframe/routerservice\":14,\"core/utils/utils\":67,\"services/api\":349,\"services/clipboard\":351,\"services/data\":357,\"services/gui\":360,\"services/router\":367,\"store/application-state\":372,\"store/plugins\":377,\"store/projects\":378}],351:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\nfunction ClipboardService() {\n  this._data = {};\n  this.set = function (formId, data) {\n    var formLayer = formId.split('form')[0];\n    this._data[formLayer] = data;\n  };\n\n  this.get = function (formLayer) {\n    var data = this._data[formLayer] || {};\n    this._data[formLayer] = {};\n    return data;\n  };\n}\n\nexports.default = new ClipboardService();\n\n},{}],352:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar BaseService = require('core/data/service');\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    getFeaturesFromResponseVectorApi = _require2.getFeaturesFromResponseVectorApi;\n\nfunction ExpressionService() {\n\n  base(this);\n\n  /**\n   * POST only: accepts\n   * \n   * Mandatory JSON body: expression\n   * Optional JSON body: form_data and qgs_layer_id (QGIS layer id)\n   * \n   * @param params.qgis_layer_id layer id owner of the form data\n   * @param params.layer_id      layer owner of the data\n   * @param params.form_data\n   * @param params.field_name    since 3.8.0\n   * @param params.expression\n   * @param params.formatter\n   * @param params.parent\n   * \n   * @returns { Promise<void> }\n   */\n  this.expression = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.t0 = this;\n            _context.next = 4;\n            return this.handleRequest({\n              url: '' + this.project.getUrl('vector_data') + params.layer_id + '/',\n              params: params\n            });\n\n          case 4:\n            _context.t1 = _context.sent;\n            return _context.abrupt('return', _context.t0.handleResponse.call(_context.t0, _context.t1));\n\n          case 8:\n            _context.prev = 8;\n            _context.t2 = _context['catch'](0);\n            return _context.abrupt('return', Promise.reject(_context.t2));\n\n          case 11:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[0, 8]]);\n  }));\n\n  /**\n   * POST only method to return QGIS Expressions evaluated in Project an optional Layer/Form context\n   *\n   * Mandatory JSON body: expression\n   * Optional JSON body: form_data and qgs_layer_id (QGIS layer id)\n   * \n   * @param params.layer_id\n   * @param params.qgis_layer_id\n   * @param params.form_data\n   * @param params.field_name    since 3.8.0\n   * @param params.expression\n   * @param params.formatter\n   * @param params.parent\n   * \n   * @returns { Promise<void> }\n   */\n  this.expression_eval = function () {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return this.handleRequest({\n      url: this.project.getUrl('expression_eval'),\n      params: params\n    });\n  };\n\n  /**\n   * Handle server request\n   * \n   * @param url\n   * @param params\n   * @param contentType\n    * @returns { Promise<*> }\n   */\n  this.handleRequest = function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref2.url,\n        _ref2$params = _ref2.params,\n        params = _ref2$params === undefined ? {} : _ref2$params,\n        _ref2$contentType = _ref2.contentType,\n        contentType = _ref2$contentType === undefined ? 'application/json' : _ref2$contentType;\n\n    return XHR.post({ url: url, contentType: contentType, data: JSON.stringify(params) });\n  };\n\n  /**\n   * Handle server response\n   * \n   * @param response\n   */\n  this.handleResponse = function () {\n    var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return getFeaturesFromResponseVectorApi(response);\n  };\n}\n\ninherit(ExpressionService, BaseService);\n\nexports.default = new ExpressionService();\n\n},{\"core/data/service\":5,\"core/utils/geo\":64,\"core/utils/utils\":67}],353:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar BaseService = require('core/data/service');\n\nfunction OWSService() {\n  base(this);\n  /**\n   *\n   * @param params\n   * @returns {Promise<{data: string, response: *}>}\n   */\n  this.wmsCapabilities = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref2.url;\n\n    var owsUrl, params, data, response;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            owsUrl = '' + _application2.default.getInterfaceOwsUrl();\n            _context.prev = 1;\n            params = {\n              url: url,\n              service: \"wms\"\n            };\n            data = JSON.stringify(params);\n            _context.next = 6;\n            return XHR.post({\n              url: owsUrl,\n              contentType: 'application/json',\n              data: data\n            });\n\n          case 6:\n            response = _context.sent;\n            return _context.abrupt('return', response);\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context['catch'](1);\n            return _context.abrupt('return');\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[1, 10]]);\n  }));\n}\n\ninherit(OWSService, BaseService);\n\nexports.default = new OWSService();\n\n},{\"core/data/service\":5,\"core/utils/utils\":67,\"services/application\":350}],354:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar BaseService = require('core/data/service');\n\nfunction ProxyService() {\n  base(this);\n  /**\n   *\n   * @param data: Object conitans data to pass to proxy\n   * @returns {Promise<{data: string, response: *}>}\n   */\n  this.wms = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref2.url,\n        _ref2$method = _ref2.method,\n        method = _ref2$method === undefined ? 'GET' : _ref2$method,\n        _ref2$params = _ref2.params,\n        params = _ref2$params === undefined ? {} : _ref2$params,\n        _ref2$headers = _ref2.headers,\n        headers = _ref2$headers === undefined ? {} : _ref2$headers;\n\n    var proxyUrl, data, response;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            proxyUrl = '' + _application2.default.getProxyUrl();\n\n            if (method === 'GET') {\n              url = new URL(url);\n              Object.keys(params).forEach(function (param) {\n                return url.searchParams.set(param, params[param]);\n              });\n              url = url.toString();\n            }\n            _context.prev = 2;\n            data = JSON.stringify({\n              url: url,\n              params: params,\n              headers: headers,\n              method: method\n            });\n            _context.next = 6;\n            return XHR.post({\n              url: proxyUrl,\n              contentType: 'application/json',\n              data: data\n            });\n\n          case 6:\n            response = _context.sent;\n            return _context.abrupt('return', {\n              response: response,\n              data: data\n            });\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context['catch'](2);\n            return _context.abrupt('return');\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[2, 10]]);\n  }));\n\n  /**\n   * Generic proxy data function\n   * @param params\n   */\n  this.data = function () {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  };\n}\n\ninherit(ProxyService, BaseService);\n\nexports.default = new ProxyService();\n\n},{\"core/data/service\":5,\"core/utils/utils\":67,\"services/application\":350}],355:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file\n                                                                                                                                                                                                                                                                   * @since v3.6\n                                                                                                                                                                                                                                                                   */\n\nvar _constant = require('app/constant');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar BaseService = require('core/data/service');\n\nvar _require3 = require('core/utils/geo'),\n    getQueryLayersPromisesByCoordinates = _require3.getQueryLayersPromisesByCoordinates,\n    getQueryLayersPromisesByGeometry = _require3.getQueryLayersPromisesByGeometry,\n    getQueryLayersPromisesByBBOX = _require3.getQueryLayersPromisesByBBOX,\n    getMapLayersByFilter = _require3.getMapLayersByFilter;\n\nfunction QueryService() {\n  base(this);\n  /**\n   *\n   * @type {{filtrable: {ows: string}}}\n   */\n  this.condition = {\n    filtrable: {\n      ows: 'WFS'\n    }\n  };\n\n  /**\n   * @param {{ feature: unknown, feature_count: unknown, filterConfig: unknown, multilayers: boolean, condition: boolean, excludeLayers: unknown[] }}\n   * \n   * @returns {Promise<unknown>}\n   */\n  this.polygon = function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref.feature,\n        _ref$feature_count = _ref.feature_count,\n        feature_count = _ref$feature_count === undefined ? this.project.getQueryFeatureCount() : _ref$feature_count,\n        _ref$filterConfig = _ref.filterConfig,\n        filterConfig = _ref$filterConfig === undefined ? {} : _ref$filterConfig,\n        _ref$multilayers = _ref.multilayers,\n        multilayers = _ref$multilayers === undefined ? false : _ref$multilayers,\n        _ref$condition = _ref.condition,\n        condition = _ref$condition === undefined ? this.condition : _ref$condition,\n        _ref$layerName = _ref.layerName,\n        layerName = _ref$layerName === undefined ? '' : _ref$layerName,\n        _ref$excludeSelected = _ref.excludeSelected,\n        excludeSelected = _ref$excludeSelected === undefined ? null : _ref$excludeSelected,\n        _ref$external = _ref.external,\n        external = _ref$external === undefined ? {\n      add: true,\n      filter: {\n        SELECTED: false\n      }\n    } : _ref$external;\n\n    var hasExternalLayersSelected = this.hasExternalLayerSelected({ type: \"vector\" });\n    var fid = hasExternalLayersSelected ? feature.getId() : feature.get(_constant.G3W_FID);\n    var geometry = feature.getGeometry();\n\n    // in case no geometry on polygon layer response\n    if (!geometry) {\n      return this.returnExceptionResponse({\n        usermessage: {\n          type: 'warning',\n          message: layerName + ' - ' + t('sdk.mapcontrols.querybypolygon.no_geometry'),\n          messagetext: true,\n          autoclose: false\n        }\n      });\n    }\n    return this.handleRequest(\n    // request\n    getQueryLayersPromisesByGeometry(\n    // layers\n    getMapLayersByFilter(_extends({}, \"boolean\" === typeof excludeSelected ? { SELECTED: !excludeSelected } : { SELECTED_OR_ALL: true }, {\n      FILTERABLE: true,\n      VISIBLE: true\n    }), condition),\n    // options\n    {\n      geometry: geometry,\n      multilayers: multilayers,\n      feature_count: feature_count,\n      filterConfig: filterConfig,\n      projection: this.project.getProjection()\n    }),\n    // query\n    {\n      fid: fid,\n      geometry: geometry,\n      layerName: layerName,\n      type: 'polygon',\n      filterConfig: filterConfig,\n      external: external\n    });\n  };\n\n  /**\n   *\n   * @param bbox\n   * @param feature_count\n   * @param multilayers\n   * @param condition\n   * @param layersFilterObject\n   * @returns {Promise<unknown>}\n   */\n  this.bbox = function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        bbox = _ref2.bbox,\n        _ref2$feature_count = _ref2.feature_count,\n        feature_count = _ref2$feature_count === undefined ? this.project.getQueryFeatureCount() : _ref2$feature_count,\n        _ref2$filterConfig = _ref2.filterConfig,\n        filterConfig = _ref2$filterConfig === undefined ? {} : _ref2$filterConfig,\n        _ref2$multilayers = _ref2.multilayers,\n        multilayers = _ref2$multilayers === undefined ? false : _ref2$multilayers,\n        _ref2$condition = _ref2.condition,\n        condition = _ref2$condition === undefined ? this.condition : _ref2$condition,\n        _ref2$excludeSelected = _ref2.excludeSelected,\n        excludeSelected = _ref2$excludeSelected === undefined ? null : _ref2$excludeSelected,\n        _ref2$addExternal = _ref2.addExternal,\n        addExternal = _ref2$addExternal === undefined ? true : _ref2$addExternal,\n        _ref2$layersFilterObj = _ref2.layersFilterObject,\n        layersFilterObject = _ref2$layersFilterObj === undefined ? { SELECTED_OR_ALL: true, FILTERABLE: true, VISIBLE: true } : _ref2$layersFilterObj;\n\n    var hasExternalLayersSelected = this.hasExternalLayerSelected({ type: \"vector\" });\n    var query = {\n      bbox: bbox,\n      type: 'bbox',\n      filterConfig: filterConfig,\n      external: {\n        add: addExternal,\n        filter: {\n          SELECTED: hasExternalLayersSelected || ('boolean' == typeof excludeSelected ? excludeSelected : false)\n        }\n      }\n    };\n\n    // Check If LayerIds is length === 0 so i check if add external Layer is selected\n    if (hasExternalLayersSelected) {\n      return this.handleRequest(this.getEmptyRequest(), query);\n    }\n\n    return this.handleRequest(\n    //request\n    getQueryLayersPromisesByBBOX(\n    // layers\n    getMapLayersByFilter(layersFilterObject, condition),\n    //options\n    {\n      bbox: bbox,\n      feature_count: feature_count,\n      filterConfig: filterConfig,\n      multilayers: multilayers\n    }),\n    // query\n    query);\n  };\n\n  /**\n   * @param {{ coordinates: unknown, layerIds: unknown[], multilayers: boolean, query_point_tolerance: number, feature_count: number }}\n   * \n   * @returns {Promise<unknown>}\n   */\n  this.coordinates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        coordinates = _ref4.coordinates,\n        _ref4$layerIds = _ref4.layerIds,\n        layerIds = _ref4$layerIds === undefined ? [] : _ref4$layerIds,\n        _ref4$multilayers = _ref4.multilayers,\n        multilayers = _ref4$multilayers === undefined ? false : _ref4$multilayers,\n        _ref4$query_point_tol = _ref4.query_point_tolerance,\n        query_point_tolerance = _ref4$query_point_tol === undefined ? _constant.QUERY_POINT_TOLERANCE : _ref4$query_point_tol,\n        _ref4$addExternal = _ref4.addExternal,\n        addExternal = _ref4$addExternal === undefined ? true : _ref4$addExternal,\n        feature_count = _ref4.feature_count;\n\n    var hasExternalLayersSelected, query, layersFilterObject, layers;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            hasExternalLayersSelected = this.hasExternalLayerSelected({ type: \"vector\" });\n            query = {\n              coordinates: coordinates,\n              type: 'coordinates',\n              external: {\n                add: addExternal,\n                filter: {\n                  SELECTED: hasExternalLayersSelected\n                }\n              }\n            };\n\n            // Return an empty request if an external layer is selected\n\n            if (!(hasExternalLayersSelected && 0 === layerIds.length)) {\n              _context.next = 4;\n              break;\n            }\n\n            return _context.abrupt('return', this.handleRequest(this.getEmptyRequest(), query));\n\n          case 4:\n            layersFilterObject = {\n              QUERYABLE: true,\n              SELECTED_OR_ALL: 0 === layerIds.length,\n              VISIBLE: true\n            };\n\n\n            if (Array.isArray(layerIds)) {\n              layerIds.forEach(function (id) {\n                if (!layersFilterObject.IDS) layersFilterObject.IDS = [];\n                layersFilterObject.IDS.push(id);\n              });\n            }\n\n            layers = getMapLayersByFilter(layersFilterObject);\n\n            // set external property `add: false` in case\n            // of selected layer in order to avoid querying\n            // a temporary layer (external layer)\n\n            if (1 === layers.length && layers[0].isSelected()) {\n              query.external.add = false;\n            }\n\n            return _context.abrupt('return', this.handleRequest(\n            // request\n            getQueryLayersPromisesByCoordinates(\n            // layers\n            layers,\n            // options\n            {\n              multilayers: multilayers,\n              feature_count: feature_count,\n              query_point_tolerance: query_point_tolerance,\n              coordinates: coordinates\n            }),\n            // query\n            query));\n\n          case 9:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  /**\n   *\n   * @param request is a Promise(jquery promise at moment\n   * @returns {Promise<unknown>}\n   */\n  this.handleRequest = function (request) {\n    var _this = this;\n\n    var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return new Promise(function (resolve, reject) {\n      request.then(function (response) {\n        var results = _this.handleResponse(response, query);\n        resolve(results);\n      }).fail(reject);\n    });\n  };\n\n  /**\n   *\n   * @param response\n   * @returns {Promise<{result: boolean, data: [], query: (*|null)}>}\n   */\n  this.handleResponse = function (response) {\n    var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var layersResults = response;\n    var results = {\n      query: query,\n      type: 'ows',\n      data: [],\n      result: true // set result to true\n    };\n    layersResults.forEach(function (result) {\n      return result.data && result.data.forEach(function (data) {\n        return results.data.push(data);\n      });\n    });\n    return results;\n  };\n\n  /**\n   * Exception response has user message attribute\n   */\n  this.returnExceptionResponse = function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_ref5) {\n      var usermessage = _ref5.usermessage;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt('return', {\n                data: [],\n                usermessage: usermessage,\n                result: true,\n                error: true\n              });\n\n            case 1:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n}\n\ninherit(QueryService, BaseService);\n\nexports.default = new QueryService();\n\n},{\"app/constant\":4,\"core/data/service\":5,\"core/i18n/i18n.service\":13,\"core/utils/geo\":64,\"core/utils/utils\":67}],356:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('core/utils/geo'),\n    createOlFeatureFromApiResponseFeature = _require2.createOlFeatureFromApiResponseFeature;\n\nvar BaseService = require('core/data/service');\n\nfunction SearchService() {\n  base(this);\n  // method to searchfeature features\n  this.features = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { layer: layer, search_endpoint: search_endpoint, filter: filter, raw: false, queryUrl: queryUrl, feature_count: feature_count, ordering: ordering };\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt('return', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var promisesSearch, layer, params, _options$raw, raw, filter, dataSearch, layers, provider, promise, responses;\n\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      promisesSearch = [];\n                      layer = options.layer, params = _objectWithoutProperties(options, ['layer']);\n                      _options$raw = options.raw, raw = _options$raw === undefined ? false : _options$raw, filter = options.filter;\n                      dataSearch = {\n                        data: [],\n                        query: {\n                          type: 'search',\n                          search: filter\n                        },\n                        type: params.search_endpoint\n                      };\n                      // check if layer is array\n\n                      layers = Array.isArray(layer) ? layer : [layer];\n                      //check if filter is array\n\n                      params.filter = Array.isArray(params.filter) ? params.filter : [params.filter];\n                      // if api or ows search_endpoint\n                      if (params.search_endpoint === 'api') layers.forEach(function (layer, index) {\n                        return promisesSearch.push(layer.searchFeatures(_extends({}, params, {\n                          filter: params.filter[index]\n                        })));\n                      });else {\n                        // need to get query provider for get one request only\n                        provider = layers[0].getProvider('search');\n                        promise = new Promise(function (resolve, reject) {\n                          provider.query(_extends({}, params, {\n                            layers: layers\n                          }, layers[0].getSearchParams()) // nee to get search params\n                          ).then(function (data) {\n                            resolve({\n                              data: data\n                            });\n                          }).fail(reject);\n                        });\n\n                        promisesSearch.push(promise);\n                      }\n                      _context.next = 9;\n                      return Promise.allSettled(promisesSearch);\n\n                    case 9:\n                      responses = _context.sent;\n\n                      responses.forEach(function () {\n                        var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                            status = _ref3.status,\n                            value = _ref3.value;\n\n                        // need to filter only fulfilled response\n                        if (status === 'fulfilled') {\n                          if (raw) {\n                            dataSearch.data.push(params.search_endpoint === 'api' ? {\n                              data: value\n                            } : value);\n                          } else {\n                            var _value$data = value.data,\n                                data = _value$data === undefined ? [] : _value$data;\n\n                            params.search_endpoint === 'api' ? data.length && dataSearch.data.push(data[0]) : dataSearch.data = data;\n                          }\n                        }\n                      });\n                      return _context.abrupt('return', dataSearch);\n\n                    case 12:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, this);\n            }))());\n\n          case 1:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  /**\n   * Method to return feature from api\n   * @param layer\n   * @param fid\n   * @returns {Promise<{data: [], layer}|{data: [{features: ([*]|[]), query: {type: string}, layer: *}]}>}\n   */\n  this.fids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref5.layer,\n        _ref5$formatter = _ref5.formatter,\n        formatter = _ref5$formatter === undefined ? 0 : _ref5$formatter,\n        _ref5$fids = _ref5.fids,\n        fids = _ref5$fids === undefined ? [] : _ref5$fids;\n\n    var response, features;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            response = {\n              data: [{\n                layer: layer,\n                features: []\n              }],\n              query: {\n                type: 'search'\n              }\n            };\n            _context3.prev = 1;\n            _context3.t0 = layer;\n\n            if (!_context3.t0) {\n              _context3.next = 7;\n              break;\n            }\n\n            _context3.next = 6;\n            return layer.getFeatureByFids({ fids: fids, formatter: formatter });\n\n          case 6:\n            _context3.t0 = _context3.sent;\n\n          case 7:\n            features = _context3.t0;\n\n            features && features.forEach(function (feature) {\n              return response.data[0].features.push(createOlFeatureFromApiResponseFeature(feature));\n            });\n            _context3.next = 13;\n            break;\n\n          case 11:\n            _context3.prev = 11;\n            _context3.t1 = _context3['catch'](1);\n\n          case 13:\n            return _context3.abrupt('return', response);\n\n          case 14:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[1, 11]]);\n  }));\n\n  /**\n   * Search service function to load many layers with each one with its fids\n   * @param layers: Array of layers that we want serach fids features\n   * @param fids: Array of array of fids\n   * @param formatter: how we want visualize\n   * @returns {Promise<void>}\n   */\n  this.layersfids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var _this = this;\n\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref7$layers = _ref7.layers,\n        layers = _ref7$layers === undefined ? [] : _ref7$layers,\n        _ref7$fids = _ref7.fids,\n        fids = _ref7$fids === undefined ? [] : _ref7$fids,\n        _ref7$formatter = _ref7.formatter,\n        formatter = _ref7$formatter === undefined ? 0 : _ref7$formatter;\n\n    var promises, response, layersresponses;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            promises = [];\n            response = {\n              data: [],\n              query: {\n                type: 'search'\n              }\n            };\n\n            layers.forEach(function (layer, index) {\n              promises.push(_this.fids({\n                layer: layer,\n                fids: fids[index],\n                formatter: formatter\n              }));\n            });\n            _context4.prev = 3;\n            _context4.next = 6;\n            return Promise.all(promises);\n\n          case 6:\n            layersresponses = _context4.sent;\n\n            layersresponses.forEach(function (layerresponse) {\n              return response.data.push(layerresponse.data);\n            });\n            _context4.next = 13;\n            break;\n\n          case 10:\n            _context4.prev = 10;\n            _context4.t0 = _context4['catch'](3);\n\n            console.log(_context4.t0);\n\n          case 13:\n            return _context4.abrupt('return', response);\n\n          case 14:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[3, 10]]);\n  }));\n}\n\ninherit(SearchService, BaseService);\n\nexports.default = new SearchService();\n\n},{\"core/data/service\":5,\"core/utils/geo\":64,\"core/utils/utils\":67}],357:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _dataExpression = require('services/data-expression');\n\nvar _dataExpression2 = _interopRequireDefault(_dataExpression);\n\nvar _dataOws = require('services/data-ows');\n\nvar _dataOws2 = _interopRequireDefault(_dataOws);\n\nvar _dataProxy = require('services/data-proxy');\n\nvar _dataProxy2 = _interopRequireDefault(_dataProxy);\n\nvar _dataQuery = require('services/data-query');\n\nvar _dataQuery2 = _interopRequireDefault(_dataQuery);\n\nvar _dataSearch = require('services/data-search');\n\nvar _dataSearch2 = _interopRequireDefault(_dataSearch);\n\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /**\n                                                                                                                                                                                                     * @file\n                                                                                                                                                                                                     * @since v3.6\n                                                                                                                                                                                                     */\n\nvar _require = require('core/utils/utils'),\n    splitContextAndMethod = _require.splitContextAndMethod;\n\nfunction DataService() {\n  //set deafult outputplace\n  this.defaultoutputplaces = ['gui'];\n  // set current outputplaces\n  this.currentoutputplaces = [].concat(_toConsumableArray(this.defaultoutputplaces)); // array contains all\n\n  /**\n   * Object contain output function to show results\n   * @type {{gui(*=, *=): void, iframe(*=, *=): void}}\n   * dataPromise: is thre promise request for data,\n   * options: {\n   *   show: method or Boolean to set if show or not the result on output\n   *   before : async function to handle data return from server\n   *   after: method to handle or do some thisn after show data\n   * }\n   */\n  this.ouputplaces = {\n    gui: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(dataPromise) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.setLoadingContent(true);\n                _context.prev = 1;\n\n                _gui2.default.outputDataPlace(dataPromise, options);\n                _context.next = 5;\n                return dataPromise;\n\n              case 5:\n                _context.next = 9;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context['catch'](1);\n\n              case 9:\n                _gui2.default.setLoadingContent(false);\n\n              case 10:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 7]]);\n      }));\n\n      function gui(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return gui;\n    }(),\n    iframe: function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(dataPromise) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _iframePlugin2.default.outputDataPlace(dataPromise, options);\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function iframe(_x4) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return iframe;\n    }()\n  };\n\n  /**\n   *\n   * @returns {Promise<void>}\n   */\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            this.services = {\n              query: _dataQuery2.default,\n              search: _dataSearch2.default,\n              expression: _dataExpression2.default,\n              proxy: _dataProxy2.default,\n              ows: _dataOws2.default\n            };\n\n          case 1:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  /**\n   *\n   * @param contextAndMethod 'String contain type of service(search or query): method'\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.getData = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(contextAndMethod) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _splitContextAndMetho, context, method, service, _options$inputs, inputs, _options$outputs, outputs, dataPromise, data;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _splitContextAndMetho = splitContextAndMethod(contextAndMethod), context = _splitContextAndMetho.context, method = _splitContextAndMetho.method;\n              service = this.getService(context);\n              _options$inputs = options.inputs, inputs = _options$inputs === undefined ? {} : _options$inputs, _options$outputs = options.outputs, outputs = _options$outputs === undefined ? {} : _options$outputs;\n              //return a promise and not the data\n\n              dataPromise = service[method](inputs);\n\n              outputs && this.currentoutputplaces.forEach(function (place) {\n                _this.ouputplaces[place](dataPromise, outputs);\n              });\n              //return always data\n              _context4.next = 7;\n              return dataPromise;\n\n            case 7:\n              data = _context4.sent;\n              _context4.next = 10;\n              return data;\n\n            case 10:\n              return _context4.abrupt('return', _context4.sent);\n\n            case 11:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    return function (_x6) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  /**\n   *Force to show empty output data\n   *\n   * */\n  this.showEmptyOutputs = function () {\n    var _this2 = this;\n\n    var dataPromise = Promise.resolve({\n      data: []\n    });\n    this.currentoutputplaces.forEach(function (place) {\n      _this2.ouputplaces[place](dataPromise);\n    });\n  };\n\n  /**\n   * Set a costum datapromiseoutput to applicationa outputs settede\n   * @param dataPromise\n   */\n  this.showCustomOutputDataPromise = function (dataPromise) {\n    var _this3 = this;\n\n    this.currentoutputplaces.forEach(function (place) {\n      _this3.ouputplaces[place](dataPromise, {});\n    });\n  };\n\n  /**\n   *\n   * @param serviceName\n   * @returns {*}\n   */\n  this.getService = function (serviceName) {\n    return this.services[serviceName];\n  };\n\n  /*\n  * */\n  this.setOutputPlaces = function () {\n    var places = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.currentoutputplaces = places;\n  };\n\n  /**\n   *\n   * @param place\n   */\n  this.addCurrentOutputPlace = function (place) {\n    place && this.currentoutputplaces.indexOf(place) === -1 && this.currentoutputplaces.push(place);\n  };\n\n  /**\n   *\n   * @param place\n   * @param method has to get two parameters data (promise) and options (Object)\n   * ex {\n   * place: <newplace>\n   * method(dataPromise, options={}){}\n   *   }\n   */\n  this.addNewOutputPlace = function () {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        place = _ref5.place,\n        _ref5$method = _ref5.method,\n        method = _ref5$method === undefined ? function () {} : _ref5$method;\n\n    var added = false;\n    if (this.ouputplaces[place] === undefined) {\n      this.ouputplaces[place] = method;\n      added = true;\n    }\n    return added;\n  };\n\n  // reset default configuration\n  this.resetDefaultOutput = function () {\n    this.currentoutputplaces = [].concat(_toConsumableArray(this.defaultoutputplaces));\n  };\n}\n\nexports.default = new DataService();\n\n},{\"core/utils/utils\":67,\"services/data-expression\":352,\"services/data-ows\":353,\"services/data-proxy\":354,\"services/data-query\":355,\"services/data-search\":356,\"services/gui\":360,\"services/iframe-plugin\":363}],358:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\n//lass that is usefult to apply changes to features (undo/redo) singleton\nfunction ChangesManager() {\n  this.execute = function (object, items, reverse) {\n    var fnc = void 0;\n    var feature = void 0;\n    items.forEach(function (item) {\n      feature = item.feature;\n      if (reverse) {\n        // change to opposite\n        feature[ChangesManager.Actions[feature.getState()].opposite]();\n      }\n      // get method from object\n      fnc = ChangesManager.Actions[feature.getState()].fnc;\n      object[fnc](feature);\n    });\n  };\n}\n\n// know actions\nChangesManager.Actions = {\n  'add': {\n    fnc: 'addFeature',\n    opposite: 'delete'\n  },\n  'delete': {\n    fnc: 'removeFeature',\n    opposite: 'add'\n  },\n  'update': {\n    fnc: 'updateFeature',\n    opposite: 'update'\n  }\n};\n\nexports.default = new ChangesManager();\n\n},{}],359:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('gui/utils/utils'),\n    Stack = _require.barstack; /**\n                                * @file\n                                * @since v3.7\n                                */\n\nfunction FloatbarService() {\n  this.stack = new Stack();\n  this.init = function (layout) {\n    this.layout = layout;\n    this.sidebarEl = $(this.layout.options.controlSidebarOptions.selector);\n    this._zindex = this.sidebarEl.css(\"z-index\");\n    this._modalOverlay = null;\n    this._modal = false;\n    this._isopen = false;\n  };\n\n  this.isOpen = function () {\n    return this._isopen;\n  };\n\n  this.open = function () {\n    this.layout.floatBar.open(this.sidebarEl, true);\n    this._isopen = true;\n  };\n\n  this.close = function () {\n    this.layout.floatBar.close(this.sidebarEl, true);\n    this._isopen = false;\n  };\n\n  this.showPanel = function (panel, options) {\n    options = options || {};\n    var append = options.append || false;\n    var modal = options.modal || false;\n    options.parent = \"#g3w-floatbarpanel-placeholder\";\n    this.stack.push(panel, options);\n    if (!this._isopen) this.open();\n  };\n\n  this.closePanel = function (panel) {\n    if (panel) this.stack.remove(panel);else this.stack.pop();\n    if (!this.stack.getLength()) {\n      if (this._modal) {\n        _gui2.default.setModal(false);\n        this.close();\n        $('.control-sidebar-bg').toggleClass('control-sidebar-bg-shadow');\n        this.sidebarEl.css(\"z-index\", \"\");\n        this.sidebarEl.css(\"padding-top\", \"50px\");\n        $('.control-sidebar-bg').css(\"z-index\", \"\");\n        this._modal = false;\n      } else this.close();\n    }\n  };\n\n  this.hidePanel = function () {\n    this.close();\n  };\n}\n\nexports.default = new FloatbarService();\n\n},{\"gui/utils/utils\":188,\"services/gui\":360}],360:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    noop = _require.noop;\n\nvar G3WObject = require('core/g3wobject');\n\n// API della GUI.\n// methods have be defined by application\n// app should call GUI.ready() when GUI is ready\nfunction GUI() {\n  this.setters = {\n    setContent: function setContent() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.emit('opencontent', true);\n      this._setContent(options);\n    }\n  };\n  this.isready = false;\n  // images urls\n  this.getResourcesUrl = noop;\n  // show a Vue form\n  this.showForm = noop;\n  this.closeForm = noop;\n  this.showListing = noop;\n  this.closeListing = noop;\n  this.hideListing = noop;\n  // modal\n  this.setModal = noop;\n  this.showFullModal = noop;\n  // modal\n  this.showQueryResults = noop;\n  this.hideQueryResults = noop;\n  this.showPanel = noop;\n  this.hidePanel = noop;\n  this.reloadComponents = noop;\n  this.showUserMessage = noop;\n  this.closeUserMessage = noop;\n  this.showModalDialog = noop;\n  //property to how result has to be add or close all and show new\n  // false mean create new and close all open\n  this.push_content = false;\n  this.setPushContent = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.push_content = bool;\n  };\n  this.getPushContent = function () {\n    return this.push_content;\n  };\n  this._closeUserMessageBeforeSetContent = true;\n  this.setComponent = function (component) {\n    _components2.default.registerComponent(component);\n  };\n  this.getComponent = function (id) {\n    return _components2.default.getComponent(id);\n  };\n  this.getComponents = function () {\n    return _components2.default.getComponents();\n  };\n\n  this.goto = function (url) {\n    _router2.default.goto(url);\n  };\n  this.ready = function () {\n    this.emit('ready');\n    this.isready = true;\n  };\n  this.guiResized = function () {\n    this.emit('guiresized');\n  };\n  //ready GUI\n  this.isReady = function () {\n    var _this = this;\n\n    return new Promise(function (resolve) {\n      return _this.isready ? resolve() : _this.once('ready', resolve);\n    });\n  };\n  /**\n   * Passing a component application ui id return service that belong to component\n   * @param componentId\n   * @returns {*}\n   */\n  this.getService = function (componentId) {\n    var component = this.getComponent(componentId);\n    return component && component.getService();\n  };\n  /* spinner */\n  this.showSpinner = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  };\n  this.hideSpinner = function (id) {};\n  /* end spinner */\n  this.notify = noop;\n  this.dialog = noop;\n  this.isMobile = noop;\n  //useful to registere setters\n  base(this);\n}\n\ninherit(GUI, G3WObject);\n\nexports.default = new GUI();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/router\":367,\"store/components\":374}],361:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseService = require('core/iframe/services/baseservice');\n\nfunction AppService() {\n  base(this);\n  this.mapControls = {\n    screenshot: {\n      control: null\n    },\n    changeMap: {\n      control: null\n    }\n  };\n\n  /**\n   * Init service\n   * @returns {Promise<unknown>}\n   */\n  this.init = function () {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      _this.mapService.once('ready', function () {\n        _this._map = _this.mapService.getMap();\n        _this._mapCrs = _this.mapService.getCrs();\n        _this.mapControls.screenshot.control = _this.mapService.getMapControlByType({\n          type: 'screenshot'\n        });\n        _this.setReady(true);\n        resolve();\n      });\n    });\n  };\n  /**\n   *\n   * @returns {Promise<void>}\n   */\n  this.results = function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var _ref$capture = _ref.capture,\n          capture = _ref$capture === undefined ? true : _ref$capture;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              capture ? _data2.default.setOutputPlaces(['iframe']) : _data2.default.resetDefaultOutput();\n              return _context.abrupt('return', []);\n\n            case 2:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  this.screenshot = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(_ref3) {\n      var _this2 = this;\n\n      var _ref3$capture = _ref3.capture,\n          capture = _ref3$capture === undefined ? true : _ref3$capture;\n      var action;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              action = 'app:screenshot';\n\n              capture ? this.mapControls.screenshot.control.overwriteOnClickEvent(_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n                var blob;\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        _context2.prev = 0;\n                        _context2.next = 3;\n                        return _this2.mapService.createMapImage();\n\n                      case 3:\n                        blob = _context2.sent;\n\n                        _this2.emit('response', {\n                          action: action,\n                          response: {\n                            result: true,\n                            data: blob\n                          }\n                        });\n                        _context2.next = 10;\n                        break;\n\n                      case 7:\n                        _context2.prev = 7;\n                        _context2.t0 = _context2['catch'](0);\n\n                        _this2.emit('response', {\n                          action: action,\n                          response: {\n                            result: false,\n                            data: _context2.t0\n                          }\n                        });\n\n                      case 10:\n                      case 'end':\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2, _this2, [[0, 7]]);\n              }))) : this.mapControls.screenshot.control.resetOriginalOnClickEvent();\n\n            case 2:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    return function (_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  /**\n   * Eventually send as param the projection in which we would like get center of map\n   * @param params\n   * @returns {Promise<void>}\n   */\n  this.getcenter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt('return', this.mapService.getCenter());\n\n          case 1:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  /**\n   * Zoom to coordinates\n   * @param params\n   * @returns {Promise<[]>}\n   */\n  this.zoomtocoordinates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _params$coordinates, coordinates, _params$highlight, highlight;\n\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _params$coordinates = params.coordinates, coordinates = _params$coordinates === undefined ? [] : _params$coordinates, _params$highlight = params.highlight, highlight = _params$highlight === undefined ? false : _params$highlight;\n\n            if (!(coordinates && Array.isArray(coordinates) && coordinates.length === 2)) {\n              _context5.next = 6;\n              break;\n            }\n\n            this.mapService.zoomTo(coordinates);\n            return _context5.abrupt('return', coordinates);\n\n          case 6:\n            return _context5.abrupt('return', Promise.reject(coordinates));\n\n          case 7:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n\n  /**\n   * Eventually send as param the projection in which we would like get center of map\n   * @param params\n   * @returns {Promise<void>}\n   */\n  this.getextent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            return _context6.abrupt('return', this.mapService.getMapExtent());\n\n          case 1:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  /**\n   *\n   * @param params\n   * @returns {Promise<[]>}\n   */\n  this.zoomtoextent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _params$extent, extent;\n\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _params$extent = params.extent, extent = _params$extent === undefined ? [] : _params$extent;\n\n            if (!(extent && Array.isArray(extent) && extent.length === 4)) {\n              _context7.next = 6;\n              break;\n            }\n\n            this.mapService.goToBBox(extent);\n            return _context7.abrupt('return', extent);\n\n          case 6:\n            return _context7.abrupt('return', Promise.reject(extent));\n\n          case 7:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  //method to zoom to features\n  this.zoomtofeature = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9() {\n    var _this3 = this;\n\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            return _context9.abrupt('return', new Promise(function () {\n              var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(resolve, reject) {\n                var qgs_layer_id, feature, _params$highlight2, highlight, response;\n\n                return regeneratorRuntime.wrap(function _callee8$(_context8) {\n                  while (1) {\n                    switch (_context8.prev = _context8.next) {\n                      case 0:\n                        qgs_layer_id = params.qgs_layer_id, feature = params.feature, _params$highlight2 = params.highlight, highlight = _params$highlight2 === undefined ? false : _params$highlight2;\n\n                        qgs_layer_id = _this3.getQgsLayerId({\n                          qgs_layer_id: qgs_layer_id\n                        });\n\n                        _context8.next = 4;\n                        return _this3.findFeaturesWithGeometry({\n                          qgs_layer_id: qgs_layer_id,\n                          feature: feature,\n                          zoom: true,\n                          highlight: highlight\n                        });\n\n                      case 4:\n                        response = _context8.sent;\n\n\n                        resolve(response.qgs_layer_id);\n\n                      case 6:\n                      case 'end':\n                        return _context8.stop();\n                    }\n                  }\n                }, _callee8, _this3);\n              }));\n\n              return function (_x8, _x9) {\n                return _ref11.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case 'end':\n            return _context9.stop();\n        }\n      }\n    }, _callee9, this);\n  }));\n}\n\ninherit(AppService, BaseService);\n\nexports.default = new AppService();\n\n},{\"core/iframe/services/baseservice\":15,\"core/utils/utils\":67,\"services/data\":357}],362:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar BasePluginService = require('core/iframe/services/plugins/service');\n\nvar _g3wsdk$core$utils = g3wsdk.core.utils,\n    base = _g3wsdk$core$utils.base,\n    inherit = _g3wsdk$core$utils.inherit;\n\n\nfunction EditingService() {\n  var _this2 = this;\n\n  base(this);\n  this.pluginName = 'editing';\n  this.subscribevents = [];\n  this.isRunning = false;\n  this.responseObject = {\n    cb: null, // resolve or reject promise method\n    qgs_layer_id: null,\n    error: null\n  };\n  this.config = {\n    tools: {\n      add: {\n        disabled: [{\n          id: 'deletefeature'\n        }, {\n          id: 'copyfeatures'\n        }, {\n          id: 'editmultiattributes'\n        }, {\n          id: 'deletePart'\n        }, {\n          id: 'splitfeature'\n        }, {\n          id: 'mergefeatures'\n        }]\n      },\n      update: {\n        disabled: [{\n          id: 'addfeature'\n        }, {\n          id: 'copyfeatures'\n        }, {\n          id: 'deletefeature'\n        }, {\n          id: 'editmultiattributes'\n        }, {\n          id: 'deletePart'\n        }, {\n          id: 'splitfeature'\n        }, {\n          id: 'mergefeatures'\n        }]\n      },\n      delete: {\n        enabled: [{\n          id: 'deletefeature',\n          options: {\n            active: true\n          }\n        }]\n      }\n    }\n  };\n\n  // METHODS CALLED FROM EACH ACTION METHOD\n  // run before each action\n  this.startAction = function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var _this = this;\n\n      var toolboxes = _ref.toolboxes,\n          resolve = _ref.resolve,\n          reject = _ref.reject;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.responseObject.cb = reject;\n              // set same mode autosave\n              this.dependencyApi.setSaveConfig({\n                cb: {\n                  done: function done(toolbox) {\n                    //set toolbox id\n                    _this.responseObject.cb = resolve;\n                    _this.responseObject.qgs_layer_id = toolbox.getId();\n                    _this.responseObject.error = null;\n                    // close panel that fire closeediting panel event\n                    _this.dependencyApi.hidePanel();\n                  }, // called when commit changes is done successuffly\n                  error: function error(toolbox, _error) {\n                    _this.responseObject.cb = reject;\n                    _this.responseObject.qgs_layer_id = toolbox.getId();\n                    _this.responseObject.error = _error;\n                  } // called whe commit change receive an error\n                }\n              });\n              // set toolboxes visible base on value of qgs_layer_id\n              this.dependencyApi.showPanel({\n                toolboxes: toolboxes\n              });\n              this.isRunning = true;\n\n            case 4:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  //run after each action\n  this.stopAction = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var qgs_layer_id;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            qgs_layer_id = options.qgs_layer_id;\n            _context2.t0 = qgs_layer_id;\n\n            if (!_context2.t0) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 5;\n            return this.stopEditing(qgs_layer_id);\n\n          case 5:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  //// subscribers handlers\n  this.subscribersHandlers = {\n    canUndo: function canUndo(_ref4) {\n      var activeTool = _ref4.activeTool,\n          _ref4$disableToolboxe = _ref4.disableToolboxes,\n          disableToolboxes = _ref4$disableToolboxe === undefined ? [] : _ref4$disableToolboxe;\n      return function (bool) {\n        //set currenttoolbocx id in editing to null\n        if (bool === false) {\n          _this2.responseObject.qgs_layer_id = null;\n          _this2.responseObject.error = null;\n        }\n        activeTool.setEnabled(!bool);\n        disableToolboxes.forEach(function (toolbox) {\n          return toolbox.setEditing(!bool);\n        });\n      };\n    },\n    canRedo: function canRedo() {},\n    cancelform: function cancelform(cb) {\n      return function () {\n        cb();\n      };\n    }, //run callback\n    addfeature: function addfeature() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          properties = _ref5.properties,\n          toolboxes = _ref5.toolboxes;\n\n      return function (feature) {\n        Object.keys(properties).forEach(function (property) {\n          return feature.set(property, properties[property]);\n        });\n        var activeTool = void 0;\n        var disableToolboxes = [];\n        toolboxes.forEach(function (toolbox) {\n          var addFeatureTool = toolbox.getToolById('addfeature');\n          if (addFeatureTool.isActive()) {\n            addFeatureTool.setEnabled(false);\n            activeTool = addFeatureTool;\n          } else {\n            toolbox.setEditing(false);\n            disableToolboxes.push(toolbox);\n          }\n        });\n        //just one time\n        if (_this2.subscribevents.find(function (eventObject) {\n          return eventObject.event !== 'canUndo';\n        })) {\n          var handler = _this2.addSubscribeEvents('canUndo', {\n            activeTool: activeTool,\n            disableToolboxes: disableToolboxes\n          });\n          _this2.addSubscribeEvents('cancelform', handler);\n        }\n      };\n    },\n    closeeditingpanel: function closeeditingpanel(_ref6) {\n      var qgs_layer_id = _ref6.qgs_layer_id;\n      return function () {\n        // response to router service\n        _this2.responseObject.cb({\n          qgs_layer_id: _this2.responseObject.qgs_layer_id,\n          error: _this2.responseObject.error\n        });\n        // stop action\n        _this2.stopAction({ qgs_layer_id: qgs_layer_id });\n      };\n    }\n  };\n\n  // method to add subscribe refenrence\n  this.addSubscribeEvents = function (event) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var handler = this.subscribersHandlers[event](options);\n    this.dependencyApi.subscribe(event, handler);\n    this.subscribevents.push({\n      event: event,\n      handler: handler\n    });\n    return handler;\n  };\n\n  /**\n   * Reset subscriber editing plugin events\n   */\n  this.resetSubscribeEvents = function () {\n    var _this3 = this;\n\n    this.subscribevents.forEach(function (_ref7) {\n      var event = _ref7.event,\n          handler = _ref7.handler;\n\n      _this3.dependencyApi.unsubscribe(event, handler);\n    });\n  };\n\n  /**\n   * Method called whe we want add a feature\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.add = function () {\n    var _this4 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new Promise(function () {\n      var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n        var configQglLayerId, data, properties, qgs_layer_id, options, toolboxes, toolbox;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!_this4.isRunning) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                reject();\n                _context3.next = 19;\n                break;\n\n              case 4:\n                // extract qgslayerid from configuration message\n                configQglLayerId = config.qgs_layer_id, data = _objectWithoutProperties(config, ['qgs_layer_id']);\n                properties = data.properties;\n                qgs_layer_id = _this4.getQgsLayerId({\n                  qgs_layer_id: configQglLayerId,\n                  noValue: _this4.dependencyApi.getEditableLayersId()\n                });\n                //call method common\n\n                _context3.next = 9;\n                return _this4.startAction({\n                  toolboxes: qgs_layer_id,\n                  resolve: resolve,\n                  reject: reject\n                });\n\n              case 9:\n\n                // create options\n                options = {\n                  tools: _this4.config.tools.add,\n                  startstopediting: false,\n                  action: 'add',\n                  selected: qgs_layer_id.length === 1\n                };\n                // return all toolboxes\n\n                _context3.next = 12;\n                return _this4.startEditing(qgs_layer_id, options);\n\n              case 12:\n                toolboxes = _context3.sent;\n\n                toolboxes = toolboxes.filter(function (toolboxPromise) {\n                  return toolboxPromise.status === 'fulfilled';\n                }).map(function (toolboxPromise) {\n                  return toolboxPromise.value;\n                });\n                !_gui2.default.isSidebarVisible() && _gui2.default.showSidebar();\n                toolbox = toolboxes.length === 1 && toolboxes[0];\n\n                toolbox && toolbox.setActiveTool(toolbox.getToolById('addfeature'));\n                // // in case of no feature add avent subscribe\n                _this4.addSubscribeEvents('addfeature', { properties: properties, toolboxes: toolboxes });\n                _this4.addSubscribeEvents('closeeditingpanel', { qgs_layer_id: qgs_layer_id });\n\n              case 19:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this4);\n      }));\n\n      return function (_x6, _x7) {\n        return _ref8.apply(this, arguments);\n      };\n    }());\n  };\n\n  /**\n   * Method called when we want update a know feature field\n   * @param config\n   * @returns {Promise<unknown>}\n   */\n  this.update = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    var _this5 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            return _context5.abrupt('return', new Promise(function () {\n              var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(resolve, reject) {\n                var configQglLayerId, data, feature, qgs_layer_id, response, found, options;\n                return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                  while (1) {\n                    switch (_context4.prev = _context4.next) {\n                      case 0:\n                        if (!_this5.isRunning) {\n                          _context4.next = 4;\n                          break;\n                        }\n\n                        reject();\n                        _context4.next = 22;\n                        break;\n\n                      case 4:\n                        configQglLayerId = config.qgs_layer_id, data = _objectWithoutProperties(config, ['qgs_layer_id']);\n                        feature = data.feature;\n                        qgs_layer_id = _this5.getQgsLayerId({\n                          qgs_layer_id: configQglLayerId,\n                          noValue: _this5.dependencyApi.getEditableLayersId()\n                        });\n                        _context4.next = 9;\n                        return _this5.findFeaturesWithGeometry({\n                          qgs_layer_id: qgs_layer_id,\n                          feature: feature,\n                          zoom: true,\n                          highlight: true,\n                          selected: qgs_layer_id.length === 1 // set selected toolbox\n                        });\n\n                      case 9:\n                        response = _context4.sent;\n                        found = response.found;\n\n                        if (!found) {\n                          _context4.next = 21;\n                          break;\n                        }\n\n                        _context4.next = 14;\n                        return _this5.startAction({\n                          toolboxes: [response.qgs_layer_id],\n                          resolve: resolve,\n                          reject: reject\n                        });\n\n                      case 14:\n\n                        // create options\n                        options = {\n                          feature: feature,\n                          tools: _this5.config.tools.update,\n                          startstopediting: false,\n                          action: 'update'\n                        };\n\n                        // return all toolboxes\n\n                        _context4.next = 17;\n                        return _this5.startEditing([response.qgs_layer_id], options);\n\n                      case 17:\n                        !_gui2.default.isSidebarVisible() && _gui2.default.showSidebar();\n                        _this5.addSubscribeEvents('closeeditingpanel', {\n                          qgs_layer_id: [response.qgs_layer_id]\n                        });\n                        _context4.next = 22;\n                        break;\n\n                      case 21:\n                        reject();\n\n                      case 22:\n                      case 'end':\n                        return _context4.stop();\n                    }\n                  }\n                }, _callee4, _this5);\n              }));\n\n              return function (_x9, _x10) {\n                return _ref10.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n\n  this.delete = function () {};\n\n  /**\n   * Start editing called when we want to start editing\n   * @param qgs_layer_id\n   * @param options\n   * @returns {Promise<unknown|void>}\n   */\n  this.startEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n    var _this6 = this;\n\n    var qgs_layer_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var _options$action, action, feature, filter, startEditingPromise;\n\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _options$action = options.action, action = _options$action === undefined ? 'add' : _options$action, feature = options.feature;\n            filter = {};\n\n            options.filter = filter;\n            _context6.t0 = action;\n            _context6.next = _context6.t0 === 'add' ? 6 : _context6.t0 === 'update' ? 8 : 10;\n            break;\n\n          case 6:\n            filter.nofeatures = true;\n            return _context6.abrupt('break', 10);\n\n          case 8:\n            filter.field = feature.field + '|eq|' + feature.value;\n            return _context6.abrupt('break', 10);\n\n          case 10:\n            startEditingPromise = [];\n\n            qgs_layer_id.forEach(function (layerid) {\n              startEditingPromise.push(_this6.dependencyApi.startEditing(layerid, options));\n            });\n            _context6.next = 14;\n            return Promise.allSettled(startEditingPromise);\n\n          case 14:\n            return _context6.abrupt('return', _context6.sent);\n\n          case 15:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  /**\n   * Stop editing\n   * @param qgs_layer_id\n   * @returns {Promise<unknown>}\n   */\n  this.stopEditing = function () {\n    var _ref12 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(qgs_layer_id) {\n      var _this7 = this;\n\n      var stopEditingPromises;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              stopEditingPromises = [];\n\n              qgs_layer_id.forEach(function (layerid) {\n                stopEditingPromises.push(_this7.dependencyApi.stopEditing(layerid));\n              });\n              _context7.next = 4;\n              return Promise.allSettled(stopEditingPromises);\n\n            case 4:\n              this.clear();\n\n            case 5:\n            case 'end':\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }));\n\n    return function (_x13) {\n      return _ref12.apply(this, arguments);\n    };\n  }();\n\n  this.stop = function () {\n    var _this8 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this8.dependencyApi.hidePanel();\n      _gui2.default.hideSidebar();\n      _this8.once('clear', resolve);\n    });\n  };\n\n  /**\n   * Method called wen we want to reset default editing plugin behaviour\n   *\n   * */\n  this.clear = function () {\n    this.dependencyApi.resetDefault();\n    this.isRunning = false;\n    this.responseObject = {\n      cb: null, // resolve or reject promise method\n      qgs_layer_id: null,\n      error: null\n    };\n    this.resetSubscribeEvents();\n    this.emit('clear');\n  };\n}\n\ninherit(EditingService, BasePluginService);\n\nexports.default = new EditingService();\n\n},{\"core/iframe/services/plugins/service\":17,\"services/gui\":360}],363:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    splitContextAndMethod = _require.splitContextAndMethod,\n    uniqueId = _require.uniqueId;\n\nfunction IframePluginService() {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  //project is current project send by application service\n  this.pendingactions = {};\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        project = _ref2.project;\n\n    var layers, serviceNames, i, service;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _gui2.default.isReady();\n\n          case 2:\n            this.services = require('core/iframe/services/index');\n            //set eventResponse handler to alla services\n            this.eventResponseServiceHandler = function (_ref3) {\n              var action = _ref3.action,\n                  response = _ref3.response;\n\n              _this.postMessage({\n                id: null,\n                action: action,\n                response: response\n              });\n            };\n            /*\n            get layer attributes from project layers state\n             */\n            layers = project.state.layers.map(function (layer) {\n              return {\n                id: layer.id,\n                name: layer.name\n              };\n            });\n            //initialize all service\n\n            serviceNames = Object.keys(this.services);\n            i = 0;\n\n          case 7:\n            if (!(i < serviceNames.length)) {\n              _context.next = 16;\n              break;\n            }\n\n            service = this.services[serviceNames[i]];\n            // set common layer attribute service just one time\n\n            service.getLayers() === undefined && service.setLayers(layers);\n            _context.next = 12;\n            return service.init();\n\n          case 12:\n            service.on('response', this.eventResponseServiceHandler);\n\n          case 13:\n            i++;\n            _context.next = 7;\n            break;\n\n          case 16:\n            /**\n             * Send post message is ready\n             */\n            this.postMessage({\n              id: null,\n              action: \"app:ready\",\n              response: {\n                result: true,\n                data: {\n                  layers: layers\n                }\n              }\n            });\n\n            if (window.addEventListener) window.addEventListener(\"message\", this.getMessage, false);else window.attachEvent(\"onmessage\", this.getMessage);\n\n          case 18:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  /**\n   * Outputplace iframe get by DataRouteService\n   * @param dataPromise\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.outputDataPlace = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(dataPromise) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _options$action, action, _ref5, result, _ref5$data, data, parser, outputData;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _options$action = options.action, action = _options$action === undefined ? 'app:results' : _options$action;\n              _context2.next = 3;\n              return dataPromise;\n\n            case 3:\n              _ref5 = _context2.sent;\n              result = _ref5.result;\n              _ref5$data = _ref5.data;\n              data = _ref5$data === undefined ? [] : _ref5$data;\n              parser = new ol.format.GeoJSON();\n              outputData = [];\n\n              try {\n                outputData = data.map(function (_ref6) {\n                  var layer = _ref6.layer,\n                      features = _ref6.features;\n                  return _defineProperty({}, layer.getId(), {\n                    features: parser.writeFeatures(features)\n                  });\n                });\n              } catch (err) {\n                result: false;\n                outputData: err;\n              }\n              this.postMessage({\n                id: null,\n                action: action,\n                response: {\n                  result: result,\n                  data: outputData\n                }\n              });\n\n            case 11:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  // method to post message to parent\n  this.postMessage = function () {\n    var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (window.parent) window.parent.postMessage(message, \"*\");\n  };\n\n  this.stopPendingActions = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    var _this2 = this;\n\n    var promises;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            promises = [];\n\n            Object.keys(this.pendingactions).forEach(function (id) {\n              var context = _this2.pendingactions[id].context;\n\n              promises.push(_this2.services[context].stop());\n              delete _this2.pendingactions[id];\n            });\n            return _context3.abrupt('return', Promise.allSettled(promises));\n\n          case 3:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  // method to handle all message from window\n  this.getMessage = function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(evt) {\n      var _evt$data, _evt$data$id, id, _evt$data$single, single, action, params, _splitContextAndMetho, context, method, result, data;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(evt && evt.data)) {\n                _context4.next = 24;\n                break;\n              }\n\n              _evt$data = evt.data, _evt$data$id = _evt$data.id, id = _evt$data$id === undefined ? uniqueId() : _evt$data$id, _evt$data$single = _evt$data.single, single = _evt$data$single === undefined ? true : _evt$data$single, action = _evt$data.action, params = _evt$data.data;\n              _splitContextAndMetho = splitContextAndMethod(action), context = _splitContextAndMetho.context, method = _splitContextAndMetho.method;\n              result = false;\n              data = void 0;\n              _context4.prev = 5;\n\n              if (!_this3.services[context].getReady()) {\n                _context4.next = 16;\n                break;\n              }\n\n              _context4.t0 = single;\n\n              if (!_context4.t0) {\n                _context4.next = 11;\n                break;\n              }\n\n              _context4.next = 11;\n              return _this3.stopPendingActions();\n\n            case 11:\n              _this3.pendingactions[id] = {\n                context: context\n              };\n              _context4.next = 14;\n              return _this3.services[context][method](params);\n\n            case 14:\n              data = _context4.sent;\n\n              result = true;\n\n            case 16:\n              _context4.next = 22;\n              break;\n\n            case 18:\n              _context4.prev = 18;\n              _context4.t1 = _context4['catch'](5);\n\n              result = false;\n              data = _context4.t1;\n\n            case 22:\n              _this3.postMessage({\n                id: id,\n                action: action,\n                response: {\n                  result: result,\n                  data: data\n                }\n              });\n              delete _this3.pendingactions[id];\n\n            case 24:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, _this3, [[5, 18]]);\n    }));\n\n    return function (_x6) {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  // Called when change map or clear\n  this.clear = function () {\n    var serviceNames = Object.keys(this.services);\n    for (var i = 0; i < serviceNames.length; i++) {\n      var service = this.services[serviceNames[i]];\n      service.off('response', this.eventResponseServiceHandler);\n    }\n    this.stopPendingActions();\n    if (window.removeEventListener) window.removeEventListener(\"message\", this.getMessage, false);else window.detachEvent(\"onmessage\", this.getMessage);\n  };\n}\n\nexports.default = new IframePluginService();\n\n},{\"core/iframe/services/index\":16,\"core/utils/utils\":67,\"services/gui\":360}],364:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// service sidebar\nfunction navbaritemsService() {\n  this.state = {\n    items: {\n      left: [],\n      right: []\n    }\n  };\n  this.addItem = function (item) {\n    var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'right';\n\n    this.state.items[position].push(item);\n  };\n\n  base(this);\n}\n\ninherit(navbaritemsService, G3WObject);\n\nexports.default = new navbaritemsService();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],365:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data2 = require('services/data');\n\nvar _data3 = _interopRequireDefault(_data2);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    uniqueId = _require2.uniqueId,\n    createFilterFromString = _require2.createFilterFromString,\n    XHR = _require2.XHR;\n\nvar QUERYBUILDERSEARCHES = 'QUERYBUILDERSEARCHES';\n\nfunction QueryBuilderService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._cacheValues = {};\n  this._items = _application2.default.getLocalItem(QUERYBUILDERSEARCHES) || {};\n}\n\nvar proto = QueryBuilderService.prototype;\n\nproto.getCurrentProjectItems = function () {\n  var projectId = _projects2.default.getCurrentProject().getId();\n  this._items[projectId] = this._items[projectId] || [];\n  return this._items[projectId];\n};\n\nproto.getItems = function (projectId) {\n  var items = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  return items ? items[projectId] || [] : [];\n};\n\nproto._getLayerById = function (layerId) {\n  return _catalogLayers2.default.getLayerById(layerId);\n};\n\nproto.getValues = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref2.layerId,\n      field = _ref2.field;\n\n  var valuesField, layer, dataUrl, response;\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          this._cacheValues[layerId] = this._cacheValues[layerId] || {};\n          valuesField = this._cacheValues[layerId][field];\n\n          if (!(valuesField === undefined)) {\n            _context.next = 18;\n            break;\n          }\n\n          _context.prev = 3;\n          layer = this._getLayerById(layerId);\n          dataUrl = layer.getUrl('data');\n          _context.next = 8;\n          return XHR.get({\n            url: dataUrl,\n            params: {\n              ordering: field,\n              unique: field\n            }\n          });\n\n        case 8:\n          response = _context.sent;\n\n          if (response.result) this._cacheValues[layerId][field] = this._cacheValues[layerId][field] || response.data;\n          return _context.abrupt('return', this._cacheValues[layerId][field] || []);\n\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context['catch'](3);\n\n          reject();\n\n        case 16:\n          _context.next = 19;\n          break;\n\n        case 18:\n          return _context.abrupt('return', valuesField);\n\n        case 19:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[3, 13]]);\n}));\n\nproto.run = function () {\n  var _this = this;\n\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref3.layerId,\n      stringFilter = _ref3.filter,\n      _ref3$showResult = _ref3.showResult,\n      showResult = _ref3$showResult === undefined ? true : _ref3$showResult;\n\n  return new Promise(function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n      var layer, search_endpoint, filter, _ref5, data;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              layer = _this._getLayerById(layerId);\n              search_endpoint = layer.getSearchEndPoint();\n              filter = createFilterFromString({\n                layer: layer,\n                search_endpoint: search_endpoint,\n                filter: stringFilter\n              });\n              _context2.prev = 3;\n              _context2.next = 6;\n              return _data3.default.getData('search:features', {\n                inputs: {\n                  layer: layer,\n                  filter: filter,\n                  search_endpoint: search_endpoint,\n                  feature_count: 100\n                },\n                outputs: showResult\n              });\n\n            case 6:\n              _ref5 = _context2.sent;\n              data = _ref5.data;\n\n              resolve(data);\n              _context2.next = 15;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2['catch'](3);\n\n              _gui2.default.showUserMessage({\n                type: 'alert',\n                message: 'sdk.querybuilder.error_run',\n                autoclose: true\n              });\n              reject(_context2.t0);\n\n            case 15:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, _this, [[3, 11]]);\n    }));\n\n    return function (_x4, _x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};\n\nproto.test = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref7.layerId,\n      filter = _ref7.filter;\n\n  var data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return this.run({\n            layerId: layerId,\n            filter: filter,\n            showResult: false\n          });\n\n        case 3:\n          data = _context3.sent;\n          return _context3.abrupt('return', data.length && data[0].features.length);\n\n        case 7:\n          _context3.prev = 7;\n          _context3.t0 = _context3['catch'](0);\n\n          _context3.t0 = t('sdk.querybuilder.error_test');\n          return _context3.abrupt('return', Promise.reject(_context3.t0));\n\n        case 11:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[0, 7]]);\n}));\n\nproto.delete = function () {\n  var _this2 = this;\n\n  var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref8.id;\n\n  return new Promise(function (resolve, reject) {\n    _gui2.default.dialog.confirm(t('sdk.querybuilder.delete'), function (result) {\n      if (result) {\n        var querybuildersearches = _this2.getItems().filter(function (item) {\n          return item.id !== id;\n        });\n        var projectId = _projects2.default.getCurrentProject().getId();\n        var saveitems = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n        if (querybuildersearches.length) saveitems[projectId] = querybuildersearches;else delete saveitems[projectId];\n        if (Object.keys(saveitems).length) _application2.default.setLocalItem({\n          id: QUERYBUILDERSEARCHES,\n          data: saveitems\n        });else _application2.default.removeLocalItem(QUERYBUILDERSEARCHES);\n        resolve();\n      } else reject();\n    });\n  });\n};\n\nproto.editLocalItem = function (projectId, querybuildersearch) {\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  var querybuildersearches = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  querybuildersearches[projectId].find(function (_querybuildersearch, index) {\n    if (_querybuildersearch.id === querybuildersearch.id) {\n      querybuildersearches[projectId][index] = querybuildersearch;\n      return true;\n    }\n  });\n  _application2.default.setLocalItem({\n    id: QUERYBUILDERSEARCHES,\n    data: querybuildersearches\n  });\n  this._resetItems(projectId, querybuildersearches[projectId]);\n};\n\nproto._resetItems = function (projectId, querybuildersearches) {\n  var _this3 = this;\n\n  setTimeout(function () {\n    querybuildersearches.forEach(function (querybuildersearch) {\n      return _this3._items[projectId].push(querybuildersearch);\n    });\n  }, 0);\n  this._items[projectId].splice(0);\n};\n\nproto.addLocalItem = function (projectId, querybuildersearch) {\n  querybuildersearch.id = uniqueId();\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  var querybuildersearches = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  if (querybuildersearches === undefined) {\n    var _querybuildersearches = [querybuildersearch];\n    _application2.default.setLocalItem({\n      id: QUERYBUILDERSEARCHES,\n      data: _defineProperty({}, projectId, _querybuildersearches)\n    });\n    this._resetItems(projectId, _querybuildersearches);\n  } else {\n    querybuildersearches[projectId] = querybuildersearches[projectId] ? [].concat(_toConsumableArray(querybuildersearches[projectId]), [querybuildersearch]) : [querybuildersearch];\n    _application2.default.setLocalItem({\n      id: QUERYBUILDERSEARCHES,\n      data: querybuildersearches\n    });\n    this._resetItems(projectId, querybuildersearches[projectId]);\n  }\n};\n\nproto.save = function () {\n  var _this4 = this;\n\n  var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref9.id,\n      name = _ref9.name,\n      layerId = _ref9.layerId,\n      filter = _ref9.filter,\n      projectId = _ref9.projectId;\n\n  var layerName = this._getLayerById(layerId).getName();\n  var querybuildersearch = {\n    layerId: layerId,\n    filter: filter,\n    layerName: layerName\n  };\n  if (id) {\n    querybuildersearch.name = name;\n    querybuildersearch.id = id;\n    this.editLocalItem(projectId, querybuildersearch);\n    _gui2.default.showUserMessage({\n      type: 'success',\n      message: t(\"sdk.querybuilder.messages.changed\"),\n      autoclose: true\n    });\n    return;\n  }\n  _gui2.default.dialog.prompt(t('sdk.querybuilder.additem'), function (result) {\n    if (result) {\n      var searchService = _gui2.default.getComponent('search').getService();\n      querybuildersearch.name = result;\n      searchService.addQueryBuilderSearch(querybuildersearch);\n      _this4.addLocalItem(projectId, querybuildersearch);\n      _gui2.default.showUserMessage({\n        type: 'success',\n        message: t(\"sdk.querybuilder.messages.changed\"),\n        autoclose: true\n      });\n    }\n  });\n};\n\nproto.all = function () {};\n\nproto.sample = function () {};\n\nproto.clear = function () {\n  this._cacheValues = {};\n};\n\nproto.add = function () {};\n\nexports.default = new QueryBuilderService();\n\n},{\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"services/application\":350,\"services/data\":357,\"services/gui\":360,\"store/catalog-layers\":373,\"store/projects\":378}],366:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    XHR = _require.XHR,\n    base = _require.base,\n    createSingleFieldParameter = _require.createSingleFieldParameter;\n\nvar _require2 = require('core/utils/geo'),\n    sanitizeFidFeature = _require2.sanitizeFidFeature,\n    getAlphanumericPropertiesFromFeature = _require2.getAlphanumericPropertiesFromFeature;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction RelationsService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n}\n\ninherit(RelationsService, G3WObject);\n\nvar proto = RelationsService.prototype;\n\nproto.createUrl = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var currentProject = _projects2.default.getCurrentProject();\n  // type : <editing, data, xls>\n  var _options$layer = options.layer,\n      layer = _options$layer === undefined ? {} : _options$layer,\n      _options$relation = options.relation,\n      relation = _options$relation === undefined ? {} : _options$relation,\n      fid = options.fid,\n      _options$type = options.type,\n      type = _options$type === undefined ? 'data' : _options$type,\n      _options$formatter = options.formatter,\n      formatter = _options$formatter === undefined ? 1 : _options$formatter;\n\n  var layerId = void 0;\n  var father = relation.father,\n      child = relation.child,\n      referencedLayer = relation.referencedLayer,\n      referencingLayer = relation.referencingLayer,\n      relationId = relation.id;\n\n  if (father !== undefined) layerId = layer.id === father ? child : father;else layerId = layer.id === referencedLayer ? referencingLayer : referencedLayer;\n  var dataUrl = currentProject.getLayerById(layerId).getUrl(type);\n  var value = sanitizeFidFeature(fid);\n  return dataUrl + '?relationonetomany=' + relationId + '|' + value + '&formatter=' + formatter;\n};\n\nproto.getRelations = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var url = this.createUrl(options);\n  return XHR.get({\n    url: url\n  });\n};\n\n/**\n * Get relations NM\n * @param nmRelation\n * @param features\n * @returns {Promise<[]>}\n */\nproto.getRelationsNM = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      nmRelation = _ref2.nmRelation,\n      _ref2$features = _ref2.features,\n      features = _ref2$features === undefined ? [] : _ref2$features;\n\n  var referencedLayer, referencingLayer, _nmRelation$fieldRef, referencingField, referencedField, relationsNM, values, responseFids;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          referencedLayer = nmRelation.referencedLayer, referencingLayer = nmRelation.referencingLayer, _nmRelation$fieldRef = nmRelation.fieldRef, referencingField = _nmRelation$fieldRef.referencingField, referencedField = _nmRelation$fieldRef.referencedField;\n          relationsNM = []; // start with empty relations result\n\n          if (!features.length) {\n            _context.next = 8;\n            break;\n          }\n\n          values = features.map(function (feature) {\n            return feature.attributes[referencingField];\n          });\n          _context.next = 6;\n          return _data2.default.getData('search:features', {\n            inputs: {\n              layer: _catalogLayers2.default.getLayerById(referencedLayer),\n              filter: '' + createSingleFieldParameter({\n                field: referencedField,\n                value: values,\n                logicop: 'OR'\n              }),\n              formatter: 1, // set formatter to\n              search_endpoint: 'api'\n            },\n            outputs: null\n          });\n\n        case 6:\n          responseFids = _context.sent;\n\n          if (responseFids.data && responseFids.data[0] && Array.isArray(responseFids.data[0].features)) {\n            relationsNM = responseFids.data[0].features.map(function (feature) {\n              var attributes = getAlphanumericPropertiesFromFeature(feature.getProperties()).reduce(function (accumulator, property) {\n                accumulator[property] = feature.get(property);\n                return accumulator;\n              }, {});\n              return {\n                id: feature.getId(),\n                attributes: attributes,\n                geometry: feature.getGeometry()\n              };\n            });\n          }\n\n        case 8:\n          return _context.abrupt('return', relationsNM);\n\n        case 9:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nproto.save = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var url = this.createUrl(options);\n  return XHR.fileDownload({\n    url: url,\n    httpMethod: \"GET\"\n  });\n};\n\nexports.default = new RelationsService();\n\n},{\"core/g3wobject\":12,\"core/utils/geo\":64,\"core/utils/utils\":67,\"services/data\":357,\"store/catalog-layers\":373,\"store/projects\":378}],367:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    Base64 = _require.Base64;\n\nvar G3WObject = require('core/g3wobject');\n\n/*\n * RouterService based on  History.js (https://github.com/browserstate/history.js) e Crossroads (https://github.com/millermedeiros/crossroads.js)\n * Base concept is RouteQuery, example \"map?point=21.2,42.1&zoom=12\",\n * it inserts into browser and URL as quesrystring (q=map@point!21.2,41.1|zoom!12).\n * To run RouteQuery:\n *\n * RouterService.goto(\"map?point=21.2,42.1&zoom=12\");\n *\n *To listen to router has to be add  RouterService.addRoute(pattern, callback). Es.:\n *\n * var route = RouterService.addRoute('map/{?query}',function(query){\n *  console.log(query.point);\n *  console.log(query.zoom);\n * });\n *\n * Patterns:\n *  \"map/{foo}\": la porzione \"foo\" is request, and is passed as parameter in callback\n *  \"map/:foo:\": la porzione \"foo\" è optional, \n *  \"map/:foo*: \n *  \"map/{?querystring}\": mandatory\n *  \"map/:?querystring:\": optionals\n *\n * to remove  route:\n * RouterService.removeRoute(route);\n*/\n\ncrossroads.ignoreState = true;\ncrossroads.greedy = true;\n\nvar RouterService = function RouterService() {\n\n  this._initialLocationQuery;\n  this._routeQuery = '';\n  this.setters = {\n    setRouteQuery: function setRouteQuery(routeQuery) {\n      this._routeQuery = routeQuery;\n      crossroads.parse(routeQuery);\n    }\n  };\n\n  base(this);\n};\ninherit(RouterService, G3WObject);\n\nvar proto = RouterService.prototype;\n\nproto.init = function () {\n  //Return the querystring part of a URL\n  var query = window.location.search;\n  this._setRouteQueryFromLocationQuery(query);\n};\n\nproto.addRoute = function (pattern, handler, priority) {\n  return crossroads.addRoute(pattern, handler, priority);\n};\n\nproto.removeRoute = function (route) {\n  return crossroads.removeRoute(route);\n};\n\nproto.removeAllRoutes = function () {\n  return crossroads.removeAllRoutes();\n};\n\nproto.parse = function (request, defaultArgs) {\n  return crossroads.parse(request, defaultArgs);\n};\n\nproto.goto = function (routeQuery) {\n  if (!this._initialQuery) {\n    this._initialLocationQuery = this._stripInitialQuery(location.search.substring(1));\n  }\n  if (routeQuery) {\n    this.setRouteQuery(routeQuery);\n  }\n};\n\nproto.makePermalink = function (routeQuery) {\n  if (!this._initialQuery) {\n    this._initialLocationQuery = this._stripInitialQuery(location.search.substring(1));\n  }\n  var encodedRouteQuery = this._encodeRouteQuery(routeQuery);\n  //encodedRouteQuery = Base64.encode(encodedRouteQuery);\n  return '?' + this._initialLocationQuery + '&q=' + this._encodeRouteQuery(routeQuery);\n};\n\nproto.makeQueryString = function (queryParams) {};\n\nproto.slicePath = function (path) {\n  return path.split('?')[0].split('/');\n};\n\nproto.sliceFirst = function (path) {\n  var pathAndQuery = path.split('?');\n  var queryString = pathAndQuery[1];\n  var pathArr = pathAndQuery[0].split('/');\n  var firstPath = pathArr[0];\n  path = pathArr.slice(1).join('/');\n  path = [path, queryString].join('?');\n  return [firstPath, path];\n};\n\nproto.getQueryParams = function (query) {\n  query = query.replace('?', '');\n  var queryParams = {};\n  var queryPairs = [];\n  if (query != \"\" && query.indexOf(\"&\") == -1) {\n    queryPairs = [query];\n  } else {\n    queryPairs = query.split('&');\n  }\n  try {\n    _.forEach(queryPairs, function (queryPair) {\n      var pair = queryPair.split('=');\n      var key = pair[0];\n      var value = pair[1];\n      queryParams[key] = value;\n    });\n  } catch (e) {}\n  return queryParams;\n};\n\nproto.getQueryString = function (path) {\n  return path.split('?')[1];\n};\n\nproto._getQueryPortion = function (query, queryKey) {\n  var queryPortion;\n  try {\n    var queryPairs = query.split('&');\n    var queryParams = {};\n    _.forEach(queryPairs, function (queryPair) {\n      var pair = queryPair.split('=');\n      var key = pair[0];\n      if (key == queryKey) {\n        queryPortion = queryPair;\n      }\n    });\n  } catch (e) {}\n  return queryPortion;\n};\n\nproto._encodeRouteQuery = function (routeQuery) {\n  routeQuery = routeQuery.replace('?', '@');\n  routeQuery = routeQuery.replace('&', '|');\n  routeQuery = routeQuery.replace('=', '!');\n  return routeQuery;\n};\n\nproto._decodeRouteQuery = function (routeQuery) {\n  routeQuery = routeQuery.replace('@', '?');\n  routeQuery = routeQuery.replace('|', '&');\n  routeQuery = routeQuery.replace('!', '=');\n  return routeQuery;\n};\n\nproto._setRouteQueryFromLocationQuery = function (locationQuery) {\n  var encodedRouteQuery = this._getRouteQueryFromLocationQuery(locationQuery);\n  //encodedRouteQuery = Base64.decode(encodedRouteQuery);\n  if (encodedRouteQuery) {\n    var routeQuery = this._decodeRouteQuery(encodedRouteQuery);\n    this.setRouteQuery(routeQuery);\n  }\n};\n\nproto._getRouteQueryFromLocationQuery = function (locationQuery) {\n  return this.getQueryParams(locationQuery)['q'];\n};\n\nproto._stripInitialQuery = function (locationQuery) {\n  var previousQuery = this._getQueryPortion(locationQuery, 'q');\n  if (previousQuery) {\n    var previousQueryLength = previousQuery.length;\n    var previousQueryPosition = locationQuery.indexOf(previousQuery);\n    queryPrefix = _.trimEnd(locationQuery.substring(0, previousQueryPosition), \"&\");\n    querySuffix = locationQuery.substring(previousQueryPosition + previousQueryLength);\n    querySuffix = queryPrefix != \"\" ? querySuffix : _.trimStart(querySuffix, \"&\");\n    locationQuery = queryPrefix + querySuffix;\n  }\n  return locationQuery;\n};\n\nexports.default = new RouterService();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],368:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file\n                                                                                                                                                                                                                                                                   * @since v3.7\n                                                                                                                                                                                                                                                                   */\n\nvar _SidebarItem = require('components/SidebarItem.vue');\n\nvar _SidebarItem2 = _interopRequireDefault(_SidebarItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('gui/utils/utils'),\n    Stack = _require2.barstack;\n\nvar G3WObject = require('core/g3wobject');\n\n/**\n * TODO: temporary need to remove it\n */\nvar SidebarItem = Vue.extend(_SidebarItem2.default);\n\nfunction SidebarService() {\n  //set sidebar stack\n  this.stack = new Stack();\n  // set setter for close sidebarpanel to catch event\n  // of closing panel of the sidebar\n  this.setters = {\n    closeSidebarPanel: function closeSidebarPanel() {},\n    openCloseItem: function openCloseItem(bool) {}\n  };\n  //service state\n  this.state = {\n    components: [],\n    gui: {\n      title: ''\n    },\n    disabled: false\n  };\n  //inizialize method\n  this.init = function (layout) {\n    this.layout = layout;\n  };\n  // add component to sidebar\n  this.addComponents = function (components) {\n    var _this = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    //for each component of the sidebar it is call addComponent method\n    components.forEach(function (component) {\n      return _this.addComponent(component, options);\n    });\n    return true;\n  };\n  // add each component to the sidebar\n  // add also position insiede the sidebar\n  this.addComponent = function (component) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var position = options.position,\n        _options$before = options.before,\n        before = _options$before === undefined ? true : _options$before,\n        info = options.info;\n\n    if (isMobile.any && !component.mobile) {\n      return false;\n    }\n    var sidebarItem = new SidebarItem({\n      service: this,\n      info: info,\n      component: component\n    });\n    sidebarItem.title = component.title || sidebarItem.title;\n    sidebarItem.info = component.info || sidebarItem.info;\n    sidebarItem.actions = component.actions || sidebarItem.actions;\n    sidebarItem.open = component.state.open; //(component.open === undefined) ? sidebarItem.open : component.open;\n    sidebarItem.icon = component.icon || sidebarItem.icon;\n    sidebarItem.iconColor = component.iconColor;\n    sidebarItem.state = component.state || true;\n    sidebarItem.collapsible = typeof component.collapsible === 'boolean' ? component.collapsible : true;\n    sidebarItem.isolate = typeof component.isolate === 'boolean' ? component.isolate : false;\n    //append component to  g3w-sidebarcomponents (template sidebar.html)\n    var DOMComponent = sidebarItem.$mount().$el;\n    this.state.components.push(component);\n    var isPanelSidebarShow = $('.g3w-sidebarpanel').is(':visible');\n    var sidebarcomponetsdomid = '#g3w-sidebarcomponents' + (isPanelSidebarShow ? ':hidden' : '');\n    var children = $(sidebarcomponetsdomid).children().filter(function () {\n      return this.style.display !== 'none';\n    });\n    var childrenLength = children.length;\n    if (position === null || position === undefined || position < 0 || position >= childrenLength) $(sidebarcomponetsdomid).append(DOMComponent);else children.each(function (index, element) {\n      var findElementIndexId = Number.isInteger(position) ? position === index : element.id === position;\n      findElementIndexId && $(DOMComponent)['insert' + (before ? 'Before' : 'After')](element);\n    });\n    //mount componet to g3w-sidebarcomponent-placeholder (template sidebar-item.html);\n    component.mount(\"#g3w-sidebarcomponent-placeholder\");\n    // check if componentonent has iniService method\n    component.initService && component.initService();\n    // add click handler\n    this.setComponentClickHandler(component);\n    return true;\n  };\n\n  this.setComponentClickHandler = function (component) {\n    component.click = function () {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$open = _ref.open,\n          open = _ref$open === undefined ? false : _ref$open;\n\n      open = open || false;\n      $(component.getInternalComponent().$el).siblings('a').click();\n      component.setOpen(open);\n    };\n  };\n\n  // get component by id\n  this.getComponent = function (id) {\n    return this.state.components.find(function (component) {\n      return component.getId() === id;\n    });\n  };\n\n  // get all components\n  this.getComponents = function () {\n    return this.state.components;\n  };\n\n  /**\n   * close for the moment only conlapsbale\n   */\n  this.closeOpenComponents = function () {\n    var collapsible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    this.getComponents().forEach(function (component) {\n      return component.closeWhenViewportContentIsOpen() && component.collapsible && component.click({ open: false });\n    });\n  };\n\n  this.reloadComponent = function (id) {\n    var component = this.getComponent(id);\n    component && component.reload();\n  };\n\n  this.reloadComponents = function () {\n    // force close of the panel\n    this.closePanel();\n    this.state.components.forEach(function (component) {\n      if (component.collapsible && component.state.open) component.click({ open: false });\n      component.reload();\n    });\n  };\n  //remove component\n  this.removeComponent = function (component) {\n    var _this2 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var position = options.position;\n\n    this.state.components.forEach(function (sidebarComponent, index) {\n      if (component === sidebarComponent) {\n        component.unmount();\n        _this2.state.components.splice(index, 1);\n        if (position !== undefined && Number.isInteger(position)) $('#g3w-sidebarcomponents').children(':visible')[position].remove();else $('#g3w-sidebarcomponents').children('#' + component.id).remove();\n        return false;\n      }\n    });\n  };\n  // show panel on stack\n  this.showPanel = function (panel) {\n    var _this3 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return new Promise(function (resolve, reject) {\n      _this3.state.gui.title = panel.title;\n      var parent = \"#g3w-sidebarpanel-placeholder\";\n      _this3.stack.getCurrentContentData() && $(_this3.stack.getCurrentContentData().content.internalPanel.$el).hide();\n      _this3.stack.push(panel, _extends({\n        parent: parent\n      }, options)).then(function (content) {\n        return resolve(content);\n      });\n    });\n  };\n\n  // close panel\n  this.closePanel = function () {\n    var _this4 = this;\n\n    this.state.gui.title = null;\n    this.closeSidebarPanel();\n    this.stack.pop().then(function (content) {\n      content = null;\n      _this4.stack.getCurrentContentData() && $(_this4.stack.getCurrentContentData().content.internalPanel.$el).show();\n    });\n  };\n\n  this.closeAllPanels = function () {\n    this.state.gui.title = null;\n    this.closeSidebarPanel();\n    this.stack.clear();\n  };\n\n  base(this);\n}\n\ninherit(SidebarService, G3WObject);\n\nexports.default = new SidebarService();\n\n},{\"components/SidebarItem.vue\":295,\"core/g3wobject\":12,\"core/utils/utils\":67,\"gui/utils/utils\":188}],369:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\n/**\n * Singletone service to run async task\n * @constructor\n */\n\n\nfunction TaskService() {\n  /**\n   * Array contain all task id that are running. Each item is an object contain:\n   * {\n   *   taskId: //taskId,\n   *   intervalId: interval to clear clearInterval()\n   * }\n   **/\n  var tasks = [];\n  /**\n   *\n   * @param options: {\n   *   method: http method to run task GET/POST\n   *   url: api request url (that server start in background task)\n   *   taskUrl = url to ask the status og task\n   *   params: Object contain param to http/https request\n   *   interval: interval in milliseconds to do a request for ask status of task (default 10000 - 1 second)\n   *   listener: ()=>{} method to call\n   *\n   * }\n   *\n   * return a Promise that return a task id\n   */\n  this.runTask = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var _this = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _options$method, method, _options$params, params, url, taskUrl, _options$interval, interval, _options$timeout, timeout, _options$listener, listener, response, result, task_id, intervalId;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _options$method = options.method, method = _options$method === undefined ? 'GET' : _options$method, _options$params = options.params, params = _options$params === undefined ? {} : _options$params, url = options.url, taskUrl = options.taskUrl, _options$interval = options.interval, interval = _options$interval === undefined ? 1000 : _options$interval, _options$timeout = options.timeout, timeout = _options$timeout === undefined ? Infinity : _options$timeout, _options$listener = options.listener, listener = _options$listener === undefined ? function () {} : _options$listener;\n            _context2.prev = 1;\n\n            if (!(method === 'GET')) {\n              _context2.next = 8;\n              break;\n            }\n\n            _context2.next = 5;\n            return XHR.get({\n              url: url,\n              params: params\n            });\n\n          case 5:\n            _context2.t0 = _context2.sent;\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.next = 10;\n            return XHR.post({\n              url: url,\n              data: params.data || {},\n              contentType: params.contentType || \"application/json\"\n            });\n\n          case 10:\n            _context2.t0 = _context2.sent;\n\n          case 11:\n            response = _context2.t0;\n            result = response.result, task_id = response.task_id;\n\n            if (!result) {\n              _context2.next = 19;\n              break;\n            }\n\n            intervalId = setInterval(_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var _response;\n\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      // check if timeout is defined\n                      timeout = timeout - interval;\n\n                      if (!(timeout > 0)) {\n                        _context.next = 15;\n                        break;\n                      }\n\n                      _response = void 0;\n                      _context.prev = 3;\n                      _context.next = 6;\n                      return XHR.get({\n                        url: '' + taskUrl + task_id\n                      });\n\n                    case 6:\n                      _response = _context.sent;\n                      _context.next = 12;\n                      break;\n\n                    case 9:\n                      _context.prev = 9;\n                      _context.t0 = _context['catch'](3);\n\n                      _response = _context.t0;\n\n                    case 12:\n                      listener({\n                        task_id: task_id,\n                        timeout: false,\n                        response: _response\n                      });\n                      _context.next = 17;\n                      break;\n\n                    case 15:\n                      listener({\n                        timeout: true\n                      });\n                      _this.stopTask({\n                        task_id: task_id\n                      });\n\n                    case 17:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this, [[3, 9]]);\n            })), interval);\n\n            // add current task to list of task\n\n            tasks.push({\n              task_id: task_id,\n              intervalId: intervalId\n            });\n\n            // run first time listener function\n            listener({\n              task_id: task_id,\n              response: response\n            });\n            _context2.next = 20;\n            break;\n\n          case 19:\n            return _context2.abrupt('return', Promise.reject(response));\n\n          case 20:\n            _context2.next = 25;\n            break;\n\n          case 22:\n            _context2.prev = 22;\n            _context2.t1 = _context2['catch'](1);\n            return _context2.abrupt('return', Promise.reject(_context2.t1));\n\n          case 25:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[1, 22]]);\n  }));\n\n  /**\n   *\n   * @param options: {\n   *   taskId: taskId that is running\n   * }\n   */\n  this.stopTask = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var task_id = options.task_id;\n\n    var task = tasks.find(function (task) {\n      return task.task_id === task_id;\n    });\n    if (task) clearInterval(task.intervalId);\n  };\n\n  /**\n   * clare all task\n   */\n  this.clear = function () {\n    var _this2 = this;\n\n    tasks.forEach(function (_ref3) {\n      var taskId = _ref3.taskId;\n\n      _this2.stopTask({\n        taskId: taskId\n      });\n    });\n    //reset to empty tasks\n    tasks.splice(0);\n  };\n}\n\n/**\n * SERVER\n * \"\"\"Returns the (possibly) new layer ID where the isochrone\n data has been added. If the task has not yet completed a status message is returned\n\n Note: `project_id` is only used for permissions checking!\n\n Returns 500 in case of exceptions\n Returns 404 in case of task not found\n Returns 200 ok for all other cases\n\n Response body:\n\n {\n            \"status\": \"complete\",  // or \"pending\" or \"error\", full list at\n                                   // https://huey.readthedocs.io/en/latest/signals.html#signals\n            \"exception\": \"Normally empty, error message in case of errors\",\n            \"progress\": [\n                100,  // Progress %\n            ],\n            \"task_result\": {\n                \"qgis_ayer_id\": \"4f2a88a1-ca93-4859-9de3-75d9728cde0e\"\n            }\n        }\n\n **/\n\nexports.default = new TaskService();\n\n},{\"core/utils/utils\":67}],370:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\nvar ViewportService = function ViewportService() {\n  // state of viewport\n  this.state = {\n    primaryView: 'map', // primary view (default)\n    // percentage of secondary view\n    secondaryPerc: 0, // setted to 0 at beginning (not visible)\n    // used to store if content vertical or horizontal is  changed by resised\n    resized: {\n      start: false,\n      'h': false,\n      'v': false\n    },\n    // splitting orientation (h = horizontal, v = vertical)\n    split: 'h',\n    //map\n    map: {\n      sizes: {\n        width: 0,\n        height: 0\n      },\n      aside: false\n    },\n    //content\n    content: {\n      loading: false,\n      disabled: false,\n      sizes: {\n        width: 0,\n        height: 0\n      },\n      // store the resize vertical or horizontal\n      resize: {\n        'h': {\n          perc: 0\n        },\n        'v': {\n          perc: 0\n        }\n      },\n      aside: true,\n      showgoback: true,\n      stack: [], // array elements of  stack contents\n      closable: true, // (x) is closable\n      backonclose: false, // back on prevoius content\n      contentsdata: [] // content data array\n    },\n    usermessage: {\n      id: null, // unique identify\n      show: false,\n      title: null,\n      message: null,\n      position: null,\n      type: null,\n      draggable: null,\n      cloasable: null,\n      autoclose: null,\n      textMessage: false,\n      hooks: {\n        header: null,\n        body: null,\n        footer: null\n      }\n    }\n  };\n  // content of viewport (map and content)\n  this._components = {\n    map: null,\n    content: null\n  };\n  // default contents\n  this._defaultMapComponent;\n  this._contextualMapComponent;\n\n  // minimun height and width of secondary view\n  this._secondaryViewMinWidth = _constant.VIEWPORT.resize.content.min;\n  this._secondaryViewMinHeight = _constant.VIEWPORT.resize.content.min;\n  this._immediateComponentsLayout = true;\n  this.init = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _options$primaryview = options.primaryview,\n        primaryview = _options$primaryview === undefined ? 'map' : _options$primaryview,\n        _options$split = options.split,\n        split = _options$split === undefined ? 'h' : _options$split,\n        components = options.components;\n    // check if it set primary view (map is default)\n\n    this.state.primaryView = primaryview;\n    // check splitting property\n    this.state.split = split;\n    // add component (map and content)\n    this._addComponents(components);\n  };\n\n  // Method to set true or false of content\n  this.setResized = function (type) {\n    var bool = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    this.state.resized[type] = bool;\n  };\n\n  this.showUserMessage = function () {\n    var _this = this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        title = _ref.title,\n        subtitle = _ref.subtitle,\n        message = _ref.message,\n        type = _ref.type,\n        position = _ref.position,\n        size = _ref.size,\n        draggable = _ref.draggable,\n        duration = _ref.duration,\n        _ref$textMessage = _ref.textMessage,\n        textMessage = _ref$textMessage === undefined ? false : _ref$textMessage,\n        closable = _ref.closable,\n        autoclose = _ref.autoclose,\n        _ref$hooks = _ref.hooks,\n        hooks = _ref$hooks === undefined ? {} : _ref$hooks;\n\n    this.closeUserMessage();\n    setTimeout(function () {\n      _this.state.usermessage.id = uniqueId();\n      _this.state.usermessage.show = true;\n      _this.state.usermessage.message = message;\n      _this.state.usermessage.textMessage = textMessage;\n      _this.state.usermessage.title = title;\n      _this.state.usermessage.subtitle = subtitle;\n      _this.state.usermessage.position = position;\n      _this.state.usermessage.duration = duration;\n      _this.state.usermessage.type = type;\n      _this.state.usermessage.show = true;\n      _this.state.usermessage.size = size;\n      _this.state.usermessage.autoclose = autoclose;\n      _this.state.usermessage.closable = closable;\n      _this.state.usermessage.draggable = draggable;\n      _this.state.usermessage.hooks.header = hooks.header; // has to be a vue component or vue object\n      _this.state.usermessage.hooks.body = hooks.body; // has to be a vue component or vue object\n      _this.state.usermessage.hooks.footer = hooks.footer; // has to be a vue component or vue object\n    });\n    return this.state.usermessage;\n  };\n\n  this.closeUserMessage = function () {\n    this.state.usermessage.id = null;\n    this.state.usermessage.show = false;\n    this.state.usermessage.textMessage = false;\n    this.state.usermessage.message = '';\n  };\n\n  this.getState = function () {\n    return this.state;\n  };\n\n  this.getMapState = function () {\n    return this.state.map;\n  };\n\n  this.getContentState = function () {\n    return this.state.content;\n  };\n\n  this.setLoadingContent = function () {\n    var loading = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.state.content.loading = loading;\n  };\n\n  this._addComponents = function (components) {\n    var _this2 = this;\n\n    // components is an object\n    //(index.js)\n    /*\n     {\n      map: new MapComponent({\n        id: 'map'\n      }),\n      content: new ContentsComponent({\n        id: 'contents'\n      })\n     }\n     */\n    Object.entries(components).forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          viewName = _ref3[0],\n          component = _ref3[1];\n\n      // check if component are map or content\n      if (Object.keys(_this2._components).indexOf(viewName) > -1) {\n        component.mount('#g3w-view-' + viewName, true).then(function () {\n          _this2._components[viewName] = component;\n          // check if view name is map\n          if (viewName === 'map') _this2._defaultMapComponent = component; // set de default component to map\n        }).fail(function (err) {\n          return console.log(err);\n        });\n      }\n    });\n  };\n\n  this.showMap = function () {\n    this._toggleMapComponentVisibility(this._defaultMapComponent, true);\n    this._components['map'] = this._defaultMapComponent;\n    this._showView('map');\n  };\n\n  this.showContextualMap = function () {\n    var _this3 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this._contextualMapComponent) this._contextualMapComponent = this._defaultMapComponent;\n    if (this._contextualMapComponent != this._defaultMapComponent) this._toggleMapComponentVisibility(this._defaultMapComponent, false);\n    if (!this._contextualMapComponent.ismount()) {\n      var contextualMapComponent = this._contextualMapComponent;\n      contextualMapComponent.mount('#g3w-view-map', true).then(function () {\n        return _this3._components['map'] = contextualMapComponent;\n      });\n    } else {\n      this._components['map'] = this._contextualMapComponent;\n      this._toggleMapComponentVisibility(this._contextualMapComponent, true);\n    }\n    this._showView('map', options);\n  };\n\n  // get default component\n  this.recoverDefaultMap = function () {\n    if (this._components['map'] !== this._defaultMapComponent) {\n      this._components['map'] = this._defaultMapComponent;\n      this._toggleMapComponentVisibility(this._contextualMapComponent, false);\n      this._toggleMapComponentVisibility(this._defaultMapComponent, true);\n    }\n    return this._components['map'];\n  };\n\n  this.setContextualMapComponent = function (mapComponent) {\n    if (mapComponent === this._defaultMapComponent) return;\n    if (this._contextualMapComponent) this._contextualMapComponent.unmount();\n    this._contextualMapComponent = mapComponent;\n  };\n\n  this.resetContextualMapComponent = function () {\n    this._contextualMapComponent && this._contextualMapComponent.unmount();\n    this._contextualMapComponent = this._defaultMapComponent;\n  };\n\n  this._toggleMapComponentVisibility = function (mapComponent, toggle) {\n    mapComponent.internalComponent.$el.style.display = toggle ? 'block' : 'none';\n  };\n\n  // close map method\n  this.closeMap = function () {\n    this.state.secondaryPerc = this.state.primaryView === 'map' ? 100 : 0;\n    this.recoverDefaultMap();\n    this._layout();\n  };\n\n  // show content of the viewport content\n  /*\n   options: {\n     content: (string, jQuery elemento or Vue component)\n     title: Title of the content\n     push: (opyionale, default false): if yes the content is push on top of the stack (contentStack)\n     split: (optional, default 'h'): 'h' || 'v' splitting map and content orientation\n     perc: (optional, default 50): percentage of content\n   }\n   */\n\n  this.showContent = function () {\n    var _this4 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    options.perc = options.perc !== undefined ? options.perc : this.getContentPercentageFromCurrentLayout();\n    // check if push is set\n    options.push = options.push || false;\n    var evenContentName = options.perc === 100 ? 'show-content-full' : 'show-content';\n    // set all content parameters\n    this._prepareContentView(options);\n    // immediate layout false (to understand better)\n    this._immediateComponentsLayout = false;\n    // call show view (in this case content (other is map)\n    this._showView('content', options);\n    this._components.content.setContent(options).then(function () {\n      _this4._immediateComponentsLayout = true;\n      _this4._layoutComponents(evenContentName);\n    });\n  };\n\n  // hide content\n  this.hideContent = function (bool) {\n    var prevContentPerc = this.getContentPercentageFromCurrentLayout(this.state.split);\n    this.state.secondaryVisible = !bool;\n    this._layout('hide-content');\n    // return previous percentage\n    return prevContentPerc;\n  };\n\n  this.resetToDefaultContentPercentage = function () {\n    var currentRightPanel = this.getCurrentContentLayout();\n    currentRightPanel['' + (this.state.split === 'h' ? 'width' : 'height')] = currentRightPanel[(this.state.split === 'h' ? 'width' : 'height') + '_default'];\n    currentRightPanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'] = false;\n    this._layoutComponents();\n  };\n\n  this.toggleFullViewContent = function () {\n    _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'] = !_applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'];\n    this._layoutComponents();\n  };\n\n  this.isFullViewContent = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'];\n  };\n\n  this.contentLength = function () {\n    return this.state.content.contentsdata.length;\n  };\n\n  // pull the last element of contentStack\n  this.popContent = function () {\n    var _this5 = this;\n\n    var d = $.Deferred();\n    // check if content exist compontentStack\n    if (this.state.content.contentsdata.length) {\n      this.recoverDefaultMap();\n      var data = this._components.content.getPreviousContentData();\n      this._prepareContentView(data.options);\n      this._immediateComponentsLayout = false;\n      this._showView('content', data.options);\n      this._components.content.popContent().then(function () {\n        _this5.state.secondaryPerc = data.options.perc;\n        _this5._immediateComponentsLayout = true;\n        _this5._layout('pop-content');\n        d.resolve(_this5._components.contentgetCurrentContentData);\n      });\n    } else d.reject();\n    return d.promise();\n  };\n\n  /**\n   * Return current compoent data\n   * @returns {*}\n   */\n  this.getCurrentContent = function () {\n    return this.contentLength() ? this.state.content.contentsdata[this.contentLength() - 1] : null;\n  };\n\n  this.getCurrentContentTitle = function () {\n    var currentContent = this.getCurrentContent();\n    return currentContent && currentContent.options.title;\n  };\n\n  this.getCurrentContentId = function () {\n    var currentContent = this.getCurrentContent();\n    return currentContent && currentContent.options.id;\n  };\n\n  this.changeCurrentContentOptions = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var currentContent = this.getCurrentContent();\n    if (currentContent) {\n      var title = options.title,\n          crumb = options.crumb;\n\n      if (title) currentContent.options.title = title;\n      if (crumb) currentContent.options.crumb = crumb;\n    }\n  };\n\n  this.changeCurrentContentTitle = function () {\n    var title = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n    var currentContent = this.getCurrentContent();\n    if (currentContent) currentContent.options.title = title;\n  };\n\n  this.isContentOpen = function () {\n    return !!this.state.content.contentsdata.length;\n  };\n\n  // close  content\n  this.closeContent = function () {\n    var _this6 = this;\n\n    var d = $.Deferred();\n    if (this.isContentOpen()) {\n      //.setFullViewContent(false);\n      this._components.content.removeContent();\n      // close secondary view( return a promise)\n      this.closeSecondaryView('close-content').then(function () {\n        //recover default map\n        var mapComponent = _this6.recoverDefaultMap();\n        d.resolve(mapComponent);\n      });\n    } else {\n      var mapComponent = this.recoverDefaultMap();\n      d.resolve(mapComponent);\n    }\n    return d.promise();\n  };\n\n  this.disableContent = function (disabled) {\n    this.state.content.disabled = disabled;\n  };\n\n  this.removeContent = function () {\n    // check if backonclose proprerty is  true o false\n    // to remove all content stack or just last component\n    if (this.state.content.backonclose && this.state.content.contentsdata.length > 1) this.popContent();else return this.closeContent();\n  };\n\n  this.isPrimaryView = function (viewName) {\n    return this.state.primaryView == viewName;\n  };\n\n  this.setPrimaryView = function (viewTag) {\n    if (this.state.primaryView !== viewTag) this.state.primaryView = viewTag;\n    this._layout();\n  };\n\n  this.showPrimaryView = function () {\n    var perc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    if (perc && this.state.secondaryVisible && this.state.secondaryPerc === 100) {\n      this.state.secondaryPerc = 100 - perc;\n      this._layout();\n    }\n  };\n\n  this.showSecondaryView = function () {\n    var split = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n    var perc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state.perc;\n\n    this.state.secondaryVisible = true;\n    this.state.split = split;\n    this.state.secondaryPerc = perc;\n    this._layout();\n  };\n\n  // close secondary view\n  this.closeSecondaryView = function () {\n    var _this7 = this;\n\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var d = $.Deferred();\n    var secondaryViewComponent = this._components[this._otherView(this.state.primaryView)];\n    if (secondaryViewComponent.clearContents) {\n      secondaryViewComponent.clearContents().then(function () {\n        _this7.state.secondaryVisible = false;\n        _this7.state.secondaryPerc = 0;\n        _this7._layout(event);\n        Vue.nextTick(function () {\n          return d.resolve();\n        });\n      });\n    } else {\n      this.state.secondaryVisible = false;\n      this._layout(event);\n      Vue.nextTick(function () {\n        return d.resolve();\n      });\n    }\n    return d.promise();\n  };\n\n  this.getDefaultViewPerc = function (viewName) {\n    return this.isPrimaryView(viewName) ? 100 : 50;\n  };\n\n  // return the opposite view\n  this._otherView = function (viewName) {\n    return viewName === 'map' ? 'content' : 'map';\n  };\n\n  this._isSecondary = function (view) {\n    return this.state.primaryView !== view;\n  };\n\n  this._setPrimaryView = function (viewTag) {\n    if (this.state.primaryView !== viewTag) this.state.primaryView = viewTag;\n  };\n\n  /**\n   * Set the state of content (right or bottom content other than map)\n   * @param options\n   * @private\n   */\n  this._prepareContentView = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var title = options.title,\n        _options$split2 = options.split,\n        split = _options$split2 === undefined ? null : _options$split2,\n        _options$closable = options.closable,\n        closable = _options$closable === undefined ? true : _options$closable,\n        _options$backonclose = options.backonclose,\n        backonclose = _options$backonclose === undefined ? true : _options$backonclose,\n        _options$style = options.style,\n        style = _options$style === undefined ? {} : _options$style,\n        _options$showgoback = options.showgoback,\n        showgoback = _options$showgoback === undefined ? true : _options$showgoback,\n        _options$headertools = options.headertools,\n        headertools = _options$headertools === undefined ? [] : _options$headertools;\n\n    this.state.content.title = title;\n    this.state.content.split = split;\n    this.state.content.closable = closable;\n    this.state.content.backonclose = backonclose;\n    this.state.content.contentsdata = this._components.content.contentsdata;\n    this.state.content.style = style;\n    this.state.content.headertools = headertools;\n    this.state.content.showgoback = showgoback;\n  };\n\n  // manage all layout logic\n  // viewName: map or content\n  //options.  percentage , splitting title etc ..\n  this._showView = function (viewName) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _options$perc = options.perc,\n        perc = _options$perc === undefined ? this.getDefaultViewPerc(viewName) : _options$perc,\n        _options$split3 = options.split,\n        split = _options$split3 === undefined ? 'h' : _options$split3;\n\n    var aside = void 0;\n    if (this.isPrimaryView(viewName)) aside = typeof options.aside == 'undefined' ? false : options.aside;else aside = true;\n    this.state[viewName].aside = aside;\n    //calculate the content\n    var secondaryPerc = this.isPrimaryView(viewName) ? 100 - perc : perc;\n    //show Secondary View content only if more then 0\n    if (secondaryPerc > 0) this.showSecondaryView(split, secondaryPerc);else return this.closeSecondaryView();\n  };\n\n  this._getReducedSizes = function () {\n    var contentEl = $('.content');\n    var reducedWidth = 0;\n    var reducedHeight = 0;\n    var sideBarToggleEl = $('.sidebar-aside-toggle');\n    if (contentEl && this.state.secondaryVisible && this.isFullViewContent()) {\n      if (sideBarToggleEl && sideBarToggleEl.is(':visible')) {\n        var toggleWidth = sideBarToggleEl.outerWidth();\n        contentEl.css('padding-left', toggleWidth + 5);\n        reducedWidth = toggleWidth - 5;\n      }\n    } else {\n      var _toggleWidth = sideBarToggleEl.outerWidth();\n      contentEl.css('padding-left', this.state.secondaryPerc === 100 ? _toggleWidth + 5 : 15);\n    }\n    return {\n      reducedWidth: reducedWidth,\n      reducedHeight: reducedHeight\n    };\n  };\n\n  //main layout function\n  this._layout = function () {\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var reducesdSizes = this._getReducedSizes();\n    this._setViewSizes(reducesdSizes.reducedWidth, reducesdSizes.reducedHeight);\n    if (this._immediateComponentsLayout) this._layoutComponents(event);\n  };\n\n  this._setViewSizes = function () {\n    var primaryView = this.state.primaryView;\n    var secondaryView = this._otherView(primaryView);\n\n    var _getViewportSize = this.getViewportSize(),\n        viewportWidth = _getViewportSize.width,\n        viewportHeight = _getViewportSize.height;\n    // assign all width and height of the view to primary view (map)\n\n\n    var primaryWidth = void 0;\n    var primaryHeight = void 0;\n    var secondaryWidth = void 0;\n    var secondaryHeight = void 0;\n    // percentage of secondary view (content)\n    var scale = (this.state.secondaryPerc !== 100 && !this.isFullViewContent() ? this.getContentPercentageFromCurrentLayout(this.state.split) : 100) / 100;\n    if (this.state.split === 'h') {\n      secondaryWidth = this.state.secondaryVisible ? Math.max(viewportWidth * scale, this._secondaryViewMinWidth) : 0;\n      secondaryHeight = viewportHeight;\n      primaryWidth = viewportWidth - secondaryWidth;\n      primaryHeight = viewportHeight;\n    } else {\n      secondaryWidth = viewportWidth;\n      secondaryHeight = this.state.secondaryVisible ? Math.max(viewportHeight * scale, this._secondaryViewMinHeight) : 0;\n      primaryWidth = this.state.secondaryVisible && scale === 1 ? 0 : viewportWidth;\n      primaryHeight = viewportHeight - secondaryHeight;\n    }\n    this.state[primaryView].sizes.width = primaryWidth;\n    this.state[primaryView].sizes.height = primaryHeight;\n    this.state[secondaryView].sizes.width = secondaryWidth;\n    this.state[secondaryView].sizes.height = secondaryHeight;\n  };\n\n  this.getViewportSize = function () {\n    return {\n      width: this._viewportWidth(),\n      height: this._viewportHeight()\n    };\n  };\n\n  this._viewportHeight = function () {\n    var topHeight = $('.navbar-header').innerHeight();\n    return $(document).innerHeight() - topHeight;\n  };\n\n  this._viewportWidth = function () {\n    var main_sidebar = $(\".main-sidebar\");\n    var offset = main_sidebar.length && main_sidebar.offset().left;\n    var width = main_sidebar.length && main_sidebar[0].getBoundingClientRect().width;\n    var sideBarSpace = width + offset;\n    return $('#app')[0].getBoundingClientRect().width - sideBarSpace;\n  };\n\n  /**\n   * Method that se resize. Is called by moveFnc that is called from resize (vertical or horiziontal) component\n   * @param type\n   * @param sizes\n   * @param perc\n   */\n  this.resizeViewComponents = function (type) {\n    var sizes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var perc = arguments[2];\n\n    this.setResized(type, true);\n    this.setContentPercentageFromCurrentLayout(type, perc);\n    this._layout('resize');\n  };\n\n  /**\n   * Get current information layout\n   * @param type\n   * @param perc\n   */\n  this.setContentPercentageFromCurrentLayout = function () {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n    var perc = arguments[1];\n\n    this.getCurrentContentLayout()[type === 'h' ? 'width' : 'height'] = perc;\n  };\n\n  this.getContentPercentageFromCurrentLayout = function () {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n\n    return this.getCurrentContentLayout()[type === 'h' ? 'width' : 'height'];\n  };\n\n  this.getCurrentContentLayout = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel;\n  };\n\n  // load components of  viewport\n  // after right size setting\n  this._layoutComponents = function () {\n    var _this8 = this;\n\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    requestAnimationFrame(function () {\n      var reducesdSizes = _this8._getReducedSizes();\n      var reducedWidth = reducesdSizes.reducedWidth || 0;\n      var reducedHeight = reducesdSizes.reducedHeight || 0;\n      // for each components\n      _this8._setViewSizes();\n      Object.entries(_this8._components).forEach(function (_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n            name = _ref5[0],\n            component = _ref5[1];\n\n        var width = _this8.state[name].sizes.width - reducedWidth;\n        var height = _this8.state[name].sizes.height - reducedHeight;\n        component.layout(width, height);\n      });\n      event && setTimeout(function () {\n        _this8.emit(event);\n        _gui2.default.emit(event);\n      });\n    });\n  };\n\n  /**\n   * function called at start of application (just one time)\n   * @private\n   */\n  this._firstLayout = function () {\n    var _this9 = this;\n\n    var drawing = false;\n    var resizeFired = false;\n    function triggerResize() {\n      resizeFired = true;\n      drawResize();\n    }\n    /**\n     * function called from resize of browser windows (also open dev tool)\n     */\n    var drawResize = function drawResize() {\n      if (resizeFired === true) {\n        resizeFired = false;\n        drawing = true;\n        _this9._layout('resize');\n        requestAnimationFrame(drawResize);\n      } else {\n        drawing = false;\n      }\n    };\n    // GUI ready event\n    _gui2.default.on('ready', function () {\n      /**\n       * SetSidebar width (used by components/Viewport.vue single file component)\n       */\n      _this9.SIDEBARWIDTH = _gui2.default.getSize({ element: 'sidebar', what: 'width' });\n      _this9._layout();\n      _gui2.default.on('guiresized', function () {\n        return triggerResize();\n      });\n      // resize della window\n      $(window).resize(function () {\n        // set resizedFired to true and execute drawResize if it's not already running\n        drawing === false && triggerResize();\n      });\n      // resize on main siedemar open close sidebar\n      $('.main-sidebar').on('webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd', function (event) {\n        //be sure that is the main sidebar that is transitioned non his child\n        if (event.target === this) {\n          $(this).trigger('trans-end');\n          triggerResize();\n        }\n      });\n    });\n  };\n  this._firstLayout();\n  base(this);\n};\n\ninherit(ViewportService, G3WObject);\n\n//singleton\nexports.default = new ViewportService();\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/gui\":360,\"store/application-state\":372}],371:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\n// Store all workflow activated\nvar WorkFlowsStack = function WorkFlowsStack() {\n  this._workflows = [];\n  this.push = function (workflow) {\n    if (this._workflows.indexOf(workflow) === -1) return this._workflows.push(workflow) - 1;\n    return this._workflows.indexOf(workflow);\n  };\n\n  /**\n  * Get parent\n  * @returns {boolean|*}\n  */\n  this.getParent = function () {\n    var index = this._getCurrentIndex();\n    return index > 0 && this._workflows[index - 1];\n  };\n\n  /**\n  * Get all list of parents\n  * @returns {boolean|T[]}\n  */\n  this.getParents = function () {\n    var index = this._getCurrentIndex();\n    return index > 0 && this._workflows.slice(0, index);\n  };\n\n  this.pop = function () {\n    return this._workflows.pop();\n  };\n\n  this.getLength = function () {\n    return this._workflows.length;\n  };\n\n  this._getCurrentIndex = function () {\n    var currentWorkflow = this.getCurrent();\n    return this._workflows.findIndex(function (workfow) {\n      return workfow === currentWorkflow;\n    });\n  };\n\n  this.getCurrent = function () {\n    return this.getLast();\n  };\n\n  this.getLast = function () {\n    var length = this._workflows.length;\n    return length ? this._workflows[length - 1] : null;\n  };\n\n  this.getFirst = function () {\n    return this._workflows[0];\n  };\n\n  this.removeAt = function (index) {\n    this._workflows.splice(index, 1);\n  };\n\n  this.getAt = function (index) {\n    return this._workflows[index];\n  };\n\n  this.insertAt = function (index, workflow) {\n    this._workflows[index] = workflow;\n  };\n\n  this.clear = function () {\n    while (this._workflows.length) {\n      var workflow = this.pop();\n      workflow.stop();\n    }\n  };\n};\n\nexports.default = new WorkFlowsStack();\n\n},{}],372:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file State and methods to query the STATE of application\n * @since v3.6\n */\n\n/**\n * State of application reactive\n * @type {object}\n */\nvar STATE = Vue.observable({\n\n  /**\n   * true = application is ready\n   */\n  ready: false,\n\n  /**\n   * true = application is loaded inside an iframe\n   */\n  iframe: false,\n\n  /**\n   * true = application is connected\n   */\n  online: false,\n\n  /**\n   * true = application is loaded on mobile device\n   */\n  ismobile: false,\n\n  /**\n   * true = there is a pending download \n   */\n  download: false,\n\n  /**\n   * true = there is a pending upload\n   */\n  upload: false,\n\n  /**\n   * @FIXME add description\n   */\n  baseLayerId: null,\n\n  /**\n   * en = default language\n   */\n  language: 'en',\n\n  /**\n   * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n   */\n  lng: 'en',\n\n  /**\n   * @FIXME add description\n   */\n  changeProjectview: false,\n\n  /**\n   * @FIXME add description\n   */\n  plugins: [],\n\n  /**\n   * @FIXME add description\n   */\n  user: null,\n\n  /**\n   * @FIXME add description\n   */\n  map: {\n    epsg: '',\n    unit: 'metric'\n  },\n\n  /**\n   * @FIXME add description\n   */\n  gui: {\n\n    app: {\n      /**\n       * true = application is disabled and unclickable (waiting)\n       */\n      disabled: false\n    },\n\n    sidebar: {\n      /**\n       * true = sidebar is disabled (not responsive)\n       */\n      disabled: false // \n    },\n\n    layout: {\n      /**\n       * store the current layout owner (\"app\" = default)\n       */\n      __current: 'app',\n\n      /**\n       * @FIXME add description\n       */\n      app: {}\n\n    }\n\n  },\n\n  /**\n   * @FIXME add description\n   */\n  keys: {\n    vendorkeys: {\n      google: undefined,\n      bing: undefined\n    }\n  },\n\n  /**\n   * @FIXME add description\n   */\n  tokens: {\n    filtertoken: undefined\n  }\n\n});\n\n/**\n * Store methods to query STATE of application\n * \n * @type {object}\n */\nvar STATE_METHODS = exports.STATE_METHODS = {};\n\nexports.default = STATE;\n\n},{}],373:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file State of legend items in Table of Contents (TOC) [aka. catalog layers]\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar LayersStoresRegistry = require('core/layers/layersstoresregistry');\n\nfunction CatalogLayersStoresRegistry() {\n  base(this);\n}\n\ninherit(CatalogLayersStoresRegistry, LayersStoresRegistry);\n\nexports.default = new CatalogLayersStoresRegistry();\n\n},{\"core/layers/layersstoresregistry\":37,\"core/utils/utils\":67}],374:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file Store legacy frontend components\n * @since v3.6\n * \n * @deprecated will be probably removed after v4.x. Use Vue Single File Components (SFC) instead\n */\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\n//class Componet Registry (singleton)\n// store all components added\n\n\nfunction ComponentsRegistry() {\n  this.components = {};\n  this.registerComponent = function (component) {\n    var id = component.getId();\n    if (!this.components[id]) {\n      this.components[id] = component;\n      this.emit('componentregistered', component);\n    }\n  };\n\n  this.getComponent = function (id) {\n    return this.components[id];\n  };\n\n  this.getComponents = function () {\n    return this.components;\n  };\n\n  this.unregisterComponent = function (id) {\n    var component = this.components[id];\n    if (component) {\n      if (typeof component.destroy === 'function') component.destroy();\n      this.components[id] = null;\n    }\n    return component;\n  };\n  base(this);\n}\n\ninherit(ComponentsRegistry, G3WObject);\n\nexports.default = new ComponentsRegistry();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],375:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _constants = require('g3w-ol/constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit; /**\n                                 * @file Store Open Layers controls (zoom, streetrview, screnshoot, ruler, ...)\n                                 * @since v3.6\n                                 */\n\nvar G3WObject = require('core/g3wobject');\n\nfunction ControlsRegistry() {\n  var _this = this;\n\n  this._controls = {};\n\n  this._offlineids = [];\n\n  /**\n   * @since 3.8.0\n   */\n  this.selectedLayer = null;\n\n  /**\n   * @since 3.8.0\n   */\n  this.externalLayers = [];\n\n  _application2.default.on('complete',\n  /**\n   * @TODO extract this into a class function (named callback function)\n   * \n   * Handle temporary layers added by `addlayers` map control (Polygon or Multipolygon)\n   *\n   * @listens CatalogService~addExternalLayer\n   * @listens CatalogService~removeExternalLayer\n   *\n   * @since 3.8.0\n   */\n  function () {\n\n    var CatalogService = _gui2.default.getService('catalog');\n\n    // 0. store unwatches of external layers (selected or visible)\n    var unWatches = {};\n\n    // 1. update list `this.externalLayers`\n    // 2. update list `unWatches` of layer un-watchers (based on unique name of layer)\n    // 3. call `this.onAddExternalLayer`\n    CatalogService.onafter('addExternalLayer', function (_ref) {\n      var layer = _ref.layer,\n          type = _ref.type;\n\n      if ('vector' === type) {\n        _this.externalLayers.push(layer);\n        // Add event listener of selected property to set selected layer\n        unWatches[layer.name] = [_constants.VM.$watch(function () {\n          return layer.selected;\n        }, // watch `layer.selected` property\n        function (selected) {\n          _this.setSelectedLayer(true === selected ? layer : null);\n        })];\n\n        _this.callControlsEventHandler({\n          handler: 'onAddExternalLayer',\n          param: {\n            layer: layer,\n            unWatches: unWatches[layer.name]\n          }\n        });\n      }\n    });\n\n    // 4. clean up any previously attached event listener\n    CatalogService.onafter('removeExternalLayer', function (_ref2) {\n      var name = _ref2.name,\n          type = _ref2.type;\n\n      if ('vector' === type) {\n        _this.externalLayers = _this.externalLayers.filter(function (layer) {\n          if (name === layer.name) {\n            _this.callControlsEventHandler({ handler: 'handleRemoveExternalLayer', param: layer });\n          }\n          if (name === layer.name && layer === _this.selectedLayer) {\n            _this.setSelectedLayer(null);\n          }\n          return name !== layer.name;\n        });\n        unWatches[name].forEach(function (unWatch) {\n          return unWatch();\n        });\n        delete unWatches[name];\n      }\n    });\n  });\n\n  _application2.default.onbefore('offline',\n  /**\n   * @TODO extract this into a class function (named callback function)\n   * \n   * @since 3.8.0\n   */\n  function () {\n    _this._offlineids.forEach(function (controlItem) {\n      var control = _this._controls[controlItem.id];\n      controlItem.enable = control.getEnable();\n      control.setEnable(false);\n    });\n  });\n\n  _application2.default.onbefore('online',\n  /**\n   * @TODO extract this into a class function (named callback function)\n   * \n   * @since 3.8.0\n   */\n  function () {\n    _this._offlineids.forEach(function (controlItem) {\n      _this._controls[controlItem.id].setEnable(controlItem.enable);\n    });\n  });\n\n  this.setters = {\n    registerControl: function registerControl(id, control) {\n      this._registerControl(id, control);\n    }\n  };\n\n  /**\n   * @param { unknown | null } layer\n   * \n   * @since 3.8.0\n   */\n  this.setSelectedLayer = function (layer) {\n    this.selectedLayer = layer;\n  };\n\n  /**\n   * @since 3.8.0\n   */\n  this.getSelectedLayer = function () {\n    return this.selectedLayer;\n  };\n\n  /**\n   * @returns {Array}\n   * \n   * @since 3.8.0\n   */\n  this.getExternalLayers = function () {\n    return this.externalLayers;\n  };\n\n  /**\n   * @since 3.8.0\n   */\n  this.catalogSelectedLayer = function (layer) {\n    this.setSelectedLayer(layer.isSelected() ? layer : null);\n\n    this.callControlsEventHandler({\n      handler: 'onSelectLayer',\n      param: this.selectedLayer\n    });\n  };\n\n  /**\n   * NB `handler` = method name\n   * \n   * @param {{ handler: string, param: any }}\n   * \n   * @since 3.8.0\n   */\n  this.callControlsEventHandler = function (_ref3) {\n    var handler = _ref3.handler,\n        param = _ref3.param;\n\n    Object.values(this._controls).forEach(function (control) {\n      if ('function' === typeof control[handler]) {\n        control[handler](param);\n      }\n    });\n  };\n\n  this._registerControl = function (id, control) {\n    this._controls[id] = control;\n    if (control.offline === false) {\n      this._offlineids.push({\n        id: id,\n        enable: control.getEnable()\n      });\n      control.getEnable() && control.setEnable(_application2.default.isOnline());\n    }\n  };\n\n  this.getControl = function (id) {\n    return this._controls[id];\n  };\n\n  this.getControls = function () {\n    return this._controls;\n  };\n\n  this.unregisterControl = function (id) {\n    var control = this.getControl(id);\n    if (!control) {\n      return false;\n    }\n    _gui2.default.getService('map').getMap().removeControl(control);\n    delete this._controls[id];\n    this._offlineids = this._offlineids.filter(function (_id) {\n      return _id !== id;\n    });\n    return true;\n  };\n\n  base(this);\n}\n\ninherit(ControlsRegistry, G3WObject);\n\nexports.default = new ControlsRegistry();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"g3w-ol/constants\":74,\"services/application\":350,\"services/gui\":360}],376:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file Store Open Layers levels (raster images, vector shapes, markers, ...)\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar LayersStoresRegistry = require('core/layers/layersstoresregistry');\n\nfunction MapLayersStoresRegistry() {\n  base(this);\n}\n\ninherit(MapLayersStoresRegistry, LayersStoresRegistry);\n\nexports.default = new MapLayersStoresRegistry();\n\n},{\"core/layers/layersstoresregistry\":37,\"core/utils/utils\":67}],377:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file Store G3W-CLIENT plugins (editing, qplotly, qtimeseries, ...)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n/**\n * law project configuration on project is handle as plugin\n * @type {string[]}\n */\nvar OTHERPLUGINS = ['law'];\n\nfunction PluginsRegistry() {\n  var _this = this;\n\n  this.config = null;\n  this._plugins = {};\n  this._configurationPlugins = [];\n  this.pluginsConfigs = {};\n  this._loadedPluginUrls = [];\n  this.setters = {\n    //setters to register plugin\n    registerPlugin: function registerPlugin(plugin) {\n      if (!this._plugins[plugin.name]) this._plugins[plugin.name] = plugin;\n    }\n  };\n  /**\n   * CHECK IF STILL USEFUL. IT RELATED TO CHANGE MAP OLD BEHAVIOR (PREVIOUS VERSION 3.4).\n   * NOW WHEN CHANGE MAP IS TRIGGER, PAGE IS RELOADED.\n   */\n  _projects2.default.onafter('setCurrentProject', function (project) {\n    _this.gidProject = project.getGid();\n  });\n\n  base(this);\n\n  // initialize plugin\n  this.init = function () {\n    var _this2 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new Promise(function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n        var plugins;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this2.pluginsBaseUrl = options.pluginsBaseUrl;\n                // plugin configurations\n                _this2.setPluginsConfig(options.pluginsConfigs);\n                // filter\n                Object.keys(_this2.pluginsConfigs).forEach(function (pluginName) {\n                  return _this2._configurationPlugins.push(pluginName);\n                });\n                _this2.addLoadingPlugins();\n                // plugins that aren't in configuration server but in project\n                _this2.otherPluginsConfig = options.otherPluginsConfig;\n                _this2.setOtherPlugins();\n                _this2.setDependencyPluginConfig();\n                _context.prev = 7;\n                _context.next = 10;\n                return _this2._loadPlugins();\n\n              case 10:\n                plugins = _context.sent;\n\n                resolve(plugins);\n                _context.next = 17;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context['catch'](7);\n\n                reject(_context.t0);\n\n              case 17:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this2, [[7, 14]]);\n      }));\n\n      return function (_x2, _x3) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  };\n\n  this.addLoadingPlugins = function () {\n    Object.keys(this.pluginsConfigs).forEach(function (plugin) {\n      return _application2.default.loadingPlugin(plugin);\n    });\n  };\n\n  this.removeLoadingPlugin = function (plugin, ready) {\n    _application2.default.loadedPlugin(plugin, ready);\n  };\n\n  this._loadPlugins = function () {\n    var _this3 = this;\n\n    var pluginLoadPromises = Object.entries(this.pluginsConfigs).map(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          name = _ref3[0],\n          pluginConfig = _ref3[1];\n\n      return _this3._setup(name, pluginConfig);\n    });\n    return Promise.allSettled(pluginLoadPromises);\n  };\n\n  this.setDependencyPluginConfig = function () {\n    var _this4 = this;\n\n    var _loop = function _loop(pluginName) {\n      var dependecyPluginConfig = _this4.pluginsConfigs[pluginName].plugins;\n      dependecyPluginConfig && Object.keys(dependecyPluginConfig).forEach(function (pluginName) {\n        _this4.pluginsConfigs[pluginName] = _extends({}, _this4.pluginsConfigs[pluginName], dependecyPluginConfig[pluginName]);\n      });\n    };\n\n    for (var pluginName in this.pluginsConfigs) {\n      _loop(pluginName);\n    }\n  };\n\n  this.setOtherPlugins = function () {\n    var law = OTHERPLUGINS[0];\n    if (this.otherPluginsConfig && this.otherPluginsConfig[law] && this.otherPluginsConfig[law].length) {\n      // law plugin\n      this.pluginsConfigs[law] = this.otherPluginsConfig[law];\n      this.pluginsConfigs[law].gid = this.otherPluginsConfig.gid;\n    } else delete this.pluginsConfigs[law];\n  };\n\n  // reaload plugin in case of change map\n  this.reloadPlugins = function (initConfig, project) {\n    var _this5 = this;\n\n    return new Promise(function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n        var scripts, plugins, _loop2, pluginName, _plugins;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                scripts = $('script');\n                plugins = _this5.getPlugins();\n\n                _loop2 = function _loop2(pluginName) {\n                  var plugin = plugins[pluginName];\n                  // unload plugin e remove from DOM\n                  plugin.unload();\n                  delete _this5._plugins[pluginName];\n                  scripts.each(function (index, scr) {\n                    _this5._loadedPluginUrls.forEach(function (pluginUrl, idx) {\n                      if (scr.getAttribute('src') === pluginUrl && pluginUrl.indexOf(pluginName) !== -1) {\n                        scr.parentNode.removeChild(scr);\n                        _this5._loadedPluginUrls.splice(idx, 1);\n                        return false;\n                      }\n                    });\n                  });\n                };\n\n                for (pluginName in plugins) {\n                  _loop2(pluginName);\n                }\n                _this5._loadedPluginUrls = [];\n                //setup plugins\n                _this5.otherPluginsConfig = project.getState();\n                _this5.setPluginsConfig(initConfig.group.plugins);\n                _this5.addLoadingPlugins();\n                _this5.setOtherPlugins();\n                _context2.prev = 9;\n                _context2.next = 12;\n                return _this5._loadPlugins();\n\n              case 12:\n                _plugins = _context2.sent;\n\n                resolve(_plugins);\n                _context2.next = 19;\n                break;\n\n              case 16:\n                _context2.prev = 16;\n                _context2.t0 = _context2['catch'](9);\n\n                reject(_context2.t0);\n\n              case 19:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this5, [[9, 16]]);\n      }));\n\n      return function (_x4, _x5) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n  };\n\n  /**\n   * setup plugin config only filtered by gid configuration\n   * @param config\n   */\n  this.setPluginsConfig = function () {\n    var _this6 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var enabledPluginConfig = {};\n    Object.entries(config).filter(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n          pluginConfig = _ref6[1];\n\n      return pluginConfig.gid === _this6.gidProject;\n    }).forEach(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          pluginName = _ref8[0],\n          pluginConfig = _ref8[1];\n\n      return enabledPluginConfig[pluginName] = pluginConfig;\n    });\n    this.pluginsConfigs = enabledPluginConfig;\n  };\n\n  /**\n   * Method to load external script\n   * @param url\n   * @returns {*}\n   * @private\n   */\n  this._loadScript = function (url) {\n    return $.getScript(url);\n  };\n\n  //load plugin script\n  this._setup = function (name, pluginConfig) {\n    var _this7 = this;\n\n    return new Promise(function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n        var _pluginConfig$jsscrip, jsscripts, depedencypluginlibrariespromises, _loop3, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, script, baseUrl, scriptUrl;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_.isNull(pluginConfig)) {\n                  _context3.next = 38;\n                  break;\n                }\n\n                _pluginConfig$jsscrip = pluginConfig.jsscripts, jsscripts = _pluginConfig$jsscrip === undefined ? [] : _pluginConfig$jsscrip;\n                depedencypluginlibrariespromises = [];\n\n                _loop3 = function _loop3(script) {\n                  depedencypluginlibrariespromises.push(new Promise(function (resolve, reject) {\n                    _this7._loadScript(script).done(function () {\n                      return resolve();\n                    }).fail(function () {\n                      return reject();\n                    });\n                  }));\n                };\n\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context3.prev = 7;\n\n                for (_iterator = jsscripts[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  script = _step.value;\n\n                  _loop3(script);\n                }\n                _context3.next = 15;\n                break;\n\n              case 11:\n                _context3.prev = 11;\n                _context3.t0 = _context3['catch'](7);\n                _didIteratorError = true;\n                _iteratorError = _context3.t0;\n\n              case 15:\n                _context3.prev = 15;\n                _context3.prev = 16;\n\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                  _iterator.return();\n                }\n\n              case 18:\n                _context3.prev = 18;\n\n                if (!_didIteratorError) {\n                  _context3.next = 21;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 21:\n                return _context3.finish(18);\n\n              case 22:\n                return _context3.finish(15);\n\n              case 23:\n                _context3.prev = 23;\n                _context3.next = 26;\n                return Promise.all(depedencypluginlibrariespromises);\n\n              case 26:\n                baseUrl = '' + _this7.pluginsBaseUrl + name;\n                scriptUrl = baseUrl + '/js/plugin.js?' + Date.now();\n\n                pluginConfig.baseUrl = _this7.pluginsBaseUrl;\n                _this7._loadScript(scriptUrl).done(function () {\n                  _this7._loadedPluginUrls.push(scriptUrl);\n                  resolve();\n                }).fail(function () {\n                  _this7.removeLoadingPlugin(name, false);\n                  reject();\n                });\n                _context3.next = 36;\n                break;\n\n              case 32:\n                _context3.prev = 32;\n                _context3.t1 = _context3['catch'](23);\n\n                _this7.removeLoadingPlugin(name, false);\n                reject();\n\n              case 36:\n                _context3.next = 39;\n                break;\n\n              case 38:\n                resolve();\n\n              case 39:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this7, [[7, 11, 15, 23], [16,, 18, 22], [23, 32]]);\n      }));\n\n      return function (_x7, _x8) {\n        return _ref9.apply(this, arguments);\n      };\n    }());\n  };\n\n  this.getPluginConfig = function (pluginName) {\n    return this.pluginsConfigs[pluginName];\n  };\n\n  this.getPlugins = function () {\n    return this._plugins;\n  };\n\n  this.getPlugin = function (pluginName) {\n    return this._plugins[pluginName];\n  };\n\n  // method to check if a plugin is in configuration and will be added to application\n  this.isPluginInConfiguration = function (pluginName) {\n    return this._configurationPlugins.indexOf(pluginName) !== -1;\n  };\n\n  this.isTherePlugin = function (pluginName) {\n    return this.pluginsConfigs[pluginName];\n  };\n}\n\ninherit(PluginsRegistry, G3WObject);\n\nexports.default = new PluginsRegistry();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/application\":350,\"store/projects\":378}],378:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file Store QGIS project configurations (enabled map controls / plugins / layers / ...)\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Project = require('core/project/project');\n\n/* service\n    setup: init method\n    getLayersState: returnLayersState\n    getLayersTree: return  array of layersTree from LayersState\n*/\n\n// Public interface\nfunction ProjectsRegistry() {\n  this.config = null;\n  this.initialized = false;\n  this.projectType = null;\n  this.currentProjectGroup = null;\n  this.overviewproject;\n  this.setters = {\n    createProject: function createProject(projectConfig) {\n      //hook to get project config and modify it\n    },\n    setCurrentProject: function setCurrentProject(project) {\n      if (this.state.currentProject !== project) {\n        _catalogLayers2.default.removeLayersStores();\n        _mapLayers2.default.removeLayersStores();\n      }\n      this.state.currentProject = project;\n      this.state.qgis_version = project.getQgisVersion();\n      this.setProjectType(project.state.type);\n      var projectLayersStore = project.getLayersStore();\n      //set in first position (catalog)\n      _catalogLayers2.default.addLayersStore(projectLayersStore, 0);\n      //set in first position (map)\n      _mapLayers2.default.addLayersStore(projectLayersStore, 0);\n    }\n  };\n\n  this.state = {\n    baseLayers: {},\n    minScale: null,\n    maxscale: null,\n    currentProject: null,\n    qgis_version: null\n  };\n\n  // (lazy loading)\n  this._groupProjects = [];\n  this._projectConfigs = {};\n\n  //Inizialize configuration for all project belong to group\n  this.init = function () {\n    var _this = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var d = $.Deferred();\n    //check if already initialized\n    if (!this.initialized) {\n      this.config = config;\n      this.currentProjectGroup = config.group;\n      this.overviewproject = config.overviewproject;\n      this.setupState();\n      // get current configuration\n      var searchParams = new URLSearchParams(location.search);\n      var map_theme = searchParams.get('map_theme');\n      this.getProject(config.initproject, {\n        map_theme: map_theme\n      }).then(function (project) {\n        // set current project\n\n        _this.setCurrentProject(project);\n        _this.initialized = true;\n        d.resolve(project);\n      }).fail(function (error) {\n        return d.reject(error);\n      });\n    } else {\n      var project = this.getCurrentProject();\n      d.resolve(project);\n    }\n    return d.promise();\n  };\n\n  this.clear = function () {\n    this.config = null;\n    this.initialized = false;\n    this.projectType = null;\n    this.overviewproject;\n    this.initialized = false;\n    this._groupProjects = [];\n    this._projectConfigs = {};\n    this.state = {\n      baseLayers: {},\n      minScale: null,\n      maxscale: null,\n      currentProject: null,\n      qgis_version: null\n    };\n  };\n\n  this.setProjectType = function (projectType) {\n    this.projectType = projectType;\n  };\n\n  this.getConfig = function () {\n    return this.config;\n  };\n\n  this.getState = function () {\n    return this.state;\n  };\n\n  this.setupState = function () {\n    this.state.baseLayers = this.config.baselayers;\n    this.state.minScale = this.config.minscale;\n    this.state.maxScale = this.config.maxscale;\n    this.state.crs = this.config.crs;\n    this.setProjects(this.config.projects);\n  };\n\n  this.getProjectType = function () {\n    return this.projectType;\n  };\n\n  this.getProjects = function () {\n    return this._groupProjects;\n  };\n\n  this.setProjects = function (projects) {\n    var _this2 = this;\n\n    this.clearProjects();\n    projects.forEach(function (project) {\n      _this2.state.qgis_version = project.qgis_version || _this2.state.qgis_version;\n      project.baselayers = _this2.config.baselayers;\n      project.minscale = _this2.config.minscale;\n      project.maxscale = _this2.config.maxscale;\n      project.crs = _this2.config.crs;\n      project.vectorurl = _this2.config.vectorurl;\n      project.rasterurl = _this2.config.rasterurl;\n      project.overviewprojectgid = _this2.overviewproject ? _this2.overviewproject.gid : null;\n      _this2._groupProjects.push(project);\n    });\n  };\n\n  this.clearProjects = function () {\n    this._groupProjects = [];\n  };\n\n  this.getListableProjects = function () {\n    var currentProjectId = this.getCurrentProject().getId();\n    return _.sortBy(this.getProjects().filter(function (project) {\n      if (!_.isNil(project.listable)) return project.listable;\n      if (project.id === currentProjectId || project.overviewprojectgid && project.gid === project.overviewprojectgid) return false;\n      return project;\n    }), 'title');\n  };\n\n  this.getCurrentProject = function () {\n    return this.state.currentProject;\n  };\n\n  // method to get project configuration - added reload to force to get configuratn project from server\n  this.getProject = function (projectGid) {\n    var _this3 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { reload: false };\n    var reload = options.reload,\n        map_theme = options.map_theme;\n\n    var d = $.Deferred();\n    var pendingProject = this._groupProjects.find(function (project) {\n      return project.gid === projectGid;\n    });\n    if (!pendingProject) {\n      d.reject(\"Project doesn't exist\");\n      return d.promise();\n    }\n    var projectConfig = !reload && this._projectConfigs[projectGid];\n    if (projectConfig) {\n      var project = new Project(projectConfig);\n      d.resolve(project);\n    } else {\n      this._getProjectFullConfig(pendingProject, { map_theme: map_theme }).then(function (projectFullConfig) {\n        var projectConfig = _.merge(pendingProject, projectFullConfig);\n        projectConfig.WMSUrl = _this3.config.getWmsUrl(projectConfig);\n        // setupu project relations\n        projectConfig.relations = _this3._setProjectRelations(projectConfig);\n        _this3._projectConfigs[projectConfig.gid] = projectConfig;\n        // instance of Project\n        _this3.createProject(projectConfig);\n        var project = new Project(projectConfig);\n        // add to project\n        d.resolve(project);\n      }).fail(function (error) {\n        return d.reject(error);\n      });\n    }\n    return d.promise();\n  };\n\n  this._setProjectRelations = function (projectConfig) {\n    projectConfig.relations = projectConfig.relations ? projectConfig.relations : [];\n    projectConfig.relations = projectConfig.relations.map(function (relation) {\n      if (relation.type === \"ONE\") {\n        projectConfig.layers.find(function (layer) {\n          if (layer.id === relation.referencingLayer) {\n            relation.name = layer.name;\n            relation.origname = layer.origname;\n            return true;\n          }\n        });\n      }\n      return relation;\n    });\n    return projectConfig.relations;\n  };\n\n  this.getProjectConfigByGid = function (gid) {\n    return this._groupProjects.find(function (project) {\n      return project.gid === gid;\n    });\n  };\n\n  this.setProjectAliasUrl = function (_ref) {\n    var gid = _ref.gid,\n        url = _ref.url,\n        host = _ref.host;\n\n    var project = this.config.projects.find(function (project) {\n      return project.gid === gid;\n    });\n    if (project) project.url = project && '' + (host ? host : '') + url;\n  };\n  /**\n   *\n   * @param gid\n   * @param mode production or development\n   * @returns {string}\n   */\n  this.getProjectUrl = function (gid) {\n    // get base url\n    var baseurl = this.config.urls.baseurl;\n    // get project configuration in initConfig group projects\n\n    var projectConfig = this.getProjectConfigByGid(gid);\n    var url = projectConfig.url;\n    var _location = location,\n        origin = _location.origin;\n\n    return '' + origin + baseurl + url;\n  };\n\n  /**\n   * @since 3.8.0\n   */\n  this.getBaseUrl = function () {\n    return this.config.urls.baseurl;\n  };\n\n  // method to call server to get project configuration\n  this._getProjectFullConfig = function (projectBaseConfig) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var map_theme = options.map_theme;\n\n    var d = $.Deferred();\n    var url = this.config.getProjectConfigUrl(projectBaseConfig);\n    $.get(url).done(function (projectFullConfig) {\n      if (map_theme) {\n        var type = projectBaseConfig.type,\n            id = projectBaseConfig.id;\n        var map_themes = projectFullConfig.map_themes;\n\n        var find_map_theme = map_themes.find(function (_ref2) {\n          var theme = _ref2.theme;\n          return theme === map_theme;\n        });\n        if (find_map_theme) {\n          var url_theme = '/' + type + '/api/prjtheme/' + id + '/' + map_theme;\n          $.get(url_theme).done(function (_ref3) {\n            var result = _ref3.result,\n                layerstree = _ref3.data;\n\n            if (result) {\n              projectFullConfig.layerstree = layerstree;\n              find_map_theme.layetstree = layerstree;\n              find_map_theme.default = true;\n            }\n          }).always(function () {\n            d.resolve(projectFullConfig);\n          });\n        }\n      } else d.resolve(projectFullConfig);\n    }).fail(function (error) {\n      return d.reject(error);\n    });\n    return d.promise();\n  };\n\n  /**\n   * @since 3.8.0\n   */\n  this.getCurrentProjectGroup = function () {\n    return this.currentProjectGroup;\n  };\n\n  base(this);\n}\n\ninherit(ProjectsRegistry, G3WObject);\n\nexports.default = new ProjectsRegistry();\n\n},{\"core/g3wobject\":12,\"core/project/project\":61,\"core/utils/utils\":67,\"store/catalog-layers\":373,\"store/map-layers\":376}],379:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file Store user session (login / logout)\n * @since v3.6\n */\n\nvar SessionsRegistry = function SessionsRegistry() {\n  this._sessions = {};\n\n  this.register = function (session) {\n    var id = session.getId();\n    this._sessions[id] = session;\n  };\n\n  this.unregister = function (id) {\n    delete this._sessions[id];\n  };\n\n  this.getSession = function (id) {\n    return this._sessions[id];\n  };\n\n  this.setSession = function (id, session) {\n    this._sessions[id] = session;\n  };\n\n  this.getSessions = function () {\n    return this._sessions;\n  };\n\n  this.clear = function () {\n    this._sessions = {};\n  };\n};\n\nexports.default = new SessionsRegistry();\n\n},{}],380:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* WARNING: this file is autogenerated by gulpfile.js, please do not edit manually */\n\nexports.default = '3.8.0-alpha.2';\n\n},{}]},{},[328]);\n"]}