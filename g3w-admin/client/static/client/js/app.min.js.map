{"version":3,"sources":["build.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","noop","inserted","cache","insert","css","elem","document","createElement","setAttribute","textContent","styleSheet","cssText","getElementsByTagName","appendChild","removeChild","2","_interopRequireDefault","obj","__esModule","default","_constant","_constant2","_applicationState","_applicationState2","_application","_application2","_InputG3W","_InputG3W2","_InputG3WFormInputs","_InputG3WFormInputs2","_inputservice","_inputservice2","_FormBody","_FormBody2","_FormFooter","_FormFooter2","_C3XYLine","_C3XYLine2","_catalogLayers","_catalogLayers2","_data","_data2","_editing","_editing2","_sessions","_sessions2","_iframePlugin","_iframePlugin2","_mapLayers","_mapLayers2","_plugins","_plugins2","_projects","_projects2","_relations","_relations2","_tasks","_tasks2","_workflows","_workflows2","_api","_api2","_router","_router2","_gui","_gui2","_mixins","_mixins2","G3WObject","utils","geoutils","i18n","Server","Session","Editor","Geom","_require","Geometry","Project","LayersStoreRegistry","LayersStore","Layer","LayerFactory","TableLayer","VectorLayer","ImageLayer","WmsLayer","XYZLayer","MapLayer","Feature","FeaturesStore","OlFeaturesStore","Filter","Expression","Plugin","PluginService","Task","Step","Flow","Workflow","Panel","ControlFactory","ComponentsFactory","FieldsService","Component","MetadataComponent","SearchComponent","SearchPanel","PrintComponent","CatalogComponent","MapComponent","ToolsComponent","QueryResultsComponent","FormComponent","FormService","InputsComponents","ChartsFactory","Fields","SearchPanelService","PickFeatureInteraction","PickCoordinatesInteraction","DeleteFeatureInteraction","AreaInteraction","LengthInteraction","g3wolutils","constant","core","ApplicationService","ApplicationState","ApiService","Router","task","TaskService","data","DataRouterService","iframe","IFrameRouterService","errors","parsers","editing","SessionsRegistry","ChangesManager","geometry","project","ProjectsRegistry","map","MapLayersStoreRegistry","catalog","CatalogLayersStoresRegistry","layer","geom","features","filter","relations","RelationsService","interaction","plugin","PluginsRegistry","workflow","WorkflowsStack","input","inputService","gui","GUI","vue","FormComponents","Body","Footer","Inputs","G3wFormInputs","G3WInput","Charts","c3","lineXY","Mixins","services","ol","interactions","measure","controls","info","$script","window","console","initConfig","version","APP_VERSION","platform","name","os","toString","trim","components/C3XYLine.vue","components/FormBody.vue","components/FormFooter.vue","components/InputG3W.vue","components/InputG3WFormInputs.vue","core/editing/editor","core/editing/session","core/errors/parser/servererrorparser","core/expression/inputservice","core/g3wobject","core/i18n/i18n.service","core/layers/features/feature","core/layers/features/featuresstore","core/layers/features/olfeaturesstore","core/layers/filter/expression","core/layers/filter/filter","core/layers/imagelayer","core/layers/layer","core/layers/layerfactory","core/layers/layersstore","core/layers/layersstoresregistry","core/layers/map/maplayer","core/layers/map/wmslayer","core/layers/map/xyzlayer","core/layers/tablelayer","core/layers/vectorlayer","core/plugin/plugin","core/plugin/pluginservice","core/project/project","core/utils/geo","core/utils/ol","core/utils/utils","core/workflow/flow","core/workflow/step","core/workflow/task","core/workflow/workflow","g3w-ol/interactions/areainteraction","g3w-ol/interactions/deletefeatureinteraction","g3w-ol/interactions/lengthinteraction","g3w-ol/interactions/pickcoordinatesinteraction","g3w-ol/interactions/pickfeatureinteraction","gui/catalog/vue/catalog","gui/charts/chartsfactory","gui/component/component","gui/component/componentsfactory","gui/fields/fields","gui/fields/fieldsservice","gui/form/formservice","gui/form/vue/form","gui/inputs/inputs","gui/map/control/factory","gui/map/vue/map","gui/metadata/vue/metadata","gui/panel","gui/print/vue/print","gui/queryresults/vue/queryresults","gui/search/vue/panel/searchpanel","gui/search/vue/panel/searchservice","gui/search/vue/search","gui/tools/vue/tools","mixins","services/api","services/application","services/data","services/editing","services/gui","services/iframe-plugin","services/relations","services/router","services/tasks","services/workflows","store/application-state","store/catalog-layers","store/map-layers","store/plugins","store/projects","store/sessions","3","Object","defineProperty","value","server","client","_i18n","tools","plugins","undefined","_locales","_locales2","apptitle","supportedLanguages","resources","debug","local","urls","baseurl","ows","api","initconfig","config","merge","type","../locales","4","LOCAL_ITEM_IDS","FONT_AWESOME_ICONS","API_BASE_URLS","ZINDEXES","VIEWPORT","TOC_THEMES_INIT_STATUS","TOC_LAYERS_INIT_STATUS","TIMEOUT","SEARCH_RETURN_TYPES","SEARCH_ALLVALUE","QUERY_POINT_TOLERANCE","PRINT_SCALES","PRINT_RESOLUTIONS","PRINT_FORMATS","MAP_SETTINGS","LOCALSTORAGE_EXTERNALWMS_ITEM","LIST_OF_RELATIONS_ID","LIST_OF_RELATIONS_TITLE","GEOMETRY_TYPES","GEOMETRY_FIELDS","FILTER_EXPRESSION_OPERATORS","FILTER_OPERATORS","G3W_FID","EPSG","DOWNLOAD_FORMATS","DEFAULT_EDITING_CAPABILITIES","_extends","assign","target","arguments","source","key","prototype","hasOwnProperty","_version","_version2","download","format","url","download_gpkg","download_gpx","download_csv","download_xls","download_raster","gte","lte","NOT","eq","gt","lt","IN","NOT IN","LIKE","ILIKE","AND","OR","ltgt","ilike","like","POINT","POINTZ","POINTM","POINTZM","POINT25D","MULTIPOINT","MULTIPOINTZ","MULTIPOINTM","MULTIPOINTZM","MULTIPOINT25D","LINESTRING","LINESTRINGZ","LINESTRINGM","LINESTRINGZM","LINESTRING25D","LINE","LINEZ","LINEM","LINEZM","LINE25D","MULTILINESTRING","MULTILINESTRINGZ","MULTILINESTRINGM","MULTILINESTRINGZM","MULTILINESTRING25D","MULTILINE","MULTILINEZ","MULTILINEM","MULTILINEZM","MULTILINE25D","POLYGON","POLYGONZ","POLYGONM","POLYGONZM","POLYGON25D","MULTIPOLYGON","MULTIPOLYGONZ","MULTIPOLYGONM","MULTIPOLYGONZM","MULTIPOLYGON25D","GEOMETRYCOLLECTION","GEOMETRYCOLLECTIONZ","GEOMETRYCOLLECTIONM","GEOMETRYCOLLECTIONZM","GEOMETRYCOLLECTION25D","ZOOM","maxScale","ANIMATION","duration","LAYER_POSITIONS","getPositions","label","unit","resize","min","content","usermessage","tool","CRS","change-map","file","marker","relation","search","print","info-circle","globe","mail","mobile","fax","user","bars","uncheck","check","filluncheck","table","trash","trash-o","pencil","ellips-h","ellips-v","arrow-up","arrow-down","arrow-left","arrow-right","resize-h","resize-v","resize-default","caret-up","caret-down","caret-left","caret-right","empty-circle","cloud-upload","spinner","minus","minus-square","plus","plus-circle","plus-square","grid","home","folder","sign-out","close","time","calendar","list","link","unlink","eye","eye-close","save","pdf","image","video","unknow","zip","text","excel","xls","gpx","gpkg","shapefile","csv","geotiff","ppt","circle","calculator","picture","keyboard","file-download","copy","draw","chart","chart-line","chart-area","chart-pie","run","warning","alert","crosshairs","success","back","file-upload","wifi","mouse","copy-paste","vector-square","credits","invert","clear","palette","layers","sign-in","language","pin","square","move","moon","sun","refresh","pause","step-backward","fast-backward","step-forward","fast-forward","crop","exit","slider","bookmark","reply","share","SPATIALBOOKMARKS","id","MESSAGES","../version","5","_asyncToGenerator","fn","gen","apply","this","Promise","resolve","reject","step","arg","error","done","then","err","BaseService","_this","onbefore","getCurrentProject","proto","handleRequest","request","handleResponse","_ref","regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","stop","_x","getSelectedExternalLayers","_ref2","_ref2$type","getService","getExternalSelectedLayers","getEmptyRequest","hasExternalLayerSelected","_ref3","_ref3$type","6","_defineProperty","enumerable","configurable","writable","_toConsumableArray","arr","Array","isArray","arr2","from","options","setters","_save","addFeature","feature","_addFeature","updateFeature","_updateFeature","deleteFeature","_deleteFeature","setFeatures","_setFeatures","getFeatures","_getFeatures","base","_filter","bbox","_allfeatures","_layer","_featuresstore","getType","LayerTypes","TABLE","_started","_noteditablefileds","getEditingNotEditableFields","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","iterator","push","TypeError","inherit","_canDoGetFeaturesRequest","doRequest","VECTOR","extent","containsExtent","extend","getEditingSource","getSource","_applyChanges","items","reverse","execute","setChanges","getLayer","setLayer","removeNotEditablePropriertiesFromFeature","forEach","field","unset","_cloneFeatures","clone","_addFeaturesFromServer","addFeatures","_doGetFeaturesRequest","online","d","$","Deferred","promise","fail","revert","readFeatures","rollback","changes","applyChangesToNewRelationsAfterCommit","relationsResponse","relationLayerId","getLayerById","editingLayerSource","getEditingLayer","clearState","applyCommitResponse","result","setFieldValueToRelationField","relationId","ids","_ref2$values","values","getSession","getEditor","getFeatureById","fieldvalue","get","set","_this2","lockids","new_lockids","idobj","clientid","setId","setProperties","properties","entries","_ref4","fatherField","childField","addLockIds","getLockIds","commit","commitItems","_this3","add","keys","layerRelation","getRelations","getRelationByFatherChildren","getId","updates","update","concat","getFatherField","getChildField","start","_this4","readEditingFeatures","_this5","unlock","isStarted","getFeaturesStore","resetEditingSource","getFeaturesCollection","7","History","_maxSteps","_states","state","undo","redo","_current","uniqueId","getLastState","_setState","getRelationStates","layerId","relationStates","relationItems","item","_layerId","insertState","stateId","index","_i2","_state","splice","removeState","removeStates","stateIds","_i3","insertStates","states","_i4","canCommit","canUndo","canRedo","_checkItems","action","newItems","own","dependencies","getFirstState","find","idx","setItemsFeatureIds","unsetnewids","unsetnewid","_this6","indexOf","_clearAll","getState","getCurrentState","_this7","currentState","getCurrentStateIndex","_this8","currentStateIndex","checkCommitItems","commitItem","steps","_","isNull","_getStatesToCommit","_this9","statesToCommit","getUid","isNew","isDeleted","isUpdated","_item","isAdded","8","_start","_stop","saveChangesOnServer","started","getfeatures","_editor","editor","_history","_temporarychanges","register","_typeof","constructor","is3DGeometry","getLastHistoryState","getLastStateId","deleteState","unregister","setEditor","Date","now","updateTemporaryChanges","change","getProperties","pushAdd","removeNotEditableProperties","newFeature","pushDelete","pushUpdate","oldFeature","temporarynewfeatureIndex","findIndex","removeChangesFromHistory","changeIds","moveRelationStatesOwnSession","statesIds","_getCommitItems","getCommitItems","relationSession","New","Old","_filterChanges","temporarychange","unshift","_changes","rollbackDependecies","_serializeCommit","itemsToCommit","commitObj","delete","isRelation","sessionRelation","GeoJSONFormat","GeoJSON","writeFeatureObject","childs_properties","_key","set3DGeometryType","_ref$layerId","editingLayer","geometryType","getGeometryType","_ref2$ids","_ref2$relations","_data$new_relations","new_relations","session","_canStop","clearHistory","getHistory","core/editing/history","9","serverErrorParser","_error","parse","traverseErrorMessage","errorObject","entry","_entry","_entries$find","_ref5","_entries$find2","error_message","_ref6","_ref7","replace","_entries$","_value","_ref$type","responseJSON","message","10","convertFeatureToGEOJSON","handleFilterExpressionFormInput","_field$input$options","_field$input$options$","layer_id","filter_expression","loading","qgs_layer_id","parentData","abrupt","getData","inputs","field_name","form_data","parent","formatter","expression","outputs","sent","sort","aKey","bKey","toLowerCase","t0","finish","handleDefaultExpressionFormInput","_callee2","_field$input$options2","_field$input$options3","default_expression","default_value","_context2","11","getFormDataExpressionRequestFromFeature","getVisibility","_ref$feature","contenttype","12","debounce","throttle","_setupListenersChain","debounces","_setupDebounces","throttles","_setupThrottles","EventEmitter","onafter","setter","listener","priority","_onsetter","onceafter","oncebefore","onbeforeasync","un","settersListeners","setterListener","when","async","once","listenerKey","Math","floor","random","fnc","sortBy","after","before","_loop","setterOption","setterFnc","setterFallback","isFunction","fallback","_len","args","_key2","deferred","returnVal","counter","callSetter","onceListenerKeys","afterListeners","abort","beforeListeners","bool","cont","isBoolean","completed","emitEvent","listenerObj","currentCounter","_bool","delay","Function","13","init","appLanguages","plugins18nConfig","i18next","use","i18nextXHRBackend","lng","ns","fallbackLng","jqueryI18next","tName","i18nName","handleName","selectorAttr","targetAttr","optionsAttr","useOptionsAttr","parseDefaultValueFromContent","addI18n","getAppLanguage","getConfig","tPlugin","tPrefix","addI18nPlugin","pluginLanguage","i18nObject","languageObj","addResource","changeLanguage","14","15","BaseIframeService","ready","createFilterFormField","mapService","getComponent","getQgsLayerId","_ref$noValue","noValue","searchFeature","search_endpoint","_ref4$data","getSearchEndPoint","_x2","findFeaturesWithGeometry","layersCount","_ref6$qgs_layer_id","_ref6$zoom","zoom","_ref6$highlight","highlight","found","getGeometry","zoomToFeatures","t1","zoomToProjectInitExtent","setLayers","getLayers","setReady","getReady","_callee3","_context3","16","_iframeApp","_iframeApp2","_iframeEditing","_iframeEditing2","app","services/iframe-app","services/iframe-editing","17","BasePluginService","pluginName","dependencyApi","_ref2$layers","isPluginInConfiguration","getPlugin","setDependencyApi","getApi","isReady","getName","getDependecyApi","core/iframe/services/baseservice","18","ARCGISMAPSERVERLayer","BaseLayer","BasesLayers","_makeOlLayer","_config","attributions","crs","projection","getProjectionFromCrs","olLayer","TMS","source_type","core/layers/baselayers/baselayer","g3w-ol/layers/bases","19","isWMS","getWmsUrl","tiled","_mapLayer","WMSLayer","addLayer","Projections","epsg","_registerLoadingEvent","_olLayer","on","emit","getOLLayer","mapState","extraParams","_updateLayer","setAttributions","setVisible","visible","getMapLayer","g3w-ol/projection/projections","20","BaseLayers","OSM","Bing","ARCGISMAPSERVER","WMTS","WMS","./arcgislayer","./binglayer","./osmlayer","./tmslayer","./wmslayer","./wmtslayer","21","BingLayer","vendorkeys","bing","subtype","BING","imagerySet","22","OSMLayer","title","23","TMSLayer","minZoom","maxZoom","24","singleTile","opacity","25","WMTSLayer","matrixSet","style","requestEncoding","26","geometryFields","_uid","_newPrefix","_geometry","property","setGeometryName","getGeometryName","setGeometry","getStyle","setStyle","new","inherits","_setUid","uid","isGeometry","cloneNew","setTemporaryId","setState","setNew","newValue","setFullState","getFullState","getAlphanumericProperties","alphanumericproperties","isVisible","app/constant","27","_features","_provider","provider","_loadedIds","_lockIds","hasFeatureLockByOtherUser","removeFeature","_removeFeature","_clearFeatures","featurestore","_commit","featuresLockedByOtherUser","cloneDeep","setProvider","getProvider","_filterFeaturesResponse","_readFeatures","_options$features","_options$featurelocks","featurelocks","count","featuresToAdd","featureId","added","_filterLockIds","lockid","featureid","toAddLockId","featurelock","addLoadedIds","lockIds","union","lockId","getFeatureByUid","feat","getDataProvider","28","Collection","getLength","getArray","dispatchEvent","featuresArray","_feature","removeAt","insertAt","29","_layerName","layerName","_expression","and","or","_build","not","operator","join","createSingleExpressionElement","attribute","logicop","filterElement","valueExtra","filterOp","filterLogicOperator","filterValue","Number","isNaN","singolequote","split","_filterElements","_value2","_filterOp","_filterValue","_filterElement","createExpressionFromFilterObject","filterElements","rootFilter","_operator","_value3","_field","_value4","fieldElement","createExpressionFromField","_ref2$operator","createExpressionFromFilterArray","inputsLength","substring","createExpressionFromFilter","filterParam","30","_type","setConfig","mergeConfig","getAll","TYPES","all","setExpression","setBBOX","setFids","fids","serialize","JSON","stringify","31","GeojsonLayer","setup","GeojsonMapLayer","getProjection","getCode","core/layers/map/geojson","32","GeoLayerMixin","getScaleFromResolution","_require2","createFeatureFromFeatureObject","_require3","XHR","sanitizeUrl","RESERVERDPARAMETRS","wms","map_crs","multilayerid","multilayer","legendCategories","olSelectionFeatures","geolayer","geometrytype","legend","show","external","checked","hidden","scalebasedvisibility","minscale","maxscale","ows_method","exclude_from_legend","categories","expanded","_sanitizeSourceUrl","getLegendGraphic","_ref$all","legendParams","layout","legendurl","getLegendUrl","setCategories","getCurrentStyle","category","ruleKey","getCategories","clearCategories","clearOlSelectionFeatures","getOlSelectionFeature","updateOlSelectionFeature","featureObject","_mapService","setSelectionFeatures","deleteOlSelectionFeature","getOlSelectionFeatures","addOlSelectionFeature","showAllOlSelectionFeatures","setInversionOlSelectionFeatures","setOlSelectionFeatureByFid","fid","setOlSelectionFeatures","__layerId","sanitizedUrl","reserverParameters","isLayerCheckedAndAllParents","isChecked","parentGroup","setChecked","oldVisibile","changed","isDisabled","disabled","isPrintable","scale","getStyles","styles","current","getOpacity","setCurrentStyle","currentStyleName","setDisabled","resolution","mapUnits","mapScale","isFilterable","setTocHighlightable","getMultiLayerId","getOwsMethod","setProjection","getEpsg","getCrs","getMapCrs","isCached","cache_url","getCacheUrl","hasAxisInverted","axisOrientation","getAxisOrientation","substr","setMapProjection","mapProjection","_mapProjection","getMapProjection","33","baselayer","IMAGE","legendUrl","customParams","mixin","WMSTLayer","LegendService","getLayerForEditing","_project","editableLayer","_ref2$force","force","vectorurl","project_type","isEditable","layerForEditing","setEditingLayer","isBaseLayer","WMSServerTypes","servertype","isLayerProjectionASMapProjection","isExternalWMS","isArcgisMapserver","SourceTypes","_getBaseLayerName","isWmsUseLayerIds","getWMSLayerName","legendMapBoolean","_ref4$type","wmsUrl","getWFSLayerName","getQueryLayerName","useProxy","getInfoFormats","getWMSInfoLayerName","getPrintLayerName","getStringBBox","minx","miny","maxx","maxy","isWfsActive","ows_type","getFullWmsUrl","metadata_wms_url","metadata","wms_url","getCatalogWmsUrl","getMetadata","catalogWmsUrl","getCatalogWfsUrl","getWfsUrl","getQueryUrl","getServerType","ServerTypes","QGIS","getIconUrlFromLegend","layertitle","params","setMapParamstoLegendUrl","getWfsCapabilities","wfscapabilities","capabilities","iframe_internal","isIframe","mapLayer","method","WMST","Mapserver","Geoserver","OGC","core/layers/geolayermixin","core/layers/legend/legendservice","core/layers/map/arcgismapserverlayer","core/layers/map/wmstlayer","34","fields","query","infourl","_options$project","_createRelations","suffixUrl","vectorUrl","getVectorUrl","rasterUrl","getRasterUrl","filtertoken","shp","widget","unique","featurecount","getUrl","searchParams","I","J","defaultstyle","selected","metadata_querable","isQueryable","onMap","openattributetable","canShowTable","removable","downloadable","isDownloadable","inediting","infoformat","getInfoFormat","infoformats","projectLayer","selection","active","attributetable","pageLength","tochighlightable","stylesfeaturecount","selectionFids","Set","_layersstore","layersstore","serverType","sourceType","providers","ProviderFactory","build","proxyData","parseAttributes","Relations","getProxyData","setProxyData","clearProxyData","getDataProxyFromServer","proxyParams","changeProxyDataAndReloadFromServer","changeParam","param","isInEditing","setInEditing","getSearchParams","projectRelations","referencedLayer","referencingLayer","getRelationById","getRelationAttributes","relationName","getRelationsAttributes","isChild","isFather","getChildren","getFathers","hasChildren","hasRelations","hasFathers","setAttributeTablePageLength","getAttributeTablePageLength","setFilter","getFilterActive","toggleFilterToken","activeFilterToken","createFilterToken","deleteFilterToken","_x10","_callee4","_context4","setFilterToken","_callee5","_context5","size","has","SELECTION_STATE","ALL","EXCLUDE","fidsout","fidsin","getFilterToken","setSelectionFidsAll","isGeoLayer","setSelection","getSelectionFids","invertSelectionFids","hasSelectionFid","includeSelectionFid","_ref8","_callee6","GIVE_ME_A_NAME","createToken","_context6","isSelectionActive","_x12","includeSelectionFids","excludeSelectionFid","_ref9","_callee7","isLastFeatureSelected","_context7","setselectionFidsAll","_x14","excludeSelectionFids","clearSelectionFids","wms_use_layer_ids","getDownloadFilefromDownloadDataType","_ref10","_ref10$data","getShp","getXls","getCsv","getGpx","getGpkg","getGeoTIFF","_ref11","_ref11$data","fileDownload","httpMethod","_ref12","_ref12$data","_ref13","_ref13$data","_ref14","_ref14$data","_ref15","_ref15$data","_ref16","_ref16$data","getSourceType","getDataTable","_ref17","_ref17$page","page","_ref17$page_size","page_size","_ref17$ordering","ordering","_ref17$search","_ref17$suggest","suggest","_ref17$formatter","in_bbox","_ref17$custom_params","custom_params","tokens","headers","getAttributes","getTitle","getFeatureByFids","_callee8","_ref19","_ref19$fids","_ref19$formatter","_context8","vector","searchFeatures","_options$search_endpo","_ref20","_callee9","_options$raw","raw","_options$suggest","queryUrl","_context9","results","getFilterData","t2","t3","_x26","_x27","_callee10","_ref22","_ref22$raw","_ref22$suggest","_ref22$formatter","_context10","feature_count","getFields","getFieldByName","fieldName","getEditingFields","getTableFields","getTableHeaders","getProject","getLayerEditingFormStructure","editor_form_structure","getEditorFormStructure","getFieldsOutOfFormStructure","structure","hasFormStructure","getCustomStyle","customstyle","isShpDownlodable","isXlsDownlodable","isGpxDownlodable","isGpkgDownlodable","isCsvDownlodable","getDownloadableFormats","download_format","getDownloadUrl","isGeoTIFFDownlodable","_editingLayer","isHidden","setHidden","isModified","modified","getOrigName","origname","isType","setType","isSelected","setSelected","_callee11","_context11","getSelection","getFilter","_ref24","queryEnabled","queryableForCababilities","CAPABILITIES","QUERYABLE","infowhennotvisible","getOws","getTocHighlightable","conditions","isFiltrable","FILTERABLE","conditionalFiltrable","reduce","layer_config_value","condition_attribute_values","isQtimeseries","qtimeseries","EDITABLE","setUrl","_ref25","getUrls","setEditingUrl","setQueryUrl","infolayer","getQueryLayerOrigName","ogcService","getInfoUrl","setInfoFormat","infoFormat","changeAttribute","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","getAttributeLabel","getProviders","getLayersStore","setLayersStore","layerstore","not_show_attributes_table","POSTGIS","ORACLE","WFS","OGR","MSSQL","SPATIALITE","G3WSUITE","changeFieldType","_ref26","_ref26$options","_ref26$reset","reset","changeConfigFieldType","_ref27","_ref27$options","_ref27$reset","resetConfigField","_ref28","isVector","isTable","getFeatureCount","getStyleFeatureCount","_ref29","_callee12","_ref30","_context12","post","contentType","_x39","LOCAL","VIRTUAL","CSV","GDAL","WCS","MDAL","VECTOR-TILE","VECTORTILE","GEOJSON","EDITOPS","INSERT","UPDATE","DELETE","core/layers/providers/providersfactory","core/relations/relations","35","layerClass","LayerClass","sourcetype","core/layers/baselayers/baselayers","core/layers/geojson","36","initextent","layerstree","_isQueryable","queryable","_layers","setLayerSelection","setLayerSelected","addLayers","_addLayer","removeLayer","_removeLayer","setQueryable","showOnCatalog","setOptions","removeLayers","getLayersDict","PRINTABLE","VISIBLE","SELECTED","CACHED","SELECTED_OR_ALL","SERVERTYPE","BASELAYER","GEOLAYER","VECTORLAYER","HIDDEN","DISABLED","IDS","isUndefined","filtrable","getBaseLayers","getLayerByName","getLayerAttributes","getLayerAttributeLabel","getGeoLayers","_getAllSiblingsChildrenLayersId","nodeIds","traverse","nodes","node","_getAllParentLayersId","_node","selectLayer","getExtent","getInitExtent","setLayersTree","rootGroup","root","createLayersTree","groupName","full","tocLayersId","lightlayer","groupId","mutually_exclusive","removeLayersTree","getLayersTree","37","LayersStoresRegistry","stores","storesArray","addLayersStore","layersStore","_addLayersStore","removeLayersStore","layerStore","_removeLayersStore","removeLayersStores","_removeLayersStores","storeId","getQuerableLayersStores","getLayersStores","isNil","_storeId","38","ARGISMAPSERVERLegend","_layer$getConfig$sour","layername","serviceUrl","39","arcgismapserver","Legendservice","_ref$options","./arcgismapserverlegend","./wmslegend","40","WMSLegend","width","height","_params$color","color","_params$fontsize","fontsize","_params$transparent","transparent","boxspace","layerspace","_params$layertitle","layertitlespace","symbolspace","iconlabelspace","symbolwidth","symbolheight","itemfontfamily","layerfontfamily","layerfontbold","itemfontbold","layerfontitalic","itemfontitalic","rulelabel","_params$sld_version","sld_version","_options$categories","_options$all","_options$format","LAYER","FORMAT","STYLES","LEGEND_ON","LEGEND_OFF","encodeURIComponent","getContextBaseLegend","_get_LEGEND_ON_LEGEND","get_LEGEND_ON_LEGEND_OFF_Params","41","WMSLAYER","RasterLayers","TiledArgisMapServer","g3w-ol/layers/rasters","42","core/layers/map/vectorlayer","43","allLayers","showSpinnerWhenLoading","_updateLayers","checkLayerDisabled","checkLayersDisabled","setupCustomMapParamsToLegendUrl","44","createOlLayer","createLayerStyle","resetSource","Vector","setSource","_style","_makeStyle","styleConfig","icon","Icon","src","imageSize","stroke","Stroke","fill","Fill","Style","setOLLayer","getVisible","addToMap","45","_objectWithoutProperties","LAYERTYPE","MULTILAYER","_method","withLayers","getGetFeatureInfoUrl","coordinate","getLayerConfigs","_getVisibleLayers","getQueryableLayers","_extraParams$force","visibleLayers","CATEGORIES_LAYERS","OPACITIES","parseInt","prefix","LAYERS","updateParams","46","wmsConfig","representativeLayer","TiledWMSLayer","47","layerOptions","48","GEOJSONDataProvider","_name","Provider","parseFeatures","parser","featureProjection","dataProjection","digestFeaturesForTable","core/layers/providers/provider","49","KMLDataProvider","DataProvider","50","_isReady","_hasFieldsStartWithNotPermittedKey","getTimeoutPromise","handleQueryResponse","responseParser","isValid","handleQueryResponseFromServer","projections","getQueryResponseTimeoutKey","_ref$layers","getTimeoutData","core/utils/parsers","51","providerType","providerClass","ProvidersForServerTypes","Providers","geojson","kml","xml","qgis","wfs","virtual","postgres","oracle","mssql","spatialite","ogr","delimitedtext","wmst","wcs","gdal","vector-tile","vectortile","mdal","./geojsonprovider","./kmlprovider","./qgisprovider","./wfsprovider","./wmsprovider","./xmlprovider","52","QGISProvider","_projections","_queryUrl","_filtertokenUrl","_infoFormat","Parsers","mode","_ref3$data","dataUrl","_ref5$raw","_ref5$suggest","_ref5$formatter","setProjections","_options$filter","layerNames","SERVICE","VERSION","REQUEST","QUERY_LAYERS","INFO_FORMAT","FEATURE_COUNT","FILTER","WITH_GEOMETRY","featuresForLayers","getWidgetData","widgetUrls","unlockUrl","jsonCommits","layerType","urlParams","jsonFilter","_options","_jsonFilter","nofeatures","_jsonFilter2","nofeatures_field","parser_options","featureLock","_urlParams","_loadLayerData","customUrlParameters","_arguments","Obkect","layerCode","noVectorlayerCodes","vectorLayersSetup","_setupVectorLayer","vectorLayersCodes","slice","loadAllVectorsData","_vectorLayersCodes","setVectorLayersCodes","getVectorLayersCodes","reloadVectorData","_createVectorLayerFromConfig","vectorLayer","_getVectorLayerData","vectorDataResponse","setVectorLayerData","_editingApiField","setData","layerCodes","loadedExtent","_loadedExtent","resolvedValue","vectorDataRequests","_loadVectorData","_setCustomUrlParameters","_customUrlParameters","_checkVectorGeometryTypeFromConfig","vectorConfig","layerConfig","_getVectorLayerConfig","vectorConfigResponse","crsLayer","_createVectorLayer","self","_editingMode","setFields","setCrs","lazyRelations","setRelations","setVectorFeaturesLock","getVectorLayerData","_vectorLayersData","getVectorLayersData","vectorLayerData","featureslock","newFeaturesLockIds","differenceBy","getFeatureLocks","newLockId","addLockId","cleanVectorFeaturesLock","cleanFeatureLocks","lockFeatures","_baseUrl","layerApiField","lock","getMode","apiUrl","cleanUpLayers","53","WFSDataProvider","toRawType","_options$reproject","reproject","_options$feature_coun","MAXFEATURES","_options$layers","timeoutKey","_doRequest","featuresForLayer","_featuresForLayer$fea","always","clearTimeout","_post","match","_get","SRSNAME","TYPENAME","OUTPUTFORMAT","filterType","filterConfig","featureRequest","writeGetFeature","featureTypes","_filterConfig$spatial","spatialMethod","children","innerHTML","repeat","queryPromise","status","responseText","54","WMSDataProvider","appendParams","GETFEATUREINFO_IMAGE_SIZE","DPI","getDPI","_getRequestParameters","coordinates","_ref$query_point_tole","query_point_tolerance","getExtentForViewAndSize","x","y","PARAMS_TOLERANCE","bufferGeometry","Polygon","fromCircle","Circle","wkGeometry","WKT","FILTER_GEOM","writeGeometry","FI_POINT_TOLERANCE","FI_LINE_TOLERANCE","FI_POLYGON_TOLERANCE","G3W_TOLERANCE","LEGEND_PARAMS","WIDTH","HEIGHT","layerProjection","_options$size","_options$coordinates","METHOD","test","Content-Type","GET","sourceParam","POST","55","XMLDataProvider","56","clearFeatures","syncSelectionFilterFeatures","setColor","_setColor","_color","_editatbleLayer","getEditingConfig","_ref$constraints","constraints","_ref$capabilities","form","perc","_setOtherConfigParameters","updateItem","setFormPercentage","getFormPercentage","cloneFeatures","setVectorUrl","setProjectType","projectType","getColor","isEditingLayer","getEditingStyle","setEditingStyle","getEditingConstrains","getEditingCapabilities","isFieldRequired","required","validate","editable","isPkField","find_field","pk","isEditingFieldEditable","getEditingMediaFields","getFieldsLabel","labels","getDataFormat","getEditingFormat","addEditingConfigFieldOption","getCommitUrl","setCommitUrl","getEditingUrl","getUnlockUrl","setUnlockUrl","getWidgetUrl","setDataUrl","getDataUrl","getConfigUrl","setConfigUrl","setFeaturesStore","featuresstore","setFieldsWithValues","createAttributesFromFields","attributes","getFieldsWithValues","_options$exclude","exclude","_options$get_default_","get_default_value","forceNull","valid","_valid","value_from_default_value","exclude_values","mutually_valid","empty","createNewFeature","57","VectorMapLayer","getEditingGeometryType","58","_ref$name","_ref$config","getPluginConfig","_ref$service","service","_ref$dependencies","_ref$i18n","_ref$fontClasses","fontClasses","_ref$api","setName","setLocale","setService","setDependencies","addFontClasses","setApi","setHookService","_ready","hookservices","_timeout","setTimeout","removeLoadingPlugin","removeLayout","setPlugin","hook","_hook","getHookService","setLayout","cloneLayout","setCurrentLayout","isCurrentProjectCompatible","projectId","getGid","registerPlugin","iscompatible","getDependencyPlugins","pluginsName","getDependencyPlugin","getDependencyPluginsObject","pluginsApiObject","promises","_x6","isTherePlugin","setHookLoading","_ref3$hook","_ref3$loading","setLoading","addToolGroup","_ref4$hook","order","position","group","removeToolGroup","addTools","_ref6$hook","html","_ref6$offline","offline","_ref6$options","_ref6$loading","_ref6$disabled","_ref6$state","groupTools","configs","bind","setToolState","_ref7$state","removeTools","createSideBarComponent","vueComponentObject","_ref8$open","_ref8$collapsible","_ref8$mobile","_ref8$isolate","_ref8$closewhenshowvi","_ref8$iconConfig","_ref8$events","_ref8$sidebarOptions","open","collapsible","isolate","closewhenshowviewportcontent","iconConfig","events","sidebarOptions","componentsFactoryOpts","iconColor","getFontClass","PluginSiderbarComponent","addComponent","removeComponent","unload","clearAllEvents","load","addDependency","dependency","addFontClass","className","Vue","g3wtemplate","fonClasses","fontClass","59","_pluginEvents","_appEvents","currentLayout","getCurrentLayoutName","vm","unwatch","$watch","__current","currentLayoutName","resetCurrentLayout","gid","initEvents","registerWindowEvent","evt","cb","unregisterWindowEvent","subscribeEvent","_ref5$once","owner","triggerEvent","_ref6$params","unsubscribeEvent","removeEvent","unsubscribeAllEvents","loadPlugin","60","PrintService","_currentLayerStore","convertObjectToUrlParams","OUTPUT_FORMATS","jpg","COMMON_REQUEST_PARAMETERS","getAtlasParamsFromOptions","template","_options$download","multiValues","EXPRESSION","EXP_FILTER","TEMPLATE","DOWNLOAD","getParamsFromOptions","rotation","dpi","_options$maps","maps","_options$labels","is_maps_preset_theme","preset_theme","mime_type","xhr","XMLHttpRequest","responseType","setRequestHeader","onload","URL","webkitURL","_url","createObjectURL","onerror","send","_getAtlasParamsFromOptions","_getParamsFromOptions","printAtlas","61","catalog_tab","toc_tab_default","_catalog_tab","toc_layers_init_status","toc_themes_init_status","map_themes","expression_eval","vector_data","_processLayers","crsToCrsObject","_projection","_layersStore","_buildLayersStore","setBaseLayer","baselayers","baseLayer","setSearchEndPoint","getAliasUrl","aliasUrl","getActiveCatalogTab","setActiveCatalogTab","tab","context_base_legend","getQueryPointTolerance","getQueryFeatureCount","isQueryMultiLayers","mapcontrol","querymultilayers","getRelationsByLayerId","layer_name_originale","baseLayerId","getBaseLayerId","baseLayerConfig","baseLayerVisibleId","initbaselayer","fixed","overviewprojectgid","WMSUrl","getConfigLayers","setLegendPosition","legend_position","getLegendPosition","getThumbnail","thumbnail","getPrint","getSearches","rasterurl","getOverviewProjectGid","getQgisVersion","qgis_version","setLayersTreePropertiesFromMapTheme","mapThemeConfig","mapThemeLayersTree","groups","map_theme","_ref4$layerstree","getMapThemeFromThemeName","visibility","setCurrentStyleAndResolvePromise","allSettled","_ref6$node","_x8","map_theme_config","theme","getMapThemeConfiguration","_x9","getSpatialBookmarks","bookmarks","getMessages","messages","62","Relation","uniqueSuffix","father","child","fieldRef","referencedField","referencingField","setTitle","getChild","getFather","isLoading","63","_length","_relationsInfo","fathers","father_child","relationConfig","_createRelationsInfo","relationKey","_clearRelationsInfo","father_children","_reloadRelationsInfo","addRelation","removeRelation","childId","fatherId","core/relations/relation","64","GeometryTypes","removeZValueToOLFeatureGeometry","originalFeatureCoordinates","getCoordinates","setCoordinates","singleLine","singlePolygon","addZValueToOLFeatureGeometry","MULTIPOLYGOZM","getOLGeometry","isMultiGeometry","getAllPointGeometryTypes","isPointGeometryType","getAllLineGeometryTypes","isLineGeometryType","getAllPolygonGeometryTypes","isPolygonGeometryType","type3D","coordinatesToGeometry","geometryClass","MultiPolygon","LineString","MultiLineString","Point","MultiPoint","getDefaultLayerStyle","defaultStyle","radius","styleObj","createFeatureFromCoordinates","createFeatureFromBBOX","fromExtent","createFeatureFromGeometry","_ref6$feature","_feature2","olSource","setOpacity","createWMSLayer","_ref7$layers","wmslayer","createVectorLayerFromGeometry","createVectorLayerFromFeatures","createVectorLayerFromFile","createVectorLayer","separator","errorrows","promiseKmz","mapCrs","KML","vectorSource","_fields","GPX","WMSGetFeatureInfo","extractStyles","row","rowvalues","transform","showUserMessage","hooks","footer","autoclose","buffer","kmlFile","JSZip","arrayBuffer","asText","_x11","createStyleFunctionToVectorLayer","styleFunction","rgba","g","b","setText","Text","font","offsetY","_g3w_options","createSelectedStyle","_ref12$color","_ref12$fill","zIndex","Infinity","fillColor","asArray","asString","getAlphanumericPropertiesFromFeature","getQueryLayersPromisesByBBOX","_ref13$filterConfig","_ref13$feature_count","_ref13$multilayers","multilayers","queriesPromise","getMap","getView","getQueryLayersPromisesByGeometry","queryResponses","queryErrors","layersLenght","layerCrs","_ref14$multilayers","_ref14$filterConfig","_ref14$feature_count","filterGeometry","multiLayers","groupBy","numberRequestd","layersLength","_multilayer","getQueryLayersPromisesByCoordinates","_ref15$feature_count","_ref15$query_point_to","_ref15$multilayers","_ref15$reproject","getSize","getResolution","numberOfRequests","_layers2","rejectedResponses","transformBBOX","sourceCrs","destinationCrs","point1","point2","parseQueryLayersPromiseResponses","responses","getMapLayerById","getMapLayersByFilter","areCoordinatesEqual","coordinates1","coordinates2","getFeaturesFromResponseVectorApi","_ref17$type","covertVectorFeaturesToResultFeatures","splitGeometryLine","splitGeometry","lineGeometry","isZType","splitted","splittedSegments","jstsFromWkt","jsts","io","WKTReader","wktFromOl","olFromJsts","OL3Parser","splitLine","read","wktLineString","targetLine","targetCoordinates","targetCoordinatesLength","geometryFactory","GeometryFactory","pointsNotSplitted","endPoint","startPoint","z","segment","createLineString","intersectCoordinates","intersection","splitPoint","lineNewSegment","write","_lineNewSegment","_coordinates","restOfLine","zCoordinates","pointNotSplitted","splitFeatures","_ref18","_ref18$features","splitfeature","splitterdGeometries","geometries","splitFeature","splitType","featureGeometryType","splittedFeatureGeometries","isMulti","polygonFeature","getPolygons","polygonFeatureGeometry","externalPolygonFeatureGeometry","getLinearRing","holePolygons","getLinearRingCount","holeFeaturesGeometry","holeRing","operation","polygonize","Polygonizer","holyPolygonUnion","toArray","polygon","polygonizer","polygons","difference","intersects","getInteriorPoint","polygonCoordinates","_isMulti","lineFeatureGeometry","getLineStrings","getPointFeaturesfromGeometryVertex","pointFeatures","pop","getVertexLength","vertexLength","isSameBaseGeometryType","geometryType1","geometryType2","isSingleGeometry","singleGeometriesToMultiGeometry","multiGeometryToSingleGeometries","getPoints","convertSingleMultiGeometry","toGeometryType","fromGeometryType","isFromGeometryMulti","isToGeometryMulti","dissolve","_ref20$features","_ref20$index","_ref20$clone","featuresLength","dissolvedFeature","jstsdissolvedFeatureGeometry","baseFeature","baseFeatureGeometry","baseFeatureGeometryType","lineMerger","linemerge","LineMerger","addLineString","mergedLineString","getMergedLineStrings","_feature3","dissolvedFeatureGeometry","dissolvedFeatureGeometryType","dissolvedFeatuteGeometryCoordinates","within","geometryToCheck","jstsGeometry","jstsGeometryToCheck","findSelfIntersects","jstsPolygon","validator","IsSimpleOp","isSimpleLinearGeometry","graph","geomgraph","GeometryGraph","cat","ConsistentAreaTester","isNodeConsistentArea","normalizeEpsg","proj4","axisinverted","geographic","ConvertDMToDEG","_ref21","dms","_ref21$type","dms_Array","degrees","minutes","deg","toFixed","ConvertDEGToDM","_ref22$output","output","absolute","abs","ConvertDMSToDEG","_ref23","_ref23$type","seconds","direction","ConvertDEGToDMS","lat","lon","_ref24$output","minutesNotTruncated","getGeoTIFFfromServer","_options$params","csrfmiddlewaretoken","_options$method","body","geoTIFF","FormData","append","fetch","blob","createOlFeatureFromApiResponseFeature","_feature$properties","sanitizeFidFeature","layerAttributes","featureAttributes","featureAttributesNames","featureAttributesName","_featureAttributesNames","_ref26$wms","distance","c1","c2","sqrt","squaredDistance","x1","y1","x2","y2","dx","dy","closestOnSegment","x0","y0","end","along","_checked","65","INCHES_PER_UNIT","m","DOTS_PER_INCH","obj1","obj2","obj3","center","cosRotation","cos","sinRotation","sin","xCos","xSin","yCos","ySin","x3","y3","max","createPolygonLayerFromBBox","polygonLayer","reverseGeometry","reverseCoordinates","units","round","getResolutionFromScale","normScale","getMetersFromDegrees","proj","Units","METERS_PER_UNIT","needUseSphereMethods","getUnits","getLengthMessageText","useSphereMethods","sphere","totalLength","transformMeterLength","getAreaMessageText","_ref2$segments","segments","area","getArea","segments_info_meausure","segmentLength","transformMeterArea","formatMeasure","getCurrentMapUnit","createMeasureTooltip","element","tooltip","Overlay","offset","positioning","addOverlay","unbyKey","tooltipCoord","getInteriorPoints","getLastCoordinate","setPosition","tounit","removeMeasureTooltip","removeOverlay","Observable","unByKey","setMeasureTooltipStatic","getElement","setOffset","66","olutils","WORD_NUMERIC_FIELD_ESCAPE","getHandledResponsesFromResponse","_ref$id","x2js","X2JS","jsonresponse","xml_str2json","FeatureCollection","handledResponses","featureMember","originalFeatureMember","featureMemberArrayAndPrefix","__prefix","g3w_fid","__text","_fid","groupFeatures","groupFeaturesByFields","handleWMSMultiLayersResponseFromQGISSERVER","_jsonresponse$Feature","handledResponse","parseLayerFeatureCollection","transformFeatures","mainProjection","invertedAxis","reverseFeaturesCoordinates","_require3$Geometry","layerFeatureCollectionXML","json2xml_str","hasFieldsStartWithNotPermittedKey","numericFields","ori_field","handleXMLStringResponseBeforeConvertToJSON","String","XMLSerializer","serializeToString","originalName","sanitizeLayerName","reg","RegExp","arrayQGS","matchAll","originalField","regex","strangeChar","fromCharCode","sub_index","_jsonresponse$Feature2","contenttypes","application/json","_ref5$layers","_ref5$wms","_require4","layersFeatures","layersId","parseData","defaultDataProjection","geometryName","application/geojson","parserGEOJson","text/html","rawdata","text/plain","text/gml","parserGML","application/vnd.ogc.gml","_ref10$wms","not_supported_format","_ref11$layers","VectorParser","_parseLayerGeoJSON","_parseLayermsGMLOutput","gml","gmlTag1","gmlTag2","boundary","parts","part","isGmlPart","TableParser","_parserJSON","_data$features","67","decimalAdjust","exp","NaN","round10","floor10","ceil10","hashCode","hash","chr","len","charCodeAt","Base64","_keyStr","encode","s","_utf8_encode","charAt","decode","_utf8_decode","getUniqueDomId","basemixin","destination","sourceInstance","hasOwn","object","childCtor","parentCtor","tempCtor","superClass_","me","opt_methodName","var_args","caller","callee","foundCaller","ctor","truefnc","falsefnc","getValueFromG3WObjectEvent","getAjaxResponses","listRequests","requestsLenght","DoneRespones","FailedResponses","trimValue","isURL","_ref$reserverParamete","checkUrl","_params","toUpperCase","_param","uri","keyParams","k","qs","imageToDataURL","_ref2$callback","callback","Image","canvas","context","getContext","naturalHeight","naturalWidth","drawImage","dataURL","toDataURL","capitalize_first_letter","string","_toString","isEmptyObject","lastCall","previousCall","func","timeout","getRandomColor","copyUrl","tempinput","select","execCommand","downloadFile","filename","_ref3$mime_type","temapAncor","dataset","downloadurl","href","click","Blob","json","_x7","downloadCSVLayerFeatures","_ref6$alias","alias","downloadCSV","convertToCSV","str","line","_ref7$filename","_ref7$items","exportedFilenmae","navigator","msSaveBlob","_ref8$timeout","_ref9$params","_ref10$formdata","formdata","getResponseStatusHeaders","_formdata","ajax","processData","htmlescape","_ref11$httpMethod","timeoutId","downloadPromise","createSingleFieldParameter","_ref12$operator","_ref12$logicop","_ref12$search_endpoin","valueLenght","_valueLenght","createFilterFromString","_ref13$search_endpoin","_ref13$filter","stringFilter","regexoperator","regexsinglequote","re","replaceValue","createFilterFormInputs","_ref16$search_endpoin","_ref16$inputs","isLayerArray","filters","_ref17$search_endpoin","_ref17$operator","splitContextAndMethod","_string$split","_string$split2","colorHEXToRGB","convertQGISDateTimeFormatToMoment","datetimeformat","matchDayInDate","68","InputValidators","validators","float","integer","isSafeInteger","checkbox","datetimepicker","fielddatetimeformat","moment","radio","range","Validator","69","_workflow","queques","Queque","micro","getInputs","getSteps","runStep","setMessages","help","runMicroTasks","onDone","onError","clearQueques","isRunning","core/workflow/queque","70","tasks","addTask","shift","flush","71","_options$inputs","_options$context","_options$task","_options$outputs","escKeyPressEventHandler","_inputs","_task","_outputs","running","registerEscKeyEvent","escKeyUpHandler","_evt$data","unbindEscKeyUp","unbind","bindEscKeyUp","getTask","setInputs","setContext","panic","getHelp","getError","getMessage","setTask","setOutputs","getOutputs","72","usermessagesteps","setRoot","getUserMessageSteps","setUserMessageSteps","setUserMessageStepDone","73","_options$flow","flow","_options$steps","_options$runOnce","runOnce","_promise","_flow","_steps","_child","_stackIndex","_messages","_userMessageSteps","messagesSteps","createUserMessageStepsFactory","getContextService","setContextService","getStackIndex","addChild","setInput","_setInputs","getFlow","setFlow","addStep","setSteps","getStep","clearMessages","_isThereUserMessaggeSteps","clearUserMessagesSteps","getLastStep","getRunningStep","_stopChild","getCurrent","stepsComponent","closable","_resetUserMessaggeStepsDone","closeUserMessage","userMessageSteps","buttonnext","gui/workflow/createUserMessageStepsFactory","74","SPATIALMETHODS","VM","75","AddLayersControl","tipLabel","Control","_layerstore","setMap","getLayersSore","g3w-ol/controls/control","76","AreaIteraction","MeasureControl","AreaControl","clickmap","interactionClass","g3w-ol/controls/measurecontrol","77","_constants","InteractionControl","VALIDGEOMETRIES","BaseQueryPolygonControl","_options$spatialMetho","onSelectlayer","default_options","toggledTool","how","onhover","geometryTypes","g3w-ol/constants","g3w-ol/controls/interactioncontrol","78","_options$name","_options$visible","_options$enabled","enabled","_enabled","eventKeys","positionCode","customClass","mapControlButtonVue","functional","render","h","_class","class","attrs","directives","mapControlButtonDOMElement","$mount","$el","buttonClickHandler","_handleClick","control","_postRender","isClickMap","isToggled","_toggled","setEventKey","eventType","eventKey","originalHandler","resetOriginalHandlerEvent","overwriteEventHandler","handler","getPosition","event","preventDefault","resetControl","getControls","toggle","shiftPosition","hWhere","changelayout","showControl","hideControl","left","controlWidth","outerWidth","newPosition","siblings","each","hide","setEnable","first","toggleClass","_interaction","setActive","getEnable","_visible","g3w-ol/controls/utils","79","_classCallCheck","instance","Constructor","GeocodingControl","placeholder","noresults","notresponseserver","lang","limit","keepOpen","autoComplete","autoCompleteMinLength","viewbox","bounded","fontIcon","Google","Nominatim","containerClass","cssClasses","namespace","inputText","container","GeocoderVueContainer","inputQueryId","autocomplete","btn","val","aria-hidden","inputResetId","lastQuery","registeredListeners","mapClick","showMarker","hideMarker","zoomToGeometry","createControl","_this10","hit","which","keyCode","focus","addClass","clearResults","handleValue","removeClass","addEventListener","q","_this11","isNumber","_q$split","_q$split2","firstChild","_provider$getParamete","getParameters","countrycodes","spin","_providers$index$hand","header","createList","_this12","_ref4$results","ul","createHeaderProviderResults","addressHtml","addressTemplate","address","li","chosen","original","elementVue","nominatim-noresult","place","addressObj","addressOriginal","coord","parseFloat","headerNodeElement","classList","road","building","house_number","city","town","village","country","expand","_this13","glass","collapse","blur","removeAllChildren","_this14","_createClass","defineProperties","props","descriptor","protoProps","staticProps","olControl","isNumeric","classRegex","classname","array","hasClass","_addClass","el","klass","_removeClass","remove","contains","selector","find_all","simpleRe","periodRe","matches","getElementsByClassName","querySelectorAll","getElementById","isElement","HTMLElement","nodeType","nodeName","getAllChildren","tag","isEmpty","emptyArray","anyMatchInArray","some","everyMatchInArrayy","arr1","every","anyItemHasValue","removeAll","collection","parentNode","childNodes","tagName","htm","htmlEscape","attr","frag","createDocumentFragment","transformExtent","settings","addressdetails","_settings","containsXY","neighbourhood","postcode","formatted","display_name","details","google","_settings2","bounds","location","address_components","types","long_name","short_name","./control","80","GeolocationControl","_showMarker","_ref$show","setCenter","toggledKeyEvent","geolocation","Geolocation","tracking","trackingOptions","enableHighAccuracy","81","GeoScreenshotControl","ScreenshotControl","g3w-ol/controls/screenshotcontrol","82","_mapControls","_mapControls2","_options$toggled","toggled","_options$clickmap","_options$interactionC","_options$autountoggle","autountoggle","_options$geometryType","_options$onhover","_options$help","_options$interactionC2","interactionClassOptions","unwatches","listenLayersVisibilityChange","_interactionClass","_autountoggle","_geometryTypes","_onhover","_help","_helpButton","_toolButton","_interactionClassOptions","_createModalHelp","createControlTool","handleChangeSpatialMethod","onSelectLayer","runSpatialQuery","onAddExternalLayer","unWatches","onRemoveExternalLayer","handleSelectedLayer","handleExternalSelectedLayer","checkVisibile","enable","disable","component","_toggledTool$how","getSpatialMethod","methods","watch","setSpatialMethod","created","setCloseUserMessageBeforeSetContent","beforeDestroy","_createToolOnHoverButton","prepend","stopPropagation","showToggledTool","hover","mouseleave","_showModalHelp","showModalDialog","getGeometryTypes","getControlBottom","addClassToControlBottom","controlButton","removeClassToControlBottom","setGeometryTypes","addInteraction","getInteraction","setSelectedLayer","getSelectedLayer","getExternalLayers","unlistenSpatialMethodChange","watchLayer","expOrFn","isSelectedLayerVisible","hasVisibleProjectLayer","hasVisibleExternalLayer","hasVisibleLayers","addExternalLayerToResult","isExternalLayerSelected","store/map-controls","83","LenghtIteraction","LengthControl","84","_map","85","MousePositionControl","MousePosition","86","OLControl","_control","Zoom","ZoomToExtent","ScaleLine","OverviewMap","getOlControl","viewPort","getViewport","previusControls","previusControl","last","previousOffset","right","previousWidth","offsetWidth","hOffset","showHide","87","OnClickControl","_originalonlick","_onclick","onclick","overwriteOnClickEvent","clickHandler","resetOriginalOnClickEvent","controlElement","buttonControl","cliccked","88","layersFilterObject","condition","QueryBBoxControl","_startCoordinate","filterableLayersAvailable","DragBox","checkVisible","boundingExtent","findLayer","closeOpenSideBarComponent","addExternal","isThereVisibleLayerNotSelected","89","QueryByDrawPolygonControl","Draw","excludeSelected","_ref3$error","g3w-ol/controls/basequerypolygoncontrol","90","QueryByPolygonControl","controlQuerableLayers","controlFiltrableLayers","filterableLayers","queryableLayers","_x3","getPolygonFeatureFromCoordinates","listenPolygonLayersChange","_ref7$data","_ref8$error","91","QueryControl","eventSingleClickKey","runQuery","92","ResetControl","93","ScaleControl","isMobile","deleteLastCustomScale","select2","option","scales","addCustomTag","trigger","newOption","Option","isMapResolutionChanged","selectedOnClick","tags","dropdownParent","getTargetElement","noResults","minimumResultsForSearch","createTag","newTag","term","isInteger","view","setChangeResolutionHandler","setResolution","_setScales","currentResolution","currentScale","_createControl","controlDomElement","optgroup","optgroup_custom","94","g3w-ol/controls/onclickcontrol","95","StreetViewComponent","GoogleStreetViewApiUrl","StreetViewControl","keyError","_sv","_panorama","_lastposition","_streetViewFeature","streetVectorSource","atan2","pixel","StreetViewService","getPanorama","StreetViewPanorama","imageDateControl","addListener","lnglat","getPixelFromCoordinate","setPov","pitch","heading","latLng","closeContent","showStreetView","_ol$proj$transform","_ol$proj$transform2","setContent","clearMarker","gui/streetview/vue/streetview","96","TOPOFFSET","changeLayoutBottomControl","_ref2$isMobile","previusControlWidth","previousLeftPosition","previousTopPosition","top","elementTopPosition","createControlUserMessageTool","97","ZoomBoxControl","start_coordinate","end_coordinate","98","ZoomHistoryControl","vueElement","_MapControlZoomHistory2","_MapControlZoomHistory","components/MapControlZoomHistory.vue","99","maphelpers","helpers","g3w-ol/map/maphelpers","100","MeasureInteraction","g3w-ol/interactions/measureinteraction","101","DeleteInteractionEvent","DeleteInteraction","Pointer","handleDownEvent","handleDownEvent_","handleMoveEvent","handleMoveEvent_","handleUpEvent","handleUpEvent_","handleEvent","handleEvent_","previousCursor_","startCursor_","lastCoordinate_","features_","layer_","map_","mapBrowserEvent","originalEvent","lastFeature_","featuresAtPixel_","cursor","intersectingFeature","forEachFeatureAtPixel","includes","102","LengthIteraction","103","MeasureIteraction","_helpTooltip","_measureTooltipElement","_measureTooltip","_featureGeometryChangelistener","_poinOnMapMoveListener","testTooltip","_helpMsg","drawColor","measureStyle","lineDash","_helpTooltipElement","_drawStart","_drawEnd","setDrawMessage","_clearMessagesAndListeners","measureTooltip","off","_keyDownEventHandler","_removeLastPoint","removeLastPoint","dragging","helpMsg","_createHelpTooltip","_createMeasureTooltip","104","PickCoordinatesEventType","PICKED","PickCoordinatesEvent","_centerMap","getCenter","shouldStopEvent","105","PickFeatureEventType","PickFeatureEvent","layers_","pickedFeature_","pickedLayer_","layerFilter_","include","featureFound","layerFilter","hitTolerance","any","106","Tile","basemap","_ref2$visible","_ref2$url","_ref2$source_type","_ref2$crossOrigin","crossOrigin","_ref3$singleTile","_ref3$opacity","_ref4$style","_ref4$format","_ref4$opacity","projectionExtent","resolutions","getWidth","matrixIds","pow","tileGrid","tilegrid","origin","getTopLeft","preload","BingMaps","107","loadImageTileFunction","_ref$method","_ref$sourceOptions","sourceOptions","imageTile","_url$split","_url$split2","getImage","TileState","ERROR","layerObj","_WMSLayer","optionsFromCapabilities","ImageArgisMapServer","ImageArcGISRest","ratio","TileArcGISRest","_options$tiled","_layerObj$iframe_inte","_layerObj$layers","_layerObj$version","_layerObj$sld_version","_layerObj$opacity","maxResolution","TRANSPARENT","SLD_VERSION","imageOptions","TileWMS","ImageWMS","_options$visible2","createXYZ","getResolutions","TileGrid","XYZ","108","MapHelpers","createViewer","opts","_Viewer","defaults","attribution","DragRotate","View","ol3Logo","keyboardEventTarget","Map","destroy","dispose","updateMap","mapObject","updateView","setTarget","zoomTo","setZoom","goTo","animate","panAnimation","zoomAnimation","goToRes","fit","constrainResolution","getZoom","getBBOX","calculateExtent","removeLayerByName","getActiveLayers","activelayers","getLayersNoBase","addBaseLayer","Aerial","changeBaseLayer","../layers/bases","109","Projection","_options$crs","proj4def","_options$crs$geograph","_options$crs$axisinve","defs","_axisOrientation","isInvertedAxisOrientation","getOlProjection","110","isRegistered","cachedProjection","addProjection","registerProjection","./projection","111","CatalogService","prstate","highlightlayers","layerstrees","layersgroups","addExternalLayer","removeExternalLayer","setSelectedExternalLayer","externalLayer","layersStores","addLayersStoreToLayersTrees","layersTree","storeid","createLayersGroup","_ref4$title","_ref4$layers","getMajorQgisVersion","addLayersGroup","layersGroup","tree","changeMapTheme","currentProject","rootNode","changeMapThemeProjectObj","changeProjectView","_x4","_ref6$type","_ref7$type","getExternalLayerById","_ref8$type","112","_interopRequireWildcard","newObj","resizable","mapComponentId","mapcomponentid","Service","setInternalComponent","InternalComponent","internalComponent","listenToMapVisibility","_components2","_Catalog","catalogComponentOptions","_CatalogLayersGroup","catalogLayersGroupComponentOptions","_CatalogTristateTree","catalogTristateTreeComponentOptions","_CatalogLayersLegend","catalogLayersLegendComponentOptions","_CatalogLayersLegendItems","catalogLayersLegendItemsComponentOptions","_components","components/Catalog.vue","components/CatalogLayersGroup.vue","components/CatalogLayersLegend.vue","components/CatalogLayersLegendItems.vue","components/CatalogTristateTree.vue","gui/catalog/catalogservice","store/components","113","CatalogEventHub","114","Chartsfactory","CHARTS","_ref$hooks","_type$split","_type$split2","_type$split2$","library","_type$split2$2","chartType","chartVue","115","VUECOMPONENTSATTRIBUTES","_firstLayout","_options$id","_options$title","_options$open","_options$resizable","_options$info","_options$loading","_options$disabled","_options$closewhensho","sizes","setOpen","_setOpen","_setVisible","reload","_reload","handleEventsComponent","vueComponent","createVueComponent","components","propsData","_service","setInternalComponentTemplate","getOpen","closeWhenViewportContentIsOpen","_events","_open$when","_open$cb","guiEvents","insertComponentAt","removeCompomentAt","popComponent","setComponents","exendComponents","getInternalComponent","internalComponentClass","_options$events","$on","vueObjOptions","addInternalComponentData","overwriteServiceMethod","methodName","overwriteServiceMethods","methodsOptions","extendService","serviceOptions","extendInternalComponent","internalComponentOptions","extendInternalComponentMethods","extendInternalComponentComponents","extendComponents","extendInternalComponentComputed","computed","getInternalTemplate","mount","iCinstance","$nextTick","localize","unmount","$off","$destroy","ismount","$emit","116","buildSidebar","_options$collapsible","_options$isolate","_options$mobile","_options$iconConfig","_options$sidebarOptio","117","matcher","searchItem","modifiedData","errorLoading","searching","inputTooShort","remainingChars","minimum","118","_FieldText","_FieldText2","_FieldLink","_FieldLink2","_FieldImage","_FieldImage2","_FieldGeo","_FieldGeo2","_FieldMedia","_FieldMedia2","_FieldVue","_FieldVue2","simple_field","text_field","link_field","image_field","geo_field","photo_field","media_field","vue_field","components/FieldGeo.vue","components/FieldImage.vue","components/FieldLink.vue","components/FieldMedia.vue","components/FieldText.vue","components/FieldVue.vue","119","URLPattern","PhotoPattern","FieldType","SIMPLE","GEO","LINK","PHOTO","PHOTOLINK","POINTLINK","ROUTE","VUE","fieldValue","photo","isSimple","isLink","isImage","isPhoto","isVue","_ref2$field","resetConfigFieldType","_ref3$field","./fields","120","eventBus","setInitForm","_setInitForm","setFormStructure","formStructure","formstructure","setFormFields","handleFieldsWithExpression","setupFields","_setupFields","setFormData","setField","addActionsForForm","actions","postRender","formId","_options$buttons","buttons","context_inputs","isnew","_options$footer","headerComponent","layerid","disabledcomponents","currentheaderid","tovalidate","componentstovalidate","filter_expression_fields_dependencies","default_expression_fields_dependencies","default_expression_fields_on_update","listenChangeInput","changeInput","evaluateFilterExpressionFields","evaluateDefaultExpressionFields","setUpdate","_options$force","expression_dependency_field","_getField","fieldForm","_handleFieldWithFilterExpression","_filter_expression$re","referencing_fields","_filter_expression$re2","referenced_columns","dependency_fields","dependency_field","_handleFieldWithDefaultExpression","_default_expression$r","_default_expression$r2","_default_expression$a","apply_on_update","setCurrentFormPercentage","setValidComponent","getValidComponent","mutually","countNoTEmptyInputName","inputname","previous","min_field","max_field","input_name","addComponents","_component$header","replaceComponent","disableComponent","disableId","disabledId","setCurrentComponentById","setIdHeader","setRootComponent","getRootComponent","isRootComponent","getComponentById","setComponent","addedComponentTo","formcomponent","addedcomponentto","addToValidate","removeToValidate","getEventBus","handleRelation","clearAll","saveDefaultExpressionFieldsNotDependencies","alreadyRequestDefaultExpressionFields","defaultExpressionPromises","dFs","_loop2","_ret2","delegateYield","121","vueComponentOptions","addBodyFormComponent","_ref$where","where","addBodyFormComponents","_ref2$components","_ref2$where","addFormComponents","addFormComponent","addDependecyComponents","addComponentBeforeBody","addComponentAfterBody","addComponentBeforeFooter","addComponentAfterFooter","setModal","reloadLayout","_Form","components/Form.vue","122","CheckBoxService","validatorOptions","convertCheckedToValue","convertValueToChecked","valueToCheck","gui/inputs/service","123","_InputCheckbox","CheckBoxInput","components/InputCheckbox.vue","124","_InputColor","TextInput","components/InputColor.vue","125","DateTimePickerService","getLocale","applicationConfig","setValidatorOptions","126","_InputDateTimePicker","DateTimePickerInput","components/InputDateTimePicker.vue","127","FloatService","128","_InputFloat","FloatInput","components/InputFloat.vue","129","_InputBase","_InputBase2","InputServices","Input","baseInputMixin","baseinput","notvalid","_notvalid","setErrorMessage","state.value","destroyed","./services","components/InputBase.vue","130","text_input","texthtml_input","textarea_input","integer_input","string_input","float_input","radio_input","check_input","range_input","datetimepicker_input","unique_input","select_input","media_input","select_autocomplete_input","picklayer_input","color_input","slider_input","lonlat_input","./checkbox/vue/checkbox","./color/vue/color","./datetimepicker/vue/datetimepicker","./float/vue/float","./integer/vue/integer","./lonlat/vue/lonlat","./media/vue/media","./picklayer/vue/picklayer","./radio/vue/radio","./range/vue/range","./select/vue/select","./sliderrange/vue/sliderrange","./text/vue/text","./textarea/vue/textarea","./texthtml/vue/texthtml","./unique/vue/unique","131","IntegerService","132","_InputInteger","IntegerInput","components/InputInteger.vue","133","LonLatService","coordinatebutton","mapEpsg","mapControlToggleEventHandler","toggleGetCoordinate","outputEpsg","eventMapKey","setCoordinateButtonReactiveObject","startToGetCoordinates","stopToGetCoordinates","deactiveMapControls","_coordinate","134","_InputLonLat","LatLontInput","components/InputLonLat.vue","135","MediaService","136","_InputMedia","MediaInput","components/InputMedia.vue","137","PickLayerService","pick_type","ispicked","isPicked","unpick","pick","afterPick","_response$0$data","removeInteraction","138","_InputPickLayer","PickLayerInput","components/InputPickLayer.vue","139","RadioService","140","_InputRadio","RadioInput","components/InputRadio.vue","141","RangeService","_options$state$input$","Validators","setValidator","isValueInRange","core/utils/validators","142","_InputRange","RangeInput","components/InputRange.vue","143","SelectService","_getLayerById","addValue","getKeyByValue","arrayValues","_arrayValues","$value","_ref2$layer_id","_ref2$key","_ref2$value","search_value","144","_InputSelect","SelectInput","components/InputSelect.vue","145","setValue","setEmpty","_validator","getValue","addValueToValues","_getValidatorType","isObject","getValidator","146","InputsServices","textarea","texthtml","media","select_autocomplete","picklayer","lonlat","./checkbox/service","./datetimepicker/service","./float/service","./integer/service","./lonlat/service","./media/service","./radio/service","./range/service","./select/service","./service","./sliderrange/service","./unique/service","147","SliderRangeService","changeInfoMessage","148","_InputSliderRange","components/InputSliderRange.vue","149","_InputText","components/InputText.vue","150","_InputTextArea","TextAreaInput","components/InputTextArea.vue","151","_InputTextHtml","TextHtmlInput","components/InputTextHtml.vue","152","UniqueService","153","_InputUnique","UniqueInput","components/InputUnique.vue","154","OnClikControl","geoScreenshotControl","ControlsFactory","create","ControlClass","CONTROLS","zoombox","zoomtoextent","querybbox","querybypolygon","streetview","scaleline","overview","geocoding","addlayers","mouseposition","screenshot","geoscreenshot","querybydrawpolygon","zoomhistory","nominatim","g3w-ol/controls/addlayers","g3w-ol/controls/areacontrol","g3w-ol/controls/geocodingcontrol","g3w-ol/controls/geolocationcontrol","g3w-ol/controls/geoscreenshotcontrol","g3w-ol/controls/lengthcontrol","g3w-ol/controls/mousepositioncontrol","g3w-ol/controls/olcontrol","g3w-ol/controls/querybboxcontrol","g3w-ol/controls/querybydrawpolygoncontrol","g3w-ol/controls/querybypolygoncontrol","g3w-ol/controls/querycontrol","g3w-ol/controls/resetcontrol","g3w-ol/controls/scalecontrol","g3w-ol/controls/streetviewcontrol","g3w-ol/controls/zoomboxcontrol","g3w-ol/controls/zoomhistorycontrol","155","MapService","hidemaps","mapcontrolsalignement","mapcontrolDOM","mapcontrolready","mapcontrolSizes","minWidth","minHeight","mapControl","currentIndex","map_info","mapunits","viewer","maps_container","_layersStoresEventKeys","_keyEvents","g3wobject","eventemitter","_changeMapMapControls","_externalMapLayers","_externalLayers","_externalInteractions","mapBaseLayers","defaultsLayers","highlightLayer","selectionLayer","layersExtraParams","_greyListenerKey","_drawShadow","outer","inner","_howManyAreLoading","_layersLoadingError","_incrementLoaders","showSpinner","_decrementLoaders","hideSpinner","_mapLayerLoadError","notify","keysetCurrentProject","_removeListeners","isSameProject","changeProjectCallBack","_resetView","_setupAllLayers","_checkMapControls","setUpMapOlEvents","who","_setupListeners","_marker","_bboxLayer","_setupCustomMapParamsToLegendUrl","setupControls","_setupControls","addHideMap","_ref$switchable","mainview","switchable","idMap","updateMapView","updateMapLayers","setupViewer","_setupViewer","controlClick","loadExternalLayer","unloadExternalLayer","_onCatalogSelectLayer","catalogSelectedLayer","extraParamsSet","getMapLayers","_setUpEventsKeysToLayersStore","_removeEventsKeysToLayersStore","_wms","WFSProvider","olhelpers","dynamicLegend","keyEvent","keyolchangeresolution","_updateMapView","keyolmoveeend","eventObject","removeListener","showMapSpinner","hideMapSpinner","getScaleFromExtent","getResolutionForExtent","getMapUnits","_addHideMap","_ref2$mainview","view_options","_idMap$map$getSize","_idMap$map$getSize2","setSize","removeHideMap","_showHideMapElement","_ref3$show","createMapImage","background","getMapCanvas","msToBlob","toBlob","getApplicationAttribution","_config$group","header_terms_of_use_link","header_terms_of_use_text","slaveOf","sameLayers","setLayersExtraParams","viewport","isMapHidden","isAxisOrientationInverted","getViewerElement","getGetFeatureInfoUrlForLayer","getMapLayerForLayer","lyr","getVectorLayerFeaturesFromCoordinates","intersectGeom","getIntersectedFeatures","intersectsExtent","getQueryLayerByCoordinates","getQueryLayerPromiseByCoordinates","activeMapControl","controlName","createMapControl","_ref7$add","_ref7$toggled","_ref7$options","addControl","addScaleLineUnits","changeScaleLineUnit","scalelinecontrol","getMapControlByType","setUnits","showAddLayerModal","baseLayers","attributionControl","Attribution","mapcontrols","controlType","zoomInLabel","zoomOutLabel","coordinateLabels","coordinateFormat","undefinedHTML","mapEspg","_coordinateLabels","_crs","caller_download_id","blobImage","_bbox","setDownload","saveAs","getMapBBOX","getCookie","createStringXY","overviewproject","overviewProjectGid","overViewMapLayers","getOverviewMapLayers","viewOptions","_calculateViewOptions","mainView","currentCenter","constrainCenter","collapseLabel","collapsed","_project$state","_mapCrs","_addControlToMapControlsLeftBottom","getMapControls","setZIndexLayer","_ref10$zindex","zindex","setZIndex","getLayerZindex","getZIndex","zoomToFid","_zoom_to_fid$split","_zoom_to_fid$split2","zoom_to_fid","handleZoomToFeaturesUrlParameter","_zoom_to_features$spl","_zoom_to_features$spl2","layerNameorIdorOrigname","fieldsValuesSearch","_ref15$zoom_to_featur","zoom_to_features","_ref15$search_endpoin","getMapExtent","addMapExtentUrlParameterToUrl","map_extent","getMapExtentUrl","createCopyMapExtentUrl","_setMapControlsGrid","rC","rows","columns","_rC","_rC2","_setMapControlsInsideContainerLenght","setMapControlsAlignement","alignement","getMapControlsAlignement","isMapControlsVerticalAlignement","setMapControlsVerticalAlignement","setMapControlsHorizontalAlignement","flipControlsHorizontally","flipMapControlsVertically","mapcontrolsalignment","setMapControlsContainer","mapControlDom","_updateMapControlsLayout","changedAndMoreSpace","space","handleVerticalMapControlDOMElements","mapControslHeight","bottomMapControls","bottomMapControlTop","freeSpace","nextHeight","_mapControslHeight","mapControlsWidth","_setMapControlVisible","_ref18$visible","_addControlToMapControls","display","addToMapControls","placement","$mapElement","getTarget","registerControl","showControls","hideControls","toggleControls","showAllControls","hideAllControls","_removeControls","controlObj","_layoutControls","removeControlById","ctrlIdx","removeControl","_this15","_this16","_unToggleControls","_ref20$close","disableClickMapControls","addMapLayers","mapLayers","_this17","addMapLayer","addLayerToMap","getMapLayerByLayerId","multilayerId","getProjectLayer","_setSettings","_viewer$map$getSize","_viewer$map$getSize2","maxxRes","minyRes","getHeight","getMaxResolution","setView","_this18","URLSearchParams","lat_lon","x_y","maxyRes","initxRes","inityRes","_this19","background_color","getInteractions","_watchInteraction","stopEvent","setLayerZIndex","moveDefaultLayersOnTop","layerZIndex","_setBaseLayerListenerKey","layerStoreId","eventObj","_this20","addLayerKey","removeLayerKey","_this21","_setupBaseLayers","_setupMapLayers","_setupVectorLayers","_setUpDefaultLayers","_this22","baseMapLayer","registerMapLayerListeners","reverseBaseLayers","_this23","_setMapProjectionToLayers","qtimeseries_multilayerid_split_values","multiLayerId","sub_layer","_this24","mapVectorLayer","removeDefaultLayers","setDefaultLayerStyle","resetDefaultLayerStyle","_removeBaseLayers","_removeMapLayers","removeExternalLayers","removeAllLayers","_ref26$zindex","_this25","createMapLayer","projectLayers","overviewMapLayers","updateMapLayer","_ref29$showSpinner","g3w_time","_this26","_this27","registerMapLayerLoadingEvents","unregisterMapLayerLoadingEvents","unregisterMapLayerListeners","elId","getCurrentToggledMapControl","_options$active","untoggleMapControls","_this28","getActive","showMapInfo","_ref31","hideMapInfo","getGeometryAndExtentFromFeatures","geometryCoordinates","featureExtent","_featureExtent","olClassGeomType","highlightFeatures","_getGeometryAndExtent","highlightGeometry","highLightGeometry","zoomToExtent","_getGeometryAndExtent2","getResolutionForZoomToExtent","compareExtentWithProjectMaxExtent","projectExtent","inside","extentResolution","goToBBox","goToWGS84","extentToWGS84","getResolutionForMeters","meters","clientWidth","clientHeight","animatingHighlight","addedFeature","clearSelectionFeatures","seSelectionLayerVisible","geometryObj","_this29","clearHighlightGeometry","customStyle","readGeometry","refreshMap","_ref32","is_hidden","updateSize","hidemap","_this30","_this31","getMapSize","setInnerGreyCoverScale","_resetDrawShadowInner","setInnerGreyCoverBBox","lowerLeftInner","upperRightInner","y_min","DEVICE_PIXEL_RATIO","x_min","y_max","x_max","startDrawGreyCover","_this32","stopDrawGreyCover","postcompose","ctx","restore","beginPath","moveTo","lineTo","closePath","translate","rotate","PI","fillStyle","textAlign","arrayMessages","fillText","_this33","changeLayerVisibility","_ref33","changeLayerOpacity","_ref34","_ref34$opacity","changeLayerMapPosition","_ref35","_ref35$position","_this34","catalogService","QueryResultService","unregisterVectorLayer","externalMapLayer","addExternalWMSLayer","_this35","_ref36","_ref36$epsg","_ref36$position","_ref36$visible","_createWMSLayer","addExternalMapLayer","_ref37","_options$position","_options$opacity","_this36","registerVectorLayer","_x56","setExternalLayerStyle","featureStyleFunction","getStyleFunction","core/layers/providers/wfsprovider","g3w-ol/g3w.ol","gui/wms/vue/wms","156","$cookie","_Map","components/Map.vue","gui/map/mapservice","157","MetadataService","_buildProjectGroupMetadata","ProjectMetadataComponent","METADATAGROUPS","general","spatial","getProjectMetadata","getLayersMetadata","getLayerMetadata","layerMetadata","showMetadata","gui/metadata/vue/components/project/project","158","_ref$state","_MetadataProject2","_MetadataProject","components/MetadataProject.vue","159","_Metadata","components/Metadata.vue","gui/metadata/metadataservice","160","internalPanel","panel","getInternalPanel","setInternalPanel","showPanel","closePanel","onShow","onClose","onResize","parentWidth","parentHeight","161","PrintComponentService","printService","_initialized","_moveMapKeyEvent","_page","_mapUnits","_scalesResolutions","isShow","printextent","setInitState","PrintPage","atlas","atlasValues","scala","dpis","formats","changeTemplate","isPreviousAtlas","_state$print$find","_clearPrint","showPrintArea","_setPrintArea","changeScale","changeRotation","_getPrintExtent","lowerleft","upperright","getOverviewExtent","xmin","xmax","ymin","ymax","overviewextent","_getOptionsPrint","setPrintAreaAfterCloseContent","stopLoading","disableSideBar","showError","startLoading","_calculateInternalPrintExtent","_state$maps$find","w","resolutionInMeters","getCoordinateFromPixel","currentScala","_setAllScalesBasedOnMaxResolution","mapScala","orderScales","orderBy","addedFirstHighestScale","handleScala","higherScale","_setInitialScalaSelect","_setCurrentScala","res","_setMoveendMapEvent","_showPrintArea","_initPrintConfig","mapComponent","renderSync","core/print/printservice","gui/print/vue/printpage","162","_Print","components/Print.vue","gui/print/printservice","163","_PrintPage","components/PrintPage.vue","164","MenuComponent","menuitems","host","_ProjectsMenu","components/ProjectsMenu.vue","165","ProjectsMenuComponent","projects","getListableProjects","description","cbk","changeProject","gui/projectsmenu/menu","166","QueryBuilder","QueryBuilderPanel","QuerybuilderUIfactory","QueryBuilderInstance","queryBuilderDom","gui/querybuilder/vue/panel/querybuilderpanel","gui/querybuilder/vue/querybuilder","167","168","_QueryBuilder","components/QueryBuilder.vue","169","QueryResultsService","_currentLayerIds","_setRelations","_setAtlasActions","download_data","plotLayerIds","unlistenerlayeractionevents","_actions","zoomto","zoomToElement","highlightgeometry","_atlas","_projectLayerIds","zoomToResult","layersactions","actiontools","currentactiontools","currentactionfeaturelayer","layeractiontool","layersFeaturesBoxes","layerscustomcomponents","resultsQueryLayer","_vectorLayers","_addFeaturesLayerResultInteraction","toggleeventhandler","setQueryResponse","queryResponse","_addVectorLayersDataToQueryResponse","showCoordinates","showBBOX","showGeometry","setLayersData","_digestFeaturesForLayers","_orderResponseByProjectLayers","updateLayerResultFeatures","setActionsForLayers","_addComponent","addActionsForLayers","closeComponent","changeLayerResult","_changeLayerResult","activeMapInteraction","editFeature","openCloseFeatureResult","addLayersPlotIds","layerIds","getPlotIds","findPlotId","plotId","_asyncFnc","todo","zoomToLayerFeaturesExtent","goToGeometry","getApplicationService","_QueryResultsActionDownloadFormats","_QueryResultsActionDownloadFormats2","_QueryResultsActionQueryPolygonCSVAttributes","_QueryResultsActionQueryPolygonCSVAttributes2","RelationsPage","registerCustomComponent","_ref3$id","_ref3$position","unRegisterCustomComponent","componentId","addFeatureLayerToResult","getBoxId","removeFeatureLayerFromResult","downloadApplicationWrapper","downloadFnc","download_caller_id","setLoadingContent","textMessage","_layer$features","removeFeatureIndexes","features_ids","indexFindFeature","filtered","featureRemoved","newlayerfeatures","checkIfLayerHasNoFeatures","highlightFeaturesPermanently","addRemoveFeaturesToLayerResult","layeractions","resetCurrentActionToolsLayer","removeAddFeaturesLayerResultInteraction","relation_index","observable","currentactiontoolslayer","currentationfeaturelayer","is_external_layer_or_wms","hasgeometry","mouseover","hint","chartRelationIds","showQueryRelations","createActionState","opened","showRelationsChart","getAtlasByLayerId","downloads","_layer$downloads","_cbk","downloadFeatures","setCurrentActionLayerFeatureTool","ACTIONTOOLSDOWNLOADFORMATS","downloadsaction","toggleable","$set","_state2","checkFeatureSelection","addToSelection","listenClearSelection","hint_change","copyZoomToFidUrl","_ref10$dynamicPropert","dynamicProperties","propertiesObject","accumulator","getActionLayerById","_ref12$component","addCurrentActionToolsLayer","_ref13$config","setLayerActionTool","_ref14$component","_ref14$config","hint_changed","runAsyncTodo","unlistenerEventsActions","removeQueryResultLayerFromMap","getCurrentLayersIds","layerA","layerB","aIndex","bIndex","setZoomToResults","isOneLayerResult","_ref15$toggle","addLayerFeaturesToResultsAction","_layer2","addfeaturesresults","responseObject","getVectorLayerFeaturesFromQueryRequest","_x16","eventHandler","deactiveQueryInteractions","querytitle","printconfig","layerRelationsAttributes","layerTitle","_handleFeatureFoLayer","_layerObj","extractRelations","sanitizeAttribute","getRelationFieldsFromFormStructure","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","split_layer_name","layerSpecialAttributesName","_setSpecialAttributesFeatureProperty","_parseAttributes","relationField","hasImageField","_getFeatureProperties","getFeaturePropertiesAndGeometry","featureObj","attributeObj","featureAttribute","_getFeatureProperties2","_Layer$SourceTypes","showSourcesTypes","actionId","actionMethod","layerActions","layerAction","triggerLayerAction","_x19","_x20","_x21","_x22","_x23","urlTemplate","route","_x24","_x25","_x28","_query$filterConfig","isExternalFilterSelected","isLayerSelected","_printSingleAtlas","_ref19$atlas","_ref19$features","_atlas$atlas$field_na","showChart","relationData","hideChart","inputAtlasAttr","atlasLayer","showLayerDownloadFormats","layerKey","_state$query","runDownload","downloadsactions","choices","sbp_qgs_layer_id","sbp_fid","_x33","_x34","downloadGpx","layerMenu","_hideMenu","downloadXls","selectionFeature","clearSelectionExtenalLayer","addRemoveFilter","selectionFeaturesLayer","acculmulator","_addRemoveSelectionFeature","hasAlreadySelectioned","currentLayer","_x38","_x40","_x41","_layer$external","addQueryResultsLayerToMap","handlerOptions","mapServiceMethod","firstParam","saveLayerResult","_ref28$type","showRelation","nmRelationId","projectRelation","nmRelation","pushContent","currentview","crumb","changeCurrentContentOptions","backonclose","components/QueryResultsActionDownloadFormats.vue","components/QueryResultsActionQueryPolygonCSVAttributes.vue","gui/relations/vue/relationspage","170","queryResultsService","_QueryResults","components/QueryResults.vue","gui/queryresults/queryresultsservice","171","RelationsComponentService","getRelationsNM","saveRelations","buildRelationTable","rows_fid","column","rowFormStructure","172","173","_RelationsPage","_options$relation","_options$relations","_options$feature","_options$table","_options$chartRelatio","_options$currentview","previousview","components/RelationsPage.vue","gui/relations/relationsservice","174","currentProjectState","search_title","searchesObject","searches","searchtools","querybuildersearches","_querybuilder2","getCurrentProjectItems","_querybuilder","removeItem","cleanSearchPanels","panels","addTool","searchTool","searchTools","addQueryBuilderSearch","querybuildersearch","removeTool","services/querybuilder","175","SearchPanelComponent","_SearchPanel","components/SearchPanel.vue","176","SearchService","_mapService$getMap$ge","_mapService$getMap$ge2","heigth","hideSidebar","_run","forminputs","_config$options","querylayerid","otherquerylayerids","inputdependance","inputdependencies","cachedependencies","searchLayer","queryurl","searchLayers","createInputsFormFromFilter","_data3","NONVALIDVALUES","filterLenght","_ref2$filter","forminput","op","_forminput$options","dependance","dependance_strict","getValuesFromField","valuesToKeysValues","setInputDependencies","master","slave","_values","getReturnType","setReturnType","returnType","getAutoFieldDependeciesParamField","fieldDependency","getCurrentFieldDependance","_Object$entries$","createFieldsDependenciesAutocompleteParameter","_ref3$fields","dependendency","fieldParam","getFilterInputFromField","_Object$entries$2","_field2","_getFilterInputFromFi","encodeURI","uniqueValues","getUniqueValuesFromField","getValueRelationValues","getValueMapValues","_x5","_field$options","_ref6$data","autocompleteRequest","doSearch","_ref14$features","_relation$fieldRef","dataPromise","add_panel","_ref13$queryUrl","_ref13$show","createFilter","autozoom_query","search_1n_relationid","showEmptyOutputs","showCustomOutputDataPromise","filterValidFormInputs","createQueryFilterFromConfig","createOperatorObject","inputObj","createBooleanObject","evalObject","booleanOperator","booleanObject","queryFilter","_getExpressionOperatorFromInput","dependanceCascadeField","_getCascadeDependanciesFilter","_currentValue","getDependanceCurrentValue","fillDependencyInputs","_ref19$subscribers","subscribers","_ref19$value","isRoot","invalidValue","subscribe","_allvalues","notAutocompleteSubscribers","rootValues","cachedValue","dependenceCurrentValue","_cachedValue","dependenceValue","fieldParams","_values2","_dependenceValue","_x17","getDependencies","createQueryFilterObject","_ref23$ogcService","_ref23$filter","getInfoFromLayer","setSearchLayer","getSearchLayer","177","_searches_searchtools","_Search","components/Search.vue","gui/search/service","178","179","_SpatialBookMarks","SpatialBookMarksComponent","components/SpatialBookMarks.vue","180","_StreetView","components/StreetView.vue","181","PAGELENGTHS","TableService","currentPage","getHeaders","allfeaturesnumber","nopaginationsfilter","selectedfeaturesfid","relationsGeometry","relationLayer","child_field","paginationfilter","mapBBoxEventHandlerKey","clearAllSelection","selectAll","pageLengths","allfeatures","pagination","nofilteredrow","_async","filterChangeHandler","emitRedraw","reloadData","setDataForDataTable","addRemoveSelectedFeature","_size","createFeatureForSelection","_returnGeometry","getAllFeatures","LoadedFeaturesId","switchSelection","filterFeatures","_selected","checkSelectAll","clearLayerSelection","selectAllFeatures","_paginationParams","featurescount","paginationParams","setFilteredFeature","featuresIndex","_ref6$start","_ref6$order","_ref6$length","_ref6$columns","_ref6$search","_ref6$firstCall","firstCall","searchText","dir","getDataPromise","recordsFiltered","recordsTotal","setInBBoxParam","resetMapBBoxEventHandlerKey","getDataFromBBOX","tableFeature","tabledata","_tabledata$data","_setLayout","zoomAndHighLightFeature","zoomAndHighLightGeometryRelationFeatures","promisesData","182","_Table","_Table2","TableComponent","showContent","components/Table.vue","gui/table/tableservice","183","184","toolsGroups","_addTool","_addTools","_addToolGroup","_removeToolGroup","_removeTools","_project$getState","_project$getState$too","toolName","_tools","ToolsService","ACTIONS","_removeTool","toolIdx","updateToolsGroup","groupConfig","_group","_ref2$state","toolGroup","185","toolsService","_Tools","components/Tools.vue","gui/tools/service","186","BarStack","_parent","contentsdata","_mount","_unmount","unmountRequests","getContentData","getCurrentContentData","getPreviousContentData","jQuery","_setJqueryContent","isString","jqueryEl","_checkDuplicateVueContent","_setVueContent","_setDOMContent","idxToRemove","187","barstack","./barstack","188","ContentsViewerComponent","stack","Stack","_ViewportContentsViewer","_options$push","addContent","clearContents","updateContentVisibility","removeContent","popContent","getComponentByClass","componentClass","contentdata","contentsEls","nextTick","outerHeight","components/ViewportContentsViewer.vue","gui/utils/utils","189","_options$wmsurls","wmsurls","adminwmsurls","localwmsurls","loadClientWmsUrls","_wmslayerspanel","_wmslayerspanel2","getLocalWMSData","updateLocalWMSData","deleteWms","changeLayerData","loadWMSLayerToMap","wmsurl","wmsConfigLayers","getRequestStatusObject","_ref6$error","_ref6$added","addNewUrl","localid","localurl","getWMSLayers","showWmsLayersPanel","checkIfWMSAlreadyAdded","_ref10$layers","addedLayers","deleteWmsUrl","loadWMSDataAndShowWmsLayersPanel","info_formats","abstract","map_formats","_ref15$visible","_ref15$layers","addWMSlayer","wmsLayerConfig","_ref17$name","_ref17$layers","_ref17$opacity","_ref17$visible","getLocalItem","alldata","setLocalItem","gui/wms/vue/panel/wmslayerspanel","190","WmsLayersPanel","WMSLayersPanelComponent","_WMSLayersPanel","components/WMSLayersPanel.vue","191","_service2","_WMS","components/WMS.vue","gui/wms/service","192","_ref$steps","currentStep","deep","alignSelf","listStyle","padding","ismobile","marginBottom","fontWeight","marginRight","directive","flexDirection","dynamic","btn-success","g3w-disabled","193","_vueCookieLaw","_vueCookieLaw2","_HeaderItem","_HeaderItem2","LayoutManager","navbarMenuSlimscroll","navbarMenuSlimscrollWidth","navbarMenuHeight","animationSpeed","sidebarToggleSelector","sidebarPushMenu","sidebarSlimScroll","sidebarExpandOnHover","enableBoxRefresh","enableFastclick","enableControlSidebar","controlSidebarOptions","toggleBtnSelector","slide","enableBoxWidget","boxWidgetOptions","boxWidgetIcons","boxWidgetSelectors","directChat","contactToggleSelector","colors","lightBlue","red","green","aqua","yellow","blue","navy","teal","olive","lime","orange","fuchsia","purple","maroon","black","gray","screenSizes","xs","sm","md","lg","_init","activate","fix","fixSidebar","neg","window_height","sidebar_height","postSetWidth","controlSidebar","slimScroll","touchScrollStep","pushMenu","toggleBtn","expandOnHover","screenWidth","menu","$this","checkElement","is","slideUp","parent_find_active","parents","parent_li","li_siblings","treeviewHeight","slideDown","floatBar","sidebar","bg","_fix","_fixForFixed","_fixForContent","max-height","padding-bottom","boxWidget","selectors","icons","_box","box","box_content","addRefreshButton","boxRefresh","overlay","onLoadStart","onLoadDone","log","rBtn","activateBox","listCustomPlugin","todolist","onCheck","ele","onUncheck","iCheck","LayoutManagerOptions","slimscroll","alwaysVisible","FastClick","attach","resizeMixin","customcredits","appState","current_custom_modal_content","cookie_law_buttonText","HeaderItem","CookieLaw","languages","appconfig","staticurl","powered_by","clienturl","g3w_suite_logo","credits_logo","logo_url","logo_project_url","mediaurl","logo_img","logo_link","getLogoLink","logo_link_target","project_title","username","login_url","numberOfProjectsInGroup","frontendurl","main_title","main_map_title","group_name","slug","templateResultLanguages","max_width","$refs","navbar_toggle","navbar","mainnavbar","main_title_project_title","maxWidth","logoWidth","showCustomModalContent","_custom_modals$find","custom_modals","custommodal","sidebarService","openProjectsMenu","handleMessages","_currentProject$getMe","level","_id","closeButton","levels","ok","_language","currentlanguage","beforeCreate","delayType","delayTime","custom_header_items_position","0","customlinks","header_custom_links","customitem","_id2","mounted","rightNavBarElements","elementLenght","controlsidebarEl","setFloatBarMaxHeight","setModalHeight","innerHeight","rightNavbarWidth","img_logo","__vue__options__","_vm","_h","$createElement","_c","_self","rawName","staticClass","buttonText","slot","_v","ref","role","data-toggle","data-target","staticStyle","font-size","max-width","text-align","overflow","margin","_l","show-custom-modal-content","first_name","last_name","admin_url","logout_url","margin-right","templateSelection","templateResult","$event","$$selectedVal","multiple","domProps","paddingTop","tabindex","data-backdrop","data-keyboard","aria-labelledby","_m","flex-direction","justify-content","justify-items","align-items","background-color","border-radius","alt","margin-top","margin-left","line-height","font-weight","staticRenderFns","data-dismiss","aria-label","components/HeaderItem.vue","vue-cookie-law","194","showdata","Boolean","selectitems","setDataOffset","getSelectedItems","selectItem","unselectItem","unselect","selectItems","unselectItems","unselectAll","_setAllowedSpace","querySelector","offsetHeight","_setMaxMin","axis","dataValues","changeItems","changeItem","_ref4$render","onselected","_temp","onunselected","selectitem","generate","bindto","min-height","change-item","change-items","select-item","select-all","unselect-all","unselect-item","195","_catalogeventhub","_catalogeventhub2","_CatalogChangeMapThemes","_CatalogChangeMapThemes2","_CatalogLayerContextMenu","_CatalogLayerContextMenu2","DEFAULT_ACTIVE_TAB","$options","showlegend","currentBaseLayer","activeTab","changemapthemes","cataloglayercontextmenu","showTocTools","_project$state$map_th","hasBaseLayers","hasLayers","layerstresslength","changeStyleLayersId","delegationClickEventTab","showLegend","setBaseLayerId","getSrcBaseLayerImage","customimage","getResourcesUrl","state.external.wms","newlayers","oldlayers","state.prstate.currentProject","oldproject","immediate","layerpositions","oldValue","beforeMount","contextmenu","!click","aria-controls","data-i18n","change-map-theme","_layerstree","parentFolder","legendplace","parent_mutually_exclusive","externallayers","layersgroup","gridTemplateColumns","components/CatalogChangeMapThemes.vue","components/CatalogLayerContextMenu.vue","gui/catalog/vue/catalogeventhub","196","current_map_theme","margin-bottom","border-bottom","white-space","text-overflow","menu-open","_q","for","_scopeId","197","_vueColor","_LayerOpacityPicker","_LayerOpacityPicker2","shpwrite","OFFSETMENU","data_table","colorMenu","stylesMenu","metadatainfoMenu","chrome-picker","Chrome","layer-opacity-picker","click-outside-layer-menu","binding","vnode","removeEventListener","addLayerMenuItem","closeLayerMenu","showColorMenu","onbeforeDestroyChangeColor","color_picker","onChangeColor","canShowWmsUrl","originalLayer","canShowWfsUrl","canDownloadXls","canDownloadGpx","canDownloadGpkg","canDownloadCsv","canDownloadGeoTIFF","canDownloadShp","ancorEement","tempInput","copywmsurltooltip","downloadGeoTIFF","downloadShp","downloadCsv","downloadGpkg","setWMSOpacity","zoomToLayer","canZoom","downloadExternalShapefile","EPSG4326","GeoJSONFile","clonefeature","writeFeaturesObject","point","mulipoint","multipolygon","polyline","multiline","showAttributeTable","tableContent","startEditing","catallogLayersStores","setCurrentLayerStyle","showSubMenuContext","menuentry","submenu","maxH","maxHeight","overflowY","showStylesMenu","showMetadataInfo","getStyleName","_x13","layer-position-change","currentTarget","padding-left","padding-right","init-menu-item","show-menu-item","hook:beforeDestroy","model","$$v","sync","change-range","bottom","data-placement","components/LayerOpacityPicker.vue","gui/table/vue/table","shp-write","vue-color","vueify/lib/insert-css","198","currentstyle","showfeaturecount","externallegend","getWmsSourceLayerLegendUrl","showHideLayerCategory","mapReady","setLayerCategories","setError","urlLoaded","onChangeLayerLegendStyle","_ref4$nodes","_setAllLayerCategories","_updateLayerCategories","_ref5$symbols","symbols","symbol","_ref6$symbols","layer.visible","199","border","200","visiblelayers","_visiblelayers","old","201","legendurls","getLegendSrc","changeLayersLegend","catalogLayer","getLegendUrlParams","urlLayerName","paramsUrl","legend_on","legend_off","urlMethodsLayersName","urlLayersName","_prefix$split","_prefix$split2","_prefix$split3","_prefix$split4","_urlLayersName","_url2","_url3","econdedParams","_url3$split","_url3$split2","_param$split","_param$split2","legendUrlObject","202","_CatalogLayerLegend","_CatalogLayerLegend2","CLICK_EVENT","timeoutID","handleClick","layerlegend","isGroupChecked","controltoggled","n_childs","showLegendLayer","showLayerTocLegend","isGroup","legendlayerposition","showscalevisibilityclass","showScaleVisibilityToolip","isHighLight","_isHighLightProjectLayer","_isHighLightExternalLayer","isInGrey","total","categoryFeatureCount","layerstree.disabled","layerstree.checked","handleGroupChecked","handleLayerChecked","uncheckable","setAllLayersVisible","layerObject","_layerObject$projectL","toggleFilterLayer","clearSelection","expandCollapse","onTreeItemClick","triClass","downloadExternalLayer","showLayerMenu","itemmarginbottom","marginLeft","bold","toc-added-external-layer","paddingLeft","modifiers","highlightlayer","scalevisibility","current-tooltip","_k","legendConfig","components/CatalogLayerLegend.vue","203","fontSize","_t","word-wrap","204","fieldsService","205","geoMixin","showLayer","206","_Field","_Field2","galleryId","Field","getSrc","showGallery","modal","getGalleryImages","images","components/Field.vue","207","openLink","link_url","208","mediaMixin","getMediaType","209","210","vueoptions","211","_floatbar","_floatbar2","panelsinstack","panelname","stack.contentsdata","services/floatbar","212","_FormHeader","_FormHeader2","switchcomponent","g3wformheader","G3wFormFooter","transitions","addremovetransition","backToRoot","_ref$disabled","resizeForm","switchComponent","footerDOM","g3w_form_footer","bodyFromDOM","g3wform_body","footerHeight","bodyHeight","updated","currentid","resize-form","clickheader","hook:activated","addtovalidate","removetovalidate","changeinput","components/FormHeader.vue","213","tabs","addinput","removeinput","214","originalbuttons","button","enableSave","exec","btnEnabled","_button$enabled","state.component","state.update","eventButtons","activated","deactivated","215","item_selected","216","backgroundColor","bar-loader","217","minDate","maxDate","enabledDates","datetimevalue","date","datetimeinputelement","iddatetimepicker","defaultDate","useCurrent","allowInputToggle","showClose","locale","toolbarPlacement","widgetPositioning","horizontal","datetime","mindatetime","maxdatetime","dates","218","219","carouselId","isActive","isRelativePath","startsWith","data-interval","data-slide","220","221","222","_GlobalGallery","_GlobalGallery2","g3w-images-gallery","components/GlobalGallery.vue","223","layerposition","224","progress","borderRadius","justifyContent","skin-background-color","225","labelValue","showValue","changeBackGround","backgroundSize","changedValue","emitChangeValue","align-self","__r","226","orientation","moveFnc","wrapMoveFnc","domElementMoveListen","$attrs","mousedown","227","toggleFull","toggleFullViewContent","resetToDefault","resetToDefaultContentPercentage","228","229","_name$props$component","_tabservice","_tabservice2","_GlobalTabsNode","_GlobalTabsNode2","showRelationByField","Node","required_fields","setVisibility","visibility_expression","setEditingRequireTab","getField","root_tabs","tab_node","root_tab","group-title","in active","showTitle","components/GlobalTabsNode.vue","core/expression/tabservice","230","G3wInput","editing_required","filterNodes","getNodeType","nodesLength","rowCount","columnNumber","rest","columnCount","columncount","showGroupTile","showlabel","groupbox","loadingRelation","relation_project","isRelationDisabled","getRelationName","isRelationChildLayerNotEditable","getNodes","startIndex","getNode","_b","$props","text-transform","231","showCustomModal","imagelink","img","232","showHideHelp","loadingState","233","widgetMixins","setLabel","changeCheckBox","widgetChanged","stateValueChanged","input-error-validation","tabIndex","$$a","$$el","$$c","$$i","gui/inputs/input","234","composing","235","uniqueValue","widget_container","idinputdatetimepiker","domeDataPicker","timeOnly","stateValue","datetimefieldformat","datetimedisplayformat","_state$input$options","_state$input$options$","_state$input$options$2","_formats$","fieldformat","disabledDates","displayformat","vertical","toDate","ignoreReadonly","widgetParent","datimewidget_container","newDate","_$refs$datetimepicker","datetimepicker_body","getBoundingClientRect","readonly","236","237","border-top","238","show_required_field_message","239","240","lonId","latId","getCoordinateActive","changeLonLat","241","InputMixins","MediaField","g3w-media","mediaid","onClick","createImage","reader","FileReader","readAsDataURL","checkFileSrc","clearMedia","formData","fileupload","dataType","border-style","border-width","data-url","uploadurl","242","pickLayer","pickservice","gui/inputs/picklayer/service","243","radio_value","244","checkValue","keydown","245","PickLayerInputService","InputMixin","G3W_SELECT2_NULL_VALUE","selectMixin","select2Mixin","showPickLayer","picked","showNullOption","nullOption","select2NullValue","state.input.options.values","stateInputOptionsValues","findvalue","keyvalue","pickLayerValue","pickLayerInputService","changeSelect","setAndListenSelect2Change","dependencyLayerId","dependencyLayer","selectElement","getLanguage","minimumInputLength","allowClear","transport","failure","resetValues","processResults","more","246","state.input.options.min","state.input.options.max","247","keyup","mobileChange","248","min-width","249","setupTableCustomTools","buttonColumnLeft","buttonColumnRight","buttonColumnRemove","buttonRowAbove","buttonRowBelow","buttonRowRemove","edit_state","edit","show_html","edit_states","toolbarOptions","align","quill","Quill","quill_editor","modules","toolbar","handlers","innerText","qlformat","column-left","insertColumnLeft","column-right","insertColumnRight","column-remove","deleteColumn","row-above","insertRowAbove","row-below","insertRowBelow","row-remove","deleteRow","getModule","novalid","250","251","setLayerOpacity","showLayerOpacityMenu","layerOpacity","252","_MapAddLayer","_MapAddLayer2","_MapFooter","_MapFooter2","_$options","addlayer","MapFooter","disableMapControls","showHideControls","mapControls","_ref3$layers","_ref3$mainview","_ref3$switchable","components/MapAddLayer.vue","components/MapFooter.vue","253","_toArray","SUPPORTED_FORMAT","CSV_SEPARATORS","box-shadow","MAPEPSG","accepted_extension","separators","hex","csv_extension","setLayerMapPosition","clearError","onAddLayer","input_file","promiseData","files","csv_data","_csv_data","handle_csv_headers","csv_headers","headers_length","readAsText","modal_addlayer","clearLayer","csv.x","csv.y","accept","254","history","setMapExtent","hasEmptyHistory","changeKeyEvent","gap","255","_MapFooterRight","_MapFooterRight2","_MapFooterLeft","_MapFooterLeft2","MapFooterRight","MapFooterLeft","components/MapFooterLeft.vue","components/MapFooterRight.vue","256","257","switch_icon","epsg_4326","mapunit","showmapunits","switchMapsCoordinateTo4326","258","259","metadataMixin","isSpatial","showHideInfo","findAttributeFormMetadataAttribute","findMetadataAttribute","keywords","metadataurl","onlineresources","dataurl","260","_MetadataLayer","_MetadataLayer2","_MetadataProjectTabContent","_MetadataProjectTabContent2","_MetadataProjectBBoxContent","_MetadataProjectBBoxContent2","_MetadataProjectContactsContent","_MetadataProjectContactsContent2","iconsClass","metadata-layer","metadata-tab-content","metadata-bbox-content","metadata-contacts-content","isArrayorObject","components/MetadataLayer.vue","components/MetadataProjectBBoxContent.vue","components/MetadataProjectContactsContent.vue","components/MetadataProjectTabContent.vue","261","bboxlabels","262","contactelectronicmailaddress","personprimary","contactvoicetelephone","sanitizeValue","geti18n","subvalue","263","arrayToString","264","_navbaritems","_navbaritems2","services/navbaritems","265","266","267","268","269","_PrintSelectAtlasFieldValues","_PrintSelectAtlasFieldValues2","_PrintFidAtlasValues","_PrintFidAtlasValues2","SelectAtlasFieldValues","FidAtlasValues","setDisabledPrintButton","setAtlasValues","onChangeTemplate","onChangeScale","onChangeFormat","onChangeDpi","onChangeRotation","disable-print-button","set-values","overflow-y","components/PrintFidAtlasValues.vue","components/PrintSelectAtlasFieldValues.vue","270","validateValue","addRangeToValues","rangeLenght","canAdd","print_atlas_fid","271","disableddownloadbutton","downloadImageName","downloadImage","state.url","stateUrl","timeOut","printoutput","revokeObjectURL","272","autocompleteOptions","autocompleteMixin","emitValues","currentValue","print_atlas_autocomplete","gui/external/select2/options/autocomplete","273","fakeImage","showFullModal","html_page_title","logoSrc","imageSrc","menuitem","274","operators","currentlayer","manual","manualvalue","select.field","addToExpression","getValues","number_of_features","excludejoinfields","customPrefix","joinLayer","joinLayerFields","flex-wrap","skin-background-color lighten","dblclick","scope","skin-border-color","275","QueryBuilderUIFactory","showinfo","gui/querybuilder/querybuilderuifactory","276","_QueryResultsTableAttributeFieldValue","_QueryResultsTableAttributeFieldValue2","_QueryResultsActionInfoFormats","_QueryResultsActionInfoFormats2","_QueryResultsHeaderFeatureBody","_QueryResultsHeaderFeatureBody2","maxSubsetLength","headerExpandActionCellWidth","headerActionsCellWidth","HEADERTYPESFIELD","fieldsMixin","TableAttributeFieldValue","header-feature-body","onelayerresult","hasResults","getLayerCustomComponents","getLayerField","layerField","getQueryFields","getFieldType","getColSpan","attributesSubsetLength","hasLayerOneFeature","getDownloadActions","addLayerFeaturesToResults","showDownloadAction","getContainerFromFeatureLayer","hasOneLayerAndOneFeature","layerHasFeatures","layerHasActions","featureHasActions","geometryAvailable","extractAttributesFromFirstTabOfFormStructureLayers","traverseStructure","attributesSubset","_attributes","relationsAttributesSubset","relationAttributes","relationsAttributes","cellWidth","headerLength","subsetLength","diff","actionsCellWidth","headerAttributeCellTotalWidth","baseCellWidth","featureBoxColspan","colspan","expandable","relationsAttributesSubsetLength","elements","getLayerFormStructure","isAttributeOrTab","isField","getLayerAttributeFromStructureItem","getLayerFeatureBox","boxid","collapsedFeatureBox","showFeatureInfo","toggleFeatureBox","toggleFeatureBoxAndZoom","showFullPhoto","state.layers","stateLayers","requestAnimationFrame","data-widget","downloadformats","boxLayerFeature","featureIndex","showresults","showResults","components/QueryResultsActionInfoFormats.vue","components/QueryResultsHeaderFeatureBody.vue","components/QueryResultsTableAttributeFieldValue.vue","277","clickAction","originalDataTitle","278","_download","flex-grow","279","reloadLayerDataWithChangedContentType","queryService","_responseParser$get","_responseParser$get2","_queryService$getFeat","queryFeature","select2_value","280","choice","g3w_select_feature_featurepolygon","refInFor","281","_QueryResultsAction","_QueryResultsAction2","components/QueryResultsAction.vue","282","_QueryResultsActions","_QueryResultsActions2","mouseout","noAttributes","components/QueryResultsActions.vue","283","g3w-link","g3w-vue","284","_FieldG3W","_FieldG3W2","RelationPageEventBus","SIDEBARWIDTH","inject","headercomponent","downloadButton","downloadLayer","showrelationslist","relationnoback","one","createTable","downloadformatsLength","saveRelation","chartContainer","what","relationDataTable","relationtable","DataTable","bLengthChange","scrollResize","scrollCollapse","scrollX","responsive","columnDefs","orderable","targets","tableHeaderHeight","tableHeight","datatableBody","breadcrumbHeight","OtherElementHeight","query_relation","showFormStructureRow","getRowFields","adjust","$parent","setRelationsList","fieldIs","fieldType","sidebarHeaderSize","pageX","tablecontent","chartcontent","relationwrapper","toggled-white","paddingBottom","components/FieldG3W.vue","gui/relations/vue/relationeventbus","285","featureInfo","infoFeatures","noback","grid-template-columns","grid-column-gap","grid-row-gap","286","_Relations","_Relations2","_Relation","_Relation2","_$options$relation","showChartButton","provide","chartlayerid","relationName1","relationName2","save-relation","show-chart","hide-chart","components/Relation.vue","components/Relations.vue","287","_Tool","_Tool2","_QueryBuilderSearch","_QueryBuilderSearch2","g3w-tool","g3w-search-querybuilder","searchtool","components/QueryBuilderSearch.vue","components/Tool.vue","288","289","_SearchSelect","_SearchSelect2","_SearchDatetime","_SearchDatetime2","_SearchPanelLabel","_SearchPanelLabel2","Select2","SearchDatetime","SearchPanelLabel","isSelectDisabled","onFocus","scrollTop","changeDependencyFields","changeNumericInput","select-change","components/SearchDatetime.vue","components/SearchPanelLabel.vue","components/SearchSelect2.vue","290","getLabelOperator","291","emitChangeEvent","_initSelect2Element","_forminput","numdigaut","isAutocomplete","forminput.value","forminputValue","allvalue","292","_eventbus","_eventbus2","_sidebar","_sidebar2","bOpen","bPageMode","showmainpanel","componentname","closeAllPanels","gui/sidebar/eventbus","services/sidebar","293","_SidebarItemAction","_SidebarItemAction2","main","SidebarItemAction","onClickItem","openClose","anchor_click","components/SidebarItemAction.vue","294","triggerAction","295","_SpatialBookMarkItem","_SpatialBookMarkItem2","SpatialBookMarkItem","borderBottom","components/SpatialBookMarkItem.vue","296","removeBookMark","gotoSpatialBookmark","297","_SpatialBookMarkGroup","_SpatialBookMarkGroup2","_InputText2","SPATIAL_BOOKMARKS_LOCALITEMS","SpatialBookMarkGroup","InputText","showaddform","addbookmarkinput","hasProjectbookmarks","addBookMark","saveUserBookMarks","showAddForm","g3w-tools","remove-bookmark","components/SpatialBookMarkGroup.vue","298","299","_TableBody","_TableBody2","_TableSelectRow","_TableSelectRow2","_TableToolbar","_TableToolbar2","dataTable","fieldsComponents","eventHandlers","nopagination","tableBodyComponent","selectedRow","TableBody","selectAllRow","hasHeaders","createdContentBody","fieldComponent","trDomeElements","rowElement","hasGeometry","contentDOM","SelectRowClass","SelectRowInstance","fieldClass","fieldInstance","hideElements","commonDataTableOptions","debounceSearch","G3WTableToolbarClass","G3WTableToolbarInstance","setContentKey","lengthMenu","processing","sSearch","dom","searchable","attribute_table","serverData","serverSide","deferLoading","changeColumn","searchDelay","components/TableBody.vue","components/TableSelectRow.vue","components/TableToolbar.vue","300","SelectRow","hindex","tab-index","301","302","disableMapTool","rightpanel","height_100","303","AppState","TOOLSTATE","fireAction","showToolStateMessage","toolstatecolor","isCheck","tool_disabled","vertical-align","304","state.toolsGroups","G3wTool","305","COLORS","z-index","subtitle","draggable","showheader","addClassMobile","isSidebarVisible","hideShow","_position$split","_position$split2","306","_UserMessage","_UserMessage2","_NotifyOnline","_NotifyOnline2","_NotifyDownload","_NotifyDownload2","_NotifyPlugins","_NotifyPlugins2","_viewport","_viewport2","userMessage","onlineNotify","downloadNotify","pluginsNotify","updatePreviousTitle","breadcrumb","showresize","currentPerc","getCurrentContentLayout","resized","secondaryPerc","showresizeicon","showtitle","contentsData","contentTitle","_contentsData$options","post_title","backOrBackTo","showgoback","previousTitle","isNotLastCrumb","closeMap","gotoPreviousContent","viewPortSize","mapSize","pageY","contentSize","resizePercentageMap","resizePercentageContent","resizeViewComponents","handleResizeViewport","mediaQueryEventMobile","matchMedia","enter","leave","close-usermessage","aside","components/NotifyDownload.vue","components/NotifyOnline.vue","components/NotifyPlugins.vue","components/UserMessage.vue","services/viewport","307","308","inputswmsurlvalid","addwmsurl","padding-top","309","selectedlayers","filterLayerByCurrentEpsg","layerProjections","crss","firstLayer","_$options$config","$data","310","VueColor","VueCookie","regenerator-runtime","vue-cookie","311","watcher","unique_attr_id","getAttribute","312","removeAttribute","313","314","_utils","directives/utils","315","316","317","_ref$multiple","_ref$search","dropdownCssClass","318","toggleAttribute","319","320","321","322","323","_el","_ref$el","componentUpdated","oldVnode","324","325","g3wsdk","app/api","326","_App","_App2","_GlobalImage","_GlobalImage2","_GlobalGeo","_GlobalGeo2","_GlobalSkeleton","_GlobalSkeleton2","_GlobalBarLoader","_GlobalBarLoader2","_GlobalProgressBar","_GlobalProgressBar2","_GlobalHelpDiv","_GlobalHelpDiv2","_GlobalResize","_GlobalResize2","_GlobalLayerPositions","_GlobalLayerPositions2","_GlobalDateTime","_GlobalDateTime2","_GlobalRange","_GlobalRange2","_GlobalResizeIcon","_GlobalResizeIcon2","_GlobalTabs","_GlobalTabs2","_GlobalDivider","_GlobalDivider2","_Floatbar","_Floatbar2","_NavbaritemsLeft","_NavbaritemsLeft2","_NavbaritemsRight","_NavbaritemsRight2","_Sidebar","_Sidebar2","_Viewport","_Viewport2","_vDisabled","_vDisabled2","_vChecked","_vChecked2","_vSelectedFirst","_vSelectedFirst2","_vSelect","_vSelect2","_vTTooltip","_vTTooltip2","_vTHtml","_vTHtml2","_vTPlaceholder","_vTPlaceholder2","_vTTitle","_vTTitle2","_vT","_vT2","_vTPlugin","_vTPlugin2","_vPlugins","_vPlugins2","_vOnline","_vOnline2","_vDownload","_vDownload2","install","getInfo","getInfoString","_isMobile","inheritAttrs","ApplicationTemplate","appLayoutConfig","_isIframe","waitingoutputdataplace","_createApp","_createTemplateConfig","G3WTemplate","appTitle","ContentsComponent","WMSComponent","placeholders","Services","closeOpenComponents","floatbar","othercomponents","_setDataTableLanguage","_setupInterface","_setupLayout","_setUpServices","templateConfig","skinColor","_buildTemplate","_setUpTemplateDependencies","_setViewport","appendTo","languageOptions","searchPlaceholder","sLengthMenu","paginate","zeroRecords","infoFiltered","dataTableExt","oStdClasses","sFilterInput","oLanguage","_addRoutes","RouterService","getRouterService","addRoute","xy","registerService","getComponents","placeholdersConfig","_addComponents","_addOtherComponents","viewportOptions","PLACEHOLDERS","placeholderService","registerComponent","_removeComponent","unregisterComponent","_showModalOverlay","_isSidebarVisible","_showSidebar","_hideSidebar","VueApp","getTemplateInfo","errorToMessage","_error$error","_error$error$code","_error$error$data","_error$error$message","msg","resourcesurl","showList","closeList","hideList","hidePanel","showTable","closeTable","outputDataPlace","defaultOutputConfig","_options$show","outputConfig","showContentFactory","showResult","showPanelContent","showQueryResults","showForm","_options$split","formComponent","formService","closeForm","_ref12$pop","disableElement","disableContent","disablePanel","hideContent","queryResultsComponent","queryResultService","showContextualContent","getPushContent","addNavbarItem","addItem","removeNavBarItem","disableApplication","dialog","bootbox","showFloatbar","hideFloatbar","showSidebar","reloadComponents","_ref14$element","_ref14$show","setPrimaryView","viewName","showMap","showContextualMap","setContextualMapComponent","resetContextualMapComponent","pushContextualContent","getContentLength","contentLength","getCurrentContentTitle","getCurrentContentId","changeCurrentContentTitle","getCurrentContent","getProjectMenuDOM","projectVueMenuComponent","_closeUserMessageBeforeSetContent","_setContent","hideClientMenu","hideChangeMaps","getTemplateClasses","BootstrapVersionClasses","getTemplateClass","contentsComponent","_ref17$language","error_page","it","at_moment","f5","en","compiledTemplate","compile","postBootstrap","_ref18$error","statusText","./deprecated","./globals","components/App.vue","components/Floatbar.vue","components/GlobalBarLoader","components/GlobalDateTime.vue","components/GlobalDivider.vue","components/GlobalGeo.vue","components/GlobalHelpDiv.vue","components/GlobalImage.vue","components/GlobalLayerPositions.vue","components/GlobalProgressBar","components/GlobalRange.vue","components/GlobalResize.vue","components/GlobalResizeIcon.vue","components/GlobalSkeleton.vue","components/GlobalTabs.vue","components/NavbaritemsLeft.vue","components/NavbaritemsRight.vue","components/Sidebar.vue","components/Viewport.vue","directives/v-checked","directives/v-disabled","directives/v-download","directives/v-online","directives/v-plugins","directives/v-select2","directives/v-selected-first","directives/v-t","directives/v-t-html","directives/v-t-placeholder","directives/v-t-plugin","directives/v-t-title","directives/v-t-tooltip","gui/projectsmenu/projectsmenu","gui/spatialbookmarks/vue/spatialbookmarks","gui/templates/500.html","gui/viewport/contentsviewer","327","translation","cookie_law","sign_in","layer_selection_filter","nofilter","show_features_on_map","layer_position","sdk","template_dialog","spatialbookmarks","helptext","sections","no_results","error_loading","layer_not_searchable","layer_not_querable","inputshort","pre","no_layers","download_image","fids_instruction","fids_example","querybuilder","error_run","error_test","additem","unsupported_format","add_external_layer","fees","accessconstraints","contactinformation","subfields","contactorganization","ContactOrganization","contactposition","ContactPosition","contactperson","ContactPerson","tooltips","form_to_row","row_to_form","copy_map_extent_url","download_shapefile","show_chart","add_selection","zoom_to_features_extent","add_features_to_results","remove_feature_from_results","zoom_to_feature","relations_charts","download_features_shapefile","download_features_gpx","download_features_gpkg","download_features_csv","download_features_xls","copy_zoom_to_fid_url","choiches","feature_polygon","no_geometry","querybybbox","nolayers_visible","measures","no_valid_scale","metric","nautical","zoom_last","zoom_next","relation_data","no_relations_found","back_to_relations","list_of_relations_feature","error_missing_father_field","input_validation_mutually_exclusive","input_validation_error","input_validation_min_field","input_validation_max_field","input_validation_exclude_values","bigint","varchar","qgis_input_widget_relation","current_map_theme_prefix","choose_map_theme","setwmsopacity","copied","geotiff_map_extent","wps","list_process","g3wSuiteFramework","g3wSuiteDescription","productOf","toggle_color_scheme","logout","no_other_projects","yes","no","backto","changemap","create_print","dosearch","externalwms","nobaselayer","street_search","copy_form_data","paste_form_data","copy_form_data_from_feature","error_map_loading","check_internet_connection_or_server_admin","could_not_load_vector_layers","server_saver_error","server_error","cancel","enlange_reduce","reset_default","exitnosave","annul","layer_is_added","add_wms_layer","delete_wms_url","layer_id_already_added","url_already_added","layer_add_error","list_of_relations","open_link","link_button","geolocations","add_layer_control","select_projection","select_field_to_show","select_csv_separator","select_csv_x_field","select_csv_y_field","select_color","drag_layer","input_relation","catalog_items","zoomtolayer","open_attribute_table","show_metadata","vector_color_menu","layer_opacity","no_data","nodatafilterd","328","329","330","wms_layer_id_already_added","wms_url_already_added","331","_it","_it2","_en","_en2","_fi","_fi2","_se","_se2","_fr","_fr2","_de","_de2","_ro","_ro2","translations","fi","se","fr","de","ro","./de","./en","./fi","./fr","./it","./ro","./se","332","333","334","335","336","showhelpicon","337","getFieldService","_fieldsService","sanitizeFieldValue","338","339","340","formInputsMixins","_autocomplete","_autocomplete2","_fields2","_media","_media2","_geo","_geo2","_resize","_resize2","_select","_select2","_select3","_select4","_formInputs","_formInputs2","_widget","_widget2","_metadata","_metadata2","_baseInput","_baseInput2","mixins/autocomplete","mixins/base-input","mixins/fields","mixins/form-inputs","mixins/geo","mixins/media","mixins/metadata","mixins/resize","mixins/select","mixins/select2","mixins/widget","341","isMedia","342","343","DELAY_TYPE","delayWrapper","delayResize","344","usecompleter","$container","345","346","347","_apiEndpoints","apiEndpoints","howManyAreLoading","apiEndPoint","completeUrl","348","_config2","_clipboard","_clipboard2","i18ninit","onLine","complete","_applicationServices","_initConfigUrl","_initConfig","_groupId","_gid","_changeProject","setOnline","setOffline","_setFilterToken","setApplicationUser","browserLanguage","createApplicationConfig","bootstrap","setupI18n","languageConfig","languageLabel","setApplicationLanguage","userLanguage","ajaxSetup","beforeSend","jqXHR","getDownload","loadingPlugin","loadedPlugin","_plugin","pathname","pathArray","replaceState","registerOnlineOfflineEvent","registerLeavePage","_ref4$bool","_return","onbeforeunload","unregisterOnlineOfflineEvent","getApplicationLanguage","isOnline","setOfflineItem","localStorage","setItem","removeLocalItem","getItem","getOfflineItem","removeOfflineItem","getProxyUrl","proxyurl","getInterfaceOwsUrl","interfaceowsurl","getClipboardService","obtainInitConfig","initConfigUrl","header_logo_img","header_logo_link","terms_of_use_text","terms_of_use_link","initproject","getProjectConfigUrl","views","projectPath","locationsearch","clearInitConfig","queryTuple","getInitConfig","setInitVendorKeys","getInitConfigUrl","setInitConfigUrl","_bootstrapPlugins","pluginsBaseUrl","pluginsConfigs","otherPluginsConfig","setEPSGApplication","getApplicationUser","initialized","startIFrameService","initLocalItems","iframeService","unregisterService","errorHandler","apikey","setVendorKeys","changeProjectview","isProjectViewChanging","reloadCurrentProject","projectUrl","getProjectUrl","width_default","height_default","width_100","getCurrentLayout","core/iframe/routerservice","services/clipboard","349","ClipboardService","formLayer","350","ExpressionService","_ref2$params","_ref2$contentType","core/data/service","351","OWSService","wmsCapabilities","owsUrl","352","ProxyService","proxyUrl","_ref2$method","_ref2$headers","353","QueryService","_ref$feature_count","_ref$filterConfig","_ref$multilayers","_ref$condition","_ref$layerName","_ref$excludeSelected","_ref$external","hasExternalLayersSelected","returnExceptionResponse","messagetext","_ref2$feature_count","_ref2$filterConfig","_ref2$multilayers","_ref2$condition","_ref2$excludeSelected","_ref2$addExternal","_ref2$layersFilterObj","_ref4$layerIds","_ref4$multilayers","_ref4$query_point_tol","_ref4$addExternal","layersResults","354","promisesSearch","dataSearch","_value$data","_ref5$fids","layersfids","layersresponses","_ref7$fids","_ref7$formatter","layerresponse","355","DataService","defaultoutputplaces","currentoutputplaces","ouputplaces","_dataQuery2","_dataSearch2","_dataExpression2","proxy","_dataProxy2","_dataOws2","contextAndMethod","_splitContextAndMetho","serviceName","setOutputPlaces","places","addCurrentOutputPlace","addNewOutputPlace","_ref5$method","resetDefaultOutput","_dataExpression","_dataOws","_dataProxy","_dataQuery","_dataSearch","services/data-expression","services/data-ows","services/data-proxy","services/data-query","services/data-search","356","Actions","opposite","357","FloatbarService","sidebarEl","_zindex","_modalOverlay","_modal","_isopen","isOpen","358","isready","showListing","closeListing","hideListing","hideQueryResults","push_content","setPushContent","guiResized","359","AppService","changeMap","_ref$capture","capture","_ref3$capture","getcenter","zoomtocoordinates","_params$coordinates","_params$highlight","getextent","_params$extent","zoomtofeature","_params$highlight2","360","EditingService","subscribevents","startAction","toolboxes","setSaveConfig","toolbox","stopAction","stopEditing","subscribersHandlers","activeTool","_ref4$disableToolboxe","disableToolboxes","setEnabled","setEditing","cancelform","addfeature","addFeatureTool","getToolById","addSubscribeEvents","closeeditingpanel","resetSubscribeEvents","unsubscribe","configQglLayerId","getEditableLayersId","startstopediting","toolboxPromise","setActiveTool","_options$action","startEditingPromise","stopEditingPromises","resetDefault","_g3wsdk$core$utils","core/iframe/services/plugins/service","361","IframePluginService","pendingactions","serviceNames","eventResponseServiceHandler","postMessage","attachEvent","_ref5$data","outputData","writeFeatures","stopPendingActions","_evt$data$id","_evt$data$single","single","detachEvent","core/iframe/services/index","362","navbaritemsService","363","QueryBuilderService","_cacheValues","_items","QUERYBUILDERSEARCHES","getItems","valuesField","_ref3$showResult","confirm","saveitems","editLocalItem","_querybuildersearch","_resetItems","addLocalItem","_querybuildersearches","prompt","searchService","sample","364","createUrl","_options$layer","_options$type","_options$formatter","_nmRelation$fieldRef","relationsNM","responseFids","_ref2$features","365","crossroads","ignoreState","greedy","_initialLocationQuery","_routeQuery","setRouteQuery","routeQuery","_setRouteQueryFromLocationQuery","pattern","removeRoute","removeAllRoutes","defaultArgs","_initialQuery","_stripInitialQuery","makePermalink","_encodeRouteQuery","makeQueryString","queryParams","slicePath","path","sliceFirst","pathAndQuery","queryString","pathArr","firstPath","getQueryParams","queryPairs","queryPair","pair","getQueryString","_getQueryPortion","queryKey","queryPortion","_decodeRouteQuery","locationQuery","encodedRouteQuery","_getRouteQueryFromLocationQuery","previousQuery","previousQueryLength","previousQueryPosition","queryPrefix","trimEnd","querySuffix","trimStart","366","SidebarService","closeSidebarPanel","openCloseItem","_options$before","sidebarItem","SidebarItem","DOMComponent","isPanelSidebarShow","sidebarcomponetsdomid","childrenLength","findElementIndexId","initService","setComponentClickHandler","_ref$open","reloadComponent","sidebarComponent","_SidebarItem","_SidebarItem2","components/SidebarItem.vue","367","runTask","taskUrl","_options$interval","interval","_options$timeout","_options$listener","task_id","intervalId","setInterval","_response","stopTask","clearInterval","taskId","368","ViewportService","primaryView","v","cloasable","_defaultMapComponent","_contextualMapComponent","_secondaryViewMinWidth","_secondaryViewMinHeight","_immediateComponentsLayout","_options$primaryview","primaryview","setResized","_ref$textMessage","getMapState","getContentState","_toggleMapComponentVisibility","_showView","contextualMapComponent","recoverDefaultMap","_layout","getContentPercentageFromCurrentLayout","evenContentName","_prepareContentView","_layoutComponents","prevContentPerc","secondaryVisible","currentRightPanel","isFullViewContent","contentgetCurrentContentData","currentContent","isContentOpen","closeSecondaryView","isPrimaryView","viewTag","showPrimaryView","showSecondaryView","secondaryViewComponent","_otherView","getDefaultViewPerc","_isSecondary","_setPrimaryView","_options$split2","_options$closable","_options$backonclose","_options$style","_options$showgoback","_options$headertools","headertools","_options$perc","_options$split3","_getReducedSizes","contentEl","reducedWidth","reducedHeight","sideBarToggleEl","toggleWidth","_toggleWidth","reducesdSizes","_setViewSizes","secondaryView","_getViewportSize","getViewportSize","viewportWidth","viewportHeight","primaryWidth","primaryHeight","secondaryWidth","secondaryHeight","_viewportWidth","_viewportHeight","topHeight","main_sidebar","sideBarSpace","setContentPercentageFromCurrentLayout","triggerResize","resizeFired","drawResize","drawing","369","WorkFlowsStack","getParent","_getCurrentIndex","getParents","currentWorkflow","workfow","getLast","getFirst","getAt","370","STATE","upload","STATE_METHODS","371","372","ComponentsRegistry","373","ControlsRegistry","_controls","_offlineids","selectedLayer","externalLayers","callControlsEventHandler","unWatch","controlItem","_registerControl","getControl","unregisterControl","374","MapLayersStoresRegistry","375","_configurationPlugins","_loadedPluginUrls","gidProject","setPluginsConfig","addLoadingPlugins","setOtherPlugins","setDependencyPluginConfig","_loadPlugins","pluginLoadPromises","pluginConfig","_setup","dependecyPluginConfig","law","OTHERPLUGINS","reloadPlugins","scripts","getPlugins","scr","pluginUrl","enabledPluginConfig","_loadScript","getScript","_pluginConfig$jsscrip","jsscripts","depedencypluginlibrariespromises","_loop3","script","baseUrl","scriptUrl","376","createProject","projectConfig","setCurrentProject","projectLayersStore","minScale","_groupProjects","_projectConfigs","setupState","setProjects","getProjectType","getProjects","clearProjects","currentProjectId","listable","projectGid","pendingProject","_getProjectFullConfig","projectFullConfig","_setProjectRelations","getProjectConfigByGid","setProjectAliasUrl","_location","projectBaseConfig","find_map_theme","url_theme","layetstree","377","setSession","getSessions","378"],"mappings":"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N,aAAc,qBACdD,cAAe,qBACfE,aAAc,oBACdC,aAAc,oBACdo+N,WAAY,oBACZp8E,MAAO,iBAETxV,aACE3nG,OACE26C,QAAS,cACTivC,SACE4vG,eACEpxE,KAAM,gCAERqxE,yBACErxE,KAAM,+BAERsxE,yBACEtxE,KAAM,wDAERuxE,6BACEvxE,KAAM,yCAERwxE,iBACExxE,KAAM,sBAER14J,WACE04J,KAAM,uBAERyxE,kBACEzxE,KAAM,kCAER0xE,6BACE1xE,KAAM,oCAERkxE,oBACElxE,KAAM,mCAER2xE,uBACE3xE,KAAM,6BAER4xE,wBACE5xE,KAAM,8BAERntJ,cACEmtJ,KAAM,6BAERptJ,eACEotJ,KAAM,8BAER6xE,uBACE7xE,KAAM,8BAERltJ,cACEktJ,KAAM,6BAER8xE,uBACE9xE,KAAM,8BAERjtJ,cACEitJ,KAAM,6BAERjL,OACEiL,KAAM,iBAER+xE,sBACE/xE,KAAM,mEACNoB,YAAa,aAInBpsB,gBACEviI,UACE8wB,MAAO,0BACPyuM,UACErvN,SACExL,MAAO,gBAET86N,iBACE96N,MAAO,4BAIbo7E,QAAS,qBACT2/I,YAAa,iCACb/uI,MACE5/D,MAAO,+BACPhP,QAAS,oRAGbkhH,oBACEljD,QAAS,kCAEX4/I,aACE5/I,QAAS,sBACT6/I,iBAAkB,8HAClBjvI,MACE5/D,MAAO,kCACPhP,QAAS,4JAGbujL,UACEx+H,UACE19D,KACEe,QAAS,4GAGb41E,QAAS,oBAEXomB,aACEpmB,QAAS,oBAEX8/I,UACE30O,QACE60F,QAAS,QACT4Q,KAAM,6HAERrR,MACES,QAAS,SACT4Q,KAAM,wEAGVnyD,OACEshM,eAAgB,mBAElBp9F,WACEtkD,OACE2hJ,OAAQ,QACRC,SAAU,oBAGd98F,aACE+8F,UAAW,kBACXC,UAAW,kBAGfprO,WACEqrO,cAAe,qBACfC,mBAAoB,4BACpBC,kBAAmB,2BACnBC,0BAA2B,oCAC3BC,2BAA4B,kBAE9BprO,UACEsmB,OACEsV,MAAO,YAETviB,KAAM,UAER4lD,MACE7xC,QAAS,YACTK,QACEkkD,UACEhzE,QACE2rI,UAAW,wGAGf6+F,UACE7+F,UAAW,6BACXC,OAAQ,qDAEV8gG,oCAAqC,0CACrCC,uBAAwB,8CACxBC,2BAA4B,sDAC5BC,2BAA4B,sDAC5BC,gCAAiC,0BACjCnxI,QAAS,UACToxI,OAAQ,UACR/3N,KAAM,OACNg4N,QAAS,OACTzhG,SAAU,OACV30C,OAAQ,SACRupG,KAAM,OACNW,SAAU,OACVplG,QAAO,QACPrpF,MAAO,SAETomE,QACE6rH,gBAAmB,wBAErBtxH,UACEi6J,2BAA4B,6EAGhCvsO,SACEwsO,yBAA0B,QAC1BC,iBAAkB,kBAClB3uD,MACE0jB,cAAe,sBACfkrC,cAAe,sBACfrmM,KACE9J,MAAO,GACPnnB,KAAM,2CACNu3N,OAAQ,WAEVlhO,UACE6lC,IAAK,0BACL78B,IAAK,oBACLC,KAAM,qBACNE,IAAK,oBACLJ,IAAK,oBACLK,QAAS,wBACT+3N,mBAAoB,sDAI1BC,KACEC,aAAc,qBACdvhJ,QAAS,oBAGbl1E,SACE02N,kBAAmB,uCACnBC,oBAAqB,mEACrBC,UAAW,4BAEbC,oBAAqB,wBACrBC,OAAQ,SACRC,kBAAmB,yCACnBC,IAAK,KACLC,GAAI,KACJv3N,KAAM,SACNw3N,OAAQ,aACRC,UAAW,eACX/4H,UAAW,wBACX1jG,OAAQ,QACRq3N,WAAY,4BACZp3N,MAAO,UACPy8N,aAAc,oBACdC,SAAU,QACV1tO,QAAS,QACTd,KAAM,QACNyuO,YAAa,MACb5+J,WAAY,OACZ9mE,MAAO,QACPimH,KAAM,SACNrnF,OAAQ,UACR+mM,YAAa,gBACbC,cAAe,iBACf/mM,KAAM,WACN4/D,KAAM,aACNonI,eAAgB,iBAChBC,gBAAiB,WACjBC,4BAA6B,+BAC7BC,kBAAmB,8BACnBC,0CAA2C,oDAC3CC,6BAA8B,kDAC9BC,mBAAoB,uCACpBC,aAAc,2BACdr6N,KAAM,YACNs6N,OAAQ,YACR96N,MAAO,YACP+6N,eAAgB,yBAChBC,cAAe,gBACfnsN,IAAK,aACLosN,WAAY,yBACZC,MAAO,YACPC,eAAgB,+CAChBjwD,SACEr4I,KACEomH,OACElwH,MAAO,uBACPpsB,OACEy2D,SAAU,iBACVnkE,KAAM,OACNsvD,YAAa,aACbt7C,OAAQ,WAGZm4N,cAAe,uBACfC,eAAgB,kBAChBC,uBAAwB,gCACxBC,kBAAmB,8BACnBC,gBAAiB,kFAGrB/sO,MACEs6B,MAAO,aACP0yM,kBAAmB,oBACnBC,UAAW,8BACXb,aAAc,4CACdjG,WAAY,oDACZ+G,YAAa,UAEf52F,aACE62F,cACEx2N,MAAO,uCAET+1H,WACEnnC,YAAa,eACbC,UAAW,mBACXC,kBAAmB,4BAErB2nI,mBACExkI,OAAQ,mBACRykI,kBAAmB,6BACnBC,qBAAsB,0DACtBC,qBAAsB,sBACtBC,mBAAoB,mBACpBC,mBAAoB,mBACpBC,aAAc,wBACdC,WAAY,oCAEdh/L,OACEi/L,eAAgB,qCAElBn5O,QACE60F,QAAS,SAEXT,MACES,QAAS,QAEXgjD,YACE31H,MAAO,gCAGXk3N,eACE5H,SAAU,6GACVn7C,aACEgjD,YAAa,iBACbC,qBAAsB,yBACtBC,cAAe,YACf/lM,OAAQ,QACRgmM,kBAAmB,0BACnBC,cAAe,aAGnB/iB,WACEhwF,SAAU,YACVpjH,KAAM,SACN60M,WAAY,kBACZ5sN,KAAM,qDACNmuO,QAAS,cACTC,cAAe,sCACfhS,aAAc,6CAKdiS,KAAK,SAASp6O,EAAQU,EAAOJ,GACnCmR,OAAOC,eAAepR,EAAS,cAC7BqR,OAAO,IAETrR,EAAAA,YACEgxO,aACEC,YACEl6M,QAAS,kFACTm4J,WAAY,WAEd1tL,UAAS,UACT0vO,QAAS,UACTC,wBACE1/N,OACE5H,OAAQ,oBACRunO,SAAU,gBACVtxN,OAAQ,mBACRC,MAAO,kBACPsxN,qBAAsB,iCAG1BlyN,SACEm7E,qBAAsB,wBAExBg3I,gBACE9nH,IAAK,MACLszE,OAAQ,SACR/lK,QAAS,sCAEXw6M,KACEh6E,OACEi6E,iBACEzrM,MAAO,oBAGX0rM,kBACE1rM,MAAO,oBACP2rM,SAAU,gDACVrnO,OACE4B,KAAM,QAER0lO,UACEvoO,SACE28B,MAAO,qBAETjrB,MACEirB,MAAO,oBAIbxrB,QACE8zB,IAAK,MACLujM,WAAY,aACZhyG,UAAW,gBACXiyG,cAAe,qBACfC,qBAAsB,0BACtBC,mBAAoB,wBACpB3/H,cACE4/H,YACEC,IAAK,eACLhlL,KAAM,wBAIZzyC,OACE03N,UAAW,oBACXx8J,SAAU,WACV5K,OAAQ,SACRt3B,MAAO,QACPt+B,OAAQ,SACRghE,SAAU,WACVi8J,eAAgB,iBAChBC,iBAAkB,mFAClBC,aAAc,uCACd1sI,KAAM,0GAER2sI,cACE/3N,QACE2E,IAAK,MACLzT,KAAM,cACN6oB,SAAQ,SACR0jL,KAAM,QAERl8H,UACE1oC,QAAS,QACTsxK,mBAAoB,sBAEtBzuD,OACE4xC,QACEx5J,IAAK,MACL7wB,KAAM,OACN0qD,KAAM,OACNnoD,MAAO,QACPb,IAAK,MACLmlM,OAAQ,UAEVpkM,OAAQ,SACRk6B,OAAQ,SACR9vB,OAAQ,SACR85L,UAAW,YACXlsL,WAAY,cAEds6M,UAAW,0CACXC,WAAY,wCACZl+M,SAAQ,yBACRm+M,QAAS,qCAEX3pO,QACEmX,QACE8yD,KAAM,iCAER2/J,mBAAoB,uBACpBC,mBAAoB,oBAEtBv6L,UACErS,MAAO,WACP+0C,QACEg6E,SACE/uH,MAAO,UACPoU,QACEpU,MAAO,QACP95B,KAAM,OACN0vJ,YAAa,cACbolB,WAAU,WACVy9B,SAAU,WACVo0B,KAAM,OACNC,kBAAmB,oBACnBC,mBAAoB,WACpBC,WACED,oBACE5yB,6BAA8B,QAC9BC,cAAe,aACfC,sBAAuB,QACvB4yB,oBAAqB,eACrBC,oBAAqB,eACrBC,gBAAiB,WACjBC,gBAAiB,WACjBC,cAAe,SACfC,cAAe,WAGnBh7L,QAAS,QAGb08G,SACEhvH,MAAO,UACPoU,QACExX,IAAK,OACLlb,OAAQ,SAGZxH,QACE8lB,MAAO,SACPoU,QACEl6B,OAAQ,SACR8yN,WACEpwM,IAAK,OACL5c,KAAM,OACNggB,MAAO,QACP95B,KAAM,OACNmkC,aAAc,WACdz7B,OAAQ,SACRq3D,WAAY,aACZ+0G,WAAU,WACVztD,YAAa,cACbkrF,SAAU,gBACVC,YAAa,eACbE,QAAS,aAGb7jI,QACEg6E,QAAS,UACTC,QAAS,cAKjBu+E,UACExpO,WACEypO,YAAa,WACbC,YAAa,aAEfC,oBAAqB,qBACrBC,mBAAoB,qBACpBr+N,aAAc,eACdD,cAAe,gBACfE,aAAc,eACdC,aAAc,eACdo+N,WAAY,aACZp8E,MAAO,eAETxV,aACE3nG,OACE26C,QAAS,cACTivC,SACE4vG,eACEpxE,KAAM,wBAERqxE,yBACErxE,KAAM,2BAERsxE,yBACEtxE,KAAM,kCAERuxE,6BACEvxE,KAAM,+BAERwxE,iBACExxE,KAAM,mBAER14J,WACE04J,KAAM,kBAERyxE,kBACEzxE,KAAM,wBAER0xE,6BACE1xE,KAAM,+BAERkxE,oBACElxE,KAAM,8BAER2xE,uBACE3xE,KAAM,wBAER4xE,wBACE5xE,KAAM,0BAERntJ,cACEmtJ,KAAM,wBAERptJ,eACEotJ,KAAM,yBAER6xE,uBACE7xE,KAAM,yBAERltJ,cACEktJ,KAAM,wBAER8xE,uBACE9xE,KAAM,yBAERjtJ,cACEitJ,KAAM,wBAERjL,OACEiL,KAAM,eAER+xE,sBACE/xE,KAAM,oDACNoB,YAAa,YAInBpsB,gBACEviI,UACE8wB,MAAO,sBACPyuM,UACErvN,SACExL,MAAO,iBAET86N,iBACE96N,MAAO,4BAIbo7E,QAAS,mBACT2/I,YAAa,0BACb/uI,MACE5/D,MAAO,2BACPhP,QAAS,0OAGbkhH,oBACEljD,QAAS,0BAEX4/I,aACE5/I,QAAS,mBACT6/I,iBAAkB,yFAClBjvI,MACE5/D,MAAO,2BACPhP,QAAS,yIAGbujL,UACEx+H,UACE19D,KACEe,QAAS,8FAGb41E,QAAS,aAEXomB,aACEpmB,QAAS,eAEX8/I,UACE30O,QACE60F,QAAS,SACT4Q,KAAM,gFAERrR,MACES,QAAS,OACT4Q,KAAM,wEAGVnyD,OACEshM,eAAgB,iBAElBp9F,WACEtkD,OACE2hJ,OAAQ,SACRC,SAAU,kBAGd98F,aACE+8F,UAAW,YACXC,UAAW,cAGfprO,WACEqrO,cAAe,gBACfC,mBAAoB,qBACpBC,kBAAmB,oBACnBC,0BAA2B,+BAC3BC,2BAA4B,oBAE9BprO,UACEsmB,OACEsV,MAAO,SAETviB,KAAM,QAER4lD,MACE7xC,QAAS,cACTK,QACEkkD,UACEhzE,QACE2rI,UAAW,kFAGf6+F,UACE7+F,UAAW,0BACXC,OAAQ,mCAEV8gG,oCAAqC,iCACrCC,uBAAwB,qCACxBC,2BAA4B,8CAC5BC,2BAA4B,6CAC5BC,gCAAiC,yBACjCnxI,QAAS,UACToxI,OAAQ,UACR/3N,KAAM,OACNg4N,QAAS,OACTzhG,SAAU,OACV30C,OAAQ,SACRupG,KAAM,OACNW,SAAU,OACVplG,QAAO,QACPrpF,MAAO,SAETomE,QACE6rH,gBAAmB,mBAErBtxH,UACEi6J,2BAA4B,qDAGhCvsO,SACEwsO,yBAA0B,QAC1BC,iBAAkB,eAClB3uD,MACE0jB,cAAe,iBACfkrC,cAAe,cACfrmM,KACE9J,MAAO,GACPnnB,KAAM,yBACNu3N,OAAQ,UAEVlhO,UACE6lC,IAAK,qBACL78B,IAAK,eACLC,KAAM,gBACNE,IAAK,eACLJ,IAAK,eACLK,QAAS,mBACT+3N,mBAAoB,2CAI1BC,KACEC,aAAc,kBACdvhJ,QAAS,iBAGbl1E,SACE02N,kBAAmB,oCACnBC,oBAAqB,mDACrBC,UAAW,0BAEbC,oBAAqB,sBACrBC,OAAQ,SACRC,kBAAmB,iCACnBC,IAAK,MACLC,GAAI,KACJv3N,KAAM,OACNw3N,OAAQ,WACRC,UAAW,aACX/4H,UAAW,oBACX1jG,OAAQ,SACRq3N,WAAY,mBACZp3N,MAAO,QACPy8N,aAAc,eACdC,SAAU,SACV1tO,QAAS,MACTd,KAAM,OACNyuO,YAAa,MACb5+J,WAAY,OACZ9mE,MAAO,QACPimH,KAAM,SACNrnF,OAAQ,SACR+mM,YAAa,aACbC,cAAe,eACf/mM,KAAM,OACN4/D,KAAM,OACNonI,eAAgB,YAChBC,gBAAiB,QACjBC,4BAA6B,qBAC7BC,kBAAmB,2BACnBC,0CAA2C,6CAC3CC,6BAA8B,yCAC9BC,mBAAoB,yBACpBC,aAAc,0BACdr6N,KAAM,OACNs6N,OAAQ,SACR96N,MAAO,QACP+6N,eAAgB,iBAChBC,cAAe,eACfnsN,IAAK,MACLosN,WAAY,oBACZC,MAAO,SACPC,eAAgB,qCAChBjwD,SACEr4I,KACEomH,OACElwH,MAAO,gBACPpsB,OACEy2D,SAAU,eACVnkE,KAAM,OACNsvD,YAAa,aACbt7C,OAAQ,WAGZm4N,cAAe,gBACfC,eAAgB,iBAChBC,uBAAwB,0BACxBC,kBAAmB,wBACnBC,gBAAiB,+DAGrB/sO,MACEs6B,MAAO,UACP0yM,kBAAmB,oBACnBC,UAAW,yBACXb,aAAc,gCACdjG,WAAY,yCACZ+G,YAAa,QAEf52F,aACE62F,cACEx2N,MAAO,2BAET+1H,WACEnnC,YAAa,cACbC,UAAW,aACXC,kBAAmB,2BAErB2nI,mBACExkI,OAAQ,YACRykI,kBAAmB,0BACnBC,qBAAsB,8BACtBC,qBAAsB,mBACtBC,mBAAoB,iBACpBC,mBAAoB,iBACpBC,aAAc,qBACdC,WAAY,4BAEdh/L,OACEi/L,eAAgB,2BAElBn5O,QACE60F,QAAS,UAEXT,MACES,QAAS,QAEXgjD,YACE31H,MAAO,8BAGXk3N,eACE5H,SAAU,gEACVn7C,aACEgjD,YAAa,gBACbC,qBAAsB;AACtBC,cAAe,WACf/lM,OAAQ,SACRgmM,kBAAmB,mBACnBC,cAAe,YAGnB/iB,WACEhwF,SAAU,WACVpjH,KAAM,OACN60M,WAAY,cACZ5sN,KAAM,8CACNmuO,QAAS,UACTC,cAAe,4BACfhS,aAAc,8CAKdkS,KAAK,SAASr6O,EAAQU,EAAOJ,GACnCmR,OAAOC,eAAepR,EAAS,cAC7BqR,OAAO,IAETrR,EAAAA,YACEgxO,aACEC,YACEl6M,QAAS,kFACTm4J,WAAY,WAEd1tL,UAAS,aACT0vO,QAAS,kBACTC,wBACE1/N,OACE5H,OAAQ,0BACRunO,SAAU,mBACVtxN,OAAQ,qBACRC,MAAO,oBACPsxN,qBAAsB,wCAG1BlyN,SACEm7E,qBAAsB,wBAExBg3I,gBACE9nH,IAAK,MACLszE,OAAQ,SACR/lK,QAAS,sCAEXw6M,KACEh6E,OACEi6E,iBACEzrM,MAAO,qBAGX0rM,kBACE1rM,MAAO,0BACP2rM,SAAU,yDACVrnO,OACE4B,KAAM,QAER0lO,UACEvoO,SACE28B,MAAO,0BAETjrB,MACEirB,MAAO,4BAIbxrB,QACE8zB,IAAK,SACLujM,WAAY,cACZhyG,UAAW,cACXiyG,cAAe,6BACfC,qBAAsB,2BACtBC,mBAAoB,sCACpB3/H,cACE4/H,YACEC,IAAK,QACLhlL,KAAM,wBAIZzyC,OACE03N,UAAW,0BACXx8J,SAAU,WACV5K,OAAQ,SACRt3B,MAAO,aACPt+B,OAAQ,YACRghE,SAAU,SACVi8J,eAAgB,aAChBC,iBAAkB,iFAClBC,aAAc,yCACd1sI,KAAM,6FAER2sI,cACE/3N,QACE2E,IAAK,UACLzT,KAAM,cACN6oB,SAAQ,SACR0jL,KAAM,WAERl8H,UACE1oC,QAAS,cACTsxK,mBAAoB,4BAEtBzuD,OACE4xC,QACEx5J,IAAK,SACL7wB,KAAM,WACN0qD,KAAM,QACNnoD,MAAO,WACPb,IAAK,UACLmlM,OAAQ,eAEVpkM,OAAQ,QACRk6B,OAAQ,SACR9vB,OAAQ,QACR85L,UAAW,eACXlsL,WAAY,WAEds6M,UAAW,mCACXC,WAAY,uCACZl+M,SAAQ,wBACRm+M,QAAS,6BAEX3pO,QACEmX,QACE8yD,KAAM,sCAER2/J,mBAAoB,sBACpBC,mBAAoB,qBAEtBv6L,UACErS,MAAO,aACP+0C,QACEg6E,SACE/uH,MAAO,UACPoU,QACEpU,MAAO,UACP95B,KAAM,OACN0vJ,YAAa,SACbolB,WAAU,cACVy9B,SAAU,aACVo0B,KAAM,SACNC,kBAAmB,mBACnBC,mBAAoB,eACpBC,WACED,oBACE5yB,6BAA8B,aAC9BC,cAAe,WACfC,sBAAuB,UACvB4yB,oBAAqB,eACrBC,oBAAqB,eACrBC,gBAAiB,QACjBC,gBAAiB,QACjBC,cAAe,gBACfC,cAAe,kBAGnBh7L,QAAS,QAGb08G,SACEhvH,MAAO,UACPoU,QACExX,IAAK,OACLlb,OAAQ,SAGZxH,QACE8lB,MAAO,QACPoU,QACEl6B,OAAQ,QACR8yN,WACEpwM,IAAK,OACL5c,KAAM,OACNggB,MAAO,UACP95B,KAAM,OACNmkC,aAAc,YACdz7B,OAAQ,QACRq3D,WAAY,cACZ+0G,WAAU,cACVztD,YAAa,cACbkrF,SAAU,aACVC,YAAa,iBACbE,QAAS,aAGb7jI,QACEg6E,QAAS,UACTC,QAAS,cAKjBu+E,UACExpO,WACEypO,YAAa,aACbC,YAAa,kBAEfC,oBAAqB,8BACrBC,mBAAoB,qBACpBr+N,aAAc,qBACdD,cAAe,sBACfE,aAAc,qBACdC,aAAc,qBACdo+N,WAAY,eACZp8E,MAAO,iBAETxV,aACE3nG,OACE26C,QAAS,aACTivC,SACE4vG,eACEpxE,KAAM,wBAERqxE,yBACErxE,KAAM,oCAERsxE,yBACEtxE,KAAM,kCAERuxE,6BACEvxE,KAAM,+BAERwxE,iBACExxE,KAAM,0BAER14J,WACE04J,KAAM,mBAERyxE,kBACEzxE,KAAM,wBAER0xE,6BACE1xE,KAAM,mCAERkxE,oBACElxE,KAAM,mCAER2xE,uBACE3xE,KAAM,mCAER4xE,wBACE5xE,KAAM,oCAERntJ,cACEmtJ,KAAM,mCAERptJ,eACEotJ,KAAM,oCAER6xE,uBACE7xE,KAAM,mCAERltJ,cACEktJ,KAAM,mCAER8xE,uBACE9xE,KAAM,mCAERjtJ,cACEitJ,KAAM,mCAERjL,OACEiL,KAAM,iBAER+xE,sBACE/xE,KAAM,oDACNoB,YAAa,YAInBpsB,gBACEviI,UACE8wB,MAAO,sBACPyuM,UACErvN,SACExL,MAAO,iBAET86N,iBACE96N,MAAO,4BAIbo7E,QAAS,uBACT2/I,YAAa,0BACb/uI,MACE5/D,MAAO,8BACPhP,QAAS,kPAGbkhH,oBACEljD,QAAS,iCAEX4/I,aACE5/I,QAAS,+BACT6/I,iBAAkB,+FAClBjvI,MACE5/D,MAAO,uCACPhP,QAAS,yKAGbujL,UACEx+H,UACE19D,KACEe,QAAS,8FAGb41E,QAAS,cAEXomB,aACEpmB,QAAS,6BAEX8/I,UACE30O,QACE60F,QAAS,SACT4Q,KAAM,wFAERrR,MACES,QAAS,OACT4Q,KAAM,yFAGVnyD,OACEshM,eAAgB,oBAElBp9F,WACEtkD,OACE2hJ,OAAQ,SACRC,SAAU,kBAGd98F,aACE+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WACTC,QAAS,eAEX56G,QACEl6B,OAAQ,UACR8yN,WACEpwM,IAAK,OACL5c,KAAM,OACNggB,MAAO,QACP95B,KAAM,MACNmkC,aAAc,YACdz7B,OAAQ,SACRq3D,WAAY,aACZ+0G,WAAU,SACVztD,YAAa,cACbkrF,SAAU,aACVC,YAAa,qBACbE,QAAS,uBAMnB20B,UACExpO,WACEypO,YAAa,iCACbC,YAAa,oCAEfK,wBAAyB,+BACzBJ,oBAAqB,8CACrBC,mBAAoB,mCACpBr+N,aAAc,kBACdD,cAAe,mBACfE,aAAc,kBACdC,aAAc,kBACdo+N,WAAY,oBACZp8E,MAAO,oBAETxV,aACE3nG,OACE26C,QAAS,sBACTivC,SACE4vG,eACEpxE,KAAM,mCAERqxE,yBACErxE,KAAM,gCAERsxE,yBACEtxE,KAAM,6CAERuxE,6BACEvxE,KAAM,6CAERwxE,iBACExxE,KAAM,gCAER14J,WACE04J,KAAM,sBAERyxE,kBACEzxE,KAAM,oCAER0xE,6BACE1xE,KAAM,kDAERkxE,oBACElxE,KAAM,4BAER2xE,uBACE3xE,KAAM,4CAER4xE,wBACE5xE,KAAM,6CAERntJ,cACEmtJ,KAAM,sBAERptJ,eACEotJ,KAAM,uBAER6xE,uBACE7xE,KAAM,4CAERltJ,cACEktJ,KAAM,sBAER8xE,uBACE9xE,KAAM,4CAERjtJ,cACEitJ,KAAM,sBAERjL,OACEiL,KAAM,oBAER+xE,sBACE/xE,KAAM,iEACNoB,YAAa,WAInBpsB,gBACEviI,UACE8wB,MAAO,+BACPyuM,UACErvN,SACExL,MAAO,6BAET86N,iBACE96N,MAAO,sCAIbo7E,QAAS,uBACT2/I,YAAa,0CACb/uI,MACE5/D,MAAO,8BACPhP,QAAS,0RAGbkhH,oBACEljD,QAAS,kCAEX4/I,aACE5/I,QAAS,oBACT6/I,iBAAkB,mHAClBjvI,MACE5/D,MAAO,sBACPhP,QAAS,uKAGbujL,UACEx+H,UACE19D,KACEe,QAAS,2GAGb41E,QAAS,oBAEXomB,aACEpmB,QAAS,mBAEX8/I,UACE30O,QACE60F,QAAS,WACT4Q,KAAM,sHAERrR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xV,aACE3nG,OACE26C,QAAS,kBACTivC,SACE4vG,eACEpxE,KAAM,8BAERqxE,yBACErxE,KAAM,uBAERsxE,yBACEtxE,KAAM,kCAERuxE,6BACEvxE,KAAM,iCAERwxE,iBACExxE,KAAM,sBAER14J,WACE04J,KAAM,wBAERyxE,kBACEzxE,KAAM,gCAER0xE,6BACE1xE,KAAM,iCAERkxE,oBACElxE,KAAM,gCAER2xE,uBACE3xE,KAAM,2BAER4xE,wBACE5xE,KAAM,4BAERntJ,cACEmtJ,KAAM,0BAERptJ,eACEotJ,KAAM,2BAER6xE,uBACE7xE,KAAM,2BAERltJ,cACEktJ,KAAM,0BAER8xE,uBACE9xE,KAAM,2BAERjtJ,cACEitJ,KAAM,6BAERjL,OACEiL,KAAM,gBAER+xE,sBACE/xE,KAAM,oDACNoB,YAAa,aAInBpsB,gBACEviI,UACE8wB,MAAO,qBACPyuM,UACErvN,SACExL,MAAO,iBAET86N,iBACE96N,MAAO,sCAIbo7E,QAAS,yBACT2/I,YAAa,2CACb/uI,MACE5/D,MAAO,sCACPhP,QAAS,oRAGbkhH,oBACEljD,QAAS,uCAEX4/I,aACE5/I,QAAS,qBACT6/I,iBAAkB,wHAClBjvI,MACE5/D,MAAO,8BACPhP,QAAS,yKAGbujL,UACEx+H,UACE19D,KACEe,QAAS,+FAGb41E,QAAS,kBAEXomB,aACEpmB,QAAS,qBAEX8/I,UACE30O,QACE60F,QAAS,YACT4Q,KAAM,oHAERrR,MACES,QAAS,OACT4Q,KAAM,4GAGVnyD,OACEshM,eAAgB,oBAElBp9F,WACEtkD,OACE2hJ,OAAQ,QACRC,SAAU,mBAGd98F,aACE+8F,UAAW,kBACXC,UAAW,oBAGfprO,WACEqrO,cAAe,iBACfC,mBAAoB,4BACpBC,kBAAmB,yBACnBC,0BAA2B,sCAC3BC,2BAA4B,mCAE9BprO,UACEsmB,OACEsV,MAAO,SAETviB,KAAM,UAER4lD,MACE7xC,QAAS,kBACTK,QACEkkD,UACEhzE,QACE2rI,UAAW,uGAGf6+F,UACE7+F,UAAW,4BACXC,OAAQ,iDAEV8gG,oCAAqC,mCACrCC,u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fC,oBAAqB,sCACrBC,mBAAoB,qBACpBr+N,aAAc,eACdD,cAAe,gBACfE,aAAc,eACdC,aAAc,eACdo+N,WAAY,iBACZp8E,MAAO,kBAETxV,aACE3nG,OACE26C,QAAS,mBACTivC,SACE4vG,eACEpxE,KAAM,2BAERqxE,yBACErxE,KAAM,kCAERsxE,yBACEtxE,KAAM,oCAERuxE,6BACEvxE,KAAM,iCAERwxE,iBACExxE,KAAM,oBAER14J,WACE04J,KAAM,mBAERyxE,kBACEzxE,KAAM,6BAER0xE,6BACE1xE,KAAM,kCAERkxE,oBACElxE,KAAM,kCAER2xE,uBACE3xE,KAAM,4BAER4xE,wBACE5xE,KAAM,6BAERntJ,cACEmtJ,KAAM,4BAERptJ,eACEotJ,KAAM,6BAER6xE,uBACE7xE,KAAM,4BAERltJ,cACEktJ,KAAM,4BAER8xE,uBACE9xE,KAAM,4BAERjtJ,cACEitJ,KAAM,4BAERjL,OACEiL,KAAM,kBAER+xE,sBACE/xE,KAAM,uDACNoB,YAAa,YAInBpsB,gBACEviI,UACE8wB,MAAO,sBACPyuM,UACErvN,SACExL,MAAO,iBAET86N,iBACE96N,MAAO,iCAIbo7E,QAAS,0BACT2/I,YAAa,+BACb/uI,MACE5/D,MAAO,iCACPhP,QAAS,yPAGbkhH,oBACEljD,QAAS,oCAEX4/I,aACE5/I,QAAS,wBACT6/I,iBAAkB,wHAClBjvI,MACE5/D,MAAO,+BACPhP,QAAS,0JAGbujL,UACEx+H,UACE19D,KACEe,QAAS,kGAGb41E,QAAS,gBAEXomB,aACEpmB,QAAS,iBAEX8/I,UACE30O,QACE60F,QAAS,UACT4Q,KAAM,8FAERrR,MACES,QAAS,OACT4Q,KAAM,qFAGVnyD,OACEshM,eAAgB,kBAElBp9F,WACEtkD,OACE2hJ,OAAQ,QACRC,SAAU,iBAGd98F,aACE+8F,UAAW,gBACXC,UAAW,mBAGfprO,WACEqrO,cAAe,eACfC,mBAAoB,4BACpBC,kBAAmB,oBACnBC,0BAA2B,+BAC3BC,2BAA4B,+BAE9BprO,UACEsmB,OACEsV,MAAO,QAETviB,KAAM,aAER4lD,MAC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,SAAU,YACVC,YAAa,eACbE,QAAS,aAGb7jI,QACEg6E,QAAS,SACTC,QAAS,cAKjBu+E,UACExpO,WACEypO,YAAa,QACbC,YAAa,YAEfC,oBAAqB,0BACrBC,mBAAoB,gBACpBr+N,aAAc,gBACdD,cAAe,iBACfE,aAAc,gBACdC,aAAc,gBACdo+N,WAAY,eACZp8E,MAAO,kBAETxV,aACE3nG,OACE26C,QAAS,mBACTivC,SACE4vG,eACEpxE,KAAM,4BAERqxE,yBACErxE,KAAM,qCAERsxE,yBACEtxE,KAAM,kCAERuxE,6BACEvxE,KAAM,+BAERwxE,iBACExxE,KAAM,yBAER14J,WACE04J,KAAM,qBAERyxE,kBACEzxE,KAAM,4BAER0xE,6BACE1xE,KAAM,6BAERkxE,oBACElxE,KAAM,6BAER2xE,uBACE3xE,KAAM,6BAER4xE,wBACE5xE,KAAM,8BAERntJ,cACEmtJ,KAAM,6BAERptJ,eACEotJ,KAAM,8BAER6xE,uBACE7xE,KAAM,6BAERltJ,cACEktJ,KAAM,6BAER8xE,uBACE9xE,KAAM,6BAERjtJ,cACEitJ,KAAM,6BAERjL,OACEiL,KAAM,kBAER+xE,sBACE/xE,KAAM,oDACNoB,YAAa,YAInBpsB,gBACEviI,UACE8wB,MAAO,sBACPyuM,UACErvN,SACExL,MAAO,iBAET86N,iBACE96N,MAAO,4BAIbo7E,QAAS,wBACT2/I,YAAa,0BACb/uI,MACE5/D,MAAO,+BACPhP,QAAS,gOAGbkhH,oBACEljD,QAAS,0BAEX4/I,aACE5/I,QAAS,6CACT6/I,iBAAkB,8GAClBjvI,MACE5/D,MAAO,kDACPhP,QAAS,iLAGbujL,UACEx+H,UACE19D,KACEe,QAAS,8FAGb41E,QAAS,kBAEXomB,aACEpmB,QAAS,oBAEX8/I,UACE30O,QACE60F,QAAS,QACT4Q,KAAM,4FAERrR,MACES,QAAS,SACT4Q,KAAM,wFAGVnyD,OACEshM,eAAgB,aAElBp9F,WACEtkD,OACE2hJ,OAAQ,SACRC,SAAU,kBAGd98F,aACE+8F,UAAW,kBACXC,UAAW,eAGfprO,WACEqrO,cAAe,qBACfC,m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","file":"app.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\nvar inserted = exports.cache = {}\n\nfunction noop () {}\n\nexports.insert = function (css) {\n  if (inserted[css]) return noop\n  inserted[css] = true\n\n  var elem = document.createElement('style')\n  elem.setAttribute('type', 'text/css')\n\n  if ('textContent' in elem) {\n    elem.textContent = css\n  } else {\n    elem.styleSheet.cssText = css\n  }\n\n  document.getElementsByTagName('head')[0].appendChild(elem)\n  return function () {\n    document.getElementsByTagName('head')[0].removeChild(elem)\n    inserted[css] = false\n  }\n}\n\n},{}],2:[function(require,module,exports){\nvar _constant = require('constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _InputG3W = require('components/InputG3W.vue');\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nvar _InputG3WFormInputs = require('components/InputG3WFormInputs.vue');\n\nvar _InputG3WFormInputs2 = _interopRequireDefault(_InputG3WFormInputs);\n\nvar _inputservice = require('core/expression/inputservice');\n\nvar _inputservice2 = _interopRequireDefault(_inputservice);\n\nvar _FormBody = require('components/FormBody.vue');\n\nvar _FormBody2 = _interopRequireDefault(_FormBody);\n\nvar _FormFooter = require('components/FormFooter.vue');\n\nvar _FormFooter2 = _interopRequireDefault(_FormFooter);\n\nvar _C3XYLine = require('components/C3XYLine.vue');\n\nvar _C3XYLine2 = _interopRequireDefault(_C3XYLine);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _editing = require('services/editing');\n\nvar _editing2 = _interopRequireDefault(_editing);\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nvar _tasks = require('services/tasks');\n\nvar _tasks2 = _interopRequireDefault(_tasks);\n\nvar _workflows = require('services/workflows');\n\nvar _workflows2 = _interopRequireDefault(_workflows);\n\nvar _api = require('services/api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nvar _mixins2 = _interopRequireDefault(_mixins);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file api file interface for external plugins\n */\n\nvar G3WObject = require('core/g3wobject');\n//MIXINS\n\n\n/**\n * CORE modules\n */\n\n\n/**\n * Single File Components\n */\n\nvar utils = require('core/utils/utils');\nvar geoutils = require('core/utils/geo');\nvar i18n = require('core/i18n/i18n.service');\nvar Server = require('core/errors/parser/servererrorparser');\nvar Session = require('core/editing/session');\nvar Editor = require('core/editing/editor');\nvar Geom = require('core/utils/geo');\n\nvar _require = require('core/utils/geo'),\n    Geometry = _require.Geometry;\n\nvar Project = require('core/project/project');\nvar LayersStoreRegistry = require('core/layers/layersstoresregistry');\nvar LayersStore = require('core/layers/layersstore');\nvar Layer = require('core/layers/layer');\nvar LayerFactory = require('core/layers/layerfactory');\nvar TableLayer = require('core/layers/tablelayer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar ImageLayer = require('core/layers/imagelayer');\nvar WmsLayer = require('core/layers/map/wmslayer');\nvar XYZLayer = require('core/layers/map/xyzlayer');\nvar MapLayer = require('core/layers/map/maplayer');\nvar Feature = require('core/layers/features/feature');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar OlFeaturesStore = require('core/layers/features/olfeaturesstore');\nvar Filter = require('core/layers/filter/filter');\nvar Expression = require('core/layers/filter/expression');\nvar Plugin = require('core/plugin/plugin');\nvar PluginService = require('core/plugin/pluginservice');\nvar Task = require('core/workflow/task');\nvar Step = require('core/workflow/step');\nvar Flow = require('core/workflow/flow');\nvar Workflow = require('core/workflow/workflow');\n\n/**\n * GUI modules\n */\nvar Panel = require('gui/panel');\nvar ControlFactory = require('gui/map/control/factory');\nvar ComponentsFactory = require('gui/component/componentsfactory');\nvar FieldsService = require('gui/fields/fieldsservice');\nvar Component = require('gui/component/component');\nvar MetadataComponent = require('gui/metadata/vue/metadata');\nvar SearchComponent = require('gui/search/vue/search');\nvar SearchPanel = require('gui/search/vue/panel/searchpanel');\nvar PrintComponent = require('gui/print/vue/print');\nvar CatalogComponent = require('gui/catalog/vue/catalog');\nvar MapComponent = require('gui/map/vue/map');\nvar ToolsComponent = require('gui/tools/vue/tools');\nvar QueryResultsComponent = require('gui/queryresults/vue/queryresults');\nvar FormComponent = require('gui/form/vue/form');\nvar FormService = require('gui/form/formservice');\nvar InputsComponents = require('gui/inputs/inputs');\nvar ChartsFactory = require('gui/charts/chartsfactory');\nvar Fields = require('gui/fields/fields');\nvar SearchPanelService = require('gui/search/vue/panel/searchservice');\n\n/**\n * G3W-OL modules\n */\nvar PickFeatureInteraction = require('g3w-ol/interactions/pickfeatureinteraction');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\nvar DeleteFeatureInteraction = require('g3w-ol/interactions/deletefeatureinteraction');\nvar AreaInteraction = require('g3w-ol/interactions/areainteraction');\nvar LengthInteraction = require('g3w-ol/interactions/lengthinteraction');\nvar g3wolutils = require('core/utils/ol');\n\nmodule.exports = {\n\n  // APP CONSTANTS\n  constant: _constant2.default, // TODO: rename to \"constants\" which is more appropriate (in version 4.0)\n\n  // CORE API METHODS AND OBJECTS\n  core: {\n    G3WObject: G3WObject,\n    utils: utils,\n    geoutils: geoutils,\n    ApplicationService: _application2.default,\n    ApplicationState: _applicationState2.default,\n    ApiService: _api2.default,\n    Router: _router2.default,\n    i18n: i18n,\n    task: {\n      TaskService: _tasks2.default\n    },\n    data: {\n      DataRouterService: _data2.default\n    },\n    iframe: {\n      IFrameRouterService: _iframePlugin2.default\n    },\n    errors: {\n      parsers: {\n        Server: Server\n      }\n    },\n    editing: {\n      Session: Session,\n      SessionsRegistry: _sessions2.default,\n      Editor: Editor,\n      ChangesManager: _editing2.default\n    },\n    geometry: {\n      Geom: Geom,\n      Geometry: Geometry\n    },\n    project: {\n      ProjectsRegistry: _projects2.default,\n      Project: Project\n    },\n    map: {\n      MapLayersStoreRegistry: _mapLayers2.default\n    },\n    catalog: {\n      CatalogLayersStoresRegistry: _catalogLayers2.default\n    },\n    layer: {\n      LayersStoreRegistry: LayersStoreRegistry,\n      LayersStore: LayersStore,\n      Layer: Layer,\n      LayerFactory: LayerFactory,\n      TableLayer: TableLayer,\n      VectorLayer: VectorLayer,\n      ImageLayer: ImageLayer,\n      WmsLayer: WmsLayer,\n      XYZLayer: XYZLayer,\n      MapLayer: MapLayer,\n      geometry: {\n        Geometry: Geometry,\n        geom: Geom /** @FIXME capitalize first letter (ie. \"Geom\") */\n      },\n      features: {\n        Feature: Feature,\n        FeaturesStore: FeaturesStore,\n        OlFeaturesStore: OlFeaturesStore\n      },\n      filter: {\n        Filter: Filter,\n        Expression: Expression\n      }\n    },\n    relations: {\n      RelationsService: _relations2.default\n    },\n    interaction: {\n      PickCoordinatesInteraction: PickCoordinatesInteraction,\n      PickFeatureInteraction: PickFeatureInteraction\n    },\n    plugin: {\n      Plugin: Plugin,\n      PluginsRegistry: _plugins2.default,\n      PluginService: PluginService\n    },\n    workflow: {\n      Task: Task,\n      Step: Step,\n      Flow: Flow,\n      Workflow: Workflow,\n      WorkflowsStack: _workflows2.default\n    },\n    input: {\n      inputService: _inputservice2.default\n    }\n  },\n\n  // APPLICATION INTERFACE (vue)\n  gui: {\n    GUI: _gui2.default,\n    Panel: Panel,\n    ControlFactory: ControlFactory,\n    ComponentsFactory: ComponentsFactory,\n    FieldsService: FieldsService,\n    vue: {\n      Component: Component,\n      Panel: Panel,\n      MetadataComponent: MetadataComponent,\n      SearchComponent: SearchComponent,\n      SearchPanel: SearchPanel,\n      PrintComponent: PrintComponent,\n      CatalogComponent: CatalogComponent,\n      MapComponent: MapComponent,\n      ToolsComponent: ToolsComponent,\n      QueryResultsComponent: QueryResultsComponent,\n      // main Form Component\n      FormComponent: FormComponent,\n      // Form Components\n      FormComponents: {\n        Body: _FormBody2.default,\n        Footer: _FormFooter2.default\n      },\n      Inputs: {\n        G3wFormInputs: _InputG3WFormInputs2.default,\n        G3WInput: _InputG3W2.default,\n        InputsComponents: InputsComponents\n      },\n      Charts: {\n        ChartsFactory: ChartsFactory,\n        c3: {\n          lineXY: _C3XYLine2.default\n        }\n      },\n      Fields: Fields,\n      Mixins: _mixins2.default,\n      services: {\n        SearchPanel: SearchPanelService,\n        FormService: FormService\n      }\n    }\n  },\n\n  // OPEN LAYERS COMPONENTS (g3w-ol)\n  ol: {\n    interactions: {\n      PickFeatureInteraction: PickFeatureInteraction,\n      PickCoordinatesInteraction: PickCoordinatesInteraction,\n      DeleteFeatureInteraction: DeleteFeatureInteraction,\n      measure: {\n        AreaInteraction: AreaInteraction,\n        LengthInteraction: LengthInteraction\n      }\n    },\n    controls: {},\n    utils: g3wolutils\n  },\n\n  // G3W-SUITE debug info\n  info: function info() {\n    $script('https://unpkg.com/platform@1.3.6/platform.js', function () {\n      window.console.info(('\\n[g3wsdk.info]\\n\\n- g3w-admin: __' + initConfig.version + '__\\n- g3-client: __' + _constant2.default.APP_VERSION + '__\\n- browser: __' + platform.name + ' ' + platform.version + '__\\n- operating system: __' + platform.os.toString() + '__\\n').trim());\n    });\n  },\n\n  // G3W-CLIENT version\n  version: _constant2.default.APP_VERSION\n};\n\n},{\"components/C3XYLine.vue\":194,\"components/FormBody.vue\":213,\"components/FormFooter.vue\":214,\"components/InputG3W.vue\":237,\"components/InputG3WFormInputs.vue\":238,\"constant\":4,\"core/editing/editor\":6,\"core/editing/session\":8,\"core/errors/parser/servererrorparser\":9,\"core/expression/inputservice\":10,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/features/feature\":26,\"core/layers/features/featuresstore\":27,\"core/layers/features/olfeaturesstore\":28,\"core/layers/filter/expression\":29,\"core/layers/filter/filter\":30,\"core/layers/imagelayer\":33,\"core/layers/layer\":34,\"core/layers/layerfactory\":35,\"core/layers/layersstore\":36,\"core/layers/layersstoresregistry\":37,\"core/layers/map/maplayer\":43,\"core/layers/map/wmslayer\":45,\"core/layers/map/xyzlayer\":47,\"core/layers/tablelayer\":56,\"core/layers/vectorlayer\":57,\"core/plugin/plugin\":58,\"core/plugin/pluginservice\":59,\"core/project/project\":61,\"core/utils/geo\":64,\"core/utils/ol\":65,\"core/utils/utils\":67,\"core/workflow/flow\":69,\"core/workflow/step\":71,\"core/workflow/task\":72,\"core/workflow/workflow\":73,\"g3w-ol/interactions/areainteraction\":100,\"g3w-ol/interactions/deletefeatureinteraction\":101,\"g3w-ol/interactions/lengthinteraction\":102,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"g3w-ol/interactions/pickfeatureinteraction\":105,\"gui/catalog/vue/catalog\":112,\"gui/charts/chartsfactory\":114,\"gui/component/component\":115,\"gui/component/componentsfactory\":116,\"gui/fields/fields\":118,\"gui/fields/fieldsservice\":119,\"gui/form/formservice\":120,\"gui/form/vue/form\":121,\"gui/inputs/inputs\":130,\"gui/map/control/factory\":154,\"gui/map/vue/map\":156,\"gui/metadata/vue/metadata\":159,\"gui/panel\":160,\"gui/print/vue/print\":162,\"gui/queryresults/vue/queryresults\":170,\"gui/search/vue/panel/searchpanel\":175,\"gui/search/vue/panel/searchservice\":176,\"gui/search/vue/search\":177,\"gui/tools/vue/tools\":185,\"mixins\":340,\"services/api\":347,\"services/application\":348,\"services/data\":355,\"services/editing\":356,\"services/gui\":358,\"services/iframe-plugin\":361,\"services/relations\":364,\"services/router\":365,\"services/tasks\":367,\"services/workflows\":369,\"store/application-state\":370,\"store/catalog-layers\":371,\"store/map-layers\":374,\"store/plugins\":375,\"store/projects\":376,\"store/sessions\":377}],3:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.utils = exports.server = exports.client = exports._i18n = exports.tools = exports.plugins = undefined;\n\nvar _locales = require('../locales');\n\nvar _locales2 = _interopRequireDefault(_locales);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar apptitle = \"G3W Client\"; /**\n                              * @TODO consolidate configuration parameters in a single location\n                              * (eg. appConfig, ApplicationState, Constants, ...)\n                              */\n\nvar supportedLanguages = ['en', 'it'];\n\nvar plugins = exports.plugins = {};\n\nvar tools = exports.tools = {\n  tools: []\n};\n\n// get message from internationalization\nvar _i18n = exports._i18n = {\n  resources: _locales2.default\n};\n\nvar client = exports.client = {\n  debug: true,\n  local: false\n};\n\nvar server = exports.server = {\n  urls: {\n    baseurl: '/',\n    ows: 'ows',\n    api: 'api',\n    initconfig: 'api/initconfig',\n    config: 'api/config'\n  }\n};\n\nvar utils = exports.utils = {\n  merge: function merge(type) {\n    if (type) {\n      console.log(CONFIG);\n    }\n  }\n};\n\nexports.default = {\n  apptitle: apptitle,\n  client: client,\n  server: server,\n  plugins: plugins,\n  supportedLanguages: supportedLanguages,\n  tools: tools,\n  _i18n: _i18n,\n  utils: utils\n};\n\n},{\"../locales\":331}],4:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LOCAL_ITEM_IDS = exports.FONT_AWESOME_ICONS = exports.API_BASE_URLS = exports.ZINDEXES = exports.VIEWPORT = exports.TOC_THEMES_INIT_STATUS = exports.TOC_LAYERS_INIT_STATUS = exports.TIMEOUT = exports.SEARCH_RETURN_TYPES = exports.SEARCH_ALLVALUE = exports.QUERY_POINT_TOLERANCE = exports.PRINT_SCALES = exports.PRINT_RESOLUTIONS = exports.PRINT_FORMATS = exports.MAP_SETTINGS = exports.LOCALSTORAGE_EXTERNALWMS_ITEM = exports.LIST_OF_RELATIONS_ID = exports.LIST_OF_RELATIONS_TITLE = exports.GEOMETRY_TYPES = exports.GEOMETRY_FIELDS = exports.FILTER_EXPRESSION_OPERATORS = exports.FILTER_OPERATORS = exports.G3W_FID = exports.EPSG = exports.DOWNLOAD_FORMATS = exports.DEFAULT_EDITING_CAPABILITIES = exports.APP_VERSION = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file all contants values used on application\n                                                                                                                                                                                                                                                                   */\n\n//@ts-check\n\n/**\n * @TODO we can safely import \"version\" from \"package.json\" when we will use native ES Modules\n */\n// import { version } from '../../package.json';\n\n\nvar _version = require('../version');\n\nvar _version2 = _interopRequireDefault(_version);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Same as \"package.json\" version\n * \n * @type {string}\n */\nvar APP_VERSION = exports.APP_VERSION = _version2.default;\n\n/**\n * Default editing capabilities \n * \n * @type {string[]}\n */\nvar DEFAULT_EDITING_CAPABILITIES = exports.DEFAULT_EDITING_CAPABILITIES = ['add_feature', 'change_feature', 'change_attr_feature', 'delete_feature'];\n\n/**\n * @type {Object<string, { format: string, url: string }>}\n */\nvar DOWNLOAD_FORMATS = exports.DOWNLOAD_FORMATS = {\n  download: {\n    format: 'shapefile',\n    url: 'shp'\n  },\n  download_gpkg: {\n    format: 'gpkg',\n    url: 'gpkg'\n  },\n  download_gpx: {\n    format: 'gpx',\n    url: 'gpx'\n  },\n  download_csv: {\n    format: 'csv',\n    url: 'csv'\n  },\n  download_xls: {\n    format: 'xls',\n    url: 'xls'\n  },\n  download_raster: {\n    format: 'geotiff',\n    url: 'geotiff'\n  }\n};\n\n/**\n * @type {string[]}\n */\nvar EPSG = exports.EPSG = [\"EPSG:3003\", \"EPSG:3004\", \"EPSG:3045\", \"EPSG:3857\", \"EPSG:4326\", \"EPSG:6708\", \"EPSG:23032\", \"EPSG:23033\", \"EPSG:25833\", \"EPSG:32632\", \"EPSG:32633\"];\n\n/**\n * fid name field referred to fid feature\n * \n * @type {string}\n */\nvar G3W_FID = exports.G3W_FID = 'g3w_fid';\n\n/**\n * @type {Object<string, string>}\n * @since v3.5\n */\nvar FILTER_OPERATORS = exports.FILTER_OPERATORS = {\n  gte: '>=',\n  lte: '<=',\n  NOT: '!=',\n  eq: '=',\n  gt: '>',\n  lt: '<',\n  IN: 'IN',\n  'NOT IN': 'NOT IN',\n  LIKE: 'LIKE',\n  ILIKE: 'ILIKE',\n  AND: 'AND',\n  OR: 'OR'\n};\n\n/**\n * @type {Object<string, string>}\n * @since v3.5\n */\nvar FILTER_EXPRESSION_OPERATORS = exports.FILTER_EXPRESSION_OPERATORS = _extends({\n  lte: '<=',\n  ltgt: '!=',\n  ilike: 'ILIKE',\n  like: 'LIKE'\n}, FILTER_OPERATORS);\n\n/**\n * Geometry fields used to exclude or get geometry information from server request\n * \n * @type {string[]}\n */\nvar GEOMETRY_FIELDS = exports.GEOMETRY_FIELDS = ['geometryProperty', 'boundedBy', 'geom', 'the_geom', 'geometry', 'bbox', 'GEOMETRY', 'geoemtria', 'geometria'];\n\n/**\n * @type {Object<string, string>}\n */\nvar GEOMETRY_TYPES = exports.GEOMETRY_TYPES = {\n  POINT: \"Point\",\n  POINTZ: \"PointZ\",\n  POINTM: \"PointM\",\n  POINTZM: \"PointZM\",\n  POINT25D: \"Point25D\",\n  MULTIPOINT: \"MultiPoint\",\n  MULTIPOINTZ: \"MultiPointZ\",\n  MULTIPOINTM: \"MutliPointM\",\n  MULTIPOINTZM: \"MultiPointZM\",\n  MULTIPOINT25D: \"MultiPoint25D\",\n  LINESTRING: \"LineString\", // QGis definition .GeometryType, Line intead di Linestring.\n  LINESTRINGZ: \"LineStringZ\",\n  LINESTRINGM: \"LineStringM\",\n  LINESTRINGZM: \"LineStringZM\",\n  LINESTRING25D: \"LineString25D\",\n  LINE: \"Line\",\n  LINEZ: \"LineZ\",\n  LINEM: \"LineM\",\n  LINEZM: \"LineZM\",\n  LINE25D: \"Line25D\",\n  MULTILINESTRING: \"MultiLineString\",\n  MULTILINESTRINGZ: \"MultiLineStringZ\",\n  MULTILINESTRINGM: \"MultiLineStringM\",\n  MULTILINESTRINGZM: \"MultiLineStringZM\",\n  MULTILINESTRING25D: \"MultiLineString25D\",\n  MULTILINE: \"MultiLine\",\n  MULTILINEZ: \"MultiLineZ\",\n  MULTILINEM: \"MultiLineM\",\n  MULTILINEZM: \"MultiLineZM\",\n  MULTILINE25D: \"MultiLine25D\",\n  POLYGON: \"Polygon\",\n  POLYGONZ: \"PolygonZ\",\n  POLYGONM: \"PolygonM\",\n  POLYGONZM: \"PolygonZM\",\n  POLYGON25D: \"Polygon25D\",\n  MULTIPOLYGON: \"MultiPolygon\",\n  MULTIPOLYGONZ: \"MultiPolygonZ\",\n  MULTIPOLYGONM: \"MultiPolygonM\",\n  MULTIPOLYGONZM: \"MultiPolygonZM\",\n  MULTIPOLYGON25D: \"MultiPolygon25D\",\n  GEOMETRYCOLLECTION: \"GeometryCollection\",\n  GEOMETRYCOLLECTIONZ: \"GeometryCollectionZ\",\n  GEOMETRYCOLLECTIONM: \"GeometryCollectionM\",\n  GEOMETRYCOLLECTIONZM: \"GeometryCollectionZM\",\n  GEOMETRYCOLLECTION25D: \"GeometryCollection25D\"\n};\n\n/**\n * @type {string}\n */\nvar LIST_OF_RELATIONS_TITLE = exports.LIST_OF_RELATIONS_TITLE = 'info.list_of_relations';\n\n/**\n * @type {string}\n */\nvar LIST_OF_RELATIONS_ID = exports.LIST_OF_RELATIONS_ID = '__G3W_LIST_OF_RELATIONS_ID__';\n\n/**\n * @type {string}\n */\nvar LOCALSTORAGE_EXTERNALWMS_ITEM = exports.LOCALSTORAGE_EXTERNALWMS_ITEM = 'externalwms';\n\n/**\n * @typedef MapSettings\n * @property {{ maxScale: number }} ZOOM\n * @property {{ duration: number }} ANIMATION\n * @property {{ default: string, getPositions: Function }} LAYER_POSITIONS: \n */\n\n/**\n * @type {MapSettings}\n */\nvar MAP_SETTINGS = exports.MAP_SETTINGS = {\n  ZOOM: {\n    maxScale: 1000\n  },\n  ANIMATION: {\n    duration: 2000\n  },\n  LAYER_POSITIONS: {\n    default: 'top',\n    getPositions: function getPositions() {\n      return ['top', 'bottom'];\n    }\n  }\n};\n\n/**\n * @type {Array<{ value: any, label: string }>}\n * @since v3.5\n */\nvar PRINT_FORMATS = exports.PRINT_FORMATS = [{\n  value: 'pdf',\n  label: 'PDF'\n}, {\n  value: 'png',\n  label: 'PNG'\n}];\n\n/**\n * @type {number[]}\n * @since v3.5\n */\nvar PRINT_RESOLUTIONS = exports.PRINT_RESOLUTIONS = [150, 300];\n\n/**\n * @type {Array<{ value: number, label: string }>}\n * @since v3.5\n */\nvar PRINT_SCALES = exports.PRINT_SCALES = [{\n  value: 100,\n  label: '1:100'\n}, {\n  value: 200,\n  label: '1:200'\n}, {\n  value: 500,\n  label: '1:500'\n}, {\n  value: 1000,\n  label: '1:1.000'\n}, {\n  value: 2000,\n  label: '1:2.000'\n}, {\n  value: 2500,\n  label: '1:2.500'\n}, {\n  value: 5000,\n  label: '1:5.000'\n}, {\n  value: 10000,\n  label: '1:10.000'\n}, {\n  value: 20000,\n  label: '1:20.000'\n}, {\n  value: 25000,\n  label: '1:25.000'\n}, {\n  value: 50000,\n  label: '1:50.000'\n}, {\n  value: 100000,\n  label: '1:100.000'\n}, {\n  value: 250000,\n  label: '1:250.000'\n}, {\n  value: 500000,\n  label: '1:500.000'\n}, {\n  value: 1000000,\n  label: '1:1.000.000'\n}, {\n  value: 2500000,\n  label: '1:2.500.000'\n}, {\n  value: 5000000,\n  label: '1:5.000.000'\n}, {\n  value: 10000000,\n  label: '1:10.000.000'\n}, {\n  value: 20000000,\n  label: '1:20.000.000'\n}, {\n  value: 50000000,\n  label: '1:50.000.000'\n}, {\n  value: 100000000,\n  label: '1:100.000.000'\n}, {\n  value: 250000000,\n  label: '1:250.000.000'\n}, {\n  value: 500000000,\n  label: '1:500.000.000'\n}];\n\n/**\n * Point tolerance when clicking on map\n * \n * @type {{unit: string, value: number}}\n */\nvar QUERY_POINT_TOLERANCE = exports.QUERY_POINT_TOLERANCE = {\n  unit: 'pixel',\n  value: 10\n};\n\n/**\n * @type {string}\n * @since v3.5\n */\nvar SEARCH_ALLVALUE = exports.SEARCH_ALLVALUE = '__G3W_ALL__';\n\n/**\n * @type {string[]}\n * @since v3.5\n */\nvar SEARCH_RETURN_TYPES = exports.SEARCH_RETURN_TYPES = ['data', 'search'];\n\n/**\n * TIMEOUT (1 minute = 60000)\n * \n * @type {number}\n */\nvar TIMEOUT = exports.TIMEOUT = 60000;\n\n/**\n * @type {string}\n */\nvar TOC_LAYERS_INIT_STATUS = exports.TOC_LAYERS_INIT_STATUS = 'not_collapsed';\n\n/**\n * @type {string}\n */\nvar TOC_THEMES_INIT_STATUS = exports.TOC_THEMES_INIT_STATUS = 'collapsed';\n\n/**\n * @type {{resize: Object<string, { min: number }>}}\n * @since v3.5\n */\nvar VIEWPORT = exports.VIEWPORT = {\n  resize: {\n    map: {\n      min: 200\n    },\n    content: {\n      min: 200\n    }\n  }\n};\n\n/**\n * @type {Object<string, { tool: number }>}\n */\nvar ZINDEXES = exports.ZINDEXES = {\n  usermessage: {\n    tool: 2\n  }\n};\n\n/**\n * @type {Object<string, string>}\n * @since v3.8\n */\nvar API_BASE_URLS = exports.API_BASE_URLS = {\n  CRS: '/crs/' //Example /crs/<epsg_code>\n};\n\n/**\n * List of default Font Awesome classes for current project\n * \n * @type {Object<string, string>}\n * @since v3.8\n */\nvar FONT_AWESOME_ICONS = exports.FONT_AWESOME_ICONS = {\n  'change-map': \"fas fa-map-signs\",\n  map: \"far fa-map\",\n  file: \"fas fa-file-code\",\n  marker: \"fas fa-map-marker-alt\",\n  relation: \"fas fa-sitemap\",\n  tools: \"fas fa-cogs\",\n  tool: \"fas fa-cog\",\n  search: \"fas fa-search\",\n  print: \"fas fa-print\",\n  info: \"fas fa-info-circle\",\n  'info-circle': \"fas fa-info-circle\",\n  globe: \"fas fa-globe\",\n  mail: \"fas fa-envelope\",\n  mobile: \"fas fa-mobile\",\n  fax: \"fas fa-fax\",\n  user: \"fas fa-user\",\n  bars: \"fas fa-bars\",\n  uncheck: \"far fa-square\",\n  check: \"far fa-check-square\",\n  filluncheck: \"fas fa-square\",\n  table: \"fas fa-table\",\n  trash: \"fas fa-trash\",\n  'trash-o': \"far fa-trash-alt\",\n  pencil: \"fas fa-pencil-alt\",\n  'ellips-h': \"fas fa-ellipsis-h\",\n  'ellips-v': \"fas fa-ellipsis-v\",\n  'arrow-up': \"fas fa-chevron-up\",\n  'arrow-down': \"fas fa-chevron-down\",\n  'arrow-left': \"fas fa-chevron-left\",\n  'arrow-right': \"fas fa-chevron-right\",\n  'resize-h': \"fas fa-arrows-alt-h\",\n  'resize-v': \"fas fa-arrows-alt-v\",\n  'resize-default': \"fas fa-compress\",\n  'caret-up': \"fas fa-caret-up\",\n  'caret-down': \"fas fa-caret-down\",\n  'caret-left': \"fas fa-caret-left\",\n  'caret-right': \"fas fa-caret-right\",\n  'empty-circle': \"far fa-circle\",\n  'cloud-upload': \"fas fa-cloud-upload-alt\",\n  spinner: \"fas fa-spinner\",\n  minus: \"fas fa-minus\",\n  \"minus-square\": \"far fa-minus-square\",\n  plus: \"fas fa-plus\",\n  'plus-circle': \"fas fa-plus-circle\",\n  'plus-square': \"far fa-plus-square\",\n  grid: \"fas fa-th\",\n  home: \"fas fa-home\",\n  folder: \"fas fa-folder\",\n  'sign-out': \"fas fa-sign-out-alt\",\n  close: \"fas fa-times\",\n  time: \"far fa-clock\",\n  calendar: \"fas fa-calendar-alt\",\n  list: \"fas fa-list-alt\",\n  link: \"fas fa-link\",\n  unlink: \"fas fa-unlink\",\n  eye: \"far fa-eye\",\n  'eye-close': \"far fa-eye-slash\",\n  save: \"far fa-save\",\n  pdf: \"fas fa-file-pdf\",\n  image: \"far fa-image\",\n  video: \"far fa-file-video\",\n  unknow: \"far fa-question-circle\",\n  zip: \"far fa-file-archive\",\n  text: \"far fa-file-alt\",\n  excel: \"far fa-file-excel\",\n  xls: \"far fa-file-excel\",\n  gpx: \"fas fa-location-arrow\",\n  gpkg: \"fas fa-box-open\",\n  shapefile: \"fas fa-file-archive\",\n  csv: \"fas fa-file-csv\",\n  geotiff: \"fas fa-th\",\n  ppt: \"far fa-file-powerpoint\",\n  circle: \"fas fa-circle\",\n  calculator: \"fas fa-calculator\",\n  picture: \"far fa-image\",\n  keyboard: \"far fa-keyboard\",\n  'file-download': \"fas fa-file-download\",\n  copy: \"far fa-copy\",\n  draw: \"fas fa-draw-polygon\",\n  chart: \"fas fa-chart-bar\",\n  'chart-line': \"fas fa-chart-line\",\n  'chart-area': \"fas fa-chart-area\",\n  'chart-pie': \"fas fa-chart-pie\",\n  run: \"fas fa-play\",\n  warning: \"fas fa-exclamation-circle\",\n  alert: \"fas fa-exclamation-triangle\",\n  crosshairs: \"fas fa-crosshairs\",\n  success: \"far fa-check-circle\",\n  back: \"fas fa-chevron-circle-left\",\n  'file-upload': \"fas fa-file-upload\",\n  wifi: \"fas fa-wifi\",\n  mouse: \"fas fa-mouse\",\n  'copy-paste': \"far fa-copy\",\n  'vector-square': \"fas fa-vector-square\",\n  download: \"fas fa-download\",\n  credits: \"fas fa-euro-sign\",\n  filter: \"fas fa-filter\",\n  plugin: \"fas fa-plug\",\n  invert: \"fas fa-exchange-alt\",\n  clear: \"fas fa-broom\",\n  palette: \"fas fa-palette\",\n  layers: \"fas fa-layer-group\",\n  'sign-in': \"fas fa-sign-in-alt\",\n  language: \"fas fa-language\",\n  target: \"fas fa-bullseye\",\n  pin: \"fas fa-map-pin\",\n  square: \"far fa-square\",\n  move: \"fas fa-arrows-alt\",\n  moon: \"fas fa-moon\",\n  sun: \"fas fa-sun\",\n  refresh: \"fas fa-sync-alt\",\n  pause: \"fas fa-pause\",\n  'step-backward': \"fas fa-step-backward\",\n  'fast-backward': \"fas fa-fast-backward\",\n  'step-forward': \"fas fa-step-forward\",\n  'fast-forward': \"fas fa-fast-forward\",\n  crop: \"fas fa-crop-alt\",\n  exit: \"fas fa-door-open\",\n  slider: \"fas fa-sliders-h\",\n\n  /**\n   * @since 3.8.0\n   */\n  bookmark: \"fas fa-bookmark\",\n\n  /**\n   * @since 3.8.0\n   */\n  reply: \"fas fa-reply\",\n\n  /**\n   * @since 3.8.0\n   */\n  share: \"fas fa-share\"\n\n};\n\n/**\n * @typedef LocalItem\n * @property {string} id unique identifier\n * @property {any} value initial value\n */\n\n/**\n * LOCAL ITEM IDS - used to store id used by application\n * \n * @type {Object<string, LocalItem>}\n * \n * @since v3.8\n */\nvar LOCAL_ITEM_IDS = exports.LOCAL_ITEM_IDS = {\n  SPATIALBOOKMARKS: {\n    id: 'SPATIALBOOKMARKS', // id unique\n    value: {} // initial value\n  },\n  /**\n   * @since 3.8.0\n   */\n  MESSAGES: {\n    id: 'MESSAGES',\n    value: {}\n  }\n};\n\nexports.default = {\n  APP_VERSION: APP_VERSION,\n  API_BASE_URLS: API_BASE_URLS,\n  DEFAULT_EDITING_CAPABILITIES: DEFAULT_EDITING_CAPABILITIES,\n  DOWNLOAD_FORMATS: DOWNLOAD_FORMATS,\n  FILTER_OPERATORS: FILTER_OPERATORS,\n  FILTER_EXPRESSION_OPERATORS: FILTER_EXPRESSION_OPERATORS,\n  FONT_AWESOME_ICONS: FONT_AWESOME_ICONS,\n  G3W_FID: G3W_FID,\n  GEOMETRY_FIELDS: GEOMETRY_FIELDS,\n  GEOMETRY_TYPES: GEOMETRY_TYPES,\n  LIST_OF_RELATIONS_TITLE: LIST_OF_RELATIONS_TITLE,\n  LIST_OF_RELATIONS_ID: LIST_OF_RELATIONS_ID,\n  LOCAL_ITEM_IDS: LOCAL_ITEM_IDS,\n  LOCALSTORAGE_EXTERNALWMS_ITEM: LOCALSTORAGE_EXTERNALWMS_ITEM,\n  MAP_SETTINGS: MAP_SETTINGS,\n  PRINT_FORMATS: PRINT_FORMATS,\n  PRINT_RESOLUTIONS: PRINT_RESOLUTIONS,\n  PRINT_SCALES: PRINT_SCALES,\n  QUERY_POINT_TOLERANCE: QUERY_POINT_TOLERANCE,\n  SEARCH_ALLVALUE: SEARCH_ALLVALUE,\n  SEARCH_RETURN_TYPES: SEARCH_RETURN_TYPES,\n  TIMEOUT: TIMEOUT,\n  TOC_LAYERS_INIT_STATUS: TOC_LAYERS_INIT_STATUS,\n  TOC_THEMES_INIT_STATUS: TOC_THEMES_INIT_STATUS,\n  VIEWPORT: VIEWPORT,\n  ZINDEXES: ZINDEXES\n};\n\n},{\"../version\":378}],5:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    resolve = _require.resolve;\n\nfunction BaseService() {\n  var _this = this;\n\n  _projects2.default.onbefore('setCurrentProject', function (project) {\n    return _this.project = project;\n  });\n  this.project = _projects2.default.getCurrentProject();\n}\n\nvar proto = BaseService.prototype;\n/**\n *\n * @param request is a Promise(jquery promise at moment\n * @returns {Promise<unknown>}\n */\nproto.handleRequest = function (request) {\n  //  OVERWRITE TO SERVICE\n};\n\nproto.handleResponse = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(response) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns { unknown[] } array of external layer add on project\n * \n * @since 3.8.0\n */\nproto.getSelectedExternalLayers = function (_ref2) {\n  var _ref2$type = _ref2.type,\n      type = _ref2$type === undefined ? 'vector' : _ref2$type;\n\n  return _gui2.default.getService('catalog').getExternalSelectedLayers({ type: type });\n};\n\n/**\n * @returns {Promise<[]>} a resolved request (empty array)\n * \n * @since 3.8.0\n */\nproto.getEmptyRequest = function () {\n  return resolve([]);\n};\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns {boolean}\n * \n * @since 3.8.0\n */\nproto.hasExternalLayerSelected = function (_ref3) {\n  var _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'vector' : _ref3$type;\n\n  return this.getSelectedExternalLayers({ type: type }).length > 0;\n};\n\nmodule.exports = BaseService;\n\n},{\"core/utils/utils\":67,\"services/gui\":358,\"store/projects\":376}],6:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _editing = require('services/editing');\n\nvar _editing2 = _interopRequireDefault(_editing);\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar OlFeaturesStore = require('core/layers/features/olfeaturesstore');\nvar Layer = require('core/layers/layer');\n\n// class Editor bind editor to layer to do main actions\nfunction Editor() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.setters = {\n    save: function save() {\n      this._save();\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    deleteFeature: function deleteFeature(feature) {\n      this._deleteFeature(feature);\n    },\n    setFeatures: function setFeatures() {\n      var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this._setFeatures(features);\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    }\n  };\n  base(this);\n  // filter to getFeaturerequest\n  this._filter = {\n    bbox: null\n  };\n\n  this._allfeatures = false;\n  // referred layer\n  this._layer = options.layer;\n  // editing featurestore\n  this._featuresstore = this._layer.getType() === Layer.LayerTypes.TABLE ? new FeaturesStore() : new OlFeaturesStore();\n  // editor is active or not\n  this._started = false;\n  // not editable fields\n  this._noteditablefileds = this._layer.getEditingNotEditableFields() || [];\n}\n\ninherit(Editor, G3WObject);\n\nvar proto = Editor.prototype;\n\nproto._canDoGetFeaturesRequest = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var doRequest = true;\n  if (this._layer.getType() === Layer.LayerTypes.VECTOR) {\n    var _ref = options.filter || {},\n        bbox = _ref.bbox;\n\n    if (bbox) {\n      if (!this._filter.bbox) this._filter.bbox = bbox;else if (!ol.extent.containsExtent(this._filter.bbox, bbox)) {\n        this._filter.bbox = ol.extent.extend(this._filter.bbox, bbox);\n      } else doRequest = false;\n    }\n  }\n  return doRequest;\n};\n\nproto.getEditingSource = function () {\n  return this._featuresstore;\n};\n\n/**\n * get Source\n */\nproto.getSource = function () {\n  this._layer.getSource();\n};\n\nproto._applyChanges = function () {\n  var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  _editing2.default.execute(this._featuresstore, items, reverse);\n};\n\nproto.setChanges = function (items, reverse) {\n  this._applyChanges(items, reverse);\n};\n\nproto.getLayer = function () {\n  return this._layer;\n};\n\nproto.setLayer = function (layer) {\n  this._layer = layer;\n  return this._layer;\n};\n\nproto.removeNotEditablePropriertiesFromFeature = function (feature) {\n  this._noteditablefileds.forEach(function (field) {\n    return feature.unset([field]);\n  });\n};\n\n//clone features method\nproto._cloneFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  return features.map(function (feature) {\n    return feature.clone();\n  });\n};\n\nproto._addFeaturesFromServer = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features = this._cloneFeatures(features);\n  this._featuresstore.addFeatures(features);\n};\n\nproto._doGetFeaturesRequest = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var doRequest = _applicationState2.default.online && !this._allfeatures;\n  return doRequest && this._canDoGetFeaturesRequest(options);\n};\n\n// get features from server method\nproto._getFeatures = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var doRequest = this._doGetFeaturesRequest(options);\n  if (!doRequest) d.resolve();else this._layer.getFeatures(options).then(function (promise) {\n    promise.then(function (features) {\n      _this._addFeaturesFromServer(features);\n      _this._allfeatures = !options.filter;\n      return d.resolve(features);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// method to revert (cancel) all changes in history and clean session\nproto.revert = function () {\n  var d = $.Deferred();\n  var features = this._cloneFeatures(this._layer.readFeatures());\n  this._featuresstore.setFeatures(features);\n  d.resolve();\n  return d.promise();\n};\n\nproto.rollback = function () {\n  var changes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var d = $.Deferred();\n  this._applyChanges(changes, true);\n  d.resolve();\n  return d.promise();\n};\n\nproto.applyChangesToNewRelationsAfterCommit = function (relationsResponse) {\n  for (var relationLayerId in relationsResponse) {\n    var response = relationsResponse[relationLayerId];\n    var layer = this.getLayerById(relationLayerId);\n    var editingLayerSource = this.getEditingLayer(relationLayerId).getEditingSource();\n    var features = editingLayerSource.readFeatures();\n    features.forEach(function (feature) {\n      return feature.clearState();\n    });\n    layer.getSource().setFeatures(features);\n    layer.applyCommitResponse({\n      response: response,\n      result: true\n    });\n    editingLayerSource.setFeatures(layer.getSource().readFeatures());\n  }\n};\n\nproto.setFieldValueToRelationField = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      relationId = _ref2.relationId,\n      ids = _ref2.ids,\n      field = _ref2.field,\n      _ref2$values = _ref2.values,\n      values = _ref2$values === undefined ? [] : _ref2$values;\n\n  var editingLayerSource = _sessions2.default.getSession(relationId).getEditor().getEditingSource();\n  ids.forEach(function (id) {\n    var feature = editingLayerSource.getFeatureById(id);\n    if (feature) {\n      var fieldvalue = feature.get(field);\n      fieldvalue == values[0] && feature.set(field, values[1]);\n    }\n  });\n};\n\n// apply response data from server in case of new inserted feature\nproto.applyCommitResponse = function () {\n  var _this2 = this;\n\n  var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var relations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (response && response.result) {\n    var data = response.response;\n\n    var ids = data.new;\n    var lockids = data.new_lockids;\n    ids.forEach(function (idobj) {\n      var feature = _this2._featuresstore.getFeatureById(idobj.clientid);\n      feature.setId(idobj.id);\n      feature.setProperties(idobj.properties);\n      relations.forEach(function (relation) {\n        Object.entries(relation).forEach(function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 2),\n              relationId = _ref4[0],\n              options = _ref4[1];\n\n          var value = feature.get(options.fatherField);\n          _this2.setFieldValueToRelationField({\n            relationId: relationId,\n            ids: options.ids,\n            field: options.childField,\n            values: [idobj.clientid, value]\n          });\n        });\n      });\n    });\n    var features = this._featuresstore.readFeatures();\n    features.forEach(function (feature) {\n      return feature.clearState();\n    });\n    this._layer.setFeatures(features);\n    this._layer.getSource().addLockIds(lockids);\n  }\n};\n\nproto.getLockIds = function () {\n  return this._layer.getSource().getLockIds();\n};\n\n// run after server apply changed to origin resource\nproto.commit = function (commitItems) {\n  var _this3 = this;\n\n  var d = $.Deferred();\n  // in case of relations bind to new feature\n  var relations = commitItems.add.length ? Object.keys(commitItems.relations).map(function (relationId) {\n    var layerRelation = _this3._layer.getRelations().getRelationByFatherChildren(_this3._layer.getId(), relationId);\n    var updates = commitItems.relations[relationId].update.map(function (relation) {\n      return relation.id;\n    });\n    var add = commitItems.relations[relationId].add.map(function (relation) {\n      return relation.id;\n    });\n    return _defineProperty({}, relationId, {\n      ids: [].concat(_toConsumableArray(add), _toConsumableArray(updates)),\n      fatherField: layerRelation.getFatherField(),\n      childField: layerRelation.getChildField()\n    });\n  }) : [];\n  this._layer.commit(commitItems).then(function (promise) {\n    promise.then(function (response) {\n      _this3.applyCommitResponse(response, relations);\n      d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//start editing function\nproto.start = function () {\n  var _this4 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  // load features of layer based on filter type\n  this.getFeatures(options).then(function (promise) {\n    promise.then(function (features) {\n      // the features are already inside featuresstore\n      d.resolve(features);\n      //if all ok set to started\n      _this4._started = true;\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//action to layer\n\nproto._addFeature = function (feature) {\n  this._featuresstore.addFeature(feature);\n};\n\nproto._deleteFeature = function (feature) {\n  this._featuresstore.deleteFeature(feature);\n};\n\nproto._updateFeature = function (feature) {\n  this._featuresstore.updateFeature(feature);\n};\n\nproto._setFeatures = function (features) {\n  this._featuresstore.setFeatures(features);\n};\n\nproto.readFeatures = function () {\n  return this._layer.readFeatures();\n};\n\nproto.readEditingFeatures = function () {\n  return this._featuresstore.readFeatures();\n};\n\n// stop editor\nproto.stop = function () {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  this._layer.unlock().then(function (response) {\n    _this5.clear();\n    d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//run save layer\nproto._save = function () {\n  this._layer.save();\n};\n\nproto.isStarted = function () {\n  return this._started;\n};\n\nproto.clear = function () {\n  this._started = false;\n  this._filter.bbox = null;\n  this._allfeatures = false;\n  this._featuresstore.clear();\n  this._layer.getFeaturesStore().clear();\n  this._layer.getType() === Layer.LayerTypes.VECTOR && this._layer.resetEditingSource(this._featuresstore.getFeaturesCollection());\n};\n\nmodule.exports = Editor;\n\n},{\"core/g3wobject\":12,\"core/layers/features/featuresstore\":27,\"core/layers/features/olfeaturesstore\":28,\"core/layers/layer\":34,\"core/utils/utils\":67,\"services/editing\":356,\"store/application-state\":370,\"store/sessions\":377}],7:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction History() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.id = options.id;\n  base(this);\n  // registered all changes\n  /*\n  *{\n  * _states: [\n  *     {\n  *       id: unique key\n  *       state: [state] // example: history contsins features state\n  *                      // array because a tool can apply changes to more than one features at time (split di una feature)\n  *     },\n  *     {\n  *       id: unique key\n  *       state: [state]\n  *     },\n  *   ]\n  *     ....\n  *\n  *  _current: unique key // usefult to undo redo\n  *\n  *\n  * */\n  // set maximun \"buffer history\" lenght for  undo redo\n  this._maxSteps = 10;\n  this._states = [];\n  // reactive state of histrory\n  this.state = {\n    commit: false,\n    undo: false,\n    redo: false\n  };\n  this._current = null; // store the current state of history (useful for undo /redo)\n}\n\ninherit(History, G3WObject);\n\nvar proto = History.prototype;\n\nproto.add = function (uniqueId, items) {\n  var _this = this;\n\n  //state object is an array of feature/features changed in a transaction\n  var d = $.Deferred();\n  // before insert an item into the history\n  // check if are at last state step (no redo was done)\n  // in this way avoid starge barch in the history\n  //If we are in the middle of undo, delete all changes in the histroy from the current \"state\"\n  // so i can create a new history\n\n  if (this._current === null) {\n    this._states = [{\n      id: uniqueId,\n      items: items\n    }];\n  } else {\n    if (this._states.length && this._current < this.getLastState().id) this._states = this._states.filter(function (state) {\n      return state.id <= _this._current;\n    });\n    this._states.push({\n      id: uniqueId,\n      items: items\n    });\n  }\n\n  this._current = uniqueId;\n  this._setState();\n  // return unique id key\n  // it can be used in save relation\n  d.resolve(uniqueId);\n  return d.promise();\n};\n\nproto.getRelationStates = function (layerId) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$clear = _ref.clear,\n      clear = _ref$clear === undefined ? false : _ref$clear;\n\n  var relationStates = [];\n  for (var _i = 0; _i < this._states.length; _i++) {\n    var state = this._states[_i];\n    var relationItems = state.items.filter(function (item) {\n      var _layerId = Array.isArray(item) ? item[0].layerId : item.layerId;\n      return _layerId === layerId;\n    });\n    relationItems.length && relationStates.push({\n      id: state.id,\n      items: relationItems\n    });\n  }\n  return relationStates;\n};\n\nproto.insertState = function (state) {\n  var stateId = state.id;\n  var index = this._states.length;\n  for (var _i2 = 0; _i2 < this._states.length; _i2++) {\n    var _state = this._states[_i2];\n    if (_state.id > stateId) {\n      index = _i2;\n      break;\n    } else if (_state.id === stateId) index = -1;\n    break;\n  }\n  if (index > -1) {\n    if (this._current < stateId) this._current = stateId;\n    this._states.splice(index, 0, state);\n  }\n};\n\nproto.removeState = function (stateId) {\n  var index = void 0;\n  for (i = 0; i < this._states.length; i++) {\n    var state = this._states[i];\n    if (state.id === stateId) {\n      index = i;\n      break;\n    }\n  }\n  if (this._current === stateId) this._current = this._states.length > 1 ? this._states[index - 1].id : null;\n  this._states.splice(index, 1);\n};\n\nproto.removeStates = function () {\n  var stateIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var _i3 = 0; _i3 < stateIds.length; _i3++) {\n    var stateId = stateIds[_i3];\n    this.removeState(stateId);\n  }\n};\n\nproto.insertStates = function () {\n  var states = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var _i4 = 0; _i4 < states.length; _i4++) {\n    this.insertState(states[_i4]);\n  }\n  this.canCommit();\n};\n\n// internal method to change the state of the  history when we check\n// a call to a function that modify the hsitory state\nproto._setState = function () {\n  this.canUndo();\n  this.canCommit();\n  this.canRedo();\n};\n\n//check if was did an update (update are array contains two items , old e new value)\nproto._checkItems = function (items, action) {\n  var _this2 = this;\n\n  /**\n   * action: <reffererd to array index>\n   *  0: undo;\n   *  1: redo;\n   **/\n  var newItems = {\n    own: [], //array of changes of layer of the current session\n    dependencies: {} // dependencies\n  };\n  items.forEach(function (item) {\n    if (Array.isArray(item)) item = item[action];\n    // check if belong to session\n    if (_this2.id === item.layerId) {\n      newItems.own.push(item);\n    } else {\n      if (!newItems.dependencies[item.layerId]) newItems.dependencies[item.layerId] = {\n        own: [],\n        dependencies: {}\n      };\n      newItems.dependencies[item.layerId].own.push(item);\n    }\n  });\n  return newItems;\n};\n\n// method undo\nproto.undo = function () {\n  var _this3 = this;\n\n  var items = void 0;\n  if (this._current === this.getFirstState().id) {\n    this._current = null;\n    items = this._states[0].items;\n  } else {\n    this._states.find(function (state, idx) {\n      if (state.id === _this3._current) {\n        items = _this3._states[idx].items;\n        _this3._current = _this3._states[idx - 1].id;\n        return true;\n      }\n    });\n  }\n  items = this._checkItems(items, 0);\n  this._setState();\n  return items;\n};\n\n//method redo\nproto.redo = function () {\n  var _this4 = this;\n\n  var items = void 0;\n  // if not set get first state\n  if (!this._current) {\n    items = this._states[0].items;\n    // set current to first\n    this._current = this._states[0].id;\n  } else {\n    this._states.find(function (state, idx) {\n      if (_this4._current === state.id) {\n        _this4._current = _this4._states[idx + 1].id;\n        items = _this4._states[idx + 1].items;\n        return true;\n      }\n    });\n  }\n  items = this._checkItems(items, 1);\n  this._setState();\n  return items;\n};\n\nproto.setItemsFeatureIds = function () {\n  var _this5 = this;\n\n  var unsetnewids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  unsetnewids.forEach(function (unsetnewid) {\n    var id = unsetnewid.id,\n        clientid = unsetnewid.clientid;\n\n    _this5._states.forEach(function (state) {\n      var items = state.items;\n\n      items.forEach(function (item) {\n        var feature = item.feature.getId() === clientid && item.feature;\n        if (feature) {\n          feature.setId(id);\n        }\n      });\n    });\n  });\n};\n\nproto.clear = function (ids) {\n  var _this6 = this;\n\n  if (ids) this._states.forEach(function (state, idx) {\n    if (ids.indexOf(state.id) !== -1) {\n      if (_this6._current && _this6._current === state.id()) _this6.undo();\n      _this6._states.splice(idx, 1);\n    }\n  });else this._clearAll();\n};\n\nproto._clearAll = function () {\n  this._states = [];\n  this._current = null;\n  this.state.commit = false;\n  this.state.redo = false;\n  this.state.undo = false;\n};\n\nproto.getState = function (id) {\n  return this._states.find(function (state) {\n    return state.id === id;\n  });\n};\n\nproto.getFirstState = function () {\n  return this._states.length ? this._states[0] : null;\n};\n\nproto.getLastState = function () {\n  var length = this._states.length;\n  return length ? this._states[length - 1] : null;\n};\n\nproto.getCurrentState = function () {\n  var _this7 = this;\n\n  var currentState = null;\n  if (this._current && this._states.length) {\n    currentState = this._states.find(function (state) {\n      return _this7._current === state.id;\n    });\n  }\n  return currentState;\n};\n\n// funzione che mi permette di ricavarel'indice dello stato corrente\nproto.getCurrentStateIndex = function () {\n  var _this8 = this;\n\n  var currentStateIndex = null;\n  if (this._current && this._states.length) {\n    this._states.forEach(function (state, idx) {\n      if (_this8._current === state.id) {\n        currentStateIndex = idx;\n        return false;\n      }\n    });\n  }\n  return currentStateIndex;\n};\n\n// method that response true if we can commit\nproto.canCommit = function () {\n  var checkCommitItems = this.commit();\n  var canCommit = false;\n  for (var layerId in checkCommitItems) {\n    var commitItem = checkCommitItems[layerId];\n    canCommit = canCommit || !!commitItem.length;\n  }\n  this.state.commit = canCommit;\n  return this.state.commit;\n};\n\n//cauUdo method\nproto.canUndo = function () {\n  var steps = this._states.length - 1 - this.getCurrentStateIndex();\n  this.state.undo = !_.isNull(this._current) && this._maxSteps > steps;\n  return this.state.undo;\n};\n\n// Caon Redo function\nproto.canRedo = function () {\n  this.state.redo = this.getLastState() && this.getLastState().id != this._current || _.isNull(this._current) && this._states.length > 0;\n  return this.state.redo;\n};\n\nproto._getStatesToCommit = function () {\n  var _this9 = this;\n\n  return this._states.filter(function (state) {\n    return state.id <= _this9._current;\n  });\n};\n\n//get all changes to send to server (mandare al server)\nproto.commit = function () {\n  var commitItems = {};\n  var statesToCommit = this._getStatesToCommit();\n  statesToCommit.forEach(function (state) {\n    state.items.forEach(function (item) {\n      var add = true;\n      if (Array.isArray(item)) item = item[1];\n      commitItems[item.layerId] && commitItems[item.layerId].forEach(function (commitItem, index) {\n        // check if already inserted feature\n        if (commitItem.getUid() === item.feature.getUid()) {\n          if (item.feature.isNew() && !commitItem.isDeleted() && item.feature.isUpdated()) {\n            var _item = item.feature.clone();\n            _item.add();\n            commitItems[item.layerId][index] = _item;\n          } else if (item.feature.isNew() && item.feature.isDeleted()) {\n            commitItems[item.layerId].splice(index, 1);\n          } else if (item.feature.isUpdated() || item.feature.isDeleted()) commitItems[item.layerId][index] = item.feature;\n          add = false;\n          return false;\n        }\n      });\n      if (add) {\n        var feature = item.feature;\n        var layerId = item.layerId;\n        if (!(!feature.isNew() && feature.isAdded())) {\n          if (!commitItems[layerId]) commitItems[layerId] = [];\n          commitItems[layerId].push(feature);\n        }\n      }\n    });\n  });\n  return commitItems;\n};\n\nmodule.exports = History;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],8:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar History = require('core/editing/history');\nvar Layer = require('core/layers/layer');\n\nvar is3DGeometry = require('core/utils/geo').Geometry.is3DGeometry;\n\nfunction Session() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.setters = {\n    start: function start() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._start(options);\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    },\n    stop: function stop() {\n      return this._stop();\n    },\n    saveChangesOnServer: function saveChangesOnServer(commitItems) {} // hook to get informed that are saved on server\n\n  };\n  base(this, options);\n\n  this.state = {\n    id: options.id,\n    started: false,\n    getfeatures: false\n  };\n  // editor\n  this._editor = options.editor;\n  this._history = new History({\n    id: this.state.id\n  });\n  this._temporarychanges = [];\n  this.register();\n}\n\ninherit(Session, G3WObject);\n\nvar proto = Session.prototype;\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getLastHistoryState = function () {\n  return this._history.getLastState();\n};\n\nproto.getLastStateId = function () {\n  return this._history.getLastState().id;\n};\n\nproto.deleteState = function (stateId) {\n  this._history.removeState(stateId);\n};\n\nproto.register = function () {\n  _sessions2.default.register(this);\n};\n\nproto.unregister = function () {\n  _sessions2.default.unregister(this.getId());\n};\n\nproto._start = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this._editor.start(options).then(function (features) {\n    _this.state.started = true;\n    d.resolve(features);\n  }).fail(function (err) {\n    d.reject(err);\n  });\n  return d.promise();\n};\n\n//method to getFeature from server by editor\nproto._getFeatures = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  if (!this._allfeatures) {\n    this._allfeatures = !options.filter;\n    this._editor.getFeatures(options).then(function (promise) {\n      promise.then(function (features) {\n        _this2.state.getfeatures = true;\n        d.resolve(features);\n      }).fail(function (err) {\n        return d.reject(err);\n      });\n    });\n  } else d.resolve([]);\n\n  return d.promise();\n};\n\nproto.isStarted = function () {\n  return this.state.started;\n};\n\nproto.getEditor = function () {\n  return this._editor;\n};\n\nproto.setEditor = function (editor) {\n  this._editor = editor;\n};\n\n// it used to save temporary changes to the layer\n// in history instance and feature store\nproto.save = function () {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  //fill history\n  var d = $.Deferred();\n  // add temporary modify to history\n  if (this._temporarychanges.length) {\n    var uniqueId = options.id || Date.now();\n    this._history.add(uniqueId, this._temporarychanges).then(function () {\n      // clear to temporary changes\n      _this3._temporarychanges = [];\n      // resolve if uniqeu id\n      d.resolve(uniqueId);\n    });\n  } else {\n    d.resolve(null);\n  }\n  return d.promise();\n};\n\nproto.updateTemporaryChanges = function (feature) {\n  this._temporarychanges.forEach(function (change) {\n    change.feature.setProperties(feature.getProperties());\n  });\n};\n\n// method to add temporary feature\nproto.pushAdd = function (layerId, feature) {\n  var removeNotEditableProperties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  /**\n   * Please take care of this to understand\n   */\n  removeNotEditableProperties && this._editor.removeNotEditablePropriertiesFromFeature(feature);\n  var newFeature = feature.clone();\n  this.push({\n    layerId: layerId,\n    feature: newFeature.add()\n  });\n  return newFeature;\n};\n\n// delete temporary feature\nproto.pushDelete = function (layerId, feature) {\n  this.push({\n    layerId: layerId,\n    feature: feature.delete()\n  });\n  return feature;\n};\n\n// add temporary feature changes\nproto.pushUpdate = function (layerId, newFeature, oldFeature) {\n  // in case of change attribute immediately after create feature\n  if (newFeature.isNew()) {\n    var temporarynewfeatureIndex = this._temporarychanges.findIndex(function (change) {\n      return change.layerId === layerId && change.feature.getId() === newFeature.getId();\n    });\n    if (temporarynewfeatureIndex !== -1) {\n      var feature = newFeature.clone();\n      feature.add();\n      this._temporarychanges[temporarynewfeatureIndex].feature = feature;\n      return;\n    }\n  }\n  this.push({\n    layerId: layerId,\n    feature: newFeature.update()\n  }, {\n    layerId: layerId,\n    feature: oldFeature.update()\n  });\n};\n\nproto.removeChangesFromHistory = function () {\n  var changeIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this._history.removeStates(changeIds);\n};\n\nproto.moveRelationStatesOwnSession = function () {\n  var statesIds = {};\n\n  var _getCommitItems = this.getCommitItems(),\n      relationItems = _getCommitItems.relations;\n\n  for (var relationLayerId in relationItems) {\n    var relationStates = this._history.getRelationStates(relationLayerId);\n    var relationSession = _sessions2.default.getSession(relationLayerId);\n    relationSession._history.insertStates(relationStates);\n    statesIds[relationLayerId] = relationStates.map(function (state) {\n      return state.id;\n    });\n  }\n  return statesIds;\n};\n\n// it used to add temporary features\n// that will be added with save method\nproto.push = function (New, Old) {\n  /*\n  New e Old saranno oggetti contenti {\n      layerId: xxxx,\n      feature: feature\n    }\n   */\n  // check is set old (edit)\n  var feature = Old ? [Old, New] : New;\n  this._temporarychanges.push(feature);\n};\n\n// method to revert (cancel) all changes in history and clean session\nproto.revert = function () {\n  var _this4 = this;\n\n  var d = $.Deferred();\n  this._editor.revert().then(function () {\n    _this4._history.clear();\n    d.resolve();\n  });\n  return d.promise();\n};\n\n// handle temporary changes of layer\nproto._filterChanges = function () {\n  var id = this.getId();\n  var changes = {\n    own: [],\n    dependencies: {}\n  };\n  this._temporarychanges.forEach(function (temporarychange) {\n    var change = Array.isArray(temporarychange) ? temporarychange[0] : temporarychange;\n    if (change.layerId === id) changes.own.push(change);else {\n      if (!changes.dependencies[change.layerId]) changes.dependencies[change.layerId] = [];\n      // FILO\n      changes.dependencies[change.layerId].unshift(change);\n    }\n  });\n  return changes;\n};\n\nproto.rollback = function (changes) {\n  if (changes) return this._editor.rollback(changes);else {\n    var d = $.Deferred();\n    var _changes = this._filterChanges();\n    this._editor.rollback(_changes.own).then(function () {\n      var dependencies = _changes.dependencies;\n\n      for (var id in dependencies) {\n        _sessions2.default.getSession(id).rollback(dependencies[id]);\n      }\n      d.resolve(dependencies);\n    });\n    this._temporarychanges = [];\n    return d.promise();\n  }\n};\n\n/**\n * Rollback child changes of current session\n * @param ids [array of child layer id]\n */\nproto.rollbackDependecies = function () {\n  var _this5 = this;\n\n  var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  ids.forEach(function (id) {\n    var changes = [];\n    _this5._temporarychanges = _this5._temporarychanges.filter(function (temporarychange) {\n      if (temporarychange.layerId === id) {\n        changes.push(temporarychange);\n        return false;\n      }\n    });\n    changes.length && _sessions2.default.getSession(id).rollback(changes);\n  });\n};\n\n// method undo\nproto.undo = function (items) {\n  items = items || this._history.undo();\n  this._editor.setChanges(items.own, true);\n  this._history.canCommit();\n  return items.dependencies;\n};\n\n// method redo\nproto.redo = function (items) {\n  items = items || this._history.redo();\n  this._editor.setChanges(items.own, true);\n  this._history.canCommit();\n  return items.dependencies;\n};\n\nproto._serializeCommit = function (itemsToCommit) {\n  var id = this.getId();\n  var state = void 0;\n  var layer = void 0;\n  var commitObj = {\n    add: [],\n    update: [],\n    delete: [],\n    relations: {}\n  };\n  for (var key in itemsToCommit) {\n    var isRelation = false;\n    var items = itemsToCommit[key];\n    if (key !== id) {\n      isRelation = true;\n      var sessionRelation = _sessions2.default.getSession(key);\n      var lockids = sessionRelation ? sessionRelation.getEditor().getLockIds() : [];\n      commitObj.relations[key] = {\n        lockids: lockids,\n        add: [],\n        update: [],\n        delete: []\n      };\n      layer = commitObj.relations[key];\n    } else layer = commitObj;\n    items.forEach(function (item) {\n      state = item.getState();\n      var GeoJSONFormat = new ol.format.GeoJSON();\n      switch (state) {\n        case 'delete':\n          if (!item.isNew()) layer.delete.push(item.getId());\n          break;\n        default:\n          var value = GeoJSONFormat.writeFeatureObject(item);\n          var childs_properties = item.getProperties();\n          for (var _key in value.properties) {\n            if (value.properties[_key] && _typeof(value.properties[_key]) === 'object' && value.properties[_key].constructor === Object) value.properties[_key] = value.properties[_key].value;\n            if (value.properties[_key] === undefined && childs_properties[_key]) value.properties[_key] = childs_properties[_key];\n          }\n          var action = item.isNew() ? 'add' : item.getState();\n          // in case of add i have to remove non editable properties\n          layer[action].push(value);\n          break;\n      }\n    });\n    // check in case of no edit remove relation key\n    if (isRelation && !layer.add.length && !layer.update.length && !layer.delete.length) {\n      delete commitObj.relations[key];\n    }\n  }\n  return commitObj;\n};\n\nproto.getCommitItems = function () {\n  var commitItems = this._history.commit();\n  return this._serializeCommit(commitItems);\n};\n\n/**\n *\n * Set geometry: {type} of geojson to a 3D type if needed\n * @param layerId\n * @param commitItems\n */\nproto.set3DGeometryType = function () {\n  var _this6 = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$layerId = _ref.layerId,\n      layerId = _ref$layerId === undefined ? this.getId() : _ref$layerId,\n      commitItems = _ref.commitItems;\n\n  var relations = commitItems.relations;\n\n  var editingLayer = _mapLayers2.default.getLayerById(layerId).getEditingLayer();\n  // check id there is a editing layer and if is a vector layer\n  if (editingLayer && editingLayer.getType() === Layer.LayerTypes.VECTOR) {\n    // get Geometry type layer\n    var geometryType = editingLayer.getGeometryType();\n    // if is a 3D layer i set on geoJON before send it to server\n    if (is3DGeometry(geometryType)) {\n      ['add', 'update'].forEach(function (action) {\n        commitItems[action].forEach(function (feature) {\n          return feature.geometry.type = geometryType;\n        });\n      });\n    }\n  }\n  // the same control of relations layers\n  Object.keys(relations).forEach(function (layerId) {\n    return _this6.set3DGeometryType({\n      layerId: layerId,\n      commitItems: relations[layerId]\n    });\n  });\n};\n\nproto.commit = function () {\n  var _this7 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$ids = _ref2.ids,\n      ids = _ref2$ids === undefined ? null : _ref2$ids,\n      items = _ref2.items,\n      _ref2$relations = _ref2.relations,\n      relations = _ref2$relations === undefined ? true : _ref2$relations;\n\n  var d = $.Deferred();\n  var commitItems = void 0;\n  if (ids) {\n    commitItems = this._history.commit(ids);\n    this._history.clear(ids);\n  } else {\n    if (items) commitItems = items;else {\n      commitItems = this._history.commit();\n      commitItems = this._serializeCommit(commitItems);\n    }\n    if (!relations) commitItems.relations = {};\n    this._editor.commit(commitItems).then(function (response) {\n      if (response && response.result) {\n        var data = response.response;\n        var _data$new_relations = data.new_relations,\n            new_relations = _data$new_relations === undefined ? {} : _data$new_relations;\n\n        for (var id in new_relations) {\n          var session = _sessions2.default.getSession(id);\n          session.getEditor().applyCommitResponse({\n            response: new_relations[id],\n            result: true\n          });\n        }\n        _this7._history.clear();\n        _this7.saveChangesOnServer(commitItems);\n        d.resolve(commitItems, response);\n      } else d.reject(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto._canStop = function () {\n  return this.state.started || this.state.getfeatures;\n};\n\n//stop session\nproto._stop = function () {\n  var _this8 = this;\n\n  var d = $.Deferred();\n  if (this._canStop()) this._editor.stop().then(function () {\n    _this8.clear();\n    d.resolve();\n  }).fail(function (err) {\n    return d.reject(err);\n  });else d.resolve();\n  return d.promise();\n};\n\n// clear all things bind to session\nproto.clear = function () {\n  this._allfeatures = false;\n  this.state.started = false;\n  this.state.getfeatures = false;\n  this.clearHistory();\n  this._editor.clear();\n};\n\n//return l'history\nproto.getHistory = function () {\n  return this._history;\n};\n\n// clear history\nproto.clearHistory = function () {\n  this._history.clear();\n};\n\nmodule.exports = Session;\n\n},{\"core/editing/history\":7,\"core/g3wobject\":12,\"core/layers/layer\":34,\"core/utils/geo\":64,\"core/utils/utils\":67,\"store/map-layers\":374,\"store/sessions\":377}],9:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar serverErrorParser = function serverErrorParser() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._error = options.error;\n};\n\nvar proto = serverErrorParser.prototype;\n\nproto.parse = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$type = _ref.type,\n      type = _ref$type === undefined ? 'responseJSON' : _ref$type;\n\n  var error_message = \"server_saver_error\";\n  function traverseErrorMessage(errorObject) {\n    var entries = Object.entries(errorObject);\n    var entry = entries.find(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          key = _ref3[0],\n          value = _ref3[1];\n\n      return key === 'fields';\n    });\n    if (entry) {\n      var _entry = _slicedToArray(entry, 2),\n          value = _entry[1];\n\n      try {\n        if (typeof value === 'string') {\n          var _entries$find = entries.find(function (_ref4) {\n            var _ref5 = _slicedToArray(_ref4, 2),\n                key = _ref5[0],\n                value = _ref5[1];\n\n            return key !== 'fields';\n          }),\n              _entries$find2 = _slicedToArray(_entries$find, 1),\n              field = _entries$find2[0];\n\n          error_message = '[' + field + '] ' + value;\n        } else {\n          error_message = '';\n          Object.entries(value).forEach(function (_ref6) {\n            var _ref7 = _slicedToArray(_ref6, 2),\n                field = _ref7[0],\n                error = _ref7[1];\n\n            error_message = '' + error_message + field + ' ' + (Array.isArray(error) ? error[0] : error) + ' \\n';\n          });\n        }\n      } catch (err) {}\n      return error_message.replace(/\\:|\\./g, '');\n    } else {\n      var _entries$ = _slicedToArray(entries[0], 2),\n          _value = _entries$[1];\n\n      if (!Array.isArray(_value) && (typeof _value === 'undefined' ? 'undefined' : _typeof(_value)) === 'object') return traverseErrorMessage(_value);\n    }\n  }\n  if (type === 'responseJSON') {\n    if (this._error && this._error.responseJSON && this._error.responseJSON.error.message) return this._error.responseJSON.error.message;else if (this._error && this._error.errors) return traverseErrorMessage(this._error.errors);\n  } else if (type === 'String') {\n    if (typeof this._error === 'string') return this._error;else return traverseErrorMessage(this._error);\n  }\n  return t(\"server_saver_error\");\n};\n\nmodule.exports = serverErrorParser;\n\n},{\"core/i18n/i18n.service\":13}],10:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/geo'),\n    convertFeatureToGEOJSON = _require.convertFeatureToGEOJSON;\n\nexports.default = {\n\n  /**\n   * @param expr.field\n   * @param expr.feature\n   * @param expr.qgs_layer_id\n   * @param expr.parentData\n   * \n   * @returns { void | Promise<unknown> }\n   */\n  handleFilterExpressionFormInput: function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          field = _ref2.field,\n          feature = _ref2.feature,\n          qgs_layer_id = _ref2.qgs_layer_id,\n          parentData = _ref2.parentData;\n\n      var _field$input$options, key, value, _field$input$options$, layer_id, filter_expression, loading, features, values, i;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _field$input$options = field.input.options, key = _field$input$options.key, value = _field$input$options.value, _field$input$options$ = _field$input$options.layer_id, layer_id = _field$input$options$ === undefined ? qgs_layer_id : _field$input$options$, filter_expression = _field$input$options.filter_expression, loading = _field$input$options.loading;\n\n              /**\n               * @FIXME should return Promise.reject('some error message') ?\n               */\n\n              if (filter_expression) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt('return');\n\n            case 3:\n\n              loading.state = 'loading';\n\n              _context.prev = 4;\n              _context.next = 7;\n              return _data2.default.getData('expression:expression', {\n                inputs: {\n                  field_name: field.name,\n                  layer_id: layer_id,\n                  qgs_layer_id: qgs_layer_id, // layer id owner of the data\n                  form_data: convertFeatureToGEOJSON(feature),\n                  parent: parentData && {\n                    form_data: convertFeatureToGEOJSON(parentData.feature),\n                    qgs_layer_id: parentData.qgs_layer_id,\n                    formatter: 0\n                  },\n                  formatter: 0,\n                  expression: filter_expression.expression\n                },\n                outputs: false\n              });\n\n            case 7:\n              features = _context.sent;\n\n\n              if ('select_autocomplete' === field.input.type) {\n                field.input.options.values = [];\n                // temporary array to sort the keys\n                values = [];\n\n                for (i = 0; i < features.length; i++) {\n                  values.push({\n                    key: features[i].properties[key],\n                    value: features[i].properties[value]\n                  });\n                }\n                values.sort(function (_ref3, _ref4) {\n                  var aKey = _ref3.key;\n                  var bKey = _ref4.key;\n\n                  if ('string' === typeof aKey) {\n                    aKey = aKey.toLowerCase();\n                    bKey = bKey.toLowerCase();\n                  }\n                  if (aKey < bKey) return -1;\n                  if (aKey > bKey) return 1;\n                  return 0;\n                });\n                field.input.options.values = values;\n              }\n\n              return _context.abrupt('return', features);\n\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context['catch'](4);\n              return _context.abrupt('return', Promise.reject(_context.t0));\n\n            case 15:\n              _context.prev = 15;\n\n              loading.state = 'ready';\n              return _context.finish(15);\n\n            case 18:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[4, 12, 15, 18]]);\n    }));\n\n    function handleFilterExpressionFormInput() {\n      return _ref.apply(this, arguments);\n    }\n\n    return handleFilterExpressionFormInput;\n  }(),\n\n\n  /**\n   * @param expr.field\n   * @param expr.feature\n   * @param expr.qgs_layer_id\n   * @param expr.parentData\n   *  \n   * @returns { void | Promise<unknown> } \n   */\n  handleDefaultExpressionFormInput: function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          field = _ref6.field,\n          feature = _ref6.feature,\n          qgs_layer_id = _ref6.qgs_layer_id,\n          parentData = _ref6.parentData;\n\n      var _field$input$options2, _field$input$options3, layer_id, default_expression, loading, default_value, value;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _field$input$options2 = field.input.options, _field$input$options3 = _field$input$options2.layer_id, layer_id = _field$input$options3 === undefined ? qgs_layer_id : _field$input$options3, default_expression = _field$input$options2.default_expression, loading = _field$input$options2.loading, default_value = _field$input$options2.default;\n\n              /**\n               * @FIXME should return Promise.reject('some error message') ?\n               */\n\n              if (default_expression) {\n                _context2.next = 3;\n                break;\n              }\n\n              return _context2.abrupt('return');\n\n            case 3:\n\n              loading.state = 'loading';\n\n              // Call `expression:expression_eval` to get value from expression and set it to field\n              _context2.prev = 4;\n              _context2.next = 7;\n              return _data2.default.getData('expression:expression_eval', {\n                inputs: {\n                  field_name: field.name,\n                  layer_id: layer_id, //\n                  qgs_layer_id: qgs_layer_id, //layer id owner of the data\n                  form_data: convertFeatureToGEOJSON(feature),\n                  formatter: 0,\n                  expression: default_expression.expression,\n                  parent: parentData && {\n                    form_data: convertFeatureToGEOJSON(parentData.feature),\n                    qgs_layer_id: parentData.qgs_layer_id,\n                    formatter: 0\n                  }\n                },\n                outputs: false\n              });\n\n            case 7:\n              value = _context2.sent;\n\n\n              field.value = value;\n\n              return _context2.abrupt('return', value);\n\n            case 12:\n              _context2.prev = 12;\n              _context2.t0 = _context2['catch'](4);\n\n              if (\"undefined\" !== typeof default_value) {\n                field.value = default_value;\n              }\n              return _context2.abrupt('return', Promise.reject(_context2.t0));\n\n            case 16:\n              _context2.prev = 16;\n\n              loading.state = 'ready';\n              return _context2.finish(16);\n\n            case 19:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[4, 12, 16, 19]]);\n    }));\n\n    function handleDefaultExpressionFormInput() {\n      return _ref5.apply(this, arguments);\n    }\n\n    return handleDefaultExpressionFormInput;\n  }()\n};\n\n},{\"core/utils/geo\":64,\"services/data\":355}],11:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/geo'),\n    getFormDataExpressionRequestFromFeature = _require.getFormDataExpressionRequestFromFeature,\n    convertFeatureToGEOJSON = _require.convertFeatureToGEOJSON;\n\nexports.default = {\n  getVisibility: function getVisibility(_ref) {\n    var qgs_layer_id = _ref.qgs_layer_id,\n        expression = _ref.expression,\n        _ref$feature = _ref.feature,\n        feature = _ref$feature === undefined ? {} : _ref$feature,\n        contenttype = _ref.contenttype;\n\n    var formatter = contenttype === 'query' ? 1 : 0;\n    var form_data = contenttype === 'editing' ? convertFeatureToGEOJSON(feature) : getFormDataExpressionRequestFromFeature(feature);\n    return _data2.default.getData('expression:expression_eval', {\n      inputs: {\n        qgs_layer_id: qgs_layer_id,\n        form_data: form_data,\n        expression: expression,\n        formatter: formatter\n      },\n      outputs: false\n    });\n  }\n};\n\n},{\"core/utils/geo\":64,\"services/data\":355}],12:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    noop = _require.noop,\n    debounce = _require.debounce,\n    throttle = _require.throttle;\n\n/**\n * Base object to handle a setter and its listeners.\n * @constructor\n */\n\n\nvar G3WObject = function G3WObject() {\n  //check if setters property is set. Register the chain of events\n  this.setters && this._setupListenersChain(this.setters);\n  // check debounces\n  this.debounces && this._setupDebounces(this.debounces);\n  //check throttles\n  this.throttles && this._setupThrottles(this.throttles);\n};\n\ninherit(G3WObject, EventEmitter);\n\nvar proto = G3WObject.prototype;\n\n/**\n * Insert a listener on afeter setter was executed\n * @param {string} setter - IMethod name to register a listener function\n * @param {function} listener - listener function (only syncron)\n * @param {number} priority - Priorità di esecuzione: valore minore viene eseuito prima\n */\nproto.onafter = function (setter, listener, priority) {\n  return this._onsetter('after', setter, listener, false, priority);\n};\n\nproto.onceafter = function (setter, listener, priority) {\n  return this._onsetter('after', setter, listener, false, priority, true);\n};\n\n/**\n * Listern before cal sesster\n * @param {string} setter - Method name setter\n * @param {function} listener - function to call\n * @param {number} priority - Priority\n */\nproto.onbefore = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, false, priority);\n};\n\n// once before\nproto.oncebefore = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, false, priority, true);\n};\n\n/**\n * @param {string} setter - Method name setter\n * @param {function} listener - function to call\n * @param {number} priority - Priority\n */\nproto.onbeforeasync = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, true, priority);\n};\n\nproto.un = function (setter, key) {\n  // cicle on after before (key) and for each settersListeners (array) find key\n  Object.entries(this.settersListeners).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        _key = _ref2[0],\n        settersListeners = _ref2[1];\n\n    if (key === undefined) settersListeners[setter].splice(0);else settersListeners[setter].forEach(function (setterListener, idx) {\n      if (setterListener.key === key) {\n        settersListeners[setter].splice(idx, 1);\n      }\n    });\n  });\n};\n\n// base function to register and handle on<before/after> setter listeners\n/*\n  when=before|after,\n  type=sync|async\n*/\nproto._onsetter = function (when, setter, listener, async) {\n  var priority = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var once = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n\n  var listenerKey = void 0;\n  // check if setter function is register.\n  if (typeof this.settersListeners[when][setter] !== \"undefined\") {\n    // set unique listenerKey value\n    listenerKey = '' + (Math.floor(Math.random() * 1000000) + Date.now());\n    // add info object to setters listeners\n    this.settersListeners[when][setter].push({\n      key: listenerKey,\n      fnc: listener,\n      async: async,\n      priority: priority,\n      once: once\n    });\n    // set lineners base on priority\n    this.settersListeners[when][setter] = _.sortBy(this.settersListeners[when][setter], function (setterListener) {\n      return setterListener.priority;\n    });\n  }\n  // return key\n  return listenerKey; // in case of no setter register return undefined listerKey\n};\n\nproto._setupListenersChain = function (setters) {\n  var _this = this;\n\n  // initialize all methods inside object \"setters\" of child class.\n  this.settersListeners = {\n    after: {},\n    before: {}\n  };\n\n  var _loop = function _loop(setter) {\n    var setterOption = setters[setter];\n    var setterFnc = noop;\n    var setterFallback = noop;\n    if (_.isFunction(setterOption)) setterFnc = setterOption;else {\n      setterFnc = setterOption.fnc;\n      setterFallback = setterOption.fallback || noop; // method called in case of error\n    }\n    // create array to push before and after subscribers\n    _this.settersListeners.after[setter] = [];\n    _this.settersListeners.before[setter] = [];\n    // assign the property settern name to the object as own method\n    _this[setter] = function () {\n      var _this2 = this;\n\n      for (var _len = arguments.length, args = Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var deferred = $.Deferred();\n      var returnVal = null;\n      var counter = 0;\n      // function to call original function(setter function)\n      var callSetter = function callSetter() {\n        // run setter function\n        returnVal = setterFnc.apply(_this2, args);\n        // resolve promise\n        deferred.resolve(returnVal);\n        //call all subscribed methods afet setter\n        var onceListenerKeys = [];\n        var afterListeners = _this2.settersListeners.after[setter];\n        afterListeners.forEach(function (listener) {\n          listener.fnc.apply(_this2, args);\n          listener.once && onceListenerKeys.push(listener.key);\n        });\n        onceListenerKeys.forEach(function (key) {\n          return _this2.un(setter, key);\n        });\n      };\n      //  abort function\n      var abort = function abort() {\n        setterFallback.apply(_this2, args);\n        deferred.reject();\n      };\n      // get all before listeners functions of setter\n      var beforeListeners = this.settersListeners['before'][setter];\n      // listener counter\n      counter = 0;\n      var next = function next(bool) {\n        // initilize cont to true (continue)\n        var cont = true;\n        // check if bool is Boolean\n        if (_.isBoolean(bool)) cont = bool;\n        // check if count is false or we are arrived to the end of onbefore subscriber\n        if (cont === false) {\n          // found an error so we can abort\n          abort.apply(_this2, args);\n        } else if (counter === beforeListeners.length) {\n          // call complete method methods\n          var completed = callSetter();\n          //verifico che cosa ritorna\n          if (completed === undefined || completed === true) {\n            _this2.emitEvent('set:' + setter, args);\n          }\n        } else if (cont) {\n          var listenerObj = beforeListeners[counter];\n          var currentCounter = counter;\n          // if is async functtion\n          if (beforeListeners[counter].async) {\n            //add function next to argument of listnerFunction\n            args.push(next);\n            // update counter\n            counter += 1;\n            listenerObj.fnc.apply(_this2, args);\n          } else {\n            // return or undefine or a boolen to tell if ok(true) can conitnue or not (false)\n            var _bool = listenerObj.fnc.apply(_this2, args);\n            //update counter\n            counter += 1;\n            next(_bool);\n          }\n          listenerObj.once && beforeListeners.splice(currentCounter, 1);\n        }\n      };\n      // run next to start to run all the subscribers and setrer its self\n      next();\n      // retun a promise\n      return deferred.promise();\n    };\n  };\n\n  for (var setter in setters) {\n    _loop(setter);\n  }\n  return this.settersListeners;\n};\n\nproto._setupDebounces = function (debounces) {\n  for (var name in debounces) {\n    var delay = debounces[name].delay;\n    var fnc = debounces[name].fnc;\n    this[name] = debounce(fnc, delay);\n  }\n};\n\nproto._setupThrottles = function (throttles) {\n  for (var name in throttles) {\n    var delay = throttles[name].delay;\n    var fnc = throttles[name].fnc;\n    this[name] = throttle(fnc, delay);\n  }\n};\n\n//method get\nproto.get = function (key) {\n  return this[key] && !(this[key] instanceof Function) ? this[key] : null;\n};\n\n//method set\nproto.set = function (key, value) {\n  this[key] = value;\n};\n\nmodule.exports = G3WObject;\n\n},{\"core/utils/utils\":67}],13:[function(require,module,exports){\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// main object content for i18n\nvar plugins18nConfig = {};\n\nfunction init(config) {\n  config.appLanguages.forEach(function (language) {\n    plugins18nConfig[language] = {\n      plugins: {}\n    };\n  });\n  i18next.use(i18nextXHRBackend).init({\n    lng: config.language,\n    ns: 'app',\n    fallbackLng: 'en',\n    resources: config.resources\n  });\n  return new Promise(function (resolve, reject) {\n    jqueryI18next.init(i18next, $, {\n      tName: 't', // --> appends $.t = i18next.t\n      i18nName: 'i18n', // --> appends $.i18n = i18next\n      handleName: 'localize', // --> appends $(selector).localize(opts);\n      selectorAttr: 'data-i18n', // selector for translating elements\n      targetAttr: 'data-i18n-target', // element attribute to grab target element to translate (if diffrent then itself)\n      optionsAttr: 'data-i18n-options', // element attribute that contains options, will load/set if useOptionsAttr = true\n      useOptionsAttr: false, // see optionsAttr\n      parseDefaultValueFromContent: true // parses default values from content ele.val or ele.text\n    });\n    addI18n(plugins18nConfig);\n    resolve();\n  });\n}\nvar getAppLanguage = function getAppLanguage() {\n  var config = _application2.default.getConfig();\n  return config.user.i18n || \"en\";\n};\n\n// function to translate\nvar t = function t(text) {\n  return i18next.t(text);\n};\n\n// function to translate plugins\nvar tPlugin = function tPlugin(text) {\n  return i18next.t('plugins.' + text);\n};\n\nvar tPrefix = function tPrefix(filter) {\n  return function (text) {\n    return i18next.t(filter + '.' + text);\n  };\n};\n\nvar addI18nPlugin = function addI18nPlugin(_ref) {\n  var name = _ref.name,\n      config = _ref.config;\n\n  for (var language in config) {\n    var pluginLanguage = plugins18nConfig[language];\n    if (pluginLanguage) pluginLanguage.plugins[name] = config[language];\n  }\n  addI18n(plugins18nConfig);\n};\n\nvar addI18n = function addI18n(i18nObject) {\n  for (var language in i18nObject) {\n    var languageObj = i18nObject[language];\n    for (var key in languageObj) {\n      i18next.addResource(language, 'translation', key, languageObj[key]);\n    }\n  }\n};\n\nvar changeLanguage = function changeLanguage(language) {\n  i18next.changeLanguage(language);\n};\n\nmodule.exports = {\n  init: init,\n  t: t,\n  tPlugin: tPlugin,\n  tPrefix: tPrefix,\n  addI18n: addI18n,\n  addI18nPlugin: addI18nPlugin,\n  changeLanguage: changeLanguage,\n  getAppLanguage: getAppLanguage\n};\n\n},{\"services/application\":348}],14:[function(require,module,exports){\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @FIXME: application is broken using like the following line\n */\n// import { IframePluginService } from 'services';\n\nmodule.exports = _iframePlugin2.default; /**\n                                          * DEPRECATED: this file will be removed after v3.4 (use \"services/iframe-router.js\" instead)\n                                          */\n\n},{\"services/iframe-plugin\":361}],15:[function(require,module,exports){\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    createFilterFormField = _require.createFilterFormField;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction BaseIframeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this.ready = false;\n  this.init = function () {\n    //overwrite each service\n  };\n}\n\ninherit(BaseIframeService, G3WObject);\n\nvar proto = BaseIframeService.prototype;\n\n/**\n * Common mapService attribute\n */\nproto.mapService = _gui2.default.getComponent('map').getService();\n\n/**\n * Common current project attribute\n */\nproto.project = _projects2.default.getCurrentProject();\n\n/**\n *\n * @type {null}\n */\nproto.layers = undefined;\n\n/**\n * Return a qgs_layer_id array based on passed qgis_layer_id\n * @param qgs_layer_id : String , Array of Strings or null/undefined)\n * @returns Array oa qgs_layer_id strings\n * @private\n */\nproto.getQgsLayerId = function (_ref) {\n  var qgs_layer_id = _ref.qgs_layer_id,\n      _ref$noValue = _ref.noValue,\n      noValue = _ref$noValue === undefined ? this.layers.map(function (layer) {\n    return layer.id;\n  }) : _ref$noValue;\n\n  return qgs_layer_id ? Array.isArray(qgs_layer_id) ? qgs_layer_id : [qgs_layer_id] : noValue;\n};\n\n/**\n * Method to getFeature from DataProvider\n * @private\n */\nproto.searchFeature = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2) {\n    var layer = _ref2.layer,\n        feature = _ref2.feature;\n\n    var search_endpoint, field, value, _ref4, _ref4$data, data;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            search_endpoint = this.project.getSearchEndPoint();\n            field = feature.field, value = feature.value;\n            _context.next = 4;\n            return _data2.default.getData('search:features', {\n              inputs: {\n                layer: layer,\n                search_endpoint: search_endpoint,\n                filter: createFilterFormField({\n                  layer: layer,\n                  search_endpoint: search_endpoint,\n                  field: field,\n                  value: value\n                })\n              },\n              outputs: false\n            });\n\n          case 4:\n            _ref4 = _context.sent;\n            _ref4$data = _ref4.data;\n            data = _ref4$data === undefined ? [] : _ref4$data;\n            return _context.abrupt('return', data);\n\n          case 8:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n/**\n * Comme method to search feature/s by field and value\n * @param qgs_layer_id\n * @param feature\n * @param zoom\n * @param highlight\n * @returns {Promise<{qgs_layer_id: null, features: [], found: boolean}>}\n */\nproto.findFeaturesWithGeometry = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$qgs_layer_id = _ref6.qgs_layer_id,\n      qgs_layer_id = _ref6$qgs_layer_id === undefined ? [] : _ref6$qgs_layer_id,\n      feature = _ref6.feature,\n      _ref6$zoom = _ref6.zoom,\n      zoom = _ref6$zoom === undefined ? false : _ref6$zoom,\n      _ref6$highlight = _ref6.highlight,\n      highlight = _ref6$highlight === undefined ? false : _ref6$highlight;\n\n  var response, layersCount, i, layer, data, features;\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          response = {\n            found: false,\n            features: [],\n            qgs_layer_id: null\n          };\n          layersCount = qgs_layer_id.length;\n          i = 0;\n\n        case 3:\n          if (!(!response.found && i < layersCount)) {\n            _context2.next = 20;\n            break;\n          }\n\n          layer = this.project.getLayerById(qgs_layer_id[i]);\n          _context2.prev = 5;\n          _context2.t0 = layer;\n\n          if (!_context2.t0) {\n            _context2.next = 11;\n            break;\n          }\n\n          _context2.next = 10;\n          return this.searchFeature({\n            layer: layer,\n            feature: feature\n          });\n\n        case 10:\n          _context2.t0 = _context2.sent;\n\n        case 11:\n          data = _context2.t0;\n\n          if (data.length) {\n            features = data[0].features;\n\n            response.found = features.length > 0 && !!features.find(function (feature) {\n              return feature.getGeometry();\n            });\n            if (response.found) {\n              response.features = features;\n              response.qgs_layer_id = qgs_layer_id[i];\n              zoom && this.mapService.zoomToFeatures(features, {\n                highlight: highlight\n              });\n            } else i++;\n          } else i++;\n          _context2.next = 18;\n          break;\n\n        case 15:\n          _context2.prev = 15;\n          _context2.t1 = _context2['catch'](5);\n          i++;\n\n        case 18:\n          _context2.next = 3;\n          break;\n\n        case 20:\n          // in case of no response zoom too initial extent\n          !response.found && this.mapService.zoomToProjectInitExtent();\n\n          return _context2.abrupt('return', response);\n\n        case 22:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this, [[5, 15]]);\n}));\n\n/**\n * Set layer function\n * @param layers\n */\nproto.setLayers = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  proto.layers = layers;\n};\n\nproto.getLayers = function () {\n  return proto.layers;\n};\n\n/**\n * Method to set ready the service\n * @param bool\n */\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.ready = bool;\n};\n\nproto.getReady = function () {\n  return this.ready;\n};\n\n/**\n * Method overwrite single service: Usefult to sto eventually running action\n * * @returns {Promise<void>}\n */\nproto.stop = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this);\n}));\n\n/**\n * Overwrite each single service\n */\nproto.clear = function () {\n  //overwrite single service\n};\n\nmodule.exports = BaseIframeService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/data\":355,\"services/gui\":358,\"store/projects\":376}],16:[function(require,module,exports){\nvar _iframeApp = require('services/iframe-app');\n\nvar _iframeApp2 = _interopRequireDefault(_iframeApp);\n\nvar _iframeEditing = require('services/iframe-editing');\n\nvar _iframeEditing2 = _interopRequireDefault(_iframeEditing);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  app: _iframeApp2.default,\n  editing: _iframeEditing2.default\n};\n\n},{\"services/iframe-app\":359,\"services/iframe-editing\":360}],17:[function(require,module,exports){\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseService = require('core/iframe/services/baseservice');\n\nfunction BasePluginService() {\n  base(this);\n  // common attributes between plugin service\n  this.pluginName;\n  this.dependencyApi = {};\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$layers = _ref2.layers,\n        layers = _ref2$layers === undefined ? {} : _ref2$layers;\n\n    var plugin;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            this.layers = layers;\n            // check if the plugin in in configuration\n            if (_plugins2.default.isPluginInConfiguration(this.pluginName)) {\n              plugin = _plugins2.default.getPlugin(this.pluginName);\n\n              if (plugin) {\n                this.setDependencyApi(plugin.getApi());\n                this.setReady(true);\n              } else {\n                _plugins2.default.onafter('registerPlugin', function () {\n                  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(plugin) {\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.next = 2;\n                            return plugin.isReady();\n\n                          case 2:\n                            if (plugin.getName() === _this.pluginName) {\n                              _this.setDependencyApi(plugin.getApi());\n                              _this.setReady(true);\n                            }\n\n                          case 3:\n                          case 'end':\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee, _this);\n                  }));\n\n                  return function (_x2) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }());\n              }\n            }\n\n          case 2:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  this.clear = function () {\n    //TO OVERWRITE\n  };\n}\n\ninherit(BasePluginService, BaseService);\n\nvar proto = BasePluginService.prototype;\n\nproto.setDependencyApi = function () {\n  var api = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.dependencyApi = api;\n};\n\nproto.getDependecyApi = function () {\n  return this.dependencyApi;\n};\n\nmodule.exports = BasePluginService;\n\n},{\"core/iframe/services/baseservice\":15,\"core/utils/utils\":67,\"store/plugins\":375}],18:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction ARCGISMAPSERVERLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(ARCGISMAPSERVERLayer, BaseLayer);\n\nvar proto = ARCGISMAPSERVERLayer.prototype;\n\nproto._makeOlLayer = function () {\n  // here configuration to create TMS\n  var _config = this.config,\n      url = _config.url,\n      attributions = _config.attributions,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.TMS.get({\n    url: url,\n    source_type: 'arcgismapserver',\n    projection: projection,\n    attributions: attributions\n  });\n  return olLayer;\n};\n\nmodule.exports = ARCGISMAPSERVERLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":106}],19:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Projections = require('g3w-ol/projection/projections');\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar ImageLayer = require('core/layers/imagelayer');\n\nfunction BaseLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n  if (this.isWMS()) {\n    var _config = {\n      url: this.getWmsUrl(),\n      id: this.state.id,\n      tiled: this.state.tiled\n    };\n    this._mapLayer = new WMSLayer(_config);\n    this._mapLayer.addLayer(this);\n  } else this._mapLayer = this;\n}\n\ninherit(BaseLayer, ImageLayer);\n\nvar proto = BaseLayer.prototype;\n\nproto.getProjectionFromCrs = function () {\n  var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  crs.epsg = crs.epsg ? crs.epsg : \"EPSG:3857\";\n  return Projections.get(crs);\n};\n\nproto._makeOlLayer = function () {\n  //TO OVERWRITE\n};\n\nproto._registerLoadingEvent = function () {\n  var _this = this;\n\n  this._olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  this._olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.update = function (mapState, extraParams) {\n  this._updateLayer(mapState, extraParams);\n};\n\nproto.getOLLayer = function () {\n  var olLayer = this._olLayer;\n  if (!olLayer) {\n    olLayer = this._olLayer = this._makeOlLayer();\n    this._registerLoadingEvent();\n    if (this._mapLayer.config.attributions) {\n      this._olLayer.getSource().setAttributions(this._mapLayer.config.attributions);\n    }\n    olLayer.setVisible(this._mapLayer.state.visible);\n  }\n  return olLayer;\n};\n\nproto._updateLayer = function (mapState, extraParams) {\n  if (this.isWMS()) {\n    this._mapLayer.update(mapState, extraParams);\n  }\n};\n\nproto.setVisible = function (bool) {\n  this.getOLLayer().setVisible(bool);\n};\n\nproto.getMapLayer = function () {\n  return this._mapLayer;\n};\n\nmodule.exports = BaseLayer;\n\n},{\"core/layers/imagelayer\":33,\"core/layers/map/wmslayer\":45,\"core/utils/utils\":67,\"g3w-ol/projection/projections\":110}],20:[function(require,module,exports){\nvar BaseLayers = {\n  'OSM': require('./osmlayer'),\n  'Bing': require('./binglayer'),\n  'TMS': require('./tmslayer'),\n  'ARCGISMAPSERVER': require('./arcgislayer'),\n  'WMTS': require('./wmtslayer'),\n  'WMS': require('./wmslayer')\n};\n\nmodule.exports = BaseLayers;\n\n},{\"./arcgislayer\":18,\"./binglayer\":21,\"./osmlayer\":22,\"./tmslayer\":23,\"./wmslayer\":24,\"./wmtslayer\":25}],21:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction BingLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n}\n\ninherit(BingLayer, BaseLayer);\n\nvar proto = BingLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var olLayer = void 0;\n  var key = _applicationState2.default.keys.vendorkeys.bing;\n  var subtype = this.config.source ? this.config.source.subtype : null;\n  switch (subtype) {\n    case 'streets':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Road',\n        key: key\n      });\n      break;\n    case 'aerial':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Aerial',\n        key: key\n      });\n      break;\n    case 'aerialwithlabels':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'AerialWithLabels',\n        key: key\n      });\n      break;\n    default:\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Aerial',\n        key: key\n      });\n  }\n  return olLayer;\n};\n\nmodule.exports = BingLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":106,\"store/application-state\":370}],22:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction OSMLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n}\n\ninherit(OSMLayer, BaseLayer);\n\nvar proto = OSMLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var olLayer = BasesLayers.OSM.get({\n    id: this.config.name,\n    title: this.config.title,\n    url: this.config.url\n  });\n  return olLayer;\n};\n\nmodule.exports = OSMLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":106}],23:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction TMSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(TMSLayer, BaseLayer);\n\nvar proto = TMSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  // here configuration to create TMS\n  var _config = this.config,\n      url = _config.url,\n      attributions = _config.attributions,\n      minZoom = _config.minZoom,\n      maxZoom = _config.maxZoom,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.TMS.get({\n    url: url,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    attributions: attributions,\n    projection: projection\n  });\n  return olLayer;\n};\n\nmodule.exports = TMSLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":106}],24:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction WMSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(WMSLayer, BaseLayer);\n\nvar proto = WMSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  //use this config to get params\n  var _config = this.config,\n      url = _config.url,\n      layers = _config.layers,\n      singleTile = _config.singleTile,\n      attributions = _config.attributions,\n      crs = _config.crs,\n      opacity = _config.opacity;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.WMS.get({\n    url: url,\n    layers: layers,\n    singleTile: singleTile,\n    attributions: attributions,\n    projection: projection,\n    opacity: opacity\n  });\n  return olLayer;\n};\n\nmodule.exports = WMSLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":106}],25:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction WMTSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(WMTSLayer, BaseLayer);\n\nvar proto = WMTSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  //use this config to get params\n  var _config = this.config,\n      url = _config.url,\n      layer = _config.layer,\n      attributions = _config.attributions,\n      matrixSet = _config.matrixSet,\n      format = _config.format,\n      style = _config.style,\n      requestEncoding = _config.requestEncoding,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.WMTS.get({\n    url: url,\n    layer: layer,\n    attributions: attributions,\n    format: format,\n    projection: projection,\n    requestEncoding: requestEncoding,\n    matrixSet: matrixSet,\n    style: style\n  });\n  return olLayer;\n};\n\nmodule.exports = WMTSLayer;\n\n},{\"core/layers/baselayers/baselayer\":19,\"core/utils/utils\":67,\"g3w-ol/layers/bases\":106}],26:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nvar geometryFields = _constant2.default.GEOMETRY_FIELDS;\n\nvar Feature = function Feature() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  ol.Feature.call(this);\n  this._uid = uniqueId();\n  this._newPrefix = '_new_';\n  this._geometry = false;\n  var feature = options.feature,\n      properties = options.properties;\n\n  if (feature) {\n    // check if has to set only some properties or all feature properties\n    if (properties && Array.isArray(properties)) properties.forEach(function (property) {\n      return _this.set(property, feature.get(property));\n    });else this.setProperties(feature.getProperties());\n    this.setId(feature.getId());\n    this.setGeometryName(feature.getGeometryName());\n    var geometry = feature.getGeometry();\n    this._geometry = !!geometry;\n    geometry && this.setGeometry(geometry);\n    var style = this.getStyle();\n    style && this.setStyle(style);\n  }\n  this.state = {\n    new: false,\n    state: null,\n    visible: true\n  };\n};\n\nol.inherits(Feature, ol.Feature);\n\nvar proto = Feature.prototype;\n\n//change constructor\nproto.constructor = 'Feature';\n\n/**\n * Return unique id\n * @returns {*}\n */\nproto.getUid = function () {\n  return this._uid;\n};\n\n/**\n * set new uid\n * @param uid\n * @private\n */\nproto._setUid = function (uid) {\n  this._uid = uid;\n};\n\nproto.isGeometry = function () {\n  return this._geometry;\n};\n\nproto.cloneNew = function () {\n  var clone = this.clone();\n  var uid = uniqueId();\n  clone._setUid(uid);\n  clone.setTemporaryId();\n  return clone;\n};\n\n/**\n * clone existing feature\n * @returns {Feature}\n */\nproto.clone = function () {\n  var feature = ol.Feature.prototype.clone.call(this);\n  feature.setId(this.getId());\n  this.isGeometry() && feature.setGeometry(feature.getGeometry().clone());\n  var clone = new Feature({\n    feature: feature\n  });\n  var uid = this.getUid();\n  clone._setUid(uid);\n  clone.setState(this.getState());\n  this.isNew() && clone.setNew();\n  return clone;\n};\n\nproto.setTemporaryId = function () {\n  var newValue = '' + this._newPrefix + uniqueId();\n  this.setId(newValue);\n  this.setNew();\n};\n\nproto.setNew = function () {\n  this.state.new = true;\n};\n\nproto.delete = function () {\n  this.state.state = 'delete';\n  return this;\n};\n\nproto.update = function () {\n  this.state.state = 'update';\n  return this;\n};\n\nproto.add = function () {\n  this.state.state = 'add';\n  return this;\n};\n\nproto.isNew = function () {\n  return this.state.new;\n};\n\nproto.isAdded = function () {\n  return this.state.state === 'add';\n};\n\nproto.isUpdated = function () {\n  return this.state.state === 'update';\n};\n\nproto.isDeleted = function () {\n  return this.state.state === 'delete';\n};\n\nproto.setFullState = function (state) {\n  this.state = state;\n};\n\nproto.getFullState = function () {\n  return this.state;\n};\n\nproto.setState = function (state) {\n  this.state.state = state;\n};\n\nproto.getState = function () {\n  return this.state.state;\n};\n\nproto.getAlphanumericProperties = function () {\n  var properties = this.getProperties();\n  var alphanumericproperties = {};\n  for (var name in properties) {\n    if (geometryFields.indexOf(name) === -1) alphanumericproperties[name] = properties[name];\n  }\n  return alphanumericproperties;\n};\n\n//clean state of the features\nproto.clearState = function () {\n  this.state.state = null;\n  this.state.new = false;\n};\n\n/**\n * need to filter features visiblity on table\n * @returns {boolean}\n */\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.setVisible = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.visible = bool;\n};\n\nmodule.exports = Feature;\n\n},{\"app/constant\":4,\"core/utils/utils\":67}],27:[function(require,module,exports){\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// Object to store and handle features of layer\nfunction FeaturesStore() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._features = options.features || [];\n  this._provider = options.provider || null;\n  this._loadedIds = []; // store locked ids\n  this._lockIds = []; // store locked features\n  this.hasFeatureLockByOtherUser = false; // property tath i set to true if some feature are locked by other user\n  this.setters = {\n    addFeatures: function addFeatures(features) {\n      var _this = this;\n\n      features.forEach(function (feature) {\n        _this._addFeature(feature);\n      });\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    removeFeature: function removeFeature(feature) {\n      this._removeFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    clear: function clear() {\n      this._clearFeatures();\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    },\n    commit: function commit(commitItems, featurestore) {\n      return this._commit(commitItems, featurestore);\n    },\n\n    /**\n     * setter to know when some feature are locked\n     */\n    featuresLockedByOtherUser: function featuresLockedByOtherUser() {\n      //set to true\n      this.hasFeatureLockByOtherUser = true;\n    }\n  };\n\n  base(this);\n}\n\ninherit(FeaturesStore, G3WObject);\n\nvar proto = FeaturesStore.prototype;\n\nproto.clone = function () {\n  return _.cloneDeep(this);\n};\n\nproto.setProvider = function (provider) {\n  this._provider = provider;\n};\n\nproto.getProvider = function () {\n  return this._provider;\n};\n\n// method unlock features\nproto.unlock = function () {\n  var _this2 = this;\n\n  var d = $.Deferred();\n  this._provider.unlock().then(function (response) {\n    // set to false when featuresstore is unlocked\n    _this2.hasFeatureLockByOtherUser = false;\n    d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// method get all features from server or attribute _features\nproto._getFeatures = function () {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  if (this._provider) {\n    this._provider.getFeatures(options).then(function (options) {\n      var features = _this3._filterFeaturesResponse(options);\n      _this3.addFeatures(features);\n      d.resolve(features);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else d.resolve(this._readFeatures());\n  return d.promise();\n};\n\n//filter features to add\nproto._filterFeaturesResponse = function () {\n  var _this4 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  /**\n   * get features returned from server and feature that are current locked.\n   * If featurelocks are less that a features, it means that other user is editing these feature\n   * @type {*[]}\n   */\n  var _options$features = options.features,\n      features = _options$features === undefined ? [] : _options$features,\n      _options$featurelocks = options.featurelocks,\n      featurelocks = _options$featurelocks === undefined ? [] : _options$featurelocks,\n      count = options.count;\n\n  var featuresToAdd = features.filter(function (feature) {\n    var featureId = feature.getId();\n    var added = _this4._loadedIds.indexOf(featureId) !== -1;\n    if (!added) _this4._loadedIds.push(featureId);\n    return !added;\n  });\n  this._filterLockIds(featurelocks);\n  if (features.length < count && !this.hasFeatureLockByOtherUser) this.featuresLockedByOtherUser();\n  return featuresToAdd;\n};\n\n// method get features locked\nproto._filterLockIds = function (featurelocks) {\n  var _lockIds = this._lockIds.map(function (lockid) {\n    return lockid.featureid;\n  });\n  var toAddLockId = featurelocks.filter(function (featurelock) {\n    return _lockIds.indexOf(featurelock.featureid) === -1;\n  });\n  this._lockIds = [].concat(_toConsumableArray(this._lockIds), _toConsumableArray(toAddLockId));\n};\n\nproto.addLoadedIds = function (id) {\n  this._loadedIds.push(id);\n};\n\nproto.getLockIds = function () {\n  return this._lockIds;\n};\n\n//method to add new lockid\nproto.addLockIds = function (lockIds) {\n  var _this5 = this;\n\n  this._lockIds = _.union(this._lockIds, lockIds);\n  this._lockIds.forEach(function (lockId) {\n    return _this5._loadedIds.push(lockId.featureid);\n  });\n};\n\nproto._readFeatures = function () {\n  return this._features;\n};\n\nproto._commit = function (commitItems) {\n  var d = $.Deferred();\n  if (commitItems && this._provider) {\n    commitItems.lockids = this._lockIds;\n    this._provider.commit(commitItems).then(function (response) {\n      return d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else d.reject();\n  return d.promise();\n};\n\n// get feature from id\nproto.getFeatureById = function (featureId) {\n  return this._features.find(function (feature) {\n    return feature.getId() == featureId;\n  });\n};\n\nproto.getFeatureByUid = function (uid) {\n  return this._features.find(function (feature) {\n    return feature.getUid() === uid;\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._features.push(feature);\n};\n\n//substitute feature after update\nproto._updateFeature = function (feature) {\n  var _this6 = this;\n\n  this._features.find(function (feat, idx) {\n    if (feat.getUid() === feature.getUid()) {\n      _this6._features[idx] = feature;\n      return true;\n    }\n  });\n};\n\nproto.setFeatures = function (features) {\n  this._features = features;\n};\n\nproto._removeFeature = function (feature) {\n  this._features = this._features.filter(function (feat) {\n    return feature.getUid() !== feat.getUid();\n  });\n};\n\nproto._clearFeatures = function () {\n  this._features = null;\n  this._features = [];\n  this._lockIds = [];\n  this._loadedIds = [];\n};\n\nproto.getDataProvider = function () {\n  return this._provider;\n};\n\n// only read downloaded features\nproto.readFeatures = function () {\n  return this._features;\n};\n\nmodule.exports = FeaturesStore;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],28:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar FeaturesStore = require('core/layers/features/featuresstore');\n\n// Storage of the feature in vector layer\nfunction OlFeaturesStore() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._features = options.features || new ol.Collection([]);\n}\n\ninherit(OlFeaturesStore, FeaturesStore);\n\nvar proto = OlFeaturesStore.prototype;\n\nproto.getLength = function () {\n  return this._features.getLength();\n};\n\n//overwrite\nproto.setFeatures = function () {\n  var _this = this;\n\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features.forEach(function (feature) {\n    return _this._features.push(feature);\n  });\n};\n// overwrite\nproto.readFeatures = function () {\n  return this._features.getArray();\n};\n\nproto.getFeaturesCollection = function () {\n  return this._features;\n};\n\nproto.getFeatureById = function (featureId) {\n  return this._features.getArray().find(function (feature) {\n    return feature.getId() == featureId;\n  });\n};\n\nproto.getFeatureByUid = function (uid) {\n  return this._features.getArray().find(function (feature) {\n    return feature.getUid() === uid;\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._features.push(feature);\n  // useful for ol.source.Vector\n  this._features.dispatchEvent('change');\n};\n\n//sobtitute the feature after modify\nproto._updateFeature = function (feature) {\n  // set index at -1\n  var index = -1;\n  var featuresArray = this._features.getArray();\n  for (var i = 0; featuresArray.length; i++) {\n    var _feature = featuresArray[i];\n    if (_feature.getUid() === feature.getUid()) {\n      index = i;\n      break;\n    }\n  }\n  if (index >= 0) {\n    this._features.removeAt(index);\n    this._features.insertAt(index, feature);\n    this._features.dispatchEvent('change');\n  }\n};\n\n// remove feature from store\nproto._removeFeature = function (feature) {\n  var featuresArray = this._features.getArray();\n  for (var i = 0; i < featuresArray.length; i++) {\n    var feat = featuresArray[i];\n    if (feature.getUid() === feat.getUid()) {\n      this._features.removeAt(i);\n      break;\n    }\n  }\n  this._features.dispatchEvent('change');\n};\n\nproto._clearFeatures = function () {\n  try {\n    this._features.clear();\n  } catch (err) {}\n  this._features = null;\n  this._features = new ol.Collection([]);\n};\n\nmodule.exports = OlFeaturesStore;\n\n},{\"core/layers/features/featuresstore\":27,\"core/utils/utils\":67}],29:[function(require,module,exports){\nvar _constant = require('app/constant');\n\n//Expression\nfunction Expression() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._layerName = options.layerName;\n  var filter = options.filter;\n  this._expression = filter && filter || '';\n}\n\nvar proto = Expression.prototype;\n\nproto.and = function (field, value) {\n  this._expression = this._expression ? this._expression + ' AND ' : this._expression;\n  if (field && value) {\n    this.eq(field, value);\n  }\n  return this;\n};\n\nproto.or = function () {\n  if (field && value) {\n    this._expression = this._expression ? this._expression + ' OR ' : this._expression;\n    this.eq(field, value);\n  }\n  return this;\n};\n\nproto.eq = function (field, value) {\n  this._expression = this._expression + this._build('eq', field, value);\n  return this;\n};\n\nproto.like = function (field, value) {\n  this._expression = this._expression + this._build('LIKE', field, value);\n  return this;\n};\n\nproto.ilike = function (field, value) {\n  this._expression = this._expression + this._build('ILIKE', field, value);\n  return this;\n};\n\nproto.not = function (field, value) {\n  this._expression = this._expression + this._build('NOT', field, value);\n  return this;\n};\n\nproto.gt = function (field, value) {\n  this._expression = this._expression + this._build('gt', field, value);\n  return this;\n};\n\nproto.gte = function (field, value) {\n  this._expression = this._expression + this._build('gte', field, value);\n  return this;\n};\n\nproto.lt = function (field, value) {\n  this._expression = this._expression + this._build('lt', field, value);\n  return this;\n};\n\nproto.lte = function (field, value) {\n  this._expression = this._expression + this._build('lte', field, value);\n  return this;\n};\n\nproto.clear = function () {\n  this._expression = '';\n  return this;\n};\n\n// get expression method to get the realt value of the expression\nproto.get = function () {\n  return this._layerName ? this._layerName + ': ' + this._expression : this._expression;\n};\n\nproto._build = function (operator, field, value) {\n  return ['\"' + field + '\"', _constant.FILTER_EXPRESSION_OPERATORS[operator], '' + value].join(' ');\n};\n\nproto.createSingleExpressionElement = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      value = _ref.value,\n      attribute = _ref.attribute,\n      operator = _ref.operator,\n      logicop = _ref.logicop;\n\n  var filterElement = void 0;\n  var valueExtra = operator === 'LIKE' || operator === 'ILIKE' ? \"%\" : \"\";\n  var filterOp = _constant.FILTER_EXPRESSION_OPERATORS[operator];\n  var filterLogicOperator = logicop && ' ' + logicop + ' ' || '';\n  if (operator === 'IN') {\n    var _value = Array.isArray(value) ? value : [value];\n    var filterValue = '( ' + _value.map(function (value) {\n      return '\\'' + value + '\\'';\n    }).join(',').replace(/,/g, ' , ') + ' )';\n    filterElement = '\"' + attribute + '\" ' + filterOp + ' ' + filterValue + filterLogicOperator;\n  } else if (value !== null && value !== undefined && !(Number.isNaN(value) || !value.toString().trim())) {\n    var singolequote = typeof value !== 'number' ? value.split(\"'\") : [];\n    if (singolequote.length > 1) {\n      var _filterElements = [];\n      for (var i = 0; i < singolequote.length; i++) {\n        var _value2 = singolequote[i];\n        if (!_value2) continue;\n        var _filterOp = 'ILIKE';\n        var _filterValue = ('%' + _value2 + '%').trim();\n        var _filterElement = '\"' + attribute + '\" ' + _filterOp + ' \\'' + _filterValue + '\\'';\n        _filterElements.push(_filterElement);\n      }\n      filterElement = '' + _filterElements.join(' AND ') + filterLogicOperator;\n    } else filterElement = '\"' + attribute + '\" ' + filterOp + ' \\'' + valueExtra + value + valueExtra + '\\'' + filterLogicOperator;\n  }\n  return filterElement;\n};\n\nproto.createExpressionFromFilterObject = function () {\n  var _this = this;\n\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var filterElements = [];\n  var rootFilter = void 0;\n  for (var operator in filter) {\n    rootFilter = _constant.FILTER_EXPRESSION_OPERATORS[operator];\n    var inputs = filter[operator];\n    inputs.forEach(function (input) {\n      for (var _operator in input) {\n        var _value3 = input[_operator];\n        if (Array.isArray(_value3)) {\n          _this.createExpressionFromFilterObject(input);\n        } else {\n          var _field = input[_operator];\n          for (var attribute in _field) {\n            var _value4 = _field[attribute];\n            var fieldElement = _this.createSingleExpressionElement({\n              value: _value4,\n              operator: _operator,\n              attribute: attribute\n            });\n            filterElements.push(fieldElement);\n          }\n        }\n      }\n    });\n    rootFilter = filterElements.length > 0 ? filterElements.join(\" \" + rootFilter + \" \") : false;\n  }\n  return rootFilter;\n};\n\nproto.createExpressionFromField = function (_ref2) {\n  var layerName = _ref2.layerName,\n      field = _ref2.field,\n      value = _ref2.value,\n      _ref2$operator = _ref2.operator,\n      operator = _ref2$operator === undefined ? 'eq' : _ref2$operator;\n\n  var filter = this.createSingleExpressionElement({\n    attribute: field,\n    value: value,\n    operator: operator\n  });\n  this._expression = layerName + ':' + filter;\n  return this;\n};\n\nproto.createExpressionFromFilterArray = function () {\n  var _this2 = this;\n\n  var inputs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var filter = '';\n  // set logicop of last element to null\n  var inputsLength = inputs.length ? inputs.length - 1 : inputs.length;\n  inputs.forEach(function (input, index) {\n    var filterElement = _this2.createSingleExpressionElement(input);\n    filter = '' + filter + (input.logicop && index === inputsLength ? filterElement.substring(0, filterElement.length - (input.logicop.length + 1)) : filterElement);\n  });\n  return filter || undefined;\n};\n\nproto.createExpressionFromFilter = function (filter, layerName) {\n  var filterParam = Array.isArray(filter) ? this.createExpressionFromFilterArray(filter) : this.createExpressionFromFilterObject(filter);\n  if (filterParam) this._expression = layerName + ':' + filterParam;\n  return this;\n};\n\nmodule.exports = Expression;\n\n},{\"app/constant\":4}],30:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// class Filter to build filter\n// useful by provider providers to get data\nfunction Filter() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._filter = null;\n  this._type = null;\n  this.config = config;\n}\n\nvar proto = Filter.prototype;\n\n/**\n * Config methods\n */\n\nproto.getConfig = function () {\n  return this.config;\n};\n\nproto.setConfig = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n};\n\nproto.mergeConfig = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = _extends({}, this.config, config);\n};\n\n/***\n *  end config methods\n */\n\nproto.getAll = function () {\n  this._type = Filter.TYPES.all;\n  this._filter = null;\n};\n\n// to create complex filter\nproto.setExpression = function (expression) {\n  this._type = Filter.TYPES.expression;\n  this._filter = expression;\n};\n\nproto.setGeometry = function (geometry) {\n  this._type = Filter.TYPES.geometry;\n  this._filter = geometry;\n  return this;\n};\n\nproto.setBBOX = function (bbox) {\n  this._type = Filter.TYPES.bbox;\n  this._filter = bbox;\n  return this;\n};\n\nproto.setFids = function (ids) {\n  this._type = Filter.TYPES.fids;\n  this._filter = ids;\n  return this;\n};\n\nproto.serialize = function () {\n  return JSON.stringify(this);\n};\n\n// get filter value\nproto.get = function () {\n  return this._filter;\n};\n\nproto.getType = function () {\n  return this._type;\n};\n\nproto.clear = function () {\n  this._filter = null;\n};\n\nFilter.TYPES = {\n  bbox: 'bbox',\n  geometry: 'geometry',\n  expression: 'expression',\n  fids: 'fids',\n  all: 'all'\n};\n\nmodule.exports = Filter;\n\n},{}],31:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar VectorLayer = require('core/layers/vectorlayer');\nvar GeojsonMapLayer = require('core/layers/map/geojson');\n\nfunction GeojsonLayer(config, options) {\n  base(this, config, options);\n  this.config.style = config.style;\n  this.setup(config);\n}\n\ninherit(GeojsonLayer, VectorLayer);\n\nvar proto = GeojsonLayer.prototype;\n\nproto.getMapLayer = function () {\n  if (this._mapLayer) return this._mapLayer;\n  var url = this.get('source').url;\n  var name = this.getName();\n  var id = this.getId();\n  var style = this.get('style');\n  var provider = this.getProvider('data');\n  var options = {\n    url: url,\n    projection: this.getProjection().getCode(),\n    id: id,\n    name: name,\n    style: style,\n    provider: provider\n  };\n  this._mapLayer = new GeojsonMapLayer(options);\n  return this._mapLayer;\n};\n\nmodule.exports = GeojsonLayer;\n\n},{\"core/layers/map/geojson\":42,\"core/layers/vectorlayer\":57,\"core/utils/utils\":67}],32:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nvar _require = require('core/utils/ol'),\n    getScaleFromResolution = _require.getScaleFromResolution;\n\nvar _require2 = require('core/utils/geo'),\n    createFeatureFromFeatureObject = _require2.createFeatureFromFeatureObject;\n\nvar _require3 = require('core/utils/utils'),\n    XHR = _require3.XHR,\n    sanitizeUrl = _require3.sanitizeUrl;\n\nvar RESERVERDPARAMETRS = {\n  wms: ['VERSION', 'REQUEST', 'BBOX', 'LAYERS', 'WIDTH', 'HEIGHT', 'DPI', 'FORMAT', 'CRS']\n};\n\nfunction GeoLayerMixin() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n}\n\nvar proto = GeoLayerMixin.prototype;\n\nproto.setup = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!this.config) {\n    console.log(\"GeoLayerMixin must be used from a valid (geo) Layer instance\");\n    return;\n  }\n  var project = options.project;\n\n  this.config.map_crs = project.getProjection().getCode();\n  this.config.multilayerid = config.multilayer;\n  this.legendCategories = {};\n  // Features that contain\n  this.olSelectionFeatures = {}; // key id / fid of feature and values is an object with feature and added\n  // state extend of layer setting geolayer property to true\n  // and adding information of bbox\n  _.extend(this.state, {\n    geolayer: config.geometrytype !== \"NoGeometry\",\n    legend: {\n      url: null,\n      loading: false,\n      error: false,\n      /**\n       * @deprecated since 3.8. Will be removed in 4.x. Use `expanded` attribute instead\n       */\n      show: true,\n      change: false // used for when categories changed (checkbox on TOC) and legend is on TAB\n    },\n    external: config.source && config.source.external || false,\n    bbox: config.bbox || null,\n    visible: config.visible || false,\n    checked: config.visible || false,\n    epsg: config.crs.epsg,\n    hidden: config.hidden || false,\n    scalebasedvisibility: config.scalebasedvisibility || false,\n    minscale: config.minscale,\n    maxscale: config.maxscale,\n    ows_method: config.ows_method,\n\n    /**\n     * @type {boolean}\n     */\n    exclude_from_legend: typeof config.exclude_from_legend == 'boolean' ? config.exclude_from_legend : true,\n\n    /**\n     * Has more than one categories legend\n     * \n     * @type {boolean}\n     */\n    categories: false,\n\n    /**\n     * Toggle legend item state (expandend or collapsed) in catalog layers (TOC)\n     * \n     * @type {number}\n     *\n     * @since v3.8\n     */\n    expanded: config.expanded,\n\n    /**\n     * Layer opacity\n     * \n     * @type {number} opacity range = [0, 100]\n     * \n     * @since v3.8\n     */\n    opacity: config.opacity || 100\n\n  });\n  if (config.projection) this.config.projection = config.projection.getCode() === config.crs.epsg ? config.projection : Projections.get(config.crs);\n  if (config.attributions) this.config.attributions = config.attributions;\n  config.source && config.source.url && this._sanitizeSourceUrl();\n};\n\n/**\n * Legend Graphic section\n */\nproto.getLegendGraphic = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$all = _ref.all,\n      all = _ref$all === undefined ? true : _ref$all;\n\n  var legendParams = _application2.default.getConfig().layout ? _application2.default.getConfig().layout.legend : {};\n  var legendurl = this.getLegendUrl(legendParams, {\n    categories: true,\n    all: all, // true meaning no bbox no filter just all referred to\n    format: 'application/json' // is the format to request categories (icon and label of each category)\n  });\n  return XHR.get({\n    url: legendurl\n  });\n};\n\n/**\n * Set layer categories legend\n * @param categories\n */\nproto.setCategories = function () {\n  var categories = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.legendCategories[this.getCurrentStyle().name] = categories;\n  //set categories state attribute to true only if exist at least a rule key\n  this.state.categories = categories.length > 0 && categories.filter(function (category) {\n    return category.ruleKey;\n  }).length > 0;\n};\n\n/**\n * Return eventually categories of layers legend\n * @returns {string[] | string | [] | *[] | boolean | {default: {level: *, appenders: string[]}}}\n */\nproto.getCategories = function () {\n  return this.legendCategories[this.getCurrentStyle().name];\n};\n\nproto.clearCategories = function () {\n  this.legendCategories = {};\n  this.state.categories = false;\n};\n\n/**\n * End Legend Graphic section\n */\n\n/**\n * Clear all selection openlayer features\n */\nproto.clearOlSelectionFeatures = function () {\n  this.olSelectionFeatures = null;\n};\n\n/**\n * Get openlayer selection feature by feature id\n * @param id\n * @returns {*}\n */\nproto.getOlSelectionFeature = function (id) {\n  return this.olSelectionFeatures[id];\n};\n\nproto.updateOlSelectionFeature = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      feature = _ref2.feature;\n\n  var featureObject = this.getOlSelectionFeature(id);\n  if (featureObject) {\n    featureObject.feature = feature;\n    var _mapService = _gui2.default.getService('map');\n    _mapService.setSelectionFeatures('update', {\n      feature: feature\n    });\n  }\n};\n\n/**\n * Delete openlayer feature selection by feature id\n * @param id\n */\nproto.deleteOlSelectionFeature = function (id) {\n  var featureObject = this.olSelectionFeatures[id];\n  if (featureObject) {\n    mapService.setSelectionFeatures('remove', {\n      feature: featureObject.feature\n    });\n    delete this.olSelectionFeatures[id];\n  }\n};\n\n/**\n * Get all openlyare feature selection\n * @returns {{}|null}\n */\nproto.getOlSelectionFeatures = function () {\n  return this.olSelectionFeatures;\n};\n\nproto.addOlSelectionFeature = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref3.id,\n      feature = _ref3.feature;\n\n  this.olSelectionFeatures[id] = this.olSelectionFeatures[id] || {\n    feature: createFeatureFromFeatureObject({ id: id, feature: feature }),\n    added: false\n  };\n  return this.olSelectionFeatures[id];\n};\n\nproto.showAllOlSelectionFeatures = function () {\n  var mapService = _gui2.default.getService('map');\n  Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n    !featureObject.added && mapService.setSelectionFeatures('add', {\n      feature: featureObject.feature\n    });\n    featureObject.added = true;\n  });\n};\n\nproto.setInversionOlSelectionFeatures = function () {\n  var mapService = _gui2.default.getComponent('map').getService();\n  Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n    mapService.setSelectionFeatures(featureObject.added ? 'remove' : 'add', {\n      feature: featureObject.feature\n    });\n    featureObject.added = !featureObject.added;\n  });\n};\n\nproto.setOlSelectionFeatureByFid = function (fid, action) {\n  var feature = this.olSelectionFeatures[fid] && this.olSelectionFeatures[fid].feature;\n  return feature && this.setOlSelectionFeatures({ id: fid, feature: feature }, action);\n};\n\nproto.setOlSelectionFeatures = function (feature) {\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'add';\n\n  var mapService = _gui2.default.getComponent('map').getService();\n  if (!feature) {\n    Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n      featureObject.added && mapService.setSelectionFeatures('remove', {\n        feature: featureObject.feature\n      });\n      featureObject.added = false;\n    });\n  } else {\n    var featureObject = this.olSelectionFeatures[feature.id] || this.addOlSelectionFeature(feature);\n    if (action === 'add') {\n      if (!featureObject.added) {\n        /**\n         * add a property of feature __layerId used whe we work with selected Layer features\n         */\n        featureObject.feature.__layerId = this.getId();\n        mapService.setSelectionFeatures(action, {\n          feature: featureObject.feature\n        });\n        featureObject.added = true;\n      }\n    } else {\n      mapService.setSelectionFeatures(action, {\n        feature: featureObject.feature\n      });\n      featureObject.added = false;\n    }\n  }\n  return !Object.values(this.olSelectionFeatures).find(function (featureObject) {\n    return featureObject.added;\n  });\n};\n\n/**\n * Create a get parameter url right\n * @param type\n * @private\n */\nproto._sanitizeSourceUrl = function () {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n\n  var sanitizedUrl = sanitizeUrl({\n    url: this.config.source.url,\n    reserverParameters: RESERVERDPARAMETRS[type]\n  });\n  this.config.source.url = sanitizedUrl;\n};\n\nproto.isLayerCheckedAndAllParents = function () {\n  var checked = this.isChecked();\n  if (checked) {\n    var parentGroup = this.state.parentGroup;\n    while (checked && parentGroup) {\n      checked = checked && parentGroup.checked;\n      parentGroup = parentGroup.parentGroup;\n    }\n  }\n  return checked;\n};\n\nproto.setChecked = function (bool) {\n  this.state.checked = bool;\n};\n\nproto.isChecked = function () {\n  return this.state.checked;\n};\n\n/**\n * Is a method that check for visiblitity dissabled (based on scalevisibility) and checked on toc\n * @param bool\n * @returns {*}\n */\nproto.setVisible = function (bool) {\n  //check if is changed\n  var oldVisibile = this.state.visible;\n  this.state.visible = bool && this.isChecked(); // bool and is checked\n  var changed = oldVisibile !== this.state.visible;\n  //if changed call change\n  changed && this.change();\n  return this.state.visible;\n};\n\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.isDisabled = function () {\n  return this.state.disabled;\n};\n\nproto.isPrintable = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      scale = _ref4.scale;\n\n  return this.isLayerCheckedAndAllParents() && (!this.state.scalebasedvisibility || scale >= this.state.maxscale && scale <= this.state.minscale);\n};\n\n//get style form layer\nproto.getStyles = function () {\n  return this.config.source.external ? this.config.source.styles : this.config.styles;\n};\n\nproto.getStyle = function () {\n  return this.config.source.external ? this.config.source.styles : this.config.styles ? this.config.styles.find(function (style) {\n    return style.current;\n  }).name : '';\n};\n\n/**\n * Get transparency property\n * \n * @returns {number}\n * \n * @since v3.8\n */\n\nproto.getOpacity = function () {\n  return this.state.opacity;\n};\n\n/**\n * Method to change current style  of layer\n * @param currentStyleName\n * @returns {boolean}\n */\nproto.setCurrentStyle = function (currentStyleName) {\n  var changed = false;\n  this.config.styles.forEach(function (style) {\n    if (style.name === currentStyleName) changed = !style.current;\n    style.current = style.name === currentStyleName;\n  });\n  return changed;\n};\n\nproto.getCurrentStyle = function () {\n  return this.config.styles.find(function (style) {\n    return style.current;\n  });\n};\n\n/**\n * Disable layer by check scalevisibility configuration value\n * @param resolution\n * @param mapUnits\n */\nproto.setDisabled = function (resolution) {\n  var mapUnits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'm';\n\n  if (this.state.scalebasedvisibility) {\n    var mapScale = getScaleFromResolution(resolution, mapUnits);\n    this.state.disabled = !(mapScale >= this.state.maxscale && mapScale <= this.state.minscale);\n    this.state.disabled = this.state.minscale === 0 ? !(mapScale >= this.state.maxscale) : this.state.disabled;\n    // needed to check if call setVisible if change disable property\n    // looping through parentfolter checked\n    var setVisible = true;\n    var parentGroup = this.state.parentGroup;\n    while (parentGroup) {\n      setVisible = setVisible && parentGroup.checked;\n      parentGroup = parentGroup.parentGroup;\n    }\n    setVisible && this.setVisible(!this.state.disabled);\n    // change toc highlight property based on disabled otr not\n    this.isFilterable() && this.setTocHighlightable(!this.state.disabled);\n  } else this.state.disabled = false;\n};\n\nproto.getMultiLayerId = function () {\n  return this.config.multilayerid;\n};\n\nproto.getGeometryType = function () {\n  return this.config.geometrytype;\n};\n\nproto.getOwsMethod = function () {\n  return this.config.ows_method;\n};\n\nproto.setProjection = function () {\n  var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config.projection = Projections.get(crs);\n};\n\nproto.getProjection = function () {\n  return this.config.projection;\n};\n\nproto.getEpsg = function () {\n  return this.config.crs.epsg;\n};\n\nproto.getCrs = function () {\n  return this.config.projection && this.config.projection.getCode() || null;\n};\n\nproto.getMapCrs = function () {\n  return this.config.map_crs;\n};\n\nproto.isCached = function () {\n  return this.config.cache_url && this.config.cache_url !== '';\n};\n\nproto.getCacheUrl = function () {\n  if (this.isCached()) return this.config.cache_url;\n};\n\n// return if layer has inverted axis\nproto.hasAxisInverted = function () {\n  var projection = this.getProjection();\n  var axisOrientation = projection.getAxisOrientation ? projection.getAxisOrientation() : \"enu\";\n  return axisOrientation.substr(0, 2) === 'ne';\n};\n\nproto.getMapLayer = function () {\n  console.log('overwrite by single layer');\n};\n\nproto.setMapProjection = function (mapProjection) {\n  this._mapProjection = mapProjection;\n};\n\nproto.getMapProjection = function () {\n  return this._mapProjection;\n};\n\nmodule.exports = GeoLayerMixin;\n\n},{\"core/utils/geo\":64,\"core/utils/ol\":65,\"core/utils/utils\":67,\"g3w-ol/projection/projections\":110,\"services/application\":348,\"services/gui\":358}],33:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    mixin = _require.mixin;\n\nvar Layer = require('core/layers/layer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar WMSTLayer = require('core/layers/map/wmstlayer');\nvar ARCGISMAPSERVERLayer = require('core/layers/map/arcgismapserverlayer');\nvar XYZLayer = require('core/layers/map/xyzlayer');\nvar LegendService = require('core/layers/legend/legendservice');\nvar GeoLayerMixin = require('core/layers/geolayermixin');\n\nfunction ImageLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  /*{\n    id,\n    title,\n    name,\n    origname,\n    multilayerid,\n    servertype,\n    source,\n    crs,\n    projection,\n    bbox,\n    capabilities,\n    cache_url,\n    baselayer,\n    geometrytype,\n    editops,\n    expanded,\n    fields,\n    wmsUrl,\n    infoformat,\n    infourl,\n    maxscale,\n    minscale,\n    visible,\n    scalebasedvisibility,\n    wfscapabilities\n    ows_method\n    wms_use_layer_ids,\n    styles\n  }*/\n  this.setters = {\n    change: function change() {}\n  };\n\n  base(this, config, options);\n  this.config.baselayer = config.baselayer || false;\n  this.type = Layer.LayerTypes.IMAGE;\n  this.legendUrl = null;\n  this.customParams = {};\n  this.setup(config, options);\n}\n\ninherit(ImageLayer, Layer);\n\nmixin(ImageLayer, GeoLayerMixin);\n\nvar proto = ImageLayer.prototype;\n\nproto.getLayerForEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$force = _ref2.force,\n      force = _ref2$force === undefined ? false : _ref2$force,\n      vectorurl = _ref2.vectorurl,\n      project_type = _ref2.project_type,\n      project = _ref2.project;\n\n  var _project, editableLayer, editingLayer;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!(this.isEditable() || force)) {\n            _context.next = 16;\n            break;\n          }\n\n          _project = _project || _projects2.default.getCurrentProject();\n          editableLayer = new VectorLayer(this.config, {\n            vectorurl: vectorurl,\n            project_type: project_type,\n            project: _project\n          });\n          // set editing layer\n\n          _context.prev = 3;\n          _context.next = 6;\n          return editableLayer.layerForEditing;\n\n        case 6:\n          editingLayer = _context.sent;\n\n          this.setEditingLayer(editingLayer);\n          return _context.abrupt('return', editingLayer);\n\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context['catch'](3);\n          return _context.abrupt('return', Promise.reject(_context.t0));\n\n        case 14:\n          _context.next = 17;\n          break;\n\n        case 16:\n          return _context.abrupt('return', null);\n\n        case 17:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[3, 11]]);\n}));\n\nproto.isBaseLayer = function () {\n  return this.config.baselayer;\n};\n\nproto.isWMS = function () {\n  return ImageLayer.WMSServerTypes.indexOf(this.config.servertype) > -1;\n};\n\nproto.isLayerProjectionASMapProjection = function () {\n  return this.config.crs.epsg === this.config.map_crs;\n};\n\nproto.getCrs = function () {\n  return this.config.crs.epsg;\n};\n\nproto.isExternalWMS = function () {\n  return !!(this.config.source && this.config.source.external && this.config.source.url);\n};\n\nproto.isArcgisMapserver = function () {\n  return this.isExternalWMS() && this.config.source.type === Layer.SourceTypes.ARCGISMAPSERVER;\n};\n\nproto._getBaseLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.getWMSLayerName = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'map' : _ref3$type;\n\n  var legendMapBoolean = type === 'map' ? this.isExternalWMS() && this.isLayerProjectionASMapProjection() : true;\n  var layerName = this._getBaseLayerName();\n  if (legendMapBoolean && this.config.source && (type === 'legend' || this.config.source.external) && (this.config.source.layers || this.config.source.layer)) {\n    layerName = this.config.source.layers || this.config.source.layer;\n  }\n  return layerName;\n};\n\n// values: map, legend\nproto.getWmsUrl = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$type = _ref4.type,\n      type = _ref4$type === undefined ? 'map' : _ref4$type;\n\n  var legendMapBoolean = type === 'map' ? this.isExternalWMS() && this.isLayerProjectionASMapProjection() : true;\n  var wmsUrl = legendMapBoolean && this.config.source && (type === 'legend' || this.config.source.external) && (this.config.source.type === 'wms' || this.config.source.type === 'wmst') && this.config.source.url ? this.config.source.url : this.config.wmsUrl;\n  return wmsUrl;\n};\n\nproto.getWFSLayerName = function () {\n  return this.getQueryLayerName().replace(/[/\\s]/g, '_');\n};\n\nproto.useProxy = function () {\n  return this.isExternalWMS() && this.isLayerProjectionASMapProjection() && this.getInfoFormats();\n};\n\nproto.getWMSInfoLayerName = function () {\n  if (this.isExternalWMS() && this.isLayerProjectionASMapProjection() && this.getInfoFormats()) {\n    return this.getSource().layers;\n  } else return this._getBaseLayerName();\n};\n\nproto.getPrintLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.getStringBBox = function () {\n  var bbox = this.config.bbox;\n  return bbox.minx + ',' + bbox.miny + ',' + bbox.maxx + ',' + bbox.maxy;\n};\n\nproto.isWfsActive = function () {\n  return Array.isArray(this.config.ows) && this.config.ows.find(function (ows_type) {\n    return ows_type === 'WFS';\n  }) !== undefined;\n};\n\n/**\n * Metyhod to get wms url of the layer\n * @returns {*}\n */\nproto.getFullWmsUrl = function () {\n  var metadata_wms_url = _projects2.default.getCurrentProject().getState().metadata.wms_url;\n  return this.isExternalWMS() || !metadata_wms_url ? this.getWmsUrl() : metadata_wms_url;\n};\n\n//used to Catalog layer menu to show wms url\nproto.getCatalogWmsUrl = function () {\n  var metadata_wms_url = _projects2.default.getCurrentProject().getMetadata().wms_url;\n  var catalogWmsUrl = this.isExternalWMS() || !metadata_wms_url ? this.getWmsUrl() + '?service=WMS&version=1.3.0&request=GetCapabilities' : metadata_wms_url;\n  return catalogWmsUrl;\n};\n\n//used to Catalog layer menu to show wfs url\nproto.getCatalogWfsUrl = function () {\n  return this.getWfsUrl() + '?service=WFS&version=1.1.0&request=GetCapabilities';\n};\n\nproto.getWfsUrl = function () {\n  return _projects2.default.getCurrentProject().getMetadata().wms_url || this.config.wmsUrl;\n};\n\n/**\n * Get query url based on type, external or same projection of map\n * @returns {string}\n */\nproto.getQueryUrl = function () {\n  var url = base(this, 'getQueryUrl');\n  if (this.getServerType() === Layer.ServerTypes.QGIS && this.isExternalWMS() && this.isLayerProjectionASMapProjection()) {\n    if (this.getInfoFormats()) url = this.getSource().url;else url = url + 'SOURCE=' + this.config.source.type;\n  }\n  return url;\n};\n\nproto.getIconUrlFromLegend = function () {\n  return this.getLegendUrl({\n    layertitle: false\n  });\n};\n\nproto.getLegendUrl = function () {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.legendUrl = LegendService.get({\n    layer: this,\n    params: _extends({}, params, this.customParams),\n    options: options\n  });\n  return this.legendUrl;\n};\n\nproto.setMapParamstoLegendUrl = function (_ref5) {\n  var bbox = _ref5.bbox,\n      crs = _ref5.crs;\n\n  this.customParams = _extends({}, this.customParams, {\n    bbox: bbox,\n    crs: crs\n  });\n};\n\nproto.getWfsCapabilities = function () {\n  return this.config.wfscapabilities || this.config.capabilities === 1;\n};\n\nproto.getMapLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments[1];\n\n  var iframe_internal = _application2.default.isIframe() && !this.isExternalWMS();\n  options.iframe_internal = iframe_internal;\n  var mapLayer = void 0;\n  var method = this.isExternalWMS() ? 'GET' : this.getOwsMethod();\n  if (this.isCached()) {\n    options.extent = this.config.bbox ? [this.config.bbox.minx, this.config.bbox.miny, this.config.bbox.maxx, this.config.bbox.maxy] : null;\n    mapLayer = new XYZLayer(options, method);\n  } else {\n    if (this.isExternalWMS() && this.config.source && this.config.source.type === Layer.SourceTypes.ARCGISMAPSERVER) {\n      options = _extends({}, options, this.config.source);\n      mapLayer = new ARCGISMAPSERVERLayer(options, extraParams);\n    } else {\n      options.url = options.url || this.getWmsUrl();\n      /** check in case WMST Layer\n       *\n       */\n      if (this.isExternalWMS() && this.config.source && this.config.source.type === Layer.SourceTypes.WMST) mapLayer = new WMSTLayer(options, extraParams, method);else mapLayer = new WMSLayer(options, extraParams, method);\n    }\n  }\n  return mapLayer;\n};\n\nImageLayer.WMSServerTypes = [Layer.ServerTypes.QGIS, Layer.ServerTypes.Mapserver, Layer.ServerTypes.Geoserver, Layer.ServerTypes.OGC];\n\nmodule.exports = ImageLayer;\n\n},{\"core/layers/geolayermixin\":32,\"core/layers/layer\":34,\"core/layers/legend/legendservice\":39,\"core/layers/map/arcgismapserverlayer\":41,\"core/layers/map/wmslayer\":45,\"core/layers/map/wmstlayer\":46,\"core/layers/map/xyzlayer\":47,\"core/layers/vectorlayer\":57,\"core/utils/utils\":67,\"services/application\":348,\"store/projects\":376}],34:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('app/constant');\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    inherit = _require2.inherit,\n    base = _require2.base,\n    XHR = _require2.XHR;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require3 = require('core/utils/geo'),\n    geometryFields = _require3.geometryFields,\n    parseAttributes = _require3.parseAttributes;\n\nvar Relations = require('core/relations/relations');\nvar ProviderFactory = require('core/layers/providers/providersfactory');\n\n// Base Class of all Layer\nfunction Layer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\n  this.config = config;\n\n  // assign some attribute\n  config.id = config.id || 'Layer';\n  config.title = config.title || config.name;\n  config.download = !!config.download;\n  config.geolayer = false;\n  config.baselayer = !!config.baselayer;\n  config.fields = config.fields || {};\n  config.urls = _extends({\n    query: config.infourl && '' !== config.infourl ? config.infourl : config.wmsUrl\n  }, config.urls || {});\n\n  var _options$project = options.project,\n      project = _options$project === undefined ? _projects2.default.getCurrentProject() : _options$project;\n\n\n  this.config.search_endpoint = project.getSearchEndPoint();\n\n  // create relations\n  this._relations = this._createRelations(project.getRelations());\n\n  // set URLs to get varios type of data\n  if (!this.isBaseLayer()) {\n    var suffixUrl = project.getType() + '/' + project.getId() + '/' + config.id + '/';\n    var vectorUrl = project.getVectorUrl();\n    var rasterUrl = project.getRasterUrl();\n\n    this.config.urls.filtertoken = vectorUrl + 'filtertoken/' + suffixUrl;\n    this.config.urls.data = vectorUrl + 'data/' + suffixUrl;\n    this.config.urls.shp = vectorUrl + 'shp/' + suffixUrl;\n    this.config.urls.csv = vectorUrl + 'csv/' + suffixUrl;\n    this.config.urls.xls = vectorUrl + 'xls/' + suffixUrl;\n    this.config.urls.gpx = vectorUrl + 'gpx/' + suffixUrl;\n    this.config.urls.gpkg = vectorUrl + 'gpkg/' + suffixUrl;\n    this.config.urls.geotiff = rasterUrl + 'geotiff/' + suffixUrl;\n    this.config.urls.editing = vectorUrl + 'editing/' + suffixUrl;\n    this.config.urls.commit = vectorUrl + 'commit/' + suffixUrl;\n    this.config.urls.config = vectorUrl + 'config/' + suffixUrl;\n    this.config.urls.unlock = vectorUrl + 'unlock/' + suffixUrl;\n    this.config.urls.widget = {\n      unique: vectorUrl + 'widget/unique/data/' + suffixUrl\n    };\n\n    /**\n     * @since 3.8.0\n     */\n    this.config.urls.featurecount = project.getUrl('featurecount');\n\n    /**\n     * Custom parameters based on project qgis version\n     */\n    this.config.searchParams = { I: 0, J: 0 };\n  }\n\n  // dinamic layer values useful for layerstree\n  var defaultstyle = config.styles && config.styles.find(function (style) {\n    return style.current;\n  }).name;\n\n  this.state = {\n\n    id: config.id,\n\n    title: config.title,\n\n    selected: config.selected || false,\n\n    disabled: config.disabled || false,\n\n    metadata: config.metadata,\n\n    metadata_querable: this.isBaseLayer() ? false : this.isQueryable({ onMap: false }),\n\n    openattributetable: this.isBaseLayer() ? false : this.canShowTable(),\n\n    removable: config.removable || false,\n\n    downloadable: this.isDownloadable(),\n\n    source: config.source,\n\n    styles: config.styles,\n\n    defaultstyle: defaultstyle,\n\n    inediting: false, // state of if is in editing (setted by editing plugin )\n\n    infoformat: this.getInfoFormat(),\n\n    infoformats: this.config.infoformats || [],\n\n    projectLayer: true,\n\n    geolayer: false,\n\n    selection: {\n      active: false\n    },\n\n    filter: {\n      active: false\n    },\n\n    attributetable: {\n      pageLength: null\n    },\n\n    visible: config.visible || false,\n\n    tochighlightable: false,\n\n    /**\n     * @type {number}\n     * \n     * @since 3.8.0\n     */\n    featurecount: config.featurecount,\n\n    /**\n     * @FIXME add type tag\n     * \n     * @since 3.8.0\n     */\n    stylesfeaturecount: config.featurecount && defaultstyle && _defineProperty({}, defaultstyle, config.featurecount)\n\n  };\n\n  // add selectionFids\n  this.selectionFids = new Set();\n\n  // referred to (layersstore);\n  this._layersstore = config.layersstore || null;\n\n  /*\n    Providers that layer can use\n     Three type of provider:\n      1 - query\n      2 - filter\n      3 - data -- raw data del layer (editing)\n   */\n  var serverType = this.config.servertype;\n  var sourceType = this.config.source ? this.config.source.type : null; // NB: sourceType = source of layer\n\n  if (serverType && sourceType) {\n    this.providers = {\n      query: ProviderFactory.build('query', serverType, sourceType, { layer: this }),\n      filter: ProviderFactory.build('filter', serverType, sourceType, { layer: this }),\n      filtertoken: ProviderFactory.build('filtertoken', serverType, sourceType, { layer: this }),\n      search: ProviderFactory.build('search', serverType, sourceType, { layer: this }),\n      data: ProviderFactory.build('data', serverType, sourceType, { layer: this })\n    };\n  }\n\n  /**\n   * Store last proxy params (useful for repeat request info formats for wms external layer)\n   */\n  this.proxyData = {\n    wms: null // at the moment only wms data from server\n  };\n\n  base(this);\n}\n\ninherit(Layer, G3WObject);\n\nvar proto = Layer.prototype;\n\n/**\n * Proxyparams\n */\nproto.getProxyData = function (type) {\n  return type ? this.proxyData[type] : this.proxyData;\n};\n\nproto.setProxyData = function (type) {\n  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.proxyData[type] = data;\n};\n\nproto.clearProxyData = function (type) {\n  this.proxyData[type] = null;\n};\n\nproto.getDataProxyFromServer = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n  var proxyParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _ref3, response, data;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _data2.default.getData('proxy:' + type, {\n            inputs: proxyParams,\n            outputs: false\n          });\n\n        case 3:\n          _ref3 = _context.sent;\n          response = _ref3.response;\n          data = _ref3.data;\n\n          this.setProxyData(type, JSON.parse(data));\n          return _context.abrupt('return', response);\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context['catch'](0);\n          return _context.abrupt('return');\n\n        case 13:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[0, 10]]);\n}));\n\nproto.changeProxyDataAndReloadFromServer = function () {\n  var _this = this;\n\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n  var changes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  Object.keys(changes).forEach(function (changeParam) {\n    Object.keys(changes[changeParam]).forEach(function (param) {\n      _this.proxyData[type][changeParam][param] = changes[changeParam][param];\n    });\n  });\n  return this.getDataProxyFromServer(type, this.proxyData[type]);\n};\n\n/**\n * editing method used by plugin\n */\n\nproto.isInEditing = function () {\n  return this.state.inediting;\n};\n\nproto.setInEditing = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.inediting = bool;\n};\n\n/**\n * end proxy params\n */\n\nproto.getSearchParams = function () {\n  return this.config.searchParams;\n};\n\n/**\n *\n * @returns {*}\n */\nproto.getSearchEndPoint = function () {\n  return this.getType() !== Layer.LayerTypes.TABLE ? this.config.search_endpoint : \"api\";\n};\n\n//relations\nproto._createRelations = function (projectRelations) {\n  var layerId = this.getId();\n  return new Relations({\n    relations: projectRelations.filter(function (relation) {\n      return -1 !== [relation.referencedLayer, relation.referencingLayer].indexOf(layerId);\n    })\n  });\n};\n\n// return relations of layer\nproto.getRelations = function () {\n  return this._relations;\n};\n\nproto.getRelationById = function (id) {\n  return this._relations.getArray().find(function (relation) {\n    return relation.getId() === id;\n  });\n};\n\nproto.getRelationAttributes = function (relationName) {\n  var relation = this._relations.find(function (relation) {\n    return relation.name === relationName;\n  });\n  return relation ? relation.fields : [];\n};\n\nproto.getRelationsAttributes = function () {\n  var fields = {};\n  this.state.relations.forEach(function (relation) {\n    return fields[relation.name] = relation.fields;\n  });\n  return fields;\n};\n\nproto.isChild = function () {\n  return this.getRelations() ? this._relations.isChild(this.getId()) : false;\n};\n\nproto.isFather = function () {\n  return this.getRelations() ? this._relations.isFather(this.getId()) : false;\n};\n\nproto.getChildren = function () {\n  return this.isFather() ? this._relations.getChildren(this.getId()) : [];\n};\n\nproto.getFathers = function () {\n  return this.isChild() ? this._relations.getFathers(this.getId()) : [];\n};\n\nproto.hasChildren = function () {\n  return this.hasRelations() ? this._relations.hasChildren(this.getId()) : false;\n};\n\nproto.hasFathers = function () {\n  return this.hasRelations() ? this._relations.hasFathers(this.getId()) : false;\n};\n\nproto.hasRelations = function () {\n  return !!this._relations;\n};\n//end relations\n\n\n// global state\nproto.setAttributeTablePageLength = function (pageLength) {\n  this.state.attributetable.pageLength = pageLength;\n};\n\nproto.getAttributeTablePageLength = function () {\n  return this.state.attributetable.pageLength;\n};\n\n// end global state\n\n//filter token\nproto.setFilter = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.filter.active = bool;\n};\n\nproto.getFilterActive = function () {\n  return this.state.filter.active;\n};\n\nproto.toggleFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          this.state.filter.active = !this.state.filter.active;\n          _context2.next = 3;\n          return this.activeFilterToken(this.state.filter.active);\n\n        case 3:\n          return _context2.abrupt('return', this.state.filter.active);\n\n        case 4:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\nproto.activeFilterToken = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(bool) {\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return bool;\n\n          case 2:\n            if (!_context3.sent) {\n              _context3.next = 6;\n              break;\n            }\n\n            this.createFilterToken();\n            _context3.next = 7;\n            break;\n\n          case 6:\n            this.deleteFilterToken();\n\n          case 7:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function (_x10) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * @fires filtertokenchange\n */\nproto.deleteFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n  return regeneratorRuntime.wrap(function _callee4$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.prev = 0;\n\n          if (this.providers['filtertoken']) {\n            _context4.next = 3;\n            break;\n          }\n\n          return _context4.abrupt('return');\n\n        case 3:\n          _context4.next = 5;\n          return this.providers['filtertoken'].deleteFilterToken();\n\n        case 5:\n          _application2.default.setFilterToken(null);\n          this.emit('filtertokenchange', { layerId: this.getId() });\n          _context4.next = 12;\n          break;\n\n        case 9:\n          _context4.prev = 9;\n          _context4.t0 = _context4['catch'](0);\n\n          console.log('Error deleteing filtertoken');\n\n        case 12:\n        case 'end':\n          return _context4.stop();\n      }\n    }\n  }, _callee4, this, [[0, 9]]);\n}));\n\n/**\n * @fires filtertokenchange\n */\nproto.createFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n  var filtertoken, params;\n  return regeneratorRuntime.wrap(function _callee5$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          filtertoken = null;\n          _context5.prev = 1;\n\n          if (!(!this.providers['filtertoken'] || !this.selectionFids.size > 0)) {\n            _context5.next = 4;\n            break;\n          }\n\n          return _context5.abrupt('return');\n\n        case 4:\n          if (!this.selectionFids.has(Layer.SELECTION_STATE.ALL)) {\n            _context5.next = 9;\n            break;\n          }\n\n          _context5.next = 7;\n          return this.providers['filtertoken'].deleteFilterToken();\n\n        case 7:\n          _context5.next = 14;\n          break;\n\n        case 9:\n          params = {};\n\n          if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) {\n            params.fidsout = Array.from(this.selectionFids).filter(function (id) {\n              return id !== Layer.SELECTION_STATE.EXCLUDE;\n            }).join(',');\n          } else {\n            params.fidsin = Array.from(this.selectionFids).join(',');\n          }\n          _context5.next = 13;\n          return this.providers['filtertoken'].getFilterToken(params);\n\n        case 13:\n          filtertoken = _context5.sent;\n\n        case 14:\n          _application2.default.setFilterToken(filtertoken);\n          this.emit('filtertokenchange', { layerId: this.getId() });\n          _context5.next = 21;\n          break;\n\n        case 18:\n          _context5.prev = 18;\n          _context5.t0 = _context5['catch'](1);\n\n          console.log('Error create update token');\n\n        case 21:\n        case 'end':\n          return _context5.stop();\n      }\n    }\n  }, _callee5, this, [[1, 18]]);\n}));\n// end filter token\n//selection Ids layer methods\n\nproto.setSelectionFidsAll = function () {\n  this.selectionFids.clear();\n  this.selectionFids.add(Layer.SELECTION_STATE.ALL);\n  this.isGeoLayer() && this.showAllOlSelectionFeatures();\n  this.setSelection(true);\n  this.state.filter.active && this.createFilterToken();\n};\n\nproto.getSelectionFids = function () {\n  return this.selectionFids;\n};\n\nproto.invertSelectionFids = function () {\n  if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) this.selectionFids.delete(Layer.SELECTION_STATE.EXCLUDE);else if (this.selectionFids.has(Layer.SELECTION_STATE.ALL)) this.selectionFids.delete(Layer.SELECTION_STATE.ALL);else if (this.selectionFids.size > 0) this.selectionFids.add(Layer.SELECTION_STATE.EXCLUDE);\n  if (this.isGeoLayer()) this.setInversionOlSelectionFeatures();\n  if (this.state.filter.active) this.createFilterToken();\n  this.setSelection(this.selectionFids.size > 0);\n};\n\nproto.hasSelectionFid = function (fid) {\n  if (this.selectionFids.has(Layer.SELECTION_STATE.ALL)) return true;else if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) return !this.selectionFids.has(fid);else return this.selectionFids.has(fid);\n};\n\nproto.includeSelectionFid = function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(fid) {\n    var createToken = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var GIVE_ME_A_NAME;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            GIVE_ME_A_NAME = this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE) && this.selectionFids.has(fid);\n\n\n            if (GIVE_ME_A_NAME) {\n              this.selectionFids.delete(fid);\n            }\n\n            if (GIVE_ME_A_NAME && 1 === this.selectionFids.size) {\n              this.setSelectionFidsAll();\n            }\n\n            if (!GIVE_ME_A_NAME) {\n              this.selectionFids.add(fid);\n            }\n\n            if (!GIVE_ME_A_NAME && !this.isSelectionActive()) {\n              this.setSelection(true);\n            }\n\n            if (this.isGeoLayer()) {\n              this.setOlSelectionFeatureByFid(fid, 'add');\n            }\n\n            if (!(createToken && this.state.filter.active)) {\n              _context6.next = 9;\n              break;\n            }\n\n            _context6.next = 9;\n            return this.createFilterToken();\n\n          case 9:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  return function (_x12) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nproto.includeSelectionFids = function () {\n  var _this2 = this;\n\n  var fids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fids.forEach(function (fid) {\n    return _this2.includeSelectionFid(fid);\n  });\n};\n\nproto.excludeSelectionFid = function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(fid) {\n    var isLastFeatureSelected;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n\n            if (this.selectionFids.has(Layer.SELECTION_STATE.ALL) || this.selectionFids.size === 0) {\n              this.selectionFids.clear();\n              this.selectionFids.add(Layer.SELECTION_STATE.EXCLUDE);\n            }\n\n            this.selectionFids[this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE) ? 'add' : 'delete'](fid);\n\n            if (1 === this.selectionFids.size && this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) {\n              this.setselectionFidsAll();\n            }\n\n            isLastFeatureSelected = this.isGeoLayer() && this.setOlSelectionFeatureByFid(fid, 'remove');\n            _context7.t0 = this.state.filter.active;\n\n            if (!_context7.t0) {\n              _context7.next = 8;\n              break;\n            }\n\n            _context7.next = 8;\n            return this.createFilterToken();\n\n          case 8:\n\n            if (0 === this.selectionFids.size || isLastFeatureSelected) {\n              this.selectionFids.clear();\n              this.setSelection(false);\n            }\n\n          case 9:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  return function (_x14) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\nproto.excludeSelectionFids = function () {\n  var _this3 = this;\n\n  var fids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fids.forEach(function (fid) {\n    return _this3.excludeSelectionFid(fid);\n  });\n};\n\nproto.clearSelectionFids = function () {\n  this.selectionFids.clear();\n  this.isGeoLayer() && this.setOlSelectionFeatures();\n  this.setSelection(false);\n};\n// end selection ids methods\n\nproto.getWMSLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.isWmsUseLayerIds = function () {\n  return this.config.wms_use_layer_ids;\n};\n\nproto.getFilterToken = function () {\n  return _application2.default.getFilterToken();\n};\n\n/**\n *\n * DOWNLOAD METHODS\n */\n\n/** \n * @returns promise\n */\nproto.getDownloadFilefromDownloadDataType = function (type, _ref10) {\n  var _ref10$data = _ref10.data,\n      data = _ref10$data === undefined ? {} : _ref10$data,\n      options = _ref10.options;\n\n  data.filtertoken = this.getFilterToken();\n  switch (type) {\n    case 'shapefile':\n      return this.getShp({ data: data, options: options });\n    case 'xls':\n      return this.getXls({ data: data, options: options });\n    case 'csv':\n      return this.getCsv({ data: data, options: options });\n    case 'gpx':\n      return this.getGpx({ data: data, options: options });\n    case 'gpkg':\n      return this.getGpkg({ data: data, options: options });\n    case 'geotiff':\n      return this.getGeoTIFF({ data: data, options: options });\n  }\n};\n\nproto.getGeoTIFF = function () {\n  var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref11$data = _ref11.data,\n      data = _ref11$data === undefined ? {} : _ref11$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('geotiff'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getXls = function () {\n  var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref12$data = _ref12.data,\n      data = _ref12$data === undefined ? {} : _ref12$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('xls'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getShp = function () {\n  var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref13$data = _ref13.data,\n      data = _ref13$data === undefined ? {} : _ref13$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('shp'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getGpx = function () {\n  var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref14$data = _ref14.data,\n      data = _ref14$data === undefined ? {} : _ref14$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('gpx'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getGpkg = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref15$data = _ref15.data,\n      data = _ref15$data === undefined ? {} : _ref15$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('gpkg'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getCsv = function () {\n  var _ref16 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref16$data = _ref16.data,\n      data = _ref16$data === undefined ? {} : _ref16$data;\n\n  data.filtertoken = this.getFilterToken();\n  return XHR.fileDownload({\n    url: this.getUrl('csv'),\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getSourceType = function () {\n  return this.config.source ? this.config.source.type : null;\n};\n\nproto.isGeoLayer = function () {\n  return this.state.geolayer;\n};\n\nproto.getDataTable = function () {\n  var _this4 = this;\n\n  var _ref17 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref17$page = _ref17.page,\n      page = _ref17$page === undefined ? null : _ref17$page,\n      _ref17$page_size = _ref17.page_size,\n      page_size = _ref17$page_size === undefined ? null : _ref17$page_size,\n      _ref17$ordering = _ref17.ordering,\n      ordering = _ref17$ordering === undefined ? null : _ref17$ordering,\n      _ref17$search = _ref17.search,\n      search = _ref17$search === undefined ? null : _ref17$search,\n      field = _ref17.field,\n      _ref17$suggest = _ref17.suggest,\n      suggest = _ref17$suggest === undefined ? null : _ref17$suggest,\n      _ref17$formatter = _ref17.formatter,\n      formatter = _ref17$formatter === undefined ? 0 : _ref17$formatter,\n      in_bbox = _ref17.in_bbox,\n      _ref17$custom_params = _ref17.custom_params,\n      custom_params = _ref17$custom_params === undefined ? {} : _ref17$custom_params;\n\n  var d = $.Deferred();\n  var provider = void 0;\n  var params = _extends({}, custom_params, {\n    field: field,\n    page: page,\n    page_size: page_size,\n    ordering: ordering,\n    search: search,\n    formatter: formatter,\n    suggest: suggest,\n    in_bbox: in_bbox,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n  if (!(this.getProvider('filter') || this.getProvider('data'))) {\n    d.reject();\n  } else {\n    provider = this.getProvider('data');\n    provider.getFeatures({ editing: false }, params).done(function (response) {\n      var features = response.data.features && response.data.features || [];\n      d.resolve({\n        headers: parseAttributes(_this4.getAttributes(), features.length ? features[0].properties : []),\n        features: features,\n        title: _this4.getTitle(),\n        count: response.count\n      });\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\n/**\n * Search layer feature by fids\n * @param fids formatter\n */\nproto.getFeatureByFids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8() {\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref19$fids = _ref19.fids,\n      fids = _ref19$fids === undefined ? [] : _ref19$fids,\n      _ref19$formatter = _ref19.formatter,\n      formatter = _ref19$formatter === undefined ? 0 : _ref19$formatter;\n\n  var url, features, response;\n  return regeneratorRuntime.wrap(function _callee8$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          url = this.getUrl('data');\n          features = void 0;\n          _context8.prev = 2;\n          _context8.next = 5;\n          return XHR.get({\n            url: url,\n            params: {\n              fids: fids.toString(),\n              formatter: formatter\n            }\n          });\n\n        case 5:\n          response = _context8.sent;\n\n          features = response && response.result && response.vector && response.vector.data && response.vector.data.features;\n          _context8.next = 11;\n          break;\n\n        case 9:\n          _context8.prev = 9;\n          _context8.t0 = _context8['catch'](2);\n\n        case 11:\n          return _context8.abrupt('return', features);\n\n        case 12:\n        case 'end':\n          return _context8.stop();\n      }\n    }\n  }, _callee8, this, [[2, 9]]);\n}));\n\n//search Features methods\nproto.searchFeatures = function () {\n  var _this5 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$search_endpo = options.search_endpoint,\n      search_endpoint = _options$search_endpo === undefined ? this.config.search_endpoint : _options$search_endpo;\n\n  return new Promise(function () {\n    var _ref20 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9(resolve, reject) {\n      var _options$raw, raw, field, _options$suggest, suggest, unique, queryUrl, ordering;\n\n      return regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.t0 = search_endpoint;\n              _context9.next = _context9.t0 === 'ows' ? 3 : _context9.t0 === 'api' ? 5 : 18;\n              break;\n\n            case 3:\n              _this5.search(options, params).then(function (results) {\n                resolve({ data: results });\n              }).fail(function (error) {\n                return reject(error);\n              });\n              return _context9.abrupt('break', 18);\n\n            case 5:\n              _options$raw = options.raw, raw = _options$raw === undefined ? false : _options$raw, field = options.filter, _options$suggest = options.suggest, suggest = _options$suggest === undefined ? {} : _options$suggest, unique = options.unique, queryUrl = options.queryUrl, ordering = options.ordering;\n              _context9.prev = 6;\n              _context9.t1 = resolve;\n              _context9.next = 10;\n              return _this5.getFilterData({ queryUrl: queryUrl, raw: raw, field: field, ordering: ordering, suggest: suggest, unique: unique });\n\n            case 10:\n              _context9.t2 = _context9.sent;\n              (0, _context9.t1)(_context9.t2);\n              _context9.next = 17;\n              break;\n\n            case 14:\n              _context9.prev = 14;\n              _context9.t3 = _context9['catch'](6);\n\n              reject(_context9.t3);\n\n            case 17:\n              return _context9.abrupt('break', 18);\n\n            case 18:\n            case 'end':\n              return _context9.stop();\n          }\n        }\n      }, _callee9, _this5, [[6, 14]]);\n    }));\n\n    return function (_x26, _x27) {\n      return _ref20.apply(this, arguments);\n    };\n  }());\n};\n\n/*\n* getFilterData is a function to get data feature based on fields and suggets\n* params:\n* - suggest (mandatory): object with key is a field of layer and value is value of the field to filter\n* - fields: Array of object with type of suggest (see above)\n* */\nproto.getFilterData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee10() {\n  var _ref22 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref22.field,\n      _ref22$raw = _ref22.raw,\n      raw = _ref22$raw === undefined ? false : _ref22$raw,\n      _ref22$suggest = _ref22.suggest,\n      suggest = _ref22$suggest === undefined ? {} : _ref22$suggest,\n      unique = _ref22.unique,\n      _ref22$formatter = _ref22.formatter,\n      formatter = _ref22$formatter === undefined ? 1 : _ref22$formatter,\n      queryUrl = _ref22.queryUrl,\n      ordering = _ref22.ordering;\n\n  return regeneratorRuntime.wrap(function _callee10$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return this.getProvider('data').getFilterData({\n            queryUrl: queryUrl,\n            field: field,\n            raw: raw,\n            ordering: ordering,\n            suggest: suggest,\n            formatter: formatter,\n            unique: unique\n          });\n\n        case 2:\n          return _context10.abrupt('return', _context10.sent);\n\n        case 3:\n        case 'end':\n          return _context10.stop();\n      }\n    }\n  }, _callee10, this);\n}));\n\n/**\n * search method \n */\nproto.search = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // check option feature_count\n  options.feature_count = options.feature_count || 10;\n  options = _extends({}, options, this.config.searchParams, params);\n  var d = $.Deferred();\n  var provider = this.getProvider('search');\n  if (provider) {\n    provider.query(options).done(function (response) {\n      return d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else {\n    d.reject(t('sdk.search.layer_not_searchable'));\n  }\n  return d.promise();\n};\n\n/**\n * Info from layer (only for querable layers) \n */\nproto.query = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var provider = this.getProvider(options.filter ? 'filter' : 'query');\n  if (provider) {\n    provider.query(options).done(function (response) {\n      return d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else {\n    d.reject(t('sdk.search.layer_not_querable'));\n  }\n  return d.promise();\n};\n\n/**\n * General way to get an attribute \n */\nproto.get = function (property) {\n  return this.config[property] ? this.config[property] : this.state[property];\n};\n\nproto.getFields = function () {\n  return this.config.fields;\n};\n\n/**\n * Get field by name\n * \n * @param fieldName\n * @returns {*}\n */\nproto.getFieldByName = function (fieldName) {\n  return this.getFields().find(function (field) {\n    return field.name === fieldName;\n  });\n};\n\nproto.getEditingFields = function () {\n  return this.config.editing.fields;\n};\n\n/**\n * Return only show fields\n * \n * @returns {T[]}\n */\nproto.getTableFields = function () {\n  return (this.config.fields || []).filter(function (field) {\n    return field.show;\n  });\n};\n\nproto.getTableHeaders = function () {\n  return this.getTableFields().filter(function (field) {\n    return -1 === geometryFields.indexOf(field.name);\n  });\n};\n\nproto.getProject = function () {\n  return this.config.project;\n};\n\nproto.getConfig = function () {\n  return this.config;\n};\n\n/**\n * Get form structure to show on form editing\n * \n * @param fields\n * @returns {[]}\n */\nproto.getLayerEditingFormStructure = function (fields) {\n  return this.config.editor_form_structure;\n};\n\n/**\n * Duplicated beacuase we had to check if it\n * is used by some plugins to avoid to break\n * backward compatibility\n */\nproto.getEditorFormStructure = function () {\n  return this.getLayerEditingFormStructure();\n};\n\nproto.getFieldsOutOfFormStructure = function () {\n  return this.config.editor_form_structure ? this.config.editor_form_structure.filter(function (structure) {\n    return structure.field_name;\n  }) : [];\n};\n\nproto.hasFormStructure = function () {\n  return !!this.config.editor_form_structure;\n};\n\n/**\n * Get custom style (for future implementation) \n */\nproto.getCustomStyle = function () {\n  return this.config.customstyle;\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getSource = function () {\n  return this.state.source;\n};\n\nproto.isDownloadable = function () {\n  return this.isShpDownlodable() || this.isXlsDownlodable() || this.isGpxDownlodable() || this.isGpkgDownlodable() || this.isCsvDownlodable();\n};\n\nproto.getDownloadableFormats = function () {\n  var _this6 = this;\n\n  return Object.keys(_constant.DOWNLOAD_FORMATS).filter(function (download_format) {\n    return _this6.config[download_format];\n  }).map(function (format) {\n    return _constant.DOWNLOAD_FORMATS[format].format;\n  });\n};\n\nproto.getDownloadUrl = function (format) {\n  var find = Object.values(_constant.DOWNLOAD_FORMATS).find(function (download_format) {\n    return download_format.format === format;\n  });\n  return find && find.url;\n};\n\nproto.isGeoTIFFDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download && 'gdal' === this.config.source.type;\n};\n\nproto.isShpDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download && 'gdal' !== this.config.source.type;\n};\n\nproto.isXlsDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_xls;\n};\n\nproto.isGpxDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_gpx;\n};\n\nproto.isGpkgDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_gpkg;\n};\n\nproto.isCsvDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_csv;\n};\n\nproto.getEditingLayer = function () {\n  return this._editingLayer;\n};\n\nproto.setEditingLayer = function (editingLayer) {\n  this._editingLayer = editingLayer;\n};\n\nproto.isHidden = function () {\n  return this.state.hidden;\n};\n\nproto.setHidden = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.hidden = bool;\n};\n\nproto.isModified = function () {\n  return this.state.modified;\n};\n\nproto.getId = function () {\n  return this.config.id;\n};\n\nproto.getMetadata = function () {\n  return this.state.metadata;\n};\n\nproto.getTitle = function () {\n  return this.config.title;\n};\n\nproto.getName = function () {\n  return this.config.name;\n};\n\nproto.getOrigName = function () {\n  return this.config.origname;\n};\n\nproto.getServerType = function () {\n  return this.config.servertype && this.config.servertype !== '' ? this.config.servertype : ServerTypes.QGIS;\n};\n\nproto.getType = function () {\n  return this.type;\n};\n\nproto.isType = function (type) {\n  return this.getType() === type;\n};\n\nproto.setType = function (type) {\n  this.type = type;\n};\n\nproto.isSelected = function () {\n  return this.state.selected;\n};\n\nproto.setSelected = function (bool) {\n  this.state.selected = bool;\n};\n\nproto.setSelection = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee11() {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return regeneratorRuntime.wrap(function _callee11$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          this.state.selection.active = bool;\n\n          if (bool) {\n            _context11.next = 8;\n            break;\n          }\n\n          _context11.t0 = this.state.filter.active;\n\n          if (!_context11.t0) {\n            _context11.next = 6;\n            break;\n          }\n\n          _context11.next = 6;\n          return this.deleteFilterToken();\n\n        case 6:\n          this.state.filter.active = bool;\n          this.emit('unselectionall', this.getId());\n\n        case 8:\n        case 'end':\n          return _context11.stop();\n      }\n    }\n  }, _callee11, this);\n}));\n\nproto.isSelectionActive = function () {\n  return this.state.selection.active;\n};\n\nproto.getSelection = function () {\n  return this.state.selection;\n};\n\nproto.getFilter = function () {\n  return this.state.filter;\n};\n\nproto.setDisabled = function (bool) {\n  this.state.disabled = bool;\n};\n\nproto.isDisabled = function () {\n  return this.state.disabled;\n};\n\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.setVisible = function (bool) {\n  this.state.visible = bool;\n};\n\n/**\n * Set a parameter map to check if request from map point of\n * view or just a capabilities info layer\n */\nproto.isQueryable = function () {\n  var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { onMap: false },\n      onMap = _ref24.onMap;\n\n  var queryEnabled = false;\n  var queryableForCababilities = !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.QUERYABLE);\n  if (!onMap) return queryableForCababilities;\n  // if querable check if is visible or disabled\n  if (queryableForCababilities) {\n    queryEnabled = this.isVisible() && !this.isDisabled();\n    if (this.config.infowhennotvisible !== undefined && this.config.infowhennotvisible === true) queryEnabled = true;\n  }\n  return queryEnabled;\n};\n\nproto.getOws = function () {\n  return this.config.ows;\n};\n\nproto.getTocHighlightable = function () {\n  return this.state.tochighlightable;\n};\n\nproto.setTocHighlightable = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.tochighlightable = bool;\n};\n\n/**\n * @param conditions plain object with configuration layer attribute and value\n */\nproto.isFilterable = function () {\n  var _this7 = this;\n\n  var conditions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n  var isFiltrable = !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.FILTERABLE);\n  if (isFiltrable && conditions) {\n    var conditionalFiltrable = Object.keys(conditions).reduce(function (bool, attribute) {\n      var layer_config_value = _this7.get(attribute);\n      var condition_attribute_values = conditions[attribute];\n      return bool && Array.isArray(layer_config_value) ? layer_config_value.indexOf(condition_attribute_values) !== -1 : condition_attribute_values === layer_config_value;\n    }, true);\n    isFiltrable = isFiltrable && conditionalFiltrable;\n  }\n  return isFiltrable;\n};\n\n/**\n * Check if layer is setup as time series\n */\nproto.isQtimeseries = function () {\n  return this.config.qtimeseries;\n};\n\nproto.isEditable = function () {\n  return !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.EDITABLE);\n};\n\nproto.isBaseLayer = function () {\n  return this.config.baselayer;\n};\n\n/**\n * @param type get url by type (data, shp, csv, xls,  editing, ...) \n */\nproto.getUrl = function (type) {\n  return this.config.urls[type];\n};\n\n/**\n * Set config url\n * \n * @param url.type\n * @param url.url\n */\nproto.setUrl = function () {\n  var _ref25 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref25.type,\n      url = _ref25.url;\n\n  this.config.urls[type] = url;\n};\n\n/**\n * @returns config.urls\n */\nproto.getUrls = function () {\n  return this.config.urls;\n};\n\nproto.setEditingUrl = function (url) {\n  this.config.urls.editing = url || this.config.urls.editing;\n};\n\nproto.getQueryUrl = function () {\n  return this.config.urls.query;\n};\n\nproto.setQueryUrl = function (queryUrl) {\n  this.config.urls.query = queryUrl;\n};\n\nproto.getQueryLayerName = function () {\n  return this.config.infolayer && this.config.infolayer !== '' ? this.config.infolayer : this.getName();\n};\n\nproto.getQueryLayerOrigName = function () {\n  return this.state.infolayer && this.config.infolayer !== '' ? this.config.infolayer : this.config.origname;\n};\n\nproto.getInfoFormat = function (ogcService) {\n  // In case of NETCDF (qtime series)\n  if (this.config.qtimeseries === true || this.getSourceType() === 'gdal') {\n    return 'application/json';\n  }\n  if (this.config.infoformat && '' !== this.config.infoformat && 'wfs' !== ogcService) {\n    return this.config.infoformat;\n  }\n  return 'application/vnd.ogc.gml';\n};\n\nproto.getInfoFormats = function () {\n  return this.state.infoformats;\n};\n\nproto.getInfoUrl = function () {\n  return this.config.infourl;\n};\n\nproto.setInfoFormat = function (infoFormat) {\n  this.config.infoformat = infoFormat;\n};\n\nproto.getAttributes = function () {\n  return this.config.fields;\n};\n\nproto.changeAttribute = function (attribute, type, options) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = this.config.fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var field = _step.value;\n\n      if (field.name === attribute) {\n        field.type = type;\n        field.options = options;\n        break;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.getAttributeLabel = function (name) {\n  var field = this.getAttributes().find(function (field) {\n    return field.name === name;\n  });\n  return field && field.label;\n};\n\nproto.getProvider = function (type) {\n  return this.providers[type];\n};\n\nproto.getProviders = function () {\n  return this.providers;\n};\n\nproto.getLayersStore = function () {\n  return this._layersstore;\n};\n\nproto.setLayersStore = function (layerstore) {\n  this._layersstore = layerstore;\n};\n\nproto.canShowTable = function () {\n  if (this.config.not_show_attributes_table) {\n    return false;\n  }\n\n  if (this.getServerType() === Layer.ServerTypes.QGIS && [Layer.SourceTypes.POSTGIS, Layer.SourceTypes.ORACLE, Layer.SourceTypes.WFS, Layer.SourceTypes.OGR, Layer.SourceTypes.MSSQL, Layer.SourceTypes.SPATIALITE].indexOf(this.config.source.type) > -1 && this.isQueryable()) {\n    return this.getTableFields().length > 0;\n  }\n\n  if (this.getServerType() === Layer.ServerTypes.G3WSUITE && \"geojson\" === this.get('source').type) {\n    return true;\n  }\n\n  if (this.getServerType() !== Layer.ServerTypes.G3WSUITE && this.isFilterable()) {\n    return true;\n  }\n\n  return false;\n};\n\nproto.changeFieldType = function () {\n  var _ref26 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      name = _ref26.name,\n      type = _ref26.type,\n      _ref26$options = _ref26.options,\n      options = _ref26$options === undefined ? {} : _ref26$options,\n      _ref26$reset = _ref26.reset,\n      reset = _ref26$reset === undefined ? false : _ref26$reset;\n\n  var field = this.getFields().find(function (field) {\n    return field.name === name;\n  });\n\n  if (field && reset) {\n    field.type = field._type;\n    delete field._type;\n    delete field[type + 'options'];\n    return field.type;\n  }\n\n  if (field && !reset) {\n    field._type = field.type;\n    field.type = type;\n    field[type + 'options'] = options;\n    return field._type;\n  }\n};\n\nproto.changeConfigFieldType = function (_ref27) {\n  var name = _ref27.name,\n      type = _ref27.type,\n      _ref27$options = _ref27.options,\n      options = _ref27$options === undefined ? {} : _ref27$options,\n      _ref27$reset = _ref27.reset,\n      reset = _ref27$reset === undefined ? false : _ref27$reset;\n\n  return this.changeFieldType({ name: name, type: type, options: options, reset: reset });\n};\n\nproto.resetConfigField = function (_ref28) {\n  var name = _ref28.name;\n\n  this.changeConfigFieldType({ name: name, reset: true });\n};\n\n/**\n * Function called in case of change project to remove all stored information \n */\nproto.clear = function () {};\n\nproto.isVector = function () {\n  return this.getType() === Layer.LayerTypes.VECTOR;\n};\n\nproto.isTable = function () {\n  return this.getType() === Layer.LayerTypes.TABLE;\n};\n\n/**\n * @since 3.8.0\n */\nproto.getFeatureCount = function () {\n  return this.state.featurecount;\n};\n\n/**\n * @param style\n * \n * @returns {Promise<Object>}\n * \n * @since 3.8.0\n */\nproto.getStyleFeatureCount = function () {\n  var _ref29 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee12(style) {\n    var _ref30, result, data;\n\n    return regeneratorRuntime.wrap(function _callee12$(_context12) {\n      while (1) {\n        switch (_context12.prev = _context12.next) {\n          case 0:\n            if (!(\"undefined\" === typeof this.state.stylesfeaturecount[style])) {\n              _context12.next = 13;\n              break;\n            }\n\n            _context12.prev = 1;\n            _context12.next = 4;\n            return XHR.post({\n              url: '' + this.config.urls.featurecount + this.getId() + '/',\n              data: JSON.stringify({ style: style }),\n              contentType: 'application/json'\n            });\n\n          case 4:\n            _ref30 = _context12.sent;\n            result = _ref30.result;\n            data = _ref30.data;\n\n            this.state.stylesfeaturecount[style] = true === result ? data : {};\n            _context12.next = 13;\n            break;\n\n          case 10:\n            _context12.prev = 10;\n            _context12.t0 = _context12['catch'](1);\n\n            this.state.stylesfeaturecount[style] = {};\n\n          case 13:\n            return _context12.abrupt('return', this.state.stylesfeaturecount[style]);\n\n          case 14:\n          case 'end':\n            return _context12.stop();\n        }\n      }\n    }, _callee12, this, [[1, 10]]);\n  }));\n\n  return function (_x39) {\n    return _ref29.apply(this, arguments);\n  };\n}();\n\n/// LAYER PROPERTIES\n\n/**\n * Layer Types\n */\nLayer.LayerTypes = {\n  TABLE: \"table\",\n  IMAGE: \"image\",\n  VECTOR: \"vector\"\n};\n\n/**\n * Server Types\n */\nLayer.ServerTypes = {\n  OGC: \"OGC\",\n  QGIS: \"QGIS\",\n  Mapserver: \"Mapserver\",\n  Geoserver: \"Geoserver\",\n  ARCGISMAPSERVER: \"ARCGISMAPSERVER\",\n  OSM: \"OSM\",\n  BING: \"Bing\",\n  LOCAL: \"Local\",\n  TMS: \"TMS\",\n  WMS: \"WMS\",\n  WMTS: \"WMTS\",\n  G3WSUITE: \"G3WSUITE\"\n  /** \n   * ADD ALSO TO PROVIDER FACTORY (@TODO or already done?) \n   */\n};\n\n/**\n * Source Types\n */\nLayer.SourceTypes = {\n  VIRTUAL: 'virtual',\n  POSTGIS: 'postgres',\n  SPATIALITE: 'spatialite',\n  ORACLE: 'oracle',\n  MSSQL: 'mssql',\n  CSV: 'delimitedtext',\n  OGR: 'ogr',\n  GDAL: 'gdal',\n  WMS: 'wms',\n  WMST: \"wmst\",\n  WFS: 'wfs',\n  WCS: \"wcs\",\n  MDAL: \"mdal\",\n  \"VECTOR-TILE\": \"vector-tile\",\n  VECTORTILE: \"vectortile\",\n  ARCGISMAPSERVER: 'arcgismapserver',\n  GEOJSON: \"geojson\"\n  /**\n   * ADD TO PROVIDER FACTORY (@TODO or already done?)\n   */\n};\n\n/**\n * Layer Capabilities\n */\nLayer.CAPABILITIES = {\n  QUERYABLE: 1,\n  FILTERABLE: 2,\n  EDITABLE: 4\n};\n\n/**\n * Editing types \n */\nLayer.EDITOPS = {\n  INSERT: 1,\n  UPDATE: 2,\n  DELETE: 4\n};\n\n/**\n * Selection state \n */\nLayer.SELECTION_STATE = {\n  ALL: '__ALL__',\n  EXCLUDE: '__EXCLUDE__'\n};\n\nmodule.exports = Layer;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/providers/providersfactory\":51,\"core/relations/relations\":63,\"core/utils/geo\":64,\"core/utils/utils\":67,\"services/application\":348,\"services/data\":355,\"store/application-state\":370,\"store/projects\":376}],35:[function(require,module,exports){\nvar Layer = require('core/layers/layer');\nvar TableLayer = require('core/layers/tablelayer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar ImageLayer = require('core/layers/imagelayer');\nvar BaseLayers = require('core/layers/baselayers/baselayers');\nvar GeojsonLayer = require('core/layers/geojson');\n\n// Class to build layer based on configuration\nfunction LayerFactory() {\n  this.build = function (config, options) {\n    // return the layer instance\n    var layerClass = this.get(config);\n    return layerClass ? new layerClass(config, options) : null;\n  };\n\n  this.get = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var LayerClass = void 0;\n    var serverType = config.servertype;\n    switch (serverType) {\n      case Layer.ServerTypes.QGIS:\n        if (config.source) {\n          if (config.geometrytype) {\n            if ([Layer.SourceTypes.VIRTUAL, Layer.SourceTypes.POSTGIS, Layer.SourceTypes.MSSQL, Layer.SourceTypes.SPATIALITE, Layer.SourceTypes.WFS, Layer.SourceTypes.CSV, Layer.SourceTypes.ORACLE, Layer.SourceTypes.OGR, Layer.SourceTypes.MDAL].find(function (sourcetype) {\n              return sourcetype === config.source.type;\n            })) {\n              if (config.geometrytype && config.geometrytype === 'NoGeometry') LayerClass = TableLayer;else LayerClass = ImageLayer;\n            }\n          } else if ([// here set new layer has to be threat as wms\n          Layer.SourceTypes.WMST, Layer.SourceTypes.WCS, Layer.SourceTypes.WMS, Layer.SourceTypes.GDAL, Layer.SourceTypes.VECTORTILE, Layer.SourceTypes[\"VECTOR-TILE\"], Layer.SourceTypes.MDAL].find(function (sourcetype) {\n            return sourcetype === config.source.type;\n          })) LayerClass = ImageLayer;\n        }\n        break;\n      case Layer.ServerTypes.OGC:\n        if (config.source) {\n          var type = config.source.type;\n          switch (type) {\n            case Layer.SourceTypes.WMS:\n              LayerClass = ImageLayer;\n              break;\n            case Layer.SourceTypes.WFS:\n              LayerClass = VectorLayer;\n          }\n        }\n        break;\n      case Layer.ServerTypes.LOCAL:\n        LayerClass = VectorLayer;\n        break;\n      case Layer.ServerTypes.OSM:\n      case Layer.ServerTypes.BING:\n      case Layer.ServerTypes.TMS:\n      case Layer.ServerTypes.WMS:\n      case Layer.ServerTypes.WMTS:\n      case Layer.ServerTypes.ARCGISMAPSERVER:\n        LayerClass = BaseLayers[serverType];\n        break;\n      case Layer.ServerTypes.G3WSUITE:\n        LayerClass = VectorLayer;\n        if (config.source) {\n          switch (config.source.type) {\n            case 'geojson':\n              LayerClass = GeojsonLayer;\n              break;\n          }\n        }\n        break;\n    }\n    return LayerClass;\n  };\n}\n\nmodule.exports = new LayerFactory();\n\n},{\"core/layers/baselayers/baselayers\":20,\"core/layers/geojson\":31,\"core/layers/imagelayer\":33,\"core/layers/layer\":34,\"core/layers/tablelayer\":56,\"core/layers/vectorlayer\":57}],36:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\n// Interface for Layers\nfunction LayersStore() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = {\n    id: config.id || Date.now(),\n    projection: config.projection,\n    extent: config.extent,\n    initextent: config.initextent,\n    wmsUrl: config.wmsUrl,\n    //set catalogable property\n    catalog: _.isBoolean(config.catalog) ? config.catalog : true\n  };\n\n  this.state = {\n    //useful to build layerstree\n    layerstree: [],\n    relations: null // useful to build tree of relations\n  };\n  this._isQueryable = _.isBoolean(config.queryable) ? config.queryable : true;\n  this._layers = this.config.layers || {};\n  this.setters = {\n    setLayerSelection: function setLayerSelection(_ref) {\n      var layerId = _ref.layerId,\n          selection = _ref.selection;\n\n      var layer = this.getLayerById(layerId);\n    },\n    setLayerSelected: function setLayerSelected(layerId, selected) {\n      this.getLayers().forEach(function (layer) {\n        return layer.state.selected = layerId === layer.getId() ? selected : false;\n      });\n    },\n    addLayers: function addLayers(layers) {\n      var _this = this;\n\n      layers.forEach(function (layer) {\n        return _this.addLayer(layer);\n      });\n    },\n    addLayer: function addLayer(layer) {\n      this._addLayer(layer);\n    },\n    removeLayer: function removeLayer(layerId) {\n      this._removeLayer(layerId);\n    }\n  };\n\n  base(this);\n}\n\ninherit(LayersStore, G3WObject);\n\nvar proto = LayersStore.prototype;\n\nproto.isQueryable = function () {\n  return this._isQueryable;\n};\n\nproto.setQueryable = function (bool) {\n  this._isQueryable = !!bool;\n};\n\nproto.showOnCatalog = function () {\n  return this.config.catalog;\n};\n\nproto.setOptions = function (config) {\n  this.config = config;\n};\n\nproto.getId = function () {\n  return this.config.id;\n};\n\nproto._addLayer = function (layer) {\n  this._layers[layer.getId()] = layer;\n};\n\nproto._removeLayer = function (layer) {\n  var layerId = layer.getId();\n  delete this._layers[layerId];\n};\n\nproto.removeLayers = function () {\n  var _this2 = this;\n\n  Object.entries(this._layers).forEach(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n        layerId = _ref3[0],\n        layer = _ref3[1];\n\n    _this2.removeLayer(layer);\n  });\n};\n\nproto.getLayersDict = function () {\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // in case  we pass filter = null\n  if (!filter) return this._layers;\n  var PRINTABLE = filter.PRINTABLE,\n      QUERYABLE = filter.QUERYABLE,\n      FILTERABLE = filter.FILTERABLE,\n      EDITABLE = filter.EDITABLE,\n      VISIBLE = filter.VISIBLE,\n      SELECTED = filter.SELECTED,\n      CACHED = filter.CACHED,\n      SELECTED_OR_ALL = filter.SELECTED_OR_ALL,\n      SERVERTYPE = filter.SERVERTYPE,\n      BASELAYER = filter.BASELAYER,\n      GEOLAYER = filter.GEOLAYER,\n      VECTORLAYER = filter.VECTORLAYER,\n      HIDDEN = filter.HIDDEN,\n      DISABLED = filter.DISABLED,\n      IDS = filter.IDS;\n\n  // if filter is passed\n\n  if (_.isUndefined(QUERYABLE) && _.isUndefined(FILTERABLE) && _.isUndefined(EDITABLE) && _.isUndefined(VISIBLE) && _.isUndefined(SERVERTYPE) && _.isUndefined(CACHED) && _.isUndefined(SELECTED_OR_ALL) && _.isUndefined(SERVERTYPE) && _.isUndefined(GEOLAYER) && _.isUndefined(HIDDEN) && _.isUndefined(DISABLED) && _.isUndefined(BASELAYER) && _.isUndefined(VECTORLAYER) && _.isUndefined(PRINTABLE) && _.isUndefined(IDS)) return this._layers;\n\n  var layers = [];\n\n  for (var key in this._layers) {\n    layers.push(this._layers[key]);\n  }\n\n  if (IDS) {\n    var ids = Array.isArray(IDS) ? IDS : [IDS];\n    layers = layers.filter(function (layer) {\n      return ids.indexOf(layer.getId()) !== -1;\n    });\n  }\n\n  // return only selected if some one are selected\n  if (SELECTED_OR_ALL) {\n    var _layers = layers;\n    layers = layers.filter(function (layer) {\n      return layer.isSelected();\n    });\n    layers = layers.length ? layers : _layers;\n  }\n\n  if ('boolean' === typeof SELECTED && !SELECTED_OR_ALL) layers = layers.filter(function (layer) {\n    return SELECTED === layer.isSelected();\n  });\n\n  if ('boolean' === typeof QUERYABLE) layers = layers.filter(function (layer) {\n    return QUERYABLE === layer.isQueryable();\n  });\n  if ('boolean' === typeof FILTERABLE) layers = layers.filter(function (layer) {\n    return FILTERABLE === layer.isFilterable(options.filtrable || null);\n  });\n  if ('boolean' === typeof EDITABLE) layers = layers.filter(function (layer) {\n    return EDITABLE === layer.isEditable();\n  });\n  if ('boolean' === typeof VISIBLE) layers = layers.filter(function (layer) {\n    return VISIBLE === layer.isVisible();\n  });\n  if ('boolean' === typeof CACHED) layers = layers.filter(function (layer) {\n    return CACHED === layer.isCached();\n  });\n  if ('boolean' === typeof BASELAYER) layers = layers.filter(function (layer) {\n    return BASELAYER === layer.isBaseLayer();\n  });\n  if ('boolean' === typeof GEOLAYER) layers = layers.filter(function (layer) {\n    return GEOLAYER === layer.state.geolayer;\n  });\n  if ('boolean' === typeof VECTORLAYER) layers = layers.filter(function (layer) {\n    return VECTORLAYER === layer.isType('vector');\n  });\n  if ('boolean' === typeof HIDDEN) layers = layers.filter(function (layer) {\n    return HIDDEN == layer.isHidden();\n  });\n  if ('boolean' === typeof DISABLED) layers = layers.filter(function (layer) {\n    return DISABLED === layer.isDisabled();\n  });\n\n  if ('string' === typeof SERVERTYPE && '' !== SERVERTYPE) layers = layers.filter(function (layer) {\n    return SERVERTYPE === layer.getServerType();\n  });\n\n  if (PRINTABLE) layers = layers.filter(function (layer) {\n    return layer.state.geolayer && layer.isPrintable({ scale: PRINTABLE.scale });\n  });\n\n  return layers;\n};\n\n// return layers array\nproto.getLayers = function () {\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return Object.values(this.getLayersDict(filter, options));\n};\n\nproto.getBaseLayers = function () {\n  return this.getLayersDict({\n    BASELAYER: true\n  });\n};\n\nproto.getLayerById = function (layerId) {\n  return this.getLayersDict()[layerId];\n};\n\nproto.getLayerByName = function (name) {\n  return this._layers.find(function (layer) {\n    return layer.getName() === name;\n  });\n};\n\nproto.getLayerAttributes = function (layerId) {\n  return this.getLayerById(layerId).getAttributes();\n};\n\nproto.getLayerAttributeLabel = function (layerId, name) {\n  return this.getLayerById(layerId).getAttributeLabel(name);\n};\n\nproto.getGeoLayers = function () {\n  return this.getLayers({\n    GEOLAYER: true\n  });\n};\n\nproto._getAllSiblingsChildrenLayersId = function (layerstree) {\n  var nodeIds = [];\n  var traverse = function traverse(layerstree) {\n    layerstree.nodes.forEach(function (node) {\n      if (node.id) nodeIds.push(node.id);else traverse(node);\n    });\n  };\n  traverse(layerstree);\n  return nodeIds;\n};\n\nproto._getAllParentLayersId = function (layerstree, node) {\n  var nodeIds = [];\n  var traverse = function traverse(layerstree) {\n    layerstree.nodes.forEach(function (node) {\n      if (node.id) nodeIds.push(node.id);\n      //else traverse(node);\n    });\n  };\n\n  traverse({\n    nodes: layerstree.nodes.filter(function (_node) {\n      return _node !== node;\n    })\n  });\n\n  return nodeIds;\n};\n\nproto.selectLayer = function (layerId, selected) {\n  this.setLayerSelected(layerId, selected);\n};\n\nproto.getProjection = function () {\n  return this.config.projection;\n};\n\nproto.getExtent = function () {\n  return this.config.extent;\n};\n\nproto.getInitExtent = function () {\n  return this.config.initextent;\n};\n\nproto.getWmsUrl = function () {\n  return this.config.wmsUrl;\n};\n\n/**\n * Set layersstree of layers inside the layersstore\n * \n * @param {unknown[]} layerstree nodes\n * @param {string}    name \n * @param {boolean}   [expanded = true]\n */\nproto.setLayersTree = function () {\n  var layerstree = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var _this3 = this;\n\n  var name = arguments[1];\n  var expanded = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  // Root group project that contain all layerstree of qgis project\n  var rootGroup = {\n    title: name || this.config.id,\n    root: true,\n    parentGroup: null,\n    expanded: expanded,\n    disabled: false,\n    checked: true,\n    nodes: layerstree\n  };\n  var traverse = function traverse(nodes, parentGroup) {\n    nodes.forEach(function (node, index) {\n      // substitute node layer with layer state\n      if (undefined !== node.id) {\n        nodes[index] = _this3.getLayerById(node.id).getState();\n      }\n      if (node.nodes) {\n        node.nodes.forEach(function (node) {\n          return node.parentGroup = parentGroup;\n        });\n        traverse(node.nodes, node);\n      }\n      //SET PARENT GROUP\n      nodes[index].parentGroup = parentGroup;\n    });\n  };\n  if (layerstree.length) {\n    traverse(layerstree, rootGroup);\n    // at the end\n    this.state.layerstree.splice(0, 0, rootGroup);\n  }\n};\n\n/**\n * Used by external plugins to build layerstree\n * \n * @param {string} groupName is a ProjectName\n * @param {layerstree, expanded: boolean, full: bool} options \n */\nproto.createLayersTree = function (groupName) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    layerstree: null,\n    expanded: false,\n    full: false\n  };\n\n\n  // get all layers id from layers server config to compare with layer nodes on layerstree server property\n  var tocLayersId = this.getLayers({ BASELAYER: false }).map(function (layer) {\n    return layer.getId();\n  });\n  var layerstree = [];\n\n  // check if layerstree coming from server project configuration is set\n  if (options.layerstree && true === options.full) {\n    return this.state.layerstree;\n  }\n\n  /** @FIXME add description */\n  if (options.layerstree && true !== options.full) {\n    var traverse = function traverse(nodes, layerstree) {\n      nodes.forEach(function (node) {\n        var lightlayer = null;\n\n        // case TOC has layer ID\n        if (null !== node.id && \"undefined\" !== typeof node.id && tocLayersId.find(function (id) {\n          return id === node.id;\n        })) {\n          lightlayer = _extends({}, lightlayer, node);\n        }\n\n        // case group\n        if (null !== node.nodes && \"undefined\" !== typeof node.nodes) {\n          lightlayer = _extends({}, lightlayer, {\n            title: node.name,\n            groupId: uniqueId(),\n            nodes: [],\n            checked: node.checked,\n            mutually_exclusive: node[\"mutually-exclusive\"]\n          });\n          traverse(node.nodes, lightlayer.nodes); // recursion step\n        }\n\n        // check if lightlayer is not null\n        if (null !== lightlayer) {\n          lightlayer.expanded = node.expanded; // expand legend item (TOC)\n          layerstree.push(lightlayer);\n        }\n      });\n    };\n    traverse(options.layerstree, layerstree);\n  }\n\n  /** @FIXME add description */\n  if (!options.layerstree) {\n    // get all project layers that have geometry\n    layerstree = this.getGeoLayers().map(function (layer) {\n      return {\n        id: layer.getId(),\n        name: layer.getName(),\n        title: layer.getTitle(),\n        visible: layer.isVisible() || false\n      };\n    });\n  }\n\n  // setLayerstree\n  this.setLayersTree(layerstree, groupName, options.expanded);\n};\n\nproto.removeLayersTree = function () {\n  this.state.layerstree.splice(0, this.state.layerstree.length);\n};\n\nproto.getLayersTree = function () {\n  return this.state.layerstree;\n};\n\nmodule.exports = LayersStore;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],37:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// Registy Layers\nfunction LayersStoresRegistry() {\n  this.stores = {};\n  this.storesArray = [];\n  // to react some application components that are binding to Layerstore\n  this.setters = {\n    addLayersStore: function addLayersStore(layersStore, idx) {\n      this._addLayersStore(layersStore, idx);\n    },\n    removeLayersStore: function removeLayersStore(layerStore) {\n      this._removeLayersStore(layerStore);\n    },\n    removeLayersStores: function removeLayersStores() {\n      this._removeLayersStores();\n    }\n  };\n\n  base(this);\n}\n\ninherit(LayersStoresRegistry, G3WObject);\n\nvar proto = LayersStoresRegistry.prototype;\n\nproto.getLayerById = function (layerId) {\n  var layer = void 0;\n  for (var storeId in this.stores) {\n    var layerStore = this.stores[storeId];\n    layer = layerStore.getLayerById(layerId);\n    if (layer) break;\n  }\n  return layer;\n};\n\nproto.getLayers = function (filter) {\n  var layers = [];\n  Object.entries(this.stores).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        storeId = _ref2[0],\n        layersStore = _ref2[1];\n\n    layers = layers.concat(layersStore.getLayers(filter));\n  });\n  return layers;\n};\n\nproto.getQuerableLayersStores = function () {\n  return this.getLayersStores().filter(function (layersStore) {\n    return layersStore.isQueryable();\n  });\n};\n\nproto.getLayersStore = function (id) {\n  return this.stores[id];\n};\n\nproto.getLayersStores = function () {\n  var _this = this;\n\n  var stores = [];\n  this.storesArray.forEach(function (storeId) {\n    stores.push(_this.stores[storeId]);\n  });\n  return stores;\n};\n\nproto._addLayersStore = function (layersStore, idx) {\n  var storeId = layersStore.getId();\n  this.stores[storeId] = layersStore;\n  if (!_.isNil(idx)) this.storesArray.splice(idx, 0, storeId);else this.storesArray.push(storeId);\n};\n\nproto._removeLayersStore = function (layerStore) {\n  if (layerStore) {\n    var storeId = layerStore.getId();\n    this.storesArray = this.storesArray.filter(function (_storeId) {\n      return _storeId != storeId;\n    });\n    delete this.stores[storeId];\n  }\n};\n\nproto._removeLayersStores = function () {\n  this.storesArray = [];\n  this.stores = {};\n};\n\nmodule.exports = LayersStoresRegistry;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],38:[function(require,module,exports){\nfunction ARGISMAPSERVERLegend(_ref) {\n  var layer = _ref.layer,\n      params = _ref.params;\n  var _layer$getConfig$sour = layer.getConfig().source,\n      url = _layer$getConfig$sour.url,\n      layername = _layer$getConfig$sour.layer;\n\n  var serviceUrl = url.replace('/rest/', '/');\n  return serviceUrl + '/WMSServer?request=GetLegendGraphic&version=1.3.0&format=image/png&LAYER=' + layername;\n};\n\nmodule.exports = ARGISMAPSERVERLegend;\n\n},{}],39:[function(require,module,exports){\nvar TYPES = {\n  'wms': require('./wmslegend'),\n  'arcgismapserver': require('./arcgismapserverlegend')\n};\n\nvar Legendservice = {\n  get: function get() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref.layer,\n        params = _ref.params,\n        _ref$options = _ref.options,\n        options = _ref$options === undefined ? {} : _ref$options;\n\n    var type = layer.isArcgisMapserver() ? 'arcgismapserver' : 'wms';\n    return TYPES[type]({\n      layer: layer,\n      params: params,\n      options: options\n    });\n  }\n};\n\nmodule.exports = Legendservice;\n\n},{\"./arcgismapserverlegend\":38,\"./wmslegend\":40}],40:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/geo'),\n    get_LEGEND_ON_LEGEND_OFF_Params = _require.get_LEGEND_ON_LEGEND_OFF_Params;\n\nfunction WMSLegend(_ref) {\n  var layer = _ref.layer,\n      params = _ref.params,\n      _ref$options = _ref.options,\n      options = _ref$options === undefined ? {} : _ref$options;\n  var width = params.width,\n      height = params.height,\n      _params$color = params.color,\n      color = _params$color === undefined ? \"white\" : _params$color,\n      _params$fontsize = params.fontsize,\n      fontsize = _params$fontsize === undefined ? 10 : _params$fontsize,\n      _params$transparent = params.transparent,\n      transparent = _params$transparent === undefined ? true : _params$transparent,\n      boxspace = params.boxspace,\n      layerspace = params.layerspace,\n      _params$layertitle = params.layertitle,\n      layertitle = _params$layertitle === undefined ? true : _params$layertitle,\n      layertitlespace = params.layertitlespace,\n      symbolspace = params.symbolspace,\n      iconlabelspace = params.iconlabelspace,\n      symbolwidth = params.symbolwidth,\n      symbolheight = params.symbolheight,\n      itemfontfamily = params.itemfontfamily,\n      layerfontfamily = params.layerfontfamily,\n      layerfontbold = params.layerfontbold,\n      itemfontbold = params.itemfontbold,\n      layerfontitalic = params.layerfontitalic,\n      itemfontitalic = params.itemfontitalic,\n      rulelabel = params.rulelabel,\n      crs = params.crs,\n      bbox = params.bbox,\n      _params$sld_version = params.sld_version,\n      sld_version = _params$sld_version === undefined ? '1.1.0' : _params$sld_version;\n  var _options$categories = options.categories,\n      categories = _options$categories === undefined ? false : _options$categories,\n      _options$all = options.all,\n      all = _options$all === undefined ? false : _options$all,\n      _options$format = options.format,\n      format = _options$format === undefined ? 'image/png' : _options$format;\n\n\n  var LAYER = layer.getWMSLayerName({ type: 'legend' });\n  var FORMAT = format;\n  var STYLES = void 0,\n      LEGEND_ON = void 0,\n      LEGEND_OFF = void 0,\n      url = layer.getWmsUrl({ type: 'legend' });\n\n  if (all) {\n    // all=true means no filter parameters as BBOX\n    bbox = null;\n  }\n\n  if (categories && 'application/json' === FORMAT) {\n    symbolwidth = symbolheight = 16; //set 16 for symbol of chart or other legend symbol\n    STYLES = encodeURIComponent(layer.getCurrentStyle().name);\n  }\n\n  // in case of GetLegendGraphic of format `application/json`\n  // LEGEND_ON and LEGEND_OFF need to be undefined because\n  // it create some strange behaviour on WMS `getMap` when\n  // switching between layer styles\n  if (categories && (_projects2.default.getCurrentProject().getContextBaseLegend() || 'image/png' === FORMAT)) {\n    var _get_LEGEND_ON_LEGEND = get_LEGEND_ON_LEGEND_OFF_Params(layer);\n\n    LEGEND_ON = _get_LEGEND_ON_LEGEND.LEGEND_ON;\n    LEGEND_OFF = _get_LEGEND_ON_LEGEND.LEGEND_OFF;\n  }\n\n  return ['' + url + (url.indexOf('?') > -1 ? '&' : '?') + 'SERVICE=WMS&VERSION=1.3.0&REQUEST=GetLegendGraphic&SLD_VERSION=' + sld_version, '' + (width ? '&WIDTH=' + width : ''), '' + (height ? '&HEIGHT=' + height : ''), '&FORMAT=' + FORMAT, '&TRANSPARENT=' + transparent, '&ITEMFONTCOLOR=' + color, '&LAYERFONTCOLOR=' + color, '&LAYERTITLE=' + layertitle, '&ITEMFONTSIZE=' + fontsize, '' + (crs ? '&CRS=' + crs : ''), '' + (bbox ? '&BBOX=' + bbox.join(',') : ''), '' + (boxspace ? '&BOXSPACE=' + boxspace : ''), '' + (layerspace ? '&LAYERSPACE=' + layerspace : ''), '' + (layertitlespace ? '&LAYERTITLESPACE=' + layertitlespace : ''), '' + (symbolspace ? '&SYMBOLSPACE=' + symbolspace : ''), '' + (iconlabelspace ? '&ICONLABELSPACE=' + iconlabelspace : ''), '' + (symbolwidth ? '&SYMBOLWIDTH=' + symbolwidth : ''), '' + (symbolheight ? '&SYMBOLHEIGHT=' + symbolheight : ''), '' + (layerfontfamily ? '&LAYERFONTFAMILY=' + layerfontfamily : ''), '' + (itemfontfamily ? '&ITEMFONTFAMILY=' + itemfontfamily : ''), '' + (layerfontbold ? '&LAYERFONTBOLD=' + layerfontbold : ''), '' + (itemfontbold ? '&ITEMFONTBOLD=' + itemfontbold : ''), '' + (layerfontitalic ? '&LAYERFONTITALIC=' + layerfontitalic : ''), '' + (itemfontitalic ? '&ITEMFONTITALIC=' + itemfontitalic : ''), '' + (rulelabel ? '&RULELABEL=' + rulelabel : ''), '' + (LEGEND_ON ? '&LEGEND_ON=' + LEGEND_ON : ''), '' + (LEGEND_OFF ? '&LEGEND_OFF=' + LEGEND_OFF : ''), '' + (STYLES ? '&STYLES=' + STYLES : ''), '&LAYER=' + LAYER].join('');\n}\n\nmodule.exports = WMSLegend;\n\n},{\"core/utils/geo\":64,\"store/projects\":376}],41:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar WMSLAYER = require('core/layers/map/wmslayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction ARCGISMAPSERVERLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, options, extraParams);\n}\n\ninherit(ARCGISMAPSERVERLayer, WMSLAYER);\n\nvar proto = ARCGISMAPSERVERLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var _this = this;\n\n  var config = {\n    url: this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    format: this.config.format\n  };\n  var olLayer = new RasterLayers.TiledArgisMapServer(config);\n  olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n\n  olLayer.getSource().on('imageloaderror', function () {\n    _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\nmodule.exports = ARCGISMAPSERVERLayer;\n\n},{\"core/layers/map/wmslayer\":45,\"core/utils/utils\":67,\"g3w-ol/layers/rasters\":107}],42:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar VectorLayer = require('core/layers/map/vectorlayer');\n\nfunction GeojsonLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var provider = options.provider;\n  this.setProvider(provider);\n  base(this, options);\n  this.getFeatures({\n    url: options.url,\n    mapProjection: this.mapProjection\n  });\n}\n\ninherit(GeojsonLayer, VectorLayer);\n\nmodule.exports = GeojsonLayer;\n\n},{\"core/layers/map/vectorlayer\":44,\"core/utils/utils\":67}],43:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction MapLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n  this.id = config.id;\n  this.iframe_internal = config.iframe_internal || false;\n  this.extent = config.extent;\n  this.projection = config.projection;\n  this.layer = null;\n  this.layers = config.layers || []; // store all enabled layers\n  this.allLayers = []; // store all layers\n  this.showSpinnerWhenLoading = true;\n  base(this);\n}\n\ninherit(MapLayer, G3WObject);\n\nvar proto = MapLayer.prototype;\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.getOLLayer = function () {\n  console.log('every sub classes has to be override');\n};\n\nproto.update = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this._updateLayers(mapState, extraParams);\n};\n\nproto.checkLayerDisabled = function (layer, resolution, mapUnits) {\n  layer.setDisabled(resolution, mapUnits);\n  return layer.isDisabled();\n};\n\n// check which layers has to be disabled\nproto.checkLayersDisabled = function (resolution, mapUnits) {\n  var _this = this;\n\n  this.allLayers.forEach(function (layer) {\n    return _this.checkLayerDisabled(layer, resolution, mapUnits);\n  });\n};\n\nproto.setupCustomMapParamsToLegendUrl = function () {\n  //to owerwrite for each map layer subclass\n\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n};\n\nmodule.exports = MapLayer;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],44:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit;\n\nvar _require2 = require('core/utils/geo'),\n    createOlLayer = _require2.createOlLayer,\n    createLayerStyle = _require2.createLayerStyle;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction VectorLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.mapService = _gui2.default.getComponent('map').getService();\n  this.geometrytype = options.geometrytype || null;\n  this.type = options.type || null;\n  this.crs = options.crs || null;\n  this.id = options.id;\n  this.name = options.name || \"\";\n  this.style = options.style;\n  this.color = options.color;\n  this.geometryType = options.geometryType;\n  this.mapProjection = this.mapService.getProjection().getCode();\n  this.projection = options.projection || this.mapProjection;\n  this.url = options.url;\n  this.provider = options.provider;\n  this._features = options.features || [];\n  this._olLayer = options.olLayer || this.getOLLayer();\n}\n\ninherit(VectorLayer, G3WObject);\n\nmodule.exports = VectorLayer;\n\nvar proto = VectorLayer.prototype;\n\nproto.setProvider = function (provider) {\n  this._provider = provider;\n};\n\nproto.getProvider = function () {\n  return this._provider;\n};\n\nproto.resetSource = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var source = new ol.source.Vector({\n    features: features\n  });\n  this.setSource(source);\n};\n\nproto._makeOlLayer = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      style = _ref.style;\n\n  var _style = this._makeStyle(style);\n  this._olLayer = new ol.layer.Vector({\n    name: this.name,\n    id: this.id,\n    style: _style,\n    source: new ol.source.Vector({})\n  });\n};\n\nproto._makeStyle = function (styleConfig) {\n  var style = void 0;\n  var styles = {};\n  if (styleConfig) {\n    Object.entries(styleConfig).forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          type = _ref3[0],\n          config = _ref3[1];\n\n      switch (type) {\n        case 'point':\n          if (config.icon) {\n            styles.image = new ol.style.Icon({\n              src: config.icon.url,\n              imageSize: config.icon.width\n            });\n          }\n          break;\n        case 'line':\n          styles.stroke = new ol.style.Stroke({\n            color: config.color,\n            width: config.width\n          });\n          break;\n        case 'polygon':\n          styles.fill = new ol.style.Fill({\n            color: config.color\n          });\n          break;\n      }\n    });\n    style = new ol.style.Style(styles);\n  }\n  return style;\n};\n\nproto.getFeatures = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this.provider.getFeatures(options).then(function (features) {\n    _this.addFeatures(features);\n    d.resolve(features);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.addFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.getSource().addFeatures(features);\n};\n\nproto.addFeature = function (feature) {\n  feature && this.getSource().addFeature(feature);\n};\n\nproto.getOLLayer = function () {\n  if (this._olLayer) return this._olLayer;else {\n    var id = this.id;\n    var geometryType = this.geometryType;\n    var color = this.color;\n    var style = this.style ? createLayerStyle(this.style) : null;\n    this._olLayer = createOlLayer({\n      id: id,\n      geometryType: geometryType,\n      color: color,\n      style: style,\n      features: this._features\n    });\n  }\n  return this._olLayer;\n};\n\nproto.setOLLayer = function (olLayer) {\n  this._olLayer = olLayer;\n};\n\nproto.getSource = function () {\n  !this._olLayer && this.getOLLayer();\n  return this._olLayer.getSource();\n};\n\nproto.setSource = function (source) {\n  this._olLayer.setSource(source);\n};\n\nproto.setStyle = function (style) {\n  this._olLayer.setStyle(style);\n};\n\nproto.getFeatureById = function (fid) {\n  return fid ? this._olLayer.getSource().getFeatureById(fid) : null;\n};\n\nproto.isVisible = function () {\n  return this._olLayer.getVisible();\n};\n\nproto.setVisible = function (bool) {\n  this._olLayer.setVisible(bool);\n};\n\nproto.clear = function () {\n  this.getSource().clear();\n};\n\nproto.addToMap = function (map) {\n  map.addLayer(this._olLayer);\n};\n\n},{\"core/g3wobject\":12,\"core/utils/geo\":64,\"core/utils/utils\":67,\"services/gui\":358}],45:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar MapLayer = require('core/layers/map/maplayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction WMSLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  this.LAYERTYPE = {\n    LAYER: 'layer',\n    MULTILAYER: 'multilayer'\n  };\n  this.extraParams = extraParams;\n  this._method = method;\n  base(this, options);\n}\n\ninherit(WMSLayer, MapLayer);\n\nvar proto = WMSLayer.prototype;\n\nproto.getOLLayer = function (withLayers) {\n  if (!this._olLayer) this._olLayer = this._makeOlLayer(withLayers);\n  return this._olLayer;\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.getInfoFormat = function () {\n  return 'application/vnd.ogc.gml';\n};\n\nproto.getGetFeatureInfoUrl = function (coordinate, resolution, epsg, params) {\n  return this.getOLLayer().getSource().getGetFeatureInfoUrl(coordinate, resolution, epsg, params);\n};\n\nproto.getLayerConfigs = function () {\n  return this.layers;\n};\n\nproto.addLayer = function (layer) {\n  if (!this.allLayers.find(function (_layer) {\n    return layer === _layer;\n  })) this.allLayers.push(layer);\n  if (!this.layers.find(function (_layer) {\n    return layer === _layer;\n  })) this.layers.push(layer);\n};\n\nproto.removeLayer = function (layer) {\n  this.layers = this.layers.filter(function (_layer) {\n    return layer !== _layer;\n  });\n};\n\nproto.isVisible = function () {\n  return this._getVisibleLayers().length > 0;\n};\n\nproto.getQueryUrl = function () {\n  var layer = this.layers[0];\n  if (layer.infourl && layer.infourl !== '') return layer.infourl;\n  return this.config.url;\n};\n\nproto.getQueryableLayers = function () {\n  return this.layers.filter(function (layer) {\n    return layer.isQueryable();\n  });\n};\n\nproto._getVisibleLayers = function () {\n  return this.layers.filter(function (layer) {\n    return layer.isVisible();\n  });\n};\n\n/**\n * @param {boolean} withLayers\n * \n * @returns {RasterLayers.WMSLayer}\n * \n * @listens ol.source.ImageWMS~imageloadstart\n * @listens ol.source.ImageWMS~imageloadend\n * @listens ol.source.ImageWMS~imageloaderror\n */\nproto._makeOlLayer = function (withLayers) {\n  var _this = this;\n\n  var olLayer = new RasterLayers.WMSLayer(\n  // wmsConfig\n  {\n    url: this.layers[0] && this.layers[0].getWmsUrl ? this.layers[0].getWmsUrl() : this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    iframe_internal: this.iframe_internal,\n    layers: withLayers ? this.layers.map(function (layer) {\n      return layer.getWMSLayerName();\n    }) : this.layers,\n    /** @since 3.7.11 */\n    format: this.config.format\n  }, this.extraParams, this._method);\n  olLayer.getSource().on('imageloadstart', function () {\n    return _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('imageloadend', function () {\n    return _this.emit(\"loadend\");\n  });\n  olLayer.getSource().on('imageloaderror', function () {\n    return _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\n//update Layers\nproto._updateLayers = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _extraParams$force = extraParams.force,\n      force = _extraParams$force === undefined ? false : _extraParams$force,\n      params = _objectWithoutProperties(extraParams, ['force']);\n  //check disabled layers\n\n\n  !force && this.checkLayersDisabled(mapState.resolution, mapState.mapUnits);\n  var visibleLayers = this._getVisibleLayers(mapState) || [];\n\n  var _require2 = require('core/utils/geo'),\n      get_LEGEND_ON_LEGEND_OFF_Params = _require2.get_LEGEND_ON_LEGEND_OFF_Params;\n\n  if (visibleLayers.length > 0) {\n    var CATEGORIES_LAYERS = {};\n    var STYLES = [];\n    var OPACITIES = [];\n    visibleLayers.map(function (layer) {\n      var layerId = layer.getWMSLayerName();\n      CATEGORIES_LAYERS[layerId] = _extends({}, get_LEGEND_ON_LEGEND_OFF_Params(layer));\n      STYLES.push(layer.getStyle());\n      OPACITIES.push(parseInt(layer.getOpacity() / 100 * 255));\n    });\n\n    var LEGEND_ON = void 0;\n    var LEGEND_OFF = void 0;\n    Object.keys(CATEGORIES_LAYERS).forEach(function (layerId) {\n      if (CATEGORIES_LAYERS[layerId].LEGEND_OFF) {\n        if (typeof LEGEND_OFF === 'undefined') LEGEND_OFF = CATEGORIES_LAYERS[layerId].LEGEND_OFF;else LEGEND_OFF = LEGEND_OFF + ';' + CATEGORIES_LAYERS[layerId].LEGEND_OFF;\n      }\n      if (CATEGORIES_LAYERS[layerId].LEGEND_ON) {\n        if (typeof LEGEND_ON === 'undefined') LEGEND_ON = CATEGORIES_LAYERS[layerId].LEGEND_ON;else LEGEND_ON = LEGEND_ON + ';' + CATEGORIES_LAYERS[layerId].LEGEND_ON;\n      }\n    });\n    var prefix = visibleLayers[0].isArcgisMapserver() ? 'show:' : '';\n    params = _extends({}, params, {\n      filtertoken: _applicationState2.default.tokens.filtertoken,\n      STYLES: STYLES.join(','),\n      /** @since v3.8 */\n      OPACITIES: OPACITIES.join(','),\n      LEGEND_ON: LEGEND_ON,\n      LEGEND_OFF: LEGEND_OFF,\n      LAYERS: '' + prefix + visibleLayers.map(function (layer) {\n        return layer.getWMSLayerName();\n      }).join(',')\n    });\n    this._olLayer.setVisible(true);\n    this._olLayer.getSource().updateParams(params);\n  } else this._olLayer.setVisible(false);\n};\n\nproto.setupCustomMapParamsToLegendUrl = function () {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (this.layer) this.layer.setMapParamstoLegendUrl(params);else this.layers.forEach(function (layer) {\n    return layer.setMapParamstoLegendUrl(params);\n  });\n};\n\nmodule.exports = WMSLayer;\n\n},{\"core/layers/map/maplayer\":43,\"core/utils/geo\":64,\"core/utils/utils\":67,\"g3w-ol/layers/rasters\":107,\"store/application-state\":370}],46:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction WMSTLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  this.LAYERTYPE = {\n    LAYER: 'layer',\n    MULTILAYER: 'multilayer'\n  };\n  this.extraParams = extraParams;\n  this._method = method;\n  base(this, options);\n}\n\ninherit(WMSTLayer, WMSLayer);\n\nvar proto = WMSTLayer.prototype;\n\nproto._makeOlLayer = function (withLayers) {\n  var _this = this;\n\n  var wmsConfig = {\n    url: this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    iframe_internal: this.iframe_internal,\n    layers: this.layers\n  };\n  if (withLayers) wmsConfig.layers = this.layers.map(function (layer) {\n    return layer.getWMSLayerName();\n  });\n  var representativeLayer = this.layers[0];\n  if (representativeLayer && representativeLayer.getWmsUrl) wmsConfig.url = representativeLayer.getWmsUrl();\n  var olLayer = new RasterLayers.TiledWMSLayer(wmsConfig, this.extraParams, this._method);\n  olLayer.getSource().on('tileloadstart', function () {\n    return _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('tileloadend', function () {\n    return _this.emit(\"loadend\");\n  });\n  olLayer.getSource().on('tileloaderror', function () {\n    return _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\nmodule.exports = WMSTLayer;\n\n},{\"core/layers/map/wmslayer\":45,\"core/utils/utils\":67,\"g3w-ol/layers/rasters\":107,\"store/application-state\":370}],47:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar MapLayer = require('core/layers/map/maplayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction XYZLayer(options) {\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n\n  base(this, options);\n  this._method = method;\n}\n\ninherit(XYZLayer, MapLayer);\n\nvar proto = XYZLayer.prototype;\n\nproto.getOLLayer = function () {\n  var olLayer = this._olLayer;\n  if (!olLayer) olLayer = this._olLayer = this._makeOlLayer();\n  return olLayer;\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.getLayerConfigs = function () {\n  return this.layer;\n};\n\nproto.addLayer = function (layer) {\n  this.layer = layer;\n  this.layers.push(layer);\n  this.allLayers.push(layer);\n};\n\nproto.update = function (mapState, extraParams) {\n  this._updateLayer(mapState, extraParams);\n};\n\nproto.isVisible = function () {\n  return layer.state.visible;\n};\n\nproto._makeOlLayer = function () {\n  var _this = this;\n\n  var projection = this.projection ? this.projection : this.layer.getProjection();\n  var layerOptions = {\n    url: this.layer.getCacheUrl() + '/{z}/{x}/{y}.png',\n    maxZoom: 20,\n    extent: this.config.extent,\n    iframe_internal: this.iframe_internal\n  };\n\n  layerOptions.projection = projection;\n  this._olLayer = new RasterLayers.XYZLayer(layerOptions, this._method);\n\n  this._olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  this._olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n  this._olLayer.getSource().on('imageloaderror', function () {\n    _this.emit(\"loaderror\");\n  });\n  return this._olLayer;\n};\n\nproto._updateLayer = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _extraParams$force = extraParams.force,\n      force = _extraParams$force === undefined ? false : _extraParams$force;\n\n  !force && this.checkLayersDisabled(mapState.resolution, mapState.mapUnits);\n  this._olLayer.setVisible(this.layer.isVisible());\n};\n\nmodule.exports = XYZLayer;\n\n},{\"core/layers/map/maplayer\":43,\"core/utils/utils\":67,\"g3w-ol/layers/rasters\":107}],48:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Provider = require('core/layers/providers/provider');\n\nfunction GEOJSONDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'geojson';\n  this.provider = options.provider;\n}\n\ninherit(GEOJSONDataProvider, Provider);\n\nvar proto = GEOJSONDataProvider.prototype;\n\nproto.query = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  d.resolve([]);\n  return d.promise();\n};\n\nproto.getFeatures = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var url = options.url || this.getLayer().get('source').url;\n  var data = options.data;\n  var projection = options.projection || \"EPSG:4326\";\n  var mapProjection = options.mapProjection;\n  var parseFeatures = function parseFeatures(data) {\n    var parser = new ol.format.GeoJSON();\n    return parser.readFeatures(data, {\n      featureProjection: mapProjection,\n      //defaultDataProjection: projection // ol v. 4.5\n      dataProjection: projection\n    });\n  };\n  if (data) {\n    var features = parseFeatures(data);\n    d.resolve(features);\n  } else {\n    $.get({ url: url }).then(function (response) {\n      var features = parseFeatures(response.results);\n      d.resolve(features);\n    }).fail(function (err) {\n      d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto.getDataTable = function () {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      page = _ref.page;\n\n  var d = $.Deferred();\n  this.getFeatures().then(function () {\n    d.resolve(_this._features);\n  }).fail(function (err) {\n    d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.digestFeaturesForTable = function () {\n  return {\n    headers: [],\n    features: []\n  };\n};\n\nmodule.exports = GEOJSONDataProvider;\n\n},{\"core/layers/providers/provider\":50,\"core/utils/utils\":67}],49:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nfunction KMLDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'kml';\n}\n\ninherit(KMLDataProvider, DataProvider);\n\nvar proto = KMLDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\nmodule.exports = KMLDataProvider;\n\n},{\"core/layers/providers/provider\":50,\"core/utils/utils\":67}],50:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    getTimeoutPromise = _require.getTimeoutPromise;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require2 = require('core/utils/geo'),\n    handleQueryResponse = _require2.handleQueryResponse;\n\nvar _require3 = require('core/utils/parsers'),\n    responseParser = _require3.response;\n\nfunction Provider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._isReady = false;\n  this._name = 'provider';\n  this._layer = options.layer;\n  this._hasFieldsStartWithNotPermittedKey;\n  base(this);\n}\n\ninherit(Provider, G3WObject);\n\nvar proto = Provider.prototype;\n\nproto.getLayer = function () {\n  return this._layer;\n};\n\nproto.setLayer = function (layer) {\n  this._layer = layer;\n};\n\nproto.getFeatures = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.query = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.setReady = function (bool) {\n  this._isReady = bool;\n};\n\nproto.isReady = function () {\n  return this._isReady;\n};\n\nproto.error = function () {};\n\nproto.isValid = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.getName = function () {\n  return this._name;\n};\n\n// Method to transform xml from server to present to queryresult component\nproto.handleQueryResponseFromServer = function (response, projections) {\n  var layers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [this._layer];\n  var wms = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  return handleQueryResponse({\n    response: response,\n    projections: projections,\n    layers: layers,\n    wms: wms\n  });\n};\n\nproto.getQueryResponseTimeoutKey = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [],\n      _ref$layers = _ref.layers,\n      layers = _ref$layers === undefined ? [this._layer] : _ref$layers,\n      resolve = _ref.resolve,\n      query = _ref.query;\n\n  /**\n   * set timeout of a query\n   * @type {number}\n   */\n  return getTimeoutPromise({\n    resolve: resolve,\n    data: {\n      data: responseParser.utils.getTimeoutData(layers),\n      query: query\n    }\n  });\n};\n\nmodule.exports = Provider;\n\n},{\"core/g3wobject\":12,\"core/utils/geo\":64,\"core/utils/parsers\":66,\"core/utils/utils\":67}],51:[function(require,module,exports){\nvar Providers = {\n  geojson: require('./geojsonprovider'),\n  kml: require('./kmlprovider'),\n  xml: require('./xmlprovider'),\n  qgis: require('./qgisprovider'),\n  wms: require('./wmsprovider'),\n  wfs: require('./wfsprovider')\n};\n\nvar ProvidersForServerTypes = {\n  'QGIS': {\n    'virtual': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'postgres': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'oracle': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'mssql': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'spatialite': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'ogr': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'delimitedtext': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'wmst': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wcs': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wms': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wfs': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis\n    },\n    'gdal': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'vector-tile': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'vectortile': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'arcgismapserver': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'mdal': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    }\n  },\n  'OGC': {\n    'wms': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    }\n  },\n  'G3WSUITE': {\n    'geojson': {\n      query: Providers.geojson,\n      filter: null,\n      data: Providers.geojson,\n      search: null\n    }\n  }\n};\n\nfunction ProviderFactory() {\n  this.build = function (providerType, serverType, sourceType, options) {\n    // return instace of seletced provider\n    var providerClass = this.get(providerType, serverType, sourceType);\n    if (providerClass) {\n      return new providerClass(options);\n    }\n    return null;\n  };\n\n  this.get = function (providerType, serverType, sourceType) {\n    return ProvidersForServerTypes[serverType][sourceType][providerType];\n  };\n}\n\nmodule.exports = new ProviderFactory();\n\n},{\"./geojsonprovider\":48,\"./kmlprovider\":49,\"./qgisprovider\":52,\"./wfsprovider\":53,\"./wmsprovider\":54,\"./xmlprovider\":55}],52:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nvar _require3 = require('core/utils/parsers'),\n    responseParser = _require3.response;\n\nvar Feature = require('core/layers/features/feature');\nvar Parsers = require('core/utils/parsers');\n\nfunction QGISProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this._name = 'qgis';\n  this._layer = options.layer || {};\n  this._projections = {\n    map: null,\n    layer: null\n  };\n  // url referred to query\n  this._queryUrl = this._layer.getUrl('query');\n  //filtertokenurl\n  this._filtertokenUrl = this._layer.getUrl('filtertoken');\n  // layer name\n  this._layerName = this._layer.getName() || null; // get name  from QGIS layer, because the query are proxed from g3w-server\n  this._infoFormat = this._layer.getInfoFormat() || 'application/vnd.ogc.gml';\n}\n\ninherit(QGISProvider, DataProvider);\n\nvar proto = QGISProvider.prototype;\n/*\n* token: current token if provide\n* action: create, update, delete\n* */\n\nproto.deleteFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return XHR.get({\n            url: this._filtertokenUrl,\n            params: {\n              mode: 'delete'\n            }\n          });\n\n        case 2:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nproto.getFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _ref3, _ref3$data, data;\n\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return XHR.get({\n            url: this._filtertokenUrl,\n            params: params\n          });\n\n        case 3:\n          _ref3 = _context2.sent;\n          _ref3$data = _ref3.data;\n          data = _ref3$data === undefined ? {} : _ref3$data;\n          return _context2.abrupt('return', data.filtertoken);\n\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2['catch'](0);\n          return _context2.abrupt('return', Promise.reject(_context2.t0));\n\n        case 12:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this, [[0, 9]]);\n}));\n\nproto.getFilterData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref5.field,\n      _ref5$raw = _ref5.raw,\n      raw = _ref5$raw === undefined ? false : _ref5$raw,\n      _ref5$suggest = _ref5.suggest,\n      suggest = _ref5$suggest === undefined ? {} : _ref5$suggest,\n      unique = _ref5.unique,\n      _ref5$formatter = _ref5.formatter,\n      formatter = _ref5$formatter === undefined ? 1 : _ref5$formatter,\n      queryUrl = _ref5.queryUrl,\n      ordering = _ref5.ordering;\n\n  var dataUrl, params, response, isVector, data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          dataUrl = this._layer.getUrl('data');\n          params = {\n            field: field,\n            suggest: suggest,\n            ordering: ordering,\n            formatter: formatter,\n            unique: unique,\n            filtertoken: _applicationState2.default.tokens.filtertoken\n          };\n          _context3.prev = 2;\n          _context3.next = 5;\n          return XHR.get({\n            url: '' + (queryUrl ? queryUrl : dataUrl),\n            params: params\n          });\n\n        case 5:\n          response = _context3.sent;\n          isVector = this._layer.getType() !== \"table\";\n\n          isVector && this.setProjections();\n          data = raw ? response : response.result ? unique ? response.data : {\n            data: responseParser.get('application/json')({\n              layers: [this._layer],\n              response: response.vector.data,\n              projections: this._projections\n            })\n          } : Promise.reject();\n          return _context3.abrupt('return', data);\n\n        case 12:\n          _context3.prev = 12;\n          _context3.t0 = _context3['catch'](2);\n          return _context3.abrupt('return', Promise.reject(_context3.t0));\n\n        case 15:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[2, 12]]);\n}));\n\nproto.setProjections = function () {\n  //COMMENTED LAYER PROJECTION: EXPECT ONLY RESULT IN MAP PROJECTION\n  //this._projections.layer = this._layer.getProjection();\n  this._projections.map = this._layer.getMapProjection() || this._projections.layer;\n};\n\n//query by filter\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var feature_count = options.feature_count || 10;\n  // parameter to get rwa response\n  var raw = options.raw || false;\n  var _options$filter = options.filter,\n      filter = _options$filter === undefined ? null : _options$filter;\n\n  filter = filter && Array.isArray(filter) ? filter : [filter];\n  var isVector = this._layer.getType() !== \"table\";\n  isVector && this.setProjections();\n  var CRS = isVector ? this._projections.map.getCode() : _applicationState2.default.map.epsg;\n  var queryUrl = options.queryUrl || this._queryUrl;\n  var I = options.I,\n      J = options.J,\n      layers = options.layers;\n\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWMSLayerName();\n  }).join(',') : this._layer.getWMSLayerName();\n  if (filter) {\n    // check if geometry filter. If not i have to remove projection layer\n    if (filter[0].getType() !== 'geometry') this._projections.layer = null;\n    filter = filter.map(function (filter) {\n      return filter.get();\n    }).filter(function (value) {\n      return value;\n    });\n    var url = queryUrl;\n    var params = {\n      SERVICE: 'WMS',\n      VERSION: '1.3.0',\n      REQUEST: 'GetFeatureInfo',\n      filtertoken: _applicationState2.default.tokens.filtertoken,\n      LAYERS: layerNames,\n      QUERY_LAYERS: layerNames,\n      INFO_FORMAT: this._infoFormat,\n      FEATURE_COUNT: feature_count,\n      CRS: CRS,\n      I: I,\n      J: J,\n      FILTER: filter && filter.length ? filter.join(';') : undefined,\n      WITH_GEOMETRY: isVector\n    };\n    XHR.get({\n      url: url,\n      params: params\n    }).then(function (response) {\n      var featuresForLayers = raw ? response : _this.handleQueryResponseFromServer(response, _this._projections, layers);\n      d.resolve(featuresForLayers);\n    }).catch(function (err) {\n      return d.reject(err);\n    });\n  } else d.reject();\n  return d.promise();\n};\n\n// get layer config\nproto.getConfig = function () {\n  var d = $.Deferred();\n  var url = this._layer.getUrl('config');\n  if (!url) {\n    d.reject('not valid url');\n    return;\n  }\n  $.get(url).then(function (config) {\n    return d.resolve(config);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.getWidgetData = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var type = options.type,\n      fields = options.fields;\n\n  var widgetUrls = this._layer.getUrl('widget');\n  var url = widgetUrls[type];\n  return $.get(url, {\n    fields: fields\n  });\n};\n\n// unlock feature\nproto.unlock = function () {\n  var unlockUrl = this._layer.getUrl('unlock');\n  var d = $.Deferred();\n  $.post(unlockUrl).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// commit function\nproto.commit = function (commitItems) {\n  var d = $.Deferred();\n  //check if editing or not;\n  var url = this._layer.getUrl('commit');\n  var jsonCommits = JSON.stringify(commitItems);\n  $.post({\n    url: url,\n    data: jsonCommits,\n    contentType: \"application/json\"\n  }).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// METODS LOADING EDITING FEATURES (READ/WRITE) //\nproto.getFeatures = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  // filter null value\n  Object.entries(params).forEach(function (_ref6) {\n    var _ref7 = _slicedToArray(_ref6, 2),\n        key = _ref7[0],\n        value = _ref7[1];\n\n    if (value === null || value === void 0) delete params[key];\n  });\n  var layerType = this._layer.getType();\n  // check if data are requested in read or write mode;\n  var url = void 0;\n  //set contentType\n  var contentType = \"application/json\";\n  //editing mode\n  if (options.editing) {\n    var promise = void 0;\n    url = this._layer.getUrl('editing');\n    if (!url) {\n      d.reject('Url not valid');\n      return;\n    }\n    var urlParams = $.param(params);\n    url += urlParams ? '?' + urlParams : '';\n    var features = [];\n    var filter = options.filter || null;\n    if (filter) {\n      // filterbbox\n      if (filter.bbox) {\n        var bbox = filter.bbox;\n        filter = {\n          in_bbox: bbox[0] + ',' + bbox[1] + ',' + bbox[2] + ',' + bbox[3],\n          filtertoken: _applicationState2.default.tokens.filtertoken\n        };\n        var jsonFilter = JSON.stringify(filter);\n        promise = XHR.post({\n          url: url,\n          data: jsonFilter,\n          contentType: contentType\n        });\n        // filter fid\n      } else if (filter.fid) {\n        var _options = filter.fid;\n        promise = _relations2.default.getRelations(_options);\n      } else if (filter.field) {\n        var _jsonFilter = JSON.stringify(filter);\n        promise = XHR.post({\n          url: url,\n          data: _jsonFilter,\n          contentType: contentType\n        });\n      } else if (filter.fids) {\n        promise = XHR.get({\n          url: url,\n          params: filter\n        });\n      } else if (filter.nofeatures) {\n        var _jsonFilter2 = JSON.stringify({\n          field: (filter.nofeatures_field || 'id') + '|eq|__G3W__NO_FEATURES__'\n        });\n        promise = XHR.post({\n          url: url,\n          data: _jsonFilter2,\n          contentType: contentType\n        });\n      }\n    } else promise = XHR.post({ url: url, contentType: contentType });\n    promise.then(function (response) {\n      var vector = response.vector,\n          result = response.result,\n          featurelocks = response.featurelocks;\n\n      if (result) {\n        var data = vector.data,\n            geometrytype = vector.geometrytype,\n            count = vector.count;\n\n        var parser = Parsers[layerType].get({\n          type: 'json'\n        });\n        //const parser_options = (geometrytype !== 'NoGeometry') ? { crs: this._layer.getCrs(), mapCrs: this._layer.getMapCrs() } : {};\n        var parser_options = geometrytype !== 'NoGeometry' ? { crs: _this2._layer.getCrs() } : {};\n        //get lockIds\n        var lockIds = featurelocks.map(function (featureLock) {\n          return featureLock.featureid;\n        });\n        parser(data, parser_options).forEach(function (feature) {\n          var featureId = '' + feature.getId();\n          if (lockIds.indexOf(featureId) > -1) {\n            features.push(new Feature({\n              feature: feature\n            }));\n          }\n        });\n        // resolve with features locked and requested\n        d.resolve({\n          count: count, // real number of feature that request will return\n          features: features, // feature object returned\n          featurelocks: featurelocks // features locked\n        });\n      } else {\n        // case when server responde with result false (error)\n        d.reject({\n          message: t(\"info.server_error\")\n        });\n      }\n    }).catch(function (err) {\n      return d.reject({ message: t(\"info.server_error\") });\n    });\n  } else {\n    url = this._layer.getUrl('data');\n    var _urlParams = $.param(params);\n    url += _urlParams ? '?' + _urlParams : '';\n    $.get({\n      url: url,\n      contentType: contentType\n    }).then(function (response) {\n      var vector = response.vector;\n      var data = vector.data;\n      d.resolve({\n        data: data,\n        count: vector.count\n      });\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto._loadLayerData = function (mode, customUrlParameters) {\n  var _this3 = this,\n      _arguments = arguments;\n\n  var d = $.Deferred();\n  Obkect.entries(this._layers).forEach(function (_ref8) {\n    var _ref9 = _slicedToArray(_ref8, 2),\n        layerCode = _ref9[0],\n        layer = _ref9[1];\n\n    if (_.isNull(layer.vector)) noVectorlayerCodes.push(layerCode);\n  });\n  var vectorLayersSetup = noVectorlayerCodes.map(function (layerCode) {\n    return _this3._setupVectorLayer(layerCode);\n  });\n  this.emit('loadingvectorlayersstart');\n  $.when.apply(this, vectorLayersSetup).then(function () {\n    var vectorLayersCodes = Array.prototype.slice.call(_arguments);\n    _this3.emit('loadingvectolayersdatastart');\n    _this3.loadAllVectorsData(vectorLayersCodes).then(function () {\n      _this3._vectorLayersCodes = vectorLayersCodes;\n      d.resolve(vectorLayersCodes);\n      _this3.emit('loadingvectorlayersend');\n      _this3.setReady(true);\n    }).fail(function () {\n      _this3._layers.forEach(function (layer) {\n        return layer.vector = null;\n      });\n      d.reject();\n      _this3.emit('errorloadingvectorlayersend');\n      _this3.setReady(false);\n    });\n  }).fail(function () {\n    _this3.setReady(false);\n    _this3.emit('errorloadingvectorlayersend');\n    d.reject();\n  });\n  return d.promise();\n};\n\nproto.setVectorLayersCodes = function (vectorLayersCodes) {\n  this._vectorLayersCodes = vectorLayersCodes;\n};\n\nproto.getVectorLayersCodes = function () {\n  return this._vectorLayersCodes;\n};\n\nproto.getLayers = function () {\n  return this._layers;\n};\n\nproto.reloadVectorData = function (layerCode) {\n  var _this4 = this;\n\n  var d = $.Deferred();\n  var bbox = this._mapService.state.bbox;\n  this._createVectorLayerFromConfig(layerCode).then(function (vectorLayer) {\n    _this4._getVectorLayerData(vectorLayer, bbox).then(function (vectorDataResponse) {\n      _this4.setVectorLayerData(vectorLayer[_this4._editingApiField], vectorDataResponse);\n      vectorLayer.setData(vectorDataResponse.vector.data);\n      d.resolve(vectorLayer);\n    });\n  });\n  return d.promise();\n};\n\nproto.loadAllVectorsData = function (layerCodes) {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  var layers = this._layers;\n  var bbox = this._mapService.state.bbox;\n  var loadedExtent = this._loadedExtent;\n  if (loadedExtent && ol.extent.containsExtent(loadedExtent, bbox)) {\n    return resolvedValue();\n  }\n  this._loadedExtent = !loadedExtent ? bbox : ol.extent.extend(loadedExtent, bbox);\n  if (layerCodes) {\n    layers = [];\n    layerCodes.forEach(function (layerCode) {\n      return layers.push(_this5._layers[layerCode]);\n    });\n  }\n  var vectorDataRequests = layers.map(function (Layer) {\n    return _this5._loadVectorData(Layer.vector, bbox);\n  });\n\n  $.when.apply(this, vectorDataRequests).then(function () {\n    return d.resolve(layerCodes);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._setCustomUrlParameters = function (customUrlParameters) {\n  this._customUrlParameters = customUrlParameters;\n};\n\nproto._checkVectorGeometryTypeFromConfig = function (vectorConfig) {\n  switch (vectorConfig.geometrytype) {\n    case 'Line':\n      vectorConfig.geometrytype = 'LineString';\n      break;\n    case 'MultiLine':\n      vectorConfig.geometrytype = 'MultiLineString';\n      break;\n  }\n  return vectorConfig;\n};\n\nproto._createVectorLayerFromConfig = function (layerCode) {\n  var _this6 = this;\n\n  var layerConfig = this._layers[layerCode];\n  var d = $.Deferred();\n  this._getVectorLayerConfig(layerConfig[this._editingApiField]).then(function (vectorConfigResponse) {\n    var vectorConfig = vectorConfigResponse.vector;\n    vectorConfig = _this6._checkVectorGeometryTypeFromConfig(vectorConfig);\n    var crsLayer = layerConfig.crs || _this6._mapService.getProjection().getCode();\n    var vectorLayer = _this6._createVectorLayer({\n      geometrytype: vectorConfig.geometrytype,\n      format: vectorConfig.format,\n      crs: _this6._mapService.getProjection().getCode(),\n      crsLayer: crsLayer,\n      id: layerConfig.id,\n      name: layerConfig.name,\n      editing: self._editingMode\n    });\n    vectorLayer.setFields(vectorConfig.fields);\n    vectorLayer.setCrs(crsLayer);\n    var relations = vectorConfig.relations;\n    if (relations) {\n      vectorLayer.lazyRelations = true;\n      vectorLayer.setRelations(relations);\n    }\n    if (layerConfig.style) vectorLayer.setStyle(layerConfig.style);\n    d.resolve(vectorLayer);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._setupVectorLayer = function (layerCode) {\n  var _this7 = this;\n\n  var d = $.Deferred();\n  this._createVectorLayerFromConfig(layerCode).then(function (vectorLayer) {\n    var layerConfig = _this7._layers[layerCode];\n    layerConfig.vector = vectorLayer;\n    d.resolve(layerCode);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._loadVectorData = function (vectorLayer, bbox) {\n  var _this8 = this;\n\n  return self._getVectorLayerData(vectorLayer, bbox).then(function (vectorDataResponse) {\n    _this8.setVectorLayerData(vectorLayer[_this8._editingApiField], vectorDataResponse);\n    if (_this8._editingMode && vectorDataResponse.featurelocks) {\n      _this8.setVectorFeaturesLock(vectorLayer, vectorDataResponse.featurelocks);\n    }\n    vectorLayer.setData(vectorDataResponse.vector.data);\n    if (_this8._) return vectorDataResponse;\n  }).fail(function () {\n    return false;\n  });\n};\n\nproto.getVectorLayerData = function (layerCode) {\n  return this._vectorLayersData[layerCode];\n};\n\nproto.getVectorLayersData = function () {\n  return this._vectorLayersData;\n};\n\nproto.setVectorLayerData = function (layerCode, vectorLayerData) {\n  this._vectorLayersData[layerCode] = vectorLayerData;\n};\n\nproto.setVectorFeaturesLock = function (vectorLayer, featureslock) {\n  var newFeaturesLockIds = _.differenceBy(featureslock, vectorLayer.getFeatureLocks(), 'featureid');\n  newFeaturesLockIds.forEach(function (newLockId) {\n    vectorLayer.addLockId(newLockId);\n  });\n};\n\nproto.cleanVectorFeaturesLock = function (vectorLayer) {\n  vectorLayer.cleanFeatureLocks();\n};\n\nproto.lockFeatures = function (layerName) {\n  var _this9 = this;\n\n  var d = $.Deferred();\n  var bbox = this._mapService.state.bbox;\n  var vectorLayer = this._layers[layerName].vector;\n  $.get(this._baseUrl + layerName + \"/?lock\" + this._customUrlParameters + \"&in_bbox=\" + bbox[0] + \",\" + bbox[1] + \",\" + bbox[2] + \",\" + bbox[3]).done(function (data) {\n    _this9.setVectorFeaturesLock(vectorLayer, data.featurelocks);\n    d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._getVectorLayerConfig = function (layerApiField) {\n  var d = $.Deferred();\n  $.get(this._baseUrl + layerApiField + \"/?config\" + this._customUrlParameters).done(function (data) {\n    return d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._getVectorLayerData = function (vectorLayer, bbox) {\n  var d = $.Deferred();\n  var lock = this.getMode() == 'w' ? true : false;\n  var apiUrl = lock ? this._baseUrl + vectorLayer[this._editingApiField] + \"/?editing\" : this._baseUrl + vectorLayer[this._editingApiField] + \"/?\";\n  $.get(apiUrl + this._customUrlParameters + \"&in_bbox=\" + bbox[0] + \",\" + bbox[1] + \",\" + bbox[2] + \",\" + bbox[3]).done(function (data) {\n    return d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._createVectorLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var vector = new VectorLayer(options);\n  return vector;\n};\n\nproto.cleanUpLayers = function () {\n  this._loadedExtent = null;\n};\n\nmodule.exports = QGISProvider;\n\n},{\"core/i18n/i18n.service\":13,\"core/layers/features/feature\":26,\"core/layers/providers/provider\":50,\"core/utils/parsers\":66,\"core/utils/utils\":67,\"services/relations\":364,\"store/application-state\":370}],53:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar DataProvider = require('core/layers/providers/provider');\nvar Filter = require('core/layers/filter/filter');\n\nfunction WFSDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'wfs';\n}\n\ninherit(WFSDataProvider, DataProvider);\n\nvar proto = WFSDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\n// query method\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$reproject = options.reproject,\n      reproject = _options$reproject === undefined ? false : _options$reproject,\n      _options$feature_coun = options.feature_count,\n      feature_count = _options$feature_coun === undefined ? 10 : _options$feature_coun,\n      filter = options.filter;\n\n  params.MAXFEATURES = feature_count;\n  var d = $.Deferred();\n  var _options$layers = options.layers,\n      layers = _options$layers === undefined ? [this._layer] : _options$layers;\n\n\n  var projections = {\n    map: this._layer.getMapProjection(),\n    layer: reproject ? this._layer.getProjection() : null\n  };\n\n  var timeoutKey = this.getQueryResponseTimeoutKey({\n    layers: layers,\n    resolve: d.resolve,\n    query: {}\n  });\n\n  this._doRequest(filter, params, layers, reproject).then(function (response) {\n    var featuresForLayers = _this.handleQueryResponseFromServer(response, projections, layers, wms = false);\n    featuresForLayers.forEach(function (featuresForLayer) {\n      var _featuresForLayer$fea = featuresForLayer.features,\n          features = _featuresForLayer$fea === undefined ? [] : _featuresForLayer$fea;\n      //sanitize in case of nil:true\n\n      features.forEach(function (feature) {\n        Object.entries(feature.getProperties()).forEach(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              attribute = _ref2[0],\n              value = _ref2[1];\n\n          if (toRawType(value) === 'Object' && value['xsi:nil']) feature.set(attribute, 'NULL');\n        });\n      });\n    });\n    d.resolve({\n      data: featuresForLayers\n    });\n  }).fail(function (e) {\n    return d.reject(e);\n  }).always(function () {\n    clearTimeout(timeoutKey);\n  });\n  return d.promise();\n};\n\nproto._post = function (url, params) {\n  url = url.match(/\\/$/) ? url : url + '/';\n  var d = $.Deferred();\n  $.post(url, params).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// get request\nproto._get = function (url, params) {\n  // trasform parameters\n  url = url.match(/\\/$/) ? url : url + '/';\n  var d = $.Deferred();\n  var urlParams = $.param(params);\n  url = url + '?' + urlParams;\n  $.get(url).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//request to server\nproto._doRequest = function (filter) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var layers = arguments[2];\n  var reproject = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  var d = $.Deferred();\n  filter = filter || new Filter({});\n  var layer = layers ? layers[0] : this._layer;\n  var httpMethod = layer.getOwsMethod();\n  var url = layer.getQueryUrl();\n  var infoFormat = layer.getInfoFormat();\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWFSLayerName();\n  }).join(',') : layer.getWFSLayerName();\n  var SRSNAME = reproject ? layer.getProjection().getCode() : this._layer.getMapProjection().getCode();\n  params = Object.assign(params, {\n    SERVICE: 'WFS',\n    VERSION: '1.1.0',\n    REQUEST: 'GetFeature',\n    TYPENAME: layerNames,\n    OUTPUTFORMAT: infoFormat,\n    SRSNAME: SRSNAME\n  });\n  if (filter) {\n    var filterType = filter.getType();\n    var filterConfig = filter.getConfig();\n    var featureRequest = void 0;\n    // get filter from ol\n    var f = ol.format.filter;\n    /////\n    filter = filter.get();\n    switch (filterType) {\n      case 'bbox':\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: f.bbox('the_geom', filter)\n        });\n        break;\n      case 'geometry':\n        //speatial methos. <inteserct, within>\n        var _filterConfig$spatial = filterConfig.spatialMethod,\n            spatialMethod = _filterConfig$spatial === undefined ? 'intersects' : _filterConfig$spatial;\n\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: f[spatialMethod]('the_geom', filter)\n        });\n        break;\n      case 'expression':\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: null\n        });\n        break;\n      case 'all':\n        request = this._post(url, params);\n        return request;\n      default:\n        break;\n    }\n    params.FILTER = ('(' + featureRequest.children[0].innerHTML + ')').repeat(layers ? layers.length : 1);\n    var queryPromise = httpMethod === 'GET' && filterType !== 'geometry' ? this._get(url, params) : this._post(url, params);\n    queryPromise.then(function (response) {\n      d.resolve(response);\n    }).fail(function (err) {\n      if (err.status === 200) d.resolve(err.responseText);else d.reject(err);\n    });\n  } else d.reject();\n\n  return d.promise();\n};\n\nmodule.exports = WFSDataProvider;\n\n},{\"core/layers/filter/filter\":30,\"core/layers/providers/provider\":50,\"core/utils/utils\":67}],54:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    appendParams = _require.appendParams,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    get_LEGEND_ON_LEGEND_OFF_Params = _require2.get_LEGEND_ON_LEGEND_OFF_Params;\n\nvar geoutils = require('core/utils/ol');\nvar DataProvider = require('core/layers/providers/provider');\n\n//overwrite method to read feature\n// da un geojson\nvar GETFEATUREINFO_IMAGE_SIZE = [101, 101];\nvar DPI = geoutils.getDPI();\n\nfunction WMSDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'wms';\n  this._projections = {\n    map: null,\n    layer: null\n  };\n}\n\ninherit(WMSDataProvider, DataProvider);\n\nvar proto = WMSDataProvider.prototype;\n\nproto._getRequestParameters = function (_ref) {\n  var layers = _ref.layers,\n      feature_count = _ref.feature_count,\n      coordinates = _ref.coordinates,\n      infoFormat = _ref.infoFormat,\n      _ref$query_point_tole = _ref.query_point_tolerance,\n      query_point_tolerance = _ref$query_point_tole === undefined ? _constant.QUERY_POINT_TOLERANCE : _ref$query_point_tole,\n      resolution = _ref.resolution,\n      size = _ref.size;\n\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWMSInfoLayerName();\n  }).join(',') : this._layer.getWMSInfoLayerName();\n  var extent = geoutils.getExtentForViewAndSize(coordinates, resolution, 0, size);\n  var x = Math.floor((coordinates[0] - extent[0]) / resolution);\n  var y = Math.floor((extent[3] - coordinates[1]) / resolution);\n  var PARAMS_TOLERANCE = {};\n  var unit = query_point_tolerance.unit,\n      value = query_point_tolerance.value;\n\n  if (unit === 'map') {\n    var bufferGeometry = ol.geom.Polygon.fromCircle(new ol.geom.Circle(coordinates, value));\n    var wkGeometry = new ol.format.WKT();\n    PARAMS_TOLERANCE = {\n      FILTER_GEOM: wkGeometry.writeGeometry(bufferGeometry)\n    };\n  } else {\n    PARAMS_TOLERANCE = {\n      FI_POINT_TOLERANCE: value,\n      FI_LINE_TOLERANCE: value,\n      FI_POLYGON_TOLERANCE: value,\n      G3W_TOLERANCE: value * resolution,\n      I: x,\n      J: y\n    };\n  }\n  /**\n   * Add LEGEND_ON and/or LEGEND_OFF in case of layer that has categories\n   * It used to solve issue related to GetFeatureInfo feature layer categories\n   * that are unchecked (not visisble) at QGIS project setting\n   */\n  var LEGEND_PARAMS = {\n    LEGEND_ON: [],\n    LEGEND_OFF: []\n  };\n  layers.forEach(function (layer) {\n    if (layer.getCategories()) {\n      var _get_LEGEND_ON_LEGEND = get_LEGEND_ON_LEGEND_OFF_Params(layer),\n          LEGEND_ON = _get_LEGEND_ON_LEGEND.LEGEND_ON,\n          LEGEND_OFF = _get_LEGEND_ON_LEGEND.LEGEND_OFF;\n\n      LEGEND_ON && LEGEND_PARAMS.LEGEND_ON.push(LEGEND_ON);\n      LEGEND_OFF && LEGEND_PARAMS.LEGEND_OFF.push(LEGEND_OFF);\n    }\n  });\n\n  var params = _extends({\n    SERVICE: 'WMS',\n    VERSION: '1.3.0',\n    REQUEST: 'GetFeatureInfo',\n    CRS: this._projections.map.getCode(),\n    LAYERS: layerNames,\n    QUERY_LAYERS: layerNames,\n    filtertoken: _applicationState2.default.tokens.filtertoken,\n    INFO_FORMAT: infoFormat,\n    FEATURE_COUNT: feature_count,\n    WITH_GEOMETRY: true,\n    DPI: DPI\n  }, PARAMS_TOLERANCE, {\n    WIDTH: size[0],\n    HEIGHT: size[1],\n    //LEGEND_ON / LEGEND_OFF parameter\n    LEGEND_ON: LEGEND_PARAMS.LEGEND_ON.length ? LEGEND_PARAMS.LEGEND_ON.join(';') : undefined,\n    LEGEND_OFF: LEGEND_PARAMS.LEGEND_OFF.length ? LEGEND_PARAMS.LEGEND_OFF.join(';') : undefined\n  });\n  if (!('STYLES' in params)) params['STYLES'] = '';\n  var bbox = this._projections.map.getAxisOrientation().substr(0, 2) === 'ne' ? [extent[1], extent[0], extent[3], extent[2]] : extent;\n  params['BBOX'] = bbox.join(',');\n  return params;\n};\n\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var infoFormat = this._layer.getInfoFormat() || 'application/vnd.ogc.gml';\n  var layerProjection = this._layer.getProjection();\n  this._projections.map = this._layer.getMapProjection() || layerProjection;\n  var _options$layers = options.layers,\n      layers = _options$layers === undefined ? [this._layer] : _options$layers,\n      _options$feature_coun = options.feature_count,\n      feature_count = _options$feature_coun === undefined ? 10 : _options$feature_coun,\n      _options$size = options.size,\n      size = _options$size === undefined ? GETFEATUREINFO_IMAGE_SIZE : _options$size,\n      _options$coordinates = options.coordinates,\n      coordinates = _options$coordinates === undefined ? [] : _options$coordinates,\n      resolution = options.resolution,\n      query_point_tolerance = options.query_point_tolerance;\n\n  var layer = layers[0];\n  var url = layer.getQueryUrl();\n  var METHOD = layer.isExternalWMS() || !/^\\/ows/.test(url) ? 'GET' : layer.getOwsMethod();\n  var params = this._getRequestParameters({ layers: layers, feature_count: feature_count, coordinates: coordinates, infoFormat: infoFormat, query_point_tolerance: query_point_tolerance, resolution: resolution, size: size });\n  var query = {\n    coordinates: coordinates,\n    resolution: resolution\n  };\n  var timeoutKey = this.getQueryResponseTimeoutKey({\n    layers: layers,\n    resolve: d.resolve,\n    query: query\n  });\n\n  if (layer.useProxy()) {\n    layer.getDataProxyFromServer('wms', {\n      url: url,\n      params: params,\n      method: METHOD,\n      headers: {\n        'Content-Type': infoFormat\n      }\n    }).then(function (response) {\n      var data = _this.handleQueryResponseFromServer(response, _this._projections, layers);\n      d.resolve({\n        data: data,\n        query: query\n      });\n    });\n  } else this[METHOD]({ url: url, layers: layers, params: params }).then(function (response) {\n    var data = _this.handleQueryResponseFromServer(response, _this._projections, layers);\n    d.resolve({\n      data: data,\n      query: query\n    });\n  }).catch(function (err) {\n    return d.reject(err);\n  }).finally(function () {\n    return clearTimeout(timeoutKey);\n  });\n  return d.promise();\n};\n\nproto.GET = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref2.url,\n      params = _ref2.params;\n\n  var sourceParam = url.split('SOURCE');\n  if (sourceParam.length) {\n    url = sourceParam[0];\n    if (sourceParam.length > 1) sourceParam = '&SOURCE' + sourceParam[1];else sourceParam = '';\n  }\n  url = appendParams(url, params);\n  url = '' + url + (sourceParam && sourceParam);\n  return XHR.get({\n    url: url\n  });\n};\n\nproto.POST = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref3.url,\n      params = _ref3.params;\n\n  return XHR.post({\n    url: url,\n    data: params\n  });\n};\n\nmodule.exports = WMSDataProvider;\n\n},{\"constant\":4,\"core/layers/providers/provider\":50,\"core/utils/geo\":64,\"core/utils/ol\":65,\"core/utils/utils\":67,\"store/application-state\":370}],55:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nfunction XMLDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this._name = 'xml';\n}\n\ninherit(XMLDataProvider, DataProvider);\n\nvar proto = XMLDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\nmodule.exports = XMLDataProvider;\n\n},{\"core/layers/providers/provider\":50,\"core/utils/utils\":67}],56:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constant = require('app/constant');\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Layer = require('core/layers/layer');\nvar Editor = require('core/editing/editor');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar Feature = require('core/layers/features/feature');\n\n// Base Layer that support editing\nfunction TableLayer() {\n  var _this3 = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // setters\n  this.setters = {\n    // delete all features\n    clearFeatures: function clearFeatures() {\n      this._clearFeatures();\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    deleteFeature: function deleteFeature(feature) {\n      this._deleteFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    setFeatures: function setFeatures(features) {\n      this._setFeatures(features);\n    },\n\n    // get data from every sources (server, wms, etc..)\n    // throught provider related to featuresstore\n    getFeatures: function getFeatures() {\n      var _this = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var d = $.Deferred();\n      this._featuresstore.getFeatures(options).then(function (promise) {\n        promise.then(function (features) {\n          _this.emit('getFeatures', features);\n          return d.resolve(features);\n        }).fail(function (err) {\n          return d.reject(err);\n        });\n      }).fail(function (err) {\n        return d.reject(err);\n      });\n      return d.promise();\n    },\n    commit: function commit(commitItems) {\n      var _this2 = this;\n\n      var d = $.Deferred();\n      this._featuresstore.commit(commitItems).then(function (promise) {\n        promise.then(function (response) {\n          response && response.result && _this2.syncSelectionFilterFeatures(commitItems);\n          d.resolve(response);\n        }).fail(function (err) {\n          return d.reject(err);\n        });\n      }).fail(function (err) {\n        d.reject(err);\n      });\n      return d.promise();\n    },\n    setColor: function setColor(color) {\n      this._setColor(color);\n    }\n  };\n  /*\n   * editing url api:\n   * /api/vector/<type of request: data/editing/config>/<project_type>/<project_id>/<layer_id>\n   * example: /api/vector/config/qdjango/10/points273849503023\n   *\n  */\n  this.type = Layer.LayerTypes.TABLE;\n  // color\n  this._color = null;\n  options.project = options.project || _projects2.default.getCurrentProject();\n  this.layerId = config.id;\n  // add urls\n  config.urls = config.urls || {};\n  // add editing configurations\n  config.editing = {\n    fields: [] // editing fields\n  };\n  // call base layer\n  base(this, config, options);\n\n  // get configuration from server if is editable\n  this._editatbleLayer;\n  if (this.isEditable()) {\n    // add state info for the layer\n    this.layerForEditing = new Promise(function (resolve, reject) {\n      _this3.getEditingConfig().then(function () {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            vector = _ref.vector,\n            _ref$constraints = _ref.constraints,\n            constraints = _ref$constraints === undefined ? {} : _ref$constraints,\n            _ref$capabilities = _ref.capabilities,\n            capabilities = _ref$capabilities === undefined ? _constant.DEFAULT_EDITING_CAPABILITIES : _ref$capabilities;\n\n        _this3.config.editing.fields = vector.fields;\n        _this3.config.editing.format = vector.format;\n        _this3.config.editing.constraints = constraints;\n        //set default editing capabilities\n        _this3.config.editing.capabilities = capabilities;\n        _this3.config.editing.style = vector.style;\n        _this3.config.editing.form = {\n          perc: null\n        };\n        _this3._setOtherConfigParameters(vector);\n        vector.style && _this3.setColor(vector.style.color);\n        // create an instance of editor\n        _this3._editor = new Editor({\n          layer: _this3\n        });\n\n        resolve(_this3);\n        _this3.setReady(true);\n      }).fail(function (err) {\n        reject(_this3);\n        _this3.setReady(false);\n      });\n    });\n    this.state = _extends({}, this.state, {\n      editing: {\n        started: false,\n        modified: false,\n        ready: false\n      }\n    });\n  }\n  this._featuresstore = new FeaturesStore({\n    provider: this.providers.data\n  });\n}\n\ninherit(TableLayer, Layer);\n\nvar proto = TableLayer.prototype;\n\n//sync selection\nproto.syncSelectionFilterFeatures = function (commitItems) {\n  try {\n    var layer = _catalogLayers2.default.getLayerById(this.getId());\n    layer.isGeoLayer() && commitItems.update.forEach(function (updateItem) {\n      var id = updateItem.id,\n          geometry = updateItem.geometry;\n\n      layer.getOlSelectionFeature(id) && layer.updateOlSelectionFeature({ id: id, geometry: geometry });\n    });\n    commitItems.delete.forEach(function (id) {\n      layer.hasSelectionFid(id) && layer.excludeSelectionFid(id);\n    });\n  } catch (err) {}\n};\n\nproto.setFormPercentage = function (perc) {\n  this.config.editing.form.perc = perc;\n};\n\nproto.getFormPercentage = function () {\n  return this.config.editing.form.perc;\n};\n\nproto.clone = function () {\n  return _.cloneDeep(this);\n};\n\nproto.cloneFeatures = function () {\n  return this._featuresstore.clone();\n};\n\nproto.setVectorUrl = function (url) {\n  this.vectorUrl = url;\n};\n\nproto.setProjectType = function (projectType) {\n  this.projectType = projectType;\n};\n\nproto._setColor = function (color) {\n  this._color = color;\n};\n\nproto.getColor = function () {\n  return this._color;\n};\n\nproto.readFeatures = function () {\n  return this._featuresstore.readFeatures();\n};\n\n// return layer for editing\nproto.getLayerForEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      vectorurl = _ref3.vectorurl,\n      project_type = _ref3.project_type;\n\n  var editableLayer;\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          vectorurl && this.setVectorUrl(vectorurl);\n          project_type && this.setProjectType(project_type);\n          this.setEditingUrl();\n          editableLayer = this.clone();\n          _context.prev = 4;\n          _context.next = 7;\n          return editableLayer.layerForEditing;\n\n        case 7:\n          return _context.abrupt('return', _context.sent);\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context['catch'](4);\n          return _context.abrupt('return', _context.t0);\n\n        case 13:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[4, 10]]);\n}));\n\nproto.getEditingSource = function () {\n  return this._editor.getEditingSource();\n};\n\nproto.readEditingFeatures = function () {\n  return this._editor.readEditingFeatures();\n};\n\nproto.getEditingLayer = function () {\n  return this;\n};\n\n//check if is editingLayer useful to get editingstyle\nproto.isEditingLayer = function () {\n  return !!this.config.editing;\n};\n\nproto.getEditingStyle = function () {\n  return this.config.editing.style;\n};\n\nproto.setEditingStyle = function () {\n  var style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config.editing.style = style;\n};\n\nproto.getEditingConstrains = function () {\n  return this.config.editing.constraints;\n};\n\nproto.getEditingCapabilities = function () {\n  return this.config.editing.capabilities;\n};\n\nproto.isFieldRequired = function (fieldName) {\n  var required = false;\n  this.getEditingFields().forEach(function (field) {\n    if (fieldName === field.name) {\n      required = !!field.validate.required;\n      return false;\n    }\n  });\n  return required;\n};\n\n// unlock editng features\nproto.unlock = function () {\n  var d = $.Deferred();\n  this._featuresstore.unlock().then(function () {\n    return d.resolve();\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto._setOtherConfigParameters = function (config) {\n  // overwrite by vector layer\n};\n\n// return layer fields\nproto.getEditingFields = function () {\n  var editable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var fields = this.config.editing.fields.length ? this.config.editing.fields : this.config.fields;\n  if (editable) fields = fields.filter(function (field) {\n    return field.editable;\n  });\n  return fields;\n};\n\nproto.isPkField = function (field) {\n  var find_field = this.getEditingFields().find(function (_field) {\n    return _field.name === field;\n  });\n  return find_field && find_field.pk;\n};\n\nproto.isEditingFieldEditable = function (field) {\n  var find_field = this.getEditingFields().find(function (_field) {\n    return _field.name === field;\n  });\n  return find_field ? find_field.editable : false;\n};\n\nproto.getEditingNotEditableFields = function () {\n  return this.config.editing.fields.filter(function (field) {\n    return !field.editable;\n  }).map(function (field) {\n    return field.name;\n  });\n};\n\nproto.getEditingMediaFields = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n  return this.config.editing.fields.filter(function (field) {\n    return field.input.type === 'media';\n  }).map(function (field) {\n    return field.name;\n  });\n};\n\nproto.getFieldsLabel = function () {\n  var labels = [];\n  this.getEditingFields().forEach(function (field) {\n    return labels.push(field.label);\n  });\n  return labels;\n};\n\nproto.getDataFormat = function () {\n  return this.config.editing.format;\n};\n\n// raw data\nproto.getEditingFormat = function () {\n  return this.config.editing.format;\n};\n\nproto.isReady = function () {\n  return this.state.editing.ready;\n};\n\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.editing.ready = bool;\n};\n\n// get configuration from server\nproto.getEditingConfig = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var provider = this.getProvider('data');\n  provider.getConfig(options).then(function (config) {\n    return d.resolve(config);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.addEditingConfigFieldOption = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref4.field,\n      key = _ref4.key,\n      value = _ref4.value;\n\n  var options = field.input.options;\n  options[key] = value;\n  return options[key];\n};\n\nproto.getWidgetData = function (options) {\n  var provider = this.getProvider('data');\n  var d = $.Deferred();\n  provider.getWidgetData(options).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.getCommitUrl = function () {\n  return this.config.urls.commit;\n};\n\nproto.setCommitUrl = function (url) {\n  this.config.urls.commit = url;\n};\n\nproto.getEditingUrl = function () {\n  return this.config.urls.editing;\n};\n\nproto.getUnlockUrl = function () {\n  return this.config.url.unlock;\n};\n\nproto.setUnlockUrl = function (url) {\n  this.config.urls.unlock = url;\n};\n\nproto.getWidgetUrl = function () {\n  return this.config.urls.widget;\n};\n\n// set data url\nproto.setDataUrl = function (url) {\n  this.config.urls.data = url;\n};\n\nproto.getDataUrl = function () {\n  return this.config.urls.data;\n};\n\n// url to get config layer\nproto.getConfigUrl = function () {\n  return this.config.urls.config;\n};\n\nproto.setConfigUrl = function (url) {\n  this.config.urls.index = url;\n};\n\nproto.getEditor = function () {\n  return this._editor;\n};\n\nproto.isStarted = function () {\n  return this.getEditor().isStarted();\n};\n\nproto.setEditor = function (editor) {\n  this._editor = editor;\n};\n\nproto.getFeaturesStore = function () {\n  return this._featuresstore;\n};\n\nproto.setFeaturesStore = function (featuresstore) {\n  this._featuresstore = featuresstore;\n};\n\nproto.setSource = function (source) {\n  this.setFeaturesStore(source);\n};\n\nproto.getSource = function () {\n  return this._featuresstore;\n};\n\n// get editing style\nproto.getEditingStyle = function () {\n  return this.config.editing.style;\n};\n\nproto._setFeatures = function (features) {\n  this._featuresstore.setFeatures(features);\n};\n\nproto.addFeatures = function (features) {\n  var _this4 = this;\n\n  features.forEach(function (feature) {\n    return _this4.addFeature(feature);\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._featuresstore.addFeature(feature);\n};\n\nproto._deleteFeature = function (feature) {\n  return feature.getId();\n};\n\nproto._updateFeature = function (feature) {};\n\nproto._clearFeatures = function () {\n  this._featuresstore.clearFeatures();\n};\n\nproto.addLockIds = function (lockIds) {\n  this._featuresstore.addLockIds(lockIds);\n};\n\nproto.setFieldsWithValues = function (feature, fields) {\n  var createAttributesFromFields = function createAttributesFromFields(fields) {\n    var attributes = {};\n    fields.forEach(function (field) {\n      if (field.type === 'child') {\n        attributes[field.name] = createAttributesFromFields(field.fields);\n      } else if (field.value === 'null') {\n        field.value = null;\n      }\n      attributes[field.name] = field.value;\n    });\n    return attributes;\n  };\n  var attributes = createAttributesFromFields(fields);\n  feature.setProperties(attributes);\n  return attributes;\n};\n\nproto.getFieldsWithValues = function (obj) {\n  var _this5 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$exclude = options.exclude,\n      exclude = _options$exclude === undefined ? [] : _options$exclude,\n      _options$get_default_ = options.get_default_value,\n      get_default_value = _options$get_default_ === undefined ? true : _options$get_default_;\n\n\n  var fields = JSON.parse(JSON.stringify(this.getEditingFields()));\n  var feature = void 0;\n\n  if (obj instanceof Feature) {\n    feature = obj;\n  } else if (obj instanceof ol.Feature) {\n    feature = new Feature({ feature: obj });\n  } else if (obj) {\n    feature = this.getFeatureById(obj);\n  } else {\n    return fields;\n  }\n\n  var attributes = feature.getProperties();\n\n  fields.forEach(function (field) {\n\n    field.value = attributes[field.name];\n\n    // store original value\n    field._value = attributes[field.name];\n\n    // at beginning set update false. Used to form\n    field.update = false;\n\n    if (field.input) {\n      var _options = _this5.getEditingFields().find(function (_field) {\n        return _field.name === field.name;\n      }).input.options;\n      field.input.options.loading = _options.loading || { state: null };\n      field.input.options.values = _options.values;\n    }\n\n    // exclude contain field to set visible false\n    field.visible = exclude.indexOf(field.name) === -1;\n\n    // for editing purpose\n    if (undefined === field.validate) {\n      field.validate = {};\n    }\n\n    field.forceNull = false;\n\n    field.validate.valid = true;\n\n    //useful to get previous value in certain case\n    field.validate._valid = true;\n\n    // need to be check if default value is set by server configuration field\n    field.value_from_default_value = false;\n\n    // specify if need to get value from form field.input.options.default value in case of missing value of field.value\n    field.get_default_value = get_default_value;\n\n    field.validate.unique = field.validate.unique || false;\n\n    // for validate.unique purpose to check is new value iserted or change need to be di\n    field.validate.exclude_values = new Set();\n\n    field.validate.required = field.validate.required || false;\n\n    field.validate.mutually_valid = true;\n\n    field.validate.empty = !field.validate.required;\n\n    field.validate.message = null;\n  });\n\n  return fields;\n};\n\nproto.createNewFeature = function () {\n  var feature = new ol.Feature();\n  var properties = {};\n  this.getEditingFields().forEach(function (field) {\n    return properties[field.name] = null;\n  });\n  feature.setProperties(properties);\n  feature = new Feature({\n    feature: feature\n  });\n  feature.setNew();\n  return feature;\n};\n\nmodule.exports = TableLayer;\n\n},{\"app/constant\":4,\"core/editing/editor\":6,\"core/layers/features/feature\":26,\"core/layers/features/featuresstore\":27,\"core/layers/layer\":34,\"core/utils/utils\":67,\"store/catalog-layers\":371,\"store/projects\":376}],57:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    mixin = _require.mixin;\n\nvar Layer = require('core/layers/layer');\nvar TableLayer = require('core/layers/tablelayer');\nvar GeoLayerMixin = require('core/layers/geolayermixin');\nvar VectorMapLayer = require('core/layers/map/vectorlayer');\n\nfunction VectorLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments[1];\n\n  base(this, config, options);\n  this._mapLayer = null; // later tah will be added to map\n  this.type = Layer.LayerTypes.VECTOR;\n  // need a ol layer for add to map\n  this.setup(config, options);\n  this.onafter('setColor', function (color) {});\n}\n\ninherit(VectorLayer, TableLayer);\n\nmixin(VectorLayer, GeoLayerMixin);\n\nvar proto = VectorLayer.prototype;\n\nproto.getEditingLayer = function () {\n  return this.getMapLayer().getOLLayer();\n};\n\nproto.resetEditingSource = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.getMapLayer().resetSource(features);\n};\n\nproto._setOtherConfigParameters = function (config) {\n  this.config.editing.geometrytype = config.geometrytype;\n};\n\nproto.getEditingGeometryType = function () {\n  return this.config.editing.geometrytype;\n};\n\nproto.getMapLayer = function () {\n  if (this._mapLayer) return this._mapLayer;\n  var id = this.getId();\n  var geometryType = this.getGeometryType();\n  var color = this.getColor();\n  var style = this.isEditingLayer() ? this.getEditingStyle() : this.getCustomStyle();\n  var provider = this.getProvider('data');\n  this._mapLayer = new VectorMapLayer({\n    id: id,\n    geometryType: geometryType,\n    color: color,\n    style: style,\n    provider: provider,\n    features: this._editor && this._editor.getEditingSource().getFeaturesCollection()\n  });\n  return this._mapLayer;\n};\n\nmodule.exports = VectorLayer;\n\n},{\"core/layers/geolayermixin\":32,\"core/layers/layer\":34,\"core/layers/map/vectorlayer\":44,\"core/layers/tablelayer\":56,\"core/utils/utils\":67}],58:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar G3WObject = require('core/g3wobject');\nvar ComponentsFactory = require('gui/component/componentsfactory');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    addI18nPlugin = _require2.addI18nPlugin;\n\nvar TIMEOUT = 10000;\n\nvar Plugin = function Plugin() {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$name = _ref.name,\n      name = _ref$name === undefined ? null : _ref$name,\n      _ref$config = _ref.config,\n      config = _ref$config === undefined ? _plugins2.default.getPluginConfig(name) : _ref$config,\n      _ref$service = _ref.service,\n      service = _ref$service === undefined ? null : _ref$service,\n      _ref$dependencies = _ref.dependencies,\n      dependencies = _ref$dependencies === undefined ? [] : _ref$dependencies,\n      _ref$i18n = _ref.i18n,\n      i18n = _ref$i18n === undefined ? null : _ref$i18n,\n      _ref$fontClasses = _ref.fontClasses,\n      fontClasses = _ref$fontClasses === undefined ? [] : _ref$fontClasses,\n      _ref$api = _ref.api,\n      api = _ref$api === undefined ? {} : _ref$api;\n\n  base(this);\n\n  this.setName(name);\n  this.setConfig(config);\n  this.setLocale(i18n);\n  this.setService(service);\n  this.setDependencies(dependencies);\n  this.addFontClasses(fontClasses);\n  this.setApi(api);\n  this.setHookService(null);\n\n  this._ready = false;\n\n  // List of sidebar services that usually plugin need to interact with (hook = place/name of component)\n  this.hookservices = {\n    'search': _gui2.default.getService('search'),\n    'tools': _gui2.default.getService('tools')\n  };\n\n  // Automatically remove the loading plugin indicator after timeout\n  this._timeout = setTimeout(function () {\n    _plugins2.default.removeLoadingPlugin(_this.name, _this._ready);\n    _this.removeLayout();\n  }, TIMEOUT);\n};\n\ninherit(Plugin, G3WObject);\n\nvar proto = Plugin.prototype;\n\nproto.setName = function (name) {\n  this.name = name;\n};\n\nproto.getName = function () {\n  return this.name;\n};\n\nproto.setConfig = function (config) {\n  this.config = toRawType(config) === 'Object' ? config : null;\n};\n\nproto.getConfig = function () {\n  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.name;\n\n  return this.config || _plugins2.default.getPluginConfig(name);\n};\n\nproto.setLocale = function (i18n) {\n  if (i18n && this.name) addI18nPlugin({ name: this.name, config: i18n });\n};\n\nproto.setService = function (service) {\n  this.service = service;\n  if (service) service.setPlugin(this);\n};\n\nproto.getService = function () {\n  return this.service;\n};\n\nproto.setDependencies = function (dependencies) {\n  this.dependencies = dependencies;\n};\n\nproto.setApi = function () {\n  var api = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._api = api;\n  /**\n   * @FIXME useless assignment ?\n   */\n  api.getConfig = this._api.getConfig; // add alias for \"api.getConfig()\" method\n};\n\nproto.getApi = function () {\n  return this._api;\n};\n\nproto.setHookService = function (hook) {\n  this._hook = hook;\n};\n\nproto.getHookService = function () {\n  var hook = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"tools\";\n\n  return this.hookservices[hook];\n};\n\n/**\n * Override plugin's content default layout (eg. default panel width, height, ...)\n * \n * @see g3wsdk.core.ApplicationState.gui.layout\n */\nproto.setLayout = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _application2.default.cloneLayout('app');\n\n  _application2.default.setLayout(this.name, config);\n};\n\n/**\n * @FIXME add description\n * \n * @see g3wsdk.core.ApplicationState.gui.layout.__current\n */\nproto.setCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.name);\n};\n\n/**\n * @FIXME add description\n * \n * @see g3wsdk.core.ApplicationState.gui.layout\n */\nproto.removeLayout = function () {\n  _application2.default.removeLayout(this.name);\n};\n\n/**\n * @FIXME add description\n */\nproto.setReady = function (isReady) {\n  var _this2 = this;\n\n  this._ready = isReady;\n  if (this._ready) {\n    this.setLayout();\n  }\n  this.emit('set-ready', isReady, this.name);\n  /**\n   * @FIXME empty delay ?\n   */\n  setTimeout(function () {\n    clearTimeout(_this2._timeout);\n    _plugins2.default.removeLoadingPlugin(_this2.name, _this2._ready);\n  }, 0 /* 0 = allow any previously \"setTimeout\" to execute */);\n};\n\n/**\n * @FIXME add description\n */\nproto.isReady = function () {\n  var _this3 = this;\n\n  return new Promise(function (resolve) {\n    _this3._ready ? resolve(_this3._ready) : _this3.once('set-ready', function (isReady) {\n      _this3._ready = isReady;resolve(_this3._ready);\n    });\n  });\n};\n\n/**\n * Check if plugin is compatible with current projectId\n */\nproto.isCurrentProjectCompatible = function (projectId) {\n  return projectId === _projects2.default.getCurrentProject().getGid();\n};\n\n/**\n * Check and register plugin only when compatible with current projectId (eg: qdjango:1)\n */\nproto.registerPlugin = function (projectId) {\n  var iscompatible = this.isCurrentProjectCompatible(projectId);\n  if (iscompatible) {\n    _plugins2.default.registerPlugin(this);\n  } else {\n    _plugins2.default.removeLoadingPlugin(this.name, false);\n    clearTimeout(this._timeout);\n  }\n  return iscompatible;\n};\n\n/**\n * @FIXME explain better what it does\n * \n * Get plugin dependencies \n */\nproto.getDependencyPlugins = function (pluginsName) {\n  var _this4 = this;\n\n  this.dependencies = pluginsName || this.dependencies;\n  return Promise.all(this.dependencies.map(function (pluginName) {\n    return _this4.getDependencyPlugin(pluginName);\n  }));\n};\n\n/**\n * @FIXME explain better what it does\n * \n * Create to not replace above plugin method used by non changed old plugin\n */\nproto.getDependencyPluginsObject = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(pluginsName) {\n    var pluginsApiObject, promises;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            pluginsApiObject = {};\n            _context.next = 3;\n            return this.getDependencyPlugins(pluginsName);\n\n          case 3:\n            promises = _context.sent;\n\n            this.dependencies.forEach(function (pluginName, index) {\n              return pluginsApiObject[pluginName] = promises[index];\n            });\n            return _context.abrupt('return', pluginsApiObject);\n\n          case 6:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/**\n * @FIXME explain better what it does\n * \n * Get plugin dependency\n */\nproto.getDependencyPlugin = function (pluginName) {\n  if (_plugins2.default.isTherePlugin(pluginName)) {\n    return new Promise(function (resolve) {\n      var plugin = _plugins2.default.getPlugin(pluginName);\n      /**\n       * @TODO refactor weird shortcircuiting logic\n       */\n      plugin && plugin.isReady().then(function () {\n        return resolve(plugin.getApi());\n      }) || _plugins2.default.onafter('registerPlugin', function (plugin) {\n        plugin.name === pluginName && plugin.isReady().then(function () {\n          resolve(plugin.getApi());\n        });\n      });\n    });\n  }\n  return Promise.reject({ error: 'no plugin' });\n};\n\n/**\n * Handle loading process of a specific hook service (eg. \"tools\" interface on the left sidebar)\n */\nproto.setHookLoading = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$hook = _ref3.hook,\n      hook = _ref3$hook === undefined ? \"tools\" : _ref3$hook,\n      _ref3$loading = _ref3.loading,\n      loading = _ref3$loading === undefined ? false : _ref3$loading;\n\n  this.getHookService(hook).setLoading(loading);\n};\n\n/**\n * @FIXME add description\n */\nproto.addToolGroup = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$hook = _ref4.hook,\n      hook = _ref4$hook === undefined ? \"tools\" : _ref4$hook,\n      order = _ref4.position,\n      group = _ref4.title;\n\n  this.getHookService(hook).addToolGroup(order, group);\n};\n\n/**\n * @FIXME add description\n */\nproto.removeToolGroup = function () {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      hook = _ref5.hook,\n      group = _ref5.group;\n\n  this.getHookService(hook).removeToolGroup(group.title);\n};\n\n/**\n * @FIXME add description\n */\nproto.addTools = function () {\n  var _this5 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$hook = _ref6.hook,\n      hook = _ref6$hook === undefined ? \"tools\" : _ref6$hook,\n      action = _ref6.action,\n      html = _ref6.html,\n      _ref6$offline = _ref6.offline,\n      offline = _ref6$offline === undefined ? true : _ref6$offline,\n      icon = _ref6.icon,\n      name = _ref6.name,\n      type = _ref6.type,\n      _ref6$options = _ref6.options,\n      options = _ref6$options === undefined ? {} : _ref6$options,\n      _ref6$loading = _ref6.loading,\n      loading = _ref6$loading === undefined ? false : _ref6$loading,\n      _ref6$disabled = _ref6.disabled,\n      disabled = _ref6$disabled === undefined ? false : _ref6$disabled,\n      _ref6$state = _ref6.state,\n      state = _ref6$state === undefined ? {\n    type: null,\n    message: null\n  } : _ref6$state;\n\n  var groupTools = arguments[1];\n\n  if (!action && !type) {\n    this.removeToolGroup({ hook: hook, group: groupTools });\n    return [];\n  } else {\n    this.setHookService(hook);\n    var tools = (this.config.configs || [this.config]).map(function (config) {\n      return {\n        icon: icon,\n        type: type,\n        name: config.name || name,\n        html: html,\n        loading: loading,\n        disabled: disabled,\n        options: options,\n        offline: offline,\n        action: action && action.bind(_this5, config),\n        state: state\n      };\n    });\n    this.getHookService(hook).addTools(tools, groupTools);\n    return tools;\n  }\n};\n\n/**\n * @FIXME add description\n */\nproto.setToolState = function () {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref7.id,\n      _ref7$state = _ref7.state,\n      state = _ref7$state === undefined ? { type: null, message: null } : _ref7$state;\n\n  this.hookservices[this._hook].setToolState({ id: id, state: state });\n};\n\n/**\n * @FIXME add description\n */\nproto.removeTools = function () {\n  this.hookservices[this._hook].removeTools();\n};\n\n/**\n * Helper method to create and add a custom component item on the left sidebar\n */\nproto.createSideBarComponent = function (vueComponentObject) {\n  var _ref8, _ref8$open, _ref8$collapsible, _ref8$mobile, _ref8$isolate, _ref8$closewhenshowvi, _ref8$iconConfig, _ref8$events, _ref8$sidebarOptions;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (_ref8 = {}, id = _ref8.id, title = _ref8.title, _ref8$open = _ref8.open, open = _ref8$open === undefined ? false : _ref8$open, _ref8$collapsible = _ref8.collapsible, collapsible = _ref8$collapsible === undefined ? true : _ref8$collapsible, _ref8$mobile = _ref8.mobile, mobile = _ref8$mobile === undefined ? true : _ref8$mobile, _ref8$isolate = _ref8.isolate, isolate = _ref8$isolate === undefined ? false : _ref8$isolate, _ref8$closewhenshowvi = _ref8.closewhenshowviewportcontent, closewhenshowviewportcontent = _ref8$closewhenshowvi === undefined ? true : _ref8$closewhenshowvi, _ref8$iconConfig = _ref8.iconConfig, iconConfig = _ref8$iconConfig === undefined ? {\n    // color: 'yellow',                // color of icon\n    // icon:'pin',                     // see gui\\vue\\vueappplugin.js font list\n  } : _ref8$iconConfig, _ref8$events = _ref8.events, events = _ref8$events === undefined ? {\n    // open: {\n    //   when: 'before',\n    //   cb:() => { /* TODO: add sample usage */ }\n    // }\n  } : _ref8$events, _ref8$sidebarOptions = _ref8.sidebarOptions, sidebarOptions = _ref8$sidebarOptions === undefined ? {\n    position: 1 // can be a number or a string \n  } : _ref8$sidebarOptions, _ref8);\n\n\n  var componentsFactoryOpts = _extends({}, options, {\n    iconColor: options.iconConfig.color,\n    icon: _gui2.default.getFontClass(options.iconConfig.icon)\n  });\n\n  delete componentsFactoryOpts.iconConfig;\n\n  var PluginSiderbarComponent = ComponentsFactory.build({ vueComponentObject: vueComponentObject }, componentsFactoryOpts);\n  _gui2.default.addComponent(PluginSiderbarComponent, 'sidebar', options.sidebarOptions);\n  this.once('unload', function () {\n    return _gui2.default.removeComponent(id, 'sidebar', options.sidebarOptions);\n  });\n  return PluginSiderbarComponent;\n};\n\n/**\n * @deprecated since v3.4.\n */\nproto.unload = function () {\n  this.service && this.service.clearAllEvents();\n  this.emit('unload');\n  //console.log('UNLOAD can be overwrite by plugin');\n};\n\n/**\n * @deprecated since v3.4.\n */\nproto.load = function () {\n  //console.log('LOAD  need to be overwrite by plugin');\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.getProject = function () {\n  return _projects2.default.getCurrentProject();\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addDependency = function (dependency) {\n  this.dependencies.push(dependency);\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addFontClass = function (_ref9) {\n  var name = _ref9.name,\n      className = _ref9.className;\n\n  Vue.prototype.g3wtemplate.addFontClass({ name: name, className: className });\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addFontClasses = function () {\n  var _this6 = this;\n\n  var fonClasses = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fonClasses.forEach(function (fontClass) {\n    return _this6.addFontClass(fontClass);\n  });\n};\n\nmodule.exports = Plugin;\n\n},{\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"gui/component/componentsfactory\":116,\"services/application\":348,\"services/gui\":358,\"store/plugins\":375,\"store/projects\":376}],59:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction PluginService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.plugin;\n  this._api = {\n    own: null,\n    dependencies: {}\n  };\n  this._pluginEvents = {};\n  this._appEvents = [];\n  this.currentLayout = _application2.default.getCurrentLayoutName();\n  this.vm = new Vue();\n  this.unwatch = this.vm.$watch(function () {\n    return _applicationState2.default.gui.layout.__current;\n  }, function (currentLayoutName) {\n    return _this.currentLayout = currentLayoutName !== _this.getPlugin().getName() ? currentLayoutName : _this.currentLayout;\n  });\n}\n\ninherit(PluginService, G3WObject);\n\nvar proto = PluginService.prototype;\n\n/**\n * Set a default init method. Overwrite by each plugin\n * @param config: plugin configuration object\n */\nproto.init = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n};\n\nproto.setCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.getPlugin().getName());\n};\n\nproto.resetCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.currentLayout);\n};\n\n// set owner plugin of the service\nproto.setPlugin = function (plugin) {\n  this.plugin = plugin;\n};\n\n// return the instance of the plugin owner of the service\nproto.getPlugin = function () {\n  return this.plugin;\n};\n\nproto.isIframe = function () {\n  return _application2.default.isIframe();\n};\n\n/**\n * Get Current Project\n */\nproto.getCurrentProject = function () {\n  return _application2.default.getCurrentProject();\n};\n\nproto.getGid = function () {\n  var gid = this.config.gid;\n\n  return gid && gid.split(':')[1];\n};\n\nproto.getConfig = function () {\n  return this.config;\n};\n\nproto.setConfig = function (config) {\n  this.config = config;\n};\n\nproto.setApi = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      dependency = _ref.dependency,\n      api = _ref.api;\n\n  if (!dependency) this._api.own = api;else this._api.dependencies[dependency] = api;\n};\n\nproto.getApi = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      dependency = _ref2.dependency;\n\n  return dependency && this._api.dependencies[dependency] || this._api.own;\n};\n\nproto.initEvents = function () {\n  var events = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var i in events) {\n    var name = events[i];\n    this._pluginEvents[name] = {};\n  }\n};\n\nproto.registerWindowEvent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      evt = _ref3.evt,\n      cb = _ref3.cb;\n\n  _application2.default.registerWindowEvent({\n    evt: evt,\n    cb: cb\n  });\n};\n\nproto.unregisterWindowEvent = function (_ref4) {\n  var evt = _ref4.evt,\n      cb = _ref4.cb;\n\n  _application2.default.unregisterWindowEvent({\n    evt: evt,\n    cb: cb\n  });\n};\n\nproto.subscribeEvent = function (_ref5) {\n  var name = _ref5.name,\n      _ref5$once = _ref5.once,\n      once = _ref5$once === undefined ? false : _ref5$once,\n      owner = _ref5.owner,\n      listener = _ref5.listener;\n\n  this._pluginEvents[name] = this._pluginEvents[name] ? this._pluginEvents[name] : {};\n  this._pluginEvents[name][owner] = listener;\n  once ? this.once(name, listener) : this.on(name, listener);\n};\n\nproto.triggerEvent = function (_ref6) {\n  var name = _ref6.name,\n      _ref6$params = _ref6.params,\n      params = _ref6$params === undefined ? {} : _ref6$params;\n\n  this.emit(name, params);\n};\n\nproto.unsubscribeEvent = function (_ref7) {\n  var name = _ref7.name,\n      owner = _ref7.owner;\n\n  var listener = this._pluginEvents[name][owner];\n  this.removeEvent(name, listener);\n  delete this._pluginEvents[name][owner];\n};\n\nproto.unsubscribeAllEvents = function () {\n  for (var name in this._pluginEvents) {\n    this.removeEvent(name);\n    delete this._pluginEvents[name];\n  }\n};\n\nproto.clearAllEvents = function () {\n  this.unsubscribeAllEvents();\n  this.unwatch();\n  this.vm = null;\n  this._pluginEvents = null;\n};\n\n// to owerwrite if we need some condition to load or not the plugin\nproto.loadPlugin = function () {\n  return true;\n};\n\n//Called when plugin is removed to clear events and memory\nproto.clear = function () {\n  // to overwrite\n};\n\nmodule.exports = PluginService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/application\":348,\"store/application-state\":370}],60:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    convertObjectToUrlParams = _require.convertObjectToUrlParams;\n\nvar G3WObject = require('core/g3wobject');\n\n/*\n http://localhost/fcgi-bin/qgis_mapserver/qgis_mapserv.fcgi?MAP=/home/marco/geodaten/projekte/composertest.qgs&SERVICE=WMS&VERSION=1.3.0\n &REQUEST=GetPrint&TEMPLATE=Composer 1&\n map0:extent=693457.466131,227122.338236,700476.845177,230609.807051&\n BBOX=693457.466131,227122.338236,700476.845177,230609.807051&\n CRS=EPSG:21781&WIDTH=1467&HEIGHT=729&LAYERS=layer0,layer1&\n STYLES=,&FORMAT=pdf&DPI=300&TRANSPARENT=true\n\n In detail, the following parameters can be used to set properties for composer maps:\n\n <mapname>:EXTENT=<xmin,ymin,xmax, ymax> //mandatory\n <mapname>:ROTATION=<double> //optional, defaults to 0\n <mapname>:SCALE=<double> //optional. Forces scale denominator as server and client may have different scale calculations\n <mapname>:LAYERS=<comma separated list with layer names> //optional. Defaults to all layer in the WMS request\n <mapname>:STYLES=<comma separated list with style names> //optional\n <mapname>:GRID_INTERVAL_X=<double> //set the grid interval in x-direction for composer grids\n <mapname>:GRID_INTERVAL_Y=<double> //set the grid interval in x-direction for composer grids\n */\nvar OUTPUT_FORMATS = { pdf: 'application/pdf', jpg: 'image/jpeg' };\nvar COMMON_REQUEST_PARAMETERS = { SERVICE: 'WMS', VERSION: '1.3.0' };\n\nvar getAtlasParamsFromOptions = function getAtlasParamsFromOptions() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var field = options.field,\n      values = options.values,\n      template = options.template,\n      _options$download = options.download,\n      download = _options$download === undefined ? false : _options$download;\n\n  var multiValues = values.length > 1;\n  /**\n   * @TODO refactor weird ternary logic\n   */\n  var EXPRESSION = '' + field + (multiValues ? ' IN (' : '=') + values.map(function (value) {\n    return '\\'' + value + '\\'';\n  }).join() + (multiValues ? ')' : '');\n  var params = _extends({}, COMMON_REQUEST_PARAMETERS, {\n    REQUEST: 'GetPrintAtlas',\n    EXP_FILTER: EXPRESSION,\n    TEMPLATE: template,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n  if (download) params.DOWNLOAD = 1;\n  return params;\n};\n\nvar getParamsFromOptions = function getParamsFromOptions() {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var rotation = options.rotation,\n      dpi = options.dpi,\n      format = options.format,\n      crs = options.crs,\n      template = options.template,\n      _options$maps = options.maps,\n      maps = _options$maps === undefined ? [] : _options$maps,\n      _options$labels = options.labels,\n      labels = _options$labels === undefined ? [] : _options$labels,\n      is_maps_preset_theme = options.is_maps_preset_theme;\n\n  var LAYERS = layers.map(function (layer) {\n    return layer.getPrintLayerName();\n  }).join();\n  var STYLES = layers.map(function (layer) {\n    return layer.getStyle();\n  }).join(',');\n  var params = _extends({}, COMMON_REQUEST_PARAMETERS, {\n    REQUEST: 'GetPrint',\n    TEMPLATE: template,\n    DPI: dpi,\n    STYLES: STYLES,\n    FORMAT: format,\n    CRS: crs,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n\n  if (!is_maps_preset_theme) params.LAYERS = LAYERS;\n  maps.forEach(function (_ref) {\n    var name = _ref.name,\n        scale = _ref.scale,\n        extent = _ref.extent,\n        preset_theme = _ref.preset_theme;\n\n    params[name + ':SCALE'] = scale;\n    params[name + ':EXTENT'] = extent;\n    params[name + ':ROTATION'] = rotation;\n    if (is_maps_preset_theme && preset_theme === undefined) params[name + ':LAYERS'] = LAYERS;\n  });\n\n  labels.forEach(function (label) {\n    return params[label.id] = label.text;\n  });\n  return params;\n};\n\nvar GET = function GET(_ref2) {\n  var url = _ref2.url,\n      params = _ref2.params,\n      mime_type = _ref2.mime_type;\n\n  return new Promise(function (resolve, reject) {\n    url = url + '?' + convertObjectToUrlParams(params);\n    resolve({\n      url: url,\n      layers: true,\n      mime_type: mime_type\n    });\n  });\n};\n\nvar POST = function POST(_ref3) {\n  var url = _ref3.url,\n      params = _ref3.params,\n      mime_type = _ref3.mime_type;\n\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('POST', url, true);\n    xhr.responseType = 'blob';\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n    xhr.onload = function () {\n      if (xhr.status === 200) {\n        try {\n          window.URL = window.URL || window.webkitURL;\n          var _url = window.URL.createObjectURL(xhr.response);\n          resolve({\n            url: _url,\n            layers: true,\n            mime_type: mime_type\n          });\n        } catch (e) {\n          reject(e);\n        }\n      } else if (xhr.status === 500) {\n        reject();\n      }\n    };\n    xhr.onerror = function () {\n      reject();\n    };\n    xhr.send(convertObjectToUrlParams(params));\n  });\n};\n\n/**\n * core/print/providers/qgis::PrinterQGISProvider@v3.4\n */\nfunction PrintService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._currentLayerStore = _projects2.default.getCurrentProject().getLayersStore();\n  _projects2.default.onbefore('setCurrentProject', function (project) {\n    return _this._currentLayerStore = project.getLayersStore();\n  });\n  base(this);\n}\n\ninherit(PrintService, G3WObject);\n\nvar proto = PrintService.prototype;\n\nproto.POST = POST;\n\nproto.GET = GET;\n\nproto._getAtlasParamsFromOptions = getAtlasParamsFromOptions;\n\nproto._getParamsFromOptions = getParamsFromOptions;\n\nproto.getUrl = function () {\n  return this._currentLayerStore.getWmsUrl();\n};\n\nproto.printAtlas = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n\n  var url = this.getUrl();\n  var params = this._getAtlasParamsFromOptions(options);\n  return this[method]({\n    url: url,\n    params: params,\n    mime_type: OUTPUT_FORMATS.pdf\n  });\n};\n\nproto.print = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n\n  var url = this.getUrl();\n  // reverse of layer because the order is important\n  var layers = this._currentLayerStore.getLayers({\n    PRINTABLE: {\n      scale: options.scale\n    },\n    SERVERTYPE: 'QGIS'\n  }).reverse();\n  if (layers.length) {\n    options.crs = this._currentLayerStore.getProjection().getCode();\n    var params = this._getParamsFromOptions(layers, options);\n    var mime_type = OUTPUT_FORMATS[params.FORMAT];\n    return this[method]({\n      url: url,\n      params: params,\n      mime_type: mime_type\n    });\n  } else return Promise.resolve({ layers: false });\n};\n\nmodule.exports = PrintService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"store/application-state\":370,\"store/projects\":376}],61:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    crsToCrsObject = _require2.crsToCrsObject;\n\nvar G3WObject = require('core/g3wobject');\nvar LayerFactory = require('core/layers/layerfactory');\nvar LayersStore = require('core/layers/layersstore');\nvar Projections = require('g3w-ol/projection/projections');\n\n/**\n * @FIXME options param appears to be unusued\n * \n * @param config.id\n * @param config.type\n * @param config.gid\n * @param config.name\n * @param config.crs\n * @param config.extent\n * @param config.initextent\n * @param config.layers\n * @param config.layerstree\n * @param config.overviewprojectgid\n * @param config.baselayers\n * @param config.initbaselayer\n * @param config.filtertoken\n * @param config.context_base_legend\n * @param config.query_point_tolerance\n * @param config.wps                           array of wps service\n * @param config.bookmarks                     array of bookmarks\n * @param { 'POST' | 'GET' }                   config.ows_method\n * @param {boolean}                            config.wms_use_layer_ids\n * @param { 'ows' | 'api' }                    config.search_endpoint \n * @param { 'tab' | 'toc' }                    config.legend_position \n * @param { 'layers', 'baselayers', 'legend' } config.catalog_tab\n * \n * @param options\n */\nfunction Project() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  /**\n   * For future implementation catalog tab actived\n   */\n  config.catalog_tab = config.toc_tab_default || config._catalog_tab || 'layers';\n\n  config.ows_method = config.ows_method || 'GET';\n\n  config.toc_layers_init_status = config.toc_layers_init_status || _constant.TOC_LAYERS_INIT_STATUS;\n\n  config.toc_themes_init_status = config.toc_themes_init_status || _constant.TOC_THEMES_INIT_STATUS;\n\n  config.query_point_tolerance = config.query_point_tolerance || _constant.QUERY_POINT_TOLERANCE;\n\n  this.state = config;\n\n  var type = this.getType();\n  var id = this.getId();\n  var vector = this.getVectorUrl();\n\n  /**\n   * View information about project APIs \n   */\n  this.urls = {\n    map_themes: '/' + type + '/api/prjtheme/' + id + '/',\n    expression_eval: '/api/expression_eval/' + id + '/',\n    vector_data: vector + 'data/' + type + '/' + id + '/',\n    featurecount: vector + 'featurecount/' + type + '/' + id + '/'\n  };\n\n  this._processLayers();\n\n  /**\n   * Set the project projection to object crs\n   */\n  this.state.crs = crsToCrsObject(this.state.crs);\n\n  this._projection = Projections.get(this.state.crs);\n\n  /**\n   * Build a layersstore of the project\n   */\n  this._layersStore = this._buildLayersStore();\n\n  /**\n   * Hook methods\n   */\n  this.setters = {\n    setBaseLayer: function setBaseLayer(id) {\n      var _this = this;\n\n      this.state.baselayers.forEach(function (baseLayer) {\n        _this._layersStore.getLayerById(baseLayer.id).setVisible(baseLayer.id === id);\n        baseLayer.visible = baseLayer.id === id;\n      });\n    }\n  };\n\n  this.setSearchEndPoint();\n\n  base(this);\n}\n\ninherit(Project, G3WObject);\n\nvar proto = Project.prototype;\n\n/**\n * Get search end point value (ows or api)\n */\nproto.getSearchEndPoint = function () {\n  return this.state.search_endpoint;\n};\n\nproto.setSearchEndPoint = function () {\n  var _this2 = this;\n\n  (this.state.search || []).forEach(function (search) {\n    return search.search_endpoint = _this2.state.search_endpoint;\n  });\n};\n\nproto.getAliasUrl = function () {\n  return this.state.aliasUrl;\n};\n\nproto.getActiveCatalogTab = function () {\n  return this.state.catalog_tab;\n};\n\nproto.setActiveCatalogTab = function () {\n  var tab = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'layers';\n\n  this.state.catalog_tab = tab;\n};\n\nproto.isWmsUseLayerIds = function () {\n  return this.state.wms_use_layer_ids;\n};\n\nproto.getContextBaseLegend = function () {\n  return this.state.context_base_legend;\n};\n\nproto.getQueryPointTolerance = function () {\n  return this.state.query_point_tolerance;\n};\n\n// check if multi\nproto.getQueryFeatureCount = function () {\n  return this.state.feature_count || 5;\n};\n\nproto.isQueryMultiLayers = function (mapcontrol) {\n  return this.state.querymultilayers && -1 !== this.state.querymultilayers.indexOf(mapcontrol);\n};\n\nproto.getRelations = function () {\n  return this.state.relations;\n};\n\nproto.getRelationById = function (relationId) {\n  return this.state.relations.find(function (relation) {\n    return relation.id === relationId;\n  });\n};\n\nproto.getRelationsByLayerId = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref.layerId,\n      type = _ref.type;\n\n  return this.state.relations.filter(function (relation) {\n    return relation.referencedLayer === layerId && (type ? relation.type === type : true);\n  });\n};\n\nproto.getOwsMethod = function () {\n  return this.state.ows_method;\n};\n\n/**\n * Process layerstree and baselayers of the project\n */\nproto._processLayers = function () {\n  var _this3 = this;\n\n  // useful info for catalog\n  var traverse = function traverse(nodes) {\n    var _loop = function _loop(i) {\n      var node = nodes[i];\n      var layer_name_originale = void 0;\n      //check if layer (node) of folder\n      if (undefined !== node.id) {\n        _this3.state.layers.forEach(function (layer) {\n          layer_name_originale = layer.name;\n          if (node.id === layer.id) {\n            node.name = layer.name;\n            layer.wmsUrl = _this3.getWmsUrl();\n            layer.project = _this3;\n            node[i] = Object.assign(layer, node);\n            return false;\n          }\n        });\n      }\n      if (Array.isArray(node.nodes)) {\n        //add title to tree\n        node.title = node.name;\n        traverse(node.nodes);\n      }\n    };\n\n    for (var i = 0; i < nodes.length; i++) {\n      _loop(i);\n    }\n  };\n\n  traverse(this.state.layerstree);\n  var baseLayerId = _application2.default.getBaseLayerId();\n\n  // Remove bing base layer when no vendor API Key is provided\n  this.state.baselayers = this.state.baselayers.filter(function (baselayer) {\n    return baselayer.servertype === 'Bing' ? _applicationState2.default.keys.vendorkeys.bing : true;\n  });\n\n  for (var i = 0; i < this.state.baselayers.length; i++) {\n    var baseLayerConfig = this.state.baselayers[i];\n    var baseLayerVisibleId = null !== baseLayerId ? baseLayerId : this.state.initbaselayer;\n    baseLayerConfig.visible = baseLayerVisibleId && baseLayerConfig.id === baseLayerVisibleId || !!baseLayerConfig.fixed;\n    baseLayerConfig.baselayer = true;\n  }\n};\n\n/**\n * Build layersstore and create layersstree \n */\nproto._buildLayersStore = function () {\n  var _this4 = this;\n\n  // create a layersStore object\n  var layersStore = new LayersStore();\n\n  //check if we have owerview project\n  var overviewprojectgid = this.state.overviewprojectgid ? this.state.overviewprojectgid.gid : null;\n\n  layersStore.setOptions({\n    id: this.state.gid,\n    projection: this._projection,\n    extent: this.state.extent,\n    initextent: this.state.initextent,\n    wmsUrl: this.state.WMSUrl,\n    catalog: this.state.gid !== overviewprojectgid\n  });\n\n  // instance each layer ad area added to layersstore\n  var layers = this.getLayers();\n\n  layers.forEach(function (layerConfig) {\n    //check and set crs in objectformat\n    layerConfig.crs = crsToCrsObject(layerConfig.crs);\n    // add projection\n    layerConfig.projection = layerConfig.crs ? Projections.get(layerConfig.crs) : _this4._projection;\n    //add ows_method\n    layerConfig.ows_method = _this4.getOwsMethod();\n    layerConfig.wms_use_layer_ids = _this4.state.wms_use_layer_ids;\n    var layer = LayerFactory.build(layerConfig, { project: _this4 });\n    if (layer) {\n      layersStore.addLayer(layer);\n    }\n  });\n\n  // create layerstree from layerstore\n  layersStore.createLayersTree(this.state.name, {\n    layerstree: this.state.layerstree,\n    expanded: this.state.toc_layers_init_status === 'not_collapsed' // config to show layerstrees toc expanded or not\n  });\n\n  return layersStore;\n};\n\nproto.getLayerById = function (layerId) {\n  return this._layersStore.getLayerById(layerId);\n};\n\nproto.getLayers = function () {\n  return [].concat(_toConsumableArray(this.state.layers), _toConsumableArray(this.state.baselayers));\n};\n\nproto.getBaseLayers = function () {\n  return this.state.baselayers;\n};\n\n/**\n * Get configuration layers array from server config\n * \n * @param filter property layer config to filter\n * @returns {*}\n */\nproto.getConfigLayers = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      key = _ref2.key;\n\n  return key ? this.state.layers.filter(function (layer) {\n    return layer[key] !== undefined;\n  }) : this.state.layers;\n};\n\n/**\n * Legend Position\n */\n\nproto.setLegendPosition = function () {\n  var legend_position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'tab';\n\n  this.state.legend_position = legend_position;\n};\n\nproto.getLegendPosition = function () {\n  return this.state.legend_position;\n};\n\n/**\n * End Legend Position\n */\n\nproto.getThumbnail = function () {\n  return this.state.thumbnail;\n};\n\nproto.getMetadata = function () {\n  return this.state.metadata || {};\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getPrint = function () {\n  return this.state.print || [];\n};\n\nproto.getSearches = function () {\n  return this.state.search || [];\n};\n\nproto.getVectorUrl = function () {\n  return this.state.vectorurl;\n};\n\nproto.getRasterUrl = function () {\n  return this.state.rasterurl;\n};\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getType = function () {\n  return this.state.type;\n};\n\nproto.getGid = function () {\n  return this.state.gid;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.getOverviewProjectGid = function () {\n  return this.state.overviewprojectgid ? this.state.overviewprojectgid.gid : null;\n};\n\nproto.getCrs = function () {\n  return this._projection.getCode();\n};\n\n/**\n * @param {'major' | 'minor' | 'patch' } qgis.type \n */\nproto.getQgisVersion = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref3.type;\n\n  var index = ['major', 'minor', 'patch'].indexOf(type);\n  return -1 === index ? this.state.qgis_version : +this.state.qgis_version.split('.')[index];\n};\n\nproto.getProjection = function () {\n  return this._projection;\n};\n\nproto.getWmsUrl = function () {\n  return this.state.WMSUrl;\n};\n\nproto.getInfoFormat = function () {\n  return 'application/vnd.ogc.gml';\n};\n\nproto.getLayersStore = function () {\n  return this._layersStore;\n};\n\n/// Map Themes\n\n/**\n * Set properties ( checked and visible) from view to layerstree\n * \n * @param map_theme map theme name\n * @param layerstree // current layerstree of TOC\n */\nproto.setLayersTreePropertiesFromMapTheme = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref4) {\n    var _this5 = this;\n\n    var map_theme = _ref4.map_theme,\n        _ref4$layerstree = _ref4.layerstree,\n        layerstree = _ref4$layerstree === undefined ? this.state.layerstree : _ref4$layerstree;\n    var mapThemeConfig, mapThemeLayersTree, changes, promises, groups, traverse;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return this.getMapThemeFromThemeName(map_theme);\n\n          case 2:\n            mapThemeConfig = _context.sent;\n\n            // extract layerstree\n            mapThemeLayersTree = mapThemeConfig.layerstree;\n            // create a chages need to apply map_theme changes to map and TOC\n\n            changes = {\n              layers: {} // key is the layer id and object has style, visibility change (Boolean)\n            };\n            promises = [];\n            /**\n             * Function to traverse current layerstree of toc anche get changes with the new one related to map_theme choose\n             * @param mapThemeLayersTree // new mapLayerTree\n             * @param layerstree // current layerstree\n             */\n\n            groups = [];\n\n            traverse = function traverse(mapThemeLayersTree, layerstree, checked) {\n              mapThemeLayersTree.forEach(function (node, index) {\n                if (node.nodes) {\n                  // case of group\n                  groups.push({\n                    node: node,\n                    group: layerstree[index]\n                  });\n                  traverse(node.nodes, layerstree[index].nodes, checked && node.checked);\n                } else {\n                  // case of layer\n                  node.style = mapThemeConfig.styles[node.id]; // set style from map_theme\n                  if (layerstree[index].checked !== node.visible) {\n                    changes.layers[node.id] = {\n                      visibility: true,\n                      style: false\n                    };\n                  }\n                  layerstree[index].checked = node.visible;\n                  // if has a style settled\n                  if (node.style) {\n                    var promise = new Promise(function (resolve, reject) {\n                      var setCurrentStyleAndResolvePromise = function setCurrentStyleAndResolvePromise(node) {\n                        if (changes.layers[node.id] === undefined) changes.layers[node.id] = {\n                          visibility: false,\n                          style: false\n                        };\n                        changes.layers[node.id].style = _this5.getLayerById(node.id).setCurrentStyle(node.style);\n                        resolve();\n                      };\n                      if (_this5.getLayersStore()) setCurrentStyleAndResolvePromise(node);else // case of starting project creation\n                        (function (node) {\n                          return setTimeout(function () {\n                            setCurrentStyleAndResolvePromise(node);\n                          })(node);\n                        });\n                    });\n                    promises.push(promise);\n                  }\n                }\n              });\n            };\n\n            traverse(mapThemeLayersTree, layerstree);\n            _context.next = 11;\n            return Promise.allSettled(promises);\n\n          case 11:\n            // all groups checked after layer checked so is set checked but not visible\n            groups.forEach(function (_ref6) {\n              var group = _ref6.group,\n                  _ref6$node = _ref6.node,\n                  checked = _ref6$node.checked,\n                  expanded = _ref6$node.expanded;\n\n              group.checked = checked;\n              group.expanded = expanded;\n            });\n            return _context.abrupt('return', changes);\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x8) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * get map Theme_configuration\n */\nproto.getMapThemeFromThemeName = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(map_theme) {\n    var mapThemeConfig;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            // get map theme configuration from map_themes project config\n            mapThemeConfig = this.state.map_themes.find(function (map_theme_config) {\n              return map_theme_config.theme === map_theme;\n            });\n            // check if mapThemeConfig exist and if has layerstree (property get from server with a specific api)\n\n            if (!(mapThemeConfig && undefined === mapThemeConfig.layerstree)) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 4;\n            return this.getMapThemeConfiguration(map_theme);\n\n          case 4:\n            mapThemeConfig.layerstree = _context2.sent;\n\n          case 5:\n            return _context2.abrupt('return', mapThemeConfig);\n\n          case 6:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x9) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * Get map_style from server\n * \n * @param map_theme\n * \n * @returns {Promise<*>}\n */\nproto.getMapThemeConfiguration = function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(map_theme) {\n    var response;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return XHR.get({ url: '' + this.urls.map_themes + map_theme + '/' });\n\n          case 3:\n            response = _context3.sent;\n\n            if (!response.result) {\n              _context3.next = 6;\n              break;\n            }\n\n            return _context3.abrupt('return', response.data);\n\n          case 6:\n            _context3.next = 11;\n            break;\n\n          case 8:\n            _context3.prev = 8;\n            _context3.t0 = _context3['catch'](0);\n\n            console.warn('Error while retreiving map theme configuration', _context3.t0);\n\n          case 11:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[0, 8]]);\n  }));\n\n  return function (_x10) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nproto.getUrl = function (type) {\n  return this.urls[type];\n};\n\n/**\n * @returns {Array} spatial bookmarks saved on current QGIS project\n * \n * @since v3.8\n */\nproto.getSpatialBookmarks = function () {\n  return this.state.bookmarks || [];\n};\n\n/**\n * @returns {Object} messages at start time {items: <Array>, info:<Object>}\n * @since 3.8.0\n */\nproto.getMessages = function () {\n  return this.state.messages;\n};\n\nmodule.exports = Project;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/layers/layerfactory\":35,\"core/layers/layersstore\":36,\"core/utils/geo\":64,\"core/utils/utils\":67,\"g3w-ol/projection/projections\":110,\"services/application\":348,\"store/application-state\":370}],62:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Relation() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var uniqueSuffix = Date.now();\n  var id = config.id || 'id_' + uniqueSuffix;\n  var name = config.name || 'name_' + uniqueSuffix;\n  var origname = config.origname || 'origname_' + uniqueSuffix;\n  this.state = {\n    id: id,\n    name: name,\n    origname: origname,\n    father: config.referencedLayer,\n    child: config.referencingLayer,\n    fatherField: config.fieldRef.referencedField,\n    childField: config.fieldRef.referencingField,\n    type: config.type,\n    loading: false\n  };\n  base(this);\n}\n\ninherit(Relation, G3WObject);\n\nvar proto = Relation.prototype;\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.setId = function (id) {\n  this.state.id = id;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.setName = function (name) {\n  this.state.name = name;\n};\n\nproto.getTitle = function () {\n  return this.state.title;\n};\n\nproto.setTitle = function (title) {\n  return this.state.title = title;\n};\n\nproto.getChild = function () {\n  return this.state.child;\n};\n\nproto.getFather = function () {\n  return this.state.father;\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getType = function () {\n  return this.state.type;\n};\n\nproto.getFields = function () {\n  return {\n    father: this.state.fatherField,\n    child: this.state.childField\n  };\n};\n\nproto.getFatherField = function () {\n  return this.state.fatherField;\n};\n\nproto.getChildField = function () {\n  return this.state.childField;\n};\n\n/**\n * For editing purpose\n */\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto.isLoading = function () {\n  return this.state.loading;\n};\n\n/**\n * End editing loading purpose\n */\n\nmodule.exports = Relation;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],63:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Relation = require('core/relations/relation');\n\n// class Relations\nfunction Relations() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var relations = options.relations;\n  //store relations\n\n  this._relations = {};\n  this._length = relations ? relations.length : 0;\n  // to build relations between layers\n  this._relationsInfo = {\n    children: {}, // array child (unique ids)\n    fathers: {}, // array father (unique ids)\n    father_child: {} // info parent child\n  };\n  var relation = void 0;\n  relations.forEach(function (relationConfig) {\n    relation = new Relation(relationConfig);\n    _this._relations[relation.getId()] = relation;\n  });\n  this._createRelationsInfo();\n  base(this);\n}\n\ninherit(Relations, G3WObject);\n\nvar proto = Relations.prototype;\n\nproto._createRelationsInfo = function () {\n  var _this2 = this;\n\n  var father = void 0;\n  var child = void 0;\n  Object.entries(this._relations).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        relationKey = _ref2[0],\n        relation = _ref2[1];\n\n    father = relation.getFather();\n    child = relation.getChild();\n    _this2._relationsInfo.father_child[father + child] = relationKey;\n    if (!_this2._relationsInfo.fathers[father]) _this2._relationsInfo.fathers[father] = [];\n    if (!_this2._relationsInfo.children[child]) _this2._relationsInfo.children[child] = [];\n    _this2._relationsInfo.fathers[father].push(child);\n    _this2._relationsInfo.children[child].push(father);\n  });\n};\n\nproto._clearRelationsInfo = function () {\n  this._relationsInfo = {\n    children: {},\n    fathers: {},\n    father_children: {}\n  };\n};\n\nproto._reloadRelationsInfo = function () {\n  this._clearRelationsInfo();\n  this._createRelationsInfo();\n};\n\n// number of relations\nproto.getLength = function () {\n  return this._length;\n};\n\nproto.getRelations = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? null : _ref3$type;\n\n  if (!type) return this._relations;else {\n    if (['ONE', 'MANY'].indexOf(type) !== -1) {\n      var relations = {};\n      for (var name in this._relations) {\n        var relation = this._relations[name];\n        if (relation.getType() === type) relations[name] = relation;\n      }\n      return relations;\n    } else return {};\n  }\n};\n\n// array of relation\nproto.getArray = function () {\n  var relations = [];\n  Object.entries(this._relations).forEach(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        relName = _ref5[0],\n        relation = _ref5[1];\n\n    relations.push(relation);\n  });\n  return relations;\n};\n\nproto.setRelations = function (relations) {\n  this._relations = Array.isArray(relations) ? relations : [];\n};\n\nproto.getRelationById = function (id) {\n  return this._relations[id];\n};\n\nproto.getRelationByFatherChildren = function (father, child) {\n  var relationId = this._relationsInfo.father_child[father + child];\n  return this.getRelationById(relationId);\n};\n\nproto.addRelation = function (relation) {\n  if (relation instanceof Relation) {\n    this._relations[relation.getId()] = relation;\n    this._reloadRelationsInfo();\n  }\n};\n\nproto.removeRelation = function (relation) {\n  var relationId = void 0;\n  if (relation instanceof Relation) {\n    relationId = relation.getId();\n    delete this._relations[relationId];\n    this._reloadRelationsInfo();\n  }\n};\n\nproto.hasChildren = function (childId) {\n  var children = this.getChildren(childId);\n  return children ? !!children.length : false;\n};\n\nproto.hasFathers = function (fatherId) {\n  var fathers = this.getFathers(fatherId);\n  return fathers ? !!fathers.length : false;\n};\n\n// get children based on father id\nproto.getChildren = function (fatherId) {\n  if (!this.isFather(fatherId)) return null;\n  return this._relationsInfo.fathers[fatherId];\n};\n\n// get fathers based on childId\nproto.getFathers = function (childId) {\n  if (!this.isChild(childId)) return null;\n  return this._relationsInfo.children[childId];\n};\n\nproto.isChild = function (id) {\n  return !!this._relationsInfo.children[id];\n};\n\nproto.isFather = function (id) {\n  return !!this._relationsInfo.fathers[id];\n};\n\nmodule.exports = Relations;\n\n},{\"core/g3wobject\":12,\"core/relations/relation\":62,\"core/utils/utils\":67}],64:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType,\n    uniqueId = _require.uniqueId;\n\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar Filter = require('core/layers/filter/filter');\n\nvar _require2 = require('core/utils/parsers'),\n    responseParser = _require2.response;\n\nvar geometryFields = _constant2.default.GEOMETRY_FIELDS;\nvar QUERY_POINT_TOLERANCE = _constant2.default.QUERY_POINT_TOLERANCE,\n    G3W_FID = _constant2.default.G3W_FID,\n    GeometryTypes = _constant2.default.GEOMETRY_TYPES;\n\n\nvar Geometry = {\n\n  /**\n   * core/geometry/geometry::GeometryTypes@v3.4\n   */\n  GeometryTypes: GeometryTypes,\n\n  /**\n   * Remove Z values from geometry coordinates\n   */\n  removeZValueToOLFeatureGeometry: function removeZValueToOLFeatureGeometry() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref.feature;\n\n    var geometry = feature.getGeometry();\n    if (geometry) {\n      var geometryType = geometry.getType();\n      var originalFeatureCoordinates = geometry.getCoordinates();\n      switch (geometryType) {\n        // POINT: [x, y]\n        case GeometryTypes.POINT:\n          if (originalFeatureCoordinates.length === 3) {\n            originalFeatureCoordinates.splice(2);\n            feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          }\n          break;\n        // MULTIPOINT: [ [x1, y1], [x2, y2] ]\n        case GeometryTypes.MULTIPOINT:\n        // LINE: [ [x1, y1], [x2, y2] ]\n        case GeometryTypes.LINESTRING:\n        case GeometryTypes.LINE:\n          originalFeatureCoordinates.forEach(function (coordinates) {\n            return coordinates.splice(2);\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // MULTILINE: [\n        //   [ [x1, y1], [x2, y2] ],\n        //   [ [x3, y3], [x4, y4] ]\n        // ]\n        case GeometryTypes.MULTILINESTRING:\n        case GeometryTypes.MULTILINE:\n          originalFeatureCoordinates.forEach(function (singleLine) {\n            singleLine.forEach(function (coordinates) {\n              return coordinates.splice(2);\n            });\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // POLYGON: [\n        //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ]\n        // ]\n        case GeometryTypes.POLYGON:\n          originalFeatureCoordinates[0].forEach(function (coordinates) {\n            return coordinates.splice(2);\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // MULTIPOLYGON:[\n        //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ],\n        //   [ [xa, ya], [xb, yb], [xc, yc], [xa, ya] ]\n        // ]\n        case GeometryTypes.MULTIPOLYGON:\n          originalFeatureCoordinates.forEach(function (singlePolygon) {\n            singlePolygon[0].forEach(function (coordinates) {\n              return coordinates.splice(2);\n            });\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n      }\n    }\n\n    return feature;\n  },\n\n\n  /**\n   * core/geometry/geometry::addZValueToOLFeatureGeometry@v3.4\n   */\n  addZValueToOLFeatureGeometry: function addZValueToOLFeatureGeometry() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref2.feature,\n        geometryType = _ref2.geometryType;\n\n    var geometry = feature.getGeometry();\n    geometryType = geometryType || geometry.getType();\n    var originalFeatureCoordinates = geometry.getCoordinates();\n    switch (geometryType) {\n      // POINT: [x, y]\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        originalFeatureCoordinates.push(0);\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTIPOINT: [ [x1, y1], [x2, y2] ]\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n      // LINE: [ [x1, y1], [x2, y2] ]\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        originalFeatureCoordinates.forEach(function (coordinates) {\n          return coordinates.push(0);\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTILINE: [\n      //   [ [x1, y1], [x2, y2] ],\n      //   [ [x3, y3], [x4, y4] ]\n      // ]\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        originalFeatureCoordinates.forEach(function (singleLine) {\n          singleLine.forEach(function (coordinates) {\n            return coordinates.push(0);\n          });\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // POLYGON: [\n      //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ]\n      // ]\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        originalFeatureCoordinates[0].forEach(function (coordinates) {\n          return coordinates.push(0);\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTIPOLYGON:[\n      //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ],\n      //   [ [xa, ya], [xb, yb], [xc, yc], [xa, ya] ]\n      // ]\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGOZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        originalFeatureCoordinates.forEach(function (singlePolygon) {\n          singlePolygon[0].forEach(function (coordinates) {\n            return coordinates.push(0);\n          });\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n    }\n    return feature;\n  },\n\n\n  /**\n   * core/geometry/geometry::getOLGeometry@v3.4\n   */\n  getOLGeometry: function getOLGeometry(geometryType) {\n    switch (geometryType) {\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryType = 'LineString';\n        break;\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        geometryType = 'MultiLineString';\n        break;\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryType = 'Point';\n        break;\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryType = 'MultiPoint';\n        break;\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryType = 'Polygon';\n        break;\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryType = 'MultiPolygon';\n        break;\n    }\n    return geometryType;\n  },\n\n\n  /**\n   * core/geometry/geometry::isMultiGeometry@v3.4\n   */\n  isMultiGeometry: function isMultiGeometry(geometryType) {\n    return [GeometryTypes.MULTIPOINT, GeometryTypes.MULTIPOINTZ, GeometryTypes.MULTIPOINTZM, GeometryTypes.MULTIPOINTM, GeometryTypes.MULTIPOINT25D, GeometryTypes.MULTILINESTRING, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.MULTILINE, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D, GeometryTypes.MULTIPOLYGON, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D].indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllPointGeometryTypes@v3.4\n   */\n  getAllPointGeometryTypes: function getAllPointGeometryTypes() {\n    return [GeometryTypes.POINT, GeometryTypes.POINTZ, GeometryTypes.POINTM, GeometryTypes.POINTZM, GeometryTypes.POINT25D, GeometryTypes.MULTIPOINT, GeometryTypes.MULTIPOINTZ, GeometryTypes.MULTIPOINTM, GeometryTypes.MULTIPOINTZM, GeometryTypes.MULTIPOINT25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isPointGeometryType@v3.4\n   */\n  isPointGeometryType: function isPointGeometryType(geometryType) {\n    return Geometry.getAllPointGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllLineGeometryTypes@v3.4\n   */\n  getAllLineGeometryTypes: function getAllLineGeometryTypes() {\n    return [GeometryTypes.LINESTRING, GeometryTypes.LINESTRINGZ, GeometryTypes.LINESTRINGM, GeometryTypes.LINESTRINGZM, GeometryTypes.LINESTRING25D, GeometryTypes.MULTILINESTRING, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.LINE, GeometryTypes.LINEZ, GeometryTypes.LINEM, GeometryTypes.LINEZM, GeometryTypes.LINE25D, GeometryTypes.MULTILINE, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isLineGeometryType@v3.4\n   */\n  isLineGeometryType: function isLineGeometryType(geometryType) {\n    return Geometry.getAllLineGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllPolygonGeometryTypes@v3.4\n   */\n  getAllPolygonGeometryTypes: function getAllPolygonGeometryTypes() {\n    return [GeometryTypes.POLYGON, GeometryTypes.POLYGONZ, GeometryTypes.POLYGONM, GeometryTypes.POLYGONZM, GeometryTypes.POLYGON25D, GeometryTypes.MULTIPOLYGON, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isPolygonGeometryType@v3.4\n   */\n  isPolygonGeometryType: function isPolygonGeometryType(geometryType) {\n    return Geometry.getAllPolygonGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::is3DGeometry@v3.4\n   */\n  is3DGeometry: function is3DGeometry(geometryType) {\n    return [GeometryTypes.POINTZ, GeometryTypes.POINTM, GeometryTypes.POINTZM, GeometryTypes.POINT25D, GeometryTypes.LINESTRINGZ, GeometryTypes.LINESTRINGM, GeometryTypes.LINESTRINGZM, GeometryTypes.LINESTRING25D, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.LINEZ, GeometryTypes.LINEM, GeometryTypes.LINEZM, GeometryTypes.LINE25D, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D, GeometryTypes.POLYGONZ, GeometryTypes.POLYGONM, GeometryTypes.POLYGONZM, GeometryTypes.POLYGON25D, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D].find(function (type3D) {\n      return type3D === geometryType;\n    });\n  }\n};\n\nvar geoutils = {\n\n  geometryFields: geometryFields,\n\n  coordinatesToGeometry: function coordinatesToGeometry(geometryType, coordinates) {\n    var geometryClass = void 0;\n    switch (geometryType) {\n      case GeometryTypes.POLYGON:\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryClass = ol.geom.Polygon;\n        break;\n      case GeometryTypes.MULTIPOLYGON:\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryClass = ol.geom.MultiPolygon;\n        break;\n      case GeometryTypes.LINESTRING:\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryClass = ol.geom.LineString;\n        break;\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n      case GeometryTypes.MULTILINESTRING:\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n        geometryClass = ol.geom.MultiLineString;\n        break;\n      case GeometryTypes.POINT:\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryClass = ol.geom.Point;\n        break;\n      case GeometryTypes.MULTIPOINT:\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryClass = ol.geom.MultiPoint;\n        break;\n      default:\n        geometryClass = ol.geom.Point;\n    }\n    var geometry = new geometryClass(coordinates);\n    return geometry;\n  },\n  getDefaultLayerStyle: function getDefaultLayerStyle(geometryType) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var color = options.color;\n\n    switch (geometryType) {\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryType = 'LineString';\n        break;\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        geometryType = 'MultiLineString';\n        break;\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryType = 'Point';\n        break;\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryType = 'MultiPoint';\n        break;\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryType = 'Polygon';\n        break;\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryType = 'MultiPolygon';\n        break;\n    }\n    var defaultStyle = {\n      'Point': new ol.style.Style({\n        image: new ol.style.Circle({\n          fill: new ol.style.Fill({\n            color: color\n          }),\n          radius: 5,\n          stroke: new ol.style.Stroke({\n            color: color,\n            width: 1\n          })\n        })\n      }),\n      'LineString': new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'Polygon': new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: 'rgba(255,255,255,0.5)'\n        }),\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'MultiPoint': new ol.style.Style({\n        image: new ol.style.Circle({\n          fill: new ol.style.Fill({\n            color: color\n          }),\n          radius: 5,\n          stroke: new ol.style.Stroke({\n            color: color,\n            width: 1\n          })\n        })\n      }),\n      'MultiLineString': new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'MultiPolygon': new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: 'rgba(255,255,255,0.5)'\n        }),\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      })\n    };\n    return defaultStyle[geometryType];\n  },\n  createLayerStyle: function createLayerStyle(styleObj) {\n    var style = void 0;\n    var styles = {};\n    if (styleObj) {\n      Object.entries(styleObj).forEach(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            type = _ref4[0],\n            config = _ref4[1];\n\n        switch (type) {\n          case 'point':\n            if (config.icon) {\n              styles.image = new ol.style.Icon({\n                src: config.icon.url,\n                imageSize: config.icon.width\n              });\n            }\n            break;\n          case 'line':\n            styles.stroke = new ol.style.Stroke({\n              color: config.color,\n              width: config.width\n            });\n            break;\n          case 'polygon':\n            styles.fill = new ol.style.Fill({\n              color: config.color\n            });\n            break;\n        }\n      });\n      style = new ol.style.Style(styles);\n    }\n    return style;\n  },\n  createFeatureFromCoordinates: function createFeatureFromCoordinates(coordinates) {\n    var feature = void 0;\n    if (Array.isArray(coordinates) && coordinates.length === 2) {\n      var geometry = new ol.geom.Point(coordinates);\n      feature = new ol.Feature(geometry);\n    }\n    return feature;\n  },\n  createFeatureFromBBOX: function createFeatureFromBBOX(bbox) {\n    var feature = void 0;\n    if (Array.isArray(bbox) && bbox.length === 4) {\n      var geometry = ol.geom.Polygon.fromExtent(bbox);\n      feature = new ol.Feature(geometry);\n    }\n    return feature;\n  },\n  createFeatureFromGeometry: function createFeatureFromGeometry() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        id = _ref5.id,\n        geometry = _ref5.geometry;\n\n    if (geometry) {\n      var feature = new ol.Feature(geometry);\n      feature.setId(id);\n      return feature;\n    }\n  },\n\n\n  /**\n   * in case of feature object\n   * {\n   *   id: X,\n   *   attributes: {key:value}\n   *   geometry: geometry\n   * }\n   * @param id\n   * @param feature\n   */\n  createFeatureFromFeatureObject: function createFeatureFromFeatureObject(_ref6) {\n    var id = _ref6.id,\n        _ref6$feature = _ref6.feature,\n        feature = _ref6$feature === undefined ? {} : _ref6$feature;\n    var _feature2 = feature,\n        geometry = _feature2.geometry,\n        attributes = _feature2.attributes;\n\n    feature = geoutils.createFeatureFromGeometry({ id: id, geometry: geometry });\n    Object.keys(attributes).forEach(function (attribute) {\n      return feature.set(attribute, attributes[attribute]);\n    });\n    return feature;\n  },\n  createOlLayer: function createOlLayer() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var id = options.id;\n    var features = options.features;\n    var geometryType = options.geometryType;\n    var color = options.color;\n    var style = options.style;\n    // create ol layer to add to map\n    var olSource = options.source || new ol.source.Vector({\n      features: features || new ol.Collection()\n    });\n    var olLayer = new ol.layer.Vector({\n      id: id,\n      source: olSource\n    });\n    if (!style) {\n      switch (geometryType) {\n        case GeometryTypes.POINT:\n        case GeometryTypes.POINTZ:\n        case GeometryTypes.POINTM:\n        case GeometryTypes.POINTZM:\n        case GeometryTypes.POINT25D:\n        case GeometryTypes.MULTIPOINT:\n        case GeometryTypes.MULTIPOINTZ:\n        case GeometryTypes.MULTIPOINTM:\n        case GeometryTypes.MULTIPOINTZM:\n        case GeometryTypes.MULTIPOINT25D:\n          style = new ol.style.Style({\n            image: new ol.style.Circle({\n              radius: 5,\n              fill: new ol.style.Fill({\n                color: color\n              })\n            })\n          });\n          break;\n        case GeometryTypes.LINESTRING:\n        case GeometryTypes.LINESTRINGZ:\n        case GeometryTypes.LINESTRINGM:\n        case GeometryTypes.LINESTRINGZM:\n        case GeometryTypes.LINESTRING25D:\n        case GeometryTypes.MULTILINESTRING:\n        case GeometryTypes.MULTILINESTRINGZ:\n        case GeometryTypes.MULTILINESTRINGM:\n        case GeometryTypes.MULTILINESTRINGZM:\n        case GeometryTypes.MULTILINESTRING25D:\n        case GeometryTypes.LINE:\n        case GeometryTypes.LINEZ:\n        case GeometryTypes.LINEM:\n        case GeometryTypes.LINEZM:\n        case GeometryTypes.LINE25D:\n        case GeometryTypes.MULTILINE:\n        case GeometryTypes.MULTILINEZ:\n        case GeometryTypes.MULTILINEM:\n        case GeometryTypes.MULTILINEZM:\n        case GeometryTypes.MULTILINE25D:\n          style = new ol.style.Style({\n            stroke: new ol.style.Stroke({\n              width: 3,\n              color: color\n            })\n          });\n          break;\n        case GeometryTypes.POLYGON:\n        case GeometryTypes.POLYGONZ:\n        case GeometryTypes.POLYGONM:\n        case GeometryTypes.POLYGONZM:\n        case GeometryTypes.POLYGON25D:\n        case GeometryTypes.MULTIPOLYGON:\n        case GeometryTypes.MULTIPOLYGONZ:\n        case GeometryTypes.MULTIPOLYGONM:\n        case GeometryTypes.MULTIPOLYGONZM:\n        case GeometryTypes.MULTIPOLYGON25D:\n          style = new ol.style.Style({\n            stroke: new ol.style.Stroke({\n              color: \"#000000\",\n              width: 1\n            }),\n            fill: new ol.style.Fill({\n              color: color\n            })\n          });\n          olLayer.setOpacity(0.6);\n          break;\n      }\n    }\n    olLayer.setStyle(style);\n    return olLayer;\n  },\n  createWMSLayer: function createWMSLayer() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref7.url,\n        name = _ref7.name,\n        projection = _ref7.projection,\n        _ref7$layers = _ref7.layers,\n        layers = _ref7$layers === undefined ? [] : _ref7$layers;\n\n    var id = name || uniqueId();\n    name = name || id;\n    var wmslayer = new WMSLayer({\n      id: id,\n      layers: layers,\n      projection: projection,\n      url: url\n    });\n    var olLayer = wmslayer.getOLLayer();\n    olLayer.set('id', id); // set unique id\n    olLayer.set('name', name);\n    return {\n      wmslayer: wmslayer,\n      olLayer: olLayer\n    };\n  },\n  createVectorLayerFromGeometry: function createVectorLayerFromGeometry(geometry) {\n    var feature = new ol.Feature(geometry);\n    return geoutils.createVectorLayerFromFeatures(feature);\n  },\n  createVectorLayerFromFeatures: function createVectorLayerFromFeatures(feature) {\n    return new ol.layer.Vector({\n      source: new ol.source.Vector({\n        features: Array.isArray(feature) ? feature : [feature]\n      })\n    });\n  },\n  createVectorLayerFromFile: function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n      var _this = this;\n\n      var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          name = _ref9.name,\n          type = _ref9.type,\n          crs = _ref9.crs,\n          mapCrs = _ref9.mapCrs,\n          data = _ref9.data,\n          style = _ref9.style;\n\n      var format, layer, createVectorLayer, _data, headers, separator, values, x, y, features, errorrows, source, promiseKmz, promise;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              format = void 0;\n              layer = void 0;\n\n              createVectorLayer = function createVectorLayer(format, data) {\n                var epsg = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : crs;\n\n                var vectorLayer = void 0;\n                var features = format.readFeatures(data, {\n                  dataProjection: epsg,\n                  featureProjection: mapCrs || epsg\n                });\n                if (features.length) {\n\n                  // ignore kml property [`<styleUrl>`](https://developers.google.com/kml/documentation/kmlreference)\n                  if (format instanceof ol.format.KML) {\n                    features.forEach(function (feature) {\n                      return feature.unset('styleUrl');\n                    }); // ref: \n                  }\n\n                  var vectorSource = new ol.source.Vector({\n                    features: features\n                  });\n                  vectorLayer = new ol.layer.Vector({\n                    source: vectorSource,\n                    name: name,\n                    _fields: Object.keys(features[0].getProperties()).filter(function (property) {\n                      return geometryFields.indexOf(property) < 0;\n                    }),\n                    id: uniqueId()\n                  });\n                  style && vectorLayer.setStyle(style);\n                }\n                return vectorLayer;\n              };\n\n              _context3.t0 = type;\n              _context3.next = _context3.t0 === 'gpx' ? 6 : _context3.t0 === 'gml' ? 9 : _context3.t0 === 'geojson' ? 12 : _context3.t0 === 'kml' ? 15 : _context3.t0 === 'csv' ? 18 : _context3.t0 === 'kmz' ? 29 : _context3.t0 === 'zip' ? 40 : 51;\n              break;\n\n            case 6:\n              format = new ol.format.GPX();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 9:\n              format = new ol.format.WMSGetFeatureInfo();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 12:\n              format = new ol.format.GeoJSON();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 15:\n              format = new ol.format.KML({\n                extractStyles: false\n              });\n              layer = createVectorLayer(format, data, \"EPSG:4326\");\n              return _context3.abrupt('break', 51);\n\n            case 18:\n              _data = data, headers = _data.headers, separator = _data.separator, values = _data.values, x = _data.x, y = _data.y;\n              features = [];\n              errorrows = [];\n\n              values.forEach(function (row, index) {\n                var properties = {};\n                var rowvalues = row.split(separator);\n                if (rowvalues.length === headers.length) {\n                  var coordinates = [];\n                  rowvalues.forEach(function (value, index) {\n                    var field = headers[index];\n                    if (field === x) coordinates[0] = 1 * value;\n                    if (field === y) coordinates[1] = 1 * value;\n                    properties[field] = value;\n                  });\n                  // check if all coordinates is right\n                  if (coordinates.find(function (value) {\n                    return Number.isNaN(value);\n                  }) === undefined) {\n                    var geometry = new ol.geom.Point(coordinates);\n                    if (crs !== mapCrs) geometry.transform(crs, mapCrs);\n                    var feature = new ol.Feature(geometry);\n                    feature.setId(index); // need to add a id incremental\n                    feature.setProperties(properties);\n                    features.push(feature);\n                  }\n                } else errorrows.push({\n                  row: index + 1,\n                  value: values[index]\n                });\n              });\n\n              if (features.length) {\n                _context3.next = 24;\n                break;\n              }\n\n              return _context3.abrupt('return', Promise.reject());\n\n            case 24:\n              if (errorrows.length) {\n                _gui2.default.showUserMessage({\n                  type: 'warning',\n                  message: 'sdk.mapcontrols.addlayer.messages.csv.warning',\n                  hooks: {\n                    footer: {\n                      template: '<select v-select2=\"errorrows[0].value\" class=\"skin-color\" :search=\"false\" style=\"width:100%\">\\n                    <option v-for=\"errorrow in errorrows\" :key=\"errorrow.row\" :value=\"errorrow.value\">[{{ errorrow.row}}] {{errorrow.value}}</option>\\n                </select>',\n                      data: function data() {\n                        return {\n                          errorrows: errorrows\n                        };\n                      }\n                    }\n                  },\n                  autoclose: false\n                });\n              }\n\n              source = new ol.source.Vector({\n                features: features\n              });\n\n              layer = new ol.layer.Vector({\n                source: source,\n                name: name,\n                _fields: headers,\n                id: uniqueId()\n              });\n              style && layer.setStyle(style);\n              return _context3.abrupt('break', 51);\n\n            case 29:\n              promiseKmz = new Promise(function () {\n                var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n                  var zip, buffer, kmlFile;\n                  return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          zip = new JSZip();\n                          _context.next = 3;\n                          return data.arrayBuffer(data);\n\n                        case 3:\n                          buffer = _context.sent;\n\n                          zip.load(buffer);\n                          kmlFile = zip.file(/.kml$/i)[0];\n\n                          if (kmlFile) {\n                            data = kmlFile.asText();\n                            format = new ol.format.KML({\n                              extractStyles: false\n                            });\n                            resolve(createVectorLayer(format, data, \"EPSG:4326\"));\n                          } else reject();\n\n                        case 7:\n                        case 'end':\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee, _this);\n                }));\n\n                return function (_x9, _x10) {\n                  return _ref10.apply(this, arguments);\n                };\n              }());\n              _context3.prev = 30;\n              _context3.next = 33;\n              return promiseKmz;\n\n            case 33:\n              return _context3.abrupt('return', _context3.sent);\n\n            case 36:\n              _context3.prev = 36;\n              _context3.t1 = _context3['catch'](30);\n              return _context3.abrupt('return', Promise.reject());\n\n            case 39:\n              return _context3.abrupt('break', 51);\n\n            case 40:\n              promise = new Promise(function () {\n                var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n                  var buffer;\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _context2.next = 2;\n                          return data.arrayBuffer(data);\n\n                        case 2:\n                          buffer = _context2.sent;\n\n                          shp(buffer).then(function (geojson) {\n                            var data = JSON.stringify(geojson);\n                            format = new ol.format.GeoJSON({});\n                            resolve(createVectorLayer(format, data, \"EPSG:4326\"));\n                          }).catch(function (err) {\n                            return reject(err);\n                          });\n\n                        case 4:\n                        case 'end':\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, _this);\n                }));\n\n                return function (_x11, _x12) {\n                  return _ref11.apply(this, arguments);\n                };\n              }());\n              _context3.prev = 41;\n              _context3.next = 44;\n              return promise;\n\n            case 44:\n              return _context3.abrupt('return', _context3.sent);\n\n            case 47:\n              _context3.prev = 47;\n              _context3.t2 = _context3['catch'](41);\n              return _context3.abrupt('return', Promise.reject());\n\n            case 50:\n              return _context3.abrupt('break', 51);\n\n            case 51:\n              return _context3.abrupt('return', layer);\n\n            case 52:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this, [[30, 36], [41, 47]]);\n    }));\n\n    function createVectorLayerFromFile() {\n      return _ref8.apply(this, arguments);\n    }\n\n    return createVectorLayerFromFile;\n  }(),\n  createStyleFunctionToVectorLayer: function createStyleFunctionToVectorLayer() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var styleFunction = function styleFunction(feature, resolution) {\n      var color = options.color,\n          field = options.field;\n\n      color = color.rgba ? 'rgba(' + color.rgba.r + ',' + color.rgba.g + ',' + color.rgba.b + ',' + color.rgba.a + ')' : color;\n      var geometryType = feature.getGeometry().getType();\n      var style = geoutils.getDefaultLayerStyle(geometryType, { color: color });\n      field && style.setText(new ol.style.Text({\n        text: '' + feature.get(field),\n        font: 'bold',\n        scale: 2,\n        offsetY: 15,\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        stroke: new ol.style.Stroke({\n          color: '#FFFFFF',\n          width: 2\n        })\n      }));\n      return style;\n    };\n    styleFunction._g3w_options = options;\n    return styleFunction;\n  },\n  createSelectedStyle: function createSelectedStyle() {\n    var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        geometryType = _ref12.geometryType,\n        _ref12$color = _ref12.color,\n        color = _ref12$color === undefined ? 'rgb(255,255,0)' : _ref12$color,\n        _ref12$fill = _ref12.fill,\n        fill = _ref12$fill === undefined ? true : _ref12$fill;\n\n    var style = null;\n    if (geometryType === 'LineString' || geometryType === 'MultiLineString') {\n      style = new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 4\n        })\n      });\n    } else if (geometryType === 'Point' || geometryType === 'MultiPoint') {\n      style = new ol.style.Style({\n        image: new ol.style.Circle({\n          radius: 6,\n          stroke: !fill && new ol.style.Stroke({\n            color: color,\n            width: 4\n          }),\n          fill: fill && new ol.style.Fill({\n            color: color\n          })\n        }),\n        zIndex: Infinity\n      });\n    } else if (geometryType === 'MultiPolygon' || geometryType === 'Polygon') {\n      var fillColor = ol.color.asArray(color);\n      fillColor.splice(3, 1, 0.5);\n      style = new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 4\n        }),\n        fill: fill && new ol.style.Fill({\n          color: ol.color.asString(fillColor)\n        })\n      });\n    }\n    return style;\n  },\n  getAlphanumericPropertiesFromFeature: function getAlphanumericPropertiesFromFeature() {\n    var properties = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    properties = Array.isArray(properties) ? properties : Object.keys(properties);\n    return properties.filter(function (property) {\n      return geometryFields.indexOf(property) === -1;\n    });\n  },\n\n\n  /**\n   * Method to convert feature to form Data for expression/expression_eval request\n   * @param feature\n   * @param type\n   */\n  getFormDataExpressionRequestFromFeature: function getFormDataExpressionRequestFromFeature(feature) {\n    delete feature.attributes.geometry;\n    var _feature = new ol.Feature(feature.geometry);\n    var properties = {};\n    geoutils.getAlphanumericPropertiesFromFeature(feature.attributes).forEach(function (property) {\n      if (property !== G3W_FID) properties[property] = feature.attributes[property];\n    });\n    _feature.setProperties(properties);\n    _feature.setId(feature.attributes[G3W_FID]);\n    return geoutils.convertFeatureToGEOJSON(_feature);\n  },\n\n\n  /**\n   * Convert Feature  to GEOJSON Format\n   * @param feature\n   */\n  convertFeatureToGEOJSON: function convertFeatureToGEOJSON(feature) {\n    var GeoJSONFormat = new ol.format.GeoJSON();\n    return GeoJSONFormat.writeFeatureObject(feature);\n  },\n\n\n  /**\n   *\n   * @param layers\n   * @param bbox\n   * @param feature_count\n   * @param multilayers\n   * @returns {JQuery.Promise<any, any, any>}\n   */\n  getQueryLayersPromisesByBBOX: function getQueryLayersPromisesByBBOX(layers, _ref13) {\n    var bbox = _ref13.bbox,\n        _ref13$filterConfig = _ref13.filterConfig,\n        filterConfig = _ref13$filterConfig === undefined ? {} : _ref13$filterConfig,\n        _ref13$feature_count = _ref13.feature_count,\n        feature_count = _ref13$feature_count === undefined ? 10 : _ref13$feature_count,\n        _ref13$multilayers = _ref13.multilayers,\n        multilayers = _ref13$multilayers === undefined ? false : _ref13$multilayers;\n\n    var queriesPromise = void 0;\n    var geometry = ol.geom.Polygon.fromExtent(bbox);\n    var map = _gui2.default.getComponent('map').getService().getMap();\n    var mapProjection = map.getView().getProjection();\n\n    if (multilayers) {\n      queriesPromise = geoutils.getQueryLayersPromisesByGeometry(layers, {\n        geometry: geometry,\n        feature_count: feature_count,\n        filterConfig: filterConfig,\n        multilayers: multilayers,\n        projection: mapProjection\n      });\n    } else {\n      var d = $.Deferred();\n      var mapCrs = mapProjection.getCode();\n      queriesPromise = d.promise();\n      var queryResponses = [];\n      var queryErrors = [];\n      var layersLenght = layers.length;\n      layers.forEach(function (layer) {\n        var filter = new Filter(filterConfig);\n        var layerCrs = layer.getProjection().getCode();\n        /**\n         * convert\n         */\n        filter.setGeometry(mapCrs !== layerCrs ? geometry.clone().transform(mapCrs, layerCrs) : geometry);\n        layer.query({\n          filter: filter,\n          feature_count: feature_count\n        }).then(function (response) {\n          queryResponses.push(response);\n        }).fail(function (error) {\n          return queryErrors.push(error);\n        }).always(function () {\n          layersLenght -= 1;\n          if (layersLenght === 0) queryErrors.length === layers.length ? d.reject(queryErrors) : d.resolve(queryResponses);\n        });\n      });\n    }\n    return queriesPromise;\n  },\n\n\n  /**\n   *\n   * @param layers\n   * @param multilayers\n   * @param bbox\n   * @param geometry\n   * @param projection\n   * @param feature_count\n   * @returns {JQuery.Promise<any, any, any>}\n   */\n  getQueryLayersPromisesByGeometry: function getQueryLayersPromisesByGeometry(layers) {\n    var _ref14 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref14$multilayers = _ref14.multilayers,\n        multilayers = _ref14$multilayers === undefined ? false : _ref14$multilayers,\n        geometry = _ref14.geometry,\n        _ref14$filterConfig = _ref14.filterConfig,\n        filterConfig = _ref14$filterConfig === undefined ? {} : _ref14$filterConfig,\n        projection = _ref14.projection,\n        _ref14$feature_count = _ref14.feature_count,\n        feature_count = _ref14$feature_count === undefined ? 10 : _ref14$feature_count;\n\n    var d = $.Deferred();\n    var queryResponses = [];\n    var queryErrors = [];\n    var mapCrs = projection.getCode();\n    var filter = new Filter(filterConfig);\n    if (multilayers) {\n      (function () {\n        var filterGeometry = geometry;\n        if (!layers.length) d.resolve([]);\n        var multiLayers = _.groupBy(layers, function (layer) {\n          return layer.getMultiLayerId() + '_' + layer.getProjection().getCode();\n        });\n        var numberRequestd = Object.keys(multiLayers).length;\n        var layersLength = numberRequestd;\n        for (var key in multiLayers) {\n          var _multilayer = multiLayers[key];\n          var _layers = _multilayer;\n          var multilayer = multiLayers[key][0];\n          var provider = multilayer.getProvider('filter');\n          var layerCrs = multilayer.getProjection().getCode();\n          if (mapCrs !== layerCrs) filterGeometry = filterGeometry.clone().transform(mapCrs, layerCrs);\n          filter.setGeometry(filterGeometry);\n          provider.query({\n            filter: filter,\n            layers: _layers,\n            feature_count: feature_count\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLength -= 1;\n            if (layersLength === 0) queryErrors.length === numberRequestd ? d.reject(queryErrors) : d.resolve(queryResponses);\n          });\n        }\n      })();\n    } else {\n      if (layers.length === 0) d.resolve([]);else {\n        var layersLenght = layers.length;\n        layers.forEach(function (layer) {\n          var layerCrs = layer.getProjection().getCode();\n          filter.setGeometry(mapCrs !== layerCrs ? geometry.clone().transform(mapCrs, layerCrs) : geometry);\n          layer.query({\n            filter: filter,\n            filterConfig: filterConfig,\n            feature_count: feature_count\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLenght -= 1;\n            if (layersLenght === 0) {\n              queryErrors.length === layers.length ? d.reject(queryErrors) : d.resolve(queryResponses);\n            }\n          });\n        });\n      }\n    }\n    return d.promise();\n  },\n  getQueryLayersPromisesByCoordinates: function getQueryLayersPromisesByCoordinates(layers) {\n    var _ref15 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        coordinates = _ref15.coordinates,\n        _ref15$feature_count = _ref15.feature_count,\n        feature_count = _ref15$feature_count === undefined ? 10 : _ref15$feature_count,\n        _ref15$query_point_to = _ref15.query_point_tolerance,\n        query_point_tolerance = _ref15$query_point_to === undefined ? QUERY_POINT_TOLERANCE : _ref15$query_point_to,\n        _ref15$multilayers = _ref15.multilayers,\n        multilayers = _ref15$multilayers === undefined ? false : _ref15$multilayers,\n        _ref15$reproject = _ref15.reproject,\n        reproject = _ref15$reproject === undefined ? true : _ref15$reproject;\n\n    var d = $.Deferred();\n    if (!layers.length) return d.resolve(layers);\n    var map = _gui2.default.getComponent('map').getService().getMap();\n    var size = map.getSize();\n    var queryResponses = [];\n    var queryErrors = [];\n    var mapProjection = map.getView().getProjection();\n    var resolution = map.getView().getResolution();\n    if (multilayers) {\n      (function () {\n        // case of multilayers\n        var multiLayers = {};\n        layers.forEach(function (layer) {\n          var key = layer.getInfoFormat() + ':' + layer.getInfoUrl() + ':' + layer.getMultiLayerId();\n          if (multiLayers[key]) multiLayers[key].push(layer);else multiLayers[key] = [layer];\n        });\n        var numberOfRequests = Object.keys(multiLayers).length;\n        var layersLength = numberOfRequests;\n        for (var key in multiLayers) {\n          var _multilayer = multiLayers[key];\n          var _layers2 = _multilayer;\n          var multilayer = multiLayers[key][0];\n          var provider = multilayer.getProvider('query');\n          provider.query({\n            feature_count: feature_count,\n            coordinates: coordinates,\n            query_point_tolerance: query_point_tolerance,\n            mapProjection: mapProjection,\n            reproject: reproject,\n            resolution: resolution,\n            size: size,\n            layers: _layers2\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLength -= 1;\n            if (layersLength === 0) {\n              queryErrors.length === numberOfRequests ? d.reject(queryErrors) : d.resolve(queryResponses);\n            }\n          });\n        }\n      })();\n    } else {\n      // single layers request\n      var layersLength = layers.length;\n      var rejectedResponses = 0;\n      layers.forEach(function (layer) {\n        layer.query({\n          feature_count: feature_count,\n          coordinates: coordinates,\n          query_point_tolerance: query_point_tolerance,\n          mapProjection: mapProjection,\n          size: size,\n          resolution: resolution\n        }).then(function (response) {\n          queryResponses.push(response);\n        }).fail(function (error) {\n          rejectedResponses += 1;\n          queryErrors.push(error);\n        }).always(function () {\n          layersLength -= 1;\n          if (layersLength === 0) {\n            rejectedResponses < layers.length ? d.resolve(queryResponses) : d.reject(queryErrors);\n          }\n        });\n      });\n    }\n    return d.promise();\n  },\n  transformBBOX: function transformBBOX() {\n    var _ref16 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        bbox = _ref16.bbox,\n        sourceCrs = _ref16.sourceCrs,\n        destinationCrs = _ref16.destinationCrs;\n\n    var point1 = new ol.geom.Point([bbox[0], bbox[1]]);\n    var point2 = new ol.geom.Point([bbox[2], bbox[3]]);\n    point1.transform(sourceCrs, destinationCrs);\n    point2.transform(sourceCrs, destinationCrs);\n    return [].concat(_toConsumableArray(point1.getCoordinates()), _toConsumableArray(point2.getCoordinates()));\n  },\n  parseQueryLayersPromiseResponses: function parseQueryLayersPromiseResponses(responses) {\n    var results = {\n      query: responses[0] ? responses[0].query : null,\n      data: []\n    };\n    responses.forEach(function (result) {\n      result.data && result.data.forEach(function (data) {\n        results.data.push(data);\n      });\n    });\n    return results;\n  },\n  getMapLayerById: function getMapLayerById(layerId) {\n    return _mapLayers2.default.getLayerById(layerId);\n  },\n\n\n  //return mapLayer based on filter (properties of layer. Es GEOLAYER etc..)\n  //Default values geolayer\n  getMapLayersByFilter: function getMapLayersByFilter() {\n    var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    filter = _extends({\n      GEOLAYER: true\n    }, filter);\n    var layers = [];\n    _mapLayers2.default.getQuerableLayersStores().forEach(function (layerStore) {\n      layers = layerStore.getLayers(filter, options);\n    });\n    return layers || [];\n  },\n  areCoordinatesEqual: function areCoordinatesEqual() {\n    var coordinates1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var coordinates2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    return coordinates1[0] === coordinates2[0] && coordinates1[1] === coordinates2[1];\n  },\n\n  /**\n   *\n   *\n   * @param response\n   * @param type vector/results\n   * @returns {*|*[]|null}\n   */\n  getFeaturesFromResponseVectorApi: function getFeaturesFromResponseVectorApi() {\n    var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _ref17 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref17$type = _ref17.type,\n        type = _ref17$type === undefined ? 'vector' : _ref17$type;\n\n    if (response.result) {\n      var features = response.vector.data.features || [];\n      switch (type) {\n        case 'result':\n          return geoutils.covertVectorFeaturesToResultFeatures(features);\n          break;\n        case 'vector':\n        default:\n          return features;\n      }\n    } else return null;\n  },\n  covertVectorFeaturesToResultFeatures: function covertVectorFeaturesToResultFeatures() {\n    var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    return features.map(function (feature) {\n      var id = feature.id,\n          attributes = feature.properties,\n          geometry = feature.geometry;\n\n      attributes[G3W_FID] = id;\n      return {\n        geometry: geometry,\n        attributes: attributes,\n        id: id\n      };\n    });\n  },\n  splitGeometryLine: function splitGeometryLine(splitGeometry, lineGeometry) {\n    var isZType = lineGeometry.getCoordinates()[0][2] !== undefined;\n    var splitted = false;\n    var splittedSegments = [];\n    var jstsFromWkt = new jsts.io.WKTReader();\n    var wktFromOl = new ol.format.WKT();\n    var olFromJsts = new jsts.io.OL3Parser();\n    var splitLine = jstsFromWkt.read(wktFromOl.writeGeometry(splitGeometry));\n    var wktLineString = wktFromOl.writeGeometry(lineGeometry);\n    if (isZType) wktLineString = wktLineString.replace(' Z', '');\n    var targetLine = jstsFromWkt.read(wktLineString);\n    var targetCoordinates = targetLine.getCoordinates();\n    var targetCoordinatesLength = targetCoordinates.length;\n    var geometryFactory = new jsts.geom.GeometryFactory();\n    var pointsNotSplitted = [];\n    var endPoint = void 0;\n    var startPoint = void 0;\n    for (var i = 0; i < targetCoordinatesLength - 1; i++) {\n      startPoint = targetCoordinates[i];\n      endPoint = targetCoordinates[i + 1];\n      if (isZType) {\n        startPoint.z = lineGeometry.getCoordinates()[i][2];\n        endPoint.z = lineGeometry.getCoordinates()[i + 1][2];\n      }\n      // create a segment of two vertex\n      var segment = geometryFactory.createLineString([startPoint, endPoint]);\n      var intersectCoordinates = segment.intersection(splitLine).getCoordinates();\n      if (intersectCoordinates.length) {\n        splitted = true;\n        intersectCoordinates.forEach(function (splitPoint) {\n          if (isZType) splitPoint.z = startPoint.z;\n          if (pointsNotSplitted.length) {\n            var lineNewSegment = olFromJsts.write(geometryFactory.createLineString(pointsNotSplitted.concat([startPoint, splitPoint])));\n            if (isZType) {\n              var coordinates = lineNewSegment.getCoordinates();\n              lineNewSegment.setCoordinates([[].concat(_toConsumableArray(coordinates[0]), [startPoint.z]), [].concat(_toConsumableArray(coordinates[1]), [splitPoint.z])]);\n            }\n            splittedSegments.push(lineNewSegment);\n            pointsNotSplitted = [];\n          } else {\n            var _lineNewSegment = olFromJsts.write(geometryFactory.createLineString([startPoint, splitPoint]));\n            if (isZType) {\n              var _coordinates = _lineNewSegment.getCoordinates();\n              _lineNewSegment.setCoordinates([[].concat(_toConsumableArray(_coordinates[0]), [startPoint.z]), [].concat(_toConsumableArray(_coordinates[1]), [splitPoint.z])]);\n            }\n            splittedSegments.push(_lineNewSegment);\n          }\n          startPoint = splitPoint;\n        });\n        pointsNotSplitted = pointsNotSplitted.concat([startPoint, endPoint]);\n      } else pointsNotSplitted = pointsNotSplitted.concat([startPoint, endPoint]);\n    }\n    var restOfLine = olFromJsts.write(geometryFactory.createLineString(pointsNotSplitted));\n    if (isZType) {\n      var zCoordinates = [];\n      pointsNotSplitted.forEach(function (pointNotSplitted, index) {\n        var coordinate = restOfLine.getCoordinates()[index];\n        coordinate.push(pointNotSplitted.z);\n        zCoordinates.push(coordinate);\n      });\n      restOfLine.setCoordinates(zCoordinates);\n    }\n    splittedSegments.push(restOfLine);\n    return splitted && splittedSegments || [];\n  },\n  splitFeatures: function splitFeatures() {\n    var _ref18 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref18$features = _ref18.features,\n        features = _ref18$features === undefined ? [] : _ref18$features,\n        splitfeature = _ref18.splitfeature;\n\n    var splitterdGeometries = [];\n    features.forEach(function (feature) {\n      var geometries = geoutils.splitFeature({ feature: feature, splitfeature: splitfeature });\n      geometries.length > 1 && splitterdGeometries.push({\n        uid: feature.getUid(),\n        geometries: geometries\n      });\n    });\n    return splitterdGeometries;\n  },\n  splitFeature: function splitFeature() {\n    var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref19.feature,\n        splitfeature = _ref19.splitfeature;\n\n    var geometries = {\n      feature: feature.getGeometry(), //geometry of the feature to split\n      split: splitfeature.getGeometry() // geometry of split feature\n    };\n    // check geometry type of split\n    var splitType = geometries.split.getType();\n    // check geometry type of feature\n    var featureGeometryType = geometries.feature.getType();\n    // array of splitted geometries\n    var splittedFeatureGeometries = [];\n    var parser = new jsts.io.OL3Parser();\n    switch (splitType) {\n      case 'LineString':\n        // check if geometry is Polygon\n        if (featureGeometryType.indexOf('Polygon') !== -1) {\n          // check if is a MultiPolygon\n          var isMulti = featureGeometryType.indexOf('Multi') !== -1;\n          // if multiPolygon\n          var polygonFeature = isMulti ? geometries.feature.getPolygons() : geometries.feature;\n          if (Array.isArray(polygonFeature)) {\n            polygonFeature.forEach(function (geometry) {\n              geoutils.splitFeature({\n                splitfeature: splitfeature,\n                feature: new ol.Feature({\n                  geometry: geometry\n                })\n              }).forEach(function (geometry) {\n                geometry && splittedFeatureGeometries.push(new ol.geom.MultiPolygon([geometry.getCoordinates()]));\n              });\n            });\n          } else {\n            // case a Polygon\n            var isZType = polygonFeature.getCoordinates()[0][0][2] !== undefined;\n            var polygonFeatureGeometry = parser.read(polygonFeature);\n            var externalPolygonFeatureGeometry = parser.read(polygonFeature.getLinearRing(0));\n            // create a line splittinf feature in jsts\n            var splitGeometry = parser.read(geometries.split);\n            // add holes geometries\n            var holePolygons = void 0;\n            if (polygonFeature.getLinearRingCount() > 1) {\n              var holeFeaturesGeometry = void 0;\n              for (var index = 1; index < polygonFeature.getLinearRingCount(); index++) {\n                var holeRing = parser.read(polygonFeature.getLinearRing(index));\n                if (holeFeaturesGeometry === undefined) holeFeaturesGeometry = holeRing;else holeFeaturesGeometry = holeFeaturesGeometry.union(holeRing);\n              }\n              holePolygons = new jsts.operation.polygonize.Polygonizer();\n              holePolygons.add(holeFeaturesGeometry);\n              var holyPolygonUnion = void 0;\n              holePolygons.getPolygons().toArray().forEach(function (polygon) {\n                if (holyPolygonUnion === undefined) holyPolygonUnion = polygon;else holyPolygonUnion = holyPolygonUnion.union(polygon);\n              });\n              holePolygons = holyPolygonUnion;\n            }\n\n            if (isZType) {\n              polygonFeature.getCoordinates()[0].forEach(function (coordinate, index) {\n                externalPolygonFeatureGeometry.getCoordinates()[index].z = coordinate[2];\n              });\n              splitGeometry.getCoordinates().forEach(function (coordinate) {\n                return coordinate.z = 0;\n              });\n            }\n\n            var union = externalPolygonFeatureGeometry.union(splitGeometry);\n            var polygonizer = new jsts.operation.polygonize.Polygonizer();\n            polygonizer.add(union);\n            var polygons = polygonizer.getPolygons().toArray();\n            polygons.length > 1 && polygons.forEach(function (polygon) {\n              if (holePolygons) polygon = polygon.difference(holePolygons);\n              if (polygonFeatureGeometry.intersects(polygon.getInteriorPoint())) {\n                var geometry = parser.write(polygon);\n                var polygonCoordinates = polygon.getCoordinates();\n                if (isZType) {\n                  polygonCoordinates.forEach(function (coordinate, index) {\n                    coordinate.z = coordinate.z === undefined ? polygonCoordinates[index === 0 ? index + 1 : index - 1].z : coordinate.z;\n                  });\n                }\n                if (isZType) {\n                  var zCoordinates = [];\n                  geometry.getCoordinates()[0].forEach(function (coordinate, index) {\n                    coordinate.push(polygonCoordinates[index].z);\n                    zCoordinates.push(coordinate);\n                  });\n                  geometry.setCoordinates([zCoordinates]);\n                }\n                var geometryType = geometry.getType();\n                if (isMulti) {\n                  splittedFeatureGeometries.push(new ol.geom.MultiPolygon(geometryType === 'Polygon' ? [geometry.getCoordinates()] : geometry.getCoordinates()));\n                } else {\n                  if (geometryType === 'Polygon') {\n                    splittedFeatureGeometries.push(geometry);\n                  } else geometry.getCoordinates().forEach(function (coordinates) {\n                    splittedFeatureGeometries.push(new ol.geom.Polygon(coordinates));\n                  });\n                }\n              }\n            });\n          }\n          //LineString or MultiLineString\n        } else if (featureGeometryType.indexOf('LineString') !== -1) {\n          var _isMulti = featureGeometryType.indexOf('Multi') !== -1;\n          var lineFeatureGeometry = _isMulti ? geometries.feature.getLineStrings() : geometries.feature;\n          if (Array.isArray(lineFeatureGeometry)) {\n            lineFeatureGeometry.forEach(function (lineGeometry) {\n              geoutils.splitFeature({\n                splitfeature: splitfeature,\n                feature: new ol.Feature({\n                  geometry: lineGeometry\n                })\n              }).forEach(function (geometry) {\n                geometry && splittedFeatureGeometries.push(new ol.geom.MultiLineString([geometry.getCoordinates()]));\n              });\n            });\n          } else return geoutils.splitGeometryLine(geometries.split, geometries.feature);\n        }\n        break;\n    }\n    return splittedFeatureGeometries;\n  },\n\n  /**\n   * Return Point feature vertex from geometry\n   * @param geometry\n   */\n  getPointFeaturesfromGeometryVertex: function getPointFeaturesfromGeometryVertex(geometry) {\n    var pointFeatures = [];\n    switch (geometry.getType()) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            coordinates.pop();\n            coordinates.forEach(function (coordinates) {\n              var feature = new ol.Feature(new ol.geom.Point(coordinates));\n              pointFeatures.push(feature);\n            });\n          });\n        });\n        break;\n      case GeometryTypes.POLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.pop();\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.MULTILINESTRING:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.LINESTRING:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.MULTIPOINT:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          var feature = new ol.Feature(new ol.geom.Point(coordinates));\n          pointFeatures.push(feature);\n        });\n        break;\n      case GeometryTypes.POINT:\n        var coordinates = geometry.getCoordinates();\n        var feature = new ol.geom.Point(coordinates);\n        pointFeatures.push(feature);\n        break;\n    }\n    return pointFeatures;\n  },\n\n\n  /**\n   * Return number of vertex of a feature\n   * @param geometries\n   * @returns {*}\n   */\n  getVertexLength: function getVertexLength(geometry) {\n    var vertexLength = 0;\n    switch (geometry.getType()) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            coordinates.pop();\n            coordinates.forEach(function () {\n              return vertexLength += 1;\n            });\n          });\n        });\n        break;\n      case GeometryTypes.POLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.pop();\n          coordinates.forEach(function () {\n            return vertexLength += 1;\n          });\n        });\n        break;\n    }\n    return vertexLength;\n  },\n\n\n  /**\n   * Method that compare two geometry type and return true id are same geometry type or have in common tha same base geometry type:\n   * es. Point <--> Point => true\n   *  MultiPoint <--> Point => true\n   *  Point <--> Polygon => false\n   *\n   */\n  isSameBaseGeometryType: function isSameBaseGeometryType(geometryType1, geometryType2) {\n    geometryType1 = geometryType1.replace('Multi', '');\n    geometryType2 = geometryType2.replace('Multi', '');\n    return geometryType1 === geometryType2;\n  },\n  isSingleGeometry: function isSingleGeometry(geometry) {\n    return !Geometry.isMultiGeometry(geometry.getType());\n  },\n  singleGeometriesToMultiGeometry: function singleGeometriesToMultiGeometry() {\n    var geometries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    var geometryType = geometries[0] && geometries[0].getType();\n    return geometryType && new ol.geom['Multi' + geometryType](geometries.map(function (geometry) {\n      return geometry.getCoordinates();\n    }));\n  },\n  multiGeometryToSingleGeometries: function multiGeometryToSingleGeometries(geometry) {\n    var geometryType = geometry.getType();\n    var geometries = [];\n    switch (geometryType) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometries = geometry.getPolygons();\n        break;\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINESTRING:\n        geometries = geometry.getLineStrings();\n        break;\n      case GeometryTypes.MULTIPOINT:\n        geometries = geometry.getPoints();\n        break;\n    }\n    return geometries;\n  },\n\n  /**\n   * Convert geometry to geometryType (from Single to Multi or viceversa)\n   * @param geometry //from geometry\n   * @param toGeometryType\n   * @returns {*}\n   */\n  convertSingleMultiGeometry: function convertSingleMultiGeometry(geometry, toGeometryType) {\n    var fromGeometryType = geometry.getType();\n    if (toGeometryType && fromGeometryType !== toGeometryType) {\n      var isFromGeometryMulti = Geometry.isMultiGeometry(fromGeometryType);\n      var isToGeometryMulti = Geometry.isMultiGeometry(toGeometryType);\n      if (isFromGeometryMulti && !isToGeometryMulti) return geoutils.multiGeometryToSingleGeometries(geometry);else if (!isFromGeometryMulti && isToGeometryMulti) return geoutils.singleGeometriesToMultiGeometry([geometry]);\n    }\n    return geometry;\n  },\n  dissolve: function dissolve() {\n    var _ref20 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref20$features = _ref20.features,\n        features = _ref20$features === undefined ? [] : _ref20$features,\n        _ref20$index = _ref20.index,\n        index = _ref20$index === undefined ? 0 : _ref20$index,\n        _ref20$clone = _ref20.clone,\n        clone = _ref20$clone === undefined ? false : _ref20$clone;\n\n    var parser = new jsts.io.OL3Parser();\n    var featuresLength = features.length;\n    var dissolvedFeature = void 0;\n    var jstsdissolvedFeatureGeometry = void 0;\n    switch (featuresLength) {\n      case 0:\n        dissolvedFeature = null;\n        break;\n      case 1:\n        dissolvedFeature = features[0];\n        break;\n      default:\n        var baseFeature = dissolvedFeature = clone ? features[index].clone() : features[index];\n        var baseFeatureGeometry = baseFeature.getGeometry();\n        var baseFeatureGeometryType = baseFeatureGeometry.getType();\n        // check if can buil a LineString\n        if (baseFeatureGeometryType === 'LineString') {\n          var lineMerger = new jsts.operation.linemerge.LineMerger();\n          for (var i = 0; i < featuresLength; i++) {\n            var feature = features[i];\n            var coordinates = parser.read(feature.getGeometry()).getCoordinates();\n            var LineString = new jsts.geom.GeometryFactory().createLineString(coordinates);\n            lineMerger.addLineString(LineString);\n          }\n          var mergedLineString = lineMerger.getMergedLineStrings();\n          jstsdissolvedFeatureGeometry = mergedLineString.size() === 1 ? mergedLineString.toArray()[0] : null;\n        } else {\n          jstsdissolvedFeatureGeometry = parser.read(baseFeatureGeometry);\n          for (var _i = 0; _i < featuresLength; _i++) {\n            if (index !== _i) {\n              var _feature3 = features[_i];\n              jstsdissolvedFeatureGeometry = jstsdissolvedFeatureGeometry.union(parser.read(_feature3.getGeometry()));\n            }\n          }\n        }\n        if (jstsdissolvedFeatureGeometry) {\n          var dissolvedFeatureGeometry = parser.write(jstsdissolvedFeatureGeometry);\n          var dissolvedFeatureGeometryType = dissolvedFeatureGeometry.getType();\n          var dissolvedFeatuteGeometryCoordinates = dissolvedFeatureGeometryType === baseFeatureGeometryType ? dissolvedFeatureGeometry.getCoordinates() : baseFeatureGeometryType.indexOf('Multi') !== -1 && dissolvedFeatureGeometryType === baseFeatureGeometryType.replace('Multi', '') ? [dissolvedFeatureGeometry.getCoordinates()] : null;\n          if (dissolvedFeatuteGeometryCoordinates) baseFeature.getGeometry().setCoordinates(dissolvedFeatuteGeometryCoordinates);else dissolvedFeature = null;\n        } else dissolvedFeature = null;\n    }\n    return dissolvedFeature;\n  },\n\n\n  /**\n   * Check if `geometryToCheck` is within `geometry`\n   * \n   * @param   {ol.geometry} geometry\n   * @param   {ol.geometry} geometryToCheck\n   * @returns {boolean}     whether `geometryToCheck` is within `geometry`\n   * \n   * @since 3.8.0\n   */\n  within: function within(geometry, geometryToCheck) {\n    var olFromJsts = new jsts.io.OL3Parser();\n    var jstsGeometry = olFromJsts.read(geometry);\n    var jstsGeometryToCheck = olFromJsts.read(geometryToCheck);\n    return jstsGeometryToCheck.within(jstsGeometry);\n  },\n\n  /**\n   * Check if `geometryCheck` intersects with `geometry`\n   * \n   * @param   {ol.geometry} geometry\n   * @param   {ol.geometry} geometryToCheck\n   * \n   * @returns {boolean}     whether `geometryToCheck` interesects `geometry`\n   * \n   * @since 3.8.0\n   */\n  intersects: function intersects(geometry, geometryToCheck) {\n    var olFromJsts = new jsts.io.OL3Parser();\n    var jstsGeometry = olFromJsts.read(geometry);\n    var jstsGeometryToCheck = olFromJsts.read(geometryToCheck);\n    return jstsGeometry.intersects(jstsGeometryToCheck);\n  },\n\n\n  /**\n   * Method to find Self Intersection\n   * @param geoJsonPolygon\n   * @returns {[]}\n   */\n  findSelfIntersects: function findSelfIntersects(geometry) {\n    // temporary return true or false (commented the array result for point intersect)\n    var selfIntersectPoint = [];\n    var olFromJsts = new jsts.io.OL3Parser();\n    var jstsPolygon = olFromJsts.read(geometry);\n    // if the geometry is already a simple linear ring, do not\n    // try to find self intersection points.\n    var validator = new jsts.operation.IsSimpleOp(jstsPolygon);\n    //if (validator.isSimpleLinearGeometry(jstsPolygon)) return selfIntersectPoint;\n    if (validator.isSimpleLinearGeometry(jstsPolygon)) return false;\n    var graph = new jsts.geomgraph.GeometryGraph(0, jstsPolygon);\n    var cat = new jsts.operation.valid.ConsistentAreaTester(graph);\n    var r = cat.isNodeConsistentArea();\n    if (!r) {\n      return true;\n      //const pt = cat.getInvalidPoint();\n      //selfIntersectPoint.push([pt.x, pt.y]);\n    }\n  },\n  normalizeEpsg: function normalizeEpsg(epsg) {\n    if (typeof epsg === 'number') return 'EPSG:' + epsg;\n    epsg = epsg.replace(/[^\\d\\.\\-]/g, \"\");\n    if (epsg !== '') return 'EPSG:' + parseInt(epsg);\n  },\n  crsToCrsObject: function crsToCrsObject(crs) {\n    if (crs === null || crs === undefined) return crs;\n    if (toRawType(crs) === 'Object' && crs.epsg) crs.epsg = geoutils.normalizeEpsg(crs.epsg);else crs = {\n      epsg: geoutils.normalizeEpsg(crs),\n      proj4: \"\",\n      axisinverted: false,\n      geographic: false\n    };\n    return crs;\n  },\n\n  /**\n   * Method to convert Degree Minutes  to Degree\n   * @param dm\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDMToDEG: function ConvertDMToDEG(_ref21) {\n    var dms = _ref21.dms,\n        _ref21$type = _ref21.type,\n        type = _ref21$type === undefined ? \"Array\" : _ref21$type;\n\n    var dms_Array = type === 'Array' ? dms : dms.split(/[^\\d\\w\\.]+/);\n    var degrees = 1 * dms_Array[0];\n    var minutes = 1 * dms_Array[1];\n    var deg = (Number(degrees) + Number(minutes) / 60).toFixed(6);\n    return 1 * deg;\n  },\n\n  /**\n   * Method to convert Degree to DM\n   * @param deg\n   * @param lat\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDEGToDM: function ConvertDEGToDM() {\n    var _ref22 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        deg = _ref22.deg,\n        _ref22$output = _ref22.output,\n        output = _ref22$output === undefined ? 'Array' : _ref22$output;\n\n    var absolute = Math.abs(deg);\n    var degrees = Math.floor(absolute);\n    var minutes = (absolute - degrees) * 60;\n    switch (output) {\n      case 'Array':\n        return [degrees, minutes];\n        break;\n      case 'Object':\n        return {\n          degrees: degrees,\n          minutes: minutes\n        };\n        break;\n      case 'Text':\n      default:\n        return degrees + \"°\" + minutes + \"'\";\n    }\n  },\n\n  /**\n   * Method to convert Degree Minutes Seconto to Degree\n   * @param dms\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDMSToDEG: function ConvertDMSToDEG(_ref23) {\n    var dms = _ref23.dms,\n        _ref23$type = _ref23.type,\n        type = _ref23$type === undefined ? \"Array\" : _ref23$type;\n\n    var dms_Array = type === 'Array' ? dms : dms.split(/[^\\d\\w\\.]+/);\n    var degrees = 1 * dms_Array[0];\n    var minutes = 1 * dms_Array[1];\n    var seconds = 1 * dms_Array[2];\n    var direction = dms_Array[3];\n    var deg = (Number(degrees) + Number(minutes) / 60 + Number(seconds) / 3600).toFixed(6);\n    if (direction == \"S\" || direction == \"W\") deg = deg * -1;\n    return 1 * deg;\n  },\n\n  /**\n   * Method to convert Degree to DMS\n   * @param deg\n   * @param lat\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDEGToDMS: function ConvertDEGToDMS() {\n    var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        deg = _ref24.deg,\n        lat = _ref24.lat,\n        lon = _ref24.lon,\n        _ref24$output = _ref24.output,\n        output = _ref24$output === undefined ? 'Array' : _ref24$output;\n\n    var absolute = Math.abs(deg);\n    var degrees = Math.floor(absolute);\n    var minutesNotTruncated = (absolute - degrees) * 60;\n    var minutes = Math.floor(minutesNotTruncated);\n    var seconds = ((minutesNotTruncated - minutes) * 60).toFixed(2);\n    var direction = void 0;\n    if (lat) direction = deg >= 0 ? \"N\" : \"S\";\n    if (lon) direction = deg >= 0 ? \"E\" : \"W\";\n    switch (output) {\n      case 'Array':\n        return [degrees, minutes, seconds, direction];\n        break;\n      case 'Object':\n        return {\n          degrees: degrees,\n          minutes: minutes,\n          seconds: seconds,\n          direction: direction\n        };\n        break;\n      case 'Text':\n      default:\n        return degrees + \"°\" + minutes + \"'\" + seconds + \"\\\"\" + direction;\n    }\n  },\n\n  /**\n   * Method to get geotiff file create by server\n   *\n   * @param options {\n   *   url: server url end point\n   *   method: \"GET\" or \"POST\" - default POST\n   * }\n   * @returns {Promise<Blob>}\n   */\n  getGeoTIFFfromServer: function () {\n    var _ref25 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var url, _options$params, image, csrfmiddlewaretoken, bbox, _options$method, method, body, response, geoTIFF;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              url = options.url, _options$params = options.params, image = _options$params.image, csrfmiddlewaretoken = _options$params.csrfmiddlewaretoken, bbox = _options$params.bbox, _options$method = options.method, method = _options$method === undefined ? \"POST\" : _options$method;\n              body = new FormData();\n\n              body.append('image', image);\n              body.append('csrfmiddlewaretoken', csrfmiddlewaretoken);\n              body.append('bbox', bbox);\n              _context4.next = 7;\n              return fetch(url, {\n                method: method, // *GET, POST, PUT, DELETE, etc.,\n                body: body\n              });\n\n            case 7:\n              response = _context4.sent;\n              _context4.next = 10;\n              return response.blob();\n\n            case 10:\n              geoTIFF = _context4.sent;\n              return _context4.abrupt('return', geoTIFF);\n\n            case 12:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function getGeoTIFFfromServer() {\n      return _ref25.apply(this, arguments);\n    }\n\n    return getGeoTIFFfromServer;\n  }(),\n\n  /**\n   * Method to convert feature forma api\n   * @param feature\n   * @returns {*|Feature|Feature}\n   */\n  createOlFeatureFromApiResponseFeature: function createOlFeatureFromApiResponseFeature(feature) {\n    var _feature$properties = feature.properties,\n        properties = _feature$properties === undefined ? {} : _feature$properties,\n        geometry = feature.geometry,\n        id = feature.id;\n\n    properties[G3W_FID] = id;\n    var Feature = new ol.Feature(geometry && new ol.geom[geometry.type](geometry.coordinates));\n    Feature.setProperties(properties);\n    Feature.setId(id);\n    return Feature;\n  },\n  sanitizeFidFeature: function sanitizeFidFeature(fid) {\n    if (toRawType(fid) === 'String' && Number.isNaN(1 * fid)) {\n      fid = fid.split('.');\n      fid = fid.length === 2 ? fid[1] : fid[0];\n    }\n    return fid;\n  },\n  parseAttributes: function parseAttributes(layerAttributes, featureAttributes) {\n    var featureAttributesNames = Object.keys(featureAttributes).filter(function (featureAttributesName) {\n      return geometryFields.indexOf(featureAttributesName) === -1;\n    });\n    if (layerAttributes && layerAttributes.length) {\n      var _featureAttributesNames = Object.keys(featureAttributes);\n      return layerAttributes.filter(function (attribute) {\n        return _featureAttributesNames.indexOf(attribute.name) > -1;\n      });\n    } else {\n      return featureAttributesNames.map(function (featureAttributesName) {\n        return {\n          name: featureAttributesName,\n          label: featureAttributesName\n        };\n      });\n    }\n  },\n\n  /**\n   * Handle case query response\n   */\n  handleQueryResponse: function handleQueryResponse() {\n    var _ref26 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref26.response,\n        projections = _ref26.projections,\n        layers = _ref26.layers,\n        _ref26$wms = _ref26.wms,\n        wms = _ref26$wms === undefined ? true : _ref26$wms;\n\n    layers = layers ? layers : [this._layer];\n    var layer = layers[0];\n    var infoFormat = layer.getInfoFormat();\n    response = responseParser.get(infoFormat)({\n      response: response,\n      projections: projections,\n      layers: layers,\n      wms: wms\n    });\n    return response;\n  },\n\n\n  /**\n   * core/geometry/geom::distance@v3.4\n   */\n  distance: function distance(c1, c2) {\n    return Math.sqrt(geom.squaredDistance(c1, c2));\n  },\n\n\n  /**\n   * * core/geometry/geom::squaredDistance@v3.4\n   */\n  squaredDistance: function squaredDistance(c1, c2) {\n    var x1 = c1[0];\n    var y1 = c1[1];\n    var x2 = c2[0];\n    var y2 = c2[1];\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    return dx * dx + dy * dy;\n  },\n\n\n  /**\n   * core/geometry/geom::closestOnSegment@v3.4\n   */\n  closestOnSegment: function closestOnSegment(coordinate, segment) {\n    var x0 = coordinate[0];\n    var y0 = coordinate[1];\n    var start = segment[0];\n    var end = segment[1];\n    var x1 = start[0];\n    var y1 = start[1];\n    var x2 = end[0];\n    var y2 = end[1];\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    var along = dx === 0 && dy === 0 ? 0 : (dx * (x0 - x1) + dy * (y0 - y1)) / (dx * dx + dy * dy || 0);\n    var x = void 0,\n        y = void 0;\n    if (along <= 0) {\n      x = x1;\n      y = y1;\n    } else if (along >= 1) {\n      x = x2;\n      y = y2;\n    } else {\n      x = x1 + along * dx;\n      y = y1 + along * dy;\n    }\n    return [x, y];\n  },\n  get_LEGEND_ON_LEGEND_OFF_Params: function get_LEGEND_ON_LEGEND_OFF_Params(layer) {\n    var LEGEND_ON = void 0,\n        LEGEND_OFF = void 0;\n    if (layer.getCategories()) {\n      /**\n       * checked: current status\n       * _checked: original status\n       * handle only difference (diff) from original checked status and current chenge by toc categories\n       */\n      layer.getCategories().forEach(function (_ref27) {\n        var checked = _ref27.checked,\n            _checked = _ref27._checked,\n            ruleKey = _ref27.ruleKey;\n\n        if (checked !== _checked) {\n          if (checked) {\n            if (typeof LEGEND_ON === 'undefined') LEGEND_ON = layer.getWMSLayerName() + ':';else LEGEND_ON = LEGEND_ON + ',';\n            LEGEND_ON = '' + LEGEND_ON + ruleKey;\n          } else {\n            if (typeof LEGEND_OFF === 'undefined') LEGEND_OFF = layer.getWMSLayerName() + ':';else LEGEND_OFF = LEGEND_OFF + ',';\n            LEGEND_OFF = '' + LEGEND_OFF + ruleKey;\n          }\n        }\n      });\n    }\n    return {\n      LEGEND_ON: LEGEND_ON,\n      LEGEND_OFF: LEGEND_OFF\n    };\n  },\n\n\n  /**\n   * @TODO remove \"Geometry\" sub-property (ie. find out how to merge the following functions)\n   */\n  Geometry: Geometry\n\n};\n\nmodule.exports = geoutils;\n\n},{\"app/constant\":4,\"core/layers/filter/filter\":30,\"core/layers/map/wmslayer\":45,\"core/utils/parsers\":66,\"core/utils/utils\":67,\"services/gui\":358,\"store/map-layers\":374}],65:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @FIXME remove weird import (utility functions should be stateles)\n                                                                                                                                                                                                                                                                   */\n\n\nvar _applicationState = require(\"store/application-state\");\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n */\n// const { Geometry } = require('core/utils/geo');\n\nvar INCHES_PER_UNIT = {\n  m: 39.37, //\n  degrees: 4374754\n};\n\n//const DOTS_PER_INCH = ol.has.DEVICE_PIXEL_RATIO * 96; //DPI96\nvar DOTS_PER_INCH = 96; //DPI96\n\nvar utils = {\n  merge: function merge(obj1, obj2) {\n    var obj3 = _extends({}, obj1, obj2);\n    return obj3;\n  },\n  getExtentForViewAndSize: function getExtentForViewAndSize(center, resolution, rotation, size) {\n    var dx = resolution * size[0] / 2;\n    var dy = resolution * size[1] / 2;\n    var cosRotation = Math.cos(rotation);\n    var sinRotation = Math.sin(rotation);\n    var xCos = dx * cosRotation;\n    var xSin = dx * sinRotation;\n    var yCos = dy * cosRotation;\n    var ySin = dy * sinRotation;\n    var x = center[0];\n    var y = center[1];\n    var x0 = x - xCos + ySin;\n    var x1 = x - xCos - ySin;\n    var x2 = x + xCos - ySin;\n    var x3 = x + xCos + ySin;\n    var y0 = y - xSin - yCos;\n    var y1 = y - xSin + yCos;\n    var y2 = y + xSin + yCos;\n    var y3 = y + xSin - yCos;\n    //return [Math.min(y0, y1, y2, y3),Math.min(x0, x1, x2, x3), Math.max(y0, y1, y2, y3), Math.max(x0, x1, x2, x3)]\n    return [Math.min(x0, x1, x2, x3), Math.min(y0, y1, y2, y3), Math.max(x0, x1, x2, x3), Math.max(y0, y1, y2, y3)];\n  },\n\n  // function that create a polygon vector layer from bbox\n  createPolygonLayerFromBBox: function createPolygonLayerFromBBox(bbox) {\n    var polygonFeature = new ol.Feature(new ol.geom.Polygon.fromExtent(bbox));\n    var vectorSource = new ol.source.Vector({\n      features: [polygonFeature]\n    });\n    var polygonLayer = new ol.layer.Vector({\n      source: vectorSource\n    });\n    return polygonLayer;\n  },\n  reverseGeometry: function reverseGeometry(geometry) {\n    var reverseCoordinates = function reverseCoordinates(coordinates) {\n      coordinates.find(function (coordinate) {\n        if (Array.isArray(coordinate)) {\n          reverseCoordinates(coordinate);\n        } else {\n          var _coordinates = _slicedToArray(coordinates, 2),\n              y = _coordinates[0],\n              x = _coordinates[1];\n\n          coordinates[0] = x;\n          coordinates[1] = y;\n          return true;\n        }\n      });\n    };\n    var coordinates = geometry.getCoordinates();\n    reverseCoordinates(coordinates);\n    geometry.setCoordinates(coordinates);\n    return geometry;\n  },\n  getScaleFromResolution: function getScaleFromResolution(resolution) {\n    var units = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"m\";\n\n    return Math.round(resolution * INCHES_PER_UNIT[units] * DOTS_PER_INCH);\n  },\n  getResolutionFromScale: function getResolutionFromScale(scale) {\n    var units = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"m\";\n\n    var normScale = scale >= 1.0 ? 1.0 / scale : scale; // just to prevent that scale is passed as 1:10000 or 0.0001\n    return 1 / (normScale * INCHES_PER_UNIT[units] * DOTS_PER_INCH);\n  },\n  getDPI: function getDPI() {\n    return DOTS_PER_INCH;\n  },\n  getMetersFromDegrees: function getMetersFromDegrees(degrees) {\n    return degrees * ol.proj.Units.METERS_PER_UNIT.degrees;\n  },\n  needUseSphereMethods: function needUseSphereMethods(projection) {\n    return projection.getCode() === 'EPSG:3857' || projection.getUnits() === 'degrees';\n    //return projection.getUnits() === 'degrees';\n  },\n  getLengthMessageText: function getLengthMessageText() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        unit = _ref.unit,\n        projection = _ref.projection,\n        geometry = _ref.geometry;\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n     */\n    var _require = require('core/utils/geo'),\n        Geometry = _require.Geometry;\n    //\n\n\n    var geometryType = geometry.getType();\n    var useSphereMethods = this.needUseSphereMethods(projection);\n    var length = useSphereMethods ? ol.sphere.getLength(geometry, {\n      projection: projection.getCode()\n    }) : Geometry.isMultiGeometry(geometryType) ? geometry.getLineStrings().reduce(function (totalLength, lineGeometry) {\n      return totalLength += lineGeometry.getLength();\n    }, 0) : geometry.getLength();\n    var message = void 0;\n    switch (unit) {\n      case 'nautical':\n        message = this.transformMeterLength(length, unit) + \" nm\";\n        break;\n      case 'metric':\n      default:\n        message = length > 1000 ? (Math.round(length / 1000 * 100) / 100).toFixed(3) + \" km\" : (Math.round(length * 100) / 100).toFixed(2) + \" m\";\n    }\n    return message;\n  },\n  getAreaMessageText: function getAreaMessageText(_ref2) {\n    var unit = _ref2.unit,\n        geometry = _ref2.geometry,\n        projection = _ref2.projection,\n        _ref2$segments = _ref2.segments,\n        segments = _ref2$segments === undefined ? [] : _ref2$segments;\n\n    var useSphereMethods = this.needUseSphereMethods(projection);\n    var area = Math.round(useSphereMethods ? ol.sphere.getArea(geometry, {\n      projection: projection.getCode()\n    }) : geometry.getArea());\n    var message = void 0;\n    var segments_info_meausure = '';\n    var segmentLength = segments.length;\n    if (segmentLength > 2) {\n      segments_info_meausure += this.getLengthMessageText({\n        unit: unit,\n        projection: projection,\n        geometry: new ol.geom.LineString(segments)\n      }) + \" <br>\";\n    }\n    switch (unit) {\n      case 'nautical':\n        message = this.transformMeterArea(area, unit) + \" \\u2009nmi\\xB2\";\n        break;\n      case 'metric':\n      default:\n        message = area > 1000000 ? (Math.round(area / 1000000 * 100) / 100).toFixed(6) + \" km<sup>2</sup>\" : (Math.round(area * 100) / 100).toFixed(3) + \" m<sup>2</sup>\";\n    }\n    if (segments_info_meausure) message = \"Area: \" + message + \" <br><div style=\\\"width: 100%; padding: 3px; border-bottom: 2px solid #ffffff\\\"></div> \" + segments_info_meausure;\n    return message;\n  },\n  formatMeasure: function formatMeasure() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        geometry = _ref3.geometry,\n        projection = _ref3.projection;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n     */\n    var _require2 = require('core/utils/geo'),\n        Geometry = _require2.Geometry,\n        multiGeometryToSingleGeometries = _require2.multiGeometryToSingleGeometries;\n    //\n\n\n    var geometryType = geometry.getType();\n    var unit = this.getCurrentMapUnit();\n    if (Geometry.isLineGeometryType(geometryType)) {\n      return this.getLengthMessageText({\n        unit: unit,\n        projection: projection,\n        geometry: geometry\n      });\n    } else if (Geometry.isPolygonGeometryType(geometryType)) {\n      var segments = void 0;\n      if (Geometry.isMultiGeometry(geometryType)) {\n        segments = [];\n        multiGeometryToSingleGeometries(geometry).forEach(function (geometry) {\n          geometry.getLinearRing().getCoordinates().forEach(function (coordinates) {\n            return segments.push(coordinates);\n          });\n        });\n      } else segments = geometry.getLinearRing().getCoordinates();\n      return this.getAreaMessageText({ unit: unit, geometry: geometry, projection: projection, segments: segments });\n    }\n  },\n\n\n  //create and add measure tooltip\n  createMeasureTooltip: function createMeasureTooltip() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        map = _ref4.map,\n        feature = _ref4.feature;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var element = document.createElement('div');\n    element.className = 'mtooltip mtooltip-measure';\n    var tooltip = new ol.Overlay({\n      element: element,\n      offset: [0, -15],\n      positioning: 'bottom-center'\n    });\n    map.addOverlay(tooltip);\n    var unbyKey = feature.getGeometry().on('change', function (evt) {\n      var tooltipCoord = void 0;\n      var geometry = evt.target;\n      if (geometry instanceof ol.geom.Polygon) tooltipCoord = geometry.getInteriorPoint().getCoordinates();else if (geometry instanceof ol.geom.MultiPolygon) tooltipCoord = geometry.getInteriorPoints().getCoordinates()[0];else if (geometry instanceof ol.geom.LineString) tooltipCoord = geometry.getLastCoordinate();else if (geometry instanceof ol.geom.MultiLineString) tooltipCoord = geometry.getLastCoordinate();\n      var output = utils.formatMeasure({\n        geometry: geometry,\n        projection: map.getView().getProjection()\n      }, options);\n      element.innerHTML = output;\n      tooltip.setPosition(tooltipCoord);\n    });\n\n    return {\n      tooltip: tooltip,\n      unbyKey: unbyKey\n    };\n  },\n\n  /**\n   * @FIXME utility functions should be stateles (move it elsewhere)\n   */\n  getCurrentMapUnit: function getCurrentMapUnit() {\n    return _applicationState2.default.map.unit;\n  },\n\n\n  /**\n   * Method to transform length meter in a specific unti (ex.nautilcal mile)\n   * @param length\n   * @param tounit\n   * @returns {null}\n   */\n  transformMeterLength: function transformMeterLength(length, tounit) {\n    switch (tounit) {\n      case 'nautical':\n        length = length * 0.0005399568;\n        break;\n    }\n    return length;\n  },\n  transformMeterArea: function transformMeterArea(area, tounit) {\n    switch (tounit) {\n      case 'nautical':\n        area = area * 0.000000291553349598122862913947445759414840765222583489217190918463024037990567;\n        break;\n    }\n    return area;\n  },\n\n\n  //remove mesure tootltip\n  removeMeasureTooltip: function removeMeasureTooltip(_ref5) {\n    var map = _ref5.map,\n        tooltip = _ref5.tooltip,\n        unbyKey = _ref5.unbyKey;\n\n    map.removeOverlay(tooltip);\n    ol.Observable.unByKey(unbyKey);\n  },\n  setMeasureTooltipStatic: function setMeasureTooltipStatic(tooltip) {\n    var element = tooltip.getElement();\n    element.className = 'mtooltip mtooltip-static';\n    tooltip.setOffset([0, -7]);\n  }\n};\n\nmodule.exports = utils;\n\n},{\"core/utils/geo\":64,\"store/application-state\":370}],66:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar Feature = require('core/layers/features/feature');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar olutils = require('core/utils/ol');\nvar WORD_NUMERIC_FIELD_ESCAPE = 'GIS3W_ESCAPE_NUMERIC_FIELD_';\n\n/**\n * @FIXME circular dependency (ie. empty object when importing at top level)\n */\n// const { Geometry : { is3DGeometry, removeZValueToOLFeatureGeometry } } = require('core/utils/geo');\n\n/**\n * Response parser (internal utilities)\n */\nvar utils = {\n  getHandledResponsesFromResponse: function getHandledResponsesFromResponse(_ref) {\n    var _this = this;\n\n    var response = _ref.response,\n        layers = _ref.layers,\n        projections = _ref.projections,\n        _ref$id = _ref.id,\n        id = _ref$id === undefined ? false : _ref$id;\n\n    var multilayers = false;\n    var x2js = new X2JS();\n    var jsonresponse = x2js.xml_str2json(response);\n    // in case of parser return null\n    if (!jsonresponse) return [{\n      layer: layers[0],\n      features: []\n    }];\n    var FeatureCollection = jsonresponse.FeatureCollection;\n    var handledResponses = [];\n    if (FeatureCollection.featureMember) {\n      var originalFeatureMember = Array.isArray(FeatureCollection.featureMember) ? FeatureCollection.featureMember : [FeatureCollection.featureMember];\n\n      var _loop = function _loop(i) {\n        var layer = layers[i];\n        var layerName = id ? layer.getId() : 'layer' + i;\n        var featureMemberArrayAndPrefix = {\n          features: null,\n          __prefix: null\n        };\n        jsonresponse.FeatureCollection.featureMember = originalFeatureMember.filter(function (feature) {\n          var featureMember = feature[layerName];\n          if (featureMember) {\n            featureMember.g3w_fid = {\n              __prefix: feature.__prefix,\n              __text: featureMember._fid && featureMember._fid.split('.')[1]\n            };\n            if (Array.isArray(featureMember)) {\n              featureMemberArrayAndPrefix.features = featureMember;\n              featureMemberArrayAndPrefix.__prefix = feature.__prefix;\n              return false;\n            }\n            return true;\n          }\n        });\n        if (featureMemberArrayAndPrefix.features) {\n          var prefix = featureMemberArrayAndPrefix.__prefix;\n          // check if features have the same fields. If not group the features with the same fields\n          var groupFeatures = _this.groupFeaturesByFields(featureMemberArrayAndPrefix.features);\n          //check if features have different fields (multilayers)\n          if (Object.keys(groupFeatures).length > 1) {\n            // is a multilayers. Each feature has different fields\n            multilayers = true;\n            _this.handleWMSMultiLayersResponseFromQGISSERVER({\n              groupFeatures: groupFeatures,\n              prefix: prefix,\n              handledResponses: handledResponses,\n              jsonresponse: jsonresponse,\n              layer: layer,\n              projections: projections\n            });\n          } else {\n            featureMemberArrayAndPrefix.features.forEach(function (feature) {\n              var _jsonresponse$Feature;\n\n              //for Each element have to add and object contain layerName and information, and __prefix\n              jsonresponse.FeatureCollection.featureMember.push((_jsonresponse$Feature = {}, _defineProperty(_jsonresponse$Feature, layerName, feature), _defineProperty(_jsonresponse$Feature, '__prefix', prefix), _jsonresponse$Feature));\n            });\n          }\n        }\n        if (!multilayers) {\n          var handledResponse = _this.parseLayerFeatureCollection({\n            jsonresponse: jsonresponse,\n            layer: layer,\n            projections: projections\n          });\n          handledResponse && handledResponses.unshift(handledResponse[0]);\n        }\n      };\n\n      for (var i = 0; i < layers.length; i++) {\n        _loop(i);\n      }\n    }\n    return handledResponses;\n  },\n  transformFeatures: function transformFeatures(features, projections) {\n    if (features.length) {\n      if (!!features[0].getGeometry()) {\n        var mainProjection = projections.layer ? projections.layer : projections.map;\n        var invertedAxis = mainProjection.getAxisOrientation().substr(0, 2) === 'ne';\n        if (projections.layer && projections.layer.getCode() !== projections.map.getCode()) {\n          features.forEach(function (feature) {\n            var geometry = feature.getGeometry();\n            feature.setGeometry(geometry.transform(projections.layer.getCode(), projections.map.getCode()));\n          });\n        }\n        if (invertedAxis) features = this.reverseFeaturesCoordinates(features);\n      }\n    }\n    return features;\n  },\n  parseLayerFeatureCollection: function parseLayerFeatureCollection(_ref2) {\n    var _this2 = this;\n\n    var jsonresponse = _ref2.jsonresponse,\n        layer = _ref2.layer,\n        projections = _ref2.projections;\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level)\n     */\n    var _require3 = require('core/utils/geo'),\n        _require3$Geometry = _require3.Geometry,\n        is3DGeometry = _require3$Geometry.is3DGeometry,\n        removeZValueToOLFeatureGeometry = _require3$Geometry.removeZValueToOLFeatureGeometry;\n\n    var x2js = new X2JS();\n    var layerFeatureCollectionXML = x2js.json2xml_str(jsonresponse);\n    var parser = new ol.format.WMSGetFeatureInfo();\n    var features = this.transformFeatures(parser.readFeatures(layerFeatureCollectionXML), projections);\n    if (layer.isGeoLayer()) {\n      var geometryType = layer.getGeometryType();\n\n      // Need to remove Z values due a incorrect addition when using\n      // ol.format.WMSGetFeatureInfo readFeatures method from XML\n      // (eg. WMS getFeatureInfo);\n      if (!is3DGeometry(geometryType)) {\n        features.forEach(function (feature) {\n          return removeZValueToOLFeatureGeometry({ feature: feature });\n        });\n      }\n    }\n\n    if (features.length && this.hasFieldsStartWithNotPermittedKey) {\n      var properties = Object.keys(features[0].getProperties());\n      var numericFields = properties.filter(function (property) {\n        return property.indexOf(WORD_NUMERIC_FIELD_ESCAPE) !== -1;\n      });\n      features.forEach(function (feature) {\n        numericFields.forEach(function (_field) {\n          var value = feature.get(_field);\n          var ori_field = _field.replace(WORD_NUMERIC_FIELD_ESCAPE, '');\n          feature.set(_this2.hasFieldsStartWithNotPermittedKey[ori_field], Array.isArray(value) ? value[0] : value);\n          feature.unset(_field);\n        });\n      });\n    }\n    return [{\n      layer: layer,\n      features: features\n    }];\n  },\n  reverseFeaturesCoordinates: function reverseFeaturesCoordinates(features) {\n    features.forEach(function (feature) {\n      var geometry = feature.getGeometry();\n      feature.setGeometry(olutils.reverseGeometry(geometry));\n    });\n    return features;\n  },\n  handleXMLStringResponseBeforeConvertToJSON: function handleXMLStringResponseBeforeConvertToJSON() {\n    var _this3 = this;\n\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref3.response,\n        layers = _ref3.layers,\n        wms = _ref3.wms;\n\n    if (!response) return; // return undefined if no response\n    if (!(typeof response === 'string' || response instanceof String)) response = new XMLSerializer().serializeToString(response);\n    for (var i = 0; i < layers.length; i++) {\n      var _layer = layers[i];\n      var originalName = wms && _layer.isWmsUseLayerIds() ? _layer.getId() : _layer.getName();\n      var sanitizeLayerName = wms ? originalName.replace(/[/\\s]/g, '') : originalName.replace(/[/\\s]/g, '_');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\'+)/, '');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\)+)/, '');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\(+)/, '');\n      var reg = new RegExp('qgs:' + sanitizeLayerName, \"g\");\n      response = response.replace(reg, 'qgs:layer' + i);\n    }\n    // add match numeric value integer or float\n    var arrayQGS = [].concat(_toConsumableArray(response.matchAll(/qgs:(\\d+(?:\\.\\d+)?)(\\w+)/g)), _toConsumableArray(response.matchAll(/qgs:(\\w+):(\\w+)/g)));\n    arrayQGS.forEach(function (find, idx) {\n      if (idx % 2 === 0) {\n        if (!_this3.hasFieldsStartWithNotPermittedKey) _this3.hasFieldsStartWithNotPermittedKey = {};\n        var originalField = find[0].replace('qgs:', '');\n        _this3.hasFieldsStartWithNotPermittedKey['' + find[1] + find[2]] = originalField;\n        var regex = new RegExp('' + find[0], \"g\");\n        response = response.replace(regex, 'qgs:' + WORD_NUMERIC_FIELD_ESCAPE + find[1] + find[2]);\n      }\n    });\n    //PATCH id strange\n    var strangeChar = new RegExp('' + String.fromCharCode(0), \"g\");\n    response = response.replace(strangeChar, '0');\n    ///\n    return response;\n  },\n  groupFeaturesByFields: function groupFeaturesByFields(features) {\n    return _.groupBy(features, function (feature) {\n      return Object.keys(feature);\n    });\n  },\n  handleWMSMultiLayersResponseFromQGISSERVER: function handleWMSMultiLayersResponseFromQGISSERVER() {\n    var _this4 = this;\n\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        groupFeatures = _ref4.groupFeatures,\n        prefix = _ref4.prefix,\n        handledResponses = _ref4.handledResponses,\n        jsonresponse = _ref4.jsonresponse,\n        layer = _ref4.layer,\n        projections = _ref4.projections;\n\n    // is a multilayers. Each feature has different fields. If group has more that one feature spit it and create single features\n    Object.keys(groupFeatures).forEach(function (key, index) {\n      var features = groupFeatures[key];\n      features.forEach(function (feature, sub_index) {\n        var _jsonresponse$Feature2;\n\n        jsonresponse.FeatureCollection.featureMember = (_jsonresponse$Feature2 = {}, _defineProperty(_jsonresponse$Feature2, 'layer' + index + '_' + sub_index, feature), _defineProperty(_jsonresponse$Feature2, '__prefix', prefix), _jsonresponse$Feature2);\n        var handledResponse = _this4.parseLayerFeatureCollection({\n          jsonresponse: jsonresponse,\n          layer: layer,\n          projections: projections\n        });\n        if (handledResponse) {\n          var response = handledResponse[0];\n          response.layer = layer;\n          handledResponses.unshift(response);\n        }\n      });\n    });\n  }\n};\n\n/**\n * Response parser (content types)\n */\nvar contenttypes = {\n  'application/json': function applicationJson() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref5$layers = _ref5.layers,\n        layers = _ref5$layers === undefined ? [] : _ref5$layers,\n        response = _ref5.response,\n        projections = _ref5.projections,\n        _ref5$wms = _ref5.wms,\n        wms = _ref5$wms === undefined ? true : _ref5$wms;\n\n    var _require4 = require('core/utils/geo'),\n        sanitizeFidFeature = _require4.sanitizeFidFeature;\n\n    var layersFeatures = [];\n    var layersId = layers.map(function (layer) {\n      layersFeatures.push({\n        layer: layer,\n        features: []\n      });\n      return wms ? layer.getWMSLayerName() : layer.getWFSLayerName();\n    });\n    var data = response;\n    var parseData = function parseData() {\n      var defaultDataProjection = projections.layer || projections.map;\n      var geojson = new ol.format.GeoJSON({\n        defaultDataProjection: defaultDataProjection,\n        geometryName: \"geometry\"\n      });\n      return geojson.readFeatures(data);\n    };\n    var features = data && parseData();\n    features.filter(function (feature) {\n      var featureId = feature.getId();\n      var g3w_fid = sanitizeFidFeature(featureId);\n      // in case of wms getfeature without filter return string contain layerName or layerid\n      var index = featureId == g3w_fid ? 0 : layersId.indexOf(featureId);\n      if (index !== -1) {\n        var fields = layersFeatures[index].layer.getFields().filter(function (field) {\n          return field.show;\n        });\n        var properties = feature.getProperties();\n        feature.set(_constant.G3W_FID, g3w_fid);\n        fields.forEach(function (field) {\n          if (properties[field.name] === undefined) {\n            properties[field.label] !== undefined && feature.set(field.name, properties[field.label]);\n          }\n        });\n        layersFeatures[index].features.push(feature);\n      }\n    });\n    return layersFeatures;\n  },\n  'application/geojson': function applicationGeojson() {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref6.layers,\n        projections = _ref6.projections,\n        response = _ref6.response;\n\n    var handleResponse = [];\n    var parserGEOJson = Parsers.vector.get({\n      type: 'geojson'\n    });\n    if (response) {\n      layers.forEach(function (layer) {\n        handleResponse.push({\n          layer: layer,\n          features: parserGEOJson(response, {})\n        });\n      });\n    }\n    return handleResponse;\n  },\n  'text/html': function textHtml() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref7.layers,\n        response = _ref7.response;\n\n    var handleResponse = [];\n    layers.forEach(function (layer) {\n      handleResponse.push({\n        layer: layer,\n        rawdata: response\n      });\n    });\n    return handleResponse;\n  },\n  'text/plain': function textPlain() {\n    var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref8.layers,\n        response = _ref8.response;\n\n    var handleResponse = [];\n    layers.forEach(function (layer) {\n      handleResponse.push({\n        layer: layer,\n        rawdata: response\n      });\n    });\n    return handleResponse;\n  },\n  'text/gml': function textGml(_ref9) {\n    var layers = _ref9.layers,\n        response = _ref9.response;\n\n    var parserGML = Parsers.vector.get({\n      type: 'gml'\n    });\n    var features = parserGML({\n      data: response,\n      layer: layers[0]\n    });\n    return layers.map(function (layer) {\n      return {\n        layer: layer,\n        features: features\n      };\n    });\n  },\n  'application/vnd.ogc.gml': function applicationVndOgcGml() {\n    var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref10.response,\n        projections = _ref10.projections,\n        layers = _ref10.layers,\n        _ref10$wms = _ref10.wms,\n        wms = _ref10$wms === undefined ? true : _ref10$wms;\n\n    return utils.getHandledResponsesFromResponse({\n      response: utils.handleXMLStringResponseBeforeConvertToJSON({\n        layers: layers,\n        response: response,\n        wms: wms\n      }),\n      layers: layers,\n      projections: projections\n    });\n  },\n  not_supported_format: function not_supported_format() {\n    var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref11$layers = _ref11.layers,\n        layers = _ref11$layers === undefined ? [] : _ref11$layers;\n\n    return layers.map(function (layer) {\n      return {\n        layer: layer,\n        rawdata: t('warning.not_supported_format')\n      };\n    });\n  }\n};\n\n/**\n * Vector parser\n */\nvar VectorParser = function VectorParser() {\n  // return the right parser for the request\n  this.get = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var type = options.type;\n    var parser = void 0;\n    switch (type) {\n      case 'geojson':\n      case 'json':\n        parser = this._parseLayerGeoJSON;\n        break;\n      case 'gml':\n        parser = this._parseLayermsGMLOutput;\n        break;\n      default:\n        parser = this._parseLayerGeoJSON;\n    }\n    return parser;\n  };\n  this._parseLayermsGMLOutput = function (_ref12) {\n    var data = _ref12.data,\n        layer = _ref12.layer;\n\n    try {\n      var gml = void 0;\n      // to extract gml from multiple (Tuscany region)\n      if (data.substr(0, 2) !== '--') gml = data;else {\n        var gmlTag1 = new RegExp(\"<([^ ]*)FeatureCollection\");\n        var gmlTag2 = new RegExp(\"<([^ ]*)msGMLOutput\");\n        var boundary = '\\r\\n--';\n        var parts = data.split(new RegExp(boundary));\n        parts.forEach(function (part) {\n          var isGmlPart = part.search(gmlTag1) > -1 ? true : part.search(gmlTag2) > -1 ? true : false;\n          if (isGmlPart) {\n            gml = part.substr(part.indexOf(\"<?xml\"));\n          }\n        });\n      }\n      var layers = layer.getQueryLayerOrigName();\n      var parser = new ol.format.WMSGetFeatureInfo({\n        layers: layers\n      });\n      return parser.readFeatures(gml);\n    } catch (err) {\n      return [];\n    }\n  };\n\n  this._parseLayerGeoJSON = function (data, options) {\n    try {\n      data = toRawType(data) === 'String' ? JSON.parse(data) : data;\n      var crs = options.crs,\n          mapCrs = options.mapCrs;\n\n      var geojson = new ol.format.GeoJSON({\n        dataProjection: crs,\n        featureProjection: mapCrs || crs,\n        geometryName: \"geometry\"\n      });\n      return geojson.readFeatures(data);\n    } catch (err) {\n      return [];\n    }\n  };\n};\n\n/**\n * Table parser\n */\nvar TableParser = function TableParser() {\n  this.get = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var type = options.type;\n    var parser = void 0;\n    switch (type) {\n      case 'json':\n        parser = this._parserJSON.bind(this);\n        break;\n      default:\n        parser = this._parserJSON.bind(this);\n    }\n    return parser;\n  };\n\n  this._parserJSON = function () {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _data$features = data.features,\n        features = _data$features === undefined ? [] : _data$features;\n\n    return features.map(function (_feature) {\n      var id = _feature.id,\n          properties = _feature.properties;\n\n      var feature = new Feature();\n      feature.setProperties(properties);\n      feature.setId(id);\n      return feature;\n    });\n  };\n};\n\nvar Parsers = {\n  vector: new VectorParser(),\n  table: new TableParser(),\n  /**\n   * @TODO wrap within dedicated class (ie. new ResponseParser())\n   */\n  response: {\n    get: function get(type) {\n      return contenttypes[type] || contenttypes.not_supported_format;\n    },\n\n    utils: {\n      getTimeoutData: function getTimeoutData() {\n        var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n        return layers.map(function (layer) {\n          return {\n            layer: layer,\n            rawdata: 'timeout'\n          };\n        });\n      }\n    }\n  }\n};\n\nmodule.exports = Parsers;\n\n},{\"app/constant\":4,\"core/i18n/i18n.service\":13,\"core/layers/features/feature\":26,\"core/utils/geo\":64,\"core/utils/ol\":65,\"core/utils/utils\":67}],67:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Filter = require('core/layers/filter/filter');\nvar Expression = require('core/layers/filter/expression');\n\n/**\n * Decimal adjustment of a number.\n *\n * @param {String}  type  The type of adjustment.\n * @param {Number}  value The number.\n * @param {Integer} exp   The exponent (the 10 logarithm of the adjustment base).\n * @returns {Number} The adjusted value.\n */\nfunction decimalAdjust(type, value, exp) {\n  // If the exp is undefined or zero...\n  if (typeof exp === 'undefined' || +exp === 0) return Math[type](value);\n  value = +value;\n  exp = +exp;\n  // If the value is not a number or the exp is not an integer...\n  if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {\n    return NaN;\n  }\n  // Shift\n  value = value.toString().split('e');\n  value = Math[type](+(value[0] + 'e' + (value[1] ? +value[1] - exp : -exp)));\n  // Shift back\n  value = value.toString().split('e');\n  return +(value[0] + 'e' + (value[1] ? +value[1] + exp : exp));\n}\n\n// Decimal round\nif (!Math.round10) {\n  Math.round10 = function (value, exp) {\n    return decimalAdjust('round', value, exp);\n  };\n}\n// Decimal floor\nif (!Math.floor10) {\n  Math.floor10 = function (value, exp) {\n    return decimalAdjust('floor', value, exp);\n  };\n}\n// Decimal ceil\nif (!Math.ceil10) {\n  Math.ceil10 = function (value, exp) {\n    return decimalAdjust('ceil', value, exp);\n  };\n}\n\nString.prototype.hashCode = function () {\n  var hash = 0,\n      i = void 0,\n      chr = void 0,\n      len = void 0;\n  if (this.length === 0) return hash;\n  for (i = 0, len = this.length; i < len; i++) {\n    chr = this.charCodeAt(i);\n    hash = (hash << 5) - hash + chr;\n    hash |= 0;\n  }\n  return hash;\n};\n\nvar Base64 = { _keyStr: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\", encode: function encode(e) {\n    var t = \"\";var n = void 0,\n        r = void 0,\n        i = void 0,\n        s = void 0,\n        o = void 0,\n        u = void 0,\n        a = void 0;var f = 0;e = Base64._utf8_encode(e);while (f < e.length) {\n      n = e.charCodeAt(f++);r = e.charCodeAt(f++);i = e.charCodeAt(f++);s = n >> 2;o = (n & 3) << 4 | r >> 4;u = (r & 15) << 2 | i >> 6;a = i & 63;if (isNaN(r)) {\n        u = a = 64;\n      } else if (isNaN(i)) {\n        a = 64;\n      }t = t + this._keyStr.charAt(s) + this._keyStr.charAt(o) + this._keyStr.charAt(u) + this._keyStr.charAt(a);\n    }return t;\n  }, decode: function decode(e) {\n    var t = \"\";var n = void 0,\n        r = void 0,\n        i = void 0;var s = void 0,\n        o = void 0,\n        u = void 0,\n        a = void 0;var f = 0;e = e.replace(/[^A-Za-z0-9+/=]/g, \"\");while (f < e.length) {\n      s = this._keyStr.indexOf(e.charAt(f++));o = this._keyStr.indexOf(e.charAt(f++));u = this._keyStr.indexOf(e.charAt(f++));a = this._keyStr.indexOf(e.charAt(f++));n = s << 2 | o >> 4;r = (o & 15) << 4 | u >> 2;i = (u & 3) << 6 | a;t = t + String.fromCharCode(n);if (u != 64) {\n        t = t + String.fromCharCode(r);\n      }if (a != 64) {\n        t = t + String.fromCharCode(i);\n      }\n    }t = Base64._utf8_decode(t);return t;\n  }, _utf8_encode: function _utf8_encode(e) {\n    e = e.replace(/rn/g, \"n\");var t = \"\";for (var n = 0; n < e.length; n++) {\n      var r = e.charCodeAt(n);if (r < 128) {\n        t += String.fromCharCode(r);\n      } else if (r > 127 && r < 2048) {\n        t += String.fromCharCode(r >> 6 | 192);t += String.fromCharCode(r & 63 | 128);\n      } else {\n        t += String.fromCharCode(r >> 12 | 224);t += String.fromCharCode(r >> 6 & 63 | 128);t += String.fromCharCode(r & 63 | 128);\n      }\n    }return t;\n  }, _utf8_decode: function _utf8_decode(e) {\n    var t = \"\";var n = 0;var r = c1 = c2 = 0;while (n < e.length) {\n      r = e.charCodeAt(n);if (r < 128) {\n        t += String.fromCharCode(r);n++;\n      } else if (r > 191 && r < 224) {\n        c2 = e.charCodeAt(n + 1);t += String.fromCharCode((r & 31) << 6 | c2 & 63);n += 2;\n      } else {\n        c2 = e.charCodeAt(n + 1);c3 = e.charCodeAt(n + 2);t += String.fromCharCode((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63);n += 3;\n      }\n    }return t;\n  } };\n\nvar _uid = 0;\n\nvar utils = {\n  getUniqueDomId: function getUniqueDomId() {\n    _uid += 1;\n    return _uid + '_' + Date.now();\n  },\n  uniqueId: function uniqueId() {\n    return utils.getUniqueDomId();\n  },\n  basemixin: function basemixin(destination, source) {\n    return utils.merge(destination.prototype, source);\n  },\n  mixin: function mixin(destination, source) {\n    var sourceInstance = new source();\n    utils.merge(destination, sourceInstance);\n    utils.merge(destination.prototype, source.prototype);\n  },\n  merge: function merge(destination, source) {\n    var key = void 0;\n    for (key in source) {\n      if (utils.hasOwn(source, key)) destination[key] = source[key];\n    }\n  },\n  hasOwn: function hasOwn(object, key) {\n    return Object.prototype.hasOwnProperty.call(object, key);\n  },\n\n  // google closure library impememtation\n  inherit: function inherit(childCtor, parentCtor) {\n    function tempCtor() {}\n    tempCtor.prototype = parentCtor.prototype;\n    childCtor.superClass_ = parentCtor.prototype;\n    childCtor.prototype = new tempCtor();\n    childCtor.prototype.constructor = childCtor;\n  },\n\n  // goole closure library implementation\n  base: function base(me, opt_methodName, var_args) {\n    // who call base\n    // noinspection JSAnnotator\n    var caller = arguments.callee.caller;\n    if (caller.superClass_) {\n      // This function constructor (that inherit from superClass_). Call the superclass constructor.\n      //It is a easy way to cal super class in binding to this\n      return caller.superClass_.constructor.apply(me, Array.prototype.slice.call(arguments, 1));\n    }\n    var args = Array.prototype.slice.call(arguments, 2);\n    var foundCaller = false;\n    //constructor is the constructor function of the object\n    for (var ctor = me.constructor; ctor; ctor = ctor.superClass_ && ctor.superClass_.constructor) {\n      if (ctor.prototype[opt_methodName] === caller) {\n        foundCaller = true;\n      } else if (foundCaller) {\n        return ctor.prototype[opt_methodName].apply(me, args);\n      }\n    }\n    // If we did not find the caller in the prototype chain,\n    // then one of two things happened:\n    // 1) The caller is an instance method.\n    // 2) This method was not called by the right caller.\n    if (me[opt_methodName] === caller) {\n      // call the function from prototype object\n      return me.constructor.prototype[opt_methodName].apply(me, args);\n    } else {\n      throw Error('base called from a method of one name ' + 'to a method of a different name');\n    }\n  },\n  noop: function noop() {},\n  truefnc: function truefnc() {\n    return true;\n  },\n  falsefnc: function falsefnc() {\n    return true;\n  },\n  resolve: function resolve(value) {\n    var d = $.Deferred();\n    d.resolve(value);\n    return d.promise();\n  },\n  reject: function reject(value) {\n    var d = $.Deferred();\n    d.reject(value);\n    return d.promise();\n  },\n  getValueFromG3WObjectEvent: function getValueFromG3WObjectEvent() {\n    //TODO\n  },\n  getAjaxResponses: function getAjaxResponses() {\n    var listRequests = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    var requestsLenght = listRequests.length;\n    var d = $.Deferred();\n    var DoneRespones = [];\n    var FailedResponses = [];\n    listRequests.forEach(function (request) {\n      request.then(function (response) {\n        DoneRespones.push(response);\n      }).fail(function (err) {\n        FailedResponses.push(err);\n      }).always(function () {\n        requestsLenght = requestsLenght > 0 ? requestsLenght - 1 : requestsLenght;\n        if (requestsLenght === 0) d.resolve({\n          done: DoneRespones,\n          fail: FailedResponses\n        });\n      });\n    });\n    return d.promise();\n  },\n\n  trimValue: function trimValue(value) {\n    return value.replace(/ /g, '');\n  },\n  /**\n   * Method to check if is a url\n   * @param url\n   * @returns {boolean}\n   */\n  isURL: function isURL(url) {\n    return url && url.match(/(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g);\n  },\n\n  sanitizeUrl: function sanitizeUrl() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref.url,\n        _ref$reserverParamete = _ref.reserverParameters,\n        reserverParameters = _ref$reserverParamete === undefined ? [] : _ref$reserverParamete;\n\n    var checkUrl = new URL(url);\n    reserverParameters.forEach(function (param) {\n      var _params = [param.toUpperCase(), param.toLowerCase()];\n      for (var i = 0; i < 2; i++) {\n        var _param = _params[i];\n        var _value = checkUrl.searchParams.get(_param);\n        if (_value) {\n          url = url.replace(_param + '=' + _value, '');\n          break;\n        }\n      }\n    });\n    return url;\n  },\n  convertObjectToUrlParams: function convertObjectToUrlParams() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return $.param(params);\n  },\n\n  // Appends query parameters to a URI\n  appendParams: function appendParams(uri, params) {\n    var keyParams = [];\n    // Skip any null or undefined parameter values\n    Object.keys(params).forEach(function (k) {\n      if (params[k] !== null && params[k] !== undefined) {\n        keyParams.push(k + '=' + encodeURIComponent(params[k]));\n      }\n    });\n    var qs = keyParams.join('&');\n    // remove any trailing ? or &\n    uri = uri.replace(/[?&]$/, '');\n    // append ? or & depending on whether uri has existing parameters\n    uri = uri.indexOf('?') === -1 ? uri + '?' : uri + '&';\n    return uri + qs;\n  },\n  imageToDataURL: function imageToDataURL(_ref2) {\n    var src = _ref2.src,\n        _ref2$type = _ref2.type,\n        type = _ref2$type === undefined ? 'image/jpeg' : _ref2$type,\n        _ref2$callback = _ref2.callback,\n        callback = _ref2$callback === undefined ? function () {} : _ref2$callback;\n\n    var image = new Image();\n    image.onload = function () {\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.height = this.naturalHeight;\n      canvas.width = this.naturalWidth;\n      context.drawImage(this, 0, 0);\n      var dataURL = canvas.toDataURL(type);\n      callback(dataURL);\n    };\n    image.src = src;\n  },\n  capitalize_first_letter: function capitalize_first_letter(string) {\n    return '' + string[0].toUpperCase() + string.slice(1);\n  },\n\n  Base64: Base64,\n  toRawType: function toRawType(value) {\n    var _toString = Object.prototype.toString;\n    return _toString.call(value).slice(8, -1);\n  },\n  isEmptyObject: function isEmptyObject(obj) {\n    return JSON.stringify(obj) === '{}';\n  },\n\n  // build throttle function\n  throttle: function throttle(fnc) {\n    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n\n    var lastCall = void 0;\n    return function () {\n      var previousCall = lastCall;\n      lastCall = Date.now();\n      if (previousCall === undefined // function is being called for the first time\n      || lastCall - previousCall > delay) {\n        // throttle time has elapsed\n        fnc.apply(undefined, arguments);\n      }\n    };\n  },\n\n  //build debounce function\n  debounce: function debounce(func) {\n    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n\n    var timeout = void 0;\n    return function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        func.apply(undefined, args);\n      }, delay);\n    };\n  },\n  getRandomColor: function getRandomColor() {\n    return '#' + ((1 << 24) * Math.random() | 0).toString(16);\n  },\n  copyUrl: function copyUrl(url) {\n    var tempinput = document.createElement('input');\n    document.body.appendChild(tempinput);\n    tempinput.value = url;\n    tempinput.select();\n    document.execCommand('copy');\n    document.body.removeChild(tempinput);\n  },\n  downloadFile: function downloadFile() {\n    var _this = this;\n\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        filename = _ref3.filename,\n        content = _ref3.content,\n        url = _ref3.url,\n        _ref3$mime_type = _ref3.mime_type,\n        mime_type = _ref3$mime_type === undefined ? 'text/plain' : _ref3$mime_type;\n\n    var download = function download(blob) {\n      var temapAncor = document.createElement('a');\n      temapAncor.setAttribute('href', window.URL.createObjectURL(blob));\n      temapAncor.setAttribute('download', filename);\n      temapAncor.dataset.downloadurl = [mime_type, temapAncor.download, temapAncor.href].join(':');\n      temapAncor.click();\n      temapAncor = null;\n    };\n    return new Promise(function (resolve, reject) {\n      if (content) {\n        var blob = new Blob([content], { type: mime_type });\n        download(blob);\n        resolve();\n      } else if (url) {\n        fetch(url).then(function () {\n          var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(response) {\n            var _ref5, message;\n\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    if (!(response.status === 200)) {\n                      _context.next = 6;\n                      break;\n                    }\n\n                    mime_type = mime_type || response.headers.get('content-type');\n                    filename = filename || response.headers.get('content-disposition').split('filename=').length ? response.headers.get('content-disposition').split('filename=')[1] : 'g3w_download_file';\n                    return _context.abrupt('return', response.blob());\n\n                  case 6:\n                    if (!(response.status === 400 || response.status === 500)) {\n                      _context.next = 12;\n                      break;\n                    }\n\n                    _context.next = 9;\n                    return response.json();\n\n                  case 9:\n                    _ref5 = _context.sent;\n                    message = _ref5.message;\n                    return _context.abrupt('return', Promise.reject(message));\n\n                  case 12:\n                  case 'end':\n                    return _context.stop();\n                }\n              }\n            }, _callee, _this);\n          }));\n\n          return function (_x7) {\n            return _ref4.apply(this, arguments);\n          };\n        }()).then(function (blob) {\n          download(blob);\n          resolve();\n        }).catch(function (error) {\n          reject(error);\n        });\n      }\n    });\n  },\n  downloadCSVLayerFeatures: function downloadCSVLayerFeatures() {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref6.layer,\n        _ref6$alias = _ref6.alias,\n        alias = _ref6$alias === undefined ? true : _ref6$alias;\n\n    var _require = require('core/utils/geo'),\n        getAlphanumericPropertiesFromFeature = _require.getAlphanumericPropertiesFromFeature;\n    //get headers\n\n\n    var attributes = Object.keys(layer.features[0].attributes);\n    var properties = getAlphanumericPropertiesFromFeature(attributes);\n    var headers = !alias ? properties : properties.map(function (property) {\n      var attribute = layer.attributes.find(function (attribute) {\n        return attribute.name === property;\n      });\n      return attribute ? attribute.label : property;\n    });\n    var items = layer.features.map(function (feature) {\n      var attributes = feature.attributes;\n      var item = {};\n      properties.forEach(function (property, index) {\n        var key = !alias && property || headers[index];\n        item[key] = attributes[property];\n      });\n      return item;\n    });\n\n    utils.downloadCSV({\n      filename: layer.id,\n      items: items\n    });\n  },\n  downloadCSV: function downloadCSV() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref7$filename = _ref7.filename,\n        filename = _ref7$filename === undefined ? utils.getUniqueDomId() : _ref7$filename,\n        _ref7$items = _ref7.items,\n        items = _ref7$items === undefined ? [] : _ref7$items;\n\n    function convertToCSV(items) {\n      var str = '';\n      for (var i = 0; i < items.length; i++) {\n        var line = '';\n        for (var index in items[i]) {\n          if (line !== '') line += ';';\n          line += items[i][index];\n        }\n        str += line + '\\r\\n';\n      }\n      return str;\n    }\n    var exportedFilenmae = filename + '.csv';\n    var csv = convertToCSV(items);\n    var blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n    if (navigator.msSaveBlob) {\n      // IE 10+\n      navigator.msSaveBlob(blob, exportedFilenmae);\n    } else {\n      var link = document.createElement(\"a\");\n      if (link.download !== undefined) {\n        // Browsers that support HTML5 download attribute\n        var url = URL.createObjectURL(blob);\n        link.setAttribute(\"href\", url);\n        link.setAttribute(\"download\", exportedFilenmae);\n        link.style.visibility = 'hidden';\n        link.click();\n      }\n    }\n  },\n\n  /**\n   * Method to set timeout\n   * @param timeout\n   * @param resolve\n   * @param data\n   * @returns {number}\n   */\n  getTimeoutPromise: function getTimeoutPromise(_ref8) {\n    var _ref8$timeout = _ref8.timeout,\n        timeout = _ref8$timeout === undefined ? _constant.TIMEOUT : _ref8$timeout,\n        resolve = _ref8.resolve,\n        data = _ref8.data;\n\n    var timeoutKey = setTimeout(function () {\n      resolve(data);\n    }, timeout);\n    return timeoutKey;\n  },\n\n  XHR: {\n    get: function get() {\n      var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref9.url,\n          _ref9$params = _ref9.params,\n          params = _ref9$params === undefined ? {} : _ref9$params;\n\n      return new Promise(function (resolve, reject) {\n        url ? $.get(url, params).then(function (response) {\n          resolve(response);\n        }).fail(function (error) {\n          return reject(error);\n        }) : reject('No url');\n      });\n    },\n    post: function post() {\n      var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref10.url,\n          data = _ref10.data,\n          _ref10$formdata = _ref10.formdata,\n          formdata = _ref10$formdata === undefined ? false : _ref10$formdata,\n          contentType = _ref10.contentType;\n\n      var getResponseStatusHeaders = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      return new Promise(function (resolve, reject) {\n        if (formdata) {\n          var _formdata = new FormData();\n          for (var param in data) {\n            _formdata.append(param, data[param]);\n          }\n          $.ajax({\n            type: 'POST',\n            url: url,\n            data: _formdata,\n            processData: false,\n            contentType: false\n          }).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        } else if (contentType) {\n          $.ajax({\n            type: 'POST',\n            url: url,\n            data: data,\n            processData: false,\n            contentType: contentType || false\n          }).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        } else {\n          $.post(url, data).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        }\n      });\n    },\n    htmlescape: function htmlescape(string) {\n      string = string.replace(\"&\", \"&amp;\");\n      string = string.replace(\"<\", \"&lt;\");\n      string = string.replace(\">\", \"&gt;\");\n      string = string.replace('\"', \"&quot;\");\n      return string;\n    },\n    fileDownload: function fileDownload() {\n      var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref11.url,\n          data = _ref11.data,\n          _ref11$httpMethod = _ref11.httpMethod,\n          httpMethod = _ref11$httpMethod === undefined ? \"POST\" : _ref11$httpMethod;\n\n      var timeoutId = void 0;\n      return new Promise(function (resolve, reject) {\n        var downloadPromise = $.fileDownload(url, {\n          httpMethod: httpMethod,\n          data: data\n        });\n        timeoutId = setTimeout(function () {\n          reject('Timeout');\n          downloadPromise.abort();\n        }, _constant.TIMEOUT);\n        downloadPromise.done(function () {\n          return resolve();\n        }).fail(function () {\n          return reject();\n        }).always(function () {\n          clearTimeout(timeoutId);\n        });\n      });\n    }\n  },\n  createSingleFieldParameter: function createSingleFieldParameter(_ref12) {\n    var field = _ref12.field,\n        value = _ref12.value,\n        _ref12$operator = _ref12.operator,\n        operator = _ref12$operator === undefined ? 'eq' : _ref12$operator,\n        _ref12$logicop = _ref12.logicop,\n        logicop = _ref12$logicop === undefined ? null : _ref12$logicop,\n        _ref12$search_endpoin = _ref12.search_endpoint,\n        search_endpoint = _ref12$search_endpoin === undefined ? \"api\" : _ref12$search_endpoin;\n\n    if (search_endpoint === 'api') {\n      logicop = logicop && '|' + logicop;\n      if (Array.isArray(value)) {\n        var filter = '';\n        var valueLenght = value.length;\n        value.forEach(function (value, index) {\n          filter += field + '|' + operator + '|' + encodeURIComponent(value) + (index < valueLenght - 1 ? logicop + ',' : '');\n        });\n        return filter;\n      } else return field + '|' + operator.toLowerCase() + '|' + encodeURIComponent(value) + (logicop || '');\n    } else {\n      if (Array.isArray(value)) {\n        var _filter = '';\n        var _valueLenght = value.length;\n        value.forEach(function (value, index) {\n          _filter += '\"' + field + '\" ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' \\'' + encodeURIComponent(value) + '\\' ' + (index < _valueLenght - 1 ? logicop + ' ' : '');\n        });\n        return _filter;\n      } else return '\"' + field + '\" ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' \\'' + encodeURIComponent(value) + '\\'';\n    }\n  },\n  createFilterFromString: function createFilterFromString(_ref13) {\n    var layer = _ref13.layer,\n        _ref13$search_endpoin = _ref13.search_endpoint,\n        search_endpoint = _ref13$search_endpoin === undefined ? 'ows' : _ref13$search_endpoin,\n        _ref13$filter = _ref13.filter,\n        filter = _ref13$filter === undefined ? '' : _ref13$filter;\n\n    var stringFilter = filter;\n    switch (search_endpoint) {\n      case 'ows':\n        var layerName = layer.getWMSLayerName();\n        var expression = new Expression({\n          layerName: layerName,\n          filter: stringFilter\n        });\n        filter = new Filter();\n        filter.setExpression(expression.get());\n        break;\n      case 'api':\n        //remove all blank space between operators\n        Object.values(_constant.FILTER_EXPRESSION_OPERATORS).forEach(function (operator) {\n          var regexoperator = new RegExp('\\\\s+' + operator + '\\\\s+', 'g');\n          stringFilter = stringFilter.replace(regexoperator, '' + operator);\n          var regexsinglequote = new RegExp('\\'' + operator, 'g');\n          stringFilter = stringFilter.replace(regexsinglequote, '' + operator);\n          regexsinglequote = new RegExp(operator + '\\'', 'g');\n          stringFilter = stringFilter.replace(regexsinglequote, '' + operator);\n        });\n        stringFilter = stringFilter.replace(/'$/g, '');\n        filter = stringFilter.replace(/\"/g, '');\n        Object.entries(_constant.FILTER_EXPRESSION_OPERATORS).forEach(function (_ref14) {\n          var _ref15 = _slicedToArray(_ref14, 2),\n              key = _ref15[0],\n              value = _ref15[1];\n\n          var re = new RegExp(value, \"g\");\n          var replaceValue = value === 'AND' || value === 'OR' ? '|' + key + ',' : '|' + key + '|';\n          filter = filter.replace(re, replaceValue);\n        });\n        //encode value\n        filter = filter.split('|').map(function (value, index) {\n          return (index + 1) % 3 === 0 ? encodeURIComponent(value) : value;\n        }).join('|');\n        break;\n    }\n    return filter;\n  },\n\n  /**\n   *\n   * @param layer single layer or an array of layers\n   * @param search_endpoint\n   * @param inputs\n   * @returns {*}\n   */\n  createFilterFormInputs: function createFilterFormInputs(_ref16) {\n    var layer = _ref16.layer,\n        _ref16$search_endpoin = _ref16.search_endpoint,\n        search_endpoint = _ref16$search_endpoin === undefined ? 'ows' : _ref16$search_endpoin,\n        _ref16$inputs = _ref16.inputs,\n        inputs = _ref16$inputs === undefined ? [] : _ref16$inputs;\n\n    var isLayerArray = Array.isArray(layer);\n    var filter = void 0;\n    var filters = []; // in case of layer is an array\n    switch (search_endpoint) {\n      case 'ows':\n        if (isLayerArray) {\n          layer.forEach(function (layer) {\n            var expression = new Expression();\n            var layerName = layer.getWMSLayerName();\n            expression.createExpressionFromFilter(inputs, layerName);\n            filter = new Filter();\n            filter.setExpression(expression.get());\n            filters.push(filter);\n          });\n        } else {\n          var expression = new Expression();\n          var layerName = layer.getWMSLayerName();\n          expression.createExpressionFromFilter(inputs, layerName);\n          filter = new Filter();\n          filter.setExpression(expression.get());\n        }\n        break;\n      case 'api':\n        var inputsLength = inputs.length - 1;\n        var fields = inputs.map(function (input, index) {\n          return utils.createSingleFieldParameter({\n            field: input.attribute,\n            value: input.value,\n            operator: input.operator,\n            logicop: index < inputsLength ? input.logicop : null\n          });\n        });\n        filter = fields.length ? fields.join() : undefined;\n        isLayerArray && layer.forEach(function () {\n          return filters.push(filter);\n        });\n        break;\n    }\n    return isLayerArray ? filters : filter;\n  },\n\n  //method to create filter from field based on search_endpoint\n  createFilterFormField: function createFilterFormField(_ref17) {\n    var layer = _ref17.layer,\n        _ref17$search_endpoin = _ref17.search_endpoint,\n        search_endpoint = _ref17$search_endpoin === undefined ? 'ows' : _ref17$search_endpoin,\n        field = _ref17.field,\n        value = _ref17.value,\n        _ref17$operator = _ref17.operator,\n        operator = _ref17$operator === undefined ? 'eq' : _ref17$operator;\n\n    var filter = void 0;\n    switch (search_endpoint) {\n      case 'ows':\n        var expression = new Expression();\n        var layerName = layer.getWMSLayerName();\n        expression.createExpressionFromField({\n          layerName: layerName,\n          field: field,\n          value: value,\n          operator: operator\n        });\n        filter = new Filter();\n        filter.setExpression(expression.get());\n        break;\n      case 'api':\n        filter = utils.createSingleFieldParameter({\n          field: field,\n          value: value,\n          operator: operator\n        });\n        break;\n    }\n    return filter;\n  },\n  splitContextAndMethod: function splitContextAndMethod() {\n    var string = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n    var _string$split = string.split(':'),\n        _string$split2 = _slicedToArray(_string$split, 2),\n        context = _string$split2[0],\n        method = _string$split2[1];\n\n    return {\n      context: context,\n      method: method\n    };\n  },\n\n\n  /**\n   * Convert Hex value color to RGB array\n   * @param color\n   * @returns {number[]}\n   */\n  colorHEXToRGB: function colorHEXToRGB() {\n    var color = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '#FFFFFF';\n\n    var r = parseInt(color.substr(1, 2), 16);\n    var g = parseInt(color.substr(3, 2), 16);\n    var b = parseInt(color.substr(5, 2), 16);\n    return [r, g, b];\n  },\n\n  /**\n   * Covert datetime format from Qgis format to Moment\n   * @param datetimeformat\n   * @returns {*}\n   */\n  convertQGISDateTimeFormatToMoment: function convertQGISDateTimeFormatToMoment(datetimeformat) {\n    datetimeformat = datetimeformat.replace(/y/g, 'Y');\n    var matchDayInDate = datetimeformat.match(/d/g);\n    if (matchDayInDate && matchDayInDate.length < 3) datetimeformat = datetimeformat.replace(/d/g, 'D');\n    return datetimeformat;\n  }\n};\n\nmodule.exports = utils;\n\n},{\"app/constant\":4,\"core/layers/filter/expression\":29,\"core/layers/filter/filter\":30,\"core/utils/geo\":64}],68:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    truefnc = _require.truefnc;\n\nvar InputValidators = {\n  validators: {\n    float: function float() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var float = Number(1 * value);\n        return !Number.isNaN(float);\n      };\n    },\n    integer: function integer() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var integer = 1 * value;\n        return !_.isNaN(integer) ? Number.isSafeInteger(integer) && integer <= 2147483647 : false;\n      };\n    },\n    checkbox: function checkbox() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var values = this.options.values || [];\n        return values.indexOf(value) !== -1;\n      };\n    },\n    datetimepicker: function datetimepicker() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value, options) {\n        var fielddatetimeformat = options.fielddatetimeformat;\n        return moment(value, fielddatetimeformat, true).isValid();\n      };\n    },\n    text: function text() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    string: function string() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    radio: function radio() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    default: function _default() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    range: function range() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var min = options.min,\n          max = options.max;\n\n      this.validate = function (value) {\n        value = 1 * value;\n        return value >= min && value <= max;\n      };\n    }\n  },\n\n  get: function get(type) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var Validator = this.validators[type] || this.validators.default;\n    return new Validator(options);\n  }\n};\n\nmodule.exports = InputValidators;\n\n},{\"core/utils/utils\":67}],69:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Queque = require('core/workflow/queque');\n\n//Class Flow of workflow step by step\nfunction Flow() {\n  var steps = [];\n  var inputs = void 0;\n  var counter = 0;\n  var context = null;\n  var d = void 0;\n  var _workflow = void 0;\n  this.queques = {\n    end: new Queque(),\n    micro: new Queque()\n  };\n  //start workflow\n  this.start = function (workflow) {\n    d = $.Deferred();\n    if (counter > 0) {\n      console.log(\"reset workflow before restarting\");\n    }\n    _workflow = workflow;\n    inputs = workflow.getInputs();\n    context = workflow.getContext();\n    steps = workflow.getSteps();\n    // check if there are steps\n    if (steps && steps.length) {\n      //run step (first)\n      this.runStep(steps[0], inputs, context);\n    }\n    // return a promise that will be reolved if all step go right\n    return d.promise();\n  };\n\n  //run step\n  this.runStep = function (step, inputs) {\n    var _this = this;\n\n    //run step that run task\n    _workflow.setMessages({\n      help: step.state.help\n    });\n    var runMicroTasks = this.queques.micro.getLength();\n    step.run(inputs, context, this.queques).then(function (outputs) {\n      runMicroTasks && _this.queques.micro.run();\n      _this.onDone(outputs);\n    }).fail(function (error) {\n      return _this.onError(error);\n    });\n  };\n\n  //check if all step are resolved\n  this.onDone = function (outputs) {\n    counter++;\n    if (counter === steps.length) {\n      counter = 0;\n      d.resolve(outputs);\n      return;\n    }\n    this.runStep(steps[counter], outputs);\n  };\n\n  // in case of error\n  this.onError = function (err) {\n    counter = 0;\n    this.clearQueques();\n    d.reject(err);\n  };\n\n  // stop flow\n  this.stop = function () {\n    var d = $.Deferred();\n    steps[counter].isRunning() ? steps[counter].stop() : null;\n    this.clearQueques();\n    if (counter > 0) {\n      // set counter to 0\n      counter = 0;\n      // reject flow\n      d.reject();\n    } else {\n      //reject to force rollback session\n      d.resolve();\n    }\n    return d.promise();\n  };\n  base(this);\n}\n\ninherit(Flow, G3WObject);\n\nvar proto = Flow.prototype;\n\nproto.clearQueques = function () {\n  this.queques.micro.clear();\n  this.queques.end.clear();\n};\n\nmodule.exports = Flow;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"core/workflow/queque\":70}],70:[function(require,module,exports){\nfunction Queque() {\n  this.tasks = [];\n}\n\nvar proto = Queque.prototype;\n\nproto.addTask = function (task) {\n  this.tasks.push(task);\n};\n\nproto.run = function () {\n  var reverse = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  while (this.tasks.length) {\n    var task = reverse ? this.tasks.pop() : this.tasks.shift();\n    task();\n  }\n};\n\nproto.flush = function () {\n  return this.tasks.splice(0);\n};\n\nproto.getLength = function () {\n  return this.tasks.length;\n};\n\nproto.clear = function () {\n  this.run();\n  this.tasks = [];\n};\n\nmodule.exports = Queque;\n\n},{}],71:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Step() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var _options$inputs = options.inputs,\n      inputs = _options$inputs === undefined ? null : _options$inputs,\n      _options$context = options.context,\n      context = _options$context === undefined ? null : _options$context,\n      _options$task = options.task,\n      task = _options$task === undefined ? null : _options$task,\n      _options$outputs = options.outputs,\n      outputs = _options$outputs === undefined ? null : _options$outputs,\n      escKeyPressEventHandler = options.escKeyPressEventHandler;\n\n  this._inputs = inputs;\n  this._context = context;\n  this._task = task;\n  this._outputs = outputs;\n  //dynamic state of step\n  this.state = {\n    id: options.id || null,\n    name: options.name || null,\n    help: options.help || null, // help to show wat the user has to do\n    running: false, // running\n    error: null, // error\n    message: options.message || null // message\n  };\n  escKeyPressEventHandler && this.registerEscKeyEvent(escKeyPressEventHandler);\n}\n\ninherit(Step, G3WObject);\n\nvar proto = Step.prototype;\n\n//bind interrupt event on keys escape pressed\n\nproto.escKeyUpHandler = function (evt) {\n  var _evt$data = evt.data,\n      task = _evt$data.task,\n      callback = _evt$data.callback;\n\n  if (evt.key === 'Escape') callback({\n    task: task\n  });\n};\n\nproto.unbindEscKeyUp = function () {\n  $(document).unbind('keyup', this.escKeyUpHandler);\n};\n\nproto.bindEscKeyUp = function () {\n  var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n  $(document).on('keyup', {\n    callback: callback,\n    task: this.getTask()\n  }, this.escKeyUpHandler);\n};\n\nproto.registerEscKeyEvent = function (callback) {\n  var _this = this;\n\n  this.on('run', function () {\n    return _this.bindEscKeyUp(callback);\n  });\n  this.on('stop', function () {\n    return _this.unbindEscKeyUp();\n  });\n};\n\n// End of handle key esc pressed\n\n// method to start task\nproto.run = function (inputs, context, queques) {\n  var _this2 = this;\n\n  //emit run\n  this.emit('run', {\n    inputs: inputs,\n    context: context\n  });\n  var d = $.Deferred();\n  if (this._task) {\n    try {\n      // change state to running\n      this.state.running = true;\n      this._task.setInputs(inputs);\n      this._task.setContext(context);\n      this._task.run(inputs, context, queques).then(function (outputs) {\n        _this2.stop();\n        d.resolve(outputs);\n      }).fail(function (err) {\n        _this2.stop();\n        d.reject(err);\n      });\n    } catch (err) {\n      console.log(err);\n      this.state.error = err;\n      this.state.error = 'Problem ..';\n      this.stop();\n      d.reject(err);\n    }\n  }\n  return d.promise();\n};\n\n// stop step\nproto.stop = function () {\n  // stop task\n  this._task.stop(this._inputs, this._context);\n  //emit run\n  // running to false\n  this.state.running = false;\n  this.emit('stop');\n  this._task.setInputs(null);\n  this._task.setContext(null);\n};\n\n// revert task\nproto.revert = function () {\n  if (this._task && this._task.revert) this._task.revert();\n};\n\n//panic\nproto.panic = function () {\n  if (this._task && this._task.panic) this._task.panic();\n};\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.getHelp = function () {\n  return this.state.help;\n};\n\nproto.getError = function () {\n  return this.state.error;\n};\n\nproto.getMessage = function () {\n  return this.state.message;\n};\n\nproto.isRunning = function () {\n  return this.state.running;\n};\n\nproto.setInputs = function (inputs) {\n  this._inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this._inputs;\n};\n\nproto.setTask = function (task) {\n  this._task = task;\n};\n\nproto.getTask = function () {\n  return this._task;\n};\n\nproto.setOutputs = function (outputs) {\n  this._outputs = outputs;\n};\n\nproto.getOutputs = function () {\n  return this._outputs;\n};\n\nStep.MESSAGES = {\n  help: null\n};\n\nmodule.exports = Step;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],72:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Task() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.state = {\n    usermessagesteps: {}\n  };\n}\n\ninherit(Task, G3WObject);\n\nvar proto = Task.prototype;\n\n/**\n * Set and get task usefult properties used to run\n */\n\nproto.setInputs = function (inputs) {\n  this.inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this.inputs;\n};\n\nproto.setContext = function (context) {\n  return this.context = context;\n};\n\nproto.getContext = function () {\n  return this.context;\n};\n\nproto.revert = function () {\n  console.log('Revert to implemente ');\n};\n\nproto.panic = function () {\n  console.log('Panic to implement ..');\n};\n\nproto.stop = function () {\n  console.log('Task Stop to implement ..');\n};\n\nproto.run = function () {\n  console.log('Wrong. This method has to be overwrite from task');\n};\n\nproto.setRoot = function (task) {\n  this.state.root = task;\n};\n\nproto.getUserMessageSteps = function () {\n  return this.state.usermessagesteps;\n};\n\nproto.setUserMessageSteps = function () {\n  var steps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state.usermessagesteps = steps;\n};\n\nproto.setUserMessageStepDone = function (type) {\n  if (type) this.state.usermessagesteps[type].done = true;\n};\n\nmodule.exports = Task;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],73:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _workflows = require('services/workflows');\n\nvar _workflows2 = _interopRequireDefault(_workflows);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    resolve = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\nvar Flow = require('core/workflow/flow');\n\nvar _require2 = require('core/workflow/step'),\n    MESSAGES = _require2.MESSAGES;\n\nvar createUserMessageStepsFactory = require('gui/workflow/createUserMessageStepsFactory');\n\n//Class to manage flow of steps\nfunction Workflow() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$inputs = options.inputs,\n      inputs = _options$inputs === undefined ? null : _options$inputs,\n      _options$context = options.context,\n      context = _options$context === undefined ? null : _options$context,\n      _options$flow = options.flow,\n      flow = _options$flow === undefined ? new Flow() : _options$flow,\n      _options$steps = options.steps,\n      steps = _options$steps === undefined ? [] : _options$steps,\n      _options$runOnce = options.runOnce,\n      runOnce = _options$runOnce === undefined ? false : _options$runOnce;\n\n  base(this);\n  this._promise = null;\n  // inputs mandatory to work with editing\n  this._inputs = inputs;\n  this._context = context;\n  // flow object to control the flow\n  this._flow = flow;\n  // all steps of flow\n  this._steps = steps;\n  // if is child of another workflow\n  this._child = null;\n  // stack workflowindex\n  this._stackIndex = null;\n  // stop when flow stop\n  this.runOnce = runOnce;\n  this._messages = MESSAGES;\n  this._userMessageSteps = this._steps.reduce(function (messagesSteps, step) {\n    var usermessagesteps = step.getTask().getUserMessageSteps();\n    return usermessagesteps && _extends({}, messagesSteps, usermessagesteps) || messagesSteps;\n  }, {});\n}\n\ninherit(Workflow, G3WObject);\n\nvar proto = Workflow.prototype;\n\nproto.getContextService = function () {\n  var context = this.getContext();\n  return context.service;\n};\n\nproto.setContextService = function (service) {\n  var context = this.getContext();\n  context.service = service;\n};\n\nproto.getStackIndex = function () {\n  return this._stackIndex;\n};\n\nproto.addChild = function (workflow) {\n  if (this._child) this._child.addChild(workflow);else this._child = workflow;\n};\n\nproto.removeChild = function () {\n  if (this._child) {\n    var index = this._child.getStackIndex();\n    _workflows2.default.removeAt(index);\n  }\n  this._child = null;\n};\n\nproto.setInput = function (_ref) {\n  var key = _ref.key,\n      value = _ref.value;\n\n  this._inputs[key] = value;\n};\n\n/**\n * maybe unused method. Remove\n * @param inputs\n * @private\n */\nproto._setInputs = function (inputs) {\n  this._inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this._inputs;\n};\n\nproto.setContext = function (context) {\n  this._context = context;\n};\n\nproto.getContext = function () {\n  return this._context;\n};\n\nproto.getFlow = function () {\n  return this._flow;\n};\n\nproto.setFlow = function (flow) {\n  this._flow = flow;\n};\n\nproto.addStep = function (step) {\n  this._steps.push(step);\n};\n\nproto.setSteps = function (steps) {\n  this._steps = steps;\n};\n\nproto.getSteps = function () {\n  return this._steps;\n};\n\nproto.getStep = function (index) {\n  return this._steps[index];\n};\n\nproto.setMessages = function (messages) {\n  Object.assign(this._messages, messages);\n};\n\nproto.getMessages = function () {\n  return this._messages;\n};\n\nproto.clearMessages = function () {\n  this._messages.help = null;\n  this._isThereUserMessaggeSteps() && this.clearUserMessagesSteps();\n};\n\nproto.getLastStep = function () {\n  var length = this._steps.length;\n  return length ? this._steps[length - 1] : null;\n};\n\nproto.getRunningStep = function () {\n  return this._steps.find(function (step) {\n    return step.isRunning();\n  });\n};\n\n//stop all workflow children\nproto._stopChild = function () {\n  return this._child ? this._child.stop() : resolve();\n};\n\nproto._isThereUserMessaggeSteps = function () {\n  return Object.keys(this._userMessageSteps).length;\n};\n\nproto.reject = function () {\n  this._promise && this._promise.reject();\n};\n\nproto.resolve = function () {\n  this._promise && this._promise.resolve();\n};\n\n// start workflow\nproto.start = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this._promise = d;\n  this._inputs = options.inputs;\n  this._context = options.context || {};\n  var isChild = this._context.isChild || false;\n  //check if are workflow running and if need to stop child\n  if (_workflows2.default.getLength() && _workflows2.default.getCurrent() !== this) {\n    !isChild && _workflows2.default.getCurrent().addChild(this);\n  }\n  this._stackIndex = _workflows2.default.push(this);\n  this._flow = options.flow || this._flow;\n  this._steps = options.steps || this._steps;\n  var showUserMessage = this._isThereUserMessaggeSteps();\n  if (showUserMessage) {\n    var stepsComponent = createUserMessageStepsFactory({\n      steps: this._userMessageSteps\n    });\n    _gui2.default.showUserMessage({\n      title: 'sdk.workflow.steps.title',\n      type: 'tool',\n      position: 'left',\n      size: 'small',\n      closable: false,\n      hooks: {\n        body: stepsComponent\n      }\n    });\n  }\n\n  this._flow.start(this).then(function (outputs) {\n    showUserMessage && setTimeout(function () {\n      _this.clearUserMessagesSteps();\n      d.resolve(outputs);\n    }, 500) || d.resolve(outputs);\n  }).fail(function (error) {\n    showUserMessage && _this.clearUserMessagesSteps();\n    d.reject(error);\n  }).always(function () {\n    _this.runOnce && _this.stop();\n  });\n  this.emit('start');\n  return d.promise();\n};\n\n// stop workflow during flow\nproto.stop = function () {\n  var _this2 = this;\n\n  this._promise = null;\n  var d = $.Deferred();\n  // stop child workflow\n  this._stopChild()\n  // in every case remove child\n  .always(function () {\n    _this2.removeChild();\n    _workflows2.default.removeAt(_this2.getStackIndex());\n    // call stop flow\n    _this2._flow.stop().then(function () {\n      return d.resolve();\n    }).fail(function (err) {\n      return d.reject(err);\n    }).always(function () {\n      return _this2.clearMessages();\n    });\n  });\n  this.emit('stop');\n  return d.promise();\n};\n\nproto.clearUserMessagesSteps = function () {\n  this._resetUserMessaggeStepsDone();\n  _gui2.default.closeUserMessage();\n};\n\nproto._resetUserMessaggeStepsDone = function () {\n  var _this3 = this;\n\n  Object.keys(this._userMessageSteps).forEach(function (type) {\n    var userMessageSteps = _this3._userMessageSteps[type];\n    userMessageSteps.done = false;\n    if (userMessageSteps.buttonnext) userMessageSteps.buttonnext.disabled = true;\n  });\n};\n\nmodule.exports = Workflow;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"core/workflow/flow\":69,\"core/workflow/step\":71,\"gui/workflow/createUserMessageStepsFactory\":192,\"services/gui\":358,\"services/workflows\":369}],74:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n//SPATIAL METHODS USED TO FIND FEATURES\nvar SPATIALMETHODS = exports.SPATIALMETHODS = ['intersects', 'within'];\n\n/**\n * MAIN VUE INSTANCE USED TO WATCH OBJECT CHANGES OR TO EMIT EVENTS\n * \n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nvar VM = exports.VM = new Vue();\n\n},{}],75:[function(require,module,exports){\nvar Control = require('g3w-ol/controls/control');\n\nfunction AddLayersControl() {\n  var options = {\n    name: \"addlayer\",\n    tipLabel: \"sdk.mapcontrols.addlayer.tooltip\",\n    label: \"\\uE907\"\n  };\n  Control.call(this, options);\n  this._layerstore = null;\n}\n\nol.inherits(AddLayersControl, Control);\n\nvar proto = AddLayersControl.prototype;\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  Control.prototype.setMap.call(this, map);\n  $(this.element).on('click', function () {\n    return _this.dispatchEvent('addlayer');\n  });\n};\n\nproto.layout = function (map) {\n  Control.prototype.layout.call(this, map);\n};\n\nproto.getLayersSore = function () {\n  return this._layerstore;\n};\n\nproto.setLayersStore = function (layersStore) {\n  this._layerstore = layersStore;\n};\n\nmodule.exports = AddLayersControl;\n\n},{\"g3w-ol/controls/control\":78}],76:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar AreaIteraction = require('g3w-ol/interactions/areainteraction');\nvar MeasureControl = require('g3w-ol/controls/measurecontrol');\n\nvar AreaControl = function AreaControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    tipLabel: \"sdk.mapcontrols.measures.area.tooltip\",\n    label: '\\uE909',\n    clickmap: true, // set ClickMap\n    interactionClass: AreaIteraction\n  };\n  options = utils.merge(options, _options);\n  MeasureControl.call(this, options);\n};\n\nol.inherits(AreaControl, MeasureControl);\n\nmodule.exports = AreaControl;\n\n},{\"core/utils/ol\":65,\"g3w-ol/controls/measurecontrol\":84,\"g3w-ol/interactions/areainteraction\":100}],77:[function(require,module,exports){\nvar _constants = require('g3w-ol/constants');\n\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol'); /**\n                                                                         * @file\n                                                                         * @since v3.8\n                                                                         */\n\nvar _require = require('core/utils/ol'),\n    merge = _require.merge;\n\nvar _require2 = require('core/utils/geo'),\n    Geometry = _require2.Geometry;\n\nvar VALIDGEOMETRIES = Geometry.getAllPolygonGeometryTypes();\n\nvar BaseQueryPolygonControl = function BaseQueryPolygonControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options = options,\n      _options$spatialMetho = _options.spatialMethod,\n      spatialMethod = _options$spatialMetho === undefined ? _constants.SPATIALMETHODS[0] : _options$spatialMetho,\n      onSelectlayer = _options.onSelectlayer,\n      interactionClass = _options.interactionClass;\n\n\n  var default_options = {\n    offline: false,\n    // update selected layer\n    onSelectlayer: onSelectlayer,\n    clickmap: true, // set ClickMap\n    interactionClass: interactionClass,\n    spatialMethod: spatialMethod,\n    toggledTool: {\n      type: 'spatialMethod',\n      how: 'toggled' // or hover\n    },\n    onhover: true\n  };\n\n  options = merge(options, default_options);\n\n  options.geometryTypes = VALIDGEOMETRIES;\n\n  InteractionControl.call(this, options);\n};\n\nol.inherits(BaseQueryPolygonControl, InteractionControl);\n\nmodule.exports = BaseQueryPolygonControl;\n\n},{\"core/utils/geo\":64,\"core/utils/ol\":65,\"g3w-ol/constants\":74,\"g3w-ol/controls/interactioncontrol\":82}],78:[function(require,module,exports){\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('g3w-ol/controls/utils'),\n    layout = _require.layout;\n\nvar Control = function Control() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$name = options.name,\n      name = _options$name === undefined ? \"\" : _options$name,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$enabled = options.enabled,\n      enabled = _options$enabled === undefined ? false : _options$enabled;\n\n  this._enabled = enabled;\n  this.offline = options.offline !== undefined ? options.offline : true;\n  this.name = name.split(' ').join('-').toLowerCase();\n  this.id = this.name + '_' + Math.floor(Math.random() * 1000000);\n  this.eventKeys = {}; // store eventKey and original havenHandler\n  /*\n    tl: top-left\n    tr: top-right\n    bl: bottom-left\n    bt: bottom-right\n   */\n  this.positionCode = options.position || 'tl';\n  this.priority = options.priority || 0;\n  if (!options.element) {\n    var className = \"ol-\" + this.name.split(' ').join('-').toLowerCase();\n    var customClass = options.customClass;\n    var tipLabel = options.tipLabel || this.name;\n    var label = options.label || '';\n    var mapControlButtonVue = Vue.extend({\n      functional: true,\n      render: function render(h) {\n        var _class;\n\n        return h('div', {\n          class: (_class = {}, _defineProperty(_class, className, !!className), _defineProperty(_class, 'ol-unselectable', true), _defineProperty(_class, 'ol-control', true), _class)\n        }, [h('button', {\n          attrs: {\n            type: 'button'\n          },\n          directives: [{\n            name: 't-tooltip',\n            value: tipLabel\n          }]\n        }, [label, h('i', {\n          class: _defineProperty({}, customClass, !!customClass)\n        })])]);\n      }\n    });\n    var mapControlButtonDOMElement = new mapControlButtonVue().$mount().$el;\n    options.element = mapControlButtonDOMElement;\n  }\n  var buttonClickHandler = options.buttonClickHandler || Control.prototype._handleClick.bind(this);\n  $(options.element).on('click', buttonClickHandler);\n  ol.control.Control.call(this, options);\n  this.setVisible(visible);\n  this._postRender();\n};\n\nol.inherits(Control, ol.control.Control);\n\nvar proto = Control.prototype;\n\n//return if clickmap\nproto.isClickMap = function () {\n  return this.clickmap;\n};\n\nproto.isToggled = function () {\n  return this._toggled;\n};\n\nproto.setEventKey = function (_ref) {\n  var eventType = _ref.eventType,\n      eventKey = _ref.eventKey;\n\n  this.eventKeys[eventType] = {\n    eventKey: eventKey,\n    originalHandler: eventKey.listener\n  };\n};\n\n/**\n * Reset original handler method of control event.\n * \n * @param {string} eventType\n */\nproto.resetOriginalHandlerEvent = function (eventType) {\n  if (this.eventKeys[eventType] && this.eventKeys[eventType].eventKey) {\n    ol.Observable.unByKey(this.eventKeys[eventType].eventKey);\n    this.eventKeys[eventType].eventKey = this.on(eventType, this.eventKeys[eventType].originalHandler);\n  }\n};\n\n/**\n * Override original handler method of control event.\n * \n * @param {string} eventType\n * @param {() => {}} handler\n */\nproto.overwriteEventHandler = function (_ref2) {\n  var eventType = _ref2.eventType,\n      handler = _ref2.handler;\n\n  if (this.eventKeys[eventType] && this.eventKeys[eventType].eventKey) {\n    ol.Observable.unByKey(this.eventKeys[eventType].eventKey);\n    this.eventKeys[eventType].eventKey = this.on(eventType, handler);\n  }\n};\n\nproto.getPosition = function (positionCode) {\n  positionCode = positionCode || this.positionCode;\n  var position = {};\n  position['top'] = positionCode.indexOf('t') > -1 ? true : false;\n  position['left'] = positionCode.indexOf('l') > -1 ? true : false;\n  position['bottom'] = positionCode.indexOf('b') > -1 ? true : false;\n  position['right'] = positionCode.indexOf('r') > -1 ? true : false;\n  return position;\n};\n\n/**\n * Method to handle toggle map controls\n * @param event\n */\nproto._handleClick = function (event) {\n  var _this = this;\n\n  event.preventDefault();\n  var map = this.getMap();\n  var resetControl = null;\n  // remove all the other, eventually toggled, interactioncontrols\n  var controls = map.getControls();\n  this._toggled && controls.forEach(function (control) {\n    if (control.id && control.toggle && control.id !== _this.id) {\n      control.toggle(false);\n      if (control.name === 'reset') resetControl = control;\n    }\n  });\n  if (!this._toggled && resetControl) resetControl.toggle(true);\n  this.dispatchEvent('controlclick');\n};\n\n//shift of control position\nproto.shiftPosition = function (position) {\n  $(this.element).css(hWhere, position + 'px');\n};\n\n// layout handler\nproto.layout = function (map) {\n  if (map) {\n    var position = this.getPosition();\n    var element = $(this.element);\n    layout({ map: map, position: position, element: element });\n  }\n};\n\n// change layout of controls // overwrite to customize beahviour\nproto.changelayout = function (map) {};\n\n//called when a control is added ore removed to map (added: map is an ol.Map instance , removed map is null)\nproto.setMap = function (map) {\n  if (map) {\n    this.layout(map);\n    ol.control.Control.prototype.setMap.call(this, map);\n  }\n};\n/**\n *\n */\nproto.showControl = function () {\n  $(this.element).show();\n};\n\n//hide control and move all controls that sit on his right position\nproto.hideControl = function () {\n  var position = $(this.element).position().left;\n  var controlWidth = $(this.element).outerWidth();\n  var newPosition = position;\n  var controls = $(this.element).siblings('.ol-control-tl');\n  controls.each(function () {\n    if ($(this).position().left > position) {\n      newPosition = $(this).position().left;\n      if (controlWidth > $(this).outerWidth()) {\n        position = position + (controlWidth - $(this).outerWidth());\n      }\n      $(this).css('left', position + 'px');\n      position = newPosition;\n      controlWidth = $(this).outerWidth();\n    }\n  });\n  $(this.element).hide();\n};\n\n/**\n * Toggle pointer events and `g3w-ol-disabled` class on map control button\n * \n * @param {boolean} enabled wheter the map control button is clickable\n */\nproto.setEnable = function (enabled) {\n  $(this.element).find('button').first().toggleClass('g3w-ol-disabled', !enabled);\n  if (!enabled && this._interaction) {\n    this._interaction.setActive(false);\n  }\n  this._enabled = enabled;\n};\n\nproto.getEnable = function () {\n  return this._enabled;\n};\n\nproto.setVisible = function () {\n  var visible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this._visible = visible;\n  $(this.element)[visible ? 'show' : 'hide']();\n};\n\nproto.isVisible = function () {\n  return this._visible;\n};\n\nproto._postRender = function () {};\n\nmodule.exports = Control;\n\n},{\"g3w-ol/controls/utils\":96}],79:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Control = require('./control');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType,\n    XHR = _require.XHR;\n\nvar Projections = require('g3w-ol/projection/projections');\n/**\n * Classes for all element of dom control\n * @type {{country: string, hidden: string, city: string, road: string, spin: string, namespace: string, inputText: {container: string, result: string, input: string, reset: string, control: string}, olControl: string, inputResetId: string, inputQueryId: string}}\n */\nvar cssClasses = {\n  namespace: \"ol-geocoder\",\n  spin: \"gcd-pseudo-rotate\",\n  hidden: \"gcd-hidden\",\n  inputQueryId: \"gcd-input-query\",\n  inputResetId: \"gcd-input-reset\",\n  country: \"gcd-country\",\n  city: \"gcd-city\",\n  road: \"gcd-road\",\n  olControl: \"ol-control\",\n  inputText: {\n    container: \"gcd-txt-container\",\n    control: \"gcd-txt-control\",\n    input: \"gcd-txt-input\",\n    reset: \"gcd-txt-reset\",\n    result: \"gcd-txt-result\"\n  }\n};\n\nvar utils = {\n  isNumeric: function isNumeric(str) {\n    return (/^\\d+$/.test(str)\n    );\n  },\n  classRegex: function classRegex(classname) {\n    return new RegExp(\"(^|\\\\s+) \" + classname + \" (\\\\s+|$)\");\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String|Array<String>} classname Class or array of classes.\n   * For example: 'class1 class2' or ['class1', 'class2']\n   * @param {Number|undefined} timeout Timeout to remove a class.\n   */\n  addClass: function addClass(element, classname, timeout) {\n    var _this = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this.addClass(each, classname);\n      });\n      return;\n    }\n    var array = Array.isArray(classname) ? classname : classname.split(/\\s+/);\n    var i = array.length;\n\n    while (i--) {\n      if (!this.hasClass(element, array[i])) this._addClass(element, array[i], timeout);\n    }\n  },\n  _addClass: function _addClass(el, klass, timeout) {\n    var _this2 = this;\n\n    // use native if available\n    if (el.classList) el.classList.add(klass);else el.className = (el.className + ' ' + klass).trim();\n    if (timeout && this.isNumeric(timeout)) setTimeout(function () {\n      return _this2._removeClass(el, klass);\n    }, timeout);\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String|Array<String>} classname Class or array of classes.\n   * For example: 'class1 class2' or ['class1', 'class2']\n   * @param {Number|undefined} timeout Timeout to add a class.\n   */\n  removeClass: function removeClass(element, classname, timeout) {\n    var _this3 = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this3.removeClass(each, classname, timeout);\n      });\n      return;\n    }\n    var array = Array.isArray(classname) ? classname : classname.split(/\\s+/);\n    var i = array.length;\n\n    while (i--) {\n      if (this.hasClass(element, array[i])) this._removeClass(element, array[i], timeout);\n    }\n  },\n  _removeClass: function _removeClass(el, klass, timeout) {\n    var _this4 = this;\n\n    if (el.classList) el.classList.remove(klass);else el.className = el.className.replace(this.classRegex(klass), ' ').trim();\n    if (timeout && this.isNumeric(timeout)) setTimeout(function () {\n      return _this4._addClass(el, klass);\n    }, timeout);\n  },\n\n  /**\n   * @param {Element} element DOM node.\n   * @param {String} classname Classname.\n   * @return {Boolean}\n   */\n  hasClass: function hasClass(element, c) {\n    // use native if available\n    return element.classList ? element.classList.contains(c) : this.classRegex(c).test(element.className);\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String} classname Classe.\n   */\n  toggleClass: function toggleClass(element, classname) {\n    var _this5 = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this5.toggleClass(each, classname);\n      });\n      return;\n    }\n    // use native if available\n    if (element.classList) element.classList.toggle(classname);else {\n      if (this.hasClass(element, classname)) this._removeClass(element, classname);else this._addClass(element, classname);\n    }\n  },\n\n  /**\n   * Abstraction to querySelectorAll for increased\n   * performance and greater usability\n   * @param {String} selector\n   * @param {Element} context (optional)\n   * @param {Boolean} find_all (optional)\n   * @return (find_all) {Element} : {Array}\n   */\n  find: function find(selector, context, find_all) {\n    if (context === void 0) context = window.document;\n    var simpleRe = /^(#?[\\w-]+|\\.[\\w-.]+)$/,\n        periodRe = /\\./g,\n        slice = Array.prototype.slice,\n        matches = [];\n    // Redirect call to the more performant function\n    // if it's a simple selector and return an array\n    // for easier usage\n    if (simpleRe.test(selector)) {\n      switch (selector[0]) {\n        case '#':\n          matches = [this.$(selector.substr(1))];\n          break;\n        case '.':\n          matches = slice.call(context.getElementsByClassName(selector.substr(1).replace(periodRe, ' ')));\n          break;\n        default:\n          matches = slice.call(context.getElementsByTagName(selector));\n      }\n    } else {\n      // If not a simple selector, query the DOM as usual\n      // and return an array for easier usage\n      matches = slice.call(context.querySelectorAll(selector));\n    }\n    return find_all ? matches : matches[0];\n  },\n  $: function $(id) {\n    id = id[0] === '#' ? id.substr(1, id.length) : id;\n    return document.getElementById(id);\n  },\n  isElement: function isElement(obj) {\n    // DOM, Level2\n    if ('HTMLElement' in window) return !!obj && obj instanceof HTMLElement;\n    // Older browsers\n    return !!obj && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' && obj.nodeType === 1 && !!obj.nodeName;\n  },\n  getAllChildren: function getAllChildren(node, tag) {\n    return [].slice.call(node.getElementsByTagName(tag));\n  },\n  isEmpty: function isEmpty(str) {\n    return !str || 0 === str.length;\n  },\n  emptyArray: function emptyArray(array) {\n    while (array.length) {\n      array.pop();\n    }\n  },\n  anyMatchInArray: function anyMatchInArray(source, target) {\n    return source.some(function (each) {\n      return target.indexOf(each) >= 0;\n    });\n  },\n  everyMatchInArrayy: function everyMatchInArrayy(arr1, arr2) {\n    return arr2.every(function (each) {\n      return arr1.indexOf(each) >= 0;\n    });\n  },\n  anyItemHasValue: function anyItemHasValue(obj, has) {\n    var _this6 = this;\n\n    if (has === undefined) has = false;\n    var keys = Object.keys(obj);\n    keys.forEach(function (key) {\n      if (!_this6.isEmpty(obj[key])) {\n        has = true;\n      }\n    });\n    return has;\n  },\n  removeAllChildren: function removeAllChildren(node) {\n    while (node.firstChild) {\n      node.removeChild(node.firstChild);\n    }\n  },\n  removeAll: function removeAll(collection) {\n    var node = void 0;\n    while (node = collection[0]) {\n      node.parentNode.removeChild(node);\n    }\n  },\n  getChildren: function getChildren(node, tag) {\n    return [].filter.call(node.childNodes, function (el) {\n      return tag ? el.nodeType === 1 && el.tagName.toLowerCase() === tag : el.nodeType === 1;\n    });\n  },\n  template: function template(html, row) {\n    var _this7 = this;\n\n    return html.replace(/\\{ *([\\w_-]+) *\\}/g, function (htm, key) {\n      var value = row[key] === undefined ? '' : row[key];\n      return _this7.htmlEscape(value);\n    });\n  },\n  htmlEscape: function htmlEscape(str) {\n    return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#039;');\n  },\n  createElement: function createElement(node, html) {\n    var elem = void 0;\n    if (Array.isArray(node)) {\n      elem = document.createElement(node[0]);\n      if (node[1].id) elem.id = node[1].id;\n      if (node[1].classname) elem.className = node[1].classname;\n      if (node[1].attr) {\n        var attr = node[1].attr;\n        if (Array.isArray(attr)) {\n          var i = -1;\n          while (++i < attr.length) {\n            elem.setAttribute(attr[i].name, attr[i].value);\n          }\n        } else elem.setAttribute(attr.name, attr.value);\n      }\n    } else elem = document.createElement(node);\n    elem.innerHTML = html;\n    var frag = document.createDocumentFragment();\n    while (elem.childNodes[0]) {\n      frag.appendChild(elem.childNodes[0]);\n    }\n    elem.appendChild(frag);\n    return elem;\n  }\n};\n\n/**\n * Providers\n */\n\nvar Nominatim = function () {\n  function Nominatim() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Nominatim);\n\n    this.id = 'Nominatim (OSM)';\n    this.active = true;\n    var extent = ol.proj.transformExtent(options.viewbox, options.mapCrs, 'EPSG:4326');\n    this.settings = {\n      url: 'https://nominatim.openstreetmap.org/search/',\n      params: {\n        q: '',\n        format: 'json',\n        addressdetails: 1,\n        limit: 10\n      },\n      extent: extent,\n      viewbox: extent.join(',')\n    };\n  }\n\n  _createClass(Nominatim, [{\n    key: 'getParameters',\n    value: function getParameters(options) {\n      var _settings = this.settings,\n          url = _settings.url,\n          viewbox = _settings.viewbox,\n          limit = _settings.params.limit;\n\n      return {\n        url: url,\n        params: {\n          q: options.query,\n          format: 'json',\n          addressdetails: 1,\n          limit: options.limit || limit,\n          viewbox: viewbox,\n          bounded: 1\n        }\n      };\n    }\n  }, {\n    key: 'handleResponse',\n    value: function handleResponse() {\n      var _this8 = this;\n\n      var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var results = response.filter(function (place) {\n        return ol.extent.containsXY(_this8.settings.extent, place.lon, place.lat);\n      }).map(function (result) {\n        return {\n          lon: result.lon,\n          lat: result.lat,\n          address: {\n            name: result.address.neighbourhood || '',\n            road: result.address.road || '',\n            postcode: result.address.postcode,\n            city: result.address.city || result.address.town,\n            state: result.address.state,\n            country: result.address.country\n          },\n          original: {\n            formatted: result.display_name,\n            details: result.address\n          }\n        };\n      });\n      return {\n        results: results,\n        header: {\n          title: this.id\n        }\n      };\n    }\n  }]);\n\n  return Nominatim;\n}();\n\nvar Google = function () {\n  function Google() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Google);\n\n    this.id = 'Google';\n    this.active = _applicationState2.default.keys.vendorkeys.google !== undefined; // PUT HERE A CONDITION TO ACTIVATE OR NOT GOODGLE GEOCODING PROVIDER\n    var extent = ol.proj.transformExtent(options.viewbox, options.mapCrs, 'EPSG:4326');\n    this.settings = {\n      url: 'https://maps.googleapis.com/maps/api/geocode/json',\n      extent: extent,\n      viewbox: extent[1] + ',' + extent[0] + '|' + extent[3] + ',' + extent[2]\n    };\n  }\n\n  _createClass(Google, [{\n    key: 'getParameters',\n    value: function getParameters() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var language = options.lang;\n      var _settings2 = this.settings,\n          url = _settings2.url,\n          viewbox = _settings2.viewbox;\n\n      var params = {\n        address: options.query,\n        key: _applicationState2.default.keys.vendorkeys.google,\n        bounds: viewbox,\n        language: language\n      };\n\n      return {\n        url: url,\n        params: params\n      };\n    }\n  }, {\n    key: 'handleResponse',\n    value: function handleResponse() {\n      var _this9 = this;\n\n      var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var results = []; // Set  to be an Array\n\n      if (response.status === 'OK') {\n        results = response.results.filter(function (result) {\n          return ol.extent.containsXY(_this9.settings.extent, result.geometry.location.lng, result.geometry.location.lat);\n        }).map(function (result) {\n          var name = void 0,\n              road = void 0,\n              city = void 0,\n              postcode = void 0,\n              state = void 0,\n              country = void 0;\n          result.address_components.forEach(function (_ref) {\n            var types = _ref.types,\n                short_name = _ref.short_name,\n                long_name = _ref.long_name;\n\n            if (types.find(function (type) {\n              return type === 'route';\n            })) name = long_name;else if (types.find(function (type) {\n              return type === 'locality';\n            })) city = long_name;else if (types.find(function (type) {\n              return type === 'country';\n            })) country = long_name;\n          });\n          return {\n            lon: result.geometry.location.lng,\n            lat: result.geometry.location.lat,\n            address: {\n              name: name,\n              road: road,\n              postcode: '',\n              city: city,\n              state: state,\n              country: country\n            },\n            original: {\n              formatted: result.display_name,\n              details: result.address\n            }\n          };\n        });\n      } else if (response.status === 'REQUEST_DENIED') {\n        /* disable google geocoding provider on API key error */\n        this.active = false;\n      }\n\n      return {\n        results: results,\n        header: {\n          title: this.id\n        }\n      };\n    }\n  }]);\n\n  return Google;\n}();\n\n/**\n * Geocoding class\n * @param options\n * @constructor\n */\n\n\nfunction GeocodingControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.options = {\n    provider: 'osm',\n    placeholder: options.placeholder || 'Città, indirizzo ... ',\n    noresults: options.noresults || 'Nessun risultato ',\n    notresponseserver: options.notresponseserver || 'Il server non risponde',\n    lang: _applicationState2.default.language || 'it-IT',\n    limit: options.limit || 5,\n    keepOpen: true,\n    preventDefault: false,\n    autoComplete: false,\n    autoCompleteMinLength: 4,\n    debug: false,\n    viewbox: options.bbox,\n    bounded: 1,\n    mapCrs: options.mapCrs,\n    fontIcon: _gui2.default.getFontClass('search')\n  };\n\n  var _options = this.options,\n      placeholder = _options.placeholder,\n      fontIcon = _options.fontIcon,\n      mapCrs = _options.mapCrs,\n      viewbox = _options.viewbox;\n  /**\n   * Providers\n   * @type []\n   */\n\n  this.providers = [new Google({\n    mapCrs: mapCrs,\n    viewbox: viewbox\n  }), new Nominatim({\n    mapCrs: mapCrs,\n    viewbox: viewbox\n  })];\n\n  /**\n   * Layer to show marker after search\n   * IN FUTURE SET AS CONTROL UTILITY (at moment duplicate also in GEOLOCATION CONTROL)\n   */\n\n  this.layer = new ol.layer.Vector({\n    source: new ol.source.Vector(),\n    style: new ol.style.Style({\n      text: new ol.style.Text({\n        text: '\\uF3C5',\n        font: '900 3em \"Font Awesome 5 Free\"',\n        stroke: new ol.style.Stroke({\n          color: 'red',\n          width: 3\n        }),\n        fill: new ol.style.Fill({\n          color: 'rgba(255, 0,0, 0.7)'\n        })\n      })\n    })\n  });\n\n  this.projection;\n\n  var containerClass = cssClasses.namespace + ' ' + cssClasses.inputText.container;\n  var self = this;\n\n  var GeocoderVueContainer = Vue.extend({\n    functional: true,\n    render: function render(h) {\n      return h('div', { class: _defineProperty({}, containerClass, true) }, [h('div', {\n        class: _defineProperty({}, cssClasses.inputText.control, true)\n      }, [h('input', {\n        attrs: {\n          type: 'text',\n          id: cssClasses.inputQueryId,\n          autocomplete: 'off'\n        },\n        class: _defineProperty({}, cssClasses.inputText.input, true),\n        directives: [{\n          name: 't-placeholder',\n          value: placeholder\n        }]\n      }), h('button', {\n        attrs: {\n          type: 'button',\n          id: 'search_nominatim'\n        },\n        class: {\n          btn: true\n        },\n        on: {\n          click: function click() {\n            var value = $('input.' + cssClasses.inputText.input).val();\n            self.query(value);\n          }\n        }\n      }, [h('i', {\n        attrs: {\n          'aria-hidden': true\n        },\n        style: {\n          color: '#ffffff'\n        },\n        class: _defineProperty({}, fontIcon, true)\n      })]), h('button', {\n        attrs: {\n          type: 'button',\n          id: cssClasses.inputResetId\n        },\n        class: _defineProperty({}, cssClasses.inputText.reset + '  ' + cssClasses.hidden, true)\n      })]), h('ul', {\n        class: _defineProperty({}, cssClasses.inputText.result, true)\n      })]);\n    }\n  });\n  this.container = new GeocoderVueContainer().$mount().$el;\n  this.lastQuery = '';\n  this.registeredListeners = {\n    mapClick: false\n  };\n\n  this.showMarker = function (coordinates) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { transform: true };\n    var transform = options.transform;\n\n    this.hideMarker();\n    coordinates = transform ? ol.proj.transform(coordinates, 'EPSG:4326', this.getMap().getView().getProjection()) : coordinates;\n    var geometry = new ol.geom.Point(coordinates);\n    var feature = new ol.Feature(geometry);\n    this.layer.getSource().addFeature(feature);\n    this.getMap().addLayer(this.layer);\n    _gui2.default.getService('map').zoomToGeometry(geometry);\n  };\n\n  this.hideMarker = function () {\n    this.layer.getSource().clear();\n    this.getMap().removeLayer(this.layer);\n  };\n  /**\n   * Methods\n   */\n  this.createControl = function () {\n    var _this10 = this;\n\n    var timeout = void 0,\n        lastQuery = void 0;\n    this.control = utils.find('.' + cssClasses.inputText.control, this.container);\n    this.input = utils.find('.' + cssClasses.inputText.input, this.container);\n    this.reset = utils.find('.' + cssClasses.inputText.reset, this.container);\n    this.result = utils.find('.' + cssClasses.inputText.result, this.container);\n    var query = function query(evt) {\n      var value = evt.target.value.trim();\n      var hit = evt.key ? evt.key === 'Enter' : evt.which ? evt.which === 13 : evt.keyCode ? evt.keyCode === 13 : false;\n      if (hit) {\n        evt.preventDefault();\n        _this10.query(value);\n      }\n    };\n    var reset = function reset() {\n      _this10.input.focus();\n      _this10.input.value = '';\n      _this10.lastQuery = '';\n      utils.addClass(_this10.reset, cssClasses.hidden);\n      _this10.clearResults();\n    };\n    var handleValue = function handleValue(evt) {\n      var value = evt.target.value.trim();\n      value.length ? utils.removeClass(_this10.reset, cssClasses.hidden) : utils.addClass(_this10.reset, cssClasses.hidden);\n      if (_this10.options.autoComplete && value !== lastQuery) {\n        lastQuery = value;\n        timeout && clearTimeout(timeout);\n        timeout = setTimeout(function () {\n          return value.length >= _this10.options.autoCompleteMinLength && _this10.query(value);\n        }, 200);\n      }\n    };\n    this.input.addEventListener('keyup', query, false);\n    this.input.addEventListener('input', handleValue, false);\n    this.reset.addEventListener('click', reset, false);\n  };\n  this.query = function (q) {\n    var _this11 = this;\n\n    /**\n     * Clear source\n     */\n    this.hideMarker();\n    return new Promise(function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n        var isNumber, coordinates, transform, _q$split, _q$split2, x, y, epsg, promises, providers, responses;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                isNumber = function isNumber(value) {\n                  return toRawType(value) === 'Number' && !Number.isNaN(value);\n                };\n\n                coordinates = null;\n                transform = false;\n\n                if (q) {\n                  _q$split = q.split(','), _q$split2 = _slicedToArray(_q$split, 3), x = _q$split2[0], y = _q$split2[1], epsg = _q$split2[2];\n\n                  coordinates = isNumber(1 * x) && isNumber(1 * y) ? [1 * x, 1 * y] : null;\n                  try {\n                    /**\n                     * check if is sett epsg code and if is register on project\n                     */\n                    if (epsg && Projections.get('EPSG:' + epsg.trim())) {\n                      coordinates = ol.proj.transform(coordinates, Projections.get('EPSG:' + epsg.trim()), 'EPSG:4326');\n                      transform = true;\n                    }\n                  } catch (err) {}\n                }\n\n                if (!coordinates) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _this11.showMarker(coordinates, {\n                  transform: transform\n                });\n                resolve(coordinates);\n                _context.next = 19;\n                break;\n\n              case 9:\n                if (!(_this11.lastQuery === q && _this11.result.firstChild)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                return _context.abrupt('return');\n\n              case 11:\n                promises = [];\n                /**\n                 * For loop to active Providers\n                 */\n\n                providers = _this11.providers.filter(function (provider) {\n                  return provider.active;\n                });\n\n                providers.forEach(function (provider) {\n                  var _provider$getParamete = provider.getParameters({\n                    query: q,\n                    lang: _this11.options.lang,\n                    countrycodes: _this11.options.countrycodes,\n                    limit: _this11.options.limit\n                  }),\n                      url = _provider$getParamete.url,\n                      params = _provider$getParamete.params;\n\n                  _this11.lastQuery = q;\n                  _this11.clearResults();\n                  utils.addClass(_this11.reset, cssClasses.spin);\n                  promises.push(XHR.get({\n                    url: url,\n                    params: params\n                  }));\n                });\n                _context.next = 16;\n                return Promise.allSettled(promises);\n\n              case 16:\n                responses = _context.sent;\n\n                responses.forEach(function (_ref3, index) {\n                  var status = _ref3.status,\n                      response = _ref3.value;\n\n                  if (status === 'fulfilled') {\n                    var _providers$index$hand = providers[index].handleResponse(response),\n                        header = _providers$index$hand.header,\n                        results = _providers$index$hand.results;\n\n                    if (providers[index].active) {\n                      _this11.createList({\n                        header: header,\n                        results: results\n                      });\n                    }\n                  }\n                });\n                utils.removeClass(_this11.reset, cssClasses.spin);\n\n              case 19:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this11);\n      }));\n\n      return function (_x8, _x9) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  };\n  this.createList = function () {\n    var _this12 = this;\n\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        header = _ref4.header,\n        _ref4$results = _ref4.results,\n        results = _ref4$results === undefined ? {} : _ref4$results;\n\n    var ul = this.result;\n    ul.appendChild(this.createHeaderProviderResults(header));\n    if (results.length) {\n      results.forEach(function (result) {\n        var addressHtml = _this12.addressTemplate(result.address),\n            html = ['<a href=\"#\">', addressHtml, '</a>'].join(''),\n            li = utils.createElement('li', html);\n        li.addEventListener('click', function (evt) {\n          evt.preventDefault();\n          _this12.chosen(result, addressHtml, result.address, result.original);\n        }, false);\n        ul.appendChild(li);\n      });\n    } else {\n      var noresults = this.options.noresults;\n\n      var elementVue = Vue.extend({\n        functional: true,\n        render: function render(h) {\n          return h('li', {\n            class: {\n              'nominatim-noresult': true\n            },\n            directives: [{ name: 't', value: noresults }]\n          });\n        }\n      });\n      var li = new elementVue().$mount().$el;\n      ul.appendChild(li);\n    }\n  };\n  this.chosen = function (place, addressHtml, addressObj, addressOriginal) {\n    var coord = [parseFloat(place.lon), parseFloat(place.lat)];\n    this.options.keepOpen === false && this.clearResults(true);\n    this.showMarker(coord);\n  };\n  this.createHeaderProviderResults = function () {\n    var header = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var headerNodeElement = '\\n      <div style=\"display: flex; justify-content: space-between; padding: 5px\">\\n        <span  style=\"color: #FFFFFF; font-weight: bold\">' + header.title + '</span>\\n      </div>';\n    var li = utils.createElement('li', headerNodeElement);\n    li.classList.add(\"skin-background-color\");\n    return li;\n  };\n\n  this.addressTemplate = function (address) {\n    var html = [];\n    if (address.name) html.push(['<div class=\"', cssClasses.road, '\">{name}</div>'].join(''));\n    if (address.road || address.building || address.house_number) {\n      html.push(['<div class=\"', cssClasses.road, '\">{building} {road} {house_number}</div>'].join(''));\n    }\n    if (address.city || address.town || address.village) {\n      html.push(['<div class=\"', cssClasses.city, '\">{postcode} {city} {town} {village}</div>'].join(''));\n    }\n    if (address.state || address.country) {\n      html.push(['<div class=\"', cssClasses.country, '\">{state} {country}</div>'].join(''));\n    }\n    return utils.template(html.join('<br>'), address);\n  };\n  this.expand = function () {\n    var _this13 = this;\n\n    utils.removeClass(this.input, cssClasses.spin);\n    utils.addClass(this.control, cssClasses.glass.expanded);\n    setTimeout(function () {\n      return _this13.input.focus();\n    }, 100);\n  };\n  this.collapse = function () {\n    this.input.value = '';\n    this.input.blur();\n    utils.addClass(this.reset, cssClasses.hidden);\n    this.clearResults();\n  };\n\n  this.clearResults = function () {\n    utils.removeAllChildren(this.result);\n    this.hideMarker();\n  };\n  this.getSource = function () {\n    return this.layer.getSource();\n  };\n  this.addLayer = function () {\n    var _this14 = this;\n\n    var map = this.getMap();\n    var layer = map.getLayers().find(function (layer) {\n      return layer === _this14.layer;\n    });\n    !layer && map.addLayer(this.layer);\n  };\n  /**\n   * End methods\n   */\n\n  this.createControl();\n\n  Control.call(this, {\n    element: this.container,\n    name: \"nominatim\",\n    offline: false\n  });\n}\n\nol.inherits(GeocodingControl, Control);\n\nmodule.exports = GeocodingControl;\n\n},{\"./control\":78,\"core/utils/utils\":67,\"g3w-ol/projection/projections\":110,\"services/gui\":358,\"store/application-state\":370}],80:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nfunction GeolocationControl() {\n  var options = {\n    visible: false, // set initial to false. Is set visible if is autorized\n    offline: false,\n    name: \"geolocation\",\n    tipLabel: \"sdk.mapcontrols.geolocation.tooltip\",\n    label: \"\\uE904\"\n  };\n  this._layer = new ol.layer.Vector({\n    source: new ol.source.Vector(),\n    style: new ol.style.Style({\n      text: new ol.style.Text({\n        text: \"\\uF3C5\",\n        font: '900 3em \"Font Awesome 5 Free\"',\n        fill: new ol.style.Fill({\n          color: 'red'\n        })\n      })\n    })\n  });\n  InteractionControl.call(this, options);\n}\n\nol.inherits(GeolocationControl, InteractionControl);\n\nvar proto = GeolocationControl.prototype;\n\n/**\n * Method to add market position layer and feature point always on top of map\n * @param map\n * @param coordinates\n * @param show\n * @private\n */\nproto._showMarker = function (_ref) {\n  var map = _ref.map,\n      coordinates = _ref.coordinates,\n      _ref$show = _ref.show,\n      show = _ref$show === undefined ? true : _ref$show;\n\n  //in case of control is initialized\n  if (this._layer) {\n    this._layer.getSource().clear();\n    if (show) {\n      map.getView().setCenter(coordinates);\n      var feature = new ol.Feature({\n        geometry: new ol.geom.Point(coordinates)\n      });\n      this._layer.getSource().addFeature(feature);\n      map.addLayer(this._layer);\n    } else map.removeLayer(this._layer);\n  }\n};\n\nproto.getMap = function () {\n  return InteractionControl.prototype.getMap.call(this);\n};\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  var toggledKeyEvent = void 0; // key toggled event handler\n  InteractionControl.prototype.setMap.call(this, map);\n\n  var geolocation = new ol.Geolocation({\n    projection: map.getView().getProjection(),\n    tracking: true, // set tracking\n    trackingOptions: {\n      enableHighAccuracy: true\n    }\n  });\n\n  geolocation.on('change:position', function () {\n    var coordinates = geolocation.getPosition();\n    if (coordinates) {\n      if (!_this.isVisible()) {\n        _this.setVisible(true);\n        $(_this.element).removeClass('g3w-ol-disabled');\n        geolocation.dispatchEvent('authorized');\n      }\n      _this._showMarker({\n        map: map,\n        coordinates: coordinates,\n        show: _this.isToggled()\n      });\n    } else _this.hideControl(); // remove control from map control flow\n  });\n\n  geolocation.once('error', function (evt) {\n    _this.hideControl();\n    _this._layer = null;\n    evt.code !== 1 && _this.dispatchEvent('error');\n    ol.Observable.unByKey(toggledKeyEvent);\n    toggledKeyEvent = null;\n  });\n\n  //only when authorized register toogled event\n  geolocation.once('authorized', function () {\n    toggledKeyEvent = _this.on('toggled', function () {\n      var coordinates = geolocation.getPosition();\n      _this._showMarker({\n        map: map,\n        coordinates: coordinates,\n        show: _this.isToggled()\n      });\n    });\n  });\n};\n\nmodule.exports = GeolocationControl;\n\n},{\"g3w-ol/controls/interactioncontrol\":82}],81:[function(require,module,exports){\nvar ScreenshotControl = require('g3w-ol/controls/screenshotcontrol');\n\nfunction GeoScreenshotControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.name = \"maptoimagegeo\";\n  options.tipLabel = \"Geo Screenshot\";\n  options.label = \"\\uE900\";\n  ScreenshotControl.call(this, options);\n}\n\nol.inherits(GeoScreenshotControl, ScreenshotControl);\n\nmodule.exports = GeoScreenshotControl;\n\n},{\"g3w-ol/controls/screenshotcontrol\":94}],82:[function(require,module,exports){\nvar _constants = require('g3w-ol/constants');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mapControls = require('store/map-controls');\n\nvar _mapControls2 = _interopRequireDefault(_mapControls);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar Control = require('g3w-ol/controls/control');\n\nvar InteractionControl = function InteractionControl() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$enabled = options.enabled,\n      enabled = _options$enabled === undefined ? true : _options$enabled,\n      _options$toggled = options.toggled,\n      toggled = _options$toggled === undefined ? false : _options$toggled,\n      _options$clickmap = options.clickmap,\n      clickmap = _options$clickmap === undefined ? false : _options$clickmap,\n      _options$interactionC = options.interactionClass,\n      interactionClass = _options$interactionC === undefined ? null : _options$interactionC,\n      _options$autountoggle = options.autountoggle,\n      autountoggle = _options$autountoggle === undefined ? false : _options$autountoggle,\n      _options$geometryType = options.geometryTypes,\n      geometryTypes = _options$geometryType === undefined ? [] : _options$geometryType,\n      _options$onhover = options.onhover,\n      onhover = _options$onhover === undefined ? false : _options$onhover,\n      _options$help = options.help,\n      help = _options$help === undefined ? null : _options$help,\n      toggledTool = options.toggledTool,\n      _options$interactionC2 = options.interactionClassOptions,\n      interactionClassOptions = _options$interactionC2 === undefined ? {} : _options$interactionC2,\n      _options$layers = options.layers,\n      layers = _options$layers === undefined ? [] : _options$layers,\n      spatialMethod = options.spatialMethod;\n\n  /**\n   * Project layers dependencies\n   * \n   * @since 3.8.0\n   */\n\n  this.layers = layers;\n\n  /**\n   * @since 3.8.0\n   */\n  this.unwatches = [];\n\n  this.listenLayersVisibilityChange();\n\n  this._visible = visible;\n\n  this._toggled = false;\n\n  /**\n   * Check if interact with map\n   */\n  this.clickmap = clickmap;\n\n  this._interactionClass = interactionClass;\n\n  this._interaction = null;\n\n  this._autountoggle = autountoggle;\n\n  /**\n   * Array of types geometries\n   */\n  this._geometryTypes = geometryTypes;\n\n  this._onhover = onhover;\n\n  this._help = help;\n\n  /**\n   * Used to show help info button\n   */\n  this._helpButton;\n\n  /**\n   * Used to show toolbutton\n   */\n  this._toolButton;\n\n  /**\n   * @type { 'intersect' | 'within' }\n   */\n  this.spatialMethod = spatialMethod;\n\n  this.toggledTool;\n\n  this._interactionClassOptions = interactionClassOptions;\n\n  options.buttonClickHandler = InteractionControl.prototype._handleClick.bind(this);\n\n  Control.call(this, options);\n\n  // in case of toggled true, then ... ?\n  if (true === toggled) {\n    this.on('setMap', function () {\n      return _this.toggle(toggled);\n    });\n  }\n\n  // create an help message\n  if (this._help) {\n    this._createModalHelp();\n  }\n\n  // create tool\n  if (toggledTool) {\n    this.createControlTool(toggledTool);\n  }\n\n  // set enabled\n  this.setEnable(enabled);\n\n  // check if spatial method is set\n  if (this.spatialMethod) {\n    this.handleChangeSpatialMethod(this.spatialMethod);\n  }\n};\n\nol.inherits(InteractionControl, Control);\n\nvar proto = InteractionControl.prototype;\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.onSelectLayer = function () {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.runSpatialQuery = function () {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.clear = function () {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.onAddExternalLayer = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref.layer,\n      unWatches = _ref.unWatches;\n};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function (layer) {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.handleSelectedLayer = function (event) {};\n\n/**\n * @virtual method need to be implemented by subclasses\n * \n * @param {{ type: {string}, data: any}} layer event\n * \n * @since 3.8.0\n */\nproto.handleExternalSelectedLayer = function (layer) {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @param layers\n * @returns {boolean}\n *\n * @since 3.8.0\n */\nproto.checkVisibile = function (layers) {\n  return true;\n};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @param layers\n * @returns {boolean}\n *\n * @since 3.8.0\n */\nproto.checkVisibile = function (layers) {\n  return true;\n};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since v3.8.0\n */\nproto.listenLayersVisibilityChange = function () {};\n\n/**\n * method override by subclasses\n *\n * @since 3.8.0\n */\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n  var visible = this.checkVisibile(layers);\n  this.setVisible(visible);\n  this.setEnable(false);\n  this.listenLayersVisibilityChange();\n};\n\nproto.isClickMap = function () {\n  return this.clickmap;\n};\n\n/**\n * Enable map control dom\n */\nproto.enable = function () {\n  $(this.element).removeClass('g3w-disabled');\n};\n\nproto.disable = function () {\n  $(this.element).addClass('g3w-disabled');\n};\n\n/**\n * @param {{ type: {'spatialMethod' | 'custom'}, component: unknown, how: {'toggled' | 'hover'} }} toggledTool \n */\nproto.createControlTool = function () {\n  var _this2 = this;\n\n  var toggledTool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  /**\n   * how can be {\n   *  'toggled'(default) => show tools when control is toggled\n   *  'hover' =>  (show button tool as info help)\n   * }\n   */\n  var type = toggledTool.type,\n      component = toggledTool.component,\n      _toggledTool$how = toggledTool.how,\n      how = _toggledTool$how === undefined ? \"toggled\" : _toggledTool$how;\n\n  switch (type) {\n    case 'spatialMethod':\n      var method = this.getSpatialMethod();\n      this.toggledTool = {\n        data: function data() {\n          this.methods = _constants.SPATIALMETHODS;\n          return {\n            method: method\n          };\n        },\n\n        template: '\\n          <div style=\"width: 100%; padding: 5px;\">\\n            <select ref=\"select\" style=\"width: 100%\"  :search=\"false\" v-select2=\"\\'method\\'\">\\n              <option v-for=\"method in methods\">{{method}}</option>\\n            </select>\\n          </div>',\n        watch: {\n          'method': function method(_method) {\n            return _this2.setSpatialMethod(_method);\n          }\n        },\n        created: function created() {\n          _gui2.default.setCloseUserMessageBeforeSetContent(false);\n        },\n        beforeDestroy: function beforeDestroy() {\n          _gui2.default.setCloseUserMessageBeforeSetContent(true);\n        }\n      };\n      break;\n    case 'custom':\n      this.toggledTool = component;\n      break;\n    // if we want to create a button (as info on hover)\n  }\n  switch (how) {\n    case 'hover':\n      this._createToolOnHoverButton();\n      break;\n  }\n};\n\nproto._createToolOnHoverButton = function () {\n  var _this3 = this;\n\n  if (this._onhover) {\n    this._toolButton = $('<span style=\"display:none\" class=\"tool_mapcontrol_button\"><i class=\"' + _gui2.default.getFontClass('tool') + '\"></i></span>');\n    $(this.element).prepend(this._toolButton);\n    this._toolButton.on('click', function (event) {\n      event.stopPropagation();\n      _this3.showToggledTool(true);\n    });\n    $(this.element).hover(function () {\n      return _this3._toggled && _this3._toolButton.show();\n    });\n    $(this.element).mouseleave(function () {\n      return _this3._toolButton.hide();\n    });\n  }\n};\n\nproto.showToggledTool = function () {\n  var show = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  if (show) {\n    _gui2.default.showUserMessage({\n      title: '',\n      type: 'tool',\n      size: 'small',\n      closable: this._toolButton ? true : false,\n      hooks: {\n        body: this.toggledTool\n      }\n    });\n  } else _gui2.default.closeUserMessage();\n};\n\n/**\n * Show help message\n */\nproto._showModalHelp = function () {\n  _gui2.default.showModalDialog({\n    title: t(this._help.title),\n    message: t(this._help.message)\n  });\n};\n\n/**\n * Create modal help\n */\nproto._createModalHelp = function () {\n  var _this4 = this;\n\n  if (this._onhover) {\n    this._helpButton = $('<span style=\"display:none\" class=\"info_mapcontrol_button\">i</span>');\n    $(this.element).prepend(this._helpButton);\n    this._helpButton.on('click', function (event) {\n      event.stopPropagation();\n      _this4._showModalHelp();\n    });\n    $(this.element).hover(function () {\n      return _this4._helpButton.show();\n    });\n    $(this.element).mouseleave(function () {\n      return _this4._helpButton.hide();\n    });\n  }\n};\n\nproto.getGeometryTypes = function () {\n  return this._geometryTypes;\n};\n\nproto.isToggled = function () {\n  return this._toggled;\n};\n\n/**\n * Get dom bottom\n * \n * @returns {JQuery<HTMLElement> | jQuery | HTMLElement}\n */\nproto.getControlBottom = function () {\n  return $(this.element).find('button').first();\n};\n\nproto.addClassToControlBottom = function () {\n  var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  var controlButton = this.getControlBottom();\n  controlButton.addClass(className);\n};\n\nproto.removeClassToControlBottom = function () {\n  var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  var controlButton = this.getControlBottom();\n  controlButton.removeClass(className);\n};\n\n/**\n * Set button status (pressed / not pressed)\n * \n * @param {boolean} [toggled]\n * \n * @fires toggled event\n */\nproto.toggle = function () {\n  var toggled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !this._toggled;\n\n\n  // skip if button is already toggled or un-toggled\n  if (this._toggled === toggled) {\n    return;\n  }\n\n  this._toggled = toggled;\n\n  // TODO: simplify this by removing all that short circuiting logic\n  if (toggled) {\n    this._interaction && this._interaction.setActive(true);\n    this.addClassToControlBottom('g3w-ol-toggled');\n    this._toolButton && this._toolButton.show();\n  } else {\n    this._help && this._helpButton.hide();\n    this._interaction && this._interaction.setActive(false);\n    this.removeClassToControlBottom('g3w-ol-toggled');\n    this._toolButton && this._toolButton.hide();\n    this.toggledTool && this.showToggledTool(false);\n  }\n\n  if (undefined === this._toolButton && this.toggledTool) {\n    this.showToggledTool(this._toggled);\n  }\n\n  this.dispatchEvent({ type: 'toggled', toggled: toggled });\n};\n\nproto.getGeometryTypes = function () {\n  return this._geometryTypes;\n};\n\nproto.setGeometryTypes = function (types) {\n  this._geometryTypes = types;\n};\n\n/**\n * @param {ol.Map} map\n * \n * @fires setMap event\n */\nproto.setMap = function (map) {\n\n  Control.prototype.setMap.call(this, map);\n\n  if (!this._interaction && this._interactionClass) {\n    this._interaction = new this._interactionClass(this._interactionClassOptions);\n    map.addInteraction(this._interaction);\n    this._interaction.setActive(false);\n  }\n\n  /** @since 3.8.0 */\n  this.dispatchEvent({ type: 'setMap', map: map });\n};\n\nproto._handleClick = function (evt) {\n  if (this._enabled) {\n    this.toggle();\n    Control.prototype._handleClick.call(this, evt);\n  }\n};\n\nproto.getInteraction = function () {\n  return this._interaction;\n};\n\n/**\n * Method to set filter operation intersect or Contains\n */\nproto.setSpatialMethod = function () {\n  var method = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'intersects';\n\n  this.spatialMethod = method;\n  this.dispatchEvent({\n    type: 'change-spatial-method',\n    spatialMethod: this.spatialMethod\n  });\n};\n\nproto.getSpatialMethod = function () {\n  return this.spatialMethod;\n};\n\nproto.setLayers = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n};\n\n/**\n * @param { unknown | null } layer\n *\n * @since 3.8.0\n */\nproto.setSelectedLayer = function (layer) {\n  _mapControls2.default.setSelectedLayer(layer);\n};\n\n/**\n * @since 3.8.0\n */\nproto.getSelectedLayer = function () {\n  return _mapControls2.default.getSelectedLayer();\n};\n\n/**\n * @since 3.8.0\n */\nproto.getExternalLayers = function () {\n  return _mapControls2.default.getExternalLayers();\n};\n\n/**\n * @param { 'intersects' | 'within' } spatialMethod\n * \n * @listens change-spatial-method\n * \n * @since 3.8.0\n */\nproto.handleChangeSpatialMethod = function (spatialMethod) {\n  var _this5 = this;\n\n  var eventKey = null;\n\n  var unlistenSpatialMethodChange = function unlistenSpatialMethodChange() {\n    ol.Observable.unByKey(eventKey);\n    eventKey = null;\n  };\n\n  this.on('toggled', function (_ref2) {\n    var toggled = _ref2.toggled;\n\n    if (true === toggled) {\n      eventKey = _this5.on('change-spatial-method', _this5.runSpatialQuery);\n    } else if (null !== eventKey) {\n      unlistenSpatialMethodChange();\n      // reset to default\n      _this5.setSpatialMethod(spatialMethod);\n      _this5.clear();\n    }\n  });\n};\n\n/**\n * @since 3.8.0\n */\nproto.watchLayer = function (expOrFn, callback) {\n  return _constants.VM.$watch(expOrFn, callback);\n};\n\n/**\n * @returns {boolean}\n *\n * @since 3.8.0\n */\nproto.isSelectedLayerVisible = function () {\n  return 'function' === typeof this.getSelectedLayer().isVisible ? this.getSelectedLayer().isVisible() // in case of a project project\n  : this.getSelectedLayer().visible // in case of external layer\n  ;\n};\n\n/**\n * @returns {boolean} whether at least one of stored `this.layers` is visible\n *\n * @since 3.8.0\n */\nproto.hasVisibleProjectLayer = function () {\n  return !!(this.layers.length > 0 && this.layers.find(function (layer) {\n    return layer.isVisible();\n  }));\n};\n\n/**\n * @returns {boolean} whether at least one of stored `this.getExternalLayers()` is visible\n *\n * @since 3.8.0\n */\nproto.hasVisibleExternalLayer = function () {\n  var _this6 = this;\n\n  return !!this.getExternalLayers().find(function (layer) {\n    return layer !== _this6.layer && true === layer.visible;\n  });\n};\n\n/**\n * @returns {boolean} whether at least one of stored `this.layers` or `this.getExternalLayers()` is visible\n * \n * @since 3.8.0\n */\nproto.hasVisibleLayers = function () {\n  return !!(this.hasVisibleProjectLayer() || this.hasVisibleExternalLayer());\n};\n\n/**\n * @returns {boolean} whether selectedLayer is not external\n * \n * @since 3.8.0\n */\nproto.addExternalLayerToResult = function () {\n  var _this7 = this;\n\n  return null === this.getSelectedLayer() || \"undefined\" !== typeof this.getExternalLayers().find(function (layer) {\n    return layer === _this7.getSelectedLayer();\n  });\n};\n\n/**\n * @returns {boolean}\n * \n * @since 3.8.0\n */\nproto.isExternalLayerSelected = function () {\n  var _this8 = this;\n\n  return null !== this.getSelectedLayer() && \"undefined\" !== typeof this.getExternalLayers().find(function (layer) {\n    return layer === _this8.getSelectedLayer();\n  });\n};\n\nmodule.exports = InteractionControl;\n\n},{\"core/i18n/i18n.service\":13,\"g3w-ol/constants\":74,\"g3w-ol/controls/control\":78,\"services/gui\":358,\"store/map-controls\":373}],83:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar LenghtIteraction = require('g3w-ol/interactions/lengthinteraction');\nvar MeasureControl = require('g3w-ol/controls/measurecontrol');\n\nvar LengthControl = function LengthControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    tipLabel: \"sdk.mapcontrols.measures.length.tooltip\",\n    label: '\\uE908',\n    clickmap: true, // set ClickMap\n    interactionClass: LenghtIteraction\n  };\n\n  options = utils.merge(options, _options);\n  MeasureControl.call(this, options);\n};\n\nol.inherits(LengthControl, MeasureControl);\n\nmodule.exports = LengthControl;\n\n},{\"core/utils/ol\":65,\"g3w-ol/controls/measurecontrol\":84,\"g3w-ol/interactions/lengthinteraction\":102}],84:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar MeasureControl = function MeasureControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._map = null;\n  InteractionControl.call(this, options);\n};\n\nol.inherits(MeasureControl, InteractionControl);\n\nvar proto = MeasureControl.prototype;\n\n/**\n * @param {ol.Map} map \n */\nproto.setMap = function (map) {\n  InteractionControl.prototype.setMap.call(this, map);\n};\n\n/**\n * @param {boolean} toggle \n */\nproto.toggle = function (toggle) {\n\n  InteractionControl.prototype.toggle.call(this, toggle);\n\n  // clean up measurements (if it was activated)\n  if (!this.isToggled() && this.getInteraction()) {\n    this.getInteraction().clear();\n  }\n};\n\nmodule.exports = MeasureControl;\n\n},{\"g3w-ol/controls/interactioncontrol\":82}],85:[function(require,module,exports){\nvar MousePositionControl = function MousePositionControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.target = options.target || 'mouse-position-control';\n  ol.control.MousePosition.call(this, options);\n};\n\nol.inherits(MousePositionControl, ol.control.MousePosition);\n\nmodule.exports = MousePositionControl;\n\nvar proto = MousePositionControl.prototype;\n\nproto.offline = true;\n\nproto.setEnable = function (bool) {\n  bool ? $(this.element) : $(this.element);\n};\n\nproto.setMap = function (map) {\n  if (map) {\n    $(this.element).removeClass('ol-control');\n    ol.control.MousePosition.prototype.setMap.call(this, map);\n  }\n};\n\n},{}],86:[function(require,module,exports){\nvar OLControl = function OLControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._control = null;\n  this.positionCode = options.position || 'tl';\n  switch (options.type) {\n    case 'zoom':\n      this._control = new ol.control.Zoom(options);\n      break;\n    case 'zoomtoextent':\n      this._control = new ol.control.ZoomToExtent(options);\n      break;\n    case 'scaleline':\n      this._control = new ol.control.ScaleLine(options);\n      break;\n    case 'overview':\n      this._control = new ol.control.OverviewMap(options);\n      break;\n  }\n\n  $(this._control.element).addClass(\"ol-control-\" + this.positionCode);\n\n  ol.control.Control.call(this, {\n    element: this._control.element\n  });\n};\n\n// subclass of OpenLayer Control\nol.inherits(OLControl, ol.control.Control);\n\nmodule.exports = OLControl;\n\nvar proto = OLControl.prototype;\n\nproto.offline = true;\n\n/**\n * Return Ol Control\n * @returns {*}\n */\nproto.getOlControl = function () {\n  return this._control;\n};\n\nproto.getPosition = function (positionCode) {\n  positionCode = positionCode || this.positionCode;\n  var position = {};\n  position['top'] = positionCode.indexOf('t') > -1 ? true : false;\n  position['left'] = positionCode.indexOf('l') > -1 ? true : false;\n  return position;\n};\n\nproto.layout = function (map) {\n  if (map) {\n    var position = this.getPosition();\n    var viewPort = map.getViewport();\n    var previusControls = $(viewPort).find('.ol-control-' + this.positionCode);\n    if (previusControls.length) {\n      previusControl = previusControls.last();\n      var previousOffset = position.left ? previusControl.position().left : previusControl.position().right;\n      var hWhere = position.left ? 'left' : 'right';\n      var previousWidth = previusControl[0].offsetWidth;\n      var hOffset = $(this.element).position()[hWhere] + previousOffset + previousWidth + 2;\n      $(this.element).css(hWhere, hOffset + 'px');\n    }\n  }\n};\n\nproto.changelayout = function () {};\n\nproto.showHide = function () {\n  $(this.element).toggle();\n};\n\nproto.setMap = function (map) {\n  this.layout(map);\n  this._control.setMap(map);\n};\n\n},{}],87:[function(require,module,exports){\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Control = require('g3w-ol/controls/control');\n\nfunction OnClickControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._originalonlick = null;\n  this._onclick = options.onclick;\n  Control.call(this, options);\n}\n\nol.inherits(OnClickControl, Control);\n\nvar proto = OnClickControl.prototype;\n\nproto.overwriteOnClickEvent = function (clickHandler) {\n  this._originalonlick = this._originalonlick || this._onclick;\n  this._onclick = clickHandler;\n};\n\nproto.resetOriginalOnClickEvent = function () {\n  this._onclick = this._originalonlick || this._onclick;\n  this._originalonlick = null;\n};\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  Control.prototype.setMap.call(this, map);\n  var controlElement = $(this.element);\n  var buttonControl = controlElement.children('button');\n  var cliccked = false;\n  controlElement.on('click', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (cliccked) {\n              _context.next = 9;\n              break;\n            }\n\n            cliccked = true;\n            buttonControl.addClass('g3w-ol-disabled');\n            _context.t0 = _this._onclick;\n\n            if (!_context.t0) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 7;\n            return _this._onclick();\n\n          case 7:\n            buttonControl.removeClass('g3w-ol-disabled');\n            cliccked = false;\n\n          case 9:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  })));\n};\n\nmodule.exports = OnClickControl;\n\n},{\"g3w-ol/controls/control\":78}],88:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constants = require('g3w-ol/constants');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\n/**\n * Catalog layers (TOC) properties that need to be satisfied\n */\nvar layersFilterObject = {\n  SELECTED_OR_ALL: true, // selected or all\n  FILTERABLE: true, // see: src/app/core/layers/layer.js#L925\n  VISIBLE: true // need to be visible\n};\n\nvar condition = {\n  filtrable: {\n    ows: 'WFS'\n  }\n};\n\nvar QueryBBoxControl = function QueryBBoxControl() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$spatialMetho = options.spatialMethod,\n      spatialMethod = _options$spatialMetho === undefined ? _constants.SPATIALMETHODS[0] : _options$spatialMetho;\n\n  /**\n   * @FIXME add description\n   */\n\n  this._startCoordinate = null;\n\n  /**\n   * @FIXME add description\n   */\n  this.unwatches = [];\n\n  /**\n   * @FIXME add description\n   */\n  var layers = _gui2.default.getService('map').filterableLayersAvailable(condition) || [];\n  layers.forEach(function (layer) {\n    return layer.setTocHighlightable(true);\n  });\n\n  var _options = _extends({}, options, {\n    layers: layers,\n    offline: false,\n    name: \"querybbox\",\n    tipLabel: \"sdk.mapcontrols.querybybbox.tooltip\",\n    label: options.label || '\\uE902',\n    clickmap: true, // set ClickMap\n    interactionClass: ol.interaction.DragBox,\n    onhover: true,\n    toggledTool: {\n      type: 'spatialMethod',\n      how: 'toggled' // or hover\n    },\n    spatialMethod: spatialMethod,\n    help: {\n      title: \"sdk.mapcontrols.querybybbox.help.title\",\n      message: \"sdk.mapcontrols.querybybbox.help.message\"\n    }\n  });\n\n  InteractionControl.call(this, _options);\n\n  this.setEnable(this.hasVisibleLayers());\n\n  /**\n   * Store bbox coordinates\n   * \n   * @type {ol.coordinate}\n   */\n  this.bbox = null;\n\n  /**\n   * Set `layer.tochighlightable` to external layer to show highlight class\n   * \n   * @since 3.8.0\n   */\n  this.on('toggled', function (_ref) {\n    var toggled = _ref.toggled;\n\n    _this.getExternalLayers().forEach(function (layer) {\n      return layer.tochighlightable = toggled;\n    });\n  });\n};\n\nol.inherits(QueryBBoxControl, InteractionControl);\n\nvar proto = QueryBBoxControl.prototype;\n\n/**\n * @deprecated since 3.7\n * \n * @param layers\n */\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n  this.setEnable(this.hasVisibleLayers());\n  this.listenLayersVisibilityChange();\n};\n\nproto.checkVisible = function () {\n  return this.layers.length > 0 || this.getExternalLayers().length > 0;\n};\n\n/**\n * @param {ol.Map} map\n * \n * @listens ol.interaction.DragBox~boxstart\n * @listens ol.interaction.DragBox~boxend\n */\nproto.setMap = function (map) {\n  var _this2 = this;\n\n  InteractionControl.prototype.setMap.call(this, map);\n\n  this._interaction.on('boxstart', function (evt) {\n    return _this2._startCoordinate = evt.coordinate;\n  });\n\n  this._interaction.on('boxend', throttle(function (evt) {\n\n    _this2.bbox = ol.extent.boundingExtent([_this2._startCoordinate, evt.coordinate]);\n\n    _this2.dispatchEvent({ type: 'bboxend', extent: _this2.bbox });\n\n    _this2._startCoordinate = null;\n\n    if (_this2._autountoggle) {\n      _this2.toggle();\n    }\n  }));\n\n  this.setEventKey({\n    eventType: 'bboxend',\n    eventKey: this.on('bboxend', this.runSpatialQuery)\n  });\n};\n\n/**\n * @since 3.8.0\n */\nproto.onSelectLayer = function (layer) {\n  if (layer) {\n    var findLayer = this.layers.find(function (_layer) {\n      return _layer === layer;\n    });\n    this.setEnable(!!findLayer && findLayer.isVisible());\n  } else {\n    this.setEnable(this.hasVisibleLayers());\n  }\n  this.toggle(this.isToggled() && this.getEnable());\n};\n\n/**\n * @since 3.8.0\n */\nproto.listenLayersVisibilityChange = function () {\n  var _this3 = this;\n\n  this.unwatches.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatches.splice(0);\n  this.layers.forEach(function (layer) {\n    _this3.unwatches.push(_this3.watchLayer(function () {\n      return layer.state.visible;\n    }, function (visible) {\n      if (true === layer.state.selected) {\n        _this3.setEnable(visible);\n      } else {\n        _this3.setEnable(_this3.hasVisibleLayers());\n      }\n      _this3.toggle(_this3.isToggled() && _this3.getEnable());\n    }));\n  });\n};\n\n/**\n * @returns {Promise<void>}\n * \n * @since 3.8.0\n */\nproto.runSpatialQuery = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref3, _ref3$data, data;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!(null === this.bbox)) {\n            _context.next = 2;\n            break;\n          }\n\n          return _context.abrupt('return');\n\n        case 2:\n          _gui2.default.closeOpenSideBarComponent();\n          _context.prev = 3;\n          _context.next = 6;\n          return _data2.default.getData('query:bbox', {\n            inputs: {\n              bbox: this.bbox,\n              feature_count: _projects2.default.getCurrentProject().getQueryFeatureCount(),\n              addExternal: this.addExternalLayerToResult(),\n              layersFilterObject: layersFilterObject,\n              filterConfig: {\n                spatialMethod: this.getSpatialMethod() // added spatial method to polygon filter\n              },\n              condition: condition,\n              multilayers: _projects2.default.getCurrentProject().isQueryMultiLayers(this.name)\n            }\n          });\n\n        case 6:\n          _ref3 = _context.sent;\n          _ref3$data = _ref3.data;\n          data = _ref3$data === undefined ? [] : _ref3$data;\n          _context.next = 14;\n          break;\n\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context['catch'](3);\n\n          console.warn('Error running spatial query: ', _context.t0);\n\n        case 14:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[3, 11]]);\n}));\n\n/**\n * @param {{ layer, unWatches }}\n * \n * @since 3.8.0\n */\nproto.onAddExternalLayer = function (_ref4) {\n  var _this4 = this;\n\n  var layer = _ref4.layer,\n      unWatches = _ref4.unWatches;\n\n  //set layer property\n  layer.tochighlightable = this.isToggled() && this.getEnable();\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.selected;\n  }, // watch `layer.selected` property\n  function (selected) {\n    _this4.setEnable(true === selected ? layer.visible : _this4.hasVisibleLayers());\n    _this4.toggle(_this4.isToggled() && _this4.getEnable());\n  }));\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.visible;\n  }, // watch `layer.visible` property\n  function () {\n    _this4.setEnable(_this4.hasVisibleLayers());\n    _this4.toggle(_this4.isToggled() && _this4.getEnable());\n  }));\n\n  this.setEnable(this.hasVisibleLayers());\n};\n\n/**\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function () {\n  this.setEnable(this.isThereVisibleLayerNotSelected());\n};\n\n/**\n * @since 3.8.0\n */\nproto.clear = function () {\n  this.bbox = null;\n};\n\nmodule.exports = QueryBBoxControl;\n\n},{\"core/utils/utils\":67,\"g3w-ol/constants\":74,\"g3w-ol/controls/interactioncontrol\":82,\"services/data\":355,\"services/gui\":358,\"store/projects\":376}],89:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file\n                                                                                                                                                                                                                                                                   * @since v3.8\n                                                                                                                                                                                                                                                                   */\n\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar BaseQueryPolygonControl = require('g3w-ol/controls/basequerypolygoncontrol');\n\nvar QueryByDrawPolygonControl = function QueryByDrawPolygonControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var layers = _gui2.default.getService('map').filterableLayersAvailable({\n    filtrable: {\n      ows: 'WFS'\n    }\n  }) || [];\n\n  var _options = _extends({}, options, {\n    name: \"querybydrawpolygon\",\n    tipLabel: \"sdk.mapcontrols.querybydrawpolygon.tooltip\",\n    customClass: _gui2.default.getFontClass('draw'),\n    clickmap: true, // set ClickMap\n    interactionClass: ol.interaction.Draw,\n    interactionClassOptions: {\n      type: 'Polygon'\n    },\n    layers: layers,\n    help: {\n      title: \"sdk.mapcontrols.querybybbox.help.title\",\n      message: \"sdk.mapcontrols.querybybbox.help.message\"\n    }\n  });\n\n  BaseQueryPolygonControl.call(this, _options);\n  this.setEnable(this.hasVisibleLayers());\n\n  /**\n   * Store drawed ol.Feature\n   */\n  this.feature = null;\n};\n\nol.inherits(QueryByDrawPolygonControl, BaseQueryPolygonControl);\n\nvar proto = QueryByDrawPolygonControl.prototype;\n\n/**\n * @param {ol.Map} map\n * \n * @listens ol.interaction.Draw~drawend\n */\nproto.setMap = function (map) {\n  var _this = this;\n\n  BaseQueryPolygonControl.prototype.setMap.call(this, map);\n\n  this._interaction.on('drawend', throttle(function (evt) {\n    _this.feature = evt.feature;\n    _this.dispatchEvent({ type: 'drawend', feature: _this.feature });\n    if (_this._autountoggle) {\n      _this.toggle();\n    }\n  }));\n\n  this.setEventKey({\n    eventType: 'drawend',\n    eventKey: this.on('drawend', this.runSpatialQuery)\n  });\n};\n\n/**\n * @since 3.8.0\n */\nproto.onSelectLayer = function (layer) {\n  if (layer) {\n    var findLayer = this.layers.find(function (_layer) {\n      return _layer === layer;\n    });\n    this.setEnable(!!findLayer && findLayer.isVisible());\n  } else {\n    this.setEnable(this.hasVisibleLayers());\n  }\n  this.toggle(this.isToggled() && this.getEnable());\n};\n\n/**\n * @param { unknown | null } layer\n *\n * @since 3.8.0\n */\nproto.listenLayersVisibilityChange = function () {\n  var _this2 = this;\n\n  this.unwatches.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatches.splice(0);\n  this.layers.forEach(function (layer) {\n    _this2.unwatches.push(_this2.watchLayer(function () {\n      return layer.state.visible;\n    }, function (visible) {\n      // check if a selectedLayer i set\n      if (null === _this2.getSelectedLayer()) {\n        _this2.setEnable(_this2.hasVisibleLayers());\n      } else {\n        // enable control only if current changed visible layer is true or\n        // if at least one layer (not selected) is visible\n        _this2.setEnable(_this2.isSelectedLayerVisible());\n      }\n      _this2.toggle(_this2.isToggled() && _this2.getEnable());\n    }));\n  });\n};\n\n/**\n * @param {{ layer, unWatches }}\n * \n * @since 3.8.0\n */\nproto.onAddExternalLayer = function (_ref) {\n  var _this3 = this;\n\n  var layer = _ref.layer,\n      unWatches = _ref.unWatches;\n\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.selected;\n  }, // watch `layer.selected` property\n  function (selected) {\n    _this3.setEnable(true === selected ? layer.visible : _this3.hasVisibleLayers());\n    _this3.toggle(_this3.isToggled() && _this3.getEnable());\n  }));\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.visible;\n  }, // watch `layer.visible` property\n  function (visible) {\n    _this3.setEnable(true === layer.selected ? visible : _this3.hasVisibleLayers());\n    _this3.toggle(_this3.isToggled() && _this3.getEnable());\n  }));\n\n  this.setEnable(this.hasVisibleLayers());\n};\n\n/**\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function () {\n  this.setEnable(this.hasVisibleLayers());\n};\n\n/**\n * @returns {Promise<void>}\n * \n * @since 3.8.0\n */\nproto.runSpatialQuery = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _gui2.default.closeOpenSideBarComponent();\n\n          _context.prev = 1;\n          _context.next = 4;\n          return _data2.default.getData('query:polygon', {\n            inputs: {\n              layerName: 'Draw',\n              feature: this.feature,\n              excludeSelected: null === this.getSelectedLayer(),\n              external: {\n                add: this.addExternalLayerToResult(),\n                filter: {\n                  SELECTED: this.isExternalLayerSelected()\n                }\n              },\n              filterConfig: {\n                spatialMethod: this.getSpatialMethod()\n              },\n              multilayers: _projects2.default.getCurrentProject().isQueryMultiLayers(this.name)\n            },\n            outputs: {\n              show: function show(_ref3) {\n                var _ref3$error = _ref3.error,\n                    error = _ref3$error === undefined ? false : _ref3$error;\n\n                return !error;\n              }\n            }\n          });\n\n        case 4:\n          _context.next = 9;\n          break;\n\n        case 6:\n          _context.prev = 6;\n          _context.t0 = _context['catch'](1);\n\n          console.warn(_context.t0);\n\n        case 9:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[1, 6]]);\n}));\n\n/**\n * @since 3.8.0\n */\nproto.clear = function () {\n  this.feature = null;\n};\n\nmodule.exports = QueryByDrawPolygonControl;\n\n},{\"core/utils/utils\":67,\"g3w-ol/controls/basequerypolygoncontrol\":77,\"services/data\":355,\"services/gui\":358,\"store/projects\":376}],90:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar _require2 = require('core/utils/geo'),\n    getMapLayersByFilter = _require2.getMapLayersByFilter,\n    Geometry = _require2.Geometry;\n\nvar BaseQueryPolygonControl = require('g3w-ol/controls/basequerypolygoncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar VALIDGEOMETRIES = Geometry.getAllPolygonGeometryTypes();\n\nvar condition = {\n  filtrable: {\n    ows: 'WFS'\n  }\n};\n\nvar QueryByPolygonControl = function QueryByPolygonControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\n  var controlQuerableLayers = getMapLayersByFilter({ QUERYABLE: true, SELECTED_OR_ALL: true });\n  var controlFiltrableLayers = _gui2.default.getService('map').filterableLayersAvailable(condition);\n\n  var _options = _extends({}, options, {\n    offline: false,\n    enabled: false,\n    name: \"querybypolygon\",\n    tipLabel: \"sdk.mapcontrols.querybypolygon.tooltip\",\n    label: options.label || '\\uE903',\n    interactionClass: PickCoordinatesInteraction,\n    layers: controlFiltrableLayers.length ? [].concat(_toConsumableArray(new Set([].concat(_toConsumableArray(controlFiltrableLayers), _toConsumableArray(controlQuerableLayers))))) : [],\n    help: {\n      title: \"sdk.mapcontrols.querybypolygon.help.title\",\n      message: \"sdk.mapcontrols.querybypolygon.help.message\"\n    }\n  });\n\n  BaseQueryPolygonControl.call(this, _options);\n\n  /**\n   * Data needed to runSpatialQuery\n   */\n  this.data = {\n    layer: null,\n    feature: null,\n    coordinates: null\n  };\n};\n\nol.inherits(QueryByPolygonControl, BaseQueryPolygonControl);\n\nvar proto = QueryByPolygonControl.prototype;\n\n/**\n * @deprecated since 3.7.0. Will be removed in 3.9.0\n * \n * @param {unknown[]} layers\n */\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n  this.setEnable(false);\n  this.listenLayersVisibilityChange();\n};\n\n/**\n * Check visibiliy of control\n * \n * @param layers\n * \n * @returns {boolean}\n */\nproto.checkVisibile = function (layers) {\n  // if no layer or just one\n  if (!layers.length || 1 === layers.length) {\n    return false;\n  }\n\n  // get all layers that haven't the geometries above filterable\n  var filterableLayers = layers.filter(function (layer) {\n    return layer.isFilterable();\n  });\n  // get all layer that have the valid geometries\n  var queryableLayers = layers.filter(function (layer) {\n    return -1 !== VALIDGEOMETRIES.indexOf(layer.getGeometryType());\n  });\n\n  if (1 === queryableLayers.length && 1 === filterableLayers.length) {\n    return filterableLayers[0] !== queryableLayers[0];\n  }\n\n  return queryableLayers.length > 0 && filterableLayers.length > 0;\n};\n\n/**\n * @param {ol.Map} map \n * \n * @listens PickCoordinatesInteraction~picked\n */\nproto.setMap = function (map) {\n  var _this = this;\n\n  BaseQueryPolygonControl.prototype.setMap.call(this, map);\n\n  this._interaction.on('picked', throttle(function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(evt) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.data.coordinates = evt.coordinate;\n\n              _this.dispatchEvent({ type: 'picked', coordinates: _this.data.coordinates });\n\n              if (_this._autountoggle) {\n                _this.toggle();\n              }\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, _this);\n    }));\n\n    return function (_x3) {\n      return _ref.apply(this, arguments);\n    };\n  }()));\n\n  this.setEventKey({\n    eventType: 'picked',\n    eventKey: this.on('picked', this.getPolygonFeatureFromCoordinates)\n  });\n\n  this.setEnable(false);\n};\n\n/**\n * @param layer\n * \n * @since 3.8.0\n */\nproto.onSelectLayer = function (layer) {\n  if (layer && layer.isQueryable() && -1 !== this.getGeometryTypes().indexOf(layer.getGeometryType())) {\n    this.setEnable(this.isThereVisibleLayerNotSelected());\n    this.toggle(this.isToggled() && this.getEnable());\n  } else {\n    this.setEnable(false);\n    this.toggle(false);\n  }\n};\n\n/**\n * @since 3.8.0 \n */\nproto.listenLayersVisibilityChange = function () {\n  var _this2 = this;\n\n  this.unwatches.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatches.splice(0);\n  this.layers.forEach(function (layer) {\n    _this2.unwatches.push(_this2.watchLayer(function () {\n      return layer.state.visible;\n    }, function (visible) {\n      if (layer === _this2.getSelectedLayer()) {\n        _this2.setEnable(visible && _this2.isThereVisibleLayerNotSelected());\n      } else {\n        _this2.setEnable(_this2.isThereVisibleLayerNotSelected());\n      }\n      // enable control only if current changed visible layer is true or\n      // if at least one layer (not selected) is visible\n      _this2.toggle(_this2.isToggled() && _this2.getEnable());\n    }));\n  });\n};\n\n/**\n * @returns {Promise<boolean>}\n * \n * @since 3.8.0\n */\nproto.getPolygonFeatureFromCoordinates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var _ref3, _ref3$data, data;\n\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _gui2.default.closeOpenSideBarComponent();\n\n          // ask for coordinates\n          _context2.prev = 1;\n          _context2.next = 4;\n          return _data2.default.getData('query:coordinates', {\n            inputs: {\n              feature_count: _projects2.default.getCurrentProject().getQueryFeatureCount(),\n              coordinates: this.data.coordinates\n            },\n            outputs: {\n              // whether to show picked coordinates on map\n              show: function show(_ref4) {\n                var _ref4$data = _ref4.data,\n                    data = _ref4$data === undefined ? [] : _ref4$data,\n                    query = _ref4.query;\n\n                var show = data.length === 0;\n                // set query coordinates to null in case to avoid `externalvector` added to query response\n                query.coordinates = show ? query.coordinates : null;\n                return show;\n              }\n            }\n          });\n\n        case 4:\n          _ref3 = _context2.sent;\n          _ref3$data = _ref3.data;\n          data = _ref3$data === undefined ? [] : _ref3$data;\n\n          if (data.length && data[0].features.length) {\n            this.data.feature = data[0].features[0];\n            this.data.layer = data[0].layer;\n            this.runSpatialQuery();\n          }\n          _context2.next = 13;\n          break;\n\n        case 10:\n          _context2.prev = 10;\n          _context2.t0 = _context2['catch'](1);\n\n          console.warn('Error running spatial query:', _context2.t0);\n\n        case 13:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this, [[1, 10]]);\n}));\n\n/**\n * @returns {boolean} whether at least a visible layer not selected\n * \n * @since 3.8.0\n */\nproto.isThereVisibleLayerNotSelected = function () {\n  var _this3 = this;\n\n  return !!(\n  // check if user has selected a layer\n  this.getSelectedLayer() &&\n  // check if current selected layer is visible\n  this.isSelectedLayerVisible() && (\n  // check if at least one layer is visible (project or external layer)\n  !!this.layers.find(function (layer) {\n    return layer !== _this3.getSelectedLayer() && layer.isVisible() && layer.isFilterable(condition.filtrable);\n  }) || this.getExternalLayers().find(function (layer) {\n    return layer !== _this3.getSelectedLayer() && true === layer.visible;\n  })));\n};\n\n/**\n * @deprecated since v3.8.0. Will be removed in v4.0.0. Use `QueryByPolygonControl::listenLayersVisibilityChange()` instead.\n */\nproto.listenPolygonLayersChange = function () {\n  this.listenLayersVisibilityChange();\n};\n\n/**\n * @param {{ layer, unWatches }}\n * \n * @since 3.8.0\n */\nproto.onAddExternalLayer = function (_ref5) {\n  var _this4 = this;\n\n  var layer = _ref5.layer,\n      unWatches = _ref5.unWatches;\n\n\n  // watch `layer.selected` property only on Polygon layers (in order to enable/disable map control)\n  if (Geometry.isPolygonGeometryType(layer.geometryType)) {\n    unWatches.push(this.watchLayer(function () {\n      return layer.selected;\n    }, // watch `layer.selected` property\n    function (selected) {\n      if (true === selected) {\n        _this4.setEnable(layer.visible && _this4.isThereVisibleLayerNotSelected());\n      } else {\n        _this4.setEnable(false);\n      }\n      _this4.toggle(_this4.isToggled() && _this4.getEnable());\n    }));\n\n    unWatches.push(this.watchLayer(function () {\n      return layer.visible;\n    }, // watch `layer.visible` property\n    function (visible) {\n      if (layer.selected) {\n        _this4.setEnable(visible && _this4.isThereVisibleLayerNotSelected());\n      } else {\n        _this4.setEnable(_this4.isThereVisibleLayerNotSelected());\n      }\n      _this4.toggle(_this4.isToggled() && _this4.getEnable());\n    }));\n  }\n\n  this.setEnable(this.isThereVisibleLayerNotSelected());\n};\n\n/**\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function () {\n  this.setEnable(this.isThereVisibleLayerNotSelected());\n};\n\n/**\n * Execute query Polygon request to server\n * \n * @since 3.8.0\n */\nproto.runSpatialQuery = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref7, _ref7$data, data;\n\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (null !== this.data.coordinates && null !== this.data.feature && null !== this.data.layer) {\n            _context3.next = 2;\n            break;\n          }\n\n          return _context3.abrupt('return');\n\n        case 2:\n          _context3.next = 4;\n          return _data2.default.getData('query:polygon', {\n            inputs: {\n              layerName: this.data.layer.getName ? this.data.layer.getName() : this.data.layer.get('name'),\n              excludeSelected: true,\n              feature: this.data.feature,\n              external: {\n                add: true,\n                filter: {\n                  SELECTED: false\n                }\n              },\n              filterConfig: {\n                spatialMethod: this.getSpatialMethod() // added spatial method to polygon filter\n              },\n              multilayers: _projects2.default.getCurrentProject().isQueryMultiLayers(this.name)\n            },\n            outputs: {\n              show: function show(_ref8) {\n                var _ref8$error = _ref8.error,\n                    error = _ref8$error === undefined ? false : _ref8$error;\n\n                return !error;\n              }\n            }\n          });\n\n        case 4:\n          _ref7 = _context3.sent;\n          _ref7$data = _ref7.data;\n          data = _ref7$data === undefined ? [] : _ref7$data;\n\n        case 7:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this);\n}));\n\n/**\n * @since v3.8.0\n */\nproto.clear = function () {\n  this.data.layer = this.data.feature = this.data.coordinates = null;\n};\n\nmodule.exports = QueryByPolygonControl;\n\n},{\"core/utils/geo\":64,\"core/utils/utils\":67,\"g3w-ol/controls/basequerypolygoncontrol\":77,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"services/data\":355,\"services/gui\":358,\"store/projects\":376}],91:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar utils = require('core/utils/ol');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar QueryControl = function QueryControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    offline: false,\n    name: \"querylayer\",\n    tipLabel: \"sdk.mapcontrols.query.tooltip\",\n    label: options.label || '\\uEA0F',\n    clickmap: true, // set ClickMap\n    interactionClass: PickCoordinatesInteraction\n  };\n\n  options = utils.merge(options, _options);\n\n  InteractionControl.call(this, options);\n};\n\nol.inherits(QueryControl, InteractionControl);\n\nvar proto = QueryControl.prototype;\n\n/**\n * @param {ol.Map} map\n * \n * @listens InteractionControl~toggled\n */\nproto.setMap = function (map) {\n  var _this = this;\n\n  var eventSingleClickKey = null;\n\n  this.on('toggled', function (_ref) {\n    var toggled = _ref.toggled;\n\n\n    if (true !== toggled) {\n      ol.Observable.unByKey(eventSingleClickKey);\n      eventSingleClickKey = null;\n    } else if (null === eventSingleClickKey && map) {\n      // register click on map event. It use to dispatch picked event by control\n      eventSingleClickKey = map.on('singleclick', throttle(function (evt) {\n        return _this.dispatchEvent({ type: 'picked', coordinates: evt.coordinate });\n      }));\n    }\n  });\n\n  this.setEventKey({\n    eventType: 'picked',\n    eventKey: this.on('picked', this.runQuery)\n  });\n\n  InteractionControl.prototype.setMap.call(this, map);\n};\n\n/**\n * @since 3.8.0\n * @param event\n */\nproto.runQuery = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2) {\n    var coordinates = _ref2.coordinates;\n    var project;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _gui2.default.closeOpenSideBarComponent();\n            _context.prev = 1;\n            project = _projects2.default.getCurrentProject();\n            _context.next = 5;\n            return _data2.default.getData('query:coordinates', {\n              inputs: {\n                coordinates: coordinates,\n                feature_count: project.getQueryFeatureCount(),\n                query_point_tolerance: project.getQueryPointTolerance(),\n                multilayers: project.isQueryMultiLayers(this.name)\n              }\n            });\n\n          case 5:\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context['catch'](1);\n\n            console.warn('Error running spatial query: ', _context.t0);\n\n          case 10:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[1, 7]]);\n  }));\n\n  return function (_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nmodule.exports = QueryControl;\n\n},{\"core/utils/ol\":65,\"core/utils/utils\":67,\"g3w-ol/controls/interactioncontrol\":82,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"services/data\":355,\"services/gui\":358,\"store/projects\":376}],92:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar ResetControl = function ResetControl(options) {\n  this._toggled = true;\n  this._startCoordinate = null;\n  var _options = {\n    name: \"reset\",\n    tipLabel: \"Pan\",\n    label: '\\uE901'\n  };\n  options = utils.merge(options, _options);\n  InteractionControl.call(this, options);\n};\n\nol.inherits(ResetControl, InteractionControl);\n\nmodule.exports = ResetControl;\n\nvar proto = ResetControl.prototype;\n\nproto._postRender = function () {\n  this.toggle(true);\n};\n\n},{\"core/utils/ol\":65,\"g3w-ol/controls/interactioncontrol\":82}],93:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/ol'),\n    getResolutionFromScale = _require2.getResolutionFromScale,\n    getScaleFromResolution = _require2.getScaleFromResolution;\n\nvar ScaleControl = function ScaleControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.isMobile = options.isMobile || false;\n  options.target = 'scale-control';\n  ol.control.Control.call(this, options);\n};\n\nol.inherits(ScaleControl, ol.control.Control);\n\nmodule.exports = ScaleControl;\n\nvar proto = ScaleControl.prototype;\n\nproto.offline = true;\n\n// called from map when layout change\nproto.changelayout = function (map) {\n  var position = this.position;\n  var element = $(this.element);\n};\n\nproto.layout = function (map) {\n  var self = this;\n  var isMapResolutionChanged = false;\n  var selectedOnClick = false;\n  var element = $(this.element);\n  var select2 = element.children('select').select2({\n    tags: true,\n    dropdownParent: $(map.getTargetElement()),\n    width: '120px',\n    height: '20px',\n    language: {\n      noResults: function noResults(params) {\n        return t(\"sdk.mapcontrols.scale.no_valid_scale\");\n      }\n    },\n    minimumResultsForSearch: this.isMobile ? -1 : 0,\n    createTag: function createTag(params) {\n      var newTag = null;\n      var scale = void 0;\n      // Don't offset to create a tag if there is no @ symbol\n      if (params.term.indexOf('1:') !== -1) {\n        // Return null to disable tag creation\n        scale = params.term.split('1:')[1];\n      } else if (Number.isInteger(Number(params.term)) && Number(params.term) > 0) {\n        scale = Number(params.term);\n        if (1 * scale <= self.scales[0]) {\n          newTag = {\n            id: scale,\n            text: '1:' + params.term,\n            new: true\n          };\n          deleteLastCustomScale();\n        }\n      }\n      return newTag;\n    }\n  });\n  //get change mapsize to close\n  map.on('change:size', function () {\n    return select2.select2('close');\n  });\n  function deleteLastCustomScale() {\n    select2.find('option').each(function (index, option) {\n      return self.scales.indexOf(1 * option.value) === -1 && $(option).remove();\n    });\n  }\n\n  function addCustomTag(data) {\n    if (select2.find(\"option[value='\" + data.id + \"']\").length) select2.val(data.id).trigger('change');else {\n      deleteLastCustomScale();\n      var newOption = new Option(data.text, data.id, true, true);\n      select2.append(newOption).trigger('change');\n    }\n  }\n\n  map.on('moveend', function () {\n    if (isMapResolutionChanged) {\n      var view = this.getView();\n      var resolution = view.getResolution();\n      var mapUnits = view.getProjection().getUnits();\n      var scale = parseInt(getScaleFromResolution(resolution, mapUnits));\n      var data = {\n        id: scale,\n        text: '1:' + scale,\n        new: true\n      };\n      addCustomTag(data);\n      isMapResolutionChanged = false;\n    } else selectedOnClick = false;\n  });\n  var setChangeResolutionHandler = function setChangeResolutionHandler() {\n    map.getView().on('change:resolution', function () {\n      return isMapResolutionChanged = !selectedOnClick;\n    });\n  };\n  setChangeResolutionHandler();\n\n  map.on('change:view', function () {\n    return setChangeResolutionHandler();\n  });\n\n  select2.on('select2:select', function (e) {\n    selectedOnClick = true;\n    var data = e.params.data;\n    if (data.new) {\n      deleteLastCustomScale();\n      addCustomTag(data);\n    }\n    var mapUnits = map.getView().getProjection().getUnits();\n    var scale = 1 * data.id;\n    var resolution = getResolutionFromScale(scale, mapUnits);\n    map.getView().setResolution(resolution);\n  });\n};\n\nproto._setScales = function (map) {\n  var mapUnits = map.getView().getProjection().getUnits();\n  var currentResolution = map.getView().getResolution();\n  var currentScale = parseInt(getScaleFromResolution(currentResolution, mapUnits));\n  this.scales = _constant.PRINT_SCALES.map(function (scale) {\n    return scale.value;\n  }).filter(function (scale) {\n    return scale < currentScale;\n  });\n  this.scales.unshift(currentScale);\n  this._createControl();\n};\n\nproto._createControl = function () {\n  var controlDomElement = document.createElement('div');\n  var select = document.createElement('select');\n  var optgroup = document.createElement('optgroup');\n  optgroup.label = '';\n  this.scales.forEach(function (scale, index) {\n    var option = document.createElement('option');\n    option.value = scale;\n    option.text = '1:' + scale;\n    option.selected = index === 0 ? true : false;\n    optgroup.appendChild(option);\n  });\n  select.appendChild(optgroup);\n  if (!this.isMobile) {\n    var optgroup_custom = document.createElement('optgroup');\n    optgroup_custom.label = 'Custom';\n    select.appendChild(optgroup_custom);\n  }\n  controlDomElement.appendChild(select);\n  // set element of control (it is necessary to visualize it)\n  this.element = controlDomElement;\n  $(this.element).css('height', '20px');\n};\n\nproto.setMap = function (map) {\n  if (map) {\n    this._setScales(map);\n    this.layout(map);\n    ol.control.Control.prototype.setMap.call(this, map);\n  }\n};\n\n},{\"app/constant\":4,\"core/i18n/i18n.service\":13,\"core/utils/ol\":65}],94:[function(require,module,exports){\nvar OnClickControl = require('g3w-ol/controls/onclickcontrol');\n\nfunction ScreenshotControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.layers = options.layers || [];\n  var visible = this.checkVisible(this.layers);\n  options.visible = visible;\n  options.name = options.name || \"maptoimage\";\n  options.tipLabel = options.tipLabel || \"Screenshot\";\n  options.label = options.label || \"\\uE90F\";\n  options.toggled = false;\n  OnClickControl.call(this, options);\n}\n\nol.inherits(ScreenshotControl, OnClickControl);\n\nvar proto = ScreenshotControl.prototype;\n\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var visible = this.checkVisible(layers);\n  this.setVisible(visible);\n};\n\nproto.checkVisible = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var find = layers.find(function (layer) {\n    return layer.isExternalWMS ? layer.isExternalWMS() : false;\n  });\n  return !find;\n};\n\nmodule.exports = ScreenshotControl;\n\n},{\"g3w-ol/controls/onclickcontrol\":87}],95:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\nvar utils = require('core/utils/ol');\nvar StreetViewComponent = require('gui/streetview/vue/streetview');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar GoogleStreetViewApiUrl = 'https://maps.googleapis.com/maps/api/';\n\nvar StreetViewControl = function StreetViewControl() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    offline: false,\n    visible: true, // always visible. Only change behavior if exist or not\n    name: \"streetview\",\n    tipLabel: \"StreetView\",\n    clickmap: true, // set ClickMap\n    label: '\\uE905',\n    interactionClass: PickCoordinatesInteraction\n  };\n  /**\n   * Check Google Key\n   * */\n\n  this.key = _applicationState2.default.keys.vendorkeys.google;\n  this.keyError;\n  if (this.key) {\n    XHR.get({\n      url: GoogleStreetViewApiUrl + 'streetview?location=0,0&size=456x456&key=' + this.key\n    }).catch(function (error) {\n      return _this.keyError = error.responseText;\n    });\n  }\n  //get script script\n  $script(GoogleStreetViewApiUrl + 'js?' + (this.key ? 'key=' + this.key : ''));\n\n  /***/\n\n  this._sv = null;\n  this._panorama = null;\n  this._map = null;\n  this._projection = null;\n  this._lastposition = null;\n  this._streetViewFeature = new ol.Feature();\n  var streetVectorSource = new ol.source.Vector({ features: [] });\n  this.active = false;\n  this._layer = new ol.layer.Vector({\n    source: streetVectorSource,\n    style: function style(feature) {\n      var coordinates = feature.getGeometry().getCoordinates();\n      this._lastposition = this._lastposition ? this._lastposition : coordinates;\n      var dx = coordinates[0] - this._lastposition[0];\n      var dy = coordinates[1] - this._lastposition[1];\n      var rotation = -Math.atan2(dy, dx);\n      var styles = [new ol.style.Style({\n        text: new ol.style.Text({\n          text: '\\uE905',\n          font: 'bold 18px icomoon',\n          fill: new ol.style.Fill({\n            color: '#ffffff'\n          })\n        })\n      }), new ol.style.Style({\n        image: new ol.style.Icon({\n          src: '/static/client/images/streetviewarrow.png',\n          rotation: rotation\n        })\n      })];\n      this._lastposition = coordinates;\n      return styles;\n    }\n  });\n\n  options = utils.merge(options, _options);\n\n  InteractionControl.call(this, options);\n};\n\nol.inherits(StreetViewControl, InteractionControl);\n\nvar proto = StreetViewControl.prototype;\n\nproto.setProjection = function (projection) {\n  this._projection = projection;\n};\n\nproto.setPosition = function (position) {\n  var _this2 = this;\n\n  var self = this;\n  this.active = true;\n  var pixel = void 0;\n  if (!this._sv) this._sv = new google.maps.StreetViewService();\n  this._sv.getPanorama({ location: position }, function (data, status) {\n    self._panorama = new google.maps.StreetViewPanorama(document.getElementById('streetview'), {\n      imageDateControl: true\n    });\n    /**\n     * Listen on position change\n    */\n    self._panorama.addListener('position_changed', function () {\n      if (self.isToggled()) {\n        var lnglat = ol.proj.transform([this.getPosition().lng(), this.getPosition().lat()], 'EPSG:4326', self._projection.getCode());\n        self._streetViewFeature.setGeometry(new ol.geom.Point(lnglat));\n        pixel = self._map.getPixelFromCoordinate(lnglat);\n        if (pixel[0] + 15 > self._map.getSize()[0] || pixel[1] + 15 > self._map.getSize()[1] || pixel[0] < 15 || pixel[1] < 15) {\n          self._map.getView().setCenter(lnglat);\n        }\n      }\n    });\n    if (data && data.location) {\n      self._panorama.setPov({\n        pitch: 0,\n        heading: 0\n      });\n\n      self._panorama.setPosition(data.location.latLng);\n    }\n  }).then(function (response) {\n    if (response === undefined) {\n      _gui2.default.closeContent();\n    }\n  }).catch(function () {\n    return _this2.toggle();\n  });\n};\n\nproto.setMap = function (map) {\n  var _this3 = this;\n\n  this._map = map;\n  InteractionControl.prototype.setMap.call(this, map);\n\n  this.setProjection(this._map.getView().getProjection());\n  this._map.addLayer(this._layer);\n\n  this._interaction.on('picked', function (_ref) {\n    var coordinate = _ref.coordinate;\n\n    _this3.showStreetView(coordinate);\n    _this3._autountoggle && _this3.toggle();\n  });\n};\n\n/**\n * Method to show StreetView depending of key and keyError\n * @param coordinate\n */\nproto.showStreetView = function (coordinate) {\n  var _ol$proj$transform = ol.proj.transform(coordinate, this._map.getView().getProjection().getCode(), 'EPSG:4326'),\n      _ol$proj$transform2 = _slicedToArray(_ol$proj$transform, 2),\n      lng = _ol$proj$transform2[0],\n      lat = _ol$proj$transform2[1];\n\n  if (this.key) {\n    _gui2.default.setContent({\n      content: new StreetViewComponent({\n        keyError: this.keyError\n      }),\n      title: 'StreetView'\n    });\n    !this.keyError && this.setPosition({\n      lng: lng, lat: lat\n    });\n  } else {\n    this._streetViewFeature.setGeometry(new ol.geom.Point(coordinate));\n    window.open('https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=' + lat + ',' + lng);\n  }\n};\n\nproto.clearMarker = function () {\n  this._streetViewFeature.setGeometry(null);\n};\n\nproto.clear = function () {\n  this._layer.getSource().clear();\n  this._streetViewFeature.setGeometry(null);\n  this.clearMarker();\n  this._panorama = null;\n  this.active && _gui2.default.closeContent();\n  this.active = false;\n};\n\nproto.toggle = function (toggle) {\n  InteractionControl.prototype.toggle.call(this, toggle);\n  if (!this.isToggled()) this.clear();else this._layer.getSource().addFeatures([this._streetViewFeature]);\n};\n\nmodule.exports = StreetViewControl;\n\n},{\"core/utils/ol\":65,\"core/utils/utils\":67,\"g3w-ol/controls/interactioncontrol\":82,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"gui/streetview/vue/streetview\":180,\"services/gui\":358,\"store/application-state\":370}],96:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TOPOFFSET = 35;\n\nmodule.exports = {\n  layout: function layout(_ref) {\n    var map = _ref.map,\n        position = _ref.position,\n        element = _ref.element;\n  },\n  changeLayoutBottomControl: function changeLayoutBottomControl(_ref2) {\n    var map = _ref2.map,\n        position = _ref2.position,\n        element = _ref2.element,\n        _ref2$isMobile = _ref2.isMobile,\n        isMobile = _ref2$isMobile === undefined ? false : _ref2$isMobile;\n\n    var viewPort = map.getViewport();\n    var positionCode = (position['top'] ? 't' : 'b') + (position['left'] ? 'l' : 'r');\n    var previusControls = $(viewPort).find('.ol-control-' + positionCode + ':visible');\n    if (previusControls.length) {\n      var previusControl = void 0;\n      previusControls.each(function (index, elem) {\n        if (elem != element[0]) previusControl = $(elem);else return false;\n      });\n      if (previusControl && positionCode === 'br') {\n        if (!isMobile) {\n          var previousTopPosition = previusControl.position().top;\n          var elementTopPosition = element.position().top;\n          if (previousTopPosition - elementTopPosition != TOPOFFSET) {\n            var hOffset = previousTopPosition - TOPOFFSET;\n            element.css('top', hOffset + 'px');\n          }\n        } else {\n          var previusControlWidth = previusControl.width();\n          var previousLeftPosition = previusControlWidth < 10 ? 130 : previusControlWidth + 20;\n          element.css('right', previousLeftPosition + 'px');\n          element.css('bottom', '15px');\n        }\n      }\n    }\n  },\n\n  // method to create user message tool fro map control\n  createControlUserMessageTool: function createControlUserMessageTool() {\n    var tool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      hooks: {\n        body: {\n          template: '<div>\\n                <div >\\n                  <input type=\"radio\" name=\"radio\" id=\"g3w-map_theme-0\" class=\"magic-radio\" value=\"view1\">\\n                  <label  for=\"g3w-map_theme-0\" style=\"display: flex; justify-content: space-between;\">\\n                    <span>Intersect</span>\\n                  </label>\\n                </div>\\n                <div>\\n                  <input  type=\"radio\" name=\"radio\" id=\"_cotains\" class=\"magic-radio\" value=\"view2\">\\n                  <label  for=\"g3w-map_theme-1\" style=\"display: flex; justify-content: space-between;\">\\n                    <span>view2</span>\\n                  </label>\\n                </div>\\n              </div>'\n        }\n      },\n      title: 'Scelgli il tipo di operazione'\n    };\n\n    _gui2.default.showUserMessage({\n      type: 'tool',\n      message: tool.message,\n      size: tool.size || 'small', // small, medium\n      title: tool.title || '',\n      hooks: tool.hooks\n    });\n  }\n};\n\n},{\"services/gui\":358}],97:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar ZoomBoxControl = function ZoomBoxControl(options) {\n  this._startCoordinate = null;\n  var _options = {\n    name: \"zoombox\",\n    tipLabel: \"Zoom to box\",\n    label: \"\\uE901\",\n    interactionClass: ol.interaction.DragBox\n  };\n  options = Object.assign({}, options, _options);\n  InteractionControl.call(this, options);\n};\nol.inherits(ZoomBoxControl, InteractionControl);\nmodule.exports = ZoomBoxControl;\n\nvar proto = ZoomBoxControl.prototype;\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  InteractionControl.prototype.setMap.call(this, map);\n  this._interaction.on('boxstart', function (evt) {\n    return _this._startCoordinate = evt.coordinate;\n  });\n\n  this._interaction.on('boxend', function (evt) {\n    var start_coordinate = _this._startCoordinate;\n    var end_coordinate = evt.coordinate;\n    var extent = ol.extent.boundingExtent([start_coordinate, end_coordinate]);\n    _this.dispatchEvent({\n      type: 'zoomend',\n      extent: extent\n    });\n    _this._startCoordinate = null;\n    _this._autountoggle && _this.toggle();\n  });\n};\n\n},{\"g3w-ol/controls/interactioncontrol\":82}],98:[function(require,module,exports){\nvar _MapControlZoomHistory = require(\"components/MapControlZoomHistory.vue\");\n\nvar _MapControlZoomHistory2 = _interopRequireDefault(_MapControlZoomHistory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Control = require('g3w-ol/controls/control');\n\nfunction ZoomHistoryControl() {\n  var vueElement = Vue.extend(_MapControlZoomHistory2.default);\n  Control.call(this, {\n    name: \"zoomhistory\",\n    tipLabel: \"sdk.mapcontrols.addlayer.tooltip\",\n    element: new vueElement().$mount().$el\n  });\n}\n\nol.inherits(ZoomHistoryControl, Control);\n\nvar proto = ZoomHistoryControl.prototype;\n\nproto.setMap = function (map) {\n  Control.prototype.setMap.call(this, map);\n};\n\nproto.layout = function (map) {\n  Control.prototype.layout.call(this, map);\n};\n\nmodule.exports = ZoomHistoryControl;\n\n},{\"components/MapControlZoomHistory.vue\":254,\"g3w-ol/controls/control\":78}],99:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar maphelpers = require('g3w-ol/map/maphelpers');\n\nvar helpers = utils.merge({}, maphelpers);\n\nmodule.exports = {\n  helpers: helpers\n};\n\n},{\"core/utils/ol\":65,\"g3w-ol/map/maphelpers\":108}],100:[function(require,module,exports){\nvar MeasureInteraction = require('g3w-ol/interactions/measureinteraction');\n\n// Area\nvar AreaIteraction = function AreaIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.geometryType = \"Polygon\";\n  MeasureInteraction.call(this, options);\n};\n\nol.inherits(AreaIteraction, MeasureInteraction);\n\nmodule.exports = AreaIteraction;\n\n},{\"g3w-ol/interactions/measureinteraction\":103}],101:[function(require,module,exports){\nvar DeleteInteractionEvent = function DeleteInteractionEvent(type, layer, features, coordinate) {\n  this.type = type;\n  this.features = features;\n  this.coordinate = coordinate;\n};\n\nvar DeleteInteraction = function DeleteInteraction(options) {\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: DeleteInteraction.handleDownEvent_,\n    handleMoveEvent: DeleteInteraction.handleMoveEvent_,\n    handleUpEvent: DeleteInteraction.handleUpEvent_,\n    handleEvent: DeleteInteraction.handleEvent_\n  });\n\n  this.previousCursor_ = undefined;\n  this.startCursor_ = undefined;\n  this.lastCoordinate_ = null;\n  this.features_ = options.features !== undefined ? options.features : null;\n  this.layer_ = options.layer !== undefined ? options.layer : null;\n  this.map_ = null;\n};\n\nol.inherits(DeleteInteraction, ol.interaction.Pointer);\n\nDeleteInteraction.handleEvent_ = function (mapBrowserEvent) {\n  if (mapBrowserEvent.type == 'keydown') {\n    if (this.features_.getArray().length && mapBrowserEvent.originalEvent.keyCode == 46) {\n      // an event can be string or an object with attribute type\n      this.dispatchEvent(new DeleteInteractionEvent('deleteend', this.layer_, this.features_, event.coordinate));\n      return true;\n    }\n  } else {\n    return ol.interaction.Pointer.handleEvent.call(this, mapBrowserEvent);\n  }\n};\n\nDeleteInteraction.handleDownEvent_ = function (event) {\n  this.lastFeature_ = this.featuresAtPixel_(event.pixel, event.map);\n  if (this.lastFeature_) {\n    DeleteInteraction.handleMoveEvent_.call(this, event);\n    this.dispatchEvent(new DeleteInteractionEvent('deleteend', this.layer_, this.features_, event.coordinate));\n    return true;\n  }\n  return false;\n};\n\nDeleteInteraction.handleMoveEvent_ = function (event) {\n  var _this = this;\n\n  this.map_ = event.map;\n  var elem = this.map_.getTargetElement();\n  if (this.startCursor_ === undefined) {\n    this.startCursor_ = elem.style.cursor;\n  }\n  var intersectingFeature = this.map_.forEachFeatureAtPixel(event.pixel, function (feature, layer) {\n    ///check if is the same layero of editing\n    feature = layer == _this.layer_ ? feature : null;\n    return feature;\n  });\n  if (intersectingFeature) {\n    this.previousCursor_ = elem.style.cursor;\n    elem.style.cursor = 'pointer';\n  } else {\n    elem.style.cursor = this.previousCursor_ !== undefined ? this.previousCursor_ : '';\n    this.previousCursor_ = undefined;\n  }\n};\n\nDeleteInteraction.prototype.featuresAtPixel_ = function (pixel, map) {\n  var found = null;\n  var intersectingFeature = map.forEachFeatureAtPixel(pixel, function (feature) {\n    return feature;\n  });\n  if (this.features_ && _.includes(this.features_.getArray(), intersectingFeature)) {\n    found = intersectingFeature;\n  }\n  return found;\n};\n\nDeleteInteraction.prototype.clear = function () {\n  var elem = void 0;\n  if (this.map_) {\n    elem = this.map_.getTargetElement();\n    elem.style.cursor = this.startCursor_;\n  }\n};\n\nmodule.exports = DeleteInteraction;\n\n},{}],102:[function(require,module,exports){\nvar MeasureInteraction = require('g3w-ol/interactions/measureinteraction');\n\n// LenghtInteracion\nvar LengthIteraction = function LengthIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.geometryType = \"LineString\";\n  MeasureInteraction.call(this, options);\n};\n\nol.inherits(LengthIteraction, MeasureInteraction);\n\nmodule.exports = LengthIteraction;\n\n},{\"g3w-ol/interactions/measureinteraction\":103}],103:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/ol'),\n    createMeasureTooltip = _require2.createMeasureTooltip,\n    setMeasureTooltipStatic = _require2.setMeasureTooltipStatic,\n    removeMeasureTooltip = _require2.removeMeasureTooltip,\n    needUseSphereMethods = _require2.needUseSphereMethods;\n\nvar MeasureIteraction = function MeasureIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._helpTooltip;\n  this._measureTooltipElement;\n  this._measureTooltip;\n  this._featureGeometryChangelistener;\n  this._poinOnMapMoveListener;\n  this.testTooltip;\n  this._helpMsg = options.help;\n  this._projection = options.projection;\n  this.feature = options.feature;\n  var drawColor = options.drawColor || 'rgba(0, 0, 0, 0.5)';\n  var useSphereMethods = needUseSphereMethods(this._projection);\n  var measureStyle = new ol.style.Style({\n    fill: new ol.style.Fill({\n      color: 'rgba(255, 255, 255, 0.2)'\n    }),\n    stroke: new ol.style.Stroke({\n      color: drawColor,\n      lineDash: [10, 10],\n      width: 3\n    }),\n    image: new ol.style.Circle({\n      radius: 5,\n      stroke: new ol.style.Stroke({\n        color: 'rgba(0, 0, 0, 0.7)'\n      }),\n      fill: new ol.style.Fill({\n        color: 'rgba(255, 255, 255, 0.2)'\n      })\n    })\n  });\n  var geometryType = options.geometryType || 'LineString';\n  var source = new ol.source.Vector();\n  this._helpTooltipElement;\n  this._map = null;\n  this._feature = null;\n  this._layer = new ol.layer.Vector({\n    source: source,\n    style: function style() {\n      var styles = [\n      // linestring\n      new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          lineDash: [10, 10],\n          width: 3\n        }),\n        fill: new ol.style.Fill({\n          color: 'rgba(255, 255, 255, 0.2)'\n        })\n      })];\n      return styles;\n    }\n  });\n\n  ol.interaction.Draw.call(this, {\n    source: source,\n    type: geometryType,\n    style: measureStyle\n  });\n  this.set('beforeRemove', this.clear);\n  this.set('layer', this._layer);\n  // register event on two action\n  this.on('drawstart', this._drawStart);\n  this.on('drawend', this._drawEnd);\n};\n\nol.inherits(MeasureIteraction, ol.interaction.Draw);\n\nvar proto = MeasureIteraction.prototype;\n\nproto.setDrawMessage = function (message) {\n  this._helpMsg = message;\n};\n\nproto.clear = function () {\n  this._layer.getSource().clear();\n  this._clearMessagesAndListeners();\n  if (this._map) {\n    removeMeasureTooltip(_extends({\n      map: this._map\n    }, this.measureTooltip));\n    this.measureTooltip = null;\n    this._map.removeLayer(this._layer);\n  }\n};\n\nproto._clearMessagesAndListeners = function () {\n  this._feature = null;\n  // unset tooltip so that a new one can be created\n  if (this._map) {\n    this._measureTooltipElement = null;\n    this._helpTooltipElement.innerHTML = '';\n    this._helpTooltipElement.classList.add('hidden');\n    ol.Observable.unByKey(this._featureGeometryChangelistener);\n    ol.Observable.unByKey(this._poinOnMapMoveListener);\n    $(document).off('keydown', this._keyDownEventHandler);\n  }\n};\n\nproto._removeLastPoint = function (event) {\n  var geom = this._feature.getGeometry();\n  if (event.keyCode === 46) {\n    if (geom instanceof ol.geom.Polygon && geom.getCoordinates()[0].length > 2) {\n      this.removeLastPoint();\n    } else if (geom instanceof ol.geom.LineString && geom.getCoordinates().length > 1) {\n      this.removeLastPoint();\n    }\n  }\n};\n\n//drawStart function\nproto._drawStart = function (evt) {\n  var _this = this;\n\n  this._map = this.getMap();\n  this._map.removeLayer(this._layer);\n  this._feature = evt.feature;\n  this.feature && this._feature.setGeometry(this.feature.getGeometry());\n  this._keyDownEventHandler = this._removeLastPoint.bind(this);\n  $(document).on('keydown', this._keyDownEventHandler);\n  this._layer.getSource().clear();\n  this._poinOnMapMoveListener = this._map.on('pointermove', function (evt) {\n    if (evt.dragging) return;\n    if (_this._feature && _this._helpMsg) {\n      var helpMsg = t(_this._helpMsg);\n      _this._helpTooltipElement.innerHTML = helpMsg;\n      _this._helpTooltip.setPosition(evt.coordinate);\n      _this._helpTooltipElement.classList.remove('hidden');\n    }\n  });\n  this._createHelpTooltip();\n  this._createMeasureTooltip();\n};\n\nproto._drawEnd = function () {\n  var tooltip = this.measureTooltip.tooltip;\n\n  setMeasureTooltipStatic(tooltip);\n  this._clearMessagesAndListeners();\n  this._map.addLayer(this._layer);\n};\n\n/**\n * Creates a new help tooltip\n */\nproto._createHelpTooltip = function () {\n  this._helpTooltipElement && this._helpTooltipElement.parentNode.removeChild(this._helpTooltipElement);\n  this._helpTooltip && this._map.removeOverlay(this._helpTooltip);\n  this._helpTooltipElement = document.createElement('div');\n  this._helpTooltipElement.className = 'mtooltip hidden';\n  this._helpTooltip = new ol.Overlay({\n    element: this._helpTooltipElement,\n    offset: [15, 0],\n    positioning: 'center-left'\n  });\n  this._map.addOverlay(this._helpTooltip);\n};\n\n/**\n * Creates a new measure tooltip\n */\nproto._createMeasureTooltip = function () {\n  this.measureTooltip && removeMeasureTooltip(_extends({}, this.measureTooltip, {\n    map: this._map\n  }));\n  this.measureTooltip = createMeasureTooltip({\n    map: this._map,\n    feature: this._feature\n  });\n};\n// END MEASURE CONTROLS //\n\nmodule.exports = MeasureIteraction;\n\n},{\"core/i18n/i18n.service\":13,\"core/utils/ol\":65}],104:[function(require,module,exports){\nvar PickCoordinatesEventType = {\n  PICKED: 'picked'\n};\n\nvar PickCoordinatesEvent = function PickCoordinatesEvent(type, coordinate) {\n  this.type = type;\n  this.coordinate = coordinate;\n};\n\nvar PickCoordinatesInteraction = function PickCoordinatesInteraction(options) {\n  this.previousCursor_ = null;\n  this._centerMap = null;\n\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: PickCoordinatesInteraction.handleDownEvent_,\n    handleUpEvent: PickCoordinatesInteraction.handleUpEvent_,\n    handleMoveEvent: PickCoordinatesInteraction.handleMoveEvent_\n  });\n};\n\nol.inherits(PickCoordinatesInteraction, ol.interaction.Pointer);\n\nPickCoordinatesInteraction.handleDownEvent_ = function (event) {\n  var _this = this;\n\n  this._centerMap = event.map.getView().getCenter();\n  // set timeout to avoid to block pan\n  setTimeout(function () {\n    if (_this._centerMap === event.map.getView().getCenter()) {\n      PickCoordinatesInteraction.handleUpEvent_.call(_this, event);\n    }\n  }, 300);\n  // return false to avoid  start of drag event\n  return false;\n};\n\nPickCoordinatesInteraction.handleUpEvent_ = function (event) {\n  this.dispatchEvent(new PickCoordinatesEvent(PickCoordinatesEventType.PICKED, event.coordinate));\n  // it used to stop drag event\n  return false;\n};\n\nPickCoordinatesInteraction.handleMoveEvent_ = function (event) {\n  var elem = event.map.getTargetElement();\n  elem.style.cursor = 'pointer';\n  return true;\n};\n\nPickCoordinatesInteraction.prototype.shouldStopEvent = function () {\n  return false;\n};\n\nPickCoordinatesInteraction.prototype.setActive = function (active) {\n  var map = this.getMap();\n  if (map) {\n    var elem = map.getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setActive.call(this, active);\n};\n\nPickCoordinatesInteraction.prototype.setMap = function (map) {\n  if (!map) {\n    var elem = this.getMap().getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setMap.call(this, map);\n};\n\nmodule.exports = PickCoordinatesInteraction;\n\n},{}],105:[function(require,module,exports){\nvar PickFeatureEventType = {\n  PICKED: 'picked'\n};\n\nvar PickFeatureEvent = function PickFeatureEvent(type, coordinate, layer, feature) {\n  this.type = type;\n  this.feature = feature;\n  this.coordinate = coordinate;\n  this.layer = layer;\n};\n\nvar PickFeatureInteraction = function PickFeatureInteraction() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: PickFeatureInteraction.handleDownEvent_,\n    handleUpEvent: PickFeatureInteraction.handleUpEvent_,\n    handleMoveEvent: PickFeatureInteraction.handleMoveEvent_\n  });\n  var features = options.features;\n\n  this.features_ = Array.isArray(features) && features.length && features || null;\n  this.layers_ = options.layers || null;\n  this.pickedFeature_ = null;\n  this.pickedLayer_ = null;\n  this.layerFilter_ = function (layer) {\n    var include = _.includes(_this.layers_, layer);\n    _this.pickedLayer_ = include && layer;\n    return include;\n  };\n};\nol.inherits(PickFeatureInteraction, ol.interaction.Pointer);\n\nPickFeatureInteraction.handleDownEvent_ = function (event) {\n  this.pickedFeature_ = this.featuresAtPixel_(event.pixel, event.map);\n  return this.pickedFeature_;\n};\n\nPickFeatureInteraction.handleUpEvent_ = function (event) {\n  if (this.pickedFeature_) {\n    this.dispatchEvent(new PickFeatureEvent(PickFeatureEventType.PICKED, event.coordinate, this.pickedLayer_, this.pickedFeature_));\n  }\n  return true;\n};\n\nPickFeatureInteraction.handleMoveEvent_ = function (event) {\n  var elem = event.map.getTargetElement();\n  var intersectingFeature = this.featuresAtPixel_(event.pixel, event.map);\n  elem.style.cursor = intersectingFeature ? 'pointer' : '';\n};\n\nPickFeatureInteraction.prototype.featuresAtPixel_ = function (pixel, map) {\n  var _this2 = this;\n\n  var featureFound = null;\n  var intersectingFeature = map.forEachFeatureAtPixel(pixel, function (feature) {\n    if (_this2.features_) {\n      if (_this2.features_.indexOf(feature) > -1) return feature;else return null;\n    }\n    return feature;\n  }, {\n    layerFilter: this.layerFilter_,\n    hitTolerance: isMobile && isMobile.any ? 10 : 0\n  });\n  if (intersectingFeature) featureFound = intersectingFeature;\n  return featureFound;\n};\n\nPickFeatureInteraction.prototype.shouldStopEvent = function () {\n  return false;\n};\n\nPickFeatureInteraction.prototype.setMap = function (map) {\n  if (!map) {\n    var elem = this.getMap().getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setMap.call(this, map);\n};\n\nmodule.exports = PickFeatureInteraction;\n\n},{}],106:[function(require,module,exports){\nvar RasterLayers = require('g3w-ol/layers/rasters');\nvar BaseLayers = {};\n\nBaseLayers.OSM = {};\n\nBaseLayers.OSM.get = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      title = _ref.title,\n      id = _ref.id,\n      url = _ref.url;\n\n  return new ol.layer.Tile({\n    source: new ol.source.OSM({\n      url: url\n    }),\n    id: id || 'osm',\n    title: title || 'OSM',\n    basemap: true\n  });\n};\n\nBaseLayers.TMS = {\n  get: function get() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$visible = _ref2.visible,\n        visible = _ref2$visible === undefined ? false : _ref2$visible,\n        _ref2$url = _ref2.url,\n        url = _ref2$url === undefined ? null : _ref2$url,\n        _ref2$source_type = _ref2.source_type,\n        source_type = _ref2$source_type === undefined ? \"xyz\" : _ref2$source_type,\n        minZoom = _ref2.minZoom,\n        maxZoom = _ref2.maxZoom,\n        projection = _ref2.projection,\n        attributions = _ref2.attributions,\n        _ref2$crossOrigin = _ref2.crossOrigin,\n        crossOrigin = _ref2$crossOrigin === undefined ? 'anonymous' : _ref2$crossOrigin;\n\n    var layer = void 0;\n    switch (source_type) {\n      case 'xyz':\n        layer = RasterLayers.XYZLayer({\n          url: url,\n          visible: visible,\n          minZoom: minZoom,\n          maxZoom: maxZoom,\n          attributions: attributions,\n          projection: projection,\n          crossOrigin: crossOrigin\n        });\n        break;\n      case 'arcgismapserver':\n        layer = RasterLayers.TiledArgisMapServer({\n          url: url,\n          visible: visible,\n          projection: projection,\n          attributions: attributions\n        });\n        break;\n      default:\n    }\n    return layer;\n  }\n};\n\nBaseLayers.WMS = {\n  get: function get(_ref3) {\n    var url = _ref3.url,\n        projection = _ref3.projection,\n        attributions = _ref3.attributions,\n        layers = _ref3.layers,\n        _ref3$singleTile = _ref3.singleTile,\n        singleTile = _ref3$singleTile === undefined ? false : _ref3$singleTile,\n        _ref3$opacity = _ref3.opacity,\n        opacity = _ref3$opacity === undefined ? 1 : _ref3$opacity;\n\n    return RasterLayers.WMSLayer({\n      url: url,\n      projection: projection,\n      attributions: attributions,\n      layers: layers,\n      tiled: singleTile,\n      opacity: opacity\n    });\n  }\n};\n\nBaseLayers.WMTS = {\n  get: function get() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref4.url,\n        layer = _ref4.layer,\n        visible = _ref4.visible,\n        attributions = _ref4.attributions,\n        matrixSet = _ref4.matrixSet,\n        projection = _ref4.projection,\n        requestEncoding = _ref4.requestEncoding,\n        _ref4$style = _ref4.style,\n        style = _ref4$style === undefined ? 'default' : _ref4$style,\n        _ref4$format = _ref4.format,\n        format = _ref4$format === undefined ? 'image/png' : _ref4$format,\n        _ref4$opacity = _ref4.opacity,\n        opacity = _ref4$opacity === undefined ? 0.7 : _ref4$opacity;\n\n    var projectionExtent = projection.getExtent();\n    var resolutions = new Array(14);\n    var size = ol.extent.getWidth(projectionExtent) / 256;\n    var matrixIds = new Array(14);\n    for (var z = 0; z < 14; ++z) {\n      // generate resolutions and matrixIds arrays for this WMTS\n      resolutions[z] = size / Math.pow(2, z);\n      matrixIds[z] = z;\n    }\n    return new ol.layer.Tile({\n      opacity: opacity,\n      source: new ol.source.WMTS({\n        url: url,\n        projection: projection,\n        layer: layer,\n        matrixSet: matrixSet,\n        requestEncoding: requestEncoding,\n        format: format,\n        attributions: attributions,\n        tileGrid: new ol.tilegrid.WMTS({\n          origin: ol.extent.getTopLeft(projectionExtent),\n          resolutions: resolutions,\n          matrixIds: matrixIds\n        }),\n        style: style\n      })\n    });\n  }\n};\n\nBaseLayers.BING = {};\n\nBaseLayers.BING.get = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var imagerySet = config.imagerySet || 'Aerial'; // 'Road', 'AerialWithLabels', 'Aerial'\n  return new ol.layer.Tile({\n    name: imagerySet,\n    visible: false,\n    preload: Infinity,\n    source: new ol.source.BingMaps({\n      imagerySet: imagerySet,\n      key: config.key\n    }),\n    basemap: true\n  });\n};\n\nmodule.exports = BaseLayers;\n\n},{\"g3w-ol/layers/rasters\":107}],107:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar DPI = require('core/utils/ol').getDPI();\n\nvar RasterLayers = {};\n\nvar loadImageTileFunction = function loadImageTileFunction(_ref) {\n  var _ref$method = _ref.method,\n      method = _ref$method === undefined ? 'GET' : _ref$method,\n      _ref$type = _ref.type,\n      type = _ref$type === undefined ? 'image' : _ref$type,\n      _ref$sourceOptions = _ref.sourceOptions,\n      sourceOptions = _ref$sourceOptions === undefined ? {} : _ref$sourceOptions;\n\n  window.URL = window.URL || window.webkitURL;\n  sourceOptions[type + 'LoadFunction'] = function (imageTile, url) {\n    var xhr = new XMLHttpRequest();\n\n    var _url$split = url.split('?'),\n        _url$split2 = _slicedToArray(_url$split, 2),\n        _url = _url$split2[0],\n        params = _url$split2[1];\n\n    xhr.open(method, method === 'POST' && _url || url);\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n    xhr.responseType = 'blob';\n    xhr.onload = function () {\n      var data = this.response;\n      if (data !== undefined) imageTile.getImage().src = window.URL.createObjectURL(data);else imageTile.setState(ol.TileState.ERROR);\n    };\n    xhr.onerror = function () {\n      image.setState(ol.TileState.ERROR);\n    };\n    xhr.send(method === 'POST' && params);\n  };\n};\n\nRasterLayers.TiledWMSLayer = function (layerObj, extraParams) {\n  var options = {\n    layerObj: layerObj,\n    extraParams: extraParams || {},\n    tiled: true\n  };\n  return RasterLayers._WMSLayer(options);\n};\n\nRasterLayers.WMSLayer = function (layerObj) {\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  var options = {\n    layerObj: layerObj,\n    extraParams: extraParams,\n    method: method\n  };\n  return RasterLayers._WMSLayer(options);\n};\n\nRasterLayers.WMTSLayer = function (layerObj, extraParams) {\n  var optionsFromCapabilities = ol.source.WMTS.optionsFromCapabilities;\n  return new ol.layer.Tile({\n    opacity: 1,\n    source: new ol.source.WMTS(options)\n  });\n};\n\nRasterLayers.ImageArgisMapServer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  return new ol.layer.Image({\n    source: new ol.source.ImageArcGISRest({\n      ratio: options.ratio,\n      params: {\n        FORMAT: options.format\n      },\n      url: options.url\n    })\n  });\n};\n\nRasterLayers.TiledArgisMapServer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var url = options.url,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      extent = options.extent,\n      projection = options.projection,\n      attributions = options.attributions,\n      crossOrigin = options.crossOrigin;\n\n  var source = new ol.source.TileArcGISRest({\n    url: url,\n    projection: projection,\n    attributions: attributions,\n    crossOrigin: crossOrigin\n  });\n  return new ol.layer.Tile({\n    extent: extent,\n    visible: visible,\n    source: source\n  });\n};\n\nRasterLayers._WMSLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var layerObj = options.layerObj,\n      _options$method = options.method,\n      method = _options$method === undefined ? 'GET' : _options$method,\n      extraParams = options.extraParams,\n      _options$tiled = options.tiled,\n      tiled = _options$tiled === undefined ? false : _options$tiled;\n  var _layerObj$iframe_inte = layerObj.iframe_internal,\n      iframe_internal = _layerObj$iframe_inte === undefined ? false : _layerObj$iframe_inte,\n      _layerObj$layers = layerObj.layers,\n      layers = _layerObj$layers === undefined ? '' : _layerObj$layers,\n      _layerObj$version = layerObj.version,\n      version = _layerObj$version === undefined ? '1.3.0' : _layerObj$version,\n      _layerObj$sld_version = layerObj.sld_version,\n      sld_version = _layerObj$sld_version === undefined ? '1.1.0' : _layerObj$sld_version,\n      id = layerObj.id,\n      name = layerObj.name,\n      _layerObj$opacity = layerObj.opacity,\n      opacity = _layerObj$opacity === undefined ? 1.0 : _layerObj$opacity,\n      visible = layerObj.visible,\n      extent = layerObj.extent,\n      maxResolution = layerObj.maxResolution,\n      format = layerObj.format;\n\n\n  var params = {\n    LAYERS: layers,\n    VERSION: version,\n    TRANSPARENT: true,\n    SLD_VERSION: sld_version,\n    DPI: DPI\n  };\n\n  /**\n   * Check if not undefined otherwise FORMAT parameter is not send\n   * \n   * @since 3.7.11\n   */\n  if (\"undefined\" !== typeof format) {\n    params.FORMAT = format;\n  }\n\n  var sourceOptions = {\n    url: layerObj.url,\n    params: Object.assign({}, params, extraParams),\n    ratio: 1,\n    projection: layerObj.projection ? layerObj.projection.getCode() : null\n  };\n\n  if (iframe_internal || 'POST' === method) {\n    loadImageTileFunction({ method: method, sourceOptions: sourceOptions, type: 'image' });\n  }\n\n  var imageOptions = {\n    id: id,\n    name: name,\n    opacity: opacity,\n    visible: visible,\n    extent: extent,\n    maxResolution: maxResolution\n  };\n\n  if (tiled) {\n    imageOptions.source = new ol.source.TileWMS(sourceOptions);\n    return new ol.layer.Tile(imageOptions);\n  }\n\n  imageOptions.source = new ol.source.ImageWMS(sourceOptions);\n  return new ol.layer.Image(imageOptions);\n};\n\nRasterLayers.XYZLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n\n  var iframe_internal = options.iframe_internal || false;\n  var url = options.url,\n      projection = options.projection,\n      maxZoom = options.maxZoom,\n      minZoom = options.minZoom,\n      _options$visible2 = options.visible,\n      visible = _options$visible2 === undefined ? true : _options$visible2,\n      crossOrigin = options.crossOrigin;\n\n  if (!url) return;\n  var sourceOptions = {\n    url: url,\n    maxZoom: maxZoom,\n    minZoom: minZoom,\n    projection: projection,\n    crossOrigin: crossOrigin\n  };\n  if (iframe_internal) loadImageTileFunction({\n    method: method,\n    type: 'tile',\n    sourceOptions: sourceOptions\n  });\n\n  if (projection.getUnits() === 'degrees') {\n    var extent = projection.getExtent();\n    var resolutions = ol.tilegrid.createXYZ({ extent: extent, maxZoom: maxZoom }).getResolutions();\n    // needed to remove the first resolutis because in this version of ol createXYZ doesn't  accept maxResolution options .\n    // The extent of EPSG:4326 is not squared [-180, -90, 180, 90] as EPSG:3857 so the resolution is calculate by Math.max(width(extent)/tileSize,Height(extent)/tileSize)\n    // we need to calculate to Math.min instead so we have to remove the first resolution\n    resolutions.splice(0, 1);\n    //////////////////////////////////////////\n    sourceOptions.tileGrid = new ol.tilegrid.TileGrid({\n      extent: extent,\n      resolutions: resolutions\n    });\n  }\n\n  var source = new ol.source.XYZ(sourceOptions);\n  return new ol.layer.Tile({\n    visible: visible,\n    projection: projection,\n    source: source\n  });\n};\n\nmodule.exports = RasterLayers;\n\n},{\"core/utils/ol\":65}],108:[function(require,module,exports){\nvar BaseLayers = require('../layers/bases');\n\nvar MapHelpers = {\n  createViewer: function createViewer() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new _Viewer(opts);\n  }\n};\n\nvar _Viewer = function _Viewer() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var controls = ol.control.defaults({\n    attribution: false,\n    zoom: false\n  });\n\n  var interactions = ol.interaction.defaults().extend([new ol.interaction.DragRotate()]);\n  interactions.removeAt(1); // remove douclickzoom\n  var view = opts.view instanceof ol.View ? opts.view : new ol.View(opts.view);\n  var options = {\n    controls: controls,\n    interactions: interactions,\n    ol3Logo: false,\n    view: view,\n    keyboardEventTarget: document\n  };\n  options.target = opts.id;\n  var map = new ol.Map(options);\n  this.map = map;\n};\n\n_Viewer.prototype.destroy = function () {\n  if (this.map) {\n    this.map.dispose();\n    this.map = null;\n  }\n};\n\n_Viewer.prototype.getView = function () {\n  return this.map.getView();\n};\n\n_Viewer.prototype.updateMap = function (mapObject) {};\n\n_Viewer.prototype.updateView = function () {};\n\n_Viewer.prototype.getMap = function () {\n  return this.map;\n};\n\n_Viewer.prototype.setTarget = function (id) {\n  this.map.setTarget(id);\n};\n\n_Viewer.prototype.zoomTo = function (coordinate, zoom) {\n  var view = this.map.getView();\n  view.setCenter(coordinate);\n  view.setZoom(zoom);\n};\n\n_Viewer.prototype.goTo = function (coordinates, options) {\n  options = options || {};\n  var animate = options.animate || true;\n  var zoom = options.zoom || false;\n  var view = this.map.getView();\n  var panAnimation = void 0;\n  var duration = 300;\n  var zoomAnimation = void 0;\n  if (animate) {\n    panAnimation = {\n      duration: duration,\n      center: coordinates\n    };\n    if (zoom) {\n      zoomAnimation = {\n        duration: duration,\n        zoom: zoom\n      };\n    } else {\n      zoomAnimation = {\n        duration: duration,\n        resolution: view.getResolution()\n      };\n    }\n    view.animate(panAnimation, zoomAnimation);\n  } else {\n    view.setCenter(coordinates);\n    if (zoom) {\n      view.setZoom(zoom);\n    }\n  }\n};\n\n_Viewer.prototype.goToRes = function (coordinates, options) {\n  options = options || {};\n  var animate = options.animate || true;\n  var view = this.map.getView();\n  var resolution = options.resolution || view.getResolution();\n  var panAnimation = void 0;\n  var zoomAnimation = void 0;\n  if (animate) {\n    panAnimation = {\n      duration: 200,\n      center: coordinates\n    };\n    zoomAnimation = {\n      duration: 200,\n      resolution: resolution\n    };\n    view.animate(panAnimation, zoomAnimation);\n  } else {\n    view.setCenter(coordinates);\n    view.setResolution(resolution);\n  }\n};\n\n_Viewer.prototype.fit = function (geometry) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var view = this.map.getView();\n  var animate = options.animate || true;\n  var panAnimation = void 0;\n  var zoomAnimation = void 0;\n  var duration = 200;\n  if (animate) {\n    panAnimation = view.animate({\n      duration: duration,\n      center: view.getCenter()\n    });\n    zoomAnimation = view.animate({\n      duration: duration,\n      resolution: view.getResolution()\n    });\n  }\n\n  if (options.animate) {\n    delete options.animate; // non lo passo al metodo di OL3 perché è un'opzione interna\n  }\n  options.constrainResolution = options.constrainResolution === undefined && true || options.constrainResolution;\n  options.size = this.map.getSize();\n  view.fit(geometry, options);\n};\n\n_Viewer.prototype.getZoom = function () {\n  var view = this.map.getView();\n  return view.getZoom();\n};\n\n_Viewer.prototype.getResolution = function () {\n  var view = this.map.getView();\n  return view.getResolution();\n};\n\n_Viewer.prototype.getCenter = function () {\n  var view = this.map.getView();\n  return view.getCenter();\n};\n\n_Viewer.prototype.getBBOX = function () {\n  return this.map.getView().calculateExtent(this.map.getSize());\n};\n\n_Viewer.prototype.getLayerByName = function (layerName) {\n  var layers = this.map.getLayers();\n  var length = layers.getLength();\n  for (var i = 0; i < length; i++) {\n    if (layerName === layers.item(i).get('name')) {\n      return layers.item(i);\n    }\n  }\n  return null;\n};\n\n_Viewer.prototype.removeLayerByName = function (layerName) {\n  var layer = this.getLayerByName(layerName);\n  if (layer) {\n    this.map.removeLayer(layer);\n    layer = undefined;\n  }\n};\n\n_Viewer.prototype.getActiveLayers = function () {\n  var activelayers = [];\n  this.map.getLayers().forEach(function (layer) {\n    var props = layer.getProperties();\n    if (props.basemap !== true && props.visible) {\n      activelayers.push(layer);\n    }\n  });\n\n  return activelayers;\n};\n\n_Viewer.prototype.removeLayers = function () {\n  this.map.getLayers().clear();\n};\n\n_Viewer.prototype.getLayersNoBase = function () {\n  var layers = [];\n  this.map.getLayers().forEach(function (layer) {\n    var props = layer.getProperties();\n    if (props.basemap != true) {\n      layers.push(layer);\n    }\n  });\n\n  return layers;\n};\n\n_Viewer.prototype.addBaseLayer = function (type) {\n  var layer = void 0;\n  type ? layer = BaseLayers[type] : layer = BaseLayers.BING.Aerial;\n  this.map.addLayer(layer);\n};\n\n_Viewer.prototype.changeBaseLayer = function (layerName) {\n  var baseLayer = this.getLayerByName(layername);\n  var layers = this.map.getLayers();\n  layers.insertAt(0, baseLayer);\n};\n\nmodule.exports = MapHelpers;\n\n},{\"../layers/bases\":106}],109:[function(require,module,exports){\nvar Projection = function Projection() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (!options.crs) return null;\n  // structure of information crs from server set on each layer and base layer\n  var _options$crs = options.crs,\n      epsg = _options$crs.epsg,\n      proj4def = _options$crs.proj4,\n      _options$crs$geograph = _options$crs.geographic,\n      geographic = _options$crs$geograph === undefined ? false : _options$crs$geograph,\n      _options$crs$axisinve = _options$crs.axisinverted,\n      axisinverted = _options$crs$axisinve === undefined ? false : _options$crs$axisinve,\n      extent = _options$crs.extent;\n\n  proj4def && proj4.defs(epsg, proj4def);\n  this._axisOrientation = axisinverted ? 'neu' : 'enu';\n  var degrees = geographic;\n  ol.proj.Projection.call(this, {\n    code: epsg,\n    extent: extent,\n    axisOrientation: this._axisOrientation,\n    units: degrees ? 'degrees' : 'm'\n  });\n};\n\nol.inherits(Projection, ol.proj.Projection);\n\nvar proto = Projection.prototype;\n\nproto.getAxisOrientation = function () {\n  return this._axisOrientation;\n};\n\nproto.isInvertedAxisOrientation = function () {\n  return this._axisOrientation === 'neu';\n};\n\nproto.getOlProjection = function () {};\n\nmodule.exports = Projection;\n\n},{}],110:[function(require,module,exports){\nvar _constant = require('constant');\n\nvar Projection = require('./projection');\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    normalizeEpsg = _require2.normalizeEpsg;\n\nvar Projections = {\n\n  /**\n   * @since v3.8\n   */\n  isRegistered: function isRegistered(epsg) {\n    return ol.proj.get(epsg);\n  },\n  get: function get() {\n    var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var cachedProjection = this.isRegistered(crs.epsg);\n    if (cachedProjection) return cachedProjection;\n    var projection = new Projection({\n      crs: crs\n    });\n    ol.proj.addProjection(projection);\n    ol.proj.proj4.register(proj4);\n    return projection;\n  },\n\n\n  /**\n   * Check and register epsg\n   * \n   * @param epsg : \"EPSG:<CODE>\" Ex. \"EPSG:4326\"\n   * @returns {Promise<Projection>}\n   * @since v3.8\n   */\n  registerProjection: function registerProjection(epsg) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      var projection = _this.isRegistered(epsg);\n      // check if already register\n      if (projection) resolve(projection);else {\n        XHR.get({ url: '' + _constant.API_BASE_URLS.CRS + epsg.split(':')[1] }).then(function (_ref) {\n          var result = _ref.result,\n              data = _ref.data;\n\n          if (result) {\n            data.epsg = normalizeEpsg(data.epsg);\n            projection = _this.get(data);\n            ol.proj.proj4.register(proj4);\n            resolve(projection);\n          }\n        }).catch(function (err) {\n          return reject(err);\n        });\n      }\n    });\n  }\n};\n\nmodule.exports = Projections;\n\n},{\"./projection\":109,\"constant\":4,\"core/utils/geo\":64,\"core/utils/utils\":67}],111:[function(require,module,exports){\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction CatalogService() {\n  var _this2 = this;\n\n  this.state = {\n    prstate: _projects2.default.state,\n    highlightlayers: false,\n    external: {\n      wms: [], // added by wms cside bar component\n      vector: [] // added to map controls for the moment\n    },\n    layerstrees: [],\n    layersgroups: []\n  };\n\n  this.setters = {\n\n    /**\n     * @param {{ layer: unknown, type: 'vector' }}\n     * \n     * @fires CatalogService~addExternalLayer\n     * \n     * @since 3.8.0\n     */\n    addExternalLayer: function addExternalLayer() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          layer = _ref.layer,\n          _ref$type = _ref.type,\n          type = _ref$type === undefined ? 'vector' : _ref$type;\n\n      layer.removable = true;\n      this.state.external[type].push(layer);\n    },\n\n\n    /**\n     * @param {{ name: string, type: 'vector' }}\n     * \n     * @fires CatalogService~removeExternalLayer\n     * \n     * @since 3.8.0\n     */\n    removeExternalLayer: function removeExternalLayer() {\n      var _this = this;\n\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          name = _ref2.name,\n          _ref2$type = _ref2.type,\n          type = _ref2$type === undefined ? 'vector' : _ref2$type;\n\n      this.state.external[type].filter(function (layer, index) {\n        if (layer.name === name) {\n          _this.state.external[type].splice(index, 1);\n          return true;\n        }\n      });\n    },\n\n\n    /**\n     * @param {{ layer: unknown, type: unknown, selected: unknown }}\n     * \n     * @fires CatalogService~setSelectedExternalLayer\n     * \n     * @since 3.8.0\n     */\n    setSelectedExternalLayer: function setSelectedExternalLayer(_ref3) {\n      var layer = _ref3.layer,\n          type = _ref3.type,\n          selected = _ref3.selected;\n\n      this.state.external[type].forEach(function (externalLayer) {\n        if (typeof externalLayer.selected != \"undefined\") externalLayer.selected = layer === externalLayer ? selected : false;\n      });\n    }\n  };\n\n  base(this);\n  var layersStores = _catalogLayers2.default.getLayersStores();\n\n  layersStores.forEach(function (layersStore) {\n    return _this2.addLayersStoreToLayersTrees(layersStore);\n  });\n\n  _catalogLayers2.default.onafter('addLayersStore', function (layersStore) {\n    _this2.addLayersStoreToLayersTrees(layersStore);\n  });\n\n  _catalogLayers2.default.onafter('removeLayersStore', function (layersStore) {\n    _this2.state.layerstrees.find(function (layersTree, idx) {\n      if (layersTree.storeid === layersStore.getId()) {\n        _this2.state.layerstrees.splice(idx, 1);\n        return true;\n      }\n    });\n  });\n  _catalogLayers2.default.onafter('removeLayersStores', function () {\n    _this2.state.layerstrees.forEach(function (layersTree, idx) {\n      _this2.state.layerstrees.splice(idx, 1);\n    });\n  });\n}\n\ninherit(CatalogService, G3WObject);\n\nvar proto = CatalogService.prototype;\n\nproto.createLayersGroup = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$title = _ref4.title,\n      title = _ref4$title === undefined ? 'Layers Group' : _ref4$title,\n      _ref4$layers = _ref4.layers,\n      layers = _ref4$layers === undefined ? [] : _ref4$layers;\n\n  var nodes = [];\n  layers.forEach(function (layer) {\n    return nodes.push(layer);\n  });\n  return {\n    title: title,\n    nodes: nodes\n  };\n};\n\nproto.getMajorQgisVersion = function () {\n  return _projects2.default.getCurrentProject().getQgisVersion({\n    type: 'major'\n  });\n};\n\n// method to add a custom layers group\nproto.addLayersGroup = function (layersGroup) {\n  this.state.layersgroups.push(layersGroup);\n};\n\nproto.addLayersStoreToLayersTrees = function (layersStore) {\n  this.state.layerstrees.push({\n    tree: layersStore.getLayersTree(),\n    storeid: layersStore.getId()\n  });\n};\n\nproto.changeMapTheme = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(map_theme) {\n    var currentProject, rootNode, layerstree, changeMapThemeProjectObj;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // set is changing project view\n            _application2.default.changeProjectView(true);\n            currentProject = this.state.prstate.currentProject;\n            rootNode = this.state.layerstrees[0];\n\n            rootNode.checked = true;\n            layerstree = rootNode.tree[0].nodes;\n            _context.next = 7;\n            return currentProject.setLayersTreePropertiesFromMapTheme({\n              map_theme: map_theme,\n              layerstree: layerstree,\n              rootNode: rootNode\n            });\n\n          case 7:\n            changeMapThemeProjectObj = _context.sent;\n\n            _application2.default.changeProjectView(false);\n            return _context.abrupt('return', changeMapThemeProjectObj);\n\n          case 10:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x4) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns {unknown}\n * \n * @since 3.8.0\n */\nproto.getExternalLayers = function (_ref6) {\n  var _ref6$type = _ref6.type,\n      type = _ref6$type === undefined ? 'vector' : _ref6$type;\n\n  return this.state.external[type];\n};\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns {unknown}\n * \n * @since 3.8.0\n */\nproto.getExternalSelectedLayers = function (_ref7) {\n  var _ref7$type = _ref7.type,\n      type = _ref7$type === undefined ? 'vector' : _ref7$type;\n\n  return this.getExternalLayers({ type: type }).filter(function (layer) {\n    return layer.selected;\n  });\n};\n\n/**\n * @param {{ id: string, type: 'vector' }}\n * \n * @returns {unknown}\n * \n * @since 3.8.0\n */\nproto.getExternalLayerById = function (_ref8) {\n  var id = _ref8.id,\n      _ref8$type = _ref8.type,\n      type = _ref8$type === undefined ? 'vector' : _ref8$type;\n\n  return this.state.external[type].find(function (layer) {\n    return layer.id === id;\n  });\n};\n\n/**\n * @param {{ id: string, type: unknown }}\n * \n * @returns {boolean}\n * \n * @since 3.8.0\n */\nproto.isExternalLayerSelected = function (_ref9) {\n  var id = _ref9.id,\n      type = _ref9.type;\n\n  var externalLayer = this.getExternalLayerById({ id: id, type: type });\n  return externalLayer && externalLayer.selected;\n};\n\nmodule.exports = CatalogService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/application\":348,\"store/catalog-layers\":371,\"store/projects\":376}],112:[function(require,module,exports){\nvar _Catalog = require('components/Catalog.vue');\n\nvar catalogComponentOptions = _interopRequireWildcard(_Catalog);\n\nvar _CatalogLayersGroup = require('components/CatalogLayersGroup.vue');\n\nvar catalogLayersGroupComponentOptions = _interopRequireWildcard(_CatalogLayersGroup);\n\nvar _CatalogTristateTree = require('components/CatalogTristateTree.vue');\n\nvar catalogTristateTreeComponentOptions = _interopRequireWildcard(_CatalogTristateTree);\n\nvar _CatalogLayersLegend = require('components/CatalogLayersLegend.vue');\n\nvar catalogLayersLegendComponentOptions = _interopRequireWildcard(_CatalogLayersLegend);\n\nvar _CatalogLayersLegendItems = require('components/CatalogLayersLegendItems.vue');\n\nvar catalogLayersLegendItemsComponentOptions = _interopRequireWildcard(_CatalogLayersLegendItems);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/catalog/catalogservice');\n\nvar InternalComponent = Vue.extend(catalogComponentOptions);\n\nVue.component('g3w-catalog', catalogComponentOptions);\nVue.component('layers-group', catalogLayersGroupComponentOptions);\nVue.component('tristate-tree', catalogTristateTreeComponentOptions);\nVue.component('layerslegend', catalogLayersLegendComponentOptions);\nVue.component('layerslegend-items', catalogLayersLegendItemsComponentOptions);\n\nfunction CatalogComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.resizable = true;\n  base(this, options);\n  var legend = options.config.legend;\n\n  this.title = \"catalog\";\n  this.mapComponentId = options.mapcomponentid;\n  var service = options.service || new Service();\n  this.setService(service);\n  this.setInternalComponent(new InternalComponent({\n    service: service,\n    legend: legend\n  }));\n  this.internalComponent.state = this.getService().state;\n  var listenToMapVisibility = function listenToMapVisibility(map) {\n    var mapService = map.getService();\n    _this.state.visible = !mapService.state.hidden;\n    mapService.onafter('setHidden', function (hidden) {\n      _this.state.visible = !mapService.state.hidden;\n      _this.state.expanded = true;\n    });\n  };\n  if (this.mapComponentId) {\n    var map = _gui2.default.getComponent(this.mapComponentId);\n    !map && _components2.default.on('componentregistered', function (component) {\n      return component.getId() === _this.mapComponentId && listenToMapVisibility(component);\n    }) || listenToMapVisibility(map);\n  }\n}\n\ninherit(CatalogComponent, Component);\n\nmodule.exports = CatalogComponent;\n\n},{\"components/Catalog.vue\":195,\"components/CatalogLayersGroup.vue\":199,\"components/CatalogLayersLegend.vue\":200,\"components/CatalogLayersLegendItems.vue\":201,\"components/CatalogTristateTree.vue\":202,\"core/utils/utils\":67,\"gui/catalog/catalogservice\":111,\"gui/component/component\":115,\"services/gui\":358,\"store/components\":372}],113:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nvar CatalogEventHub = new Vue();\n\nexports.default = CatalogEventHub;\n\n},{}],114:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _C3XYLine = require('components/C3XYLine.vue');\n\nvar _C3XYLine2 = _interopRequireDefault(_C3XYLine);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Chartsfactory = {\n  CHARTS: {\n    c3: {\n      lineXY: _C3XYLine2.default\n    }\n  },\n  /*\n  * type: <library(es:c3)>:<chartType:(es.lineXY)>\n  * */\n  build: function build() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        type = _ref.type,\n        _ref$hooks = _ref.hooks,\n        hooks = _ref$hooks === undefined ? {} : _ref$hooks;\n\n    var _type$split = type.split(':'),\n        _type$split2 = _slicedToArray(_type$split, 2),\n        _type$split2$ = _type$split2[0],\n        library = _type$split2$ === undefined ? 'c3' : _type$split2$,\n        _type$split2$2 = _type$split2[1],\n        chartType = _type$split2$2 === undefined ? 'lineXY' : _type$split2$2;\n\n    var chartVue = this.CHARTS[library][chartType];\n    return Object.assign(hooks, chartVue);\n  }\n};\n\nmodule.exports = Chartsfactory;\n\n},{\"components/C3XYLine.vue\":194}],115:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    merge = _require.merge,\n    noop = _require.noop,\n    capitalize_first_letter = _require.capitalize_first_letter,\n    resolve = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\n\nvar VUECOMPONENTSATTRIBUTES = ['methods', 'computed', 'data', 'components'];\n\n// class component\nvar Component = function Component() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._firstLayout = true;\n  // internal VUE component\n  this.internalComponent = null;\n  this._components = [];\n  var _options$id = options.id,\n      id = _options$id === undefined ? Math.random() * 1000 : _options$id,\n      _options$title = options.title,\n      title = _options$title === undefined ? '' : _options$title,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$open = options.open,\n      open = _options$open === undefined ? false : _options$open,\n      _options$resizable = options.resizable,\n      resizable = _options$resizable === undefined ? false : _options$resizable,\n      _options$info = options.info,\n      info = _options$info === undefined ? null : _options$info,\n      _options$loading = options.loading,\n      loading = _options$loading === undefined ? false : _options$loading,\n      _options$disabled = options.disabled,\n      disabled = _options$disabled === undefined ? false : _options$disabled,\n      _options$closewhensho = options.closewhenshowviewportcontent,\n      closewhenshowviewportcontent = _options$closewhensho === undefined ? true : _options$closewhensho;\n\n  this.id = id;\n  this.title = title;\n  this.state = {\n    visible: visible, // visibile\n    open: open, // open,\n    resizable: resizable,\n    info: info,\n    loading: loading,\n    disabled: disabled,\n    closewhenshowviewportcontent: closewhenshowviewportcontent,\n    sizes: {\n      width: 0,\n      height: 0\n    }\n  };\n  //setters\n  this.setters = {\n    setOpen: function setOpen(bool) {\n      this.state.open = bool;\n      this._setOpen(bool);\n    },\n    setVisible: function setVisible(bool) {\n      this.state.visible = bool;\n      this._setVisible(bool);\n    },\n    setLoading: function setLoading() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.state.loading = bool;\n    },\n    setDisabled: function setDisabled() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.state.disabled = bool;\n    },\n    reload: function reload() {\n      this._reload();\n    }\n  };\n  merge(this, options);\n  base(this);\n  // add events options\n  this.events = options.events;\n  this.events && this.handleEventsComponent();\n};\n\ninherit(Component, G3WObject);\n\nvar proto = Component.prototype;\n\nproto.init = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.vueComponent = this.createVueComponent(options.vueComponentObject);\n  this._components = options.components || [];\n  var service = options.service || noop;\n  var template = options.template,\n      propsData = options.propsData;\n\n  this.setService(service);\n  this._service.init ? this._service.init(options) : null;\n  template && this.setInternalComponentTemplate(template);\n  this.setInternalComponent = function () {\n    var InternalComponent = Vue.extend(this.vueComponent);\n    this.internalComponent = new InternalComponent({\n      service: this._service,\n      template: template,\n      propsData: propsData\n    });\n    this.internalComponent.state = this.getService().state;\n  };\n  this.setInternalComponent();\n};\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.setId = function (id) {\n  this.id = id;\n};\n\nproto.getOpen = function () {\n  return this.state.open;\n};\n\nproto.closeWhenViewportContentIsOpen = function () {\n  return this.getOpen() && this.state.closewhenshowviewportcontent;\n};\n\nproto.getVisible = function () {\n  return this.state.visible;\n};\n\nproto.getTitle = function () {\n  return this.state.title;\n};\n\nproto.setTitle = function (title) {\n  this.state.title = title;\n};\n\nproto.getService = function () {\n  return this._service;\n};\n\nproto.setService = function (service) {\n  this._service = service;\n};\n\nproto.handleEventsComponent = function () {\n  var _events = this.events,\n      open = _events.open,\n      visible = _events.visible;\n\n  if (open) {\n    var _open$when = open.when,\n        when = _open$when === undefined ? \"after\" : _open$when,\n        _open$cb = open.cb,\n        cb = _open$cb === undefined ? function () {} : _open$cb,\n        _open$guiEvents = open.guiEvents,\n        guiEvents = _open$guiEvents === undefined ? [] : _open$guiEvents;\n\n    this['on' + when]('setOpen', function (bool) {\n      return cb(bool);\n    });\n  }\n};\n\nproto.insertComponentAt = function (index, Component) {\n  this._components.splice(index, 0, Component);\n};\n\nproto.removeCompomentAt = function (index) {\n  this._components.splice(index, 1);\n};\n\nproto.addComponent = function (Component) {\n  this._components.push(Component);\n};\n\nproto.popComponent = function () {\n  return this._components.pop();\n};\n\nproto.removeComponent = function (Component) {\n  var _this = this;\n\n  this._components.forEach(function (component, index) {\n    if (component === Component) {\n      _this.splice(index, 1);\n      return false;\n    }\n  });\n};\n\nproto.setComponents = function (components) {\n  this._components = Array.isArray(components) ? components : [];\n};\n\nproto.exendComponents = function (components) {\n  _.merge(this._components, components);\n};\n\nproto.getInternalComponent = function () {\n  return this.internalComponent;\n};\n\nproto.setInternalComponent = function (internalComponent) {\n  var _this2 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!internalComponent && this.internalComponentClass) this.internalComponent = new this.internalComponentClass();else this.internalComponent = internalComponent;\n  var _options$events = options.events,\n      events = _options$events === undefined ? [] : _options$events;\n\n  events.forEach(function (event) {\n    var name = event.name,\n        handler = event.handler;\n\n    _this2.internalComponent.$on(name, function (data) {\n      return handler && handler(data) || _this2['set' + capitalize_first_letter(name)](data);\n    });\n  });\n};\n\nproto.createVueComponent = function (vueObjOptions) {\n  return _.cloneDeep(vueObjOptions);\n};\n\nproto.addInternalComponentData = function (data) {\n  _.merge(this.internalComponent, data);\n};\n\nproto.overwriteServiceMethod = function (methodName, method) {\n  this._service[methodName] = method;\n};\n\nproto.overwriteServiceMethods = function (methodsOptions) {\n  var _this3 = this;\n\n  Object.entries(methodsOptions).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        methodName = _ref2[0],\n        method = _ref2[1];\n\n    return _this3.overwriteServiceMethod(methodName, method);\n  });\n};\n\nproto.extendService = function (serviceOptions) {\n  this._service && merge(this._service, serviceOptions);\n};\n\nproto.extendInternalComponent = function (internalComponentOptions) {\n  var _this4 = this;\n\n  if (this.vueComponent) {\n    Object.entries(internalComponentOptions).forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          key = _ref4[0],\n          value = _ref4[1];\n\n      if (VUECOMPONENTSATTRIBUTES.indexOf(key) > -1) {\n        switch (key) {\n          case 'methods':\n            _this4.extendInternalComponentMethods(value);\n            break;\n          case 'components':\n            _this4.extendInternalComponentComponents(value);\n            break;\n          default:\n            merge(_this4.vueComponent[key], value);\n        }\n      }\n    });\n  } else this.vueComponent = internalComponentOptions;\n};\n\nproto.extendInternalComponentComponents = function (components) {\n  components && merge(this.vueComponent.components, components);\n};\n\nproto.extendComponents = function (components) {\n  this.extendInternalComponentComponents(components);\n};\n\nproto.addComponent = function (component) {\n  if (component) this.vueComponent.components[component.key] = component.value;\n};\n\nproto.extendInternalComponentMethods = function (methods) {\n  if (methods) {\n    Object.entries(methods).forEach.forEach(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n          key = _ref6[0],\n          value = _ref6[1];\n\n      return !(value instanceof Function) && delete methods[key];\n    });\n    merge(this.vueComponent.methods, methods);\n  }\n};\n\nproto.extendInternalComponentComputed = function (computed) {\n  if (computed) {\n    Object.entries(computed).forEach(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          key = _ref8[0],\n          value = _ref8[1];\n\n      return !(value instanceof Function) && delete computed[key];\n    });\n    merge(this.vueComponent.computed, computed);\n  }\n};\n\nproto.setInternalComponentTemplate = function (template) {\n  if (template) this.vueComponent.template = template;\n};\n\nproto.getInternalTemplate = function () {\n  return this.vueComponent.template;\n};\n\nproto.destroy = function () {};\n\nproto.click = function () {};\n\n// hook function to show componet\nproto.show = function () {};\n\nproto._setOpen = function (bool) {};\n\nproto._setVisible = function () {};\n\nproto._reload = function () {};\n\nproto.mount = function (parent, append) {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  if (!this.internalComponent) this.setInternalComponent();\n  if (append) {\n    var iCinstance = this.internalComponent.$mount();\n    $(parent).append(iCinstance.$el);\n  } else this.internalComponent.$mount(parent);\n  this.internalComponent.$nextTick(function () {\n    $(parent).localize();\n    _this5.emit('ready');\n    d.resolve(true);\n  });\n  // emit mount event\n  this.emit('mount');\n  return d.promise();\n};\n\nproto.unmount = function () {\n  if (!this.internalComponent) return resolve();\n  if (this.state.resizable) this.internalComponent.$off('resize-component', this.internalComponent.layout);\n  this.state.open = false;\n  // destroy vue component\n  this.internalComponent.$destroy(true);\n  // remove dom element\n  $(this.internalComponent.$el).remove();\n  // set internal componet to null (for GC)\n  this.internalComponent = null;\n  // emit unmount event\n  this.emit('unmount');\n  return resolve();\n};\n\nproto.ismount = function () {\n  return this.internalComponent && this.internalComponent.$el;\n};\n\nproto.layout = function (width, height) {\n  var _this6 = this;\n\n  if (this.state.resizable && this._firstLayout) {\n    this.internalComponent.$on('resize-component', this.internalComponent.layout);\n    this._firstLayout = false;\n  }\n  this.internalComponent.$nextTick(function () {\n    _this6.internalComponent.$emit('resize-component', {\n      width: width,\n      height: height\n    });\n  });\n  // emit layout event\n  this.emit('layout');\n};\n\nmodule.exports = Component;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],116:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Component = require('gui/component/component');\n\nvar ComponentsFactory = {\n  // build a componet\n  build: function build(_ref) {\n    var vueComponentObject = _ref.vueComponentObject,\n        service = _ref.service,\n        propsData = _ref.propsData;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var component = new Component(options);\n    component.init({\n      vueComponentObject: vueComponentObject,\n      service: service,\n      propsData: propsData\n    });\n    return component;\n  },\n\n  //buildSidebarComponent and add to sidebar\n  buildSidebar: function buildSidebar(_ref2) {\n    var vueComponentObject = _ref2.vueComponentObject,\n        service = _ref2.service,\n        propsData = _ref2.propsData;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var id = options.id,\n        title = options.title,\n        _options$open = options.open,\n        open = _options$open === undefined ? false : _options$open,\n        _options$collapsible = options.collapsible,\n        collapsible = _options$collapsible === undefined ? true : _options$collapsible,\n        _options$isolate = options.isolate,\n        isolate = _options$isolate === undefined ? false : _options$isolate,\n        _options$mobile = options.mobile,\n        mobile = _options$mobile === undefined ? true : _options$mobile,\n        _options$iconConfig = options.iconConfig,\n        iconConfig = _options$iconConfig === undefined ? {} : _options$iconConfig,\n        _options$events = options.events,\n        events = _options$events === undefined ? {} : _options$events,\n        _options$sidebarOptio = options.sidebarOptions,\n        sidebarOptions = _options$sidebarOptio === undefined ? { position: 1 } : _options$sidebarOptio;\n\n\n    var component = this.build({ vueComponentObject: vueComponentObject }, {\n      id: id,\n      title: title,\n      open: open,\n      collapsible: collapsible,\n      isolate: isolate,\n      iconColor: iconConfig.color && iconConfig.color,\n      icon: iconConfig.icon && _gui2.default.getFontClass(iconConfig.icon),\n      mobile: mobile,\n      events: events\n    });\n\n    _gui2.default.addComponent(component, 'sidebar', sidebarOptions);\n    return component;\n  }\n};\n\nmodule.exports = ComponentsFactory;\n\n},{\"gui/component/component\":115,\"services/gui\":358}],117:[function(require,module,exports){\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nmodule.exports = {\n  matcher: function matcher(params, data) {\n    var searchItem = params.term ? params.term.toLowerCase() : params.term;\n    // If there are no search terms, return all of the data\n    if ($.trim(searchItem) === '') return data;\n    // Do not display the item if there is no 'text' property\n    if (typeof data.text === 'undefined') return null;\n    // `params.term` should be the term that is used for searching\n    // `data.text` is the text that is displayed for the data object\n    if (data.text.toLowerCase().indexOf(searchItem) > -1) {\n      var modifiedData = $.extend({}, data, true);\n      // You can return modified objects from here\n      // This includes matching the `children` how you want in nested data sets\n      return modifiedData;\n    }\n    // Return `null` if the term should not be displayed\n    return null;\n  },\n  language: {\n    noResults: function noResults() {\n      return t(\"sdk.search.no_results\");\n    },\n    errorLoading: function errorLoading() {\n      return t(\"sdk.search.error_loading\");\n    },\n    searching: function searching() {\n      return t(\"sdk.search.searching\");\n    },\n    inputTooShort: function inputTooShort(args) {\n      var remainingChars = args.minimum - args.input.length;\n      return t(\"sdk.search.autocomplete.inputshort.pre\") + ' ' + remainingChars + ' ' + t(\"sdk.search.autocomplete.inputshort.post\");\n    }\n  }\n};\n\n},{\"core/i18n/i18n.service\":13}],118:[function(require,module,exports){\nvar _FieldText = require('components/FieldText.vue');\n\nvar _FieldText2 = _interopRequireDefault(_FieldText);\n\nvar _FieldLink = require('components/FieldLink.vue');\n\nvar _FieldLink2 = _interopRequireDefault(_FieldLink);\n\nvar _FieldImage = require('components/FieldImage.vue');\n\nvar _FieldImage2 = _interopRequireDefault(_FieldImage);\n\nvar _FieldGeo = require('components/FieldGeo.vue');\n\nvar _FieldGeo2 = _interopRequireDefault(_FieldGeo);\n\nvar _FieldMedia = require('components/FieldMedia.vue');\n\nvar _FieldMedia2 = _interopRequireDefault(_FieldMedia);\n\nvar _FieldVue = require('components/FieldVue.vue');\n\nvar _FieldVue2 = _interopRequireDefault(_FieldVue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = {\n  simple_field: _FieldText2.default,\n  text_field: _FieldText2.default,\n  link_field: _FieldLink2.default,\n  image_field: _FieldImage2.default,\n  geo_field: _FieldGeo2.default,\n  photo_field: _FieldImage2.default,\n  media_field: _FieldMedia2.default,\n  vue_field: _FieldVue2.default\n};\n\nmodule.exports = Fields;\n\n},{\"components/FieldGeo.vue\":205,\"components/FieldImage.vue\":206,\"components/FieldLink.vue\":207,\"components/FieldMedia.vue\":208,\"components/FieldText.vue\":209,\"components/FieldVue.vue\":210}],119:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = require('./fields');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar URLPattern = /^(https?:\\/\\/[^\\s]+)/g;\nvar PhotoPattern = /[^\\s]+.(png|jpg|jpeg|gif)$/g;\n\nvar FieldType = {\n  SIMPLE: 'simple',\n  GEO: 'geo',\n  LINK: 'link',\n  PHOTO: 'photo',\n  PHOTOLINK: \"photolink\",\n  IMAGE: 'image',\n  POINTLINK: 'pointlink',\n  ROUTE: 'route',\n  VUE: 'vue'\n};\n\nmodule.exports = {\n  /**\n   * Get Type field from field value\n   * field : Object contain the value of the field\n   * @param field\n   * @returns {string}\n   */\n  getType: function getType(field) {\n    var type = field.type;\n    if (type !== 'vue') {\n      var fieldValue = field.value;\n      var value = fieldValue && toRawType(fieldValue) === 'Object' && !fieldValue.coordinates && !fieldValue.vue ? fieldValue.value : fieldValue;\n      if (!value) type = FieldType.SIMPLE;else if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'object') {\n        if (value.coordinates) type = FieldType.GEO;else if (value.vue) type = FieldType.VUE;\n      } else if (value && Array.isArray(value)) {\n        if (value.length && value[0].photo) type = FieldType.PHOTO;else type = FieldType.SIMPLE;\n      } else if (value.toString().toLowerCase().match(PhotoPattern)) {\n        type = FieldType.PHOTO;\n      } else if (value.toString().match(URLPattern)) {\n        type = FieldType.LINK;\n      } else type = FieldType.SIMPLE;\n    }\n    return type + '_field';\n  },\n  isSimple: function isSimple(field) {\n    return this.getType(field) === FieldType.SIMPLE + '_field';\n  },\n  isLink: function isLink(field) {\n    return this.getType(field) === FieldType.LINK + '_field';\n  },\n  isImage: function isImage(field) {\n    return this.getType(field) === FieldType.IMAGE + '_field';\n  },\n  isPhoto: function isPhoto(field) {\n    return this.getType(field) === FieldType.PHOTO + '_field';\n  },\n  isVue: function isVue(field) {\n    return this.getType(field) === FieldType.VUE + '_field';\n  },\n\n  /**\n   * Method to add a new field type to Fields\n   * @param type\n   * @param field\n   */\n  add: function add(_ref) {\n    var type = _ref.type,\n        field = _ref.field;\n\n    Fields[type] = field;\n  },\n\n  /**\n   * Remove field from Fields list\n   * @param type\n   */\n  remove: function remove(type) {\n    delete Fields[type];\n  },\n\n  /**\n   * chenge type of field (example to set vue type)\n   * @param layerId\n   * @param field\n   */\n  changeConfigFieldType: function changeConfigFieldType(_ref2) {\n    var layerId = _ref2.layerId,\n        _ref2$field = _ref2.field,\n        field = _ref2$field === undefined ? {} : _ref2$field;\n\n    var layer = _catalogLayers2.default.getLayerById(layerId);\n    layer.changeConfigFieldType(field);\n  },\n\n  /**\n   * Reset origin type\n   * @param layerId\n   * @param field\n   */\n  resetConfigFieldType: function resetConfigFieldType(_ref3) {\n    var layerId = _ref3.layerId,\n        _ref3$field = _ref3.field,\n        field = _ref3$field === undefined ? {} : _ref3$field;\n\n    var layer = _catalogLayers2.default.getLayerById(layerId);\n    layer.resetConfigField(field);\n  }\n};\n\n},{\"./fields\":118,\"core/utils/utils\":67,\"store/catalog-layers\":371}],120:[function(require,module,exports){\nvar _inputservice = require('core/expression/inputservice');\n\nvar _inputservice2 = _interopRequireDefault(_inputservice);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction FormService() {\n  var _this = this;\n\n  this.state = null;\n  this.eventBus = new Vue();\n  /**\n   * property used to force some state property to force to be a certain value.\n   * It set fro example by child form service to form service parent\n   * @type {{valid: boolean, update: boolean}}\n   */\n  this.force = {\n    update: false,\n    valid: false // NOT USED FOR THE MOMENT\n  };\n  this.layer;\n  this.setters = {\n    setInitForm: function setInitForm() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._setInitForm(options);\n    },\n    setFormStructure: function setFormStructure(formStructure) {\n      this.state.formstructure = formStructure;\n    },\n\n    // setter change fields\n    setFormFields: function setFormFields() {\n      var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.state.fields = fields;\n      this.handleFieldsWithExpression(fields);\n    },\n    setupFields: function setupFields() {\n      this._setupFields();\n    },\n\n    // setter insert data into form\n    setFormData: function setFormData(fields) {\n      this.setFormFields(fields);\n    },\n\n    // setter single field\n    setField: function setField(field) {},\n\n    // settere state\n    setState: function setState(state) {\n      this._setState(state);\n    },\n\n    // setter add action\n    addActionsForForm: function addActionsForForm(actions) {},\n    postRender: function postRender(element) {\n      // hook for listener to chenge DOM\n    }\n  };\n  base(this);\n  this.init = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this._setInitForm(options);\n  };\n  // init form options passed for example by editor\n  this._setInitForm = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var fields = options.fields,\n        feature = options.feature,\n        parentData = options.parentData,\n        layer = options.layer,\n        _options$title = options.title,\n        title = _options$title === undefined ? 'Form' : _options$title,\n        formId = options.formId,\n        name = options.name,\n        _options$buttons = options.buttons,\n        buttons = _options$buttons === undefined ? {} : _options$buttons,\n        context_inputs = options.context_inputs,\n        isnew = options.isnew,\n        _options$footer = options.footer,\n        footer = _options$footer === undefined ? {} : _options$footer,\n        headerComponent = options.headerComponent;\n\n    this.layer = layer;\n    // need to be cloned\n    this.feature = feature.clone();\n    this.title = title;\n    this.formId = formId;\n    this.name = name;\n    this.buttons = buttons;\n    this.context_inputs = context_inputs;\n    this.parentData = parentData;\n    this.headerComponent = headerComponent;\n    // Property used to set forced update state of the service\n    //Used fro example from child form to set update also parent service\n    this.state = {\n      layerid: layer.getId(),\n      loading: false,\n      components: [],\n      disabledcomponents: [],\n      component: null,\n      headers: [],\n      currentheaderid: null,\n      fields: null,\n      buttons: this.buttons,\n      disabled: false,\n      isnew: isnew,\n      valid: true, // global form validation state. True at beginning\n      update: feature.isNew(), // set update in case or not is a new feature\n      // when input change will be update\n      tovalidate: {},\n      feature: feature,\n      componentstovalidate: {},\n      footer: footer,\n      ready: false\n    };\n    this.force.update = feature.isNew();\n    this.filter_expression_fields_dependencies = {}; // expression fields dependencies from filter_expression\n    this.default_expression_fields_dependencies = {}; // expression fields dependencies from default_expression\n    this.default_expression_fields_on_update = []; // since 3.8.0\n    this.listenChangeInput = true; // since 3.8.0\n    this.setFormFields(fields);\n    if (this.layer && options.formStructure) {\n      var formstructure = this.layer.getLayerEditingFormStructure(fields);\n      this.setFormStructure(formstructure);\n    }\n  };\n  this.eventBus.$on('set-loading-form', function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    return _this.state.loading = bool;\n  });\n}\n\ninherit(FormService, G3WObject);\n\nvar proto = FormService.prototype;\n\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.ready = bool;\n};\n\n/**\n * Method called when an input change value\n * @param input\n */\nproto.changeInput = function (input) {\n  //add 3.8.0 to avoid listen changes when\n  // saveDefaultExpressionFieldsNotDependencies is called\n  // TODO find better solution\n  if (true === this.listenChangeInput) {\n    this.evaluateFilterExpressionFields(input);\n    this.evaluateDefaultExpressionFields(input);\n    this.isValid(input);\n    this.isUpdated(input);\n  }\n};\n\n/**\n * Method to check if form is updated base on change on input\n * @param input\n */\nproto.isUpdated = function (input) {\n  this.state.update = this.force.update || (!this.state.update ? input.update : !!this.state.fields.find(function (field) {\n    return field.update;\n  }));\n};\n\n/**\n *\n */\nproto.setUpdate = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$force = options.force,\n      force = _options$force === undefined ? false : _options$force;\n\n  this.force.update = force;\n  this.state.update = this.force.update || bool;\n};\n\n/**\n * Method to evaluate filter expression\n * @param input\n */\nproto.evaluateDefaultExpressionFields = function () {\n  var _this2 = this;\n\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var default_expression_fields_dependencies = this.default_expression_fields_dependencies[input.name];\n  if (default_expression_fields_dependencies) {\n    this.feature.set(input.name, input.value);\n    default_expression_fields_dependencies.forEach(function (expression_dependency_field) {\n      var field = _this2._getField(expression_dependency_field);\n      var qgs_layer_id = _this2.layer.getId();\n      _inputservice2.default.handleDefaultExpressionFormInput({\n        parentData: _this2.parentData,\n        qgs_layer_id: qgs_layer_id, // the owner of feature\n        field: field, // field related\n        feature: _this2.feature //feature to transform in form_data\n      });\n    });\n  }\n};\n\n/**\n * Method to evaluate filter expression\n * @param input\n */\nproto.evaluateFilterExpressionFields = function () {\n  var _this3 = this;\n\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var filter_expression_fields_dependencies = this.filter_expression_fields_dependencies[input.name];\n  if (filter_expression_fields_dependencies) {\n    //need in case of init form service where filter_expression option has\n    //referencing_fields or referenced_columns from another layer\n    var fieldForm = this._getField(input.name);\n    fieldForm && this.feature.set(fieldForm.name, fieldForm.value);\n    filter_expression_fields_dependencies.forEach(function (expression_dependency_field) {\n      var field = _this3._getField(expression_dependency_field);\n      var qgs_layer_id = _this3.layer.getId();\n      _inputservice2.default.handleFilterExpressionFormInput({\n        parentData: _this3.parentData,\n        qgs_layer_id: qgs_layer_id, // the owner of feature\n        field: field, // field related\n        feature: _this3.feature //feature to transform in form_data\n      });\n    });\n  }\n};\n\n/**\n * Handle a field that has a `filter_expression` value object\n * \n * @since 3.8.0\n */\nproto._handleFieldWithFilterExpression = function (field, filter_expression) {\n  var _this4 = this;\n\n  if (filter_expression) {\n    var _filter_expression$re = filter_expression.referencing_fields,\n        referencing_fields = _filter_expression$re === undefined ? [] : _filter_expression$re,\n        _filter_expression$re2 = filter_expression.referenced_columns,\n        referenced_columns = _filter_expression$re2 === undefined ? [] : _filter_expression$re2;\n\n    var dependency_fields = new Set();\n\n    // TODO: add description\n    [].concat(_toConsumableArray(referenced_columns), _toConsumableArray(referencing_fields)).forEach(function (dependency_field) {\n      return dependency_fields.add(dependency_field);\n    });\n\n    dependency_fields.forEach(function (dependency_field) {\n      // TODO: shorten variable name\n      if (undefined === _this4.filter_expression_fields_dependencies[dependency_field]) {\n        _this4.filter_expression_fields_dependencies[dependency_field] = [];\n      }\n      _this4.filter_expression_fields_dependencies[dependency_field].push(field.name);\n    });\n  }\n};\n\n/**\n * Handle a field that has a `default_value` object and check if `apply_on_update` only\n * \n * @since 3.8.0\n */\nproto._handleFieldWithDefaultExpression = function (field, default_expression) {\n  var _this5 = this;\n\n  if (default_expression) {\n    var _default_expression$r = default_expression.referencing_fields,\n        referencing_fields = _default_expression$r === undefined ? [] : _default_expression$r,\n        _default_expression$r2 = default_expression.referenced_columns,\n        referenced_columns = _default_expression$r2 === undefined ? [] : _default_expression$r2,\n        _default_expression$a = default_expression.apply_on_update,\n        apply_on_update = _default_expression$a === undefined ? false : _default_expression$a;\n\n    // Skip if not apply_on_update (listen dependencies change only for new Feature)\n\n    if (!apply_on_update && !this.state.isnew) {\n      return;\n    }\n\n    var dependency_fields = new Set();\n\n    // Get array of dependency fields on default expression if exist\n    // add each of it in a Set (unique array items)\n    [].concat(_toConsumableArray(referenced_columns), _toConsumableArray(referencing_fields)).forEach(function (dependency_field) {\n      return dependency_fields.add(dependency_field);\n    });\n\n    //Only in apply update listen changeInput\n    if (apply_on_update) {\n\n      this.default_expression_fields_on_update.push(field);\n\n      dependency_fields.forEach(function (dependency_field) {\n        // TODO: shorten variable name\n        if (undefined === _this5.default_expression_fields_dependencies[dependency_field]) {\n          _this5.default_expression_fields_dependencies[dependency_field] = [];\n        }\n        _this5.default_expression_fields_dependencies[dependency_field].push(field.name);\n      });\n    }\n\n    // Call input service if a field has a default_expression and is a new feature\n    if (this.state.isnew) {\n      _inputservice2.default.handleDefaultExpressionFormInput({\n        field: field,\n        feature: this.feature,\n        qgs_layer_id: this.layer.getId(),\n        parentData: this.parentData\n      });\n    }\n  }\n};\n\n/**\n * Handle fields with associated expression\n * \n * @param {Array} [fields = []]\n */\nproto.handleFieldsWithExpression = function () {\n  var _this6 = this;\n\n  var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  // TODO: add description\n  fields.forEach(function (field) {\n    var _field$input$options = field.input.options,\n        options = _field$input$options === undefined ? {} : _field$input$options;\n\n    _this6._handleFieldWithFilterExpression(field, options.filter_expression);\n    _this6._handleFieldWithDefaultExpression(field, options.default_expression);\n  });\n  // start to evaluate filter expression field\n  Object.keys(this.filter_expression_fields_dependencies).forEach(function (name) {\n    _this6.evaluateFilterExpressionFields({ name: name });\n  });\n};\n\nproto.setCurrentFormPercentage = function (perc) {\n  this.layer.setFormPercentage(perc);\n};\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto.setValidComponent = function (_ref) {\n  var id = _ref.id,\n      valid = _ref.valid;\n\n  this.state.componentstovalidate[id] = valid;\n  this.isValid();\n};\n\nproto.getValidComponent = function (id) {\n  return this.state.componentstovalidate[id];\n};\n\n// Every input send to form it valid value that will change the general state of form\nproto.isValid = function (input) {\n  var _this7 = this;\n\n  if (input) {\n    // check mutually\n    if (input.validate.mutually) {\n      if (!input.validate.required) {\n        if (!input.validate.empty) {\n          input.validate._valid = input.validate.valid;\n          input.validate.mutually_valid = input.validate.mutually.reduce(function (previous, inputname) {\n            return previous && _this7.state.tovalidate[inputname].validate.empty;\n          }, true);\n          input.validate.valid = input.validate.mutually_valid && input.validate.valid;\n        } else {\n          input.value = null;\n          input.validate.mutually_valid = true;\n          input.validate.valid = true;\n          input.validate._valid = true;\n          var countNoTEmptyInputName = [];\n          for (var i = input.validate.mutually.length; i--;) {\n            var inputname = input.validate.mutually[i];\n            !this.state.tovalidate[inputname].validate.empty && countNoTEmptyInputName.push(inputname);\n          }\n          if (countNoTEmptyInputName.length < 2) {\n            countNoTEmptyInputName.forEach(function (inputname) {\n              _this7.state.tovalidate[inputname].validate.mutually_valid = true;\n              _this7.state.tovalidate[inputname].validate.valid = true;\n              setTimeout(function () {\n                _this7.state.tovalidate[inputname].validate.valid = _this7.state.tovalidate[inputname].validate._valid;\n                _this7.state.valid = _this7.state.valid && _this7.state.tovalidate[inputname].validate.valid;\n              });\n            });\n          }\n        }\n      }\n      //check if min_field or max_field is set\n    } else if (!input.validate.empty && (input.validate.min_field || input.validate.max_field)) {\n      var input_name = input.validate.min_field || input.validate.max_field;\n      input.validate.valid = input.validate.min_field ? this.state.tovalidate[input.validate.min_field].validate.empty || 1 * input.value > 1 * this.state.tovalidate[input.validate.min_field].value : this.state.tovalidate[input.validate.max_field].validate.empty || 1 * input.value < 1 * this.state.tovalidate[input.validate.max_field].value;\n      if (input.validate.valid) this.state.tovalidate[input_name].validate.valid = true;\n    }\n  }\n  this.state.valid = Object.values(this.state.tovalidate).reduce(function (previous, input) {\n    return previous && input.validate.valid;\n  }, true) && Object.values(this.state.componentstovalidate).reduce(function (previous, valid) {\n    return previous && valid;\n  }, true);\n};\n\nproto.addComponents = function () {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = components[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var component = _step.value;\n\n      this.addComponent(component);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.addComponent = function (component) {\n  var id = component.id,\n      title = component.title,\n      name = component.name,\n      icon = component.icon,\n      valid = component.valid,\n      headerComponent = component.headerComponent,\n      _component$header = component.header,\n      header = _component$header === undefined ? true : _component$header;\n\n  if (valid !== undefined) {\n    this.state.componentstovalidate[id] = valid;\n    this.state.valid = this.state.valid && valid;\n    this.eventBus.$emit('add-component-validate', {\n      id: id,\n      valid: valid\n    });\n  }\n  // we can set a component that can be part of headers (tabs or not)\n  if (header) {\n    this.state.headers.push({ title: title, name: name, id: id, icon: icon, component: headerComponent });\n    this.state.currentheaderid = this.state.currentheaderid || id;\n  }\n\n  this.state.components.push(component);\n};\n\nproto.replaceComponent = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      component = _ref2.component;\n\n  var index = this.state.components.findIndex(function (component) {\n    return component.id === id;\n  });\n  this.state.components.splice(index, 1, component);\n};\n\nproto.disableComponent = function (_ref3) {\n  var id = _ref3.id,\n      disabled = _ref3.disabled;\n\n  if (disabled) this.state.disabledcomponents.push(id);else this.state.disabledcomponents = this.state.disabledcomponents.filter(function (disableId) {\n    return disabledId !== id;\n  });\n};\n\nproto.setCurrentComponentById = function (id) {\n  if (this.state.disabledcomponents.indexOf(id) === -1) {\n    this.setIdHeader(id);\n    this.state.component = this.state.components.find(function (component) {\n      return component.id === id;\n    }).component;\n    return this.state.component;\n  }\n};\n\n/**\n * setRootComponent (is form )\n */\nproto.setRootComponent = function () {\n  this.state.component = this.state.components.find(function (component) {\n    return component.root;\n  }).component;\n};\n\nproto.getRootComponent = function () {\n  return this.state.components.find(function (component) {\n    return component.root;\n  }).component;\n};\n\nproto.isRootComponent = function (component) {\n  return this.getRootComponent() == component;\n};\n\nproto.getComponentById = function (id) {\n  return this.state.components.find(function (component) {\n    return component.id === id;\n  });\n};\n\nproto.setComponent = function (component) {\n  this.state.component = component;\n};\n\nproto.addedComponentTo = function () {\n  var formcomponent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'body';\n\n  this.state.addedcomponentto[formcomponent] = true;\n};\n\nproto.addToValidate = function (input) {\n  this.state.tovalidate[input.name] = input;\n  // check if is mounted on form gui otherwise leave form component to run is Valid whe form is mounted on dom\n  this.state.ready && this.isValid(input);\n};\n\nproto.removeToValidate = function (input) {\n  delete this.state.tovalidate[input.name];\n  this.isValid();\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto._setState = function (state) {\n  this.state = state;\n};\n\nproto.getFields = function () {\n  return this.state.fields;\n};\n\nproto._getField = function (fieldName) {\n  return this.state.fields.find(function (field) {\n    return field.name === fieldName;\n  });\n};\n\nproto.getEventBus = function () {\n  return this.eventBus;\n};\n\nproto.setIdHeader = function (id) {\n  this.state.currentheaderid = id;\n};\n\nproto.getContext = function () {\n  return this.context_inputs.context;\n};\n\nproto.getSession = function () {\n  return this.getContext().session;\n};\n\nproto.getInputs = function () {\n  return this.context_inputs.inputs;\n};\n\n/**\n * handleRelation\n */\n\nproto.handleRelation = function (_ref4) {\n  //OVERWRITE BY  PLUGIN EDITING PLUGIN\n\n  var relationId = _ref4.relationId,\n      feature = _ref4.feature;\n};\n\n//method to clear all the open things opened by service\nproto.clearAll = function () {\n  this.eventBus.$off('addtovalidate');\n  this.eventBus.$off('set-main-component');\n  this.eventBus.$off('set-loading-form');\n  this.eventBus.$off('component-validation');\n  this.eventBus.$off('disable-component');\n};\n\n/**\n * @since 3.8.0\n * @returns {Promise<void>}\n * Method\n */\nproto.saveDefaultExpressionFieldsNotDependencies = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _this8 = this;\n\n  var alreadyRequestDefaultExpressionFields, _loop, i, defaultExpressionPromises;\n\n  return regeneratorRuntime.wrap(function _callee$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (!(0 === this.default_expression_fields_on_update.length)) {\n            _context3.next = 4;\n            break;\n          }\n\n          return _context3.abrupt('return');\n\n        case 4:\n          // disable listen changeInput\n          // TODO improve\n          this.listenChangeInput = false;\n          //Array contain field name already resolved with server default_expression request\n          alreadyRequestDefaultExpressionFields = [];\n          // loop through default_expression_fields\n\n          _loop = /*#__PURE__*/regeneratorRuntime.mark(function _loop(i) {\n            var dFs, _loop2, _i, _ret2;\n\n            return regeneratorRuntime.wrap(function _loop$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    // extract all dependency fields of current field\n                    dFs = Object.keys(_this8.default_expression_fields_dependencies).filter(function (field) {\n                      return (\n                        // check if dependency field is field on update\n                        _this8.default_expression_fields_on_update.find(function (_ref6) {\n                          var name = _ref6.name;\n                          return name === field;\n                        }) &&\n                        // if has bind current field\n                        _this8.default_expression_fields_dependencies[field].find(function (fieldName) {\n                          return fieldName === _this8.default_expression_fields_on_update[i].name;\n                        })\n                      );\n                    });\n                    // id current field has a Array (at least one) dependency fields\n                    // need to evaluate its value and after evaluate field value expression\n\n                    _loop2 = /*#__PURE__*/regeneratorRuntime.mark(function _loop2(_i) {\n                      var value;\n                      return regeneratorRuntime.wrap(function _loop2$(_context) {\n                        while (1) {\n                          switch (_context.prev = _context.next) {\n                            case 0:\n                              if (!(\"undefined\" !== typeof alreadyRequestDefaultExpressionFields.find(function (name) {\n                                return name === dFs[_i];\n                              }))) {\n                                _context.next = 2;\n                                break;\n                              }\n\n                              return _context.abrupt('return', 'continue');\n\n                            case 2:\n                              _context.prev = 2;\n                              _context.next = 5;\n                              return _inputservice2.default.handleDefaultExpressionFormInput({\n                                field: _this8._getField(dFs[_i]),\n                                feature: _this8.feature,\n                                qgs_layer_id: _this8.layer.getId(),\n                                parentData: _this8.parentData\n                              });\n\n                            case 5:\n                              value = _context.sent;\n\n                              // update field with evaluated value to feature\n                              _this8.feature.set(dFs[_i], value);\n                              // add to array\n                              alreadyRequestDefaultExpressionFields.push(dFs[_i]);\n                              _context.next = 12;\n                              break;\n\n                            case 10:\n                              _context.prev = 10;\n                              _context.t0 = _context['catch'](2);\n\n                            case 12:\n                            case 'end':\n                              return _context.stop();\n                          }\n                        }\n                      }, _loop2, _this8, [[2, 10]]);\n                    });\n                    _i = 0;\n\n                  case 3:\n                    if (!(_i < dFs.length)) {\n                      _context2.next = 11;\n                      break;\n                    }\n\n                    return _context2.delegateYield(_loop2(_i), 't0', 5);\n\n                  case 5:\n                    _ret2 = _context2.t0;\n\n                    if (!(_ret2 === 'continue')) {\n                      _context2.next = 8;\n                      break;\n                    }\n\n                    return _context2.abrupt('continue', 8);\n\n                  case 8:\n                    _i++;\n                    _context2.next = 3;\n                    break;\n\n                  case 11:\n                  case 'end':\n                    return _context2.stop();\n                }\n              }\n            }, _loop, _this8);\n          });\n          i = 0;\n\n        case 8:\n          if (!(i < this.default_expression_fields_on_update.length)) {\n            _context3.next = 13;\n            break;\n          }\n\n          return _context3.delegateYield(_loop(i), 't0', 10);\n\n        case 10:\n          i++;\n          _context3.next = 8;\n          break;\n\n        case 13:\n\n          // array of defaultExpressionPromises request\n          defaultExpressionPromises = [];\n\n\n          this.default_expression_fields_on_update.forEach(function (field) {\n            if (\"undefined\" === typeof alreadyRequestDefaultExpressionFields.find(function (name) {\n              return name === field.name;\n            })) {\n              defaultExpressionPromises.push(_inputservice2.default.handleDefaultExpressionFormInput({\n                field: field,\n                feature: _this8.feature,\n                qgs_layer_id: _this8.layer.getId(),\n                parentData: _this8.parentData\n              }));\n            }\n          });\n\n          _context3.prev = 15;\n          _context3.next = 18;\n          return Promise.allSettled(defaultExpressionPromises);\n\n        case 18:\n          _context3.next = 22;\n          break;\n\n        case 20:\n          _context3.prev = 20;\n          _context3.t1 = _context3['catch'](15);\n\n        case 22:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee, this, [[15, 20]]);\n}));\n\nmodule.exports = FormService;\n\n},{\"core/expression/inputservice\":10,\"core/g3wobject\":12,\"core/utils/utils\":67}],121:[function(require,module,exports){\nvar _Form = require('components/Form.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Form);\n\nvar _FormBody = require('components/FormBody.vue');\n\nvar _FormBody2 = _interopRequireDefault(_FormBody);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/form/formservice');\n\nfunction FormComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$id = options.id,\n      id = _options$id === undefined ? 'form' : _options$id,\n      name = options.name,\n      title = options.title,\n      headerComponent = options.headerComponent;\n\n  base(this, options);\n  options.service = options.service ? new options.service() : new Service();\n  options.vueComponentObject = options.vueComponentObject || vueComponentOptions;\n  //set element of the form\n  var components = options.components || [{\n    id: id,\n    title: title,\n    name: name,\n    root: true,\n    component: _FormBody2.default,\n    headerComponent: headerComponent\n  }];\n  options.perc = options.layer.getFormPercentage() !== null ? options.layer.getFormPercentage() : options.perc;\n  // initialize component\n  this.init(options);\n  this.getService().addComponents(components);\n  this.getService().setComponent(components[0].component);\n  /**\n   * Used to add component to form body\n   * @param component\n   */\n  this.addBodyFormComponent = function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        component = _ref.component,\n        _ref$where = _ref.where,\n        where = _ref$where === undefined ? 'after' : _ref$where;\n\n    this.getInternalComponent().body.components[where].push(component);\n  };\n\n  this.addBodyFormComponents = function () {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$components = _ref2.components,\n        components = _ref2$components === undefined ? [] : _ref2$components,\n        _ref2$where = _ref2.where,\n        where = _ref2$where === undefined ? \"after\" : _ref2$where;\n\n    components.forEach(function (component) {\n      return _this.addBodyFormComponent({\n        component: component,\n        where: where\n      });\n    });\n  };\n\n  this.addFormComponents = function () {\n    var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.getService().addComponents(components);\n  };\n\n  this.addFormComponent = function (component) {\n    component && this.getService().addComponent(component);\n  };\n  // some utilities methods\n  this.addDependecyComponents = function (components) {\n    this.getService().addDependecyComponents(components);\n  };\n  this.addComponentBeforeBody = function (Component) {\n    //this.getService().addedComponentTo('body');\n    //this.insertComponentAt(1, Component);\n  };\n\n  this.addComponentAfterBody = function (Component) {\n    //this.getService().addedComponentTo('body');\n    //this.insertComponentAt(2, Component)\n  };\n\n  this.addComponentBeforeFooter = function () {\n    //TODO\n  };\n\n  this.addComponentAfterFooter = function (Component) {\n    //TODO\n  };\n  // overwrite father mount method.\n  this.mount = function (parent, append) {\n    return base(this, 'mount', parent, append).then(function () {\n      // set modal window to true\n      _gui2.default.setModal(true);\n    });\n  };\n\n  this.layout = function () {\n    this.internalComponent.reloadLayout();\n  };\n}\n\ninherit(FormComponent, Component);\n\nmodule.exports = FormComponent;\n\n},{\"components/Form.vue\":212,\"components/FormBody.vue\":213,\"core/utils/utils\":67,\"gui/component/component\":115,\"gui/form/formservice\":120,\"services/gui\":358}],122:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction CheckBoxService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var value = options.state.input.options.values.find(function (value) {\n    return value.checked === false;\n  });\n  options.validatorOptions = {\n    values: options.state.input.options.values.map(function (value) {\n      return value;\n    })\n  };\n  if (options.state.value === null && !options.state.forceNull) options.state.value = value.value;\n  base(this, options);\n}\n\ninherit(CheckBoxService, Service);\n\nvar proto = CheckBoxService.prototype;\n\nproto.convertCheckedToValue = function (checked) {\n  checked = checked === null || checked === undefined ? false : checked;\n  var option = this.state.input.options.values.find(function (value) {\n    return value.checked === checked;\n  });\n  this.state.value = option.value;\n  return this.state.value;\n};\n\nproto.convertValueToChecked = function () {\n  var valueToCheck = this.state.value;\n  if (valueToCheck === null || valueToCheck === undefined) return false;\n  var option = this.state.input.options.values.find(function (value) {\n    return value.value == valueToCheck;\n  });\n  if (option === undefined) {\n    option = this.state.input.options.values.find(function (value) {\n      return value.checked === false;\n    });\n    this.state.value = option.value;\n  }\n  return option.checked;\n};\n\nmodule.exports = CheckBoxService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":145}],123:[function(require,module,exports){\nvar _InputCheckbox = require('components/InputCheckbox.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputCheckbox);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar CheckBoxInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = CheckBoxInput;\n\n},{\"components/InputCheckbox.vue\":233}],124:[function(require,module,exports){\nvar _InputColor = require('components/InputColor.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputColor);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextInput;\n\n},{\"components/InputColor.vue\":234}],125:[function(require,module,exports){\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base,\n    convertQGISDateTimeFormatToMoment = _require.convertQGISDateTimeFormatToMoment;\n\nvar Service = require('gui/inputs/service');\n\nfunction DateTimePickerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.validatorOptions = {};\n  base(this, options);\n}\n\ninherit(DateTimePickerService, Service);\n\nvar proto = DateTimePickerService.prototype;\n\nproto.getLocale = function () {\n  var applicationConfig = _application2.default.getConfig();\n  return applicationConfig.user.i18n ? applicationConfig.user.i18n : 'en';\n};\n\nproto.convertQGISDateTimeFormatToMoment = function (datetimeformat) {\n  return convertQGISDateTimeFormatToMoment(datetimeformat);\n};\n\nproto.setValidatorOptions = function (options) {\n  this.validatorOptions = options;\n};\n\nmodule.exports = DateTimePickerService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":145,\"services/application\":348}],126:[function(require,module,exports){\nvar _InputDateTimePicker = require('components/InputDateTimePicker.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputDateTimePicker);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar DateTimePickerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = DateTimePickerInput;\n\n},{\"components/InputDateTimePicker.vue\":235}],127:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction FloatService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(FloatService, Service);\n\nmodule.exports = FloatService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":145}],128:[function(require,module,exports){\nvar _InputFloat = require('components/InputFloat.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputFloat);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar FloatInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = FloatInput;\n\n},{\"components/InputFloat.vue\":236}],129:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _InputBase = require('components/InputBase.vue');\n\nvar _InputBase2 = _interopRequireDefault(_InputBase);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InputServices = require('./services');\n\nvar Input = {\n  props: ['state'],\n  mixins: [_mixins.baseInputMixin],\n  components: {\n    'baseinput': _InputBase2.default\n  },\n  watch: {\n    'notvalid': function notvalid(_notvalid) {\n      _notvalid && this.service.setErrorMessage(this.state);\n    },\n    'state.value': function stateValue() {\n      var _this = this;\n\n      if (\"undefined\" !== typeof this.state.input.options.default_expression) {\n        // need to postpone state.value watch parent that use mixin\n        setTimeout(function () {\n          return _this.change();\n        });\n      }\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.service = new InputServices[this.state.input.type]({\n      state: this.state\n    });\n    this.$watch(function () {\n      return _applicationState2.default.language;\n    }, function () {\n      return _this2.service.setErrorMessage(_this2.state);\n    });\n    this.state.editable && this.state.validate.required && this.service.validate();\n    this.$emit('addinput', this.state);\n    /**\n     * in case of input value is fill with default value option we need to emit changeinput event\n     * without check validation. Example:\n     * {\n        \"name\": \"id\",\n        \"type\": \"integer\",\n        \"label\": \"id\",\n        \"editable\": false,\n        \"validate\": {\n            \"required\": true,\n            \"unique\": true\n        },\n        \"pk\": true,\n        \"default\": \"nextval('g3wsuite.zone_id_seq'::regclass)\",\n        \"input\": {\n            \"type\": \"text\",\n            \"options\": {}\n        }\n      }\n     in this case if we start a validation, it fail because default value is a string while input is interger\n     */\n    this.state.value_from_default_value && this.$emit('changeinput', this.state);\n  },\n  destroyed: function destroyed() {\n    // emit remove input to form (in case for example tab visibility condition)\n    this.$emit('removeinput', this.state);\n  }\n};\n\nmodule.exports = Input;\n\n},{\"./services\":146,\"components/InputBase.vue\":232,\"mixins\":340,\"store/application-state\":370}],130:[function(require,module,exports){\nvar InputsComponents = {\n  'text_input': require('./text/vue/text'),\n  'texthtml_input': require('./texthtml/vue/texthtml'),\n  'textarea_input': require('./textarea/vue/textarea'),\n  'integer_input': require('./integer/vue/integer'),\n  'string_input': require('./text/vue/text'), //temporary\n  'float_input': require('./float/vue/float'),\n  'radio_input': require('./radio/vue/radio'),\n  'check_input': require('./checkbox/vue/checkbox'),\n  'range_input': require('./range/vue/range'),\n  'datetimepicker_input': require('./datetimepicker/vue/datetimepicker'),\n  'unique_input': require('./unique/vue/unique'),\n  'select_input': require('./select/vue/select'),\n  'media_input': require('./media/vue/media'),\n  'select_autocomplete_input': require('./select/vue/select'),\n  'picklayer_input': require('./picklayer/vue/picklayer'),\n  'color_input': require('./color/vue/color'),\n  'slider_input': require('./sliderrange/vue/sliderrange'),\n  'lonlat_input': require('./lonlat/vue/lonlat')\n};\n\nmodule.exports = InputsComponents;\n\n},{\"./checkbox/vue/checkbox\":123,\"./color/vue/color\":124,\"./datetimepicker/vue/datetimepicker\":126,\"./float/vue/float\":128,\"./integer/vue/integer\":132,\"./lonlat/vue/lonlat\":134,\"./media/vue/media\":136,\"./picklayer/vue/picklayer\":138,\"./radio/vue/radio\":140,\"./range/vue/range\":142,\"./select/vue/select\":144,\"./sliderrange/vue/sliderrange\":148,\"./text/vue/text\":149,\"./textarea/vue/textarea\":150,\"./texthtml/vue/texthtml\":151,\"./unique/vue/unique\":153}],131:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction IntegerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(IntegerService, Service);\n\nmodule.exports = IntegerService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":145}],132:[function(require,module,exports){\nvar _InputInteger = require('components/InputInteger.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputInteger);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar IntegerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = IntegerInput;\n\n},{\"components/InputInteger.vue\":239}],133:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction LonLatService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.coordinatebutton;\n  this.mapService = _gui2.default.getComponent('map').getService();\n  this.mapEpsg = this.mapService.getCrs();\n  this.mapControlToggleEventHandler = function (evt) {\n    if (evt.target.isToggled() && evt.target.isClickMap()) {\n      _this.coordinatebutton.active && _this.toggleGetCoordinate();\n    }\n  };\n  this.map = _gui2.default.getComponent('map').getService().getMap();\n  this.outputEpsg = this.state.epsg || this.mapEpsg;\n  this.eventMapKey;\n}\n\ninherit(LonLatService, Service);\n\nvar proto = LonLatService.prototype;\n\nproto.setCoordinateButtonReactiveObject = function (coordinatebutton) {\n  this.coordinatebutton = coordinatebutton;\n};\n\nproto.validate = function () {\n  if (this.state.values.lon < -180) this.state.values.lon = -180;else if (this.state.values.lon > 180) this.state.values.lon = 180;\n  if (this.state.values.lat < -90) this.state.values.lon = -90;else if (this.state.values.lat > 90) this.state.values.lon = 90;\n  this.state.validate.valid = !Number.isNaN(1 * this.state.values.lon);\n};\n\nproto.toggleGetCoordinate = function () {\n  this.coordinatebutton.active = !this.coordinatebutton.active;\n  this.coordinatebutton.active ? this.startToGetCoordinates() : this.stopToGetCoordinates();\n};\n\nproto.startToGetCoordinates = function () {\n  var _this2 = this;\n\n  this.mapService.deactiveMapControls();\n  this.mapService.on('mapcontrol:toggled', this.mapControlToggleEventHandler);\n  this.eventMapKey = this.map.on('click', function (evt) {\n    evt.originalEvent.stopPropagation();\n    evt.preventDefault();\n    var coordinate = _this2.mapEpsg !== _this2.outputEpsg ? ol.proj.transform(evt.coordinate, _this2.mapEpsg, _this2.outputEpsg) : evt.coordinate;\n    _this2.state.value = [coordinate];\n\n    var _coordinate = _slicedToArray(coordinate, 2),\n        lon = _coordinate[0],\n        lat = _coordinate[1];\n\n    _this2.state.values.lon = lon;\n    _this2.state.values.lat = lat;\n  });\n};\n\nproto.stopToGetCoordinates = function () {\n  ol.Observable.unByKey(this.eventMapKey);\n  this.mapService.off('mapcontrol:toggled', this.mapControlToggleEventHandler);\n};\n\nproto.clear = function () {\n  this.stopToGetCoordinates();\n};\n\nmodule.exports = LonLatService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":145,\"services/gui\":358}],134:[function(require,module,exports){\nvar _InputLonLat = require('components/InputLonLat.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputLonLat);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar LatLontInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = LatLontInput;\n\n},{\"components/InputLonLat.vue\":240}],135:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction MediaService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(MediaService, Service);\n\nmodule.exports = MediaService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":145}],136:[function(require,module,exports){\nvar _InputMedia = require('components/InputMedia.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputMedia);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar MediaInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = MediaInput;\n\n},{\"components/InputMedia.vue\":241}],137:[function(require,module,exports){\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PickFeatureInteraction = require('g3w-ol/interactions/pickfeatureinteraction');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar _require = require('core/utils/geo'),\n    getQueryLayersPromisesByCoordinates = _require.getQueryLayersPromisesByCoordinates;\n\nfunction PickLayerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.pick_type = options.pick_type || 'wms';\n  this.ispicked = false;\n  this.fields = options.fields || [options.value];\n  this.layerId = options.layer_id;\n  this.mapService = _gui2.default.getService('map');\n  this.interaction = this.pick_type === 'map' ? new PickFeatureInteraction({\n    layers: [this.mapService.getLayerById(this.layerId)]\n  }) : new PickCoordinatesInteraction();\n}\n\nvar proto = PickLayerService.prototype;\n\nproto.isPicked = function () {\n  return this.ispicked;\n};\n\n//bind interrupt event\nproto.escKeyUpHandler = function (_ref) {\n  var keyCode = _ref.keyCode,\n      owner = _ref.data.owner;\n\n  keyCode === 27 && owner.unpick();\n};\n\nproto.unbindEscKeyUp = function () {\n  $(document).unbind('keyup', this.escKeyUpHandler);\n};\n\nproto.bindEscKeyUp = function () {\n  $(document).on('keyup', { owner: this }, this.escKeyUpHandler);\n};\n\nproto.pick = function () {\n  var _this = this;\n\n  return new Promise(function (resolve, reject) {\n    _this.bindEscKeyUp();\n    var values = {};\n    _this.ispicked = true;\n    var afterPick = function afterPick(feature) {\n      if (feature) {\n        var attributes = feature.getProperties();\n        _this.fields.forEach(function (field) {\n          values[field] = attributes[field];\n        });\n        resolve(values);\n      } else reject();\n      _this.ispicked = false;\n      _this.unpick();\n    };\n    _gui2.default.setModal(false);\n    _this.mapService.addInteraction(_this.interaction);\n    _this.interaction.once('picked', function (event) {\n      if (_this.pick_type === 'map') {\n        var feature = event.feature;\n        afterPick(feature);\n      } else if (_this.pick_type === 'wms') {\n        var layer = _mapLayers2.default.getLayerById(_this.layerId);\n        if (layer) {\n          getQueryLayersPromisesByCoordinates([layer], {\n            map: _this.mapService.getMap(),\n            feature_count: 1,\n            coordinates: event.coordinate\n          }).then(function (response) {\n            var _response$0$data = response[0].data,\n                data = _response$0$data === undefined ? [] : _response$0$data;\n\n            var feature = data.length && data[0].features[0] || null;\n            afterPick(feature);\n          });\n        }\n      }\n    });\n  });\n};\n\nproto.unpick = function () {\n  this.mapService.removeInteraction(this.interaction);\n  _gui2.default.setModal(true);\n  this.unbindEscKeyUp();\n  this.ispicked = false;\n};\n\nproto.clear = function () {\n  this.isPicked() && this.unpick();\n  this.mapService = this.interaction = this.field = null;\n};\n\nmodule.exports = PickLayerService;\n\n},{\"core/utils/geo\":64,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"g3w-ol/interactions/pickfeatureinteraction\":105,\"services/gui\":358,\"store/map-layers\":374}],138:[function(require,module,exports){\nvar _InputPickLayer = require('components/InputPickLayer.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputPickLayer);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar PickLayerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = PickLayerInput;\n\n},{\"components/InputPickLayer.vue\":242}],139:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction RadioService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(RadioService, Service);\n\nmodule.exports = RadioService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":145}],140:[function(require,module,exports){\nvar _InputRadio = require('components/InputRadio.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputRadio);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RadioInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RadioInput;\n\n},{\"components/InputRadio.vue\":243}],141:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\nvar Validators = require('core/utils/validators');\n\nfunction RangeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$state$input$ = options.state.input.options.values[0],\n      min = _options$state$input$.min,\n      max = _options$state$input$.max;\n\n  options.state.info = '[MIN: ' + min + ' - MAX: ' + max + ']';\n  base(this, options);\n  var validator = Validators.get('range', {\n    min: 1 * min,\n    max: 1 * max\n  });\n  this.setValidator(validator);\n}\n\ninherit(RangeService, Service);\n\nvar proto = Service.prototype;\n\nproto.isValueInRange = function (value, min, max) {\n  return value <= max && value >= min;\n};\n\nmodule.exports = RangeService;\n\n},{\"core/utils/utils\":67,\"core/utils/validators\":68,\"gui/inputs/service\":145}],142:[function(require,module,exports){\nvar _InputRange = require('components/InputRange.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputRange);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RangeInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RangeInput;\n\n},{\"components/InputRange.vue\":244}],143:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction SelectService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.layer = null;\n}\n\ninherit(SelectService, Service);\n\nvar proto = SelectService.prototype;\n\nproto._getLayerById = function (layer_id) {\n  return _catalogLayers2.default.getLayerById(layer_id);\n};\n\nproto.addValue = function (value) {\n  this.state.input.options.values.push(value);\n};\n\nproto.getKeyByValue = function () {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      search = _ref.search;\n\n  var options = this.state.input.options;\n  var value = options.value,\n      key = options.key;\n\n  this.getData({\n    key: value,\n    value: key,\n    search: search\n  }).then(function (arrayValues) {\n    var _arrayValues = _slicedToArray(arrayValues, 1),\n        _value = _arrayValues[0];\n\n    var key = _value.$value,\n        value = _value.text;\n\n    _this.addValue({\n      key: key,\n      value: value\n    });\n  }).catch(function (err) {\n    return console.log(err);\n  });\n};\n\nproto.getData = function () {\n  var _this2 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$layer_id = _ref2.layer_id,\n      layer_id = _ref2$layer_id === undefined ? this.state.input.options.layer_id : _ref2$layer_id,\n      _ref2$key = _ref2.key,\n      key = _ref2$key === undefined ? this.state.input.options.key : _ref2$key,\n      _ref2$value = _ref2.value,\n      value = _ref2$value === undefined ? this.state.input.options.value : _ref2$value,\n      search = _ref2.search;\n\n  var search_value = (key + '|' + search).trim();\n  return new Promise(function (resolve, reject) {\n    if (!_this2._layer) _this2._layer = _this2._getLayerById(layer_id);\n    _this2._layer.getDataTable({\n      suggest: search_value,\n      ordering: key\n    }).then(function (response) {\n      var values = [];\n      var features = response.features;\n      for (var i = 0; i < features.length; i++) {\n        values.push({\n          text: features[i].properties[key],\n          id: i,\n          $value: features[i].properties[value]\n        });\n      }\n      resolve(values);\n    }).fail(function (err) {\n      return reject(err);\n    });\n  });\n};\n\nmodule.exports = SelectService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":145,\"store/catalog-layers\":371}],144:[function(require,module,exports){\nvar _InputSelect = require('components/InputSelect.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputSelect);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar SelectInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = SelectInput;\n\n},{\"components/InputSelect.vue\":245}],145:[function(require,module,exports){\nvar Validators = require('core/utils/validators');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nfunction Service() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  // set state of input\n  this.state = options.state || {};\n  // type of input\n  //this.state.validate.required && this.setValue(this.state.value);\n  /*\n  * set starting value of input based on value or default value on options\n   */\n  this.setValue(this.state.value);\n  this.setEmpty(this.state.value);\n  var type = this.state.type;\n  var validatorOptions = options.validatorOptions || this.state.input.options || {};\n  // useful for the validator to validate input\n  this._validator = Validators.get(type, validatorOptions);\n  this.setErrorMessage(options.state);\n}\n\nvar proto = Service.prototype;\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getValue = function () {\n  return this.state.value;\n};\n\n/**\n * @param value\n *\n * @returns {void}\n */\nproto.setValue = function (value) {\n\n  if (null !== value || undefined !== value) {\n    return;\n  }\n\n  var options = this.state.input.options;\n\n  var default_value = options.default;\n\n  /** @TODO (maybe need to removed in v3.9.0) double check G3W-ADMIN server configuration. */\n  if (Array.isArray(options)) {\n    if (options[0].default) {\n      default_value = options[0].default;\n    } else if (Array.isArray(options.values) && options.values.length > 0) {\n      default_value = options.values[0] && (options.values[0].value || options.values[0]);\n    }\n  }\n\n  // check if default value is set\n  var get_default_value = this.state.get_default_value && // ref: core/layers/tablelayer.js::getFieldsWithValues()\n  undefined !== default_value && null !== default_value;\n\n  // check if we can state.check get_default_value from input.options.default is set\n  if (get_default_value && undefined === options.default_expression) {\n    this.state.value = default_value;\n  }\n\n  this.state.value_from_default_value = get_default_value;\n};\n\nproto.addValueToValues = function (value) {\n  this.state.input.options.values.unshift(value);\n};\n\nproto._getValidatorType = function () {\n  return this.state.type;\n};\n\nproto.setState = function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = _.isObject(state) ? state : {};\n};\n\n// return validator\nproto.getValidator = function () {\n  return this._validator;\n};\n\nproto.setValidator = function (validator) {\n  this._validator = validator;\n};\n\nproto.setEmpty = function () {\n  this.state.validate.empty = !(Array.isArray(this.state.value) && this.state.value.length || !_.isEmpty(_.trim(this.state.value)));\n};\n\n// general method to check the value of the state is valid or not\nproto.validate = function () {\n  if (this.state.validate.empty) {\n    this.state.validate.empty = true;\n    this.state.value = null;\n    this.state.validate.unique = true;\n    // check if require or check validation\n    this.state.validate.valid = this.state.validate.required ? false : this._validator.validate(this.state.value);\n  } else {\n    if (this.state.input.type === 'integer' || this.state.input.type === 'float') {\n      if (+this.state.value < 0) {\n        this.state.value = null;\n        this.state.validate.empty = true;\n        this.state.validate.valid = !this.state.validate.required;\n      } else this.state.validate.valid = this._validator.validate(this.state.value);\n    }\n    if (this.state.validate.exclude_values && this.state.validate.exclude_values.size) {\n      this.state.validate.valid = !this.state.validate.exclude_values.has(this.state.value);\n    } else this.state.validate.valid = this._validator.validate(this.state.value);\n  }\n  return this.state.validate.valid;\n};\n\nproto.setErrorMessage = function (input) {\n  var message = void 0;\n  if (input.validate.mutually && !input.validate.mutually_valid) this.state.validate.message = t(\"sdk.form.inputs.input_validation_mutually_exclusive\") + ' ( ' + input.validate.mutually.join(',') + ' )';else if (input.validate.max_field) this.state.validate.message = t(\"sdk.form.inputs.input_validation_max_field\") + ' (' + input.validate.max_field + ')';else if (input.validate.min_field) this.state.validate.message = t(\"sdk.form.inputs.input_validation_min_field\") + ' (' + input.validate.min_field + ')';else if (input.validate.unique && input.validate.exclude_values && input.validate.exclude_values.size) this.state.validate.message = '' + t(\"sdk.form.inputs.input_validation_exclude_values\");else if (input.validate.required) {\n    message = t(\"sdk.form.inputs.input_validation_error\") + ' ( ' + t(\"sdk.form.inputs.\" + input.type) + ' )';\n    if (this.state.info) {\n      message = message + '\\n                 <div>\\n                  <b>' + this.state.info + '</b>\\n                 </div>         \\n      ';\n    }\n    this.state.validate.message = this.state.info || message;\n  } else this.state.validate.message = this.state.info;\n};\n/**\n * Method to set update\n */\nproto.setUpdate = function () {\n  var _state = this.state,\n      value = _state.value,\n      _value = _state._value;\n\n  if (this.state.input.type === 'media' && toRawType(value) !== 'Object' && toRawType(_value) !== 'Object') {\n    this.state.update = value.value != _value.value;\n  } else if (this.state.input.type === \"datetimepicker\") {\n    //check\n    this.state.update = (null !== value ? value.toUpperCase() : value) != (_value ? _value.toUpperCase() : _value);\n  } else {\n    this.state.update = value != _value;\n  }\n};\n\nmodule.exports = Service;\n\n},{\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"core/utils/validators\":68}],146:[function(require,module,exports){\nvar InputsServices = {\n  'text': require('./service'),\n  'textarea': require('./service'),\n  'texthtml': require('./service'),\n  'integer': require('./integer/service'),\n  'string': require('./service'),\n  'float': require('./float/service'),\n  'radio': require('./radio/service'),\n  'check': require('./checkbox/service'),\n  'range': require('./range/service'),\n  'datetimepicker': require('./datetimepicker/service'),\n  'unique': require('./unique/service'),\n  'select': require('./select/service'),\n  'media': require('./media/service'),\n  'select_autocomplete': require('./select/service'),\n  'picklayer': require('./service'),\n  'color': require('./service'),\n  'slider': require('./sliderrange/service'),\n  'lonlat': require('./lonlat/service')\n};\n\nmodule.exports = InputsServices;\n\n},{\"./checkbox/service\":122,\"./datetimepicker/service\":125,\"./float/service\":127,\"./integer/service\":131,\"./lonlat/service\":133,\"./media/service\":135,\"./radio/service\":139,\"./range/service\":141,\"./select/service\":143,\"./service\":145,\"./sliderrange/service\":147,\"./unique/service\":152}],147:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\nvar Validators = require('core/utils/validators');\n\nfunction SliderRangeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var state = options.state;\n\n  options.state.info = '[MIN: ' + state.input.options.min + ' - MAX: ' + state.input.options.max + ']';\n  base(this, options);\n  var validator = Validators.get('range', {\n    min: 1 * state.input.options.min,\n    max: 1 * state.input.options.max\n  });\n  this.setValidator(validator);\n  this.validate = function () {\n    this.state.value = 1 * this.state.value;\n    this.state.validate.valid = this.state.value >= this.state.input.options.min || this.state.value <= this.state.input.options.max;\n  };\n}\n\ninherit(SliderRangeService, Service);\n\nvar proto = SliderRangeService.prototype;\n\nproto.changeInfoMessage = function () {\n  this.state.info = '[MIN: ' + this.state.input.options.min + ' - MAX: ' + this.state.input.options.max + ']';\n};\n\nmodule.exports = SliderRangeService;\n\n},{\"core/utils/utils\":67,\"core/utils/validators\":68,\"gui/inputs/service\":145}],148:[function(require,module,exports){\nvar _InputSliderRange = require('components/InputSliderRange.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputSliderRange);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RangeInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RangeInput;\n\n},{\"components/InputSliderRange.vue\":246}],149:[function(require,module,exports){\nvar _InputText = require('components/InputText.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputText);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextInput;\n\n},{\"components/InputText.vue\":247}],150:[function(require,module,exports){\nvar _InputTextArea = require('components/InputTextArea.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputTextArea);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextAreaInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextAreaInput;\n\n},{\"components/InputTextArea.vue\":248}],151:[function(require,module,exports){\nvar _InputTextHtml = require('components/InputTextHtml.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputTextHtml);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextHtmlInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextHtmlInput;\n\n},{\"components/InputTextHtml.vue\":249}],152:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction UniqueService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(UniqueService, Service);\n\nmodule.exports = UniqueService;\n\n},{\"core/utils/utils\":67,\"gui/inputs/service\":145}],153:[function(require,module,exports){\nvar _InputUnique = require('components/InputUnique.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputUnique);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar UniqueInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = UniqueInput;\n\n},{\"components/InputUnique.vue\":250}],154:[function(require,module,exports){\nvar ResetControl = require('g3w-ol/controls/resetcontrol');\nvar QueryControl = require('g3w-ol/controls/querycontrol');\nvar ZoomBoxControl = require('g3w-ol/controls/zoomboxcontrol');\nvar QueryBBoxControl = require('g3w-ol/controls/querybboxcontrol');\nvar QueryByPolygonControl = require('g3w-ol/controls/querybypolygoncontrol');\nvar GeolocationControl = require('g3w-ol/controls/geolocationcontrol');\nvar StreetViewControl = require('g3w-ol/controls/streetviewcontrol');\nvar AddLayersControl = require('g3w-ol/controls/addlayers');\nvar LengthControl = require('g3w-ol/controls/lengthcontrol');\nvar AreaControl = require('g3w-ol/controls/areacontrol');\nvar OLControl = require('g3w-ol/controls/olcontrol');\nvar GeocodingControl = require('g3w-ol/controls/geocodingcontrol');\nvar MousePositionControl = require('g3w-ol/controls/mousepositioncontrol');\nvar ScaleControl = require('g3w-ol/controls/scalecontrol');\nvar OnClikControl = require('g3w-ol/controls/onclickcontrol');\nvar ScreenshotControl = require('g3w-ol/controls/screenshotcontrol');\nvar geoScreenshotControl = require('g3w-ol/controls/geoscreenshotcontrol');\nvar ZoomHistoryControl = require('g3w-ol/controls/zoomhistorycontrol');\nvar QueryByDrawPolygonControl = require('g3w-ol/controls/querybydrawpolygoncontrol');\n\nvar ControlsFactory = {\n  create: function create() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var ControlClass = ControlsFactory.CONTROLS[options.type];\n    if (ControlClass) return new ControlClass(options);\n  }\n};\n\nControlsFactory.CONTROLS = {\n  'reset': ResetControl,\n  'zoombox': ZoomBoxControl,\n  'zoomtoextent': OLControl,\n  'query': QueryControl,\n  'querybbox': QueryBBoxControl,\n  'querybypolygon': QueryByPolygonControl,\n  'geolocation': GeolocationControl,\n  'streetview': StreetViewControl,\n  'zoom': OLControl,\n  'scaleline': OLControl,\n  'overview': OLControl,\n  'geocoding': GeocodingControl,\n  'addlayers': AddLayersControl,\n  'length': LengthControl,\n  'area': AreaControl,\n  'mouseposition': MousePositionControl,\n  'scale': ScaleControl,\n  'onclick': OnClikControl,\n  'screenshot': ScreenshotControl,\n  'geoscreenshot': geoScreenshotControl,\n  'querybydrawpolygon': QueryByDrawPolygonControl,\n\n  /**\n   * @since 3.8.0\n   */\n  'zoomhistory': ZoomHistoryControl,\n\n  /**\n   * @deprecated since version ??. Will be removed in version ??. Use 'geocoding' control instead.\n   */\n  'nominatim': GeocodingControl\n\n};\n\nmodule.exports = ControlsFactory;\n\n},{\"g3w-ol/controls/addlayers\":75,\"g3w-ol/controls/areacontrol\":76,\"g3w-ol/controls/geocodingcontrol\":79,\"g3w-ol/controls/geolocationcontrol\":80,\"g3w-ol/controls/geoscreenshotcontrol\":81,\"g3w-ol/controls/lengthcontrol\":83,\"g3w-ol/controls/mousepositioncontrol\":85,\"g3w-ol/controls/olcontrol\":86,\"g3w-ol/controls/onclickcontrol\":87,\"g3w-ol/controls/querybboxcontrol\":88,\"g3w-ol/controls/querybydrawpolygoncontrol\":89,\"g3w-ol/controls/querybypolygoncontrol\":90,\"g3w-ol/controls/querycontrol\":91,\"g3w-ol/controls/resetcontrol\":92,\"g3w-ol/controls/scalecontrol\":93,\"g3w-ol/controls/screenshotcontrol\":94,\"g3w-ol/controls/streetviewcontrol\":95,\"g3w-ol/controls/zoomboxcontrol\":97,\"g3w-ol/controls/zoomhistorycontrol\":98}],155:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _wms = require('gui/wms/vue/wms');\n\nvar _wms2 = _interopRequireDefault(_wms);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _mapControls = require('store/map-controls');\n\nvar _mapControls2 = _interopRequireDefault(_mapControls);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    inherit = _require2.inherit,\n    base = _require2.base,\n    copyUrl = _require2.copyUrl,\n    uniqueId = _require2.uniqueId,\n    throttle = _require2.throttle,\n    toRawType = _require2.toRawType,\n    createFilterFromString = _require2.createFilterFromString;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require3 = require('core/utils/geo'),\n    createVectorLayerFromFile = _require3.createVectorLayerFromFile,\n    createWMSLayer = _require3.createWMSLayer,\n    createSelectedStyle = _require3.createSelectedStyle,\n    getMapLayersByFilter = _require3.getMapLayersByFilter,\n    getGeoTIFFfromServer = _require3.getGeoTIFFfromServer;\n\nvar WFSProvider = require('core/layers/providers/wfsprovider');\nvar olhelpers = require('g3w-ol/g3w.ol').helpers;\n\nvar _require4 = require('core/utils/ol'),\n    getScaleFromResolution = _require4.getScaleFromResolution,\n    getResolutionFromScale = _require4.getResolutionFromScale;\n\nvar ControlsFactory = require('gui/map/control/factory');\nvar VectorLayer = require('core/layers/vectorlayer');\n\nvar SETTINGS = {\n  zoom: {\n    maxScale: 1000\n  },\n  animation: {\n    duration: 2000\n  }\n};\n\nfunction MapService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = {\n    mapUnits: 'm',\n    bbox: [],\n    hidemaps: [],\n    resolution: null,\n    center: null,\n    loading: false,\n    hidden: true,\n    scale: 0,\n    mapcontrolsalignement: 'rv',\n    mapcontrolDOM: null,\n    mapcontrolready: false,\n    mapcontrolSizes: {\n      height: 47,\n      width: 47,\n      minWidth: 47,\n      minHeight: 47\n    },\n    mapControl: {\n      grid: [],\n      length: 0,\n      currentIndex: 0,\n      update: true,\n      disabled: false\n    },\n    map_info: {\n      info: null,\n      style: null\n    },\n    mapunits: ['metric']\n  };\n  this.id = 'MapService';\n  this.viewer = null;\n  this.target = options.target || null;\n  this.layersCount = 0; // useful to set Zindex to layer order on map\n  this.maps_container = options.maps_container || null;\n  this._layersStoresEventKeys = {};\n  this._keyEvents = {\n    ol: [],\n    g3wobject: [],\n    eventemitter: []\n  };\n  this.project = null;\n  this._mapControls = [];\n  this._changeMapMapControls = [];\n  this._mapLayers = [];\n  this._externalMapLayers = [];\n  this._externalLayers = [];\n  // array where store interactions added from plugin or external from application\n  this._externalInteractions = [];\n  this.mapBaseLayers = {};\n  /**\n   * Default layers are OL layers that are add to map by default.\n   * Are used to show selection Features and/or highlight Layer feature\n   */\n  this.defaultsLayers = {\n    _style: {\n      highlightLayer: {\n        color: undefined\n      },\n      selectionLayer: {\n        color: 'red'\n      }\n    },\n    highlightLayer: new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: function style(feature) {\n        var styles = [];\n        var geometryType = feature.getGeometry().getType();\n        var style = createSelectedStyle({\n          geometryType: geometryType,\n          color: _this.defaultsLayers._style.highlightLayer.color,\n          fill: false\n        });\n        styles.push(style);\n        return styles;\n      }\n    }),\n    selectionLayer: new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: function style(feature) {\n        var styles = [];\n        var geometryType = feature.getGeometry().getType();\n        var style = createSelectedStyle({\n          geometryType: geometryType,\n          color: _this.defaultsLayers._style.selectionLayer.color,\n          fill: false\n        });\n        styles.push(style);\n        return styles;\n      }\n    })\n  };\n  this.layersExtraParams = {};\n  this._greyListenerKey = null;\n  this._drawShadow = {\n    type: 'coordinate',\n    outer: [],\n    inner: [],\n    scale: null,\n    rotation: null\n  };\n  this.config = options.config || _application2.default.getConfig();\n  this._howManyAreLoading = 0;\n  this._layersLoadingError = false;\n  // function to show spinner layers\n  this._incrementLoaders = function () {\n    if (_this._howManyAreLoading === 0) {\n      _this.emit('loadstart');\n      _gui2.default.showSpinner({\n        container: $('#map-spinner'),\n        id: 'maploadspinner',\n        style: 'transparent'\n      });\n    }\n    _this._howManyAreLoading += 1;\n  };\n\n  this._decrementLoaders = function () {\n    _this._howManyAreLoading -= 1;\n    if (_this._howManyAreLoading === 0) {\n      _this.emit('loadend');\n      _gui2.default.hideSpinner('maploadspinner');\n    }\n  };\n\n  this._mapLayerLoadError = function () {\n    if (!_this._layersLoadingError) {\n      _gui2.default.notify.warning('sdk.errors.layers.load');\n      _this._layersLoadingError = true;\n    }\n    _this._decrementLoaders();\n  };\n  if (options.project) this.project = options.project;else {\n    this.project = _projects2.default.getCurrentProject();\n    //on after setting current project\n    var keysetCurrentProject = _projects2.default.onafter('setCurrentProject', function (project) {\n      _this.removeLayers();\n      _this._removeListeners();\n      // check if reload same project\n      var isSameProject = _this.project.getId() === project.getId();\n      _this.project = project;\n      var changeProjectCallBack = function changeProjectCallBack() {\n        _this._resetView();\n        _this._setupAllLayers();\n        _this._checkMapControls();\n        _this.setUpMapOlEvents();\n        _this.setupCustomMapParamsToLegendUrl();\n      };\n      _application2.default.isIframe() && changeProjectCallBack();\n      isSameProject ? changeProjectCallBack() : _this.getMap().once('change:size', changeProjectCallBack);\n    });\n    this._keyEvents.g3wobject.push({\n      who: _projects2.default,\n      setter: 'setCurrentProject',\n      key: keysetCurrentProject\n    });\n  }\n  this._setupListeners();\n  this._marker = null;\n  this._bboxLayer = new ol.layer.Vector({\n    source: new ol.source.Vector({})\n  });\n  this.debounces = {\n    setupCustomMapParamsToLegendUrl: {\n      fnc: function fnc() {\n        _this._setupCustomMapParamsToLegendUrl.apply(_this, arguments);\n      },\n      delay: 1000\n    }\n  };\n  this.setters = {\n    setupControls: function setupControls() {\n      return this._setupControls();\n    },\n    addHideMap: function addHideMap() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          ratio = _ref.ratio,\n          _ref$layers = _ref.layers,\n          layers = _ref$layers === undefined ? [] : _ref$layers,\n          _ref$mainview = _ref.mainview,\n          mainview = _ref$mainview === undefined ? false : _ref$mainview,\n          _ref$switchable = _ref.switchable,\n          switchable = _ref$switchable === undefined ? false : _ref$switchable;\n\n      var id = 'hidemap_' + Date.now();\n      var idMap = {\n        id: id,\n        map: null,\n        switchable: switchable\n      };\n      this.state.hidemaps.push(idMap);\n      return idMap;\n    },\n    updateMapView: function updateMapView(bbox, resolution, center) {\n      this.state.bbox = bbox;\n      this.state.resolution = resolution;\n      this.state.center = center;\n      this.updateMapLayers();\n    },\n    setHidden: function setHidden(bool) {\n      this.state.hidden = bool;\n    },\n    setupViewer: function setupViewer(width, height) {\n      if (width === 0 || height === 0) return;\n      if (this.viewer) {\n        this.viewer.destroy();\n        this.viewer = null;\n      }\n      this._setupViewer(width, height);\n      this.state.bbox = this.viewer.getBBOX();\n      this.state.resolution = this.viewer.getResolution();\n      this.state.center = this.viewer.getCenter();\n      this._setupAllLayers();\n      this.setUpMapOlEvents();\n      this.emit('viewerset');\n    },\n    controlClick: function controlClick(mapcontrol) {\n      var info = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    },\n    loadExternalLayer: function loadExternalLayer(layer) {},\n    // used in general to alert external layer is  loaded\n    unloadExternalLayer: function unloadExternalLayer(layer) {}\n  };\n\n  this._onCatalogSelectLayer = function (layer) {\n    _mapControls2.default.catalogSelectedLayer(layer);\n  };\n\n  this.on('cataloglayerselected', this._onCatalogSelectLayer);\n\n  this._keyEvents.eventemitter.push({\n    event: 'cataloglayerselected',\n    listener: this._onCatalogSelectLayer\n  });\n\n  var extraParamsSet = function extraParamsSet(extraParams, update) {\n    update && _this.getMapLayers().forEach(function (mapLayer) {\n      return mapLayer.update(_this.state, extraParams);\n    });\n  };\n\n  this.on('extraParamsSet', extraParamsSet);\n\n  this._keyEvents.eventemitter.push({\n    event: 'extraParamsSet',\n    listener: extraParamsSet\n  });\n\n  this.once('viewerset', function () {\n    //CHECK IF MAPLAYESRSTOREREGISTRY HAS LAYERSTORE\n    _mapLayers2.default.getLayersStores().forEach(function (layersStore) {\n      _this._setUpEventsKeysToLayersStore(layersStore);\n    });\n    // LISTEN ON EVERY ADDED LAYERSSTORE\n    _mapLayers2.default.onafter('addLayersStore', function (layersStore) {\n      _this._setUpEventsKeysToLayersStore(layersStore);\n    });\n    // LISTENER ON REMOVE LAYERSTORE\n    _mapLayers2.default.onafter('removeLayersStore', function (layerStore) {\n      _this._removeEventsKeysToLayersStore(layerStore);\n    });\n  });\n\n  base(this);\n}\n\ninherit(MapService, G3WObject);\n\nvar proto = MapService.prototype;\n\nproto.setUpMapOlEvents = function () {\n  var _this2 = this;\n\n  var dynamicLegend = this.project.getContextBaseLegend();\n  // set change resolution\n  this._keyEvents.ol.forEach(function (keyEvent) {\n    return ol.Observable.unByKey(keyEvent);\n  });\n  var keyolchangeresolution = this.viewer.map.getView().on(\"change:resolution\", function (evt) {\n    _this2._updateMapView();\n    dynamicLegend && _this2.setupCustomMapParamsToLegendUrl();\n  });\n  this._keyEvents.ol.push(keyolchangeresolution);\n  if (dynamicLegend) {\n    var keyolmoveeend = this.viewer.map.on(\"moveend\", function (evt) {\n      return _this2.setupCustomMapParamsToLegendUrl();\n    });\n    this._keyEvents.ol.push(keyolmoveeend);\n  } else this.setupCustomMapParamsToLegendUrl(); //set always to show legend at start\n};\n\n//clear methods to remove all listeners events\nproto.clear = function () {\n  var _this3 = this;\n\n  Object.keys(this._keyEvents).forEach(function (type) {\n    switch (type) {\n      case 'ol':\n        _this3._keyEvents[type].forEach(function (keyEvent) {\n          return ol.Observable.unByKey(keyEvent);\n        });\n        break;\n      case 'g3wobject':\n        _this3._keyEvents[type].forEach(function (eventObject) {\n          var who = eventObject.who,\n              setter = eventObject.setter,\n              key = eventObject.key;\n\n          who.un(setter, key);\n        });\n        break;\n      case 'eventemitter':\n        _this3._keyEvents[type].forEach(function (eventObject) {\n          var event = eventObject.event,\n              listener = eventObject.listener;\n\n          _this3.removeListener(event, listener);\n        });\n        break;\n    }\n  });\n  this._keyEvents = null;\n  _mapLayers2.default.getLayersStores().forEach(function (layerStore) {\n    _this3._removeEventsKeysToLayersStore(layerStore);\n  });\n};\n\nproto.showMapSpinner = function () {\n  _gui2.default.showSpinner({\n    container: $('#map-spinner'),\n    id: 'maploadspinner',\n    style: 'transparent'\n  });\n};\n\nproto.hideMapSpinner = function () {\n  _gui2.default.hideSpinner('maploadspinner');\n};\n\nproto.getScaleFromExtent = function (extent) {\n  var resolution = this.getMap().getView().getResolutionForExtent(extent, this.getMap().getSize());\n  var scale = getScaleFromResolution(resolution, this.getMapUnits());\n  return scale;\n};\n\nproto._addHideMap = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      ratio = _ref2.ratio,\n      _ref2$layers = _ref2.layers,\n      layers = _ref2$layers === undefined ? [] : _ref2$layers,\n      _ref2$mainview = _ref2.mainview,\n      mainview = _ref2$mainview === undefined ? false : _ref2$mainview;\n\n  var idMap = this.state.hidemaps[this.state.hidemaps.length - 1];\n  var view = this.getMap().getView();\n  var view_options = {\n    projection: view.getProjection(),\n    center: view.getCenter(),\n    resolution: this.getResolution()\n  };\n  var viewer = olhelpers.createViewer({\n    id: idMap.id,\n    view: mainview ? view : view_options\n  });\n  // set Map\n  idMap.map = viewer.getMap();\n  // in case of rate\n  if (ratio) {\n    var _idMap$map$getSize = idMap.map.getSize(),\n        _idMap$map$getSize2 = _slicedToArray(_idMap$map$getSize, 2),\n        width = _idMap$map$getSize2[0],\n        height = _idMap$map$getSize2[1];\n\n    idMap.map.setSize([width, width * ratio]);\n  }\n\n  for (var i = 0; i < layers.length; i++) {\n    var layer = layers[i];\n    idMap.map.addLayer(layer);\n  }\n  return idMap.map;\n};\n\nproto.removeHideMap = function (id) {\n  var index = void 0;\n  for (var i = 0; i < this.state.hidemaps.length; i++) {\n    if (id === this.state.hidemaps[i].id) {\n      index = i;\n      break;\n    }\n  }\n  index !== undefined && this.state.hidemaps.splice(index, 1);\n};\n\nproto._showHideMapElement = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      map = _ref3.map,\n      _ref3$show = _ref3.show,\n      show = _ref3$show === undefined ? false : _ref3$show;\n\n  show ? $(map.getTargetElement()).addClass('show') : $(map.getTargetElement()).removeClass('show');\n};\n\nproto.createMapImage = function () {\n  var _this4 = this;\n\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      map = _ref4.map,\n      background = _ref4.background;\n\n  return new Promise(function (resolve, reject) {\n    try {\n      var canvas = _this4.getMapCanvas(map);\n      if (navigator.msSaveBlob) resolve(canvas.msToBlob());else canvas.toBlob(function (blob) {\n        return resolve(blob);\n      });\n    } catch (err) {\n      reject(err);\n    }\n  });\n};\n\nproto.getApplicationAttribution = function () {\n  var _config$group = this.config.group,\n      header_terms_of_use_link = _config$group.header_terms_of_use_link,\n      header_terms_of_use_text = _config$group.header_terms_of_use_text;\n\n  if (header_terms_of_use_text) {\n    return header_terms_of_use_link ? '<a href=\"' + header_terms_of_use_link + '\">' + header_terms_of_use_text + '</a>' : '<span class=\"skin-color\" style=\"font-weight: bold\">' + header_terms_of_use_text + '</span>';\n  } else return false;\n};\n\nproto.slaveOf = function (mapService, sameLayers) {\n  sameLayers = sameLayers || false;\n};\n\nproto.setLayersExtraParams = function (params, update) {\n  this.layersExtraParams = _.assign(this.layersExtraParams, params);\n  this.emit('extraParamsSet', params, update);\n};\n\nproto.getProject = function () {\n  return this.project;\n};\n\nproto.getMap = function () {\n  try {\n    return this.viewer.map;\n  } catch (err) {}\n};\n\nproto.getMapCanvas = function (map) {\n  var viewport = map ? map.getViewport() : $('#' + this.maps_container + ' .g3w-map').last().children('.ol-viewport')[0];\n  return $(viewport).children('canvas')[0];\n};\n\nproto.getProjection = function () {\n  return this.project.getProjection();\n};\n\nproto.isMapHidden = function () {\n  return this.state.hidden;\n};\n\nproto.isAxisOrientationInverted = function () {\n  return this.getProjection().getAxisOrientation() === 'neu' ? true : false;\n};\n\nproto.getCrs = function () {\n  return this.getProjection().getCode();\n};\n\nproto.getViewerElement = function () {\n  return this.viewer.map.getTargetElement();\n};\n\nproto.getViewport = function () {\n  return this.viewer.map.getViewport();\n};\n\nproto.getResolution = function () {\n  return this.viewer.map.getView().getResolution();\n};\n\nproto.getEpsg = function () {\n  return this.viewer.map.getView().getProjection().getCode();\n};\n\nproto.getGetFeatureInfoUrlForLayer = function (layer, coordinates, resolution, epsg, params) {\n  var mapLayer = this.getMapLayerForLayer(layer);\n  return mapLayer.getGetFeatureInfoUrl(coordinates, resolution, epsg, params);\n};\n\n/**\n * Show Marker on map\n * @param coordinates\n * @param duration\n */\nproto.showMarker = function (coordinates) {\n  var _this5 = this;\n\n  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n\n  this._marker.setPosition(coordinates);\n  setTimeout(function () {\n    return _this5._marker.setPosition();\n  }, duration);\n};\n\n// return layer by name\nproto.getLayerByName = function (name) {\n  return this.getMap().getLayers().getArray().find(function (lyr) {\n    return lyr.get('name') === name;\n  });\n};\n\n// return layer by id\nproto.getLayerById = function (id) {\n  return this.getMap().getLayers().getArray().find(function (layer) {\n    return layer.get('id') === id;\n  });\n};\n\n// method do get all feature from vector layer based on coordinates\nproto.getVectorLayerFeaturesFromCoordinates = function (layerId, coordinates) {\n  var intersectGeom = void 0;\n  var features = [];\n  var map = this.getMap();\n  var vectorLayer = this.getLayerById(layerId);\n  if (Array.isArray(coordinates)) {\n    if (coordinates.length === 2) {\n      var pixel = map.getPixelFromCoordinate(coordinates);\n      map.forEachFeatureAtPixel(pixel, function (feature) {\n        return features.push(feature);\n      }, {\n        layerFilter: function layerFilter(layer) {\n          return layer === vectorLayer;\n        }\n      });\n    } else if (coordinates.length === 4) {\n      intersectGeom = ol.geom.Polygon.fromExtent(coordinates);\n      switch (vectorLayer.constructor) {\n        case VectorLayer:\n          features = vectorLayer.getIntersectedFeatures(intersectGeom);\n          break;\n        case ol.layer.Vector:\n          vectorLayer.getSource().getFeatures().forEach(function (feature) {\n            intersectGeom.intersectsExtent(feature.getGeometry().getExtent()) && features.push(feature);\n          });\n          break;\n      }\n    }\n  } else if (coordinates instanceof ol.geom.Polygon || coordinates instanceof ol.geom.MultiPolygon) {\n    intersectGeom = coordinates;\n    switch (vectorLayer.constructor) {\n      case VectorLayer:\n        features = vectorLayer.getIntersectedFeatures(intersectGeom);\n        break;\n      case ol.layer.Vector:\n        vectorLayer.getSource().getFeatures().forEach(function (feature) {\n          intersectGeom.intersectsExtent(feature.getGeometry().getExtent()) && features.push(feature);\n        });\n        break;\n    }\n  }\n  return features;\n};\n\nproto.getQueryLayerByCoordinates = function () {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref5.layer,\n      coordinates = _ref5.coordinates;\n\n  var mapProjection = this.getProjection();\n  var resolution = this.getResolution();\n  return new Promise(function (resolve, reject) {\n    layer.query({\n      coordinates: coordinates,\n      mapProjection: mapProjection,\n      resolution: resolution\n    }).then(function (response) {\n      return resolve(response);\n    }).fail(function (err) {\n      return reject(err);\n    });\n  });\n};\n\nproto.getQueryLayerPromiseByCoordinates = function () {\n  var _this6 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref6.layer,\n      coordinates = _ref6.coordinates;\n\n  return new Promise(function (resolve, reject) {\n    var mapProjection = _this6.getProjection();\n    var resolution = _this6.getResolution();\n    layer.query({\n      coordinates: coordinates,\n      mapProjection: mapProjection,\n      resolution: resolution\n    }).then(function (response) {\n      resolve(response);\n    }).fail(function (error) {\n      reject(error);\n    });\n  });\n};\n\n//setup controls\n/*\n  layout : {\n    lv: <options> h : horizontal (default), v vertical\n    lh: <options> h: horizontal: v vertical (default)\n  }\n */\n\nproto.activeMapControl = function (controlName) {\n  var mapControl = this._mapControls.find(function (control) {\n    return control.type === controlName;\n  });\n  var control = mapControl.control;\n  !control.isToggled() ? control.toggle() : null;\n};\n\nproto.createMapControl = function (type) {\n  var _ref7 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      id = _ref7.id,\n      _ref7$add = _ref7.add,\n      add = _ref7$add === undefined ? true : _ref7$add,\n      _ref7$toggled = _ref7.toggled,\n      toggled = _ref7$toggled === undefined ? false : _ref7$toggled,\n      visible = _ref7.visible,\n      _ref7$options = _ref7.options,\n      options = _ref7$options === undefined ? {} : _ref7$options;\n\n  id = id || type;\n  var control = ControlsFactory.create(_extends({\n    type: type,\n    toggled: toggled\n  }, options));\n  visible = visible === undefined ? control.isVisible ? control.isVisible() : true : visible;\n  control && this.addControl(id, type, control, add, visible);\n  return control;\n};\n\nproto.addScaleLineUnits = function () {\n  var _this7 = this;\n\n  var units = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  units.forEach(function (unit) {\n    return _this7.state.mapunits.push(unit);\n  });\n};\n\nproto.changeScaleLineUnit = function (unit) {\n  var scalelinecontrol = this.getMapControlByType({\n    type: 'scaleline'\n  });\n  scalelinecontrol && scalelinecontrol.getOlControl().setUnits(unit);\n};\n\nproto.showAddLayerModal = function () {\n  this.emit('addexternallayer');\n};\n\nproto._checkMapControls = function () {\n  this._changeMapMapControls.forEach(function (_ref8) {\n    var control = _ref8.control,\n        getLayers = _ref8.getLayers;\n\n    var layers = getLayers();\n    control.change(layers);\n  });\n};\n\nproto._setupControls = function () {\n  var _this8 = this;\n\n  var baseLayers = getMapLayersByFilter({\n    BASELAYER: true\n  });\n  this.getMapLayers().forEach(function (mapLayer) {\n    return mapLayer.getSource().setAttributions(_this8.getApplicationAttribution());\n  });\n  // check if base layer is set. If true add attribution control\n  if (this.getApplicationAttribution() || baseLayers.length) {\n    var attributionControl = new ol.control.Attribution({\n      collapsible: false,\n      target: 'map_footer_left'\n    });\n    this.getMap().addControl(attributionControl);\n  }\n\n  if (this.config && this.config.mapcontrols) {\n    var mapcontrols = this.config.mapcontrols;\n    //common spatial methods for map controls\n    var spatialMethod = 'intersects';\n    mapcontrols.forEach(function (mapcontrol) {\n      var control = void 0;\n      // mapcontrol can be a String or object with options\n      var controlType = toRawType(mapcontrol) === 'String' ? mapcontrol : mapcontrol.name;\n      switch (controlType) {\n        case 'reset':\n          if (!isMobile.any) {\n            control = ControlsFactory.create({\n              type: controlType\n            });\n          }\n          _this8.addControl(controlType, control, false);\n          break;\n        case 'zoom':\n          control = _this8.createMapControl(controlType, {\n            options: {\n              zoomInLabel: '\\uE98A',\n              zoomOutLabel: '\\uE98B'\n            }\n          });\n          break;\n        case 'zoombox':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {});\n            control.on('zoomend', function (e) {\n              _this8.viewer.fit(e.extent);\n            });\n          }\n          break;\n        case 'zoomtoextent':\n          control = _this8.createMapControl(controlType, {\n            options: {\n              label: '\\uE98C',\n              extent: _this8.project.state.initextent\n            }\n          });\n          break;\n        case 'mouseposition':\n          if (!isMobile.any) {\n            var coordinateLabels = _this8.getProjection().getUnits() === 'm' ? ['X', 'Y'] : ['Lng', 'Lat'];\n            var crs = _this8.getCrs();\n            control = _this8.createMapControl(controlType, {\n              add: false,\n              options: {\n                coordinateFormat: function coordinateFormat(coordinate) {\n                  return ol.coordinate.format(coordinate, '\\xA0' + coordinateLabels[0] + ': {x}, ' + coordinateLabels[1] + ': {y}\\xA0\\xA0 [' + crs + ']\\xA0', 4);\n                },\n\n                undefinedHTML: false,\n                projection: _this8.getCrs()\n              }\n            });\n            if (_this8.getEpsg() !== 'EPSG:4326') {\n              var mapEspg = _this8.getEpsg();\n              var _coordinateLabels = ['Lng', 'Lat'];\n              var _crs = _this8.getCrs();\n              control = _this8.createMapControl(controlType, {\n                add: false,\n                options: {\n                  target: 'mouse-position-control-epsg-4326',\n                  coordinateFormat: function coordinateFormat(coordinate) {\n                    coordinate = ol.proj.transform(coordinate, mapEspg, 'EPSG:4326');\n                    return ol.coordinate.format(coordinate, '\\xA0' + _coordinateLabels[0] + ': {x}, ' + _coordinateLabels[1] + ': {y}\\xA0\\xA0 [' + _crs + ']\\xA0', 4);\n                  },\n\n                  undefinedHTML: false,\n                  projection: _this8.getCrs()\n                }\n              });\n            }\n          }\n          break;\n        case 'screenshot':\n        case 'geoscreenshot':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                layers: _mapLayers2.default.getLayers(),\n                onclick: function () {\n                  var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n                    var caller_download_id, blobImage, url, _bbox, csrfmiddlewaretoken, geoTIFF;\n\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            // Start download show Image\n                            caller_download_id = _application2.default.setDownload(true);\n                            _context.prev = 1;\n                            _context.next = 4;\n                            return _this8.createMapImage();\n\n                          case 4:\n                            blobImage = _context.sent;\n\n                            if (!(controlType === 'screenshot')) {\n                              _context.next = 9;\n                              break;\n                            }\n\n                            saveAs(blobImage, 'map_' + Date.now() + '.png');\n                            _context.next = 22;\n                            break;\n\n                          case 9:\n                            url = '/' + _this8.project.getType() + '/api/asgeotiff/' + _this8.project.getId() + '/';\n                            _bbox = _this8.getMapBBOX().toString();\n                            csrfmiddlewaretoken = _this8.getCookie('csrftoken');\n                            _context.prev = 12;\n                            _context.next = 15;\n                            return getGeoTIFFfromServer({\n                              url: url,\n                              params: {\n                                image: blobImage,\n                                csrfmiddlewaretoken: csrfmiddlewaretoken,\n                                bbox: _bbox\n                              },\n                              method: \"POST\"\n                            });\n\n                          case 15:\n                            geoTIFF = _context.sent;\n\n                            saveAs(geoTIFF, 'map_' + Date.now() + '.tif');\n                            _context.next = 22;\n                            break;\n\n                          case 19:\n                            _context.prev = 19;\n                            _context.t0 = _context['catch'](12);\n\n                            console.log(_context.t0);\n\n                          case 22:\n                            _context.next = 27;\n                            break;\n\n                          case 24:\n                            _context.prev = 24;\n                            _context.t1 = _context['catch'](1);\n\n                            _gui2.default.showUserMessage({\n                              type: 'alert',\n                              message: t(\"mapcontrols.screenshot.error\"),\n                              autoclose: true\n                            });\n\n                          case 27:\n                            // Stop download show Image\n                            _application2.default.setDownload(false, caller_download_id);\n                            return _context.abrupt('return', true);\n\n                          case 29:\n                          case 'end':\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee, _this8, [[1, 24], [12, 19]]);\n                  }));\n\n                  function onclick() {\n                    return _ref9.apply(this, arguments);\n                  }\n\n                  return onclick;\n                }()\n              }\n            });\n          }\n          break;\n        case 'scale':\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              coordinateFormat: ol.coordinate.createStringXY(4),\n              projection: _this8.getCrs(),\n              isMobile: isMobile.any\n            }\n          });\n          break;\n        case 'query':\n          control = _this8.createMapControl(controlType, {\n            add: true,\n            toggled: true\n          });\n          break;\n        case 'querybypolygon':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, { options: { spatialMethod: spatialMethod } });\n          }\n          break;\n        case 'querybbox':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, { options: { spatialMethod: spatialMethod } });\n          }\n          break;\n        case 'querybydrawpolygon':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, { options: { spatialMethod: spatialMethod } });\n          }\n          break;\n        case 'streetview':\n          // streetview\n          control = _this8.createMapControl(controlType, {});\n          break;\n        case 'scaleline':\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              position: 'br'\n            }\n          });\n          break;\n        case 'overview':\n          if (!isMobile.any) {\n            if (!_this8.config.overviewproject) return;\n            var overviewProjectGid = _this8.config.overviewproject.gid;\n            if (overviewProjectGid) {\n              _projects2.default.getProject(overviewProjectGid).then(function (project) {\n                var overViewMapLayers = _this8.getOverviewMapLayers(project);\n                var viewOptions = _this8._calculateViewOptions({\n                  width: 200, // at moment hardcoded\n                  height: 150,\n                  project: project\n                });\n                var view = new ol.View(viewOptions);\n                var mainView = _this8.getMap().getView();\n                view.on('change:center', function () {\n                  var currentCenter = this.getCenter();\n                  var center = mainView.constrainCenter(currentCenter);\n                  center[0] !== currentCenter[0] || center[1] !== currentCenter[1] && view.setCenter(center);\n                });\n                control = _this8.createMapControl(controlType, {\n                  add: false,\n                  options: {\n                    position: 'bl',\n                    className: 'ol-overviewmap ol-custom-overviewmap',\n                    collapseLabel: $('<span class=\"' + _gui2.default.getFontClass('arrow-left') + '\"></span>')[0],\n                    label: $('<span class=\"' + _gui2.default.getFontClass('arrow-right') + '\"></span>')[0],\n                    collapsed: false,\n                    layers: overViewMapLayers,\n                    view: view\n                  }\n                });\n              });\n            }\n          }\n          break;\n        case 'geocoding':\n        case 'nominatim':\n          var _project$state = _this8.project.state,\n              bbox = _project$state.extent,\n              _mapCrs = _project$state.crs.epsg;\n\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              isMobile: isMobile.any,\n              bbox: bbox,\n              mapCrs: _mapCrs,\n              placeholder: \"mapcontrols.nominatim.placeholder\",\n              noresults: \"mapcontrols.nominatim.noresults\",\n              notresponseserver: \"mapcontrols.nominatim.notresponseserver\"\n            }\n          });\n          break;\n        case 'geolocation':\n          control = _this8.createMapControl(controlType);\n          control.on('click', throttle(function (evt) {\n            return _this8.showMarker(evt.coordinates);\n          }));\n          control.on('error', function (evt) {\n            _gui2.default.showUserMessage({\n              type: 'warning',\n              message: \"mapcontrols.geolocations.error\",\n              autoclose: true\n            });\n          });\n          break;\n        case 'addlayers':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {});\n            control.on('addlayer', function () {\n              return _this8.emit('addexternallayer');\n            });\n          }\n          break;\n        case 'length':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                tipLabel: 'sdk.mapcontrols.measures.length.tooltip',\n                interactionClassOptions: {\n                  projection: _this8.getProjection(),\n                  help: 'sdk.mapcontrols.measures.length.help'\n                }\n              }\n            });\n          }\n          break;\n        case 'area':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                tipLabel: 'sdk.mapcontrols.measures.area.tooltip',\n                interactionClassOptions: {\n                  projection: _this8.getProjection(),\n                  help: 'sdk.mapcontrols.measures.area.help'\n                }\n              }\n            });\n          }\n          break;\n        /**\n         * @since 3.8.0\n         */\n        case 'zoomhistory':\n          control = _this8.createMapControl(controlType, { add: false });\n          _this8._addControlToMapControlsLeftBottom(control);\n          break;\n\n      }\n    });\n    return this.getMapControls();\n  }\n};\n\n/**\n *  Set ZIndex layer from fa stack\n */\nproto.setZIndexLayer = function () {\n  var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref10.layer,\n      _ref10$zindex = _ref10.zindex,\n      zindex = _ref10$zindex === undefined ? this.getMap().getLayers().getLength() : _ref10$zindex;\n\n  layer && layer.setZIndex(zindex);\n};\n\n/**\n *\n * Get map stack layer position\n */\nproto.getLayerZindex = function (layer) {\n  return layer && layer.getZIndex();\n};\n\nproto.getCenter = function () {\n  var map = this.getMap();\n  return map.getView().getCenter();\n};\n\n/**\n *\n *method to zoom to feature\n */\nproto.zoomToFid = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var zoom_to_fid = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '|';\n\n  var _zoom_to_fid$split, _zoom_to_fid$split2, layerId, fid, layer, _ref12, _ref12$data, data, feature;\n\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _zoom_to_fid$split = zoom_to_fid.split(separator), _zoom_to_fid$split2 = _slicedToArray(_zoom_to_fid$split, 2), layerId = _zoom_to_fid$split2[0], fid = _zoom_to_fid$split2[1];\n\n          if (!(layerId !== undefined && fid !== undefined)) {\n            _context2.next = 10;\n            break;\n          }\n\n          layer = this.project.getLayerById(layerId);\n          _context2.next = 5;\n          return _data2.default.getData('search:fids', {\n            inputs: {\n              layer: layer,\n              fids: [fid]\n            },\n            outputs: {\n              show: {\n                loading: false,\n                condition: function condition() {\n                  var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                      _ref13$data = _ref13.data,\n                      data = _ref13$data === undefined ? [] : _ref13$data;\n\n                  return data[0] && data[0].features.length > 0;\n                }\n              }\n            }\n          });\n\n        case 5:\n          _ref12 = _context2.sent;\n          _ref12$data = _ref12.data;\n          data = _ref12$data === undefined ? [] : _ref12$data;\n          feature = data[0] && data[0].features[0];\n\n          feature && this.zoomToFeatures([feature]);\n\n        case 10:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\n/**\n * Method to handele ztf url parameter\n * @param zoom_to_feature\n */\nproto.handleZoomToFeaturesUrlParameter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref15$zoom_to_featur = _ref15.zoom_to_features,\n      zoom_to_features = _ref15$zoom_to_featur === undefined ? '' : _ref15$zoom_to_featur,\n      _ref15$search_endpoin = _ref15.search_endpoint,\n      search_endpoint = _ref15$search_endpoin === undefined ? 'api' : _ref15$search_endpoin;\n\n  var _zoom_to_features$spl, _zoom_to_features$spl2, layerNameorIdorOrigname, fieldsValuesSearch, projectLayer, layer, filter, _ref16, data;\n\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _zoom_to_features$spl = zoom_to_features.split(':'), _zoom_to_features$spl2 = _slicedToArray(_zoom_to_features$spl, 2), layerNameorIdorOrigname = _zoom_to_features$spl2[0], fieldsValuesSearch = _zoom_to_features$spl2[1];\n\n          if (!(layerNameorIdorOrigname && fieldsValuesSearch)) {\n            _context3.next = 12;\n            break;\n          }\n\n          projectLayer = this.project.getLayers().find(function (layer) {\n            return layer.id === layerNameorIdorOrigname || layer.name === layerNameorIdorOrigname || layer.origname === layerNameorIdorOrigname;\n          });\n\n          if (!projectLayer) {\n            _context3.next = 12;\n            break;\n          }\n\n          layer = this.project.getLayerById(projectLayer.id);\n          filter = createFilterFromString({\n            layer: layer,\n            search_endpoint: search_endpoint,\n            filter: fieldsValuesSearch\n          });\n          _context3.next = 9;\n          return _data2.default.getData('search:features', {\n            inputs: {\n              layer: layer,\n              filter: filter,\n              search_endpoint: search_endpoint\n            },\n            outputs: {\n              show: {\n                loading: false\n              }\n            }\n          });\n\n        case 9:\n          _ref16 = _context3.sent;\n          data = _ref16.data;\n\n          data && data[0] && data[0].features && this.zoomToFeatures(data[0].features);\n\n        case 12:\n          _context3.next = 17;\n          break;\n\n        case 14:\n          _context3.prev = 14;\n          _context3.t0 = _context3['catch'](0);\n\n          console.log(_context3.t0);\n\n        case 17:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[0, 14]]);\n}));\n\nproto.getMapExtent = function () {\n  var map = this.getMap();\n  return map.getView().calculateExtent(map.getSize());\n};\n\nproto.addMapExtentUrlParameterToUrl = function (url) {\n  url = new URL(url);\n  var map_extent = this.getMapExtent().toString();\n  url.searchParams.set('map_extent', map_extent);\n  return url.toString();\n};\n\nproto.getMapExtentUrl = function () {\n  var url = new URL(location.href);\n  var map_extent = this.getMapExtent().toString();\n  url.searchParams.set('map_extent', map_extent);\n  return url.toString();\n};\n\nproto.createCopyMapExtentUrl = function () {\n  var url = this.getMapExtentUrl();\n  copyUrl(url);\n};\n\nproto._setMapControlsGrid = function (length) {\n  var grid = this.state.mapControl.grid;\n  if (length < 2) {\n    var rC = grid[grid.length - 1];\n    grid.push({\n      rows: rC.rows * 2,\n      columns: 2\n    });\n    return;\n  }\n  if (length === 2) {\n    if (grid.length) {\n      var _rC = grid[grid.length - 1];\n      grid.push({\n        rows: _rC.columns,\n        columns: _rC.rows\n      });\n    } else {\n      grid.push({\n        rows: 1,\n        columns: 2\n      });\n    }\n  } else if (length === 3) {\n    var _rC2 = grid[grid.length - 1];\n    grid.push({\n      rows: 2 * _rC2.rows,\n      columns: length\n    });\n  } else {\n    grid.push({\n      rows: grid.length + 1 + (Number.isInteger(length) ? 0 : 1),\n      columns: Number.isInteger(length) ? length : parseInt(length) + 1\n    });\n    var _length = Number.isInteger(length) ? length : parseInt(length);\n    this._setMapControlsGrid(_length / 2);\n  }\n};\n\nproto._setMapControlsInsideContainerLenght = function () {\n  var _this9 = this;\n\n  this.state.mapControl.length = 1;\n  // count the mapcontrol inside g3w-map-control container\n  this._mapControls.forEach(function (control) {\n    var map = _this9.getMap();\n    _this9.state.mapControl.length += control.mapcontrol ? control.id === 'zoom' ? 2 : 1 : 0;\n    control.control.changelayout ? control.control.changelayout(map) : null;\n  });\n  // add 1 id odd number\n  this.state.mapControl.length += this.state.mapControl.length % 2;\n  this.state.mapControl.grid = [];\n  this._setMapControlsGrid(this.state.mapControl.length);\n};\n\n/**\n * Get filtrable layer. Get parameter to custom filter Object\n */\nproto.filterableLayersAvailable = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var layers = getMapLayersByFilter({\n    FILTERABLE: true,\n    SELECTED_OR_ALL: true\n  }, options);\n  return layers.filter(function (layer) {\n    return layer.getProvider('filter') instanceof WFSProvider;\n  });\n};\n\nproto.setMapControlsAlignement = function () {\n  var alignement = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'rv';\n\n  this.state.mapcontrolsalignement = alignement;\n};\n\nproto.getMapControlsAlignement = function () {\n  return this.state.mapcontrolsalignement;\n};\n\nproto.isMapControlsVerticalAlignement = function () {\n  return this.state.mapcontrolsalignement.indexOf('v') !== -1;\n};\n\nproto.setMapControlsVerticalAlignement = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] + 'v';\n};\n\nproto.setMapControlsHorizontalAlignement = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] + 'h';\n};\n\nproto.flipControlsHorizontally = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] === 'r' ? 'l' + this.state.mapcontrolsalignement[1] : 'r' + this.state.mapcontrolsalignement[1];\n};\n\nproto.flipMapControlsVertically = function () {\n  this.state.mapcontrolsalignment = this.state.mapcontrolsalignement[1] === 'v' ? this.state.mapcontrolsalignement[0] + 'h' : this.state.mapcontrolsalignement[0] + 'v';\n};\n\nproto.setMapControlsContainer = function (mapControlDom) {\n  this.state.mapcontrolDOM = mapControlDom;\n};\n\nproto._updateMapControlsLayout = function () {\n  var _this10 = this;\n\n  var _ref17 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      width = _ref17.width,\n      height = _ref17.height;\n\n  // case mobile open keyboard\n  width == 0 || height == 0 ? this.state.mapcontrolDOM.css('z-index', 0) : this.state.mapcontrolDOM.css('z-index', 1);\n  // update only when all control are ready\n  if (this.state.mapcontrolready && this.state.mapControl.update) {\n    var changedAndMoreSpace = {\n      changed: false,\n      space: false\n    };\n    // count the mapcontrol insied g3w-map-control container\n    this._mapControls.forEach(function (control) {\n      var map = _this10.getMap();\n      control.control.changelayout ? control.control.changelayout(map) : null;\n    });\n    // check if is vertical\n    if (this.isMapControlsVerticalAlignement()) {\n      var handleVerticalMapControlDOMElements = function handleVerticalMapControlDOMElements() {\n        var mapControslHeight = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].columns * _this10.state.mapcontrolSizes.minWidth;\n        // get bottom controls\n        var bottomMapControls = $('.ol-control-b' + _this10.getMapControlsAlignement()[0]);\n        var bottomMapControlTop = bottomMapControls.length ? $(bottomMapControls[bottomMapControls.length - 1]).position().top : height;\n        var freeSpace = bottomMapControlTop > 0 ? bottomMapControlTop - mapControslHeight : height - mapControslHeight;\n        if (freeSpace < 10) {\n          _this10.state.mapControl.currentIndex = _this10.state.mapControl.currentIndex === _this10.state.mapControl.grid.length - 1 ? _this10.state.mapControl.currentIndex : _this10.state.mapControl.currentIndex + 1;\n          changedAndMoreSpace.changed = true;\n        } else {\n          // check if there enough space to expand map controls\n          /**\n           Add 15 px of offset. Need to find a better solution in future\n           */\n          var nextHeight = 15 + (_this10.state.mapControl.currentIndex > 0 ? _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex - 1].columns * _this10.state.mapcontrolSizes.minWidth - mapControslHeight : mapControslHeight);\n          if (freeSpace > nextHeight) {\n            changedAndMoreSpace.changed = true;\n            changedAndMoreSpace.space = true;\n            _this10.state.mapControl.currentIndex = _this10.state.mapControl.currentIndex === 0 ? _this10.state.mapControl.currentIndex : _this10.state.mapControl.currentIndex - 1;\n          }\n        }\n        if (changedAndMoreSpace.changed) {\n          var _mapControslHeight = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].columns * _this10.state.mapcontrolSizes.minWidth;\n          var mapControlsWidth = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].rows * _this10.state.mapcontrolSizes.minWidth;\n          _this10.state.mapcontrolDOM.css('height', _mapControslHeight + 'px');\n          _this10.state.mapcontrolDOM.css('width', mapControlsWidth + 'px');\n          changedAndMoreSpace.changed = false;\n          changedAndMoreSpace.space && setTimeout(function () {\n            return handleVerticalMapControlDOMElements();\n          });\n        }\n      };\n      handleVerticalMapControlDOMElements();\n    } else isMobile.any && this.setMapControlsAlignement('rv');\n  }\n};\n\n/**\n *\n * @param control\n * @param visible\n * @private\n */\nproto._setMapControlVisible = function (_ref18) {\n  var control = _ref18.control,\n      _ref18$visible = _ref18.visible,\n      visible = _ref18$visible === undefined ? true : _ref18$visible;\n\n  control && control.setVisible(visible);\n};\n\nproto._addControlToMapControls = function (control) {\n  var visible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  var controlElement = control.element;\n  if (!visible) control.element.style.display = \"none\";\n  $('.g3w-map-controls').append(controlElement);\n};\n\n/**\n * @since 3.8.0\n */\nproto._addControlToMapControlsLeftBottom = function (control) {\n  var visible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (!visible) {\n    control.element.style.display = \"none\";\n  }\n  $('.g3w-map-controls-left-bottom').append(control.element);\n};\n\nproto.getMapControlByType = function () {\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref19.type;\n\n  var mapControl = this._mapControls.find(function (mapControl) {\n    return type === mapControl.type;\n  });\n  return mapControl && mapControl.control;\n};\n\n/**\n *\n *\n * @param id\n * @param type\n * @param control\n * @param addToMapControls\n * @param visible\n */\nproto.addControl = function (id, type, control) {\n  var _this11 = this;\n\n  var addToMapControls = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var visible = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n\n  this.state.mapcontrolready = false;\n  this.viewer.map.addControl(control);\n  control.on('toggled', function (evt) {\n    return _this11.emit('mapcontrol:toggled', evt);\n  });\n  this._mapControls.push({\n    id: id,\n    type: type,\n    control: control,\n    visible: visible,\n    mapcontrol: addToMapControls && visible\n  });\n  control.on('controlclick', function (evt) {\n    var mapcontrol = evt.target;\n\n    var info = {\n      clickmap: mapcontrol.isClickMap && mapcontrol.isClickMap() || false\n    };\n    info.clickmap && _this11._externalInteractions.forEach(function (interaction) {\n      return interaction.setActive(false);\n    });\n    _this11.controlClick(mapcontrol, info);\n  });\n  var buttonControl = $(control.element).find('button');\n  buttonControl.tooltip({\n    placement: 'bottom',\n    trigger: _gui2.default.isMobile() ? 'click' : 'hover'\n  });\n  // in case of mobile hide tooltip after click\n  _gui2.default.isMobile() && buttonControl.on('shown.bs.tooltip', function () {\n    var _this12 = this;\n\n    setTimeout(function () {\n      return $(_this12).tooltip('hide');\n    }, 600);\n  });\n  if (addToMapControls) this._addControlToMapControls(control, visible);else {\n    var $mapElement = $('#' + this.getMap().getTarget());\n    this._updateMapControlsLayout({\n      width: $mapElement.width(),\n      height: $mapElement.height()\n    });\n  }\n  _mapControls2.default.registerControl(type, control);\n  this._setMapControlsInsideContainerLenght();\n  this.state.mapcontrolready = true;\n};\n\nproto.showControl = function (type) {\n  this.showControls([type]);\n};\n\nproto.hideControl = function (type) {\n  this.hideControls([type]);\n};\n\nproto.showControls = function (types) {\n  this.toggleControls(true, types);\n};\n\nproto.hideControls = function (types) {\n  this.toggleControls(false, types);\n};\n\nproto.showAllControls = function () {\n  this.toggleControls(true);\n};\n\nproto.hideAllControls = function () {\n  this.toggleControls(false);\n};\n\nproto.toggleControls = function (toggle, types) {\n  this._removeControls();\n  this._mapControls.forEach(function (controlObj) {\n    if (types) {\n      if (types.indexOf(controlObj.type) > -1) controlObj.visible = toggle;\n    } else controlObj.visible = toggle;\n  });\n  this._layoutControls();\n};\n\nproto._layoutControls = function () {\n  var _this13 = this;\n\n  this._mapControls.forEach(function (controlObj) {\n    if (controlObj.visible) _this13.viewer.map.addControl(controlObj.control);\n  });\n};\n\nproto.getMapControls = function () {\n  return this._mapControls;\n};\n\nproto.removeControlById = function (id) {\n  var _this14 = this;\n\n  this._mapControls.find(function (controlObj, ctrlIdx) {\n    if (id === controlObj.id) {\n      _this14._mapControls.splice(ctrlIdx, 1);\n      var control = controlObj.control;\n      _this14.viewer.map.removeControl(control);\n      control.hideControl && control.hideControl();\n      return true;\n    }\n  });\n};\n\nproto.removeControl = function (type) {\n  var _this15 = this;\n\n  this._mapControls.find(function (controlObj, ctrlIdx) {\n    if (type === controlObj.type) {\n      _this15._mapControls.splice(ctrlIdx, 1);\n      var control = controlObj.control;\n      _this15.viewer.map.removeControl(control);\n      control.hideControl && control.hideControl();\n      return true;\n    }\n  });\n};\n\nproto._removeControls = function () {\n  var _this16 = this;\n\n  this._mapControls.forEach(function (controlObj) {\n    return _this16.viewer.map.removeControl(controlObj.control);\n  });\n};\n\n/**\n * untoggle mapcontrol\n * @param close GUI content\n * @private\n */\nproto._unToggleControls = function () {\n  var _ref20 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref20$close = _ref20.close,\n      close = _ref20$close === undefined ? true : _ref20$close;\n\n  this._mapControls.forEach(function (controlObj) {\n    if (controlObj.control.isToggled && controlObj.control.isToggled()) {\n      controlObj.control.toggle(false);\n      close && _gui2.default.closeContent();\n    }\n  });\n};\n\nproto.deactiveMapControls = function () {\n  this._unToggleControls({\n    close: false\n  });\n};\n\n/**\n *\n * Method to disable\n */\nproto.disableClickMapControls = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this._mapControls.forEach(function (controlObj) {\n    var control = controlObj.control;\n\n    var clickmap = control.isClickMap ? control.isClickMap() : false;\n    if (clickmap) {\n      control.isToggled() && control.toggle();\n      control[bool ? 'disable' : 'enable']();\n    }\n  });\n};\n\nproto.addMapLayers = function (mapLayers) {\n  var _this17 = this;\n\n  mapLayers.reverse().forEach(function (mapLayer) {\n    return _this17.addMapLayer(mapLayer);\n  });\n};\n\nproto._setupCustomMapParamsToLegendUrl = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  if (bool) {\n    var map = this.getMap();\n    var size = map && map.getSize().filter(function (value) {\n      return value > 0;\n    }) || null;\n    var bbox = size && size.length === 2 ? map.getView().calculateExtent(size) : this.project.state.initextent;\n    // in case of axis orientation inverted i need to inverted the axis\n    bbox = map.getView().getProjection().getAxisOrientation() === \"neu\" ? [bbox[1], bbox[0], bbox[3], bbox[2]] : bbox;\n    var crs = this.getEpsg();\n    //setup initial legend parameter\n    this.getMapLayers().forEach(function (mapLayer) {\n      mapLayer.setupCustomMapParamsToLegendUrl && mapLayer.setupCustomMapParamsToLegendUrl({\n        crs: crs,\n        bbox: bbox\n      });\n    });\n    this.emit('change-map-legend-params');\n  }\n};\n\nproto.addMapLayer = function (mapLayer) {\n  this._mapLayers.push(mapLayer);\n  this.addLayerToMap(mapLayer);\n};\n\nproto.getMapLayerByLayerId = function (layerId) {\n  return this.getMapLayers().find(function (mapLayer) {\n    return mapLayer.getLayerConfigs().find(function (layer) {\n      return layer.getId() === layerId;\n    });\n  });\n};\n\nproto.getMapLayers = function () {\n  return this._mapLayers;\n};\n\nproto.getBaseLayers = function () {\n  return this.mapBaseLayers;\n};\n\nproto.getMapLayerForLayer = function (layer) {\n  var multilayerId = 'layer_' + layer.getMultiLayerId();\n  var mapLayers = this.getMapLayers();\n  var mapLayer = mapLayers.find(function (mapLayer) {\n    return mapLayer.getId() === multilayerId;\n  });\n  return mapLayer;\n};\n\nproto.getProjectLayer = function (layerId) {\n  return _mapLayers2.default.getLayerById(layerId);\n};\n\nproto._setSettings = function () {\n  var ZOOM = _constant.MAP_SETTINGS.ZOOM;\n\n  var maxScale = this.getScaleFromExtent(this.project.state.initextent);\n  // settings maxScale\n  ZOOM.maxScale = ZOOM.maxScale > maxScale ? maxScale : ZOOM.maxScale;\n};\n\nproto._resetView = function () {\n  var _viewer$map$getSize = this.viewer.map.getSize(),\n      _viewer$map$getSize2 = _slicedToArray(_viewer$map$getSize, 2),\n      width = _viewer$map$getSize2[0],\n      height = _viewer$map$getSize2[1];\n\n  var extent = this.project.state.extent;\n  var maxxRes = ol.extent.getWidth(extent) / width;\n  var minyRes = ol.extent.getHeight(extent) / height;\n  var maxResolution = Math.max(maxxRes, minyRes) > this.viewer.map.getView().getMaxResolution() ? Math.max(maxxRes, minyRes) : this.viewer.map.getView().getMaxResolution();\n  var view = new ol.View({\n    extent: extent,\n    projection: this.viewer.map.getView().getProjection(),\n    center: this.viewer.map.getView().getCenter(),\n    resolution: this.viewer.map.getView().getResolution(),\n    maxResolution: maxResolution\n  });\n  this._setSettings();\n  this.viewer.map.setView(view);\n};\n\nproto._calculateViewOptions = function () {\n  var _this18 = this;\n\n  var _ref21 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      project = _ref21.project,\n      width = _ref21.width,\n      height = _ref21.height;\n\n  var searchParams = new URLSearchParams(location.search);\n  var map_extent = searchParams.get('map_extent');\n  var zoom_to_fid = searchParams.get('zoom_to_fid');\n  var zoom_to_features = searchParams.get('ztf'); // zoom to features\n  var lat_lon = searchParams.get('lat') && searchParams.get('lon') && {\n    lat: 1 * searchParams.get('lat'),\n    lon: 1 * searchParams.get('lon')\n  };\n  var x_y = searchParams.get('x') && searchParams.get('y') && {\n    x: 1 * searchParams.get('x'),\n    y: 1 * searchParams.get('y')\n  };\n  if (zoom_to_fid) this.zoomToFid(zoom_to_fid);else if (zoom_to_features) this.handleZoomToFeaturesUrlParameter({ zoom_to_features: zoom_to_features });else if (lat_lon && !Number.isNaN(lat_lon.lat) && !Number.isNaN(lat_lon.lon)) {\n    setTimeout(function () {\n      var geometry = new ol.geom.Point(ol.proj.transform([lat_lon.lon, lat_lon.lat], 'EPSG:4326', _this18.getEpsg()));\n      if (geometry.getExtent()) _this18.zoomToGeometry(geometry);\n    });\n  } else if (x_y && !Number.isNaN(x_y.x) && !Number.isNaN(x_y.y)) setTimeout(function () {\n    var geometry = new ol.geom.Point([x_y.x, x_y.y]);\n    _this18.zoomToGeometry(geometry);\n  });\n  var initextent = map_extent ? map_extent.split(',').map(function (coordinate) {\n    return 1 * coordinate;\n  }) : project.state.initextent;\n  var projection = this.getProjection();\n  var extent = project.state.extent;\n  var maxxRes = ol.extent.getWidth(extent) / width;\n  var maxyRes = ol.extent.getHeight(extent) / height;\n  var maxResolution = Math.max(maxxRes, maxyRes);\n  var initxRes = ol.extent.getWidth(initextent) / width;\n  var inityRes = ol.extent.getHeight(initextent) / height;\n  var resolution = Math.max(initxRes, inityRes);\n  var center = ol.extent.getCenter(initextent);\n  return {\n    projection: projection,\n    center: center,\n    extent: extent,\n    maxResolution: maxResolution,\n    resolution: resolution\n  };\n};\n\n// set view based on project config\nproto._setupViewer = function (width, height) {\n  var _this19 = this;\n\n  this.viewer = olhelpers.createViewer({\n    id: this.target,\n    view: this._calculateViewOptions({\n      width: width,\n      height: height,\n      project: this.project\n    })\n  });\n  this._setSettings();\n  this.state.size = this.viewer.map.getSize();\n  //set mapunit\n  this.state.mapUnits = this.viewer.map.getView().getProjection().getUnits();\n\n  if (this.config.background_color) {\n    $('#' + this.target).css('background-color', this.config.background_color);\n  }\n\n  $(this.viewer.map.getViewport()).prepend('<div id=\"map-spinner\" style=\"position:absolute; top: 50%; right: 50%\"></div>');\n\n  this.viewer.map.getInteractions().forEach(function (interaction) {\n    return _this19._watchInteraction(interaction);\n  });\n\n  this.viewer.map.getInteractions().on('add', function (interaction) {\n    return _this19._watchInteraction(interaction.element);\n  });\n\n  this.viewer.map.getInteractions().on('remove', function (interaction) {\n    //this._onRemoveInteraction(interaction););\n  });\n\n  this._marker = new ol.Overlay({\n    position: null,\n    positioning: 'center-center',\n    element: document.getElementById('marker'),\n    stopEvent: false\n  });\n\n  this.viewer.map.addOverlay(this._marker);\n\n  /**\n   *\n   * Register map addLayer\n   *\n   */\n  this.viewer.map.getLayers().on('add', function (evt) {\n    var layer = evt.element;\n\n    var basemap = layer.get('basemap');\n    var position = layer.get('position');\n    var zindex = basemap && 0;\n    if (position && position === 'bottom') zindex = 0;\n    zindex = _this19.setLayerZIndex({\n      layer: layer,\n      zindex: zindex\n    });\n    _this19.moveDefaultLayersOnTop(zindex);\n  });\n\n  this.viewer.map.getLayers().on('remove', function (evt) {\n    var layer = evt.element;\n\n    var layerZIndex = layer.getZIndex();\n    if (layerZIndex === _this19.layersCount) _this19.layersCount -= 1;\n  });\n};\n\nproto.getMapUnits = function () {\n  return this.state.mapUnits;\n};\n\nproto._removeListeners = function () {\n  this._setBaseLayerListenerKey && this.project.un('setBaseLayer', this._setBaseLayerListenerKey);\n};\n\n// remove all events of layersStore\nproto._removeEventsKeysToLayersStore = function (layerStore) {\n  var layerStoreId = layerStore.getId();\n  if (this._layersStoresEventKeys[layerStoreId]) {\n    this._layersStoresEventKeys[layerStoreId].forEach(function (eventObj) {\n      Object.entries(eventObj).forEach(function (_ref22) {\n        var _ref23 = _slicedToArray(_ref22, 2),\n            event = _ref23[0],\n            eventKey = _ref23[1];\n\n        return layerStore.un(event, eventKey);\n      });\n    });\n    delete this._layersStoresEventKeys[layerStoreId];\n  }\n};\n\n// register all events of layersStore and relative keys\nproto._setUpEventsKeysToLayersStore = function (layerStore) {\n  var _this20 = this;\n\n  var layerStoreId = layerStore.getId();\n  // check if already store a key of events\n  this._layersStoresEventKeys[layerStoreId] = [];\n  //ADD LAYER\n  var addLayerKey = layerStore.onafter('addLayer', function (layer) {\n    if (layer.getType() === 'vector') {\n      var mapLayer = layer.getMapLayer();\n      _this20.addLayerToMap(mapLayer);\n    }\n  });\n  this._layersStoresEventKeys[layerStoreId].push({\n    addLayer: addLayerKey\n  });\n  // REMOVE LAYER\n  var removeLayerKey = layerStore.onafter('removeLayer', function (layer) {\n    if (layer.getType() === 'vector') {\n      var olLayer = layer.getOLLayer();\n      _this20.viewer.map.removeLayer(olLayer);\n    }\n  });\n\n  this._layersStoresEventKeys[layerStoreId].push({\n    removeLayer: removeLayerKey\n  });\n};\n\nproto._setupListeners = function () {\n  var _this21 = this;\n\n  this._setBaseLayerListenerKey = this.project.onafter('setBaseLayer', function () {\n    _this21.updateMapLayers();\n  });\n};\n\n// SETUP ALL LAYERS\nproto._setupAllLayers = function () {\n  this._setupBaseLayers();\n  this._setupMapLayers();\n  this._setupVectorLayers();\n  this._setUpDefaultLayers();\n};\n\n//SETUP BASELAYERS\nproto._setupBaseLayers = function () {\n  var _this22 = this;\n\n  var baseLayers = getMapLayersByFilter({\n    BASELAYER: true\n  });\n  if (!baseLayers.length) return;\n  baseLayers.forEach(function (layer) {\n    var baseMapLayer = layer.getMapLayer();\n    _this22.registerMapLayerListeners(baseMapLayer);\n    _this22.mapBaseLayers[layer.getId()] = baseMapLayer;\n  });\n  var reverseBaseLayers = Object.values(this.mapBaseLayers).reverse();\n  reverseBaseLayers.forEach(function (baseMapLayer) {\n    baseMapLayer.update(_this22.state, _this22.layersExtraParams);\n    _this22.addLayerToMap(baseMapLayer);\n  });\n};\n\n//SETUP MAPLAYERS\nproto._setupMapLayers = function () {\n  var _this23 = this;\n\n  // get all geolayers exclude baselayers and eventually vector layers\n  var layers = getMapLayersByFilter({\n    BASELAYER: false,\n    VECTORLAYER: false\n  });\n  this._setMapProjectionToLayers(layers);\n  //group layer by mutilayer (multilayer property of layer on project configuration)\n  // nee to split time series to group to speed up eventualli time seriesries loading of single layer\n  var qtimeseries_multilayerid_split_values = {};\n  var multiLayers = _.groupBy(layers, function (layer) {\n    var multiLayerId = layer.getMultiLayerId();\n    if (layer.isQtimeseries()) {\n      qtimeseries_multilayerid_split_values[multiLayerId] = qtimeseries_multilayerid_split_values[multiLayerId] === undefined ? 0 : qtimeseries_multilayerid_split_values[multiLayerId] + 1;\n      multiLayerId = multiLayerId + '_' + qtimeseries_multilayerid_split_values[multiLayerId];\n    } else multiLayerId = qtimeseries_multilayerid_split_values[multiLayerId] === undefined ? multiLayerId : multiLayerId + '_' + (qtimeseries_multilayerid_split_values[multiLayerId] + 1);\n    return multiLayerId;\n  });\n  qtimeseries_multilayerid_split_values = null; // delete to garbage collector\n  var mapLayers = [];\n  Object.entries(multiLayers).forEach(function (_ref24) {\n    var _ref25 = _slicedToArray(_ref24, 2),\n        id = _ref25[0],\n        layers = _ref25[1];\n\n    var multilayerId = 'layer_' + id;\n    var mapLayer = void 0;\n    var layer = layers[0] || [];\n    if (layers.length === 1) {\n      mapLayer = layer.getMapLayer({\n        id: multilayerId,\n        projection: _this23.getProjection(),\n        /**\n         * @since 3.7.11\n         */\n        format: layer.getSource() && layer.getSource().format\n      }, {});\n      mapLayer.addLayer(layer);\n      mapLayers.push(mapLayer);\n    } else {\n      mapLayer = layer.getMapLayer({\n        id: multilayerId,\n        projection: _this23.getProjection()\n      }, _this23.layersExtraParams);\n      layers.reverse().forEach(function (sub_layer) {\n        return mapLayer.addLayer(sub_layer);\n      });\n      mapLayers.push(mapLayer);\n    }\n    _this23.registerMapLayerListeners(mapLayer);\n  });\n  this.addMapLayers(mapLayers);\n  this.updateMapLayers();\n  return mapLayers;\n};\n\n//SETUP VECTORLAYERS\nproto._setupVectorLayers = function () {\n  var _this24 = this;\n\n  var layers = getMapLayersByFilter({\n    VECTORLAYER: true\n  });\n  this._setMapProjectionToLayers(layers);\n  layers.forEach(function (layer) {\n    var mapVectorLayer = layer.getMapLayer();\n    _this24.addLayerToMap(mapVectorLayer);\n  });\n};\n\nproto._setUpDefaultLayers = function () {\n  // follow the order that i want\n  this.getMap().addLayer(this.defaultsLayers.highlightLayer);\n  this.getMap().addLayer(this.defaultsLayers.selectionLayer);\n};\n\n/**\n * Method to set Default layers (selectionLayer, and highlightLayer)\n * always on top of layers stack of map to be always visible\n */\nproto.moveDefaultLayersOnTop = function (zindex) {\n  this.setZIndexLayer({\n    layer: this.defaultsLayers.highlightLayer,\n    zindex: zindex + 1\n  });\n  this.setZIndexLayer({\n    layer: this.defaultsLayers.selectionLayer,\n    zindex: zindex + 2\n  });\n};\n\nproto.removeDefaultLayers = function () {\n  this.defaultsLayers.highlightLayer.getSource().clear();\n  this.defaultsLayers.selectionLayer.getSource().clear();\n  this.getMap().removeLayer(this.defaultsLayers.highlightLayer);\n  this.getMap().removeLayer(this.defaultsLayers.selectionLayer);\n};\n\nproto.setDefaultLayerStyle = function (type) {\n  var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (type && this.defaultsLayers[type]) this.defaultsLayers._style[type] = style;\n};\n\nproto.resetDefaultLayerStyle = function (type) {\n  var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (type && this.defaultsLayers[type]) this.defaultsLayers._style[type] = {\n    color: type === 'highlightLayer' ? undefined : 'red'\n  };\n};\n\nproto.removeLayers = function () {\n  this._removeBaseLayers();\n  this._removeMapLayers();\n  this.removeExternalLayers();\n  this.removeDefaultLayers();\n};\n\nproto.removeAllLayers = function () {\n  this.viewer.removeLayers();\n};\n\n//set ad increase layerIndex\nproto.setLayerZIndex = function (_ref26) {\n  var layer = _ref26.layer,\n      _ref26$zindex = _ref26.zindex,\n      zindex = _ref26$zindex === undefined ? this.layersCount += 1 : _ref26$zindex;\n\n  layer.setZIndex(zindex);\n  return zindex;\n};\n\n/**\n * Add olLayer to mapLayer\n * @param layer\n */\nproto.addLayerToMap = function (layer) {\n  var olLayer = layer.getOLLayer();\n  olLayer && this.getMap().addLayer(olLayer);\n};\n\nproto._setMapProjectionToLayers = function (layers) {\n  var _this25 = this;\n\n  // setup mapProjection on ech layers\n  layers.forEach(function (layer) {\n    return layer.setMapProjection(_this25.getProjection());\n  });\n};\n\nproto.createMapLayer = function (layer) {\n  layer.setMapProjection(this.getProjection());\n  var multilayerId = 'layer_' + layer.getMultiLayerId();\n  var mapLayer = layer.getMapLayer({\n    id: multilayerId,\n    projection: this.getProjection()\n  }, this.layersExtraParams);\n  mapLayer.addLayer(layer);\n  return mapLayer;\n};\n\nproto.getOverviewMapLayers = function (project) {\n  var WMSLayer = require('core/layers/map/wmslayer');\n  var projectLayers = project.getLayersStore().getLayers({\n    GEOLAYER: true,\n    BASELAYER: false\n  });\n  var multiLayers = _.groupBy(projectLayers, function (layer) {\n    return layer.getMultiLayerId();\n  });\n  var overviewMapLayers = [];\n\n  Object.entries(multiLayers).forEach(function (_ref27) {\n    var _ref28 = _slicedToArray(_ref27, 2),\n        id = _ref28[0],\n        layers = _ref28[1];\n\n    var multilayerId = 'overview_layer_' + id;\n    var tiled = layers[0].state.tiled;\n    var config = {\n      url: project.getWmsUrl(),\n      id: multilayerId,\n      tiled: tiled\n    };\n    var mapLayer = new WMSLayer(config);\n    layers.reverse().forEach(function (layer) {\n      return mapLayer.addLayer(layer);\n    });\n    overviewMapLayers.push(mapLayer.getOLLayer(true));\n  });\n  return overviewMapLayers.reverse();\n};\n\n/**\n * method to update MapLayer\n * @param mapLayer\n * @param options\n */\nproto.updateMapLayer = function (mapLayer) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { force: false };\n\n  var _ref29 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref29$showSpinner = _ref29.showSpinner,\n      showSpinner = _ref29$showSpinner === undefined ? true : _ref29$showSpinner;\n\n  // if force add g3w_time parameter to force request of map layer from server\n  if (options.force) options.g3w_time = Date.now();\n  if (showSpinner !== mapLayer.showSpinnerWhenLoading) {\n    mapLayer.showSpinnerWhenLoading = showSpinner;\n    this[showSpinner ? 'registerMapLayerLoadingEvents' : 'unregisterMapLayerLoadingEvents'](mapLayer);\n  }\n  mapLayer.update(this.state, options);\n  return mapLayer;\n};\n\n// run update function on each mapLayer\nproto.updateMapLayers = function () {\n  var _this26 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.getMapLayers().forEach(function (mapLayer) {\n    return _this26.updateMapLayer(mapLayer, options);\n  });\n  var baseLayers = this.getBaseLayers();\n  //updatebase layer\n  Object.values(baseLayers).forEach(function (baseLayer) {\n    return baseLayer.update(_this26.state, _this26.layersExtraParams);\n  });\n};\n\n// register map Layer listeners of creation\nproto.registerMapLayerListeners = function (mapLayer) {\n  var _this27 = this;\n\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  this.registerMapLayerLoadingEvents(mapLayer);\n  //listen change filter token\n  if (projectLayer && mapLayer.layers && Array.isArray(mapLayer.layers)) mapLayer.layers.forEach(function (layer) {\n    layer.onbefore('change', function () {\n      return _this27.updateMapLayer(mapLayer, { force: true });\n    });\n    layer.on('filtertokenchange', function () {\n      return _this27.updateMapLayer(mapLayer, { force: true });\n    });\n  });\n  ///\n};\n\n/** Methos to register and unregister map loadmap\n *\n * */\nproto.registerMapLayerLoadingEvents = function (mapLayer) {\n  mapLayer.on('loadstart', this._incrementLoaders);\n  mapLayer.on('loadend', this._decrementLoaders);\n  mapLayer.on('loaderror', this._mapLayerLoadError);\n};\n\nproto.unregisterMapLayerLoadingEvents = function (mapLayer) {\n  mapLayer.off('loadstart', this._incrementLoaders);\n  mapLayer.off('loadend', this._decrementLoaders);\n  mapLayer.off('loaderror', this._mapLayerLoadError);\n};\n\n/**\n * End\n */\n\n// unregister listeners of mapLayers creation\nproto.unregisterMapLayerListeners = function (mapLayer) {\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  this.unregisterMapLayerLoadingEvents(mapLayer);\n  // try to remove layer filter token\n  if (projectLayer && mapLayer.layers && Array.isArray(mapLayer.layers)) mapLayer.layers.forEach(function (layer) {\n    layer.un('change');\n    layer.removeEvent('filtertokenchange');\n  });\n};\n\nproto.setTarget = function (elId) {\n  this.target = elId;\n};\n\nproto.getCurrentToggledMapControl = function () {\n  var mapControl = this._mapControls.find(function (_ref30) {\n    var control = _ref30.control;\n    return control && control.isToggled && control.isToggled();\n  });\n  return mapControl && mapControl.control;\n};\n\n/**\n * close: param to close eventually right content open\n * @param interaction\n * @param options is an object contain: {\n *   active: If set new interaction active or not\n *   active: If set new interaction active or not\n *   close: if close eventually GUI Content (es. result right content )\n * }\n * return object having current toggled control if there is a toggled mapcontrol\n */\nproto.addInteraction = function (interaction) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { active: true, close: true };\n  var _options$active = options.active,\n      active = _options$active === undefined ? true : _options$active;\n\n  var control = this.getCurrentToggledMapControl();\n  var toggled = control && control.isToggled && control.isToggled() || false;\n  var untoggleMapControls = control && control.isClickMap ? control.isClickMap() : true;\n  untoggleMapControls && active && this._unToggleControls(options);\n  this.getMap().addInteraction(interaction);\n  interaction.setActive(active);\n  this._externalInteractions.push(interaction);\n  return {\n    control: control,\n    toggled: toggled // return current toggled map control if toggled\n  };\n};\n\nproto.removeInteraction = function (interaction) {\n  interaction && interaction.setActive(false);\n  this.viewer.map.removeInteraction(interaction);\n  this._externalInteractions = this._externalInteractions.filter(function (_interaction) {\n    return interaction !== _interaction;\n  });\n};\n\nproto._watchInteraction = function (interaction) {\n  var _this28 = this;\n\n  interaction.on('change:active', function (e) {\n    if (e.target instanceof ol.interaction.Pointer && e.target.getActive()) {\n      _this28.emit('mapcontrol:active', e.target);\n    }\n  });\n};\n\n/**\n * Show map Info\n * @param info\n */\nproto.showMapInfo = function () {\n  var _ref31 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      info = _ref31.info,\n      style = _ref31.style;\n\n  this.state.map_info.info = info;\n  this.state.map_info.style = style || this.state.map_info.style;\n};\n\nproto.hideMapInfo = function () {\n  this.state.map_info.info = null;\n  this.state.map_info.style = null;\n};\n\nproto.zoomTo = function (coordinate) {\n  var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;\n\n  this.viewer.zoomTo(coordinate, zoom);\n};\n\nproto.goTo = function (coordinates, zoom) {\n  var options = {\n    zoom: zoom || 6\n  };\n  this.viewer.goTo(coordinates, options);\n};\n\nproto.goToRes = function (coordinates, resolution) {\n  this.viewer.goToRes(coordinates, {\n    resolution: resolution\n  });\n};\n\nproto.getGeometryAndExtentFromFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var extent = void 0;\n  var geometryType = void 0;\n  var geometry = void 0;\n  var coordinates = void 0;\n  var geometryCoordinates = [];\n  for (var i = 0; i < features.length; i++) {\n    var feature = features[i];\n    var _geometry = feature.getGeometry ? feature.getGeometry() : feature.geometry;\n    if (_geometry) {\n      if (_geometry instanceof ol.geom.Geometry) {\n        var featureExtent = [].concat(_toConsumableArray(_geometry.getExtent()));\n        extent = !extent ? featureExtent : ol.extent.extend(extent, featureExtent);\n        geometryType = geometryType ? geometryType : _geometry.getType();\n        coordinates = _geometry.getCoordinates();\n        if (geometryType.includes('Multi')) geometryCoordinates = [].concat(_toConsumableArray(geometryCoordinates), _toConsumableArray(coordinates));else geometryCoordinates.push(coordinates);\n      } else {\n        var _featureExtent = feature.bbox;\n        extent = !extent ? _featureExtent : ol.extent.extend(extent, _featureExtent);\n        geometryType = _geometry.type;\n        coordinates = _geometry.coordinates;\n      }\n      if (geometryType.includes('Multi')) geometryCoordinates = [].concat(_toConsumableArray(geometryCoordinates), _toConsumableArray(coordinates));else geometryCoordinates.push(coordinates);\n    }\n  }\n  try {\n    var olClassGeomType = geometryType.includes('Multi') ? geometryType : 'Multi' + geometryType;\n    geometry = new ol.geom[olClassGeomType](geometryCoordinates);\n    if (extent === undefined) extent = geometry.getExtent();\n  } catch (err) {}\n  return {\n    extent: extent,\n    geometry: geometry\n  };\n};\n\nproto.highlightFeatures = function (features) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _getGeometryAndExtent = this.getGeometryAndExtentFromFeatures(features),\n      geometry = _getGeometryAndExtent.geometry;\n  //force zoom false\n\n\n  options.zoom = false;\n  this.highlightGeometry(geometry, options);\n};\n\n/**\n * Zoom methods\n */\n\nproto.zoomToGeometry = function (geometry) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { highlight: false };\n\n  var extent = geometry && geometry.getExtent();\n  var highlight = options.highlight;\n\n  if (highlight && extent) options.highLightGeometry = geometry;\n  extent && this.zoomToExtent(extent, options);\n};\n\nproto.zoomToFeatures = function (features) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { highlight: false };\n\n  var _getGeometryAndExtent2 = this.getGeometryAndExtentFromFeatures(features),\n      geometry = _getGeometryAndExtent2.geometry,\n      extent = _getGeometryAndExtent2.extent;\n\n  var highlight = options.highlight;\n\n  if (highlight && extent) options.highLightGeometry = geometry;\n  return extent && this.zoomToExtent(extent, options) || Promise.resolve();\n};\n\n/**\n * @param   { ol.extent }                                          extent\n * @param   {{ force?: boolean, highLightGeometry?: ol.geometry }} [options={}]\n * @returns { Promise<void> }\n */\nproto.zoomToExtent = function (extent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.goToRes(ol.extent.getCenter(extent), this.getResolutionForZoomToExtent(extent, { force: options.force || false }));\n  if (options.highLightGeometry) {\n    return this.highlightGeometry(options.highLightGeometry, { zoom: false, duration: options.duration });\n  }\n  return Promise.resolve();\n};\n\nproto.zoomToProjectInitExtent = function () {\n  this.zoomToExtent(this.project.state.initextent);\n};\n\n/**\n * End zoom methods\n */\n\nproto.compareExtentWithProjectMaxExtent = function (extent) {\n  var projectExtent = this.project.state.extent;\n  var inside = ol.extent.containsExtent(projectExtent, extent);\n  return inside ? extent : projectExtent;\n};\n\n/**\n * @param   {[ minx: number, miny: number, maxx: number, maxy: number ]} extent\n * @param   {{ force?: boolean }} [options] if force is undefined calculate `resolution` from given `extent`\n * @returns {number} resolution (in pixels?)\n */\nproto.getResolutionForZoomToExtent = function (extent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { force: false };\n\n  var map = this.getMap();\n\n  // if outside project extent, return max resolution\n  if (false === ol.extent.containsExtent(this.project.state.extent, extent)) {\n    return map.getView().getResolutionForExtent(this.project.state.extent, map.getSize());\n  }\n\n  var extentResolution = map.getView().getResolutionForExtent(extent, map.getSize()); // resolution of request extent\n\n  // retrive resolution from given `extent`\n  if (true === options.force) {\n    return extentResolution;\n  }\n\n  // calculate main resolutions from map\n  var resolution = void 0;\n  var currentResolution = map.getView().getResolution();\n  var maxResolution = getResolutionFromScale(_constant.MAP_SETTINGS.ZOOM.maxScale, this.getMapUnits()); // max resolution of the map\n  resolution = extentResolution > maxResolution ? extentResolution : maxResolution;\n  resolution = currentResolution < resolution && currentResolution > extentResolution ? currentResolution : resolution;\n  return resolution;\n};\n\nproto.goToBBox = function (bbox) {\n  var epsg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getEpsg();\n\n  bbox = epsg === this.getEpsg() ? bbox : ol.proj.transformExtent(bbox, epsg, this.getEpsg());\n  this.viewer.fit(this.compareExtentWithProjectMaxExtent(bbox));\n};\n\nproto.goToWGS84 = function (coordinates, zoom) {\n  coordinates = ol.proj.transform(coordinates, 'EPSG:4326', this.project.state.crs.epsg);\n  this.goTo(coordinates, zoom);\n};\n\nproto.extentToWGS84 = function (extent) {\n  return ol.proj.transformExtent(extent, this.project.state.crs.epsg, 'EPSG:4326');\n};\n\nproto.getResolutionForMeters = function (meters) {\n  var viewport = this.viewer.map.getViewport();\n  return meters / Math.max(viewport.clientWidth, viewport.clientHeight);\n};\n\nvar animatingHighlight = false;\n\n/*\n* geometries = array of geometries\n* action: add, clear, remove :\n*                             add: feature/features to selectionLayer. If selectionLayer doesn't exist create a  new vector layer.\n*                             clear: remove selectionLayer\n*                             remove: remove feature from selection layer. If no more feature are in selectionLayer it will be removed\n* */\nproto.setSelectionFeatures = function () {\n  var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'add';\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var feature = options.feature,\n      color = options.color;\n\n  color && this.setDefaultLayerStyle('selectionLayer', {\n    color: color\n  });\n  var source = this.defaultsLayers.selectionLayer.getSource();\n  switch (action) {\n    case 'add':\n      source.addFeature(feature);\n      break;\n    case 'remove':\n      source.removeFeature(feature);\n      break;\n    case 'update':\n      var id = feature.getId();\n      var addedFeature = source.getFeatureById(id);\n      addedFeature.setGeometry(feature.getGeometry());\n      break;\n    case 'clear':\n      source.clear();\n      break;\n  }\n};\n\nproto.clearSelectionFeatures = function () {\n  this.defaultsLayers.selectionLayer.getSource().clear();\n};\n\nproto.seSelectionLayerVisible = function () {\n  var visible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.defaultsLayers.selectionLayer.setVisible(visible);\n};\n\nproto.highlightGeometry = function (geometryObj) {\n  var _this29 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return new Promise(function (resolve, reject) {\n    var color = options.color;\n\n    _this29.clearHighlightGeometry();\n    _this29.setDefaultLayerStyle('highlightLayer', {\n      color: color\n    });\n    var zoom = typeof options.zoom === 'boolean' ? options.zoom : true;\n    var hide = options.hide;\n    if (hide) hide = typeof hide === 'function' ? hide : null;\n    var customStyle = options.style;\n    var defaultStyle = function defaultStyle(feature) {\n      var styles = [];\n      var geometryType = feature.getGeometry().getType();\n      var style = createSelectedStyle({\n        geometryType: geometryType,\n        color: color,\n        fill: false\n      });\n      styles.push(style);\n      return styles;\n    };\n    var ANIMATION = _constant.MAP_SETTINGS.ANIMATION;\n\n    var highlight = typeof options.highlight == 'boolean' ? options.highlight : true;\n    var duration = options.duration || ANIMATION.duration;\n    var geometry = void 0;\n    if (geometryObj instanceof ol.geom.Geometry) geometry = geometryObj;else {\n      var format = new ol.format.GeoJSON();\n      geometry = format.readGeometry(geometryObj);\n    }\n    if (zoom) {\n      var extent = geometry.getExtent();\n      _this29.zoomToExtent(extent);\n    }\n    if (highlight) {\n      var feature = new ol.Feature({\n        geometry: geometry\n      });\n      var highlightLayer = _this29.defaultsLayers.highlightLayer;\n      customStyle && highlightLayer.setStyle(customStyle);\n      highlightLayer.getSource().addFeature(feature);\n      if (hide) {\n        var callback = function callback() {\n          highlightLayer.getSource().clear();\n          customStyle && highlightLayer.setStyle(defaultStyle);\n          resolve();\n        };\n        hide(callback);\n      } else if (duration) {\n        if (duration !== Infinity) {\n          animatingHighlight = true;\n          setTimeout(function () {\n            highlightLayer.getSource().clear();\n            customStyle && highlightLayer.setStyle(defaultStyle);\n            animatingHighlight = false;\n            resolve();\n          }, duration);\n        }\n      }\n    } else resolve();\n  });\n};\n\nproto.clearHighlightGeometry = function () {\n  !animatingHighlight && this.defaultsLayers.highlightLayer.getSource().clear();\n  this.resetDefaultLayerStyle('highlightLayer');\n};\n\n/**\n * Force to referesh map\n * @param options\n */\nproto.refreshMap = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { force: true };\n\n  this.updateMapLayers(options);\n};\n\n// called when layout (window) resize\nproto.layout = function (_ref32) {\n  var width = _ref32.width,\n      height = _ref32.height;\n\n  var is_hidden = width <= 0 || height <= 0;\n  if (!this.viewer) {\n    this.setupViewer(width, height);\n    if (this.viewer) {\n      this.setupControls();\n      this.emit('ready');\n    }\n  } else {\n    if (!is_hidden) {\n      this.getMap().updateSize();\n      this.state.hidemaps.forEach(function (hidemap) {\n        return hidemap.map.updateSize();\n      });\n      this._updateMapView();\n    }\n  }\n  this.setHidden(is_hidden);\n  this._mapControls.length && this._updateMapControlsLayout({ width: width, height: height });\n};\n\n//remove BaseLayers\nproto._removeBaseLayers = function () {\n  var _this30 = this;\n\n  Object.keys(this.mapBaseLayers).forEach(function (baseLayerId) {\n    _this30.viewer.map.removeLayer(_this30.mapBaseLayers[baseLayerId].getOLLayer());\n  });\n};\n\n// function to remove maplayers\nproto._removeMapLayers = function () {\n  var _this31 = this;\n\n  this.getMapLayers().forEach(function (mapLayer) {\n    _this31.unregisterMapLayerListeners(mapLayer);\n    _this31.viewer.map.removeLayer(mapLayer.getOLLayer());\n  });\n  this._mapLayers = [];\n};\n\nproto.getMapBBOX = function () {\n  return this.viewer.getBBOX();\n};\n\nproto._updateMapView = function () {\n  var bbox = this.viewer.getBBOX();\n  var resolution = this.viewer.getResolution();\n  var center = this.viewer.getCenter();\n  var size = this.getMap().getSize();\n  this.updateMapView(bbox, resolution, center, size);\n};\n\nproto.getMapSize = function () {\n  var map = this.viewer.map;\n  return map.getSize();\n};\n\nproto.setInnerGreyCoverScale = function (scale) {\n  this._drawShadow.scale = scale;\n};\n\nproto._resetDrawShadowInner = function () {\n  this._drawShadow = {\n    type: 'coordinate',\n    outer: [],\n    inner: [],\n    scale: null,\n    rotation: null\n  };\n};\n\nproto.setInnerGreyCoverBBox = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var map = this.viewer.map;\n  var type = options.type || 'coordinate';\n  var inner = options.inner || null;\n  var rotation = options.rotation;\n  var scale = options.scale;\n  var lowerLeftInner = void 0;\n  var upperRightInner = void 0;\n  if (inner) {\n    switch (type) {\n      case 'coordinate':\n        lowerLeftInner = map.getPixelFromCoordinate([inner[0], inner[1]]);\n        upperRightInner = map.getPixelFromCoordinate([inner[2], inner[3]]);\n        break;\n      case 'pixel':\n        lowerLeftInner = [inner[0], inner[1]];\n        upperRightInner = [inner[2], inner[3]];\n        break;\n    }\n    var y_min = lowerLeftInner[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var x_min = lowerLeftInner[0] * ol.has.DEVICE_PIXEL_RATIO;\n    var y_max = upperRightInner[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var x_max = upperRightInner[0] * ol.has.DEVICE_PIXEL_RATIO;\n    this._drawShadow.inner[0] = x_min;\n    this._drawShadow.inner[1] = y_min;\n    this._drawShadow.inner[2] = x_max;\n    this._drawShadow.inner[3] = y_max;\n  }\n  if (_.isNil(scale)) this._drawShadow.scale = this._drawShadow.scale || 1;else this._drawShadow.scale = scale;\n\n  if (_.isNil(rotation)) this._drawShadow.rotation = this._drawShadow.rotation || 0;else this._drawShadow.rotation = rotation;\n\n  this._drawShadow.outer && map.render();\n};\n\n// grey map precompose mapcompose\nproto.startDrawGreyCover = function (message) {\n  var _this32 = this;\n\n  // after rendering the layer, restore the canvas context\n  var map = this.viewer.map;\n  var x_min = void 0,\n      x_max = void 0,\n      y_min = void 0,\n      y_max = void 0,\n      rotation = void 0,\n      scale = void 0;\n  this.stopDrawGreyCover();\n  var postcompose = function postcompose(evt) {\n    var ctx = evt.context;\n    var size = _this32.getMap().getSize();\n    // Inner polygon,must be counter-clockwise\n    var height = size[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var width = size[0] * ol.has.DEVICE_PIXEL_RATIO;\n    _this32._drawShadow.outer = [0, 0, width, height];\n    ctx.restore();\n    ctx.beginPath();\n    // Outside polygon, must be clockwise\n    ctx.moveTo(0, 0);\n    ctx.lineTo(width, 0);\n    ctx.lineTo(width, height);\n    ctx.lineTo(0, height);\n    ctx.lineTo(0, 0);\n    ctx.closePath();\n    // end external bbox (map is cover)\n    if (_this32._drawShadow.inner.length) {\n      ctx.save();\n      x_min = _this32._drawShadow.inner[0];\n      y_min = _this32._drawShadow.inner[3];\n      x_max = _this32._drawShadow.inner[2];\n      y_max = _this32._drawShadow.inner[1];\n      rotation = _this32._drawShadow.rotation;\n      scale = _this32._drawShadow.scale;\n      // Inner polygon,must be counter-clockwise antiorario\n      ctx.translate((x_max + x_min) / 2, (y_max + y_min) / 2);\n      ctx.rotate(rotation * Math.PI / 180);\n      ctx.moveTo(-((x_max - x_min) / 2), (y_max - y_min) / 2);\n      ctx.lineTo((x_max - x_min) / 2, (y_max - y_min) / 2);\n      ctx.lineTo((x_max - x_min) / 2, -((y_max - y_min) / 2));\n      ctx.lineTo(-((x_max - x_min) / 2), -((y_max - y_min) / 2));\n      ctx.lineTo(-((x_max - x_min) / 2), (y_max - y_min) / 2);\n      ctx.closePath();\n      // end inner bbox\n    }\n    ctx.fillStyle = 'rgba(0, 5, 25, 0.40)';\n    ctx.fill();\n    if (message) {\n      ctx.font = \"bold 25px Arial\";\n      ctx.fillStyle = \"#ffffff\";\n      ctx.textAlign = \"center\";\n      var arrayMessages = message.split('\\n');\n      for (var i = 0; i < arrayMessages.length; i++) {\n        ctx.fillText(arrayMessages[i], width / 2, height / 2 + 30 * i);\n      }\n      //ctx.fillText(message,width/2, height/2);\n    }\n    ctx.restore();\n  };\n  this._greyListenerKey = map.on('postcompose', postcompose);\n};\n\nproto.stopDrawGreyCover = function () {\n  var map = this.getMap();\n  if (this._greyListenerKey) {\n    ol.Observable.unByKey(this._greyListenerKey);\n    this._greyListenerKey = null;\n    this._drawShadow.inner.length && this._resetDrawShadowInner();\n  }\n  map.render();\n};\n\nproto.removeExternalLayers = function () {\n  var _this33 = this;\n\n  this._externalLayers.forEach(function (layer) {\n    var name = layer.get('name');\n    _this33.removeExternalLayer(name);\n  });\n  this._externalLayers = [];\n};\n\nproto.changeLayerVisibility = function (_ref33) {\n  var id = _ref33.id,\n      _ref33$external = _ref33.external,\n      external = _ref33$external === undefined ? false : _ref33$external,\n      visible = _ref33.visible;\n\n  var layer = this.getLayerById(id);\n  if (layer) {\n    layer.setVisible(visible);\n    this.emit('change-layer-visibility', { id: id, visible: visible });\n  }\n};\n\nproto.changeLayerOpacity = function () {\n  var _ref34 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref34.id,\n      _ref34$opacity = _ref34.opacity,\n      opacity = _ref34$opacity === undefined ? 1 : _ref34$opacity;\n\n  var layer = this.getLayerById(id);\n  layer && layer.setOpacity(opacity);\n  this.emit('change-layer-opacity', { id: id, opacity: opacity });\n};\n\nproto.changeLayerMapPosition = function (_ref35) {\n  var id = _ref35.id,\n      _ref35$position = _ref35.position,\n      position = _ref35$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _ref35$position;\n\n  var layer = this.getLayerById(id);\n  switch (position) {\n    case 'top':\n      layer.setZIndex(this.layersCount);\n      break;\n    case 'bottom':\n      layer.setZIndex(0);\n      break;\n  }\n  this.emit('change-layer-position-map', { id: id, position: position });\n};\n\n/**\n * Remove externla layer\n * @param name\n */\nproto.removeExternalLayer = function (name) {\n  var _this34 = this;\n\n  var layer = this.getLayerByName(name);\n  var catalogService = _gui2.default.getService('catalog');\n  var QueryResultService = _gui2.default.getService('queryresults');\n  QueryResultService.unregisterVectorLayer(layer);\n  this.viewer.map.removeLayer(layer);\n  var type = layer._type || 'vector';\n  catalogService.removeExternalLayer({\n    name: name,\n    type: type\n  });\n  if (type == 'wms') this._externalMapLayers = this._externalMapLayers.filter(function (externalMapLayer) {\n    if (externalMapLayer.getId() === layer.id) _this34.unregisterMapLayerListeners(externalMapLayer, layer.projectLayer);\n    return externalMapLayer.getId() !== layer.id;\n  });\n  this._externalLayers = this._externalLayers.filter(function (externalLayer) {\n    return externalLayer.get('id') !== layer.get('id');\n  });\n  this.unloadExternalLayer(layer);\n  this.emit('remove-external-layer', name);\n};\n\n/**\n * Add wms external layer to mapo\n * @param url\n * @param layers\n * @param name\n * @param projection\n * @param position\n * @returns {Promise<unknown>}\n */\nproto.addExternalWMSLayer = function () {\n  var _this35 = this;\n\n  var _ref36 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref36.url,\n      layers = _ref36.layers,\n      name = _ref36.name,\n      _ref36$epsg = _ref36.epsg,\n      epsg = _ref36$epsg === undefined ? this.getEpsg() : _ref36$epsg,\n      _ref36$position = _ref36.position,\n      position = _ref36$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _ref36$position,\n      opacity = _ref36.opacity,\n      _ref36$visible = _ref36.visible,\n      visible = _ref36$visible === undefined ? true : _ref36$visible;\n\n  var projection = ol.proj.get(epsg);\n  return new Promise(function (resolve, reject) {\n    var _createWMSLayer = createWMSLayer({\n      name: name,\n      url: url,\n      layers: layers,\n      projection: projection\n    }),\n        wmslayer = _createWMSLayer.wmslayer,\n        olLayer = _createWMSLayer.olLayer;\n\n    wmslayer.once('loadend', function () {\n      resolve(wmslayer);\n    });\n\n    wmslayer.once('loaderror', function (err) {\n      reject(err);\n    });\n\n    /**\n     * add to map\n     */\n    _this35.addExternalLayer(olLayer, {\n      position: position,\n      opacity: opacity,\n      visible: visible\n    });\n\n    /**\n     * cal register and other thing to alert that new map layer is added\n     */\n    _this35.addExternalMapLayer(wmslayer, false);\n  });\n};\n\n/**\n *\n * Return extanla layers added to map\n * @returns {[]|*[]|T[]}\n */\nproto.getExternalLayers = function () {\n  return this._externalLayers;\n};\n\nproto.addExternalMapLayer = function (externalMapLayer) {\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  this._externalMapLayers.push(externalMapLayer);\n  this.registerMapLayerListeners(externalMapLayer, projectLayer);\n};\n\n/**\n * Add an external layer to the map (eg. ZIP, KMZ, GPX, ...)\n * \n * @param { ol.layer.Vector | ol.layer.Image | unknown } externalLayer\n * @param {{ position: unknown, opacity: number, visible: boolean, crs: unknown, type: unknown, download: unknown }} options\n * \n * @returns { Promise<unknown> }\n */\nproto.addExternalLayer = function () {\n  var _ref37 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(externalLayer) {\n    var _this36 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var vectorLayer, name, data, color, style, type, crs, _options$position, position, _options$opacity, opacity, _options$visible, visible, map, catalogService, QueryResultService, _color, _style, loadExternalLayer, layer;\n\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            vectorLayer = void 0, name = void 0, data = void 0, color = void 0, style = void 0, type = void 0, crs = void 0;\n            _options$position = options.position, position = _options$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _options$position, _options$opacity = options.opacity, opacity = _options$opacity === undefined ? 1 : _options$opacity, _options$visible = options.visible, visible = _options$visible === undefined ? true : _options$visible;\n            map = this.viewer.map;\n            catalogService = _gui2.default.getService('catalog');\n            QueryResultService = _gui2.default.getService('queryresults');\n\n            /**\n             * EXTERNAL VECTOR LAYER\n             */\n\n            if (externalLayer instanceof ol.layer.Vector) {\n              _color = void 0;\n\n\n              if (undefined === externalLayer.get('id')) {\n                externalLayer.set('id', uniqueId());\n              }\n\n              vectorLayer = externalLayer;\n              vectorLayer.filter = { // used by `selection` for query result purpose ?\n                active: false // UNUSUED - it means not yet implemented?\n              };\n              vectorLayer.selection = {\n                active: false,\n                features: []\n              };\n\n              try {\n                _style = externalLayer.getStyle();\n\n                _color = _style._g3w_options ? _style._g3w_options.color : 'blue'; //setted by geo utils create style function\n              } catch (err) {\n                _color = 'blue';\n              }\n\n              name = vectorLayer.get('name') || vectorLayer.get('id');\n              type = 'vector';\n              externalLayer = {\n                id: externalLayer.get('id'),\n                name: name,\n                projectLayer: false,\n                title: name,\n                removable: true,\n                external: true,\n                crs: options.crs,\n                type: options.type,\n                _type: type,\n                download: options.download || false,\n                visible: visible,\n                checked: true,\n                position: position,\n                opacity: opacity,\n                color: _color,\n                filter: vectorLayer.filter,\n                selection: vectorLayer.selection,\n                tochighlightable: false //@since 3.8.0\n              };\n            }\n\n            /**\n             * EXTERNAL IMAGE LAYER\n             */\n            else if (externalLayer instanceof ol.layer.Image) {\n                type = 'wms';\n                name = externalLayer.get('name');\n                externalLayer.id = externalLayer.get('id');\n                externalLayer.removable = true;\n                externalLayer.projectLayer = false;\n                externalLayer.name = name;\n                externalLayer.title = name;\n                externalLayer._type = type;\n                externalLayer.opacity = opacity;\n                externalLayer.position = position;\n                externalLayer.external = true;\n                externalLayer.checked = visible;\n              }\n\n              /**\n               * UKNOWN EXTERNAL LAYER TYPE ?\n               */\n              else {\n                  name = externalLayer.name;\n                  type = externalLayer.type;\n                  crs = externalLayer.crs;\n                  data = externalLayer.data;\n                  color = externalLayer.color;\n                }\n\n            loadExternalLayer = function loadExternalLayer(layer, type) {\n              var extent = void 0;\n              // skip if is not a valid layer\n              if (!layer) {\n                return Promise.reject();\n              }\n              if (type === 'vector') {\n                var features = layer.getSource().getFeatures();\n                if (features.length) {\n                  var id = 0;\n                  // add id value\n                  features.forEach(function (feature) {\n                    feature.setId(id++);\n                  });\n                  externalLayer.geometryType = features[0].getGeometry().getType();\n                  externalLayer.selected = false;\n                }\n                extent = layer.getSource().getExtent();\n                externalLayer.bbox = { minx: extent[0], miny: extent[1], maxx: extent[2], maxy: extent[3] };\n              }\n              layer.set('position', position);\n              layer.setOpacity(opacity);\n              layer.setVisible(visible);\n              map.addLayer(layer);\n              _this36._externalLayers.push(layer);\n              QueryResultService.registerVectorLayer(layer);\n              catalogService.addExternalLayer({ layer: externalLayer, type: type });\n              if (extent) {\n                map.getView().fit(extent);\n              }\n              _this36.loadExternalLayer(layer);\n              return Promise.resolve(layer);\n            };\n\n            layer = this.getLayerByName(name);\n\n            if (layer) {\n              _context4.next = 20;\n              break;\n            }\n\n            _context4.t0 = type;\n            _context4.next = _context4.t0 === 'vector' ? 12 : _context4.t0 === 'wms' ? 13 : 14;\n            break;\n\n          case 12:\n            return _context4.abrupt('return', loadExternalLayer(vectorLayer, type));\n\n          case 13:\n            return _context4.abrupt('return', loadExternalLayer(externalLayer, type));\n\n          case 14:\n            _context4.next = 16;\n            return createVectorLayerFromFile({ name: name, type: type, crs: crs, mapCrs: mapCrs, data: data, style: style });\n\n          case 16:\n            vectorLayer = _context4.sent;\n            return _context4.abrupt('return', loadExternalLayer(vectorLayer));\n\n          case 18:\n            _context4.next = 21;\n            break;\n\n          case 20:\n            _gui2.default.notify.warning(\"layer_is_added\", false);\n\n          case 21:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x56) {\n    return _ref37.apply(this, arguments);\n  };\n}();\n\nproto.setExternalLayerStyle = function (color, field) {\n  color = color.rgba;\n  color = 'rgba(' + color.r + ',' + color.g + ',' + color.b + ',' + color.a + ')';\n  var defaultStyle = {\n    'Point': new ol.style.Style({\n      image: new ol.style.Circle({\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        radius: 5,\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 1\n        })\n      })\n    }),\n    'LineString': new ol.style.Style({\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'Polygon': new ol.style.Style({\n      fill: new ol.style.Fill({\n        color: 'rgba(255,255,255,0.5)'\n      }),\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'MultiPoint': new ol.style.Style({\n      image: new ol.style.Circle({\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        radius: 5,\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 1\n        })\n      })\n    }),\n    'MultiLineString': new ol.style.Style({\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'MultiPolygon': new ol.style.Style({\n      fill: new ol.style.Fill({\n        color: 'rgba(255,255,255,0.5)'\n      }),\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    })\n  };\n  var styleFunction = function styleFunction(feature, resolution) {\n    var featureStyleFunction = feature.getStyleFunction();\n    return featureStyleFunction ? featureStyleFunction.call(feature, resolution) : defaultStyle[feature.getGeometry().getType()];\n  };\n  return styleFunction;\n};\n\nmodule.exports = MapService;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/map/wmslayer\":45,\"core/layers/providers/wfsprovider\":53,\"core/layers/vectorlayer\":57,\"core/utils/geo\":64,\"core/utils/ol\":65,\"core/utils/utils\":67,\"g3w-ol/g3w.ol\":99,\"gui/map/control/factory\":154,\"gui/wms/vue/wms\":191,\"services/application\":348,\"services/data\":355,\"services/gui\":358,\"store/map-controls\":373,\"store/map-layers\":374,\"store/projects\":376}],156:[function(require,module,exports){\nvar _Map = require('components/Map.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Map);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    merge = _require.merge,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar MapService = require('gui/map/mapservice');\n\n// interanl registration\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nVue.component('g3w-map', vueComponentOptions);\n\nfunction MapComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"map-component\";\n  this.title = \"Map Component\";\n  var target = options.target || \"map\";\n  var maps_container = options.maps_container || \"g3w-maps\";\n  options.target = target;\n  options.maps_container = maps_container;\n  var service = new MapService(options);\n  this.setService(service);\n  merge(this, options);\n  this.internalComponent = new InternalComponent({\n    service: service,\n    target: target,\n    maps_container: maps_container\n  });\n  /**\n   * add Vue get cookie method\n   *\n   */\n  service.getCookie = this.internalComponent.$cookie.get;\n}\n\ninherit(MapComponent, Component);\n\nvar proto = MapComponent.prototype;\n\nproto.layout = function (width, height) {\n  $('#' + this.target).height(height);\n  $('#' + this.target).width(width);\n  this._service.layout({ width: width, height: height });\n};\n\nmodule.exports = MapComponent;\n\n},{\"components/Map.vue\":252,\"core/utils/utils\":67,\"gui/component/component\":115,\"gui/map/mapservice\":155}],157:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar ProjectMetadataComponent = require('gui/metadata/vue/components/project/project');\n\nvar METADATAGROUPS = {\n  general: ['title', 'name', 'description', 'abstract', 'keywords', 'fees', 'accessconstraints', 'contactinformation', 'wms_url'],\n  spatial: ['crs', 'extent'],\n  layers: ['layers']\n};\n\nfunction MetadataService() {\n  this.content = null;\n  this.show = false;\n  this.state = {\n    name: '',\n    groups: {}\n  };\n  this._buildProjectGroupMetadata();\n}\n\ninherit(MetadataService, G3WObject);\n\nvar proto = MetadataService.prototype;\n\nproto._buildProjectGroupMetadata = function () {\n  var project = _projects2.default.getCurrentProject().getState();\n  this.state.name = project.title;\n  var groups = {};\n  Object.entries(METADATAGROUPS).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        groupName = _ref2[0],\n        value = _ref2[1];\n\n    groups[groupName] = {};\n    value.forEach(function (field) {\n      var fieldValue = project.metadata && project.metadata[field] ? project.metadata[field] : project[field];\n      if (!!fieldValue) {\n        groups[groupName][field] = {\n          label: ['sdk', 'metadata', 'groups', groupName, 'fields', field].join('.'),\n          value: fieldValue\n        };\n      }\n    });\n  });\n  this.state.groups = groups;\n};\n\nproto.getProjectMetadata = function () {\n  return this.state;\n};\n\nproto.getLayersMetadata = function () {\n  return this.state.groups.layers;\n};\n\nproto.getLayerMetadata = function (id) {\n  var layerMetadata = this.state.groups.layers.filter(function (layer) {\n    return layer.id === id;\n  });\n  return layerMetadata[0];\n};\n\nproto.showMetadata = function (bool) {\n  this.show = bool;\n  if (this.show) {\n    this.content = new ProjectMetadataComponent({\n      state: this.getProjectMetadata(),\n      service: this\n    });\n    _gui2.default.setContent({\n      content: this.content,\n      title: \"sdk.metadata.title\",\n      perc: 100\n    });\n    this.show = true;\n  } else _gui2.default.closeContent();\n};\n\nproto.reload = function () {\n  this.emit('reload');\n  this._buildProjectGroupMetadata();\n};\n\nmodule.exports = MetadataService;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"gui/metadata/vue/components/project/project\":158,\"services/gui\":358,\"store/projects\":376}],158:[function(require,module,exports){\nvar _MetadataProject = require('components/MetadataProject.vue');\n\nvar _MetadataProject2 = _interopRequireDefault(_MetadataProject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\n\nfunction ProjectMetadataComponent() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$state = _ref.state,\n      state = _ref$state === undefined ? {} : _ref$state,\n      service = _ref.service;\n\n  base(this);\n  var vueComponent = Vue.extend(_MetadataProject2.default);\n  this.setService(service);\n  this.internalComponent = new vueComponent({\n    state: state\n  });\n  this.layout = function () {};\n}\n\ninherit(ProjectMetadataComponent, Component);\n\nmodule.exports = ProjectMetadataComponent;\n\n},{\"components/MetadataProject.vue\":260,\"core/utils/utils\":67,\"gui/component/component\":115}],159:[function(require,module,exports){\nvar _Metadata = require('components/Metadata.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Metadata);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar MetadataService = require('gui/metadata/metadataservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar MetadataComponent = function MetadataComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = \"sdk.metadata.title\";\n  var service = options.service || new MetadataService(options);\n  this.setService(service);\n  this._service.on('reload', function () {\n    _this.setOpen(false);\n  });\n  this.setInternalComponent = function () {\n    this.internalComponent = new InternalComponent({\n      service: service\n    });\n    this.internalComponent.state = service.state;\n    return this.internalComponent;\n  };\n  this._setOpen = function (bool) {\n    this._service.showMetadata(bool);\n  };\n  _gui2.default.on('closecontent', function () {\n    _this.state.open = false;\n  });\n};\n\ninherit(MetadataComponent, Component);\n\nmodule.exports = MetadataComponent;\n\n},{\"components/Metadata.vue\":258,\"core/utils/utils\":67,\"gui/component/component\":115,\"gui/metadata/metadataservice\":157,\"services/gui\":358}],160:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    resolvedValue = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\n\nvar Panel = function Panel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.id = options.id || null;\n  this.title = options.title || '';\n  this.internalPanel = options.panel || null;\n  this.service = options.service;\n};\n\ninherit(Panel, G3WObject);\n\nvar proto = Panel.prototype;\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.getTitle = function () {\n  return this.title;\n};\n\nproto.getService = function () {\n  return this.service;\n};\n\nproto.setService = function (service) {\n  this.service = service;\n};\n\nproto.getInternalPanel = function () {\n  return this.internalPanel;\n};\n\nproto.setInternalPanel = function (internalPanel) {\n  this.internalPanel = internalPanel;\n};\n\nproto.show = function () {\n  _gui2.default.showPanel(this);\n};\n\nproto.close = function () {\n  _gui2.default.closePanel();\n};\n\nproto.mount = function (parent) {\n  var panel = this.internalPanel;\n  var iCinstance = panel.$mount();\n  $(parent).append(iCinstance.$el);\n  iCinstance.$nextTick(function () {\n    $(parent).localize();\n    panel.onShow && panel.onShow();\n  });\n  return resolvedValue(true);\n};\n\nproto.unmount = function () {\n  var panel = this.internalPanel;\n  var d = $.Deferred();\n  panel.$destroy(true);\n  $(panel.$el).remove();\n  panel.onClose && panel.onClose();\n  this.internalComponent = null;\n  d.resolve();\n  return d.promise();\n};\n\nproto.onResize = function (parentWidth, parentHeight) {};\n\nmodule.exports = Panel;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/gui\":358}],161:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    downloadFile = _require.downloadFile;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar G3WObject = require('core/g3wobject');\nvar PrintService = require('core/print/printservice');\n\nvar _require3 = require('core/utils/ol'),\n    getScaleFromResolution = _require3.getScaleFromResolution,\n    getResolutionFromScale = _require3.getResolutionFromScale,\n    getMetersFromDegrees = _require3.getMetersFromDegrees;\n\nvar PrintPage = require('gui/print/vue/printpage');\n\nfunction PrintComponentService() {\n  base(this);\n  this.printService = new PrintService();\n  this._initialized = false;\n  this.state = {\n    loading: false\n  };\n  this._moveMapKeyEvent = null;\n  this._page = null;\n  this._mapService = null;\n  this._map = null;\n  this._mapUnits;\n  this._scalesResolutions = {};\n  this.init = function () {\n    this._project = _projects2.default.getCurrentProject();\n    this.state.print = this._project.getPrint() || [];\n    this.state.visible = this.state.print.length > 0;\n    this.state.isShow = false;\n    this.state.url = null;\n    this.state.output = {\n      url: null,\n      method: this._project.getOwsMethod(),\n      layers: true,\n      format: null,\n      loading: false,\n      type: null\n    };\n    this.state.printextent = {\n      minx: [0, 0],\n      miny: [0, 0],\n      maxx: [0, 0],\n      maxy: [0, 0]\n    };\n    this.state.visible && this.setInitState();\n  };\n}\n\ninherit(PrintComponentService, G3WObject);\n\nvar proto = PrintComponentService.prototype;\n\nproto.setInitState = function () {\n  this.state.template = this.state.print[0].name;\n  this.state.atlas = this.state.print[0].atlas;\n  this.state.atlasValues = [];\n  this.state.rotation = 0;\n  this.state.inner = [0, 0, 0, 0];\n  this.state.center = null;\n  this.state.size = null;\n  this.state.scale = _constant.PRINT_SCALES;\n  this.state.scala = null;\n  this.state.dpis = _constant.PRINT_RESOLUTIONS;\n  this.state.dpi = _constant.PRINT_RESOLUTIONS[0];\n  this.state.formats = _constant.PRINT_FORMATS;\n  this.state.output.format = _constant.PRINT_FORMATS[0].value;\n  this.state.maps = this.state.print[0].maps;\n  // label section\n  this.state.labels = this.state.print[0].labels;\n};\n\nproto.changeTemplate = function () {\n  var _this = this;\n\n  if (!this.state.template) return;\n  var isPreviousAtlas = this.state.atlas;\n\n  var _state$print$find = this.state.print.find(function (print) {\n    return print.name === _this.state.template;\n  }),\n      atlas = _state$print$find.atlas,\n      maps = _state$print$find.maps,\n      labels = _state$print$find.labels;\n\n  this.state.maps = maps;\n  this.state.atlas = atlas;\n  this.state.labels = labels;\n  this.state.atlasValues = [];\n  this.state.atlas ? this._clearPrint() : isPreviousAtlas ? this.showPrintArea(true) : this._setPrintArea();\n};\n\nproto.changeScale = function () {\n  this.state.scala && this._setPrintArea();\n};\n\nproto.changeRotation = function () {\n  this._mapService.setInnerGreyCoverBBox({\n    rotation: this.state.rotation\n  });\n};\n\nproto._getPrintExtent = function () {\n  var _ref = [].concat(_toConsumableArray(this.state.printextent.lowerleft), _toConsumableArray(this.state.printextent.upperright)),\n      minx = _ref[0],\n      miny = _ref[1],\n      maxx = _ref[2],\n      maxy = _ref[3];\n\n  var extent = this._mapService.isAxisOrientationInverted() ? [miny, minx, maxy, maxx] : [minx, miny, maxx, maxy];\n  return extent.join();\n};\n\nproto.getOverviewExtent = function () {\n  var extent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var xmin = extent.xmin,\n      xmax = extent.xmax,\n      ymin = extent.ymin,\n      ymax = extent.ymax;\n\n  var overviewextent = this._mapService.isAxisOrientationInverted() ? [ymin, xmin, ymax, xmax] : [xmin, ymin, xmax, ymax];\n  return overviewextent.join();\n};\n\nproto._getOptionsPrint = function () {\n  var _this2 = this;\n\n  var is_maps_preset_theme = false;\n  var maps = this.state.maps.map(function (map) {\n    is_maps_preset_theme = is_maps_preset_theme || map.preset_theme !== undefined;\n    return {\n      name: map.name,\n      preset_theme: map.preset_theme,\n      scale: map.overview ? map.scale : _this2.state.scala,\n      extent: map.overview ? _this2.getOverviewExtent(map.extent) : _this2._getPrintExtent()\n    };\n  });\n  var options = {\n    rotation: this.state.rotation,\n    dpi: this.state.dpi,\n    template: this.state.template,\n    maps: maps,\n    scale: this.state.scala,\n    format: this.state.output.format,\n    labels: this.state.labels,\n    is_maps_preset_theme: is_maps_preset_theme\n  };\n\n  return options;\n};\n\nproto.setPrintAreaAfterCloseContent = function () {\n  this._map.once('postrender', this._setPrintArea.bind(this));\n  this.stopLoading();\n};\n\nproto.print = function () {\n  var _this3 = this;\n\n  return new Promise(function (resolve, reject) {\n    //disable sidebar\n    _gui2.default.disableSideBar(true);\n    if (_this3.state.atlas) {\n      var caller_download_id = _application2.default.setDownload(true);\n      _this3.state.loading = true;\n      _this3.printService.printAtlas({\n        template: _this3.state.template,\n        field: _this3.state.atlas.field_name || '$id',\n        values: _this3.state.atlasValues,\n        download: true\n      }).then(function (_ref2) {\n        var url = _ref2.url;\n\n        downloadFile({\n          url: url,\n          filename: _this3.state.template,\n          mime_type: 'application/pdf'\n        }).then(function () {\n          resolve();\n        }).catch(function (error) {\n          _this3.showError(error);\n          reject();\n        }).finally(function () {\n          _this3.state.loading = false;\n          _application2.default.setDownload(false, caller_download_id);\n          _gui2.default.disableSideBar(false);\n        });\n      });\n    } else {\n      _this3.state.output.url = null;\n      _this3.state.output.layers = true;\n      _this3._page = new PrintPage({\n        service: _this3\n      });\n      _gui2.default.setContent({\n        content: _this3._page,\n        title: 'print',\n        perc: 100\n      });\n      var options = _this3._getOptionsPrint();\n      _this3.printService.print(options, method = _this3.state.output.method).then(function (data) {\n        _this3.state.output.url = data.url;\n        _this3.state.output.layers = data.layers;\n        _this3.state.output.mime_type = data.mime_type;\n        resolve();\n      }).catch(function (err) {\n        _this3.showError();\n        reject(err);\n      }).finally(function () {\n        // in case of no layers\n        !_this3.state.output.layers && _gui2.default.disableSideBar(false);\n      });\n    }\n  });\n};\n\nproto.startLoading = function () {\n  this.state.output.loading = true;\n};\n\nproto.stopLoading = function () {\n  this.state.output.loading = false;\n};\n\nproto.showError = function (error) {\n  _gui2.default.notify.error(error || t(\"info.server_error\"));\n  _gui2.default.closeContent();\n};\n\nproto._calculateInternalPrintExtent = function () {\n  var resolution = this._map.getView().getResolution();\n  var scala = parseFloat(this.state.scala);\n\n  var _state$maps$find = this.state.maps.find(function (map) {\n    return !map.overview;\n  }),\n      height = _state$maps$find.h,\n      width = _state$maps$find.w;\n\n  var resolutionInMeters = this._mapService.getMapUnits() === 'm' ? resolution : getMetersFromDegrees(resolution);\n  var w = width / 1000.0 * scala / resolutionInMeters;\n  var h = height / 1000.0 * scala / resolutionInMeters;\n  // get current map center ( in pixel)\n  var center = [this.state.size[0] / 2, // X\n  this.state.size[1] / 2 // Y\n  ];\n  // Calculate the inner bbox in pixel\n  var xmin = center[0] - w / 2;\n  var ymin = center[1] - h / 2;\n  var xmax = center[0] + w / 2;\n  var ymax = center[1] + h / 2;\n  this.state.printextent.lowerleft = this._map.getCoordinateFromPixel([xmin, ymax]) ? this._map.getCoordinateFromPixel([xmin, ymax]) : this.state.printextent.lowerleft;\n  this.state.printextent.upperright = this._map.getCoordinateFromPixel([xmax, ymin]) ? this._map.getCoordinateFromPixel([xmax, ymin]) : this.state.printextent.upperright;\n  this.state.inner = [xmin, ymax, xmax, ymin];\n};\n\nproto._setPrintArea = function () {\n  this.state.size = this._map.getSize();\n  var resolution = this._map.getView().getResolution();\n  this.state.currentScala = getScaleFromResolution(resolution, this._mapUnits);\n  this.state.center = this._map.getView().getCenter();\n  this._calculateInternalPrintExtent();\n  this._mapService.setInnerGreyCoverBBox({\n    type: 'pixel',\n    inner: this.state.inner,\n    rotation: this.state.rotation\n  });\n};\n\nproto._clearPrint = function () {\n  var reset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  ol.Observable.unByKey(this._moveMapKeyEvent);\n  this._moveMapKeyEvent = null;\n  this._mapService.stopDrawGreyCover();\n};\n\nproto._setAllScalesBasedOnMaxResolution = function (maxResolution) {\n  var _this4 = this;\n\n  var resolution = maxResolution;\n  var mapScala = getScaleFromResolution(resolution, this._mapUnits);\n  var orderScales = _.orderBy(this.state.scale, ['value'], ['desc']);\n  var scale = [];\n  var addedFirstHighestScale = false;\n  var handleScala = function handleScala(scala) {\n    scale.push(scala);\n    resolution = getResolutionFromScale(scala.value, _this4._mapUnits);\n    _this4._scalesResolutions[scala.value] = resolution;\n    resolution = resolution / 2;\n  };\n  orderScales.forEach(function (scala, index) {\n    if (mapScala > scala.value) {\n      if (!addedFirstHighestScale) {\n        var higherScale = orderScales[index - 1];\n        handleScala(higherScale);\n        addedFirstHighestScale = true;\n      }\n      handleScala(scala);\n    }\n  });\n  this.state.scale = scale;\n};\n\nproto._setInitialScalaSelect = function () {\n  this.state.scala = this.state.scale[0].value;\n  $('#scala').val(this.state.scala);\n};\n\nproto._setCurrentScala = function (resolution) {\n  var _this5 = this;\n\n  Object.entries(this._scalesResolutions).find(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        scala = _ref4[0],\n        res = _ref4[1];\n\n    if (resolution <= res) {\n      _this5.state.scala = scala;\n      return true;\n    }\n  });\n};\n\nproto._setMoveendMapEvent = function () {\n  this._moveMapKeyEvent = this._map.on('moveend', this._setPrintArea.bind(this));\n};\n\nproto._showPrintArea = function () {\n  if (this.state.atlas === undefined) {\n    this._setPrintArea();\n    this._mapService.startDrawGreyCover();\n  }\n};\n\nproto._initPrintConfig = function () {\n  if (!this._initialized) {\n    var maxResolution = this._map.getView().getMaxResolution();\n    this._setAllScalesBasedOnMaxResolution(maxResolution);\n    this._initialized = true;\n  }\n  var resolution = this._map.getView().getResolution();\n  this._setCurrentScala(resolution);\n};\n\nproto.showPrintArea = function (bool) {\n  var _this6 = this;\n\n  // close content if open\n  this.state.isShow = bool;\n  _gui2.default.closeContent().then(function (mapComponent) {\n    setTimeout(function () {\n      _this6._mapService = mapComponent.getService();\n      _this6._mapUnits = _this6._mapService.getMapUnits();\n      _this6._mapService.getMap().once('postrender', function (evt) {\n        _this6._map = evt.map;\n        if (bool) {\n          _this6._setMoveendMapEvent();\n          _this6._initPrintConfig();\n          _this6._showPrintArea();\n        } else _this6._clearPrint();\n      });\n      _this6._mapService.getMap().renderSync();\n    });\n  });\n};\n\nproto.reload = function () {\n  var _this7 = this;\n\n  this._project = _projects2.default.getCurrentProject();\n  this._mapService = _gui2.default.getService('map');\n  this._map = this._mapService.viewer.map;\n  this.state.print = this._project.state.print || [];\n  this.state.visible = this.state.print.length > 0;\n  if (this.state.visible) {\n    this.state.template = this.state.print[0].name;\n    !this._initialized && this.init();\n    this._initPrintConfig();\n    this._mapService.on('changeviewaftercurrentproject', function () {\n      var maxResolution = _this7._map.getView().getMaxResolution();\n      _this7.state.scale = _constant.PRINT_SCALES;\n      _this7._setAllScalesBasedOnMaxResolution(maxResolution);\n    });\n  } else this._clearPrint();\n};\n\nmodule.exports = PrintComponentService;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/print/printservice\":60,\"core/utils/ol\":65,\"core/utils/utils\":67,\"gui/print/vue/printpage\":163,\"services/application\":348,\"services/gui\":358,\"store/projects\":376}],162:[function(require,module,exports){\nvar _Print = require('components/Print.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Print);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar PrintService = require('gui/print/printservice');\n\nfunction PrintComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = \"print\";\n  this.vueComponent = vueComponentOptions;\n  this.internalComponent = null;\n  var service = options.service || new PrintService();\n  this.setService(service);\n  // init service\n  this._service.init();\n  this.setInternalComponent = function () {\n    var InternalComponent = Vue.extend(this.vueComponent);\n    this.internalComponent = new InternalComponent({\n      service: service\n    });\n    this.state.visible = service.state.visible;\n    this.internalComponent.state = service.state;\n    return this.internalComponent;\n  };\n\n  this._reload = function () {\n    var service = this.getService();\n    service.reload();\n    this.state.visible = service.state.visible;\n  };\n\n  this._setOpen = function (bool) {\n    this._service.showPrintArea(bool);\n  };\n}\n\ninherit(PrintComponent, Component);\n\nmodule.exports = PrintComponent;\n\n},{\"components/Print.vue\":269,\"core/utils/utils\":67,\"gui/component/component\":115,\"gui/print/printservice\":161}],163:[function(require,module,exports){\nvar _PrintPage = require('components/PrintPage.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_PrintPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar PrintPage = function PrintPage() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var service = options.service;\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    service: service\n  });\n  this.setInternalComponent(internalComponent);\n  this.internalComponent.state = service.state.output;\n  this.unmount = function () {\n    this.getService().setPrintAreaAfterCloseContent();\n    return base(this, 'unmount');\n  };\n};\n\ninherit(PrintPage, Component);\n\nmodule.exports = PrintPage;\n\n},{\"components/PrintPage.vue\":271,\"core/utils/utils\":67,\"gui/component/component\":115}],164:[function(require,module,exports){\nvar _ProjectsMenu = require('components/ProjectsMenu.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_ProjectsMenu);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    merge = _require.merge;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction MenuComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = options.title || \"menu\";\n  this.state.visible = true;\n  this.state.menuitems = options.menuitems;\n  var host = options.host;\n  merge(this, options);\n  this.internalComponent = new InternalComponent({\n    service: this,\n    host: host\n  });\n  this.internalComponent.state = this.state;\n}\ninherit(MenuComponent, Component);\n\nvar proto = MenuComponent.prototype;\n\nproto.trigger = function (item) {};\n\nmodule.exports = MenuComponent;\n\n},{\"components/ProjectsMenu.vue\":273,\"core/utils/utils\":67,\"gui/component/component\":115}],165:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar MenuComponent = require('gui/projectsmenu/menu');\n\nfunction ProjectsMenuComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.id = 'projectsmenu';\n  base(this, options);\n  this.state.menuitems = [];\n  var host = options.host;\n  var projects = options.projects || _projects2.default.getListableProjects();\n  this.state.menuitems = projects.map(function (project) {\n    return {\n      title: project.title,\n      description: project.description,\n      thumbnail: project.thumbnail,\n      gid: project.gid,\n      cbk: options.cbk || function () {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var gid = options.gid;\n\n        return _application2.default.changeProject({\n          gid: gid,\n          host: host\n        });\n      }\n    };\n  });\n}\n\ninherit(ProjectsMenuComponent, MenuComponent);\n\nmodule.exports = ProjectsMenuComponent;\n\n},{\"core/utils/utils\":67,\"gui/projectsmenu/menu\":164,\"services/application\":348,\"store/projects\":376}],166:[function(require,module,exports){\nvar QueryBuilder = require('gui/querybuilder/vue/querybuilder');\nvar QueryBuilderPanel = require('gui/querybuilder/vue/panel/querybuilderpanel');\n\nvar QuerybuilderUIfactory = {\n  type: null,\n  show: function show() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$type = _ref.type,\n        type = _ref$type === undefined ? 'sidebar' : _ref$type,\n        options = _ref.options;\n\n    var QueryBuilderInstance = void 0;\n    this.type = this.type === null ? type : this.type;\n    if (this.type === 'modal') {\n      QueryBuilderInstance = new QueryBuilder({\n        options: options\n      });\n      var queryBuilderDom = QueryBuilderInstance.$mount().$el;\n      GUI.showModalDialog({\n        title: 'Query Builder',\n        message: queryBuilderDom,\n        className: \"modal-background-dark \"\n      });\n    } else {\n      var panel = new QueryBuilderPanel({\n        options: options\n      });\n      QueryBuilderInstance = panel.getInternalPanel();\n      panel.show();\n    }\n    return QueryBuilderInstance;\n  }\n};\n\nmodule.exports = QuerybuilderUIfactory;\n\n},{\"gui/querybuilder/vue/panel/querybuilderpanel\":167,\"gui/querybuilder/vue/querybuilder\":168}],167:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Panel = require('gui/panel');\nvar QueryBuilder = require('gui/querybuilder/vue/querybuilder');\n\nfunction QueryBuilderPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.title = 'Query Builder';\n  base(this, options);\n  var internalPanel = new QueryBuilder(options);\n  this.setInternalPanel(internalPanel);\n}\n\ninherit(QueryBuilderPanel, Panel);\n\nmodule.exports = QueryBuilderPanel;\n\n},{\"core/utils/utils\":67,\"gui/panel\":160,\"gui/querybuilder/vue/querybuilder\":168}],168:[function(require,module,exports){\nvar _QueryBuilder = require('components/QueryBuilder.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_QueryBuilder);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar QueryBuilder = Vue.extend(vueComponentOptions);\n\nmodule.exports = QueryBuilder;\n\n},{\"components/QueryBuilder.vue\":274}],169:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _constant = require('constant');\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _QueryResultsActionDownloadFormats = require('components/QueryResultsActionDownloadFormats.vue');\n\nvar _QueryResultsActionDownloadFormats2 = _interopRequireDefault(_QueryResultsActionDownloadFormats);\n\nvar _QueryResultsActionQueryPolygonCSVAttributes = require('components/QueryResultsActionQueryPolygonCSVAttributes.vue');\n\nvar _QueryResultsActionQueryPolygonCSVAttributes2 = _interopRequireDefault(_QueryResultsActionQueryPolygonCSVAttributes);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    noop = _require.noop,\n    downloadFile = _require.downloadFile,\n    throttle = _require.throttle,\n    getUniqueDomId = _require.getUniqueDomId,\n    copyUrl = _require.copyUrl;\n\nvar _require2 = require('core/utils/geo'),\n    createFeatureFromFeatureObject = _require2.createFeatureFromFeatureObject,\n    intersects = _require2.intersects,\n    within = _require2.within;\n\nvar _require3 = require('core/utils/geo'),\n    getAlphanumericPropertiesFromFeature = _require3.getAlphanumericPropertiesFromFeature,\n    createFeatureFromGeometry = _require3.createFeatureFromGeometry,\n    createFeatureFromBBOX = _require3.createFeatureFromBBOX,\n    createFeatureFromCoordinates = _require3.createFeatureFromCoordinates;\n\nvar _require4 = require('core/i18n/i18n.service'),\n    t = _require4.t;\n\nvar Layer = require('core/layers/layer');\nvar G3WObject = require('core/g3wobject');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar PrintService = require('core/print/printservice');\nvar RelationsPage = require('gui/relations/vue/relationspage');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\n//used to get and set vue reactivity to queryresultservice\nvar VM = new Vue();\n\nfunction QueryResultsService() {\n  var _this = this;\n\n  this.printService = new PrintService();\n  this._currentLayerIds = [];\n\n  _projects2.default.onafter('setCurrentProject', function (project) {\n    _this._project = project;\n    _this._setRelations(project);\n    _this._setAtlasActions(project);\n    _this.state.download_data = false;\n    _this.plotLayerIds = [];\n  });\n  this.unlistenerlayeractionevents = [];\n  this._actions = {\n    'zoomto': QueryResultsService.zoomToElement,\n    'highlightgeometry': this.highlightGeometry.bind(this),\n    'clearHighlightGeometry': this.clearHighlightGeometry.bind(this)\n  };\n  this._relations = [];\n  this._atlas = [];\n  this.plotLayerIds = [];\n  var project = this._project = _projects2.default.getCurrentProject();\n  // userful to set right order for query result based on toc order layers\n  this._projectLayerIds = this._project.getConfigLayers().map(function (layer) {\n    return layer.id;\n  });\n  // set reactive state\n  this.state = {\n    zoomToResult: true,\n    components: [],\n    layers: [],\n    changed: false,\n    query: null,\n    type: 'ows', // or api in case of search\n    layersactions: {},\n    actiontools: {}, // addd action tools (for features)\n    currentactiontools: {}, // current action tools contain component of a specific action (for example download)\n    currentactionfeaturelayer: {}, // contain current action that expose component vue (it useful to comprare id other action is toggled and expose component)\n    layeractiontool: {},\n    layersFeaturesBoxes: {},\n    layerscustomcomponents: {} // used to show a custom component for a layer\n  };\n  this.init = function () {\n    this.clearState();\n  };\n\n  /**\n  * Vector layer used by query result to show query\n  * request as coordinates, bbox, polygon, etc ..\n  * \n  * @type {ol.layer.Vector}\n  */\n  this.resultsQueryLayer = new ol.layer.Vector({\n    source: new ol.source.Vector(),\n    style: function style(feature) {\n      var fill = new ol.style.Fill({ color: 'rgba(0, 0, 255, 0.7)' });\n      var stroke = new ol.style.Stroke({ color: 'blue', width: 3 });\n      if ('Point' === feature.getGeometry().getType()) {\n        return new ol.style.Style({\n          text: new ol.style.Text({\n            text: '\\uF3C5',\n            font: '900 3em \"Font Awesome 5 Free\"',\n            fill: fill,\n            stroke: stroke,\n            offsetY: -15\n          })\n        });\n      }\n      return new ol.style.Style({ stroke: stroke });\n    }\n  });\n\n  this._vectorLayers = [];\n  this._addFeaturesLayerResultInteraction = {\n    id: null, // reference to current layer\n    interaction: null, // interaction bind to layer,\n    mapcontrol: null, // add current toggled map control if toggled\n    toggleeventhandler: null\n  };\n\n  this.setters = {\n\n    /**\n     * Hook method called when response is handled by Data Provider\n     * \n     * @param queryResponse\n     * @param {{ add: boolean }} options `add` is used to know if is a new query request or add/remove query request\n     */\n    setQueryResponse: function setQueryResponse(queryResponse) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n\n\n      // set mandatory queryResponse fields\n      if (!queryResponse.data) queryResponse.data = [];\n      if (!queryResponse.query) queryResponse.query = { external: { add: false, filter: { SELECTED: false } } };\n      if (!queryResponse.query.external) queryResponse.query.external = { add: false, filter: { SELECTED: false } };\n\n      // whether add response to current results using addLayerFeaturesToResultsAction\n      if (!options.add) {\n        // in case of new request results reset the query otherwise maintain the previous request\n        this.clearState();\n        this.state.query = queryResponse.query;\n        this.state.type = queryResponse.type;\n\n        // if true add external layers to response\n        if (true === queryResponse.query.external.add) {\n          this._addVectorLayersDataToQueryResponse(queryResponse);\n        }\n\n        switch (this.state.query.type) {\n          case 'coordinates':\n            this.showCoordinates(this.state.query.coordinates);break;\n          case 'bbox':\n            this.showBBOX(this.state.query.bbox);break;\n          case 'polygon':\n            this.state.query.geometry && this.showGeometry(this.state.query.geometry);break;\n        }\n      }\n\n      this.setLayersData(this._digestFeaturesForLayers(queryResponse.data), options);\n    },\n\n\n    /**\n     * method to add layer and feature for response\n     * @param layers\n     * @param options\n     */\n    setLayersData: function setLayersData(layers) {\n      var _this2 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n      var add = options.add;\n\n      if (!add) {\n        // here set the right order of result layers based on toc\n        this._currentLayerIds = layers.map(function (layer) {\n          return layer.id;\n        });\n        this._orderResponseByProjectLayers(layers);\n      }\n      layers.forEach(function (layer) {\n        // in case of a new request query\n        if (!add) _this2.state.layers.push(layer);\n        //get features from add pick layer\n        else _this2.updateLayerResultFeatures(layer);\n      });\n      this.setActionsForLayers(layers, { add: add });\n      this.state.changed = true;\n    },\n\n    /**\n     * Method\n     * @param component\n     */\n    addComponent: function addComponent(component) {\n      this._addComponent(component);\n    },\n\n    /**\n     *\n     */\n    addActionsForLayers: function addActionsForLayers(actions, layers) {},\n\n    /**\n     *\n     * @param element\n     */\n    postRender: function postRender(element) {},\n\n    /**\n     *\n     */\n    closeComponent: function closeComponent() {},\n\n    /**\n     *\n     * @param layer\n     */\n    changeLayerResult: function changeLayerResult(layer) {\n      this._changeLayerResult(layer);\n    },\n\n    /**\n     *\n     */\n    activeMapInteraction: function activeMapInteraction() {},\n\n    /**\n     *  setter hook to relation table\n     */\n    editFeature: function editFeature() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          layer = _ref.layer,\n          feature = _ref.feature;\n    },\n\n    /**\n     * Method to listen open/close feature info data content.\n     * @param open\n     * @param layer\n     * @param feature\n     * @param container\n     */\n    openCloseFeatureResult: function openCloseFeatureResult() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          open = _ref2.open,\n          layer = _ref2.layer,\n          feature = _ref2.feature,\n          container = _ref2.container;\n    }\n  };\n\n  base(this);\n\n  this.addLayersPlotIds = function () {\n    var layerIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.plotLayerIds = layerIds;\n  };\n\n  this.getPlotIds = function () {\n    return this.plotLayerIds;\n  };\n\n  this.findPlotId = function (id) {\n    return this.plotLayerIds.find(function (plotId) {\n      return plotId == id;\n    });\n  };\n\n  this._setRelations(project);\n  this._setAtlasActions(project);\n  this._asyncFnc = {\n    todo: noop,\n    zoomToLayerFeaturesExtent: {\n      async: false\n    },\n    goToGeometry: {\n      async: false\n    }\n  };\n  _gui2.default.onbefore('setContent', function (options) {\n    var perc = options.perc;\n\n    _this.mapService = _this.mapService || _application2.default.getApplicationService('map');\n    if (perc === 100 && _gui2.default.isMobile()) {\n      _this._asyncFnc.zoomToLayerFeaturesExtent.async = true;\n      _this._asyncFnc.goToGeometry.async = true;\n    }\n  });\n}\n\n// Make the public service en Event Emitter\ninherit(QueryResultsService, G3WObject);\n\nvar proto = QueryResultsService.prototype;\n\n/**\n * Method to register for plugin or other component of application to add custom component on result for each layer feature or layer\n * @param id unique id identification\n * @param layerId Layer id of layer\n * @param component custom component\n * @param type feature or layer\n */\nproto.registerCustomComponent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$id = _ref3.id,\n      id = _ref3$id === undefined ? getUniqueDomId() : _ref3$id,\n      layerId = _ref3.layerId,\n      component = _ref3.component,\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'feature' : _ref3$type,\n      _ref3$position = _ref3.position,\n      position = _ref3$position === undefined ? 'after' : _ref3$position;\n\n  if (this.state.layerscustomcomponents[layerId] === undefined) this.state.layerscustomcomponents[layerId] = {\n    layer: {\n      before: [],\n      after: []\n    },\n    feature: {\n      before: [],\n      after: []\n    }\n  };\n  this.state.layerscustomcomponents[layerId][type][position].push({\n    id: id,\n    component: component\n  });\n  return id;\n};\n\n/**\n * To check position\n * @param id\n * @param layerId\n * @param type\n */\nproto.unRegisterCustomComponent = function (_ref4) {\n  var _this3 = this;\n\n  var id = _ref4.id,\n      layerId = _ref4.layerId,\n      type = _ref4.type,\n      position = _ref4.position;\n\n  if (position) this.state.layerscustomcomponents[layerId][type][position] = this.state.layerscustomcomponents[layerId][type][position].filter(function (_ref5) {\n    var componentId = _ref5.id;\n    return componentId !== id;\n  });else Object.keys(this.state.layerscustomcomponents[layerId][type]).forEach(function (position) {\n    _this3.state.layerscustomcomponents[layerId][type][position] = _this3.state.layerscustomcomponents[layerId][type][position].filter(function (_ref6) {\n      var componentId = _ref6.id;\n      return componentId !== id;\n    });\n  });\n};\n\n/**\n * Method to add a feature to current layer result\n * @param layer\n * @param feature\n */\nproto.addFeatureLayerToResult = function (layer, feature) {\n  this.state.layersFeaturesBoxes[this.getBoxId(layer, feature)].collapsed = true;\n};\n\n/**\n * Method to remove a feature from current layer result\n * @param layer\n * @param feature\n */\nproto.removeFeatureLayerFromResult = function (layer, feature) {\n  var id = layer.id,\n      external = layer.external;\n\n  this.updateLayerResultFeatures({\n    id: id,\n    external: external,\n    features: [feature]\n  });\n};\n\n/**\n * Method wrapper for download\n */\n\nproto.downloadApplicationWrapper = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(downloadFnc) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var download_caller_id;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            download_caller_id = _application2.default.setDownload(true);\n\n            _gui2.default.setLoadingContent(true);\n            _context.prev = 2;\n            _context.next = 5;\n            return downloadFnc(options);\n\n          case 5:\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context['catch'](2);\n\n            _gui2.default.showUserMessage({\n              type: 'alert',\n              message: _context.t0 || 'server_error',\n              textMessage: _context.t0 ? true : false\n            });\n\n          case 10:\n            _application2.default.setDownload(false, download_caller_id);\n            _gui2.default.setLoadingContent(false);\n\n          case 12:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[2, 7]]);\n  }));\n\n  return function (_x8) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * Based on layer response check if features layer are to add or remove to current state.layers results\n * @param layer\n * @since v3.8.0\n */\nproto.updateLayerResultFeatures = function (layer) {\n  var _this4 = this;\n\n  //extract features from layer object\n  var _layer$features = layer.features,\n      features = _layer$features === undefined ? [] : _layer$features;\n  // get layer from current state.layers showed on result\n\n  var findLayer = this.state.layers.find(function (_layer) {\n    return _layer.id === layer.id;\n  });\n  // if get features and find layer\n  if (findLayer && features.length) {\n    // get id external layer or not (external is a layer added by mapcontrol addexternlayer)\n    var external = findLayer.external;\n    // is array of idexes od features that we has to remove from state.layer because is already loaded\n\n    var removeFeatureIndexes = [];\n    // get id of the features\n    var features_ids = features.map(function (feature) {\n      return !external ? feature.attributes[_constant.G3W_FID] : feature.id;\n    });\n    // loop nad filter the features that we had to remove)\n    findLayer.features = findLayer.features.filter(function (feature) {\n      var indexFindFeature = features_ids.indexOf(!external ? feature.attributes[_constant.G3W_FID] : feature.id);\n      // check if need to filter or not\n      var filtered = indexFindFeature === -1;\n      if (!filtered) {\n        removeFeatureIndexes.push(indexFindFeature);\n        var featureRemoved = features[indexFindFeature];\n        _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, feature)].collapsed = true;\n        setTimeout(function () {\n          return delete _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, featureRemoved)];\n        });\n      } else _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, feature)].collapsed = true;\n      return filtered;\n    });\n    // filter features to add\n    features = features.filter(function (feature, index) {\n      return removeFeatureIndexes.indexOf(index) === -1;\n    });\n    // check if new feature ha to be added\n    if (features.length) {\n      var newlayerfeatures = [].concat(_toConsumableArray(findLayer.features), _toConsumableArray(features));\n      findLayer.features = newlayerfeatures;\n    }\n    //in case of removed features\n    if (findLayer.features.length === 1 && this.state.layersFeaturesBoxes[this.getBoxId(findLayer, findLayer.features[0])])\n      // used to do all vue reactive thing before update layers\n      setTimeout(function () {\n        return _this4.state.layersFeaturesBoxes[_this4.getBoxId(findLayer, findLayer.features[0])].collapsed = false;\n      });\n    // in case no more features on layer remove interaction pickcoordinate to get result from map\n    this.checkIfLayerHasNoFeatures(findLayer);\n  }\n  // hightlight new feature\n  this.state.layers.length === 1 && this.highlightFeaturesPermanently(this.state.layers[0]);\n  this.changeLayerResult(findLayer);\n};\n\n/**\n * @deprecated since v3.8. Will be deleted in 4.x. Use QueryResultsService::updateLayerResultFeatures(layer) instead\n */\nproto.addRemoveFeaturesToLayerResult = proto.updateLayerResultFeatures;\n\n/**\n * Method called when layer result features for example is changed\n * @param layer\n */\nproto._changeLayerResult = function (layer) {\n  var layeractions = this.state.layersactions[layer.id];\n  // call if present change mthod to action\n  layeractions.forEach(function (action) {\n    return action.change && action.change(layer);\n  });\n  //reset layer current actions tools\n  this.resetCurrentActionToolsLayer(layer);\n};\n\n/**\n * Check and do action if layer has no features after delete feature(s\n */\nproto.checkIfLayerHasNoFeatures = function (layer) {\n  var _this5 = this;\n\n  if (layer.features.length === 0) {\n    // used to do all vue reactive thing before update layers\n    setTimeout(function () {\n      _this5.state.layers = _this5.state.layers.filter(function (_layer) {\n        return _layer.id !== layer.id;\n      });\n      _this5.clearHighlightGeometry(layer);\n      _this5.removeAddFeaturesLayerResultInteraction({\n        toggle: true\n      });\n    });\n  }\n};\n\n/**\n * Method to create boxid identify to query result hmtl\n * @param layer\n * @param feature\n * @param relation_index\n * @returns {string}\n */\nproto.getBoxId = function (layer, feature, relation_index) {\n  return relation_index !== null && relation_index !== undefined ? layer.id + '_' + feature.id + '_' + relation_index : layer.id + '_' + feature.id;\n};\n\nproto.setActionsForLayers = function (layers) {\n  var _this6 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n  var add = options.add;\n\n  if (!add) {\n    this.unlistenerlayeractionevents = [];\n    layers.forEach(function (layer) {\n      /**\n       * set eventually layer action tool and need to be reactive\n       * @type {{}}\n       */\n      _this6.state.layeractiontool[layer.id] = Vue.observable({\n        component: null,\n        config: null\n      });\n      var currentactiontoolslayer = {};\n      var currentationfeaturelayer = {};\n      layer.features.forEach(function (feature, index) {\n        currentactiontoolslayer[index] = null;\n        currentationfeaturelayer[index] = null;\n      });\n      _this6.state.currentactiontools[layer.id] = Vue.observable(currentactiontoolslayer);\n      _this6.state.currentactionfeaturelayer[layer.id] = Vue.observable(currentationfeaturelayer);\n      var is_external_layer_or_wms = layer.external || (layer.source ? layer.source.type === 'wms' : false);\n      if (!_this6.state.layersactions[layer.id]) _this6.state.layersactions[layer.id] = [];\n      /**\n       * An action is an object contains\n       * {\n       * id: Unique action Id => required True\n          download: if is action download or not => required False\n          class: calss fontawsome to show icon => required True,\n          state: need to be reactive. Used for example to toggled state of action icon => required False\n          hint: Tooltip text => required False\n          init: Method called when action is loaded => required False\n          clear: Method called before clear the service. Used for example to clear unwatch => require False\n          change: Method called when feature of layer is changed\n          cbk: Method called when action is cliccked => required True\n          }\n       *\n       * }\n       */\n\n      //in case of geometry\n      if (layer.hasgeometry) {\n        _this6.state.layersactions[layer.id].push({\n          id: 'gotogeometry',\n          download: false,\n          mouseover: true,\n          class: _gui2.default.getFontClass('marker'),\n          hint: 'sdk.mapcontrols.query.actions.zoom_to_feature.hint',\n          cbk: throttle(_this6.goToGeometry.bind(_this6))\n        });\n      }\n      // in case of relations\n      if (_this6._relations) {\n        var relations = _this6._relations[layer.id] && _this6._relations[layer.id].filter(function (relation) {\n          return relation.type === 'MANY';\n        });\n        if (relations && relations.length) {\n          var chartRelationIds = [];\n          relations.forEach(function (relation) {\n            var id = _this6.plotLayerIds.find(function (id) {\n              return id === relation.referencingLayer;\n            });\n            id && chartRelationIds.push(id);\n          });\n\n          _this6.state.layersactions[layer.id].push({\n            id: 'show-query-relations',\n            download: false,\n            class: _gui2.default.getFontClass('relation'),\n            hint: 'sdk.mapcontrols.query.actions.relations.hint',\n            cbk: _this6.showQueryRelations,\n            relations: relations,\n            chartRelationIds: chartRelationIds\n          });\n          var _state = _this6.createActionState({\n            layer: layer\n          });\n          chartRelationIds.length && _this6.state.layersactions[layer.id].push({\n            id: 'show-plots-relations',\n            download: false,\n            opened: true,\n            class: _gui2.default.getFontClass('chart'),\n            state: _state,\n            hint: 'sdk.mapcontrols.query.actions.relations_charts.hint',\n            cbk: throttle(_this6.showRelationsChart.bind(_this6, chartRelationIds))\n          });\n        }\n      }\n      /**\n       *\n       * Check if layer has atlas\n       */\n      _this6.getAtlasByLayerId(layer.id).length && _this6.state.layersactions[layer.id].push({\n        id: 'printatlas',\n        download: true,\n        class: _gui2.default.getFontClass('print'),\n        hint: 'sdk.tooltips.atlas',\n        cbk: _this6.printAtlas.bind(_this6)\n      });\n      var state = _this6.createActionState({\n        layer: layer\n      });\n      if (layer.downloads.length === 1) {\n        var _layer$downloads = _slicedToArray(layer.downloads, 1),\n            format = _layer$downloads[0];\n\n        var _cbk = _this6.downloadFeatures.bind(_this6, format);\n        layer[format] = Vue.observable({\n          active: false\n        });\n        _this6.state.layersactions[layer.id].push({\n          id: 'download_' + format + '_feature',\n          download: true,\n          state: state,\n          class: _gui2.default.getFontClass('download'),\n          hint: 'sdk.tooltips.download_' + format,\n          cbk: function cbk(layer, feature, action, index) {\n            action.state.toggled[index] = !action.state.toggled[index];\n            if (action.state.toggled[index]) _cbk(layer, feature, action, index);else _this6.setCurrentActionLayerFeatureTool({\n              index: index,\n              action: action,\n              layer: layer\n            });\n          }\n        });\n      } else if (layer.downloads.length > 1) {\n        // SET CONSTANT TO AVOID TO CHANGE ALL THINGS\n        var ACTIONTOOLSDOWNLOADFORMATS = _QueryResultsActionDownloadFormats2.default.name;\n        var downloads = [];\n        layer.downloads.forEach(function (format) {\n          downloads.push({\n            id: 'download_' + format + '_feature',\n            download: true,\n            format: format,\n            class: _gui2.default.getFontClass(format),\n            hint: 'sdk.tooltips.download_' + format,\n            cbk: function cbk(layer, feature, action, index) {\n              //used to untoggle downloads action\n              _this6.downloadFeatures(format, layer, feature, action, index);\n              var downloadsaction = _this6.state.layersactions[layer.id].find(function (action) {\n                return action.id === 'downloads';\n              });\n              if (_this6.state.query.type !== 'polygon') downloadsaction.cbk(layer, feature, downloadsaction, index);\n            }\n          });\n        });\n        _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS] = _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS] || {};\n        // set config of actionstools\n        _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS][layer.id] = {\n          downloads: downloads // ARE DOWNLOAD ACTIONS,\n        };\n        // used to\n        //check if has download actions\n        _this6.state.layersactions[layer.id].push({\n          id: 'downloads',\n          download: true,\n          class: _gui2.default.getFontClass('download'),\n          state: state,\n          toggleable: true,\n          hint: 'Downloads',\n          change: function change(_ref8) {\n            var _this7 = this;\n\n            var features = _ref8.features;\n\n            features.forEach(function (feature, index) {\n              if (_this7.state.toggled[index] === undefined) VM.$set(_this7.state.toggled, index, false);else _this7.state.toggled[index] = false;\n            });\n          },\n\n          cbk: function cbk(layer, feature, action, index) {\n            action.state.toggled[index] = !action.state.toggled[index];\n            _this6.setCurrentActionLayerFeatureTool({\n              layer: layer,\n              index: index,\n              action: action,\n              component: action.state.toggled[index] ? _QueryResultsActionDownloadFormats2.default : null\n            });\n          }\n        });\n      }\n      /*\n      Check if si external layer or wms\n       */\n      !is_external_layer_or_wms && _this6.state.layersactions[layer.id].push({\n        id: 'removefeaturefromresult',\n        download: false,\n        mouseover: true,\n        class: _gui2.default.getFontClass('minus-square'),\n        style: {\n          color: 'red'\n        },\n        hint: 'sdk.mapcontrols.query.actions.remove_feature_from_results.hint',\n        cbk: _this6.removeFeatureLayerFromResult.bind(_this6)\n      });\n\n      /**\n       * check if selection is active\n       */\n      if (layer.selection.active !== undefined) {\n        // selection action\n        var _state2 = _this6.createActionState({\n          layer: layer\n        });\n\n        _this6.state.layersactions[layer.id].push({\n          id: 'selection',\n          download: false,\n          class: _gui2.default.getFontClass('success'),\n          hint: 'sdk.mapcontrols.query.actions.add_selection.hint',\n          state: _state2,\n          init: function init() {\n            var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                feature = _ref9.feature,\n                index = _ref9.index,\n                action = _ref9.action;\n\n            typeof layer.selection.active !== \"undefined\" && _this6.checkFeatureSelection({\n              layer: layer,\n              index: index,\n              feature: feature,\n              action: action\n            });\n          },\n          cbk: throttle(_this6.addToSelection.bind(_this6))\n        });\n        /*\n        * In case of external layer don't listen selection event\n        * */\n        _this6.listenClearSelection(layer, 'selection');\n        //end selection action\n      }\n      /*\n        If not wms of external layer show copy link to feature\n       */\n      !is_external_layer_or_wms && layer.hasgeometry && _this6.state.layersactions[layer.id].push({\n        id: 'link_zoom_to_fid',\n        download: false,\n        class: _gui2.default.getFontClass('link'),\n        hint: 'sdk.mapcontrols.query.actions.copy_zoom_to_fid_url.hint',\n        hint_change: {\n          hint: 'sdk.mapcontrols.query.actions.copy_zoom_to_fid_url.hint_change',\n          duration: 1000\n        },\n        cbk: _this6.copyZoomToFidUrl.bind(_this6)\n      });\n      layer.editable && !layer.inediting && _this6.state.layersactions[layer.id].push({\n        id: 'editing',\n        class: _gui2.default.getFontClass('pencil'),\n        hint: 'Editing',\n        cbk: function cbk(layer, feature) {\n          _this6.editFeature({\n            layer: layer,\n            feature: feature\n          });\n        }\n      });\n    });\n    this.addActionsForLayers(this.state.layersactions, this.state.layers);\n  }\n};\n\nproto.createActionState = function (_ref10) {\n  var layer = _ref10.layer,\n      _ref10$dynamicPropert = _ref10.dynamicProperties,\n      dynamicProperties = _ref10$dynamicPropert === undefined ? ['toggled'] : _ref10$dynamicPropert;\n\n  // check number of download formats\n  var propertiesObject = dynamicProperties.reduce(function (accumulator, property) {\n    accumulator[property] = {};\n    return accumulator;\n  }, {});\n  layer.features.map(function (feature, index) {\n    Object.keys(propertiesObject).forEach(function (property) {\n      propertiesObject[property][index] = null;\n    });\n  });\n  return Vue.observable(propertiesObject);\n};\n\n/**\n * Method to get action referred to layer getting the acion id\n * @param layer layer linked to action\n * @param id action id\n * @returns {*}\n */\nproto.getActionLayerById = function () {\n  var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref11.layer,\n      id = _ref11.id;\n\n  return this.state.layersactions[layer.id].find(function (action) {\n    return action.id === id;\n  });\n};\n\n/**\n * Set current layer action tool in feature\n * @param layer current layer\n * @param index feature index\n * @param value component value or null\n */\nproto.setCurrentActionLayerFeatureTool = function () {\n  var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref12.layer,\n      action = _ref12.action,\n      index = _ref12.index,\n      _ref12$component = _ref12.component,\n      component = _ref12$component === undefined ? null : _ref12$component;\n\n  if (component) {\n    if (this.state.currentactiontools[layer.id][index] && action.id !== this.state.currentactionfeaturelayer[layer.id][index].id && this.state.currentactionfeaturelayer[layer.id][index].toggleable) this.state.currentactionfeaturelayer[layer.id][index].state.toggled[index] = false;\n    this.state.currentactionfeaturelayer[layer.id][index] = action;\n  } else this.state.currentactionfeaturelayer[layer.id][index] = null;\n  this.state.currentactiontools[layer.id][index] = component;\n};\n\nproto.addCurrentActionToolsLayer = function (_ref13) {\n  var id = _ref13.id,\n      layer = _ref13.layer,\n      _ref13$config = _ref13.config,\n      config = _ref13$config === undefined ? {} : _ref13$config;\n\n  this.state.actiontools[id] = {};\n  this.state.actiontools[id][layer.id] = config;\n};\n\n/**\n * Reset current action tools on layer when feature layer change\n * @param layer\n */\nproto.resetCurrentActionToolsLayer = function (layer) {\n  var _this8 = this;\n\n  layer.features.forEach(function (feature, index) {\n    if (_this8.state.currentactiontools[layer.id]) {\n      if (_this8.state.currentactiontools[layer.id][index] === undefined) Vue.set(_this8.state.currentactiontools[layer.id], index, null);else _this8.state.currentactiontools[layer.id][index] = null;\n      _this8.state.currentactionfeaturelayer[layer.id][index] = null;\n    }\n  });\n};\n\n/**\n *\n */\nproto.setLayerActionTool = function () {\n  var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref14.layer,\n      _ref14$component = _ref14.component,\n      component = _ref14$component === undefined ? null : _ref14$component,\n      _ref14$config = _ref14.config,\n      config = _ref14$config === undefined ? null : _ref14$config;\n\n  this.state.layeractiontool[layer.id].component = component;\n  this.state.layeractiontool[layer.id].config = config;\n};\n\n/**\n * Method copy zoomtofid url\n * @param layer\n * @param feature\n */\nproto.copyZoomToFidUrl = function (layer, feature, action) {\n  var fid = feature.attributes[_constant.G3W_FID];\n  var url = new URL(location.href);\n  var zoom_to_fid = layer.id + '|' + fid;\n  url.searchParams.set('zoom_to_fid', zoom_to_fid);\n  copyUrl(url.toString());\n  action.hint_changed = true;\n};\n\n/**\n * Clear all\n */\nproto.clear = function () {\n  this.runAsyncTodo();\n  this.unlistenerEventsActions();\n  this.mapService.clearHighlightGeometry();\n  this.resultsQueryLayer.getSource().clear();\n  this.removeAddFeaturesLayerResultInteraction({\n    toggle: true\n  });\n  this._asyncFnc = null;\n  this._asyncFnc = {\n    todo: noop,\n    zoomToLayerFeaturesExtent: {\n      async: false\n    },\n    goToGeometry: {\n      async: false\n    }\n  };\n  this.clearState();\n  this.closeComponent();\n  this.removeQueryResultLayerFromMap();\n};\n\nproto.getCurrentLayersIds = function () {\n  return this._currentLayerIds;\n};\n\nproto.runAsyncTodo = function () {\n  this._asyncFnc.todo();\n};\n\nproto._orderResponseByProjectLayers = function (layers) {\n  var _this9 = this;\n\n  layers.sort(function (layerA, layerB) {\n    var aIndex = _this9._projectLayerIds.indexOf(layerA.id);\n    var bIndex = _this9._projectLayerIds.indexOf(layerB.id);\n    return aIndex > bIndex ? 1 : -1;\n  });\n};\n\nproto.setZoomToResults = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.zoomToResult = bool;\n};\n\nproto.highlightFeaturesPermanently = function (layer) {\n  var features = layer.features;\n\n  this.mapService.highlightFeatures(features, {\n    duration: Infinity\n  });\n};\n\n/**\n * Check if one layer result\n * @returns {boolean}\n */\nproto.isOneLayerResult = function () {\n  return this.state.layers.length === 1;\n};\n\n/**\n *\n * @param toggle boolean If true toggle true the mapcontrol\n */\nproto.removeAddFeaturesLayerResultInteraction = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref15$toggle = _ref15.toggle,\n      toggle = _ref15$toggle === undefined ? false : _ref15$toggle;\n\n  if (this._addFeaturesLayerResultInteraction.interaction) this.mapService.removeInteraction(this._addFeaturesLayerResultInteraction.interaction);\n  this._addFeaturesLayerResultInteraction.interaction = null;\n  this._addFeaturesLayerResultInteraction.id = null;\n  // check if map control query map is register and if toggled\n  toggle && this._addFeaturesLayerResultInteraction.mapcontrol && this._addFeaturesLayerResultInteraction.mapcontrol.toggle(true);\n  this._addFeaturesLayerResultInteraction.mapcontrol = null;\n  this._addFeaturesLayerResultInteraction.toggleeventhandler && this.mapService.off('mapcontrol:toggled', this._addFeaturesLayerResultInteraction.toggleeventhandler);\n  this._addFeaturesLayerResultInteraction.toggleeventhandler = null;\n};\n\n/**\n *\n * Adde feature to Features results\n * @param layer\n */\nproto.addLayerFeaturesToResultsAction = function (layer) {\n  var _this10 = this;\n\n  /**\n   * Check if layer is current layer to add or clear previous\n   */\n  if (this._addFeaturesLayerResultInteraction.id !== null && this._addFeaturesLayerResultInteraction.id !== layer.id) {\n    var _layer2 = this.state.layers.find(function (layer) {\n      return layer.id === _this10._addFeaturesLayerResultInteraction.id;\n    });\n    if (_layer2) _layer2.addfeaturesresults.active = false;\n    //remove previous add result interaction\n    if (this._addFeaturesLayerResultInteraction.interaction) this.mapService.removeInteraction(this._addFeaturesLayerResultInteraction.interaction);\n  }\n  this._addFeaturesLayerResultInteraction.id = layer.id;\n  layer.addfeaturesresults.active = !layer.addfeaturesresults.active;\n  if (layer.addfeaturesresults.active) {\n    this.activeMapInteraction(); // useful o send an event\n    var external = layer.external;\n\n    if (!this._addFeaturesLayerResultInteraction.mapcontrol) this._addFeaturesLayerResultInteraction.mapcontrol = this.mapService.getCurrentToggledMapControl();\n    this._addFeaturesLayerResultInteraction.interaction = new PickCoordinatesInteraction();\n    this.mapService.addInteraction(this._addFeaturesLayerResultInteraction.interaction, {\n      close: false\n    });\n    this._addFeaturesLayerResultInteraction.interaction.on('picked', function () {\n      var _ref16 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(evt) {\n        var coordinates, vectorLayer, responseObject;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                coordinates = evt.coordinate;\n\n                if (external) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _context2.next = 4;\n                return _data2.default.getData('query:coordinates', {\n                  inputs: {\n                    coordinates: coordinates,\n                    query_point_tolerance: _this10._project.getQueryPointTolerance(),\n                    layerIds: [layer.id],\n                    multilayers: false\n                  }, outputs: {\n                    show: {\n                      add: true\n                    }\n                  }\n                });\n\n              case 4:\n                _context2.next = 9;\n                break;\n\n              case 6:\n                vectorLayer = _this10._vectorLayers.find(function (vectorLayer) {\n                  return layer.id === vectorLayer.get('id');\n                });\n                responseObject = _this10.getVectorLayerFeaturesFromQueryRequest(vectorLayer, {\n                  coordinates: coordinates\n                });\n\n                _this10.setQueryResponse({\n                  data: [responseObject],\n                  query: {\n                    coordinates: coordinates\n                  }\n                }, { add: true });\n\n              case 9:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this10);\n      }));\n\n      return function (_x16) {\n        return _ref16.apply(this, arguments);\n      };\n    }());\n    var eventHandler = function eventHandler(evt) {\n      if (evt.target.isToggled() && evt.target.isClickMap()) layer.addfeaturesresults.active = false;\n    };\n    this._addFeaturesLayerResultInteraction.toggleeventhandler = eventHandler;\n    this.mapService.once('mapcontrol:toggled', eventHandler);\n  } else this.removeAddFeaturesLayerResultInteraction({\n    toggle: true\n  });\n};\n\nproto.deactiveQueryInteractions = function () {\n  this.state.layers.forEach(function (layer) {\n    if (layer.addfeaturesresults) layer.addfeaturesresults.active = false;\n  });\n  this.removeAddFeaturesLayerResultInteraction();\n};\n\nproto.zoomToLayerFeaturesExtent = function (layer) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var features = layer.features;\n\n  options.highlight = !this.isOneLayerResult();\n  if (this._asyncFnc.zoomToLayerFeaturesExtent.async) this._asyncFnc.todo = this.mapService.zoomToFeatures.bind(this.mapService, features, options);else this.mapService.zoomToFeatures(features, options);\n};\n\nproto.clearState = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state.layers.splice(0);\n  this.state.query = null;\n  this.state.querytitle = \"\";\n  this.state.changed = false;\n  // clear action if present\n  Object.values(this.state.layersactions).forEach(function (layeractions) {\n    return layeractions.forEach(function (action) {\n      return action.clear && action.clear();\n    });\n  });\n  this.state.layersactions = {};\n  this.state.actiontools = {};\n  this.state.layeractiontool = {};\n  // current action tools\n  this.state.currentactiontools = {};\n  this.state.layersFeaturesBoxes = {};\n  this.removeAddFeaturesLayerResultInteraction();\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.setState = function (state) {\n  this.state = state;\n};\n\nproto._setRelations = function (project) {\n  var projectRelations = project.getRelations();\n  this._relations = projectRelations ? _.groupBy(projectRelations, 'referencedLayer') : [];\n};\n\nproto.getAtlasByLayerId = function (layerId) {\n  return this._atlas.filter(function (atlas) {\n    return atlas.atlas.qgs_layer_id === layerId;\n  });\n};\n\nproto._setAtlasActions = function (project) {\n  this._atlas = project.getPrint().filter(function (printconfig) {\n    return printconfig.atlas;\n  }) || [];\n};\n\nproto.setTitle = function (querytitle) {\n  this.state.querytitle = querytitle || \"\";\n};\n\nproto.reset = function () {\n  this.clearState();\n};\n\n/**\n * Method that convert response from Data Provider to a Query Result component data structure\n * @param featuresForLayers: Array contains for each layer features\n * @returns {[]}\n * @private\n */\nproto._digestFeaturesForLayers = function (featuresForLayers) {\n  var _this11 = this;\n\n  var id = 0;\n  featuresForLayers = featuresForLayers || [];\n  var layers = [];\n  var layerAttributes = void 0,\n      layerRelationsAttributes = void 0,\n      layerTitle = void 0,\n      layerId = void 0;\n  var _handleFeatureFoLayer = function _handleFeatureFoLayer(featuresForLayer) {\n    var _layerObj;\n\n    var formStructure = void 0;\n    var sourceType = void 0;\n    var source = void 0;\n    var extractRelations = false;\n    var external = false;\n    var editable = false;\n    var inediting = false;\n    var layer = featuresForLayer.layer;\n    var downloads = [];\n    var infoformats = [];\n    var infoformat = void 0;\n    var filter = {};\n    var selection = {};\n    if (layer instanceof Layer) {\n      editable = layer.isEditable();\n      inediting = layer.isInEditing();\n      source = layer.getSource();\n      infoformats = layer.getInfoFormats(); // add infoformats property\n      infoformat = layer.getInfoFormat();\n      // set selection filter and relation if not wms\n      if ([Layer.SourceTypes.WMS, Layer.SourceTypes.WCS, Layer.SourceTypes.WMST].indexOf(layer.getSourceType()) === -1) {\n        filter = layer.state.filter;\n        selection = layer.state.selection;\n        extractRelations = true;\n      }\n      downloads = layer.getDownloadableFormats();\n      try {\n        sourceType = layer.getSourceType();\n      } catch (err) {}\n      // sanitize attributes layer only if is ows\n      layerAttributes = _this11.state.type === 'ows' ? layer.getAttributes().map(function (attribute) {\n        var sanitizeAttribute = _extends({}, attribute);\n        sanitizeAttribute.name = sanitizeAttribute.name.replace(/ /g, '_');\n        return sanitizeAttribute;\n      }) : layer.getAttributes();\n\n      layerRelationsAttributes = [];\n      layerTitle = layer.getTitle();\n      layerId = layer.getId();\n      if (layer.hasFormStructure()) {\n        var structure = layer.getLayerEditingFormStructure();\n        if (_this11._relations && _this11._relations.length) {\n          var getRelationFieldsFromFormStructure = function getRelationFieldsFromFormStructure(node) {\n            if (!node.nodes) {\n              node.name ? node.relation = true : null;\n            } else {\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = node.nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var _node = _step.value;\n\n                  getRelationFieldsFromFormStructure(_node);\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n            }\n          };\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = structure[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var node = _step2.value;\n\n              getRelationFieldsFromFormStructure(node);\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        }\n        var fields = layer.getFields().filter(function (field) {\n          return field.show;\n        }); // get features show\n        formStructure = {\n          structure: structure,\n          fields: fields\n        };\n      }\n    } else if (layer instanceof ol.layer.Vector) {\n      selection = layer.selection;\n      layerAttributes = layer.getProperties();\n      layerRelationsAttributes = [];\n      layerTitle = layer.get('name');\n      layerId = layer.get('id');\n      external = true;\n    } else if (typeof layer === 'string' || layer instanceof String) {\n      sourceType = Layer.LayerTypes.VECTOR;\n      var feature = featuresForLayer.features[0];\n      layerAttributes = feature ? feature.getProperties() : [];\n      layerRelationsAttributes = [];\n      var split_layer_name = layer.split('_');\n      layerTitle = split_layer_name.length > 4 ? split_layer_name.slice(0, split_layer_name.length - 4).join(' ') : layer;\n      layerId = layer;\n      external = true;\n    }\n    var layerObj = (_layerObj = {\n      title: layerTitle,\n      id: layerId,\n      infoformat: infoformat,\n      infoformats: infoformats,\n      attributes: [],\n      features: [],\n      hasgeometry: false,\n      atlas: _this11.getAtlasByLayerId(layerId),\n      source: source,\n      downloads: downloads,\n      show: true,\n      filter: filter,\n      addfeaturesresults: {\n        active: false\n      }\n    }, _defineProperty(_layerObj, _QueryResultsActionDownloadFormats2.default.name, {\n      active: false\n    }), _defineProperty(_layerObj, 'external', external), _defineProperty(_layerObj, 'editable', editable), _defineProperty(_layerObj, 'inediting', inediting), _defineProperty(_layerObj, 'selection', selection), _defineProperty(_layerObj, 'expandable', true), _defineProperty(_layerObj, 'hasImageField', false), _defineProperty(_layerObj, 'relationsattributes', layerRelationsAttributes), _defineProperty(_layerObj, 'formStructure', formStructure), _defineProperty(_layerObj, 'error', ''), _defineProperty(_layerObj, 'rawdata', null), _defineProperty(_layerObj, 'loading', false), _layerObj);\n    if (featuresForLayer.rawdata) {\n      layerObj.rawdata = featuresForLayer.rawdata;\n      layers.push(layerObj);\n    } else if (featuresForLayer.features && featuresForLayer.features.length) {\n      var layerSpecialAttributesName = layer instanceof Layer ? layerAttributes.filter(function (attribute) {\n        try {\n          return attribute.name[0] === '_' || Number.isInteger(1 * attribute.name[0]);\n        } catch (e) {\n          return false;\n        }\n      }).map(function (attribute) {\n        return {\n          alias: attribute.name.replace(/_/, ''),\n          name: attribute.name\n        };\n      }) : [];\n      layerSpecialAttributesName.length && featuresForLayer.features.forEach(function (feature) {\n        return _this11._setSpecialAttributesFeatureProperty(layerSpecialAttributesName, feature);\n      });\n      layerObj.attributes = _this11._parseAttributes(layerAttributes, featuresForLayer.features[0], sourceType);\n      layerObj.attributes.forEach(function (attribute) {\n        if (formStructure) {\n          var relationField = layer.getFields().find(function (field) {\n            return field.name === attribute.name;\n          }); // need to check all field also show false\n          !relationField && formStructure.fields.push(attribute);\n        }\n        if (attribute.type === 'image') layerObj.hasImageField = true;\n      });\n      featuresForLayer.features.forEach(function (feature) {\n        var _getFeatureProperties = _this11.getFeaturePropertiesAndGeometry(feature),\n            fid = _getFeatureProperties.id,\n            geometry = _getFeatureProperties.geometry,\n            attributes = _getFeatureProperties.properties,\n            selection = _getFeatureProperties.selection;\n\n        if (geometry) layerObj.hasgeometry = true;\n        var featureObj = {\n          id: layerObj.external ? feature.getId() : fid,\n          attributes: attributes,\n          geometry: geometry,\n          selection: selection,\n          show: true\n        };\n        layerObj.features.push(featureObj);\n        id += 1;\n      });\n      layers.push(layerObj);\n    } else if (featuresForLayer.error) layerObj.error = featuresForLayer.error;\n  };\n  featuresForLayers.forEach(function (featuresForLayer) {\n    if (!Array.isArray(featuresForLayer)) _handleFeatureFoLayer(featuresForLayer);else featuresForLayer.forEach(function (featuresForLayer) {\n      return _handleFeatureFoLayer(featuresForLayer);\n    });\n  });\n  return layers;\n};\n\n/**\n * Method to set special attributes\n * @param layerSpecialAttributesName\n * @param feature\n * @private\n */\nproto._setSpecialAttributesFeatureProperty = function (layerSpecialAttributesName, feature) {\n  // get feature properties get from server request\n  var featureAttributes = feature.getProperties();\n  // get attributes special keys\n  var featureAttributesNames = Object.keys(featureAttributes);\n  if (layerSpecialAttributesName.length) {\n    layerSpecialAttributesName.forEach(function (attributeObj) {\n      featureAttributesNames.find(function (featureAttribute) {\n        if (featureAttribute === attributeObj.alias) {\n          feature.set(attributeObj.name, feature.get(featureAttribute));\n          return true;\n        }\n      });\n    });\n  }\n};\n\n/**\n * Method to get properties geometry and id from different type of fetaure\n * @param feature\n * @returns {{geometry: (undefined|*|null|ol.Feature), id: *, properties: string[]}|{geometry: *, id: *, properties: *}}\n */\nproto.getFeaturePropertiesAndGeometry = function (feature) {\n  if (feature instanceof ol.Feature) {\n    return {\n      selection: feature.selection,\n      properties: feature.getProperties(),\n      geometry: feature.getGeometry(),\n      id: feature.getId()\n    };\n  } else {\n    var selection = feature.selection,\n        properties = feature.properties,\n        geometry = feature.geometry,\n        id = feature.id;\n\n    return {\n      selection: selection,\n      properties: properties,\n      geometry: geometry,\n      id: id\n    };\n  }\n};\n\n/**\n * parse attributre to show on result based on field\n * @param layerAttributes\n * @param feature\n * @param sourceType\n * @returns {{name: T, show: boolean, label: T}[]|*}\n * @private\n */\nproto._parseAttributes = function (layerAttributes, feature, sourceType) {\n  var _getFeatureProperties2 = this.getFeaturePropertiesAndGeometry(feature),\n      featureAttributes = _getFeatureProperties2.properties;\n\n  var featureAttributesNames = Object.keys(featureAttributes);\n  featureAttributesNames = getAlphanumericPropertiesFromFeature(featureAttributesNames);\n  if (layerAttributes && layerAttributes.length) {\n    var attributes = layerAttributes.filter(function (attribute) {\n      return featureAttributesNames.indexOf(attribute.name) > -1;\n    });\n    return attributes;\n  } else {\n    var _Layer$SourceTypes = Layer.SourceTypes,\n        GDAL = _Layer$SourceTypes.GDAL,\n        WMS = _Layer$SourceTypes.WMS,\n        WCS = _Layer$SourceTypes.WCS,\n        WMST = _Layer$SourceTypes.WMST;\n\n    var showSourcesTypes = [GDAL, WMS, WCS, WMST];\n    return featureAttributesNames.map(function (featureAttributesName) {\n      return {\n        name: featureAttributesName,\n        label: featureAttributesName,\n        show: featureAttributesName !== _constant.G3W_FID && (sourceType === undefined || showSourcesTypes.indexOf(sourceType) !== -1),\n        type: 'varchar'\n      };\n    });\n  }\n};\n\nproto.trigger = function () {\n  var _ref17 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(actionId, layer, feature, index, container) {\n    var actionMethod, layerActions, action;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            actionMethod = this._actions[actionId];\n\n            actionMethod && actionMethod(layer, feature, index);\n\n            if (!layer) {\n              _context3.next = 10;\n              break;\n            }\n\n            layerActions = this.state.layersactions[layer.id];\n\n            if (!layerActions) {\n              _context3.next = 10;\n              break;\n            }\n\n            action = layerActions.find(function (layerAction) {\n              return layerAction.id === actionId;\n            });\n            _context3.t0 = action;\n\n            if (!_context3.t0) {\n              _context3.next = 10;\n              break;\n            }\n\n            _context3.next = 10;\n            return this.triggerLayerAction(action, layer, feature, index, container);\n\n          case 10:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function (_x19, _x20, _x21, _x22, _x23) {\n    return _ref17.apply(this, arguments);\n  };\n}();\n\nproto.triggerLayerAction = function () {\n  var _ref18 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(action, layer, feature, index, container) {\n    var url, urlTemplate;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.t0 = action.cbk;\n\n            if (!_context4.t0) {\n              _context4.next = 4;\n              break;\n            }\n\n            _context4.next = 4;\n            return action.cbk(layer, feature, action, index, container);\n\n          case 4:\n            if (action.route) {\n              url = void 0;\n              urlTemplate = action.route;\n\n              url = urlTemplate.replace(/{(\\w*)}/g, function (m, key) {\n                return feature.attributes.hasOwnProperty(key) ? feature.attributes[key] : \"\";\n              });\n              url && url !== '' && _gui2.default.goto(url);\n            }\n\n          case 5:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x24, _x25, _x26, _x27, _x28) {\n    return _ref18.apply(this, arguments);\n  };\n}();\n\nproto.registerVectorLayer = function (vectorLayer) {\n  this._vectorLayers.indexOf(vectorLayer) === -1 && this._vectorLayers.push(vectorLayer);\n};\n\nproto.unregisterVectorLayer = function (vectorLayer) {\n  var _this12 = this;\n\n  this._vectorLayers = this._vectorLayers.filter(function (layer) {\n    _this12.state.layers = _this12.state.layers && _this12.state.layers.filter(function (layer) {\n      return layer.id !== vectorLayer.get('id');\n    });\n    return layer !== vectorLayer;\n  });\n};\n\nproto.getVectorLayerFeaturesFromQueryRequest = function (vectorLayer) {\n  var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var coordinates = query.coordinates,\n      bbox = query.bbox,\n      geometry = query.geometry,\n      _query$filterConfig = query.filterConfig,\n      filterConfig = _query$filterConfig === undefined ? {} : _query$filterConfig; // extract information about query type\n\n  var features = [];\n\n  // case query coordinates\n  if (coordinates && Array.isArray(coordinates)) {\n    var pixel = this.mapService.viewer.map.getPixelFromCoordinate(coordinates);\n    this.mapService.viewer.map.forEachFeatureAtPixel(pixel, function (feature, layer) {\n      features.push(feature);\n    }, {\n      layerFilter: function layerFilter(layer) {\n        return layer === vectorLayer;\n      }\n    });\n  }\n\n  // TODO: rewrite this in order to avoid nested else-if conditions\n  else {\n\n      // case query bbox\n      if (bbox && Array.isArray(bbox)) {\n        //set geometry has Polygon\n        geometry = ol.geom.Polygon.fromExtent(bbox);\n      }\n\n      // check query geometry (Polygon or MultiPolygon)\n      if (geometry instanceof ol.geom.Polygon || geometry instanceof ol.geom.MultiPolygon) {\n        switch (vectorLayer.constructor) {\n          case VectorLayer:\n            features = vectorLayer.getIntersectedFeatures(geometry);\n            break;\n          case ol.layer.Vector:\n            vectorLayer.getSource().getFeatures().forEach(function (feature) {\n              var add = void 0;\n              switch (filterConfig.spatialMethod) {\n                case 'intersects':\n                  add = intersects(geometry, feature.getGeometry());break;\n                case 'within':\n                  add = within(geometry, feature.getGeometry());break;\n                default:\n                  add = geometry.intersectsExtent(feature.getGeometry().getExtent());break;\n              }\n              if (true === add) {\n                features.push(feature);\n              }\n            });\n            break;\n        }\n      }\n    }\n\n  return {\n    features: features,\n    layer: vectorLayer\n  };\n};\n\n/**\n * @TODO add description (eg. what is a vector layer ?)\n */\nproto._addVectorLayersDataToQueryResponse = function (queryResponse) {\n  var _this13 = this;\n\n  var catalogService = _gui2.default.getService('catalog');\n\n  /** @type { boolean | undefined } */\n  var isExternalFilterSelected = queryResponse.query.external.filter.SELECTED;\n\n  // add visible layers to query response (vector layers)\n  this._vectorLayers.forEach(function (layer) {\n    var isLayerSelected = catalogService.isExternalLayerSelected({ id: layer.get('id'), type: 'vector' });\n    if (layer.getVisible() && ( // TODO: extract this into `layer.isSomething()` ?\n    true === isLayerSelected && true === isExternalFilterSelected || false === isLayerSelected && false === isExternalFilterSelected || \"undefined\" === typeof isExternalFilterSelected)) {\n      queryResponse.data.push(_this13.getVectorLayerFeaturesFromQueryRequest(layer, queryResponse.query));\n    }\n  });\n};\n\n//function to add custom component in query result\nproto._addComponent = function (component) {\n  this.state.components.push(component);\n};\n\nproto._printSingleAtlas = function () {\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref19$atlas = _ref19.atlas,\n      atlas = _ref19$atlas === undefined ? {} : _ref19$atlas,\n      _ref19$features = _ref19.features,\n      features = _ref19$features === undefined ? [] : _ref19$features;\n\n  // TODO: make it easier to understand.. (what variables are declared? which ones are aliased?)\n  var template = atlas.name,\n      _atlas$atlas$field_na = atlas.atlas.field_name,\n      field_name = _atlas$atlas$field_na === undefined ? '' : _atlas$atlas$field_na;\n\n\n  field_name = field_name || '$id';\n\n  var values = features.map(function (feat) {\n    return feat.attributes[field_name === '$id' ? _constant.G3W_FID : field_name];\n  });\n  var download_caller_id = _application2.default.setDownload(true);\n\n  return this.printService.printAtlas({\n    field: field_name,\n    values: values,\n    template: template,\n    download: true\n  }).then(function (_ref20) {\n    var url = _ref20.url;\n\n    downloadFile({ url: url, filename: template, mime_type: 'application/pdf' }).catch(function (error) {\n      _gui2.default.showUserMessage({ type: 'alert', error: error });\n    }).finally(function () {\n      _application2.default.setDownload(false, download_caller_id);_gui2.default.setLoadingContent(false);\n    });\n  });\n};\n\nproto.showChart = function (ids, container, relationData) {\n  this.emit('show-chart', ids, container, relationData);\n};\n\nproto.hideChart = function (container) {\n  this.emit('hide-chart', container);\n};\n\nproto.showRelationsChart = function () {\n  var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var layer = arguments[1];\n  var feature = arguments[2];\n  var action = arguments[3];\n  var index = arguments[4];\n  var container = arguments[5];\n\n  action.state.toggled[index] = !action.state.toggled[index];\n  if (action.state.toggled[index]) {\n    var relations = this._relations[layer.id];\n    var relationData = {\n      relations: relations,\n      fid: feature.attributes[_constant.G3W_FID],\n      height: 400\n    };\n    this.emit('show-chart', ids, container, relationData);\n  } else this.hideChart(container);\n};\n\nproto.printAtlas = function (layer, feature) {\n  var _this14 = this;\n\n  var layerId = layer.id,\n      features = layer.features;\n\n  var inputAtlasAttr = 'g3w_atlas_index';\n  features = feature ? [feature] : features;\n  var atlasLayer = this.getAtlasByLayerId(layerId);\n  if (atlasLayer.length > 1) {\n    var inputs = '';\n    atlasLayer.forEach(function (atlas, index) {\n      var id = getUniqueDomId();\n      inputs += '<input id=\"' + id + '\" ' + inputAtlasAttr + '=\"' + index + '\" class=\"magic-radio\" type=\"radio\" name=\"template\" value=\"' + atlas.name + '\"/>\\n                 <label for=\"' + id + '\">' + atlas.name + '</label>\\n                 <br>';\n    });\n\n    _gui2.default.showModalDialog({\n      title: t('sdk.atlas.template_dialog.title'),\n      message: inputs,\n      buttons: {\n        success: {\n          label: \"OK\",\n          className: \"skin-button\",\n          callback: function callback() {\n            var index = $('input[name=\"template\"]:checked').attr(inputAtlasAttr);\n            if (index !== null || index !== undefined) {\n              var atlas = atlasLayer[index];\n              _this14._printSingleAtlas({\n                atlas: atlas,\n                features: features\n              });\n            }\n          }\n        }\n      }\n    });\n  } else this._printSingleAtlas({\n    atlas: atlasLayer[0],\n    features: features\n  });\n};\n\n/**\n * Method that in case\n * @param layer\n */\nproto.showLayerDownloadFormats = function (layer) {\n  var layerKey = _QueryResultsActionDownloadFormats2.default.name;\n  layer[layerKey].active = !layer[layerKey].active;\n  this.setLayerActionTool({\n    layer: layer,\n    component: layer[layerKey].active ? _QueryResultsActionDownloadFormats2.default : null,\n    config: layer[layerKey].active ? this.state.actiontools[layerKey][layer.id] : null\n  });\n};\n\n/**\n *\n * @param type\n * @param layerId\n * @param features\n */\nproto.downloadFeatures = function () {\n  var _ref21 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(type, layer) {\n    var features = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n    var _this15 = this;\n\n    var action = arguments[3];\n    var index = arguments[4];\n\n    var layerId, _state$query, query, data, runDownload, downloadsactions, fid, polygonLayer, config;\n\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            layerId = layer.id;\n            _state$query = this.state.query, query = _state$query === undefined ? {} : _state$query;\n\n            features = features ? Array.isArray(features) ? features : [features] : features;\n            data = {\n              fids: features.map(function (feature) {\n                return feature.attributes[_constant.G3W_FID];\n              }).join(',')\n            };\n            /**\n             * is a function that che be called in case of querybypolygon\n             * @param active\n             */\n\n            runDownload = function () {\n              var _ref22 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n                var active = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n                var projectLayer, download_caller_id, downloadsactions;\n                return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                  while (1) {\n                    switch (_context5.prev = _context5.next) {\n                      case 0:\n                        if (features.length > 1) {\n                          layer[_QueryResultsActionDownloadFormats2.default.name].active = active;\n                          _this15.setLayerActionTool({\n                            layer: layer\n                          });\n                        }\n                        projectLayer = _catalogLayers2.default.getLayerById(layer.id);\n                        download_caller_id = _application2.default.setDownload(true);\n\n                        _gui2.default.setLoadingContent(true);\n                        _context5.prev = 4;\n                        _context5.next = 7;\n                        return projectLayer.getDownloadFilefromDownloadDataType(type, {\n                          data: data\n                        });\n\n                      case 7:\n                        _context5.t0 = _context5.sent;\n\n                        if (_context5.t0) {\n                          _context5.next = 10;\n                          break;\n                        }\n\n                        Promise.resolve();\n\n                      case 10:\n                        _context5.next = 15;\n                        break;\n\n                      case 12:\n                        _context5.prev = 12;\n                        _context5.t1 = _context5['catch'](4);\n\n                        _gui2.default.notify.error(_context5.t1 || t(\"info.server_error\"));\n\n                      case 15:\n                        _application2.default.setDownload(false, download_caller_id);\n                        _gui2.default.setLoadingContent(false);\n                        downloadsactions = _this15.state.layersactions[layer.id].find(function (action) {\n                          return action.id === 'downloads';\n                        });\n\n                        if (features.length > 1) {\n                          if (downloadsactions === undefined) {\n                            layer[type].active = false;\n                            _this15.setLayerActionTool({\n                              layer: layer\n                            });\n                          } else layer[_QueryResultsActionDownloadFormats2.default.name].active = false;\n                        } else {\n                          if (downloadsactions === undefined) action.state.toggled[index] = false;else downloadsactions.state.toggled[index] = false;\n                          _this15.setCurrentActionLayerFeatureTool({\n                            index: index,\n                            action: action,\n                            layer: layer\n                          });\n                        }\n\n                      case 19:\n                      case 'end':\n                        return _context5.stop();\n                    }\n                  }\n                }, _callee5, _this15, [[4, 12]]);\n              }));\n\n              return function runDownload() {\n                return _ref22.apply(this, arguments);\n              };\n            }();\n\n            if (query.type === 'polygon') {\n              //check if multidownload if present\n              downloadsactions = this.state.layersactions[layer.id].find(function (action) {\n                return action.id === 'downloads';\n              });\n              fid = query.fid, polygonLayer = query.layer;\n              config = {\n                choices: [{\n                  id: getUniqueDomId(),\n                  type: 'feature',\n                  label: 'sdk.mapcontrols.querybypolygon.download.choiches.feature.label'\n                }, {\n                  id: getUniqueDomId(),\n                  type: 'polygon',\n                  label: 'sdk.mapcontrols.querybypolygon.download.choiches.feature_polygon.label'\n                }],\n                download: function download(type) {\n                  // choose between only feature attribute or also polygon attibute\n                  if (type === 'polygon') {\n                    // id type polygon add paramateres to api download\n                    data.sbp_qgs_layer_id = polygonLayer.getId();\n                    data.sbp_fid = fid;\n                  } else {\n                    // force to remove\n                    delete data.sbp_fid;\n                    delete data.sbp_qgs_layer_id;\n                  }\n                  runDownload(true);\n                }\n              };\n\n              if (features.length === 1) {\n                if (downloadsactions === undefined) {\n                  action.state.toggled[index] = true;\n                }\n                this.state.actiontools[_QueryResultsActionQueryPolygonCSVAttributes2.default.name] = this.state.actiontools[layerId] || {};\n                this.state.actiontools[_QueryResultsActionQueryPolygonCSVAttributes2.default.name][layerId] = config;\n                this.setCurrentActionLayerFeatureTool({\n                  layer: layer,\n                  index: index,\n                  action: action,\n                  component: _QueryResultsActionQueryPolygonCSVAttributes2.default\n                });\n              } else {\n                if (downloadsactions === undefined) {\n                  layer[type].active = !layer[type].active;\n                  if (layer[type].active) {\n                    this.setLayerActionTool({\n                      layer: layer,\n                      component: _QueryResultsActionQueryPolygonCSVAttributes2.default,\n                      config: config\n                    });\n                  } else this.setLayerActionTool({\n                    layer: layer\n                  });\n                } else {\n                  this.setLayerActionTool({\n                    layer: layer,\n                    component: _QueryResultsActionQueryPolygonCSVAttributes2.default,\n                    config: config\n                  });\n                }\n              }\n            } else runDownload();\n\n          case 6:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  return function (_x33, _x34) {\n    return _ref21.apply(this, arguments);\n  };\n}();\n\nproto.downloadGpx = function () {\n  var _this16 = this;\n\n  var _ref23 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref23.id;\n\n  var feature = arguments[1];\n\n  var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n  var layer = _catalogLayers2.default.getLayerById(layerId);\n  layer.getGpx({ fid: fid }).catch(function (err) {\n    _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    _this16.layerMenu.loading.shp = false;\n    _this16._hideMenu();\n  });\n};\n\nproto.downloadXls = function () {\n  var _this17 = this;\n\n  var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref24.id;\n\n  var feature = arguments[1];\n\n  var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n  var layer = _catalogLayers2.default.getLayerById(layerId);\n  layer.getXls({ fid: fid }).catch(function (err) {\n    _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    _this17.layerMenu.loading.shp = false;\n    _this17._hideMenu();\n  });\n};\n\nproto.listenClearSelection = function (layer, actionId) {\n  var _this18 = this;\n\n  if (!layer.external) {\n    var _layer = _catalogLayers2.default.getLayerById(layer.id);\n    var handler = function handler() {\n      var action = _this18.state.layersactions[layer.id].find(function (action) {\n        return action.id === actionId;\n      });\n      layer.features.forEach(function (feature, index) {\n        return action.state.toggled[index] = false;\n      });\n    };\n    _layer.on('unselectionall', handler);\n    this.unlistenerlayeractionevents.push({\n      layer: _layer,\n      event: 'unselectionall',\n      handler: handler\n    });\n  } else {\n    layer.features.forEach(function (feature) {\n      var selectionFeature = layer.selection.features.find(function (selectionFeature) {\n        return feature.id === selectionFeature.getId();\n      });\n      feature.selection = selectionFeature ? selectionFeature.selection : {\n        selected: false\n      };\n    });\n  }\n};\n\nproto.clearSelectionExtenalLayer = function (layer) {\n  var _this19 = this;\n\n  layer.selection.active = false;\n  var action = this.state.layersactions[layer.id] && this.state.layersactions[layer.id].find(function (action) {\n    return action.id === 'selection';\n  });\n  layer.selection.features.forEach(function (feature, index) {\n    if (feature.selection.selected) {\n      feature.selection.selected = false;\n      if (action) action.state.toggled[index] = false;\n      _this19.mapService.setSelectionFeatures('remove', {\n        feature: feature\n      });\n    }\n  });\n};\n\nproto.unlistenerEventsActions = function () {\n  this.unlistenerlayeractionevents.forEach(function (obj) {\n    return obj.layer.off(obj.event, obj.handler);\n  });\n  this.unlistenerlayeractionevents = [];\n};\n\nproto.addRemoveFilter = function (layer) {\n  var _layer = _catalogLayers2.default.getLayerById(layer.id);\n  _layer.toggleFilterToken();\n};\n\n/**\n *\n * @param layer\n */\nproto.selectionFeaturesLayer = function (layer) {\n  var _this20 = this;\n\n  var layerId = layer.id;\n  var action = this.state.layersactions[layerId].find(function (action) {\n    return action.id === 'selection';\n  });\n  var bool = Object.values(action.state.toggled).reduce(function (acculmulator, value) {\n    return acculmulator && value;\n  }, true);\n  var _layer = !layer.external ? _catalogLayers2.default.getLayerById(layerId) : layer;\n  layer.features.forEach(function (feature, index) {\n    action.state.toggled[index] = !bool;\n    _this20._addRemoveSelectionFeature(_layer, feature, index, bool ? 'remove' : 'add');\n  });\n};\n\n/**\n *\n * @param layer\n * @param feature\n * @param index\n * @param force\n * @returns {Promise<void>}\n * @private\n */\nproto._addRemoveSelectionFeature = function () {\n  var _ref25 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(layer, feature, index, force) {\n    var selectionFeature, fid, hasAlreadySelectioned, currentLayer;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            if (!(typeof layer.external !== \"undefined\" && layer.external)) {\n              _context7.next = 12;\n              break;\n            }\n\n            if (typeof layer.selection.features === \"undefined\") layer.selection.features = {};\n            if (!layer.selection.features.find(function (selectionFeature) {\n              return selectionFeature.getId() === feature.id;\n            })) {\n              /***\n               * Feature used in selection tool action\n               */\n              selectionFeature = createFeatureFromFeatureObject({\n                feature: feature,\n                id: feature.id\n              });\n\n              selectionFeature.__layerId = layer.id;\n              selectionFeature.selection = feature.selection;\n              layer.selection.features.push(selectionFeature);\n            }\n\n            if (!(force === 'add' && feature.selection.selected || force === 'remove' && !feature.selection.selected)) {\n              _context7.next = 7;\n              break;\n            }\n\n            return _context7.abrupt('return');\n\n          case 7:\n            feature.selection.selected = !feature.selection.selected;\n\n          case 8:\n            this.mapService.setSelectionFeatures(feature.selection.selected ? 'add' : 'remove', {\n              feature: layer.selection.features.find(function (selectionFeature) {\n                return feature.id === selectionFeature.getId();\n              })\n            });\n            /*\n            * Set selection layer active based on features selection selected properties\n             */\n            layer.selection.active = layer.selection.features.reduce(function (accumulator, feature) {\n              return accumulator || feature.selection.selected;\n            }, false);\n            _context7.next = 28;\n            break;\n\n          case 12:\n            // case of project layer on TOC\n            fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n            hasAlreadySelectioned = layer.getFilterActive() || layer.hasSelectionFid(fid);\n\n            if (!hasAlreadySelectioned) {\n              if (feature && feature.geometry && !layer.getOlSelectionFeature(fid)) {\n                layer.addOlSelectionFeature({\n                  id: fid,\n                  feature: feature\n                });\n              }\n            }\n\n            if (!(force === undefined)) {\n              _context7.next = 19;\n              break;\n            }\n\n            layer[hasAlreadySelectioned ? 'excludeSelectionFid' : 'includeSelectionFid'](fid);\n            _context7.next = 27;\n            break;\n\n          case 19:\n            if (!(!hasAlreadySelectioned && force === 'add')) {\n              _context7.next = 24;\n              break;\n            }\n\n            _context7.next = 22;\n            return layer.includeSelectionFid(fid);\n\n          case 22:\n            _context7.next = 27;\n            break;\n\n          case 24:\n            if (!(hasAlreadySelectioned && force === 'remove')) {\n              _context7.next = 27;\n              break;\n            }\n\n            _context7.next = 27;\n            return layer.excludeSelectionFid(fid);\n\n          case 27:\n            if (layer.getFilterActive()) {\n              currentLayer = this.state.layers.find(function (_layer) {\n                return _layer.id === layer.getId();\n              });\n\n              layer.getSelectionFids().size > 0 && currentLayer && currentLayer.features.splice(index, 1);\n              this.mapService.clearHighlightGeometry();\n              this.state.layers.length === 1 && !this.state.layers[0].features.length && this.state.layers.splice(0);\n            }\n\n          case 28:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  return function (_x38, _x39, _x40, _x41) {\n    return _ref25.apply(this, arguments);\n  };\n}();\n\n/**\n * Initial check of selection active on layer\n * @param layer\n * @param feature\n * @param index\n * @param action\n */\nproto.checkFeatureSelection = function () {\n  var _ref26 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref26.layer,\n      feature = _ref26.feature,\n      index = _ref26.index,\n      action = _ref26.action;\n\n  if (!layer.external) {\n    var projectLayer = _catalogLayers2.default.getLayerById(layer.id);\n    if (feature) {\n      var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n      action.state.toggled[index] = projectLayer.getFilterActive() || projectLayer.hasSelectionFid(fid);\n    }\n  } else {\n    action.state.toggled[index] = feature.selection.selected;\n  }\n};\n\n/**\n *\n * @param layer\n * @param feature\n * @param action\n * @param index\n */\nproto.addToSelection = function (layer, feature, action, index) {\n  var _layer$external = layer.external,\n      external = _layer$external === undefined ? false : _layer$external;\n\n  action.state.toggled[index] = !action.state.toggled[index];\n  var _layer = !external ? _catalogLayers2.default.getLayerById(layer.id) : layer;\n  this._addRemoveSelectionFeature(_layer, feature, index);\n};\n\nproto.removeQueryResultLayerFromMap = function () {\n  this.resultsQueryLayer.getSource().clear();\n  this.mapService.getMap().removeLayer(this.resultsQueryLayer);\n};\n\n/**\n * Show layerQuery result on map\n */\nproto.addQueryResultsLayerToMap = function (_ref27) {\n  var feature = _ref27.feature;\n\n\n  this.removeQueryResultLayerFromMap();\n\n  this.resultsQueryLayer.getSource().addFeature(feature);\n  this.mapService.getMap().addLayer(this.resultsQueryLayer);\n\n  // make sure that layer is on top of other map.\n  this.mapService.setZIndexLayer({ layer: this.resultsQueryLayer });\n};\n\n/**\n *\n  Show featureFormCoordinates\n */\nproto.showCoordinates = function (coordinates) {\n  var feature = createFeatureFromCoordinates(coordinates);\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n * Show BBox\n * @param bbox\n */\nproto.showBBOX = function (bbox) {\n  var feature = createFeatureFromBBOX(bbox);\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n * Show Geometry\n * @param geometry\n */\nproto.showGeometry = function (geometry) {\n  var feature = createFeatureFromGeometry({\n    geometry: geometry\n  });\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n *\n * @param layer\n * @param feature\n */\nproto.goToGeometry = function (layer, feature) {\n  var _this21 = this;\n\n  if (feature.geometry) {\n    var handlerOptions = {\n      mapServiceMethod: this.isOneLayerResult() ? 'zoomToFeatures' : 'highlightGeometry',\n      firstParam: this.isOneLayerResult() ? [feature] : feature.geometry,\n      options: this.isOneLayerResult() ? {} : {\n        layerId: layer.id,\n        duration: 1500\n      }\n    };\n    if (this._asyncFnc.goToGeometry.async) this._asyncFnc.todo = this.mapService[handlerOptions.mapServiceMethod].bind(this.mapService, handlerOptions.firstParam, handlerOptions.options);else setTimeout(function () {\n      return _this21.mapService[handlerOptions.mapServiceMethod](handlerOptions.firstParam, handlerOptions.options);\n    });\n  }\n};\n\n//save layer result\nproto.saveLayerResult = function () {\n  var _ref28 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref28.layer,\n      _ref28$type = _ref28.type,\n      type = _ref28$type === undefined ? 'csv' : _ref28$type;\n\n  this.downloadFeatures(type, layer, layer.features);\n};\n\nproto.highlightGeometry = function (layer, feature) {\n  feature.geometry && this.mapService.highlightGeometry(feature.geometry, {\n    layerId: layer.id,\n    zoom: false,\n    duration: Infinity\n  });\n};\n\nproto.clearHighlightGeometry = function (layer) {\n  this.mapService.clearHighlightGeometry();\n  this.isOneLayerResult() && this.highlightFeaturesPermanently(layer);\n};\n\n/**\n * method to handle show Relation on result\n * @param relationId,\n * layerId : current layer fathre id\n * feature: current feature father id\n */\nproto.showRelation = function () {\n  var _ref29 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      relation = _ref29.relation,\n      layerId = _ref29.layerId,\n      feature = _ref29.feature;\n\n  var relationId = relation.name,\n      nmRelationId = relation.nmRelationId;\n\n  var chartRelationIds = [];\n  var projectRelation = this._project.getRelationById(relationId);\n  var nmRelation = this._project.getRelationById(nmRelationId);\n  this.findPlotId(projectRelation.referencingLayer) && chartRelationIds.push(projectRelation.referencingLayer);\n\n  _gui2.default.pushContent({\n    content: new RelationsPage({\n      currentview: 'relation',\n      relations: [projectRelation],\n      chartRelationIds: chartRelationIds,\n      nmRelation: nmRelation,\n      feature: feature,\n      layer: {\n        id: layerId\n      }\n    }),\n    crumb: {\n      title: projectRelation.name\n    },\n    title: projectRelation.name,\n    closable: false\n  });\n};\n\nproto.showQueryRelations = function (layer, feature, action) {\n\n  _gui2.default.changeCurrentContentOptions({\n    crumb: {\n      title: layer.title\n    }\n  });\n\n  _gui2.default.pushContent({\n    content: new RelationsPage({\n      relations: action.relations,\n      chartRelationIds: action.chartRelationIds,\n      feature: feature,\n      layer: layer\n    }),\n    backonclose: true,\n    title: _constant.LIST_OF_RELATIONS_TITLE,\n    id: _constant.LIST_OF_RELATIONS_ID,\n    crumb: {\n      title: _constant.LIST_OF_RELATIONS_TITLE,\n      trigger: null\n    },\n    closable: false\n  });\n};\n\nmodule.exports = QueryResultsService;\n\n},{\"components/QueryResultsActionDownloadFormats.vue\":278,\"components/QueryResultsActionQueryPolygonCSVAttributes.vue\":280,\"constant\":4,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/layer\":34,\"core/layers/vectorlayer\":57,\"core/print/printservice\":60,\"core/utils/geo\":64,\"core/utils/utils\":67,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"gui/relations/vue/relationspage\":173,\"services/application\":348,\"services/data\":355,\"services/gui\":358,\"store/catalog-layers\":371,\"store/projects\":376}],170:[function(require,module,exports){\nvar _QueryResults = require('components/QueryResults.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_QueryResults);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar QueryResultsService = require('gui/queryresults/queryresultsservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction QueryResultsComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"queryresults\";\n  this.title = \"Query Results\";\n  this._service = new QueryResultsService();\n  this.setInternalComponent = function () {\n    this.internalComponent = new InternalComponent({\n      queryResultsService: this._service\n    });\n    this.internalComponent.querytitle = this._service.state.querytitle;\n  };\n\n  this.getElement = function () {\n    if (this.internalComponent) return this.internalComponent.$el;\n  };\n\n  this._service.onafter('setLayersData', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            !_this.internalComponent && _this.setInternalComponent();\n            _context.next = 3;\n            return _this.internalComponent.$nextTick();\n\n          case 3:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  })));\n\n  this.layout = function (width, height) {};\n  this.unmount = function () {\n    this.getService().closeComponent();\n    return base(this, 'unmount');\n  };\n}\n\ninherit(QueryResultsComponent, Component);\n\nmodule.exports = QueryResultsComponent;\n\n},{\"components/QueryResults.vue\":276,\"core/utils/utils\":67,\"gui/component/component\":115,\"gui/queryresults/queryresultsservice\":169}],171:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction RelationsComponentService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = {};\n  this._options = {};\n  base(this);\n}\n\ninherit(RelationsComponentService, G3WObject);\n\nvar proto = RelationsComponentService.prototype;\n\nproto.getRelations = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._options = options;\n  return _relations2.default.getRelations(options);\n};\n\nproto.getRelationsNM = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n    var nmRelation = _ref.nmRelation,\n        features = _ref.features;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _relations2.default.getRelationsNM({\n              nmRelation: nmRelation,\n              features: features\n            });\n\n          case 2:\n            return _context.abrupt('return', _context.sent);\n\n          case 3:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nproto.saveRelations = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(type) {\n    var caller_download_id;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            this._options.type = type;\n            caller_download_id = _application2.default.setDownload(true);\n            _context2.prev = 2;\n            _context2.next = 5;\n            return _relations2.default.save(this._options);\n\n          case 5:\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2['catch'](2);\n\n            _gui2.default.showUserMessage({\n              type: 'alert',\n              message: _context2.t0 || \"info.server_error\",\n              closable: true\n            });\n\n          case 10:\n            _application2.default.setDownload(false, caller_download_id);\n\n          case 11:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[2, 7]]);\n  }));\n\n  return function (_x4) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nproto.buildRelationTable = function () {\n  var relations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var id = arguments[1];\n\n  var layer = _application2.default.getCurrentProject().getLayerById(id);\n  var headers = layer.getTableHeaders();\n  var columns = null;\n  var rows = [];\n  var rows_fid = [];\n  var fields = void 0;\n  if (relations.length) {\n    var attributes = Object.keys(relations[0].attributes);\n    columns = headers.filter(function (header) {\n      return attributes.indexOf(header.name) !== -1;\n    });\n    rows = relations.map(function (relation) {\n      rows_fid.push(relation.attributes[_constant.G3W_FID]);\n      return columns.map(function (column) {\n        return relation.attributes[column.name];\n      });\n    });\n    fields = columns;\n    columns = columns.map(function (column) {\n      return column.label;\n    });\n  }\n  return {\n    columns: columns,\n    rows: rows,\n    rows_fid: rows_fid,\n    features: relations,\n    fields: fields,\n    formStructure: layer.getLayerEditingFormStructure(),\n    rowFormStructure: null,\n    layerId: layer.getId()\n  };\n};\n\nmodule.exports = RelationsComponentService;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/application\":348,\"services/gui\":358,\"services/relations\":364}],172:[function(require,module,exports){\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nmodule.exports = new Vue();\n\n},{}],173:[function(require,module,exports){\nvar _RelationsPage = require('components/RelationsPage.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_RelationsPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/relations/relationsservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar RelationsPage = function RelationsPage() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  var service = options.service || new Service();\n  var layer = options.layer,\n      _options$relation = options.relation,\n      relation = _options$relation === undefined ? null : _options$relation,\n      _options$relations = options.relations,\n      relations = _options$relations === undefined ? [] : _options$relations,\n      _options$feature = options.feature,\n      feature = _options$feature === undefined ? null : _options$feature,\n      _options$table = options.table,\n      table = _options$table === undefined ? null : _options$table,\n      _options$chartRelatio = options.chartRelationIds,\n      chartRelationIds = _options$chartRelatio === undefined ? [] : _options$chartRelatio,\n      nmRelation = options.nmRelation,\n      _options$currentview = options.currentview,\n      currentview = _options$currentview === undefined ? \"relations\" : _options$currentview;\n\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    previousview: currentview,\n    service: service,\n    relations: relations,\n    relation: relation,\n    nmRelation: nmRelation,\n    chartRelationIds: chartRelationIds,\n    feature: feature,\n    currentview: currentview,\n    layer: layer,\n    table: table\n  });\n  this.setInternalComponent(internalComponent);\n  internalComponent.state = service.state;\n  this.layout = function () {\n    internalComponent.reloadLayout();\n  };\n};\n\ninherit(RelationsPage, Component);\n\nmodule.exports = RelationsPage;\n\n},{\"components/RelationsPage.vue\":286,\"core/utils/utils\":67,\"gui/component/component\":115,\"gui/relations/relationsservice\":171}],174:[function(require,module,exports){\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar SearchPanel = require('gui/search/vue/panel/searchpanel');\n\nfunction Service() {\n  base(this);\n  var currentProjectState = _projects2.default.getCurrentProject().state;\n  this.title = currentProjectState.search_title || \"search\";\n  this.init = function (searchesObject) {\n    this.state.searches = searchesObject || currentProjectState.search;\n  };\n  this.state = {\n    searches: [],\n    searchtools: [],\n    querybuildersearches: _querybuilder2.default.getCurrentProjectItems()\n  };\n}\n\ninherit(Service, G3WObject);\n\nvar proto = Service.prototype;\n\nproto.removeItem = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref.type,\n      index = _ref.index;\n\n  switch (type) {\n    case 'querybuilder':\n      this.state.querybuildersearches.splice(index, 1);\n      break;\n  }\n};\n\nproto.getTitle = function () {\n  return this.title;\n};\n\nproto.showPanel = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var panel = new SearchPanel(config);\n  panel.show();\n  return panel;\n};\n\nproto.cleanSearchPanels = function () {\n  this.state.panels = {};\n};\n\nproto.stop = function () {\n  var d = $.Deferred();\n  d.resolve();\n  return d.promise();\n};\n\nproto.addTool = function (searchTool) {\n  this.state.searchtools.push(searchTool);\n};\n\nproto.addTools = function (searchTools) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = searchTools[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var searchTool = _step.value;\n\n      this.addTool(searchTool);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.addQueryBuilderSearch = function (querybuildersearch) {\n  this.state.querybuildersearches.push(querybuildersearch);\n};\n\nproto.removeTool = function (searchTool) {};\n\nproto.removeTools = function () {\n  this.state.searchtools.splice(0);\n};\n\nproto.reload = function () {\n  this.state.searches = _projects2.default.getCurrentProject().state.search;\n  this.state.querybuildersearches = _querybuilder2.default.getCurrentProjectItems();\n};\n\nmodule.exports = Service;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"gui/search/vue/panel/searchpanel\":175,\"services/querybuilder\":363,\"store/projects\":376}],175:[function(require,module,exports){\nvar _SearchPanel = require('components/SearchPanel.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_SearchPanel);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar Panel = require('gui/panel');\nvar Service = require('gui/search/vue/panel/searchservice');\n\nvar SearchPanelComponent = Vue.extend(vueComponentOptions);\n\nfunction SearchPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var service = options.service || new Service(options);\n  this.setService(service);\n  this.id = uniqueId();\n  this.title = 'search';\n  var SearchPanel = options.component || SearchPanelComponent;\n  var internalPanel = new SearchPanel({\n    service: service\n  });\n  this.setInternalPanel(internalPanel);\n  this.unmount = function () {\n    return base(this, 'unmount').then(function () {\n      service.clear();\n    });\n  };\n}\n\ninherit(SearchPanel, Panel);\n\nmodule.exports = SearchPanel;\n\n},{\"components/SearchPanel.vue\":289,\"core/utils/utils\":67,\"gui/panel\":160,\"gui/search/vue/panel/searchservice\":176}],176:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data2 = require('services/data');\n\nvar _data3 = _interopRequireDefault(_data2);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType,\n    getUniqueDomId = _require.getUniqueDomId,\n    createFilterFormInputs = _require.createFilterFormInputs,\n    createSingleFieldParameter = _require.createSingleFieldParameter,\n    isEmptyObject = _require.isEmptyObject;\n\nvar G3WObject = require('core/g3wobject');\n\nvar NONVALIDVALUES = [null, undefined, _constant.SEARCH_ALLVALUE];\n\nfunction SearchService() {\n  var _this = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.debounces = {\n    run: {\n      fnc: function fnc() {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        if (_gui2.default.isMobile()) {\n          var _mapService$getMap$ge = _this.mapService.getMap().getSize(),\n              _mapService$getMap$ge2 = _slicedToArray(_mapService$getMap$ge, 2),\n              width = _mapService$getMap$ge2[0],\n              heigth = _mapService$getMap$ge2[1];\n\n          if (width === 0 || heigth === 0) {\n            _gui2.default.hideSidebar();\n            setTimeout(function () {\n              _this._run.apply(_this, args);\n            }, 600);\n          } else _this._run.apply(_this, args);\n        } else _this._run.apply(_this, args);\n      }\n    }\n  };\n  base(this);\n  // reactivity data\n  this.state = {\n    title: null,\n    forminputs: [],\n    loading: {},\n    searching: false\n  };\n  this.config = config;\n  var _config = this.config,\n      type = _config.type,\n      _config$options = _config.options,\n      options = _config$options === undefined ? {} : _config$options;\n\n  var layerid = options.querylayerid || options.layerid || null;\n  var otherquerylayerids = options.otherquerylayerids || [];\n  var filter = options.filter || [];\n  this.inputdependance = {};\n  this.inputdependencies = {};\n  this.cachedependencies = {};\n  this.project = _projects2.default.getCurrentProject();\n  this.mapService = _gui2.default.getService('map');\n  this.searchLayer = null;\n  this.filter = null;\n  this.inputs = [];\n  this.state.title = config.name;\n  this.search_endpoint = config.search_endpoint;\n  this.url = options.queryurl;\n  this.filter = options.filter;\n  /*\n   type:\n     search: search default ,\n     search_1n in case of 1:N\n  */\n  this.type = type || 'search';\n  this.return = options.return || 'data';\n  this.show = this.return === 'data' && this.type === 'search';\n  this.searchLayer = _catalogLayers2.default.getLayerById(layerid);\n  // store layers that will be searchable for that form search. First one is layer owner of the search setted on admin\n  this.searchLayers = [layerid].concat(_toConsumableArray(otherquerylayerids)).map(function (layerid) {\n    return _catalogLayers2.default.getLayerById(layerid);\n  });\n  // stat to create the form search structure\n  this.createInputsFormFromFilter({ filter: filter });\n}\n\ninherit(SearchService, G3WObject);\n\nvar proto = SearchService.prototype;\n\n/**\n * Start Method to create right search structure for search form\n * @param filter\n * @returns {Promise<void>}\n */\nproto.createInputsFormFromFilter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _this2 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$filter = _ref2.filter,\n      filter = _ref2$filter === undefined ? [] : _ref2$filter;\n\n  var filterLenght, _loop, index;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          filterLenght = filter.length - 1;\n\n          _loop = function _loop(index) {\n            var input = filter[index];\n            var forminput = {\n              label: input.label,\n              attribute: input.attribute,\n              type: input.input.type || 'textfield',\n              options: _extends({}, input.input.options),\n              value: null,\n              operator: input.op,\n              logicop: index === filterLenght ? null : input.logicop,\n              id: input.id || getUniqueDomId(),\n              loading: false,\n              widget: null\n            };\n            //check if has a dependance\n            var _forminput$options = forminput.options,\n                dependance = _forminput$options.dependance,\n                dependance_strict = _forminput$options.dependance_strict;\n\n            if (forminput.type === 'selectfield' || forminput.type === 'autocompletefield') {\n              // to be sure set values options to empty array if undefined\n              forminput.loading = forminput.type !== 'autocompletefield';\n              var promise = new Promise(function (resolve, reject) {\n                if (forminput.options.values === undefined) forminput.options.values = [];else if (dependance) {\n                  // in case of dependence load right now\n                  if (!dependance_strict) _this2.getValuesFromField(forminput).then(function (values) {\n                    // return array of values\n                    values = _this2.valuesToKeysValues(values); // set values for select\n                    forminput.options.values = values;\n                  }).catch(function () {\n                    return forminput.options.values = [];\n                  }) // in case of error\n                  .finally(function () {\n                    forminput.loading = false;\n                    resolve();\n                  });else {\n                    forminput.loading = false;\n                    resolve();\n                  }\n                } else {\n                  // no dependance\n                  _this2.getValuesFromField(forminput).then(function (values) {\n                    // return array of values\n                    values = _this2.valuesToKeysValues(values); // set values for select\n                    forminput.options.values = values;\n                  }).catch(function () {\n                    return forminput.options.values = [];\n                  }) // in case of error\n                  .finally(function () {\n                    forminput.loading = false;\n                    resolve();\n                  });\n                }\n              });\n              if (dependance) {\n                //set dependance of input\n                _this2.inputdependance[forminput.attribute] = dependance;\n                _this2.state.loading[dependance] = false;\n                // set disabled false for back compatibility\n                forminput.options.disabled = dependance_strict;\n                /**\n                 * Set dependance between input\n                 */\n                _this2.setInputDependencies({\n                  master: dependance,\n                  slave: forminput\n                });\n                /**\n                 * Set widget type for fill dependency\n                 */\n                if (forminput.options.values.length) {\n                  forminput.widget = 'valuemap';\n                  forminput.options._values = [].concat(_toConsumableArray(forminput.options.values));\n                } else if (forminput.options.layer_id) {\n                  forminput.widget = 'valuerelation';\n                }\n              }\n              promise.then(function () {\n                if (forminput.type !== 'autocompletefield') {\n                  if (forminput.options.values.length) forminput.options.values[0].value !== _constant.SEARCH_ALLVALUE && forminput.options.values.unshift({ value: _constant.SEARCH_ALLVALUE });else forminput.options.values.push({ value: _constant.SEARCH_ALLVALUE });\n                  forminput.value = _constant.SEARCH_ALLVALUE;\n                }\n              });\n            }\n            // ad form inputs to list of search input\n            _this2.state.forminputs.push(forminput);\n          };\n\n          for (index = 0; index <= filterLenght; index++) {\n            _loop(index);\n          }\n\n        case 3:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\n/**\n * Get return type\n */\n\nproto.getReturnType = function () {\n  return this.return;\n};\n\n/**\n * Set return type\n */\n\nproto.setReturnType = function () {\n  var returnType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'data';\n\n  this.return = returnType;\n  //set show only in case return === 'data'\n  this.show = this.return === 'data';\n};\n\nproto.getAutoFieldDependeciesParamField = function (field) {\n  var fieldDependency = this.getCurrentFieldDependance(field);\n  if (fieldDependency) {\n    var _Object$entries$ = _slicedToArray(Object.entries(fieldDependency)[0], 2),\n        _field = _Object$entries$[0],\n        value = _Object$entries$[1];\n\n    return this.createFieldsDependenciesAutocompleteParameter({ field: _field, value: value });\n  }\n};\n\nproto.createFieldsDependenciesAutocompleteParameter = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$fields = _ref3.fields,\n      fields = _ref3$fields === undefined ? [] : _ref3$fields,\n      field = _ref3.field,\n      value = _ref3.value;\n\n  var dependendency = this.getCurrentFieldDependance(field);\n  if (value !== undefined) {\n    var fieldParam = createSingleFieldParameter({\n      field: field,\n      value: value,\n      operator: this.getFilterInputFromField(field).op\n    });\n    fields.push(fieldParam);\n  }\n  if (dependendency) {\n    var _Object$entries$2 = _slicedToArray(Object.entries(dependendency)[0], 2),\n        _field2 = _Object$entries$2[0],\n        _value = _Object$entries$2[1];\n    // In case of some input dependeny are not filled\n\n\n    if (typeof _value !== \"undefined\") {\n      // need to set to lower case for api purpose\n      var _getFilterInputFromFi = this.getFilterInputFromField(_field2),\n          op = _getFilterInputFromFi.op,\n          logicop = _getFilterInputFromFi.logicop;\n\n      if (fields.length) fields.unshift(_field2 + '|' + op.toLowerCase() + '|' + encodeURI(_value) + '|' + logicop.toLowerCase());else fields.unshift(_field2 + '|' + op.toLowerCase() + '|' + encodeURI(_value));\n    }\n    return this.createFieldsDependenciesAutocompleteParameter({\n      fields: fields,\n      field: _field2\n    });\n  }\n  return fields.length && fields.join() || undefined;\n};\n\n/**\n * Request to server value for a specific select select field\n * @param field (form input)\n * @returns {Promise<*[]>}\n */\nproto.getValuesFromField = function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(field) {\n    var uniqueValues, layer, filter;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!field.options.layer_id) {\n              _context2.next = 9;\n              break;\n            }\n\n            _context2.next = 3;\n            return this.getUniqueValuesFromField({\n              field: field,\n              unique: field.attribute\n            });\n\n          case 3:\n            uniqueValues = _context2.sent;\n            layer = _catalogLayers2.default.getLayerById(field.options.layer_id);\n            filter = createFilterFormInputs({\n              layer: layer,\n              search_endpoint: this.getSearchEndPoint(),\n              inputs: uniqueValues.map(function (value) {\n                return {\n                  attribute: field.options.value,\n                  logicop: \"OR\",\n                  operator: \"eq\",\n                  value: value\n                };\n              })\n            });\n            return _context2.abrupt('return', this.getValueRelationValues(field, filter));\n\n          case 9:\n            if (!field.options.values.length) {\n              _context2.next = 13;\n              break;\n            }\n\n            return _context2.abrupt('return', this.getValueMapValues(field));\n\n          case 13:\n            return _context2.abrupt('return', this.getUniqueValuesFromField({\n              field: field,\n              unique: field.attribute\n            }));\n\n          case 14:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x5) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nproto.getValueRelationValues = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(field, filter) {\n    var _field$options, layer_id, key, value, layer, _ref6, _ref6$data, data, features, values;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _field$options = field.options, layer_id = _field$options.layer_id, key = _field$options.key, value = _field$options.value;\n            layer = _catalogLayers2.default.getLayerById(layer_id);\n            _context3.prev = 2;\n            _context3.next = 5;\n            return _data3.default.getData('search:features', {\n              inputs: {\n                layer: layer,\n                search_endpoint: this.getSearchEndPoint(),\n                filter: filter,\n                ordering: key\n              },\n              outputs: false\n            });\n\n          case 5:\n            _ref6 = _context3.sent;\n            _ref6$data = _ref6.data;\n            data = _ref6$data === undefined ? [] : _ref6$data;\n            features = data && data[0] && data[0].features || [];\n            values = [];\n\n            features.forEach(function (feature) {\n              values.push({\n                key: feature.get(key),\n                value: feature.get(value)\n              });\n            });\n            return _context3.abrupt('return', values);\n\n          case 14:\n            _context3.prev = 14;\n            _context3.t0 = _context3['catch'](2);\n            return _context3.abrupt('return', []);\n\n          case 17:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[2, 14]]);\n  }));\n\n  return function (_x6, _x7) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * Return values map\n * @param field\n * @returns {Promise<*>}\n */\nproto.getValueMapValues = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(field) {\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt('return', field.options.values.filter(function (value) {\n              return value !== _constant.SEARCH_ALLVALUE;\n            }));\n\n          case 1:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x8) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * Method to get unique values from field\n * @param field\n * @param value\n * @param unique\n * @returns {Promise<[]>}\n */\nproto.getUniqueValuesFromField = function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(_ref8) {\n    var field = _ref8.field,\n        value = _ref8.value,\n        unique = _ref8.unique;\n    var data;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            data = [];\n            _context5.prev = 1;\n            _context5.next = 4;\n            return this.searchLayer.getFilterData({\n              suggest: value !== undefined ? field + '|' + value : undefined,\n              unique: unique,\n              ordering: field.attribute\n            });\n\n          case 4:\n            data = _context5.sent;\n            _context5.next = 9;\n            break;\n\n          case 7:\n            _context5.prev = 7;\n            _context5.t0 = _context5['catch'](1);\n\n          case 9:\n            return _context5.abrupt('return', data);\n\n          case 10:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[1, 7]]);\n  }));\n\n  return function (_x9) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\nproto.autocompleteRequest = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n  var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref11.field,\n      value = _ref11.value;\n\n  var data;\n  return regeneratorRuntime.wrap(function _callee6$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          data = [];\n          _context6.prev = 1;\n          _context6.next = 4;\n          return this.searchLayer.getFilterData({\n            field: this.getAutoFieldDependeciesParamField(field),\n            suggest: field + '|' + value,\n            unique: field\n          });\n\n        case 4:\n          data = _context6.sent;\n          _context6.next = 10;\n          break;\n\n        case 7:\n          _context6.prev = 7;\n          _context6.t0 = _context6['catch'](1);\n\n          console.log(_context6.t0);\n\n        case 10:\n          return _context6.abrupt('return', data.map(function (value) {\n            return {\n              id: value,\n              text: value\n            };\n          }));\n\n        case 11:\n        case 'end':\n          return _context6.stop();\n      }\n    }\n  }, _callee6, this, [[1, 7]]);\n}));\n\n/**\n * Method to run search\n * @param filter\n * @param search_endpoint\n * @param queryUrl\n * @param feature_count\n * @param show\n * @returns {Promise<void|unknown>}\n */\nproto.doSearch = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n  var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      filter = _ref13.filter,\n      _ref13$search_endpoin = _ref13.search_endpoint,\n      search_endpoint = _ref13$search_endpoin === undefined ? this.getSearchEndPoint() : _ref13$search_endpoin,\n      _ref13$queryUrl = _ref13.queryUrl,\n      queryUrl = _ref13$queryUrl === undefined ? this.url : _ref13$queryUrl,\n      _ref13$feature_count = _ref13.feature_count,\n      feature_count = _ref13$feature_count === undefined ? 10000 : _ref13$feature_count,\n      _ref13$show = _ref13.show,\n      show = _ref13$show === undefined ? this.show : _ref13$show;\n\n  var data, relationId, _ref14, _ref14$features, features, relation, inputs, referencedLayer, _relation$fieldRef, referencedField, referencingField, uniqueValues, layer, _filter, dataPromise, SearchPanel, add_panel;\n\n  return regeneratorRuntime.wrap(function _callee7$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          filter = filter || this.createFilter();\n          // call a generic method of layer\n          data = void 0;\n\n          this.state.searching = true;\n          _context7.prev = 3;\n          _context7.next = 6;\n          return _data3.default.getData('search:features', {\n            inputs: {\n              layer: this.searchLayers,\n              search_endpoint: search_endpoint,\n              filter: filter,\n              queryUrl: queryUrl,\n              formatter: 1, // set formatter to 1\n              feature_count: feature_count,\n              raw: this.return === 'search' // parameter to get raw response\n            },\n            outputs: show && {\n              title: this.state.title\n            }\n          });\n\n        case 6:\n          data = _context7.sent;\n\n          if (!show) {\n            _context7.next = 11;\n            break;\n          }\n\n          // in case of autozoom_query\n          if (this.project.state.autozoom_query && data && data.data.length === 1) {\n            this.mapService.zoomToFeatures(data.data[0].features);\n          }\n          _context7.next = 38;\n          break;\n\n        case 11:\n          if (!(this.type === 'search_1n')) {\n            _context7.next = 31;\n            break;\n          }\n\n          relationId = this.config.options.search_1n_relationid;\n          _ref14 = data.data[0] || {}, _ref14$features = _ref14.features, features = _ref14$features === undefined ? [] : _ref14$features;\n          // check if has features on result\n\n          if (!features.length) {\n            _context7.next = 28;\n            break;\n          }\n\n          relation = this.project.getRelationById(relationId);\n          inputs = [];\n\n          if (!relation) {\n            _context7.next = 26;\n            break;\n          }\n\n          referencedLayer = relation.referencedLayer, _relation$fieldRef = relation.fieldRef, referencedField = _relation$fieldRef.referencedField, referencingField = _relation$fieldRef.referencingField;\n          uniqueValues = new Set();\n\n          features.forEach(function (feature) {\n            var value = feature.getProperties()[referencingField];\n            if (!uniqueValues.has(value)) {\n              uniqueValues.add(value);\n              inputs.push({\n                attribute: referencedField,\n                logicop: \"OR\",\n                operator: \"eq\",\n                value: value\n              });\n            }\n          });\n          layer = this.project.getLayerById(referencedLayer);\n          _filter = createFilterFormInputs({\n            layer: layer,\n            search_endpoint: search_endpoint,\n            inputs: inputs\n          });\n          _context7.next = 25;\n          return _data3.default.getData('search:features', {\n            inputs: {\n              layer: layer,\n              search_endpoint: search_endpoint,\n              filter: _filter,\n              formatter: 1, // set formatter to 1\n              feature_count: feature_count\n            },\n            outputs: {\n              title: this.state.title\n            }\n          });\n\n        case 25:\n          data = _context7.sent;\n\n        case 26:\n          _context7.next = 29;\n          break;\n\n        case 28:\n          _data3.default.showEmptyOutputs();\n\n        case 29:\n          _context7.next = 38;\n          break;\n\n        case 31:\n          _context7.t0 = this.return;\n          _context7.next = _context7.t0 === 'search' ? 34 : 38;\n          break;\n\n        case 34:\n          _gui2.default.closeContent();\n          // in case of api get first response on array\n          data = data.data[0].data;\n          if (isEmptyObject(data)) {\n            dataPromise = Promise.resolve({});\n\n            _data3.default.showCustomOutputDataPromise(dataPromise);\n          } else {\n            SearchPanel = require('gui/search/vue/panel/searchpanel');\n            add_panel = new SearchPanel(data);\n\n            add_panel.show();\n          }\n          return _context7.abrupt('break', 38);\n\n        case 38:\n          _context7.next = 42;\n          break;\n\n        case 40:\n          _context7.prev = 40;\n          _context7.t1 = _context7['catch'](3);\n\n        case 42:\n          this.state.searching = false;\n          return _context7.abrupt('return', data);\n\n        case 44:\n        case 'end':\n          return _context7.stop();\n      }\n    }\n  }, _callee7, this, [[3, 40]]);\n}));\n\nproto.filterValidFormInputs = function () {\n  return this.state.forminputs.filter(function (input) {\n    return NONVALIDVALUES.indexOf(input.value) === -1 && input.value.toString().trim() !== '';\n  });\n};\n\n/**\n *\n * @returns {string|*|string}\n */\nproto.getSearchEndPoint = function () {\n  return this.search_endpoint || this.searchLayer.getSearchEndPoint();\n};\n\n/*\n* type wms, vector (for vector api)\n* */\nproto.createFilter = function () {\n  var search_endpoint = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSearchEndPoint();\n\n  var inputs = this.filterValidFormInputs();\n  return createFilterFormInputs({\n    layer: this.searchLayers,\n    inputs: inputs,\n    search_endpoint: search_endpoint\n  });\n};\n\nproto._run = function () {\n  this.doSearch();\n};\n\n/**\n * Method called when input search change\n * @param id\n * @param value\n */\nproto.changeInput = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref15.id,\n      value = _ref15.value;\n\n  var input = this.state.forminputs.find(function (input) {\n    return id == input.id;\n  });\n  input.value = value;\n};\n\nproto.createQueryFilterFromConfig = function (_ref16) {\n  var filter = _ref16.filter;\n\n  var queryFilter = void 0;\n  function createOperatorObject(inputObj) {\n    for (var _operator in inputObj) {\n      var input = inputObj[_operator];\n      if (Array.isArray(input)) {\n        createBooleanObject(_operator, input);\n        break;\n      }\n    }\n    var field = inputObj.attribute;\n    var operator = inputObj.op;\n    var evalObject = {};\n    evalObject[operator] = {};\n    evalObject[operator][field] = null;\n    return evalObject;\n  }\n\n  function createBooleanObject(booleanOperator) {\n    var inputs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var booleanObject = {};\n    booleanObject[booleanOperator] = [];\n    inputs.forEach(function (input) {\n      booleanObject[booleanOperator].push(createOperatorObject(input));\n    });\n    return booleanObject;\n  }\n\n  for (var operator in filter) {\n    var inputs = filter[operator];\n    queryFilter = createBooleanObject(operator, inputs);\n  }\n  return queryFilter;\n};\n\nproto.getFilterInputFromField = function (field) {\n  return this.filter.find(function (input) {\n    return input.attribute === field;\n  });\n};\n\nproto._getExpressionOperatorFromInput = function (field) {\n  var dependanceCascadeField = this.getFilterInputFromField(field);\n  return dependanceCascadeField ? dependanceCascadeField.op : null;\n};\n\nproto._getCascadeDependanciesFilter = function (field) {\n  var dependencies = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  var dependanceCascadeField = this.getFilterInputFromField(field);\n  var dependance = dependanceCascadeField.input.options.dependance;\n  if (dependance) {\n    dependencies.unshift(dependance);\n    this._getCascadeDependanciesFilter(dependance, dependencies);\n  }\n  return dependencies;\n};\n\n/**\n * Check if a field has a dependance\n * @param field\n * @returns {{}}\n */\nproto.getCurrentFieldDependance = function (field) {\n  var dependance = this.inputdependance[field];\n  // found a dependance\n  if (dependance) {\n    // check if as value\n    if (this.cachedependencies[dependance] && this.cachedependencies[dependance]._currentValue !== _constant.SEARCH_ALLVALUE) return _defineProperty({}, dependance, this.cachedependencies[dependance]._currentValue);\n    // otherwise se value of dependance undefined so it no add on list o field dependance\n    else return _defineProperty({}, dependance, undefined);\n  }\n  return dependance;\n};\n\n// check the current value of dependance\nproto.getDependanceCurrentValue = function (field) {\n  var dependance = this.inputdependance[field];\n  return dependance ? this.cachedependencies[dependance]._currentValue : this.state.forminputs.find(function (forminput) {\n    return forminput.attribute === field;\n  }).value;\n};\n\n// fill all dependencies inputs based on value\nproto.fillDependencyInputs = function () {\n  var _this3 = this;\n\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref19.field,\n      _ref19$subscribers = _ref19.subscribers,\n      subscribers = _ref19$subscribers === undefined ? [] : _ref19$subscribers,\n      _ref19$value = _ref19.value,\n      value = _ref19$value === undefined ? _constant.SEARCH_ALLVALUE : _ref19$value;\n\n  var isRoot = this.inputdependance[field] === undefined;\n  //check id inpute father is valid to search on subscribers\n  var invalidValue = value === _constant.SEARCH_ALLVALUE || value === null || value === undefined || value.toString().trim() === '';\n  return new Promise(function (resolve, reject) {\n    //loop over dependencies fields inputs\n    subscribers.forEach(function (subscribe) {\n      // in case of autocomplete reset values to empty array\n      if (subscribe.type === 'autocompletefield') subscribe.options.values.splice(0);else {\n        //set starting all values\n        if (subscribe.options._allvalues === undefined) subscribe.options._allvalues = [].concat(_toConsumableArray(subscribe.options.values));\n        //case of father is set an empty invalid value (all value example)\n        if (invalidValue) {\n          //subscribe has to set all valaues\n          subscribe.options.values.splice(0);\n          setTimeout(function () {\n            return subscribe.options.values = [].concat(_toConsumableArray(subscribe.options._allvalues));\n          });\n        } else subscribe.options.values.splice(1); //otherwise has to get first __ALL_VALUE\n      }\n      subscribe.value = subscribe.type !== 'selectfield' ? _constant.SEARCH_ALLVALUE : null;\n    });\n    // check i cache field values are set\n    _this3.cachedependencies[field] = _this3.cachedependencies[field] || {};\n    _this3.cachedependencies[field]._currentValue = value;\n    var notAutocompleteSubscribers = subscribers.filter(function (subscribe) {\n      return subscribe.type !== 'autocompletefield';\n    });\n    if (value && value !== _constant.SEARCH_ALLVALUE) {\n      var isCached = void 0;\n      var rootValues = void 0;\n      if (isRoot) {\n        var cachedValue = _this3.cachedependencies[field] && _this3.cachedependencies[field][value];\n        isCached = cachedValue !== undefined;\n        rootValues = isCached && cachedValue;\n      } else {\n        var dependenceCurrentValue = _this3.getDependanceCurrentValue(field);\n        var _cachedValue = _this3.cachedependencies[field] && _this3.cachedependencies[field][dependenceCurrentValue] && _this3.cachedependencies[field][dependenceCurrentValue][value];\n        isCached = _cachedValue !== undefined;\n        rootValues = isCached && _cachedValue;\n      }\n      if (isCached) {\n        for (var i = 0; i < subscribers.length; i++) {\n          var subscribe = subscribers[i];\n          var values = rootValues[subscribe.attribute];\n          if (values && values.length) {\n            for (var _i = 0; _i < values.length; _i++) {\n              subscribe.options.values.push(values[_i]);\n            }\n          }\n          // set disabled false to dependence field\n          subscribe.options.disabled = false;\n          resolve();\n        }\n      } else {\n        _this3.state.loading[field] = true;\n        if (isRoot) _this3.cachedependencies[field][value] = _this3.cachedependencies[field][value] || {};else {\n          var dependenceValue = _this3.getDependanceCurrentValue(field);\n          _this3.cachedependencies[field][dependenceValue] = _this3.cachedependencies[field][dependenceValue] || {};\n          _this3.cachedependencies[field][dependenceValue][value] = _this3.cachedependencies[field][dependenceValue][value] || {};\n        }\n        // exclude autocomplete subscribers\n        if (notAutocompleteSubscribers.length) {\n          var fieldParams = _this3.createFieldsDependenciesAutocompleteParameter({\n            field: field,\n            value: value\n          });\n          //need to set undefined because if we has a subscribe input with valuerelations widget i need to extract the value of the field to get\n          // filter data from relation layer\n          _this3.searchLayer.getFilterData({\n            field: fieldParams\n          }).then(function () {\n            var _ref20 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(data) {\n              var parentData, _loop2, _i2;\n\n              return regeneratorRuntime.wrap(function _callee8$(_context9) {\n                while (1) {\n                  switch (_context9.prev = _context9.next) {\n                    case 0:\n                      parentData = data.data[0].features || [];\n                      _loop2 = /*#__PURE__*/regeneratorRuntime.mark(function _loop2(_i2) {\n                        var subscribe, attribute, widget, uniqueValues, _values, _data, filter, _values2, _dependenceValue;\n\n                        return regeneratorRuntime.wrap(function _loop2$(_context8) {\n                          while (1) {\n                            switch (_context8.prev = _context8.next) {\n                              case 0:\n                                subscribe = notAutocompleteSubscribers[_i2];\n                                attribute = subscribe.attribute, widget = subscribe.widget;\n                                uniqueValues = new Set();\n                                // case value map\n\n                                if (!(widget === 'valuemap')) {\n                                  _context8.next = 11;\n                                  break;\n                                }\n\n                                _values = [].concat(_toConsumableArray(subscribe.options._values));\n\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n                                _data = [].concat(_toConsumableArray(uniqueValues));\n\n                                _values = _values.filter(function (_ref21) {\n                                  var key = _ref21.key;\n                                  return _data.indexOf(key) !== -1;\n                                });\n                                _values.forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n                                _context8.next = 29;\n                                break;\n\n                              case 11:\n                                if (!(widget === 'valuerelation')) {\n                                  _context8.next = 27;\n                                  break;\n                                }\n\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n\n                                if (!(uniqueValues.size > 0)) {\n                                  _context8.next = 25;\n                                  break;\n                                }\n\n                                filter = createSingleFieldParameter({\n                                  field: subscribe.options.key,\n                                  value: [].concat(_toConsumableArray(uniqueValues))\n                                });\n                                _context8.prev = 15;\n                                _context8.next = 18;\n                                return _this3.getValueRelationValues(subscribe, filter);\n\n                              case 18:\n                                _values2 = _context8.sent;\n\n                                _values2.forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n                                _context8.next = 25;\n                                break;\n\n                              case 22:\n                                _context8.prev = 22;\n                                _context8.t0 = _context8['catch'](15);\n                                console.log(_context8.t0);\n\n                              case 25:\n                                _context8.next = 29;\n                                break;\n\n                              case 27:\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n                                _this3.valuesToKeysValues([].concat(_toConsumableArray(uniqueValues)).sort()).forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n\n                              case 29:\n                                if (isRoot) _this3.cachedependencies[field][value][subscribe.attribute] = subscribe.options.values.slice(1);else {\n                                  _dependenceValue = _this3.getDependanceCurrentValue(field);\n\n                                  _this3.cachedependencies[field][_dependenceValue][value][subscribe.attribute] = subscribe.options.values.slice(1);\n                                }\n                                subscribe.options.disabled = false;\n\n                              case 31:\n                              case 'end':\n                                return _context8.stop();\n                            }\n                          }\n                        }, _loop2, _this3, [[15, 22]]);\n                      });\n                      _i2 = 0;\n\n                    case 3:\n                      if (!(_i2 < notAutocompleteSubscribers.length)) {\n                        _context9.next = 8;\n                        break;\n                      }\n\n                      return _context9.delegateYield(_loop2(_i2), 't0', 5);\n\n                    case 5:\n                      _i2++;\n                      _context9.next = 3;\n                      break;\n\n                    case 8:\n                    case 'end':\n                      return _context9.stop();\n                  }\n                }\n              }, _callee8, _this3);\n            }));\n\n            return function (_x17) {\n              return _ref20.apply(this, arguments);\n            };\n          }()).catch(function (error) {\n            return reject(error);\n          }).finally(function () {\n            _this3.state.loading[field] = false;\n            resolve();\n          });\n        } else {\n          //set disable\n          subscribers.forEach(function (subscribe) {\n            if (subscribe.options.dependance_strict) subscribe.options.disabled = false;\n          });\n          _this3.state.loading[field] = false;\n          resolve();\n        }\n      }\n    } else {\n      subscribers.forEach(function (subscribe) {\n        return subscribe.options.disabled = subscribe.options.dependance_strict;\n      });\n      resolve();\n    }\n  });\n};\n\nproto.getDependencies = function (field) {\n  return this.inputdependencies[field] || [];\n};\n\nproto.setInputDependencies = function () {\n  var _ref22 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      master = _ref22.master,\n      slave = _ref22.slave;\n\n  this.inputdependencies[master] = this.inputdependencies[master] !== undefined ? this.inputdependencies[master] : [];\n  this.inputdependencies[master].push(slave);\n};\n\n//set key value for select\nproto.valuesToKeysValues = function (values) {\n  if (values.length) {\n    var type = toRawType(values[0]);\n    values = type !== 'Object' ? values.map(function (value) {\n      return {\n        key: value,\n        value: value\n      };\n    }) : values;\n  }\n  return values;\n};\n\nproto.createQueryFilterObject = function () {\n  var _ref23 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref23$ogcService = _ref23.ogcService,\n      ogcService = _ref23$ogcService === undefined ? 'wms' : _ref23$ogcService,\n      _ref23$filter = _ref23.filter,\n      filter = _ref23$filter === undefined ? {} : _ref23$filter;\n\n  var info = this.getInfoFromLayer(ogcService);\n  Object.assign(info, {\n    ogcService: ogcService,\n    filter: filter\n  });\n  return info;\n};\n\nproto.getInfoFromLayer = function (ogcService) {\n  var queryUrl = ogcService === 'wfs' ? this.searchLayer.getProject().getWmsUrl() : this.searchLayer.getQueryUrl();\n  return {\n    url: queryUrl,\n    layers: [],\n    infoFormat: this.searchLayer.getInfoFormat(ogcService),\n    crs: this.searchLayer.getCrs(),\n    serverType: this.searchLayer.getServerType()\n  };\n};\n\nproto.setSearchLayer = function (layer) {\n  this.searchLayer = layer;\n};\n\nproto.getSearchLayer = function () {\n  return this.searchLayer;\n};\n\nproto.clear = function () {\n  this.state = null;\n};\n\nmodule.exports = SearchService;\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/utils/utils\":67,\"gui/search/vue/panel/searchpanel\":175,\"services/data\":355,\"services/gui\":358,\"store/catalog-layers\":371,\"store/projects\":376}],177:[function(require,module,exports){\nvar _Search = require('components/Search.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Search);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/search/service');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction SearchComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"search\";\n  this._service = options.service || new Service();\n  this._service.init();\n  this.title = this._service.getTitle();\n  this.internalComponent = new InternalComponent({\n    service: this._service\n  });\n  this.internalComponent.state = this._service.state;\n  this.state.visible = true;\n  this._reload = function () {\n    this._service.reload();\n  };\n  this.unmount = function () {\n    this._searches_searchtools.$destroy();\n    return base(this, 'unmount');\n  };\n}\n\ninherit(SearchComponent, Component);\n\nmodule.exports = SearchComponent;\n\n},{\"components/Search.vue\":287,\"core/utils/utils\":67,\"gui/component/component\":115,\"gui/search/service\":174}],178:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nexports.default = new Vue();\n\n},{}],179:[function(require,module,exports){\nvar _SpatialBookMarks = require('components/SpatialBookMarks.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_SpatialBookMarks);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * @file\n * @since v3.8\n */\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar SpatialBookMarksComponent = function SpatialBookMarksComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = \"sdk.spatialbookmarks.title\";\n  this.setInternalComponent = function () {\n    this.internalComponent = new InternalComponent();\n    return this.internalComponent;\n  };\n\n  _gui2.default.on('closecontent', function () {\n    _this.state.open = false;\n  });\n};\n\ninherit(SpatialBookMarksComponent, Component);\n\nmodule.exports = SpatialBookMarksComponent;\n\n},{\"components/SpatialBookMarks.vue\":297,\"core/utils/utils\":67,\"gui/component/component\":115,\"services/gui\":358}],180:[function(require,module,exports){\nvar _StreetView = require('components/StreetView.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_StreetView);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar StreetViewComponent = function StreetViewComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var keyError = options.keyError;\n\n  var internalComponent = new InternalComponent({\n    keyError: keyError\n  });\n  this.setInternalComponent(internalComponent);\n  this.unmount = function () {\n    return base(this, 'unmount');\n  };\n};\n\ninherit(StreetViewComponent, Component);\n\nmodule.exports = StreetViewComponent;\n\n},{\"components/StreetView.vue\":298,\"core/utils/utils\":67,\"gui/component/component\":115}],181:[function(require,module,exports){\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    noop = _require.noop;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar _require3 = require('core/utils/geo'),\n    coordinatesToGeometry = _require3.coordinatesToGeometry;\n\nvar _require4 = require('core/layers/layer'),\n    SELECTION_STATE = _require4.SELECTION_STATE;\n\nvar PAGELENGTHS = [10, 25, 50];\n\nvar TableService = function TableService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.currentPage = 0; // number of pages\n  this.layer = options.layer;\n  this.formatter = options.formatter;\n  var headers = this.getHeaders();\n  this.allfeaturesnumber;\n  this.nopaginationsfilter = [];\n  this.selectedfeaturesfid = this.layer.getSelectionFids();\n  this.geolayer = this.layer.isGeoLayer();\n  this.relationsGeometry = [];\n  !this.geolayer && this.layer.getRelations().getArray().forEach(function (relation) {\n    var relationLayer = _catalogLayers2.default.getLayerById(relation.getChild());\n    if (relationLayer.isGeoLayer()) {\n      _this.relationsGeometry.push({\n        layer: relationLayer,\n        child_field: relation.getChildField(),\n        field: relation.getFatherField(),\n        features: {}\n      });\n    }\n  });\n  this.projection = this.geolayer ? this.layer.getProjection() : null;\n  this.mapService = _gui2.default.getService('map');\n  this.getAll = false;\n  this.paginationfilter = false;\n  this.mapBBoxEventHandlerKey = {\n    key: null,\n    cb: null\n  };\n  this.clearAllSelection = function () {\n    _this.state.features.forEach(function (feature) {\n      return feature.selected = false;\n    });\n    _this.state.tools.show = false;\n    _this.state.selectAll = false;\n  };\n  this.state = {\n    pageLengths: PAGELENGTHS,\n    pageLength: this.layer.getAttributeTablePageLength() || PAGELENGTHS[0],\n    features: [],\n    title: this.layer.getTitle(),\n    headers: headers,\n    geometry: true,\n    loading: false,\n    allfeatures: 0,\n    pagination: !this.getAll,\n    selectAll: false,\n    nofilteredrow: false,\n    tools: {\n      geolayer: {\n        show: this.geolayer,\n        active: false,\n        in_bbox: void 0\n      },\n      show: false,\n      filter: this.layer.state.filter\n    }\n  };\n  // pagination filter features\n  this._async = {\n    state: false,\n    fnc: noop\n  };\n  _gui2.default.onbefore('setContent', function (options) {\n    _this._async.state = options.perc === 100;\n  });\n  this.layer.on('unselectionall', this.clearAllSelection);\n  this.filterChangeHandler = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        type = _ref2.type;\n\n    var data, emitRedraw;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _this.allfeaturesnumber = undefined;\n            data = [];\n            // emit redraw if in_bbox filter or not select all\n\n            emitRedraw = type === 'in_bbox' || !_this.selectedfeaturesfid.has(SELECTION_STATE.ALL);\n\n            if (_this.state.pagination) {\n              _context.next = 12;\n              break;\n            }\n\n            if (!emitRedraw) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.next = 7;\n            return _this.reloadData();\n\n          case 7:\n            _context.t0 = _context.sent;\n            _context.next = 11;\n            break;\n\n          case 10:\n            _context.t0 = [];\n\n          case 11:\n            data = _context.t0;\n\n          case 12:\n            emitRedraw && _this.emit('redraw', data);\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  }));\n  this.layer.on('filtertokenchange', this.filterChangeHandler);\n};\n\ninherit(TableService, G3WObject);\n\nvar proto = TableService.prototype;\n\nproto.toggleFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return this.layer.toggleFilterToken();\n\n        case 2:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\nproto.getHeaders = function () {\n  //add null as firs vale of header because need to add a custom input selector fro datatable purpose\n  return [null].concat(_toConsumableArray(this.layer.getTableHeaders()));\n};\n\n// function need to work with pagination\nproto.setDataForDataTable = function () {\n  var _this2 = this;\n\n  var data = [];\n  this.state.features.forEach(function (feature) {\n    var attributes = feature.attributes ? feature.attributes : feature.properties;\n    var values = [null];\n    _this2.state.headers.forEach(function (header) {\n      if (header) {\n        var value = attributes[header.name];\n        header.value = value;\n        //header.label = undefined; // removed label\n        values.push(value);\n      }\n    });\n    data.push(values);\n  });\n  return data;\n};\n\nproto.addRemoveSelectedFeature = function (feature) {\n  feature.selected = !feature.selected;\n  if (this.state.selectAll) {\n    this.state.selectAll = false;\n    this.layer.excludeSelectionFid(feature.id, this.state.pagination);\n  } else if (this.selectedfeaturesfid.has(SELECTION_STATE.EXCLUDE)) {\n    this.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n    var size = this.selectedfeaturesfid.size;\n    if (size === 1) {\n      !this.state.tools.filter.active && this.layer.setSelectionFidsAll();\n      this.state.selectAll = true;\n    } else if (size - 1 === this.state.features.length) this.layer.clearSelectionFids();\n  } else {\n    this.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n    var _size = this.selectedfeaturesfid.size;\n    if (_size === this.allfeaturesnumber) {\n      this.state.selectAll = true;\n      !this.state.tools.filter.active && this.layer.setSelectionFidsAll();\n    }\n  }\n  this.state.tools.show = this.selectedfeaturesfid.size > 0;\n  if (!this.state.pagination) {\n    if (this.nopaginationsfilter.length) {\n      this.state.selectAll = this.state.features.filter(function (feature) {\n        return feature.selected;\n      }).length === this.nopaginationsfilter.length;\n    }\n  }\n};\n\nproto.createFeatureForSelection = function (feature) {\n  return {\n    attributes: feature.attributes ? feature.attributes : feature.properties,\n    geometry: this._returnGeometry(feature)\n  };\n};\n\nproto.getAllFeatures = function (params) {\n  var _this3 = this;\n\n  _gui2.default.setLoadingContent(true);\n  return new Promise(function (resolve, reject) {\n    _this3.layer.getDataTable(params || {}).then(function (data) {\n      var features = data.features;\n\n      if (_this3.geolayer && features) {\n        if (!params) {\n          var LoadedFeaturesId = _this3.state.features.map(function (feature) {\n            return feature.id;\n          });\n          features.forEach(function (feature) {\n            if (LoadedFeaturesId.indexOf(feature.id) === -1) {\n              feature.geometry && _this3.layer.addOlSelectionFeature({\n                id: feature.id,\n                feature: _this3.createFeatureForSelection(feature)\n              });\n            }\n          });\n          _this3.getAll = true;\n        }\n        resolve(features);\n      }\n    }).fail(function () {\n      return reject();\n    }).always(function () {\n      return _gui2.default.setLoadingContent(false);\n    });\n  });\n};\n\nproto.switchSelection = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _this4 = this;\n\n  var selected, filterFeatures, _selected;\n\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (this.state.pagination) {\n            _context3.next = 4;\n            break;\n          }\n\n          // no pagination\n          if (this.nopaginationsfilter.length) {\n            //filtered\n            selected = false;\n            filterFeatures = [];\n\n            this.state.features.forEach(function (feature, index) {\n              if (_this4.nopaginationsfilter.indexOf(index) !== -1) filterFeatures.push(feature);\n              feature.selected = !feature.selected;\n              _this4.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n              selected = selected || feature.selected;\n            });\n            this.state.tools.show = selected;\n            this.checkSelectAll(filterFeatures);\n          } else {\n            // no filter\n            this.state.features.forEach(function (feature) {\n              feature.selected = !feature.selected;\n            });\n            this.layer.invertSelectionFids();\n            this.checkSelectAll();\n            this.state.tools.show = this.selectedfeaturesfid.size > 0;\n          }\n          _context3.next = 13;\n          break;\n\n        case 4:\n          // pagination\n          _selected = false;\n\n          this.state.features.forEach(function (feature) {\n            feature.selected = !feature.selected;\n            _selected = feature.selected;\n          });\n          _context3.t0 = !this.getAll;\n\n          if (!_context3.t0) {\n            _context3.next = 10;\n            break;\n          }\n\n          _context3.next = 10;\n          return this.getAllFeatures();\n\n        case 10:\n          this.state.selectAll = this.paginationfilter ? _selected : this.state.selectAll;\n          this.layer.invertSelectionFids();\n          this.state.tools.show = this.selectedfeaturesfid.size > 0;\n\n        case 13:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this);\n}));\n\nproto.clearLayerSelection = function () {\n  this.layer.clearSelectionFids();\n};\n\n/**\n * Called when alla selected feature is checked\n * @returns {Promise<void>}\n */\nproto.selectAllFeatures = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n  var _this5 = this;\n\n  var selected, _paginationParams, search, ordering, formatter, in_bbox, features;\n\n  return regeneratorRuntime.wrap(function _callee4$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          // set inverse of selectAll\n          this.state.selectAll = !this.state.selectAll;\n\n          if (this.state.pagination) {\n            _context4.next = 5;\n            break;\n          }\n\n          //no pagination no filter\n          if (this.nopaginationsfilter.length) {\n            //check if filter is set (no pagination)\n            selected = false;\n\n            this.state.features.forEach(function (feature, index) {\n              if (_this5.nopaginationsfilter.indexOf(index) !== -1) {\n                feature.selected = _this5.state.selectAll;\n                _this5.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n                selected = selected || feature.selected;\n              }\n            });\n            this.state.tools.show = selected;\n          } else {\n            this.state.tools.show = this.state.selectAll;\n            this.layer[this.state.selectAll ? 'setSelectionFidsAll' : 'clearSelectionFids']();\n            this.state.features.forEach(function (feature) {\n              return feature.selected = _this5.state.selectAll;\n            });\n          }\n          _context4.next = 25;\n          break;\n\n        case 5:\n          if (!this.paginationfilter) {\n            _context4.next = 18;\n            break;\n          }\n\n          if (!(this.state.featurescount >= this.state.allfeatures)) {\n            _context4.next = 10;\n            break;\n          }\n\n          this.state.features.forEach(function (feature) {\n            feature.selected = _this5.state.selectAll;\n            _this5.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n          });\n          _context4.next = 15;\n          break;\n\n        case 10:\n          _paginationParams = this.paginationParams, search = _paginationParams.search, ordering = _paginationParams.ordering, formatter = _paginationParams.formatter, in_bbox = _paginationParams.in_bbox;\n          _context4.next = 13;\n          return this.getAllFeatures({\n            search: search,\n            ordering: ordering,\n            formatter: formatter,\n            in_bbox: in_bbox\n          });\n\n        case 13:\n          features = _context4.sent;\n\n          features.forEach(function (feature) {\n            !_this5.getAll && _this5.geolayer && feature.geometry && _this5.layer.addOlSelectionFeature({\n              id: feature.id,\n              feature: _this5.createFeatureForSelection(feature)\n            });\n            _this5.layer[_this5.state.selectAll ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n          });\n\n        case 15:\n          this.state.features.forEach(function (feature) {\n            return feature.selected = _this5.state.selectAll;\n          });\n          _context4.next = 24;\n          break;\n\n        case 18:\n          this.state.features.forEach(function (feature) {\n            return feature.selected = _this5.state.selectAll;\n          });\n          _context4.t0 = !this.getAll;\n\n          if (!_context4.t0) {\n            _context4.next = 23;\n            break;\n          }\n\n          _context4.next = 23;\n          return this.getAllFeatures();\n\n        case 23:\n          this.layer[this.state.selectAll ? 'setSelectionFidsAll' : 'clearSelectionFids']();\n\n        case 24:\n          this.state.tools.show = this.state.selectAll || this.selectedfeaturesfid.size > 0;\n\n        case 25:\n        case 'end':\n          return _context4.stop();\n      }\n    }\n  }, _callee4, this);\n}));\n\n/**\n * Method to set filtered features\n * @param featuresIndex\n */\nproto.setFilteredFeature = function (featuresIndex) {\n  var _this6 = this;\n\n  this.nopaginationsfilter = featuresIndex;\n  this.checkSelectAll(featuresIndex.length === this.allfeaturesnumber || featuresIndex.length === 0 ? undefined : this.nopaginationsfilter.map(function (index) {\n    return _this6.state.features[index];\n  }));\n};\n\nproto.setAttributeTablePageLength = function (length) {\n  this.layer.setAttributeTablePageLength(length);\n};\n\n/**\n * Main method to get data table layer\n * @param start\n * @param order\n * @param length\n * @param columns\n * @param search\n * @param firstCall\n * @returns {Promise<unknown>}\n */\nproto.getData = function () {\n  var _this7 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$start = _ref6.start,\n      start = _ref6$start === undefined ? 0 : _ref6$start,\n      _ref6$order = _ref6.order,\n      order = _ref6$order === undefined ? [] : _ref6$order,\n      _ref6$length = _ref6.length,\n      length = _ref6$length === undefined ? this.state.pageLength : _ref6$length,\n      _ref6$columns = _ref6.columns,\n      columns = _ref6$columns === undefined ? [] : _ref6$columns,\n      _ref6$search = _ref6.search,\n      search = _ref6$search === undefined ? { value: null } : _ref6$search,\n      _ref6$firstCall = _ref6.firstCall,\n      firstCall = _ref6$firstCall === undefined ? false : _ref6$firstCall;\n\n  // reset features before load\n  _gui2.default.setLoadingContent(true);\n  this.setAttributeTablePageLength(length);\n  return new Promise(function (resolve, reject) {\n    if (!_this7.state.headers.length) resolve({\n      data: [],\n      recordsTotal: 0,\n      recordsFiltered: 0\n    });else {\n      var searchText = search.value && search.value.length > 0 ? search.value : null;\n      _this7.state.features.splice(0);\n      if (!order.length) {\n        order.push({\n          column: 1,\n          dir: 'asc'\n        });\n      }\n      var ordering = order[0].dir === 'asc' ? _this7.state.headers[order[0].column].name : '-' + _this7.state.headers[order[0].column].name;\n      _this7.currentPage = start === 0 || _this7.state.pagination && _this7.state.tools.filter.active ? 1 : start / length + 1;\n      var in_bbox = _this7.state.tools.geolayer.in_bbox;\n      var field = _this7.state.pagination ? columns.filter(function (column) {\n        return column.search && column.search.value;\n      }).map(function (column) {\n        return column.name + '|ilike|' + column.search.value + '|and';\n      }).join(',') : undefined;\n      _this7.paginationParams = {\n        field: field || undefined,\n        page: _this7.currentPage,\n        page_size: length,\n        search: searchText,\n        in_bbox: in_bbox,\n        formatter: _this7.formatter,\n        ordering: ordering\n      };\n      var getDataPromise = _this7.state.pagination ? _this7.layer.getDataTable(_this7.paginationParams) : _this7.layer.getDataTable({\n        ordering: ordering,\n        in_bbox: in_bbox,\n        formatter: _this7.formatter\n      });\n      getDataPromise.then(function (data) {\n        var _data$features = data.features,\n            features = _data$features === undefined ? [] : _data$features;\n\n        _this7.state.allfeatures = data.count || _this7.state.features.length;\n        _this7.state.featurescount = features.length;\n        _this7.allfeaturesnumber = _this7.allfeaturesnumber === undefined ? data.count : _this7.allfeaturesnumber;\n        _this7.paginationfilter = data.count !== _this7.allfeaturesnumber;\n        _this7.state.pagination = firstCall ? _this7.state.tools.filter.active || features.length < _this7.allfeaturesnumber : _this7.state.pagination;\n        _this7.addFeatures(features);\n        resolve({\n          data: _this7.setDataForDataTable(),\n          recordsFiltered: data.count,\n          recordsTotal: data.count\n        });\n      }).fail(function (err) {\n        _gui2.default.notify.error(t(\"info.server_error\"));\n        reject(err);\n      }).always(function () {\n        _gui2.default.setLoadingContent(false);\n      });\n    }\n  });\n};\n\nproto.setInBBoxParam = function () {\n  this.state.tools.geolayer.in_bbox = this.state.tools.geolayer.active ? this.mapService.getMapBBOX().join(',') : void 0;\n};\n\nproto.resetMapBBoxEventHandlerKey = function () {\n  ol.Observable.unByKey(this.mapBBoxEventHandlerKey.key);\n  this.mapBBoxEventHandlerKey.key = null;\n  this.mapBBoxEventHandlerKey.cb = null;\n};\n\nproto.getDataFromBBOX = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n  var _this8 = this;\n\n  return regeneratorRuntime.wrap(function _callee6$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          this.state.tools.geolayer.active = !this.state.tools.geolayer.active;\n          if (this.state.tools.geolayer.active) {\n            this.mapBBoxEventHandlerKey.cb = this.state.pagination ? function () {\n              _this8.setInBBoxParam();\n              _this8.emit('ajax-reload');\n            } : _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n              return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                while (1) {\n                  switch (_context5.prev = _context5.next) {\n                    case 0:\n                      _this8.setInBBoxParam();\n                      _this8.filterChangeHandler({\n                        type: 'in_bbox'\n                      });\n\n                    case 2:\n                    case 'end':\n                      return _context5.stop();\n                  }\n                }\n              }, _callee5, _this8);\n            }));\n            this.mapBBoxEventHandlerKey.key = this.mapService.getMap().on('moveend', this.mapBBoxEventHandlerKey.cb);\n            this.mapBBoxEventHandlerKey.cb();\n          } else {\n            this.mapBBoxEventHandlerKey.cb && this.mapBBoxEventHandlerKey.cb();\n            this.resetMapBBoxEventHandlerKey();\n          }\n\n        case 2:\n        case 'end':\n          return _context6.stop();\n      }\n    }\n  }, _callee6, this);\n}));\n\nproto.addFeature = function (feature) {\n  var tableFeature = {\n    id: feature.id,\n    selected: this.state.tools.filter.active || this.layer.hasSelectionFid(feature.id),\n    attributes: feature.attributes ? feature.attributes : feature.properties\n  };\n  if (this.geolayer && feature.geometry) {\n    this.layer.getOlSelectionFeature(tableFeature.id) || this.layer.addOlSelectionFeature({\n      id: tableFeature.id,\n      feature: this.createFeatureForSelection(feature)\n    });\n    tableFeature.geometry = feature.geometry;\n  }\n  this.state.features.push(tableFeature);\n};\n\nproto.checkSelectAll = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.features;\n\n  this.state.selectAll = this.selectedfeaturesfid.has(SELECTION_STATE.ALL) || features.length && features.reduce(function (accumulator, feature) {\n    return accumulator && feature.selected;\n  }, true);\n};\n\nproto.addFeatures = function () {\n  var _this9 = this;\n\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features.forEach(function (feature) {\n    return _this9.addFeature(feature);\n  });\n  this.state.tools.show = this.layer.getFilterActive() || this.selectedfeaturesfid.size > 0;\n  this.checkSelectAll();\n};\n\nproto.reloadData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n  var pagination = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var tabledata, _tabledata$data, data, reloadData;\n\n  return regeneratorRuntime.wrap(function _callee7$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          this.state.features.splice(0);\n          this.state.pagination = pagination;\n          _context7.next = 4;\n          return this.getData();\n\n        case 4:\n          tabledata = _context7.sent;\n          _tabledata$data = tabledata.data, data = _tabledata$data === undefined ? [] : _tabledata$data, reloadData = tabledata.reloadData;\n          return _context7.abrupt('return', data);\n\n        case 7:\n        case 'end':\n          return _context7.stop();\n      }\n    }\n  }, _callee7, this);\n}));\n\nproto._setLayout = function () {\n  //TODO\n};\n\nproto._returnGeometry = function (feature) {\n  var geometry = void 0;\n  if (feature.attributes) geometry = feature.geometry;else if (feature.geometry) geometry = coordinatesToGeometry(feature.geometry.type, feature.geometry.coordinates);\n  return geometry;\n};\n\nproto.zoomAndHighLightFeature = function (feature) {\n  var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  var geometry = feature.geometry;\n  if (geometry) {\n    if (this._async.state) this._async.fnc = this.mapService.highlightGeometry.bind(mapService, geometry, { zoom: zoom });else this.mapService.highlightGeometry(geometry, { zoom: zoom });\n  }\n};\n\n/**\n * Zoom to eventually features relation\n */\nproto.zoomAndHighLightGeometryRelationFeatures = function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(feature) {\n    var _this10 = this;\n\n    var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var features, promises, values, promisesData;\n    return regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            if (!this.relationsGeometry.length) {\n              _context8.next = 10;\n              break;\n            }\n\n            features = [];\n            promises = [];\n            values = []; // usefult to check if add or not\n\n            this.relationsGeometry.forEach(function (_ref11) {\n              var layer = _ref11.layer,\n                  child_field = _ref11.child_field,\n                  field = _ref11.field,\n                  features = _ref11.features;\n\n              var value = feature.attributes[field];\n              values.push(value);\n              if (features[value] === undefined) {\n                var promise = void 0;\n                if (zoom) {\n                  promise = _data2.default.getData('search:features', {\n                    inputs: {\n                      layer: layer,\n                      filter: child_field + '|eq|' + value,\n                      formatter: 1, // set formatter to 1\n                      search_endpoint: 'api'\n                    },\n                    outputs: false\n                  });\n                } else promise = Promise.reject();\n                promises.push(promise);\n              } else promises.push(Promise.resolve({\n                data: [{\n                  features: features[value]\n                }]\n              }));\n            });\n            _context8.next = 7;\n            return Promise.allSettled(promises);\n\n          case 7:\n            promisesData = _context8.sent;\n\n            promisesData.forEach(function (_ref12, index) {\n              var status = _ref12.status,\n                  value = _ref12.value;\n\n              if (status === 'fulfilled') {\n                var _features = value.data[0] ? value.data[0].features : [];\n                _features.forEach(function (feature) {\n                  return features.push(feature);\n                });\n                if (_this10.relationsGeometry[index].features[values[index]] === undefined) {\n                  _this10.relationsGeometry[index].features[values[index]] = _features;\n                }\n              }\n            });\n            zoom ? this.mapService.zoomToFeatures(features, {\n              highlight: true\n            }) : this.mapService.highlightFeatures(features);\n\n          case 10:\n          case 'end':\n            return _context8.stop();\n        }\n      }\n    }, _callee8, this);\n  }));\n\n  return function (_x9) {\n    return _ref10.apply(this, arguments);\n  };\n}();\n\nproto.clear = function () {\n  var _this11 = this;\n\n  this.layer.off('unselectionall', this.clearAllSelection);\n  this.layer.off('filtertokenchange', this.filterChangeHandler);\n  this.resetMapBBoxEventHandlerKey();\n  this.allfeaturesnumber = null;\n  this.mapService = null;\n  this._async.state && setTimeout(function () {\n    _this11._async.fnc();\n    _this11._async.state = false;\n    _this11._async.fnc = noop;\n  });\n};\n\nmodule.exports = TableService;\n\n},{\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/layers/layer\":34,\"core/utils/geo\":64,\"core/utils/utils\":67,\"services/data\":355,\"services/gui\":358,\"store/catalog-layers\":371}],182:[function(require,module,exports){\nvar _Table = require('components/Table.vue');\n\nvar _Table2 = _interopRequireDefault(_Table);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    base = _require2.base,\n    inherit = _require2.inherit;\n\nvar Component = require('gui/component/component');\nvar TableService = require('gui/table/tableservice');\n\nvar InternalComponent = Vue.extend(_Table2.default);\n\nvar TableComponent = function TableComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this.id = \"openattributetable\";\n  var layer = options.layer,\n      formatter = options.formatter;\n\n  var service = options.service || new TableService({\n    layer: layer,\n    formatter: formatter\n  });\n\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    service: service\n  });\n\n  this.setInternalComponent(internalComponent);\n  internalComponent.state = service.state;\n\n  service.on('redraw', function () {\n    _this.layout();\n  });\n\n  this.unmount = function () {\n    return base(this, 'unmount');\n  };\n\n  this.layout = function () {\n    internalComponent.reloadLayout();\n  };\n};\n\ninherit(TableComponent, Component);\n\nvar proto = TableComponent.prototype;\n\n// overwrite show method\nproto.show = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var service = this.getService();\n  // close all sidebar open component\n  _gui2.default.closeOpenSideBarComponent();\n  service.getData({ firstCall: true }).then(function () {\n    _gui2.default.showContent({\n      content: _this2,\n      perc: 50,\n      split: _gui2.default.isMobile() ? 'h' : 'v',\n      push: false,\n      title: options.title\n    });\n  }).catch(function (err) {\n    return _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    return _this2.emit('show');\n  });\n};\n\nproto.unmount = function () {\n  var _this3 = this;\n\n  return base(this, 'unmount').then(function () {\n    _this3._service.clear();\n  });\n};\n\nmodule.exports = TableComponent;\n\n},{\"components/Table.vue\":299,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"gui/component/component\":115,\"gui/table/tableservice\":181,\"services/gui\":358}],183:[function(require,module,exports){\nmodule.exports = \"<div class=\\\"error-initial-page skin-background-color\\\">\\n  <template v-if=\\\"isMobile()\\\">\\n    <h3 class=\\\"oops\\\">Oops!</h3>\\n    <h5 class=\\\"cause\\\">{{messages.error}}</h5>\\n    <h6 class=\\\"at-moment\\\">{{ messages.at_moment }}</h6>\\n    <h4 class=\\\"f5\\\">{{ messages.f5}}</h4>\\n  </template>\\n  <template v-else>\\n    <h1 class=\\\"oops\\\">Oops!</h1>\\n    <h1 class=\\\"cause\\\">{{messages.error}}</h1>\\n    <h3 class=\\\"at-moment\\\">{{ messages.at_moment }}</h3>\\n    <h2 class=\\\"f5\\\">{{ messages.f5}}</h2>\\n  </template>\\n\\n</div>\\n\";\n\n},{}],184:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Service() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = null;\n  this.state = _extends({}, options, {\n    toolsGroups: [],\n    visible: false,\n    loading: false\n  });\n  this.setters = {\n    addTool: function addTool(tool, groupName) {\n      tool.state = tool.state ? tool.state : {\n        type: null,\n        message: null\n      };\n      return this._addTool(tool, groupName);\n    },\n    addTools: function addTools(tools, groupName) {\n      return this._addTools(tools, groupName);\n    },\n    addToolGroup: function addToolGroup(order, name) {\n      return this._addToolGroup(order, name);\n    },\n    removeToolGroup: function removeToolGroup(name) {\n      return this._removeToolGroup(name);\n    },\n    removeTools: function removeTools() {\n      return this._removeTools();\n    }\n  };\n\n  base(this);\n\n  var project = _projects2.default.getCurrentProject();\n\n  var _project$getState = project.getState(),\n      _project$getState$too = _project$getState.tools,\n      tools = _project$getState$too === undefined ? {} : _project$getState$too;\n\n  var _loop = function _loop(toolName) {\n    var groupName = toolName.toUpperCase();\n    _this.addToolGroup(0, groupName);\n    var _tools = tools[toolName].map(function (tool) {\n      return {\n        name: tool.name,\n        action: ToolsService.ACTIONS[toolName].bind(null, tool)\n      };\n    });\n    _this.addTools(_tools, { position: 0, title: groupName });\n  };\n\n  for (var toolName in tools) {\n    _loop(toolName);\n  }\n}\n\ninherit(Service, G3WObject);\n\nvar proto = Service.prototype;\n\nproto.reload = function () {\n  this.removeTools();\n};\n\nproto._addTool = function (tool, _ref) {\n  var order = _ref.position,\n      name = _ref.title;\n\n  var group = this._addToolGroup(order, name);\n  if (tool.action === undefined && tool.type) tool.action = Service.ACTIONS[tool.type] ? Service.ACTIONS[tool.type].bind(null, tool.options) : function () {};\n  group.tools.push(tool);\n};\n\nproto._addTools = function (tools, groupName) {\n  var _this2 = this;\n\n  tools.forEach(function (tool) {\n    return _this2.addTool(tool, groupName);\n  });\n};\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto._removeTool = function (toolIdx) {\n  this.state.toolsGroups = this.state.toolsGroups.splice(toolIdx, 1);\n};\n\nproto._removeTools = function () {\n  this.state.toolsGroups.splice(0);\n};\n\nproto.updateToolsGroup = function (order, groupConfig) {\n  Vue.set(this.state.toolsGroups, order, groupConfig);\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto._removeToolGroup = function (name) {\n  this.state.toolsGroups = this.state.toolsGroups.filter(function (group) {\n    return group.name !== name;\n  });\n};\n\nproto._addToolGroup = function (order, name) {\n  var group = this.state.toolsGroups.find(function (_group) {\n    return _group.name === name;\n  });\n  if (!group) {\n    group = {\n      name: name,\n      tools: []\n    };\n    this.state.toolsGroups.splice(order, 0, group);\n  }\n  return group;\n};\n\nproto.setToolState = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      _ref2$state = _ref2.state,\n      state = _ref2$state === undefined ? { type: null, message: null } : _ref2$state;\n\n  this.state.toolsGroups.find(function (toolGroup) {\n    var tool = toolGroup.tools.find(function (tool) {\n      return tool.name === id;\n    });\n    if (tool) {\n      tool.state.type = state.type;\n      tool.state.message = state.message;\n      return true;\n    }\n  });\n};\n\nService.ACTIONS = {};\n\nmodule.exports = Service;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"store/projects\":376}],185:[function(require,module,exports){\nvar _Tools = require('components/Tools.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Tools);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar ToolsService = require('gui/tools/service');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ToolsComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._service = new ToolsService(options);\n  this.title = \"tools\";\n\n  var internalComponent = new InternalComponent({\n    toolsService: this._service\n  });\n\n  internalComponent.state = this._service.state;\n  this.setInternalComponent(internalComponent, {\n    events: [{ name: 'visible' }]\n  });\n\n  this._setOpen = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.internalComponent.state.open = bool;\n    bool && _gui2.default.closeContent();\n  };\n}\n\ninherit(ToolsComponent, Component);\n\nmodule.exports = ToolsComponent;\n\n},{\"components/Tools.vue\":304,\"core/utils/utils\":67,\"gui/component/component\":115,\"gui/tools/service\":184,\"services/gui\":358}],186:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    resolve = _require.resolve,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Component = require('gui/component/component');\nvar Panel = require('gui/panel');\n\n//Barstack Class\n// It used to mount panels stack\n// on top of each parent\nfunction BarStack() {\n  this._parent = null;\n  // barstack state. It store the panels array\n  this.state = {\n    contentsdata: []\n  };\n}\n\ninherit(BarStack, G3WObject);\n\nvar proto = BarStack.prototype;\n\n// push componenet on top of parent\nproto.push = function (content) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // parent identify the DOM element where insert (append o meno) the component/panel\n  this._parent = options.parent;\n  // call barstack mount method\n  return this._mount(content, options);\n};\n\n// remove last component from stack\nproto.pop = function () {\n  var _this = this;\n\n  var d = $.Deferred();\n  if (this.state.contentsdata.length) {\n    var content = this.state.contentsdata.slice(-1)[0].content;\n    this._unmount(content).then(function () {\n      var content = _this.state.contentsdata.pop();\n      d.resolve(content);\n    });\n  } else d.resolve();\n  return d.promise();\n};\n\n// clear all stack\nproto.clear = function () {\n  var _this2 = this;\n\n  var d = $.Deferred();\n  if (this.state.contentsdata.length) {\n    var unmountRequests = [];\n    this.state.contentsdata.forEach(function (data) {\n      unmountRequests.push(_this2._unmount(data.content));\n    });\n    $.when(unmountRequests).then(function () {\n      _this2.state.contentsdata.splice(0, _this2.state.contentsdata.length);\n      d.resolve();\n    });\n  } else d.resolve();\n  return d.promise();\n};\n\nproto.getContentData = function () {\n  return this.state.contentsdata;\n};\n\nproto.getCurrentContentData = function () {\n  return this.state.contentsdata[this.state.contentsdata.length - 1];\n};\n\nproto.getPreviousContentData = function () {\n  return this.state.contentsdata[this.state.contentsdata.length - 2];\n};\n\n// mount component\nproto._mount = function (content, options) {\n  // check the type of content:\n  // JQuery type\n  if (content instanceof jQuery) return this._setJqueryContent(content);\n  //String\n  else if (_.isString(content)) {\n      var jqueryEl = $(content);\n      if (!jqueryEl.length) jqueryEl = $('<div>' + content + '</div>');\n      return this._setJqueryContent(jqueryEl);\n    }\n    // Vue\n    else if (content.mount && typeof content.mount == 'function') {\n        this._checkDuplicateVueContent(content); // if already exist it removed before based on id\n        return this._setVueContent(content, options);\n      }\n      // DOM\n      else return this._setDOMContent(content);\n};\n\n// JQuery append jQuery component\nproto._setJqueryContent = function (content, options) {\n  $(this._parent).append(content);\n  this.state.contentsdata.push({\n    content: content,\n    options: options\n  });\n  return resolve();\n};\n\n//Append DOM element\nproto._setDOMContent = function (content, options) {\n  this._parent.appendChild(content);\n  this.state.contentsdata.push({\n    content: content,\n    options: options\n  });\n  return resolve();\n};\n\n// Mount component to parent\nproto._setVueContent = function (content) {\n  var _this3 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  var append = options.append || false;\n  content.mount(this._parent, append).then(function () {\n    $(_this3._parent).localize();\n    // Insert the content into the array with the following attributes:\n    // content: component object\n    // options: es. title, perc etc ...\n    _this3.state.contentsdata.push({\n      content: content,\n      options: options\n    });\n    d.resolve(content);\n  });\n  return d.promise();\n};\n\n// Check duplicate Vue Content\nproto._checkDuplicateVueContent = function (content) {\n  var _this4 = this;\n\n  var idxToRemove = null;\n  var id = content.getId();\n  this.state.contentsdata.forEach(function (data, idx) {\n    if (data.content.getId && data.content.getId() == id) idxToRemove = idx;\n  });\n  if (!_.isNull(idxToRemove)) {\n    var data = this.state.contentsdata[idxToRemove];\n    data.content.unmount().then(function () {\n      return _this4.state.contentsdata.splice(idxToRemove, 1);\n    });\n  }\n};\n\n// unmount component\nproto._unmount = function (content) {\n  var d = $.Deferred();\n  if (content instanceof Component || content instanceof Panel) {\n    content.unmount().then(function () {\n      return d.resolve();\n    });\n  } else {\n    $(this._parent).empty();\n    d.resolve();\n  }\n  return d.promise();\n};\n\nproto.forEach = function (cbk) {\n  this.state.contentsdata.forEach(function (data) {\n    return cbk(data.content);\n  });\n};\n\n// Get lenght / numbero of element stored in stack\nproto.getLength = function () {\n  return this.state.contentsdata.length;\n};\n\nmodule.exports = BarStack;\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"gui/component/component\":115,\"gui/panel\":160}],187:[function(require,module,exports){\nmodule.exports = {\n  barstack: require('./barstack')\n};\n\n},{\"./barstack\":186}],188:[function(require,module,exports){\nvar _ViewportContentsViewer = require('components/ViewportContentsViewer.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_ViewportContentsViewer);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('gui/utils/utils'),\n    Stack = _require2.barstack;\n\nvar Component = require('gui/component/component');\n\n// Internal Component (VUE) of the content of the  viewport\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ContentsViewerComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.stack = new Stack();\n  this.setService(this);\n  this.title = \"contents\";\n  this.contentsdata = this.stack.state.contentsdata;\n  this.state.visible = true;\n  var internalComponent = new InternalComponent({\n    service: this\n  });\n  this.setInternalComponent(internalComponent);\n  this.internalComponent.state = this.state;\n}\n\ninherit(ContentsViewerComponent, Component);\n\nvar proto = ContentsViewerComponent.prototype;\n\nproto.setContent = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$push = options.push,\n      push = _options$push === undefined ? false : _options$push,\n      content = options.content,\n      crumb = options.crumb;\n\n  var d = $.Deferred();\n  // clean the stack every time, sure to have just one component.\n  // Use barstack because it handle the logic og mounting component on DOM\n  if (push) {\n    this.addContent(content, options).then(function () {\n      return d.resolve(options);\n    });\n  } else {\n    // clear stack\n    this.clearContents().then(function () {\n      _this.addContent(content, options).then(function () {\n        return d.resolve(options);\n      });\n    });\n  }\n\n  this.setOpen(true);\n  return d.promise();\n};\n\nproto.addContent = function (content) {\n  var _this2 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  // parent element is the internal element\n  options.parent = this.internalComponent.$el;\n  options.append = true;\n  var promise = this.stack.push(content, options);\n  promise.then(function () {\n    // get stack content\n    _this2.contentsdata = _this2.stack.state.contentsdata;\n    // update the visibility of the others components\n    _this2.updateContentVisibility();\n    d.resolve();\n  });\n  return d.promise();\n};\n\n// remove content from stack\nproto.removeContent = function () {\n  this.setOpen(false);\n  return this.clearContents();\n};\n\n// used by  viewport.js\nproto.popContent = function () {\n  var _this3 = this;\n\n  return this.stack.pop().then(function () {\n    // update the content of contentsdata only after stack is updated\n    _this3.contentsdata = _this3.stack.state.contentsdata;\n    _this3.updateContentVisibility();\n  });\n};\n\n// get component through class\nproto.getComponentByClass = function (componentClass) {\n  var component = void 0;\n  var contentdata = this.stack.getContentData();\n  contentdata.forEach(function (content) {\n    if (content.content instanceof componentClass) {\n      component = content.content;\n      return false;\n    }\n  });\n  return component;\n};\n\n// get component by component id\nproto.getComponentById = function (id) {\n  var component = void 0;\n  var contentdata = this.stack.getContentData();\n  contentdata.forEach(function (content) {\n    if (content.content.id == id) {\n      component = content.content;\n      return false;\n    }\n  });\n  return component;\n};\n\nproto.getContentData = function () {\n  return this.stack.getContentData();\n};\n\n// get current contentdata\nproto.getCurrentContentData = function () {\n  return this.stack.getCurrentContentData();\n};\n\n// get  previuos contentdata\nproto.getPreviousContentData = function () {\n  return this.stack.getPreviousContentData();\n};\n\n// update visibility of the components of content\nproto.updateContentVisibility = function () {\n  // hide each elements but not the last one\n  var contentsEls = $(this.internalComponent.$el).children();\n  contentsEls.hide();\n  contentsEls.last().show();\n};\n\n// stack clear because if we want the contentComponente stack\n// it has to be empty stack\nproto.clearContents = function () {\n  var _this4 = this;\n\n  return this.stack.clear().then(function () {\n    return _this4.contentsdata = _this4.stack.state.contentsdata;\n  });\n};\n\n// Set layout of the content each time\n// Parameters are: height and with of the parent content\nproto.layout = function (parentWidth, parentHeight) {\n  var _this5 = this;\n\n  var el = $(this.internalComponent.$el);\n  //run the callback only after that vue state is updated\n  Vue.nextTick(function () {\n    var contentsdata = _this5.stack.state.contentsdata;\n    // el.parent() is div g3w-view-content\n    var height = el.parent().height() - el.siblings('.close-panel-block').outerHeight(true) - el.siblings('.content_breadcrumb').outerHeight(true) - 10; // margin 10 from bottom\n    el.height(height);\n    el.children().first().height(height);\n    contentsdata.forEach(function (data) {\n      //check each componentstored in stack\n      if (typeof data.content.layout == 'function') {\n        //call function layout of each component that are stored into the stack\n        data.content.layout(parentWidth + 0.5, height);\n      }\n    });\n  });\n};\n\nmodule.exports = ContentsViewerComponent;\n\n},{\"components/ViewportContentsViewer.vue\":307,\"core/utils/utils\":67,\"gui/component/component\":115,\"gui/utils/utils\":187}],189:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _wmslayerspanel = require('gui/wms/vue/panel/wmslayerspanel');\n\nvar _wmslayerspanel2 = _interopRequireDefault(_wmslayerspanel);\n\nvar _constant = require('app/constant');\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nfunction Service() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$wmsurls = options.wmsurls,\n      wmsurls = _options$wmsurls === undefined ? [] : _options$wmsurls;\n\n  this.projectId = _projects2.default.getCurrentProject().getId(); // get current project id used to store data or get data to current project\n  this.panel;\n  this.state = {\n    adminwmsurls: wmsurls, // coming from admin wmsurls\n    localwmsurls: [] // contain array of object {id, url}\n  };\n  this.loadClientWmsUrls().then(function (urls) {\n    return _this.state.localwmsurls = urls;\n  });\n  _projects2.default.onafter('setCurrentProject', function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(project) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.projectId = project.getId();\n              _this.state.adminwmsurls = project.wmsurls || [];\n              _context.next = 4;\n              return _this.loadClientWmsUrls();\n\n            case 4:\n              _this.state.localwmsurls = _context.sent;\n\n            case 5:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, _this);\n    }));\n\n    return function (_x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n}\n\nvar proto = Service.prototype;\n\n/**\n * Getting Wms Urls from local browser storage\n */\nproto.loadClientWmsUrls = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var _this2 = this;\n\n  var data;\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          data = this.getLocalWMSData();\n\n          if (data === undefined) {\n            data = {\n              urls: [], // unique url fro wms\n              wms: {} // object contain url as key and array of layers bind to url\n            };\n            this.updateLocalWMSData(data);\n          }\n          _context2.next = 4;\n          return _gui2.default.isReady();\n\n        case 4:\n          setTimeout(function () {\n            var mapService = _gui2.default.getService('map');\n            mapService.on('remove-external-layer', function (name) {\n              return _this2.deleteWms(name);\n            });\n            mapService.on('change-layer-position-map', function () {\n              var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref3.id,\n                  position = _ref3.position;\n\n              return _this2.changeLayerData(name, {\n                key: 'position',\n                value: position\n              });\n            });\n            mapService.on('change-layer-opacity', function () {\n              var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref4.id,\n                  opacity = _ref4.opacity;\n\n              return _this2.changeLayerData(name, {\n                key: 'opacity',\n                value: opacity\n              });\n            });\n            mapService.on('change-layer-visibility', function () {\n              var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref5.id,\n                  visible = _ref5.visible;\n\n              return _this2.changeLayerData(name, {\n                key: 'visible',\n                value: visible\n              });\n            });\n\n            // load eventually data\n            Object.keys(data.wms).forEach(function (url) {\n              data.wms[url].forEach(function (config) {\n                _this2.loadWMSLayerToMap(_extends({\n                  url: url\n                }, config));\n              });\n            });\n          });\n          return _context2.abrupt('return', data.urls);\n\n        case 6:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\n/**\n * General Method to change config of storage layer options as position, opacity\n * @param name\n * @param config\n */\nproto.changeLayerData = function (name) {\n  var attribute = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var data = this.getLocalWMSData();\n  Object.keys(data.wms).find(function (wmsurl) {\n    var wmsConfigLayers = data.wms[wmsurl];\n    var index = wmsConfigLayers.findIndex(function (config) {\n      return config.name == name;\n    });\n    if (index !== -1) {\n      wmsConfigLayers[index][attribute.key] = attribute.value;\n      return true;\n    }\n  });\n  this.updateLocalWMSData(data);\n};\n\n/**\n * Create a common status object\n * @param error\n * @param added\n * @returns {{error, status: string}}\n */\nproto.getRequestStatusObject = function () {\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$error = _ref6.error,\n      error = _ref6$error === undefined ? false : _ref6$error,\n      _ref6$added = _ref6.added,\n      added = _ref6$added === undefined ? false : _ref6$added;\n\n  return {\n    error: error,\n    added: added\n  };\n};\n\n/**\n * Add new\n * @param wmsurl\n * @returns {*}\n */\nproto.addNewUrl = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref8.id,\n      url = _ref8.url;\n\n  var find, status, response, data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          find = this.state.localwmsurls.find(function (_ref9) {\n            var localid = _ref9.id,\n                localurl = _ref9.url;\n            return localurl == url || localid == id;\n          });\n          status = this.getRequestStatusObject({\n            added: !!find\n          });\n\n          if (find) {\n            _context3.next = 13;\n            break;\n          }\n\n          _context3.prev = 3;\n          _context3.next = 6;\n          return this.getWMSLayers(url);\n\n        case 6:\n          response = _context3.sent;\n\n          // if result (meaning response in done right)\n          if (response.result) {\n            data = this.getLocalWMSData();\n\n            this.state.localwmsurls.push({\n              id: id,\n              url: url\n            });\n            data.urls = this.state.localwmsurls;\n            this.updateLocalWMSData(data);\n            response.wmsurl = url;\n            this.showWmsLayersPanel(response);\n          } else status.error = true;\n          _context3.next = 13;\n          break;\n\n        case 10:\n          _context3.prev = 10;\n          _context3.t0 = _context3['catch'](3);\n\n          status.error = true;\n\n        case 13:\n          return _context3.abrupt('return', status);\n\n        case 14:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[3, 10]]);\n}));\n\n/**\n * Delete WMS\n * @param name\n */\nproto.deleteWms = function (name) {\n  var data = this.getLocalWMSData();\n  Object.keys(data.wms).find(function (wmsurl) {\n    var wmsConfigLayers = data.wms[wmsurl];\n    var index = wmsConfigLayers.findIndex(function (config) {\n      return config.name == name;\n    });\n    if (index !== -1) {\n      wmsConfigLayers.splice(index, 1);\n      if (wmsConfigLayers.length == 0) delete data.wms[wmsurl];\n      return true;\n    }\n  });\n  this.updateLocalWMSData(data);\n};\n/**\n * Method to find if name or layer of a specific url is already added\n * @param name\n * @param layers\n */\nproto.checkIfWMSAlreadyAdded = function () {\n  var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref10.url,\n      _ref10$layers = _ref10.layers,\n      layers = _ref10$layers === undefined ? [] : _ref10$layers;\n\n  var added = false;\n  var data = this.getLocalWMSData();\n  if (data.wms[url]) {\n    added = !!data.wms[url].find(function (_ref11) {\n      var addedLayers = _ref11.layers;\n\n      var layersLength = layers.length;\n      if (addedLayers.length === layersLength) {\n        return layers.reduce(function (accumulator, layerName) {\n          return accumulator + addedLayers.indexOf(layerName) !== -1 ? 1 : 0;\n        }, 0) === layersLength;\n      }\n    });\n  }\n  return added;\n};\n\n/**\n * Delete url from local storage\n * @param wmsurl\n */\nproto.deleteWmsUrl = function (id) {\n  this.state.localwmsurls = this.state.localwmsurls.filter(function (_ref12) {\n    var localid = _ref12.id;\n    return id !== localid;\n  });\n  var data = this.getLocalWMSData();\n  data.urls = this.state.localwmsurls;\n  this.updateLocalWMSData(data);\n};\n\n/**\n * Method to lad data from server and show wms layer panel\n * @param wmsurl\n * @returns {Promise<{added: boolean, error: boolean}>}\n */\nproto.loadWMSDataAndShowWmsLayersPanel = function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(url) {\n    var status, response;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            status = this.getRequestStatusObject();\n            _context4.prev = 1;\n            _context4.next = 4;\n            return this.getWMSLayers(url);\n\n          case 4:\n            response = _context4.sent;\n\n            status.error = !response.result;\n            if (response.result) {\n              response.wmsurl = url;\n              this.showWmsLayersPanel(response);\n            }\n            _context4.next = 12;\n            break;\n\n          case 9:\n            _context4.prev = 9;\n            _context4.t0 = _context4['catch'](1);\n\n            status.error = true;\n\n          case 12:\n            return _context4.abrupt('return', status);\n\n          case 13:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[1, 9]]);\n  }));\n\n  return function (_x10) {\n    return _ref13.apply(this, arguments);\n  };\n}();\n\n/**\n * show addding wma layers wms panel\n * @param wmsurl\n * @returns {WmsLayersPanel}\n */\nproto.showWmsLayersPanel = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.panel = new _wmslayerspanel2.default({\n    service: this,\n    config: config\n  });\n  this.panel.show();\n  return this.panel;\n};\n\n/**\n * gettind data of wms url from server\n * @param url\n * @returns {Promise<{result: boolean, info_formats: [], layers: [], map_formats: [], abstract: null, title: null}>}\n */\nproto.getWMSLayers = function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(url) {\n    var response;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            response = {\n              result: false,\n              layers: [],\n              info_formats: [],\n              abstract: null,\n              map_formats: [],\n              title: null\n            };\n            _context5.prev = 1;\n            _context5.next = 4;\n            return _data2.default.getData('ows:wmsCapabilities', {\n              inputs: {\n                url: url\n              },\n              outputs: false\n            });\n\n          case 4:\n            response = _context5.sent;\n            _context5.next = 10;\n            break;\n\n          case 7:\n            _context5.prev = 7;\n            _context5.t0 = _context5['catch'](1);\n\n            console.log(_context5.t0);\n\n          case 10:\n            if (!response.result) {\n              _context5.next = 12;\n              break;\n            }\n\n            return _context5.abrupt('return', response);\n\n          case 12:\n            return _context5.abrupt('return', response);\n\n          case 13:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[1, 7]]);\n  }));\n\n  return function (_x12) {\n    return _ref14.apply(this, arguments);\n  };\n}();\n\nproto.loadWMSLayerToMap = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref15.url,\n      name = _ref15.name,\n      epsg = _ref15.epsg,\n      position = _ref15.position,\n      opacity = _ref15.opacity,\n      _ref15$visible = _ref15.visible,\n      visible = _ref15$visible === undefined ? true : _ref15$visible,\n      _ref15$layers = _ref15.layers,\n      layers = _ref15$layers === undefined ? [] : _ref15$layers;\n\n  var mapService = _gui2.default.getService('map');\n  return mapService.addExternalWMSLayer({\n    url: url,\n    name: name,\n    layers: layers,\n    epsg: epsg,\n    position: position,\n    visible: visible,\n    opacity: opacity\n  });\n};\n\n/**\n * Method to check if a layer is already added to map\n * @param url\n * @param name\n * @param epsg\n * @param position\n * @param layers\n * @returns {Promise<void>}\n */\nproto.addWMSlayer = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n  var _ref17 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref17.url,\n      _ref17$name = _ref17.name,\n      name = _ref17$name === undefined ? 'wms_' + uniqueId() : _ref17$name,\n      epsg = _ref17.epsg,\n      position = _ref17.position,\n      _ref17$layers = _ref17.layers,\n      layers = _ref17$layers === undefined ? [] : _ref17$layers,\n      _ref17$opacity = _ref17.opacity,\n      opacity = _ref17$opacity === undefined ? 1 : _ref17$opacity,\n      _ref17$visible = _ref17.visible,\n      visible = _ref17$visible === undefined ? true : _ref17$visible;\n\n  var data, wmsLayerConfig, mapService;\n  return regeneratorRuntime.wrap(function _callee6$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          data = this.getLocalWMSData();\n          wmsLayerConfig = {\n            url: url,\n            name: name,\n            layers: layers,\n            epsg: epsg,\n            position: position,\n            visible: visible,\n            opacity: opacity\n          };\n\n          if (data.wms[url] === undefined) data.wms[url] = [wmsLayerConfig];else data.wms[url].push(wmsLayerConfig);\n          this.updateLocalWMSData(data);\n          _context6.prev = 4;\n          _context6.next = 7;\n          return this.loadWMSLayerToMap(wmsLayerConfig);\n\n        case 7:\n          _context6.next = 15;\n          break;\n\n        case 9:\n          _context6.prev = 9;\n          _context6.t0 = _context6['catch'](4);\n          mapService = _gui2.default.getService('map');\n\n          mapService.removeExternalLayer(name);\n          this.deleteWms(name);\n          setTimeout(function () {\n            _gui2.default.showUserMessage({\n              type: 'warning',\n              message: 'sidebar.wms.layer_add_error'\n            });\n          });\n\n        case 15:\n          this.panel.close();\n\n        case 16:\n        case 'end':\n          return _context6.stop();\n      }\n    }\n  }, _callee6, this, [[4, 9]]);\n}));\n\n/**\n * Method to get local storage wms  data based on current projectId\n * @returns {*}\n */\nproto.getLocalWMSData = function () {\n  return _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM) && _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM)[this.projectId];\n};\n\n/**\n * Method to update local storage data based on changes\n * @param data\n */\nproto.updateLocalWMSData = function (data) {\n  // in case for the firs time is non present set empty object\n  var alldata = _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM) || {};\n  alldata[this.projectId] = data;\n  _application2.default.setLocalItem({\n    id: _constant.LOCALSTORAGE_EXTERNALWMS_ITEM,\n    data: alldata\n  });\n};\n\nproto.clear = function () {\n  this.panel = null;\n};\n\nexports.default = Service;\n\n},{\"app/constant\":4,\"core/utils/utils\":67,\"gui/wms/vue/panel/wmslayerspanel\":190,\"services/application\":348,\"services/data\":355,\"services/gui\":358,\"store/projects\":376}],190:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _WMSLayersPanel = require('components/WMSLayersPanel.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_WMSLayersPanel);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar Panel = require('gui/panel');\n\nvar WMSLayersPanelComponent = Vue.extend(vueComponentOptions);\n\nfunction WmsLayersPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var service = options.service,\n      config = options.config;\n\n  this.setService(service);\n  this.id = uniqueId();\n  this.title = 'sidebar.wms.panel.title';\n  var panel = WMSLayersPanelComponent;\n  var internalPanel = new panel({\n    service: service,\n    config: config\n  });\n  this.setInternalPanel(internalPanel);\n  this.unmount = function () {\n    return base(this, 'unmount').then(function () {\n      service.clear();\n    });\n  };\n}\n\ninherit(WmsLayersPanel, Panel);\n\nexports.default = WmsLayersPanel;\n\n},{\"components/WMSLayersPanel.vue\":309,\"core/utils/utils\":67,\"gui/panel\":160}],191:[function(require,module,exports){\nvar _WMS = require('components/WMS.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_WMS);\n\nvar _service = require('gui/wms/service');\n\nvar _service2 = _interopRequireDefault(_service);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ToolsComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._service = new _service2.default(options);\n  this.title = \"WMS\";\n\n  var internalComponent = new InternalComponent({\n    service: this._service\n  });\n\n  internalComponent.state = this._service.state;\n  this.setInternalComponent(internalComponent);\n\n  this._setOpen = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.internalComponent.state.open = bool;\n    bool && _gui2.default.closeContent();\n  };\n}\n\ninherit(ToolsComponent, Component);\n\nmodule.exports = ToolsComponent;\n\n},{\"components/WMS.vue\":308,\"core/utils/utils\":67,\"gui/component/component\":115,\"gui/wms/service\":189,\"services/gui\":358}],192:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nmodule.exports = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$steps = _ref.steps,\n      steps = _ref$steps === undefined ? {} : _ref$steps;\n\n  return {\n    data: function data() {\n      return {\n        steps: steps,\n        currentStep: 0\n      };\n    },\n\n    watch: {\n      steps: {\n        handler: function handler(steps) {\n          var _this = this;\n\n          Object.values(steps).find(function (step, index) {\n            if (!step.done) {\n              _this.currentStep = index;\n              return true;\n            }\n          });\n        },\n\n        deep: false\n      }\n    },\n    render: function render(h) {\n      var _this2 = this;\n\n      return h('ul', {\n        style: {\n          alignSelf: 'flex-start',\n          listStyle: 'none',\n          padding: (_applicationState2.default.ismobile ? 5 : 10) + 'px !important',\n          marginBottom: 0\n        }\n      }, Object.values(this.steps).map(function (step, index) {\n        var _class;\n\n        var state = {\n          current: !step.done && index === _this2.currentStep,\n          done: step.done,\n          todo: !step.done && index !== _this2.currentStep\n        };\n        return h('li', {\n          style: {\n            fontWeight: (step.done || !step.done && index === _this2.currentStep) && 'bold' || null,\n            marginBottom: '5px',\n            color: step.done && \"green\",\n            display: step.buttonnext && 'inline-flex'\n          }\n        }, [h('i', {\n          style: {\n            marginRight: '5px',\n            fontWeight: step.done && 'bold'\n          },\n          class: (_class = {}, _defineProperty(_class, _gui2.default.getFontClass('arrow-right'), state.current), _defineProperty(_class, _gui2.default.getFontClass('empty-circle'), state.todo), _defineProperty(_class, _gui2.default.getFontClass('success'), state.done), _class)\n        }), h('span', {\n          directives: [{\n            name: step.directive,\n            value: step.description\n          }],\n          style: {\n            display: step.buttonnext ? 'inline-flex' : 'inline',\n            flexDirection: step.buttonnext && 'row-reverse'\n          }\n        }), step.dynamic !== undefined && h('span', {\n          style: {\n            alignSelf: 'center',\n            padding: '3px'\n          }\n        }, step.dynamic), step.buttonnext && h('button', {\n          on: {\n            click: function click() {\n              step.done = true;\n              step.buttonnext.done();\n            }\n          },\n          directives: [{\n            name: 't',\n            value: 'sdk.workflow.next'\n          }],\n          style: {\n            fontWeight: 'bold'\n          },\n          class: {\n            btn: true,\n            'btn-success': true,\n            'g3w-disabled': step.buttonnext.disabled\n          }\n        })]);\n      }));\n    }\n  };\n};\n\n},{\"services/gui\":358,\"store/application-state\":370}],193:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _vueCookieLaw = require('vue-cookie-law');\n\nvar _vueCookieLaw2 = _interopRequireDefault(_vueCookieLaw);\n\nvar _HeaderItem = require('components/HeaderItem.vue');\n\nvar _HeaderItem2 = _interopRequireDefault(_HeaderItem);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nvar _constant = require('constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nif (typeof jQuery === \"undefined\") {\n  throw new Error(\"LayoutManager requires jQuery\");\n}\n\n$.LayoutManager = $.LayoutManager || {\n  options: {\n    navbarMenuSlimscroll: true,\n    navbarMenuSlimscrollWidth: \"0px\",\n    navbarMenuHeight: \"200px\",\n    animationSpeed: 'fast',\n\n    sidebarToggleSelector: \"[data-toggle='offcanvas']\",\n\n    sidebarPushMenu: true,\n\n    sidebarSlimScroll: false,\n\n    sidebarExpandOnHover: false,\n\n    enableBoxRefresh: true,\n\n    enableFastclick: true,\n\n    enableControlSidebar: true,\n    controlSidebarOptions: {\n      toggleBtnSelector: \"[data-toggle='control-sidebar']\",\n\n      selector: \".control-sidebar\",\n\n      slide: true\n    },\n\n    enableBoxWidget: true,\n\n    boxWidgetOptions: {\n      boxWidgetIcons: {\n        collapse: 'fa-minus',\n\n        open: 'fa-plus',\n\n        remove: 'fa-times'\n      },\n      boxWidgetSelectors: {\n        remove: '[data-widget=\"remove\"]',\n\n        collapse: '[data-widget=\"collapse\"]'\n      }\n    },\n\n    directChat: {\n      enable: true,\n\n      contactToggleSelector: '[data-widget=\"chat-pane-toggle\"]'\n    },\n\n    colors: {\n      lightBlue: \"#3c8dbc\",\n      red: \"#f56954\",\n      green: \"#00a65a\",\n      aqua: \"#00c0ef\",\n      yellow: \"#f39c12\",\n      blue: \"#0073b7\",\n      navy: \"#001F3F\",\n      teal: \"#39CCCC\",\n      olive: \"#3D9970\",\n      lime: \"#01FF70\",\n      orange: \"#FF851B\",\n      fuchsia: \"#F012BE\",\n      purple: \"#8E24AA\",\n      maroon: \"#D81B60\",\n      black: \"#222222\",\n      gray: \"#d2d6de\"\n    },\n\n    screenSizes: {\n      xs: 480,\n      sm: 768,\n      md: 992,\n      lg: 1200\n    }\n  },\n\n  _init: function _init() {\n    'use strict';\n\n    $.LayoutManager.layout = {\n      activate: function activate() {\n        var _this = this;\n        _this.fix();\n        _this.fixSidebar();\n        $(window, \".wrapper\").resize(function () {\n          _this.fix();\n          _this.fixSidebar();\n        });\n      },\n      fix: function fix() {\n        var neg = $('.main-header').outerHeight() + $('.main-footer').outerHeight();\n        var window_height = $(window).height();\n        var sidebar_height = $(\".sidebar\").height();\n\n        if ($(\"body\").hasClass(\"fixed\")) {\n          $(\".content-wrapper, .right-side\").css('min-height', window_height - $('.main-footer').outerHeight());\n          $(\".content-wrapper, .right-side\").css('height', window_height - $('.main-footer').outerHeight());\n        } else {\n          var postSetWidth = void 0;\n          if (window_height >= sidebar_height) {\n            $(\".content-wrapper, .right-side\").css('min-height', window_height - neg);\n            postSetWidth = window_height - neg;\n          } else {\n            $(\".content-wrapper, .right-side\").css('min-height', sidebar_height);\n            postSetWidth = sidebar_height;\n          }\n\n          var controlSidebar = $($.LayoutManager.options.controlSidebarOptions.selector);\n          if (typeof controlSidebar !== \"undefined\") {\n            if (controlSidebar.height() > postSetWidth) $(\".content-wrapper, .right-side\").css('min-height', controlSidebar.height());\n          }\n        }\n      },\n      fixSidebar: function fixSidebar() {\n        if (!$(\"body\").hasClass(\"fixed\")) {\n          if (typeof $.fn.slimScroll != 'undefined') {\n            $(\".sidebar\").slimScroll({ destroy: true }).height(\"auto\");\n          }\n          return;\n        } else if (typeof $.fn.slimScroll == 'undefined' && window.console) {\n          window.console.error(\"Error: the fixed layout requires the slimscroll plugin!\");\n        }\n\n        if ($.LayoutManager.options.sidebarSlimScroll && !isMobile.any) {\n          if (typeof $.fn.slimScroll != 'undefined') {\n            $(\"#g3w-sidebar\").slimScroll({ destroy: true }).height(\"auto\");\n\n            $(\"#g3w-sidebar\").slimScroll({\n              touchScrollStep: 50,\n              height: $(window).height() - $(\".navbar-header\").height() - 10 + \"px\",\n              color: \"rgba(255,255,255,0.7)\",\n              size: \"3px\"\n            });\n          }\n        } else {\n          $(\".sidebar\").css({ 'height': $(window).height() - $(\".navbar-header\").height() + \"px\" });\n          $(\".sidebar\").css('overflow-y', 'auto');\n        }\n      }\n    };\n\n    $.LayoutManager.pushMenu = {\n      activate: function activate(toggleBtn) {\n        var screenSizes = $.LayoutManager.options.screenSizes;\n\n        $(toggleBtn).on('click', function (e) {\n          e.preventDefault();\n\n          if ($(window).width() > screenSizes.sm - 1) {\n            if ($(\"body\").hasClass('sidebar-collapse')) {\n              $(\"body\").removeClass('sidebar-collapse').trigger('expanded.pushMenu');\n            } else {\n              $(\"body\").addClass('sidebar-collapse').trigger('collapsed.pushMenu');\n            }\n          } else {\n              if ($(\"body\").hasClass('sidebar-open')) {\n                $(\"body\").removeClass('sidebar-open').removeClass('sidebar-collapse').trigger('collapsed.pushMenu');\n              } else {\n                $(\"body\").addClass('sidebar-open').trigger('expanded.pushMenu');\n              }\n            }\n        });\n\n        if ($.LayoutManager.options.sidebarExpandOnHover || $('body').hasClass('fixed') && $('body').hasClass('sidebar-mini')) {\n          this.expandOnHover();\n        }\n      },\n      expandOnHover: function expandOnHover() {\n        var _this = this;\n        var screenWidth = $.LayoutManager.options.screenSizes.sm - 1;\n\n        $('.main-sidebar').hover(function () {\n          if ($('body').hasClass('sidebar-mini') && $(\"body\").hasClass('sidebar-collapse') && $(window).width() > screenWidth) {\n            _this.expand();\n          }\n        }, function () {\n          if ($('body').hasClass('sidebar-mini') && $('body').hasClass('sidebar-expanded-on-hover') && $(window).width() > screenWidth) {\n            _this.collapse();\n          }\n        });\n      },\n      expand: function expand() {\n        $(\"body\").removeClass('sidebar-collapse').addClass('sidebar-expanded-on-hover');\n      },\n      collapse: function collapse() {\n        if ($('body').hasClass('sidebar-expanded-on-hover')) {\n          $('body').removeClass('sidebar-expanded-on-hover').addClass('sidebar-collapse');\n        }\n      }\n    };\n\n    $.LayoutManager.tree = function (menu) {\n      var _this = this;\n      var animationSpeed = $.LayoutManager.options.animationSpeed;\n\n      $(document).on('click', menu + ' li a', function (e) {\n        var $this = $(this);\n\n        var checkElement = $this.next();\n\n        if (checkElement.is('.treeview-menu') && checkElement.is(':visible')) {\n          checkElement.slideUp(animationSpeed, function () {\n            checkElement.parent(\"li.treeview\").removeClass(\"active\");\n            checkElement.removeClass('menu-open');\n          });\n        } else if (checkElement.is('.treeview-menu') && !checkElement.is(':visible')) {\n            var parent = $this.parents('ul').first();\n            var parent_li = $this.parent(\"li\");\n            var li_siblings = parent_li.siblings();\n            var parent_find_active;\n            var sidebar_content_height = parent.height() - parent.find('li.header').outerHeight();\n            var treeviewHeight = parent_li.outerHeight();\n            li_siblings.not('.header').each(function (index, el) {\n              treeviewHeight += $(el).find('a').outerHeight();\n            });\n            var section_height = sidebar_content_height - treeviewHeight;\n\n            var ul = parent.find('ul.treeview-menu:visible').slideUp(animationSpeed);\n\n            ul.removeClass('menu-open');\n\n            checkElement.slideDown(animationSpeed, function () {\n              checkElement.addClass('menu-open');\n              parent_find_active = parent.find('li.treeview.active');\n              parent_find_active.removeClass('active');\n              parent_li.addClass('active');\n\n              _this.layout.fix();\n            });\n          }\n\n        if (checkElement.is('.treeview-menu')) {\n          e.preventDefault();\n        }\n      });\n    };\n\n    $.LayoutManager.floatBar = $.LayoutManager.controlSidebar = {\n      activate: function activate() {\n        var _this = this;\n\n        var o = $.LayoutManager.options.controlSidebarOptions;\n\n        var sidebar = $(o.selector);\n\n        var btn = $(o.toggleBtnSelector);\n\n        btn.on('click', function (e) {\n          e.preventDefault();\n\n          if (!sidebar.hasClass('control-sidebar-open') && !$('body').hasClass('control-sidebar-open')) {\n            _this.open(sidebar, o.slide);\n          } else {\n            _this.close(sidebar, o.slide);\n          }\n        });\n\n        var bg = $(\".control-sidebar-bg\");\n        _this._fix(bg);\n\n        if ($('body').hasClass('fixed')) {\n          _this._fixForFixed(sidebar);\n        } else {\n          if ($('.content-wrapper, .right-side').height() < sidebar.height()) {\n            _this._fixForContent(sidebar);\n          }\n        }\n      },\n      open: function open(sidebar, slide) {\n        if (slide) {\n          sidebar.addClass('control-sidebar-open');\n        } else {\n          $('body').addClass('control-sidebar-open');\n        }\n      },\n      close: function close(sidebar, slide) {\n        if (slide) {\n          sidebar.removeClass('control-sidebar-open');\n        } else {\n          $('body').removeClass('control-sidebar-open');\n        }\n      },\n      _fix: function _fix(sidebar) {\n        var _this = this;\n        if ($(\"body\").hasClass('layout-boxed')) {\n          sidebar.css('position', 'absolute');\n          sidebar.height($(\".wrapper\").height());\n          $(window).resize(function () {\n            _this._fix(sidebar);\n          });\n        } else {\n          sidebar.css({\n            'position': 'fixed',\n            'height': 'auto'\n          });\n        }\n      },\n      _fixForFixed: function _fixForFixed(sidebar) {\n        sidebar.css({\n          'position': 'fixed',\n          'max-height': '100%',\n\n          'padding-bottom': '50px'\n        });\n      },\n      _fixForContent: function _fixForContent(sidebar) {\n        $(\".content-wrapper, .right-side\").css('min-height', sidebar.height());\n      }\n    };\n\n    $.LayoutManager.boxWidget = {\n      selectors: $.LayoutManager.options.boxWidgetOptions.boxWidgetSelectors,\n      icons: $.LayoutManager.options.boxWidgetOptions.boxWidgetIcons,\n      animationSpeed: $.LayoutManager.options.animationSpeed,\n      activate: function activate(_box) {\n        var _this = this;\n        if (!_box) {\n          _box = document;\n        }\n\n        $(_box).on('click', _this.selectors.collapse, function (e) {\n          e.preventDefault();\n          _this.collapse($(this));\n        });\n\n        $(_box).on('click', _this.selectors.remove, function (e) {\n          e.preventDefault();\n          _this.remove($(this));\n        });\n      },\n      collapse: function collapse(element) {\n        var _this = this;\n\n        var box = element.parents(\".box\").first();\n\n        var box_content = box.find(\"> .box-body, > .box-footer, > form  >.box-body, > form > .box-footer\");\n        if (!box.hasClass(\"collapsed-box\")) {\n          element.find(\".btn-collapser\").removeClass(_this.icons.collapse).addClass(_this.icons.open);\n\n          box_content.slideUp(_this.animationSpeed, function () {\n            box.addClass(\"collapsed-box\");\n          });\n        } else {\n          element.find(\".btn-collapser\").removeClass(_this.icons.open).addClass(_this.icons.collapse);\n\n          box_content.slideDown(_this.animationSpeed, function () {\n            box.removeClass(\"collapsed-box\");\n          });\n        }\n      },\n      remove: function remove(element) {\n        var box = element.parents(\".box\").first();\n        box.slideUp(this.animationSpeed);\n      }\n    };\n\n    return $.LayoutManager;\n  },\n\n  addRefreshButton: function addRefreshButton() {\n    \"use strict\";\n\n    $.fn.boxRefresh = function (options) {\n      var settings = $.extend({\n        trigger: \".refresh-btn\",\n\n        source: \"\",\n        onLoadStart: function onLoadStart(box) {\n          return box;\n        },\n        onLoadDone: function onLoadDone(box) {\n          return box;\n        }\n      }, options);\n\n      var overlay = $('<div class=\"overlay\"><div class=\"fa fa-refresh fa-spin\"></div></div>');\n\n      return this.each(function () {\n        if (settings.source === \"\") {\n          if (window.console) {\n            window.console.log(\"Please specify a source first - boxRefresh()\");\n          }\n          return;\n        }\n\n        var box = $(this);\n\n        var rBtn = box.find(settings.trigger).first();\n\n        rBtn.on('click', function (e) {\n          e.preventDefault();\n\n          start(box);\n\n          box.find(\".box-body\").load(settings.source, function () {\n            done(box);\n          });\n        });\n      });\n\n      function start(box) {\n        box.append(overlay);\n\n        settings.onLoadStart.call(box);\n      }\n\n      function done(box) {\n        box.find(overlay).remove();\n\n        settings.onLoadDone.call(box);\n      }\n    };\n    return $.LayoutManager;\n  },\n\n  activateBox: function activateBox() {\n    'use strict';\n\n    $.fn.activateBox = function () {\n      $.LayoutManager.boxWidget.activate(this);\n    };\n\n    return $.LayoutManager;\n  },\n\n  listCustomPlugin: function listCustomPlugin() {\n    'use strict';\n\n    $.fn.todolist = function (options) {\n      var settings = $.extend({\n        onCheck: function onCheck(ele) {\n          return ele;\n        },\n        onUncheck: function onUncheck(ele) {\n          return ele;\n        }\n      }, options);\n\n      return this.each(function () {\n\n        if (typeof $.fn.iCheck != 'undefined') {\n          $('input', this).on('ifChecked', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            settings.onCheck.call(ele);\n          });\n\n          $('input', this).on('ifUnchecked', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            settings.onUncheck.call(ele);\n          });\n        } else {\n          $('input', this).on('change', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            if ($('input', ele).is(\":checked\")) {\n              settings.onCheck.call(ele);\n            } else {\n              settings.onUncheck.call(ele);\n            }\n          });\n        }\n      });\n    };\n    return $.LayoutManager;\n  },\n\n  setup: function setup() {\n    \"use strict\";\n\n    $(\"body\").removeClass(\"hold-transition\");\n\n    if (typeof LayoutManagerOptions !== \"undefined\") {\n      $.extend(true, $.LayoutManager.options, LayoutManagerOptions);\n    }\n\n    var o = $.LayoutManager.options;\n\n    $.LayoutManager._init();\n\n    $.LayoutManager.layout.activate();\n\n    $.LayoutManager.tree('.sidebar');\n\n    if (o.enableControlSidebar) {\n      $.LayoutManager.controlSidebar.activate();\n    }\n\n    if (o.navbarMenuSlimscroll && typeof $.fn.slimscroll != 'undefined') {\n      $(\".navbar .menu\").slimscroll({\n        height: o.navbarMenuHeight,\n        alwaysVisible: false,\n        size: o.navbarMenuSlimscrollWidth\n      }).css(\"width\", \"100%\");\n    }\n\n    if (o.sidebarPushMenu) {\n      $.LayoutManager.pushMenu.activate(o.sidebarToggleSelector);\n    }\n\n    if (o.enableBoxWidget) {\n      $.LayoutManager.boxWidget.activate();\n    }\n\n    if (o.enableFastclick && typeof FastClick != 'undefined') {\n      FastClick.attach(document.body);\n    }\n\n    if (o.directChat.enable) {\n      $(document).on('click', o.directChat.contactToggleSelector, function () {\n        var box = $(this).parents('.direct-chat').first();\n        box.toggleClass('direct-chat-contacts-open');\n      });\n    }\n\n    $('.btn-group[data-toggle=\"btn-toggle\"]').each(function () {\n      var group = $(this);\n      $(this).find(\".btn\").on('click', function (e) {\n        group.find(\".btn.active\").removeClass(\"active\");\n        $(this).addClass(\"active\");\n        e.preventDefault();\n      });\n    });\n\n    return $.LayoutManager.addRefreshButton().activateBox().listCustomPlugin();\n  },\n\n  loading: function loading(start) {\n    $('#initerror').remove();\n    start = _.isBoolean(start) ? start : true;\n    if (start) {\n      $('body').append('\\n          <div id=\"startingspinner\">\\n          <div class=\"double-bounce1\"></div>\\n          <div class=\"double-bounce2\"></div>\\n          </div>');\n    } else {\n      $('#startingspinner').remove();\n    }\n  }\n\n};\n\nvar layout = $.LayoutManager;\n\nexports.default = {\n  mixins: [_mixins.resizeMixin],\n  data: function data() {\n    return {\n      customcredits: false,\n      appState: _application2.default.getState(),\n      current_custom_modal_content: null,\n      language: null,\n      cookie_law_buttonText: t('cookie_law.buttonText')\n    };\n  },\n\n  components: {\n    HeaderItem: _HeaderItem2.default,\n    CookieLaw: _vueCookieLaw2.default\n  },\n  computed: {\n    app: function app() {\n      return this.appState.gui.app;\n    },\n    languages: function languages() {\n      var languages = Array.isArray(this.appconfig.i18n) && this.appconfig.i18n || [];\n      return languages.length > 1 && languages;\n    },\n    currentProject: function currentProject() {\n      return _projects2.default.getCurrentProject();\n    },\n    appconfig: function appconfig() {\n      return _application2.default.getConfig();\n    },\n    isIframe: function isIframe() {\n      return !!this.appconfig.group.layout.iframe;\n    },\n    urls: function urls() {\n      return this.appconfig.urls;\n    },\n    staticurl: function staticurl() {\n      return this.urls.staticurl;\n    },\n    powered_by: function powered_by() {\n      return this.appconfig.group.powered_by;\n    },\n    clienturl: function clienturl() {\n      return this.urls.clienturl;\n    },\n    g3w_suite_logo: function g3w_suite_logo() {\n      return this.clienturl + 'images/g3wsuite_logo.png';\n    },\n    credits_logo: function credits_logo() {\n      return this.clienturl + 'images/logo_gis3w_156_85.png';\n    },\n    logo_url: function logo_url() {\n      var logo_project_url = this.currentProject.getThumbnail();\n      return logo_project_url ? logo_project_url : '' + this.appconfig.mediaurl + this.appconfig.logo_img;\n    },\n    logo_link: function logo_link() {\n      var logo_link = this.getLogoLink();\n      return logo_link ? logo_link : \"#\";\n    },\n    logo_link_target: function logo_link_target() {\n      var logo_link = this.getLogoLink();\n      return logo_link ? \"_blank\" : \"\";\n    },\n    project_title: function project_title() {\n      return this.currentProject.getState().name;\n    },\n    user: function user() {\n      return this.appconfig.user && this.appconfig.user.username ? this.appconfig.user : null;\n    },\n    login_url: function login_url() {\n      return this.appconfig.user.login_url;\n    },\n    numberOfProjectsInGroup: function numberOfProjectsInGroup() {\n      return this.appconfig.projects.length;\n    },\n    frontendurl: function frontendurl() {\n      return this.urls.frontendurl;\n    },\n    main_title: function main_title() {\n      var main_title = this.appconfig.main_map_title;\n      var group_name = this.appconfig.group.name || this.appconfig.group.slug;\n      return main_title ? main_title + ' - ' + group_name : group_name;\n    }\n  },\n  methods: {\n    templateResultLanguages: function templateResultLanguages(state) {\n      if (!state.id) {\n        return state.text;\n      }\n      return $('\\n        <div style=\"font-weight: bold; display:flex; align-items: center; justify-content: space-around;\">\\n          <img src=\"' + this.staticurl + 'img/flags/' + state.element.value.toLowerCase() + '.png\" />\\n          <span style=\"margin-left: 5px;\">' + state.text + '</span> \\n        </span>');\n    },\n    resize: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var max_width;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.isIframe) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 3;\n                return this.$nextTick();\n\n              case 3:\n                max_width = this.$refs.navbar_toggle.offsetWidth > 0 ? this.$refs.navbar.offsetWidth - this.$refs.navbar_toggle.offsetWidth : this.$refs.mainnavbar.offsetWidth - this.$refs['app-navbar-nav'].offsetWidth;\n\n                this.$refs.main_title_project_title.style.maxWidth = max_width - this.logoWidth - 15 + 'px';\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function resize() {\n        return _ref.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    showCustomModalContent: function showCustomModalContent(id) {\n      var _custom_modals$find = this.custom_modals.find(function (custommodal) {\n        return custommodal.id === id;\n      }),\n          content = _custom_modals$find.content;\n\n      this.current_custom_modal_content = content;\n    },\n    closePanel: function closePanel() {\n      sidebarService.closePanel();\n    },\n    getLogoLink: function getLogoLink() {\n      return this.appconfig.logo_link ? this.appconfig.logo_link : null;\n    },\n    openProjectsMenu: function openProjectsMenu() {\n      _gui2.default.openProjectsMenu();\n    },\n    handleMessages: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var _this2 = this;\n\n        var _loop, i;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.currentProject.getMessages()) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                _loop = regeneratorRuntime.mark(function _loop(i) {\n                  var _currentProject$getMe, id, title, message, level, data;\n\n                  return regeneratorRuntime.wrap(function _loop$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _currentProject$getMe = _this2.currentProject.getMessages().items[i], id = _currentProject$getMe.id, title = _currentProject$getMe.title, message = _currentProject$getMe.body, level = _currentProject$getMe.level;\n                          data = _application2.default.getLocalItem(_constant.LOCAL_ITEM_IDS.MESSAGES.id) || _constant.LOCAL_ITEM_IDS.MESSAGES.value;\n\n\n                          if (\"undefined\" === typeof data[_this2.currentProject.getId()]) {\n                            data[_this2.currentProject.getId()] = [];\n                          }\n\n                          if (!(\"undefined\" === typeof data[_this2.currentProject.getId()].find(function (_id) {\n                            return _id === id;\n                          }))) {\n                            _context2.next = 6;\n                            break;\n                          }\n\n                          _context2.next = 6;\n                          return new Promise(function (resolve, reject) {\n                            _gui2.default.showModalDialog({\n                              title: title,\n                              message: message,\n                              size: 'large',\n                              closeButton: false,\n                              className: 'g3w-modal-project-message ' + Object.entries(_this2.currentProject.getMessages().levels).find(function (_ref3) {\n                                var _ref4 = _slicedToArray(_ref3, 2),\n                                    key = _ref4[0],\n                                    value = _ref4[1];\n\n                                return value === level;\n                              })[0],\n                              buttons: {\n                                ok: {\n                                  label: 'Ok',\n                                  className: 'btn-info',\n                                  callback: function callback() {\n                                    data[_this2.currentProject.getId()].push(id);\n                                    _application2.default.setLocalItem({\n                                      id: _constant.LOCAL_ITEM_IDS.MESSAGES.id,\n                                      data: data\n                                    });\n                                    resolve();\n                                  }\n                                }\n                              }\n                            });\n                          });\n\n                        case 6:\n                        case 'end':\n                          return _context2.stop();\n                      }\n                    }\n                  }, _loop, _this2);\n                });\n                i = 0;\n\n              case 3:\n                if (!(i < this.currentProject.getMessages().items.length)) {\n                  _context3.next = 8;\n                  break;\n                }\n\n                return _context3.delegateYield(_loop(i), 't0', 5);\n\n              case 5:\n                i++;\n                _context3.next = 3;\n                break;\n\n              case 8:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function handleMessages() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return handleMessages;\n    }()\n  },\n  watch: {\n    'language': function language(_language, currentlanguage) {\n      if (currentlanguage) {\n        _application2.default.changeLanguage(_language);\n        this.cookie_law_buttonText = t('cookie_law.buttonText');\n      }\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n    this.delayTime = 0;\n  },\n  created: function created() {\n    var _this3 = this;\n\n    this.language = this.appconfig._i18n.language;\n    this.custom_modals = [];\n    this.custom_header_items_position = {\n      0: [],\n      1: [],\n      2: [],\n      3: [],\n      4: []\n    };\n    this.customlinks = Array.isArray(this.appconfig.header_custom_links) ? this.appconfig.header_custom_links.filter(function (customitem) {\n      if (customitem !== null) {\n        var _id2 = customitem.id = uniqueId();\n        customitem.type === 'modal' && _this3.custom_modals.push({\n          id: _id2,\n          content: customitem.content\n        });\n        var position = 1 * (customitem.position || 0);\n        position = position > 4 ? 4 : position < 0 || Number.isNaN(position) ? 0 : position;\n        _this3.custom_header_items_position[position].push(customitem);\n        return true;\n      }\n      return false;\n    }) : [];\n\n    !!this.appconfig.credits && $.get(this.appconfig.credits).then(function (credits) {\n      return _this3.customcredits = credits !== 'None' && credits;\n    });\n  },\n  mounted: function () {\n    var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this4 = this;\n\n      var rightNavBarElements, elementLenght, i, controlsidebarEl, setFloatBarMaxHeight, setModalHeight;\n      return regeneratorRuntime.wrap(function _callee3$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              setModalHeight = function setModalHeight() {\n                $('#g3w-modal-overlay').css('height', $(window).height());\n              };\n\n              setFloatBarMaxHeight = function setFloatBarMaxHeight() {\n                $(controlsidebarEl).css('max-height', $(window).innerHeight());\n                $('.g3w-sidebarpanel').css('height', $(window).height() - $(\"#main-navbar\").height());\n              };\n\n              this.handleMessages();\n              this.logoWidth = 0;\n              _context4.next = 6;\n              return this.$nextTick();\n\n            case 6:\n              rightNavBarElements = !this.isIframe ? this.$refs.mainnavbar.getElementsByTagName('ul') : [];\n              elementLenght = rightNavBarElements.length;\n\n              this.rightNavbarWidth = 15;\n              for (i = 0; i < elementLenght; i++) {\n                this.rightNavbarWidth += rightNavBarElements.item(i).offsetWidth;\n              }\n              this.language = this.appconfig.user.i18n;\n              _context4.next = 13;\n              return this.$nextTick();\n\n            case 13:\n              !this.isIframe && this.$refs.img_logo.addEventListener('load', function () {\n                _this4.logoWidth = _this4.$refs.img_logo.offsetWidth + 15;\n                _this4.resize();\n              }, { once: true });\n\n              layout.loading(false);\n              layout.setup();\n\n              layout.pushMenu.expandOnHover();\n              layout.controlSidebar._fix($(\".control-sidebar-bg\"));\n              layout.controlSidebar._fix($(\".control-sidebar\"));\n              controlsidebarEl = layout.options.controlSidebarOptions.selector;\n\n              setFloatBarMaxHeight();\n\n              $(window).resize(function () {\n                setFloatBarMaxHeight();\n                setModalHeight();\n              });\n\n            case 22:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref5.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.app.disabled),expression:\"app.disabled\"}],staticClass:\"wrapper\"},[_c('cookie-law',{attrs:{\"theme\":\"dark-lime\",\"buttonText\":_vm.cookie_law_buttonText}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('cookie_law.message'),expression:\"'cookie_law.message'\"}],attrs:{\"slot\":\"message\"},slot:\"message\"})]),_vm._v(\" \"),(!_vm.isIframe)?_c('header',{staticClass:\"main-header\"},[_c('nav',{ref:\"navbar\",staticClass:\"navbar navbar-inverse navbar-fixed-top\",attrs:{\"role\":\"navigation\"}},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"navbar-header\"},[_c('button',{ref:\"navbar_toggle\",staticClass:\"navbar-toggle\",attrs:{\"type\":\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#main-navbar\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('ellips-v'),staticStyle:{\"font-size\":\"1.3em\"}})]),_vm._v(\" \"),_c('a',{staticClass:\"sidebar-toggle\",attrs:{\"id\":\"g3w-small-screen-hamburger-sidebar\",\"href\":\"#\",\"data-toggle\":\"offcanvas\",\"role\":\"button\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('bars'),staticStyle:{\"font-size\":\"1.3em\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"logo-wrapper\",class:{'mobile': _vm.isMobile()}},[(_vm.logo_url)?_c('a',{staticClass:\"project_logo_link\",attrs:{\"href\":_vm.logo_link,\"target\":_vm.logo_link_target}},[_c('img',{ref:\"img_logo\",staticClass:\"img-responsive\",staticStyle:{\"max-width\":\"250px\"},attrs:{\"src\":_vm.logo_url}})]):_vm._e(),_vm._v(\" \"),_c('div',{ref:\"main_title_project_title\",staticClass:\"project_title_content\"},[_c('div',{staticClass:\"main_title\"},[_vm._v(_vm._s(_vm.main_title))]),_vm._v(\" \"),_c('div',{staticClass:\"sub_title\"},[_vm._v(_vm._s(_vm.project_title))])])])]),_vm._v(\" \"),_c('div',{ref:\"mainnavbar\",staticClass:\"collapse navbar-collapse\",staticStyle:{\"text-align\":\"center\",\"overflow\":\"hidden\",\"margin\":\"0 0\"},attrs:{\"id\":\"main-navbar\"}},[_c('navbarleftitems'),_vm._v(\" \"),_c('navbarrightitems'),_vm._v(\" \"),_c('ul',{ref:\"app-navbar-nav\",staticClass:\"nav navbar-nav navbar-right app-navbar-nav\"},[(!_vm.user)?_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{attrs:{\"href\":_vm.login_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('sign-in'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sign_in'),expression:\"'sign_in'\"}]})])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[0]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.numberOfProjectsInGroup > 1)?_c('li',{staticClass:\"dropdown user\",attrs:{\"id\":\"changemaps\"}},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"dropdown\"},on:{\"click\":_vm.openProjectsMenu}},[_c('i',{class:_vm.g3wtemplate.getFontClass('change-map'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('changemap'),expression:\"'changemap'\"}]})])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[1]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.user)?_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"dropdown\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('user')}),_vm._v(\" \"),_c('span',{staticClass:\"hidden-xs\"},[_vm._v(_vm._s(_vm.user.username))])]),_vm._v(\" \"),_c('ul',{staticClass:\"dropdown-menu\"},[_c('li',{staticClass:\"user-header\"},[_c('p',[_vm._v(\"\\n                    \"+_vm._s(_vm.user.first_name)+\" \"+_vm._s(_vm.user.last_name)+\"\\n                  \")])]),_vm._v(\" \"),_c('li',{staticClass:\"user-footer\"},[(_vm.user.admin_url)?_c('div',{staticClass:\"pull-left\"},[_c('a',{staticClass:\"btn btn-default btn-flat skin-color bold\",attrs:{\"href\":_vm.user.admin_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('folder')}),_vm._v(\" Admin\\n                    \")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"pull-right\"},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('logout'),expression:\"'logout'\"}],staticClass:\"btn btn-default btn-flat skin-color bold\",attrs:{\"href\":_vm.user.logout_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('sign-out'),staticStyle:{\"margin-right\":\"2px\"}})])])])])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[2]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"modal\",\"data-target\":\"#credits\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('credits'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"Credits\")])])]),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[3]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.languages)?_c('li',{staticClass:\"g3w-languages\"},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('language'),expression:\"'language'\"},{name:\"model\",rawName:\"v-model\",value:(_vm.language),expression:\"language\"}],staticClass:\"form-control\",staticStyle:{\"cursor\":\"pointer\",\"width\":\"130px\"},attrs:{\"templateSelection\":_vm.templateResultLanguages,\"templateResult\":_vm.templateResultLanguages},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.language=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.languages),function(lang){return _c('option',{key:lang[0],domProps:{\"value\":lang[0],\"selected\":lang[0] === _vm.language && 'selected'}},[_vm._v(\"\\n                  \"+_vm._s(lang[1])+\"\\n                \")])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.frontendurl)?_c('li',{staticClass:\"dropdown\"},[_c('a',{attrs:{\"href\":_vm.frontendurl}},[_c('span',[_c('i',{class:_vm.g3wtemplate.getFontClass('home')}),_vm._v(\" Home\")])])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[4]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})})],2)],1)])])]):_vm._e(),_vm._v(\" \"),_c('sidebar'),_vm._v(\" \"),_c('div',{staticClass:\"content-wrapper\",style:({paddingTop: _vm.isIframe ? 0 : null})},[_c('viewport',{attrs:{\"appState\":_vm.appState}})],1),_vm._v(\" \"),_c('floatbar'),_vm._v(\" \"),_c('div',{staticClass:\"control-sidebar-bg\"}),_vm._v(\" \"),_c('div',{staticClass:\"modal fade modal-fullscreen force-fullscreen\",attrs:{\"id\":\"full-screen-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"data-backdrop\":\"static\",\"data-keyboard\":\"false\",\"aria-labelledby\":\"full-screen-modal\",\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"credits\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-around\",\"justify-items\":\"center\",\"align-items\":\"center\"}},[(!!_vm.customcredits)?_c('div',{staticClass:\"customcredits\",domProps:{\"innerHTML\":_vm._s(_vm.customcredits)}}):_vm._e(),_vm._v(\" \"),(_vm.powered_by)?_c('div',[_c('div',{staticClass:\"g3w-credits-block\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('credits.g3wSuiteFramework'),expression:\"'credits.g3wSuiteFramework'\"}],staticClass:\"credit-title-logo\",staticStyle:{\"background-color\":\"#95ad36\",\"padding\":\"5px\",\"border-radius\":\"3px\",\"color\":\"#ffffff\"}}),_vm._v(\" \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://g3wsuite.it/\"}},[_c('img',{staticClass:\"g3w-suite-logo\",attrs:{\"src\":_vm.g3w_suite_logo,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('credits.g3wSuiteDescription'),expression:\"'credits.g3wSuiteDescription'\"}],staticStyle:{\"margin-top\":\"10px\"}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('credits.productOf'),expression:\"'credits.productOf'\",arg:\"pre\"}],staticClass:\"credit-title-logo g3w-credits-block\",staticStyle:{\"font-size\":\"1em\",\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('a',{staticStyle:{\"text-align\":\"center!important\"},attrs:{\"href\":\"http://www.gis3w.it\",\"target\":\"_blank\"}},[_c('img',{staticClass:\"img-responsive center-block\",staticStyle:{\"margin-left\":\"5px\"},attrs:{\"width\":\"60\",\"src\":_vm.credits_logo,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('address',{staticStyle:{\"line-height\":\"1.3\",\"text-align\":\"center\",\"margin-top\":\"5px\",\"display\":\"flex\",\"justify-content\":\"center\"},attrs:{\"id\":\"address-credits\"}},[_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('marker'),staticStyle:{\"color\":\"#95ad36\",\"font-weight\":\"bold\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Montecatini Terme - Italy\\n                \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('mobile'),staticStyle:{\"color\":\"#95ad36\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"  +39 393 8534336\\n                \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('mail'),staticStyle:{\"color\":\"#95ad36\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('a',{staticStyle:{\"color\":\"#000000\"},attrs:{\"href\":\"mailto:info@gis3w.it\"}},[_vm._v(\" info@gis3w.it\")])])])]):_vm._e()])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"custom_modal\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\",domProps:{\"innerHTML\":_vm._s(_vm.current_custom_modal_content)}})])])],1)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",staticStyle:{\"color\":\"#ffffff\",\"font-weight\":\"bold\",\"opacity\":\"1\",\"position\":\"absolute\",\"right\":\"25px\",\"top\":\"20px\"},attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])}]\n\n},{\"components/HeaderItem.vue\":231,\"constant\":4,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"mixins\":340,\"services/application\":348,\"services/gui\":358,\"store/projects\":376,\"vue-cookie-law\":\"vue-cookie-law\"}],194:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  props: {\n    showdata: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      id: 'graphline' + getUniqueDomId(),\n      selectitems: [],\n      data: [],\n      components: [],\n      config: {\n        data: {\n          columns: [['x'], ['y']]\n        }\n      },\n      size: {\n        width: 0,\n        height: 0\n      }\n    };\n  },\n\n  methods: {\n    addComponent: function addComponent(component) {\n      this.components.push(component);\n    },\n    addComponents: function addComponents() {\n      var _this = this;\n\n      var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      components.forEach(function (component) {\n        return _this.addComponent(component);\n      });\n    },\n    setConfig: function setConfig() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.config = config;\n    },\n    setDataOffset: function setDataOffset(offset) {\n      var render = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var data = this.getData();\n      for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        item.value += offset;\n      }\n      if (render) {\n        this.resize();\n      }\n    },\n    getSelectedItems: function getSelectedItems() {\n      return this.selectitems;\n    },\n    selectItem: function selectItem(id) {\n      this.chart.select(['y'], [id]);\n    },\n    unselectItem: function unselectItem(id) {\n      this.chart.unselect(['y'], [id]);\n    },\n    selectItems: function selectItems() {\n      var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.chart.select([y], ids);\n    },\n    unselectItems: function unselectItems() {\n      var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.chart.unselect(['y'], ids);\n    },\n    unselectAll: function unselectAll() {\n      this.chart.unselect();\n    },\n    selectAll: function selectAll() {\n      this.chart.select();\n    },\n    getData: function getData() {\n      return this.data;\n    },\n    resize: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            width = _ref2.width,\n            height = _ref2.height;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.chart.resize({\n                  width: width,\n                  height: height || $('#' + this.id).height() - 4\n                });\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function resize() {\n        return _ref.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    _setAllowedSpace: function _setAllowedSpace() {\n      if (this.components && this.components.length) this.size.height = document.querySelector('.g3wform_content').offsetHeight - this.$el.offsetHeight - document.querySelector('.g3wform_header').offsetHeight - 50;\n    },\n    _setMaxMin: function _setMaxMin(_ref3) {\n      var value = _ref3.value,\n          max = _ref3.max,\n          min = _ref3.min;\n\n      min = value ? +value : +min;\n      max = value ? +value : +max;\n      if (min < this.chart.axis.min().y) this.chart.axis.min(min);else if (max > this.chart.axis.max().y) this.chart.axis.max(max);else {\n        var dataValues = this.data.map(function (data) {\n          return +data.value;\n        });\n        this.chart.axis.max(Math.max.apply(Math, _toConsumableArray(dataValues)));\n        this.chart.axis.min(Math.min.apply(Math, _toConsumableArray(dataValues)));\n      }\n      this.resize();\n    },\n    changeItems: function changeItems(items) {\n      if (items.length === 1) this._setMaxMin(items[0].value);else {\n        var max = Math.max.apply(Math, _toConsumableArray(items.map(function (item) {\n          return +item.value;\n        })));\n        var min = Math.min.apply(Math, _toConsumableArray(items.map(function (item) {\n          return +item.value;\n        })));\n        this._setMaxMin({\n          max: max,\n          min: min\n        });\n      }\n      this.resize();\n    },\n    changeItem: function changeItem(_ref4) {\n      var item = _ref4.item,\n          _ref4$render = _ref4.render,\n          render = _ref4$render === undefined ? true : _ref4$render;\n\n      var value = item.value;\n      this._setMaxMin({ value: value });\n      if (render) {\n        this.resize();\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _gui2.default.on('resize', _this2.resize);\n      var self = _this2;\n      _this2.config.data.onselected = function (evt) {\n        var _temp = [].concat(_toConsumableArray(self.selectitems), [evt]);\n        self.selectitems = _temp;\n      };\n      _this2.config.data.onunselected = function (evt) {\n        self.selectitems = self.selectitems.filter(function (selectitem) {\n          return selectitem.index !== evt.index;\n        });\n      };\n      _this2.chart = c3.generate(_extends({\n        bindto: '#' + _this2.id\n      }, _this2.config));\n      var data = _this2.chart.data()[0] ? _this2.chart.data()[0].values : [];\n      data.forEach(function (item) {\n        _this2.data.push(item);\n      });\n      _this2._setAllowedSpace();\n\n      _this2.$emit('chart-ready', _this2.chart);\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.data = this.selectitems = null;\n    this.chart.destroy();\n    this.chart = null;\n    _gui2.default.off('resize', this.resize);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chart_wrapper\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\"}},[_c('div',{staticStyle:{\"height\":\"100%\",\"min-height\":\"200px\",\"background-color\":\"#ffffff\"},attrs:{\"id\":_vm.id}}),_vm._v(\" \"),_vm._l((_vm.components),function(component){return _c('div',[_c('span',{staticClass:\"divider\"}),_vm._v(\" \"),_c(component,{tag:\"component\",attrs:{\"data\":_vm.data,\"selectitems\":_vm.selectitems,\"size\":_vm.size},on:{\"change-item\":_vm.changeItem,\"change-items\":_vm.changeItems,\"select-item\":_vm.selectItem,\"select-all\":_vm.selectAll,\"unselect-all\":_vm.unselectAll,\"unselect-item\":_vm.unselectItem}})],1)})],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"services/gui\":358}],195:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _CatalogChangeMapThemes = require('components/CatalogChangeMapThemes.vue');\n\nvar _CatalogChangeMapThemes2 = _interopRequireDefault(_CatalogChangeMapThemes);\n\nvar _CatalogLayerContextMenu = require('components/CatalogLayerContextMenu.vue');\n\nvar _CatalogLayerContextMenu2 = _interopRequireDefault(_CatalogLayerContextMenu);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _mapControls = require('store/map-controls');\n\nvar _mapControls2 = _interopRequireDefault(_mapControls);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar DEFAULT_ACTIVE_TAB = 'layers';\n\nexports.default = {\n  data: function data() {\n    var legend = this.$options.legend;\n    legend.place = _application2.default.getCurrentProject().getLegendPosition() || 'tab';\n    return {\n      state: null,\n      legend: legend,\n      showlegend: false,\n      currentBaseLayer: null,\n      activeTab: null,\n      loading: false\n    };\n  },\n\n  components: {\n    'changemapthemes': _CatalogChangeMapThemes2.default,\n    'cataloglayercontextmenu': _CatalogLayerContextMenu2.default\n  },\n  computed: {\n    showTocTools: function showTocTools() {\n      var _project$state$map_th = this.project.state.map_themes,\n          map_themes = _project$state$map_th === undefined ? [] : _project$state$map_th;\n\n      var show = map_themes.length > 1;\n      return show;\n    },\n    project: function project() {\n      return this.state.prstate.currentProject;\n    },\n    title: function title() {\n      return this.project.state.name;\n    },\n    baselayers: function baselayers() {\n      return this.project.state.baselayers;\n    },\n    hasBaseLayers: function hasBaseLayers() {\n      return this.project.state.baselayers.length > 0;\n    },\n    hasLayers: function hasLayers() {\n      var layerstresslength = 0;\n      this.state.layerstrees.forEach(function (layerstree) {\n        return layerstresslength += layerstree.tree.length;\n      });\n      return this.state.external.vector.length > 0 || layerstresslength > 0 || this.state.layersgroups.length > 0;\n    }\n  },\n  methods: {\n    changeMapTheme: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(map_theme) {\n        var changes, changeStyleLayersId;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.closeContent();\n                _context.next = 3;\n                return this.$options.service.changeMapTheme(map_theme);\n\n              case 3:\n                changes = _context.sent;\n                changeStyleLayersId = Object.keys(changes.layers).filter(function (layerId) {\n                  if (changes.layers[layerId].style) {\n                    if (!changes.layers[layerId].visible) {\n                      var layer = _catalogLayers2.default.getLayerById(layerId);\n\n                      layer.clearCategories();\n                      layer.change();\n                    }\n                    return true;\n                  }\n                });\n\n                this.legend.place === 'tab' ? _catalogeventhub2.default.$emit('layer-change-style') : changeStyleLayersId.forEach(function (layerId) {\n                  _catalogeventhub2.default.$emit('layer-change-style', {\n                    layerId: layerId\n                  });\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function changeMapTheme(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return changeMapTheme;\n    }(),\n    delegationClickEventTab: function delegationClickEventTab(evt) {\n      this.activeTab = evt.target.attributes['aria-controls'] ? evt.target.attributes['aria-controls'].value : this.activeTab;\n    },\n    showLegend: function showLegend(bool) {\n      this.showlegend = bool;\n    },\n    setBaseLayer: function setBaseLayer(id) {\n      this.currentBaseLayer = id;\n      this.project.setBaseLayer(id);\n      _application2.default.setBaseLayerId(id);\n    },\n    getSrcBaseLayerImage: function getSrcBaseLayerImage(baseLayer) {\n      var type = baseLayer && baseLayer.servertype || baseLayer;\n      var image = void 0;\n      var customimage = false;\n      switch (type) {\n        case 'OSM':\n          image = 'osm.png';\n          break;\n        case 'Bing':\n          var subtype = baseLayer.source.subtype;\n          image = 'bing' + subtype + '.png';\n          break;\n        case 'TMS':\n        case 'WMTS':\n          if (baseLayer.icon) {\n            customimage = true;\n            image = baseLayer.icon;\n            break;\n          }\n        default:\n          image = 'nobaselayer.png';\n      }\n      return !customimage ? _gui2.default.getResourcesUrl() + 'images/' + image : image;\n    }\n  },\n  watch: {\n    'state.external.wms': function stateExternalWms(newlayers, oldlayers) {\n      if (oldlayers && newlayers.length === 0) {\n        this.activeTab = this.project.state.catalog_tab || DEFAULT_ACTIVE_TAB;\n      }\n    },\n\n    'state.prstate.currentProject': {\n      handler: function () {\n        var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(project, oldproject) {\n          var _this = this;\n\n          var activeTab;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  activeTab = project.state.catalog_tab || DEFAULT_ACTIVE_TAB;\n\n                  this.loading = activeTab === 'baselayers';\n                  _context2.next = 4;\n                  return this.$nextTick();\n\n                case 4:\n                  setTimeout(function () {\n                    _this.loading = false;\n                    _this.activeTab = activeTab;\n                  }, activeTab === 'baselayers' ? 500 : 0);\n\n                case 5:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function handler(_x2, _x3) {\n          return _ref2.apply(this, arguments);\n        }\n\n        return handler;\n      }(),\n\n      immediate: false\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.layerpositions = _constant.MAP_SETTINGS.LAYER_POSITIONS.getPositions();\n\n    _catalogeventhub2.default.$on('unselectionlayer', function (storeid, layerstree) {\n      if (layerstree.external) {\n        _gui2.default.getService('queryresults').clearSelectionExtenalLayer(layerstree);\n      } else {\n        _catalogLayers2.default.getLayersStore(storeid).getLayerById(layerstree.id).clearSelectionFids();\n      }\n    });\n\n    _catalogeventhub2.default.$on('activefiltertokenlayer', function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(storeid, layerstree) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _catalogLayers2.default.getLayersStore(storeid).getLayerById(layerstree.id).toggleFilterToken();\n\n              case 2:\n                layerstree.filter.active = _context3.sent;\n\n              case 3:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this2);\n      }));\n\n      return function (_x4, _x5) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _catalogeventhub2.default.$on('treenodevisible', function (layer) {\n      _gui2.default.getService('map').emit('cataloglayervisible', layer);\n    });\n\n    _catalogeventhub2.default.$on('treenodeselected', function (storeid, node) {\n      var layer = _catalogLayers2.default.getLayersStore(storeid).getLayerById(node.id);\n\n      if (!layer.isSelected()) {\n        _gui2.default.getService('catalog').setSelectedExternalLayer({ layer: null, type: 'vector', selected: false });\n      }\n      setTimeout(function () {\n        _catalogLayers2.default.getLayersStore(storeid).selectLayer(node.id, !layer.isSelected());\n\n        _gui2.default.getService('map').emit('cataloglayerselected', layer);\n      });\n    });\n\n    _catalogeventhub2.default.$on('treenodeexternalselected', function (layer) {\n      _gui2.default.getService('catalog').setSelectedExternalLayer({ layer: layer, type: 'vector', selected: !layer.selected }).then(function () {\n        if (layer.selected) {\n          _catalogLayers2.default.getLayersStores().forEach(function (layer) {\n            layer.selectLayer(null, false);\n          });\n        }\n      });\n    });\n\n    _mapControls2.default.onafter('registerControl', function (id, control) {\n      if ('querybbox' === id) {\n        control.getInteraction().on('propertychange', function (evt) {\n          if ('active' === evt.key) _this2.state.highlightlayers = !evt.oldValue;\n        });\n      }\n    });\n  },\n  beforeMount: function beforeMount() {\n    this.currentBaseLayer = this.project.state.initbaselayer;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tabbable-panel catalog\",attrs:{\"id\":\"catalog\"},on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{staticClass:\"tabbable-line\"},[_c('ul',{staticClass:\"nav nav-tabs catalalog-nav-tabs\",attrs:{\"role\":\"tablist\"},on:{\"!click\":function($event){return _vm.delegationClickEventTab($event)}}},[(_vm.hasLayers)?_c('li',{class:{ active: _vm.activeTab === 'layers' && 'hasLayers' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('data'),expression:\"'data'\"}],attrs:{\"href\":\"#layers\",\"aria-controls\":\"layers\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"tree\"}})]):_vm._e(),_vm._v(\" \"),(_vm.state.external.wms.length)?_c('li',{class:{ active: _vm.activeTab === 'externalwms' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('externalwms'),expression:\"'externalwms'\"}],attrs:{\"href\":\"#externalwms\",\"aria-controls\":\"externalwms\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"externalwms\"}})]):_vm._e(),_vm._v(\" \"),(_vm.hasBaseLayers)?_c('li',{class:{ active: _vm.activeTab === 'baselayers' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('baselayers'),expression:\"'baselayers'\"}],attrs:{\"href\":\"#baselayers\",\"aria-controls\":\"baselayers\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"baselayers\"}})]):_vm._e(),_vm._v(\" \"),(_vm.legend.place ===  'tab' && _vm.showlegend)?_c('li',{class:{ active: _vm.activeTab === 'legend' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('legend'),expression:\"'legend'\"}],attrs:{\"href\":\"#legend\",\"aria-controls\":\"legend\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"legend\"}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"tab-content catalog-tab-content\"},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane\",class:{ active: _vm.activeTab === 'layers' && 'hasLayers' },attrs:{\"role\":\"tabpanel\",\"id\":\"layers\"}},[_c('helpdiv',{attrs:{\"message\":\"catalog_items.helptext\"}}),_vm._v(\" \"),(_vm.showTocTools)?_c('div',{staticStyle:{\"margin\":\"2px\"},attrs:{\"id\":\"g3w-catalog-toc-layers-toolbar\"}},[_c('changemapthemes',{key:_vm.project.state.gid,attrs:{\"map_themes\":_vm.project.state.map_themes},on:{\"change-map-theme\":_vm.changeMapTheme}})],1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layerstrees),function(_layerstree){return _c('ul',{key:_layerstree.storeid,staticClass:\"tree-root root project-root\"},_vm._l((_layerstree.tree),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"highlightlayers\":_vm.state.highlightlayers,\"layerstree\":layerstree,\"parentFolder\":false,\"root\":true,\"legendplace\":_vm.legend.place,\"parent_mutually_exclusive\":false,\"storeid\":_layerstree.storeid}})}),1)}),_vm._v(\" \"),(_vm.state.external.vector.length)?_c('ul',{staticClass:\"g3w-external_layers-group\"},_vm._l((_vm.state.external.vector),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"externallayers\":_vm.state.external.vector,\"layerstree\":layerstree}})}),1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layersgroups),function(layersgroup){return _c('ul',[_c('layers-group',{attrs:{\"layersgroup\":layersgroup}})],1)})],2),_vm._v(\" \"),(_vm.state.external.wms.length)?_c('div',{staticClass:\"tab-pane\",class:{ active: _vm.activeTab === 'externalwms' },attrs:{\"role\":\"tabpanel\",\"id\":\"externalwms\"}},[_c('ul',{staticClass:\"g3w-external_wms_layers-group\"},_vm._l((_vm.state.external.wms),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"externallayers\":_vm.state.external.wms,\"layerstree\":layerstree}})}),1)]):_vm._e(),_vm._v(\" \"),(_vm.hasBaseLayers)?_c('div',{staticClass:\"tab-pane baselayers\",class:{ active: _vm.activeTab === 'baselayers' || !_vm.hasLayers },attrs:{\"role\":\"tabpanel\",\"id\":\"baselayers\"}},[_c('ul',{class:{'mobile': _vm.isMobile()},style:({gridTemplateColumns: (\"repeat(auto-fill, minmax(\" + (_vm.baselayers.length > 4 ? 80 : 120) + \"px, 1fr))\")}),attrs:{\"id\":\"baselayers-content\"}},[_vm._l((_vm.baselayers),function(baselayer){return (!baselayer.fixed)?_c('li',{key:baselayer.title},[_c('img',{staticClass:\"img-responsive img-thumbnail baselayer\",style:({opacity: _vm.currentBaseLayer === baselayer.id ? 1 : 0.5}),attrs:{\"src\":_vm.getSrcBaseLayerImage(baselayer)},on:{\"click\":function($event){$event.stopPropagation();return _vm.setBaseLayer(baselayer.id)}}}),_vm._v(\" \"),_c('div',{staticClass:\"baseselayer-text text-center\"},[_vm._v(_vm._s(baselayer.title))])]):_vm._e()}),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){$event.stopPropagation();return _vm.setBaseLayer(null)}}},[_c('img',{staticClass:\"img-responsive img-thumbnail baselayer\",style:({opacity: _vm.currentBaseLayer === null ? 1 : 0.5}),attrs:{\"src\":_vm.getSrcBaseLayerImage(null)}}),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('nobaselayer'),expression:\"'nobaselayer'\"}],staticClass:\"baseselayer-text text-center\"})])],2)]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layerstrees),function(_layerstree){return (_vm.legend.place === 'tab')?_c('layerslegend',{key:_layerstree.id,attrs:{\"legend\":_vm.legend,\"active\":_vm.activeTab === 'legend',\"layerstree\":_layerstree},on:{\"showlegend\":_vm.showLegend}}):_vm._e()})],2)]),_vm._v(\" \"),_c('cataloglayercontextmenu',{attrs:{\"external\":_vm.state.external}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"components/CatalogChangeMapThemes.vue\":196,\"components/CatalogLayerContextMenu.vue\":197,\"gui/catalog/vue/catalogeventhub\":113,\"services/application\":348,\"services/gui\":358,\"store/catalog-layers\":371,\"store/map-controls\":373}],196:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"changemapthemes\",\n  data: function data() {\n    var collapsed = _projects2.default.getCurrentProject().state.toc_themes_init_status === 'collapsed';\n    var current_map_theme = this.map_themes.find(function (map_theme) {\n      return map_theme.default;\n    });\n    return {\n      current_map_theme: current_map_theme ? current_map_theme.theme : null,\n      collapsed: collapsed\n    };\n  },\n\n  props: {\n    map_themes: {\n      type: Array,\n      default: []\n    }\n  },\n  watch: {\n    'current_map_theme': {\n      immediate: false,\n      handler: function handler(map_theme) {\n        this.$emit('change-map-theme', map_theme);\n      }\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"sidebar-menu\"},[_c('li',{staticClass:\"treeview sidebaritem skin-border-color\",staticStyle:{\"margin-bottom\":\"5px\",\"border-bottom\":\"2px solid\"},attrs:{\"id\":\"g3w-catalog-toc-views\"}},[_c('a',{ref:\"g3w-map-theme-ancor\",staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"padding\":\"5px 5px 5px 2px\"},attrs:{\"href\":\"#\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('caret-down'),staticStyle:{\"padding\":\"3px\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('eye'),staticStyle:{\"padding\":\"0 0 0 4px\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.current_map_theme ),expression:\"current_map_theme \"}],staticClass:\"treeview-label g3w-long-text\",staticStyle:{\"overflow\":\"hidden\",\"white-space\":\"normal\",\"text-overflow\":\"ellipsis\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('sdk.catalog.current_map_theme_prefix'),expression:\"'sdk.catalog.current_map_theme_prefix'\",arg:\"pre\"}],staticStyle:{\"color\":\"#cccccc !important\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\",staticStyle:{\"font-size\":\"1.1em\"}},[_vm._v(_vm._s(_vm.current_map_theme))])]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.current_map_theme),expression:\"!current_map_theme\"}],staticClass:\"treeview-label\",staticStyle:{\"color\":\"#cccccc !important\",\"font-weight\":\"bold\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.choose_map_theme'),expression:\"'sdk.catalog.choose_map_theme'\"}]})])]),_vm._v(\" \"),_c('ul',{staticClass:\"treeview-menu\",class:{'menu-open': !_vm.collapsed},style:({display: _vm.collapsed ? 'none' : 'block'}),attrs:{\"id\":\"g3w-catalog-views\"}},[_c('li',{staticStyle:{\"padding\":\"5px 5px 5px 17px\"}},_vm._l((_vm.map_themes),function(map_theme,index){return _c('div',{key:map_theme.theme},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.current_map_theme),expression:\"current_map_theme\"}],staticClass:\"magic-radio\",attrs:{\"type\":\"radio\",\"name\":\"radio\",\"id\":(\"g3w-map_theme-\" + index)},domProps:{\"value\":map_theme.theme,\"checked\":map_theme.default,\"checked\":_vm._q(_vm.current_map_theme,map_theme.theme)},on:{\"change\":function($event){_vm.current_map_theme=map_theme.theme}}}),_vm._v(\" \"),_c('label',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"},attrs:{\"for\":(\"g3w-map_theme-\" + index)}},[_c('span',{staticClass:\"g3w-long-text\"},[_vm._v(_vm._s(map_theme.theme))])])])}),0)])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-06d0cd43\"\n\n},{\"store/projects\":376}],197:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"li .item-text[data-v-7828b5c0]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _vueColor = require('vue-color');\n\nvar _LayerOpacityPicker = require('components/LayerOpacityPicker.vue');\n\nvar _LayerOpacityPicker2 = _interopRequireDefault(_LayerOpacityPicker);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar shpwrite = require('shp-write');\nvar TableComponent = require('gui/table/vue/table');\n\nvar OFFSETMENU = {\n  top: 50,\n  left: 15\n};\n\nexports.default = {\n  name: 'Cataloglayermenu',\n  props: {\n    external: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      layerMenu: {\n        show: false,\n        top: 0,\n        left: 0,\n        tooltip: false,\n        name: '',\n        layer: null,\n        loading: {\n          data_table: false,\n          shp: false,\n          csv: false,\n          gpx: false,\n          gpkg: false,\n          xls: false\n        },\n\n        colorMenu: {\n          show: false,\n          top: 0,\n          left: 0,\n          color: null\n        },\n\n        stylesMenu: {\n          show: false,\n          top: 0,\n          left: 0,\n          style: null,\n          default: null\n        },\n\n        metadatainfoMenu: {\n          show: false,\n          top: 0,\n          left: 0\n        }\n      }\n    };\n  },\n\n  components: {\n    'chrome-picker': _vueColor.Chrome,\n    'layer-opacity-picker': _LayerOpacityPicker2.default\n  },\n  directives: {\n    'click-outside-layer-menu': {\n      bind: function bind(el, binding, vnode) {\n        this.event = function (event) {\n          if (el === event.target || el.contains(event.target)) {\n            return;\n          }\n          event.stopPropagation();\n          vnode.context[binding.expression](event);\n        };\n        document.body.addEventListener('click', this.event, true);\n      },\n      unbind: function unbind(el) {\n        document.body.removeEventListener('click', this.event, true);\n      }\n    }\n\n  },\n  methods: {\n    addLayerMenuItem: function addLayerMenuItem() {\n      var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.layerMenu = _extends({}, this.layerMenu, item);\n    },\n    _hideMenu: function _hideMenu() {\n      this.layerMenu.show = false;\n      this.layerMenu.styles = false;\n      this.layerMenu.loading.data_table = false;\n      this.layerMenu.loading.shp = false;\n      this.layerMenu.loading.csv = false;\n      this.layerMenu.loading.gpx = false;\n      this.layerMenu.loading.gpkg = false;\n      this.layerMenu.loading.xls = false;\n      this.layerMenu.loading.geotiff = false;\n    },\n    closeLayerMenu: function closeLayerMenu() {\n      var menu = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._hideMenu();\n      this.showColorMenu(false);\n      menu.show = false;\n    },\n    onbeforeDestroyChangeColor: function onbeforeDestroyChangeColor() {\n      this.$refs.color_picker.$off();\n    },\n    onChangeColor: function onChangeColor(val) {\n      var mapService = _gui2.default.getService('map');\n      this.layerMenu.layer.color = val;\n      var layer = mapService.getLayerByName(this.layerMenu.name);\n      var style = layer.getStyle();\n      style._g3w_options.color = val;\n      layer.setStyle(style);\n    },\n    canShowWmsUrl: function canShowWmsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer ? !!(!originalLayer.isType('table') && originalLayer.getFullWmsUrl()) : false;\n    },\n    canShowWfsUrl: function canShowWfsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer && !originalLayer.isType('table') && originalLayer.isWfsActive();\n    },\n    canDownloadXls: function canDownloadXls(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isXlsDownlodable() : false;\n    },\n    canDownloadGpx: function canDownloadGpx(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGpxDownlodable() : false;\n    },\n    canDownloadGpkg: function canDownloadGpkg(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGpkgDownlodable() : false;\n    },\n    canDownloadCsv: function canDownloadCsv(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isCsvDownlodable() : false;\n    },\n    canDownloadGeoTIFF: function canDownloadGeoTIFF(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGeoTIFFDownlodable() : false;\n    },\n    canDownloadShp: function canDownloadShp(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isShpDownlodable() : false;\n    },\n    getWmsUrl: function getWmsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer.getCatalogWmsUrl();\n    },\n    getWfsUrl: function getWfsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer.getCatalogWfsUrl();\n    },\n    copyUrl: function copyUrl() {\n      var _this = this;\n\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          evt = _ref.evt,\n          layerId = _ref.layerId,\n          type = _ref.type;\n\n      var url = this['get' + type + 'Url'](layerId);\n      var ancorEement = document.createElement('a');\n      ancorEement.href = url;\n      var tempInput = document.createElement('input');\n      tempInput.value = ancorEement.href;\n      document.body.appendChild(tempInput);\n      tempInput.select();\n      document.execCommand(\"copy\");\n      $(evt.target).attr('data-original-title', t('sdk.catalog.menu.wms.copied')).tooltip('show');\n      $(evt.target).attr('title', this.copywmsurltooltip).tooltip('fixTitle');\n      document.body.removeChild(tempInput);\n      ancorEement = null;\n      setTimeout(function () {\n        return _this._hideMenu();\n      }, 600);\n    },\n    downloadGeoTIFF: function downloadGeoTIFF(layerId) {\n      var _this2 = this;\n\n      var map_extent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.geotiff = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGeoTIFF({\n        data: map_extent ? {\n          map_extent: _gui2.default.getService('map').getMapExtent().toString()\n        } : undefined\n      }).catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this2.layerMenu.loading.geotiff = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this2._hideMenu();\n      });\n    },\n    downloadShp: function downloadShp(layerId) {\n      var _this3 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.shp = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getShp().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this3.layerMenu.loading.shp = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this3._hideMenu();\n      });\n    },\n    downloadCsv: function downloadCsv(layerId) {\n      var _this4 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.csv = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getCsv().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this4.layerMenu.loading.csv = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this4._hideMenu();\n      });\n    },\n    downloadXls: function downloadXls(layerId) {\n      var _this5 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.xls = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getXls().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this5.layerMenu.loading.xls = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this5._hideMenu();\n      });\n    },\n    downloadGpx: function downloadGpx(layerId) {\n      var _this6 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.gpx = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGpx().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this6.layerMenu.loading.gpx = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this6._hideMenu();\n      });\n    },\n    downloadGpkg: function downloadGpkg(layerId) {\n      var _this7 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.gpkg = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGpkg().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this7.layerMenu.loading.gpkg = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this7._hideMenu();\n      });\n    },\n    changeLayerMapPosition: function changeLayerMapPosition(_ref2) {\n      var position = _ref2.position,\n          layer = _ref2.layer;\n\n      var mapService = _gui2.default.getService('map');\n      var changed = layer.position !== position;\n      if (changed) {\n        layer.position = position;\n        mapService.changeLayerMapPosition({\n          id: layer.id,\n          position: position\n        });\n        changed && this._hideMenu();\n      }\n    },\n    setWMSOpacity: function setWMSOpacity(_ref3) {\n      var _ref3$id = _ref3.id,\n          id = _ref3$id === undefined ? this.layerMenu.layer.id : _ref3$id,\n          opacity = _ref3.value;\n\n      this.layerMenu.layer.opacity = opacity;\n      var mapService = _gui2.default.getService('map');\n      mapService.changeLayerOpacity({\n        id: id,\n        opacity: opacity\n      });\n    },\n    zoomToLayer: function zoomToLayer(layer) {\n      _gui2.default.getService('map').goToBBox([layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy], layer.epsg);\n      this._hideMenu();\n    },\n    canZoom: function canZoom(layer) {\n      return layer.bbox && [layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy].find(function (coordinate) {\n        return coordinate > 0;\n      });\n    },\n    getGeometryType: function getGeometryType(layerId) {\n      var external = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var geometryType = void 0;\n      if (external) {\n        var layer = this.external.vector.find(function (layer) {\n          return layer.id === layerId;\n        });\n        if (layer) geometryType = layer.geometryType;\n      } else {\n        var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n        geometryType = originalLayer.config.geometrytype;\n      }\n      geometryType = geometryType && geometryType !== 'NoGeometry' ? geometryType : '';\n      return geometryType;\n    },\n    downloadExternalShapefile: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(layer) {\n        var EPSG4326, mapService, vectorLayer, GeoJSONFormat, features, GeoJSONFile, name;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                EPSG4326 = 'EPSG:4326';\n\n                this.layerMenu.loading.shp = true;\n                mapService = _gui2.default.getService('map');\n                vectorLayer = mapService.getLayerByName(layer.name);\n                GeoJSONFormat = new ol.format.GeoJSON();\n                features = vectorLayer.getSource().getFeatures();\n\n                if (layer.crs !== EPSG4326) {\n                  features = features.map(function (feature) {\n                    var clonefeature = feature.clone();\n                    clonefeature.getGeometry().transform(layer.crs, EPSG4326);\n                    return clonefeature;\n                  });\n                }\n                GeoJSONFile = GeoJSONFormat.writeFeaturesObject(features, {\n                  featureProjection: EPSG4326\n                });\n                name = layer.name.split('.' + layer.type)[0];\n\n                shpwrite.download(GeoJSONFile, {\n                  folder: name,\n                  types: {\n                    point: name,\n                    mulipoint: name,\n                    polygon: name,\n                    multipolygon: name,\n                    line: name,\n                    polyline: name,\n                    multiline: name\n                  }\n                });\n                _context.next = 12;\n                return this.$nextTick();\n\n              case 12:\n                this.layerMenu.loading.shp = false;\n                this._hideMenu();\n\n              case 14:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function downloadExternalShapefile(_x6) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return downloadExternalShapefile;\n    }(),\n    showAttributeTable: function showAttributeTable(layerId) {\n      var _this8 = this;\n\n      this.layerMenu.loading.data_table = false;\n      _gui2.default.closeContent();\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      this.layerMenu.loading.data_table = true;\n      var tableContent = new TableComponent({\n        layer: layer,\n        formatter: 1\n      });\n      tableContent.on('show', function () {\n        _this8.isMobile() && _gui2.default.hideSidebar();\n        _this8.layerMenu.loading.data_table = false;\n        _this8._hideMenu();\n      });\n      tableContent.show({\n        title: layer.getName()\n      });\n    },\n    startEditing: function startEditing() {\n      var _this9 = this;\n\n      var layer = void 0;\n      var catallogLayersStores = _catalogLayers2.default.getLayersStores();\n      catallogLayersStores.forEach(function (layerStore) {\n        layer = layerStore.getLayerById(_this9.layerMenu.layer.id);\n        if (layer) {\n          layer.getLayerForEditing();\n          return false;\n        }\n      });\n    },\n    setCurrentLayerStyle: function setCurrentLayerStyle(index) {\n      var _this10 = this;\n\n      var changed = false;\n      this.layerMenu.layer.styles.forEach(function (style, idx) {\n        if (idx === index) {\n          _this10.layerMenu.stylesMenu.style = style.name;\n          changed = !style.current;\n          style.current = true;\n        } else style.current = false;\n      });\n      if (changed) {\n        var layerId = this.layerMenu.layer.id;\n        var layer = _catalogLayers2.default.getLayerById(this.layerMenu.layer.id);\n        if (layer) {\n          _catalogeventhub2.default.$emit('layer-change-style', {\n            layerId: layerId,\n            style: this.layerMenu.stylesMenu.style\n          });\n          layer.change();\n        }\n      }\n      this.closeLayerMenu(this.layerMenu.stylesMenu);\n    },\n    showSubMenuContext: function () {\n      var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref5) {\n        var menu = _ref5.menu,\n            bool = _ref5.bool,\n            evt = _ref5.evt;\n        var elem, contextmenu, menuentry, submenu, height, maxH;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!bool) {\n                  _context2.next = 15;\n                  break;\n                }\n\n                elem = $(evt.target);\n\n                menu.top = elem.offset().top;\n                menu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 + OFFSETMENU.left;\n                contextmenu = $(this.$refs['layer-menu']);\n                menuentry = $(evt.target);\n                submenu = menuentry.children('ul');\n                height = submenu.height();\n                maxH = contextmenu.height();\n\n                menu.maxHeight = height >= maxH ? maxH : null;\n                menu.overflowY = height >= maxH ? 'scroll' : null;\n                menu.top = (height >= maxH ? contextmenu : menuentry).offset().top;\n                menu.left = this.isMobile() ? 0 : menuentry.offset().left + menuentry.width() + (menuentry.outerWidth() - menuentry.width()) / 2 + OFFSETMENU.left;\n                _context2.next = 15;\n                return this.$nextTick();\n\n              case 15:\n                menu.show = bool;\n\n              case 16:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function showSubMenuContext(_x7) {\n        return _ref6.apply(this, arguments);\n      }\n\n      return showSubMenuContext;\n    }(),\n    showStylesMenu: function () {\n      var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(bool, evt) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.showSubMenuContext({\n                  menu: this.layerMenu.stylesMenu,\n                  bool: bool,\n                  evt: evt\n                });\n\n              case 1:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function showStylesMenu(_x8, _x9) {\n        return _ref7.apply(this, arguments);\n      }\n\n      return showStylesMenu;\n    }(),\n    showMetadataInfo: function () {\n      var _ref8 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(bool, evt) {\n        var elem;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!bool) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                elem = $(evt.target);\n\n                this.layerMenu.metadatainfoMenu.top = elem.offset().top;\n                this.layerMenu.metadatainfoMenu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 + OFFSETMENU.left;\n                _context4.next = 6;\n                return this.$nextTick();\n\n              case 6:\n                this.layerMenu.metadatainfoMenu.show = bool;\n\n              case 7:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function showMetadataInfo(_x10, _x11) {\n        return _ref8.apply(this, arguments);\n      }\n\n      return showMetadataInfo;\n    }(),\n    showColorMenu: function showColorMenu(bool, evt) {\n      if (bool) {\n        var elem = $(evt.target);\n        var contextmenu = $(this.$refs['layer-menu']);\n        this.layerMenu.colorMenu.top = contextmenu.offset().top;\n        this.layerMenu.colorMenu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 - OFFSETMENU.left;\n      }\n      this.layerMenu.colorMenu.show = bool;\n    },\n    getStyleName: function getStyleName(style) {\n      return style.name + (style.name === this.layerMenu.layer.defaultstyle && this.layerMenu.layer.styles.length > 1 ? ' (' + t('default') + ')' : '');\n    }\n  },\n\n  created: function created() {\n    var _this11 = this;\n\n    _catalogeventhub2.default.$on('showmenulayer', function () {\n      var _ref9 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(layerstree, evt) {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this11._hideMenu();\n                _context5.next = 3;\n                return _this11.$nextTick();\n\n              case 3:\n                _this11.layerMenu.left = evt.x;\n                _this11.layerMenu.name = layerstree.name;\n                _this11.layerMenu.layer = layerstree;\n                _this11.layerMenu.show = true;\n                _this11.layerMenu.colorMenu.color = layerstree.color;\n                _context5.next = 10;\n                return _this11.$nextTick();\n\n              case 10:\n                _this11.layerMenu.top = $(evt.target).offset().top - $(_this11.$refs['layer-menu']).height() + $(evt.target).height() / 2;\n                $('.catalog-menu-wms[data-toggle=\"tooltip\"]').tooltip();\n\n              case 12:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, _this11);\n      }));\n\n      return function (_x12, _x13) {\n        return _ref9.apply(this, arguments);\n      };\n    }());\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.layerMenu.show)?_c('ul',{directives:[{name:\"click-outside-layer-menu\",rawName:\"v-click-outside-layer-menu\",value:(_vm.closeLayerMenu),expression:\"closeLayerMenu\"}],ref:\"layer-menu\",style:({top: _vm.layerMenu.top + 'px', left: _vm.layerMenu.left + 'px' }),attrs:{\"id\":\"layer-menu\",\"tabindex\":\"-1\"}},[_c('li',{staticClass:\"title\"},[_c('div',[_vm._v(_vm._s(_vm.layerMenu.layer.title))]),_vm._v(\" \"),_c('div',{staticStyle:{\"font-weight\":\"normal\",\"font-size\":\"0.8em\"}},[_vm._v(_vm._s(_vm.getGeometryType(_vm.layerMenu.layer.id, _vm.layerMenu.layer.external)))])]),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer)?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"}},[_c('layerspositions',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-between\"},attrs:{\"position\":_vm.layerMenu.layer.position},on:{\"layer-position-change\":function($event){return _vm.changeLayerMapPosition({position:$event, layer: _vm.layerMenu.layer})}}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.metadata && _vm.layerMenu.layer.metadata.abstract)?_c('li',{on:{\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showMetadataInfo(false)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showMetadataInfo(true,  $event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('info')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('Metadata'),expression:\"'Metadata'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerMenu.metadatainfoMenu.show),expression:\"layerMenu.metadatainfoMenu.show\"}],staticStyle:{\"position\":\"fixed\",\"background-color\":\"#FFFFFF\",\"color\":\"#000000\",\"padding-left\":\"0\",\"border-radius\":\"0 3px 3px 0\"},style:({ top: _vm.layerMenu.metadatainfoMenu.top + 'px', left: ((_vm.layerMenu.metadatainfoMenu.left+1) + \"px\") })},[_c('div',{staticClass:\"layer-menu-metadata-info\",staticStyle:{\"padding\":\"5px\"},domProps:{\"innerHTML\":_vm._s(_vm.layerMenu.layer.metadata.abstract)}})])]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.geolayer && _vm.layerMenu.layer.styles && _vm.layerMenu.layer.styles.length > 1)?_c('li',{staticClass:\"menu-icon\",on:{\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showStylesMenu(false,$event)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showStylesMenu(true,$event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('palette')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.styles'),expression:\"'catalog_items.contextmenu.styles'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon\",class:_vm.g3wtemplate.getFontClass('arrow-right'),staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"margin-top\":\"3px\"}}),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerMenu.stylesMenu.show),expression:\"layerMenu.stylesMenu.show\"}],staticStyle:{\"position\":\"fixed\",\"padding-left\":\"0\",\"background-color\":\"#FFFFFF\",\"color\":\"#000000\"},style:({ top: _vm.layerMenu.stylesMenu.top + 'px', left: ((_vm.layerMenu.stylesMenu.left) + \"px\"), maxHeight: _vm.layerMenu.stylesMenu.maxHeight + 'px', overflowY: _vm.layerMenu.stylesMenu.overflowY })},_vm._l((_vm.layerMenu.layer.styles),function(style,index){return _c('li',{key:style.name,on:{\"click\":function($event){$event.stopPropagation();return _vm.setCurrentLayerStyle(index)}}},[(style.current)?_c('span',{class:_vm.g3wtemplate.getFontClass('circle'),staticStyle:{\"font-size\":\"0.8em\"}}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.getStyleName(style)))])])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.geolayer && _vm.layerMenu.layer.visible)?_c('li',{staticClass:\"menu-icon\",staticStyle:{\"padding-right\":\"0\"}},[_c('layer-opacity-picker',{attrs:{\"layer\":_vm.layerMenu.layer},on:{\"init-menu-item\":_vm.addLayerMenuItem,\"show-menu-item\":_vm.showSubMenuContext}})],1):_vm._e(),_vm._v(\" \"),(_vm.canZoom(_vm.layerMenu.layer))?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.zoomToLayer(_vm.layerMenu.layer)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('search')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.zoomtolayer'),expression:\"'catalog_items.contextmenu.zoomtolayer'\"}],staticClass:\"item-text\"})]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.openattributetable)?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.showAttributeTable(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.data_table}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('list')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.open_attribute_table'),expression:\"'catalog_items.contextmenu.open_attribute_table'\"}],staticClass:\"item-text\"})],1):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type !== 'wms')?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();},\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showColorMenu(false,$event)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showColorMenu(true,$event)}}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.vector_color_menu'),expression:\"'catalog_items.contextmenu.vector_color_menu'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('arrow-right'),staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"margin-top\":\"3px\"}}),_vm._v(\" \"),(_vm.layerMenu.colorMenu.show)?_c('ul',{staticStyle:{\"position\":\"fixed\"},style:({ top: _vm.layerMenu.colorMenu.top + 'px', left: _vm.layerMenu.colorMenu.left + 'px' })},[_c('li',{staticStyle:{\"padding\":\"0\"}},[_c('chrome-picker',{ref:\"color_picker\",staticStyle:{\"width\":\"100%\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();},\"hook:beforeDestroy\":_vm.onbeforeDestroyChangeColor,\"input\":_vm.onChangeColor},model:{value:(_vm.layerMenu.colorMenu.color),callback:function ($$v) {_vm.$set(_vm.layerMenu.colorMenu, \"color\", $$v)},expression:\"layerMenu.colorMenu.color\"}})],1)]):_vm._e()]):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type !== 'wms')?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadExternalShapefile(_vm.layerMenu.layer)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.shp}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('shapefile')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.shp'),expression:\"'sdk.catalog.menu.download.shp'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type === 'wms')?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.setwmsopacity'),expression:\"'sdk.catalog.menu.setwmsopacity'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin-left\":\"5px\"}},[_vm._v(_vm._s(_vm.layerMenu.layer.opacity))])]),_vm._v(\" \"),_c('range',{attrs:{\"value\":_vm.layerMenu.layer.opacity,\"min\":0,\"max\":1,\"step\":0.1,\"sync\":true},on:{\"changed\":_vm._hideMenu,\"change-range\":_vm.setWMSOpacity}})],1):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGeoTIFF(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGeoTIFF(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.geotiff}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('geotiff')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.geotiff'),expression:\"'sdk.catalog.menu.download.geotiff'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGeoTIFF(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{staticStyle:{\"position\":\"relative\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGeoTIFF(_vm.layerMenu.layer.id, true)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.geotiff}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('geotiff'),staticStyle:{\"color\":\"#777\"}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('crop'),staticStyle:{\"position\":\"absolute\",\"left\":\"-7px\",\"bottom\":\"8px\",\"font-size\":\"1.2em\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.geotiff_map_extent'),expression:\"'sdk.catalog.menu.download.geotiff_map_extent'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadShp(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadShp(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.shp}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('shapefile')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.shp'),expression:\"'sdk.catalog.menu.download.shp'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGpx(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGpx(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.gpx}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('gpx')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.gpx'),expression:\"'sdk.catalog.menu.download.gpx'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGpkg(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGpkg(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.gpkg}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('gpkg')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.gpkg'),expression:\"'sdk.catalog.menu.download.gpkg'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadCsv(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadCsv(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.csv}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('csv')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.csv'),expression:\"'sdk.catalog.menu.download.csv'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadXls(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadXls(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.xls}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('xls')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.xls'),expression:\"'sdk.catalog.menu.download.xls'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canShowWmsUrl(_vm.layerMenu.layer.id))?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"max-width\":\"300px\",\"align-items\":\"center\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.copyUrl({evt: $event, layerId:_vm.layerMenu.layer.id, type:'Wms'})}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('map')}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline-flex\",\"justify-content\":\"space-between\",\"width\":\"100%\",\"align-items\":\"baseline\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.catalog.menu.wms.copy'),expression:\"'sdk.catalog.menu.wms.copy'\"}],staticClass:\"item-text catalog-menu-wms skin-tooltip-top\",attrs:{\"data-toggle\":\"tooltip\"}},[_vm._v(\"WMS URL\")]),_vm._v(\" \"),_c('span',{staticClass:\"bold catalog-menu-wms wms-url-tooltip skin-tooltip-top skin-color-dark\",class:_vm.g3wtemplate.getFontClass('eye'),attrs:{\"data-placement\":\"top\",\"data-toggle\":\"tooltip\",\"title\":_vm.getWmsUrl(_vm.layerMenu.layer.id)}})])])]):_vm._e(),_vm._v(\" \"),(_vm.canShowWfsUrl(_vm.layerMenu.layer.id))?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"max-width\":\"300px\",\"align-items\":\"center\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.copyUrl({evt: $event, layerId:_vm.layerMenu.layer.id, type:'Wfs'})}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('map')}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline-flex\",\"justify-content\":\"space-between\",\"width\":\"100%\",\"align-items\":\"baseline\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.catalog.menu.wms.copy'),expression:\"'sdk.catalog.menu.wms.copy'\"}],staticClass:\"item-text catalog-menu-wms skin-tooltip-top\",attrs:{\"data-toggle\":\"tooltip\"}},[_vm._v(\"WFS URL\")]),_vm._v(\" \"),_c('span',{staticClass:\"bold catalog-menu-wms wms-url-tooltip skin-tooltip-top skin-color-dark\",class:_vm.g3wtemplate.getFontClass('eye'),attrs:{\"data-placement\":\"top\",\"data-toggle\":\"tooltip\",\"title\":_vm.getWfsUrl(_vm.layerMenu.layer.id)}})])])]):_vm._e()]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-7828b5c0\"\n\n},{\"components/LayerOpacityPicker.vue\":251,\"core/i18n/i18n.service\":13,\"gui/catalog/vue/catalogeventhub\":113,\"gui/table/vue/table\":182,\"services/application\":348,\"services/gui\":358,\"shp-write\":\"shp-write\",\"store/catalog-layers\":371,\"vue-color\":\"vue-color\",\"vueify/lib/insert-css\":1}],198:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".layer-legend[data-v-fc3d03ea]{padding-left:36px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: \"layerlegend\",\n  props: {\n    legendplace: {\n      type: 'String'\n    },\n    layer: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      loading: false,\n\n      categories: [],\n\n      currentstyle: this.layer.styles.find(function (style) {\n        return true === style.current;\n      }).name\n\n    };\n  },\n\n  computed: {\n    showfeaturecount: function showfeaturecount() {\n      return undefined !== this.layer.featurecount;\n    },\n    externallegend: function externallegend() {\n      return 'wms' === this.layer.source.type;\n    },\n    legend: function legend() {\n      return this.layer.legend;\n    },\n    show: function show() {\n      return this.layer.expanded && this.layer.visible && ('toc' === this.legendplace || 'tab' === this.legendplace && this.layer.categories);\n    }\n  },\n\n  methods: {\n    getWmsSourceLayerLegendUrl: function getWmsSourceLayerLegendUrl() {\n      return this.getProjectLayer().getLegendUrl({\n        width: 16,\n        height: 16\n      });\n    },\n    getProjectLayer: function getProjectLayer() {\n      return _catalogLayers2.default.getLayerById(this.layer.id);\n    },\n    isDisabled: function isDisabled(index) {\n      return this.categories[index].disabled;\n    },\n    showHideLayerCategory: function showHideLayerCategory(index) {\n      this.categories[index].checked = !this.categories[index].checked;\n      this.getProjectLayer().change();\n      if ('tab' === this.legendplace) {\n        this.layer.legend.change = true;\n      } else if (this.categories[index].checked && this.mapReady) {\n        this.setLayerCategories(false);\n      }\n    },\n    setError: function setError() {\n      this.legend.error = true;\n      this.legend.loading = false;\n    },\n    urlLoaded: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.legend.loading = false;\n\n              case 1:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function urlLoaded() {\n        return _ref.apply(this, arguments);\n      }\n\n      return urlLoaded;\n    }(),\n    onChangeLayerLegendStyle: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.loading = true;\n\n                if (!this.externallegend) {\n                  _context2.next = 3;\n                  break;\n                }\n\n                return _context2.abrupt('return');\n\n              case 3:\n                if (!(options.layerId === this.layer.id)) {\n                  _context2.next = 16;\n                  break;\n                }\n\n                _context2.prev = 4;\n                _context2.next = 7;\n                return this.setLayerCategories(true);\n\n              case 7:\n                if (!(undefined !== options.style)) {\n                  _context2.next = 11;\n                  break;\n                }\n\n                _context2.next = 10;\n                return this.getProjectLayer().getStyleFeatureCount(options.style);\n\n              case 10:\n                this.currentstyle = options.style;\n\n              case 11:\n                _context2.next = 16;\n                break;\n\n              case 13:\n                _context2.prev = 13;\n                _context2.t0 = _context2['catch'](4);\n\n                console.warn('Error while changing layer style');\n\n              case 16:\n                if (!this.dynamic) {\n                  _context2.next = 19;\n                  break;\n                }\n\n                _context2.next = 19;\n                return this.setLayerCategories(false);\n\n              case 19:\n                this.loading = false;\n\n              case 20:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[4, 13]]);\n      }));\n\n      function onChangeLayerLegendStyle() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return onChangeLayerLegendStyle;\n    }(),\n    setLayerCategories: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var all = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n        var projectLayer, categories, _ref4, _ref4$nodes, nodes;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                projectLayer = this.getProjectLayer();\n                categories = projectLayer.getCategories();\n\n                if (!(all && categories)) {\n                  _context3.next = 7;\n                  break;\n                }\n\n                this.categories = categories;\n                _context3.next = 13;\n                break;\n\n              case 7:\n                _context3.next = 9;\n                return projectLayer.getLegendGraphic({ all: all });\n\n              case 9:\n                _ref4 = _context3.sent;\n                _ref4$nodes = _ref4.nodes;\n                nodes = _ref4$nodes === undefined ? [] : _ref4$nodes;\n\n                if (all) {\n                  this._setAllLayerCategories(nodes);\n                } else {\n                  this._updateLayerCategories(nodes, categories);\n                }\n\n              case 13:\n                _context3.next = 18;\n                break;\n\n              case 15:\n                _context3.prev = 15;\n                _context3.t0 = _context3['catch'](0);\n\n                this.setError();\n\n              case 18:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 15]]);\n      }));\n\n      function setLayerCategories() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return setLayerCategories;\n    }(),\n    _setAllLayerCategories: function _setAllLayerCategories(nodes) {\n      var projectLayer = this.getProjectLayer();\n\n      var categories = [];\n      nodes.forEach(function (_ref5) {\n        var icon = _ref5.icon,\n            title = _ref5.title,\n            ruleKey = _ref5.ruleKey,\n            checked = _ref5.checked,\n            _ref5$symbols = _ref5.symbols,\n            symbols = _ref5$symbols === undefined ? [] : _ref5$symbols;\n\n        if (icon) {\n          categories.push({ icon: icon, title: title, ruleKey: ruleKey, checked: checked, disabled: false });\n        } else {\n          symbols.forEach(function (symbol) {\n            symbol._checked = symbol.checked;\n            symbol.disabled = false;\n            categories.push(symbol);\n          });\n        }\n      });\n      projectLayer.setCategories(categories);\n      this.categories = categories;\n    },\n    _updateLayerCategories: function _updateLayerCategories(nodes, categories) {\n      var projectLayer = this.getProjectLayer();\n\n      projectLayer.setCategories(categories);\n      this.categories = categories;\n\n      if (nodes.length) {\n        nodes.forEach(function (_ref6) {\n          var icon = _ref6.icon,\n              title = _ref6.title,\n              _ref6$symbols = _ref6.symbols,\n              symbols = _ref6$symbols === undefined ? [] : _ref6$symbols;\n\n          if (icon) {\n            symbols = [{ icon: icon, title: title }];\n          }\n          categories.forEach(function (category) {\n            var find = symbols.find(function (symbol) {\n              return symbol.icon === category.icon && symbol.title === category.title;\n            });\n            var disabled = \"undefined\" !== typeof category.checked ? category.checked : true;\n            category.disabled = disabled && !find;\n          });\n        });\n      } else {\n        categories.forEach(function (category) {\n          return category.disabled = \"undefined\" !== typeof category.checked ? category.checked : true;\n        });\n      }\n    }\n  },\n  watch: {\n    'layer.visible': function layerVisible(visible) {\n      if (!this.externallegend && visible) {\n        this.setLayerCategories(!this.dynamic);\n      }\n    }\n  },\n\n  created: function () {\n    var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              this.dynamic = _projects2.default.getCurrentProject().getContextBaseLegend();\n              this.mapReady = false;\n              _catalogeventhub2.default.$on('layer-change-style', this.onChangeLayerLegendStyle);\n\n              if (this.layer.visible && this.layer.source && 'wms' !== this.layer.source.type) {\n                this.setLayerCategories(true).then(function () {\n                  if (_this.dynamic) {\n                    _gui2.default.getService('map').on('change-map-legend-params', _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n                      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                        while (1) {\n                          switch (_context4.prev = _context4.next) {\n                            case 0:\n                              _this.mapReady = true;\n                              if (_this.layer.visible && !_this.externallegend && ('toc' === _this.legendplace || _this.layer.categories)) {\n                                _this.setLayerCategories(false);\n                              }\n\n                            case 2:\n                            case 'end':\n                              return _context4.stop();\n                          }\n                        }\n                      }, _callee4, _this);\n                    })));\n                  }\n                });\n              }\n\n            case 4:\n            case 'end':\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }));\n\n    function created() {\n      return _ref7.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    _catalogeventhub2.default.$off('layer-change-style', this.onChangeLayerLegendStyle);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"layer-legend\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();}}},[(_vm.legend)?_c('bar-loader',{attrs:{\"loading\":_vm.legend.loading}}):_vm._e(),_vm._v(\" \"),(_vm.externallegend)?_c('figure',[_c('img',{attrs:{\"src\":_vm.getWmsSourceLayerLegendUrl()}})]):_c('figure',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.loading),expression:\"loading\"}]},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_vm._l((_vm.categories),function(category,index){return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(category.disabled),expression:\"category.disabled\"}],staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"width\":\"100%\"}},[(category.ruleKey)?_c('span',{class:_vm.g3wtemplate.getFontClass(category.checked ? 'check': 'uncheck'),staticStyle:{\"padding-right\":\"3px\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.showHideLayerCategory(index)}}}):_vm._e(),_vm._v(\" \"),(('toc' === _vm.legendplace))?_c('img',{attrs:{\"src\":category.icon && (\"data:image/png;base64,\" + (category.icon))},on:{\"error\":function($event){return _vm.setError()},\"load\":function($event){return _vm.urlLoaded()}}}):_vm._e(),_vm._v(\" \"),(('tab' === _vm.legendplace && category.ruleKey) || ('toc' === _vm.legendplace))?_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"padding-left\":\"3px\"}},[_c('span',[_vm._v(_vm._s(category.title))]),_vm._v(\" \"),(_vm.showfeaturecount && 'undefined' !== typeof category.ruleKey)?_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"\\n          [\"+_vm._s(_vm.layer.stylesfeaturecount[_vm.currentstyle][category.ruleKey])+\"]\\n        \")]):_vm._e()]):_vm._e()])})],2)],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-fc3d03ea\"\n\n},{\"gui/catalog/vue/catalogeventhub\":113,\"services/gui\":358,\"store/catalog-layers\":371,\"store/projects\":376,\"vueify/lib/insert-css\":1}],199:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: {\n    layersgroup: {\n      type: Object\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"border\":\"1px solid #ffffff33\",\"margin\":\"5px\"}},[_c('h4',{staticStyle:{\"margin\":\"5px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.layersgroup.title))]),_vm._v(\" \"),_vm._l((_vm.layersgroup.nodes),function(node){return _c('tristate-tree',{staticClass:\"item\",attrs:{\"layerstree\":node}})})],2)}\n__vue__options__.staticRenderFns = []\n\n},{}],200:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: ['layerstree', 'legend', 'active'],\n  data: function data() {\n    return {};\n  },\n\n  computed: {\n    visiblelayers: function visiblelayers() {\n      var _visiblelayers = [];\n      var traverse = function traverse(obj) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = obj[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var layer = _step.value;\n\n            if (!_.isNil(layer.id) && layer.visible && layer.geolayer && !layer.exclude_from_legend) {\n              _visiblelayers.push(layer);\n            }\n            if (!_.isNil(layer.nodes)) {\n              traverse(layer.nodes);\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      };\n      traverse(this.layerstree.tree);\n      return _visiblelayers;\n    }\n  },\n  watch: {\n    'layerstree': {\n      handler: function handler(val, old) {},\n\n      deep: true\n    },\n    'visiblelayers': function visiblelayers(visibleLayers) {\n      this.$emit('showlegend', !!visibleLayers.length);\n    }\n  },\n  created: function created() {\n    this.$emit('showlegend', !!this.visiblelayers.length);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-pane\",class:{active:_vm.active},attrs:{\"role\":\"tabpanel\",\"id\":\"legend\"}},[_c('layerslegend-items',{attrs:{\"active\":_vm.active,\"legend\":_vm.legend,\"layers\":_vm.visiblelayers}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],201:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  props: {\n    layers: {\n      default: []\n    },\n    legend: {\n      type: Object\n    },\n    active: {\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      legendurls: []\n    };\n  },\n\n  watch: {\n    layers: {\n      handler: function handler() {\n        this.getLegendSrc();\n      },\n\n      immediate: false\n    },\n\n    active: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(bool) {\n        var changeLayersLegend;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!bool) {\n                  _context.next = 6;\n                  break;\n                }\n\n                changeLayersLegend = this.layers.filter(function (layer) {\n                  return layer.legend.change;\n                });\n\n                if (!(this.legendurls.length === 0 || this.dynamic || changeLayersLegend.length)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 5;\n                return this.getLegendSrc(this.layers);\n\n              case 5:\n                changeLayersLegend.forEach(function (layer) {\n                  return layer.legend.change = false;\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function active(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return active;\n    }()\n  },\n  methods: {\n    setError: function setError(legendurl) {\n      legendurl.error = true;\n      legendurl.loading = false;\n    },\n    urlLoaded: function urlLoaded(legendurl) {\n      legendurl.loading = false;\n    },\n    getLegendUrl: function getLegendUrl(layer) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var catalogLayer = _catalogLayers2.default.getLayerById(layer.id);\n      if (catalogLayer) {\n        return catalogLayer.getLegendUrl(params, {\n          all: !this.dynamic,\n          format: 'image/png',\n          categories: layer.categories\n        });\n      }\n    },\n    getLegendUrlParams: function getLegendUrlParams() {\n      var urlLayerName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var paramsUrl = '';\n      var params = {\n        LAYERS: [],\n        STYLES: [],\n        LEGEND_ON: [],\n        LEGEND_OFF: []\n      };\n\n      urlLayerName.reduce(function (_, layer) {\n        params.LAYERS.push(layer.layerName);\n        params.STYLES.push(layer.style);\n        if (layer.legend_on) {\n          params.LEGEND_ON.push(layer.legend_on);\n        }\n        if (layer.legend_off) {\n          params.LEGEND_OFF.push(layer.legend_off);\n        }\n        return params;\n      }, params);\n\n      paramsUrl += 'LAYERS=' + encodeURIComponent(params.LAYERS.join(','));\n      paramsUrl += '&STYLES=' + encodeURIComponent(params.STYLES.join(','));\n\n      if (params.LEGEND_ON.length) {\n        paramsUrl += '&LEGEND_ON=' + encodeURIComponent(params.LEGEND_ON.join(','));\n      }\n\n      if (params.LEGEND_OFF.length) {\n        paramsUrl += '&LEGEND_OFF=' + encodeURIComponent(params.LEGEND_OFF.join(','));\n      }\n\n      if (_application2.default.getFilterToken()) {\n        paramsUrl += '&filtertoken=' + _application2.default.getFilterToken();\n      }\n\n      return paramsUrl;\n    },\n    getLegendSrc: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var _this = this;\n\n        var urlMethodsLayersName, self, layers, i, layer, style, urlLayersName, url, prefix, legend_on, legend_off, _url$split, _url$split2, _prefix$split, _prefix$split2, _prefix$split3, _prefix$split4, method, _urlLayersName, _url2, _loop, _url3;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.legendurls = [];\n\n                _context2.next = 3;\n                return this.$nextTick();\n\n              case 3:\n                if (this.active) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                return _context2.abrupt('return');\n\n              case 5:\n                urlMethodsLayersName = {\n                  GET: {},\n                  POST: {}\n                };\n                self = this;\n                layers = this.layers.filter(function (layer) {\n                  return layer.geolayer;\n                });\n                i = 0;\n\n              case 9:\n                if (!(i < layers.length)) {\n                  _context2.next = 20;\n                  break;\n                }\n\n                layer = layers[i];\n                style = Array.isArray(layer.styles) && layer.styles.find(function (style) {\n                  return style.current;\n                });\n                urlLayersName = layer.source && layer.source.url || layer.external ? urlMethodsLayersName.GET : urlMethodsLayersName[layer.ows_method];\n                url = '' + this.getLegendUrl(layer, this.legend.config);\n\n                if (!(\"undefined\" === typeof url)) {\n                  _context2.next = 16;\n                  break;\n                }\n\n                return _context2.abrupt('continue', 17);\n\n              case 16:\n                if (layer.source && layer.source.url) {\n                  urlLayersName[url] = [];\n                } else {\n                  prefix = void 0, legend_on = void 0, legend_off = void 0;\n                  _url$split = url.split('LAYER=');\n                  _url$split2 = _slicedToArray(_url$split, 2);\n                  prefix = _url$split2[0];\n                  layerName = _url$split2[1];\n                  _prefix$split = prefix.split('LEGEND_ON=');\n                  _prefix$split2 = _slicedToArray(_prefix$split, 2);\n                  prefix = _prefix$split2[0];\n                  legend_on = _prefix$split2[1];\n                  _prefix$split3 = prefix.split('LEGEND_OFF=');\n                  _prefix$split4 = _slicedToArray(_prefix$split3, 2);\n                  prefix = _prefix$split4[0];\n                  legend_off = _prefix$split4[1];\n\n\n                  if (!urlLayersName[prefix]) {\n                    urlLayersName[prefix] = [];\n                  }\n\n                  urlLayersName[prefix].unshift({\n                    layerName: layerName,\n                    style: style && style.name,\n                    legend_on: (legend_on || '').replace('&', ''),\n                    legend_off: (legend_off || '').replace('&', '') });\n                }\n\n              case 17:\n                i++;\n                _context2.next = 9;\n                break;\n\n              case 20:\n                for (method in urlMethodsLayersName) {\n                  _urlLayersName = urlMethodsLayersName[method];\n\n                  if ('GET' === method) {\n                    for (_url2 in _urlLayersName) {\n                      if (_urlLayersName[_url2].length) {\n                        _url2 += '' + this.getLegendUrlParams(_urlLayersName[_url2]);\n                      }\n                      this.legendurls.push({\n                        loading: true,\n                        error: false,\n                        url: _url2\n                      });\n                    }\n                  } else {\n                    _loop = function _loop(_url3) {\n                      var xhr = new XMLHttpRequest();\n                      var econdedParams = [];\n\n                      var _url3$split = _url3.split('?'),\n                          _url3$split2 = _slicedToArray(_url3$split, 2),\n                          _url = _url3$split2[0],\n                          params = _url3$split2[1];\n\n                      params = params.split('&');\n\n                      params.forEach(function (param) {\n                        var _param$split = param.split('='),\n                            _param$split2 = _slicedToArray(_param$split, 2),\n                            key = _param$split2[0],\n                            value = _param$split2[1];\n\n                        if (key) {\n                          econdedParams.push(key + '=' + encodeURIComponent(value));\n                        }\n                      });\n\n                      params = econdedParams.join('&') + '&' + _this.getLegendUrlParams(_urlLayersName[_url3]);\n\n                      var legendUrlObject = {\n                        loading: true,\n                        url: null,\n                        error: false\n                      };\n\n                      xhr.open('POST', _url);\n                      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n                      xhr.responseType = 'blob';\n\n                      self.legendurls.push(legendUrlObject);\n\n                      xhr.onload = function () {\n                        if (undefined !== this.response) {\n                          legendUrlObject.url = window.URL.createObjectURL(this.response);\n                        }\n                        legendUrlObject.loading = false;\n                      };\n\n                      xhr.onerror = function () {\n                        legendUrlObject.loading = false;\n                      };\n\n                      xhr.send(params);\n                    };\n\n                    for (_url3 in _urlLayersName) {\n                      _loop(_url3);\n                    }\n                  }\n                }\n\n              case 21:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getLegendSrc() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return getLegendSrc;\n    }()\n  },\n\n  created: function created() {\n    var _this2 = this;\n\n    this.dynamic = _projects2.default.getCurrentProject().getContextBaseLegend();\n    this.mapReady = false;\n\n    _catalogeventhub2.default.$on('layer-change-style', function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _this2.getLegendSrc();\n    });\n  },\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              if (this.dynamic) {\n                _gui2.default.getService('map').on('change-map-legend-params', function () {\n                  _this3.mapReady = true;\n                  _this3.getLegendSrc();\n                });\n              } else {\n                this.mapReady = true;\n              }\n\n            case 3:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"legend-item\"},_vm._l((_vm.legendurls),function(legendurl){return _c('figure',[_c('bar-loader',{attrs:{\"loading\":legendurl.loading}}),_vm._v(\" \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!legendurl.loading && !legendurl.error),expression:\"!legendurl.loading && !legendurl.error\"}],attrs:{\"src\":legendurl.url},on:{\"error\":function($event){return _vm.setError(legendurl)},\"load\":function($event){return _vm.urlLoaded(legendurl)}}}),_vm._v(\" \"),_c('span',{staticClass:\"divider\"})],1)}),0)}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/catalog/vue/catalogeventhub\":113,\"services/application\":348,\"services/gui\":358,\"store/catalog-layers\":371,\"store/projects\":376}],202:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _CatalogLayerLegend = require('components/CatalogLayerLegend.vue');\n\nvar _CatalogLayerLegend2 = _interopRequireDefault(_CatalogLayerLegend);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    downloadFile = _require.downloadFile;\n\nvar CLICK_EVENT = {\n  count: 0,\n  timeoutID: null, handleClick: function handleClick(callback, context) {\n    CLICK_EVENT.count += 1;\n    if (!CLICK_EVENT.timeoutID) {\n      CLICK_EVENT.timeoutID = setTimeout(function () {\n        callback.call(context);\n        CLICK_EVENT.reset();\n      }, 300);\n    }\n  },\n  reset: function reset() {\n    CLICK_EVENT.count = 0;\n    CLICK_EVENT.timeoutID = null;\n  }\n};\n\nexports.default = {\n  props: ['layerstree', 'storeid', 'legend', 'legendplace', 'highlightlayers', 'parent_mutually_exclusive', 'parentFolder', 'externallayers', 'root', 'parent'],\n  components: {\n    'layerlegend': _CatalogLayerLegend2.default\n  },\n  data: function data() {\n    return {\n      expanded: this.layerstree.expanded,\n      isGroupChecked: true,\n      controltoggled: false,\n      n_childs: null,\n      filtered: false\n    };\n  },\n\n  computed: {\n    showfeaturecount: function showfeaturecount() {\n      return \"undefined\" !== typeof this.layerstree.featurecount;\n    },\n    showLegendLayer: function showLegendLayer() {\n      return !this.layerstree.exclude_from_legend;\n    },\n    showLayerTocLegend: function showLayerTocLegend() {\n      return !this.isGroup && this.showLegendLayer && this.layerstree.geolayer;\n    },\n    isGroup: function isGroup() {\n      return !!this.layerstree.nodes;\n    },\n    legendlayerposition: function legendlayerposition() {\n      return this.showLegendLayer && this.layerstree.legend ? this.legendplace : 'tab';\n    },\n    showscalevisibilityclass: function showscalevisibilityclass() {\n      return !this.isGroup && this.layerstree.scalebasedvisibility;\n    },\n    showScaleVisibilityToolip: function showScaleVisibilityToolip() {\n      return this.showscalevisibilityclass && this.layerstree.disabled && this.layerstree.checked;\n    },\n    isTable: function isTable() {\n      return !this.isGroup && !this.layerstree.geolayer && !this.layerstree.external;\n    },\n    isHidden: function isHidden() {\n      return this.layerstree.hidden && true === this.layerstree.hidden;\n    },\n    selected: function selected() {\n      this.layerstree.selected = this.layerstree.disabled && this.layerstree.selected ? false : this.layerstree.selected;\n    },\n    isHighLight: function isHighLight() {\n      return this._isHighLightProjectLayer || this._isHighLightExternalLayer;\n    },\n    isInGrey: function isInGrey() {\n      return !this.isGroup && !this.isTable && !this.layerstree.external && (!this.layerstree.visible || this.layerstree.disabled);\n    },\n    getFeatureCount: function getFeatureCount() {\n      return Object.values(this.layerstree.featurecount).reduce(function (total, categoryFeatureCount) {\n        return total + 1 * categoryFeatureCount;\n      }, 0);\n    },\n    _isHighLightProjectLayer: function _isHighLightProjectLayer() {\n      return this.highlightlayers && !this.isGroup && _catalogLayers2.default.getLayerById(this.layerstree.id).getTocHighlightable() && this.layerstree.visible;\n    },\n    _isHighLightExternalLayer: function _isHighLightExternalLayer() {\n      return this.layerstree.external && this.layerstree.visible && \"vector\" && this.layerstree._type && true === this.layerstree.tochighlightable;\n    }\n  },\n  watch: {\n    'layerstree.disabled': function layerstreeDisabled(bool) {},\n    'layerstree.checked': function layerstreeChecked(n, o) {\n      if (this.isGroup) {\n        this.handleGroupChecked(this.layerstree);\n      } else {\n        this.handleLayerChecked(this.layerstree);\n      }\n    }\n  },\n  methods: {\n    init: function init() {\n      var _this = this;\n\n      if (this.isGroup && !this.layerstree.checked) {\n        this.handleGroupChecked(this.layerstree);\n      }\n      if (this.isGroup && !this.root) {\n        this.layerstree.nodes.forEach(function (node) {\n          if (node.id && _this.parent_mutually_exclusive && !_this.layerstree.mutually_exclusive) {\n            node.uncheckable = true;\n          }\n        });\n      }\n    },\n    handleGroupChecked: function handleGroupChecked(group) {\n      var checked = group.checked,\n          parentGroup = group.parentGroup,\n          nodes = group.nodes;\n\n      var setAllLayersVisible = function setAllLayersVisible(_ref) {\n        var nodes = _ref.nodes,\n            visible = _ref.visible;\n\n        nodes.forEach(function (node) {\n          if (undefined !== node.id) {\n            if (node.parentGroup.checked && node.checked) {\n              _catalogLayers2.default.getLayerById(node.id).setVisible(visible);\n            }\n          } else {\n            setAllLayersVisible({ nodes: node.nodes, visible: visible && node.checked });\n          }\n        });\n      };\n      if (checked) {\n        var visible = parentGroup ? parentGroup.checked : true;\n        if (parentGroup && parentGroup.mutually_exclusive) {\n          parentGroup.nodes.forEach(function (node) {\n            node.checked = node.groupId === group.groupId;\n            if (node.checked) {\n              setAllLayersVisible({ nodes: node.nodes, visible: visible });\n            }\n          });\n        } else {\n          setAllLayersVisible({ nodes: nodes, visible: visible });\n        }\n        while (parentGroup) {\n          parentGroup.checked = parentGroup.root || parentGroup.checked;\n          parentGroup = parentGroup.parentGroup;\n        }\n      } else {\n        nodes.forEach(function (node) {\n          if (undefined !== node.id) {\n            if (node.checked) {\n              _catalogLayers2.default.getLayerById(node.id).setVisible(false);\n            }\n          } else {\n            setAllLayersVisible({ nodes: node.nodes, visible: false });\n          }\n        });\n      }\n    },\n    handleLayerChecked: function handleLayerChecked(layerObject) {\n      var checked = layerObject.checked,\n          id = layerObject.id,\n          disabled = layerObject.disabled,\n          _layerObject$projectL = layerObject.projectLayer,\n          projectLayer = _layerObject$projectL === undefined ? false : _layerObject$projectL,\n          parentGroup = layerObject.parentGroup;\n\n      if (!projectLayer) {\n        layerObject.visible = checked;\n        _gui2.default.getService('map').changeLayerVisibility({ id: id, visible: checked });\n      } else {\n          var layer = _catalogLayers2.default.getLayerById(id);\n          if (checked) {\n            var visible = layer.setVisible(!disabled);\n            if (visible && 'toc' === this.legendplace) {\n              setTimeout(function () {\n                return _catalogeventhub2.default.$emit('layer-change-style', { layerId: id });\n              });\n            }\n            if (parentGroup.mutually_exclusive) {\n              parentGroup.nodes.forEach(function (node) {\n                return node.checked = node.id === id;\n              });\n            }\n            while (parentGroup) {\n              parentGroup.checked = true;\n              parentGroup = parentGroup.parentGroup;\n            }\n          } else {\n            layer.setVisible(false);\n          }\n          _catalogeventhub2.default.$emit('treenodevisible', layer);\n        }\n    },\n    toggleFilterLayer: function toggleFilterLayer() {\n      _catalogeventhub2.default.$emit('activefiltertokenlayer', this.storeid, this.layerstree);\n    },\n    clearSelection: function clearSelection() {\n      _catalogeventhub2.default.$emit('unselectionlayer', this.storeid, this.layerstree);\n    },\n    toggle: function toggle() {\n      this.layerstree.checked = !this.layerstree.checked;\n    },\n    expandCollapse: function expandCollapse() {\n      this.layerstree.expanded = !this.layerstree.expanded;\n    },\n    select: function select() {\n      if (this.layerstree.external && 'undefined' !== typeof this.layerstree.selected) {\n        _catalogeventhub2.default.$emit('treenodeexternalselected', this.layerstree);\n      } else if (!this.isGroup && !this.isTable) {\n        _catalogeventhub2.default.$emit('treenodeselected', this.storeid, this.layerstree);\n      }\n    },\n    zoomToLayer: function zoomToLayer(layer) {\n      _gui2.default.getService('map').goToBBox([layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy], layer.epsg);\n    },\n    canZoom: function canZoom(layer) {\n      return layer.bbox && [layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy].find(function (coordinate) {\n        return coordinate > 0;\n      });\n    },\n    onTreeItemClick: function onTreeItemClick() {\n      var _this2 = this;\n\n      if (this.isGroup || this.isTable) {\n        return;\n      }\n      CLICK_EVENT.handleClick(function () {\n        switch (CLICK_EVENT.count) {\n          case 1:\n            _this2.select();break;\n          case 2:\n            _this2.canZoom(_this2.layerstree) && _this2.zoomToLayer(_this2.layerstree);break;\n        }\n      }, this);\n    },\n    triClass: function triClass() {\n      return this.g3wtemplate.getFontClass(this.layerstree.checked ? 'check' : 'uncheck');\n    },\n    downloadExternalLayer: function downloadExternalLayer(download) {\n      if (download.file) {\n        downloadFile(download.file);\n      } else if (download.url) {}\n    },\n    removeExternalLayer: function removeExternalLayer(name, type) {\n      _gui2.default.getService('map').removeExternalLayer(name, wms);\n    },\n    showLayerMenu: function showLayerMenu(layerstree, evt) {\n      if (!this.isGroup && (this.layerstree.openattributetable || this.layerstree.downloadable || this.layerstree.geolayer || this.layerstree.external)) {\n        _catalogeventhub2.default.$emit('showmenulayer', layerstree, evt);\n      }\n    }\n  },\n\n  created: function created() {\n    this.init();\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('span.scalevisibility').tooltip();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"tree-item\",class:{\n    selected: !_vm.isGroup || !_vm.isTable ? _vm.layerstree.selected : false,\n    itemmarginbottom: !_vm.isGroup,\n    disabled: _vm.isInGrey, group: _vm.isGroup\n  },style:({\n    marginLeft: !_vm.isGroup ? '5px' : '0'\n  }),on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.showLayerMenu(_vm.layerstree, $event)},\"click\":function($event){$event.stopPropagation();return _vm.onTreeItemClick($event)}}},[(_vm.isGroup)?_c('span',{staticClass:\"root collapse-expande-collapse-icon\",class:[\n      { bold : _vm.isGroup },\n       _vm.g3wtemplate.getFontClass(_vm.layerstree.expanded ? 'caret-down' : 'caret-right')\n    ],staticStyle:{\"padding-right\":\"2px\"},on:{\"click\":_vm.expandCollapse}}):_vm._e(),_vm._v(\" \"),(_vm.isGroup)?_c('span',{class:[_vm.triClass()],staticStyle:{\"color\":\"#ffffff\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle()}}}):(_vm.isTable)?_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden),expression:\"!layerstree.hidden\"}],class:[\n      _vm.parentFolder ? 'child' : 'root',\n      _vm.g3wtemplate.getFontClass('table')\n    ],staticStyle:{\"padding-left\":\"18px\"}}):[(_vm.layerstree.external && _vm.layerstree.removable)?_c('span',{class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\",\"padding-left\":\"1px\"},on:{\"click\":function($event){return _vm.removeExternalLayer(_vm.layerstree.name, _vm.layerstree._type)}}}):_vm._e(),_vm._v(\" \"),(_vm.layerstree.external && _vm.layerstree.download)?_c('span',{class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"color\":\"#ffffff\",\"margin-left\":\"5px\"},on:{\"click\":function($event){return _vm.downloadExternalLayer(_vm.layerstree.download)}}}):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden),expression:\"!layerstree.hidden\"}],staticClass:\"checkbox-layer\",class:_vm.parentFolder ? 'child' : 'root'},[('toc' === _vm.legendlayerposition || !_vm.isGroup && _vm.layerstree.categories)?_c('span',{staticClass:\"collapse-expande-collapse-icon\",class:_vm.g3wtemplate.getFontClass(_vm.layerstree.visible && _vm.layerstree.expanded ? 'caret-down' : 'caret-right'),on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }$event.stopPropagation();return _vm.expandCollapse($event)}}}):_vm._e(),_vm._v(\" \"),_c('span',{class:[\n          _vm.g3wtemplate.getFontClass(_vm.layerstree.checked ? 'check': 'uncheck'),\n          { 'toc-added-external-layer': (!_vm.layerstree.legend && _vm.layerstree.external) }\n        ],style:({\n          paddingLeft: ('toc' === _vm.legendlayerposition)\n            ? '5px'\n            : !_vm.isGroup && _vm.layerstree.categories\n              ? '5px'\n              : (!_vm.layerstree.legend && _vm.layerstree.external)\n                ? '1px'\n                : '18px'\n        }),on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle()}}})])],_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden || _vm.isGroup),expression:\"!layerstree.hidden || isGroup\"}],staticClass:\"tree-node-title\",class:{\n      disabled: !_vm.layerstree.external && (_vm.layerstree.disabled || (_vm.layerstree.id && !_vm.layerstree.visible)),\n      bold: _vm.isGroup\n    }},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.text\",value:(_vm.showScaleVisibilityToolip ? (\"minscale:\" + (_vm.layerstree.minscale) + \" - maxscale:\" + (_vm.layerstree.maxscale)) : ''),expression:\"showScaleVisibilityToolip ? `minscale:${layerstree.minscale} - maxscale:${layerstree.maxscale}` : ''\",modifiers:{\"text\":true}}],staticClass:\"skin-tooltip-top g3w-long-text\",class:{\n        highlightlayer: _vm.isHighLight,\n        scalevisibility: _vm.showscalevisibilityclass\n      },attrs:{\"data-placement\":\"top\",\"current-tooltip\":_vm.showScaleVisibilityToolip ? (\"minscale:\" + (_vm.layerstree.minscale) + \" - maxscale: \" + (_vm.layerstree.maxscale)) : ''}},[_c('span',[_vm._v(_vm._s(_vm.layerstree.title))]),_vm._v(\" \"),(!_vm.isGroup && _vm.showfeaturecount)?_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"[\"+_vm._s(_vm.getFeatureCount)+\"]\")]):_vm._e()]),_vm._v(\" \"),((!_vm.isGroup && _vm.layerstree.selection))?_c('div',[(_vm.layerstree.selection.active)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.clear'),expression:\"'layer_selection_filter.tools.clear'\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left selection-filter-icon\",class:_vm.g3wtemplate.getFontClass('success'),attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"caputure\",undefined,$event.key,undefined)){ return null; }$event.preventDefault();$event.stopPropagation();return _vm.clearSelection($event)}}}):_vm._e(),_vm._v(\" \"),(!_vm.layerstree.external && (_vm.layerstree.selection.active || _vm.layerstree.filter.active))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left selection-filter-icon\",class:[_vm.g3wtemplate.getFontClass('filter'), _vm.layerstree.filter.active ? 'active' : ''],attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"caputure\",undefined,$event.key,undefined)){ return null; }$event.preventDefault();$event.stopPropagation();return _vm.toggleFilterLayer($event)}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),(_vm.showLayerTocLegend)?_c('layerlegend',{attrs:{\"legendplace\":_vm.legendplace,\"layer\":_vm.layerstree}}):_vm._e(),_vm._v(\" \"),(_vm.isGroup)?_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerstree.expanded),expression:\"layerstree.expanded\"}],staticClass:\"tree-content-items group\",class:[(\"g3w-lendplace-\" + _vm.legendplace)]},_vm._l((_vm.layerstree.nodes),function(_layerstree){return _c('span',{key:_layerstree.id || _layerstree.groupId},[_c('tristate-tree',{attrs:{\"root\":false,\"legendConfig\":_vm.legend,\"legendplace\":_vm.legendplace,\"highlightlayers\":_vm.highlightlayers,\"parentFolder\":_vm.isGroup,\"layerstree\":_layerstree,\"storeid\":_vm.storeid,\"parent\":_vm.layerstree,\"parent_mutually_exclusive\":!!_vm.layerstree.mutually_exclusive}})],1)}),0):_vm._e()],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/CatalogLayerLegend.vue\":198,\"core/utils/utils\":67,\"gui/catalog/vue/catalogeventhub\":113,\"services/gui\":358,\"store/catalog-layers\":371}],203:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field[data-v-6783d4c4]{background-color:transparent!important;padding-top:3px;padding-bottom:3px;display:flex;align-items:center}.value[data-v-6783d4c4]{position:relative}.field div[data-v-6783d4c4]{padding-left:3px;padding-right:3px}.field_value[data-v-6783d4c4]{padding-left:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"field\",\n  props: ['state']\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field\",style:({fontSize: _vm.isMobile() && '0.8em'})},[(_vm.state.label)?_c('div',{staticClass:\"col-sm-6  field_label\"},[_vm._t(\"label\",[_vm._v(_vm._s(_vm.state.label))])],2):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"field_value\",class:[_vm.state.label ? 'col-sm-6' : null ]},[_vm._t(\"field\",[_c('span',{staticStyle:{\"word-wrap\":\"break-word\"},domProps:{\"innerHTML\":_vm._s(_vm.state.value)}})])],2)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-6783d4c4\"\n\n},{\"vueify/lib/insert-css\":1}],204:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar fieldsService = require('gui/fields/fieldsservice');\nvar Fields = require('gui/fields/fields');\n\nexports.default = {\n  name: \"g3w-field\",\n  props: {\n    state: {\n      required: true\n    },\n    feature: {\n      type: Object\n    }\n  },\n  components: _extends({}, Fields),\n  created: function created() {\n    this.type = fieldsService.getType(this.state);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.type,{tag:\"component\",attrs:{\"feature\":_vm.feature,\"state\":_vm.state}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-46843712\"\n\n},{\"gui/fields/fields\":118,\"gui/fields/fieldsservice\":119}],205:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".show-hide-geo[data-v-3362679d]{color:#3c8dbc;cursor:pointer;font-size:1.2em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-geospatial\",\n  props: {\n    data: {}\n  },\n  mixins: [_mixins.geoMixin],\n  data: function data() {\n    return {\n      layerId: 'table_layer_' + Date.now(),\n      visible: false,\n      id: 'geo_table_' + Date.now()\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"geo-content\"},[_c('span',{staticClass:\"show-hide-geo\",class:[_vm.visible ? _vm.g3wtemplate.font['eye-close'] : _vm.g3wtemplate.font['eye']],on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayer()}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-3362679d\"\n\n},{\"mixins\":340,\"vueify/lib/insert-css\":1}],206:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".img-responsive[data-v-70d2a0b2]{cursor:pointer}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nexports.default = {\n  name: \"image\",\n  props: ['state'],\n  data: function data() {\n    return {\n      galleryId: 'gallery_' + Date.now(),\n      active: null,\n      value: this.state.value.mime_type !== undefined ? this.state.value.value : this.state.value\n    };\n  },\n\n  components: {\n    Field: _Field2.default\n  },\n  computed: {\n    values: function values() {\n      return Array.isArray(this.value) ? this.value : [this.value];\n    }\n  },\n  methods: {\n    getSrc: function getSrc(value) {\n      return toRawType(value) === 'Object' ? value.photo : value;\n    },\n    showGallery: function showGallery(index) {\n      this.active = index;\n      if (toRawType(this.value) === 'Object') this.value.active = true;\n      $('#' + this.galleryId).modal('show');\n    },\n    getGalleryImages: function getGalleryImages() {\n      var _this = this;\n\n      return this.values.map(function (image) {\n        return { src: _this.getSrc(image) };\n      });\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('div',{staticStyle:{\"text-align\":\"left\"},attrs:{\"slot\":\"field\"},slot:\"field\"},[_vm._l((_vm.values),function(value,index){return _c('img',{staticClass:\"img-responsive\",staticStyle:{\"max-height\":\"50px\"},attrs:{\"src\":_vm.getSrc(value)},on:{\"click\":function($event){return _vm.showGallery(index)}}})}),_vm._v(\" \"),_c('g3w-images-gallery',{attrs:{\"id\":_vm.galleryId,\"active\":_vm.active,\"images\":_vm.getGalleryImages()}})],2)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-70d2a0b2\"\n\n},{\"components/Field.vue\":203,\"core/utils/utils\":67,\"vueify/lib/insert-css\":1}],207:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field_link[data-v-156f65de]{max-width:100%}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"link\",\n  props: ['state'],\n  data: function data() {\n    return {\n      value: null\n    };\n  },\n\n  components: {\n    Field: _Field2.default\n  },\n  methods: {\n    openLink: function openLink(link_url) {\n      window.open(link_url, '_blank');\n    }\n  },\n  created: function created() {\n    this.value = this.state.value && _typeof(this.state.value) === 'object' ? this.state.value.value : this.state.value;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('info.link_button'),expression:\"'info.link_button'\"}],staticClass:\"btn skin-button field_link\",attrs:{\"slot\":\"field\"},on:{\"click\":function($event){return _vm.openLink(_vm.value)}},slot:\"field\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-156f65de\"\n\n},{\"components/Field.vue\":203,\"vueify/lib/insert-css\":1}],208:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-media\",\n  mixins: [_mixins.mediaMixin],\n  props: ['state'],\n  computed: {\n    type: function type() {\n      return this.getMediaType(this.state.mime_type).type;\n    },\n    value: function value() {\n      return this.state.value;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.value)?_c('div',{staticClass:\"preview\"},[_c('a',{attrs:{\"href\":_vm.value,\"target\":\"_blank\"}},[_c('div',{staticClass:\"previewtype\",class:_vm.type},[_c('i',{staticClass:\"fa-2x\",class:_vm.g3wtemplate.font[_vm.type]})])]),_vm._v(\" \"),_c('div',{staticClass:\"filename\"},[_vm._v(_vm._s(_vm.filename))]),_vm._v(\" \"),_vm._t(\"default\")],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-7b8309b0\"\n\n},{\"mixins\":340}],209:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field_text_table[data-v-db21acde]{background-color:transparent!important}.field_text_table .field_label[data-v-db21acde]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"text\",\n  props: ['state'],\n  components: {\n    Field: _Field2.default\n  },\n  created: function created() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-db21acde\"\n\n},{\"components/Field.vue\":203,\"vueify/lib/insert-css\":1}],210:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require(\"components/Field.vue\");\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"vuefield\",\n  props: {\n    feature: {\n      type: Object\n    },\n    state: {\n      type: Object,\n      default: {\n        value: null,\n        vueoptions: {\n          component: {}\n        }\n      }\n    }\n  },\n  components: {\n    Field: _Field2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"field\"},slot:\"field\"},[_c(_vm.state.vueoptions.component,{tag:\"component\",attrs:{\"feature\":_vm.feature,\"value\":_vm.state.value}})],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-67a07f52\"\n\n},{\"components/Field.vue\":203}],211:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _floatbar = require(\"services/floatbar\");\n\nvar _floatbar2 = _interopRequireDefault(_floatbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"Floatbar\",\n  data: function data() {\n    return {\n      stack: _floatbar2.default.stack.state\n    };\n  },\n\n  computed: {\n    panelsinstack: function panelsinstack() {\n      return this.stack.contentsdata.length > 0;\n    },\n    panelname: function panelname() {\n      var name = void 0;\n      if (this.stack.contentsdata.length) {\n        name = this.stack.contentsdata.slice(-1)[0].content.getTitle();\n      }\n      return name;\n    },\n    closable: function closable() {\n      return _floatbar2.default.closable;\n    }\n  },\n  watch: {\n    \"stack.contentsdata\": function stackContentsdata() {\n      var children = $(\"#g3w-floatbarpanel-placeholder\").children();\n      children.forEach(function (child, index) {\n        if (index == children.length - 1) $(child).show();else $(child).hide();\n      });\n    }\n  },\n  methods: {\n    closePanel: function closePanel() {\n      _floatbar2.default.closePanel();\n    }\n  }\n\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"control-sidebar control-sidebar-light\"},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"floatbar-aside-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"control-sidebar\",\"role\":\"button\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Expand\")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\"},attrs:{\"id\":\"floatbar-spinner\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"g3w-sidebarpanel\"},[(_vm.closable)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-12 col-sm-12 col-md-12\"},[_c('button',{staticClass:\"pull-right close-panel-button\",class:_vm.g3wtemplate.getFontClass('close'),on:{\"click\":_vm.closePanel}})])]):_vm._e(),_vm._v(\" \"),(_vm.panelname)?_c('div',[_c('h4',{staticClass:\"g3w-floatbarpanel-name\"},[_vm._v(_vm._s(_vm.panelname))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"g3w-floatbarpanel-placeholder\",attrs:{\"id\":\"g3w-floatbarpanel-placeholder\"}})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-29b017dd\"\n\n},{\"services/floatbar\":357}],212:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FormHeader = require('components/FormHeader.vue');\n\nvar _FormHeader2 = _interopRequireDefault(_FormHeader);\n\nvar _FormFooter = require('components/FormFooter.vue');\n\nvar _FormFooter2 = _interopRequireDefault(_FormFooter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: {},\n      switchcomponent: false,\n      body: {\n        components: {\n          before: [],\n          after: []\n        }\n      }\n    };\n  },\n\n  components: {\n    g3wformheader: _FormHeader2.default,\n    G3wFormFooter: _FormFooter2.default\n  },\n  transitions: { 'addremovetransition': 'showhide' },\n  methods: {\n    isRootComponent: function isRootComponent(component) {\n      return this.$options.service.isRootComponent(component);\n    },\n    backToRoot: function backToRoot() {\n      this.$options.service.setRootComponent();\n    },\n    handleRelation: function handleRelation(relationId) {\n      this.$options.service.handleRelation(relationId);\n    },\n    disableComponent: function disableComponent(_ref) {\n      var id = _ref.id,\n          _ref$disabled = _ref.disabled,\n          disabled = _ref$disabled === undefined ? false : _ref$disabled;\n\n      this.$options.service.disableComponent({\n        id: id,\n        disabled: disabled\n      });\n    },\n    resizeForm: function resizeForm(perc) {\n      this.$options.service.setCurrentFormPercentage(perc);\n    },\n    switchComponent: function switchComponent(id) {\n      this.switchcomponent = true;\n      this.$options.service.setCurrentComponentById(id);\n    },\n    changeInput: function changeInput(input) {\n      return this.$options.service.changeInput(input);\n    },\n    addToValidate: function addToValidate(input) {\n      this.$options.service.addToValidate(input);\n    },\n    removeToValidate: function removeToValidate(input) {\n      this.$options.service.removeToValidate(input);\n    },\n    reloadLayout: function reloadLayout() {\n      var height = $(this.$el).height();\n      if (!height) return;\n      var footerDOM = $(this.$refs.g3w_form_footer.$el);\n      var bodyFromDOM = $(this.$refs.g3wform_body);\n      var footerHeight = footerDOM.height() ? footerDOM.height() + 50 : 50;\n      var bodyHeight = height - ($(this.$refs.g3wformheader.$el).height() + footerHeight);\n      bodyFromDOM.height(bodyHeight);\n    }\n  },\n  updated: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.switchcomponent && setTimeout(function () {\n                return _this.switchcomponent = false;\n              }, 0);\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function updated() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return updated;\n  }(),\n  created: function created() {\n    var _this2 = this;\n\n    this.$options.service.getEventBus().$on('set-main-component', function () {\n      _this2.switchComponent(0);\n    });\n    this.$options.service.getEventBus().$on('component-validation', function (_ref3) {\n      var id = _ref3.id,\n          valid = _ref3.valid;\n\n      _this2.$options.service.setValidComponent({\n        id: id,\n        valid: valid\n      });\n    });\n    this.$options.service.getEventBus().$on('addtovalidate', this.addToValidate);\n    this.$options.service.getEventBus().$on('disable-component', this.disableComponent);\n  },\n  mounted: function mounted() {\n    this.$options.service.isValid();\n    this.$options.service.setReady(true);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.$options.service.clearAll();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3wform_content\",staticStyle:{\"position\":\"relative\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_c('g3wformheader',{ref:\"g3wformheader\",attrs:{\"currentid\":_vm.state.currentheaderid,\"headers\":_vm.state.headers,\"update\":_vm.state.update,\"valid\":_vm.state.valid},on:{\"resize-form\":_vm.resizeForm,\"clickheader\":_vm.switchComponent}}),_vm._v(\" \"),_c('div',{ref:\"g3wform_body\",staticClass:\"g3wform_body\"},[_vm._l((_vm.body.components.before),function(component){return _c(component,{tag:\"component\",attrs:{\"fields\":_vm.state.fields}})}),_vm._v(\" \"),_c('keep-alive',[_c(_vm.state.component,{tag:\"component\",attrs:{\"handleRelation\":_vm.handleRelation,\"state\":_vm.state},on:{\"hook:activated\":_vm.reloadLayout,\"addtovalidate\":_vm.addToValidate,\"removetovalidate\":_vm.removeToValidate,\"changeinput\":_vm.changeInput}})],1),_vm._v(\" \"),_vm._l((_vm.body.components.after),function(component){return _c(component,{tag:\"component\",attrs:{\"fields\":_vm.state.fields}})})],2),_vm._v(\" \"),_c('g3w-form-footer',{ref:\"g3w_form_footer\",attrs:{\"isRootComponent\":_vm.isRootComponent,\"backToRoot\":_vm.backToRoot,\"state\":_vm.state}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/FormFooter.vue\":214,\"components/FormHeader.vue\":215}],213:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _InputG3WFormInputs = require('components/InputG3WFormInputs.vue');\n\nvar _InputG3WFormInputs2 = _interopRequireDefault(_InputG3WFormInputs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = Vue.extend({\n  props: ['state', 'handleRelation'],\n  data: function data() {\n    return {\n      show: true\n    };\n  },\n\n  components: {\n    G3wFormInputs: _InputG3WFormInputs2.default\n  },\n  methods: {\n    addToValidate: function addToValidate(input) {\n      this.$emit('addtovalidate', input);\n    },\n    removeToValidate: function removeToValidate(input) {\n      this.$emit('removetovalidate', input);\n    },\n    changeInput: function changeInput(input) {\n      this.$emit('changeinput', input);\n    }\n  },\n  computed: {\n    hasFormStructure: function hasFormStructure() {\n      return !!this.state.formstructure;\n    }\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{staticClass:\"form-horizontal g3w-form\"},[_c('div',{staticClass:\"box-primary\"},[_c('div',{staticClass:\"box-body\"},[(_vm.hasFormStructure)?[_c('tabs',{attrs:{\"layerid\":_vm.state.layerid,\"feature\":_vm.state.feature,\"handleRelation\":_vm.handleRelation,\"contenttype\":'editing',\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput,\"removeToValidate\":_vm.removeToValidate,\"tabs\":_vm.state.formstructure,\"fields\":_vm.state.fields}})]:[_c('g3w-form-inputs',{attrs:{\"state\":_vm.state,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}})]],2)])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/InputG3WFormInputs.vue\":238}],214:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = Vue.extend({\n  props: {\n    state: {\n      type: Object\n    },\n    backToRoot: {\n      type: Function,\n      default: function _default() {}\n    },\n    isRootComponent: {\n      type: Function\n    }\n  },\n  data: function data() {\n    this.originalbuttons = this.state.buttons.map(function (button) {\n      return _extends({}, button);\n    });\n    return {\n      id: \"footer\",\n      active: true,\n      show: true\n    };\n  },\n\n  computed: {\n    enableSave: function enableSave() {\n      return this.state.valid && this.state.update;\n    }\n  },\n  methods: {\n    exec: function exec(cbk) {\n      cbk instanceof Function ? cbk(this.state.fields) : function () {\n        return this.state.fields;\n      }();\n    },\n    btnEnabled: function btnEnabled(button) {\n      var _button$enabled = button.enabled,\n          enabled = _button$enabled === undefined ? true : _button$enabled,\n          type = button.type;\n\n      return enabled && (type !== 'save' || type === 'save' && this.enableSave);\n    },\n    isValid: function isValid() {\n      return this.state.valid;\n    }\n  },\n  watch: {\n    'state.component': function stateComponent(component) {\n      this.show = this.isRootComponent(component);\n    },\n\n    'state.update': {\n      immediate: true,\n      handler: function handler(value) {\n        var _this = this;\n\n        this.state.buttons.find(function (button, index) {\n          if (button.eventButtons && button.eventButtons.update) {\n            if (button.eventButtons.update[value]) {\n              _this.state.buttons.splice(index, 1, _extends({}, button, button.eventButtons.update[value]));\n            } else _this.state.buttons.splice(index, 1, _this.originalbuttons[index]);\n          }\n        });\n      }\n    }\n  },\n  activated: function activated() {\n    this.active = true;\n  },\n  deactivated: function deactivated() {\n    this.active = false;\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group g3wform_footer\"},[(_vm.show)?[_vm._t(\"default\",[_c('div',{staticStyle:{\"margin\":\"3px\",\"font-weight\":\"bold\"}},[_vm._v(\"\\n        * \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.form.footer.required_fields'),expression:\"'sdk.form.footer.required_fields'\"}]}),_vm._v(\" \"),(_vm.state.footer.message)?_c('div',{style:([_vm.state.footer.style])},[_vm._v(_vm._s(_vm.state.footer.message))]):_vm._e()]),_vm._v(\" \"),_vm._l((_vm.state.buttons),function(button){return _c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.btnEnabled(button)),expression:\"!btnEnabled(button)\"},{name:\"t\",rawName:\"v-t\",value:(button.title),expression:\"button.title\"}],key:button.id,staticClass:\"btn \",class:[button.class],attrs:{\"update\":_vm.state.update,\"valid\":_vm.state.valid},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.exec(button.cbk)}}})})])]:[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('back'),expression:\"'back'\"}],staticClass:\"btn skin-button\",on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"prevet\",undefined,$event.key,undefined)){ return null; }$event.stopPropagation();return _vm.backToRoot($event)}}})]],2)}\n__vue__options__.staticRenderFns = []\n\n},{}],215:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Vue.extend({\n  props: {\n    headers: {\n      type: Array,\n      default: []\n    },\n    currentid: {\n      type: 'String'\n    },\n    update: {\n      type: Boolean\n    },\n    valid: {\n      type: Boolean\n    }\n  },\n  methods: {\n    click: function click(id) {\n      if (this.currentid !== id) this.$emit('clickheader', id);\n    },\n    resizeForm: function resizeForm(perc) {\n      this.$emit('resize-form', perc);\n    }\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3wform_header box-header with-border\",staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('section',{staticClass:\"g3wform_header_content\"},_vm._l((_vm.headers),function(header){return _c('span',{key:header.id,staticClass:\"title\",class:[{item_selected: _vm.currentid === header.id && _vm.headers.length > 1},[_vm.headers.length > 1 ? 'tabs' : 'one' ]],staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"},style:({fontSize: _vm.isMobile() && '1em !important'}),on:{\"click\":function($event){$event.stopPropagation();return _vm.click(header.id)}}},[(header.icon)?_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_c('i',{class:header.icon})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:(header.title),expression:\"header.title\",arg:\"pre\"}],staticClass:\"g3w-long-text\"},[_vm._v(_vm._s(header.name))]),_vm._v(\" \"),_c(header.component,{tag:\"component\",attrs:{\"valid\":_vm.valid,\"update\":_vm.update}})],1)}),0)])}\n__vue__options__.staticRenderFns = []\n\n},{}],216:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  name: \"bar-loader\",\n  props: ['loading', 'color'],\n  render: function render(createElement) {\n    if (this.loading) {\n      return createElement('div', {\n        style: {\n          backgroundColor: this.color || '#FFFFFF',\n          border: 0\n        },\n        class: {\n          \"bar-loader\": true\n        }\n      });\n    }\n  }\n};\n\n},{}],217:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"datetime\",\n  props: {\n    type: {\n      type: String,\n      default: 'date' },\n    format: {\n      type: String,\n      default: 'YYYY-MM-DD'\n    },\n    minDate: {\n      default: false\n    },\n    maxDate: {\n      default: false\n    },\n    enabledDates: {\n      default: false\n    },\n    value: {},\n    label: {\n      default: 'Date'\n    }\n  },\n  data: function data() {\n    return {\n      datetimevalue: this.value\n    };\n  },\n\n  methods: {\n    changeInput: function changeInput(evt) {},\n    change: function change(value) {\n      var date = moment(value).format(this.format);\n      this.$emit('change', date);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.datetimeinputelement = $(this.$refs.iddatetimepicker);\n              this.datetimeinputelement.datetimepicker({\n                minDate: this.minDate,\n                maxDate: this.maxDate,\n                defaultDate: this.datetimevalue,\n                useCurrent: false,\n                allowInputToggle: true,\n                enabledDates: this.enabledDates,\n                showClose: true,\n                format: this.format,\n                locale: _applicationState2.default.language,\n                toolbarPlacement: 'top',\n                widgetPositioning: {\n                  horizontal: 'right'\n                }\n              });\n              this.datetimeinputelement.on(\"dp.change\", function (_ref2) {\n                var date = _ref2.date;\n\n                _this.change(date);\n              });\n              this.datetimeinputelement.on(\"dp.hide\", function (evt) {});\n              _applicationState2.default.ismobile && setTimeout(function () {\n                return datetimeinputelement.blur();\n              });\n\n            case 7:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n\n  watch: {\n    value: function value(datetime) {\n      this.datetimevalue = datetime;\n      this.datetimeinputelement.data(\"DateTimePicker\").date(datetime);\n    },\n    minDate: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(mindatetime) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.datetimeinputelement.data(\"DateTimePicker\").minDate(mindatetime);\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function minDate(_x) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return minDate;\n    }(),\n    maxDate: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(maxdatetime) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.datetimeinputelement.data(\"DateTimePicker\").maxDate(maxdatetime);\n\n              case 1:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function maxDate(_x2) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return maxDate;\n    }(),\n    enabledDates: function enabledDates(dates) {\n      this.datetimeinputelement.data(\"DateTimePicker\").enabledDates(dates);\n    }\n  },\n  created: function created() {\n    this.id = getUniqueDomId();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"datimecontainer\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.label),expression:\"label\"}],staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.id}}),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('div',{ref:\"iddatetimepicker\",staticClass:\"input-group date\"},[_c('input',{ref:\"idinputdatetimepiker\",staticClass:\"form-control\",attrs:{\"id\":_vm.id,\"type\":\"text\"},on:{\"change\":_vm.changeInput}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon caret\"},[_c('span',{staticClass:\"datetimeinput\",class:[_vm.type === 'time'? _vm.g3wtemplate.getFontClass('time') :  _vm.g3wtemplate.getFontClass('calendar')]})])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-e7683bf8\"\n\n},{\"core/utils/utils\":67,\"store/application-state\":370}],218:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".divider[data-v-6409ddc0]{display:block;position:relative;padding:0;margin-bottom:5px;height:0;width:100%;max-height:0;font-size:1px;line-height:0;clear:both;border:none;border-bottom:2px solid #eee}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"divider\"\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"divider\"})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-6409ddc0\"\n\n},{\"vueify/lib/insert-css\":1}],219:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".modal-content[data-v-38db7d79]{background:hsla(0,0%,100%,.6);border-radius:3px}.modal-dialog[data-v-38db7d79]{display:inline-block;text-align:left;vertical-align:middle}.modal[data-v-38db7d79]{text-align:center;padding:0!important}.modal[data-v-38db7d79]:before{content:\\\"\\\";display:inline-block;height:100%;vertical-align:middle;margin-right:-4px}.carousel .carousel-control span[data-v-38db7d79]{color:#3c8dbc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-images-gallery\",\n  props: {\n    images: {\n      type: Array,\n      default: []\n    },\n    id: {\n      type: String,\n      default: 'gallery'\n    },\n    active: {\n      type: Number\n    }\n  },\n  data: function data() {\n    return {\n      carouselId: 'carousel_' + Date.now()\n    };\n  },\n\n  methods: {\n    isActive: function isActive(src) {\n      return src === active;\n    },\n    isRelativePath: function isRelativePath(url) {\n      if (!_.startsWith(url, '/') && !_.startsWith(url, 'http')) {\n        return _projects2.default.getConfig().mediaurl + url;\n      }\n      return url;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade modal-fullscreen force-fullscreen\",attrs:{\"id\":_vm.id,\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"carousel slide\",attrs:{\"id\":_vm.carouselId,\"data-interval\":\"false\"}},[_c('div',{staticClass:\"carousel-inner\"},_vm._l((_vm.images),function(image,index){return _c('div',{staticClass:\"item\",class:_vm.active == index ? 'active' : ''},[_c('img',{staticStyle:{\"margin\":\"auto\"},attrs:{\"src\":_vm.isRelativePath(image.src)}})])}),0),_vm._v(\" \"),(_vm.images.length> 1)?_c('a',{staticClass:\"left carousel-control\",attrs:{\"href\":'#'+_vm.carouselId,\"role\":\"button\",\"data-slide\":\"prev\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e(),_vm._v(\" \"),(_vm.images.length> 1)?_c('a',{staticClass:\"right carousel-control\",attrs:{\"href\":'#'+_vm.carouselId,\"role\":\"button\",\"data-slide\":\"next\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e()])])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-38db7d79\"\n\n},{\"store/projects\":376,\"vueify/lib/insert-css\":1}],220:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".show-hide-geo[data-v-ea8dc510]{color:#3c8dbc;cursor:pointer;font-size:1.2em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-geospatial\",\n  props: {\n    data: {}\n  },\n  mixins: [_mixins.geoMixin],\n  data: function data() {\n    return {\n      layerId: 'table_layer_' + Date.now(),\n      visible: false,\n      id: 'geo_table_' + Date.now()\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"geo-content\"},[_c('span',{staticClass:\"show-hide-geo\",class:[_vm.visible ? _vm.g3wtemplate.getFontClass('eye-close') : _vm.g3wtemplate.getFontClass('eye')],on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayer()}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-ea8dc510\"\n\n},{\"mixins\":340,\"vueify/lib/insert-css\":1}],221:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".help_div_container[data-v-5d3720b7]{color:#fff;text-align:justify;position:relative;border-radius:3px;margin:5px 2px;white-space:pre-line;background-color:#384246!important}.help_icon[data-v-5d3720b7]{text-align:center;font-size:.7em;margin-top:-4px;margin-left:-4px;background-color:#222d32;font-weight:700;color:#fff;position:absolute;top:0;left:0;width:15px;height:15px;box-shadow:0 3px 5px rgba(0,0,0,.5);border:1px solid #fff;border-radius:50%}.g3w-help-message-content[data-v-5d3720b7]{max-height:200px;padding:10px;overflow-y:auto}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"helpdiv\",\n  props: {\n    message: {\n      type: String,\n      required: true\n    },\n    type: {\n      type: String,\n      default: 'info' }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"help_div_container\"},[_c('span',{staticClass:\"help_icon\"},[_vm._v(\"i\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.message),expression:\"message\"}],staticClass:\"g3w-help-message-content\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-5d3720b7\"\n\n},{\"vueify/lib/insert-css\":1}],222:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".img-responsive[data-v-b7d14a7c]{cursor:pointer}.g3w-image[data-v-b7d14a7c]{padding-left:0!important;min-width:100px;max-width:100%;cursor:pointer}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _GlobalGallery = require('components/GlobalGallery.vue');\n\nvar _GlobalGallery2 = _interopRequireDefault(_GlobalGallery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-image\",\n  props: {\n    value: {}\n  },\n  data: function data() {\n    return {\n      galleryId: 'gallery_' + Date.now(),\n      active: null\n    };\n  },\n\n  components: {\n    'g3w-images-gallery': _GlobalGallery2.default\n  },\n  computed: {\n    values: function values() {\n      return Array.isArray(this.value) ? this.value : [this.value];\n    }\n  },\n  methods: {\n    getSrc: function getSrc(value) {\n      if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n        return value.photo;\n      }\n      return value;\n    },\n    showGallery: function showGallery(index) {\n      this.active = index;\n      if (_typeof(this.value) === 'object') {\n        this.value.active = true;\n      }\n      $('#' + this.galleryId).modal('show');\n    },\n    getGalleryImages: function getGalleryImages() {\n      var _this = this;\n\n      var images = [];\n      this.values.forEach(function (image) {\n        images.push({\n          src: _this.getSrc(image)\n        });\n      });\n      return images;\n    }\n  },\n  created: function created() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.values),function(value,index){return _c('div',{staticClass:\"g3w-image col-md-6 col-sm-12\"},[_c('img',{staticClass:\"img-thumbnail\",attrs:{\"src\":_vm.getSrc(value)},on:{\"click\":function($event){return _vm.showGallery(index)}}})])}),0),_vm._v(\" \"),_c('g3w-images-gallery',{attrs:{\"id\":_vm.galleryId,\"active\":_vm.active,\"images\":_vm.getGalleryImages()}})],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b7d14a7c\"\n\n},{\"components/GlobalGallery.vue\":219,\"vueify/lib/insert-css\":1}],223:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-layer-positions[data-v-026784c2]{display:flex;flex-direction:column;margin:5px 0}.g3w-layer-positions-info-message[data-v-026784c2]{margin-bottom:5px;font-weight:700}.g3w-layer-positions-checkboxes[data-v-026784c2]{display:flex;justify-content:space-between}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"layerspositions\",\n  props: {\n    position: {\n      type: String,\n      default: _constant.MAP_SETTINGS.LAYER_POSITIONS.default\n    }\n  },\n  data: function data() {\n    return {\n      layerpositions: _constant.MAP_SETTINGS.LAYER_POSITIONS.getPositions()\n    };\n  },\n\n  methods: {\n    change: function change() {\n      this.$emit('layer-position-change', this.position);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.ids = {\n      layerpositions: getUniqueDomId()\n    };\n    this.layerpositions.forEach(function (layerposition) {\n      return _this.ids[layerposition] = getUniqueDomId();\n    });\n    this.change();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-layer-positions\",attrs:{\"id\":_vm.ids.layerpositions}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(\"layer_position.message\"),expression:\"`layer_position.message`\"}],staticClass:\"g3w-layer-positions-info-message\"}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-layer-positions-checkboxes\"},_vm._l((_vm.layerpositions),function(layerposition){return _c('div',{key:layerposition},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.position),expression:\"position\"}],staticClass:\"form-control magic-radio\",attrs:{\"type\":\"radio\",\"id\":_vm.ids[layerposition]},domProps:{\"value\":layerposition,\"checked\":_vm.position === layerposition,\"checked\":_vm._q(_vm.position,layerposition)},on:{\"change\":[function($event){_vm.position=layerposition},_vm.change]}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:((\"layer_position.\" + layerposition)),expression:\"`layer_position.${layerposition}`\"}],attrs:{\"for\":_vm.ids[layerposition]}})])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-026784c2\"\n\n},{\"app/constant\":4,\"core/utils/utils\":67,\"vueify/lib/insert-css\":1}],224:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  name: \"progressbar\",\n  props: ['progress'],\n  render: function render(createElement) {\n    if (this.progress !== null && this.progress !== undefined) {\n      return createElement('div', {\n        style: {\n          margin: '5px 0 5px 0',\n          width: '100%',\n          backgroundColor: '#FFFFFF',\n          border: 0,\n          borderRadius: '3px'\n        }\n      }, [createElement('div', {\n        style: {\n          width: (this.progress < 10 ? 10 : this.progress) + '%',\n          display: 'flex',\n          justifyContent: 'center',\n          fontWeight: 'bold'\n        },\n        class: {\n          'skin-background-color': true\n        }\n      }, [createElement('span', this.progress + '%')])]);\n    }\n  }\n};\n\n},{}],225:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".min-max-label[data-v-a8bbacb8]{align-self:end;font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    debounce = _require.debounce;\n\nexports.default = {\n  name: \"range\",\n  props: {\n    id: {\n      required: true\n    },\n\n    label: {\n      type: \"String\",\n      default: ''\n    },\n\n    min: {\n      type: Number,\n      default: 0\n    },\n\n    max: {\n      type: Number,\n      default: 10\n    },\n\n    step: {\n      type: Number,\n      default: 1\n    },\n\n    labelValue: {},\n\n    value: {\n      default: 0\n    },\n\n    sync: {\n      type: Boolean,\n      default: false\n    },\n\n    showValue: {\n      type: Boolean,\n      default: false\n    },\n\n    unit: {\n      type: String,\n      default: ''\n    }\n\n  },\n  data: function data() {\n    return {};\n  },\n\n  methods: {\n    changeBackGround: function changeBackGround(value) {\n      this.$refs['range-input'].style.backgroundSize = (value ? (value - this.min) * 100 / (this.max - this.min) : 0) + \"% 100%\";\n    },\n    setValue: function setValue(value) {\n      this.changedValue(value);\n    },\n    change: function change(evt) {\n      var value = 1 * evt.target.value;\n      this.changedValue(value);\n    },\n    emitChangeValue: function emitChangeValue(value) {\n      this.value = value;\n      this.$emit('change-range', {\n        id: this.id,\n        value: value\n      });\n    }\n  },\n  watch: {\n    value: function value(_value) {\n      this.changeBackGround(_value);\n      this.sync && this.emitChangeValue(_value);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.changedValue = this.sync ? function () {\n      return _this.$emit('changed');\n    } : debounce(function (value) {\n      _this.emitChangeValue(value);\n    });\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.changeBackGround(this.value);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"font-weight\":\"bold\"}},[_c('section',{staticStyle:{\"align-self\":\"flex-end\"}},[_c('span',{staticClass:\"min-max-label\"},[_vm._v(_vm._s(_vm.min))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.unit))])]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"margin\":\"0 3px\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.label),expression:\"label\"}],staticClass:\"skin-color\",staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.id}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],ref:\"range-input\",attrs:{\"type\":\"range\",\"id\":_vm.id,\"min\":_vm.min,\"max\":_vm.max,\"step\":_vm.step},domProps:{\"value\":(_vm.value)},on:{\"change\":_vm.change,\"__r\":function($event){_vm.value=$event.target.value}}})]),_vm._v(\" \"),_c('section',{staticStyle:{\"align-self\":\"flex-end\"}},[_c('span',{staticClass:\"min-max-label\"},[_vm._v(_vm._s(_vm.max))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.unit))])])]),_vm._v(\" \"),(_vm.showValue)?[_c('span',[_vm._v(_vm._s(_vm.value))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.unit))])]:_vm._e()],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-a8bbacb8\"\n\n},{\"core/utils/utils\":67,\"vueify/lib/insert-css\":1}],226:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: \"g3w-resize\",\n  props: {\n    show: {\n      type: Boolean,\n      required: true,\n      default: true\n    },\n    orientation: {\n      type: String,\n      required: true,\n      default: 'h'\n    },\n    where: {\n      type: 'string',\n      default: 'document'\n    },\n    moveFnc: {\n      type: Function,\n      default: function _default(evt) {\n        return console.log(evt);\n      }\n    },\n    style: {\n      type: Object,\n      default: {}\n    }\n  },\n  methods: {\n    wrapMoveFnc: function wrapMoveFnc(evt) {\n      this.domElementMoveListen.addEventListener('mouseup', this.stop, { once: true });\n      this.moveFnc(evt);\n    },\n    start: function start() {\n      this.domElementMoveListen.addEventListener('mousemove', this.wrapMoveFnc);\n    },\n    stop: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.domElementMoveListen.removeEventListener('mousemove', this.wrapMoveFnc);\n                _context.next = 3;\n                return this.$nextTick();\n\n              case 3:\n                _gui2.default.emit('resize');\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stop() {\n        return _ref.apply(this, arguments);\n      }\n\n      return stop;\n    }()\n  },\n  watch: {\n    'orientation': {\n      handler: function handler(orientation) {\n        this.style.cursor = orientation === 'v' ? 'ns-resize' : 'col-resize';\n      },\n\n      immediate: true\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.domElementMoveListen;\n              this.style = _extends({\n                minWidth: '5px',\n                backgroundColor: '#dddddd',\n                cursor: 'col-resize'\n              }, this.style);\n              _context2.t0 = this.where;\n              _context2.next = _context2.t0 === 'content' ? 5 : _context2.t0 === 'document' ? 7 : 7;\n              break;\n\n            case 5:\n              this.domElementMoveListen = document.getElementById('g3w-view-content');\n              return _context2.abrupt('break', 8);\n\n            case 7:\n              this.domElementMoveListen = document;\n\n            case 8:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.domElementMoveListen = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],style:(_vm.style),attrs:{\"id\":_vm.$attrs.id},on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.start($event)}}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-9cb98a46\"\n\n},{\"services/gui\":358}],227:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    name: 'resize-icon',\n    props: {\n        type: {\n            type: String,\n            default: 'h'\n        }\n    },\n    computed: function computed() {},\n\n    methods: {\n        toggleFull: function toggleFull() {\n            _gui2.default.toggleFullViewContent();\n            _gui2.default.emit('resize');\n        },\n        resetToDefault: function resetToDefault() {\n            _gui2.default.resetToDefaultContentPercentage();\n            _gui2.default.emit('resize');\n        }\n    }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('i',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:bottom.create\",value:('enlange_reduce'),expression:\"'enlange_reduce'\",arg:\"bottom\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-color-dark\",class:_vm.g3wtemplate.getFontClass((\"resize-\" + _vm.type)),staticStyle:{\"cursor\":\"pointer\",\"margin-right\":\"3px\"},on:{\"click\":_vm.toggleFull}}),_vm._v(\" \"),_c('i',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('reset_default'),expression:\"'reset_default'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-color-dark\",class:_vm.g3wtemplate.getFontClass(\"resize-default\"),staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.resetToDefault}})])}\n__vue__options__.staticRenderFns = []\n\n},{\"services/gui\":358}],228:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".br[data-v-8413fc94]{border-radius:8px}.card[data-v-8413fc94]{width:80%;padding:10px 20px;margin:50px auto}.item[data-v-8413fc94]{height:15px;background:#ccc;margin-top:15px}.item-light[data-v-8413fc94]{background:#ddd}.text80[data-v-8413fc94]{width:80%}.chart-wrapper[data-v-8413fc94]{height:50px;display:flex;align-items:baseline;margin-bottom:20px}.chart-item[data-v-8413fc94]{height:100%;width:15px;background:#ccc;margin-right:10px}.chart-item-80[data-v-8413fc94]{height:80%}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"skeleton\",\n  mounted: function mounted() {\n    this.$nextTick(function () {});\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card br\"},[_c('div',{staticClass:\"chart-wrapper\"},[_c('div',{staticClass:\"chart-item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item chart-item-80 item-light br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item br chart-item-80\"})]),_vm._v(\" \"),_c('div',{staticClass:\"item br text80\"}),_vm._v(\" \"),_c('div',{staticClass:\"item item-light br\"}),_vm._v(\" \"),_c('div',{staticClass:\"item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"item item-light br text80\"})])}]\n__vue__options__._scopeId = \"data-v-8413fc94\"\n\n},{\"vueify/lib/insert-css\":1}],229:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".formquerytabs[data-v-2cbd8ce7]{overflow:hidden!important;display:flex;flex-wrap:wrap}.formquerytabs>li[data-v-2cbd8ce7]{flex:1;display:flex}.formquerytabs>li>a[data-v-2cbd8ce7]{font-weight:700;flex:1}.tab-content[data-v-2cbd8ce7]{//margin-top:10px}.nav-tabs>li>a.mobile[data-v-2cbd8ce7]{padding:5px 10px}.tab_a[data-v-2cbd8ce7]{padding:5px;margin-right:0!important;//border:1px solid #eee;border-bottom:0;margin-bottom:3px;border-radius:3px 3px 0 0}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _name$props$component;\n\nvar _tabservice = require('core/expression/tabservice');\n\nvar _tabservice2 = _interopRequireDefault(_tabservice);\n\nvar _GlobalTabsNode = require('components/GlobalTabsNode.vue');\n\nvar _GlobalTabsNode2 = _interopRequireDefault(_GlobalTabsNode);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = (_name$props$component = {\n  name: \"tabs\",\n  props: {\n    group: {\n      type: Boolean,\n      default: false\n    },\n    contenttype: {\n      default: 'query' },\n    layerid: {\n      required: true\n    },\n    tabs: {\n      required: true\n    },\n    feature: {\n      required: true\n    },\n    fields: {\n      required: true\n    },\n    addToValidate: Function,\n    removeToValidate: Function,\n    changeInput: Function,\n    showRelationByField: {\n      type: Boolean,\n      default: true\n    },\n    handleRelation: {\n      type: Function,\n      default: function _default() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            relation = _ref.relation,\n            layerId = _ref.layerId,\n            feature = _ref.feature;\n\n        return _gui2.default.getService('queryresults').showRelation({ relation: relation, layerId: layerId, feature: feature });\n      }\n    }\n  },\n  components: {\n    Node: _GlobalTabsNode2.default\n  },\n  data: function data() {\n    return {\n      ids: []\n    };\n  },\n\n  computed: {\n    required_fields: function required_fields() {\n      return this.contenttype === 'editing' && this.fields.filter(function (field) {\n        return field.validate.required;\n      }).map(function (field) {\n        return field.name;\n      });\n    },\n    show: function show() {\n      return this.tabs.reduce(function (accumulator, tab) {\n        return accumulator || tab.visible === undefined || !!tab.visible;\n      }, false);\n    }\n  },\n  methods: {\n    setVisibility: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(tab) {\n        var visible;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _tabservice2.default.getVisibility({\n                  qgs_layer_id: this.layerid,\n                  expression: tab.visibility_expression.expression,\n                  feature: this.feature,\n                  contenttype: this.contenttype\n                });\n\n              case 2:\n                visible = _context.sent;\n\n                tab.visible = visible;\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function setVisibility(_x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return setVisibility;\n    }(),\n    setEditingRequireTab: function setEditingRequireTab(obj) {\n      var _this = this;\n\n      var required = false;\n      if (obj.nodes === undefined) required = this.required_fields.indexOf(obj.field_name) !== -1;else required = !!obj.nodes.find(function (node) {\n        return _this.setEditingRequireTab(node);\n      });\n      return required;\n    },\n    getField: function getField(fieldName) {\n      return this.fields.find(function (field) {\n        return field.name === fieldName;\n      });\n    }\n  }\n}, _defineProperty(_name$props$component, 'components', {\n  Node: _GlobalTabsNode2.default\n}), _defineProperty(_name$props$component, 'created', function () {\n  var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n    var _this2 = this;\n\n    var _loop, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, tab, nodes;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            this.unwatch = [];\n\n            _loop = function _loop(tab) {\n              if (tab.visibility_expression) {\n                if (tab.visible === undefined) _this2.$set(tab, 'visible', 0);\n                _this2.setVisibility(tab);\n              }\n              if (_this2.contenttype === 'editing') {\n                if (tab.required === undefined) tab.required = _this2.setEditingRequireTab(tab);\n                if (tab.visibility_expression) {\n                  tab.visibility_expression.referenced_columns.forEach(function (column) {\n                    var field = _this2.fields.find(function (field) {\n                      return field.name === column;\n                    });\n                    _this2.unwatch.push(_this2.$watch(function () {\n                      return field.value;\n                    }, function () {\n                      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(value) {\n                        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                          while (1) {\n                            switch (_context2.prev = _context2.next) {\n                              case 0:\n                                _this2.feature.set(field.name, value);\n                                _this2.setVisibility(tab);\n\n                              case 2:\n                              case 'end':\n                                return _context2.stop();\n                            }\n                          }\n                        }, _callee2, _this2);\n                      }));\n\n                      return function (_x3) {\n                        return _ref4.apply(this, arguments);\n                      };\n                    }()));\n                  });\n                }\n              }\n              _this2.ids.push('tab_' + getUniqueDomId());\n            };\n\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _iteratorError = undefined;\n            _context3.prev = 5;\n            for (_iterator = this.tabs[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              tab = _step.value;\n\n              _loop(tab);\n            }\n            _context3.next = 13;\n            break;\n\n          case 9:\n            _context3.prev = 9;\n            _context3.t0 = _context3['catch'](5);\n            _didIteratorError = true;\n            _iteratorError = _context3.t0;\n\n          case 13:\n            _context3.prev = 13;\n            _context3.prev = 14;\n\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n\n          case 16:\n            _context3.prev = 16;\n\n            if (!_didIteratorError) {\n              _context3.next = 19;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 19:\n            return _context3.finish(16);\n\n          case 20:\n            return _context3.finish(13);\n\n          case 21:\n            this.root_tabs = [];\n            if (!this.group) {\n              nodes = [];\n\n              this.tabs.forEach(function (tab_node) {\n                if (tab_node.nodes) nodes.push(tab_node);else {\n                  if (nodes.length) {\n                    _this2.root_tabs.push([].concat(nodes));\n                    nodes.splice(0);\n                  }_this2.root_tabs.push({ nodes: [tab_node] });\n                }\n              });\n              if (nodes.length) this.root_tabs.push(nodes);\n            } else this.root_tabs = [this.tabs];\n\n          case 23:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[5, 9, 13, 21], [14,, 16, 20]]);\n  }));\n\n  function created() {\n    return _ref3.apply(this, arguments);\n  }\n\n  return created;\n}()), _defineProperty(_name$props$component, 'beforeDestroy', function beforeDestroy() {\n  this.unwatch.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatch = null;\n}), _name$props$component);\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{staticClass:\"tabs-wrapper\"},[_vm._l((_vm.root_tabs),function(root_tab){return [(Array.isArray(root_tab))?[_c('ul',{staticClass:\"formquerytabs nav nav-tabs\"},[_vm._l((root_tab),function(tab,index){return [(tab.visible === undefined || tab.visible)?_c('li',{class:{active: index === 0}},[_c('a',{staticClass:\"tab_a\",class:{'mobile': _vm.isMobile(), 'group-title': _vm.group},style:({fontSize: _vm.isMobile() ? '1.0em': ((_vm.group ? '1.1': '1.2') + \"em\")}),attrs:{\"data-toggle\":\"tab\",\"href\":(\"#\" + (_vm.ids[index]))}},[_vm._v(\"\\n              \"+_vm._s(tab.name)+\" \"),(_vm.contenttype === 'editing' && tab.required)?_c('span',{staticStyle:{\"padding-left\":\"3px\",\"font-size\":\"1.1em\"}},[_vm._v(\"*\")]):_vm._e()])]):_vm._e()]})],2),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\",class:{editing: _vm.contenttype === 'editing'}},[_vm._l((root_tab),function(tab,index){return [(tab.visible === undefined || tab.visible)?_c('div',{staticClass:\"tab-pane fade\",class:{'in active': index === 0},attrs:{\"id\":_vm.ids[index]}},[_c('node',{attrs:{\"showRelationByField\":_vm.showRelationByField,\"handleRelation\":_vm.handleRelation,\"feature\":_vm.feature,\"layerid\":_vm.layerid,\"contenttype\":_vm.contenttype,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput,\"fields\":_vm.fields,\"showTitle\":false,\"node\":tab}})],1):_vm._e()]})],2)]:_c('node',{attrs:{\"showRelationByField\":_vm.showRelationByField,\"handleRelation\":_vm.handleRelation,\"feature\":_vm.feature,\"layerid\":_vm.layerid,\"contenttype\":_vm.contenttype,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput,\"fields\":_vm.fields,\"showTitle\":false,\"node\":root_tab}})]})],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2cbd8ce7\"\n\n},{\"components/GlobalTabsNode.vue\":230,\"core/expression/tabservice\":11,\"core/utils/utils\":67,\"services/gui\":358,\"vueify/lib/insert-css\":1}],230:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".tab-node[data-v-9685e2ee]{min-width:0;overflow:hidden}.title[data-v-9685e2ee]{font-weight:700;width:100%;color:#fff;padding:3px;margin-top:5px;margin-bottom:5px;border-radius:2px}.node-row[data-v-9685e2ee]{margin-bottom:0;column-gap:2px;margin-top:0;display:grid;grid-auto-columns:minmax(0,1fr);grid-auto-flow:column}.row.mobile[data-v-9685e2ee]{margin-bottom:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _InputG3W = require('components/InputG3W.vue');\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = require('gui/fields/fields');\n\nexports.default = {\n  name: \"node\",\n  props: ['contenttype', 'node', 'fields', 'showTitle', 'addToValidate', 'removeToValidate', 'changeInput', 'layerid', 'feature', 'showRelationByField', 'handleRelation'],\n  components: _extends({\n    G3wInput: _InputG3W2.default\n  }, Fields),\n  data: function data() {\n    return {\n      context: this.contenttype,\n      editing_required: false\n    };\n  },\n\n  computed: {\n    filterNodes: function filterNodes() {\n      var _this = this;\n\n      var filterNodes = this.node.nodes && this.node.nodes.filter(function (node) {\n        if (_this.getNodeType(node) === 'group') {\n          return true;\n        } else if (!node.nodes && node.name && _this.getNodeType(node) != 'group') {\n          node.relation = true;\n          return true;\n        } else {\n          return !!_this.fields.find(function (field) {\n            var field_name = node.field_name ? node.field_name.replace(/ /g, \"_\") : node.field_name;\n            return field.name === field_name || node.relation;\n          });\n        }\n      });\n      return filterNodes || [];\n    },\n    nodesLength: function nodesLength() {\n      return this.filterNodes.length;\n    },\n    rows: function rows() {\n      var rowCount = 1;\n      if (this.nodesLength === 0) rowCount = 0;else if (this.columnNumber <= this.nodesLength) {\n        var rest = this.nodesLength % this.columnNumber;\n        rowCount = Math.floor(this.nodesLength / this.columnNumber) + rest;\n      }\n      return rowCount;\n    },\n    columnNumber: function columnNumber() {\n      var columnCount = parseInt(this.node.columncount) ? parseInt(this.node.columncount) : 1;\n      return columnCount > this.nodesLength ? this.nodesLength : columnCount;\n    },\n    showGroupTile: function showGroupTile() {\n      return this.showTitle && this.node.showlabel && this.node.groupbox;\n    }\n  },\n  methods: {\n    loadingRelation: function loadingRelation(relation) {\n      var layer = _projects2.default.getCurrentProject().getLayerById(this.layerid);\n      var relation_project = layer.getRelationById(relation.name);\n      return relation_project.state;\n    },\n    isRelationDisabled: function isRelationDisabled(relation) {\n      return this.getRelationName(relation.name) === undefined || this.contenttype === 'editing' && this.isRelationChildLayerNotEditable(relation);\n    },\n    getRelationName: function getRelationName(relationId) {\n      var relation = _projects2.default.getCurrentProject().getRelationById(relationId);\n      return relation && relation.name;\n    },\n    isRelationChildLayerNotEditable: function isRelationChildLayerNotEditable(relation) {\n      var nmRelationId = relation.nmRelationId,\n          name = relation.name;\n\n      var currentProject = _projects2.default.getCurrentProject();\n      var projectRelation = currentProject.getRelationById(name);\n      var relationLayerId = projectRelation.referencingLayer;\n      var relationLayer = currentProject.getLayerById(relationLayerId);\n\n      return !relationLayer.isEditable();\n    },\n    getNodes: function getNodes(row) {\n      var startIndex = (row - 1) * this.columnNumber;\n      return this.filterNodes.slice(startIndex, this.columnNumber + startIndex);\n    },\n    getNode: function getNode(row, column) {\n      return this.getNodes(row)[column - 1];\n    },\n    getField: function getField(node) {\n      if (node.relation) return node;\n      var field = this.fields.find(function (field) {\n        var field_name = node.field_name ? node.field_name.replace(/ /g, \"_\") : node.field_name;\n        return field.name === field_name;\n      });\n      return field;\n    },\n    getNodeType: function getNodeType(node) {\n      var type = node.groupbox || node.nodes ? 'group' : node.relation ? 'relation' : 'field';\n      if (type === 'field' && (node.alias === undefined || node.alias === '')) {\n        node.alias = node.field_name;\n      }\n      return type;\n    },\n    getComponent: function getComponent(field) {\n      if (field.relation) return;else if (field.query) return field.input.type;else return 'g3w-input';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-node group\"},[(_vm.showGroupTile)?_c('h5',{staticClass:\"title group-title\",class:{'mobile': _vm.isMobile()},style:({fontSize: _vm.isMobile() ? '1em' : '1.1em'})},[_vm._v(_vm._s(_vm.node.name))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.rows),function(row){return _c('div',{staticClass:\"node-row\",class:{'mobile': _vm.isMobile()}},[_vm._l((_vm.columnNumber),function(column){return [(_vm.getNode(row, column))?[(_vm.getNodeType(_vm.getNode(row, column)) === 'field')?_c(_vm.getComponent(_vm.getField(_vm.getNode(row, column))),{tag:\"component\",staticStyle:{\"padding\":\"5px 3px 5px 3px\"},attrs:{\"state\":_vm.getField(_vm.getNode(row, column)),\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"feature\":_vm.feature},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}}):[(_vm.getNodeType(_vm.getNode(row, column)) === 'group')?_c('tabs',_vm._b({staticClass:\"sub-group\",staticStyle:{\"width\":\"100% !important\"},attrs:{\"group\":true,\"tabs\":[_vm.getNode(row, column)]}},'tabs',_vm.$props,false)):[(_vm.showRelationByField)?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.isRelationDisabled(_vm.getNode(row, column)) || _vm.loadingRelation(_vm.getNode(row, column)).loading),expression:\"isRelationDisabled(getNode(row, column)) || loadingRelation(getNode(row, column)).loading\"}],style:({cursor: _vm.showRelationByField && 'pointer'}),on:{\"click\":function($event){$event.stopPropagation();_vm.handleRelation({relation: _vm.getNode(row, column), feature:_vm.feature, layerId: _vm.layerid})}}},[_c('bar-loader',{attrs:{\"loading\":_vm.loadingRelation(_vm.getNode(row, column)).loading}}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('div',{staticClass:\"query_relation_field\"},[_c('i',{class:_vm.g3wtemplate.font[(\"\" + (_vm.context === 'query' ? 'relation' : 'pencil'))]})]),_vm._v(\" \"),_c('span',{staticClass:\"query_relation_field_message g3w-long-text\"},[_c('span',{staticStyle:{\"text-transform\":\"uppercase\"}},[_vm._v(\" \"+_vm._s(_vm.getRelationName(_vm.getNode(row, column).name)))])])])],1):_vm._e()]]]:_vm._e()]})],2)})],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-9685e2ee\"\n\n},{\"components/InputG3W.vue\":237,\"gui/fields/fields\":118,\"services/gui\":358,\"store/projects\":376,\"vueify/lib/insert-css\":1}],231:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: ['state'],\n  methods: {\n    showCustomModal: function showCustomModal(id) {\n      this.$emit('show-custom-modal-content', id);\n    }\n  },\n  created: function created() {\n    this.state.type = this.state.type || 'link';\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"customheaderlink dropdown user user-menu\",attrs:{\"title\":_vm.state.title}},[(_vm.state.type === 'link')?_c('a',{staticClass:\"dropdown-toggle\",class:{ imagelink : !!_vm.state.img},attrs:{\"href\":_vm.state.url,\"target\":_vm.state.target}},[(_vm.state.img)?_c('img',{staticStyle:{\"max-height\":\"20px\"},attrs:{\"src\":_vm.state.img}}):_c('span',[(_vm.state.i18n)?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.state.title),expression:\"state.title\"}]}):_c('span',[_vm._v(_vm._s(_vm.state.title))])])]):(_vm.state.type === 'modal')?_c('a',{staticClass:\"dropdown-toggle\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#custom_modal\"},on:{\"click\":function($event){return _vm.showCustomModal(_vm.state.id)}}},[_c('span',[_vm._v(_vm._s(_vm.state.title))])]):_vm._e()])}\n__vue__options__.staticRenderFns = []\n\n},{}],232:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".control-label[data-v-cb533ff6]{text-align:left!important;padding-top:0!important;margin-bottom:3px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nexports.default = _extends({\n  name: \"InputBase\",\n  props: ['state']\n}, _mixins.baseInputMixin);\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.state.visible)?_c('div',{staticClass:\"form-group\"},[_vm._t(\"label\",[_c('label',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"col-sm-12 control-label\",attrs:{\"for\":_vm.state.name}},[_vm._v(_vm._s(_vm.state.label)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e(),_vm._v(\" \"),(_vm.showhelpicon)?_c('i',{staticClass:\"skin-color\",class:_vm.g3wtemplate.font['info'],staticStyle:{\"margin-left\":\"3px\",\"cursor\":\"pointer\"},on:{\"click\":_vm.showHideHelp}}):_vm._e(),_vm._v(\" \"),_vm._t(\"label-action\")],2)]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-12\"},[_vm._t(\"loading\",[(_vm.loadingState === 'loading')?_c('div',{staticStyle:{\"position\":\"relative\",\"width\":\"100%\"},attrs:{\"slot\":\"loading\"},slot:\"loading\"},[_c('bar-loader',{attrs:{\"loading\":\"true\"}})],1):_vm._e()]),_vm._v(\" \"),_vm._t(\"body\"),_vm._v(\" \"),_vm._t(\"message\",[(_vm.notvalid)?_c('p',{staticClass:\"g3w-long-text error-input-message\",staticStyle:{\"margin\":\"0\"},domProps:{\"innerHTML\":_vm._s(_vm.state.validate.message)}}):(_vm.state.info)?_c('p',{staticStyle:{\"margin\":\"0\"},domProps:{\"innerHTML\":_vm._s(_vm.state.info)}}):_vm._e()]),_vm._v(\" \"),(_vm.state.help && this.state.help.visible)?_c('div',{staticClass:\"g3w_input_help skin-background-color extralighten\",domProps:{\"innerHTML\":_vm._s(_vm.state.help.message)}}):_vm._e()],2)],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-cb533ff6\"\n\n},{\"mixins\":340,\"vueify/lib/insert-css\":1}],233:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input, _mixins.widgetMixins],\n  data: function data() {\n    return {\n      value: null,\n      label: null,\n      id: getUniqueDomId() };\n  },\n\n  methods: {\n    setLabel: function setLabel() {\n      this.label = this.service.convertCheckedToValue(this.value);\n    },\n    setValue: function setValue() {\n      this.value = this.service.convertValueToChecked();\n    },\n    changeCheckBox: function changeCheckBox() {\n      this.setLabel();\n      this.widgetChanged();\n    },\n    stateValueChanged: function stateValueChanged() {\n      this.setValue();\n      this.setLabel();\n    }\n  },\n  created: function created() {\n    this.value = this.state.forceNull ? this.value : this.service.convertValueToChecked();\n  },\n  mounted: function mounted() {\n    if (!this.state.forceNull) this.setLabel();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticStyle:{\"height\":\"20px\",\"margin-top\":\"8px\"},attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"magic-checkbox\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"tabIndex\":_vm.tabIndex,\"type\":\"checkbox\",\"id\":_vm.id},domProps:{\"checked\":Array.isArray(_vm.value)?_vm._i(_vm.value,null)>-1:(_vm.value)},on:{\"change\":[function($event){var $$a=_vm.value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.value=$$a.concat([$$v]))}else{$$i>-1&&(_vm.value=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.value=$$c}},_vm.changeCheckBox]}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.id}},[_vm._v(_vm._s(_vm.label))])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":129,\"mixins\":340}],234:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"cursor\":\"pointer\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"type\":\"color\",\"tabIndex\":_vm.tabIndex,\"field\":_vm.state.name,\"id\":_vm.state.name},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":129}],235:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n\n  mixins: [Input, _mixins.resizeMixin],\n\n  data: function data() {\n    var uniqueValue = getUniqueDomId();\n    return {\n      widget_container: {\n        top: 0,\n        left: 0\n      },\n      iddatetimepicker: 'datetimepicker_' + uniqueValue,\n      idinputdatetimepiker: 'inputdatetimepicker_' + uniqueValue\n    };\n  },\n\n\n  methods: {\n    resize: function resize() {\n      var domeDataPicker = $('#' + this.iddatetimepicker);\n      if (domeDataPicker && domeDataPicker.data(\"DateTimePicker\")) {\n        domeDataPicker.data(\"DateTimePicker\").hide();\n      }\n    },\n    timeOnly: function timeOnly() {\n      return !this.state.input.options.formats[0].date;\n    }\n  },\n  watch: {\n    'state.value': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(value) {\n        var date;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(value !== $('#' + this.idinputdatetimepiker).val())) {\n                  _context.next = 5;\n                  break;\n                }\n\n                date = null !== value ? moment(value, this.datetimefieldformat).format(this.datetimedisplayformat) : value;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                $('#' + this.idinputdatetimepiker).val(date);\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateValue(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateValue;\n    }()\n  },\n\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this = this;\n\n      var _state$input$options, _state$input$options$, formats, _state$input$options$2, layout, _formats$, minDate, maxDate, fieldformat, enabledDates, disabledDates, displayformat, useCurrent, date;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _state$input$options = this.state.input.options, _state$input$options$ = _state$input$options.formats, formats = _state$input$options$ === undefined ? [] : _state$input$options$, _state$input$options$2 = _state$input$options.layout, layout = _state$input$options$2 === undefined ? {\n                vertical: \"top\",\n                horizontal: \"left\"\n              } : _state$input$options$2;\n              _formats$ = formats[0], minDate = _formats$.minDate, maxDate = _formats$.maxDate, fieldformat = _formats$.fieldformat, enabledDates = _formats$.enabledDates, disabledDates = _formats$.disabledDates, displayformat = _formats$.displayformat, useCurrent = _formats$.useCurrent;\n              _context3.next = 4;\n              return this.$nextTick();\n\n            case 4:\n\n              this.datetimedisplayformat = this.service.convertQGISDateTimeFormatToMoment(displayformat);\n              this.datetimefieldformat = this.service.convertQGISDateTimeFormatToMoment(fieldformat);\n\n              this.service.setValidatorOptions({ fielddatetimeformat: this.datetimefieldformat });\n\n              date = moment(this.state.value, this.datetimefieldformat, true).isValid() ? moment(this.state.value, this.datetimefieldformat).toDate() : null;\n\n\n              $('#' + this.iddatetimepicker).datetimepicker({\n                defaultDate: date,\n                format: this.datetimedisplayformat,\n                ignoreReadonly: true,\n                allowInputToggle: true,\n                enabledDates: enabledDates,\n                disabledDates: disabledDates,\n                useCurrent: useCurrent,\n                toolbarPlacement: 'top',\n                minDate: minDate,\n                maxDate: maxDate,\n                widgetParent: $(this.$refs.datimewidget_container),\n                widgetPositioning: {\n                  vertical: layout.vertical || 'top',\n                  horizontal: layout.horizontal || 'left'\n                },\n                showClose: true,\n                locale: this.service.getLocale()\n              });\n\n              $('#' + this.iddatetimepicker).on(\"dp.change\", function () {\n                var newDate = $('#' + _this.idinputdatetimepiker).val();\n                var value = _.isEmpty(_.trim(newDate)) ? null : moment(newDate, _this.datetimedisplayformat).format(_this.datetimefieldformat);\n                _this.state.value = value;\n              });\n\n              $('#' + this.iddatetimepicker).on(\"dp.show\", function () {\n                var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(evt) {\n                  var _$refs$datetimepicker, top, left, width;\n\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _context2.next = 2;\n                          return _this.$nextTick();\n\n                        case 2:\n                          _$refs$datetimepicker = _this.$refs.datetimepicker_body.getBoundingClientRect(), top = _$refs$datetimepicker.top, left = _$refs$datetimepicker.left, width = _$refs$datetimepicker.width;\n\n                          _this.widget_container.top = top;\n                          _this.widget_container.left = left - width;\n                          _this.$emit('datetimepickershow');\n\n                        case 6:\n                        case 'end':\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, _this);\n                }));\n\n                return function (_x2) {\n                  return _ref3.apply(this, arguments);\n                };\n              }());\n\n              $('#' + this.iddatetimepicker).on(\"dp.hide\", function (evt) {\n                _this.$emit('datetimepickershow');\n              });\n\n              if (_applicationState2.default.ismobile) {\n                setTimeout(function () {\n                  $('#' + _this.idinputdatetimepiker).blur();\n                });\n              }\n\n            case 13:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{ref:\"datetimepicker_body\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('div',{ref:\"datimewidget_container\",style:({\n        top: _vm.widget_container.top + 'px',\n        left: _vm.widget_container.left + 'px',\n        position: 'fixed',\n        zIndex: 10000\n      })}),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"input-group date\",attrs:{\"id\":_vm.iddatetimepicker}},[_c('input',{staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},attrs:{\"type\":\"text\",\"id\":_vm.idinputdatetimepiker,\"tabIndex\":_vm.tabIndex,\"readonly\":!_vm.editable || _vm.isMobile() ? 'readonly' : null}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon caret\"},[_c('span',{class:[ _vm.g3wtemplate.getFontClass(_vm.timeOnly() ? 'time' : 'calendar') ]})])])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":129,\"mixins\":340,\"store/application-state\":370}],236:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"step\":_vm.state.step || 1,\"placeholder\":_vm.state.default},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change]},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":129}],237:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar Inputs = require('gui/inputs/inputs');\n\nexports.default = {\n  name: \"g3w-input\",\n  props: {\n    state: {\n      required: true\n    },\n    addToValidate: {\n      type: Function,\n      required: true\n    },\n    removeToValidate: {\n      type: Function,\n      required: true\n    },\n    changeInput: {\n      type: Function,\n      required: true\n    }\n  },\n  components: _extends({}, Inputs),\n  computed: {\n    type: function type() {\n      if (this.state.type !== 'child') return this.state.input.type ? this.state.input.type + '_input' : this.state.type + '_input';\n    }\n  },\n  created: function created() {\n    if (this.state.type !== 'child' && !this.state.input.options) this.state.input.options = {};\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.state.visible)?_c('div',[(_vm.state.type !== 'child')?_c('div',[_c(_vm.type,{tag:\"component\",attrs:{\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"state\":_vm.state},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}}),_vm._v(\" \"),_c('span',{staticClass:\"divider\"})],1):_c('div',{staticClass:\"skin-border-color field-child\",staticStyle:{\"border-top\":\"2px solid\"}},[_c('h4',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.state.label))]),_vm._v(\" \"),_c('div',[_vm._v(\" \"+_vm._s(_vm.state.description)+\" \")]),_vm._v(\" \"),_vm._l((_vm.state.fields),function(field){return _c('g3w-input',{key:field.name,attrs:{\"state\":field,\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}})})],2)]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0fece3a7\"\n\n},{\"gui/inputs/inputs\":130}],238:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"#g3w-for-inputs-required-inputs-message[data-v-06573254]{margin-bottom:5px;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center}.box-body[data-v-06573254]{padding:5px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _InputG3W = require(\"components/InputG3W.vue\");\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-form-inputs\",\n  props: {\n    state: {\n      type: Object,\n      default: {\n        fields: []\n      }\n    },\n    addToValidate: {\n      type: Function\n    },\n    changeInput: {\n      type: Function\n    },\n    show_required_field_message: {\n      type: Boolean,\n      default: false\n    }\n\n  },\n  components: {\n    G3wInput: _InputG3W2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"form-horizontal g3w-form\"},[_c('div',{staticClass:\"box-primary\"},[_c('div',{staticClass:\"box-body\"},[_vm._l((_vm.state.fields),function(field){return [_c('g3w-input',{attrs:{\"state\":field,\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput},on:{\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput}})]})],2),_vm._v(\" \"),(_vm.show_required_field_message)?_c('div',{attrs:{\"id\":\"g3w-for-inputs-required-inputs-message\"}},[_c('span',{staticClass:\"hide-cursor-caret-color\"},[_vm._v(\"*\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.form.footer.required_fields'),expression:\"'sdk.form.footer.required_fields'\"}],staticClass:\"hide-cursor-caret-color\"})]):_vm._e()])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-06573254\"\n\n},{\"components/InputG3W.vue\":237,\"vueify/lib/insert-css\":1}],239:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"tabIndex\":_vm.tabIndex,\"type\":\"number\"},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change]},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":129}],240:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    return {\n      lonId: getUniqueDomId(),\n      latId: getUniqueDomId(),\n      coordinatebutton: {\n        active: false\n      }\n    };\n  },\n\n  computed: {\n    getCoordinateActive: function getCoordinateActive() {\n      return this.service.state.getCoordinateActive;\n    }\n  },\n  methods: {\n    toggleGetCoordinate: function toggleGetCoordinate() {\n      this.service.toggleGetCoordinate();\n    },\n    changeLonLat: function changeLonLat() {\n      this.change();\n      this.setValue();\n    },\n    setValue: function setValue() {\n      this.state.value = [[1 * this.state.values.lon, 1 * this.state.values.lat]];\n    }\n  },\n  created: function created() {\n    this.state.values = this.state.values || { lon: 0, lat: 0 };\n    this.setValue();\n    this.service.setCoordinateButtonReactiveObject(this.coordinatebutton);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.$nextTick(function () {\n                $(_this.$refs['g3w-input-lat-lon']).tooltip({\n                  trigger: 'hover'\n                });\n              });\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.service.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"position\":\"relative\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"height\":\"35px\",\"margin-right\":\"12px\",\"margin-bottom\":\"5px\"}},[_c('button',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.form.inputs.tooltips.lonlat'),expression:\"'sdk.form.inputs.tooltips.lonlat'\"}],ref:\"g3w-input-lat-lon\",staticClass:\"action skin-tooltip-left skin-color skin-border-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"border-radius\":\"5px\",\"font-weight\":\"bold\",\"font-size\":\"20px\",\"cursor\":\"pointer\"},style:({border: _vm.coordinatebutton.active ? '2px solid' : 0}),attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.toggleGetCoordinate($event)}}})]),_vm._v(\" \"),_c('baseinput',{attrs:{\"state\":_vm.state}},[_c('label',{staticClass:\"col-sm-4 control-label\",attrs:{\"slot\":\"label\",\"for\":_vm.lonId},slot:\"label\"},[_vm._v(_vm._s(_vm.state.labels.lon)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.values.lon),expression:\"state.values.lon\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"5px\"},attrs:{\"id\":_vm.lonId,\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"min\":\"-180\",\"max\":\"180\",\"placeholder\":\"Lon\"},domProps:{\"value\":(_vm.state.values.lon)},on:{\"change\":_vm.changeLonLat,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state.values, \"lon\", $event.target.value)}}})])]),_vm._v(\" \"),_c('baseinput',{attrs:{\"state\":_vm.state}},[_c('label',{staticClass:\"col-sm-4 control-label\",attrs:{\"slot\":\"label\",\"for\":_vm.latId},slot:\"label\"},[_vm._v(_vm._s(_vm.state.labels.lat)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.values.lat),expression:\"state.values.lat\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"5px\"},attrs:{\"id\":_vm.latId,\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"min\":\"-90\",\"max\":\"90\",\"placeholder\":\"Lon\"},domProps:{\"value\":(_vm.state.values.lat)},on:{\"change\":_vm.changeLonLat,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state.values, \"lat\", $event.target.value)}}})])])],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":129}],241:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InputMixins = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar _require3 = require('gui/fields/fields'),\n    MediaField = _require3.media_field;\n\nexports.default = {\n  mixins: [InputMixins],\n  components: {\n    'g3w-media': MediaField\n  },\n  data: function data() {\n    return {\n      data: {\n        value: null,\n        mime_type: null\n      },\n      mediaid: 'media_' + getUniqueDomId(),\n      loading: false\n    };\n  },\n\n  methods: {\n    onClick: function onClick(e) {\n      document.getElementById(this.mediaid).click();\n    },\n    createImage: function createImage(file, field) {\n      var reader = new FileReader();\n      reader.onload = function (e) {\n        field.value = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    checkFileSrc: function checkFileSrc(value) {\n      if (_.isNil(value)) {\n        value = '';\n      }\n      return value;\n    },\n    clearMedia: function clearMedia() {\n      this.data.value = this.data.mime_type = this.state.value = null;\n      this.change();\n    }\n  },\n  created: function created() {\n    if (this.state.value) {\n      this.data.value = this.state.value.value;\n      this.data.mime_type = this.state.value.mime_type;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var fieldName = this.state.name;\n    var formData = {\n      name: fieldName,\n      csrfmiddlewaretoken: this.$cookie.get('csrftoken')\n    };\n    this.$nextTick(function () {\n      $('#' + _this.mediaid).fileupload({\n        dataType: 'json',\n        formData: formData,\n        start: function start() {\n          _this.loading = true;\n        },\n        done: function done(e, data) {\n          var response = data.result[fieldName];\n          if (response) {\n            _this.data.value = response.value;\n            _this.data.mime_type = response.mime_type;\n            _this.state.value = _this.data;\n            _this.change();\n          }\n        },\n        fail: function fail() {\n          _gui2.default.notify.error(t(\"info.server_error\"));\n        },\n        always: function always() {\n          _this.loading = false;\n        }\n      });\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    $('#' + this.mediaid).fileupload('destroy');\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('div',{staticClass:\"g3w_input_button skin-border-color\",staticStyle:{\"border-style\":\"solid\",\"border-width\":\"2px\",\"border-radius\":\"4px\",\"width\":\"100%\",\"cursor\":\"pointer\",\"text-align\":\"center\"},on:{\"click\":_vm.onClick}},[_c('i',{staticClass:\"fa-2x skin-color\",class:_vm.g3wtemplate.getFontClass('file-upload'),staticStyle:{\"padding\":\"5px\"}},[_c('input',{class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"display\":\"none\"},attrs:{\"id\":_vm.mediaid,\"name\":_vm.state.name,\"tabIndex\":_vm.tabIndex,\"data-url\":_vm.state.input.options.uploadurl,\"type\":\"file\"}})])]),_vm._v(\" \"),_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('g3w-media',{attrs:{\"state\":_vm.data}},[_c('div',{staticClass:\"clearmedia\",on:{\"click\":function($event){return _vm.clearMedia()}}},[_c('i',{staticClass:\"g3w-icon\",class:_vm.g3wtemplate.font['trash-o']})])])],1)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"gui/fields/fields\":118,\"gui/inputs/input\":129,\"services/gui\":358}],242:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\nvar Service = require('gui/inputs/picklayer/service');\n\nexports.default = {\n  mixins: [Input],\n  methods: {\n    pickLayer: function pickLayer() {\n      var _this = this;\n\n      this.pickservice.pick().then(function (value) {\n        return _this.state.value = value;\n      }).catch(function () {});\n    },\n    unpick: function unpick() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        return !_this2.pickservice.isPicked() && _this2.pickservice.unpick();\n      }, 200);\n    }\n  },\n  created: function created() {\n    this.pickservice = new Service(this.state.input.options);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.pickservice.clear();\n    this.pickservice = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"left\":\"0\",\"top\":\"7px\",\"position\":\"absolute\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},style:({cursor: _vm.editable ? 'pointer': null}),attrs:{\"readonly\":\"readonly\",\"tabIndex\":_vm.tabIndex},domProps:{\"value\":(_vm.state.value)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change],\"click\":_vm.pickLayer,\"blur\":_vm.unpick}})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":129,\"gui/inputs/picklayer/service\":137}],243:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    return {\n      ids: [getUniqueDomId(), getUniqueDomId()],\n      name: 'name_' + getUniqueDomId(),\n      radio_value: this.state.value\n    };\n  },\n\n  watch: {\n    'radio_value': function radio_value() {\n      this.state.value = this.radio_value;\n      this.change();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},_vm._l((_vm.state.input.options.values),function(value,index){return _c('span',{key:value.key},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.radio_value),expression:\"radio_value\"}],staticClass:\"magic-radio\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"id\":_vm.ids[index],\"name\":_vm.name,\"tabIndex\":_vm.tabIndex,\"type\":\"radio\"},domProps:{\"value\":value.value,\"checked\":_vm._q(_vm.radio_value,value.value)},on:{\"change\":function($event){_vm.radio_value=value.value}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.ids[index]}},[_vm._v(_vm._s(value.key))])])}),0)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":129}],244:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    var _state$input$options$ = this.state.input.options.values[0],\n        min = _state$input$options$.min,\n        max = _state$input$options$.max,\n        step = _state$input$options$.Step;\n\n    return {\n      min: min,\n      max: max,\n      step: step\n    };\n  },\n\n  methods: {\n    checkValue: function checkValue() {\n      var isEmpty = _.isEmpty(_.trim(this.state.value));\n\n      if (isEmpty && !this.state.validate.required) {\n        this.state.value = this.state.input.options.values[0].default;\n      }\n\n      this.state.validate.valid = !this.state.validate.required;\n\n      if (!isEmpty) {\n        this.state.validate.valid = this.service.getValidator().validate(this.state.value);\n      }\n\n      this.change();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"padding-right\":\"5px\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"step\":_vm.step},domProps:{\"value\":(_vm.state.value)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==69){ return null; }$event.preventDefault();},function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }$event.stopPropagation();}],\"change\":_vm.checkValue,\"blur\":_vm.checkValue,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":129}],245:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar PickLayerInputService = require('gui/inputs/picklayer/service');\nvar Layer = require('core/layers/layer');\nvar InputMixin = require('gui/inputs/input');\n\nvar G3W_SELECT2_NULL_VALUE = null;exports.default = {\n  mixins: [InputMixin, _mixins.selectMixin, _mixins.select2Mixin],\n  data: function data() {\n    return {\n      showPickLayer: false,\n      picked: false\n    };\n  },\n\n  computed: {\n    showNullOption: function showNullOption() {\n      return this.state.nullOption === undefined || this.state.nullOption === true;\n    },\n    select2NullValue: function select2NullValue() {\n      return this.showNullOption && G3W_SELECT2_NULL_VALUE;\n    }\n  },\n  watch: {\n    'state.input.options.values': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(values) {\n        var _this = this;\n\n        var changed, value, findvalue;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                changed = false;\n\n                if (!this.autocomplete) {\n                  value = void 0;\n\n                  if (values.length === 0) value = G3W_SELECT2_NULL_VALUE;else {\n                    findvalue = values.find(function (keyvalue) {\n                      return keyvalue.value == _this.state.value;\n                    });\n\n                    if (!findvalue) value = G3W_SELECT2_NULL_VALUE;else value = findvalue.value;\n                  }\n                  changed = value != this.state.value;\n                  this.state.value = value;\n                  this.setValue();\n                }\n                changed && this.change();\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateInputOptionsValues(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateInputOptionsValues;\n    }()\n  },\n  methods: {\n    pickLayerValue: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var values, field, value;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n\n                if (!this.picked) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                this.pickLayerInputService.unpick();\n                this.picked = false;\n                _context2.next = 16;\n                break;\n\n              case 6:\n                this.picked = true;\n                _context2.next = 9;\n                return this.pickLayerInputService.pick();\n\n              case 9:\n                values = _context2.sent;\n                field = this.state.input.options.value;\n                value = values[field];\n\n                this.select2.val(value).trigger('change');\n                this.changeSelect(value);\n                _gui2.default.showUserMessage({\n                  type: 'success',\n                  autoclose: true\n                });\n                this.picked = false;\n\n              case 16:\n                _context2.next = 22;\n                break;\n\n              case 18:\n                _context2.prev = 18;\n                _context2.t0 = _context2['catch'](0);\n\n                _gui2.default.showUserMessage({\n                  type: \"warning\",\n                  message: 'sdk.form.inputs.messages.errors.picklayer',\n                  autoclose: true\n                });\n                this.picked = false;\n\n              case 22:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 18]]);\n      }));\n\n      function pickLayerValue() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return pickLayerValue;\n    }(),\n    setAndListenSelect2Change: function setAndListenSelect2Change() {\n      var _this2 = this;\n\n      this.select2.on('select2:select', function (event) {\n        var value = event.params.data.$value ? event.params.data.$value : event.params.data.id;\n        value = _this2.showNullOption ? value === G3W_SELECT2_NULL_VALUE ? null : value.toString() : value.toString();\n        _this2.changeSelect(value);\n      });\n    }\n  },\n  created: function created() {\n    this.open = false;\n    if (this.state.input.type === 'select_autocomplete') {\n      var dependencyLayerId = this.state.input.options.layer_id;\n      try {\n        var dependencyLayer = _mapLayers2.default.getLayerById(dependencyLayerId).getEditingLayer() || _catalogLayers2.default.getLayerById(dependencyLayerId);\n        this.showPickLayer = dependencyLayer ? dependencyLayer.getType() !== Layer.LayerTypes.TABLE : false;\n        var _state$input$options = this.state.input.options,\n            field = _state$input$options.value,\n            layer_id = _state$input$options.layer_id;\n\n        var options = {\n          layer_id: layer_id,\n          fields: [field],\n          pick_type: dependencyLayer.isStarted && dependencyLayer.isStarted() && 'map' || null\n        };\n        this.pickLayerInputService = this.showPickLayer && new PickLayerInputService(options);\n      } catch (err) {}\n    }\n    this.autocomplete && this.state.value && this.service.getKeyByValue({\n      search: this.state.value\n    });\n  },\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      var selectElement, language, dropdownParent;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.unwatch;\n              selectElement = $(this.$refs.select);\n              language = this.getLanguage();\n              dropdownParent = this.state.dropdownParent === undefined && $('#g3w-view-content');\n\n              if (this.autocomplete) {\n                this.select2 = selectElement.select2({\n                  minimumInputLength: 1,\n                  dropdownParent: dropdownParent,\n                  allowClear: this.showNullOption,\n                  language: language,\n                  ajax: {\n                    delay: 250,\n                    transport: function transport(params, success, failure) {\n                      var search = params.data.term;\n\n                      $('.select2-results__option.loading-results').siblings().hide();\n                      _this3.resetValues();\n                      _this3.service.getData({\n                        search: search\n                      }).then(function (values) {\n                        return success(values);\n                      }).catch(function (err) {\n                        return failure(err);\n                      });\n                    },\n                    processResults: function processResults(data, params) {\n                      params.page = params.page || 1;\n                      return {\n                        results: data,\n                        pagination: {\n                          more: false\n                        }\n                      };\n                    } }\n                });\n              } else this.select2 = selectElement.select2({\n                language: language,\n                dropdownParent: dropdownParent,\n                minimumResultsForSearch: this.isMobile() ? -1 : null\n              });\n              this.setAndListenSelect2Change();\n              this.setValue();\n\n            case 9:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    if (this.pickLayerInputService) {\n      this.pickLayerInputService.clear();\n      this.pickLayerInputService = null;\n    }\n    this.unwatch && this.unwatch();\n    this.unwatch = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[(_vm.showPickLayer)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.form.inputs.tooltips.picklayer'),expression:\"'sdk.form.inputs.tooltips.picklayer'\"},{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disabled),expression:\"disabled\"}],staticClass:\"skin-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"cursor\":\"pointer\",\"position\":\"relative\",\"top\":\"2px\",\"font-size\":\"1.2em\"},attrs:{\"slot\":\"label-action\",\"data-placement\":\"top\"},on:{\"click\":_vm.pickLayerValue},slot:\"label-action\"}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disabled),expression:\"disabled\"}],attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex},slot:\"body\"},[_c('select',{ref:\"select\",staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"}},[(_vm.showNullOption)?_c('option',{domProps:{\"value\":_vm.select2NullValue}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.input.options.values),function(value){return _c('option',{key:_vm.getValue(value.value),domProps:{\"value\":_vm.getValue(value.value)}},[_vm._v(_vm._s(value.key))])})],2)]),_vm._v(\" \"),(_vm.loadingState === 'error')?_c('p',{directives:[{name:\"t\",rawName:\"v-t\",value:('server_error'),expression:\"'server_error'\"}],staticClass:\"error-input-message\",attrs:{\"slot\":\"message\"},slot:\"message\"}):_vm._e()])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/layers/layer\":34,\"gui/inputs/input\":129,\"gui/inputs/picklayer/service\":137,\"mixins\":340,\"services/gui\":358,\"store/catalog-layers\":371,\"store/map-layers\":374}],246:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  watch: {\n    'state.input.options.min': function stateInputOptionsMin() {\n      this.service.changeInfoMessage();\n    },\n    'state.input.options.max': function stateInputOptionsMax() {\n      this.service.changeInfoMessage();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.state.value))]),_vm._v(\" \"),_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"padding-right\":\"5px\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"min\":_vm.state.input.options.min,\"max\":_vm.state.input.options.max,\"type\":\"range\",\"step\":_vm.state.input.options.step},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"__r\":function($event){return _vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":129}],247:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"tabIndex\":_vm.tabIndex,\"field\":_vm.state.name,\"id\":_vm.state.name},domProps:{\"value\":(_vm.state.value)},on:{\"keyup\":function($event){_vm.isMobile() ? _vm.mobileChange($event) : _vm.change()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":129}],248:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"textarea[data-v-3ac5abe4]{resize:none;border:1px solid #ccc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('textarea',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"max-width\":\"100%\",\"min-width\":\"100%\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"rows\":\"3\",\"tabIndex\":_vm.tabIndex},domProps:{\"value\":(_vm.state.value)},on:{\"keydown\":function($event){$event.stopPropagation();},\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change],\"change\":_vm.change},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-3ac5abe4\"\n\n},{\"gui/inputs/input\":129,\"vueify/lib/insert-css\":1}],249:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"button.ql-html{width:40px!important}button.ql-html:after{content:\\\"html\\\"}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  methods: {\n    setupTableCustomTools: function setupTableCustomTools() {\n      var buttonColumnLeft = this.$el.querySelector('.ql-column-left');\n      buttonColumnLeft.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-left-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M10.205 12.456A.5.5 0 0 0 10.5 12V4a.5.5 0 0 0-.832-.374l-4.5 4a.5.5 0 0 0 0 .748l4.5 4a.5.5 0 0 0 .537.082z\"/></svg>';\n      buttonColumnLeft.title = \"Add column left\";\n\n      var buttonColumnRight = this.$el.querySelector('.ql-column-right');\n      buttonColumnRight.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-right-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M5.795 12.456A.5.5 0 0 1 5.5 12V4a.5.5 0 0 1 .832-.374l4.5 4a.5.5 0 0 1 0 .748l-4.5 4a.5.5 0 0 1-.537.082z\"/></svg>';\n      buttonColumnRight.title = \"Add column right\";\n\n      var buttonColumnRemove = this.$el.querySelector('.ql-column-remove');\n      buttonColumnRemove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/></svg>';\n      buttonColumnRemove.title = \"Remove column\";\n\n      var buttonRowAbove = this.$el.querySelector('.ql-row-above');\n      buttonRowAbove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-up-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M3.544 10.705A.5.5 0 0 0 4 11h8a.5.5 0 0 0 .374-.832l-4-4.5a.5.5 0 0 0-.748 0l-4 4.5a.5.5 0 0 0-.082.537z\"/></svg>';\n      buttonRowAbove.title = \"Add row above\";\n\n\n      var buttonRowBelow = this.$el.querySelector('.ql-row-below');\n      buttonRowBelow.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-down-square\" viewBox=\"0 0 16 16\"><path d=\"M3.626 6.832A.5.5 0 0 1 4 6h8a.5.5 0 0 1 .374.832l-4 4.5a.5.5 0 0 1-.748 0l-4-4.5z\"/><path d=\"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2z\"/></svg>';\n      buttonRowBelow.title = \"Add row below\";\n\n      var buttonRowRemove = this.$el.querySelector('.ql-row-remove');\n      buttonRowRemove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-dash-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\"/></svg>';\n      buttonRowRemove.title = \"Remove row\";\n    }\n  },\n  created: function created() {\n    this.edit_state = {\n      edit: false,\n      show_html: false\n    };\n\n    if (!this.state.edit_states) this.state.edit_states = [];\n    this.state.edit_states.push(this.edit_state);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var toolbarOptions;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              toolbarOptions = [[{ header: [1, 2, 3, 4, 5, 6, false] }], [{ 'align': '' }, { 'align': 'center' }, { 'align': 'right' }, { 'align': 'justify' }], [{ 'color': [] }, { 'background': [] }], ['bold', 'italic', 'underline', { 'list': 'ordered' }, { 'list': 'bullet' }, 'link', 'clean', 'html'], ['table', 'column-left', 'column-right', 'column-remove', 'row-above', 'row-below', 'row-remove']];\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              this.quill = new Quill(this.$refs.quill_editor, {\n                modules: {\n                  table: true,\n                  toolbar: {\n                    container: toolbarOptions,\n                    handlers: {\n                      html: function html() {\n                        _this.edit_state.show_html = !_this.edit_state.show_html;\n                        if (_this.edit_state.show_html) _this.quill.container.firstChild.innerText = _this.quill.container.firstChild.innerHTML;else _this.quill.container.firstChild.innerHTML = _this.quill.container.firstChild.innerText;\n                        var _iteratorNormalCompletion = true;\n                        var _didIteratorError = false;\n                        var _iteratorError = undefined;\n\n                        try {\n                          for (var _iterator = _this.$el.querySelectorAll('.ql-formats')[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                            var qlformat = _step.value;\n                            var _iteratorNormalCompletion2 = true;\n                            var _didIteratorError2 = false;\n                            var _iteratorError2 = undefined;\n\n                            try {\n                              for (var _iterator2 = qlformat.children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                                var child = _step2.value;\n\n                                if (!child.classList.contains('ql-html')) child.classList.toggle('g3w-disabled');else child.classList.toggle('skin-color');\n                              }\n                            } catch (err) {\n                              _didIteratorError2 = true;\n                              _iteratorError2 = err;\n                            } finally {\n                              try {\n                                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                  _iterator2.return();\n                                }\n                              } finally {\n                                if (_didIteratorError2) {\n                                  throw _iteratorError2;\n                                }\n                              }\n                            }\n                          }\n                        } catch (err) {\n                          _didIteratorError = true;\n                          _iteratorError = err;\n                        } finally {\n                          try {\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                              _iterator.return();\n                            }\n                          } finally {\n                            if (_didIteratorError) {\n                              throw _iteratorError;\n                            }\n                          }\n                        }\n                      },\n                      'column-left': function columnLeft() {\n                        return _this.table.insertColumnLeft();\n                      },\n                      'column-right': function columnRight() {\n                        return _this.table.insertColumnRight();\n                      },\n                      'column-remove': function columnRemove() {\n                        return _this.table.deleteColumn();\n                      },\n                      'row-above': function rowAbove() {\n                        return _this.table.insertRowAbove();\n                      },\n                      'row-below': function rowBelow() {\n                        return _this.table.insertRowBelow();\n                      },\n                      'row-remove': function rowRemove() {\n                        return _this.table.deleteRow();\n                      }\n                    }\n\n                  }\n                },\n                theme: 'snow'\n              });\n              this.quill.container.firstChild.innerHTML = this.state.value;\n\n              this.table = this.quill.getModule('table');\n              this.setupTableCustomTools();\n\n              this.handler = function () {\n                _this.state.value = _this.edit_state.show_html ? _this.quill.container.firstChild.innerText : _this.quill.container.firstChild.innerHTML;\n                _this.edit_state.edit = true;\n                _this.change();\n                setTimeout(function () {\n                  return _this.edit_state.edit = false;\n                });\n              };\n\n              this.quill.on('text-change', this.handler);\n\n            case 9:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n\n  watch: {\n    'state.value': function stateValue(value) {\n      if (!this.edit_state.edit) {\n        if (this.edit_state.show_html) this.quill.container.firstChild.innerText = value;else this.quill.container.firstChild.innerHTML = value;\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.quill.off('text-change', this.handler);\n    this.handler = null;\n    this.quill = null;\n    this.edit_state.edit = false;\n    this.edit_state.show_html = false;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],attrs:{\"state\":_vm.state}},[_c('div',{ref:\"quill_editor\",staticClass:\"form-control\",style:({border: _vm.novalid ? '1px solid reed' : '1px solid #ccc'}),attrs:{\"slot\":\"body\"},on:{\"keydown\":function($event){$event.stopPropagation();}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":129,\"vueify/lib/insert-css\":1}],250:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input, _mixins.selectMixin],\n  data: function data() {\n    var id = 'unique_' + getUniqueDomId();\n    return { id: id };\n  },\n\n  watch: {\n    'state.input.options.values': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(values) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.state.value = this.state.value ? this.state.value : null;\n                this.state.value !== null && values.indexOf(this.state.value) === -1 && this.service.addValueToValues(this.state.value);\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                this.state.value && this.select2.val(this.state.value).trigger('change');\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateInputOptionsValues(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateInputOptionsValues;\n    }()\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              if (this.state.input.options.editable) {\n                this.select2 = $('#' + this.id).select2({\n                  dropdownParent: $('#g3w-view-content'),\n                  tags: true,\n                  language: this.getLanguage()\n                });\n                this.select2.val(this.state.value).trigger('change');\n                this.select2.on('select2:select', function (event) {\n                  var value = event.params.data.$value ? event.params.data.$value : event.params.data.id;\n                  _this.changeSelect(value);\n                });\n              }\n\n            case 3:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('select',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"id\":_vm.id,\"tabIndex\":_vm.tabIndex},slot:\"body\"},[_c('option',{attrs:{\"value\":\"null\"}}),_vm._v(\" \"),_vm._l((_vm.state.input.options.values),function(value){return _c('option',{key:value,domProps:{\"value\":_vm.getValue(value)}},[_vm._v(_vm._s(_vm.getValue(value)))])})],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"gui/inputs/input\":129,\"mixins\":340}],251:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"li .item-text[data-v-41231f64]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n\n  name: 'Layeropacitypicker',\n\n  props: {\n    layer: {\n      type: Object,\n      required: true\n    }\n  },\n\n  data: function data() {\n    return {\n      menu: {\n        show: false,\n        top: 0,\n        left: 0,\n        overflowY: 'none',\n        style: null,\n        default: null\n      }\n    };\n  },\n\n  methods: {\n    setLayerOpacity: function setLayerOpacity(_ref) {\n      var _ref$id = _ref.id,\n          id = _ref$id === undefined ? this.layer.id : _ref$id,\n          opacity = _ref.value;\n\n      if (this.layer.opacity == opacity) {\n        return;\n      }\n      this.layer.opacity = opacity;\n      var layer = _catalogLayers2.default.getLayerById(id);\n      if (layer) {\n        _catalogeventhub2.default.$emit('layer-change-opacity', { layerId: id });\n        layer.change();\n      }\n    },\n    showLayerOpacityMenu: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(bool, evt) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.$emit('show-menu-item', { menu: this.menu, bool: bool, evt: evt });\n\n              case 1:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function showLayerOpacityMenu(_x, _x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return showLayerOpacityMenu;\n    }()\n  },\n\n  created: function created() {\n    this.$emit('init-menu-item', { layerOpacity: this.menu });\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{on:{\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showLayerOpacityMenu(false, $event)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showLayerOpacityMenu(true, $event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('slider')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.layer_opacity'),expression:\"'catalog_items.contextmenu.layer_opacity'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon\",class:_vm.g3wtemplate.getFontClass('arrow-right'),staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"margin-top\":\"3px\"}}),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layer && _vm.menu.show),expression:\"layer && menu.show\"}],style:({\n      top:             _vm.menu.top       + 'px',\n      left:            _vm.menu.left - 15 + 'px',\n      maxHeight:       _vm.menu.maxHeight + 'px',\n      overflowY:       _vm.menu.overflowY,\n      paddingLeft:     0,\n      position:        'fixed',\n      backgroundColor: '#FFF',\n      color:           '#000',\n     })},[_c('li',[_c('range',{attrs:{\"value\":_vm.layer.opacity,\"min\":0,\"max\":100,\"step\":1,\"sync\":false,\"showValue\":true,\"unit\":'%'},on:{\"change-range\":_vm.setLayerOpacity}})],1)])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-41231f64\"\n\n},{\"gui/catalog/vue/catalogeventhub\":113,\"store/catalog-layers\":371,\"vueify/lib/insert-css\":1}],252:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-map-controls-left-bottom[data-v-70e886b4]{position:absolute;bottom:75px;left:10px;z-index:1}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MapAddLayer = require('components/MapAddLayer.vue');\n\nvar _MapAddLayer2 = _interopRequireDefault(_MapAddLayer);\n\nvar _MapFooter = require('components/MapFooter.vue');\n\nvar _MapFooter2 = _interopRequireDefault(_MapFooter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    var _$options = this.$options,\n        service = _$options.service,\n        target = _$options.target;\n\n    return {\n      target: target,\n      maps_container: this.$options.maps_container,\n      service: service,\n      hidemaps: service.state.hidemaps,\n      map_info: service.state.map_info\n    };\n  },\n\n  components: {\n    'addlayer': _MapAddLayer2.default,\n    MapFooter: _MapFooter2.default\n  },\n  computed: {\n    mapcontrolsalignement: function mapcontrolsalignement() {\n      return this.service.state.mapcontrolsalignement;\n    },\n    disableMapControls: function disableMapControls() {\n      return this.service.state.mapControl.disabled;\n    }\n  },\n  methods: {\n    showHideControls: function showHideControls() {\n      var mapControls = this.service.getMapControls();\n      mapControls.forEach(function (control) {\n        return control.type !== \"scaleline\" && control.control.showHide();\n      });\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.crs = this.service.getCrs();\n              _context2.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              this.service.setMapControlsContainer($(this.$refs['g3w-map-controls']));\n\n              this.service.onafter('addHideMap', _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n                var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                    ratio = _ref3.ratio,\n                    _ref3$layers = _ref3.layers,\n                    layers = _ref3$layers === undefined ? [] : _ref3$layers,\n                    _ref3$mainview = _ref3.mainview,\n                    mainview = _ref3$mainview === undefined ? false : _ref3$mainview,\n                    _ref3$switchable = _ref3.switchable,\n                    switchable = _ref3$switchable === undefined ? false : _ref3$switchable;\n\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return _this.$nextTick();\n\n                      case 2:\n                        _this.service._addHideMap({ ratio: ratio, layers: layers, mainview: mainview, switchable: switchable });\n\n                      case 3:\n                      case 'end':\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, _this);\n              })));\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.service.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.maps_container}},[_vm._l((_vm.hidemaps),function(hidemap){return _c('div',{key:hidemap.id,staticClass:\"g3w-map hidemap\",attrs:{\"id\":hidemap.id}})}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-map\",attrs:{\"id\":_vm.target}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disableMapControls),expression:\"disableMapControls\"}],ref:\"g3w-map-controls\",staticClass:\"g3w-map-controls\",class:_vm.mapcontrolsalignement,staticStyle:{\"display\":\"flex\"}}),_vm._v(\" \"),(_vm.map_info.info)?_c('div',{ref:\"g3w-map-info\",style:(_vm.map_info.style),attrs:{\"id\":\"g3w-map-info\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.map_info.info)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('addlayer',{attrs:{\"service\":_vm.service}}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-map-controls-left-bottom\"})],1),_vm._v(\" \"),_c('map-footer',{attrs:{\"service\":_vm.service}})],2)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{attrs:{\"id\":\"marker\"}})])}]\n__vue__options__._scopeId = \"data-v-70e886b4\"\n\n},{\"components/MapAddLayer.vue\":253,\"components/MapFooter.vue\":255,\"vueify/lib/insert-css\":1}],253:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vueColor = require('vue-color');\n\nvar _constant = require('app/constant');\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nvar _require = require('core/utils/geo'),\n    createVectorLayerFromFile = _require.createVectorLayerFromFile,\n    createStyleFunctionToVectorLayer = _require.createStyleFunctionToVectorLayer;\n\nvar SUPPORTED_FORMAT = ['zip', 'geojson', 'GEOJSON', 'kml', 'kmz', 'KMZ', 'KML', 'json', 'gpx', 'gml', 'csv'];\nvar CSV_SEPARATORS = [',', ';'];\n\n_vueColor.Chrome.mounted = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return this.$nextTick();\n\n        case 2:\n          $('.vue-color__chrome__toggle-btn').remove();\n          $('.vue-color__editable-input__label').remove();\n          $('.vue-color__chrome__saturation-wrap').css('padding-bottom', '100px');\n          $('.vue-color__chrome').css({\n            'box-shadow': '0 0 0 0',\n            'border': '1px solid #97A1A8'\n          });\n\n        case 6:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nexports.default = {\n  props: ['service'],\n  data: function data() {\n    var MAPEPSG = this.service.getCrs();\n    _constant.EPSG.find(function (epsg) {\n      return epsg === MAPEPSG;\n    }) === undefined && _constant.EPSG.unshift(MAPEPSG);\n    return {\n      vectorLayer: null,\n      options: _constant.EPSG,\n      error: false,\n      error_message: null,\n      position: null,\n      loading: false,\n      fields: [],\n      field: null,\n      accepted_extension: SUPPORTED_FORMAT.map(function (format) {\n        return '.' + format;\n      }).join(','),\n      csv: {\n        valid: false,\n        loading: false,\n        headers: [],\n        x: null,\n        y: null,\n        separators: CSV_SEPARATORS,\n        separator: CSV_SEPARATORS[0]\n      },\n      layer: {\n        name: null,\n        type: null,\n        crs: null,\n        mapCrs: null,\n        color: {\n          hex: '#194d33',\n          rgba: {\n            r: 25,\n            g: 77,\n            b: 51,\n            a: 1\n          },\n          a: 1\n        },\n        data: null,\n        visible: true,\n        title: null,\n        id: null,\n        external: true\n      }\n    };\n  },\n\n  components: {\n    'chrome-picker': _vueColor.Chrome\n  },\n  computed: {\n    csv_extension: function csv_extension() {\n      return this.layer.type === 'csv';\n    },\n    add: function add() {\n      return this.layer.data || this.csv.valid;\n    }\n  },\n  methods: {\n    setLayerMapPosition: function setLayerMapPosition(position) {\n      this.position = position;\n    },\n    setError: function setError(type) {\n      this.error_message = 'sdk.errors.' + type;\n      this.error = true;\n    },\n    clearError: function clearError() {\n      this.error = false;\n      this.error_message = null;\n    },\n    onChangeColor: function onChangeColor(val) {\n      this.layer.color = val;\n    },\n    onAddLayer: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(evt) {\n        var _this = this;\n\n        var reader, name, type, input_file, promiseData;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                reader = new FileReader();\n                name = evt.target.files[0].name;\n                type = evt.target.files[0].name.split('.');\n\n                type = type[type.length - 1].toLowerCase();\n                input_file = $(this.$refs.input_file);\n\n                if (!(SUPPORTED_FORMAT.indexOf(type) !== -1)) {\n                  _context2.next = 32;\n                  break;\n                }\n\n                this.clearError();\n                this.layer.mapCrs = this.service.getEpsg();\n                this.layer.name = name;\n                this.layer.title = name;\n                this.layer.id = name;\n                this.layer.type = type;\n\n                if (!(this.layer.type === 'csv')) {\n                  _context2.next = 17;\n                  break;\n                }\n\n                reader.onload = function (evt) {\n                  input_file.val(null);\n                  var csv_data = evt.target.result.split(/\\r\\n|\\n/).filter(function (row) {\n                    return row;\n                  });\n\n                  var _csv_data = _toArray(csv_data),\n                      headers = _csv_data[0],\n                      values = _csv_data.slice(1);\n\n                  var handle_csv_headers = function handle_csv_headers(separator) {\n                    var data = null;\n                    _this.csv.loading = true;\n                    var csv_headers = headers.split(separator);\n                    var headers_length = csv_headers.length;\n                    if (headers_length > 1) {\n                      _this.csv.headers = csv_headers;\n                      _this.fields = csv_headers;\n                      _this.csv.x = csv_headers[0];\n                      _this.csv.y = csv_headers[1];\n                      data = {\n                        headers: csv_headers,\n                        separator: separator,\n                        x: _this.csv.x,\n                        y: _this.csv.y,\n                        values: values\n                      };\n                      _this.csv.valid = true;\n                    } else {\n                      _this.csv.headers = _this.fields = [];\n                      _this.vectorLayer = null;\n                      _this.csv.valid = false;\n                      _this.fields.splice(0);\n                    }\n                    _this.csv.loading = false;\n                    return data;\n                  };\n                  _this.layer.data = handle_csv_headers(_this.csv.separator);\n                  _this.$watch('csv.separator', function (separator) {\n                    return _this.layer.data = handle_csv_headers(separator);\n                  });\n                };\n                reader.readAsText(evt.target.files[0]);\n                _context2.next = 30;\n                break;\n\n              case 17:\n                promiseData = new Promise(function (resolve, reject) {\n                  if (_this.layer.type === 'zip' || _this.layer.type === 'kmz') {\n                    var data = evt.target.files[0];\n                    input_file.val(null);\n                    resolve(data);\n                  } else {\n                    reader.onload = function (evt) {\n                      var data = evt.target.result;\n                      input_file.val(null);\n                      resolve(data);\n                    };\n                    reader.readAsText(evt.target.files[0]);\n                  }\n                });\n                _context2.next = 20;\n                return promiseData;\n\n              case 20:\n                this.layer.data = _context2.sent;\n                _context2.prev = 21;\n\n                this.fields.splice(0);_context2.next = 25;\n                return this.createVectorLayer();\n\n              case 25:\n                this.fields = this.vectorLayer.get('_fields');\n                _context2.next = 30;\n                break;\n\n              case 28:\n                _context2.prev = 28;\n                _context2.t0 = _context2['catch'](21);\n\n              case 30:\n                _context2.next = 33;\n                break;\n\n              case 32:\n                this.setError('unsupported_format');\n\n              case 33:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[21, 28]]);\n      }));\n\n      function onAddLayer(_x) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return onAddLayer;\n    }(),\n    createVectorLayer: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return createVectorLayerFromFile(this.layer);\n\n              case 3:\n                this.vectorLayer = _context3.sent;\n                _context3.next = 6;\n                return this.$nextTick();\n\n              case 6:\n                _context3.next = 11;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3['catch'](0);\n                this.setError('add_external_layer');\n              case 11:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 8]]);\n      }));\n\n      function createVectorLayer() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return createVectorLayer;\n    }(),\n    addLayer: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n        var crs;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.layer.data || this.csv.valid)) {\n                  _context4.next = 27;\n                  break;\n                }\n\n                crs = this.layer.crs;\n                _context4.prev = 2;\n                _context4.prev = 3;\n                _context4.next = 6;\n                return Projections.registerProjection(crs);\n\n              case 6:\n                _context4.next = 12;\n                break;\n\n              case 8:\n                _context4.prev = 8;\n                _context4.t0 = _context4['catch'](3);\n\n                this.setError(_context4.t0);\n                return _context4.abrupt('return');\n\n              case 12:\n\n                this.loading = true;\n                _context4.next = 15;\n                return createVectorLayerFromFile(this.layer);\n\n              case 15:\n                this.vectorLayer = _context4.sent;\n\n                this.vectorLayer.setStyle(createStyleFunctionToVectorLayer({\n                  color: this.layer.color,\n                  field: this.field\n                }));\n                _context4.next = 19;\n                return this.service.addExternalLayer(this.vectorLayer, {\n                  crs: this.layer.crs,\n                  type: this.layer.type,\n                  position: this.position\n                });\n\n              case 19:\n                $(this.$refs.modal_addlayer).modal('hide');\n                this.clear();\n\n                _context4.next = 26;\n                break;\n\n              case 23:\n                _context4.prev = 23;\n                _context4.t1 = _context4['catch'](2);\n\n                this.setError('add_external_layer');\n\n              case 26:\n                this.loading = false;\n\n              case 27:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[2, 23], [3, 8]]);\n      }));\n\n      function addLayer() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return addLayer;\n    }(),\n    clear: function clear() {\n      this.clearError();\n      this.loading = false;\n      this.layer.name = null;\n      this.layer.title = null;\n      this.layer.id = null;\n      this.layer.type = null;\n      this.layer.crs = this.service.getCrs();\n      this.layer.color = {\n        hex: '#194d33',\n        rgba: { r: 25, g: 77, b: 51, a: 1 },\n        a: 1\n      };\n      this.layer.data = null;\n      this.vectorLayer = null;\n      this.fields = [];\n      this.field = null;\n      this.csv.valid = false;\n    },\n    clearLayer: function clearLayer() {\n      this.clear();\n    }\n  },\n  watch: {\n    'csv.x': function csvX(value) {\n      if (value) this.layer.data.x = value;\n    },\n    'csv.y': function csvY(value) {\n      if (value) this.layer.data.y = value;\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.layer.crs = this.service.getCrs();\n    this.service.on('addexternallayer', function () {\n      return _this2.modal.modal('show');\n    });\n  },\n  mounted: function () {\n    var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5() {\n      var _this3 = this;\n\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.modal = $('#modal-addlayer').modal('hide');\n              this.modal.on('hide.bs.modal', function () {\n                _this3.clear();\n              });\n\n            case 4:\n            case 'end':\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }));\n\n    function mounted() {\n      return _ref5.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.clear();\n    this.modal.modal('hide');\n    this.modal.remove();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"modal_addlayer\",staticClass:\"modal fade\",attrs:{\"id\":\"modal-addlayer\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"×\")]),_vm._v(\" \"),_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.header'),expression:\"'mapcontrols.add_layer_control.header'\"}],staticClass:\"modal-title\",staticStyle:{\"font-weight\":\"bold\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_projection'),expression:\"'mapcontrols.add_layer_control.select_projection'\"}],attrs:{\"for\":\"projection-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.layer.crs),expression:\"layer.crs\"}],staticClass:\"form-control\",attrs:{\"id\":\"projection-layer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.layer, \"crs\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.options),function(option){return _c('option',{domProps:{\"value\":option}},[_vm._v(_vm._s(option))])}),0)]),_vm._v(\" \"),_c('layerspositions',{on:{\"layer-position-change\":function($event){return _vm.setLayerMapPosition($event)}}}),_vm._v(\" \"),_c('p',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_color'),expression:\"'mapcontrols.add_layer_control.select_color'\"}],staticStyle:{\"font-weight\":\"700\"}}),_vm._v(\" \"),_c('chrome-picker',{staticStyle:{\"width\":\"100%\",\"margin\":\"auto\"},on:{\"input\":_vm.onChangeColor},model:{value:(_vm.layer.color),callback:function ($$v) {_vm.$set(_vm.layer, \"color\", $$v)},expression:\"layer.color\"}}),_vm._v(\" \"),_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('form',{attrs:{\"id\":\"addcustomlayer\"}},[_c('input',{ref:\"input_file\",attrs:{\"type\":\"file\",\"title\":\" \",\"accept\":_vm.accepted_extension},on:{\"change\":function($event){return _vm.onAddLayer($event)}}}),_vm._v(\" \"),_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.drag_layer'),expression:\"'mapcontrols.add_layer_control.drag_layer'\"}]}),_vm._v(\" \"),(_vm.layer.name)?_c('h4',{staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.layer.name))]):_vm._e(),_vm._v(\" \"),_c('div',[_c('i',{staticClass:\"fa-5x\",class:_vm.g3wtemplate.getFontClass('cloud-upload'),attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\" \"),_c('p',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"[.gml, .geojson, .kml, .kmz ,.gpx, .csv, .zip(shapefile)]\")])]),_vm._v(\" \"),(_vm.csv_extension)?_c('div',{staticStyle:{\"padding\":\"15px\",\"border\":\"1px solid grey\",\"border-radius\":\"3px\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.csv.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"select_field\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_separator'),expression:\"'mapcontrols.add_layer_control.select_csv_separator'\"}],attrs:{\"for\":\"g3w-select-field-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.separator),expression:\"csv.separator\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-separator\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"separator\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.separators),function(separator){return _c('option',{key:separator,domProps:{\"value\":separator}},[_vm._v(_vm._s(separator))])}),0),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.csv.headers || _vm.csv.headers.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_x_field'),expression:\"'mapcontrols.add_layer_control.select_csv_x_field'\"}],attrs:{\"for\":\"g3w-select-x-field\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.x),expression:\"csv.x\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-x-field\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"x\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.headers),function(header){return _c('option',{key:header,domProps:{\"value\":header}},[_vm._v(_vm._s(header))])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.csv.headers || _vm.csv.headers.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_y_field'),expression:\"'mapcontrols.add_layer_control.select_csv_y_field'\"}],attrs:{\"for\":\"g3w-select-y-field\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.y),expression:\"csv.y\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-y-field\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"y\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.headers),function(header){return _c('option',{key:header,domProps:{\"value\":header}},[_vm._v(_vm._s(header))])}),0)])])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.fields || _vm.fields.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_field_to_show'),expression:\"'mapcontrols.add_layer_control.select_field_to_show'\"}],attrs:{\"for\":\"g3w-select-field-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.field),expression:\"field\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-field-layer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.field=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"---\")]),_vm._v(\" \"),_vm._l((_vm.fields),function(field){return _c('option',{key:field,domProps:{\"value\":field}},[_vm._v(_vm._s(field))])})],2)]),_vm._v(\" \"),(_vm.error)?_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.error_message),expression:\"error_message\"}],staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.2em\",\"background-color\":\"orange\",\"padding\":\"10px\",\"text-align\":\"center\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('add'),expression:\"'add'\"}],staticClass:\"btn btn-success pull-left\",attrs:{\"type\":\"button\",\"disabled\":!_vm.add},on:{\"click\":function($event){$event.stopPropagation();return _vm.addLayer($event)}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('close'),expression:\"'close'\"}],staticClass:\"btn btn-default\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}})])],1)])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"core/utils/geo\":64,\"g3w-ol/projection/projections\":110,\"vue-color\":\"vue-color\"}],254:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    debounce = _require.debounce;\n\nexports.default = {\n  name: \"MapControlZoomHistory\",\n  data: function data() {\n    return {\n      history: {\n        index: 0,\n        items: []\n      }\n    };\n  },\n\n  methods: {\n    last: function last() {\n      this.history.index--;\n      this.setMapExtent();\n    },\n    next: function next() {\n      this.history.index++;\n      this.setMapExtent();\n    },\n    setMapExtent: function setMapExtent() {\n      _gui2.default.getService('map').getMap().getView().fit(this.history.items[this.history.index]);\n    }\n  },\n  computed: {\n    hasEmptyHistory: function hasEmptyHistory() {\n      return 0 === this.history.index && 1 === this.history.items.length || this.history.items.length - 1 === this.history.index;\n    }\n  },\n\n  created: function created() {\n    var _this = this;\n\n    var map = _gui2.default.getService('map').getMap();\n    var view = map.getView();\n\n    this.history.items.push(view.calculateExtent(map.getSize()));\n\n    this.changeKeyEvent = view.on('change', debounce(function (evt) {\n      if (_this.history.index !== _this.history.items.length - 1) {\n        _this.history.items.splice(_this.history.index - _this.history.items.length + 1);\n      }\n      _this.history.items.push(evt.target.calculateExtent(map.getSize()));\n      _this.history.index++;\n    }, 600));\n  },\n  beforeDestroy: function beforeDestroy() {\n    ol.Object.unByKey(this.changeKeyEvent);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ol-zoom-history ol-unselectable ol-control\",staticStyle:{\"display\":\"flex\",\"gap\":\"5px\"}},[_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sdk.mapcontrols.zoomhistory.zoom_last'),expression:\"'sdk.mapcontrols.zoomhistory.zoom_last'\",arg:\"top\",modifiers:{\"create\":true}}]},[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.history.index === 0),expression:\"history.index === 0\"}],attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.last($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('reply')})])]),_vm._v(\" \"),_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sdk.mapcontrols.zoomhistory.zoom_next'),expression:\"'sdk.mapcontrols.zoomhistory.zoom_next'\",arg:\"top\",modifiers:{\"create\":true}}]},[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.hasEmptyHistory),expression:\"hasEmptyHistory\"}],attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.next($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('share')})])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-5ba4faea\"\n\n},{\"core/utils/utils\":67,\"services/gui\":358}],255:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MapFooterRight = require('components/MapFooterRight.vue');\n\nvar _MapFooterRight2 = _interopRequireDefault(_MapFooterRight);\n\nvar _MapFooterLeft = require('components/MapFooterLeft.vue');\n\nvar _MapFooterLeft2 = _interopRequireDefault(_MapFooterLeft);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'Mapfooter',\n  props: {\n    service: {\n      type: Object\n    }\n  },\n  components: {\n    MapFooterRight: _MapFooterRight2.default,\n    MapFooterLeft: _MapFooterLeft2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"skin-border-color\",attrs:{\"id\":\"map_footer\"}},[_c('map-footer-left'),_vm._v(\" \"),_c('map-footer-right',{attrs:{\"service\":_vm.service}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/MapFooterLeft.vue\":256,\"components/MapFooterRight.vue\":257}],256:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'Mapfooter'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\"},attrs:{\"id\":\"map_footer_left\"}},[_c('a',{staticStyle:{\"margin-left\":\"5px\",\"align-self\":\"center\"},attrs:{\"href\":\"https://g3wsuite.it/\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"height\":\"15\",\"src\":\"/static/client/images/g3wsuite_logo.png\",\"alt\":\"\"}})])])}]\n\n},{}],257:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: 'Mapfooter',\n  props: {\n    service: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      mouse: {\n        switch_icon: false,\n        epsg_4326: false,\n        tooltip: null\n      },\n      mapunit: _applicationState2.default.map.unit\n    };\n  },\n\n  computed: {\n    showmapunits: function showmapunits() {\n      return this.service.state.mapunits.length > 1;\n    }\n  },\n  methods: {\n    createCopyMapExtentUrl: function createCopyMapExtentUrl() {\n      this.service.createCopyMapExtentUrl();\n    },\n    switchMapsCoordinateTo4326: function switchMapsCoordinateTo4326() {\n      this.mouse.epsg_4326 = !this.mouse.epsg_4326;\n    }\n  },\n  watch: {\n    'mapunit': function mapunit(unit) {\n      _applicationState2.default.map.unit = unit;\n      this.service.changeScaleLineUnit(unit);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.service.once('ready', function () {\n                _this.mouse.switch_icon = _this.service.getMapControlByType({\n                  type: 'mouseposition'\n                }) && _this.service.getEpsg() !== 'EPSG:4326';\n                _this.mouse.tooltip = 'ESPG ' + _this.service.getCrs().split(':')[1] + ' <--> WGS84';\n              });\n\n            case 1:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\"},attrs:{\"id\":\"map_footer_right\"}},[_c('div',{attrs:{\"id\":\"scale-control\"}}),_vm._v(\" \"),(_vm.mouse.switch_icon && !_vm.isMobile())?_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:(_vm.mouse.tooltip),expression:\"mouse.tooltip\",arg:\"top\",modifiers:{\"create\":true}}],attrs:{\"id\":\"switch-mouse-coordinate\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.switchMapsCoordinateTo4326($event)}}},[_c('span',{staticClass:\"skin-color hide-cursor-caret-color\",class:_vm.g3wtemplate.getFontClass('mouse')})]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mouse.epsg_4326),expression:\"!mouse.epsg_4326\"}],attrs:{\"id\":\"mouse-position-control\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mouse.epsg_4326),expression:\"mouse.epsg_4326\"}],attrs:{\"id\":\"mouse-position-control-epsg-4326\"}}),_vm._v(\" \"),(_vm.showmapunits)?_c('div',{attrs:{\"id\":\"scale-line-units\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mapunit),expression:\"mapunit\"}],staticClass:\"skin-color\",staticStyle:{\"padding\":\"5px 2px\",\"font-weight\":\"bold\",\"border\":\"0\",\"cursor\":\"pointer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.mapunit=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.service.state.mapunits),function(unit){return _c('option',{directives:[{name:\"t\",rawName:\"v-t\",value:((\"sdk.mapcontrols.scaleline.units.\" + unit)),expression:\"`sdk.mapcontrols.scaleline.units.${unit}`\"}],staticStyle:{\"font-weight\":\"bold\"},domProps:{\"value\":unit,\"selected\":_vm.mapunit === unit}})}),0)]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sdk.tooltips.copy_map_extent_url'),expression:\"'sdk.tooltips.copy_map_extent_url'\",arg:\"top\",modifiers:{\"create\":true}}],staticStyle:{\"background-color\":\"#eeeeee\"},attrs:{\"id\":\"permalink\"}},[_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('link'),on:{\"click\":function($event){$event.stopPropagation();return _vm.createCopyMapExtentUrl($event)}}})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"store/application-state\":370}],258:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\n__vue__options__.staticRenderFns = []\n\n},{}],259:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".layer_header[data-v-fee105a8]{padding:5px;margin-bottom:0;margin-top:0;cursor:pointer}.layer-name[data-v-fee105a8]{font-weight:700}.layer-header-icon[data-v-fee105a8]{margin-right:10px;color:#999}.layer_header span.open-close[data-v-fee105a8]{position:absolute;right:5px;color:#999}.metadata-label[data-v-fee105a8]{font-weight:700;font-size:1.1em}.row[data-v-fee105a8]{padding:10px;border-bottom:1px solid #e2e2e2}.nav-tabs[data-v-fee105a8]{border-bottom:0 solid #ddd}.nav-tabs>li.active>a[data-v-fee105a8],.nav-tabs>li.active>a[data-v-fee105a8]:focus,.nav-tabs>li.active>a[data-v-fee105a8]:hover{border-width:0}.nav-tabs>li>a[data-v-fee105a8]{border:none;color:#aeaeae}.nav-tabs>li.active>a[data-v-fee105a8],.nav-tabs>li>a[data-v-fee105a8]:hover{border:none;background:transparent}.nav-tabs>li>a[data-v-fee105a8]:after{content:\\\"\\\";height:2px;position:absolute;width:100%;left:0;bottom:-1px;transition:all .25s ease 0s;transform:scale(0)}.nav-tabs>li.active>a[data-v-fee105a8]:after,.nav-tabs>li:hover>a[data-v-fee105a8]:after{transform:scale(1)}.tab-nav>li>a[data-v-fee105a8]:after{background:#21527d none repeat scroll 0 0;color:#fff}.tab-content[data-v-fee105a8]{margin:10px;background-color:#eee;overflow:auto}.spatial-tab[data-v-fee105a8]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"layer\",\n  mixins: [_mixins.metadataMixin],\n  props: {\n    state: {}\n  },\n  data: function data() {\n    return {\n      show: false\n    };\n  },\n\n  computed: {\n    isSpatial: function isSpatial() {\n      return this.state.geometrytype != 'NoGeometry';\n    }\n  },\n  methods: {\n    showHideInfo: function showHideInfo() {\n      this.show = !this.show;\n    }\n  },\n  mounted: function mounted() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row-info\"},[_c('h4',{staticClass:\"layer_header\",attrs:{\"data-toggle\":\"collapse\",\"data-target\":'#' + _vm.state.id},on:{\"click\":_vm.showHideInfo}},[_c('i',{staticClass:\"layer-header-icon action-button nohover\",class:[_vm.isSpatial ? _vm.g3wtemplate.font['map']: _vm.g3wtemplate.font['table']],attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{staticClass:\"layer-name\"},[_vm._v(_vm._s(_vm.state.name))]),_vm._v(\" \"),_c('span',{staticClass:\"action-button nohover open-close\",class:[_vm.show ? _vm.g3wtemplate.getFontClass('minus') :_vm.g3wtemplate.getFontClass('plus')]})]),_vm._v(\" \"),_c('div',{staticClass:\"collapse\",attrs:{\"id\":_vm.state.id}},[_c('ul',{staticClass:\"metadata-nav-tabs nav nav-tabs\",attrs:{\"role\":\"tablist\"}},[_c('li',{staticClass:\"active spatial-tab\",attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.groups.general'),expression:\"'sdk.metadata.groups.layers.groups.general'\"}],attrs:{\"href\":'#layer_general_' + _vm.state.id,\"aria-controls\":\"general\",\"role\":\"tab\",\"data-toggle\":\"tab\"}})]),_vm._v(\" \"),(_vm.isSpatial)?_c('li',{staticClass:\"spatial-tab\",attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.groups.spatial'),expression:\"'sdk.metadata.groups.layers.groups.spatial'\"}],attrs:{\"href\":'#layer_spatial_' + _vm.state.id,\"aria-controls\":\"profile\",\"role\":\"tab\",\"data-toggle\":\"tab\"}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\"},[_c('div',{staticClass:\"tab-pane active\",attrs:{\"role\":\"tabpanel\",\"id\":'layer_general_' + _vm.state.id}},[_c('div',{staticClass:\"container-fluid\"},[(_vm.findAttributeFormMetadataAttribute('title'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.title'),expression:\"'sdk.metadata.groups.layers.fields.subfields.title'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_vm._v(_vm._s(_vm.state.metadata.title))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('name'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.name'),expression:\"'sdk.metadata.groups.layers.fields.subfields.name'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_vm._v(_vm._s(_vm.state.name))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('source'))?_c('div',{staticClass:\"row metadata-layer-source\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.source'),expression:\"'sdk.metadata.groups.layers.fields.subfields.source'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label metadata-layer-source-value-key\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value metadata-layer-source-value\"},[_vm._v(_vm._s(_vm.state.source.type))])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('abstract'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.abstract'),expression:\"'sdk.metadata.groups.layers.fields.subfields.abstract'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\",domProps:{\"innerHTML\":_vm._s( _vm.state.metadata.abstract)}})]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('keywords'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.keywords'),expression:\"'sdk.metadata.groups.layers.fields.subfields.keywords'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('div',[_vm._v(_vm._s(_vm.state.metadata.keywords.join(', ')))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('metadataurl') && _vm.state.metadata.metadataurl.onlineresources)?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.metadataurl'),expression:\"'sdk.metadata.groups.layers.fields.subfields.metadataurl'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('a',{attrs:{\"href\":_vm.state.metadata.metadataurl.onlineresources}},[_vm._v(_vm._s(_vm.state.metadata.metadataurl.onlineresources))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('dataurl') && _vm.state.metadata.dataurl.onlineresources)?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.dataurl'),expression:\"'sdk.metadata.groups.layers.fields.subfields.dataurl'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('a',{attrs:{\"href\":_vm.state.metadata.dataurl.onlineresources}},[_vm._v(_vm._s(_vm.state.metadata.dataurl.onlineresources))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('attributes'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.attributes'),expression:\"'sdk.metadata.groups.layers.fields.subfields.attributes'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\",staticStyle:{\"overflow\":\"auto\"}},[_c('table',{staticClass:\"table table-striped\",staticStyle:{\"background-color\":\"#eeeeee !important\"}},[_c('thead',[_c('tr',_vm._l((_vm.state.metadata.attributes[0]),function(value,header){return _c('th',[_vm._v(_vm._s(header))])}),0)]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.state.metadata.attributes),function(attribute){return _c('tr',_vm._l((attribute),function(value,header){return _c('td',[_vm._v(_vm._s(value))])}),0)}),0)])])]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane\",attrs:{\"role\":\"tabpanel\",\"id\":'layer_spatial_'+_vm.state.id}},[_c('div',{staticClass:\"container-fluid\"},[(_vm.findMetadataAttribute('crs'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.crs'),expression:\"'sdk.metadata.groups.layers.fields.subfields.crs'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(_vm._s(_vm.state.crs.epsg))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('geometrytype'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.geometrytype'),expression:\"'sdk.metadata.groups.layers.fields.subfields.geometrytype'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(_vm._s(_vm.state.geometrytype))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('bbox'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.bbox'),expression:\"'sdk.metadata.groups.layers.fields.subfields.bbox'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},_vm._l((_vm.state.bbox),function(value,key){return _c('p',[_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin-right\":\"5px\"}},[_vm._v(_vm._s(key))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(value))])])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('crs'))?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-2 metadata-label\"},[_vm._v(\"CRS\")]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},_vm._l((_vm.state.metadata.crs),function(crs){return _c('div',[_c('span',[_vm._v(_vm._s(crs))])])}),0)]):_vm._e()])])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-fee105a8\"\n\n},{\"mixins\":340,\"vueify/lib/insert-css\":1}],260:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-nav-bar li a[data-v-0e556a34]{text-align:center}.metadata-nav-bar li a i[data-v-0e556a34]{margin-right:5px}.metadata-item-tab[data-v-0e556a34]{margin-right:10px;border-radius:3px;margin-bottom:10px}.metadata-body[data-v-0e556a34]{overflow-y:auto;overflow-x:hidden;padding-left:0;padding-right:0}.tab-title[data-v-0e556a34]{position:absolute;bottom:10px;right:auto}.row-info[data-v-0e556a34]{margin:0!important;padding-top:10px;padding-bottom:10px;border-bottom:1px solid #eee}.row-info .label[data-v-0e556a34]{font-weight:700}.h_90[data-v-0e556a34]{height:90%}.h_100[data-v-0e556a34]{height:100%}#project-catalog[data-v-0e556a34]{position:relative;overflow:auto}.nav-tabs-wrapper[data-v-0e556a34]{display:inline-block;margin-bottom:-6px;margin-left:1.25%;margin-right:1.25%;position:relative;width:100%}.nav-tabs[data-v-0e556a34]{border-bottom:0 none}.nav-stacked[data-v-0e556a34]{font-size:1.2em;font-weight:700;padding:10px 0}.nav-stacked li a[data-v-0e556a34]{color:#fff}.left-vertical-tabs[data-v-0e556a34]{padding-left:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _MetadataLayer = require('components/MetadataLayer.vue');\n\nvar _MetadataLayer2 = _interopRequireDefault(_MetadataLayer);\n\nvar _MetadataProjectTabContent = require('components/MetadataProjectTabContent.vue');\n\nvar _MetadataProjectTabContent2 = _interopRequireDefault(_MetadataProjectTabContent);\n\nvar _MetadataProjectBBoxContent = require('components/MetadataProjectBBoxContent.vue');\n\nvar _MetadataProjectBBoxContent2 = _interopRequireDefault(_MetadataProjectBBoxContent);\n\nvar _MetadataProjectContactsContent = require('components/MetadataProjectContactsContent.vue');\n\nvar _MetadataProjectContactsContent2 = _interopRequireDefault(_MetadataProjectContactsContent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"project\",\n  data: function data() {\n    return {\n      state: this.$options.state,\n      iconsClass: {\n        info: this.g3wtemplate.getFontClass(\"info-circle\"),\n        globe: this.g3wtemplate.getFontClass(\"globe\"),\n        bars: this.g3wtemplate.getFontClass(\"bars\")\n      }\n    };\n  },\n\n  components: {\n    'metadata-layer': _MetadataLayer2.default,\n    'metadata-tab-content': _MetadataProjectTabContent2.default,\n    'metadata-bbox-content': _MetadataProjectBBoxContent2.default,\n    'metadata-contacts-content': _MetadataProjectContactsContent2.default\n  },\n  methods: {\n    isArrayorObject: function isArrayorObject(value) {\n      return Array.isArray(value) || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n    },\n    setComponent: function setComponent(key) {\n      var component = void 0;\n      switch (key) {\n        case 'extent':\n          component = 'metadata-bbox-content';\n          break;\n        case 'contactinformation':\n          component = 'metadata-contacts-content';\n          break;\n        default:\n          component = 'metadata-tab-content';\n      }\n      return component;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"project-catalog\"}},[_c('div',{class:_vm.isMobile() ? 'mobile' : null,staticStyle:{\"padding\":\"0\"},attrs:{\"id\":\"project-catalog-container\"}},[_c('ul',{staticClass:\"nav nav-tabs metadata-nav-bar\",attrs:{\"role\":\"tablist\"}},[_c('li',{staticClass:\"active\"},[_c('a',{staticClass:\"metadata-item-tab general\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#general\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.g3wtemplate.getFontClass('info'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.title'),expression:\"'sdk.metadata.groups.general.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])]),_vm._v(\" \"),_c('li',[_c('a',{staticClass:\"metadata-item-tab spatial\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#spatial\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.iconsClass.globe,attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.spatial.title'),expression:\"'sdk.metadata.groups.spatial.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])]),_vm._v(\" \"),_c('li',[_c('a',{staticClass:\"metadata-item-tab layers\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#metadata_layers\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.iconsClass.bars,attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.title'),expression:\"'sdk.metadata.groups.layers.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-12 metadata-body tab-content\"},[_c('div',{staticClass:\"tab-pane fade in active\",attrs:{\"id\":\"general\"}},[_vm._l((_vm.state.groups.general),function(data,key){return _c('div',{staticClass:\"row h_100 row-info\"},[_c(_vm.setComponent(key),{tag:\"component\",attrs:{\"data\":data,\"fieldName\":key}})],1)})],2),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane fade\",attrs:{\"id\":\"spatial\"}},[_c('div',[_vm._l((_vm.state.groups.spatial),function(data,key){return _c('div',{staticClass:\"row row-info\"},[_c(_vm.setComponent(key),{tag:\"component\",attrs:{\"data\":data,\"fieldName\":key}})],1)})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane fade\",attrs:{\"id\":\"metadata_layers\"}},_vm._l((_vm.state.groups.layers.layers.value),function(layer){return _c('metadata-layer',{attrs:{\"state\":layer}})}),1)])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0e556a34\"\n\n},{\"components/MetadataLayer.vue\":259,\"components/MetadataProjectBBoxContent.vue\":261,\"components/MetadataProjectContactsContent.vue\":262,\"components/MetadataProjectTabContent.vue\":263,\"vueify/lib/insert-css\":1}],261:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-b715e0e8]{font-weight:700;font-size:1.1em}.bbox-labels[data-v-b715e0e8]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"metadatabbox\",\n  props: {\n    data: {}\n  },\n  data: function data() {\n    return {\n      bboxlabels: ['MINX', 'MINY', 'MAXX', 'MAXY']\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,index){return _c('div',[_c('span',{staticClass:\"bbox-labels\"},[_vm._v(_vm._s(_vm.bboxlabels[index]))]),_vm._v(\" \"+_vm._s(value)+\"\\n      \")])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b715e0e8\"\n\n},{\"vueify/lib/insert-css\":1}],262:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-60ad65fc]{font-weight:700;font-size:1.1em}.metadata-contact-label[data-v-60ad65fc]{font-weight:700}.contact-icon[data-v-60ad65fc]{margin-right:3px}.row[data-v-60ad65fc]{margin-bottom:5px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = {\n  name: \"metadatacontatcs\",\n  props: {\n    data: {}\n  },\n  data: function data() {\n    return {\n      iconsClass: {\n        contactelectronicmailaddress: this.g3wtemplate.getFontClass(\"mail\"),\n        personprimary: this.g3wtemplate.getFontClass(\"user\"),\n        contactvoicetelephone: this.g3wtemplate.getFontClass(\"mobile\")\n      }\n    };\n  },\n\n  methods: {\n    sanitizeValue: function sanitizeValue(value) {\n      if (value !== null && value !== undefined) {\n        if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === 'object') {\n          value = Object.keys(value).length ? value : '';\n        } else if (Array.isArray(value)) {\n          value = value.length ? value : '';\n        }\n      }\n      return value;\n    },\n    geti18n: function geti18n(key) {}\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,key){return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-2 metadata-contact-label\"},[_c('i',{staticClass:\"contact-icon\",class:_vm.iconsClass[key],attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.fields.subfields.contactinformation.' + key),expression:\"'sdk.metadata.groups.general.fields.subfields.contactinformation.' + key\"}]})]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10\"},[(key === 'personprimary')?_vm._l((value),function(subvalue,key){return _c('div',[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.fields.subfields.contactinformation.' + key),expression:\"'sdk.metadata.groups.general.fields.subfields.contactinformation.' + key\"}],staticClass:\"metadata-contact-label\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(subvalue))])])}):_c('div',[(key === 'contactelectronicmailaddress')?[_c('a',{staticStyle:{\"font-weight\":\"bold\"},attrs:{\"href\":'mailto:' + _vm.sanitizeValue(value)}},[_vm._v(_vm._s(_vm.sanitizeValue(value)))])]:[_vm._v(\"\\n              \"+_vm._s(_vm.sanitizeValue(value))+\"\\n            \")]],2)],2)])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-60ad65fc\"\n\n},{\"vueify/lib/insert-css\":1}],263:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-6b130710]{font-weight:700;font-size:1.1em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = {\n  name: \"metadatatabcontent\",\n  props: {\n    data: {},\n    fieldName: {}\n  },\n  computed: {\n    arrayToString: function arrayToString() {\n      return this.data.value.join(', ');\n    }\n  },\n  methods: {\n    isArrayorObject: function isArrayorObject(value) {\n      return Array.isArray(value) || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),(_vm.fieldName == 'keywords')?_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(\"\\n    \"+_vm._s(_vm.arrayToString)+\"\\n  \")]):(_vm.fieldName == 'wms_url')?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',[_vm._v(_vm._s(_vm.data.value))])]):(!_vm.isArrayorObject(_vm.data.value))?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.data.value)}})]):(_vm.fieldName == 'abstract')?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.data.value)}})]):_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,key){return _c('div',[_c('span',[_vm._v(_vm._s(value))])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-6b130710\"\n\n},{\"vueify/lib/insert-css\":1}],264:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _navbaritems = require(\"services/navbaritems\");\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"NavbaritemLeft\",\n  data: function data() {\n    return {\n      items: _navbaritems2.default.state.items.right\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav navbar-nav navbar-left\"},_vm._l((_vm.items),function(item){return _c(item,{key:item.id,tag:\"li\"})}),1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2c7478a1\"\n\n},{\"services/navbaritems\":362}],265:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _navbaritems = require(\"services/navbaritems\");\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"NavbaritemRight\",\n  data: function data() {\n    return {\n      items: _navbaritems2.default.state.items.right\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav navbar-nav navbar-right\"},_vm._l((_vm.items),function(item){return _c(item,{key:item.id,tag:\"li\"})}),1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-c140951c\"\n\n},{\"services/navbaritems\":362}],266:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'download-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"download\",rawName:\"v-download.show\",modifiers:{\"show\":true}}],staticClass:\"skin-color\",attrs:{\"id\":\"download_notification\",\"title\":\"DOWNLOAD\"}},[_c('bar-loader',{attrs:{\"loading\":\"true\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"padding\":\"3px\"}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],267:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'online-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"online\",rawName:\"v-online:hide\",arg:\"hide\"}],staticStyle:{\"color\":\"#999\"},attrs:{\"id\":\"offline_notification\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('wifi')}),_vm._v(\" \"),_c('div',{staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"0.4em\"}},[_vm._v(\"offline\")])])}\n__vue__options__.staticRenderFns = []\n\n},{}],268:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'plugins-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"plugins\",rawName:\"v-plugins\"}],staticStyle:{\"color\":\"#994b10\"},attrs:{\"id\":\"plugins_notification\"}},[_c('bar-loader',{attrs:{\"loading\":\"true\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('plugin')})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],269:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _PrintSelectAtlasFieldValues = require('components/PrintSelectAtlasFieldValues.vue');\n\nvar _PrintSelectAtlasFieldValues2 = _interopRequireDefault(_PrintSelectAtlasFieldValues);\n\nvar _PrintFidAtlasValues = require('components/PrintFidAtlasValues.vue');\n\nvar _PrintFidAtlasValues2 = _interopRequireDefault(_PrintFidAtlasValues);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      button: {\n        class: \"btn-success\",\n        type: \"stampa\",\n        disabled: false\n      }\n    };\n  },\n\n  components: {\n    SelectAtlasFieldValues: _PrintSelectAtlasFieldValues2.default,\n    FidAtlasValues: _PrintFidAtlasValues2.default\n  },\n  computed: {\n    disabled: function disabled() {\n      return this.state.output.loading || !!this.state.atlas && this.state.atlasValues.length === 0;\n    }\n  },\n  methods: {\n    setDisabledPrintButton: function setDisabledPrintButton() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.button.disabled = bool;\n    },\n    setAtlasValues: function setAtlasValues() {\n      var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.state.atlasValues = values;\n    },\n    onChangeTemplate: function onChangeTemplate() {\n      this.$options.service.changeTemplate();\n    },\n    onChangeScale: function onChangeScale() {\n      this.$options.service.changeScale();\n    },\n    onChangeFormat: function onChangeFormat() {},\n    onChangeDpi: function onChangeDpi() {},\n    onChangeRotation: function onChangeRotation(evt) {\n      if (this.state.rotation >= 0 && !_.isNil(this.state.rotation) && this.state.rotation != '') {\n        this.state.rotation = this.state.rotation > 360 ? 360 : this.state.rotation;\n        evt.target.value = this.state.rotation;\n      } else if (this.state.rotation < 0) {\n        this.state.rotation = this.state.rotation < -360 ? -360 : this.state.rotation;\n        evt.target.value = this.state.rotation;\n      } else {\n        this.state.rotation = 0;\n      }\n      this.$options.service.changeRotation();\n    },\n    print: function print() {\n      this.$options.service.print();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"treeview-menu\",attrs:{\"id\":\"print\"}},[_c('li',[_c('form',{staticClass:\"g3w-search-form form-horizonal\"},[_c('div',{staticClass:\"box-body\"},[_c('transition',{attrs:{\"duration\":500,\"name\":\"fade\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}})],1),_vm._v(\" \"),_c('helpdiv',{attrs:{\"message\":\"sdk.print.help\"}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.template'),expression:\"'sdk.print.template'\"}],attrs:{\"for\":\"templates\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.template),expression:\"state.template\"}],staticClass:\"form-control\",style:({marginBottom: this.state.atlas && '10px'}),attrs:{\"id\":\"templates\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"template\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeTemplate]}},_vm._l((_vm.state.print),function(print){return _c('option',{domProps:{\"value\":print.name}},[_vm._v(_vm._s(print.name))])}),0),_vm._v(\" \"),(!_vm.state.atlas)?[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.scale'),expression:\"'sdk.print.scale'\"}],attrs:{\"for\":\"scala\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.scala),expression:\"state.scala\"}],staticClass:\"form-control\",attrs:{\"id\":\"scala\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"scala\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeScale]}},_vm._l((_vm.state.scale),function(scala){return _c('option',{domProps:{\"value\":scala.value}},[_vm._v(_vm._s(scala.label))])}),0),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"dpi\"}},[_vm._v(\"dpi\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.dpi),expression:\"state.dpi\"}],staticClass:\"form-control\",attrs:{\"id\":\"dpi\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"dpi\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeDpi]}},_vm._l((_vm.state.dpis),function(dpi){return _c('option',[_vm._v(_vm._s(dpi))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.rotation'),expression:\"'sdk.print.rotation'\"}],attrs:{\"for\":\"rotation\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.rotation),expression:\"state.rotation\"}],staticClass:\"form-control\",attrs:{\"min\":\"-360\",\"max\":\"360\",\"id\":\"rotation\",\"type\":\"number\"},domProps:{\"value\":(_vm.state.rotation)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"rotation\", $event.target.value)},_vm.onChangeRotation]}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.format'),expression:\"'sdk.print.format'\"}],attrs:{\"for\":\"format\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.output.format),expression:\"state.output.format\"}],staticClass:\"form-control\",attrs:{\"id\":\"format\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state.output, \"format\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.state.formats),function(format){return _c('option',{domProps:{\"value\":format.value}},[_vm._v(_vm._s(format.label))])}),0)]:(_vm.state.atlas.field_name)?[_c('select-atlas-field-values',{attrs:{\"atlas\":_vm.state.atlas,\"reset\":!_vm.state.isShow},on:{\"disable-print-button\":_vm.setDisabledPrintButton,\"set-values\":_vm.setAtlasValues}})]:[_c('fid-atlas-values',{attrs:{\"atlas\":_vm.state.atlas,\"reset\":!_vm.state.isShow},on:{\"disable-print-button\":_vm.setDisabledPrintButton,\"set-values\":_vm.setAtlasValues}})],_vm._v(\" \"),(_vm.state.labels && _vm.state.labels.length)?[_c('div',{staticClass:\"print-labels-content\",staticStyle:{\"margin-top\":\"5px\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.labels'),expression:\"'sdk.print.labels'\"}],staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.1em\",\"display\":\"block\",\"border-bottom\":\"2px solid #ffffff\",\"margin-bottom\":\"5px\"}}),_vm._v(\" \"),_c('div',{staticClass:\"labels-input-content\",staticStyle:{\"max-height\":\"120px\",\"overflow-y\":\"auto\"}},_vm._l((_vm.state.labels),function(label){return _c('span',{key:label.id},[_c('label',{attrs:{\"for\":(\"g3w_label_id_input_\" + (label.id))}},[_vm._v(_vm._s(label.id))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(label.text),expression:\"label.text\"}],staticClass:\"form-control\",attrs:{\"id\":(\"g3w_label_id_input_\" + (label.id))},domProps:{\"value\":(label.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(label, \"text\", $event.target.value)}}})])}),0)])]:_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"box-footer\",staticStyle:{\"background-color\":\"transparent\"}},[_c('span',[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.button.disabled),expression:\"button.disabled\"},{name:\"download\",rawName:\"v-download\"},{name:\"t\",rawName:\"v-t\",value:('create_print'),expression:\"'create_print'\"}],staticClass:\"sidebar-button-run btn\",staticStyle:{\"width\":\"100%\",\"font-weight\":\"bold\"},attrs:{\"id\":\"printbutton\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.print($event)}}})])])])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/PrintFidAtlasValues.vue\":270,\"components/PrintSelectAtlasFieldValues.vue\":272}],270:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"fid-atlas-values\",\n  props: {\n    atlas: {\n      type: Object\n    },\n    reset: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      value: ''\n    };\n  },\n\n  methods: {\n    validateValue: function validateValue(value) {\n      value = value && 1 * value;\n      return Number.isInteger(value) && value >= 0 && value < this.atlas.feature_count || null;\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      handler: function handler(value) {\n        var _this = this;\n\n        this.value = value;\n        var values = new Set();\n        var addValue = function addValue(value) {\n          return _this.validateValue(value) !== null && values.add(value);\n        };\n        var addRangeToValues = function addRangeToValues() {\n          var range = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n          var rangeLenght = range.length;\n          for (var i = 1; i < rangeLenght; i++) {\n            var start = range[i - 1];\n            var end = range[i];\n            for (var _i = start; _i < end; _i++) {\n              values.add(_i + '');\n            }\n          }\n          values.add(range[rangeLenght - 1]);\n        };\n        if (value) {\n          value.split(',').forEach(function (value) {\n            if (value) {\n              if (value.indexOf('-') !== -1) {\n                var _values = value.split('-');\n                var range = _values.filter(function (value) {\n                  return _this.validateValue(value) !== null;\n                });\n                if (range.length === _values.length) {\n                  var canAdd = range.reduce(function (bool, value, currentIndex) {\n                    return bool && (currentIndex === 0 || range[currentIndex - 1] <= value);\n                  }, true);\n                  canAdd && addRangeToValues(range);\n                }\n              } else addValue(value);\n            }\n          });\n        }\n        this.$emit('set-values', Array.from(values));\n        this.$emit('disable-print-button', value.trim() === '');\n      }\n    },\n    reset: function reset(bool) {\n      if (bool) {\n        this.value = '';\n        this.$emit('set-values', []);\n        this.$emit('disable-print-button', true);\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.value = null;\n    this.$emit('disable-print-button', false);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"width\":\"100%\"}},[_c('label',{staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.print_atlas_fid}},[_c('span',[_vm._v(\"fids [max: \"+_vm._s(_vm.atlas.feature_count - 1)+\"]\")])]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"form-control\",domProps:{\"value\":(_vm.value)},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"])){ return null; }$event.preventDefault();},\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"5px\",\"color\":\"#ffffff\"},attrs:{\"id\":\"fid-print-atals-instruction\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.fids_instruction'),expression:\"'sdk.print.fids_instruction'\"}],staticStyle:{\"white-space\":\"pre-line\"},attrs:{\"id\":\"fids_intruction\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.fids_example'),expression:\"'sdk.print.fids_example'\"}],staticStyle:{\"margin-top\":\"3px\",\"font-weight\":\"bold\"},attrs:{\"id\":\"fids_examples_values\"}})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-1dcb18ba\"\n\n},{}],271:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    imageToDataURL = _require.imageToDataURL;\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      disableddownloadbutton: true,\n      downloadImageName: '',\n      format: null\n    };\n  },\n\n  computed: {\n    loading: function loading() {\n      return this.state.loading && this.state.layers;\n    }\n  },\n  methods: {\n    setLoading: function setLoading() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      _gui2.default.disableSideBar(bool);\n      this.state.loading = bool;\n      this.disableddownloadbutton = bool;\n    },\n    downloadImage: function downloadImage() {\n      var _this = this;\n\n      this.setLoading(true);\n      if (this.format === 'jpg' || this.format === 'png') {\n        this.downloadImageName = 'download.' + this.state.format;\n        imageToDataURL({\n          src: this.state.url,\n          type: 'image/' + this.state.format,\n          callback: function callback(url) {\n            return setTimeout(function () {\n              return _this.setLoading(false);\n            });\n          }\n        });\n      }\n    }\n  },\n  watch: {\n    'state.url': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(url) {\n        var _this2 = this;\n\n        var timeOut;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!url) {\n                  _context.next = 6;\n                  break;\n                }\n\n                this.format = this.state.format;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                timeOut = setTimeout(function () {\n                  _this2.setLoading(false);\n                  _gui2.default.showUserMessage({\n                    type: 'alert',\n                    message: 'timeout'\n                  });\n                }, _constant.TIMEOUT);\n\n\n                $(this.$refs.printoutput).load(url, function (response, status) {\n                  _this2.$options.service.stopLoading();\n                  status === 'error' && _this2.$options.service.showError();\n                  clearTimeout(timeOut);\n                  _this2.setLoading(false);\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateUrl(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateUrl;\n    }()\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.state.layers && this.$options.service.startLoading();\n\n            case 3:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.state.url && this.state.method === 'POST' && window.URL.revokeObjectURL(this.state.url);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\",\"position\":\"relative\"},attrs:{\"id\":\"print-output\"}},[_c('transition',{attrs:{\"duration\":500,\"name\":\"fade\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}})],1),_vm._v(\" \"),(_vm.format === 'pdf')?_c('iframe',{ref:\"printoutput\",staticStyle:{\"border\":\"0\",\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"type\":_vm.state.mime_type,\"src\":_vm.state.url}}):(_vm.format === 'png')?_c('div',{staticClass:\"g3w-print-png-output\",staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"position\":\"relative\",\"height\":\"100%\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"align-items\":\"flex-end\",\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"},attrs:{\"id\":\"g3w-print-header\"}},[_c('div',{class:{'g3w-disabled': _vm.disableddownloadbutton}},[_c('a',{attrs:{\"href\":_vm.state.url,\"download\":_vm.downloadImageName}},[_c('button',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('sdk.print.download_image'),expression:\"'sdk.print.download_image'\",modifiers:{\"create\":true}}],staticClass:\"btn skin-button skin-tooltip-left\",class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"font-weight\":\"bold\"},attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\",\"role\":\"button\"},on:{\"click\":_vm.downloadImage}})])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.format==='png' && _vm.state.url),expression:\"format==='png' && state.url\"}],staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"position\":\"relative\",\"overflow-y\":\"auto\"}},[_c('img',{ref:\"printoutput\",staticStyle:{\"height\":\"auto\",\"max-width\":\"100%\"},attrs:{\"src\":_vm.state.url}})])]):_vm._e(),_vm._v(\" \"),(!_vm.state.layers)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.no_layers'),expression:\"'sdk.print.no_layers'\"}],staticStyle:{\"font-weight\":\"bold\"}}):_vm._e()],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"core/utils/utils\":67,\"services/gui\":358}],272:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar autocompleteOptions = require('gui/external/select2/options/autocomplete');\n\nexports.default = {\n  name: \"selectAtlasFieldValues\",\n  mixins: [_mixins.autocompleteMixin, _mixins.select2Mixin],\n  props: {\n    atlas: {\n      type: Object,\n      required: true\n    },\n    reset: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    emitValues: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.$emit('set-values', this.values);\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function emitValues() {\n        return _ref.apply(this, arguments);\n      }\n\n      return emitValues;\n    }()\n  },\n  data: function data() {\n    return {\n      values: []\n    };\n  },\n\n  watch: {\n    values: {\n      immediate: true,\n      handler: function handler(values) {\n        this.$emit('disable-print-button', values.length === 0);\n      }\n    },\n    reset: function reset(bool) {\n      if (bool) {\n        this.select2 && this.select2.val(null).trigger('change');\n        this.values = [];\n        this.emitValues();\n      }\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n      var _this = this;\n\n      var _atlas, field, layerId;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              _atlas = this.atlas, field = _atlas.field_name, layerId = _atlas.qgs_layer_id;\n\n              setTimeout(function () {});\n              this.select2 = $('#print_atlas_autocomplete').select2(_extends({\n                width: '100%',\n                multiple: true,\n                dropdownParent: $(this.$el),\n                minimumInputLength: 1,\n                ajax: {\n                  delay: 500,\n                  transport: function () {\n                    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref3, success, failure) {\n                      var value = _ref3.data.q;\n                      var data;\n                      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                        while (1) {\n                          switch (_context2.prev = _context2.next) {\n                            case 0:\n                              _context2.prev = 0;\n                              _context2.next = 3;\n                              return _this.autocompleteRequest({\n                                layerId: layerId,\n                                field: field,\n                                value: value\n                              });\n\n                            case 3:\n                              data = _context2.sent;\n\n                              success({ results: data });\n                              _context2.next = 10;\n                              break;\n\n                            case 7:\n                              _context2.prev = 7;\n                              _context2.t0 = _context2['catch'](0);\n\n                              failure(_context2.t0);\n\n                            case 10:\n                            case 'end':\n                              return _context2.stop();\n                          }\n                        }\n                      }, _callee2, _this, [[0, 7]]);\n                    }));\n\n                    function transport(_x, _x2, _x3) {\n                      return _ref4.apply(this, arguments);\n                    }\n\n                    return transport;\n                  }()\n                }\n              }, autocompleteOptions));\n              this.select2.on('select2:select', function (evt) {\n                var value = evt.params.data.id;\n                _this.values.push(value);\n                _this.emitValues();\n              });\n              this.select2.on('select2:unselect', function () {\n                var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(evt) {\n                  var value;\n                  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          value = evt.params.data.id;\n\n                          _this.values = _this.values.filter(function (currentValue) {\n                            return currentValue !== value;\n                          });\n                          _this.emitValues();\n\n                        case 3:\n                        case 'end':\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3, _this);\n                }));\n\n                return function (_x4) {\n                  return _ref5.apply(this, arguments);\n                };\n              }());\n\n            case 7:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.values = null;\n    this.$emit('disable-print-button', false);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"width\":\"100%\"}},[_c('label',{staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.print_atlas_autocomplete}},[_c('span',[_vm._v(_vm._s(_vm.atlas.field_name))])]),_vm._v(\" \"),_c('select',{staticClass:\"form-control\",attrs:{\"name\":_vm.atlas.field_name,\"id\":\"print_atlas_autocomplete\"}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-40b097a4\"\n\n},{\"gui/external/select2/options/autocomplete\":117,\"mixins\":340}],273:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar t = require('core/i18n/i18n.service').t;\n\nvar fakeImage = '/static/client/images/FakeProjectThumb.png';\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      loading: false\n    };\n  },\n\n  methods: {\n    trigger: function trigger(item) {\n      if (item.cbk) {\n        _gui2.default.showFullModal({\n          show: true\n        });\n        _gui2.default.setLoadingContent(true);\n        var gid = item.gid;\n\n        item.cbk.call(item, {\n          gid: gid\n        }).then(function (promise) {\n          promise.then(function (project) {\n            return document.title = project.state.html_page_title;\n          }).fail(function () {\n            _gui2.default.notify.error(\"<h4>\" + t(\"error_map_loading\") + \"</h4>\" + \"<h5>\" + t(\"check_internet_connection_or_server_admin\") + \"</h5>\");\n          }).always(function () {\n            _gui2.default.showFullModal({\n              show: false\n            });\n            _gui2.default.setLoadingContent(false);\n          });\n        });\n      } else if (item.href) window.open(item.href, '_blank');else if (item.route) _gui2.default.goto(item.route);else console.log(\"No action for \" + item.title);\n    },\n    logoSrc: function logoSrc(src) {\n      var imageSrc = void 0;\n      if (src) {\n        imageSrc = src.indexOf(_projects2.default.config.mediaurl) !== -1 ? src : src.indexOf('static') === -1 && src.indexOf('media') === -1 ? '' + _projects2.default.config.mediaurl + src : fakeImage;\n      } else imageSrc = fakeImage;\n      return this.$options.host && '' + this.$options.host + imageSrc || imageSrc;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"menu-projects\"}},[_c('div',{staticClass:\"row row-equal\"},[_vm._l((_vm.state.menuitems),function(menuitem){return _c('div',{key:menuitem.title,staticClass:\"col-xs-12 col-sm-4 project-menu\",on:{\"click\":function($event){return _vm.trigger(menuitem)}}},[_c('div',{staticClass:\"project-menu-item-image\"},[_c('img',{staticClass:\"img-responsive\",attrs:{\"src\":_vm.logoSrc(menuitem.thumbnail)}})]),_vm._v(\" \"),_c('div',{staticClass:\"project-menu-item-content\"},[_c('div',{staticClass:\"project-menu-item-text\"},[_c('h4',{staticClass:\"project-menu-item-title\"},[_vm._v(_vm._s(menuitem.title))]),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(menuitem.description)}})])])])}),_vm._v(\" \"),(!_vm.state.menuitems.length)?_c('div',{staticStyle:{\"margin-left\":\"15px\"}},[_c('h2',{directives:[{name:\"t\",rawName:\"v-t\",value:('no_other_projects'),expression:\"'no_other_projects'\"}]})]):_vm._e()],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/i18n/i18n.service\":13,\"services/gui\":358,\"store/projects\":376}],274:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nvar _constant = require('app/constant');\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar operators = Object.values(_constant.FILTER_OPERATORS);\n\nexports.default = {\n  data: function data() {\n    var options = this.$options.options;\n    var edit = options !== undefined;\n    return {\n      edit: edit,\n      currentlayer: null,\n      message: '',\n      filter: edit ? options.filter : '',\n      loading: {\n        test: false,\n        values: false\n      },\n      values: [],\n      manual: true,\n      manualvalue: null,\n      select: {\n        field: null,\n        value: null\n      }\n    };\n  },\n\n  computed: {\n    fields: function fields() {\n      return this.currentlayer ? this.currentlayer.fields : [];\n    },\n    disabled: function disabled() {\n      return !this.filter;\n    }\n  },\n  watch: {\n    'select.field': function selectField() {\n      this.values = [];\n      this.manual = true;\n    }\n  },\n  methods: {\n    addToExpression: function addToExpression() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          value = _ref.value,\n          type = _ref.type;\n\n      switch (type) {\n        case 'operator':\n          value = ' ' + value + ' ';\n          break;\n        case 'field':\n          value = '\"' + value + '\"';\n          break;\n        case 'value':\n          value = '\\'' + value + '\\'';\n          break;\n      }\n      if (value) this.filter = '' + this.filter + value;\n    },\n    all: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.loading.values = true;\n                _context.prev = 1;\n                _context.next = 4;\n                return _querybuilder2.default.getValues({\n                  layerId: this.currentlayer.id,\n                  field: this.select.field\n                });\n\n              case 4:\n                this.values = _context.sent;\n                _context.next = 9;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context['catch'](1);\n\n              case 9:\n                this.loading.values = false;\n                _context.next = 12;\n                return this.$nextTick();\n\n              case 12:\n                this.manualvalue = null;\n                this.manual = false;\n\n              case 14:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 7]]);\n      }));\n\n      function all() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return all;\n    }(),\n    reset: function reset() {\n      this.filter = '';\n      this.message = '';\n      this.filterElement.previous = null;\n      this.filterElement.current = null;\n      this.filterElement.operator = null;\n    },\n    test: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var layerId, number_of_features;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                layerId = this.currentlayer.id;\n\n                this.loading.test = true;\n                number_of_features = void 0;\n                _context2.prev = 3;\n                _context2.next = 6;\n                return _querybuilder2.default.test({\n                  layerId: layerId,\n                  filter: this.filter\n                });\n\n              case 6:\n                number_of_features = _context2.sent;\n\n                this.message = number_of_features !== undefined ? ' ' + number_of_features : '';\n                _context2.next = 13;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2['catch'](3);\n\n                this.message = _context2.t0;\n\n              case 13:\n                this.loading.test = false;\n                _context2.next = 16;\n                return this.$nextTick();\n\n              case 16:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 10]]);\n      }));\n\n      function test() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return test;\n    }(),\n    run: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var layerId, response;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layerId = this.currentlayer.id;\n\n                this.loading.test = true;\n                _context3.prev = 2;\n                _context3.next = 5;\n                return _querybuilder2.default.run({\n                  layerId: layerId,\n                  filter: this.filter\n                });\n\n              case 5:\n                response = _context3.sent;\n                _context3.next = 10;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3['catch'](2);\n\n              case 10:\n                this.loading.test = false;\n\n              case 11:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[2, 8]]);\n      }));\n\n      function run() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return run;\n    }(),\n    save: function save() {\n      _querybuilder2.default.save({\n        layerId: this.currentlayer.id,\n        filter: this.filter,\n        projectId: this.projectId,\n        name: this.edit && this.$options.options.name,\n        id: this.edit && this.$options.options.id\n      });\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.filterElement = {\n      current: null,\n      previous: null,\n      operator: null\n    };\n    var project = _projects2.default.getCurrentProject();\n    this.layers = project.getLayers().filter(function (layer) {\n      return !layer.baselayer && layer.geometrytype && layer.geometrytype !== 'NoGeometry' && Array.isArray(layer.fields);\n    }).map(function (layer) {\n      var relations = project.getRelationsByLayerId({\n        layerId: layer.id,\n        type: 'ONE'\n      });\n      var excludejoinfields = [];\n      relations.forEach(function (relation) {\n        var customPrefix = relation.customPrefix;\n\n        var joinLayer = project.getLayerById(relation.referencingLayer);\n        customPrefix = customPrefix === undefined ? joinLayer.getName() + '_' : customPrefix;\n        var joinLayerFields = joinLayer.getFields().map(function (field) {\n          return '' + customPrefix + field.name;\n        });\n        excludejoinfields = [].concat(_toConsumableArray(excludejoinfields), _toConsumableArray(joinLayerFields));\n      });\n      return {\n        id: layer.id,\n        label: layer.name,\n        fields: layer.fields.filter(function (field) {\n          return field.show;\n        }).map(function (_ref5) {\n          var label = _ref5.label,\n              name = _ref5.name;\n          return {\n            label: label,\n            name: name\n          };\n        }).filter(function (field) {\n          return excludejoinfields.indexOf(field) === -1;\n        })\n      };\n    });\n    this.operators = operators;\n    this.currentlayer = this.edit ? this.layers.find(function (layer) {\n      return layer.id === _this.$options.options.layerId;\n    }) : this.layers[0];\n  },\n  mounted: function () {\n    var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n      var _this2 = this;\n\n      var index;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.select2 = $('#query_builder_layers_select').select2({\n                width: '100%'\n              });\n              if (this.edit) {\n                index = this.layers.indexOf(this.currentlayer);\n\n                this.select2.val(index);\n                this.select2.trigger('change');\n              }\n              this.select2.on('select2:select', function (evt) {\n                _this2.currentlayer = _this2.layers[evt.params.data.id];\n                _this2.select.field = null;\n                _this2.select.value = null;\n                _this2.reset();\n              });\n\n            case 5:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function mounted() {\n      return _ref6.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.select2.select2('destroy');\n    this.select2 = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"flex-wrap\":\"nowrap !important\"},attrs:{\"id\":\"query_builder\"}},[_c('div',{attrs:{\"id\":\"query_builder_header\"}}),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_layers\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.layers'),expression:\"'sdk.querybuilder.panel.layers'\"}],staticClass:\"querybuilder-title\"}),_vm._v(\" \"),_c('select',{staticClass:\"form-control\",attrs:{\"id\":\"query_builder_layers_select\"}},_vm._l((_vm.layers),function(layer,index){return _c('option',{key:layer.label,staticClass:\"bold\",domProps:{\"value\":index}},[_vm._v(_vm._s(layer.label))])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_fields\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.fields'),expression:\"'sdk.querybuilder.panel.fields'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_fields_title\"}}),_vm._v(\" \"),_c('div',{staticClass:\"querybuilder-content\",attrs:{\"id\":\"query_builder_fields_content\"}},[_c('table',{staticClass:\"table table-striped content-table\"},[_c('tbody',_vm._l((_vm.fields),function(ref){\nvar name = ref.name;\nvar label = ref.label;\nreturn _c('tr',{key:name,class:{'skin-background-color lighten': _vm.select.field===name},staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.select.field = name},\"dblclick\":function($event){return _vm.addToExpression({value: name, type: 'field'})}}},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(label))])])}),0)])])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_values\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.values'),expression:\"'sdk.querybuilder.panel.values'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_values_title\"}}),_vm._v(\" \"),(!_vm.manual)?_c('div',{staticClass:\"querybuilder-content margin-between-element\",attrs:{\"id\":\"query_builder_values_content\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading.values}}),_vm._v(\" \"),_c('table',{staticClass:\"table table-striped content-table\"},[_c('tbody',[_vm._l((_vm.values),function(value){return _c('tr',{key:value,class:{'skin-background-color lighten': _vm.select.value===value},staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.select.value = value},\"dblclick\":function($event){return _vm.addToExpression({value: value, type: 'value'})}}},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(value))])])}),_vm._v(\" \"),_vm._m(0)],2)])],1):_c('div',{staticClass:\"margin-between-element\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"stretch\"},attrs:{\"id\":\"querybuilder-manual\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualvalue),expression:\"manualvalue\"}],staticClass:\"form-control\",staticStyle:{\"border\":\"0\"},attrs:{\"style\":\"border: 0;\"},domProps:{\"value\":(_vm.manualvalue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.manualvalue=$event.target.value}}}),_vm._v(\" \"),_c('span',{class:_vm.g3wtemplate.getFontClass('plus'),staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"1.2em\",\"background-color\":\"white\",\"color\":\"#000000\",\"padding\":\"9px\"},on:{\"click\":function($event){_vm.manualvalue && _vm.addToExpression({value: _vm.manualvalue, type: 'value'})}}})]),_vm._v(\" \"),_c('div',{staticClass:\"content-end skin-color\",attrs:{\"id\":\"query_builder_values_buttons\"}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.manual'),expression:\"'sdk.querybuilder.panel.button.manual'\"}],staticClass:\"query_builder_button btn btn-secondary bold \",class:{'skin-border-color' : _vm.manual},attrs:{\"id\":\"query_builder_values_buttons_sample\"},on:{\"click\":function($event){_vm.manual = true}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.all'),expression:\"'sdk.querybuilder.panel.button.all'\"}],staticClass:\"query_builder_button btn btn-secondary bold \",class:{'skin-border-color' : !_vm.manual},attrs:{\"id\":\"query_builder_values_buttons_all\",\"disabled\":_vm.select.field === null},on:{\"click\":_vm.all}})])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",staticStyle:{\"margin-top\":\"auto !important\"},attrs:{\"id\":\"query_builder_operators\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.operators'),expression:\"'sdk.querybuilder.panel.operators'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_operators_title\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content-wrap\",attrs:{\"id\":\"query_builder_operators_content\"}},_vm._l((_vm.operators),function(operator){return _c('button',{key:operator,staticClass:\"query_builder_button btn btn-secondary skin-color bold\",on:{\"click\":function($event){return _vm.addToExpression({value: operator, type: 'operator'})}}},[_vm._v(_vm._s(operator))])}),0)]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"query_builder_footer\"}},[_c('div',{attrs:{\"id\":\"query_builder_expression\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.expression'),expression:\"'sdk.querybuilder.panel.expression'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_expression_title\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"query_builder_expression_content\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter),expression:\"filter\"}],staticStyle:{\"width\":\"100%\",\"resize\":\"none\",\"height\":\"100px\",\"color\":\"#000000\"},domProps:{\"value\":(_vm.filter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.filter=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_message\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading.test}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.message),expression:\"message\"},{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.messages.number_of_features'),expression:\"'sdk.querybuilder.messages.number_of_features'\"}],staticClass:\"bold skin-color\"}),_c('span',{staticClass:\"bold skin-color\"},[_vm._v(_vm._s(_vm.message))])],1),_vm._v(\" \"),_c('div',{staticClass:\"content-end margin-between-element\",attrs:{\"id\":\"query_builder_footer_buttons\"}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.test'),expression:\"'sdk.querybuilder.panel.button.test'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.test}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.clear'),expression:\"'sdk.querybuilder.panel.button.clear'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",on:{\"click\":_vm.reset}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.run'),expression:\"'sdk.querybuilder.panel.button.run'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.run}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.save'),expression:\"'sdk.querybuilder.panel.button.save'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.save}})])])])}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',{attrs:{\"scope\":\"row\"}})])}]\n\n},{\"app/constant\":4,\"services/querybuilder\":363,\"store/projects\":376}],275:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar QueryBuilderUIFactory = require('gui/querybuilder/querybuilderuifactory');\n\nexports.default = {\n  name: \"g3w-querybuilder-search\",\n  props: {\n    querybuildersearch: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      loading: false,\n      showinfo: false\n    };\n  },\n\n  methods: {\n    remove: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _querybuilder2.default.delete(this.querybuildersearch);\n\n              case 3:\n                this.$emit('delete');\n                _context.next = 8;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context['catch'](0);\n\n              case 8:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 6]]);\n      }));\n\n      function remove() {\n        return _ref.apply(this, arguments);\n      }\n\n      return remove;\n    }(),\n    edit: function edit() {\n      QueryBuilderUIFactory.show({\n        options: {\n          id: this.querybuildersearch.id,\n          name: this.querybuildersearch.name,\n          layerId: this.querybuildersearch.layerId,\n          filter: this.querybuildersearch.filter\n        }\n      });\n    },\n    run: function run() {\n      var _this = this;\n\n      this.loading = true;\n      _querybuilder2.default.run({\n        layerId: this.querybuildersearch.layerId,\n        filter: this.querybuildersearch.filter\n      }).finally(function () {\n        _this.loading = false;\n      });\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"querybuliserch-tools\",staticStyle:{\"display\":\"flex\",\"align-items\":\"baseline\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('filter'),staticStyle:{\"margin-right\":\"14px\",\"margin-left\":\"1px\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.name))]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-left\":\"auto\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.run'),expression:\"'sdk.querybuilder.search.run'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('run'),staticStyle:{\"color\":\"green\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.run($event)}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.info'),expression:\"'sdk.querybuilder.search.info'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('info'),staticStyle:{\"color\":\"#FFFFFF\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();_vm.showinfo=!_vm.showinfo}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.edit'),expression:\"'sdk.querybuilder.search.edit'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('pencil'),staticStyle:{\"color\":\"#307095\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.edit($event)}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.delete'),expression:\"'sdk.querybuilder.search.delete'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.remove($event)}}})])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showinfo),expression:\"showinfo\"}],staticClass:\"querybuildsearch-info\",staticStyle:{\"margin-top\":\"5px\"}},[_c('div',[_c('span',{staticStyle:{\"font-weight\":\"bold\",\"white-space\":\"pre\"}},[_vm._v(\"LAYER: \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.layerName))])]),_vm._v(\" \"),_c('div',[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"EXPRESSION: \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.filter))])])])],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-4002ad61\"\n\n},{\"gui/querybuilder/querybuilderuifactory\":166,\"services/querybuilder\":363}],276:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nvar _QueryResultsTableAttributeFieldValue = require('components/QueryResultsTableAttributeFieldValue.vue');\n\nvar _QueryResultsTableAttributeFieldValue2 = _interopRequireDefault(_QueryResultsTableAttributeFieldValue);\n\nvar _QueryResultsActionInfoFormats = require('components/QueryResultsActionInfoFormats.vue');\n\nvar _QueryResultsActionInfoFormats2 = _interopRequireDefault(_QueryResultsActionInfoFormats);\n\nvar _QueryResultsHeaderFeatureBody = require('components/QueryResultsHeaderFeatureBody.vue');\n\nvar _QueryResultsHeaderFeatureBody2 = _interopRequireDefault(_QueryResultsHeaderFeatureBody);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar maxSubsetLength = 3;\nvar headerExpandActionCellWidth = 10;\nvar headerActionsCellWidth = 10;\nvar HEADERTYPESFIELD = ['varchar', 'integer', 'float', 'date'];\n\nexports.default = {\n  data: function data() {\n    return {\n      state: this.$options.queryResultsService.state,\n      headerExpandActionCellWidth: headerExpandActionCellWidth,\n      headerActionsCellWidth: headerActionsCellWidth\n    };\n  },\n\n  mixins: [_mixins.fieldsMixin],\n  components: {\n    TableAttributeFieldValue: _QueryResultsTableAttributeFieldValue2.default,\n    'infoformats': _QueryResultsActionInfoFormats2.default,\n    'header-feature-body': _QueryResultsHeaderFeatureBody2.default\n  },\n  computed: {\n    layersFeaturesBoxes: function layersFeaturesBoxes() {\n      return this.state.layersFeaturesBoxes;\n    },\n    onelayerresult: function onelayerresult() {\n      return this.state.layers.length === 1;\n    },\n    hasLayers: function hasLayers() {\n      return this.hasResults || !!this.state.components.length;\n    },\n    hasResults: function hasResults() {\n      return this.state.layers.length > 0;\n    },\n    info: function info() {\n      if (this.state.query) {\n        var query = this.state.query;\n        switch (query.type) {\n          case 'coordinates':\n            return {\n              icon: 'marker',\n              message: '  ' + query.coordinates[0] + ', ' + query.coordinates[1]\n            };\n          case 'bbox':\n            return {\n              icon: 'square',\n              message: '  [' + query.bbox.join(' , ') + ']'\n            };\n          case 'polygon':\n            return {\n              icon: 'draw',\n              message: query.layerName ? query.layerName + ' ' + (\"undefined\" !== typeof query.fid ? ' - Feature Id: ' + query.fid : '') : ' ' };\n          default:\n            console.warn('Unsupported query type:  ' + query.type);\n            break;\n        }\n      } else if (this.state.search) {}\n\n      return { icon: null, message: null };\n    }\n  },\n  methods: {\n    getLayerCustomComponents: function getLayerCustomComponents(layerId) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'feature';\n      var position = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'after';\n\n      return this.state.layerscustomcomponents[layerId] && this.state.layerscustomcomponents[layerId][type] && this.state.layerscustomcomponents[layerId][type][position] || [];\n    },\n    getLayerField: function getLayerField(_ref) {\n      var layer = _ref.layer,\n          feature = _ref.feature,\n          fieldName = _ref.fieldName;\n\n      var layerField = layer.attributes.find(function (attribute) {\n        return attribute.name === fieldName;\n      });\n      var field = _extends({}, layerField, {\n        label: null,\n        value: feature.attributes[fieldName]\n      });\n      return field;\n    },\n    getQueryFields: function getQueryFields(layer, feature) {\n      var fields = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = layer.formStructure.fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var field = _step.value;\n\n          var _field = _extends({}, field);\n          _field.query = true;\n          _field.value = feature.attributes[field.name];\n          _field.input = {\n            type: '' + this.getFieldType(_field)\n          };\n          fields.push(_field);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return fields;\n    },\n    getColSpan: function getColSpan(layer) {\n      return this.attributesSubsetLength(layer) + (this.state.layersactions[layer.id].length ? 1 : 0) + !this.hasLayerOneFeature(layer) * 1;\n    },\n    getDownloadActions: function getDownloadActions(layer) {\n      return this.state.layersactions[layer.id].find(function (action) {\n        return action.formats;\n      });\n    },\n    addLayerFeaturesToResults: function addLayerFeaturesToResults(layer) {\n      this.$options.queryResultsService.addLayerFeaturesToResultsAction(layer);\n    },\n    showDownloadAction: function showDownloadAction(evt) {\n      var display = evt.target.children[0].style.display;\n      evt.target.children[0].style.display = display === 'none' ? 'inline-block' : 'none';\n    },\n    printAtlas: function printAtlas(layer) {\n      this.$options.queryResultsService.printAtlas(layer);\n    },\n    showLayerDownloadFormats: function showLayerDownloadFormats(layer) {\n      this.$options.queryResultsService.showLayerDownloadFormats(layer);\n    },\n    saveLayerResult: function saveLayerResult(layer) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"csv\";\n\n      this.$options.queryResultsService.saveLayerResult({ layer: layer, type: type });\n    },\n    hasLayerOneFeature: function hasLayerOneFeature(layer) {\n      return layer.features.length === 1;\n    },\n    addRemoveFilter: function addRemoveFilter(layer) {\n      this.$options.queryResultsService.addRemoveFilter(layer);\n    },\n    getContainerFromFeatureLayer: function getContainerFromFeatureLayer() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          layer = _ref2.layer,\n          index = _ref2.index;\n\n      return $('#' + layer.id + '_' + index + ' > td');\n    },\n    hasOneLayerAndOneFeature: function hasOneLayerAndOneFeature(layer) {\n      return this.hasLayerOneFeature(layer);\n    },\n    hasFormStructure: function hasFormStructure(layer) {\n      return !!layer.formStructure;\n    },\n    layerHasFeatures: function layerHasFeatures(layer) {\n      return layer.features && layer.features.length > 0 ? true : false;\n    },\n    selectionFeaturesLayer: function selectionFeaturesLayer(layer) {\n      this.$options.queryResultsService.selectionFeaturesLayer(layer);\n    },\n    layerHasActions: function layerHasActions(layer) {\n      return this.state.layersactions[layer.id].length > 0;\n    },\n    featureHasActions: function featureHasActions(layer, feature) {\n      return this.geometryAvailable(feature);\n    },\n    geometryAvailable: function geometryAvailable(feature) {\n      return feature.geometry ? true : false;\n    },\n    extractAttributesFromFirstTabOfFormStructureLayers: function extractAttributesFromFirstTabOfFormStructureLayers(layer) {\n      var _this = this;\n\n      var attributes = new Set();\n      var traverseStructure = function traverseStructure(item) {\n        if (item.nodes) item.nodes.forEach(function (node) {\n          return traverseStructure(node);\n        });else {\n          var field = layer.formStructure.fields.find(function (field) {\n            return field.name === item.field_name;\n          });\n          if (field) {\n            if (_this.state.type === 'ows') {\n              field = _extends({}, field);\n              field.name = field.name.replace(/ /g, '_');\n            }\n            attributes.add(field);\n          }\n        }\n      };\n      layer.formStructure.structure.length && layer.formStructure.structure.forEach(function (structure) {\n        return traverseStructure(structure);\n      });\n      return Array.from(attributes);\n    },\n    attributesSubset: function attributesSubset(layer) {\n      var attributes = this.hasFormStructure(layer) ? this.extractAttributesFromFirstTabOfFormStructureLayers(layer) : layer.attributes;\n      var _attributes = attributes.filter(function (attribute) {\n        return attribute.show && HEADERTYPESFIELD.indexOf(attribute.type) !== -1;\n      });\n      var end = Math.min(maxSubsetLength, attributes.length);\n      return _attributes.slice(0, end);\n    },\n    relationsAttributesSubset: function relationsAttributesSubset(relationAttributes) {\n      var attributes = [];\n      _.forEach(relationAttributes, function (value, attribute) {\n        if (Array.isArray(value)) return;\n        attributes.push({ label: attribute, value: value });\n      });\n      var end = Math.min(maxSubsetLength, attributes.length);\n      return attributes.slice(0, end);\n    },\n    relationsAttributes: function relationsAttributes(relationAttributes) {\n      var attributes = [];\n      _.forEach(relationAttributes, function (value, attribute) {\n        attributes.push({ label: attribute, value: value });\n      });\n      return attributes;\n    },\n    attributesSubsetLength: function attributesSubsetLength(layer) {\n      return this.attributesSubset(layer).length;\n    },\n    cellWidth: function cellWidth(index, layer) {\n      var headerLength = maxSubsetLength + this.state.layersactions[layer.id].length;\n      var subsetLength = this.attributesSubsetLength(layer);\n      var diff = headerLength - subsetLength;\n      var actionsCellWidth = layer.hasgeometry ? headerActionsCellWidth : 0;\n      var headerAttributeCellTotalWidth = 100 - headerExpandActionCellWidth - actionsCellWidth;\n      var baseCellWidth = headerAttributeCellTotalWidth / maxSubsetLength;\n      if (index === subsetLength - 1 && diff > 0) return baseCellWidth * (diff + 1);else return baseCellWidth;\n    },\n    featureBoxColspan: function featureBoxColspan(layer) {\n      var colspan = this.attributesSubsetLength(layer);\n      if (layer.expandable) colspan += 1;\n      if (layer.hasgeometry) colspan += 1;\n      return colspan;\n    },\n    relationsAttributesSubsetLength: function relationsAttributesSubsetLength(elements) {\n      return this.relationsAttributesSubset(elements).length;\n    },\n    getLayerFormStructure: function getLayerFormStructure(layer) {\n      return layer.formStructure.structure;\n    },\n    isAttributeOrTab: function isAttributeOrTab(layer, item) {\n      var isField = item.field_name !== undefined;\n      return {\n        type: isField && 'field' || 'tab',\n        item: isField && this.getLayerAttributeFromStructureItem(layer, item.field_name) || [item]\n      };\n    },\n    getLayerAttributeFromStructureItem: function getLayerAttributeFromStructureItem(layer, field_name) {\n      return layer.attributes.find(function (attribute) {\n        return attribute.name === field_name;\n      });\n    },\n    getLayerFeatureBox: function getLayerFeatureBox(layer, feature, relation_index) {\n      var _this2 = this;\n\n      var boxid = this.getBoxId(layer, feature, relation_index);\n      if (this.layersFeaturesBoxes[boxid] === undefined) {\n        this.layersFeaturesBoxes[boxid] = Vue.observable({\n          collapsed: true\n        });\n        this.$watch(function () {\n          return _this2.layersFeaturesBoxes[boxid].collapsed;\n        }, function (collapsed) {\n          var index = layer.features.findIndex(function (_feature) {\n            return feature.id === _feature.id;\n          });\n          var container = _this2.getContainerFromFeatureLayer({\n            layer: layer,\n            index: index\n          });\n          _this2.$options.queryResultsService.openCloseFeatureResult({\n            open: !collapsed,\n            layer: layer,\n            feature: feature,\n            container: container\n          });\n        });\n        this.layersFeaturesBoxes[boxid].collapsed = layer.features.length > 1;\n      }\n      return this.layersFeaturesBoxes[boxid];\n    },\n    collapsedFeatureBox: function collapsedFeatureBox(layer, feature, relation_index) {\n      var boxid = this.getBoxId(layer, feature, relation_index);\n      return this.layersFeaturesBoxes[boxid] ? this.layersFeaturesBoxes[boxid].collapsed : true;\n    },\n    showFeatureInfo: function showFeatureInfo(layer, boxid) {\n      this.$options.queryResultsService.emit('show-query-feature-info', {\n        layer: layer,\n        tabs: this.hasFormStructure(layer),\n        show: this.layersFeaturesBoxes[boxid] ? !this.layersFeaturesBoxes[boxid].collapsed : false\n      });\n    },\n    getBoxId: function getBoxId(layer, feature, relation_index) {\n      return this.$options.queryResultsService.getBoxId(layer, feature, relation_index);\n    },\n    toggleFeatureBox: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(layer, feature, relation_index) {\n        var boxid;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                boxid = this.getBoxId(layer, feature, relation_index);\n\n                this.layersFeaturesBoxes[boxid].collapsed = !this.layersFeaturesBoxes[boxid].collapsed;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                this.showFeatureInfo(layer, boxid);\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function toggleFeatureBox(_x5, _x6, _x7) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return toggleFeatureBox;\n    }(),\n    toggleFeatureBoxAndZoom: function toggleFeatureBoxAndZoom(layer, feature, relation_index) {\n      !this.hasLayerOneFeature(layer) && this.toggleFeatureBox(layer, feature, relation_index);\n    },\n    trigger: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(action, layer, feature, index) {\n        var container;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(action.opened && $('#' + layer.id + '_' + index).css('display') === 'none')) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                this.toggleFeatureBox(layer, feature);\n                _context2.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                container = this.getContainerFromFeatureLayer({ layer: layer, index: index });\n                _context2.next = 7;\n                return this.$options.queryResultsService.trigger(action.id, layer, feature, index, container);\n\n              case 7:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function trigger(_x8, _x9, _x10, _x11) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return trigger;\n    }(),\n    showFullPhoto: function showFullPhoto(url) {\n      this.$options.queryResultsService.showFullPhoto(url);\n    },\n    openLink: function openLink(link_url) {\n      window.open(link_url, '_blank');\n    }\n  },\n  watch: {\n    'state.layers': function () {\n      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(layers) {\n        var _this3 = this;\n\n        var layer, feature, boxid;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layers.forEach(function (layer) {\n                  if (layer.attributes.length <= maxSubsetLength && !layer.hasImageField) layer.expandable = false;\n                  layer.features.forEach(function (feature) {\n                    _this3.getLayerFeatureBox(layer, feature);\n                    if (feature.attributes.relations) {\n                      var relations = feature.attributes.relations;\n                      relations.forEach(function (relation) {\n                        var boxid = layer.id + '_' + feature.id + '_' + relation.name;\n                        var elements = relation.elements;\n                        elements.forEach(function (element, index) {\n                          _this3.layersFeaturesBoxes[boxid + index] = {\n                            collapsed: true\n                          };\n                        });\n                      });\n                    }\n                  });\n                });\n\n                this.onelayerresult = layers.length === 1;\n\n                if (this.onelayerresult && this.hasLayerOneFeature(layers[0])) {\n                  layer = layers[0];\n                  feature = layer.features[0];\n                  boxid = this.getBoxId(layer, feature);\n\n                  this.$options.queryResultsService.onceafter('postRender', function () {\n                    _this3.showFeatureInfo(layer, boxid);\n                  });\n                }\n                requestAnimationFrame(function () {\n                  return _this3.$options.queryResultsService.postRender(_this3.$el);\n                });\n                _context3.next = 6;\n                return this.$nextTick();\n\n              case 6:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function stateLayers(_x12) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return stateLayers;\n    }(),\n    onelayerresult: function onelayerresult(bool) {\n      bool && this.$options.queryResultsService.highlightFeaturesPermanently(this.state.layers[0]);\n    }\n  },\n  created: function created() {\n    var _this4 = this;\n\n    this.zoomToLayerFeaturesExtent = throttle(function (layer) {\n      _this4.$options.queryResultsService.zoomToLayerFeaturesExtent(layer, {\n        highlight: true\n      });\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.state.zoomToResult = true;\n    this.layersFeaturesBoxes = null;\n  },\n  destroyed: function destroyed() {\n    this.$options.queryResultsService.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"queryresults-wrapper\",attrs:{\"id\":\"search-results\"}},[(_vm.info.message)?_c('div',{staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"margin-bottom\":\"3px\",\"font-size\":\"1.1em\"}},[(_vm.info.icon)?_c('span',{staticClass:\"action-button skin-tooltip-bottom\",class:_vm.g3wtemplate.getFontClass(_vm.info.icon)}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.info.message))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"queryresults-container\"},[(_vm.state.layers.length)?[(_vm.hasLayers)?_c('ul',{staticClass:\"queryresults\",staticStyle:{\"position\":\"relative\"},attrs:{\"id\":\"queryresults\"}},[_vm._l((_vm.state.layers),function(layer){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.layerHasFeatures(layer) || layer.rawdata) && layer.show),expression:\"(layerHasFeatures(layer) || layer.rawdata) && layer.show\"}]},[_c('bar-loader',{attrs:{\"loading\":layer.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"box box-primary\"},[_c('div',{staticClass:\"box-header with-border\",class:{'mobile': _vm.isMobile()},attrs:{\"data-widget\":\"collapse\"}},[_c('div',{staticClass:\"box-title query-layer-title\",style:({fontSize: _vm.isMobile() && '1em !important'})},[_vm._v(_vm._s(layer.title)+\"\\n                \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!layer.rawdata),expression:\"!layer.rawdata\"}],staticClass:\"query-layer-feature-count\"},[_vm._v(\"(\"+_vm._s(layer.features.length)+\")\")])]),_vm._v(\" \"),_c('div',{staticClass:\"box-features-action\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('infoformats',{attrs:{\"layer\":layer}}),_vm._v(\" \"),(layer.features.length > 1)?[(layer.hasgeometry)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.zoom_to_features_extent.hint'),expression:\"'sdk.mapcontrols.query.actions.zoom_to_features_extent.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.zoomToLayerFeaturesExtent(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('marker')})]):_vm._e(),_vm._v(\" \"),(layer.atlas.length)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.atlas.hint'),expression:\"'sdk.mapcontrols.query.actions.atlas.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.printAtlas(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('print')})]):_vm._e(),_vm._v(\" \"),(layer.downloads.length === 1)?[_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:((\"sdk.mapcontrols.query.actions.download_features_\" + (layer.downloads[0]) + \".hint\")),expression:\"`sdk.mapcontrols.query.actions.download_features_${layer.downloads[0]}.hint`\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer[layer.downloads[0]].active}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('download'),on:{\"click\":function($event){$event.stopPropagation();return _vm.saveLayerResult(layer, layer.downloads[0])}}})])]:(layer.downloads.length > 1)?[_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('Downloads'),expression:\"'Downloads'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer.downloadformats.active}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('download'),on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayerDownloadFormats(layer)}}})])]:_vm._e()]:_vm._e(),_vm._v(\" \"),(layer.external || (layer.source && layer.source.type !== 'wms'))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.add_features_to_results.hint'),expression:\"'sdk.mapcontrols.query.actions.add_features_to_results.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer.addfeaturesresults.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.addLayerFeaturesToResults(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('plus-square')})]):_vm._e(),_vm._v(\" \"),(layer.features.length > 1 && (layer.external || (layer.source && layer.source.type !== 'wms')))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.add_selection.hint'),expression:\"'sdk.mapcontrols.query.actions.add_selection.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left\",class:{'toggled': layer.selection.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.selectionFeaturesLayer(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('success')})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(layer.selection.active && !layer.external),expression:\"layer.selection.active && !layer.external\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left\",class:{'toggled': layer.filter.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.addRemoveFilter(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('filter')})])],2),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-box-tool\",attrs:{\"data-widget\":\"collapse\"}},[_c('i',{staticClass:\"btn-collapser skin-color\",class:_vm.g3wtemplate.font['minus']})])]),_vm._v(\" \"),(_vm.state.layeractiontool[layer.id].component)?[_c('div',{staticClass:\"g3w-layer-action-tools with-border\",class:{'mobile': _vm.isMobile()},staticStyle:{\"padding\":\"5px\"}},[_c(_vm.state.layeractiontool[layer.id].component,{tag:\"component\",attrs:{\"layer\":layer,\"config\":_vm.state.layeractiontool[layer.id].config}})],1)]:_vm._e(),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'layer', 'before')),function(ref){\nvar component = ref.component;\nreturn _c(component,{tag:\"component\",attrs:{\"layer\":layer}})}),_vm._v(\" \"),_c('div',{staticClass:\"box-body\",class:{'mobile': _vm.isMobile()}},[(layer.rawdata)?[_c('div',{staticClass:\"queryresults-text-html\",class:{text: layer.infoformat === 'text/plain'},domProps:{\"innerHTML\":_vm._s(layer.rawdata)}})]:(_vm.hasFormStructure(layer))?[_c('table',{staticClass:\"table\",class:{'mobile': _vm.isMobile()}},[_c('thead',[_c('tr',[(_vm.state.layersactions[layer.id].length)?_c('th',{style:({width: ((_vm.state.layersactions[layer.id].length *26) + \"px\"), maxWidth:((_vm.state.layersactions[layer.id].length * 26) + \"px\")})}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.attributesSubset(layer)),function(attribute,index){return _c('th',{staticClass:\"centered\"},[_vm._v(_vm._s(attribute.label))])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(layer))?_c('th',{staticClass:\"collapsed\"}):_vm._e()],2)]),_vm._v(\" \"),_c('tbody',[_vm._l((layer.features),function(feature,index){return (feature.show)?[_c('header-feature-body',{attrs:{\"actions\":_vm.state.layersactions[layer.id],\"layer\":layer,\"feature\":feature,\"index\":index,\"onelayerresult\":_vm.onelayerresult,\"trigger\":_vm.trigger,\"toggleFeatureBoxAndZoom\":_vm.toggleFeatureBoxAndZoom,\"hasLayerOneFeature\":_vm.hasLayerOneFeature,\"boxLayerFeature\":_vm.getLayerFeatureBox(layer, feature),\"attributesSubset\":_vm.attributesSubset,\"getLayerField\":_vm.getLayerField}}),_vm._v(\" \"),_c('tr',{staticClass:\"g3w-feature-result-action-tools\"},[(_vm.state.currentactiontools[layer.id][index])?[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(_vm.state.currentactiontools[layer.id][index],{tag:\"component\",attrs:{\"colspan\":_vm.getColSpan(layer),\"layer\":layer,\"feature\":feature,\"featureIndex\":index,\"config\":_vm.state.actiontools[_vm.state.currentactiontools[layer.id][index].name][layer.id]}})],1)]:_vm._e()],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'before')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])}),_vm._v(\" \"),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.collapsedFeatureBox(layer,feature) || _vm.hasOneLayerAndOneFeature(layer)),expression:\"!collapsedFeatureBox(layer,feature) || hasOneLayerAndOneFeature(layer)\"}],staticClass:\"featurebox-body\",attrs:{\"id\":((layer.id) + \"_\" + index)}},[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c('tabs',{attrs:{\"fields\":_vm.getQueryFields(layer, feature),\"layerid\":layer.id,\"feature\":feature,\"tabs\":_vm.getLayerFormStructure(layer)}})],1)]),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])})]:_vm._e()})],2)])]:_c('table',{staticClass:\"table\",class:{'mobile': _vm.isMobile()}},[_c('thead',[_c('tr',[(_vm.state.layersactions[layer.id].length)?_c('th',{style:({width: ((_vm.state.layersactions[layer.id].length *26) + \"px\"), maxWidth:((_vm.state.layersactions[layer.id].length * 26) + \"px\")})}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.attributesSubset(layer)),function(attribute,index){return _c('th',{staticClass:\"centered\"},[_vm._v(_vm._s(attribute.label))])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(layer))?_c('th',{staticClass:\"collapsed\"}):_vm._e()],2)]),_vm._v(\" \"),_vm._l((layer.features),function(feature,index){return (feature.show)?_c('tbody',{key:feature.id},[_c('header-feature-body',{attrs:{\"actions\":_vm.state.layersactions[layer.id],\"layer\":layer,\"feature\":feature,\"index\":index,\"onelayerresult\":_vm.onelayerresult,\"trigger\":_vm.trigger,\"toggleFeatureBoxAndZoom\":_vm.toggleFeatureBoxAndZoom,\"hasLayerOneFeature\":_vm.hasLayerOneFeature,\"boxLayerFeature\":_vm.getLayerFeatureBox(layer, feature),\"attributesSubset\":_vm.attributesSubset,\"getLayerField\":_vm.getLayerField}}),_vm._v(\" \"),_c('tr',{staticClass:\"g3w-feature-result-action-tools\"},[(_vm.state.currentactiontools[layer.id][index])?[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(_vm.state.currentactiontools[layer.id][index],{tag:\"component\",attrs:{\"colspan\":_vm.getColSpan(layer),\"layer\":layer,\"feature\":feature,\"featureIndex\":index,\"config\":_vm.state.actiontools[_vm.state.currentactiontools[layer.id][index].name][layer.id]}})],1)]:_vm._e()],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'before')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":\"getColSpan(layer)\"}},[_c(component,{tag:\"component\",staticClass:\"box-body\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])}),_vm._v(\" \"),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.collapsedFeatureBox(layer,feature) || _vm.hasOneLayerAndOneFeature(layer)),expression:\"!collapsedFeatureBox(layer,feature) || hasOneLayerAndOneFeature(layer)\"}],staticClass:\"featurebox-body\",attrs:{\"id\":((layer.id) + \"_\" + index)}},[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c('table',{staticClass:\"feature_attributes\"},_vm._l((layer.attributes.filter(function (attribute) { return attribute.show; })),function(attribute){return _c('tr',[_c('td',{staticClass:\"attr-label\"},[_vm._v(_vm._s(attribute.label))]),_vm._v(\" \"),_c('td',{staticClass:\"attr-value\",attrs:{\"attribute\":attribute.name}},[_c('table-attribute-field-value',{attrs:{\"feature\":feature,\"field\":_vm.getLayerField({layer: layer, feature: feature, fieldName: attribute.name})}})],1)])}),0)])]),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":\"getColSpan(layer)\"}},[_c(component,{tag:\"component\",staticClass:\"box-body\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])})],2):_c('tbody')})],2)],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'layer', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('div',{staticClass:\"box-body\",class:{'mobile': _vm.isMobile()}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer}})],1)})],2)],1)}),_vm._v(\" \"),_vm._l((_vm.state.components),function(component){return _c('li',[_c(component,{tag:\"component\",on:{\"showresults\":function($event){return _vm.showResults()}}})],1)})],2):_vm._e()]:[(_vm.state.changed)?_c('div',{staticClass:\"query-results-not-found\"},[_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('info.no_results'),expression:\"'info.no_results'\"}],staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"text-align\":\"center\"}})]):_vm._e()]],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/QueryResultsActionInfoFormats.vue\":279,\"components/QueryResultsHeaderFeatureBody.vue\":282,\"components/QueryResultsTableAttributeFieldValue.vue\":283,\"core/utils/utils\":67,\"mixins\":340}],277:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"action\",\n  data: function data() {\n    return {\n      show: true\n    };\n  },\n\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    trigger: {\n      type: Function\n    },\n    action: {\n      type: Object,\n      required: true\n    }\n  },\n  methods: {\n    clickAction: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(action, layer, feature, featureIndex, event) {\n        var element, originalDataTitle;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.trigger(action, layer, feature, featureIndex);\n\n              case 2:\n                if (action.hint_change) {\n                  element = $(event.target).parent();\n                  originalDataTitle = element.attr('data-original-title');\n\n                  element.attr('data-original-title', t(action.hint_change.hint));\n                  element.tooltip('show');\n                  setTimeout(function () {\n                    element.attr('data-original-title', originalDataTitle);\n                    element.tooltip('show');\n                  }, action.hint_change.duration || 600);\n                }\n                this.$emit('action-clicked', action);\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function clickAction(_x, _x2, _x3, _x4, _x5) {\n        return _ref.apply(this, arguments);\n      }\n\n      return clickAction;\n    }()\n  },\n  created: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var show;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.action.init && this.action.init({ layer: this.layer, feature: this.feature, index: this.featureIndex, action: this.action });\n\n              if (!(typeof this.action.condition === 'function')) {\n                _context2.next = 11;\n                break;\n              }\n\n              show = this.action.condition({ layer: this.layer, feature: this.feature });\n\n              if (!(show instanceof Promise)) {\n                _context2.next = 9;\n                break;\n              }\n\n              _context2.next = 6;\n              return show;\n\n            case 6:\n              _context2.t0 = _context2.sent;\n              _context2.next = 10;\n              break;\n\n            case 9:\n              _context2.t0 = show;\n\n            case 10:\n              this.show = _context2.t0;\n\n            case 11:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function created() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('.action-button[data-toggle=\"tooltip\"]').tooltip();\n\n            case 3:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\",value:(_vm.action.download),expression:\"action.download\"},{name:\"t-title\",rawName:\"v-t-title\",value:(_vm.action.hint),expression:\"action.hint\"}],staticClass:\"action-button skin-tooltip-right\",class:{'toggled': _vm.action.state && _vm.action.state.toggled[_vm.featureIndex] },attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();},\"click\":function($event){$event.stopPropagation();return _vm.clickAction(_vm.action, _vm.layer, _vm.feature, _vm.featureIndex, $event)}}},[_c('span',{class:(\"action-button-icon \" + (_vm.action.class)),staticStyle:{\"padding\":\"2px\"},style:(_vm.action.style)})]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-8bfeb4ec\"\n\n},{\"core/i18n/i18n.service\":13}],278:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: \"downloadformats\",\n  data: function data() {\n    var download_format = this.config.downloads[0].format;\n    return {\n      download_format: download_format\n    };\n  },\n\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    config: {\n      type: Object,\n      default: null\n    }\n  },\n  methods: {\n    download: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var _download;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _download = this.config.downloads.find(function (action) {\n                  return action.format === _this.download_format;\n                });\n                _context.next = 4;\n                return _download.cbk(this.layer, this.feature ? this.feature : this.layer.features, _download, this.featureIndex);\n\n              case 4:\n                _context.next = 8;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 6]]);\n      }));\n\n      function download() {\n        return _ref.apply(this, arguments);\n      }\n\n      return download;\n    }()\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-download-formats-content\",staticStyle:{\"width\":\"100%\",\"display\":\"flex\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('download_format'),expression:\"'download_format'\"}],staticClass:\"form-control\",staticStyle:{\"flex-grow\":\"1\"},attrs:{\"search\":false}},_vm._l((_vm.config.downloads),function(download){return _c('option',{directives:[{name:\"download\",rawName:\"v-download\"}],key:download.id,domProps:{\"value\":download.format}},[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(download.format))])])}),0),_vm._v(\" \"),_c('button',{directives:[{name:\"download\",rawName:\"v-download\"}],staticClass:\"btn skin-button\",staticStyle:{\"border-radius\":\"0 3px 3px 0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.download($event)}}},[_c('span',{class:_vm.g3wtemplate.getFontClass('download')})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-72d7b8fa\"\n\n},{}],279:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/parsers'),\n    responseParser = _require.response;\n\nvar _require2 = require('core/utils/geo'),\n    getAlphanumericPropertiesFromFeature = _require2.getAlphanumericPropertiesFromFeature,\n    query = _require2.query;\n\nexports.default = {\n    name: 'Infoformats',\n    props: {\n        layer: {\n            type: Object,\n            required: true\n        }\n    },\n    data: function data() {\n        return {\n            infoformat: this.layer.infoformat\n        };\n    },\n\n    computed: {\n        infoformats: function infoformats() {\n            return this.layer.infoformats || [];\n        }\n    },\n    methods: {\n        reloadLayerDataWithChangedContentType: function () {\n            var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(contenttype) {\n                var _this = this;\n\n                var queryService, response, _responseParser$get, _responseParser$get2, data;\n\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                queryService = _gui2.default.getService('queryresults');\n\n                                this.layer.loading = true;\n                                _context.prev = 2;\n                                _context.next = 5;\n                                return this.projectLayer.changeProxyDataAndReloadFromServer('wms', {\n                                    headers: {\n                                        'Content-Type': contenttype\n                                    },\n                                    params: {\n                                        INFO_FORMAT: contenttype\n                                    }\n                                });\n\n                            case 5:\n                                response = _context.sent;\n\n                                this.layer.infoformat = contenttype;\n                                this.projectLayer.setInfoFormat(this.layer.infoformat);\n                                _responseParser$get = responseParser.get(contenttype)({\n                                    layers: [this.projectLayer],\n                                    response: response\n                                }), _responseParser$get2 = _slicedToArray(_responseParser$get, 1), data = _responseParser$get2[0];\n\n                                if (!data.features) {\n                                    _context.next = 14;\n                                    break;\n                                }\n\n                                this.layer.rawdata = null;\n                                data.features.forEach(function (feature) {\n                                    var _queryService$getFeat = queryService.getFeaturePropertiesAndGeometry(feature),\n                                        fid = _queryService$getFeat.id,\n                                        geometry = _queryService$getFeat.geometry,\n                                        attributes = _queryService$getFeat.properties;\n\n                                    if (_this.layer.attributes.length === 0) {\n                                        _this.layer.hasgeometry = !!geometry;\n\n                                        queryService.setActionsForLayers([_this.layer]);\n                                        getAlphanumericPropertiesFromFeature(attributes).forEach(function (name) {\n                                            _this.layer.attributes.push({\n                                                name: name,\n                                                label: name,\n                                                show: true\n                                            });\n                                        });\n                                    }\n                                    var queryFeature = {\n                                        id: fid,\n                                        attributes: attributes,\n                                        geometry: geometry,\n                                        show: true\n                                    };\n                                    queryFeature.show = true;\n                                    _this.layer.features.push(queryFeature);\n                                });\n                                _context.next = 18;\n                                break;\n\n                            case 14:\n                                this.layer.features.splice(0);\n                                _context.next = 17;\n                                return this.$nextTick();\n\n                            case 17:\n                                this.layer.rawdata = data.rawdata;\n\n                            case 18:\n                                _context.next = 23;\n                                break;\n\n                            case 20:\n                                _context.prev = 20;\n                                _context.t0 = _context['catch'](2);\n\n                                console.log(_context.t0);\n\n                            case 23:\n                                this.layer.loading = false;\n\n                            case 24:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this, [[2, 20]]);\n            }));\n\n            function reloadLayerDataWithChangedContentType(_x) {\n                return _ref.apply(this, arguments);\n            }\n\n            return reloadLayerDataWithChangedContentType;\n        }()\n    },\n    watch: {\n        'infoformat': function infoformat(value) {\n            this.reloadLayerDataWithChangedContentType(value);\n        }\n    },\n    created: function created() {\n        this.projectLayer = _catalogLayers2.default.getLayerById(this.layer.id);\n    },\n    beforeDestroy: function beforeDestroy() {\n        this.projectLayer && this.projectLayer.clearProxyData('wms');\n        this.projectLayer = null;\n    }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.infoformats.length)?_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('infoformat'),expression:\"'infoformat'\"}],staticClass:\"skin-color\",attrs:{\"select2_value\":_vm.infoformat,\"search\":false}},_vm._l((_vm.infoformats),function(infoformat){return _c('option',{key:infoformat,domProps:{\"value\":infoformat}},[_vm._v(_vm._s(infoformat))])}),0):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/geo\":64,\"core/utils/parsers\":66,\"services/gui\":358,\"store/catalog-layers\":371}],280:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-polygonattributes-types-title[data-v-7fd19c11]{font-weight:700;padding:3px;color:#fff;margin:0 0 5px}.g3w-polygonattributes-types-content[data-v-7fd19c11]{display:flex;justify-content:space-between;padding:3px;border-radius:3px;border:1px solid #f4f4f4}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"querypolygonaddattributes\",\n  props: {\n    layer: {\n      type: Object\n    },\n    config: {\n      type: Object,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      type: this.config.choices[0].type\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.unwatch = this.$watch(function () {\n      return _applicationState2.default.language;\n    }, function () {\n      _this.config.choices.forEach(function (choice) {\n        return $(_this.$refs[choice.type]).text(t(choice.label));\n      });\n      $(_this.$refs.g3w_select_feature_featurepolygon).select2().trigger('change');\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unwatch && this.unwatch();\n    this.unwatch = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\"}},[_c('h5',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.mapcontrols.querybypolygon.download.title'),expression:\"'sdk.mapcontrols.querybypolygon.download.title'\"}],staticClass:\"skin-background-color g3w-polygonattributes-types-title\"}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-polygonattributes-types-content\"},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('type'),expression:\"'type'\"}],ref:\"g3w_select_feature_featurepolygon\",staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"},attrs:{\"search\":false}},_vm._l((_vm.config.choices),function(choice){return _c('option',{directives:[{name:\"t\",rawName:\"v-t\",value:(choice.label),expression:\"choice.label\"}],key:choice.type,ref:choice.type,refInFor:true,domProps:{\"value\":choice.type}})}),0),_vm._v(\" \"),_c('button',{staticClass:\"btn skin-button\",staticStyle:{\"border-radius\":\"0 3px 3px 0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.config.download(_vm.type)}}},[_c('span',{class:_vm.g3wtemplate.getFontClass('download')})])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-7fd19c11\"\n\n},{\"core/i18n/i18n.service\":13,\"store/application-state\":370,\"vueify/lib/insert-css\":1}],281:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _QueryResultsAction = require(\"components/QueryResultsAction.vue\");\n\nvar _QueryResultsAction2 = _interopRequireDefault(_QueryResultsAction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"actions\",\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    trigger: {\n      type: Function\n    },\n    actions: {\n      type: Array,\n      default: []\n    }\n  },\n  components: {\n    action: _QueryResultsAction2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.actions.length)?_c('td',{staticClass:\"g3w-feature-actions\"},_vm._l((_vm.actions),function(action){return _c('action',_vm._b({key:action.id,attrs:{\"action\":action}},'action',_vm.$props,false))}),1):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-ec80a64e\"\n\n},{\"components/QueryResultsAction.vue\":277}],282:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".noAttributes[data-v-137530c7]{display:flex;justify-content:flex-end}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _QueryResultsActions = require('components/QueryResultsActions.vue');\n\nvar _QueryResultsActions2 = _interopRequireDefault(_QueryResultsActions);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"headerfeaturebody\",\n  mixins: [_mixins.fieldsMixin],\n  props: {\n    toggleFeatureBoxAndZoom: {\n      type: Function\n    },\n    trigger: {\n      type: Function\n    },\n    hasLayerOneFeature: {\n      type: Function\n    },\n    boxLayerFeature: {\n      type: Object\n    },\n    getLayerField: {\n      type: Function\n    },\n    attributesSubset: {\n      type: Function\n    },\n    layer: {\n      type: Object\n    },\n    feature: {\n      type: Object\n    },\n    index: {\n      type: Number\n    },\n    actions: {\n      type: Array\n    }\n  },\n  components: {\n    actions: _QueryResultsActions2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{staticClass:\"featurebox-header\",class:[_vm.boxLayerFeature.collapsed ? '' : 'featurebox-header-open'],on:{\"click\":function($event){return _vm.toggleFeatureBoxAndZoom(_vm.layer,_vm.feature)},\"mouseover\":function($event){return _vm.trigger({id:'highlightgeometry'}, _vm.layer, _vm.feature, _vm.index)},\"mouseout\":function($event){return _vm.trigger({id:'clearHighlightGeometry'}, _vm.layer, _vm.feature, _vm.index)}}},[_c('actions',{attrs:{\"layer\":_vm.layer,\"featureIndex\":_vm.index,\"trigger\":_vm.trigger,\"feature\":_vm.feature,\"actions\":_vm.actions}}),_vm._v(\" \"),_vm._l((_vm.attributesSubset(_vm.layer)),function(attribute){return _c('td',{staticClass:\"attribute\"},[(_vm.isLink(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('link')}):(_vm.isPhoto(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('image')}):(_vm.isImage(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('image')}):_c('span',[_vm._v(_vm._s(_vm.feature.attributes[attribute.name]))])])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(_vm.layer))?_c('td',{staticClass:\"collapsed\",class:{noAttributes: _vm.attributesSubset(_vm.layer).length === 0}},[_c('span',{staticClass:\"fa link morelink skin-color\",class:[_vm.boxLayerFeature.collapsed ? _vm.g3wtemplate.font['plus'] : _vm.g3wtemplate.font['minus']]})]):_vm._e()],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-137530c7\"\n\n},{\"components/QueryResultsActions.vue\":281,\"mixins\":340,\"vueify/lib/insert-css\":1}],283:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FieldLink = require('components/FieldLink.vue');\n\nvar _FieldLink2 = _interopRequireDefault(_FieldLink);\n\nvar _FieldVue = require('components/FieldVue.vue');\n\nvar _FieldVue2 = _interopRequireDefault(_FieldVue);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"tableattributefieldvalue\",\n  props: {\n    field: {\n      type: Object\n    },\n    feature: {\n      type: Object\n    }\n  },\n  mixins: [_mixins.fieldsMixin],\n  components: {\n    'g3w-link': _FieldLink2.default,\n    'g3w-vue': _FieldVue2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isVue(_vm.field))?_c('g3w-vue',{attrs:{\"feature\":_vm.feature,\"state\":_vm.field}}):(_vm.isSimple(_vm.field))?_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.field.value)}}):(_vm.isPhoto(_vm.field))?_c('g3w-image',{attrs:{\"value\":_vm.field.value}}):(_vm.isImage(_vm.field))?_c('g3w-image',{attrs:{\"value\":_vm.field.value}}):(_vm.isLink(_vm.field))?_c('g3w-link',{attrs:{\"state\":{value: _vm.field.value}}}):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0a32e30e\"\n\n},{\"components/FieldLink.vue\":207,\"components/FieldVue.vue\":210,\"mixins\":340}],284:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nvar _QueryResultsActionDownloadFormats = require('components/QueryResultsActionDownloadFormats.vue');\n\nvar _QueryResultsActionDownloadFormats2 = _interopRequireDefault(_QueryResultsActionDownloadFormats);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar RelationPageEventBus = require('gui/relations/vue/relationeventbus');\n\nvar SIDEBARWIDTH = void 0;\n\nexports.default = {\n  props: ['table', 'feature', 'relation', 'previousview', 'showChartButton', 'cardinality'],\n  inject: ['relationnoback'],\n  mixins: [_mixins.fieldsMixin, _mixins.resizeMixin],\n  components: {\n    Field: _FieldG3W2.default\n  },\n  data: function data() {\n    return {\n      feature: null,\n      fields: null,\n      chart: false,\n      headercomponent: null,\n      downloadButton: null,\n      downloadLayer: {\n        state: null,\n        config: {\n          downloads: []\n        }\n      }\n    };\n  },\n\n  computed: {\n    showrelationslist: function showrelationslist() {\n      return this.previousview === 'relations' && !this.relationnoback;\n    },\n    one: function one() {\n      return this.relation.type === 'ONE';\n    }\n  },\n  methods: {\n    createTable: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var _this = this;\n\n        var layer, downloadformats, downloadformatsLength;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layer = _catalogLayers2.default.getLayerById(this.table.layerId);\n\n                this.isEditable = layer.isEditable() && !layer.isInEditing();\n                downloadformats = layer.isDownloadable() ? layer.getDownloadableFormats() : [];\n                downloadformatsLength = downloadformats.length;\n\n                if (downloadformatsLength > 0) {\n                  this.downloadButton = {\n                    toggled: false,\n                    tooltip: downloadformatsLength > 1 ? 'Downloads' : 'sdk.tooltips.download_' + downloadformats[0],\n                    handler: downloadformatsLength > 1 ? _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n                      return regeneratorRuntime.wrap(function _callee$(_context) {\n                        while (1) {\n                          switch (_context.prev = _context.next) {\n                            case 0:\n                              _this.downloadButton.toggled = !_this.downloadButton.toggled;\n                              _this.downloadLayer.state = _this.downloadLayer.state || layer.state;\n                              _this.downloadLayer.config.downloads = _this.downloadLayer.config.downloads.length ? _this.downloadLayer.config.downloads : downloadformats.map(function (format) {\n                                return {\n                                  id: format,\n                                  format: format,\n                                  cbk: function cbk() {\n                                    _this.saveRelation(layer.getDownloadUrl(format));\n                                    _this.headercomponent = null;\n                                  },\n                                  download: true\n                                };\n                              });\n                              _this.headercomponent = _this.downloadButton.toggled ? _QueryResultsActionDownloadFormats2.default : null;\n\n                            case 4:\n                            case 'end':\n                              return _context.stop();\n                          }\n                        }\n                      }, _callee, _this);\n                    })) : function () {\n                      return _this.saveRelation(layer.getDownloadUrl(downloadformats[0]));\n                    }\n                  };\n                }\n                RelationPageEventBus.$on('reload', function () {\n                  _this.reloadLayout();\n                });\n                this.showChart = throttle(_asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n                  var relationData;\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _this.chart = !_this.chart;\n                          _context2.next = 3;\n                          return _this.$nextTick();\n\n                        case 3:\n                          _this.chartContainer = _this.chartContainer || $('#chart_content');\n                          relationData = {\n                            relations: [_this.relation],\n                            fid: _this.feature.attributes[_constant.G3W_FID]\n                          };\n\n                          _this.$emit(_this.chart ? 'show-chart' : 'hide-chart', _this.chartContainer, relationData);\n\n                        case 6:\n                        case 'end':\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, _this);\n                })));\n                _context3.next = 9;\n                return this.$nextTick();\n\n              case 9:\n                SIDEBARWIDTH = _gui2.default.getSize({ element: 'sidebar', what: 'width' });\n                this.relation.title = this.relation.name;\n\n                if (!this.one) {\n                  this.relationDataTable = $(this.$refs.relationtable).DataTable({\n                    \"pageLength\": 10,\n                    \"bLengthChange\": true,\n                    \"scrollResize\": true,\n                    \"scrollCollapse\": true,\n                    \"scrollX\": true,\n                    \"responsive\": true,\n                    \"order\": [this.table.formStructure ? 1 : 0, 'asc'],\n                    \"columnDefs\": [{ \"orderable\": !this.table.formStructure, \"targets\": 0 }]\n                  });\n                  this.tableHeaderHeight = $('.query-relation  div.dataTables_scrollHeadInner').height();\n                }\n\n                _gui2.default.on('pop-content', this.resize);\n\n              case 13:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function createTable() {\n        return _ref.apply(this, arguments);\n      }\n\n      return createTable;\n    }(),\n    resize: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n        var tableHeight, datatableBody, breadcrumbHeight, OtherElementHeight, width;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (this.$refs.query_relation && this.$refs.query_relation.parentNode.style.display !== 'none') {\n                  tableHeight = $(\".content\").height();\n                  datatableBody = $(this.$refs.query_relation).find('div.dataTables_scrollBody');\n                  breadcrumbHeight = $('.content_breadcrumb').outerHeight();\n                  OtherElementHeight = breadcrumbHeight + $('.navbar-header').outerHeight() + $('.close-panel-block').outerHeight() + $(this.$refs['relation-header']).outerHeight() + $('.dataTables_filter').last().outerHeight() + $('.dataTables_paginate.paging_simple_numbers').outerHeight() + $('.dataTables_scrollHead').last().outerHeight();\n\n                  datatableBody.height(tableHeight - this.tableHeaderHeight - OtherElementHeight);\n                  if (this.table.rowFormStructure) {\n                    width = datatableBody.width() - $(this.$refs.relationtable).find('tr.selected > td').outerWidth() - 20;\n\n                    $('.row-wrap-tabs > .tabs-wrapper').width(width);\n                  }\n                  this.reloadLayout();\n                }\n\n              case 1:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function resize() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    saveRelation: function saveRelation(type) {\n      this.$emit('save-relation', type);\n      this.downloadButton.toggled = false;\n    },\n    showFormStructureRow: function () {\n      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(event, row) {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                this.table.rowFormStructure = this.table.rowFormStructure === row ? null : row;\n                this.fields = this.getRowFields(row);\n                _context5.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                $('#relationtable_wrapper div.dataTables_scrollBody').css('overflow-x', this.table.rowFormStructure ? 'hidden' : 'auto');\n                this.resize();\n\n              case 6:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function showFormStructureRow(_x, _x2) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return showFormStructureRow;\n    }(),\n    editFeature: function editFeature(index) {\n      var queryResultsService = _gui2.default.getService('queryresults');\n      queryResultsService.editFeature({\n        layer: {\n          id: this.table.layerId,\n          attributes: this.table.fields\n        },\n        feature: this.table.features[index]\n      });\n    },\n    getRowFields: function getRowFields(row) {\n      var _this2 = this;\n\n      return this.table.fields.map(function (field, index) {\n        field.value = row[index];\n        field.query = true;\n        field.input = {\n          type: '' + _this2.getFieldType(field)\n        };\n        return field;\n      });\n    },\n    reloadLayout: function reloadLayout() {\n      this.relationDataTable && this.relationDataTable.columns.adjust();\n    },\n    back: function back() {\n      this.$parent.setRelationsList();\n    },\n    fieldIs: function fieldIs(type, value) {\n      var fieldType = this.getFieldType(value);\n      return fieldType === type;\n    },\n    is: function is(type, value) {\n      return this.fieldIs(type, value);\n    },\n    moveFnc: function moveFnc(evt) {\n      var sidebarHeaderSize = $('.sidebar-collapse').length ? 0 : SIDEBARWIDTH;\n      var size = evt.pageX + 2 - sidebarHeaderSize;\n      this.$refs.tablecontent.style.width = size + 'px';\n      this.$refs.chartcontent.style.width = $(this.$refs.relationwrapper).width() - size - 10 + 'px';\n    }\n  },\n  watch: {\n    table: {\n      immediate: true,\n      handler: function handler(table) {\n        table && table.rows.length && this.createTable();\n      }\n    },\n    chart: function () {\n      var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee6() {\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.resize();\n\n              case 3:\n              case 'end':\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function chart() {\n        return _ref6.apply(this, arguments);\n      }\n\n      return chart;\n    }(),\n    headercomponent: function () {\n      var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee7() {\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.resize();\n\n              case 3:\n              case 'end':\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function headercomponent() {\n        return _ref7.apply(this, arguments);\n      }\n\n      return headercomponent;\n    }()\n  },\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n  },\n  beforeDestroy: function () {\n    var _ref8 = _asyncToGenerator(regeneratorRuntime.mark(function _callee8() {\n      return regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              if (this.relationDataTable) {\n                this.relationDataTable.destroy();\n                this.relationDataTable = null;\n                this.chartContainer && this.$emit('hide-chart', this.chartContainer);\n                this.chartContainer = null;\n                this.tableHeaderHeight = null;\n                _gui2.default.off('pop-content', this.resize);\n              }\n\n            case 1:\n            case 'end':\n              return _context8.stop();\n          }\n        }\n      }, _callee8, this);\n    }));\n\n    function beforeDestroy() {\n      return _ref8.apply(this, arguments);\n    }\n\n    return beforeDestroy;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.table)?_c('div',{ref:\"query_relation\",staticClass:\"query-relation\",class:_vm.isMobile() ? 'mobile' : null,staticStyle:{\"margin-top\":\"3px\"}},[_c('div',{ref:\"relation-header\",staticClass:\"header skin-background-color lighten\",staticStyle:{\"padding\":\"3px\",\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"width\":\"100%\"}},[_c('div',{staticClass:\"g3w-long-text\",staticStyle:{\"border-radius\":\"3px\"},style:({fontSize: _vm.isMobile() ? '1em' : '1.3em'})},[(_vm.showrelationslist)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:('sdk.relations.back_to_relations'),expression:\"'sdk.relations.back_to_relations'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:_vm.g3wtemplate.getFontClass('exit'),staticStyle:{\"font-size\":\"0.8em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.back($event)}}}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"relation-tile skin-color\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\" \"+_vm._s(_vm.relation.name))])]),_vm._v(\" \"),(_vm.table.rows.length)?_c('div',{staticClass:\"relations-table-tools\",staticStyle:{\"font-size\":\"1.1em\",\"margin-bottom\":\"3px\"}},[(_vm.downloadButton)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:(_vm.downloadButton.tooltip),expression:\"downloadButton.tooltip\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:[_vm.g3wtemplate.getFontClass('download'), {'toggled-white': _vm.downloadButton.toggled}],staticStyle:{\"padding\":\"5px\"},on:{\"click\":_vm.downloadButton.handler}}):_vm._e(),_vm._v(\" \"),(_vm.showChartButton)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:bottom.create\",value:('sdk.tooltips.show_chart'),expression:\"'sdk.tooltips.show_chart'\",arg:\"bottom\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:[_vm.g3wtemplate.getFontClass('chart'), _vm.chart ? 'toggled-white' : ''],staticStyle:{\"padding\":\"5px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showChart($event)}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),(_vm.table.rows.length)?_c('div',{ref:\"relationwrapper\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"margin-bottom\":\"5px\",\"margin-top\":\"3px\",\"height\":\"95%\"}},[_c('div',{ref:\"tablecontent\",style:({width: _vm.chart ? '70%' : '100%', marginRight: _vm.chart ? '8px' : '3px', position: 'relative' }),attrs:{\"id\":\"table_content\"}},[(_vm.headercomponent)?[_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"margin-left\":\"auto\",\"margin-bottom\":\"5px\",\"margin-right\":\"4px\"}},[_c(_vm.headercomponent,{tag:\"component\",attrs:{\"layer\":_vm.downloadLayer.state,\"config\":_vm.downloadLayer.config}})],1)]:_vm._e(),_vm._v(\" \"),_c('table',{ref:\"relationtable\",staticClass:\"hover relationtable table table-striped row-border\",staticStyle:{\"width\":\"100%\"}},[_c('thead',[_c('tr',{staticStyle:{\"height\":\"0! important\"}},[(_vm.table.formStructure || _vm.isEditable)?_c('th',{style:({minWidth: ((((1*!!_vm.table.formStructure) + (1*_vm.isEditable))*30) + \"px\"), padding: '0 !important' })}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.table.columns),function(column){return _c('th',[_vm._v(_vm._s(column))])})],2)]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.table.rows),function(row,index){return _c('tr',{key:_vm.table.rows_fid[index],class:{'selected': _vm.table.rowFormStructure === row}},[(_vm.table.formStructure || _vm.isEditable)?_c('td',[(_vm.table.formStructure)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:(_vm.table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'),expression:\"table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button row-form skin-color\",class:[_vm.table.rowFormStructure === row ? _vm.g3wtemplate.getFontClass('minus') :  _vm.g3wtemplate.getFontClass('table')],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"current-tooltip\":_vm.table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'},on:{\"click\":function($event){$event.stopPropagation();return _vm.showFormStructureRow($event, row)}}}):_vm._e(),_vm._v(\" \"),(_vm.isEditable)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:('Edit'),expression:\"'Edit'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button row-form skin-color\",class:_vm.g3wtemplate.getFontClass('pencil'),on:{\"click\":function($event){$event.stopPropagation();return _vm.editFeature(index)}}}):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.table.formStructure && _vm.table.rowFormStructure === row)?[_c('td',{staticClass:\"row-wrap-tabs\",attrs:{\"colspan\":_vm.table.columns.length}},[_c('tabs',{attrs:{\"layerid\":_vm.table.layerId,\"feature\":_vm.table.features[index],\"fields\":_vm.fields,\"tabs\":_vm.table.formStructure}})],1)]:_vm._l((row),function(value){return _c('td',[_c('field',{attrs:{\"state\":{value:value}}})],1)})],2)}),0)])],2),_vm._v(\" \"),_c('g3w-resize',{staticClass:\"skin-border-color lighten\",staticStyle:{\"border-style\":\"solid\",\"border-width\":\"0 1px 0 1px\"},attrs:{\"show\":_vm.chart,\"moveFnc\":_vm.moveFnc,\"where\":'content'}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.chart),expression:\"chart\"}],ref:\"chartcontent\",style:({width: _vm.chart ? '30%' : '0', paddingBottom: '5px', marginBottom: '5px', marginLeft: '8px' }),attrs:{\"id\":\"chart_content\"}})],1):_c('div',{staticClass:\"dataTables_scrollBody\",staticStyle:{\"font-weight\":\"bold\",\"margin-top\":\"10px\",\"font-size\":\"1.1em\",\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.relations.no_relations_found'),expression:\"'sdk.relations.no_relations_found'\"}]})])]):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"components/FieldG3W.vue\":204,\"components/QueryResultsActionDownloadFormats.vue\":278,\"core/utils/utils\":67,\"gui/relations/vue/relationeventbus\":172,\"mixins\":340,\"services/gui\":358,\"store/catalog-layers\":371}],285:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".relation-grid-item[data-v-02f56b7e]{min-width:0;min-height:80px;border:2px solid;cursor:pointer;border-radius:4px;background-color:#fff;display:flex;align-items:center}.relation-grid-item[data-v-02f56b7e]:hover{background-color:transparent}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  props: ['relations', 'feature', 'loading'],\n  methods: {\n    showRelation: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(relation) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$parent.showRelation(relation);\n\n              case 2:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function showRelation(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return showRelation;\n    }(),\n    featureInfo: function featureInfo() {\n      var infoFeatures = [];\n      var index = 0;\n      Object.entries(this.feature.attributes).forEach(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            key = _ref3[0],\n            value = _ref3[1];\n\n        if (index > 2) return false;\n        if (value && _.isString(value) && value.indexOf('/') === -1) {\n          infoFeatures.push({\n            key: key,\n            value: value\n          });\n          index += 1;\n        }\n      });\n      return infoFeatures;\n    }\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var relation;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(this.relations.length === 1)) {\n                _context2.next = 5;\n                break;\n              }\n\n              relation = this.relations[0];\n\n              relation.noback = true;\n              _context2.next = 5;\n              return this.showRelation(relation);\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    if (this.relations.length === 1) {\n      delete this.relations[0].noback;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"query-relations\",staticStyle:{\"overflow-y\":\"auto\"}},[_c('div',{staticClass:\"header skin-background-color lighten\",staticStyle:{\"margin-bottom\":\"10px\",\"border-radius\":\"4px\",\"padding\":\"5px\"}},[_c('div',{staticClass:\"skin-color-dark\"},[_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('sdk.relations.list_of_relations_feature'),expression:\"'sdk.relations.list_of_relations_feature'\",arg:\"pre\"}],staticStyle:{\"font-size\":\"1.1em\"}}),_vm._v(\" \"),_vm._l((_vm.featureInfo()),function(info){return _c('span',[_c('b',[_vm._v(_vm._s(info.key))]),_vm._v(\": \"+_vm._s(info.value)+\" \")])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"query-relations-content\",staticStyle:{\"display\":\"grid\",\"grid-template-columns\":\"repeat(2, auto)\",\"grid-column-gap\":\"5px\",\"grid-row-gap\":\"5px\"}},_vm._l((_vm.relations),function(relation){return _c('div',{staticClass:\"skin-border-color relation-grid-item\",on:{\"click\":function($event){return _vm.showRelation(relation)}}},[_c('span',{staticClass:\"skin-color g3w-long-text\",staticStyle:{\"font-weight\":\"bold\",\"padding\":\"5px\"}},[_vm._v(_vm._s(relation.name))])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-02f56b7e\"\n\n},{\"vueify/lib/insert-css\":1}],286:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _Relations = require('components/Relations.vue');\n\nvar _Relations2 = _interopRequireDefault(_Relations);\n\nvar _Relation = require('components/Relation.vue');\n\nvar _Relation2 = _interopRequireDefault(_Relation);\n\nvar _constant = require('constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/geo'),\n    getFeaturesFromResponseVectorApi = _require.getFeaturesFromResponseVectorApi;\n\nvar RelationPageEventBus = require('gui/relations/vue/relationeventbus');\n\nexports.default = {\n  data: function data() {\n    this.chartRelationIds = this.$options.chartRelationIds || [];\n    var _$options = this.$options,\n        table = _$options.table,\n        _$options$relation = _$options.relation,\n        relation = _$options$relation === undefined ? null : _$options$relation,\n        relations = _$options.relations,\n        nmRelation = _$options.nmRelation,\n        feature = _$options.feature,\n        currentview = _$options.currentview,\n        service = _$options.service;\n\n    return {\n      loading: false,\n      state: null,\n      error: false,\n      table: table ? service.buildRelationTable(table) : null,\n      relation: relation,\n      relations: relations,\n      nmRelation: nmRelation,\n      showChartButton: false,\n      feature: feature,\n      currentview: currentview,\n      previousview: currentview\n    };\n  },\n  provide: function provide() {\n    return {\n      relationnoback: this.$options.relations.length === 1\n    };\n  },\n\n  components: {\n    'relations': _Relations2.default,\n    'relation': _Relation2.default\n  },\n  methods: {\n    saveRelations: function saveRelations(type) {\n      this.$options.service.saveRelations(type);\n    },\n    reloadLayout: function reloadLayout() {\n      RelationPageEventBus.$emit('reload');\n    },\n    showChart: function showChart(container, relationData) {\n      var relationLayerId = this.relation.referencingLayer;\n      _gui2.default.getService('queryresults').showChart([relationLayerId], container, relationData);\n    },\n    hideChart: function hideChart(container) {\n      _gui2.default.getService('queryresults').hideChart(container);\n    },\n    showRelation: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(relation) {\n        var relationLayerId, fid, response, relations;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.setLoadingContent(true);\n                this.loading = true;\n                this.relation = relation;\n                relationLayerId = relation.referencingLayer;\n                fid = this.feature.attributes[_constant.G3W_FID];\n                _context.prev = 5;\n                _context.next = 8;\n                return this.$options.service.getRelations({\n                  layer: this.$options.layer,\n                  relation: relation,\n                  fid: fid\n                });\n\n              case 8:\n                response = _context.sent;\n                relations = getFeaturesFromResponseVectorApi(response, {\n                  type: 'result'\n                });\n\n                if (!this.nmRelation) {\n                  _context.next = 15;\n                  break;\n                }\n\n                relationLayerId = this.nmRelation.referencedLayer;\n                _context.next = 14;\n                return this.$options.service.getRelationsNM({\n                  nmRelation: this.nmRelation,\n                  features: relations\n                });\n\n              case 14:\n                relations = _context.sent;\n\n              case 15:\n                this.showChartButton = !!this.chartRelationIds.find(function (chartlayerid) {\n                  return chartlayerid === relationLayerId;\n                });\n                this.table = this.$options.service.buildRelationTable(relations, relationLayerId);\n\n                _gui2.default.changeCurrentContentOptions({\n                  title: relation.name,\n                  crumb: {\n                    title: relation.name\n                  }\n                });\n                _context.next = 20;\n                return this.$nextTick();\n\n              case 20:\n                this.previousview = this.currentview;\n                this.currentview = 'relation';\n                _context.next = 26;\n                break;\n\n              case 24:\n                _context.prev = 24;\n                _context.t0 = _context['catch'](5);\n\n              case 26:\n                _gui2.default.setLoadingContent(false);\n                this.loading = true;\n\n              case 28:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 24]]);\n      }));\n\n      function showRelation(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return showRelation;\n    }(),\n    setRelationsList: function setRelationsList() {\n      this.previousview = 'relation';\n      this.currentview = 'relations';\n      _gui2.default.changeCurrentContentOptions({\n        crumb: {\n          title: _constant.LIST_OF_RELATIONS_TITLE\n        }\n      });\n      this.loading = false;\n    }\n  },\n  beforeMount: function beforeMount() {\n    if (this.currentview === 'relation' || this.relations.length === 1 && this.relations[0].type === 'ONE') this.showRelation(this.relations[0]);\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.relations.sort(function (_ref3, _ref4) {\n                var relationName1 = _ref3.name;\n                var relationName2 = _ref4.name;\n\n                if (relationName1 < relationName2) return -1;\n                if (relationName1 > relationName2) return 1;\n                return 0;\n              });\n              _context2.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              if (this.error) requestAnimationFrame(function () {\n                _gui2.default.popContent();\n              });\n              this.error = false;\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"query-relations-page\"},[_c(_vm.currentview,{ref:_vm.currentview,tag:\"component\",attrs:{\"loading\":_vm.loading,\"previousview\":_vm.previousview,\"showChartButton\":_vm.showChartButton,\"relations\":_vm.relations,\"relation\":_vm.relation,\"nmRelation\":_vm.nmRelation,\"feature\":_vm.feature,\"table\":_vm.table},on:{\"save-relation\":_vm.saveRelations,\"show-chart\":_vm.showChart,\"hide-chart\":_vm.hideChart}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/Relation.vue\":284,\"components/Relations.vue\":285,\"constant\":4,\"core/utils/geo\":64,\"gui/relations/vue/relationeventbus\":172,\"services/gui\":358}],287:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Tool = require('components/Tool.vue');\n\nvar _Tool2 = _interopRequireDefault(_Tool);\n\nvar _QueryBuilderSearch = require('components/QueryBuilderSearch.vue');\n\nvar _QueryBuilderSearch2 = _interopRequireDefault(_QueryBuilderSearch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  },\n\n  components: {\n    'g3w-tool': _Tool2.default,\n    'g3w-search-querybuilder': _QueryBuilderSearch2.default\n  },\n  computed: {\n    show: function show() {\n      return this.state.searches.length + this.state.searchtools.length + this.state.querybuildersearches.length > 0;\n    }\n  },\n  methods: {\n    showPanel: function showPanel() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.$options.service.showPanel(config);\n    },\n    removeItem: function removeItem(_ref) {\n      var type = _ref.type,\n          index = _ref.index;\n\n      this.$options.service.removeItem({\n        type: type,\n        index: index\n      });\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('.icon-search-action').tooltip();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('ul',{staticClass:\"treeview-menu g3w-search g3w-tools menu-items\",attrs:{\"id\":\"g3w-search\"}},[_vm._l((_vm.state.searches),function(search){return _c('li',{staticClass:\"menu-item\",on:{\"click\":function($event){return _vm.showPanel(search)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('empty-circle')}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(search.name))])])}),_vm._v(\" \"),_vm._l((_vm.state.searchtools),function(searchtool){return _c('li',[_c('g3w-tool',{attrs:{\"tool\":searchtool}})],1)}),_vm._v(\" \"),_vm._l((_vm.state.querybuildersearches),function(querybuildersearch,index){return _c('g3w-search-querybuilder',{key:querybuildersearch.id,attrs:{\"querybuildersearch\":querybuildersearch},on:{\"delete\":function($event){return _vm.removeItem({type:'querybuilder', index:index})}}})})],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"components/QueryBuilderSearch.vue\":275,\"components/Tool.vue\":303}],288:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId,\n    convertQGISDateTimeFormatToMoment = _require.convertQGISDateTimeFormatToMoment;\n\nexports.default = {\n  name: 'Searchdatetime',\n  props: {\n    forminput: {\n      type: Object,\n      require: true\n    }\n  },\n  created: function created() {\n    this.id = 'search_datetime_' + getUniqueDomId();\n  },\n\n  computed: {\n    time: function time() {\n      return this.forminput.options.format.time;\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var format, fieldformat, displayformat;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              format = this.forminput.options.format;\n              fieldformat = format.fieldformat, displayformat = format.displayformat;\n\n              fieldformat = convertQGISDateTimeFormatToMoment(fieldformat);\n              displayformat = convertQGISDateTimeFormatToMoment(displayformat);\n              $('#' + this.id).datetimepicker({\n                defaultDate: null,\n                format: displayformat,\n                ignoreReadonly: true,\n                allowInputToggle: true,\n                toolbarPlacement: 'top',\n                widgetPositioning: {\n                  vertical: 'bottom',\n                  horizontal: 'left'\n                },\n                showClose: true,\n                locale: _applicationState2.default.language || 'en'\n              });\n\n              $('#' + this.id).on(\"dp.change\", function () {\n                var newDate = $('#' + _this.forminput.id).val();\n                _this.forminput.value = _.isEmpty(_.trim(newDate)) ? null : moment(newDate, displayformat).format(fieldformat);\n                _this.$emit('change', _this.forminput);\n              });\n\n              _applicationState2.default.ismobile && setTimeout(function () {\n                $('#' + _this.forminput.id).blur();\n              });\n\n            case 9:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group date\",attrs:{\"id\":_vm.id}},[_c('input',{staticClass:\"form-control\",attrs:{\"id\":_vm.forminput.id,\"type\":\"text\"}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon skin-color\"},[_c('span',{class:_vm.g3wtemplate.getFontClass(_vm.time ? 'time': 'calendar')})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":67,\"store/application-state\":370}],289:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SearchSelect = require('components/SearchSelect2.vue');\n\nvar _SearchSelect2 = _interopRequireDefault(_SearchSelect);\n\nvar _SearchDatetime = require('components/SearchDatetime.vue');\n\nvar _SearchDatetime2 = _interopRequireDefault(_SearchDatetime);\n\nvar _SearchPanelLabel = require('components/SearchPanelLabel.vue');\n\nvar _SearchPanelLabel2 = _interopRequireDefault(_SearchPanelLabel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  components: {\n    Select2: _SearchSelect2.default,\n    SearchDatetime: _SearchDatetime2.default,\n    SearchPanelLabel: _SearchPanelLabel2.default\n  },\n  data: function data() {\n    return {\n      state: this.$options.service.state\n    };\n  },\n\n  methods: {\n    isSelectDisabled: function isSelectDisabled(forminput) {\n      return [this.state.loading[forminput.options.dependance], forminput.loading, forminput.options.disabled].reduce(function (disabled) {\n        var current = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        return disabled || current;\n      }, false);\n    },\n    onFocus: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(event) {\n        var top;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.isMobile()) {\n                  _context.next = 5;\n                  break;\n                }\n\n                top = $(event.target).position().top - 10;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                setTimeout(function () {\n                  return $('.sidebar').scrollTop(top);\n                }, 500);\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function onFocus(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return onFocus;\n    }(),\n    autocompleteRequest: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt('return', this.$options.service.autocompleteRequest(params));\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function autocompleteRequest() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return autocompleteRequest;\n    }(),\n    changeDependencyFields: function changeDependencyFields(_ref3) {\n      var field = _ref3.attribute,\n          value = _ref3.value;\n\n      var subscribers = this.$options.service.getDependencies(field);\n      return subscribers.length ? this.$options.service.fillDependencyInputs({\n        field: field,\n        subscribers: subscribers,\n        value: value\n      }) : Promise.resolve();\n    },\n    changeNumericInput: function changeNumericInput(input) {\n      input.value = input.value || input.value === 0 ? input.value : null;\n      this.changeInput(input);\n    },\n    changeInput: function changeInput(input) {\n      var _this = this;\n\n      var id = input.id,\n          attribute = input.attribute,\n          value = input.value,\n          type = input.type;\n\n      try {\n        value = type === 'textfield' || type === 'textField' ? value : value.trim();\n      } catch (err) {}\n      this.$options.service.changeInput({ id: id, value: value });\n      this.state.searching = true;\n      this.changeDependencyFields({\n        attribute: attribute,\n        value: value\n      }).finally(function () {\n        _this.state.searching = false;\n      });\n    },\n    doSearch: function doSearch(event) {\n      event.preventDefault();\n      this.$options.service.run();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.searching),expression:\"state.searching\"}],staticClass:\"g3w-search-panel form-group\"},[_c('h4',{},[_c('b',[_vm._v(_vm._s(_vm.state.title))])]),_vm._v(\" \"),_vm._t(\"tools\"),_vm._v(\" \"),_vm._t(\"form\",[_c('form',{staticClass:\"g3w-search-form\"},[_vm._l((_vm.state.forminputs),function(forminput){return _c('span',{key:forminput.id},[(forminput.type === 'numberfield')?_c('div',{staticClass:\"form-group numeric\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(forminput.value),expression:\"forminput.value\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"0\",\"id\":forminput.id},domProps:{\"value\":(forminput.value)},on:{\"change\":function($event){return _vm.changeNumericInput(forminput)},\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(forminput, \"value\", $event.target.value)},function($event){return _vm.changeNumericInput(forminput)}]}})],1):(forminput.type === 'textfield' || forminput.type === 'textField')?_c('div',{staticClass:\"form-group form-item-search  text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(forminput.value),expression:\"forminput.value\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":forminput.id},domProps:{\"value\":(forminput.value)},on:{\"focus\":_vm.onFocus,\"change\":function($event){return _vm.changeInput(forminput)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(forminput, \"value\", $event.target.value)}}})],1):(forminput.type === 'selectfield' || forminput.type === 'autocompletefield')?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.isSelectDisabled(forminput)),expression:\"isSelectDisabled(forminput)\"}],staticClass:\"form-group text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),(forminput.options.dependance)?_c('bar-loader',{attrs:{\"loading\":_vm.state.loading[forminput.options.dependance] || forminput.loading}}):_vm._e(),_vm._v(\" \"),_c('select2',{attrs:{\"forminput\":forminput,\"autocompleteRequest\":_vm.autocompleteRequest},on:{\"select-change\":_vm.changeInput}})],1):_vm._e(),_vm._v(\" \"),(forminput.type === 'datetimefield')?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.loading[forminput.options.dependance] || false),expression:\"state.loading[forminput.options.dependance] || false\"}],staticClass:\"form-group text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('search-datetime',{attrs:{\"forminput\":forminput},on:{\"change\":_vm.changeInput}})],1):_vm._e(),_vm._v(\" \"),(forminput.logicop)?_c('div',{staticClass:\"search-logicop skin-border-color\"},[_c('h4',[_vm._v(_vm._s(forminput.logicop))])]):_vm._e()])}),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('dosearch'),expression:\"'dosearch'\"}],staticClass:\"sidebar-button-run btn btn-block pull-right\",attrs:{\"id\":\"dosearch\",\"data-i18n\":\"dosearch\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.doSearch($event)}}})])],2)]),_vm._v(\" \"),_vm._t(\"footer\")],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/SearchDatetime.vue\":288,\"components/SearchPanelLabel.vue\":290,\"components/SearchSelect2.vue\":291}],290:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nexports.default = {\n  name: 'Searchpanellabel',\n  props: {\n    forminput: {\n      type: Object,\n      require: true\n    }\n  },\n  methods: {\n    getLabelOperator: function getLabelOperator(operator) {\n      return '[ ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' ]';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"search-label\",staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"justify-content\":\"space-between\"},attrs:{\"for\":_vm.forminput.id}},[_c('span',[_vm._v(_vm._s(_vm.forminput.label || _vm.forminput.attribute))]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\"},[_vm._v(_vm._s(_vm.getLabelOperator(_vm.forminput.operator)))])])}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4}],291:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constant = require('app/constant');\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar autocompleteOptions = require('gui/external/select2/options/autocomplete');\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    debounce = _require2.debounce;\n\nexports.default = {\n  name: \"select2\",\n  props: ['forminput', 'autocompleteRequest'],\n  mixins: [_mixins.select2Mixin],\n  methods: {\n    emitChangeEvent: function emitChangeEvent(evt) {\n      var id = $(evt.target).attr('id');\n      var attribute = $(evt.target).attr('name');\n      var data = evt.params.data;\n      var value = data ? data.id : _constant.SEARCH_ALLVALUE;\n      this.$emit('select-change', {\n        id: id,\n        attribute: attribute,\n        value: value,\n        type: this.forminput.type\n      });\n    },\n    _initSelect2Element: function _initSelect2Element() {\n      var _this = this;\n\n      var _forminput = this.forminput,\n          type = _forminput.type,\n          attribute = _forminput.attribute,\n          options = _forminput.options;\n\n      var numdigaut = options.numdigaut && !Number.isNaN(1 * options.numdigaut) && 1 * options.numdigaut > 0 && 1 * options.numdigaut || 2;\n      var isAutocomplete = type === 'autocompletefield';\n      this.select2 = $(this.$el).select2(_extends({\n        width: '100%',\n        dropdownParent: $('.g3w-search-form:visible'),\n        minimumInputLength: isAutocomplete && numdigaut || 0,\n        allowClear: isAutocomplete,\n        placeholder: isAutocomplete ? '' : null,\n        ajax: isAutocomplete ? {\n          delay: 500,\n          transport: function () {\n            var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref, success, failure) {\n              var value = _ref.data.q;\n              var data;\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.prev = 0;\n                      _context.next = 3;\n                      return _this.autocompleteRequest({\n                        field: attribute,\n                        value: value\n                      });\n\n                    case 3:\n                      data = _context.sent;\n\n                      success({ results: data });\n                      _context.next = 10;\n                      break;\n\n                    case 7:\n                      _context.prev = 7;\n                      _context.t0 = _context['catch'](0);\n\n                      failure(_context.t0);\n\n                    case 10:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this, [[0, 7]]);\n            }));\n\n            function transport(_x, _x2, _x3) {\n              return _ref2.apply(this, arguments);\n            }\n\n            return transport;\n          }()\n        } : null\n      }, autocompleteOptions));\n      this.select2.on('select2:select', function (evt) {\n        _this.emitChangeEvent(evt);\n      });\n      this.forminput.type === 'autocompletefield' && this.select2.on('select2:unselecting', function (evt) {\n        _this.emitChangeEvent(evt);\n      });\n    }\n  },\n  watch: {\n    'forminput.value': function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(value) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                if (value === _constant.SEARCH_ALLVALUE) {\n                  this.select2.val(value);\n                  this.select2.trigger('change');\n                }\n\n              case 3:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function forminputValue(_x4) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return forminputValue;\n    }()\n  },\n  created: function created() {\n    this.allvalue = _constant.SEARCH_ALLVALUE;\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this._initSelect2Element();\n\n            case 3:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('select',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.forminput.options.disabled || _vm.forminput.loading),expression:\"forminput.options.disabled || forminput.loading\"}],staticClass:\"form-control\",attrs:{\"name\":_vm.forminput.attribute,\"id\":_vm.forminput.id}},_vm._l((_vm.forminput.options.values),function(keyvalue){return _c('option',{key:keyvalue.value,domProps:{\"value\":keyvalue.value}},[(keyvalue.value === _vm.allvalue )?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.search.all'),expression:\"'sdk.search.all'\"}]}):_c('span',[_vm._v(_vm._s(keyvalue.key))])])}),0)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-525bb7b8\"\n\n},{\"app/constant\":4,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"gui/external/select2/options/autocomplete\":117,\"mixins\":340}],292:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _eventbus = require('gui/sidebar/eventbus');\n\nvar _eventbus2 = _interopRequireDefault(_eventbus);\n\nvar _sidebar = require('services/sidebar');\n\nvar _sidebar2 = _interopRequireDefault(_sidebar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"Sidebar\",\n  data: function data() {\n    return {\n      components: _sidebar2.default.state.components,\n      panels: _sidebar2.default.stack.state.contentsdata,\n      bOpen: true,\n      bPageMode: false,\n      header: t('main navigation'),\n      state: _sidebar2.default.state\n    };\n  },\n\n  computed: {\n    disabled: function disabled() {\n      return _applicationState2.default.gui.sidebar.disabled;\n    },\n    panelsinstack: function panelsinstack() {\n      return this.panels.length > 0;\n    },\n    showmainpanel: function showmainpanel() {\n      return this.components.length > 0 && !this.panelsinstack;\n    },\n    componentname: function componentname() {\n      return this.components.length ? this.components.slice(-1)[0].getTitle() : \"\";\n    },\n    panelname: function panelname() {\n      var name = \"\";\n      if (this.panels.length) {\n        name = this.panels.slice(-1)[0].content.getTitle();\n      }\n      return name;\n    }\n  },\n  methods: {\n    closePanel: function closePanel() {\n      _sidebar2.default.closePanel();\n    },\n    closeAllPanels: function closeAllPanels() {\n      _sidebar2.default.closeAllPanels();\n    }\n  },\n  created: function created() {\n    this.iframe = _applicationState2.default.iframe;\n    _eventbus2.default.$on('sidebaritemclick', function () {\n      return $('.sidebar-toggle').click();\n    });\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"main-sidebar\",class:{ iframe: _vm.iframe, 'g3w-disabled': _vm.disabled }},[_c('a',{staticClass:\"sidebar-aside-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"offcanvas\",\"role\":\"button\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('bars')})]),_vm._v(\" \"),_c('div',{staticClass:\"sidebar\",attrs:{\"id\":\"g3w-sidebar\"}},[_c('div',{attrs:{\"id\":\"disable-sidebar\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"g3w-sidebarpanel\"},[_c('div',{staticStyle:{\"overflow\":\"hidden\",\"line-height\":\"14px\",\"font-size\":\"1.5em\"},attrs:{\"id\":\"g3w-sidebarpanel-header-placeholder\"}},[_c('div',{staticStyle:{\"display\":\"flex\"},style:({justifyContent: _vm.state.gui.title ? 'space-between' : 'flex-end' })},[(_vm.state.gui.title)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.state.gui.title),expression:\"state.gui.title\"}],staticStyle:{\"display\":\"inline-block\",\"font-weight\":\"bold\"}}):_vm._e(),_vm._v(\" \"),_c('div',[(_vm.panels.length > 1)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('back'),expression:\"'back'\",modifiers:{\"create\":true}}],staticClass:\"skin-tooltip-left g3w-span-button close-pane-button fa-stack\",attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":_vm.closePanel}},[_c('i',{staticClass:\"fa-stack-1x panel-button\",class:_vm.g3wtemplate.getFontClass('circle')}),_vm._v(\" \"),_c('i',{staticClass:\"fa-stack-1x panel-icon\",class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('close'),expression:\"'close'\",modifiers:{\"create\":true}}],staticClass:\"skin-tooltip-left g3w-span-button close-pane-button fa-stack\",attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":_vm.closeAllPanels}},[_c('i',{staticClass:\"fa-stack-1x panel-button\",class:_vm.g3wtemplate.getFontClass('circle')}),_vm._v(\" \"),_c('i',{staticClass:\"fa-stack-1x panel-icon\",class:_vm.g3wtemplate.getFontClass('close')})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"g3w-sidebarpanel-placeholder\",attrs:{\"id\":\"g3w-sidebarpanel-placeholder\"}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"g3w-sidebarcomponents-content\"}},[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showmainpanel),expression:\"showmainpanel\"}],staticClass:\"sidebar-menu\",class:{'g3w-disabled': _vm.state.disabled},attrs:{\"id\":\"g3w-sidebarcomponents\"}})])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b2170cb4\"\n\n},{\"core/i18n/i18n.service\":13,\"gui/sidebar/eventbus\":178,\"services/sidebar\":366,\"store/application-state\":370}],293:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _eventbus = require('gui/sidebar/eventbus');\n\nvar _eventbus2 = _interopRequireDefault(_eventbus);\n\nvar _SidebarItemAction = require('components/SidebarItemAction.vue');\n\nvar _SidebarItemAction2 = _interopRequireDefault(_SidebarItemAction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"SidebarItem\",\n  data: function data() {\n    return {\n      info: this.$options.info || {\n        state: null,\n        style: null,\n        class: null\n      },\n      main: true,\n      component: this.$options.component,\n      active: false,\n      title: '',\n      open: false,\n      icon: null,\n      iconColor: null,\n      collapsible: null\n    };\n  },\n\n  components: {\n    SidebarItemAction: _SidebarItemAction2.default\n  },\n  methods: {\n    onClickItem: function onClickItem(evt) {\n      var _this = this;\n\n      this.component.isolate && evt.stopPropagation();\n      if (!this.component.isolate) {\n        this.$options.service.state.components.forEach(function (component) {\n          if (component !== _this.component) {\n            if (component.getOpen()) {\n              component.click({\n                open: component.isolate\n              });\n            }\n          }\n        });\n        !this.component.collapsible && isMobile.any && _eventbus2.default.$emit('sidebaritemclick');\n      }\n      this.component.setOpen(!this.component.state.open);\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.component.openClose = function () {\n      return _this2.$refs.anchor_click.click();\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.visible),expression:\"state.visible\"},{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.disabled),expression:\"state.disabled\"}],staticClass:\"treeview sidebaritem\",class:{'active': _vm.open},attrs:{\"id\":_vm.component.id}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_c('a',{ref:\"anchor_click\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onClickItem($event)}}},[_c('div',[_c('i',{class:_vm.icon,style:({color: _vm.iconColor})}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.title),expression:\"title\"}],staticClass:\"treeview-label\"})]),_vm._v(\" \"),_c('div',[(_vm.info.state)?_c('span',{class:_vm.info.class,staticStyle:{\"position\":\"absolute\",\"right\":\"5px\",\"font-weight\":\"bold\"},style:(_vm.info.style),attrs:{\"title\":_vm.info.tooltip}},[_vm._v(_vm._s(_vm.info.state))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.actions),function(action){return _c('sidebar-item-action',{key:action.id,attrs:{\"component\":_vm.component.internalComponent,\"action\":action}})})],2),_vm._v(\" \"),(_vm.collapsible)?_c('i',{staticClass:\"pull-right\",class:_vm.g3wtemplate.getFontClass('angle-left')}):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"g3w-sidebarcomponent-placeholder\"}})],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2f606059\"\n\n},{\"components/SidebarItemAction.vue\":294,\"gui/sidebar/eventbus\":178}],294:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'Sidebaritemaction',\n  props: {\n    action: {\n      type: Object,\n      required: true\n    },\n    component: {\n      type: Object\n    }\n  },\n  methods: {\n    triggerAction: function triggerAction() {\n      this.action.fnc(this.component);\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:(_vm.action.tooltip),expression:\"action.tooltip\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action skin-tooltip-left\",class:_vm.action.class,staticStyle:{\"font-weight\":\"bold\",\"padding\":\"3px\"},style:(_vm.action.style),on:{\"click\":function($event){$event.stopPropagation();return _vm.triggerAction($event)}}})}\n__vue__options__.staticRenderFns = []\n\n},{}],295:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SpatialBookMarkItem = require(\"components/SpatialBookMarkItem.vue\");\n\nvar _SpatialBookMarkItem2 = _interopRequireDefault(_SpatialBookMarkItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  props: {\n    group: {\n      type: Object,\n\n      required: true\n    }\n  },\n  components: {\n    SpatialBookMarkItem: _SpatialBookMarkItem2.default\n  },\n  methods: {},\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('div',{staticStyle:{\"font-weight\":\"bold\",\"width\":\"100%\"},style:({borderBottom: _vm.group.expanded ? '2px solid #2c3b41' : 'none'}),on:{\"click\":function($event){$event.stopPropagation();_vm.group.expanded = !_vm.group.expanded}}},[_c('span',{class:[_vm.g3wtemplate.getFontClass(_vm.group.expanded ? 'caret-down' : 'caret-right')],staticStyle:{\"margin-right\":\"5px\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.group.name))])]),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.group.expanded),expression:\"group.expanded\"}],staticStyle:{\"margin-left\":\"10px\"}},_vm._l((_vm.group.nodes),function(node){return _c('spatial-book-mark-item',{attrs:{\"bookmark\":node}})}),1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-07ff686a\"\n\n},{\"components/SpatialBookMarkItem.vue\":296}],296:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".spatial-bookmark[data-v-fab34912]{display:flex;align-items:baseline;justify-content:space-between;padding:5px!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nexports.default = {\n  props: {\n    bookmark: {\n      type: Object,\n\n      required: true\n    }\n  },\n  methods: {\n    removeBookMark: function removeBookMark() {},\n    gotoSpatialBookmark: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref) {\n        var extent = _ref.extent,\n            crs = _ref.crs;\n        var projection;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(_gui2.default.getService('map').getEpsg().split('EPSG:')[1] !== crs.epsg)) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 3;\n                return Projections.registerProjection('EPSG:' + crs.epsg);\n\n              case 3:\n                projection = _context.sent;\n\n                extent = ol.proj.transformExtent(extent, projection, _gui2.default.getService('map').getProjection());\n\n              case 5:\n                _gui2.default.getService('map').zoomToExtent(extent, { force: true });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function gotoSpatialBookmark(_x) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return gotoSpatialBookmark;\n    }()\n  },\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"spatial-bookmark\",on:{\"click\":function($event){$event.stopPropagation();return _vm.gotoSpatialBookmark(_vm.bookmark)}}},[_c('div',[_c('span',{class:_vm.g3wtemplate.getFontClass('bookmark'),staticStyle:{\"margin-right\":\"5px\",\"font-size\":\"0.7em\"}}),_vm._v(\" \"),_c('span',{staticClass:\"g3w-long-text\"},[_vm._v(_vm._s(_vm.bookmark.name))])]),_vm._v(\" \"),(_vm.bookmark.removable)?_c('span',{staticStyle:{\"color\":\"red\",\"margin\":\"5px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('remove-bookmark', _vm.bookmark.id)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('trash')})]):_vm._e()])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-fab34912\"\n\n},{\"g3w-ol/projection/projections\":110,\"services/gui\":358,\"vueify/lib/insert-css\":1}],297:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".content-bookmarks{font-weight:700;color:#fff;padding:5px;border-bottom:2px solid #fff;margin-bottom:5px}.container.add-bookmark-input p.error-input-message{color:#fff}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _SpatialBookMarkGroup = require('components/SpatialBookMarkGroup.vue');\n\nvar _SpatialBookMarkGroup2 = _interopRequireDefault(_SpatialBookMarkGroup);\n\nvar _SpatialBookMarkItem = require('components/SpatialBookMarkItem.vue');\n\nvar _SpatialBookMarkItem2 = _interopRequireDefault(_SpatialBookMarkItem);\n\nvar _InputText = require('components/InputText.vue');\n\nvar _InputText2 = _interopRequireDefault(_InputText);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar SPATIAL_BOOKMARKS_LOCALITEMS = _application2.default.getLocalItem(_constant.LOCAL_ITEM_IDS.SPATIALBOOKMARKS.id);\n\nexports.default = {\n\n  components: {\n    SpatialBookMarkGroup: _SpatialBookMarkGroup2.default,\n    SpatialBookMarkItem: _SpatialBookMarkItem2.default,\n    InputText: _InputText2.default\n  },\n\n  data: function data() {\n    var project = _projects2.default.getCurrentProject();\n\n    if (\"undefined\" === typeof SPATIAL_BOOKMARKS_LOCALITEMS[project.getId()]) {\n      SPATIAL_BOOKMARKS_LOCALITEMS[project.getId()] = [];\n    }\n\n    return {\n      showaddform: false,\n\n      project: {\n        bookmarks: project.getSpatialBookmarks() || []\n      },\n\n      user: {\n        bookmarks: SPATIAL_BOOKMARKS_LOCALITEMS[project.getId()]\n      },\n\n      addbookmarkinput: {\n        name: 'add-bookmark',\n        label: t('sdk.spatialbookmarks.input.name'),\n        value: null,\n        editable: true,\n        type: 'varchar',\n        input: {\n          type: 'text',\n          options: {}\n        },\n        visible: true,\n        validate: {\n          valid: false,\n          required: true\n        }\n      }\n\n    };\n  },\n\n\n  computed: {\n    hasProjectbookmarks: function hasProjectbookmarks() {\n      return this.project.bookmarks.length > 0;\n    }\n  },\n\n  methods: {\n    addBookMark: function addBookMark() {\n      this.user.bookmarks.push({\n        id: uniqueId(),\n        name: this.addbookmarkinput.value,\n        extent: _gui2.default.getService('map').getMapExtent(),\n        removable: true,\n        crs: {\n          epsg: 1 * _gui2.default.getService('map').getCrs().split('EPSG:')[1]\n        }\n      });\n      this.saveUserBookMarks();\n      this.showaddform = false;\n    },\n    removeBookMark: function removeBookMark(id) {\n      this.user.bookmarks = this.user.bookmarks.filter(function (bookmark) {\n        return bookmark.id !== id;\n      });\n      this.saveUserBookMarks();\n    },\n    saveUserBookMarks: function saveUserBookMarks() {\n      SPATIAL_BOOKMARKS_LOCALITEMS[_projects2.default.getCurrentProject().getId()] = this.user.bookmarks;\n      _application2.default.setLocalItem({\n        id: _constant.LOCAL_ITEM_IDS.SPATIALBOOKMARKS.id,\n        data: SPATIAL_BOOKMARKS_LOCALITEMS\n      });\n    },\n    showAddForm: function showAddForm() {\n      this.addbookmarkinput.value = null;\n      this.showaddform = true;\n    }\n  },\n\n  created: function created() {\n    var _this = this;\n\n    this.$on('close', function () {\n      _this.showaddform = false;\n    });\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"treeview-menu g3w-spatial-bookmarks menu-items\",class:{'g3w-tools': !_vm.showaddform},attrs:{\"id\":\"g3w-spatial-bookmarks\"}},[(_vm.showaddform)?[_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"end\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('close'),expression:\"'close'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"sidebar-button sidebar-button-icon\",class:_vm.g3wtemplate.getFontClass('close'),staticStyle:{\"padding\":\"5px\",\"margin\":\"3px\"},on:{\"click\":function($event){$event.stopPropagation();_vm.showaddform = false}}})]),_vm._v(\" \"),_c('helpdiv',{attrs:{\"message\":\"sdk.spatialbookmarks.helptext\"}}),_vm._v(\" \"),_c('div',{staticClass:\"container add-bookmark-input\",staticStyle:{\"padding\":\"5px\",\"width\":\"100%\"}},[_c('input-text',{attrs:{\"state\":_vm.addbookmarkinput}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"5px\"}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('add'),expression:\"'add'\"},{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.addbookmarkinput.validate.valid),expression:\"!addbookmarkinput.validate.valid\"}],staticClass:\"sidebar-button-run btn btn-block\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addBookMark($event)}}})])],1)]:[(_vm.hasProjectbookmarks)?[_c('div',{staticClass:\"content-bookmarks\"},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.spatialbookmarks.sections.project.title'),expression:\"'sdk.spatialbookmarks.sections.project.title'\"}]})]),_vm._v(\" \"),_vm._l((_vm.project.bookmarks),function(bookmark){return [(bookmark.nodes)?_c('spatial-book-mark-group',{attrs:{\"group\":bookmark}}):_c('spatial-book-mark-item',{attrs:{\"bookmark\":bookmark}})]})]:_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"content-bookmarks\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"margin-top\":\"10px\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.spatialbookmarks.sections.user.title'),expression:\"'sdk.spatialbookmarks.sections.user.title'\"}],staticStyle:{\"font-weight\":\"bold\",\"color\":\"#ffffff\"}}),_vm._v(\" \"),_c('span',{staticClass:\"sidebar-button sidebar-button-icon\",class:_vm.g3wtemplate.getFontClass('plus'),staticStyle:{\"padding\":\"5px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showAddForm($event)}}})]),_vm._v(\" \"),_vm._l((_vm.user.bookmarks),function(bookmark){return _c('spatial-book-mark-item',{attrs:{\"bookmark\":bookmark},on:{\"remove-bookmark\":_vm.removeBookMark}})})]],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":4,\"components/InputText.vue\":247,\"components/SpatialBookMarkGroup.vue\":295,\"components/SpatialBookMarkItem.vue\":296,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"services/application\":348,\"services/gui\":358,\"store/projects\":376,\"vueify/lib/insert-css\":1}],298:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"#streetview-error-key[data-v-06dad624]{display:flex;justify-content:center;align-items:center;font-weight:700;height:100%;padding:10px;background-color:#fff}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"streetview\"}},[(_vm.$options.keyError)?_c('div',{attrs:{\"id\":\"streetview-error-key\"}},[_c('span',{staticClass:\"skin-color\"},[_vm._v(\" \"+_vm._s(_vm.$options.keyError))])]):_vm._e()])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-06dad624\"\n\n},{\"vueify/lib/insert-css\":1}],299:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".geometry[data-v-b4d834d0]{cursor:pointer}#noheaders[data-v-b4d834d0]{background-color:#fff;font-weight:700;margin-top:10px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _TableBody = require('components/TableBody.vue');\n\nvar _TableBody2 = _interopRequireDefault(_TableBody);\n\nvar _TableSelectRow = require('components/TableSelectRow.vue');\n\nvar _TableSelectRow2 = _interopRequireDefault(_TableSelectRow);\n\nvar _TableToolbar = require('components/TableToolbar.vue');\n\nvar _TableToolbar2 = _interopRequireDefault(_TableToolbar);\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    debounce = _require.debounce;\n\nvar dataTable = void 0;\nvar fieldsComponents = [];\nvar eventHandlers = {\n  pagination: {},\n  nopagination: {}\n};\n\nexports.default = {\n  name: \"G3WTable\",\n  mixins: [_mixins.resizeMixin],\n  data: function data() {\n    return {\n      tableBodyComponent: null,\n      state: null,\n      table: null,\n      selectedRow: null\n    };\n  },\n\n  components: {\n    TableBody: _TableBody2.default\n  },\n  methods: {\n    getDataFromBBOX: function getDataFromBBOX() {\n      this.$options.service.getDataFromBBOX();\n    },\n    toggleFilterToken: function toggleFilterToken() {\n      this.$options.service.toggleFilterToken();\n    },\n    clearAllSelection: function clearAllSelection() {\n      this.$options.service.clearLayerSelection();\n    },\n    switchSelection: function switchSelection() {\n      this.$options.service.switchSelection();\n    },\n    selectAllRow: function selectAllRow() {\n      this.state.features.length && this.$options.service.selectAllFeatures();\n    },\n    _setLayout: function _setLayout() {\n      this.$options.service._setLayout();\n    },\n    zoomAndHighLightFeature: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(feature) {\n        var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!feature.geometry) {\n                  _context.next = 4;\n                  break;\n                }\n\n                this.$options.service.zoomAndHighLightFeature(feature, zoom);\n                _context.next = 6;\n                break;\n\n              case 4:\n                _context.next = 6;\n                return this.$options.service.zoomAndHighLightGeometryRelationFeatures(feature, zoom);\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function zoomAndHighLightFeature(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return zoomAndHighLightFeature;\n    }(),\n    addRemoveSelectedFeature: function addRemoveSelectedFeature(feature) {\n      this.$options.service.addRemoveSelectedFeature(feature);\n    },\n    reloadLayout: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                dataTable && dataTable.columns.adjust();\n\n              case 3:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function reloadLayout() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return reloadLayout;\n    }(),\n    hasHeaders: function hasHeaders() {\n      return !!this.state.headers.length;\n    },\n    createdContentBody: function createdContentBody() {\n      var _this = this;\n\n      fieldsComponents = fieldsComponents.filter(function (fieldComponent) {\n        fieldComponent.$destroy();\n        return false;\n      });\n      var trDomeElements = dataTable.rows().nodes();\n\n      trDomeElements.each(function (rowElement, index) {\n        $(rowElement).css('cursor', 'pointer');\n        if (_this.state.features.length) {\n          var feature = _this.state.features[index];\n          var hasGeometry = !!feature.geometry;\n          $(rowElement).addClass('feature_attribute');\n          feature.selected && $(rowElement).addClass('selected');\n          $(rowElement).on('click', function () {\n            return hasGeometry && _this.zoomAndHighLightFeature(feature);\n          });\n          $(rowElement).on('mouseover', function () {\n            return hasGeometry && _this.zoomAndHighLightFeature(feature, false);\n          });\n          $(rowElement).children().each(function (index, element) {\n            var header = _this.state.headers[index];\n            var contentDOM = void 0;\n            if (header === null) {\n              var SelectRowClass = Vue.extend(_TableSelectRow2.default);\n              var SelectRowInstance = new SelectRowClass({\n                propsData: {\n                  feature: feature\n                }\n              });\n              SelectRowInstance.$on('selected', function (feature) {\n                return _this.$options.service.addRemoveSelectedFeature(feature);\n              });\n              _this.$watch(function () {\n                return feature.selected;\n              }, function (selected) {\n                selected ? $(rowElement).addClass('selected') : $(rowElement).removeClass('selected');\n              });\n              contentDOM = SelectRowInstance.$mount().$el;\n            } else {\n              var fieldClass = Vue.extend(_FieldG3W2.default);\n              var fieldInstance = new fieldClass({\n                propsData: {\n                  state: {\n                    value: feature.attributes[header.name]\n                  }\n                }\n              });\n              fieldInstance.$mount();\n              fieldsComponents.push(fieldInstance);\n              contentDOM = fieldInstance.$el;\n            }\n            $(element).html(contentDOM);\n          });\n        }\n      });\n      setTimeout(function () {\n        return _this.reloadLayout();\n      }, 0);\n    },\n    resize: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var tableHeight, tableHeaderHeight;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                tableHeight = $(\".content\").height();\n                tableHeaderHeight = $('#open_attribute_table  div.dataTables_scrollHeadInner').height();\n\n                $('#open_attribute_table  div.dataTables_scrollBody').height(tableHeight - tableHeaderHeight - 130);\n\n              case 5:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function resize() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return resize;\n    }()\n  },\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee7() {\n      var _this2 = this;\n\n      var hideElements, commonDataTableOptions, debounceSearch, G3WTableToolbarClass, G3WTableToolbarInstance;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              this.setContentKey = _gui2.default.onafter('setContent', this.resize);\n\n              hideElements = function hideElements() {\n                $('.dataTables_info, .dataTables_length').hide();\n                $('.dataTables_paginate').css({\n                  'display': 'flex',\n                  'justify-content': 'space-between',\n                  'font-size': '0.8em',\n                  'margin-top': '5px'\n                });\n                $('.dataTables_filter').css('float', 'right');\n                $('.dataTables_paginate').css('margin', '0');\n              };\n\n              _context7.next = 4;\n              return this.$nextTick();\n\n            case 4:\n              this.first = false;\n              commonDataTableOptions = {\n                \"lengthMenu\": this.state.pageLengths,\n                \"pageLength\": this.state.pageLength,\n                \"scrollX\": true,\n                \"processing\": false,\n                \"scrollCollapse\": true,\n                \"sSearch\": false,\n                \"order\": [1, 'asc'],\n                \"dom\": 'l<\"#g3w-table-toolbar\">frtip',\n                \"columnDefs\": [{\n                  \"targets\": 0,\n                  \"orderable\": false,\n                  \"searchable\": false,\n                  \"width\": '1%'\n                }]\n              };\n\n              if (this.state.pagination) {\n                dataTable = $(this.$refs.attribute_table).DataTable(_extends({}, commonDataTableOptions, {\n                  \"columns\": this.state.headers,\n                  \"ajax\": debounce(function (data, callback) {\n                    var trDomeElements = $('#open_attribute_table table tr');\n                    trDomeElements.each(function (element) {\n                      $(element).off('click');\n                      $(element).off('mouseover');\n                    });\n                    _this2.$options.service.getData(data).then(function () {\n                      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(serverData) {\n                        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                          while (1) {\n                            switch (_context4.prev = _context4.next) {\n                              case 0:\n                                callback(serverData);\n                                _context4.next = 3;\n                                return _this2.$nextTick();\n\n                              case 3:\n                                _this2.createdContentBody();\n                                _this2.isMobile() && hideElements();\n\n                              case 5:\n                              case 'end':\n                                return _context4.stop();\n                            }\n                          }\n                        }, _callee4, _this2);\n                      }));\n\n                      return function (_x3) {\n                        return _ref5.apply(this, arguments);\n                      };\n                    }()).catch(function (error) {\n                      console.log(error);\n                    });\n                  }, 800),\n                  \"serverSide\": true,\n                  \"deferLoading\": this.state.allfeatures\n                }));\n                this.$options.service.on('ajax-reload', dataTable.ajax.reload);\n                this.changeColumn = debounce(function () {\n                  var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(event, index) {\n                    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                      while (1) {\n                        switch (_context5.prev = _context5.next) {\n                          case 0:\n                            dataTable.columns(index).search(event.target.value.trim()).draw();\n\n                          case 1:\n                          case 'end':\n                            return _context5.stop();\n                        }\n                      }\n                    }, _callee5, _this2);\n                  }));\n\n                  return function (_x4, _x5) {\n                    return _ref6.apply(this, arguments);\n                  };\n                }());\n              } else {\n                dataTable = $(this.$refs.attribute_table).DataTable(_extends({}, commonDataTableOptions, {\n                  searchDelay: 600\n                }));\n                debounceSearch = debounce(function () {\n                  _this2.$options.service.setFilteredFeature(dataTable.rows({ search: 'applied' })[0]);\n                }, 600);\n\n                eventHandlers.nopagination['search.dt'] = debounceSearch;\n                dataTable.on('search.dt', debounceSearch);\n                dataTable.on('length.dt', function (evt, settings, length) {\n                  _this2.$options.service.setAttributeTablePageLength(length);\n                });\n                this.changeColumn = debounce(function () {\n                  var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee6(event, index) {\n                    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n                      while (1) {\n                        switch (_context6.prev = _context6.next) {\n                          case 0:\n                            dataTable.columns(index).search(event.target.value.trim()).draw();\n                            _this2.$options.service.setFilteredFeature(dataTable.rows({ search: 'applied' })[0]);\n\n                          case 2:\n                          case 'end':\n                            return _context6.stop();\n                        }\n                      }\n                    }, _callee6, _this2);\n                  }));\n\n                  return function (_x6, _x7) {\n                    return _ref7.apply(this, arguments);\n                  };\n                }());\n              }\n\n              this.isMobile() && hideElements();\n\n              G3WTableToolbarClass = Vue.extend(_TableToolbar2.default);\n              G3WTableToolbarInstance = new G3WTableToolbarClass({\n                propsData: {\n                  tools: this.state.tools,\n                  geolayer: this.state.geolayer,\n                  switchSelection: this.switchSelection,\n                  clearAllSelection: this.clearAllSelection,\n                  toggleFilterToken: this.toggleFilterToken,\n                  getDataFromBBOX: this.getDataFromBBOX\n                }\n              });\n\n\n              $('#g3w-table-toolbar').html(G3WTableToolbarInstance.$mount().$el);\n\n              this.$options.service.on('redraw', function (data) {\n                dataTable.clear();\n                dataTable.draw(false);\n                setTimeout(function () {\n                  dataTable.rows.add(data);\n                  dataTable.draw(false);\n                  _this2.createdContentBody();\n                  _this2.isMobile() && hideElements();\n                });\n              });\n\n            case 12:\n            case 'end':\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.$options.service.clear();\n    this.$options.service.off('ajax-reload');\n    this.$options.service.off('redraw');\n    _gui2.default.un('setContent', this.setContentKey);\n    dataTable.destroy(true);\n    dataTable = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-top\":\"5px\"},attrs:{\"id\":\"open_attribute_table\"}},[(_vm.hasHeaders())?_c('table',{ref:\"attribute_table\",staticClass:\"table table-striped row-border compact nowrap\",staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"layer_attribute_table\"}},[_c('thead',[_c('tr',[_c('th'),_vm._v(\" \"),_vm._l((_vm.state.headers),function(header,index){return (index > 0)?_c('th',[_c('input',{staticClass:\"form-control column-search\",staticStyle:{\"height\":\"25px\",\"min-width\":\"40px\",\"padding\":\"2px\"},attrs:{\"type\":\"text\",\"placeholder\":header.name},on:{\"keyup\":function($event){return _vm.changeColumn($event, index)}}})]):_vm._e()})],2),_vm._v(\" \"),_c('tr',_vm._l((_vm.state.headers),function(header,index){return _c('th',[(index === 0)?_c('span',[_c('input',{staticClass:\"magic-checkbox\",attrs:{\"type\":\"checkbox\",\"id\":\"attribute_table_select_all_rows\",\"disabled\":_vm.state.nofilteredrow || _vm.state.features.length === 0},domProps:{\"checked\":_vm.state.selectAll}}),_vm._v(\" \"),_c('label',{staticStyle:{\"margin-bottom\":\"0 !important\"},attrs:{\"for\":\"attribute_table_select_all_rows\"},on:{\"!click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.selectAllRow($event)}}},[_c('span',{staticStyle:{\"padding\":\"5px\"}})])]):_c('span',[_vm._v(_vm._s(header.label))])])}),0)]),_vm._v(\" \"),_c('table-body',{attrs:{\"headers\":_vm.state.headers,\"filter\":_vm.state.tools.filter,\"features\":_vm.state.features,\"addRemoveSelectedFeature\":_vm.addRemoveSelectedFeature,\"zoomAndHighLightFeature\":_vm.zoomAndHighLightFeature}})],1):_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('dataTable.no_data'),expression:\"'dataTable.no_data'\"}],attrs:{\"id\":\"noheaders\"}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b4d834d0\"\n\n},{\"components/FieldG3W.vue\":204,\"components/TableBody.vue\":300,\"components/TableSelectRow.vue\":301,\"components/TableToolbar.vue\":302,\"core/utils/utils\":67,\"mixins\":340,\"services/gui\":358,\"vueify/lib/insert-css\":1}],300:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _TableSelectRow = require('components/TableSelectRow.vue');\n\nvar _TableSelectRow2 = _interopRequireDefault(_TableSelectRow);\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"table-body\",\n  props: {\n    headers: {\n      required: true,\n      type: Array\n    },\n    features: {\n      required: true,\n      type: Array\n    },\n    zoomAndHighLightFeature: {\n      type: Function\n    },\n    addRemoveSelectedFeature: {\n      type: Function\n    },\n    filter: {\n      type: Object,\n      default: {\n        active: false\n      }\n    }\n  },\n  data: function data() {\n    return {\n      selectedRow: null\n    };\n  },\n\n  components: {\n    Field: _FieldG3W2.default,\n    SelectRow: _TableSelectRow2.default\n  },\n  methods: {\n    getField: function getField(feature, header) {\n      return {\n        value: feature.attributes[header.name],\n        label: undefined };\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tbody',{attrs:{\"id\":\"table_body_attributes\"}},_vm._l((_vm.features),function(feature,index){return _c('tr',{key:feature.id,staticClass:\"feature_attribute\",class:[index %2 == 1 ? 'odd' : 'pair', {geometry: !!feature.geometry}, {'selected': feature.selected}],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"role\":\"row\",\"selected\":_vm.selectedRow === index},on:{\"mouseover\":function($event){return _vm.zoomAndHighLightFeature(feature, false)},\"click\":function($event){return _vm.zoomAndHighLightFeature(feature, true)}}},_vm._l((_vm.headers),function(header,hindex){return _c('td',{attrs:{\"tab-index\":1}},[(hindex===0)?_c('select-row',{attrs:{\"feature\":feature},on:{\"selected\":_vm.addRemoveSelectedFeature}}):_c('field',{attrs:{\"feature\":feature,\"state\":_vm.getField(feature, header)}})],1)}),0)}),0)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-521d3b4c\"\n\n},{\"components/FieldG3W.vue\":204,\"components/TableSelectRow.vue\":301}],301:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"select-row\",\n  props: {\n    feature: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      id: getUniqueDomId()\n    };\n  },\n\n  methods: {\n    select: function select() {\n      this.$emit('selected', this.feature);\n    }\n  },\n  destroyed: function destroyed() {\n    this.$off('selected');\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('input',{staticClass:\"magic-checkbox\",attrs:{\"type\":\"checkbox\",\"id\":_vm.id},domProps:{\"checked\":_vm.feature.selected}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.id},on:{\"!click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.select($event)}}},[_c('span')])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-f4034894\"\n\n},{\"core/utils/utils\":67}],302:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".action-button[data-v-4f671d73]{padding:4px}.action-button.toggled[data-v-4f671d73]{border:1px solid #ccc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require(\"store/application-state\");\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-table-toolbar\",\n  props: {\n    tools: {\n      type: Object\n    },\n    switchSelection: {\n      type: Function\n    },\n    clearAllSelection: {\n      type: Function\n    },\n    toggleFilterToken: {\n      type: Function\n    },\n    getDataFromBBOX: {\n      type: Function\n    }\n  },\n  computed: {\n    disableMapTool: function disableMapTool() {\n      return !this.tools.geolayer.active && _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel.height_100;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"padding\":\"1px\"}},[(_vm.tools.geolayer.show)?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disableMapTool),expression:\"disableMapTool\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.show_features_on_map'),expression:\"'layer_selection_filter.tools.show_features_on_map'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('map'), _vm.tools.geolayer.active ? 'toggled' : ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.getDataFromBBOX($event)}}}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.clear'),expression:\"'layer_selection_filter.tools.clear'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:_vm.g3wtemplate.getFontClass('clear'),attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.clearAllSelection($event)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.invert'),expression:\"'layer_selection_filter.tools.invert'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('invert'), _vm.tools.filter.active ? 'g3w-disabled': ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.switchSelection($event)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('filter'), _vm.tools.filter.active ? 'toggled' : ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleFilterToken($event)}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-4f671d73\"\n\n},{\"store/application-state\":370,\"vueify/lib/insert-css\":1}],303:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".tool_disabled[data-v-31811884]{cursor:not-allowed}.tool_disabled>span[data-v-31811884]{color:#777}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AppState = _application2.default.getState();\n\nvar TOOLSTATE = {\n  alert: {\n    color: 'red'\n  },\n  info: {\n    color: 'blue'\n  },\n  warning: {\n    color: 'orange'\n  }\n};\n\nexports.default = {\n  name: \"g3w-tool\",\n  props: {\n    tool: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {};\n  },\n\n  methods: {\n    fireAction: function fireAction(tool) {\n      this.tool.action(tool);\n    },\n    showToolStateMessage: function showToolStateMessage() {\n      _gui2.default.showModalDialog({\n        title: this.tool.state.type.toUpperCase(),\n        message: this.tool.state.message\n      });\n    }\n  },\n  computed: {\n    disabled: function disabled() {\n      return !this.tool.offline && !AppState.online || this.tool.loading || this.tool.disabled;\n    },\n    icon: function icon() {\n      return this.tool.icon || 'caret-right';\n    },\n    toolstatecolor: function toolstatecolor() {\n      return TOOLSTATE[this.tool.state.type].color;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.tool.type === 'checkbox' )?_c('div',{staticClass:\"checkbox\"},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tool.isCheck),expression:\"tool.isCheck\"}],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"id\":_vm.tool.layerName,\"type\":\"checkbox\"},domProps:{\"value\":_vm.tool.layerName,\"checked\":Array.isArray(_vm.tool.isCheck)?_vm._i(_vm.tool.isCheck,_vm.tool.layerName)>-1:(_vm.tool.isCheck)},on:{\"click\":function($event){return _vm.fireAction(_vm.tool)},\"change\":function($event){var $$a=_vm.tool.isCheck,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=_vm.tool.layerName,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.tool, \"isCheck\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.tool, \"isCheck\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.tool, \"isCheck\", $$c)}}}}),_vm._v(\"\\n      \"+_vm._s(_vm.tool.name)+\"\\n    \")])]):_c('div',{staticClass:\"tool\",class:{tool_disabled: _vm.disabled},staticStyle:{\"position\":\"relative\"},on:{\"click\":function($event){!_vm.disabled ? _vm.fireAction(_vm.tool) : null}}},[_c('bar-loader',{attrs:{\"loading\":_vm.tool.loading}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass(_vm.icon)}),_vm._v(\" \"),(_vm.tool.html)?_c('span',[_c('i',{class:_vm.tool.html.icon}),_vm._v(\"\\n      \"+_vm._s(_vm.tool.html.text || _vm.tool.name)+\"\\n    \")]):_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.tool.name),expression:\"tool.name\"}]}),_vm._v(\" \"),(_vm.tool.state.type)?_c('span',{staticStyle:{\"cursor\":\"pointer\",\"vertical-align\":\"center\",\"position\":\"absolute\",\"right\":\"0\",\"top\":\"0\",\"padding\":\"5px\"},style:({color: _vm.toolstatecolor}),on:{\"click\":function($event){$event.stopPropagation();return _vm.showToolStateMessage($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass(_vm.tool.state.type)})]):_vm._e()],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-31811884\"\n\n},{\"services/application\":348,\"services/gui\":358,\"vueify/lib/insert-css\":1}],304:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Tool = require('components/Tool.vue');\n\nvar _Tool2 = _interopRequireDefault(_Tool);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  },\n\n  watch: {\n    'state.toolsGroups': {\n      handler: function handler(groups) {\n        this.$emit('visible', groups.length > 0);\n      }\n    }\n  },\n  components: {\n    G3wTool: _Tool2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"g3w-tools treeview-menu\"},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_vm._l((_vm.state.toolsGroups),function(group){return _c('li',{key:group.name},[_c('div',{staticClass:\"tool-header\"},[_c('i',{class:_vm.g3wtemplate.getFontClass('tool')}),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(group.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"tool-box\",attrs:{\"id\":group.name + '-tools'}},_vm._l((group.tools),function(tool){return _c('g3w-tool',{key:tool.name,attrs:{\"tool\":tool}})}),1)])})],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/Tool.vue\":303}],305:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".usermessage-content[data-v-57c4f706]{color:#fff;z-index:1000;position:absolute;line-height:normal;padding:3px;min-width:250px;box-shadow:0 3px 5px rgba(0,0,0,.3);-moz-box-shadow:0 3px 5px rgba(0,0,0,.3)}.usermessage-content.mobile[data-v-57c4f706]{padding:0;min-width:100%}.usermessage-header-content[data-v-57c4f706]{display:flex;align-items:baseline;justify-content:space-between;width:100%}.usermessage-header-icontype[data-v-57c4f706]{padding:10px 0 0 5px;font-weight:700;font-size:1.3em}.usermessage-content.mobile .usermessage-header-icontype[data-v-57c4f706]{padding:0 0 0 5px;font-size:1.1em}.usermessage-header-title[data-v-57c4f706],.usermessage-header-title h4[data-v-57c4f706]{font-weight:700;text-align:center}.usermessage-content.mobile .usermessage-header-title h4[data-v-57c4f706]{margin:0}.usermessage-header-subtitle[data-v-57c4f706]{font-weight:700;margin:5px}.usermessage-header-right[data-v-57c4f706]{padding:5px}.usermessage-header-right-item[data-v-57c4f706]{font-weight:700!important;font-size:1.2em;cursor:pointer}.usermessage-message[data-v-57c4f706]{width:100%;padding:0 0 3px 10px;max-height:100px;font-size:1.1em;align-self:flex-start;overflow-y:auto}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar COLORS = {\n  success: {\n    backgroundColor: '#62ac62',\n    color: '#FFFFFF'\n  },\n  info: {\n    backgroundColor: '#44a0bb',\n    color: '#FFFFFF'\n  },\n  warning: {\n    backgroundColor: '#f29e1d',\n    color: '#FFFFFF'\n  },\n  alert: {\n    backgroundColor: '#c34943',\n    color: '#FFFFFF'\n  },\n  tool: {\n    backgroundColor: '#FFFFFF',\n    color: \"#222d32\"\n  },\n  loading: {\n    backgroundColor: '#FFFFFF',\n    color: \"#222d32\",\n    fontWeight: \"bold\"\n  }\n};\n\nvar STYLES = {\n  success: {},\n  info: {},\n  warning: {},\n  alert: {},\n  tool: {\n    \"z-index\": _constant.ZINDEXES.usermessage.tool,\n    left: \"40px\"\n  },\n  loading: {}\n};\n\nexports.default = {\n  name: \"usermessage\",\n  props: {\n    id: {},\n    type: {\n      type: String,\n      default: 'info' },\n    title: {\n      type: String,\n      default: null\n    },\n    subtitle: {\n      type: String,\n      default: null\n    },\n    position: {\n      type: String,\n      default: 'top'\n    },\n    size: {\n      type: 'String',\n      default: 'fullpage'\n    },\n    message: {\n      type: String,\n      default: ''\n    },\n    textMessage: {\n      type: Boolean,\n      default: false\n    },\n    autoclose: {\n      type: Boolean,\n      default: false\n    },\n    draggable: {\n      type: Boolean,\n      default: false\n    },\n    duration: {\n      type: Number,\n      default: 2000\n    },\n    closable: {\n      type: Boolean,\n      default: true\n    }\n  },\n  computed: {\n    showheader: function showheader() {\n      return this.type !== 'loading';\n    }\n  },\n  methods: {\n    addClassMobile: function addClassMobile() {\n      return this.isMobile() && !_gui2.default.isSidebarVisible();\n    },\n    closeUserMessage: function closeUserMessage() {\n      this.$emit('close-usermessage');\n    },\n    hideShow: function hideShow() {}\n  },\n  created: function created() {\n    var _position$split = this.position.split('-'),\n        _position$split2 = _slicedToArray(_position$split, 2),\n        where = _position$split2[0],\n        alignement = _position$split2[1];\n\n    var width = '100%';\n    switch (this.size) {\n      case 'small':\n        width = '25%';\n        break;\n      case 'medium':\n        width = '50%';\n        break;\n      case 'fullpage':\n      default:\n        width = '100%';\n    }\n    if (where === 'center') where = {\n      top: 0,\n      bottom: 0,\n      maxHeight: '20%'\n    };else {\n      where = _defineProperty({}, where, 50);\n    }\n    var position = _extends({}, where, {\n      width: width\n    });\n    if (alignement) {\n      position.width = '25%';\n      switch (alignement) {\n        case 'center':\n          position.left = '0';\n          position.right = '0';\n          position.margin = 'auto';\n          break;\n        case 'right':\n          position.right = 0;\n          break;\n      }\n    }\n    this.style = _extends({}, COLORS[this.type], position, STYLES[this.type]);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var timeout;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!this.autoclose) {\n                _context.next = 4;\n                break;\n              }\n\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              timeout = setTimeout(function () {\n                _this.closeUserMessage();\n                clearTimeout(timeout);\n              }, this.duration);\n\n            case 4:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"usermessage-content\",class:{'mobile': _vm.addClassMobile()},style:(_vm.style),attrs:{\"id\":_vm.id}},[(_vm.showheader)?_c('div',{staticClass:\"usermessage-header-content\"},[_c('i',{staticClass:\"usermessage-header-icontype\",class:_vm.g3wtemplate.getFontClass(_vm.type)}),_vm._v(\" \"),_c('div',{staticClass:\"usermessage-header-title\"},[_vm._t(\"header\",[(_vm.title)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.title),expression:\"title\"}]}):_c('h4',[_vm._v(\" \"+_vm._s(_vm.type.toUpperCase()))]),_vm._v(\" \"),(_vm.subtitle)?_c('h5',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.subtitle),expression:\"subtitle\"}],staticClass:\"usermessage-header-subtitle\"}):_vm._e()])],2),_vm._v(\" \"),_c('div',{staticClass:\"usermessage-header-right\"},[(!_vm.autoclose && _vm.closable)?_c('div',{on:{\"click\":_vm.closeUserMessage}},[_c('i',{staticClass:\"usermessage-header-right-item\",class:_vm.g3wtemplate.getFontClass('close')})]):_vm._e()])]):_vm._e(),_vm._v(\" \"),_vm._t(\"body\",[(_vm.textMessage)?_c('div',{staticClass:\"usermessage-message\"},[_vm._v(_vm._s(_vm.message))]):_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.message),expression:\"message\"}],staticClass:\"usermessage-message\"})]),_vm._v(\" \"),_vm._t(\"footer\")],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-57c4f706\"\n\n},{\"app/constant\":4,\"services/gui\":358,\"vueify/lib/insert-css\":1}],306:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".content_breadcrumb[data-v-466a54cc]{font-size:1.2em;padding:0 3px;border-radius:3px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _UserMessage = require('components/UserMessage.vue');\n\nvar _UserMessage2 = _interopRequireDefault(_UserMessage);\n\nvar _NotifyOnline = require('components/NotifyOnline.vue');\n\nvar _NotifyOnline2 = _interopRequireDefault(_NotifyOnline);\n\nvar _NotifyDownload = require('components/NotifyDownload.vue');\n\nvar _NotifyDownload2 = _interopRequireDefault(_NotifyDownload);\n\nvar _NotifyPlugins = require('components/NotifyPlugins.vue');\n\nvar _NotifyPlugins2 = _interopRequireDefault(_NotifyPlugins);\n\nvar _constant = require('app/constant');\n\nvar _viewport = require('services/viewport');\n\nvar _viewport2 = _interopRequireDefault(_viewport);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexports.default = {\n  name: \"Viewport\",\n  props: {\n    appState: {\n      type: Object\n    }\n  },\n  components: {\n    userMessage: _UserMessage2.default,\n    onlineNotify: _NotifyOnline2.default,\n    downloadNotify: _NotifyDownload2.default,\n    pluginsNotify: _NotifyPlugins2.default\n  },\n  data: function data() {\n    return {\n      state: _viewport2.default.state,\n      updatePreviousTitle: false,\n      media: {\n        matches: true\n      }\n    };\n  },\n\n  computed: {\n    breadcrumb: function breadcrumb() {\n      return this.state.content.contentsdata.filter(function (content) {\n        return content.options.crumb;\n      }).map(function (content) {\n        return content.options.crumb;\n      });\n    },\n    showresize: function showresize() {\n      var currentPerc = _viewport2.default.getCurrentContentLayout()[this.state.split === 'h' ? 'width' : 'height'];\n      return this.state.resized.start && this.state.secondaryPerc > 0 && this.state.secondaryPerc < 100 && currentPerc < 100 && currentPerc > 0;\n    },\n    showresizeicon: function showresizeicon() {\n      return this.state.secondaryPerc !== 100;\n    },\n    hooks: function hooks() {\n      return this.usermessage.hooks;\n    },\n    usermessage: function usermessage() {\n      return this.state.usermessage;\n    },\n    showtitle: function showtitle() {\n      var showtitle = true;\n      var contentsData = this.state.content.contentsdata;\n      if (contentsData.length) {\n        var options = contentsData[contentsData.length - 1].options;\n        if (_.isBoolean(options.showtitle)) showtitle = options.showtitle;\n      }\n      return showtitle;\n    },\n    showContent: function showContent() {\n      return this.state.content.show;\n    },\n    styles: function styles() {\n      return {\n        map: {\n          width: this.state.map.sizes.width + 'px',\n          height: this.state.map.sizes.height + 'px'\n        },\n        content: {\n          width: this.state.content.sizes.width + 'px',\n          height: this.state.content.sizes.height + 'px',\n          zIndex: _constant.ZINDEXES.usermessage.tool + 1,\n          minHeight: this.state.split === 'v' ? _constant.VIEWPORT.resize.content.min + 'px' : null\n        }\n      };\n    },\n    contentTitle: function contentTitle() {\n      var contentsData = this.state.content.contentsdata;\n      if (contentsData.length) {\n        var _contentsData$options = contentsData[contentsData.length - 1].options,\n            title = _contentsData$options.title,\n            post_title = _contentsData$options.post_title;\n\n        return { title: title, post_title: post_title };\n      }\n    },\n    backOrBackTo: function backOrBackTo() {\n      var contentsData = this.state.content.contentsdata;\n      return contentsData.length > 1 && this.state.content.showgoback ? !contentsData[contentsData.length - 2].options.title ? 'back' : 'backto' : false;\n    },\n    previousTitle: function previousTitle() {\n      var _this = this;\n\n      var contentsData = this.state.content.contentsdata;\n      var title = contentsData.length > 1 && this.state.content.showgoback ? contentsData[contentsData.length - 2].options.title : null;\n      this.updatePreviousTitle = true;\n      this.$nextTick(function () {\n        return _this.updatePreviousTitle = false;\n      });\n      return title;\n    }\n  },\n  methods: {\n    isNotLastCrumb: function isNotLastCrumb(index) {\n      return index < this.breadcrumb.length - 1;\n    },\n    closeContent: function closeContent() {\n      _gui2.default.closeContent();\n    },\n    closeMap: function closeMap() {\n      _viewport2.default.closeMap();\n    },\n    gotoPreviousContent: function gotoPreviousContent() {\n      _gui2.default.popContent();\n    },\n    closeUserMessage: function closeUserMessage() {\n      _gui2.default.closeUserMessage();\n    },\n    moveFnc: function moveFnc(evt) {\n      var size = this.state.split === 'h' ? 'width' : 'height';\n      evt.preventDefault();\n      var sidebarHeaderSize = size === 'width' ? $('.sidebar-collapse').length ? 0 : _viewport2.default.SIDEBARWIDTH : $('#main-navbar').height();\n      var viewPortSize = $(this.$el)[size]();\n      var mapSize = (size === 'width' ? evt.pageX + 2 : evt.pageY + 2) - sidebarHeaderSize;\n      if (mapSize > viewPortSize - _constant.VIEWPORT.resize.content.min) mapSize = viewPortSize - _constant.VIEWPORT.resize.content.min;else if (mapSize < _constant.VIEWPORT.resize.map.min) mapSize = _constant.VIEWPORT.resize.map.min;\n      var contentSize = viewPortSize - mapSize;\n      var resizePercentageMap = Math.round(mapSize / viewPortSize * 100);\n      var resizePercentageContent = 100 - resizePercentageMap;\n      _viewport2.default.resizeViewComponents(this.state.split, {\n        map: _defineProperty({}, size, mapSize),\n        content: _defineProperty({}, size, contentSize)\n      }, resizePercentageContent);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this2 = this;\n\n      var handleResizeViewport, mediaQueryEventMobile;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              handleResizeViewport = function handleResizeViewport() {\n                _this2.state.resized.start = true;\n              };\n\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              mediaQueryEventMobile = window.matchMedia(\"(min-height: 300px)\");\n\n              this.media.matches = mediaQueryEventMobile.matches;\n              mediaQueryEventMobile.addListener(function (event) {\n                if (event.type === 'change') _this2.media.matches = event.currentTarget.matches;\n              });\n              handleResizeViewport();\n\n            case 7:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-viewport\"},[_c('transition',{attrs:{\"name\":\"fade\",\"duration\":{ enter: 500, leave: 500 }}},[(_vm.usermessage.show)?_c('user-message',{attrs:{\"title\":_vm.usermessage.title,\"subtitle\":_vm.usermessage.subtitle,\"id\":_vm.usermessage.id,\"message\":_vm.usermessage.message,\"draggable\":_vm.usermessage.draggable,\"closable\":_vm.usermessage.closable,\"duration\":_vm.usermessage.duration,\"position\":_vm.usermessage.position,\"autoclose\":_vm.usermessage.autoclose,\"textMessage\":_vm.usermessage.textMessage,\"size\":_vm.usermessage.size,\"type\":_vm.usermessage.type},on:{\"close-usermessage\":_vm.closeUserMessage}},[(_vm.hooks.header)?_c('template',{slot:\"header\"},[_c(_vm.hooks.header,{tag:\"component\"})],1):_vm._e(),_vm._v(\" \"),(_vm.hooks.body)?_c('template',{slot:\"body\"},[_c(_vm.hooks.body,{tag:\"component\"})],1):_vm._e(),_vm._v(\" \"),(_vm.hooks.footer)?_c('template',{slot:\"footer\"},[_c(_vm.usermessage.hooks.footer,{tag:\"component\"})],1):_vm._e()],2):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"g3w-view map\",class:(\"split-\" + (_vm.state.split)),style:(_vm.styles.map),attrs:{\"id\":\"g3w-view-map\"}},[_c('g3w-resize',{class:(\"split-\" + (_vm.state.split)),style:({backgroundColor:'transparent'}),attrs:{\"id\":\"resize-map-and-content\",\"show\":_vm.showresize,\"moveFnc\":_vm.moveFnc,\"orientation\":_vm.state.split}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"application-notifications\"}},[_c('online-notify'),_vm._v(\" \"),_c('download-notify'),_vm._v(\" \"),_c('plugins-notify')],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.content.disabled),expression:\"state.content.disabled\"}],staticClass:\"g3w-view content\",class:(\"split-\" + (_vm.state.split)),style:(_vm.styles.content),attrs:{\"id\":\"g3w-view-content\"}},[(_vm.breadcrumb.length > 1)?_c('section',{ref:_vm.breadcrumb,staticClass:\"content_breadcrumb\"},_vm._l((_vm.breadcrumb),function(crumb,index){return _c('span',{key:crumb.title},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(crumb.title),expression:\"crumb.title\"}],staticClass:\"skin-color-dark\",style:({fontWeight: _vm.isNotLastCrumb(index) ? 'bold' : 'normal'})}),_vm._v(\" \"),(_vm.isNotLastCrumb(index))?_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin\":\"3px 0\"}},[_vm._v(\"/\")]):_vm._e()])}),0):_vm._e(),_vm._v(\" \"),((_vm.showtitle && _vm.contentTitle) || _vm.previousTitle || (_vm.state.content.closable && _vm.state.content.aside))?_c('div',{staticClass:\"close-panel-block\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[(_vm.previousTitle)?_c('div',{staticClass:\"g3w_contents_back g3w-long-text\"},[(_vm.backOrBackTo === 'back')?_c('div',{class:_vm.backOrBackTo},[_c('span',{staticClass:\"action-button\",class:_vm.g3wtemplate.getFontClass('back')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('back'),expression:\"'back'\"}]})]):_c('div',{class:_vm.backOrBackTo,on:{\"click\":function($event){$event.stopPropagation();return _vm.gotoPreviousContent()}}},[_c('span',{staticClass:\"action-button\",class:_vm.g3wtemplate.getFontClass('back')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('backto'),expression:\"'backto'\"}]}),_vm._v(\" \"),(!_vm.updatePreviousTitle)?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.previousTitle),expression:\"previousTitle\"}]}):_vm._e()])]):_vm._e(),_vm._v(\" \"),(!_vm.previousTitle && _vm.showtitle && _vm.contentTitle)?_c('div',{staticClass:\"panel-title\",class:{'mobile': _vm.isMobile()},style:([_vm.state.content.style.title])},[_c('span',{attrs:{\"id\":\"contenttitle\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.contentTitle.title),expression:\"contentTitle.title\"}]}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.contentTitle.post_title),expression:\"contentTitle.post_title\"}]})])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"g3-content-header-action-tools\",staticStyle:{\"display\":\"flex\"}},[_vm._l((_vm.state.content.headertools),function(tool){return _c(tool,{tag:\"component\"})}),_vm._v(\" \"),(_vm.showresizeicon)?_c('resize-icon',{staticStyle:{\"font-size\":\"1em\",\"padding\":\"0\",\"align-self\":\"center\",\"margin-left\":\"auto\"},style:({marginRight: _vm.state.content.closable ? '5px': '0px'}),attrs:{\"type\":_vm.state.split}}):_vm._e(),_vm._v(\" \"),(_vm.state.content.closable && _vm.state.content.aside)?_c('span',{staticClass:\"action-button\",class:{'mobile': _vm.isMobile()},staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\"},on:{\"click\":_vm.closeContent}},[_c('i',{staticClass:\"skin-color-dark\",class:_vm.g3wtemplate.getFontClass('close')})]):_vm._e()],2)]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.content.loading),expression:\"state.content.loading\"}],staticClass:\"bar-loader\"})])],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-466a54cc\"\n\n},{\"app/constant\":4,\"components/NotifyDownload.vue\":266,\"components/NotifyOnline.vue\":267,\"components/NotifyPlugins.vue\":268,\"components/UserMessage.vue\":305,\"services/gui\":358,\"services/viewport\":368,\"vueify/lib/insert-css\":1}],307:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contents\",attrs:{\"id\":\"contents\"}})}\n__vue__options__.staticRenderFns = []\n\n},{}],308:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-add-wms-url-message[data-v-965f11b2]{font-weight:700;color:#000}.g3w-wmsurl-error[data-v-965f11b2]{background-color:red}.g3w-wmsurl-already-added[data-v-965f11b2]{background-color:orange}.wms_url_input_content[data-v-965f11b2]{margin-bottom:5px}.wms-icon-action[data-v-965f11b2]{font-weight:700;font-size:1.3em;box-shadow:0 5px 10px #1e282c}.wms-icon-action[data-v-965f11b2]:hover{box-shadow:none}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    isURL = _require.isURL;\n\nexports.default = {\n  name: \"sidebaritem\",\n  data: function data() {\n    return {\n      url: null,\n      id: null,\n      loading: false,\n      status: {\n        error: false,\n        added: false\n      }\n    };\n  },\n\n  computed: {\n    inputswmsurlvalid: function inputswmsurlvalid() {\n      return this.url !== null && this.url.trim() && isURL(this.url) && this.id !== null && this.id.trim();\n    }\n  },\n  methods: {\n    addwmsurl: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _ref2, error, added;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.loading = true;\n                _context.next = 3;\n                return this.$options.service.addNewUrl({\n                  url: this.url,\n                  id: this.id\n                });\n\n              case 3:\n                _ref2 = _context.sent;\n                error = _ref2.error;\n                added = _ref2.added;\n\n                this.status.error = error;\n                this.status.added = added;\n                this.loading = false;\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function addwmsurl() {\n        return _ref.apply(this, arguments);\n      }\n\n      return addwmsurl;\n    }(),\n    deleteWmsUrl: function deleteWmsUrl(id) {\n      this.$options.service.deleteWmsUrl(id);\n    },\n    showWmsLayersPanel: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(url) {\n        var _ref4, error, added;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n\n                this.loading = true;\n                _context2.next = 4;\n                return this.$options.service.loadWMSDataAndShowWmsLayersPanel(url);\n\n              case 4:\n                _ref4 = _context2.sent;\n                error = _ref4.error;\n                added = _ref4.added;\n\n                this.status.error = error;\n                this.status.added = added;\n                this.loading = false;\n                _context2.next = 15;\n                break;\n\n              case 12:\n                _context2.prev = 12;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                console.log(_context2.t0);\n\n              case 15:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 12]]);\n      }));\n\n      function showWmsLayersPanel(_x) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return showWmsLayersPanel;\n    }()\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"treeview-menu g3w-tools menu-items\"},[(_vm.loading)?_c('li',[_c('bar-loader',{attrs:{\"loading\":_vm.loading}})],1):_vm._e(),_vm._v(\" \"),_c('li',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-between\",\"background\":\"transparent !important\",\"margin-bottom\":\"10px\"}},[_c('div',{staticClass:\"wms_url_input_content\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.name'),expression:\"'sidebar.wms.panel.label.name'\"}],attrs:{\"for\":\"add_custom_name_url_wms_input\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.id),expression:\"id\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\",\"color\":\"#000000\"},attrs:{\"id\":\"add_custom_name_url_wms_input\"},domProps:{\"value\":(_vm.id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.id=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"wms_url_input_content\"},[_c('label',{attrs:{\"for\":\"add_custom_url_wms_input\"}},[_vm._v(\"URL\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.url),expression:\"url\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\",\"color\":\"#000000\"},attrs:{\"id\":\"add_custom_url_wms_input\"},domProps:{\"value\":(_vm.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.url=$event.target.value}}})]),_vm._v(\" \"),_c('div',[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.inputswmsurlvalid),expression:\"!inputswmsurlvalid\"}],staticClass:\"btn btn-block skin-background-color\",staticStyle:{\"width\":\"100%\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.addwmsurl($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square')})])])]),_vm._v(\" \"),(_vm.status.error)?_c('li',[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('server_error'),expression:\"'server_error'\"}],staticClass:\"g3w-add-wms-url-message g3w-wmsurl-error\"})]):(_vm.status.added)?_c('li',[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.url_already_added'),expression:\"'sidebar.wms.url_already_added'\"}],staticClass:\"g3w-add-wms-url-message g3w-wmsurl-already-added\"})]):_vm._e(),_vm._v(\" \"),_c('li',{staticClass:\"skin-border-color\",staticStyle:{\"background\":\"transparent !important\",\"border-top\":\"2px solid\"}},[_c('div',{staticStyle:{\"max-height\":\"200px\",\"overflow-y\":\"auto\"}},[_vm._l((_vm.state.adminwmsurls),function(ref){\nvar id = ref.id;\nvar url = ref.url;\nreturn _c('div',{key:_vm.wmsurl,staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"border-bottom\":\"1px solid #cccccc\",\"padding-bottom\":\"3px\"}},[_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"flex-grow\":\"1\",\"margin-right\":\"15px\"}},[_vm._v(_vm._s(id))]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\",staticStyle:{\"padding\":\"5px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showWmsLayersPanel(id)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square'),staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.3em\"}})])])}),_vm._v(\" \"),_vm._l((_vm.state.localwmsurls),function(ref){\nvar id = ref.id;\nvar url = ref.url;\nreturn _c('div',{key:id,staticStyle:{\"border-bottom\":\"1px solid #cccccc\",\"padding-bottom\":\"3px\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"padding-top\":\"3px\"}},[_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"flex-grow\":\"1\",\"margin-right\":\"15px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(id))]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sidebar.wms.add_wms_layer'),expression:\"'sidebar.wms.add_wms_layer'\",arg:\"top\",modifiers:{\"create\":true}}],staticClass:\"skin-color\",staticStyle:{\"padding\":\"3px\",\"margin\":\"2px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showWmsLayersPanel(url)}}},[_c('i',{staticClass:\"wms-icon-action\",class:_vm.g3wtemplate.getFontClass('plus-square')})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sidebar.wms.delete_wms_url'),expression:\"'sidebar.wms.delete_wms_url'\",arg:\"top\",modifiers:{\"create\":true}}],staticStyle:{\"color\":\"red\",\"padding\":\"3px\",\"margin\":\"2px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteWmsUrl(id)}}},[_c('i',{staticClass:\"wms-icon-action\",class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"g3w-long-text\",staticStyle:{\"font-size\":\"0.7em\"},attrs:{\"title\":url}},[_vm._v(_vm._s(url))])])})],2)])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-965f11b2\"\n\n},{\"core/utils/utils\":67,\"vueify/lib/insert-css\":1}],309:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-wms-panel-title[data-v-64ebf92a]{font-size:1.2em;font-weight:700;margin-bottom:10px}button.wms-add-layer-buttom[data-v-64ebf92a]{width:100%;margin-top:10px}.g3w-wms-external-panel-layer-added-message[data-v-64ebf92a]{font-weight:700;color:red;margin:5px 0}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nexports.default = {\n  name: \"wmpspanel\",\n  data: function data() {\n    return {\n      loading: false,\n      position: undefined,\n      name: undefined,\n      title: null,\n      abstract: null,\n      map_formats: [],\n      info_formats: [],\n      layers: [],\n      selectedlayers: [],\n      projections: [],\n      epsg: null,\n      added: false\n    };\n  },\n\n  methods: {\n    addWMSlayer: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var config;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                config = {\n                  url: this.url,\n                  name: this.name && this.name.trim() || undefined,\n                  layers: this.selectedlayers,\n                  epsg: this.epsg,\n                  position: this.position\n                };\n\n                this.added = this.$options.service.checkIfWMSAlreadyAdded(config);\n\n                if (this.added) {\n                  _context.next = 13;\n                  break;\n                }\n\n                this.loading = true;\n                _context.prev = 4;\n                _context.next = 7;\n                return this.$options.service.addWMSlayer(config);\n\n              case 7:\n                _context.next = 11;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](4);\n\n              case 11:\n                this.loading = false;\n                this.clear();\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[4, 9]]);\n      }));\n\n      function addWMSlayer() {\n        return _ref.apply(this, arguments);\n      }\n\n      return addWMSlayer;\n    }(),\n    clear: function clear() {\n      this.selectedlayers = [];\n      this.name = null;\n    },\n    filterLayerByCurrentEpsg: function filterLayerByCurrentEpsg() {\n      var _this = this;\n\n      this.layers = this.epsg !== null ? this.layers.filter(function (_ref2) {\n        var name = _ref2.name;\n        return _this.layerProjections[name].crss.indexOf(_this.epsg) !== -1;\n      }) : this.$options.config.layers;\n    }\n  },\n  watch: {\n    selectedlayers: function selectedlayers(layers) {\n      var _this2 = this;\n\n      if (layers.length) {\n        var firstLayer = layers[0];\n        if (layers.length === 1) {\n          this.epsg = this.layerProjections[firstLayer].crss[0];\n\n          this.projections = this.layerProjections[firstLayer].crss;\n        } else this.projections = this.projections.filter(function (projection) {\n          return _this2.layerProjections[layers[layers.length - 1]].crss.index(projection) !== -1;\n        });\n      } else {\n        this.epsg = null;\n        this.projections = [];\n      }\n    },\n    epsg: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.filterLayerByCurrentEpsg();\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function epsg() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return epsg;\n    }()\n  },\n  created: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      var _$options$config, layers, title, abstract, url;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _$options$config = this.$options.config, layers = _$options$config.layers, title = _$options$config.title, abstract = _$options$config.abstract, url = _$options$config.wmsurl;\n\n              this.layerProjections = {};\n              this.url = url;\n              layers.forEach(function (layer) {\n                _this3.layerProjections[layer.name] = {\n                  crss: layer.crss.map(function (crs) {\n                    Projections.get(crs);\n                    return \"EPSG:\" + crs.epsg;\n                  }).sort(),\n                  title: layer.title\n                };\n              });\n              this.layers = layers;\n\n              this.title = title;\n\n              this.abstract = abstract;\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function created() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.$data = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.loading),expression:\"loading\"}]},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('h3',{staticClass:\"skin-color g3w-wms-panel-title\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),(_vm.abstract)?_c('helpdiv',{attrs:{\"message\":_vm.abstract}}):_vm._e(),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.layers'),expression:\"'sidebar.wms.panel.label.layers'\"}],attrs:{\"for\":\"g3w-wms-layers\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('selectedlayers'),expression:\"'selectedlayers'\"}],attrs:{\"id\":\"g3w-wms-layers\",\"multiple\":\"multiple\",\"clear\":\"true\"}},_vm._l((_vm.layers),function(layer){return _c('option',{key:layer.name,domProps:{\"value\":layer.name}},[_vm._v(_vm._s(layer.title))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.projections'),expression:\"'sidebar.wms.panel.label.projections'\"}],attrs:{\"for\":\"g3w-wms-projections\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('epsg'),expression:\"'epsg'\"}],attrs:{\"id\":\"g3w-wms-projections\"}},_vm._l((_vm.projections),function(projection){return _c('option',{key:projection,domProps:{\"value\":projection}},[_vm._v(_vm._s(projection))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.name'),expression:\"'sidebar.wms.panel.label.name'\"}],attrs:{\"for\":\"g3w-wms-layer-name\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-wms-layer-name\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_vm._v(\" \"),(_vm.added)?_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.layer_id_already_added'),expression:\"'sidebar.wms.layer_id_already_added'\"}],staticClass:\"g3w-wms-external-panel-layer-added-message\"}):_vm._e(),_vm._v(\" \"),_c('layerspositions',{attrs:{\"position\":_vm.position},on:{\"layer-position-change\":function($event){_vm.position=$event}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.selectedlayers.length === 0),expression:\"selectedlayers.length === 0\"}],staticClass:\"btn wms-add-layer-buttom sidebar-button skin-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addWMSlayer($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square'),staticStyle:{\"font-weight\":\"bold\"}})])],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-64ebf92a\"\n\n},{\"g3w-ol/projection/projections\":110,\"vueify/lib/insert-css\":1}],310:[function(require,module,exports){\nrequire('regenerator-runtime');\n\nvar _vueColor = require('vue-color');\n\nvar VueColor = _interopRequireWildcard(_vueColor);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * @deprecated since v3.8. Will be removed in v4.x. Use ESM imports from 'vue-color' instead\n */\n/**\n * @file shims legacy variables to ensure backward compatibily with old G3W-CLIENT plugins (eg. window variables)\n * @since v3.8\n */\n\n/**\n * Add babel runtime support for compiled/transpiled async functions\n * \n * @TODO check if this still useful nowdays (IE 11 ?)\n */\nwindow.VueColor = VueColor;\n\n/**\n * @deprecated since v3.8. Will be removed in v4.x. Use require('vue-cookie') instead of window.VueCookie\n */\nwindow.VueCookie = require('vue-cookie');\n\n},{\"regenerator-runtime\":\"regenerator-runtime\",\"vue-color\":\"vue-color\",\"vue-cookie\":\"vue-cookie\"}],311:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @TODO refactor stateful directives (eg. \"v-t\") in order to delete this file: \"src/directives/utils.js\"\n */\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\n/**\n * Internal state\n */\n\n\nvar vm = new Vue();\nvar directives = {};\n\nvar watch = exports.watch = function watch(_ref) {\n  var el = _ref.el,\n      attr = _ref.attr,\n      watcher = _ref.watcher;\n\n  var unique_attr_id = uniqueId();\n  el.setAttribute(attr, unique_attr_id);\n  var dir = directives[unique_attr_id] = {};\n  if (watcher) {\n    dir.unwatch = vm.$watch(watcher[0], watcher[1], watcher[2] || { immediate: true });\n    dir.handler = watcher[1];\n  }\n  return unique_attr_id;\n};\n\nvar unwatch = exports.unwatch = function unwatch(_ref2) {\n  var el = _ref2.el,\n      attr = _ref2.attr;\n\n  var unique_attr_id = el.getAttribute(attr);\n  if (unique_attr_id) {\n    directives[unique_attr_id].unwatch();\n    delete directives[unique_attr_id];\n  }\n};\n\nvar trigger = exports.trigger = function trigger(_ref3) {\n  var el = _ref3.el,\n      attr = _ref3.attr,\n      data = _ref3.data;\n  return directives[el.getAttribute(attr)].handler(data);\n};\n\n},{\"core/utils/utils\":67}],312:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  binding.value ? el.setAttribute('checked', 'checked') : el.removeAttribute('checked');\n};\n\n},{}],313:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  var className = 'g3w-disabled';\n  if (binding.value) {\n    if (!el.classList.contains(className)) el.classList.add(className);\n  } else el.classList.remove(className);\n};\n\n},{}],314:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-download-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    if (typeof binding.value === 'boolean' ? binding.value : true) {\n      (0, _utils.watch)({\n        el: el,\n        attr: attr,\n        watcher: [function () {\n          return _applicationState2.default.download;\n        }, function (bool) {\n          var className = binding.modifiers && binding.modifiers.show && 'hide' || 'disabled';\n          el.classList.toggle('g3w-' + className, className === 'hide' ? !bool : bool);\n        }]\n      });\n    }\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":311,\"store/application-state\":370}],315:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-offline-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    // show if online\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.online;\n      }, function (bool) {\n        bool = (binding.arg && binding.arg === 'hide' ? false : true) ? bool : !bool;\n        el.classList.toggle('g3w-hide', !bool);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":311,\"store/application-state\":370}],316:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-plugins-id';\n\nexports.default = {\n  bind: function bind(el) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.plugins;\n      }, function (plugins) {\n        el.classList.toggle('g3w-hide', plugins.length === 0);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":311,\"store/application-state\":370}],317:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  inserted: function inserted(el, binding, vnode) {\n    var _ref = vnode.data.attrs || {},\n        templateResult = _ref.templateResult,\n        templateSelection = _ref.templateSelection,\n        _ref$multiple = _ref.multiple,\n        multiple = _ref$multiple === undefined ? false : _ref$multiple,\n        _ref$search = _ref.search,\n        search = _ref$search === undefined ? true : _ref$search,\n        select2_value = _ref.select2_value;\n\n    $(el).select2({\n      width: '100%',\n      dropdownCssClass: 'skin-color',\n      templateResult: templateResult,\n      templateSelection: templateSelection,\n      minimumResultsForSearch: !search ? -1 : undefined\n    }).on('select2:select', function (e) {\n      if (binding.value) {\n        var value = e.params.data.id;\n        if (multiple && vnode.context[binding.value].filter(function (d) {\n          return value === d;\n        }).length === 0) {\n          vnode.context[binding.value].push(value);\n        } else {\n          vnode.context[binding.value] = value;\n        }\n      }\n    }).on('select2:unselect', function (e) {\n      if (binding.value && multiple) {\n        vnode.context[binding.value] = vnode.context[binding.value].filter(function (d) {\n          return e.params.data.id !== d;\n        });\n      }\n    });\n\n    if (binding.value && select2_value) {\n      $(el).val(select2_value).trigger('change');\n    }\n  },\n\n  unbind: function unbind(el) {\n    $(el).select2('destroy');\n  }\n};\n\n},{}],318:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  el.toggleAttribute('selected', binding.value === 0);\n};\n\n},{}],319:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar attr = 'g3w-v-t-html-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        el.innerHTML = '' + t(binding.value);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":311,\"store/application-state\":370}],320:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-placeholder-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        el.setAttribute('placeholder', (binding.arg === 'plugin' ? tPlugin : t)(binding.value));\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":311,\"store/application-state\":370}],321:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-plugin-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    var innerHTML = el.innerHTML;\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var value = binding.value !== null ? tPlugin(binding.value) : '';\n        switch (binding.arg ? binding.arg : 'post') {\n          case 'pre':\n            el.innerHTML = value + ' ' + innerHTML;break;\n          case 'post':\n            el.innerHTML = innerHTML + ' ' + value;break;\n        }\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":311,\"store/application-state\":370}],322:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-title-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var title = (binding.arg === 'plugin' ? tPlugin : t)(binding.value);\n        el.setAttribute('title', title);\n        el.setAttribute('data-original-title', title);\n      }] });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":311,\"store/application-state\":370}],323:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-tooltip-id';\n\nexports.default = {\n  bind: function bind(_el, binding) {\n    // Automatically create tooltip\n    if (binding.modifiers.create) {\n      if (binding.arg) {\n        _el.setAttribute('data-placement', binding.arg);\n        _el.classList.add('skin-color', 'skin-tooltip-' + binding.arg);\n      }\n      $(_el).tooltip({ trigger: _applicationState2.default.ismobile ? 'click' : 'hover', html: true })\n      // hide tooltip on mobile  after click\n      .on('shown.bs.tooltip', function () {\n        _applicationState2.default.ismobile && setTimeout(function () {\n          return $(_el).tooltip('hide');\n        }, 600);\n      });\n    }\n    (0, _utils.watch)({\n      el: _el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function (_ref) {\n        var _ref$el = _ref.el,\n            el = _ref$el === undefined ? _el : _ref$el;\n\n        var value = el.getAttribute('current-tooltip');\n        if (value === null) {\n          value = binding.value;\n        }\n        el.setAttribute('data-original-title', binding.modifiers.text ? value : (binding.arg === 'plugin' ? tPlugin : t)(value));\n      }]\n    });\n  },\n  componentUpdated: function componentUpdated(el, oldVnode) {\n    var value = el.getAttribute('current-tooltip');\n    if (value != null && value !== oldVnode.oldValue) {\n      (0, _utils.trigger)({ el: el, attr: attr, data: { el: el } });\n    }\n  },\n\n  unbind: function unbind(el) {\n    $(el).tooltip('hide');(0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":311,\"store/application-state\":370}],324:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar attr = 'g3w-v-t-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    var innerHTML = el.innerHTML;\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var value = binding.value !== null ? t(binding.value) : '';\n        switch (binding.arg ? binding.arg : 'post') {\n          case 'pre':\n            el.innerHTML = value + ' ' + innerHTML;break;\n          case 'post':\n            el.innerHTML = innerHTML + ' ' + value;break;\n        }\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":13,\"directives/utils\":311,\"store/application-state\":370}],325:[function(require,module,exports){\n/**\n * @file Expose `window.g3wsdk` variable\n * @since v3.8\n */\n\n/**\n * Expose \"g3wsdk\" variable globally used by plugins to load sdk class and instances\n * \n * @type {object}\n */\nwindow.g3wsdk = require('app/api');\n\n/**\n * @TODO not yet implemented\n *\n * @see https://github.com/g3w-suite/g3w-client/issues/71\n * @see https://github.com/g3w-suite/g3w-client/issues/46\n */\n// window.g3w = window.g3wsdk;\n\n},{\"app/api\":2}],326:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nrequire('./deprecated');\n\nrequire('./globals');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _viewport = require('services/viewport');\n\nvar _viewport2 = _interopRequireDefault(_viewport);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _floatbar = require('services/floatbar');\n\nvar _floatbar2 = _interopRequireDefault(_floatbar);\n\nvar _navbaritems = require('services/navbaritems');\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nvar _sidebar = require('services/sidebar');\n\nvar _sidebar2 = _interopRequireDefault(_sidebar);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nvar _App = require('components/App.vue');\n\nvar _App2 = _interopRequireDefault(_App);\n\nvar _GlobalImage = require('components/GlobalImage.vue');\n\nvar _GlobalImage2 = _interopRequireDefault(_GlobalImage);\n\nvar _GlobalGallery = require('components/GlobalGallery.vue');\n\nvar _GlobalGallery2 = _interopRequireDefault(_GlobalGallery);\n\nvar _GlobalGeo = require('components/GlobalGeo.vue');\n\nvar _GlobalGeo2 = _interopRequireDefault(_GlobalGeo);\n\nvar _GlobalSkeleton = require('components/GlobalSkeleton.vue');\n\nvar _GlobalSkeleton2 = _interopRequireDefault(_GlobalSkeleton);\n\nvar _GlobalBarLoader = require('components/GlobalBarLoader');\n\nvar _GlobalBarLoader2 = _interopRequireDefault(_GlobalBarLoader);\n\nvar _GlobalProgressBar = require('components/GlobalProgressBar');\n\nvar _GlobalProgressBar2 = _interopRequireDefault(_GlobalProgressBar);\n\nvar _GlobalHelpDiv = require('components/GlobalHelpDiv.vue');\n\nvar _GlobalHelpDiv2 = _interopRequireDefault(_GlobalHelpDiv);\n\nvar _GlobalResize = require('components/GlobalResize.vue');\n\nvar _GlobalResize2 = _interopRequireDefault(_GlobalResize);\n\nvar _GlobalLayerPositions = require('components/GlobalLayerPositions.vue');\n\nvar _GlobalLayerPositions2 = _interopRequireDefault(_GlobalLayerPositions);\n\nvar _GlobalDateTime = require('components/GlobalDateTime.vue');\n\nvar _GlobalDateTime2 = _interopRequireDefault(_GlobalDateTime);\n\nvar _GlobalRange = require('components/GlobalRange.vue');\n\nvar _GlobalRange2 = _interopRequireDefault(_GlobalRange);\n\nvar _GlobalResizeIcon = require('components/GlobalResizeIcon.vue');\n\nvar _GlobalResizeIcon2 = _interopRequireDefault(_GlobalResizeIcon);\n\nvar _GlobalTabs = require('components/GlobalTabs.vue');\n\nvar _GlobalTabs2 = _interopRequireDefault(_GlobalTabs);\n\nvar _GlobalDivider = require('components/GlobalDivider.vue');\n\nvar _GlobalDivider2 = _interopRequireDefault(_GlobalDivider);\n\nvar _Floatbar = require('components/Floatbar.vue');\n\nvar _Floatbar2 = _interopRequireDefault(_Floatbar);\n\nvar _NavbaritemsLeft = require('components/NavbaritemsLeft.vue');\n\nvar _NavbaritemsLeft2 = _interopRequireDefault(_NavbaritemsLeft);\n\nvar _NavbaritemsRight = require('components/NavbaritemsRight.vue');\n\nvar _NavbaritemsRight2 = _interopRequireDefault(_NavbaritemsRight);\n\nvar _Sidebar = require('components/Sidebar.vue');\n\nvar _Sidebar2 = _interopRequireDefault(_Sidebar);\n\nvar _Viewport = require('components/Viewport.vue');\n\nvar _Viewport2 = _interopRequireDefault(_Viewport);\n\nvar _vDisabled = require('directives/v-disabled');\n\nvar _vDisabled2 = _interopRequireDefault(_vDisabled);\n\nvar _vChecked = require('directives/v-checked');\n\nvar _vChecked2 = _interopRequireDefault(_vChecked);\n\nvar _vSelectedFirst = require('directives/v-selected-first');\n\nvar _vSelectedFirst2 = _interopRequireDefault(_vSelectedFirst);\n\nvar _vSelect = require('directives/v-select2');\n\nvar _vSelect2 = _interopRequireDefault(_vSelect);\n\nvar _vTTooltip = require('directives/v-t-tooltip');\n\nvar _vTTooltip2 = _interopRequireDefault(_vTTooltip);\n\nvar _vTHtml = require('directives/v-t-html');\n\nvar _vTHtml2 = _interopRequireDefault(_vTHtml);\n\nvar _vTPlaceholder = require('directives/v-t-placeholder');\n\nvar _vTPlaceholder2 = _interopRequireDefault(_vTPlaceholder);\n\nvar _vTTitle = require('directives/v-t-title');\n\nvar _vTTitle2 = _interopRequireDefault(_vTTitle);\n\nvar _vT = require('directives/v-t');\n\nvar _vT2 = _interopRequireDefault(_vT);\n\nvar _vTPlugin = require('directives/v-t-plugin');\n\nvar _vTPlugin2 = _interopRequireDefault(_vTPlugin);\n\nvar _vPlugins = require('directives/v-plugins');\n\nvar _vPlugins2 = _interopRequireDefault(_vPlugins);\n\nvar _vOnline = require('directives/v-online');\n\nvar _vOnline2 = _interopRequireDefault(_vOnline);\n\nvar _vDownload = require('directives/v-download');\n\nvar _vDownload2 = _interopRequireDefault(_vDownload);\n\nvar _constant = require('app/constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file Production entry point (app.min.js)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.8\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\n// include backward compatibilies\n\n\n// expose global variables\n\n\n//import core\n\n\n//import services\n\n\n// import store\n\n\n//components\n\n\n//directives\n\n\n// constants\n\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t,\n    tPlugin = _require2.tPlugin;\n\nvar G3WObject = require('core/g3wobject');\nvar ProjectsMenuComponent = require('gui/projectsmenu/projectsmenu');\n\n/**\n * Install global components\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.globalcomponents.js@3.6\n */\nVue.component(_GlobalImage2.default.name, _GlobalImage2.default);\nVue.component(_GlobalGallery2.default.name, _GlobalGallery2.default);\nVue.component(_GlobalGeo2.default.name, _GlobalGeo2.default);\nVue.component(_GlobalBarLoader2.default.name, _GlobalBarLoader2.default);\nVue.component(_GlobalProgressBar2.default.name, _GlobalProgressBar2.default);\nVue.component(_GlobalSkeleton2.default.name, _GlobalSkeleton2.default);\nVue.component(_GlobalHelpDiv2.default.name, _GlobalHelpDiv2.default);\nVue.component(_GlobalResize2.default.name, _GlobalResize2.default);\nVue.component(_GlobalLayerPositions2.default.name, _GlobalLayerPositions2.default);\nVue.component(_GlobalDateTime2.default.name, _GlobalDateTime2.default);\nVue.component(_GlobalRange2.default.name, _GlobalRange2.default);\nVue.component(_GlobalResizeIcon2.default.name, _GlobalResizeIcon2.default);\nVue.component(_GlobalTabs2.default.name, _GlobalTabs2.default);\nVue.component(_GlobalDivider2.default.name, _GlobalDivider2.default);\n\n/**\n * Install application filters\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.filter.js@3.6\n */\nVue.filter('t', function (value) {\n  return t(value);\n});\nVue.filter('tPlugin', function (value) {\n  return value !== null ? tPlugin(value) : '';\n});\n\n/**\n * Install global directives\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.directives.js@v3.6\n */\nVue.directive(\"disabled\", _vDisabled2.default);\nVue.directive(\"checked\", _vChecked2.default);\nVue.directive(\"selected-first\", _vSelectedFirst2.default);\nVue.directive('select2', _vSelect2.default);\nVue.directive('t-tooltip', _vTTooltip2.default);\nVue.directive('t-html', _vTHtml2.default);\nVue.directive('t-placeholder', _vTPlaceholder2.default);\nVue.directive('t-title', _vTTitle2.default);\nVue.directive(\"t\", _vT2.default);\nVue.directive(\"t-plugin\", _vTPlugin2.default);\nVue.directive(\"plugins\", _vPlugins2.default);\nVue.directive(\"online\", _vOnline2.default);\nVue.directive(\"download\", _vDownload2.default);\n\n/**\n * Install global plugins\n */\nVue.use(window.VueCookie);\n\n/**\n * Vue 2 Plugin used to add global-level functionality to Vue\n *\n * @link https://v2.vuejs.org/v2/guide/plugins.html\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vueappplugin.js@3.6\n */\nVue.use({\n  install: function install(Vue) {\n    // hold a list of registered fontawsome classes for current project\n    Vue.prototype.g3wtemplate = {\n      font: _constant.FONT_AWESOME_ICONS,\n      /**\n       * @TODO check if deprecated\n       */\n      get: function get() {},\n      getInfo: function getInfo() {\n        return {\n          font: this.font\n        };\n      },\n      addFontClass: function addFontClass() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            name = _ref.name,\n            className = _ref.className;\n\n        var added = this.font[name] === undefined;\n        if (added) this.font[name] = className;\n        return added;\n      },\n\n      /**\n       * @TODO check if deprecated\n       */\n      getInfoString: function getInfoString() {},\n      getFontClass: function getFontClass(type) {\n        return typeof this.font[type] !== \"undefined\" ? this.font[type] : '';\n      }\n    };\n    // include isMobile() method within all Vue instances\n    Vue.mixin({\n      methods: {\n        isMobile: function (_isMobile) {\n          function isMobile() {\n            return _isMobile.apply(this, arguments);\n          }\n\n          isMobile.toString = function () {\n            return _isMobile.toString();\n          };\n\n          return isMobile;\n        }(function () {\n          return isMobile.any;\n        })\n      }\n    });\n  }\n}, {});\n\nVue.mixin({ inheritAttrs: false }); // set mixins inheriAttrs to avoid tha unused props are setted as attrs\n\n/**\n * @requires components/App.vue\n */\nvar layout = $.LayoutManager;\n\n// loading spinner at beginning\nlayout.loading(true);\n\n/**\n * ORIGINAL SOURCE: src/gui/app/index.js@3.4\n */\nvar ApplicationTemplate = function ApplicationTemplate(_ref2) {\n  var ApplicationService = _ref2.ApplicationService;\n\n  var appLayoutConfig = ApplicationService.getConfig().layout || {};\n  // useful to build a difference layout/component based on mobile or not\n  this._isMobile = isMobile.any;\n  this._isIframe = appLayoutConfig.iframe;\n  //ussefult ot not close user message when set content is called\n  this.sizes = {\n    sidebar: {\n      width: 0\n    }\n  };\n  /*\n    usefull to show onaly last waiting request output\n    at moment will be an object\n    {\n      stop: method to sot to show result\n    }\n   */\n  this.waitingoutputdataplace = null;\n  this.init = function () {\n    // create Vue App\n    this._createApp();\n  };\n  // create application config\n  this._createTemplateConfig = function () {\n    var G3WTemplate = Vue.prototype.g3wtemplate;\n    var appTitle = ApplicationService.getConfig().apptitle || 'G3W Suite';\n    var ContentsComponent = require('gui/viewport/contentsviewer');\n    var CatalogComponent = require('gui/catalog/vue/catalog');\n    var SearchComponent = require('gui/search/vue/search');\n    var QueryBuilderUIFactory = require('gui/querybuilder/querybuilderuifactory');\n    var PrintComponent = require('gui/print/vue/print');\n    var MetadataComponent = require('gui/metadata/vue/metadata');\n    var ToolsComponent = require('gui/tools/vue/tools');\n    var WMSComponent = require('gui/wms/vue/wms');\n    var MapComponent = require('gui/map/vue/map');\n    var QueryResultsComponent = require('gui/queryresults/vue/queryresults');\n    var SpatialBookMarksComponent = require('gui/spatialbookmarks/vue/spatialbookmarks');\n    return {\n      title: appTitle,\n      placeholders: {\n        navbar: {\n          components: []\n        },\n        sidebar: {\n          components: [new MetadataComponent({\n            id: 'metadata',\n            open: false,\n            collapsible: false,\n            icon: G3WTemplate.getFontClass('file'),\n            mobile: true\n          }), new SpatialBookMarksComponent({\n            id: 'spatialbookmarks',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('bookmark'),\n            mobile: true\n          }), new PrintComponent({\n            id: 'print',\n            open: false,\n            collapsible: true, //  it used to manage click event if can run setOpen component method\n            icon: G3WTemplate.getFontClass('print'),\n            mobile: false\n          }), new SearchComponent({\n            id: 'search',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('search'),\n            actions: [{\n              id: \"querybuilder\",\n              class: G3WTemplate.getFontClass('calculator') + ' sidebar-button sidebar-button-icon',\n              tooltip: 'Query Builder',\n              fnc: function fnc() {\n                _gui2.default.closeContent();\n                ApplicationTemplate.Services.sidebar.closeOpenComponents();\n                QueryBuilderUIFactory.show({\n                  type: 'sidebar' // sidebar or modal\n                });\n              },\n              style: {\n                color: '#8DC3E3',\n                padding: '6px',\n                fontSize: '1.2em',\n                borderRadius: '3px',\n                marginRight: '5px'\n              }\n            }],\n            mobile: true\n          }),\n          // Component that store plugins\n          new ToolsComponent({\n            id: 'tools',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('tools'),\n            mobile: true\n          }), new WMSComponent({\n            id: 'wms',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('layers'),\n            mobile: true\n          }), new CatalogComponent({\n            id: 'catalog',\n            open: false,\n            collapsible: false,\n            isolate: true,\n            icon: G3WTemplate.getFontClass('map'),\n            mobile: true,\n            config: {\n              legend: {\n                config: appLayoutConfig.legend\n              }\n            }\n          })]\n        },\n        floatbar: {\n          components: []\n        }\n      },\n      othercomponents: [new QueryResultsComponent({\n        id: 'queryresults'\n      })],\n      viewport: {\n        // placeholder of the content (view content). Secondary view (hidden)\n        components: {\n          map: new MapComponent({\n            id: 'map'\n          }),\n          content: new ContentsComponent({\n            id: 'contents'\n          })\n        }\n      }\n    };\n  };\n\n  //Vue app\n  this._createApp = function () {\n    this._setDataTableLanguage();\n    var self = this;\n    if (isMobile.any || this._isIframe) $('body').addClass('sidebar-collapse');\n    return new Vue({\n      el: '#app',\n      created: function created() {\n        // set general metods for the application as  GUI.showForm etc ..\n        self._setupInterface();\n        // setup layout\n        self._setupLayout();\n        //register all services fro the application\n        self._setUpServices();\n        // create templateConfig\n        self.templateConfig = self._createTemplateConfig();\n        // listen lng change and reset datatable language\n        this.$watch(function () {\n          return _applicationState2.default.language;\n        }, function () {\n          self._setDataTableLanguage();\n        });\n      },\n      mounted: function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n          var skinColor;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return this.$nextTick();\n\n                case 2:\n                  self._buildTemplate();\n                  // setup Font, Css class methods\n                  self._setUpTemplateDependencies(this);\n                  $(document).localize();\n                  self._setViewport(self.templateConfig.viewport);\n                  skinColor = $('.navbar').css('background-color');\n\n                  _gui2.default.skinColor = skinColor && '#' + skinColor.substr(4, skinColor.indexOf(')') - 4).split(',').map(function (color) {\n                    return parseInt(color).toString(16);\n                  }).join('');\n                  _context.next = 10;\n                  return this.$nextTick();\n\n                case 10:\n                  self.emit('ready');\n                  self.sizes.sidebar.width = $('#g3w-sidebar').width();\n                  //getSkinColor\n                  _gui2.default.ready();\n\n                case 13:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        function mounted() {\n          return _ref3.apply(this, arguments);\n        }\n\n        return mounted;\n      }()\n    });\n  };\n\n  this._setupLayout = function () {\n    if (!isMobile.any) {\n      // setup map controls\n      $(\"<style type='text/css'> .ol-control-tl {\" + \"top: 7px;\" + \"left:43px;\" + \"}</style>\").appendTo(\"head\");\n    }\n    // Inizialization of the components of the application\n    Vue.component('sidebar', _Sidebar2.default);\n    //Navbar custom items\n    Vue.component('navbarleftitems', _NavbaritemsLeft2.default);\n    Vue.component('navbarrightitems', _NavbaritemsRight2.default);\n    Vue.component('viewport', _Viewport2.default);\n    Vue.component('floatbar', _Floatbar2.default);\n    Vue.component('app', _App2.default);\n  };\n\n  // dataTable Translations and custom extentions\n  this._setDataTableLanguage = function () {\n    var dataTable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var languageOptions = {\n      \"language\": {\n        \"sSearch\": '',\n        \"searchPlaceholder\": t(\"dosearch\"),\n        \"sLengthMenu\": t(\"dataTable.lengthMenu\"),\n        \"paginate\": {\n          \"previous\": t(\"dataTable.previous\"),\n          \"next\": t(\"dataTable.next\")\n        },\n        \"info\": t(\"dataTable.info\"),\n        \"zeroRecords\": t(\"dataTable.nodatafilterd\"),\n        \"infoFiltered\": ''\n      }\n    };\n    //set form control class to filter\n    $.extend($.fn.dataTableExt.oStdClasses, {\n      \"sFilterInput\": \"form-control search\"\n    });\n    !dataTable ? $.extend(true, $.fn.dataTable.defaults, languageOptions) : dataTable.dataTable({ \"oLanguage\": languageOptions });\n  };\n\n  // route setting att beginning (is an example)\n  this._addRoutes = function () {\n    var RouterService = ApplicationService.getRouterService();\n    var mapService = _gui2.default.getComponent('map').getService();\n    RouterService.addRoute('map/zoomto/{coordinate}/:zoom:', function (coordinate, zoom) {\n      coordinate = _.map(coordinate.split(','), function (xy) {\n        return Number(xy);\n      });\n      zoom = zoom ? Number(zoom) : null;\n      if (coordinate.length) {\n        mapService.on('ready', function () {\n          this.zoomTo(coordinate, zoom);\n        });\n      }\n    });\n  };\n\n  //register all services\n  this._setUpServices = function () {\n    Object.keys(ApplicationTemplate.Services).forEach(function (element) {\n      var service = ApplicationTemplate.Services[element];\n      ApplicationService.registerService(element, service);\n    });\n    Object.values(_gui2.default.getComponents()).forEach(function (component) {\n      ApplicationService.registerService(component.id, component.getService());\n    });\n    ApplicationTemplate.Services.viewport.on('resize', function () {\n      return _gui2.default.emit('resize');\n    });\n  };\n  // build template function\n  this._buildTemplate = function () {\n    var _this = this;\n\n    _floatbar2.default.init(layout);\n    var placeholdersConfig = this.templateConfig.placeholders;\n    Object.entries(placeholdersConfig).forEach(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          placeholder = _ref5[0],\n          options = _ref5[1];\n\n      _this._addComponents(options.components, placeholder);\n    });\n    //register other compoents\n    this._addOtherComponents();\n  };\n\n  //add component not related to placeholder\n  this._addOtherComponents = function () {\n    if (this.templateConfig.othercomponents) this._addComponents(this.templateConfig.othercomponents);\n  };\n  // viewport setting\n  this._setViewport = function (viewportOptions) {\n    // viewport components\n    // es.: map e content\n    /*\n     components: {\n      map: new MapComponent({\n        id: 'map'\n      }),\n      content: new ContentsComponent({\n        id: 'content',\n      })\n     }\n      */\n    if (viewportOptions) {\n      ApplicationTemplate.Services.viewport.init(viewportOptions);\n      this._addComponents(viewportOptions.components);\n    }\n  };\n\n  // add component to template\n  this._addComponent = function (component, placeholder) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    this._addComponents([component], placeholder, options);\n    return true;\n  };\n\n  // registry component\n  this._addComponents = function (components, placeholder, options) {\n    var register = true;\n    if (placeholder && ApplicationTemplate.PLACEHOLDERS.indexOf(placeholder) > -1) {\n      var placeholderService = ApplicationTemplate.Services[placeholder];\n      if (placeholderService) register = placeholderService.addComponents(components, options);\n    }\n    Object.entries(components).forEach(function (_ref6) {\n      var _ref7 = _slicedToArray(_ref6, 2),\n          key = _ref7[0],\n          component = _ref7[1];\n\n      if (register) {\n        _components2.default.registerComponent(component);\n        ApplicationService.registerService(component.id, component.getService());\n      }\n    });\n  };\n\n  this._removeComponent = function (componentId, placeholder, options) {\n    var component = _components2.default.unregisterComponent(componentId);\n    placeholder && ApplicationTemplate.Services[placeholder] && ApplicationTemplate.Services[placeholder].removeComponent(component, options);\n  };\n\n  this._showModalOverlay = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var message = arguments[1];\n\n    var mapService = _gui2.default.getService('map');\n    if (bool) mapService.startDrawGreyCover(message);else mapService.stopDrawGreyCover();\n  };\n\n  this._isSidebarVisible = function () {\n    return !$('body').hasClass('sidebar-collapse');\n  };\n\n  this._showSidebar = function () {\n    $('body').addClass('sidebar-open');\n    $('body').removeClass('sidebar-collapse');\n  };\n\n  this._hideSidebar = function () {\n    $('body').removeClass('sidebar-open');\n    $('body').addClass('sidebar-collapse');\n  };\n\n  // setup Fonts Css dependencies methods\n  this._setUpTemplateDependencies = function (VueApp) {\n    _gui2.default.isMobile = function () {\n      return isMobile.any;\n    };\n    // method that return Template Info\n    _gui2.default.getTemplateInfo = function () {\n      return VueApp.g3wtemplate.getInfo();\n    };\n    _gui2.default.getTemplateInfo = function () {\n      return VueApp.g3wtemplate.getInfo();\n    };\n    _gui2.default.getFontClass = function (type) {\n      return VueApp.g3wtemplate.getFontClass(type);\n    };\n  };\n\n  /**\n   * Convert error to user message showed\n   * @param error\n   * @returns {string}\n   */\n  _gui2.default.errorToMessage = function (error) {\n    var message = 'server_error';\n    switch (toRawType(error)) {\n      case 'Error':\n        message = 'CLIENT - ' + error.message;\n        break;\n      case 'Object':\n        if (error.responseJSON) {\n          error = error.responseJSON;\n          if (error.result === false) {\n            var _error$error = error.error,\n                _error$error$code = _error$error.code,\n                code = _error$error$code === undefined ? '' : _error$error$code,\n                _error$error$data = _error$error.data,\n                data = _error$error$data === undefined ? '' : _error$error$data,\n                _error$error$message = _error$error.message,\n                msg = _error$error$message === undefined ? '' : _error$error$message;\n\n            message = code.toUpperCase() + ' ' + data + ' ' + msg;\n          }\n        } else if (error.responseText) {\n          message = error.responseText;\n        }\n        break;\n      case 'Array':\n        message = error.map(function (error) {\n          return _gui2.default.errorToMessage(error);\n        }).join(' ');\n        break;\n      case 'String':\n      default:\n        message = error;\n    }\n    return message;\n  };\n\n  // setup Interaces\n  this._setupInterface = function () {\n    var _this2 = this;\n\n    /* PLUBLIC INTERFACE */\n    /* Common methods */\n    _gui2.default.layout = layout;\n    _gui2.default.getSize = function (_ref8) {\n      var element = _ref8.element,\n          what = _ref8.what;\n\n      if (element && what) return _this2.sizes[element][what];\n    };\n    _gui2.default.addComponent = this._addComponent.bind(this);\n    _gui2.default.removeComponent = this._removeComponent.bind(this);\n    /* Metodos to define */\n    _gui2.default.getResourcesUrl = function () {\n      return ApplicationService.getConfig().resourcesurl;\n    };\n    //LIST\n    _gui2.default.showList = _floatbar2.default.showPanel.bind(_floatbar2.default);\n    _gui2.default.closeList = _floatbar2.default.closePanel.bind(_floatbar2.default);\n    _gui2.default.hideList = _floatbar2.default.hidePanel.bind(_floatbar2.default);\n    // TABLE\n    _gui2.default.showTable = function () {};\n    _gui2.default.closeTable = function () {};\n\n    //Function called from DataRouterservice for gui output\n    /**\n     *\n     * @param data\n     * @param options\n     */\n    _gui2.default.outputDataPlace = function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(dataPromise) {\n        var _this3 = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var defaultOutputConfig, _options$title, title, _options$show, show, before, after, outputConfig, condition, add, loading, queryResultsService;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                // show parameter it used to set condition to show result or not\n                // loading parameter is used to show result content when we are wait the response. Default true otherwise we shoe result content at the end\n                defaultOutputConfig = { condition: true, add: false, loading: true };\n                _options$title = options.title, title = _options$title === undefined ? '' : _options$title, _options$show = options.show, show = _options$show === undefined ? defaultOutputConfig : _options$show, before = options.before, after = options.after;\n                // convert show in an object\n\n                outputConfig = toRawType(show) !== 'Object' ? {\n                  condition: show, // can be Function or Boolean otherwise is set true\n                  add: false,\n                  loading: true\n                } : _extends({}, defaultOutputConfig, show);\n                condition = outputConfig.condition, add = outputConfig.add, loading = outputConfig.loading;\n                //check if waiting output data\n                // in case we stop and substiute with new request data\n\n                _context4.t0 = this.waitingoutputdataplace;\n\n                if (!_context4.t0) {\n                  _context4.next = 8;\n                  break;\n                }\n\n                _context4.next = 8;\n                return this.waitingoutputdataplace.stop();\n\n              case 8:\n                queryResultsService = add ? _gui2.default.getService('queryresults') : loading && this.showContentFactory('query')(title);\n\n                this.waitingoutputdataplace = function () {\n                  var _stop = false;\n                  _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n                    var data, showResult, message;\n                    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            _context2.prev = 0;\n                            _context2.next = 3;\n                            return dataPromise;\n\n                          case 3:\n                            data = _context2.sent;\n                            _context2.t0 = before;\n\n                            if (!_context2.t0) {\n                              _context2.next = 8;\n                              break;\n                            }\n\n                            _context2.next = 8;\n                            return before(data);\n\n                          case 8:\n                            // in case of usermessage show user message\n                            data.usermessage && _gui2.default.showUserMessage({\n                              type: data.usermessage.type,\n                              message: data.usermessage.message,\n                              autoclose: data.usermessage.autoclose\n                            });\n                            if (!_stop) {\n                              // check condition\n                              showResult = toRawType(condition) === 'Function' ? condition(data) : toRawType(condition) === 'Boolean' ? condition : true;\n\n                              if (showResult) {\n                                (queryResultsService ? queryResultsService : _this3.showContentFactory('query')(title)).setQueryResponse(data, {\n                                  add: add\n                                });\n                              } else _gui2.default.closeContent();\n                              // call after is set with data\n                              after && after(data);\n                            }\n                            _context2.next = 17;\n                            break;\n\n                          case 12:\n                            _context2.prev = 12;\n                            _context2.t1 = _context2['catch'](0);\n                            message = _this3.errorToMessage(_context2.t1);\n\n                            _this3.showUserMessage({\n                              type: 'alert',\n                              message: message,\n                              textMessage: true\n                            });\n                            _this3.closeContent();\n\n                          case 17:\n                            _context2.prev = 17;\n\n                            if (!_stop) _this3.waitingoutputdataplace = null;\n                            return _context2.finish(17);\n\n                          case 20:\n                          case 'end':\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2, _this3, [[0, 12, 17, 20]]);\n                  }))();\n                  return {\n                    stop: function () {\n                      var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n                        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                          while (1) {\n                            switch (_context3.prev = _context3.next) {\n                              case 0:\n                                _stop = true;\n\n                              case 1:\n                              case 'end':\n                                return _context3.stop();\n                            }\n                          }\n                        }, _callee3, _this3);\n                      }));\n\n                      function stop() {\n                        return _ref11.apply(this, arguments);\n                      }\n\n                      return stop;\n                    }()\n                  };\n                }();\n\n              case 10:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function (_x6) {\n        return _ref9.apply(this, arguments);\n      };\n    }();\n\n    _gui2.default.showContentFactory = function (type) {\n      var showPanelContent = void 0;\n      switch (type) {\n        case 'query':\n          showPanelContent = _gui2.default.showQueryResults;\n          break;\n        case 'form':\n          showPanelContent = _gui2.default.showForm;\n          break;\n      }\n      return showPanelContent;\n    };\n\n    _gui2.default.showForm = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var perc = options.perc,\n          _options$split = options.split,\n          split = _options$split === undefined ? 'h' : _options$split,\n          push = options.push,\n          showgoback = options.showgoback,\n          crumb = options.crumb;\n\n      var FormComponent = require('gui/form/vue/form');\n      // new isnstace every time\n      var formComponent = options.formComponent ? new options.formComponent(options) : new FormComponent(options);\n      //get service\n      var formService = formComponent.getService();\n      // parameters : [content, title, push, perc, split, closable, crumb]\n      _gui2.default.setContent({\n        perc: perc,\n        content: formComponent,\n        split: split,\n        crumb: crumb,\n        push: !!push, //only one( if other delete previous component)\n        showgoback: !!showgoback,\n        closable: false\n      });\n      // return service\n      return formService;\n    };\n    /**\n     *\n     * @param pop remove or not content or pop\n     */\n    _gui2.default.closeForm = function () {\n      var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref12$pop = _ref12.pop,\n          pop = _ref12$pop === undefined ? false : _ref12$pop;\n\n      this.emit('closeform', false);\n      pop ? _gui2.default.popContent() : _viewport2.default.removeContent();\n      // force set modal to false\n      _gui2.default.setModal(false);\n    };\n\n    _gui2.default.disableElement = function (_ref13) {\n      var element = _ref13.element,\n          disable = _ref13.disable;\n\n      disable && $(element).addClass('g3w-disabled') || $(element).removeClass('g3w-disabled');\n    };\n\n    _gui2.default.disableContent = function (disable) {\n      _viewport2.default.disableContent(disable);\n    };\n\n    _gui2.default.disablePanel = function () {\n      var disable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      _gui2.default.disableElement({\n        element: \"#g3w-sidebarpanel-placeholder\",\n        disable: disable\n      });\n    };\n\n    // hide content\n    _gui2.default.hideContent = function (bool, perc) {\n      return _viewport2.default.hideContent(bool, perc);\n    };\n\n    _gui2.default.closeContent = function () {\n      this.emit('closecontent', false);\n      return _viewport2.default.closeContent();\n    };\n\n    _gui2.default.closeOpenSideBarComponent = function () {\n      ApplicationTemplate.Services.sidebar.closeOpenComponents();\n    };\n\n    // show results info/search\n    _gui2.default.showQueryResults = function (title, results) {\n      var queryResultsComponent = _gui2.default.getComponent('queryresults');\n      var queryResultService = queryResultsComponent.getService();\n      queryResultService.reset();\n      results && queryResultService.setQueryResponse(results);\n      _gui2.default.showContextualContent({\n        content: queryResultsComponent,\n        title: \"info.title\",\n        crumb: {\n          title: \"info.title\",\n          trigger: null\n        },\n        push: _gui2.default.getPushContent(),\n        post_title: title\n      });\n      return queryResultService;\n    };\n    _gui2.default.addNavbarItem = function (item) {\n      _navbaritems2.default.addItem(item);\n    };\n    _gui2.default.removeNavBarItem = function () {};\n    _gui2.default.showPanel = _sidebar2.default.showPanel.bind(_sidebar2.default);\n    _gui2.default.closePanel = _sidebar2.default.closePanel.bind(_sidebar2.default);\n    ///\n    _gui2.default.disableApplication = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      ApplicationService.disableApplication(bool);\n    };\n\n    //showusermessage\n    _gui2.default.showUserMessage = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return _viewport2.default.showUserMessage(options);\n    };\n\n    _gui2.default.closeUserMessage = function () {\n      _viewport2.default.closeUserMessage();\n    };\n    /* ------------------ */\n    _gui2.default.notify = {\n      warning: function warning(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'warning',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      error: function error(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'alert',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      info: function info(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'info',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      success: function success(message) {\n        _gui2.default.showUserMessage({\n          type: 'success',\n          message: message,\n          autoclose: true\n        });\n      }\n    };\n    // proxy  bootbox library\n    _gui2.default.dialog = bootbox;\n    //modal dialog//\n    _gui2.default.showModalDialog = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return _gui2.default.dialog.dialog(options);\n    };\n    /* spinner */\n    _gui2.default.showSpinner = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var container = options.container || 'body';\n      var id = options.id || 'loadspinner';\n      var where = options.where || 'prepend'; // append | prepend\n      var style = options.style || '';\n      var transparent = options.transparent ? 'background-color: transparent' : '';\n      var center = options.center ? 'margin: auto' : '';\n      if (!$(\"#\" + id).length) {\n        $(container)[where].call($(container), '<div id=\"' + id + '\" class=\"spinner-wrapper ' + style + '\" style=\"' + transparent + '\"><div class=\"spinner ' + style + '\" style=\"' + center + '\"></div></div>');\n      }\n    };\n    //hide spinner\n    _gui2.default.hideSpinner = function () {\n      var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'loadspinner';\n\n      $(\"#\" + id).remove();\n    };\n    /* end spinner*/\n    /* end common methods */\n\n    /*  */\n    // FLOATBAR //\n    _gui2.default.showFloatbar = function () {\n      _floatbar2.default.open();\n    };\n    _gui2.default.hideFloatbar = function () {\n      _floatbar2.default.close();\n    };\n    // SIDEBAR //\n    _gui2.default.showSidebar = this._showSidebar.bind(this);\n    _gui2.default.hideSidebar = this._hideSidebar.bind(this);\n    _gui2.default.isSidebarVisible = this._isSidebarVisible.bind(this);\n\n    // RELOAD COMPONENTS\n    _gui2.default.reloadComponents = function () {\n      ApplicationTemplate.Services.sidebar.reloadComponents();\n    };\n    // MODAL\n    _gui2.default.setModal = this._showModalOverlay.bind(this);\n    _gui2.default.showFullModal = function () {\n      var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref14$element = _ref14.element,\n          element = _ref14$element === undefined ? \"#full-screen-modal\" : _ref14$element,\n          _ref14$show = _ref14.show,\n          show = _ref14$show === undefined ? true : _ref14$show;\n\n      show ? $(element).modal('show') : $(element).modal('hide');\n    };\n\n    _gui2.default.disableSideBar = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      _applicationState2.default.gui.sidebar.disabled = bool;\n    };\n\n    // VIEWPORT //\n    _gui2.default.setPrimaryView = function (viewName) {\n      _viewport2.default.setPrimaryView(viewName);\n    };\n    // only map\n    _gui2.default.showMap = function () {\n      _viewport2.default.showMap();\n    };\n\n    _gui2.default.showContextualMap = function () {\n      var perc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 30;\n      var split = arguments[1];\n\n      _viewport2.default.showContextualMap({\n        perc: perc,\n        split: split\n      });\n    };\n\n    _gui2.default.setContextualMapComponent = function (mapComponent) {\n      _viewport2.default.setContextualMapComponent(mapComponent);\n    };\n\n    _gui2.default.resetContextualMapComponent = function () {\n      _viewport2.default.resetContextualMapComponent();\n    };\n\n    //  (100%) content\n    _gui2.default.showContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _gui2.default.setLoadingContent(false);\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.setContent(options);\n      return true;\n    };\n\n    _gui2.default.showContextualContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.setContent(options);\n      return true;\n    };\n    // add component to stack (append)\n    // Differences between pushContent and setContent are :\n    //  - push every componet is added, set is refreshed\n    //  - pushContent has a new parameter (backonclose) when is clicked x\n    //  - the contentComponet is close all stack is closed\n    _gui2.default.pushContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      options.push = true;\n      _gui2.default.setContent(options);\n    };\n    // add content to stack\n    _gui2.default.pushContextualContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.pushContent(options);\n    };\n    // remove last content from stack\n    _gui2.default.popContent = function () {\n      _viewport2.default.popContent();\n    };\n    //return number of component of stack\n    _gui2.default.getContentLength = function () {\n      return _viewport2.default.contentLength();\n    };\n\n    _gui2.default.getCurrentContentTitle = function () {\n      return _viewport2.default.getCurrentContentTitle();\n    };\n\n    _gui2.default.getCurrentContentId = function () {\n      return _viewport2.default.getCurrentContentId();\n    };\n\n    /**\n     * change current content title\n     * @param title\n     */\n    _gui2.default.changeCurrentContentTitle = function (title) {\n      _viewport2.default.changeCurrentContentTitle(title);\n    };\n    /**\n     * change current content options\n     * @param options: {title, crumb}\n     */\n    _gui2.default.changeCurrentContentOptions = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _viewport2.default.changeCurrentContentOptions(options);\n    };\n\n    /**\n     * Method to get current content\n     */\n    _gui2.default.getCurrentContent = function () {\n      return _viewport2.default.getCurrentContent();\n    };\n\n    _gui2.default.toggleFullViewContent = function () {\n      _viewport2.default.toggleFullViewContent();\n    };\n\n    _gui2.default.resetToDefaultContentPercentage = function () {\n      _viewport2.default.resetToDefaultContentPercentage();\n    };\n\n    _gui2.default.getProjectMenuDOM = function () {\n      var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          projects = _ref15.projects,\n          host = _ref15.host,\n          cbk = _ref15.cbk;\n\n      var options = {\n        projects: projects && Array.isArray(projects) && projects,\n        cbk: cbk,\n        host: host\n      };\n      var projectVueMenuComponent = new ProjectsMenuComponent(options).getInternalComponent();\n      return projectVueMenuComponent.$mount().$el;\n    };\n\n    _gui2.default.setCloseUserMessageBeforeSetContent = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this._closeUserMessageBeforeSetContent = bool;\n    };\n\n    _gui2.default._setContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _this2._closeUserMessageBeforeSetContent && _gui2.default.closeUserMessage();\n      options.content = options.content || null;\n      options.title = options.title || \"\";\n      options.push = _.isBoolean(options.push) ? options.push : false;\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      options.split = options.split || 'h';\n      options.backonclose = _.isBoolean(options.backonclose) ? options.backonclose : false;\n      options.showtitle = _.isBoolean(options.showtitle) ? options.showtitle : true;\n      _viewport2.default.showContent(options);\n    };\n\n    _gui2.default.hideClientMenu = function () {\n      ApplicationService.getConfig().user = null;\n    };\n\n    _gui2.default.hideChangeMaps = function () {\n      ApplicationService.getConfig().projects = [];\n    };\n\n    // return specific classes\n    _gui2.default.getTemplateClasses = function () {\n      return BootstrapVersionClasses;\n    };\n\n    _gui2.default.getTemplateClass = function (_ref16) {\n      var element = _ref16.element,\n          type = _ref16.type;\n\n      return BootstrapVersionClasses[element][type];\n    };\n\n    _gui2.default.setLoadingContent = function () {\n      var loading = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      ApplicationTemplate.Services.viewport.setLoadingContent(loading);\n      return loading && new Promise(function (resolve) {\n        setTimeout(resolve, 200);\n      });\n    };\n\n    _gui2.default.openProjectsMenu = function () {\n      var contentsComponent = _gui2.default.getComponent('contents');\n      // check if is projectmenucomponent\n      if (contentsComponent.getComponentById('projectsmenu')) _gui2.default.closeContent();else {\n        if (this.isMobile()) {\n          _gui2.default.hideSidebar();\n          $('#main-navbar.navbar-collapse').removeClass('in');\n        }\n        ApplicationTemplate.Services.sidebar.closeOpenComponents();\n        _gui2.default.setContent({\n          content: new ProjectsMenuComponent(),\n          title: '',\n          perc: 100\n        });\n      }\n    };\n  };\n  base(this);\n};\n\ninherit(ApplicationTemplate, G3WObject);\n\n// Placeholder knowed by application\nApplicationTemplate.PLACEHOLDERS = ['navbar', 'sidebar', 'viewport', 'floatbar'];\n\n// service know by the applications (standard)\nApplicationTemplate.Services = {\n  navbar: null,\n  sidebar: _sidebar2.default,\n  viewport: _viewport2.default,\n  floatbar: null\n};\n\nApplicationTemplate.fail = function (_ref17) {\n  var _ref17$language = _ref17.language,\n      language = _ref17$language === undefined ? 'en' : _ref17$language,\n      error = _ref17.error;\n\n  layout.loading(false);\n  var error_page = {\n    it: {\n      error: error || \"Errore di connessione\",\n      at_moment: \"Al momento non è possibile caricare la mappa\",\n      f5: \"Premi Ctrl+F5\"\n    },\n    en: {\n      error: error || \"Connection error\",\n      at_moment: \"At the moment is not possible show map\",\n      f5: \"Press Ctrl+F5\"\n    }\n  };\n  var compiledTemplate = Vue.compile(require('gui/templates/500.html'));\n  var app = new Vue(_extends({\n    el: '#app'\n  }, compiledTemplate, {\n    data: {\n      messages: error_page[language]\n    }\n  }));\n};\n\n/**\n * Application starting point\n *\n * create the ApplicationTemplate instance passing template interface configuration\n * and the applicationService instance that is useful to work with project API\n */\n_application2.default.init().then(function () {\n  var app = new ApplicationTemplate({ ApplicationService: _application2.default });\n  app.on('ready', function () {\n    return _application2.default.postBootstrap();\n  });\n  app.init();\n}).catch(function (_ref18) {\n  var _ref18$error = _ref18.error,\n      error = _ref18$error === undefined ? null : _ref18$error,\n      language = _ref18.language;\n\n  if (error) {\n    if (error.responseJSON && error.responseJSON.error.data) error = error.responseJSON.error.data;else if (error.statusText) error = error.statusText;\n  }\n  ApplicationTemplate.fail({\n    language: language,\n    error: error\n  });\n});\n\n},{\"./deprecated\":310,\"./globals\":325,\"app/constant\":4,\"components/App.vue\":193,\"components/Floatbar.vue\":211,\"components/GlobalBarLoader\":216,\"components/GlobalDateTime.vue\":217,\"components/GlobalDivider.vue\":218,\"components/GlobalGallery.vue\":219,\"components/GlobalGeo.vue\":220,\"components/GlobalHelpDiv.vue\":221,\"components/GlobalImage.vue\":222,\"components/GlobalLayerPositions.vue\":223,\"components/GlobalProgressBar\":224,\"components/GlobalRange.vue\":225,\"components/GlobalResize.vue\":226,\"components/GlobalResizeIcon.vue\":227,\"components/GlobalSkeleton.vue\":228,\"components/GlobalTabs.vue\":229,\"components/NavbaritemsLeft.vue\":264,\"components/NavbaritemsRight.vue\":265,\"components/Sidebar.vue\":292,\"components/Viewport.vue\":306,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"directives/v-checked\":312,\"directives/v-disabled\":313,\"directives/v-download\":314,\"directives/v-online\":315,\"directives/v-plugins\":316,\"directives/v-select2\":317,\"directives/v-selected-first\":318,\"directives/v-t\":324,\"directives/v-t-html\":319,\"directives/v-t-placeholder\":320,\"directives/v-t-plugin\":321,\"directives/v-t-title\":322,\"directives/v-t-tooltip\":323,\"gui/catalog/vue/catalog\":112,\"gui/form/vue/form\":121,\"gui/map/vue/map\":156,\"gui/metadata/vue/metadata\":159,\"gui/print/vue/print\":162,\"gui/projectsmenu/projectsmenu\":165,\"gui/querybuilder/querybuilderuifactory\":166,\"gui/queryresults/vue/queryresults\":170,\"gui/search/vue/search\":177,\"gui/spatialbookmarks/vue/spatialbookmarks\":179,\"gui/templates/500.html\":183,\"gui/tools/vue/tools\":185,\"gui/viewport/contentsviewer\":188,\"gui/wms/vue/wms\":191,\"services/application\":348,\"services/floatbar\":357,\"services/gui\":358,\"services/navbaritems\":362,\"services/sidebar\":366,\"services/viewport\":368,\"store/application-state\":370,\"store/components\":372}],327:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Diese Website verwendet Cookies, um Ihnen die bestmögliche Erfahrung auf unserer Website zu bieten.\",\n      buttonText: \"Verstanden!\"\n    },\n    default: \"default\",\n    sign_in: \"Anmelden\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Filter hinzufügen/entfernen\",\n        nofilter: \"Filter entfernen\",\n        invert: \"Auswahl umkehren\",\n        clear: \"Auswahl löschen\",\n        show_features_on_map: \"Auf der Karte sichtbare Features anzeigen\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Nicht unterstütztes Format\"\n    },\n    layer_position: {\n      top: 'OBEN',\n      bottom: 'UNTEN',\n      message: \"Position relativ zu den Layern im TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Template auswählen\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Räumliche Lesezeichen\",\n        helptext: \"Bewegen Sie sich auf der Kartenausdehnung, fügen Sie den Namen ein und klicken Sie auf Hinzufügen\",\n        input: {\n          name: \"Name\"\n        },\n        sections: {\n          project: {\n            title: \"Projekt-Lesezeichen\"\n          },\n          user: {\n            title: \"Benutzer-Lesezeichen\"\n          }\n        }\n      },\n      search: {\n        all: 'ALLE',\n        no_results: \"Keine Ergebnisse\",\n        searching: \"Suchen ...\",\n        error_loading: \"Fehler beim Datenladen\",\n        layer_not_searchable: \"Layer ist nicht durchsuchbar\",\n        layer_not_querable: \"Layer ist nicht abfragbar\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Bitte\",\n            post: \"oder mehrere Zeichen eingeben\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Kein Layer zu drucken',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Skala\",\n        format: \"Format\",\n        rotation: \"Drehung\",\n        download_image: \"Bild herunterladen\",\n        fids_instruction: \"Akzeptierte Werte: von 1 bis [max]. Es ist möglich, ein Intervall einzugeben, z. B. 4-6\",\n        fids_example: \"Bsp. 1,4-6 druckt id 1,4,5,6\",\n        help: \"Die im Druck angezeigten Layer können die im Projekt definierten sein und nicht die auf der Karte angezeigten\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Ausführen\",\n          info: \"Information\",\n          delete: \"Löschen\",\n          edit: \"Bearbeiten\"\n        },\n        messages: {\n          changed: 'Gespeichert',\n          number_of_features: \"Anzahl der Features\"\n        },\n        panel: {\n          button: {\n            all: 'ALLE',\n            save: 'SPEICHERN',\n            test: 'TEST',\n            clear: 'LÖSCHEN',\n            run: 'AUSFÜHREN',\n            manual: 'MANUELL'\n          },\n          layers: 'LAYERS',\n          fields: 'FELDER',\n          values: 'WERTE',\n          operators: 'OPERATOREN',\n          expression: 'AUSDRUCK'\n        },\n        error_run: 'Es ist ein Fehler aufgetreten. Bitte überprüfen Sie die Abfrage',\n        error_test: \"Während der Ausführung der Abfrage ist ein Fehler aufgetreten\",\n        delete: 'Soll es gelöscht werden?',\n        additem: 'Geben Sie den Namen der neuen Suche ein'\n      },\n      errors: {\n        layers: {\n          load: \"Einige Layer sind nicht verfügbar\"\n        },\n        unsupported_format: 'Nicht unterstütztes Format',\n        add_external_layer: 'Fehler im Ladevorgang des Layers'\n      },\n      metadata: {\n        title: 'Metadaten',\n        groups: {\n          general: {\n            title: 'ALLGEMEIN',\n            fields: {\n              title: 'TITEL',\n              name: 'NAME',\n              description: \"BESCHREIBUNG\",\n              abstract: \"ABASTRACT\",\n              keywords: 'SCHLÜSSELWÖRTER',\n              fees: \"GEBÜHREN\",\n              accessconstraints: \"ZUGRIFFSBESCHRÄNKUNG\",\n              contactinformation: \"KONTAKTE\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'Referenzen',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Firma',\n                  ContactOrganization: 'Firma',\n                  contactposition: 'Position',\n                  ContactPosition: 'Position',\n                  contactperson: 'Person',\n                  ContactPerson: 'Person'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'LAYERS',\n            fields: {\n              layers: 'LAYERS',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITEL\",\n                name: 'NAME',\n                geometrytype: 'GEOMETRIE',\n                source: 'QUELLE',\n                attributes: 'ATTRIBUTE',\n                abstract: 'ABSTRACT',\n                attribution: 'ATRIBUTION',\n                keywords: \"SCHLÜSSELWÖRTER\",\n                metadataurl: 'METADATEN URL',\n                dataurl: \"DATEN URL\"\n              }\n            },\n            groups: {\n              general: 'ALLGEMEIN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Zeilenansicht\",\n          row_to_form: \"Formularansicht\"\n        },\n        copy_map_extent_url: 'Link zur Kartenansicht kopieren',\n        download_shapefile: \"Shapefile herunterladen\",\n        download_gpx: \"DGPX herunterladen\",\n        download_gpkg: \"GPKG herunterladen\",\n        download_csv: \"CSV herunterladen\",\n        download_xls: \"XLS herunterladen\",\n        show_chart: \"Diagramm anzeigen\",\n        atlas: \"Atlas drucken\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Query layer',\n          actions: {\n            add_selection: {\n              hint: \"Auswahl hinzufügen/entfernen\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom auf Feature-Ausdehnung\"\n            },\n            add_features_to_results: {\n              hint: \"Hinzufügen/Entfernen von Features zu den Ergebnissen\"\n            },\n            remove_feature_from_results: {\n              hint: \"Feature aus den Ergebnissen entfernen\"\n            },\n            zoom_to_feature: {\n              hint: \"Zum Feature zoomen\"\n            },\n            relations: {\n              hint: \"Relationen anzeigen\"\n            },\n            relations_charts: {\n              hint: \"Relationship-Diagramm anzeigen\"\n            },\n            download_features_shapefile: {\n              hint: 'Features Shapefile herunterladen'\n            },\n            download_shapefile: {\n              hint: 'Feature Shapefile herunterladen'\n            },\n            download_features_gpx: {\n              hint: \"Feature GPX herunterladen\"\n            },\n            download_features_gpkg: {\n              hint: \"Feature GPKG herunterladen\"\n            },\n            download_gpx: {\n              hint: \"Feature GPX herunterladen\"\n            },\n            download_gpkg: {\n              hint: \"Feature GPKG herunterladen\"\n            },\n            download_features_csv: {\n              hint: \"Features CSV herunterladen\"\n            },\n            download_csv: {\n              hint: \"Feature CSV herunterladen\"\n            },\n            download_features_xls: {\n              hint: \"Features XLS herunterladen\"\n            },\n            download_xls: {\n              hint: \"Feature XLS herunterladen\"\n            },\n            atlas: {\n              hint: \"Atlas drucken\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Kopieren der Karten-URL mit dieser Geometrie-Feature-Erweiterung\",\n              hint_change: \"Kopiert\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attribute herunterladen\",\n            choiches: {\n              feature: {\n                label: \"Nur Features\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Query nach Polygon',\n          no_geometry: 'Keine Geometrie in der Antwort',\n          help: {\n            title: 'Hilfe - Abfrage nach Polygon',\n            message: \"\\n                <ul>\\n                  <li>W\\xE4hlen Sie einen Polygon Layer auf TOC.</li>\\n                  <li>Stellen Sie sicher, dass der Layer sichtbar ist.</li>\\n                  <li>Klicken Sie auf ein Feature des ausgew\\xE4hlten Layers.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Abfrage durch Polygon zeichnen\"\n        },\n        querybybbox: {\n          tooltip: 'BBox Layer abfragen',\n          nolayers_visible: 'Es sind keine abfragbaren Layer sichtbar. Bitte setzen Sie mindestens einen sichtbaren wfs Layer, um die Abfrage zu starten',\n          help: {\n            title: 'Hilfe - Abfrage des BBox Layers',\n            message: \"\\n                 <ul>\\n                  <li>Ein Quadrat auf der Karte ziehen, um unterstrichene Layer im TOC abzufragen</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Das Ergebnis in der Karte ist unvollständig, da die unten stehende Liste fehlerhafter Einträge enthält:\"\n            }\n          },\n          tooltip: 'Layer hinzufügen'\n        },\n        geolocation: {\n          tooltip: 'Geolokalisierung'\n        },\n        measures: {\n          length: {\n            tooltip: \"Länge\",\n            help: \"Klicken Sie auf die Karte, um die Linie zu zeichnen. Drücken Sie <br>CANC, wenn Sie den letzten Eckpunkt löschen möchten.\"\n          },\n          area: {\n            tooltip: \"Fläche\",\n            help: \"Drücken Sie <br>CANC, wenn Sie den letzten Eckpunkt löschen wollen.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Ungültige Skala\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meter',\n            nautical: 'Nautische Meile'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Vorheriger\",\n          zoom_next: \"Zoom Nächster\"\n        }\n      },\n      relations: {\n        relation_data: 'Daten zur Relation',\n        no_relations_found: 'Keine Relationen gefunden',\n        back_to_relations: 'Zurück zu den Relationen',\n        list_of_relations_feature: 'Liste der Relationen des Features',\n        error_missing_father_field: \"Ein Feld fehlt\"\n      },\n      workflow: {\n        steps: {\n          title: 'Schritte'\n        },\n        next: 'Weiter'\n      },\n      form: {\n        loading: 'Laden ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Kein Feature ausgewählt. Prüfen, ob der Layer in Bearbeitung oder im aktuellen Maßstab sichtbar ist\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Wert aus dem Layer abrufen\",\n            lonlat: \"Zum Abrufen der Koordinaten auf die Karte klicken\"\n          },\n          input_validation_mutually_exclusive: \"Feld schließt sich gegenseitig aus mit \",\n          input_validation_error: \"Obligatorisches Feld oder falscher Datentyp\",\n          input_validation_min_field: \"Der Wert muss größer/gleich sein als der Feldwert  \",\n          input_validation_max_field: \"Der Wert muss kleiner/gleich sein als der Feldwert \",\n          input_validation_exclude_values: \"Wert muss einmalig sein\",\n          integer: \"integer\",\n          bigint: \"integer\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string\",\n          date: \"date\",\n          datetime: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          \"required_fields\": \"Erforderliche Felder\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Spezifisches Relations-Formular verwenden, um mit Relationen zu arbeiten\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEMA\",\n        choose_map_theme: \"THEMA AUSWÄHLEN\",\n        menu: {\n          layerposition: 'Position des Layers',\n          setwmsopacity: \"Opazität einstellen\",\n          wms: {\n            title: \"\",\n            copy: \"Klicken Sie hier, um die Url zu kopieren\",\n            copied: \"Kopiert\"\n          },\n          download: {\n            shp: 'Shapefile herunterladen',\n            gpx: 'GPX herunterladen',\n            gpkg: 'GPKG herunterladen',\n            csv: 'CSV herunterladen',\n            xls: 'XLS herunterladen',\n            geotiff: \"GEOTIFF herunterladen\",\n            geotiff_map_extent: \"GEOTIFF herunterladen (aktueller Ansichtsumfang)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Liste der Prozesse\",\n        tooltip: 'Karte anklicken'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Applikation basiert auf OS-Framework\",\n      g3wSuiteDescription: \"Veröffentlichen und verwalten Sie Ihre QGIS-Projekte im Internet\",\n      productOf: \"Framework entwickelt von\"\n    },\n    toggle_color_scheme: \"Farbschema umschalten\",\n    logout: \"Logout\",\n    no_other_projects: \"Kein weiteres Projekt für diese Gruppe\",\n    yes: \"Ja\",\n    no: \"No\",\n    back: \"Zurück\",\n    backto: \"Zurück zu \",\n    changemap: \"Karte ändern\",\n    component: \"Allgemeine Komponente\",\n    search: \"Suche\",\n    no_results: \"Keine Ergebnisse gefunden\",\n    print: \"Drucken\",\n    create_print: \"Drucken erstellen\",\n    dosearch: \"Suche\",\n    catalog: \"Karte\",\n    data: \"Daten\",\n    externalwms: \"WMS\",\n    baselayers: \"Base\",\n    tools: \"Tools\",\n    tree: \"Layers\",\n    legend: \"Legende\",\n    nobaselayer: \"Keine Basemap\",\n    street_search: \"Adresse finden\",\n    show: \"Anzeigen\",\n    hide: \"Ausblenden\",\n    copy_form_data: \"Daten kopieren\",\n    paste_form_data: \"Einfügen\",\n    copy_form_data_from_feature: \"Daten von der Karte kopieren\",\n    error_map_loading: \"Fehler beim Laden der Karte\",\n    check_internet_connection_or_server_admin: \"Internetverbindung prüfen oder Admin kontaktieren\",\n    could_not_load_vector_layers: \"Verbindungsfehler: Layers können geladen werden\",\n    server_saver_error: \"Fehler beim Speichern auf dem Server\",\n    server_error: \"Server-Verbindungsfehler\",\n    save: \"Speichern\",\n    cancel: \"Abbrechen\",\n    close: \"Schließen\",\n    enlange_reduce: \"Vergrößern/Verkleinern\",\n    reset_default: \"Standardgröße\",\n    add: \"Hinzufügen\",\n    exitnosave: \"Beenden ohne Speichern\",\n    annul: \"Abbrechen\",\n    layer_is_added: \"Layer mit gleichem Namen bereits hinzugefügt\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'WMS Layer hinzufügen',\n          label: {\n            position: \"Kartenposition\",\n            name: \"Name\",\n            projections: 'Projektion',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"WMS Layer hinzufügen\",\n        delete_wms_url: \"WMS Url löschen\",\n        layer_id_already_added: \"WMS Layer bereits hinzugefügt\",\n        url_already_added: \"WMS URL bereits hinzugefügt\",\n        layer_add_error: \"WMS Layer nicht hinzugefügt. Bitte überprüfen Sie alle WMS-Parameter oder Url\"\n      }\n    },\n    info: {\n      title: \"Ergebnisse\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Beigefügtes Dokument öffnen\",\n      server_error: \"Auf dem Server ist ein Fehler aufgetreten\",\n      no_results: \"Keine Ergebnisse für diese Anfrage/Suche gefunden\",\n      link_button: \"Öffnen\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Position kann nicht bestimmt werden\"\n      },\n      nominatim: {\n        placeholder: \"Addresse ...\",\n        noresults: \"Keine Ergebnisse\",\n        notresponseserver: \"Keine Antwort vom Server\"\n      },\n      add_layer_control: {\n        header: \"Layer hinzufügen\",\n        select_projection: \"Layer Projektion auswählen\",\n        select_field_to_show: \"Feld auswählen, das auf der Karte angezeigt werden soll\",\n        select_csv_separator: \"Begrenzer auswählen\",\n        select_csv_x_field: \"X-Feld auswählen\",\n        select_csv_y_field: \"Y-Feld auswählen\",\n        select_color: \"Layer Farbe auswählen\",\n        drag_layer: \"Layer hierher ziehen und ablegen\"\n      },\n      query: {\n        input_relation: \"Klicken, um Relationen anzuzeigen\"\n      },\n      length: {\n        tooltip: \"Länge\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Screenshot Fehlererstellung\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Klicken Sie mit der rechten Maustaste auf einen einzelnen Layer, um auf zusätzliche Funktionen zuzugreifen\",\n      contextmenu: {\n        zoomtolayer: \"Zoom auf Layer\",\n        open_attribute_table: \"Attributtabelle öffnen\",\n        show_metadata: \"Metadaten\",\n        styles: 'Stile',\n        vector_color_menu: \"Farbe einstellen/ändern\",\n        layer_opacity: \"Opazität\"\n      }\n    },\n    dataTable: {\n      previous: \"Vorherige\",\n      next: \"Weiter\",\n      lengthMenu: \"_MENÜ_ anzeigen\",\n      info: \"Anzeige von _START_ bis _END_ der _TOTAL_ Einträge\",\n      no_data: \"Keine Daten\",\n      nodatafilterd: \"Keine passenden Datensätze gefunden\",\n      infoFiltered: \"(gefiltert aus _MAX_ Gesamtsätzen)\"\n    }\n  }\n};\n\n},{}],328:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"default\",\n    sign_in: \"Sign in\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Add/Remove Filter\",\n        nofilter: \"Remove Filter\",\n        invert: \"Invert Selection\",\n        clear: \"Clear Selection\",\n        show_features_on_map: \"Show features visible on map\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Select Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Spatial Bookmarks\",\n        helptext: \"Move on map extent, insert name and click Add\",\n        input: {\n          name: \"Name\"\n        },\n        sections: {\n          project: {\n            title: \"Project Bookmarks\"\n          },\n          user: {\n            title: \"User Bookmarks\"\n          }\n        }\n      },\n      search: {\n        all: 'ALL',\n        no_results: \"No results\",\n        searching: \"Searching ...\",\n        error_loading: \"Error Loading Data\",\n        layer_not_searchable: \"Layer is not searchable\",\n        layer_not_querable: \"Layer is not querable\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Please enter\",\n            post: \"or more characters\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'No Layer to print',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Scale\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Download Image\",\n        fids_instruction: \"Values accepted: from 1 to value of [max]. Is possible to insert a range ex. 4-6\",\n        fids_example: \"Ex. 1,4-6 will be printed id 1,4,5,6\",\n        help: \"The layers shown in the print could be those defined on the project and not those displayed on the map\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Run\",\n          info: \"Information\",\n          delete: \"Delete\",\n          edit: \"Edit\"\n        },\n        messages: {\n          changed: 'Saved',\n          number_of_features: \"Number of features\"\n        },\n        panel: {\n          button: {\n            all: 'ALL',\n            save: 'SAVE',\n            test: 'TEST',\n            clear: 'CLEAR',\n            run: 'RUN',\n            manual: 'MANUAL'\n          },\n          layers: 'LAYERS',\n          fields: 'FIELDS',\n          values: 'VALUES',\n          operators: 'OPERATORS',\n          expression: 'EXPRESSION'\n        },\n        error_run: 'An error occurs. Please check the query',\n        error_test: \"An error occur during query execution\",\n        delete: 'Do you want delete it?',\n        additem: 'Insert the name of the new search'\n      },\n      errors: {\n        layers: {\n          load: \"Some layers are not available\"\n        },\n        unsupported_format: 'Not supported format',\n        add_external_layer: 'Load layer error'\n      },\n      metadata: {\n        title: 'Metadata',\n        groups: {\n          general: {\n            title: 'GENERAL',\n            fields: {\n              title: 'TITLE',\n              name: 'NAME',\n              description: \"DESCRIPTION\",\n              abstract: \"ABSTRACT\",\n              keywords: 'KEYWORDS',\n              fees: \"FEES\",\n              accessconstraints: \"ACCESS CONSTRAINT\",\n              contactinformation: \"CONTACTS\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'References',\n                  contactvoicetelephone: 'Phone',\n                  contactorganization: 'Organization',\n                  ContactOrganization: 'Organization',\n                  contactposition: 'Position',\n                  ContactPosition: 'Position',\n                  contactperson: 'Person',\n                  ContactPerson: 'Person'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'LAYERS',\n            fields: {\n              layers: 'LAYERS',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITLE\",\n                name: 'NAME',\n                geometrytype: 'GEOMETRY',\n                source: 'SOURCE',\n                attributes: 'ATTRIBUTES',\n                abstract: 'ABSTRACT',\n                attribution: 'ATTRIBUTION',\n                keywords: \"PAROLE CHIAVE\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'GENERAL',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Row View\",\n          row_to_form: \"Form View\"\n        },\n        copy_map_extent_url: 'Copy map view link',\n        download_shapefile: \"Download Shapefile\",\n        download_gpx: \"Download GPX\",\n        download_gpkg: \"Download GPKG\",\n        download_csv: \"Download CSV\",\n        download_xls: \"Download XLS\",\n        show_chart: \"Show Chart\",\n        atlas: \"Print Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Query layer',\n          actions: {\n            add_selection: {\n              hint: \"Add/Remove Selection\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom to features extent\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom to feature\"\n            },\n            relations: {\n              hint: \"Show Relations\"\n            },\n            relations_charts: {\n              hint: \"Show relations chart\"\n            },\n            download_features_shapefile: {\n              hint: 'Download features Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Download feature Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Download feature GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Download features GPKG\"\n            },\n            download_gpx: {\n              hint: \"Download feature GPX\"\n            },\n            download_gpkg: {\n              hint: \"Download feature GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Download features CSV\"\n            },\n            download_csv: {\n              hint: \"Download feature CSV\"\n            },\n            download_features_xls: {\n              hint: \"Download features XLS\"\n            },\n            download_xls: {\n              hint: \"Download feature XLS\"\n            },\n            atlas: {\n              hint: \"Print Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Query By Polygon',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Guide - Query By Polygon',\n            message: \"\\n                <ul>\\n                  <li>Select a polygon layer on TOC.</li>\\n                  <li>Be sure that layer is visible.</li>\\n                  <li>Click on a feature of selected layer.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Query by Draw Polygon \"\n        },\n        querybybbox: {\n          tooltip: 'Query BBox layer',\n          nolayers_visible: 'No querable layers are visible. Please set at least one visible wfs layer to run query',\n          help: {\n            title: 'Guide - Query BBox layer',\n            message: \"\\n                  <ul>\\n                  <li>Draw a square on map to query underlined layers on TOC</li>\\n                  </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Add Layer'\n        },\n        geolocation: {\n          tooltip: 'Geolocation'\n        },\n        measures: {\n          length: {\n            tooltip: \"Length\",\n            help: \"Click on map to draw the line. Press <br>CANC if you want delete last vertex\"\n          },\n          area: {\n            tooltip: \"Area\",\n            help: \"Click to draw poligon.Press <br>CANC if you want delete last vertex\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Invalid Scale\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Last\",\n          zoom_next: \"Zoom Next\"\n        }\n      },\n      relations: {\n        relation_data: 'Relation data',\n        no_relations_found: 'No relations found',\n        back_to_relations: 'Back to relations',\n        list_of_relations_feature: 'List of relations of feature',\n        error_missing_father_field: \"Field is missing\"\n      },\n      workflow: {\n        steps: {\n          title: 'Steps'\n        },\n        next: 'Next'\n      },\n      form: {\n        loading: 'Loading ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"No feature selected. Check if layer is on editing or visible at current scale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Get value from ma layer\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Field mutually exclusive with \",\n          input_validation_error: \"Mandatory Field or wrong data type\",\n          input_validation_min_field: \"Value has to be more/equal to field value  \",\n          input_validation_max_field: \"Value has to be less/equal to field value \",\n          input_validation_exclude_values: \"Value has to be unique\",\n          integer: \"integer\",\n          bigint: \"integer\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string\",\n          date: \"date\",\n          datetime: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          \"required_fields\": \"Required fields\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Use relation specific form to work with relation\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Click here to copy url\",\n            copied: \"Copied\"\n          },\n          download: {\n            shp: 'Download Shapefile',\n            gpx: 'Download GPX',\n            gpkg: 'Download GPKG',\n            csv: 'Download CSV',\n            xls: 'Download XLS',\n            geotiff: \"Download GEOTIFF\",\n            geotiff_map_extent: \"Download GEOTIFF(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"List of process\",\n        tooltip: 'Click on map'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Application based on OS framework\",\n      g3wSuiteDescription: \"Publish and manage your QGIS projects on the web\",\n      productOf: \"Framework developed by\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Logout\",\n    no_other_projects: \"No more project for this group\",\n    yes: \"Yes\",\n    no: \"No\",\n    back: \"Back\",\n    backto: \"Back to \",\n    changemap: \"Change Map\",\n    component: \"Generic Component\",\n    search: \"Search\",\n    no_results: \"No results found\",\n    print: \"Print\",\n    create_print: \"Create Print\",\n    dosearch: \"Search\",\n    catalog: \"Map\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Base\",\n    tools: \"Tools\",\n    tree: \"Layers\",\n    legend: \"Legend\",\n    nobaselayer: \"No basemap\",\n    street_search: \"Find Address\",\n    show: \"Show\",\n    hide: \"Hide\",\n    copy_form_data: \"Copy data\",\n    paste_form_data: \"Paste\",\n    copy_form_data_from_feature: \"Copy data from map\",\n    error_map_loading: \"Error occurs loading map\",\n    check_internet_connection_or_server_admin: \"Check internet connection or contact admin\",\n    could_not_load_vector_layers: \"Connection error: Layers can be loaded\",\n    server_saver_error: \"Error in server saving\",\n    server_error: \"Server connection error\",\n    save: \"Save\",\n    cancel: \"Cancel\",\n    close: \"Close\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Add\",\n    exitnosave: \"Exit without save\",\n    annul: \"Cancel\",\n    layer_is_added: \"Layer with same name already added\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Add WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Layer already added\",\n        url_already_added: \"WMS URL already added\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Results\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Open attached document\",\n      server_error: \"An error occurred from server\",\n      no_results: \"No results found for this query/search\",\n      link_button: \"Open\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Can't get your position\"\n      },\n      nominatim: {\n        placeholder: \"Address ...\",\n        noresults: \"No results\",\n        notresponseserver: \"No response from server\"\n      },\n      add_layer_control: {\n        header: \"Add Layer\",\n        select_projection: \"Select layer projection\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Select Layer Color\",\n        drag_layer: \"Drag and drop layer here\"\n      },\n      query: {\n        input_relation: \"Click to show relations\"\n      },\n      length: {\n        tooltip: \"Length\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Right-click on individual layer to access additional features\",\n      contextmenu: {\n        zoomtolayer: \"Zoom to Layer\",\n        open_attribute_table: \"Open Attribute Table\",\n        show_metadata: \"Metadata\",\n        styles: 'Styles',\n        vector_color_menu: \"Set/Change Color\",\n        layer_opacity: \"Opacity\"\n      }\n    },\n    dataTable: {\n      previous: \"Previous\",\n      next: \"Next\",\n      lengthMenu: \"Show _MENU_\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"No data\",\n      nodatafilterd: \"No matching records found\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],329:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"oletuksena\",\n    sign_in: \"Kirjaudu sisään\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Lisätä/Poista Suodattaa\",\n        nofilter: \"Poista Suodattaa\",\n        invert: \"Käänteinen Valinta\",\n        clear: \"Peruuttaa Valinta\",\n        show_features_on_map: \"Näytä kartalla näkyvät ominaisuudet\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Valitse Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Tilalliset kirjanmerkit\",\n        helptext: \"Siirry kartan laajuuteen, lisää nimi ja napsauta Lisää\",\n        input: {\n          name: \"Nimi\"\n        },\n        sections: {\n          project: {\n            title: \"Projektin kirjanmerkit\"\n          },\n          user: {\n            title: \"Käyttäjän kirjanmerkit\"\n          }\n        }\n      },\n      search: {\n        all: 'KAIKKI',\n        no_results: \"Ei tuloksia\",\n        searching: \"Haetaan ...\",\n        error_loading: \"Virhe ladattaessa tietoja.\",\n        layer_not_searchable: \"Taso ei ole haettavissa.\",\n        layer_not_querable: \"Tasolle ei voi suorittaa kyselyitä.\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Syötä\",\n            post: \"tai useampi merkki\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Ei tulostettavia tasoja',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Mittakaava\",\n        format: \"Formaatti\",\n        rotation: \"Kierto\",\n        download_image: \"Lataa kuva\",\n        fids_instruction: \"Hyväksytyt arvot: yhdestä arvoon [max]. Salittua syöttää myös väli, esim. 4-6.\",\n        fids_example: \"Esimerkiksi 1,4-6 tulostuu id 1,4,5,6.\",\n        help: \"Tulosteessa esiintyvät tasot voivat olla projektissa määriteltyjä ei kartalla esiintyviä.\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Suorita\",\n          info: \"Informaatio\",\n          delete: \"Poista\",\n          edit: \"Muokkaa\"\n        },\n        messages: {\n          changed: 'Tallennettu',\n          number_of_features: \"Ominaisuuksien lukumäärä\"\n        },\n        panel: {\n          button: {\n            all: 'KAIKKI',\n            save: 'TALLENNA',\n            test: 'TESTI',\n            clear: 'TYHJENNÄ',\n            run: 'SUORITA',\n            manual: 'MANUAALINEN'\n          },\n          layers: 'TASOT',\n          fields: 'KENTÄT',\n          values: 'ARVOT',\n          operators: 'OPERAATTORIT',\n          expression: 'LAUSEKE'\n        },\n        error_run: 'Tapahtui virhe. Tarkista kysely.',\n        error_test: \"Kyselyä suorittaessa tapahtui virhe.\",\n        delete: 'Haluatko poistaa sen?',\n        additem: 'Anna nimi uudelle haulle.'\n      },\n      errors: {\n        layers: {\n          load: \"Jotkin tasot eivät ole saatavilla.\"\n        },\n        unsupported_format: 'Ei tuettu formaatti',\n        add_external_layer: 'Tason latausvirhe'\n      },\n      metadata: {\n        title: 'Metatiedot',\n        groups: {\n          general: {\n            title: 'YLEINEN',\n            fields: {\n              title: 'OTSIKKO',\n              name: 'NIMI',\n              description: \"KUVAUS\",\n              abstract: \"TIIVISTELMÄ\",\n              keywords: 'AVAINSANAT',\n              fees: \"MAKSUT\",\n              accessconstraints: \"PÄÄSYRAJOITUKSET\",\n              contactinformation: \"YHTEYSTIEDOT\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Sähköposti\",\n                  personprimary: 'Viitteet',\n                  contactvoicetelephone: 'Puhelin',\n                  contactorganization: 'Organisaatio',\n                  ContactOrganization: 'Organisaatio',\n                  contactposition: 'Asema',\n                  ContactPosition: 'Asema',\n                  contactperson: 'Yhteyshenkilö',\n                  ContactPerson: 'Yhteyshenkilö'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'TASOT',\n            fields: {\n              layers: 'TASOT',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"OTSIKKO\",\n                name: 'NIMI',\n                geometrytype: 'GEOMETRIA',\n                source: 'LÄHDE',\n                attributes: 'ATTRIBUUTIT',\n                abstract: 'TIIVISTELMÄ',\n                attribution: 'ATTRIBUUTIO',\n                keywords: \"AVAINSANAT\",\n                metadataurl: 'METATIEDON URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'YLEINEN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Rivinäkymä\",\n          row_to_form: \"Taulukkonäkymä\"\n        },\n        copy_map_extent_url: 'Kopioi kartan katselulinkki',\n        download_shapefile: \"Lataa SHP-tiedosto\",\n        download_gpx: \"Lataa GPX-tiedosto\",\n        download_gpkg: \"Lataa GPKG-tiedosto\",\n        download_csv: \"Lataa CSV-tiedosto\",\n        download_xls: \"Lataa XLS-tiedosto\",\n        show_chart: \"Näytä kaavio\",\n        atlas: \"Tulosta Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Kyselytaso',\n          actions: {\n            add_selection: {\n              hint: 'Lisää/Poista valinta'\n            },\n            zoom_to_features_extent: {\n              hint: \"Tarkenna ominaisuuden laajuuteen\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Tarkenna ominaisuuteen\"\n            },\n            relations: {\n              hint: \"Näytä relaatiot\"\n            },\n            relations_charts: {\n              hint: \"Näytä relaatiokaavio\"\n            },\n            download_features_shapefile: {\n              hint: 'Lataa ominaisuuden SHP-tiedosto'\n            },\n            download_shapefile: {\n              hint: 'Lataa ominaisuuden SHP-tiedosto'\n            },\n            download_features_gpx: {\n              hint: \"Lataa ominaisuuden GPX-tiedosto\"\n            },\n            download_features_gpkg: {\n              hint: \"Lataa ominaisuuden GPKG-tiedosto\"\n            },\n            download_gpx: {\n              hint: \"Lataa ominaisuuden GPX-tiedosto\"\n            },\n            download_gpkg: {\n              hint: \"Lataa ominaisuuden GPKG-tiedosto\"\n            },\n            download_features_csv: {\n              hint: \"Lataa ominaisuuden CSV-tiedosto\"\n            },\n            download_csv: {\n              hint: \"Lataa ominaisuuden CSV-tiedosto\"\n            },\n            download_features_xls: {\n              hint: \"Lataa ominaisuuden XLS-tiedosto\"\n            },\n            download_xls: {\n              hint: \"Lataa ominaisuuden XLS-tiedosto\"\n            },\n            atlas: {\n              hint: \"Tulosta Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Kysely monikulmiolla',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Ohje - Kysely monikulmiolla',\n            message: \"\\n                <ul>\\n                  <li>Valitse monikulmiotaso luettelosta.</li>\\n                  <li>Tarkista, ett\\xE4 taso on n\\xE4kyvill\\xE4.</li>\\n                  <li>Valitse ominaisuus valitulla tasolla.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Kysely piirtopolygonin mukaan\"\n        },\n        querybybbox: {\n          tooltip: 'Tasoon kohdituva BBox-kysely',\n          nolayers_visible: 'Ei kyseltäviä tasoja näkyvillä. Aseta vähintään yksi WFS-taso näkyväksi suorittaaksesi haun.',\n          help: {\n            title: 'Ohje - Tasoon kohdistuva BBox-kysely',\n            message: \"\\n                 <ul>\\n                  <li>Piirr\\xE4 suorakulmio kartalle suorittaaksesi kyselyn luettelossa alleviivatuille tasoille.</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Lisää taso'\n        },\n        geolocation: {\n          tooltip: 'Maantieteellinen sijainti'\n        },\n        measures: {\n          length: {\n            tooltip: \"Pituus\",\n            help: \"Piirrä murtoviiva kartalle. Paina <br>CANC, mikäli haluat poistaa edellisen pisteen.\"\n          },\n          area: {\n            tooltip: \"Alue\",\n            help: \"Piirrä monikulmio kartalle. Paina <br>CANC, mikäli haluat poistaa edellisen pisteen.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Väärä mittakaava\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Edellinen\",\n          zoom_next: \"Zoom Seurata\"\n        }\n      },\n      relations: {\n        relation_data: 'Relaation tiedot',\n        no_relations_found: 'Relaatiota ei löytynyt.',\n        back_to_relations: 'Takaisin relaatioihin',\n        list_of_relations_feature: 'Lista ominaisuuden relaatioista',\n        error_missing_father_field: \"Kenttä puuttu\"\n      },\n      workflow: {\n        steps: {\n          title: 'Vaiheet'\n        },\n        next: \"Seuraava\"\n      },\n      form: {\n        loading: 'Ladataan...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Ominaisuuksia ei valiitu. Tarkista, että taso on muokattavissa tai näkyvissä nykyisellä mittakaavalla.\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Valitse arvo karttatasolta\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Kenttä toisensa poissulkeva.\",\n          input_validation_error: \"Pakollinen kenttä tai väärä tietotyyppi.\",\n          input_validation_min_field: \"Arvon tulee olla suurempi tai yhtäsuuri kuin kentän arvo.\",\n          input_validation_max_field: \"Arvon tulee olla pienempi tai yhtäsuuri kuin kentän arvo.\",\n          input_validation_exclude_values: \"Arvon tulee olla uniikki.\",\n          integer: \"kokonaisluku\",\n          bigint: \"kokonaisluku\",\n          text: \"teksti\",\n          varchar: \"teksti\",\n          textarea: \"teksti\",\n          string: \"merkkijono\",\n          date: \"päiväys\",\n          datetime: \"päiväys\",\n          float: \"liukuluku\",\n          table: \"taulukko\"\n        },\n        footer: {\n          \"required_fields\": \"Vaaditut kentät\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Käytä relaatioiden määrittämiseen tähän tarkoitettua toimintoa\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Paina tästä kopioidaksesi url:n.\",\n            copied: \"Kopioitu.\"\n          },\n          download: {\n            shp: 'Lataa SHP-tiedosto',\n            gpx: 'Lataa GPX-tiedosto',\n            gpkg: 'Lataa GPKG-tiedosto',\n            csv: 'Lataa CSV-tiedosto',\n            xls: 'Lataa XLS-tiedosto',\n            geotiff: 'Lataa GEOTIFF-tiedosto',\n            geotiff_map_extent: \"Lataa GEOTIFF-tiedosto(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista prosesseista\",\n        tooltip: 'Valitse kartalta'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Sovellus perustuu OS framework\",\n      g3wSuiteDescription: \"Julkaise ja hallinnoi QGIS-projekteja verkossa.\",\n      productOf: \"Frameworkin on kehittänyt\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Kirjaudu ulos\",\n    no_other_projects: \"Ei projekteja tälle ryhmälle\",\n    yes: \"Kyllä\",\n    no: \"Ei\",\n    back: \"Palaa\",\n    backto: \"Takaisin \",\n    changemap: \"Vaihda karttaa\",\n    component: \"Yleinen komponentti\",\n    search: \"Hae\",\n    no_results: \"Ei hakutuloksia\",\n    print: \"Tulosta\",\n    create_print: \"Luo tuloste\",\n    dosearch: \"Hae\",\n    catalog: \"Kartta\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Taustakartta\",\n    tools: \"Työkalut\",\n    tree: \"Tasot\",\n    legend: \"Merkintöjen selite\",\n    nobaselayer: \"Ei taustakarttaa\",\n    street_search: \"Hae osoite\",\n    show: \"Näytä\",\n    hide: \"Piilota\",\n    copy_form_data: \"Kopioi tiedot\",\n    paste_form_data: \"Liitä\",\n    copy_form_data_from_feature: \"Kopioi tiedot kartalta\",\n    error_map_loading: \"Virhe ladattessa karttaa\",\n    check_internet_connection_or_server_admin: \"Tarkista internetyhteys tai ota yhteyttä ylläpitäjään.\",\n    could_not_load_vector_layers: \"Yhteysvirhe, tasoja ei voida ladata.\",\n    server_saver_error: \"Virhe tallentaessa palvelimelle.\",\n    server_error: \"Yhteysvirhe palvelimeen\",\n    save: \"Tallenna\",\n    cancel: \"Peruuta\",\n    close: \"Sulje\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Lisää\",\n    exitnosave: \"Poistu tallentamatta\",\n    annul: \"Peruuta\",\n    layer_is_added: \"Samanniminen taso on jo lisätty.\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Taso on jo lisätty.\",\n        url_already_added: \"WMS URL  on jo lisätty.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Tulokset\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Avaa liitetiedosto\",\n      server_error: \"Palvelimella tapahtui virhe.\",\n      no_results: \"Ei tuloksia haulle/kyselylle.\",\n      link_button: \"Avaa\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Sijaintiasi ei saada\"\n      },\n      nominatim: {\n        placeholder: \"Osoite ...\",\n        noresults: \"Ei tuloksia\",\n        notresponseserver: \"Ei vastausta palvelimelta\"\n      },\n      add_layer_control: {\n        header: \"Lisää taso\",\n        select_projection: \"Valitse tason projektio\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Valitse tason väri\",\n        drag_layer: \"Vedä ja pudota taso tähän\"\n      },\n      query: {\n        input_relation: \"Paina näyttääksesi relaatiot\"\n      },\n      length: {\n        tooltip: \"Pituus\"\n      },\n      area: {\n        tooltip: \"Pinta-ala\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Napsauta hiiren kakkospainikkeella yksittäistä tasoa päästäksesi lisäominaisuuksiin.\",\n      contextmenu: {\n        zoomtolayer: \"Tarkenna tasoon\",\n        open_attribute_table: \"Avaa attribuuttitaulu\",\n        show_metadata: \"Metatiedot\",\n        styles: \"Tyylejä\",\n        vector_color_menu: \"Aseta/muuta väriä\",\n        layer_opacity: \"Peittävyys\"\n      }\n    },\n    dataTable: {\n      previous: \"Edellinen\",\n      next: \"Seuraava\",\n      lengthMenu: \"Show _MENU_ items\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"Ei tietoja\",\n      nodatafilterd: \"Vastaavia tietueita ei löytynyt\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],330:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Ce site utilise des cookies pour assurer une bonne convivialité pour l'utilisateur final.\",\n      buttonText: \"J’ai compris !\"\n    },\n    default: \"par défaut \",\n    sign_in: \"Se connecter \",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Ajout/Suppression de filtre \",\n        nofilter: \"Supprimer le filtre \",\n        invert: \"Sélection inversée \",\n        clear: \"Effacer la sélection \",\n        show_features_on_map: \"Afficher les caractéristiques visibles sur la carte\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Sélectionnez Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Signets spatiaux\",\n        helptext: \"Déplacez-vous sur l'étendue de la carte, insérez le nom et cliquez sur Ajouter\",\n        input: {\n          name: \"Nom\"\n        },\n        sections: {\n          project: {\n            title: \"Signets du projet\"\n          },\n          user: {\n            title: \"Signets de l'utilisateur\"\n          }\n        }\n      },\n      search: {\n        all: 'TOUTES',\n        no_results: \"Aucune valeur trouvée\",\n        searching: \"Je cherche...\",\n        error_loading: \"Erreur de chargement des valeurs\",\n        layer_not_searchable: \"Le layer n’est pas recherchable\",\n        layer_not_querable: \"Le layer n'est pas interrogeable\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Tapez au moins\",\n            post: \"caractères\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Aucune layer visible',\n        scale: \"Échelle\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Télécharger l'image\",\n        fids_instruction: \"Valeurs acceptées : de 1 à la valeur maximale indiquée par [max]. Il est également possible d'indiquer une fourchette de valeurs, par exemple 4-6\",\n        fids_example: \"Par exemple 1,4-6 les ids 1,4,5,6 seront imprimés\",\n        help: \"Les layers montrés dans l'impression peuvent être ceux définis dans le projet et non ceux montrés sur la carte\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Lancer la recherche\",\n          info: \"Information\",\n          delete: \"Supprimer\",\n          edit: \"Editer\"\n        },\n        messages: {\n          changed: 'Enregistré correctement',\n          number_of_features: \"Nombre de fonctionnalités\"\n        },\n        panel: {\n          button: {\n            all: 'TOUTES',\n            save: 'SAUVEGARDER',\n            test: 'TESTER',\n            clear: 'NETTOYER',\n            run: 'EXECUTER',\n            manual: 'MANUEL'\n          },\n          layers: 'LAYERS',\n          fields: 'CHAMPS',\n          values: 'VALEURS',\n          operators: 'OPERATEURS',\n          expression: 'EXPRESSION'\n        },\n        error_run: \"Une erreur s'est produite. Vérifiez si la requête est correcte\",\n        error_test: \"Erreur d'exécution de la requête\",\n        delete: 'Voulez-vous confirmer la suppression ?',\n        additem: 'Entrer le nom de la requête'\n      },\n      errors: {\n        layers: {\n          load: \"Certaines layers du projet ne sont pas disponibles actuellement et n'apparaissent donc pas dans la vue actuelle\"\n        },\n        unsupported_format: 'Format non supporté',\n        add_external_layer: 'Erreur lors du chargement du layer'\n      },\n      metadata: {\n        title: \"Métadonnées\",\n        groups: {\n          general: {\n            title: 'GÉNÉRAL',\n            fields: {\n              title: 'TITRE',\n              name: 'NOM',\n              description: \"DESCRIPTION\",\n              abstract: \"ABREGE\",\n              keywords: 'LISTE DE MOTS-CLÉS',\n              fees: \"DROITS D'INSCRIPTION\",\n              accessconstraints: \"CONTRAINTES D'ACCÈS\",\n              contactinformation: \"CONTACTS\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-mail\",\n                  personprimary: 'Références',\n                  contactvoicetelephone: 'Téléphone',\n                  contactorganization: 'Organisation',\n                  ContactOrganization: 'Organisation',\n                  contactposition: 'Localisation',\n                  ContactPosition: 'Localisation',\n                  contactperson: 'Personne',\n                  ContactPerson: 'Personne'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'INFO ESPACE',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATES',\n            groups: {\n              general: 'GENERALE',\n              spatial: 'INFO ESPACE'\n            },\n            fields: {\n              layers: 'STRATES',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITRE\",\n                name: 'NOM',\n                geometrytype: 'GÉOMÉTRIE',\n                source: 'SOURCE',\n                attributes: 'ATTRIBUTES',\n                abstract: 'ABRÉGÉ',\n                attribution: 'ATTRIBUTION',\n                keywords: \"MOTS- CLÉS\",\n                metadataurl: 'URL DE MÉTADONNÉES',\n                dataurl: \"URL DES DONNÉES\"\n              }\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Afficher le format de la ligne\",\n          row_to_form: \"Format du formulaire d'affichage\"\n        },\n        zoom_to_features_extent: \"Zoom sur les fonctionnalités\",\n        copy_map_extent_url: 'Copier le lien de visualisation de la carte',\n        download_shapefile: \"Télécharger le fichier Shapefile\",\n        download_gpx: \"Télécharger GPX\",\n        download_gpkg: \"Télécharger GPKG\",\n        download_csv: \"Télécharger CSV\",\n        download_xls: \"Télécharger XLS\",\n        show_chart: \"Montrer graphique\",\n        atlas: \"Imprimer l'Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interrogation layer',\n          actions: {\n            add_selection: {\n              hint: \"Ajouter/supprimer une sélection\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom sur les fonctionnalités\"\n            },\n            add_features_to_results: {\n              hint: \"Ajouter des fonctionnalités aux résultats\"\n            },\n            remove_feature_from_results: {\n              hint: \"Supprimer la fonctionnalité des résultats\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom sur les fonctionnalités\"\n            },\n            relations: {\n              hint: \"Voir les relations\"\n            },\n            relations_charts: {\n              hint: \"Voir les graphiques de relations\"\n            },\n            download_features_shapefile: {\n              hint: 'Télécharger les fonctionnalités vers Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Télécharger le Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Télécharger les fonctionnalités vers GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Télécharger les fonctionnalités vers GPKG\"\n            },\n            download_gpx: {\n              hint: \"Télécharger le GPX\"\n            },\n            download_gpkg: {\n              hint: \"Télécharger le GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Télécharger les fonctionnalités vers CSV\"\n            },\n            download_csv: {\n              hint: \"Télécharger le CSV\"\n            },\n            download_features_xls: {\n              hint: \"Télécharger les fonctionnalités vers XLS\"\n            },\n            download_xls: {\n              hint: \"Télécharger le XLS\"\n            },\n            atlas: {\n              hint: \"Imprimer l'Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copier l'URL de la carte avec l'extension vers cette géométrie\",\n              hint_change: \"Copié\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Téléchargement des attributs\",\n            choiches: {\n              feature: {\n                label: \"Fonctionnalités seulement\"\n              },\n              feature_polygon: {\n                label: \"Fonctionnalités+Requête Polygon \"\n              }\n            }\n          },\n          tooltip: 'Requête par polygone',\n          no_geometry: 'La réponse ne contient pas de géométrie',\n          help: {\n            title: 'Aide - Requête par polygone',\n            message: \"\\n                <ul>\\n                  <li>S\\xE9lectionnez un layer de polygone dans la l\\xE9gende.</li>\\n                  <li>V\\xE9rifiez que le layer est visible dans la carte.</li>\\n                  <li>Cliquez sur une g\\xE9om\\xE9trie du layer s\\xE9lectionn\\xE9.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Requête par polygone de dessin\"\n        },\n        querybybbox: {\n          tooltip: 'Requête pour BBOX',\n          nolayers_visible: \"Aucun layer requêtable n'est visible. Assurez-vous qu'au moins un layer wfs est visible pour exécuter la requête\",\n          help: {\n            title: 'Aide - Requête BBox',\n            message: \"\\n                  <ul>\\n                    <li>Dessinez un rectangle pour interroger les couches surlign\\xE9es en jaune</li>\\n                 </ul>\\n            \"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Le résultat de la carte est partiel en raison de la présence des enregistrements incorrects suivants :\"\n            }\n          },\n          tooltip: 'Ajouter un layer'\n        },\n        geolocation: {\n          tooltip: 'Géolocalisation'\n        },\n        measures: {\n          length: {\n            tooltip: \"Longueur\",\n            help: \"Cliquez sur la carte pour continuer à dessiner la ligne.<br>CANC si vous voulez supprimer le dernier vertex inséré\"\n          },\n          area: {\n            tooltip: \"Zone\",\n            help: \"Cliquez pour continuer à dessiner le polygone.<br>CANC si vous voulez supprimer le dernier vertex inséré\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Échelle invalide\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Précédent\",\n          zoom_next: \"Zoom Suivant\"\n        }\n      },\n      relations: {\n        relation_data: 'Données relationnelles',\n        no_relations_found: 'Aucune relation trouvée',\n        back_to_relations: 'Retour aux relations',\n        list_of_relations_feature: 'Liste des relations entre les caractéristiques',\n        error_missing_father_field: \"Le champ concerné n'existe pas\"\n      },\n      workflow: {\n        steps: {\n          title: 'Étapes'\n        },\n        next: 'Suivant'\n      },\n      form: {\n        loading: 'Chargement...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Aucune fonction sélectionnée. Vérifier si le layer est en édition ou non visible à l'échelle actuelle\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Obtenir la valeur de la carte\",\n            lonlat: \"Cliquez sur la carte pour obtenir les coordonnées\"\n          },\n          input_validation_mutually_exclusive: \"Champ mutuellement exclusif avec \",\n          input_validation_error: \"Champ obligatoire ou type de valeur incorrect\",\n          input_validation_min_field: \"La valeur doit être supérieure ou égale au camp \",\n          input_validation_max_field: \"La valeur doit être inférieure ou égale au champ \",\n          input_validation_exclude_values: \"Le champ doit contenir une valeur différente\",\n          integer: \"entier\",\n          bigint: \"entier\",\n          text: \"textuel\",\n          varchar: \"textuel\",\n          textarea: \"textuel\",\n          string: \"chaîne\",\n          date: \"date\",\n          datetime: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          required_fields: \"Champs obligatoires\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Gérer les relations via un formulaire dédié\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"SÉLECTIONNEZ LE THÈME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Cliquez ici pour copier l'url\",\n            copied: \"Copié\"\n          },\n          download: {\n            shp: 'Télécharger Shapefile',\n            gpx: 'Télécharger GPX',\n            gpkg: 'Télécharger GPKG',\n            csv: 'Télécharger CSV',\n            xls: 'Télécharger XLS',\n            geotiff: 'Télécharger GEOTIFF',\n            geotiff_map_extent: \"Télécharger GEOTIFF(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Liste des processus\",\n        tooltip: 'Cliquez sur la carte'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Application construite avec le framework OS\",\n      g3wSuiteDescription: \"Publiez et gérez vos projets QGIS sur le Web\",\n      productOf: \"Framework développé par\"\n    },\n    logout: \"Quitter\",\n    no_other_projects: \"Il n'y a pas d'autres projets dans ce groupe de cartes\",\n    yes: \"Oui\",\n    no: \"No\",\n    back: \"Retour\",\n    backto: \"Retour à \",\n    changemap: \"Changer de carte\",\n    component: \"Composant générique\",\n    search: \"Recherches\",\n    no_results: \"Aucun résultat trouvé\",\n    print: \"Imprimer\",\n    create_print: \"Créer une impression\",\n    dosearch: \"Recherche\",\n    catalog: \"Carte\",\n    data: \"Données\",\n    externalwms: \"WMS\",\n    baselayers: \"Bases\",\n    tools: \"Outils\",\n    tree: \"Strates\",\n    legend: \"Légende\",\n    nobaselayer: \"Pas de carte de base\",\n    street_search: \"Adresse de recherche\",\n    show: \"Afficher\",\n    hide: \"Cacher\",\n    copy_form_data: \"Copier les données du formulaire\",\n    paste_form_data: \"Coller\",\n    copy_form_data_from_feature: \"Copier les données de la carte\",\n    error_map_loading: \"Erreur de chargement de la nouvelle carte\",\n    check_internet_connection_or_server_admin: \"Vérifiez la connexion internet ou contactez l'administrateur\",\n    could_not_load_vector_layers: \"Erreur de connexion au serveur : il n'a pas été possible de charger les vecteurs demandés\",\n    server_saver_error: \"Erreur de sauvegarde sur le serveur\",\n    server_error: \"Une erreur s'est produite dans la requête au serveur\",\n    save: \"Sauvegarder\",\n    cancel: \"Supprimer\",\n    close: \"Fermer\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Ajouter\",\n    exitnosave: \"Quitter sans sauvegarder\",\n    annul: \"Annuler\",\n    layer_is_added: \"Layer avec le même nom déjà ajouté\",\n    wms_layer_id_already_added: \"WMS Layer déjà ajouté\",\n    wms_url_already_added: \"WMS URL déjà ajouté\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Add WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Nivån har redan lagts till.\",\n        url_already_added: \"WMS URL har redan lagts till.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Résultats\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Ouvrir le document joint\",\n      server_error: \"Une erreur s'est produite dans la requête au serveur\",\n      no_results: \"Aucun résultat pour cette requête/recherche\",\n      link_button: \"Ouvrir\"\n    },\n    mapcontrols: {\n      geolocations: {\n        title: \"\",\n        error: \"Votre position ne peut être calculée.\"\n      },\n      nominatim: {\n        placeholder: \"Adresse ...\",\n        noresults: \"Aucun résultat\",\n        notresponseserver: \"Le serveur ne répond pas\"\n      },\n      add_layer_control: {\n        header: \"Ajouter un layer\",\n        select_projection: \"Sélectionnez le système de projection de couches\",\n        select_field_to_show: \"Sélectionnez le champ à afficher sur la carte\",\n        select_csv_separator: \"Sélectionner le séparateur\",\n        select_csv_x_field: \"Sélectionnez le champ X\",\n        select_csv_y_field: \"Sélectionnez le champ Y\",\n        select_color: \"Sélectionnez la couleur du layer\",\n        drag_layer: \"Faire glisser le layer vers cette zone\"\n      },\n      query: {\n        input_relation: \"Cliquez pour voir les relations\"\n      },\n      length: {\n        tooltip: \"Longueur\"\n      },\n      area: {\n        tooltip: \"Zone\"\n      },\n      screenshot: {\n        error: \"Erreur de création de la capture d'écran\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Cliquez avec le bouton droit de la souris sur les différents layers pour accéder à des fonctionnalités supplémentaires\",\n      contextmenu: {\n        zoomtolayer: \"Zoom sur le layer\",\n        open_attribute_table: \"Table d'attributs ouverte\",\n        show_metadata: \"Métadonnées\",\n        styles: \"Styles\",\n        vector_color_menu: \"Définir/changer la couleur\",\n        layer_opacity: \"Opacité\"\n      }\n    },\n    dataTable: {\n      previous: \"Précédent\",\n      next: \"Suivant\",\n      lengthMenu: \"Afficher _MENU_\",\n      info: \"Afficher _START_ à _END_ sur _TOTAL_ lignes\",\n      nodatafilterd: \"Aucun résultat trouvé\",\n      infoFiltered: \"(Filtré par _MAX_ rangs totaux)\"\n    }\n  }\n};\n\n},{}],331:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _it = require('./it');\n\nvar _it2 = _interopRequireDefault(_it);\n\nvar _en = require('./en');\n\nvar _en2 = _interopRequireDefault(_en);\n\nvar _fi = require('./fi');\n\nvar _fi2 = _interopRequireDefault(_fi);\n\nvar _se = require('./se');\n\nvar _se2 = _interopRequireDefault(_se);\n\nvar _fr = require('./fr');\n\nvar _fr2 = _interopRequireDefault(_fr);\n\nvar _de = require('./de');\n\nvar _de2 = _interopRequireDefault(_de);\n\nvar _ro = require('./ro');\n\nvar _ro2 = _interopRequireDefault(_ro);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar translations = {\n  it: _it2.default,\n  en: _en2.default,\n  fi: _fi2.default,\n  se: _se2.default,\n  fr: _fr2.default,\n  de: _de2.default,\n  ro: _ro2.default\n};\n\nexports.default = translations;\n\n},{\"./de\":327,\"./en\":328,\"./fi\":329,\"./fr\":330,\"./it\":332,\"./ro\":333,\"./se\":334}],332:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Questo sito utilizza i cookie per garantire una buona usabilità all'utilizzatore finale.\",\n      buttonText: \"Ho capito!\"\n    },\n    default: \"predefinito\",\n    sign_in: \"Accedi\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Aggiungi/Rimuovi Filtro\",\n        nofilter: \"Rimuovi filtro\",\n        invert: \"Inverti Selezione\",\n        clear: \"Annulla selezione\",\n        show_features_on_map: \"Mostra features visibili su mappa\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Formato non supportato\"\n    },\n    layer_position: {\n      top: 'SOPRA',\n      bottom: 'IN FONDO',\n      message: \"Posizione rispetto ai layers della TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Seleziona Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Segnalibri Spaziali\",\n        helptext: \"Posizionati all'estensione del tuo nuovo segnalibro, definisci il nome e clicca Aggiungi\",\n        input: {\n          name: \"Nome\"\n        },\n        sections: {\n          project: {\n            title: \"Segnalibri Progetto\"\n          },\n          user: {\n            title: \"Segnalibri Utente\"\n          }\n        }\n      },\n      search: {\n        all: 'TUTTE',\n        no_results: \"Nessun valore trovato\",\n        searching: \"Sto cercando ..\",\n        error_loading: \"Errore nel caricamento valori\",\n        layer_not_searchable: \"Il layer non è ricercabile\",\n        layer_not_querable: \"Il layer non è interrogabile\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Digita almeno\",\n            post: \"caratteri\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Nessun Layer visibile',\n        template: \"Template\",\n        labels: \"Etichette\",\n        scale: \"Scala\",\n        format: \"Formato\",\n        rotation: \"Rotazione\",\n        download_image: \"Scarica Immagine\",\n        fids_instruction: \"Valori accettati: da 1 al valore massimo indicato da [max]. Possibile indicare anche range di valori es. 4-6\",\n        fids_example: \"Es. 1,4-6 verranno stampati gli id 1,4,5,6\",\n        help: \"I layers mostrati nella stampa potrebbero essere quelli definiti sul progetto e non quelli visualizzati sulla mappa\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Lancia ricerca\",\n          info: \"Informazioni\",\n          delete: \"Cancella\",\n          edit: \"Modifica\"\n        },\n        messages: {\n          changed: 'Salvato correttamente',\n          number_of_features: \"Numero di features\"\n        },\n        panel: {\n          button: {\n            all: 'TUTTI',\n            save: 'SALVA',\n            test: 'TEST',\n            clear: 'PULISCI',\n            run: 'ESEGUI',\n            manual: 'MANUALE'\n          },\n          layers: 'LAYERS',\n          fields: 'CAMPI',\n          values: 'VALORI',\n          operators: 'OPERATORI',\n          expression: 'ESPRESSIONE'\n        },\n        error_run: 'Si è verificato un errore. Verificare se la query è corretta',\n        error_test: \"Errore nell'esecuzione della query\",\n        delete: 'Vuoi confermare la cancellazione?',\n        additem: 'Inserisci nome della ricerca'\n      },\n      errors: {\n        layers: {\n          load: \"Alcuni layers presenti nel progetto non sono attualmente disponibili e quindi non compaiono nell'attuale visualizzazione\"\n        },\n        unsupported_format: 'Formato non supportato',\n        add_external_layer: 'Errore nel caricamento del layer'\n      },\n      metadata: {\n        title: \"Metadati\",\n        groups: {\n          general: {\n            title: 'GENERALE',\n            fields: {\n              title: 'TITOLO',\n              name: 'NOME',\n              description: \"DESCRIZIONE\",\n              abstract: \"ABSTRACT\",\n              keywords: 'LISTA DELLE PAROLE CHIAVE',\n              fees: \"CANONI\",\n              accessconstraints: \"VINCOLI DI ACCESSO\",\n              contactinformation: \"CONTATTI\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-mail\",\n                  personprimary: 'Riferimenti',\n                  contactvoicetelephone: 'Telefono',\n                  contactorganization: 'Organizzazione',\n                  ContactOrganization: 'Organizzazione',\n                  contactposition: 'Posizione',\n                  ContactPosition: 'Posizione',\n                  contactperson: 'Persona',\n                  ContactPerson: 'Persona'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'INFO SPAZIALI',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATI',\n            groups: {\n              general: 'GENERALE',\n              spatial: 'INFO SPAZIALI'\n            },\n            fields: {\n              layers: 'STRATI',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITOLO\",\n                name: 'NOME',\n                geometrytype: 'GEOMETRIA',\n                source: 'SORGENTE',\n                attributes: 'ATTRIBUTI',\n                abstract: 'ABSTRACT',\n                attribution: 'ATTRIBUTION',\n                keywords: \"PAROLE CHIAVE\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Visualizza formato Riga\",\n          row_to_form: \"Visualizza formato Form\"\n        },\n        zoom_to_features_extent: \"Zoom sulle features\",\n        copy_map_extent_url: 'Copia map view link',\n        download_shapefile: \"Scarica Shapefile\",\n        download_gpx: \"Scarica GPX\",\n        download_gpkg: \"Scarica GPKG\",\n        download_csv: \"Scarica CSV\",\n        download_xls: \"Scarica XLS\",\n        show_chart: \"Mostra Grafico\",\n        atlas: \"Stampa Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interroga Layer',\n          actions: {\n            add_selection: {\n              hint: \"Aggiungi/Rimuovi Selezione\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom sulle features\"\n            },\n            add_features_to_results: {\n              hint: \"Aggiungi features ai risultati\"\n            },\n            remove_feature_from_results: {\n              hint: \"Rimuovi feature dai risultati\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom sulla feature\"\n            },\n            relations: {\n              hint: \"Visualizza Relazioni\"\n            },\n            relations_charts: {\n              hint: \"Visualizza grafici relazioni\"\n            },\n            download_features_shapefile: {\n              hint: 'Scarica features in Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Scarica feature in Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Scarica features in GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Scarica features in GPKG\"\n            },\n            download_gpx: {\n              hint: \"Scarica feature in GPX\"\n            },\n            download_gpkg: {\n              hint: \"Scarica feature in GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Scarica features in CSV\"\n            },\n            download_csv: {\n              hint: \"Scarica feature in CSV\"\n            },\n            download_features_xls: {\n              hint: \"Scarica features in XLS\"\n            },\n            download_xls: {\n              hint: \"Scarica la feature in XLS\"\n            },\n            atlas: {\n              hint: \"Stampa Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copia URL mappa con estensione a questa geometria\",\n              hint_change: \"Copiato\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Download attributi\",\n            choiches: {\n              feature: {\n                label: \"Solo features\"\n              },\n              feature_polygon: {\n                label: \"Features+Poligono Interrogazione\"\n              }\n            }\n          },\n          tooltip: 'Interroga per poligono',\n          no_geometry: 'Non contiene la geometria nella risposta',\n          help: {\n            title: 'Guida - Interrogazione con Poligono',\n            message: \"\\n                <ul>\\n                  <li>Seleziona uno strato poligonale in legenda.</li>\\n                  <li>Assicurati che lo strato sia visibile in mappa.</li>\\n                  <li>Clicca su una geometria dello strato selezionato.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Disegna un poligono per interrogare\"\n        },\n        querybybbox: {\n          tooltip: 'Interroga per BBOX',\n          nolayers_visible: \"Nessun layer interrogabile è visibile. Assicurarsi che almeno un layer wfs sia visibile per eseguire l'interrogazione\",\n          help: {\n            title: 'Guida - Interrogazione BBox',\n            message: \"\\n                  <ul>\\n                    <li>Disegna un rettangolo per interrogare gli strati evidenziati in giallo</li>\\n                  </ul>\\n            \"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Il risultato in mappa è parziale a causa della presenza dei seguenti records non corretti:\"\n            }\n          },\n          tooltip: 'Aggiungi Layer'\n        },\n        geolocation: {\n          tooltip: 'Geolocalizzazione'\n        },\n        measures: {\n          length: {\n            tooltip: \"Lunghezza\",\n            help: \"Clicca sulla mappa per continuare a disegnare la linea.<br>CANC se si vuole cancellare l'ultimo vertice inserito\"\n          },\n          area: {\n            tooltip: \"Area\",\n            help: \"Clicca per continuare a disegnare il poligono.<br>CANC se si vuole cancellare l'ultimo vertice inserito\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Scala non valida\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Metri',\n            nautical: 'Miglio Nautico'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Precedente\",\n          zoom_next: \"Zoom Successivo\"\n        }\n      },\n      relations: {\n        relation_data: 'Dati Relazione',\n        no_relations_found: 'Nessuna relazione trovata',\n        back_to_relations: 'Ritorna alle relazioni',\n        list_of_relations_feature: 'Lista delle relazioni della feature',\n        error_missing_father_field: \"Il campo relazionato non esiste\"\n      },\n      workflow: {\n        steps: {\n          title: 'Passi'\n        },\n        next: 'Avanti'\n      },\n      form: {\n        loading: 'Caricamento ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Nessuna feature selezionata. Verificare se il layer è in editing o non visibile alla scala attuale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Prendi valore dalla mappa\",\n            lonlat: \"Clicca sulla mappa per prendere le coordinate\"\n          },\n          input_validation_mutually_exclusive: \"Campo mutualmente esclusivo con \",\n          input_validation_error: \"Campo obbligatorio o tipo valore non corretto\",\n          input_validation_min_field: \"Valore deve essere magiore uguale a quello del camp \",\n          input_validation_max_field: \"Valore deve essere minore uguale a quello del campo \",\n          input_validation_exclude_values: \"Campo deve contenere un valore diverso\",\n          integer: \"intero\",\n          bigint: \"intero\",\n          text: \"testuale\",\n          varchar: \"testuale\",\n          textarea: \"testuale\",\n          string: \"stringa\",\n          date: \"data\",\n          datetime: \"data\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          required_fields: \"Campi obbligatori\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Gestisci le relazioni tramite form dedicato\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"TEMA\",\n        choose_map_theme: \"SCEGLI TEMA\",\n        menu: {\n          layerposition: 'Posizione Layer',\n          setwmsopacity: \"Cambia opacità\",\n          wms: {\n            title: \"\",\n            copy: \"Clicca qui per copiare url\",\n            copied: \"Copiato\"\n          },\n          download: {\n            shp: 'Scarica Shapefile',\n            gpx: 'Scarica GPX',\n            gpkg: 'Scarica GPKG',\n            csv: 'Scarica CSV',\n            xls: 'Scarica XLS',\n            geotiff: \"Scarica GEOTIFF\",\n            geotiff_map_extent: \"Scarica GEOTIFF(estensione vista corrente)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista dei processi\",\n        tooltip: 'Clicca sulla mappa'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Applicativo realizzato con il framework OS\",\n      g3wSuiteDescription: \"Pubblica e gestisci i tuoi progetti QGIS sul Web\",\n      productOf: \"Framework sviluppato da\"\n    },\n    toggle_color_scheme: \"Cambia colore\",\n    logout: \"Esci\",\n    no_other_projects: \"Non ci sono altri progetti in questo gruppo cartografico\",\n    yes: \"Si\",\n    no: \"No\",\n    back: \"Indietro\",\n    backto: \"Torna a \",\n    changemap: \"Cambia Mappa\",\n    component: \"Componente Generico\",\n    search: \"Ricerche\",\n    no_results: \"Nessun risultato trovato\",\n    print: \"Stampa\",\n    create_print: \"Crea Stampa\",\n    dosearch: \"Cerca\",\n    catalog: \"Mappa\",\n    data: \"Dati\",\n    externalwms: \"WMS\",\n    baselayers: \"Basi\",\n    tools: \"Strumenti\",\n    tree: \"Strati\",\n    legend: \"Legenda\",\n    nobaselayer: \"Nessuna mappa di base\",\n    street_search: \"Cerca indirizzo\",\n    show: \"Mostra\",\n    hide: \"Nascondi\",\n    copy_form_data: \"Copia i dati del modulo\",\n    paste_form_data: \"Incolla\",\n    copy_form_data_from_feature: \"Copia i dati dalla mappa\",\n    error_map_loading: \"Errore di caricamento della nuova mappa\",\n    check_internet_connection_or_server_admin: \"Controllare la connessione internet o contattare l'amministratore\",\n    could_not_load_vector_layers: \"Errore di connessione al server: non è stato possibile caricare i vettoriali richiesti\",\n    server_saver_error: \"Errore nel salvataggio sul server\",\n    server_error: \"Si è verificato un errore nella richiesta al server\",\n    save: \"Salva\",\n    cancel: \"Cancella\",\n    close: \"Chiudi\",\n    enlange_reduce: \"Allarga/Riduci\",\n    reset_default: \"Dimensione Partenza\",\n    add: \"Aggiungi\",\n    exitnosave: \"Esci senza salvare\",\n    annul: \"Annulla\",\n    layer_is_added: \"Layer con stesso nome già aggiunto\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Aggiungi WMS Layer',\n          label: {\n            position: \"Posizione su Mappa\",\n            name: \"Nome\",\n            projections: 'Sistema di riferimento',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Elimina WMS url\",\n        layer_id_already_added: \"WMS Layer già aggiunto\",\n        url_already_added: \"WMS URL già aggiunto\",\n        layer_add_error: \"WMS Layer non aggiunto. Verificare i parametri o l'url\"\n      }\n    },\n    info: {\n      title: \"Risultati\",\n      list_of_relations: \"Lista delle relazioni\",\n      open_link: \"Apri documento allegato\",\n      server_error: \"Si è verificato un errore nella richiesta al server\",\n      no_results: \"Nessun risultato per questa interrogazione/ricerca \",\n      link_button: \"Apri\"\n    },\n    mapcontrols: {\n      geolocations: {\n        title: \"\",\n        error: \"Non è possibile calcolare la tua posizione.\"\n      },\n      nominatim: {\n        placeholder: \"Indirizzo ...\",\n        noresults: \"Nessun risultato\",\n        notresponseserver: \"Il server non risponde\"\n      },\n      add_layer_control: {\n        header: \"Aggiungi Layer\",\n        select_projection: \"Seleziona il sistema di proiezione del layer\",\n        select_field_to_show: \"Seleziona il campo da visualizzare sulla mappa\",\n        select_csv_separator: \"Seleziona il separatore\",\n        select_csv_x_field: \"Seleziona il campo X\",\n        select_csv_y_field: \"Seleziona il campo Y\",\n        select_color: \"Seleziona il colore del Layer\",\n        drag_layer: \"Trascina il layer in questa area\"\n      },\n      query: {\n        input_relation: \"Clicca per consultare le relazioni\"\n      },\n      length: {\n        tooltip: \"Lunghezza\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Errore nella creazione dello screenshot\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Tasto destro sui singoli layer per accedere alle funzionalità aggiuntive\",\n      contextmenu: {\n        zoomtolayer: \"Zoom to Layer\",\n        open_attribute_table: \"Apri tabella attributi\",\n        show_metadata: \"Metadati\",\n        styles: \"Stili\",\n        vector_color_menu: \"Setta/Cambia Colore\",\n        layer_opacity: \"Trasparenza\"\n      }\n    },\n    dataTable: {\n      previous: \"Precedente\",\n      next: \"Successivo\",\n      lengthMenu: \"Visualizza _MENU_\",\n      info: \"Visualizzazione _START_ a _END_ su _TOTAL_ righe\",\n      nodatafilterd: \"Nessun risultato trovato\",\n      infoFiltered: \"(Filtrati da _MAX_ total righe)\"\n    }\n  }\n};\n\n},{}],333:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Acest website foloseste cookie-uri pentru a furniza vizitatorilor o experiență mult mai bună de navigare\",\n      buttonText: \"Am înțeles!\"\n    },\n    default: \"Implicit\",\n    sign_in: \"Logare\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Adăugare/Eliminare Filtrare\",\n        nofilter: \"Eliminare Filtrare\",\n        invert: \"Inversare Selecție\",\n        clear: \"Elimină Selecția\",\n        show_features_on_map: \"Arată entitățile vizibile în cadrul hărții\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Formatul nu este acceptat\"\n    },\n    layer_position: {\n      top: 'SUS',\n      bottom: 'JOS',\n      message: \"Poziție relativă la straturile din TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Selectați Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Marcaje spațiale\",\n        helptext: \"Deplasați-vă pe întinderea hărții, introduceți numele și faceți clic pe Adăugați\",\n        input: {\n          name: \"Nume\"\n        },\n        sections: {\n          project: {\n            title: \"Marcaje de proiect\"\n          },\n          user: {\n            title: \"Marcaje utilizator\"\n          }\n        }\n      },\n      search: {\n        all: 'Toate',\n        no_results: \"Fără rezultat\",\n        searching: \"Căutare ...\",\n        error_loading: \"Încărcarea a eșuat\",\n        layer_not_searchable: \"Nu se poate căuta pe strat\",\n        layer_not_querable: \"Stratul nu se poate interoga\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Te rog introdu\",\n            post: \"sau mai multe caractere\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Nu avem straturi de print',\n        template: \"Șablon\",\n        labels: \"Etichete\",\n        scale: \"Scară\",\n        format: \"Format\",\n        rotation: \"Rotație\",\n        download_image: \"Descarcă Imaginea\",\n        fids_instruction: \"Valori acceptate: de la 1 la valoarea [max]. Este posibilă inserarea de interval, de ex. 4-6\",\n        fids_example: \"Ex. 1,4-6 vor fi tipărite id 1,4,5,6\",\n        help: \"Straturile prezentate în print pot fi acelea definite în proiect și nu acelea prezentate în cadrul hărții\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Execută\",\n          info: \"Info\",\n          delete: \"Elimină\",\n          edit: \"Modifică\"\n        },\n        messages: {\n          changed: 'Salvat',\n          number_of_features: \"Număr de entități\"\n        },\n        panel: {\n          button: {\n            all: 'TOATE',\n            save: 'SALVEAZĂ',\n            test: 'TEST',\n            clear: 'ȘTERGE',\n            run: 'RUN',\n            manual: 'MANUAL'\n          },\n          layers: 'STRATURI',\n          fields: 'CÂMPURI',\n          values: 'VALORI',\n          operators: 'OPERATORI',\n          expression: 'EXPRESII'\n        },\n        error_run: 'A survenit o eroare. De verificat interogarea',\n        error_test: \"A survenit o eroare în timp ce se executa interogarea\",\n        delete: 'Vrei să o ștergi?',\n        additem: 'Introdu numele noii căutări'\n      },\n      errors: {\n        layers: {\n          load: \"Câteva straturi nu sunt disponibile\"\n        },\n        unsupported_format: 'Formatul nu este acceptat',\n        add_external_layer: 'Eroare încărcare strat'\n      },\n      metadata: {\n        title: 'Metadate',\n        groups: {\n          general: {\n            title: 'GENERALITĂȚI',\n            fields: {\n              title: 'TITLU',\n              name: 'NUME',\n              description: \"DESCRIERE\",\n              abstract: \"ABSTRACT\",\n              keywords: 'CUVINTE CHEIE',\n              fees: \"TAXE\",\n              accessconstraints: \"CONSTRÂNGERI DE ACCES\",\n              contactinformation: \"CONTACTE\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'Referințe',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Organizație',\n                  ContactOrganization: 'Organizație',\n                  contactposition: 'Poziție',\n                  ContactPosition: 'Poziție',\n                  contactperson: 'Persoana',\n                  ContactPerson: 'Persoana'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPAȚIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATURI',\n            fields: {\n              layers: 'STRATURI',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITLU\",\n                name: 'NUME',\n                geometrytype: 'GEOMETRIE',\n                source: 'SURSA',\n                attributes: 'ATRIBUTE',\n                abstract: 'ABSTRACT',\n                attribution: 'ATRIBUIRE',\n                keywords: \"CUVINTE CHEIE\",\n                metadataurl: 'URL METADATE',\n                dataurl: \"URL DATE\"\n              }\n            },\n            groups: {\n              general: 'GENERALITĂȚI',\n              spatial: 'SPAȚIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Vizualizare pe rânduri\",\n          row_to_form: \"Vizualizare formular\"\n        },\n        copy_map_extent_url: 'Copiază linkul de vizualizare hartă',\n        download_shapefile: \"Descarcă Shapefile\",\n        download_gpx: \"Descarcă GPX\",\n        download_gpkg: \"Descarcă GPKG\",\n        download_csv: \"Descarcă CSV\",\n        download_xls: \"Descarcă XLS\",\n        show_chart: \"Arată Diagrama\",\n        atlas: \"Tipărire Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interogare strat',\n          actions: {\n            add_selection: {\n              hint: \"Adaugă/Elimină Selecția\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom la încadrarea entităților\"\n            },\n            add_features_to_results: {\n              hint: \"Adaugă/Elimină entități rezultat\"\n            },\n            remove_feature_from_results: {\n              hint: \"Elimină entitate din rezultat\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom la entitate\"\n            },\n            relations: {\n              hint: \"Arată Relațiile\"\n            },\n            relations_charts: {\n              hint: \"Arată diagrama de relații\"\n            },\n            download_features_shapefile: {\n              hint: 'Descarcă entități în Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Descarcă entitate în Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Descarcă entități în GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Descarcă entități în GPKG\"\n            },\n            download_gpx: {\n              hint: \"Descarcă entitate în GPX\"\n            },\n            download_gpkg: {\n              hint: \"Descarcă entitate în GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Descarcă entități în CSV\"\n            },\n            download_csv: {\n              hint: \"Descarcă entitate în CSV\"\n            },\n            download_features_xls: {\n              hint: \"Descarcă entități în XLS\"\n            },\n            download_xls: {\n              hint: \"Descarcă entitate în XLS\"\n            },\n            atlas: {\n              hint: \"Tipărire Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copiază URL hartă cu întinderea geometriei entității\",\n              hint_change: \"Copiat\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Descărcare atribute\",\n            choiches: {\n              feature: {\n                label: \"Doar entități\"\n              },\n              feature_polygon: {\n                label: \"Entități+Poligon Interogare\"\n              }\n            }\n          },\n          tooltip: 'Interogare După Poligon',\n          no_geometry: 'Nu avem geometrii în răspuns',\n          help: {\n            title: 'Ghid - Interogare După Poligon',\n            message: \"\\n                <ul>\\n                  <li>Selecteaz\\u0103 un strat poligon din TOC.</li>\\n                  <li>Asigur\\u0103-te c\\u0103 stratul este vizibil.</li>\\n                  <li>Click pe o entitate a stratului selectat.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Interogare prin poligon de desen\"\n        },\n        querybybbox: {\n          tooltip: 'Interogare BBox strat',\n          nolayers_visible: 'Nu este vizibil niciun strat de interogare. Trebuie setat cel puțin un strat WFS vizibil pentru a efectua interogarea',\n          help: {\n            title: 'Ghid - Interogare BBox strat',\n            message: \"\\n                 <ul>\\n                  <li>Deseneaz\\u0103 un p\\u0103trat pe hart\\u0103 pentru a interoga straturile din TOC de sub </li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Rezultateul pe hartă este parțial datorită prezenței următoarei liste de rezultate incorecte:\"\n            }\n          },\n          tooltip: 'Adaugă Strat'\n        },\n        geolocation: {\n          tooltip: 'Geolocalizare'\n        },\n        measures: {\n          length: {\n            tooltip: \"Lungime\",\n            help: \"Click pe hartă pentru a desena linia. Apasă <br>CANC dacă dorești să ștergi ultimul vertex\"\n          },\n          area: {\n            tooltip: \"Aria\",\n            help: \"Click pentru desen poligon. Apasă <br>CANC dacă dorești să ștergi ultimul vertex\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Scară Invalidă\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Metri',\n            nautical: 'Mile Nautice'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Anterior\",\n          zoom_next: \"Zoom Urmatorul\"\n        }\n      },\n      relations: {\n        relation_data: 'Date Relații',\n        no_relations_found: 'Nu am găsit nicio relație',\n        back_to_relations: 'Înapoi la relații',\n        list_of_relations_feature: 'Lista de relații a entității',\n        error_missing_father_field: \"Câmpul de legătură lipsește\"\n      },\n      workflow: {\n        steps: {\n          title: 'Pași'\n        },\n        next: 'Următorul'\n      },\n      form: {\n        loading: 'Se încarcă ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Nu avem entitate selectată. Verifică dacă stratul este în editare sau vizibil la scara curentă if layer is on editing or visible at current scale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Ia valoare din strat\",\n            lonlat: \"Click pe hartă pentru a prelua coordonate\"\n          },\n          input_validation_mutually_exclusive: \"Câmp ce se exclude mutual cu \",\n          input_validation_error: \"Câmp mandatoriu sau tip de date greșit\",\n          input_validation_min_field: \"Valoarea trebuie să fie mai mare/egală cu valoare câmpului \",\n          input_validation_max_field: \"Valoarea trebuie să fie mai mică/egală cu valoare câmpului \",\n          input_validation_exclude_values: \"Valoarea trebuie să fie unică\",\n          integer: \"integer - nr. întreg\",\n          bigint: \"integer - nr. întreg\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string - text\",\n          date: \"data\",\n          datetime: \"data\",\n          float: \"float - nr. cu zecimale\",\n          table: \"tabelă\"\n        },\n        footer: {\n          \"required_fields\": \"Câmpuri necesare\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Folosește formular specific de relații pentru a lucra cu relația\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"TEMA\",\n        choose_map_theme: \"ALEGE TEMA\",\n        menu: {\n          layerposition: 'Poziție Strat',\n          setwmsopacity: \"Alege Opacitatea\",\n          wms: {\n            title: \"Titlu\",\n            copy: \"Click pentru copiere URL\",\n            copied: \"Copiat\"\n          },\n          download: {\n            shp: 'Descarcă Shapefile',\n            gpx: 'Descarcă GPX',\n            gpkg: 'Descarcă GPKG',\n            csv: 'Descarcă CSV',\n            xls: 'Descarcă XLS',\n            geotiff: \"Descarcă GEOTIFF\",\n            geotiff_map_extent: \"Descarcă GEOTIFF(ce se vede în cadrul hărții)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista de procese\",\n        tooltip: 'Click pe hartă'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Aplicație bazată pe frameworkul\",\n      g3wSuiteDescription: \"Publică și administrează proiectele de QGIS pe WEB\",\n      productOf: \"Framework dezvoltat de\"\n    },\n    toggle_color_scheme: \"Comutare schemă de culori\",\n    logout: \"Deconectare\",\n    no_other_projects: \"No more project for this group\",\n    yes: \"Da\",\n    no: \"Nu\",\n    back: \"Înapoi\",\n    backto: \"Înapoi la \",\n    changemap: \"Schimbare Hartă\",\n    component: \"Componentă Generică\",\n    search: \"Căutare\",\n    no_results: \"Niciun rezultat găsit\",\n    print: \"Tipărire\",\n    create_print: \"Tipărește\",\n    dosearch: \"Caută\",\n    catalog: \"Hartă\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Straturi Bază\",\n    tools: \"Instrumente\",\n    tree: \"Straturi\",\n    legend: \"Legendă\",\n    nobaselayer: \"Fără strat de bază\",\n    street_search: \"Caută Adresă\",\n    show: \"Arată\",\n    hide: \"Ascunde\",\n    copy_form_data: \"Copiază data\",\n    paste_form_data: \"Lipește\",\n    copy_form_data_from_feature: \"Copiază data din hartă\",\n    error_map_loading: \"Sunt erori la încărcarea hărții\",\n    check_internet_connection_or_server_admin: \"Verificați conexiune de internet sau contactați administratorul de sistem\",\n    could_not_load_vector_layers: \"Eroare de conexiune: Straturile nu pot fi încărcate\",\n    server_saver_error: \"Eroare la salvarea pe server\",\n    server_error: \"Eroare de conexiune la server\",\n    save: \"Salvează\",\n    cancel: \"Anulează\",\n    close: \"Închide\",\n    enlange_reduce: \"Mărește/Micșorează\",\n    reset_default: \"Mărimea implicită\",\n    add: \"Adaugă\",\n    exitnosave: \"Ieșire fără salvare\",\n    annul: \"Anulează\",\n    layer_is_added: \"Există un strat cu același nume deja adăugat\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Adaugă strat WMS',\n          label: {\n            position: \"Poziție Hartă\",\n            name: \"Nume\",\n            projections: 'Proiecție',\n            layers: 'Straturi'\n          }\n        },\n        add_wms_layer: \"Adaugă strat WMS\",\n        delete_wms_url: \"Șterge URL WMS\",\n        layer_id_already_added: \"Strat WMS deja adăugat\",\n        url_already_added: \"URL WMS deja adăugat\",\n        layer_add_error: \"Stratul WMS nu s-a adăugat. Verificați URL-ul sau parametrii WMS\"\n      }\n    },\n    info: {\n      title: \"Rezultate\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Deschide document atașat\",\n      server_error: \"Serverul a întâmpinat o eroare\",\n      no_results: \"Niciun rezultat\",\n      link_button: \"Deschide\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Nu te-am putut localiza\"\n      },\n      nominatim: {\n        placeholder: \"Adresa ...\",\n        noresults: \"Niciun rezultat\",\n        notresponseserver: \"Niciun răspuns de la server\"\n      },\n      add_layer_control: {\n        header: \"Adăugare Strat\",\n        select_projection: \"Selectează proiecția strat\",\n        select_field_to_show: \"Selectează câmpul de arătat pe hartă\",\n        select_csv_separator: \"Selectează delimitatorul\",\n        select_csv_x_field: \"Selectează câmpul X - Est\",\n        select_csv_y_field: \"Selectează câmpul Y - Nord\",\n        select_color: \"Selectează culoare strat\",\n        drag_layer: \"Trageți stratul aici (Drag&Drop)\"\n      },\n      query: {\n        input_relation: \"Click pentru a arăta relațiile\"\n      },\n      length: {\n        tooltip: \"Lungime\"\n      },\n      area: {\n        tooltip: \"Arie\"\n      },\n      screenshot: {\n        error: \"Eroare captură ecran\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Click dreapta pe strat pentru a accesa opțiuni\",\n      contextmenu: {\n        zoomtolayer: \"Zoom pe Strat\",\n        open_attribute_table: \"Deschide Tabela Atribute\",\n        show_metadata: \"Metadate\",\n        styles: 'Stiluri',\n        vector_color_menu: \"Setează/Schimbă Culoare\",\n        layer_opacity: \"Opacitate\"\n      }\n    },\n    dataTable: {\n      previous: \"Anteriorul\",\n      next: \"Următorul\",\n      lengthMenu: \"Arată _MENU_\",\n      info: \"Arată _START_ până la _END_ din _TOTAL_ de intrări\",\n      no_data: \"Fără date\",\n      nodatafilterd: \"Niciun rezultat\",\n      infoFiltered: \"(filtrat din _MAX_ de rezultate totale)\"\n    }\n  }\n};\n\n},{}],334:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"standard\",\n    sign_in: \"Logga in\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Lägg till/Avlägsna Filtrera\",\n        nofilter: \"Avlägsna Filtrera\",\n        invert: \"Invertera Urval\",\n        clear: \"Annullera Urval\",\n        show_features_on_map: \"Visa funktioner som är synliga på kartan\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Välj Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Rumsliga bokmärken\",\n        helptext: \"Flytta på kartans omfattning, ange namn och klicka på Lägg till\",\n        input: {\n          name: \"Namn\"\n        },\n        sections: {\n          project: {\n            title: \"Projektbokmärken\"\n          },\n          user: {\n            title: \"Användarbokmärken\"\n          }\n        }\n      },\n      search: {\n        all: 'ALLA',\n        no_results: \"Inga resultat\",\n        searching: \"Sökning ...\",\n        error_loading: \"Fel vid laddning av uppgifter.\",\n        layer_not_searchable: \"Nivån kan inte sökas.\",\n        layer_not_querable: \"Förfrågningar kan inte göras på nivån.\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Mata in\",\n            post: \"eller flera tecken\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Inga nivåer att skriva ut',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Skala\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Ladda ner bild\",\n        fids_instruction: \"Godkända värden: Från ett till värdet [max]. Mellanslag tillåts, t.ex. 4-6.\",\n        fids_example: \"Exempelvis 1,4-6 skriver ut id 1,4,5,6.\",\n        help: \"Nivåerna på utskriften kan vara specificerade i ett projekt inte sådana som visas på karta.\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Utför\",\n          info: \"Information\",\n          delete: \"Ta bort\",\n          edit: \"Redigera\"\n        },\n        messages: {\n          changed: 'Sparat',\n          number_of_features: \"Antal funktione\"\n        },\n        panel: {\n          button: {\n            all: 'ALLA',\n            save: 'SPARA',\n            test: 'TEST',\n            clear: 'TÖM',\n            run: 'UTFÖR',\n            manual: 'MANUELL'\n          },\n          layers: 'NIVÅER',\n          fields: 'FÄLT',\n          values: 'VÄRDEN',\n          operators: 'OPERATÖRER',\n          expression: 'KLAUSUL'\n        },\n        error_run: 'Ett fel inträffade. Kontrollera förfrågan.',\n        error_test: \"Ett fel inträffade när förfrågan utfördes.\",\n        delete: 'Vill du ta bort den?',\n        additem: 'Ge den nya sökningen ett namn.'\n      },\n      errors: {\n        layers: {\n          load: \"Vissa nivåer är inte tillgängliga.\"\n        },\n        unsupported_format: 'Formatet stöds inte',\n        add_external_layer: 'Fel vid laddning av nivån'\n      },\n      metadata: {\n        title: 'Metadata',\n        groups: {\n          general: {\n            title: 'ALLMÄN',\n            fields: {\n              title: 'RUBRIK',\n              name: 'NAMN',\n              description: \"BESKRIVNING\",\n              abstract: \"SAMMANDRAG\",\n              keywords: 'NYCKELORD',\n              fees: \"AVGIFTER\",\n              accessconstraints: \"ÅTKOMSTBEGRÄNSNINGAR\",\n              contactinformation: \"KONTAKTUPPGIFTER\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-post\",\n                  personprimary: 'Referenser',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Organisation',\n                  ContactOrganization: 'Organisation',\n                  contactposition: 'Ställning',\n                  ContactPosition: 'Ställning',\n                  contactperson: 'Kontaktperson',\n                  ContactPerson: 'Kontaktperson'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'NIVÅER',\n            fields: {\n              layers: 'NIVÅER',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"RUBRIK\",\n                name: 'NAMN',\n                geometrytype: 'GEOMETRI',\n                source: 'KÄLLA',\n                attributes: 'ATTRIBUT',\n                abstract: 'SAMMANDRAG',\n                attribution: 'TILLSKRIVNING',\n                keywords: \"NYCKELORD\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'ALLMÄN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Radvy\",\n          row_to_form: \"Tabellvy\"\n        },\n        copy_map_extent_url: 'Kopiera länk till karta',\n        download_shapefile: \"Ladda SHP-fil\",\n        download_gpx: \"Ladda GPX-fil\",\n        download_gpkg: \"Ladda GPKG-fil\",\n        download_csv: \"Ladda CSV-fil\",\n        download_xls: \"Ladda XLS-fil\",\n        show_chart: \"Visa diagram\", //Tero 9.12.2020\n        atlas: \"Skriv ut Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Förfrågningsnivå',\n          actions: {\n            add_selection: {\n              hint: \"Lägg till/Avlägsna Urval\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zooma till egenskapens omfattning\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Zooma till egenskapen\"\n            },\n            relations: {\n              hint: \"Visa relationerna\"\n            },\n            relations_charts: {\n              hint: \"Visa relationsdiagrammet\" //Tero 9.12.2020\n            },\n            download_features_shapefile: {\n              hint: 'Ladda egenskapens SHP-fil'\n            },\n            download_shapefile: {\n              hint: 'Ladda egenskapens SHP-fil'\n            },\n            download_features_gpx: {\n              hint: \"Ladda egenskapens GPX-fil\"\n            },\n            download_features_gpkg: {\n              hint: \"Ladda egenskapens GPKG-fil\"\n            },\n            download_gpx: {\n              hint: \"Ladda egenskapens GPX-fil\"\n            },\n            download_gpkg: {\n              hint: \"Ladda egenskapens GPKG-fil\"\n            },\n            download_features_csv: {\n              hint: \"Ladda egenskapens CSV-fil\"\n            },\n            download_csv: {\n              hint: \"Ladda egenskapens CSV-fil\"\n            },\n            download_features_xls: {\n              hint: \"Ladda egenskapens XLS-fil\"\n            },\n            download_xls: {\n              hint: \"Ladda egenskapens XLS-fil\"\n            },\n            atlas: {\n              hint: \"Skriv ut Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Förfrågan med polygon',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Ohje - Förfrågan med polygon',\n            message: \"\\n                <ul>\\n                  <li>V\\xE4lj polygonniv\\xE5 i listan.</li>\\n                  <li>Kontrollera att niv\\xE5n \\xE4r synlig.</li>\\n                  <li>V\\xE4lj egenskap p\\xE5 \\xF6nskad niv\\xE5.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Fråga efter ritpolygon\"\n        },\n        querybybbox: {\n          tooltip: 'BBox-förfrågan som riktar sig till en nivå',\n          nolayers_visible: 'Inga nivåer som förfrågningar kan riktas till. Gör minst en WFS-nivå synlig för att kunna utföra sökningen.',\n          help: {\n            title: 'Ohje - BBox-förfrågan som riktar sig till nivån',\n            message: \"\\n                 <ul>\\n                  <li>Rita upp en rektangel p\\xE5 kartan f\\xF6r att utf\\xF6ra f\\xF6rfr\\xE5gan p\\xE5 de i listan understreckade niv\\xE5erna.</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Lägg till nivå'\n        },\n        geolocation: {\n          tooltip: 'Geografiskt läge'\n        },\n        measures: {\n          length: {\n            tooltip: \"Längd\",\n            help: \"Rita upp en bruten linje på kartan. Tryck <br>CANC, om du vill ta bort föregående punkt.\"\n          },\n          area: {\n            tooltip: \"Område\",\n            help: \"Rita upp en polygon på kartan. Tryck <br>CANC, om du vill ta bort föregående punkt.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Fel skala\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        },\n        zoomhistory: {\n          zoom_last: \"Zoom Föregående\",\n          zoom_next: \"Zoom Nästa\"\n        }\n      },\n      relations: {\n        relation_data: 'Relationsuppgifter',\n        no_relations_found: 'Inga relationer hittades.',\n        back_to_relations: 'Tillbaka till relationerna',\n        list_of_relations_feature: 'Lista på egenskapens relationer',\n        error_missing_father_field: \"Fält saknas\"\n      },\n      workflow: {\n        steps: {\n          title: 'Skeden'\n        },\n        next: \"Nästa\"\n\n      },\n      form: {\n        loading: 'Laddning...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Inga egenskaper har valts. Kontroller att nivån kan redigeras eller att den syns med nuvarande skala.\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Välj värde på kartnivå\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Fälten utesluter varandra.\",\n          input_validation_error: \"Obligatoriskt fält eller fel datatyp.\",\n          input_validation_min_field: \"Värdet ska vara större eller lika stort som värdet i fältet.\",\n          input_validation_max_field: \"Värdet ska vara mindre eller lika stort som värdet i fältet.\",\n          input_validation_exclude_values: \"Värdet ska vara unikt.\",\n          integer: \"heltal\",\n          bigint: \"heltal\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"teckensträng\",\n          date: \"datum\",\n          datetime: \"datum\",\n          float: \"flyttal\",\n          table: \"tabell\"\n        },\n        footer: {\n          \"required_fields\": \"Obligatoriska fält\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Använd den specifika funktinen för att bestämma relationer\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Tryck här för att kopiera url.\",\n            copied: \"Kopierad.\"\n          },\n          download: {\n            shp: 'Ladda SHP-fil',\n            gpx: 'Ladda GPX-fil',\n            gpkg: 'Ladda GPKG-fil',\n            csv: 'Ladda CSV-fil',\n            xls: 'Ladda XLS-fil',\n            geotiff: 'Ladda GEOTIFF-fil',\n            geotiff_map_extent: \"Ladda GEOTIFF-fil(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista på processer\",\n        tooltip: 'Välj på kartan'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Tillämpningen baserar på OS framework\",\n      g3wSuiteDescription: \"Publicera och hantera QGIS-projekt på nätet.\",\n      productOf: \"Framework har utvecklats av\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Logga ut\",\n    no_other_projects: \"Inga projekt för denna grupp\",\n    yes: \"Ja\",\n    no: \"Nej\",\n    back: \"Gå tillbaka\",\n    backto: \"Tillbaka \",\n    changemap: \"Byt karta\",\n    component: \"Allmän komponent\",\n    search: \"Sök\",\n    no_results: \"Inga sökresultat\",\n    print: \"Skriv ut\",\n    create_print: \"Skapa utskrift\",\n    dosearch: \"Sök\",\n    catalog: \"Karta\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Bakgrundskarta\",\n    tools: \"Verktyg\",\n    tree: \"Nivåer\",\n    legend: \"Förklaring till beteckningarna\",\n    nobaselayer: \"Ingen bakgrundskarta\",\n    street_search: \"Sök adress\",\n    show: \"Visa\",\n    hide: \"Dölj\",\n    copy_form_data: \"Kopiera uppgifterna\",\n    paste_form_data: \"Infoga\",\n    copy_form_data_from_feature: \"Kopiera uppgifter från kartan\",\n    error_map_loading: \"Fel vid laddning av kartan\",\n    check_internet_connection_or_server_admin: \"Kontrollera internetanslutningen eller kontakta administratören.\",\n    could_not_load_vector_layers: \"Fel i anslutningen, nivåer kan inte laddas.\",\n    server_saver_error: \"Fel vid lagring på servern.\",\n    server_error: \"Fel på anslutningen till servern\",\n    save: \"Spara\",\n    cancel: \"Ånga\",\n    close: \"Stäng\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Lägg till\",\n    exitnosave: \"Lämna programmet utan att spara\",\n    annul: \"Ångra\",\n    layer_is_added: \"Lagret med samma namn har redan lagts till.\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Nivån har redan lagts till.\",\n        url_already_added: \"WMS URL har redan lagts till.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Resultat\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Öppna filbilaga\",\n      server_error: \"Ett fel uppstod på servern.\",\n      no_results: \"Inga resultat för sökningen/förfrågan.\",\n      link_button: \"Öppna\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Du kan inte lokaliseras\"\n      },\n      nominatim: {\n        placeholder: \"Adress ...\",\n        noresults: \"Inga resultat\",\n        notresponseserver: \"Inget svar från servern\"\n      },\n      add_layer_control: {\n        header: \"Lägg till nivå\",\n        select_projection: \"Välj projektion för nivån\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Välj färg på nivån\",\n        drag_layer: \"Dra och släpp nivån hit\"\n      },\n      query: {\n        input_relation: \"Tryck för att visa relationerna\"\n      },\n      length: {\n        tooltip: \"Längd\"\n      },\n      area: {\n        tooltip: \"Areal\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Högerklicka på en enskild nivå för att komma till tilläggsegenskaperna.\",\n      contextmenu: {\n        zoomtolayer: \"Zooma till nivå\",\n        open_attribute_table: \"Öppna attributtabellen\",\n        show_metadata: \"Metadata\",\n        styles: \"Stilar\",\n        vector_color_menu: \"Ställ in/ändra färg\",\n        layer_opacity: \"Opacitet\"\n      }\n    },\n    dataTable: {\n      previous: \"Föregående\",\n      next: \"Nästa\",\n      lengthMenu: \"Show _MENU_ items\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"Inga uppgifter\",\n      nodatafilterd: \"Inga motsvarande poster hittades\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],335:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nexports.default = {\n  methods: {\n    autocompleteRequest: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            layerId = _ref2.layerId,\n            field = _ref2.field,\n            value = _ref2.value;\n\n        var data, layer;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = [];\n                layer = _catalogLayers2.default.getLayerById(layerId);\n                _context.prev = 2;\n                _context.next = 5;\n                return layer.getFilterData({\n                  suggest: field + '|' + value,\n                  unique: field\n                });\n\n              case 5:\n                data = _context.sent;\n                _context.next = 10;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context['catch'](2);\n\n              case 10:\n                return _context.abrupt('return', data.map(function (value) {\n                  return {\n                    id: value,\n                    text: value\n                  };\n                }));\n\n              case 11:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 8]]);\n      }));\n\n      function autocompleteRequest() {\n        return _ref.apply(this, arguments);\n      }\n\n      return autocompleteRequest;\n    }()\n  }\n};\n\n},{\"store/catalog-layers\":371}],336:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  computed: {\n    tabIndex: function tabIndex() {\n      return this.editable ? 0 : -1;\n    },\n    notvalid: function notvalid() {\n      return this.state.validate.valid === false;\n    },\n    editable: function editable() {\n      return this.state.editable;\n    },\n    showhelpicon: function showhelpicon() {\n      return this.state.help && this.state.help.message.trim();\n    },\n    disabled: function disabled() {\n      return !this.editable || this.loadingState === 'loading' || this.loadingState === 'error';\n    },\n    loadingState: function loadingState() {\n      return this.state.input.options.loading ? this.state.input.options.loading.state : null;\n    }\n  },\n  methods: {\n    showHideHelp: function showHideHelp() {\n      this.state.help.visible = !this.state.help.visible;\n    },\n\n    // used to text input to listen mobile changes\n    mobileChange: function mobileChange(event) {\n      this.state.value = event.target.value;\n      this.change();\n    },\n\n    // called when input value change\n    change: function change() {\n      this.service.setEmpty();\n      this.service.setUpdate();\n      // validate input if is required or need to be unique\n      if (this.state.validate.required || this.state.validate.unique) this.service.validate();\n      // emit change input\n      this.$emit('changeinput', this.state);\n    },\n    isVisible: function isVisible() {}\n  }\n};\n\n},{}],337:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  methods: {\n    getFieldService: function getFieldService() {\n      if (this._fieldsService === undefined) this._fieldsService = require('gui/fields/fieldsservice');\n      return this._fieldsService;\n    },\n    getFieldType: function getFieldType(field) {\n      return this.getFieldService().getType(field);\n    },\n    isSimple: function isSimple(field) {\n      return this.getFieldService().isSimple(field);\n    },\n    isLink: function isLink(field) {\n      return this.getFieldService().isLink(field);\n    },\n    isImage: function isImage(field) {\n      return this.getFieldService().isImage(field);\n    },\n    isPhoto: function isPhoto(field) {\n      return this.getFieldService().isPhoto(field);\n    },\n    isVue: function isVue(field) {\n      return this.getFieldService().isVue(field);\n    },\n    sanitizeFieldValue: function sanitizeFieldValue(value) {\n      return Array.isArray(value) && !value.length ? '' : value;\n    }\n  }\n};\n\n},{\"gui/fields/fieldsservice\":119}],338:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  data: function data() {\n    return {\n      valid: false\n    };\n  },\n\n  methods: {\n    addToValidate: function addToValidate(input) {\n      this.tovalidate.push(input);\n    },\n    changeInput: function changeInput(input) {\n      this.isValid(input);\n    },\n\n    // Every input send to form it valid value that will change the genaral state of form\n    isValid: function isValid(input) {\n      var _this = this;\n\n      if (input) {\n        // check mutually\n        if (input.validate.mutually) {\n          if (!input.validate.required) {\n            if (!input.validate.empty) {\n              input.validate._valid = input.validate.valid;\n              input.validate.mutually_valid = input.validate.mutually.reduce(function (previous, inputname) {\n                return previous && _this.tovalidate[inputname].validate.empty;\n              }, true);\n              input.validate.valid = input.validate.mutually_valid && input.validate.valid;\n            } else {\n              input.value = null;\n              input.validate.mutually_valid = true;\n              input.validate.valid = true;\n              input.validate._valid = true;\n              var countNoTEmptyInputName = [];\n              for (var i = input.validate.mutually.length; i--;) {\n                var inputname = input.validate.mutually[i];\n                !this.tovalidate[inputname].validate.empty && countNoTEmptyInputName.push(inputname);\n              }\n              if (countNoTEmptyInputName.length < 2) {\n                countNoTEmptyInputName.forEach(function (inputname) {\n                  _this.tovalidate[inputname].validate.mutually_valid = true;\n                  _this.tovalidate[inputname].validate.valid = true;\n                  setTimeout(function () {\n                    _this.tovalidate[inputname].validate.valid = _this.tovalidate[inputname].validate._valid;\n                    _this.state.valid = _this.state.valid && _this.tovalidate[inputname].validate.valid;\n                  });\n                });\n              }\n            }\n          }\n          //check if min_field or max_field is set\n        } else if (!input.validate.empty && (input.validate.min_field || input.validate.max_field)) {\n          var input_name = input.validate.min_field || input.validate.max_field;\n          input.validate.valid = input.validate.min_field ? this.tovalidate[input.validate.min_field].validate.empty || 1 * input.value > 1 * this.tovalidate[input.validate.min_field].value : this.tovalidate[input.validate.max_field].validate.empty || 1 * input.value < 1 * this.tovalidate[input.validate.max_field].value;\n          if (input.validate.valid) this.tovalidate[input_name].validate.valid = true;\n        }\n      }\n      this.valid = Object.values(this.tovalidate).reduce(function (previous, input) {\n        return previous && input.validate.valid;\n      }, true);\n    }\n  },\n  created: function created() {\n    this.tovalidate = [];\n  },\n  destroyed: function destroyed() {\n    this.tovalidate = null;\n  }\n};\n\n},{}],339:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  methods: {\n    showLayer: function showLayer() {\n      this.visible = !this.visible;\n      this.layer.setVisible(this.visible);\n    }\n  },\n  created: function created() {\n    var data = this.data;\n    var mapService = _gui2.default.getComponent('map').getService();\n    var mapProjection = mapService.getProjection().getCode();\n    var style = void 0;\n    switch (data.type) {\n      case 'Point':\n      case 'MultiPoint':\n        style = [new ol.style.Style({\n          image: new ol.style.Circle({\n            radius: 6,\n            fill: new ol.style.Fill({\n              color: [255, 255, 255, 1.0]\n            }),\n            stroke: new ol.style.Stroke({\n              color: [0, 0, 0, 1.0],\n              width: 2\n            })\n          })\n        }), new ol.style.Style({\n          image: new ol.style.Circle({\n            radius: 2,\n            fill: new ol.style.Fill({\n              color: [255, 255, 255, 1.0]\n            }),\n            stroke: new ol.style.Stroke({\n              color: [0, 0, 0, 1.0],\n              width: 2\n            })\n          })\n        })];\n        break;\n      case 'Line':\n      case 'MultiLineString':\n      case 'Polygon':\n      case 'MultiPolygon':\n        style = new ol.style.Style({\n          fill: new ol.style.Fill({\n            color: 'rgba(255, 255, 255, 0.3)'\n          }),\n          stroke: new ol.style.Stroke({\n            color: [0, 0, 0, 1.0],\n            width: 2\n          })\n        });\n        break;\n    }\n    this.layer = new ol.layer.Vector({\n      source: new ol.source.Vector({\n        features: new ol.format.GeoJSON().readFeatures(data, {\n          featureProjection: mapProjection\n        })\n      }),\n      visible: !!this.visible,\n      style: style\n    });\n    mapService.getMap().addLayer(this.layer);\n  },\n  beforeDestroy: function beforeDestroy() {\n    var mapService = _gui2.default.getComponent('map').getService();\n    mapService.getMap().removeLayer(this.layer);\n  }\n}; /**\n    * @file\n    * @since v3.7\n    */\n\n},{\"services/gui\":358}],340:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mixins = exports.autocompleteMixin = exports.baseInputMixin = exports.metadataMixin = exports.widgetMixins = exports.formInputsMixins = exports.select2Mixin = exports.selectMixin = exports.resizeMixin = exports.geoMixin = exports.mediaMixin = exports.fieldsMixin = undefined;\n\nvar _autocomplete = require('mixins/autocomplete');\n\nvar _autocomplete2 = _interopRequireDefault(_autocomplete);\n\nvar _fields = require('mixins/fields');\n\nvar _fields2 = _interopRequireDefault(_fields);\n\nvar _media = require('mixins/media');\n\nvar _media2 = _interopRequireDefault(_media);\n\nvar _geo = require('mixins/geo');\n\nvar _geo2 = _interopRequireDefault(_geo);\n\nvar _resize = require('mixins/resize');\n\nvar _resize2 = _interopRequireDefault(_resize);\n\nvar _select = require('mixins/select');\n\nvar _select2 = _interopRequireDefault(_select);\n\nvar _select3 = require('mixins/select2');\n\nvar _select4 = _interopRequireDefault(_select3);\n\nvar _formInputs = require('mixins/form-inputs');\n\nvar _formInputs2 = _interopRequireDefault(_formInputs);\n\nvar _widget = require('mixins/widget');\n\nvar _widget2 = _interopRequireDefault(_widget);\n\nvar _metadata = require('mixins/metadata');\n\nvar _metadata2 = _interopRequireDefault(_metadata);\n\nvar _baseInput = require('mixins/base-input');\n\nvar _baseInput2 = _interopRequireDefault(_baseInput);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mixins = {\n  autocompleteMixin: _autocomplete2.default,\n  fieldsMixin: _fields2.default,\n  mediaMixin: _media2.default,\n  geoMixin: _geo2.default,\n  resizeMixin: _resize2.default,\n  selectMixin: _select2.default,\n  select2Mixin: _select4.default,\n  formInputsMixins: _formInputs2.default,\n  widgetMixins: _widget2.default,\n  metadataMixin: _metadata2.default,\n  baseInputMixin: _baseInput2.default\n}; /**\n    * @file\n    * @since v3.7\n    */\n\nexports.fieldsMixin = _fields2.default;\nexports.mediaMixin = _media2.default;\nexports.geoMixin = _geo2.default;\nexports.resizeMixin = _resize2.default;\nexports.selectMixin = _select2.default;\nexports.select2Mixin = _select4.default;\nexports.formInputsMixins = _formInputs2.default;\nexports.widgetMixins = _widget2.default;\nexports.metadataMixin = _metadata2.default;\nexports.baseInputMixin = _baseInput2.default;\nexports.autocompleteMixin = _autocomplete2.default;\nexports.mixins = mixins;\nexports.default = mixins;\n\n},{\"mixins/autocomplete\":335,\"mixins/base-input\":336,\"mixins/fields\":337,\"mixins/form-inputs\":338,\"mixins/geo\":339,\"mixins/media\":341,\"mixins/metadata\":342,\"mixins/resize\":343,\"mixins/select\":344,\"mixins/select2\":345,\"mixins/widget\":346}],341:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  computed: {\n    filename: function filename() {\n      return this.value ? this.value.split('/').pop() : this.value;\n    }\n  },\n  methods: {\n    isMedia: function isMedia(value) {\n      if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.constructor === Object) return !!value.mime_type;\n      return false;\n    },\n    getMediaType: function getMediaType(mime_type) {\n      var media = {\n        type: null,\n        options: {}\n      };\n      switch (mime_type) {\n        case 'image/gif':\n        case 'image/png':\n        case 'image/jpeg':\n        case 'image/bmp':\n          media.type = 'image';\n          break;\n        case 'application/pdf':\n          media.type = 'pdf';\n          break;\n        case 'video/mp4':\n        case 'video/ogg':\n        case 'video/x-ms-wmv':\n        case 'video/x-msvideo':\n        case 'video/quicktime':\n          media.type = 'video';\n          media.options.format = mime_type;\n          break;\n        case 'application/gzip':\n        case 'application/zip':\n          media.type = 'zip';\n          break;\n        case 'application/msword':\n        case 'application/vnd.oasis.opendocument.text':\n          media.type = 'text';\n          break;\n        case 'application/vnd.ms-office':\n        case 'application/vnd.oasis.opendocument.spreadsheet':\n          media.type = 'excel';\n          break;\n        case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':\n        case 'application/vnd.ms-powerpoint':\n        case 'application/vnd.oasis.opendocument.presentation':\n          media.type = 'ppt';\n          break;\n        default:\n          media.type = 'unknow';\n      }\n      return media;\n    }\n  }\n};\n\n},{}],342:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  methods: {\n    findAttributeFormMetadataAttribute: function findAttributeFormMetadataAttribute(name) {\n      return this.state.metadata ? this.state.metadata[name] !== undefined : false;\n    },\n    findMetadataAttribute: function findMetadataAttribute(name) {\n      return this.state[name] !== undefined;\n    }\n  }\n};\n\n},{}],343:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle,\n    debounce = _require.debounce;\n\nvar DELAY_TYPE = {\n  throttle: throttle,\n  debounce: debounce\n};\n\nexports.default = {\n  created: function created() {\n    var delayWrapper = this.delayType && DELAY_TYPE[this.delayType] || DELAY_TYPE.throttle;\n    this.delayResize = this.resize ? delayWrapper(this.resize.bind(this), this.delayTime) : null;\n    _gui2.default.on('resize', this.delayResize);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.resize && this.resize();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    _gui2.default.off('resize', this.delayResize);\n    this.delayResize = null;\n    this.delayTime = null;\n  }\n};\n\n},{\"core/utils/utils\":67,\"services/gui\":358}],344:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    getAppLanguage = _require.getAppLanguage;\n\nexports.default = {\n  methods: {\n    getLanguage: function getLanguage() {\n      return getAppLanguage();\n    },\n    changeSelect: function changeSelect(value) {\n      this.state.value = value === 'null' ? null : value;\n      this.change();\n    },\n    getValue: function getValue(value) {\n      return value === null ? 'null' : value;\n    },\n    resetValues: function resetValues() {\n      this.state.input.options.values.splice(0);\n    }\n  },\n  computed: {\n    autocomplete: function autocomplete() {\n      return this.state.input.type === 'select_autocomplete' && this.state.input.options.usecompleter;\n    }\n  },\n  watch: {\n    notvalid: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(value) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                if (this.select2) value ? this.select2.data('select2').$container.addClass(\"input-error-validation\") : this.select2.data('select2').$container.removeClass(\"input-error-validation\");\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function notvalid(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return notvalid;\n    }()\n  }\n};\n\n},{\"core/i18n/i18n.service\":13}],345:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _resize = require('mixins/resize');\n\nvar _resize2 = _interopRequireDefault(_resize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  mixins: [_resize2.default],\n  methods: {\n    setValue: function setValue() {\n      this.select2.val(this.state.value).trigger('change');\n    },\n    resize: function resize() {\n      this.select2 && !_applicationState2.default.ismobile && this.select2.select2('close');\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    //destroy a select2  dom element\n    this.select2 && this.select2.select2('destroy');\n    // remove all event\n    this.select2.off();\n    this.select2 = null;\n  }\n};\n\n},{\"mixins/resize\":343,\"store/application-state\":370}],346:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  data: function data() {\n    return {\n      changed: false\n    };\n  },\n\n  methods: {\n    widgetChanged: function widgetChanged() {\n      this.changed = true;\n      this.change();\n    },\n    stateValueChanged: function stateValueChanged(value) {\n      console.log('need to be implemented by widget'); // method to overwrite\n    }\n  },\n  watch: {\n    'state.value': function stateValue(value) {\n      this.changed ? this.changed = false : this.stateValueChanged(value);\n    }\n  }\n};\n\n},{}],347:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    reject = _require.reject;\n\nvar G3WObject = require('core/g3wobject');\n\n// Class Api Service\nfunction ApiService() {\n  this._config = null;\n  this._baseUrl = null;\n  this.init = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var d = $.Deferred();\n    this._config = config;\n    // prende l'url base delle api dal config dell'applicazione\n    this._baseUrl = config.urls.api;\n    this._apiEndpoints = config.urls.apiEndpoints;\n    d.resolve();\n    return d.promise();\n  };\n  var howManyAreLoading = 0;\n  this._incrementLoaders = function () {\n    howManyAreLoading === 0 && this.emit('apiquerystart');\n    howManyAreLoading += 1;\n  };\n\n  this._decrementLoaders = function () {\n    howManyAreLoading -= 1;\n    howManyAreLoading === 0 && this.emit('apiqueryend');\n  };\n  this.get = function (api, options) {\n    var _this = this;\n\n    var apiEndPoint = this._apiEndpoints[api];\n    if (apiEndPoint) {\n      var completeUrl = this._baseUrl + '/' + apiEndPoint;\n      if (options.request) completeUrl = completeUrl + '/' + options.request;\n      var params = options.params || {};\n      this.emit(api + 'querystart');\n      this._incrementLoaders();\n      return $.get(completeUrl, params).done(function (response) {\n        _this.emit(api + 'queryend', response);\n        return response;\n      }).fail(function (error) {\n        _this.emit(api + 'queryfail', error);\n        return error;\n      }).always(function () {\n        return _this._decrementLoaders();\n      });\n    } else return reject();\n  };\n  base(this);\n}\n\ninherit(ApiService, G3WObject);\n\nexports.default = new ApiService();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],348:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _config = require('config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _constant = require('app/constant');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _api = require('services/api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _clipboard = require('services/clipboard');\n\nvar _clipboard2 = _interopRequireDefault(_clipboard);\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/i18n/i18n.service'),\n    i18ninit = _require.init,\n    changeLanguage = _require.changeLanguage;\n\nvar _require2 = require('core/utils/utils'),\n    base = _require2.base,\n    inherit = _require2.inherit,\n    XHR = _require2.XHR,\n    uniqueId = _require2.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\n//Manage Application\nvar ApplicationService = function ApplicationService() {\n  var _this = this;\n\n  this.version = _constant.APP_VERSION;\n  _applicationState2.default.iframe = window.top !== window.self;\n  _applicationState2.default.online = navigator.onLine;\n  _applicationState2.default.ismobile = isMobile.any;\n  this.complete = false;\n  this.baseurl = '/'; // set base url\n  this.download_caller_id = null;\n  // store all services sidebar etc..\n  this._applicationServices = {};\n  this.config = {};\n  this._initConfigUrl = null;\n  this._initConfig = null;\n  this._groupId = null;\n  this._gid = null;\n  this.setters = {\n    changeProject: function changeProject() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          gid = _ref.gid,\n          host = _ref.host;\n\n      return this._changeProject({ gid: gid, host: host });\n    },\n    online: function online() {\n      this.setOnline();\n    },\n    offline: function offline() {\n      this.setOffline();\n    },\n    setFilterToken: function setFilterToken(filtertoken) {\n      this._setFilterToken(filtertoken);\n    }\n  };\n  base(this);\n  /*\n  * intiConfig as parameter\n  * */\n  this.on('initconfig', function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        user = _ref2.user;\n\n    // only user attribute is used\n    _this.setApplicationUser(user);\n  });\n  // init application\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var config, browserLanguage, language;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return this.createApplicationConfig();\n\n          case 3:\n            config = _context.sent;\n\n            this.setConfig(config);\n            this.setLayout('app', config.layout);\n            _context.next = 8;\n            return this.bootstrap();\n\n          case 8:\n            return _context.abrupt('return', _context.sent);\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context['catch'](0);\n            browserLanguage = navigator && navigator.language || 'en';\n            language = _config2.default.supportedLanguages.find(function (language) {\n              return browserLanguage.indexOf(language) !== -1;\n            });\n            return _context.abrupt('return', Promise.reject({\n              error: _context.t0,\n              language: language\n            }));\n\n          case 16:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[0, 11]]);\n  }));\n  /**\n   * setup Internationalization\n   */\n  this.setupI18n = function () {\n    var languageConfig = this._config._i18n;\n    languageConfig.appLanguages = this._config.i18n.map(function (languageLabel) {\n      return languageLabel[0];\n    });\n    this.setApplicationLanguage(languageConfig.language);\n    //setup internationalization for translation\n    i18ninit(languageConfig);\n    this._groupId = this._config.group.slug || this._config.group.name.replace(/\\s+/g, '-').toLowerCase();\n    // set accept-language reuest header based on config language\n    var userLanguage = this._config.user.i18n || 'en';\n    $.ajaxSetup({\n      beforeSend: function beforeSend(jqXHR) {\n        jqXHR.setRequestHeader('Accept-Language', userLanguage);\n      }\n    });\n  };\n\n  this.getCurrentProject = function () {\n    return _projects2.default.getCurrentProject();\n  };\n\n  /**\n   *\n   * @param bool\n   * @param download_caller_id\n   * @returns {null}\n   */\n  this.setDownload = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var download_caller_id = arguments[1];\n\n    if (download_caller_id) {\n      if (!bool && download_caller_id && this.download_caller_id === download_caller_id) {\n        _applicationState2.default.download = false;\n        this.download_caller_id = null;\n      } else if (bool && this.download_caller_id === null) {\n        _applicationState2.default.download = bool;\n        this.download_caller_id = uniqueId();\n      }\n    } else _applicationState2.default.download = bool;\n    return this.download_caller_id;\n  };\n\n  this.getDownload = function () {\n    return _applicationState2.default.download;\n  };\n\n  this.loadingPlugin = function (plugin) {\n    _applicationState2.default.plugins.push(plugin);\n  };\n\n  /*\n  * plugin: name of plugin\n  * */\n  this.loadedPlugin = function (plugin) {\n    _applicationState2.default.plugins = _applicationState2.default.plugins.filter(function (_plugin) {\n      return _plugin !== plugin;\n    });\n  };\n\n  /*\n   *filtertoken methods\n  */\n\n  /**\n   * token is a string passed by server and used as parameter in XHR request\n   * @param filtertoken\n   * @private\n   */\n  this._setFilterToken = function (filtertoken) {\n    _applicationState2.default.tokens.filtertoken = filtertoken;\n  };\n\n  this.getFilterToken = function () {\n    return _applicationState2.default.tokens.filtertoken;\n  };\n\n  /**\n   *  filter token methods\n   */\n\n  this.changeLanguage = function (language) {\n    changeLanguage(language);\n    /**\n     * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n     */\n    _applicationState2.default.lng = language;\n    _applicationState2.default.language = language;\n    var pathname = window.location.pathname;\n    var pathArray = pathname.split('/');\n    pathArray[1] = language;\n    history.replaceState(null, null, pathArray.join('/'));\n  };\n\n  this.registerOnlineOfflineEvent = function () {\n    var _this2 = this;\n\n    this.registerWindowEvent({\n      evt: 'online',\n      cb: function cb() {\n        return _this2.online();\n      }\n    });\n\n    this.registerWindowEvent({\n      evt: 'offline',\n      cb: function cb() {\n        return _this2.offline();\n      }\n    });\n  };\n\n  this.getBaseLayerId = function () {\n    return _applicationState2.default.baseLayerId;\n  };\n\n  this.setBaseLayerId = function (baseLayerId) {\n    _applicationState2.default.baseLayerId = baseLayerId;\n  };\n\n  this.registerLeavePage = function () {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref4$bool = _ref4.bool,\n        bool = _ref4$bool === undefined ? false : _ref4$bool,\n        _ref4$message = _ref4.message,\n        message = _ref4$message === undefined ? '' : _ref4$message;\n\n    var _return = !bool ? undefined : bool;\n    window.onbeforeunload = function (event) {\n      return _return;\n    };\n  };\n\n  this.unregisterOnlineOfflineEvent = function () {\n    window.removeEventListener('online');\n    window.removeEventListener('offline');\n  };\n\n  this.getState = function () {\n    return _applicationState2.default;\n  };\n\n  this.disableApplication = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    _applicationState2.default.gui.app.disabled = bool;\n  };\n\n  this.setApplicationLanguage = function () {\n    var language = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'en';\n\n    /**\n     * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n     */\n    _applicationState2.default.lng = language;\n    _applicationState2.default.language = language;\n  };\n\n  this.getApplicationLanguage = function () {\n    return _applicationState2.default.language;\n  };\n\n  this.setOnline = function () {\n    _applicationState2.default.online = true;\n  };\n\n  this.setOffline = function () {\n    _applicationState2.default.online = false;\n  };\n\n  this.isOnline = function () {\n    return _applicationState2.default.online;\n  };\n\n  this.setOfflineItem = function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(id) {\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.setLocalItem({\n                id: id,\n                data: data\n              });\n\n            case 1:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x8) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  this.setLocalItem = function () {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        id = _ref6.id,\n        data = _ref6.data;\n\n    try {\n      var item = JSON.stringify(data);\n      window.localStorage.setItem(id, item);\n    } catch (error) {\n      return error;\n    }\n  };\n\n  this.removeLocalItem = function (id) {\n    window.localStorage.removeItem(id);\n  };\n\n  this.getLocalItem = function (id) {\n    var item = window.localStorage.getItem(id);\n    if (item) return JSON.parse(item);else return undefined;\n  };\n\n  this.getOfflineItem = function (id) {\n    return this.getLocalItem(id);\n  };\n\n  this.removeOfflineItem = function (id) {\n    this.removeLocalItem(id);\n  };\n\n  //check if is in Iframe\n  this.isIframe = function () {\n    return _applicationState2.default.iframe;\n  };\n\n  // get config\n  this.getConfig = function () {\n    return this._config;\n  };\n\n  this.setConfig = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this._config = config;\n  };\n\n  // router service\n  this.getRouterService = function () {\n    return _router2.default;\n  };\n\n  //application proxy url\n  this.getProxyUrl = function () {\n    return '' + this._initConfig.proxyurl;\n  };\n\n  /**\n   * Get Interface OWS Url\n   */\n  this.getInterfaceOwsUrl = function () {\n    return '' + this._initConfig.interfaceowsurl;\n  };\n\n  // clipboard service\n  this.getClipboardService = function () {\n    return _clipboard2.default;\n  };\n\n  /**\n   * Create application config object\n   * @param initConfig\n   * @returns {Promise<string|{terms_of_use_link, projects: ([{gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}], type: string}, {gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}, {qgs_layer_id: string, fields: [string]}, {qgs_layer_id: string, fields: [string]}], type: string}, {gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}, {qgs_layer_id: string, fields: [string]}], type: string}]|{gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}], type: string}|[]), maxscale: (null|ProjectsRegistry.setProjects.config.maxscale), mediaurl: *, plugins: *, mapcontrols: *, tools: *, resourcesurl: *, initproject, urls: *, credits: *, getWmsUrl(*): string, _i18n: ({resources: {se: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, fi: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, en: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, it: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {title: string, error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {zoom_to_features_extent: string, download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}}}|{resources: *}), views: (*|{}), group: *, vectorurl: *, debug: boolean, crs: *, apptitle: (string), header_custom_links, i18n: *, overviewproject: (*|null), layout: (*|{}), logo_img: *, baselayers: (string|vueComponentOptions.computed.baselayers|{count: number}|*), logo_link: *, background_color, terms_of_use_text: *, main_map_title: *, getProjectConfigUrl(*): string, user: (*|null), minscale: ProjectsRegistry.setProjects.config.minscale}>}\n   */\n  this.createApplicationConfig = function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(initConfig) {\n      var config;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              config = _extends({}, _config2.default);\n              _context3.prev = 1;\n\n              if (!initConfig) {\n                _context3.next = 6;\n                break;\n              }\n\n              _context3.t0 = initConfig;\n              _context3.next = 9;\n              break;\n\n            case 6:\n              _context3.next = 8;\n              return this.obtainInitConfig({\n                initConfigUrl: '' + _config2.default.server.urls.initconfig\n              });\n\n            case 8:\n              _context3.t0 = _context3.sent;\n\n            case 9:\n              initConfig = _context3.t0;\n\n              // write urls of static files and media url (base url and vector url)\n              this.baseurl = initConfig.baseurl;\n              config.server.urls.baseurl = initConfig.baseurl;\n              config.server.urls.frontendurl = initConfig.frontendurl;\n              config.server.urls.staticurl = initConfig.staticurl;\n              config.server.urls.clienturl = initConfig.staticurl + initConfig.client;\n              config.server.urls.mediaurl = initConfig.mediaurl;\n              config.server.urls.vectorurl = initConfig.vectorurl;\n              config.server.urls.proxyurl = initConfig.proxyurl;\n              config.server.urls.rasterurl = initConfig.rasterurl;\n              config.server.urls.interfaceowsurl = initConfig.interfaceowsurl;\n              config.main_map_title = initConfig.main_map_title;\n              config.group = initConfig.group;\n              config.user = initConfig.user;\n              config.credits = initConfig.credits;\n              config.i18n = initConfig.i18n;\n              // get language from server\n              config._i18n.language = config.user.i18n;\n              // create application configuration\n              // check if is inside a iframe\n              config.group.layout.iframe = window.top !== window.self;\n              return _context3.abrupt('return', {\n                apptitle: config.apptitle || '',\n                logo_img: config.group.header_logo_img,\n                logo_link: config.group.header_logo_link,\n                terms_of_use_text: config.group.header_terms_of_use_text,\n                terms_of_use_link: config.group.terms_of_use_link,\n                header_custom_links: config.group.header_custom_links,\n                debug: config.client.debug || false,\n                group: config.group,\n                urls: config.server.urls,\n                mediaurl: config.server.urls.mediaurl,\n                resourcesurl: config.server.urls.clienturl,\n                vectorurl: config.server.urls.vectorurl,\n                rasterurl: config.server.urls.rasterurl,\n                interfaceowsurl: config.server.urls.interfaceowsurl,\n                projects: config.group.projects,\n                initproject: config.group.initproject,\n                overviewproject: config.group.overviewproject && config.group.overviewproject.gid ? config.group.overviewproject : null,\n                baselayers: config.group.baselayers,\n                mapcontrols: config.group.mapcontrols,\n                background_color: config.group.background_color,\n                crs: config.group.crs,\n                minscale: config.group.minscale,\n                maxscale: config.group.maxscale,\n                main_map_title: config.main_map_title,\n                credits: config.credits,\n                _i18n: config._i18n,\n                i18n: config.i18n,\n                layout: config.group.layout || {},\n                // needed by ProjectService\n                getWmsUrl: function getWmsUrl(project) {\n                  return config.server.urls.baseurl + config.server.urls.ows + '/' + config.group.id + '/' + project.type + '/' + project.id + '/';\n                },\n\n                // needed by ProjectsRegistry to get informations about project configuration\n                getProjectConfigUrl: function getProjectConfigUrl(project) {\n                  return config.server.urls.baseurl + config.server.urls.config + '/' + config.group.id + '/' + project.type + '/' + project.id + '?_t=' + project.modified;\n                },\n\n                plugins: config.group.plugins,\n                tools: config.tools,\n                views: config.views || {},\n                user: config.user || null\n              });\n\n            case 30:\n              _context3.prev = 30;\n              _context3.t1 = _context3['catch'](1);\n              return _context3.abrupt('return', Promise.reject(_context3.t1));\n\n            case 33:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this, [[1, 30]]);\n    }));\n\n    return function (_x11) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  this.obtainInitConfig = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        initConfigUrl = _ref9.initConfigUrl,\n        url = _ref9.url,\n        host = _ref9.host;\n\n    var projectPath, locationsearch;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!this._initConfigUrl) this._initConfigUrl = initConfigUrl;else this.clearInitConfig();\n\n            // if exist a global initConfig\n            this._initConfig = window.initConfig;\n\n            projectPath = void 0;\n\n            // DEPRECATED: will be removed after v4.0\n\n            locationsearch = url ? url.split('?')[1] : location.search.substring(1);\n\n\n            if (locationsearch) {\n              //check if exist project in url\n              /**\n               * The way to extract project group,type and id\n               * Example http:localhost:3000/?project=3003/qdjango/1\n               * is deprecate\n               */\n              locationsearch.split('&').forEach(function (queryTuple) {\n                projectPath = queryTuple.indexOf(\"project\") > -1 ? queryTuple.split(\"=\")[1] : projectPath;\n              });\n\n              ///////////////////////////////////////////////////////////////////\n            } else if (this._gid) {\n              projectPath = this._groupId + '/' + this._gid.split(':').join('/');\n            }\n\n            _context4.prev = 5;\n\n            if (!projectPath) {\n              _context4.next = 10;\n              break;\n            }\n\n            _context4.next = 9;\n            return this.getInitConfig('' + (host || '') + this.baseurl + this._initConfigUrl + '/' + projectPath);\n\n          case 9:\n            this._initConfig = _context4.sent;\n\n          case 10:\n            _context4.next = 15;\n            break;\n\n          case 12:\n            _context4.prev = 12;\n            _context4.t0 = _context4['catch'](5);\n            return _context4.abrupt('return', Promise.reject(_context4.t0));\n\n          case 15:\n            _context4.prev = 15;\n\n            window.initConfig = this._initConfig;\n            this.emit('initconfig', this._initConfig);\n            this.setInitVendorKeys(this._initConfig);\n            return _context4.abrupt('return', Promise.resolve(this._initConfig));\n\n          case 21:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[5, 12, 15, 21]]);\n  }));\n\n  // method to get initial application configuration\n  this.getInitConfig = function (url) {\n    var _this3 = this;\n\n    return new Promise(function (resolve, reject) {\n      if (_this3._initConfig) resolve(_this3._initConfig);else XHR.get({ url: url }).then(function (initConfig) {\n        return resolve(initConfig);\n      }).catch(function (error) {\n        return reject(error);\n      });\n    });\n  };\n\n  this.getInitConfigUrl = function () {\n    return this._initConfigUrl;\n  };\n\n  this.setInitConfigUrl = function (initConfigUrl) {\n    this._initConfigUrl = initConfigUrl;\n  };\n\n  // post boostratp\n  this.postBootstrap = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            if (this.complete) {\n              _context5.next = 13;\n              break;\n            }\n\n            _context5.prev = 1;\n\n            _router2.default.init();\n            // once the projects are inizilized and also api service\n            // register  plugins\n            _context5.next = 5;\n            return this._bootstrapPlugins();\n\n          case 5:\n            _context5.next = 9;\n            break;\n\n          case 7:\n            _context5.prev = 7;\n            _context5.t0 = _context5['catch'](1);\n\n          case 9:\n            _context5.prev = 9;\n\n            this.complete = true;\n            this.emit('complete');\n            return _context5.finish(9);\n\n          case 13:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[1, 7, 9, 13]]);\n  }));\n\n  //boostrap plugins\n  this._bootstrapPlugins = function () {\n    return _plugins2.default.init({\n      pluginsBaseUrl: this._config.urls.staticurl,\n      pluginsConfigs: this._config.plugins,\n      otherPluginsConfig: _projects2.default.getCurrentProject().getState()\n    });\n  };\n\n  //set EPSG of Application is usefule for example to wms request for table layer\n  this.setEPSGApplication = function (project) {\n    _applicationState2.default.map.epsg = project.state.crs.epsg;\n  };\n\n  //Application User\n  this.setApplicationUser = function (user) {\n    _applicationState2.default.user = user;\n  };\n\n  this.getApplicationUser = function () {\n    return _applicationState2.default.user;\n  };\n\n  //  bootstrap (when called init)\n  this.bootstrap = function () {\n    var _this4 = this;\n\n    return new Promise(function (resolve, reject) {\n      // setup All i18n configuration\n      _this4.setupI18n();\n      // run Timeout\n      var timeout = setTimeout(function () {\n        reject('Timeout');\n      }, _constant.TIMEOUT);\n      //first time l'application service is not ready\n      if (!_applicationState2.default.ready) {\n        $.when(\n        // register project\n        _projects2.default.init(_this4._config),\n        // inizialize api service\n        _api2.default.init(_this4._config)).then(function () {\n          // clear TIMEOUT\n          clearTimeout(timeout);\n          //clear\n          _this4.registerOnlineOfflineEvent();\n          _this4.emit('ready');\n          _applicationState2.default.ready = _this4.initialized = true;\n          // set current project gid\n          var project = _projects2.default.getCurrentProject();\n          _this4._gid = project.getGid();\n          //sett\n          _this4.setEPSGApplication(project);\n          //IFRAME CHECK\n          _applicationState2.default.iframe && _this4.startIFrameService({\n            project: project\n          });\n          // initialize data router service\n          _data2.default.init();\n          // init Local Items for the user\n          _this4.initLocalItems();\n          resolve(true);\n        }).fail(function (error) {\n          return reject(error);\n        });\n      }\n    });\n  };\n\n  //iframeservice\n  this.startIFrameService = function () {\n    var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        project = _ref11.project;\n\n    var iframeService = require('core/iframe/routerservice');\n    iframeService.init({ project: project });\n  };\n\n  this.registerWindowEvent = function () {\n    var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        evt = _ref12.evt,\n        cb = _ref12.cb;\n\n    window.addEventListener(evt, cb);\n  };\n\n  this.unregisterWindowEvent = function () {\n    var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        evt = _ref13.evt,\n        cb = _ref13.cb;\n\n    window.removeEventListener(evt, cb);\n  };\n\n  this.registerService = function (element, service) {\n    this._applicationServices[element] = service;\n  };\n\n  this.unregisterService = function (element) {\n    delete this._applicationServices[element];\n  };\n\n  this.getApplicationService = function (type) {\n    return this._applicationServices[type];\n  };\n\n  this.getService = function (element) {\n    return this._applicationServices[element];\n  };\n\n  this.errorHandler = function (error) {};\n\n  /**\n   * clear initConfig\n   */\n  this.clearInitConfig = function () {\n    window.initConfig = this._initConfig = null;\n  };\n\n  this.setInitVendorKeys = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var vendorkeys = config.group.vendorkeys || {};\n    config.group.baselayers.forEach(function (baselayer) {\n      if (baselayer.apikey) {\n        var type = baselayer.servertype ? baselayer.servertype.toLowerCase() : null;\n        vendorkeys[type] = baselayer.apikey;\n      }\n    });\n    this.setVendorKeys(vendorkeys);\n  };\n\n  this.setVendorKeys = function () {\n    var keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    Object.keys(keys).forEach(function (key) {\n      return _applicationState2.default.keys.vendorkeys[key] = keys[key];\n    });\n  };\n\n  // change View\n  this.changeProjectView = function (change) {\n    _applicationState2.default.changeProjectview = change;\n  };\n\n  this.isProjectViewChanging = function () {\n    return _applicationState2.default.changeProjectview;\n  };\n\n  this.reloadCurrentProject = function () {\n    return this.changeProject({\n      gid: _projects2.default.getCurrentProject().getGid()\n    });\n  };\n\n  /**\n   * Change project method that do all request and rebuild interface\n   * @param gid\n   * @param host\n   * @returns {JQuery.Promise<any, any, any>}\n   * @private\n   */\n  this._changeProject = function () {\n    var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        gid = _ref14.gid,\n        host = _ref14.host;\n\n    var d = $.Deferred();\n    this._gid = gid;\n    var projectUrl = _projects2.default.getProjectUrl(gid);\n    var url = _gui2.default.getService('map').addMapExtentUrlParameterToUrl(projectUrl);\n    history.replaceState(null, null, url);\n    location.replace(url);\n    d.resolve();\n    return d.promise();\n  };\n\n  /**\n   * Layout section\n   */\n\n  this.setLayout = function () {\n    var who = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    /**\n     * Set default height percentage of height when show vertical content (for example show table attribute)\n     * @type {{}}\n     */\n    if (config.rightpanel) {\n      config.rightpanel.width = config.rightpanel.width || 50;\n      config.rightpanel.height = config.rightpanel.height || 50;\n      config.rightpanel.width_default = config.rightpanel.width; // used eventually to reset starting values\n      config.rightpanel.height_default = config.rightpanel.height;\n      config.rightpanel.width_100 = false;\n      config.rightpanel.height_100 = false;\n    } else config.rightpanel = { width: 50, height: 50, width_default: 50, height_default: 50, width_100: false, height_100: false };\n    _applicationState2.default.gui.layout[who] = config;\n  };\n\n  this.removeLayout = function (who) {\n    who && delete _applicationState2.default.gui.layout[who];\n  };\n\n  this.setCurrentLayout = function () {\n    var who = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n\n    _applicationState2.default.gui.layout.__current = who;\n  };\n\n  this.getCurrentLayout = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current];\n  };\n\n  this.getCurrentLayoutName = function () {\n    return _applicationState2.default.gui.layout.__current;\n  };\n\n  this.cloneLayout = function () {\n    var which = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n\n    return JSON.parse(JSON.stringify(_applicationState2.default.gui.layout[which]));\n  };\n\n  /**\n   * Layout section\n   */\n\n  this.clear = function () {\n    this.unregisterOnlineOfflineEvent();\n  };\n\n  /**\n   * Method to initialize local items if not initialize\n   * each item has id (unique identifier)\n   * and value (for initial value)\n   * @since v3.8\n   */\n  this.initLocalItems = function () {\n    var _this5 = this;\n\n    Object.keys(_constant.LOCAL_ITEM_IDS).forEach(function (id) {\n      if (\"undefined\" === typeof _this5.getLocalItem(id)) {\n        _this5.setLocalItem({\n          id: id,\n          data: _constant.LOCAL_ITEM_IDS[id].value\n        });\n      }\n    });\n  };\n};\n\ninherit(ApplicationService, G3WObject);\n\nexports.default = new ApplicationService();\n\n},{\"app/constant\":4,\"config\":3,\"core/g3wobject\":12,\"core/i18n/i18n.service\":13,\"core/iframe/routerservice\":14,\"core/utils/utils\":67,\"services/api\":347,\"services/clipboard\":349,\"services/data\":355,\"services/gui\":358,\"services/router\":365,\"store/application-state\":370,\"store/plugins\":375,\"store/projects\":376}],349:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\nfunction ClipboardService() {\n  this._data = {};\n  this.set = function (formId, data) {\n    var formLayer = formId.split('form')[0];\n    this._data[formLayer] = data;\n  };\n\n  this.get = function (formLayer) {\n    var data = this._data[formLayer] || {};\n    this._data[formLayer] = {};\n    return data;\n  };\n}\n\nexports.default = new ClipboardService();\n\n},{}],350:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar BaseService = require('core/data/service');\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    getFeaturesFromResponseVectorApi = _require2.getFeaturesFromResponseVectorApi;\n\nfunction ExpressionService() {\n\n  base(this);\n\n  /**\n   * POST only: accepts\n   * \n   * Mandatory JSON body: expression\n   * Optional JSON body: form_data and qgs_layer_id (QGIS layer id)\n   * \n   * @param params.qgis_layer_id layer id owner of the form data\n   * @param params.layer_id      layer owner of the data\n   * @param params.form_data\n   * @param params.field_name    since 3.8.0\n   * @param params.expression\n   * @param params.formatter\n   * @param params.parent\n   * \n   * @returns { Promise<void> }\n   */\n  this.expression = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.t0 = this;\n            _context.next = 4;\n            return this.handleRequest({\n              url: '' + this.project.getUrl('vector_data') + params.layer_id + '/',\n              params: params\n            });\n\n          case 4:\n            _context.t1 = _context.sent;\n            return _context.abrupt('return', _context.t0.handleResponse.call(_context.t0, _context.t1));\n\n          case 8:\n            _context.prev = 8;\n            _context.t2 = _context['catch'](0);\n            return _context.abrupt('return', Promise.reject(_context.t2));\n\n          case 11:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[0, 8]]);\n  }));\n\n  /**\n   * POST only method to return QGIS Expressions evaluated in Project an optional Layer/Form context\n   *\n   * Mandatory JSON body: expression\n   * Optional JSON body: form_data and qgs_layer_id (QGIS layer id)\n   * \n   * @param params.layer_id\n   * @param params.qgis_layer_id\n   * @param params.form_data\n   * @param params.field_name    since 3.8.0\n   * @param params.expression\n   * @param params.formatter\n   * @param params.parent\n   * \n   * @returns { Promise<void> }\n   */\n  this.expression_eval = function () {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return this.handleRequest({\n      url: this.project.getUrl('expression_eval'),\n      params: params\n    });\n  };\n\n  /**\n   * Handle server request\n   * \n   * @param url\n   * @param params\n   * @param contentType\n    * @returns { Promise<*> }\n   */\n  this.handleRequest = function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref2.url,\n        _ref2$params = _ref2.params,\n        params = _ref2$params === undefined ? {} : _ref2$params,\n        _ref2$contentType = _ref2.contentType,\n        contentType = _ref2$contentType === undefined ? 'application/json' : _ref2$contentType;\n\n    return XHR.post({ url: url, contentType: contentType, data: JSON.stringify(params) });\n  };\n\n  /**\n   * Handle server response\n   * \n   * @param response\n   */\n  this.handleResponse = function () {\n    var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return getFeaturesFromResponseVectorApi(response);\n  };\n}\n\ninherit(ExpressionService, BaseService);\n\nexports.default = new ExpressionService();\n\n},{\"core/data/service\":5,\"core/utils/geo\":64,\"core/utils/utils\":67}],351:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar BaseService = require('core/data/service');\n\nfunction OWSService() {\n  base(this);\n  /**\n   *\n   * @param params\n   * @returns {Promise<{data: string, response: *}>}\n   */\n  this.wmsCapabilities = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref2.url;\n\n    var owsUrl, params, data, response;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            owsUrl = '' + _application2.default.getInterfaceOwsUrl();\n            _context.prev = 1;\n            params = {\n              url: url,\n              service: \"wms\"\n            };\n            data = JSON.stringify(params);\n            _context.next = 6;\n            return XHR.post({\n              url: owsUrl,\n              contentType: 'application/json',\n              data: data\n            });\n\n          case 6:\n            response = _context.sent;\n            return _context.abrupt('return', response);\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context['catch'](1);\n            return _context.abrupt('return');\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[1, 10]]);\n  }));\n}\n\ninherit(OWSService, BaseService);\n\nexports.default = new OWSService();\n\n},{\"core/data/service\":5,\"core/utils/utils\":67,\"services/application\":348}],352:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar BaseService = require('core/data/service');\n\nfunction ProxyService() {\n  base(this);\n  /**\n   *\n   * @param data: Object conitans data to pass to proxy\n   * @returns {Promise<{data: string, response: *}>}\n   */\n  this.wms = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref2.url,\n        _ref2$method = _ref2.method,\n        method = _ref2$method === undefined ? 'GET' : _ref2$method,\n        _ref2$params = _ref2.params,\n        params = _ref2$params === undefined ? {} : _ref2$params,\n        _ref2$headers = _ref2.headers,\n        headers = _ref2$headers === undefined ? {} : _ref2$headers;\n\n    var proxyUrl, data, response;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            proxyUrl = '' + _application2.default.getProxyUrl();\n\n            if (method === 'GET') {\n              url = new URL(url);\n              Object.keys(params).forEach(function (param) {\n                return url.searchParams.set(param, params[param]);\n              });\n              url = url.toString();\n            }\n            _context.prev = 2;\n            data = JSON.stringify({\n              url: url,\n              params: params,\n              headers: headers,\n              method: method\n            });\n            _context.next = 6;\n            return XHR.post({\n              url: proxyUrl,\n              contentType: 'application/json',\n              data: data\n            });\n\n          case 6:\n            response = _context.sent;\n            return _context.abrupt('return', {\n              response: response,\n              data: data\n            });\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context['catch'](2);\n            return _context.abrupt('return');\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[2, 10]]);\n  }));\n\n  /**\n   * Generic proxy data function\n   * @param params\n   */\n  this.data = function () {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  };\n}\n\ninherit(ProxyService, BaseService);\n\nexports.default = new ProxyService();\n\n},{\"core/data/service\":5,\"core/utils/utils\":67,\"services/application\":348}],353:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file\n                                                                                                                                                                                                                                                                   * @since v3.6\n                                                                                                                                                                                                                                                                   */\n\nvar _constant = require('app/constant');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar BaseService = require('core/data/service');\n\nvar _require3 = require('core/utils/geo'),\n    getQueryLayersPromisesByCoordinates = _require3.getQueryLayersPromisesByCoordinates,\n    getQueryLayersPromisesByGeometry = _require3.getQueryLayersPromisesByGeometry,\n    getQueryLayersPromisesByBBOX = _require3.getQueryLayersPromisesByBBOX,\n    getMapLayersByFilter = _require3.getMapLayersByFilter;\n\nfunction QueryService() {\n  base(this);\n  /**\n   *\n   * @type {{filtrable: {ows: string}}}\n   */\n  this.condition = {\n    filtrable: {\n      ows: 'WFS'\n    }\n  };\n\n  /**\n   * @param {{ feature: unknown, feature_count: unknown, filterConfig: unknown, multilayers: boolean, condition: boolean, excludeLayers: unknown[] }}\n   * \n   * @returns {Promise<unknown>}\n   */\n  this.polygon = function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref.feature,\n        _ref$feature_count = _ref.feature_count,\n        feature_count = _ref$feature_count === undefined ? this.project.getQueryFeatureCount() : _ref$feature_count,\n        _ref$filterConfig = _ref.filterConfig,\n        filterConfig = _ref$filterConfig === undefined ? {} : _ref$filterConfig,\n        _ref$multilayers = _ref.multilayers,\n        multilayers = _ref$multilayers === undefined ? false : _ref$multilayers,\n        _ref$condition = _ref.condition,\n        condition = _ref$condition === undefined ? this.condition : _ref$condition,\n        _ref$layerName = _ref.layerName,\n        layerName = _ref$layerName === undefined ? '' : _ref$layerName,\n        _ref$excludeSelected = _ref.excludeSelected,\n        excludeSelected = _ref$excludeSelected === undefined ? null : _ref$excludeSelected,\n        _ref$external = _ref.external,\n        external = _ref$external === undefined ? {\n      add: true,\n      filter: {\n        SELECTED: false\n      }\n    } : _ref$external;\n\n    var hasExternalLayersSelected = this.hasExternalLayerSelected({ type: \"vector\" });\n    var fid = hasExternalLayersSelected ? feature.getId() : feature.get(_constant.G3W_FID);\n    var geometry = feature.getGeometry();\n\n    // in case no geometry on polygon layer response\n    if (!geometry) {\n      return this.returnExceptionResponse({\n        usermessage: {\n          type: 'warning',\n          message: layerName + ' - ' + t('sdk.mapcontrols.querybypolygon.no_geometry'),\n          messagetext: true,\n          autoclose: false\n        }\n      });\n    }\n    return this.handleRequest(\n    // request\n    getQueryLayersPromisesByGeometry(\n    // layers\n    getMapLayersByFilter(_extends({}, \"boolean\" === typeof excludeSelected ? { SELECTED: !excludeSelected } : { SELECTED_OR_ALL: true }, {\n      FILTERABLE: true,\n      VISIBLE: true\n    }), condition),\n    // options\n    {\n      geometry: geometry,\n      multilayers: multilayers,\n      feature_count: feature_count,\n      filterConfig: filterConfig,\n      projection: this.project.getProjection()\n    }),\n    // query\n    {\n      fid: fid,\n      geometry: geometry,\n      layerName: layerName,\n      type: 'polygon',\n      filterConfig: filterConfig,\n      external: external\n    });\n  };\n\n  /**\n   *\n   * @param bbox\n   * @param feature_count\n   * @param multilayers\n   * @param condition\n   * @param layersFilterObject\n   * @returns {Promise<unknown>}\n   */\n  this.bbox = function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        bbox = _ref2.bbox,\n        _ref2$feature_count = _ref2.feature_count,\n        feature_count = _ref2$feature_count === undefined ? this.project.getQueryFeatureCount() : _ref2$feature_count,\n        _ref2$filterConfig = _ref2.filterConfig,\n        filterConfig = _ref2$filterConfig === undefined ? {} : _ref2$filterConfig,\n        _ref2$multilayers = _ref2.multilayers,\n        multilayers = _ref2$multilayers === undefined ? false : _ref2$multilayers,\n        _ref2$condition = _ref2.condition,\n        condition = _ref2$condition === undefined ? this.condition : _ref2$condition,\n        _ref2$excludeSelected = _ref2.excludeSelected,\n        excludeSelected = _ref2$excludeSelected === undefined ? null : _ref2$excludeSelected,\n        _ref2$addExternal = _ref2.addExternal,\n        addExternal = _ref2$addExternal === undefined ? true : _ref2$addExternal,\n        _ref2$layersFilterObj = _ref2.layersFilterObject,\n        layersFilterObject = _ref2$layersFilterObj === undefined ? { SELECTED_OR_ALL: true, FILTERABLE: true, VISIBLE: true } : _ref2$layersFilterObj;\n\n    var hasExternalLayersSelected = this.hasExternalLayerSelected({ type: \"vector\" });\n    var query = {\n      bbox: bbox,\n      type: 'bbox',\n      filterConfig: filterConfig,\n      external: {\n        add: addExternal,\n        filter: {\n          SELECTED: hasExternalLayersSelected || ('boolean' == typeof excludeSelected ? excludeSelected : false)\n        }\n      }\n    };\n\n    // Check If LayerIds is length === 0 so i check if add external Layer is selected\n    if (hasExternalLayersSelected) {\n      return this.handleRequest(this.getEmptyRequest(), query);\n    }\n\n    return this.handleRequest(\n    //request\n    getQueryLayersPromisesByBBOX(\n    // layers\n    getMapLayersByFilter(layersFilterObject, condition),\n    //options\n    {\n      bbox: bbox,\n      feature_count: feature_count,\n      filterConfig: filterConfig,\n      multilayers: multilayers\n    }),\n    // query\n    query);\n  };\n\n  /**\n   * @param {{ coordinates: unknown, layerIds: unknown[], multilayers: boolean, query_point_tolerance: number, feature_count: number }}\n   * \n   * @returns {Promise<unknown>}\n   */\n  this.coordinates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        coordinates = _ref4.coordinates,\n        _ref4$layerIds = _ref4.layerIds,\n        layerIds = _ref4$layerIds === undefined ? [] : _ref4$layerIds,\n        _ref4$multilayers = _ref4.multilayers,\n        multilayers = _ref4$multilayers === undefined ? false : _ref4$multilayers,\n        _ref4$query_point_tol = _ref4.query_point_tolerance,\n        query_point_tolerance = _ref4$query_point_tol === undefined ? _constant.QUERY_POINT_TOLERANCE : _ref4$query_point_tol,\n        _ref4$addExternal = _ref4.addExternal,\n        addExternal = _ref4$addExternal === undefined ? true : _ref4$addExternal,\n        feature_count = _ref4.feature_count;\n\n    var hasExternalLayersSelected, query, layersFilterObject, layers;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            hasExternalLayersSelected = this.hasExternalLayerSelected({ type: \"vector\" });\n            query = {\n              coordinates: coordinates,\n              type: 'coordinates',\n              external: {\n                add: addExternal,\n                filter: {\n                  SELECTED: hasExternalLayersSelected\n                }\n              }\n            };\n\n            // Return an empty request if an external layer is selected\n\n            if (!(hasExternalLayersSelected && 0 === layerIds.length)) {\n              _context.next = 4;\n              break;\n            }\n\n            return _context.abrupt('return', this.handleRequest(this.getEmptyRequest(), query));\n\n          case 4:\n            layersFilterObject = {\n              QUERYABLE: true,\n              SELECTED_OR_ALL: 0 === layerIds.length,\n              VISIBLE: true\n            };\n\n\n            if (Array.isArray(layerIds)) {\n              layerIds.forEach(function (id) {\n                if (!layersFilterObject.IDS) layersFilterObject.IDS = [];\n                layersFilterObject.IDS.push(id);\n              });\n            }\n\n            layers = getMapLayersByFilter(layersFilterObject);\n\n            // set external property `add: false` in case\n            // of selected layer in order to avoid querying\n            // a temporary layer (external layer)\n\n            if (1 === layers.length && layers[0].isSelected()) {\n              query.external.add = false;\n            }\n\n            return _context.abrupt('return', this.handleRequest(\n            // request\n            getQueryLayersPromisesByCoordinates(\n            // layers\n            layers,\n            // options\n            {\n              multilayers: multilayers,\n              feature_count: feature_count,\n              query_point_tolerance: query_point_tolerance,\n              coordinates: coordinates\n            }),\n            // query\n            query));\n\n          case 9:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  /**\n   *\n   * @param request is a Promise(jquery promise at moment\n   * @returns {Promise<unknown>}\n   */\n  this.handleRequest = function (request) {\n    var _this = this;\n\n    var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return new Promise(function (resolve, reject) {\n      request.then(function (response) {\n        var results = _this.handleResponse(response, query);\n        resolve(results);\n      }).fail(reject);\n    });\n  };\n\n  /**\n   *\n   * @param response\n   * @returns {Promise<{result: boolean, data: [], query: (*|null)}>}\n   */\n  this.handleResponse = function (response) {\n    var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var layersResults = response;\n    var results = {\n      query: query,\n      type: 'ows',\n      data: [],\n      result: true // set result to true\n    };\n    layersResults.forEach(function (result) {\n      return result.data && result.data.forEach(function (data) {\n        return results.data.push(data);\n      });\n    });\n    return results;\n  };\n\n  /**\n   * Exception response has user message attribute\n   */\n  this.returnExceptionResponse = function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_ref5) {\n      var usermessage = _ref5.usermessage;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt('return', {\n                data: [],\n                usermessage: usermessage,\n                result: true,\n                error: true\n              });\n\n            case 1:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n}\n\ninherit(QueryService, BaseService);\n\nexports.default = new QueryService();\n\n},{\"app/constant\":4,\"core/data/service\":5,\"core/i18n/i18n.service\":13,\"core/utils/geo\":64,\"core/utils/utils\":67}],354:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('core/utils/geo'),\n    createOlFeatureFromApiResponseFeature = _require2.createOlFeatureFromApiResponseFeature;\n\nvar BaseService = require('core/data/service');\n\nfunction SearchService() {\n  base(this);\n  // method to searchfeature features\n  this.features = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { layer: layer, search_endpoint: search_endpoint, filter: filter, raw: false, queryUrl: queryUrl, feature_count: feature_count, ordering: ordering };\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt('return', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var promisesSearch, layer, params, _options$raw, raw, filter, dataSearch, layers, provider, promise, responses;\n\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      promisesSearch = [];\n                      layer = options.layer, params = _objectWithoutProperties(options, ['layer']);\n                      _options$raw = options.raw, raw = _options$raw === undefined ? false : _options$raw, filter = options.filter;\n                      dataSearch = {\n                        data: [],\n                        query: {\n                          type: 'search',\n                          search: filter\n                        },\n                        type: params.search_endpoint\n                      };\n                      // check if layer is array\n\n                      layers = Array.isArray(layer) ? layer : [layer];\n                      //check if filter is array\n\n                      params.filter = Array.isArray(params.filter) ? params.filter : [params.filter];\n                      // if api or ows search_endpoint\n                      if (params.search_endpoint === 'api') layers.forEach(function (layer, index) {\n                        return promisesSearch.push(layer.searchFeatures(_extends({}, params, {\n                          filter: params.filter[index]\n                        })));\n                      });else {\n                        // need to get query provider for get one request only\n                        provider = layers[0].getProvider('search');\n                        promise = new Promise(function (resolve, reject) {\n                          provider.query(_extends({}, params, {\n                            layers: layers\n                          }, layers[0].getSearchParams()) // nee to get search params\n                          ).then(function (data) {\n                            resolve({\n                              data: data\n                            });\n                          }).fail(reject);\n                        });\n\n                        promisesSearch.push(promise);\n                      }\n                      _context.next = 9;\n                      return Promise.allSettled(promisesSearch);\n\n                    case 9:\n                      responses = _context.sent;\n\n                      responses.forEach(function () {\n                        var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                            status = _ref3.status,\n                            value = _ref3.value;\n\n                        // need to filter only fulfilled response\n                        if (status === 'fulfilled') {\n                          if (raw) {\n                            dataSearch.data.push(params.search_endpoint === 'api' ? {\n                              data: value\n                            } : value);\n                          } else {\n                            var _value$data = value.data,\n                                data = _value$data === undefined ? [] : _value$data;\n\n                            params.search_endpoint === 'api' ? data.length && dataSearch.data.push(data[0]) : dataSearch.data = data;\n                          }\n                        }\n                      });\n                      return _context.abrupt('return', dataSearch);\n\n                    case 12:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, this);\n            }))());\n\n          case 1:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  /**\n   * Method to return feature from api\n   * @param layer\n   * @param fid\n   * @returns {Promise<{data: [], layer}|{data: [{features: ([*]|[]), query: {type: string}, layer: *}]}>}\n   */\n  this.fids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref5.layer,\n        _ref5$formatter = _ref5.formatter,\n        formatter = _ref5$formatter === undefined ? 0 : _ref5$formatter,\n        _ref5$fids = _ref5.fids,\n        fids = _ref5$fids === undefined ? [] : _ref5$fids;\n\n    var response, features;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            response = {\n              data: [{\n                layer: layer,\n                features: []\n              }],\n              query: {\n                type: 'search'\n              }\n            };\n            _context3.prev = 1;\n            _context3.t0 = layer;\n\n            if (!_context3.t0) {\n              _context3.next = 7;\n              break;\n            }\n\n            _context3.next = 6;\n            return layer.getFeatureByFids({ fids: fids, formatter: formatter });\n\n          case 6:\n            _context3.t0 = _context3.sent;\n\n          case 7:\n            features = _context3.t0;\n\n            features && features.forEach(function (feature) {\n              return response.data[0].features.push(createOlFeatureFromApiResponseFeature(feature));\n            });\n            _context3.next = 13;\n            break;\n\n          case 11:\n            _context3.prev = 11;\n            _context3.t1 = _context3['catch'](1);\n\n          case 13:\n            return _context3.abrupt('return', response);\n\n          case 14:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[1, 11]]);\n  }));\n\n  /**\n   * Search service function to load many layers with each one with its fids\n   * @param layers: Array of layers that we want serach fids features\n   * @param fids: Array of array of fids\n   * @param formatter: how we want visualize\n   * @returns {Promise<void>}\n   */\n  this.layersfids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var _this = this;\n\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref7$layers = _ref7.layers,\n        layers = _ref7$layers === undefined ? [] : _ref7$layers,\n        _ref7$fids = _ref7.fids,\n        fids = _ref7$fids === undefined ? [] : _ref7$fids,\n        _ref7$formatter = _ref7.formatter,\n        formatter = _ref7$formatter === undefined ? 0 : _ref7$formatter;\n\n    var promises, response, layersresponses;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            promises = [];\n            response = {\n              data: [],\n              query: {\n                type: 'search'\n              }\n            };\n\n            layers.forEach(function (layer, index) {\n              promises.push(_this.fids({\n                layer: layer,\n                fids: fids[index],\n                formatter: formatter\n              }));\n            });\n            _context4.prev = 3;\n            _context4.next = 6;\n            return Promise.all(promises);\n\n          case 6:\n            layersresponses = _context4.sent;\n\n            layersresponses.forEach(function (layerresponse) {\n              return response.data.push(layerresponse.data);\n            });\n            _context4.next = 13;\n            break;\n\n          case 10:\n            _context4.prev = 10;\n            _context4.t0 = _context4['catch'](3);\n\n            console.log(_context4.t0);\n\n          case 13:\n            return _context4.abrupt('return', response);\n\n          case 14:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[3, 10]]);\n  }));\n}\n\ninherit(SearchService, BaseService);\n\nexports.default = new SearchService();\n\n},{\"core/data/service\":5,\"core/utils/geo\":64,\"core/utils/utils\":67}],355:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _dataExpression = require('services/data-expression');\n\nvar _dataExpression2 = _interopRequireDefault(_dataExpression);\n\nvar _dataOws = require('services/data-ows');\n\nvar _dataOws2 = _interopRequireDefault(_dataOws);\n\nvar _dataProxy = require('services/data-proxy');\n\nvar _dataProxy2 = _interopRequireDefault(_dataProxy);\n\nvar _dataQuery = require('services/data-query');\n\nvar _dataQuery2 = _interopRequireDefault(_dataQuery);\n\nvar _dataSearch = require('services/data-search');\n\nvar _dataSearch2 = _interopRequireDefault(_dataSearch);\n\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /**\n                                                                                                                                                                                                     * @file\n                                                                                                                                                                                                     * @since v3.6\n                                                                                                                                                                                                     */\n\nvar _require = require('core/utils/utils'),\n    splitContextAndMethod = _require.splitContextAndMethod;\n\nfunction DataService() {\n  //set deafult outputplace\n  this.defaultoutputplaces = ['gui'];\n  // set current outputplaces\n  this.currentoutputplaces = [].concat(_toConsumableArray(this.defaultoutputplaces)); // array contains all\n\n  /**\n   * Object contain output function to show results\n   * @type {{gui(*=, *=): void, iframe(*=, *=): void}}\n   * dataPromise: is thre promise request for data,\n   * options: {\n   *   show: method or Boolean to set if show or not the result on output\n   *   before : async function to handle data return from server\n   *   after: method to handle or do some thisn after show data\n   * }\n   */\n  this.ouputplaces = {\n    gui: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(dataPromise) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.setLoadingContent(true);\n                _context.prev = 1;\n\n                _gui2.default.outputDataPlace(dataPromise, options);\n                _context.next = 5;\n                return dataPromise;\n\n              case 5:\n                _context.next = 9;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context['catch'](1);\n\n              case 9:\n                _gui2.default.setLoadingContent(false);\n\n              case 10:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 7]]);\n      }));\n\n      function gui(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return gui;\n    }(),\n    iframe: function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(dataPromise) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _iframePlugin2.default.outputDataPlace(dataPromise, options);\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function iframe(_x4) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return iframe;\n    }()\n  };\n\n  /**\n   *\n   * @returns {Promise<void>}\n   */\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            this.services = {\n              query: _dataQuery2.default,\n              search: _dataSearch2.default,\n              expression: _dataExpression2.default,\n              proxy: _dataProxy2.default,\n              ows: _dataOws2.default\n            };\n\n          case 1:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  /**\n   *\n   * @param contextAndMethod 'String contain type of service(search or query): method'\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.getData = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(contextAndMethod) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _splitContextAndMetho, context, method, service, _options$inputs, inputs, _options$outputs, outputs, dataPromise, data;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _splitContextAndMetho = splitContextAndMethod(contextAndMethod), context = _splitContextAndMetho.context, method = _splitContextAndMetho.method;\n              service = this.getService(context);\n              _options$inputs = options.inputs, inputs = _options$inputs === undefined ? {} : _options$inputs, _options$outputs = options.outputs, outputs = _options$outputs === undefined ? {} : _options$outputs;\n              //return a promise and not the data\n\n              dataPromise = service[method](inputs);\n\n              outputs && this.currentoutputplaces.forEach(function (place) {\n                _this.ouputplaces[place](dataPromise, outputs);\n              });\n              //return always data\n              _context4.next = 7;\n              return dataPromise;\n\n            case 7:\n              data = _context4.sent;\n              _context4.next = 10;\n              return data;\n\n            case 10:\n              return _context4.abrupt('return', _context4.sent);\n\n            case 11:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    return function (_x6) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  /**\n   *Force to show empty output data\n   *\n   * */\n  this.showEmptyOutputs = function () {\n    var _this2 = this;\n\n    var dataPromise = Promise.resolve({\n      data: []\n    });\n    this.currentoutputplaces.forEach(function (place) {\n      _this2.ouputplaces[place](dataPromise);\n    });\n  };\n\n  /**\n   * Set a costum datapromiseoutput to applicationa outputs settede\n   * @param dataPromise\n   */\n  this.showCustomOutputDataPromise = function (dataPromise) {\n    var _this3 = this;\n\n    this.currentoutputplaces.forEach(function (place) {\n      _this3.ouputplaces[place](dataPromise, {});\n    });\n  };\n\n  /**\n   *\n   * @param serviceName\n   * @returns {*}\n   */\n  this.getService = function (serviceName) {\n    return this.services[serviceName];\n  };\n\n  /*\n  * */\n  this.setOutputPlaces = function () {\n    var places = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.currentoutputplaces = places;\n  };\n\n  /**\n   *\n   * @param place\n   */\n  this.addCurrentOutputPlace = function (place) {\n    place && this.currentoutputplaces.indexOf(place) === -1 && this.currentoutputplaces.push(place);\n  };\n\n  /**\n   *\n   * @param place\n   * @param method has to get two parameters data (promise) and options (Object)\n   * ex {\n   * place: <newplace>\n   * method(dataPromise, options={}){}\n   *   }\n   */\n  this.addNewOutputPlace = function () {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        place = _ref5.place,\n        _ref5$method = _ref5.method,\n        method = _ref5$method === undefined ? function () {} : _ref5$method;\n\n    var added = false;\n    if (this.ouputplaces[place] === undefined) {\n      this.ouputplaces[place] = method;\n      added = true;\n    }\n    return added;\n  };\n\n  // reset default configuration\n  this.resetDefaultOutput = function () {\n    this.currentoutputplaces = [].concat(_toConsumableArray(this.defaultoutputplaces));\n  };\n}\n\nexports.default = new DataService();\n\n},{\"core/utils/utils\":67,\"services/data-expression\":350,\"services/data-ows\":351,\"services/data-proxy\":352,\"services/data-query\":353,\"services/data-search\":354,\"services/gui\":358,\"services/iframe-plugin\":361}],356:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\n//lass that is usefult to apply changes to features (undo/redo) singleton\nfunction ChangesManager() {\n  this.execute = function (object, items, reverse) {\n    var fnc = void 0;\n    var feature = void 0;\n    items.forEach(function (item) {\n      feature = item.feature;\n      if (reverse) {\n        // change to opposite\n        feature[ChangesManager.Actions[feature.getState()].opposite]();\n      }\n      // get method from object\n      fnc = ChangesManager.Actions[feature.getState()].fnc;\n      object[fnc](feature);\n    });\n  };\n}\n\n// know actions\nChangesManager.Actions = {\n  'add': {\n    fnc: 'addFeature',\n    opposite: 'delete'\n  },\n  'delete': {\n    fnc: 'removeFeature',\n    opposite: 'add'\n  },\n  'update': {\n    fnc: 'updateFeature',\n    opposite: 'update'\n  }\n};\n\nexports.default = new ChangesManager();\n\n},{}],357:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('gui/utils/utils'),\n    Stack = _require.barstack; /**\n                                * @file\n                                * @since v3.7\n                                */\n\nfunction FloatbarService() {\n  this.stack = new Stack();\n  this.init = function (layout) {\n    this.layout = layout;\n    this.sidebarEl = $(this.layout.options.controlSidebarOptions.selector);\n    this._zindex = this.sidebarEl.css(\"z-index\");\n    this._modalOverlay = null;\n    this._modal = false;\n    this._isopen = false;\n  };\n\n  this.isOpen = function () {\n    return this._isopen;\n  };\n\n  this.open = function () {\n    this.layout.floatBar.open(this.sidebarEl, true);\n    this._isopen = true;\n  };\n\n  this.close = function () {\n    this.layout.floatBar.close(this.sidebarEl, true);\n    this._isopen = false;\n  };\n\n  this.showPanel = function (panel, options) {\n    options = options || {};\n    var append = options.append || false;\n    var modal = options.modal || false;\n    options.parent = \"#g3w-floatbarpanel-placeholder\";\n    this.stack.push(panel, options);\n    if (!this._isopen) this.open();\n  };\n\n  this.closePanel = function (panel) {\n    if (panel) this.stack.remove(panel);else this.stack.pop();\n    if (!this.stack.getLength()) {\n      if (this._modal) {\n        _gui2.default.setModal(false);\n        this.close();\n        $('.control-sidebar-bg').toggleClass('control-sidebar-bg-shadow');\n        this.sidebarEl.css(\"z-index\", \"\");\n        this.sidebarEl.css(\"padding-top\", \"50px\");\n        $('.control-sidebar-bg').css(\"z-index\", \"\");\n        this._modal = false;\n      } else this.close();\n    }\n  };\n\n  this.hidePanel = function () {\n    this.close();\n  };\n}\n\nexports.default = new FloatbarService();\n\n},{\"gui/utils/utils\":187,\"services/gui\":358}],358:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    noop = _require.noop;\n\nvar G3WObject = require('core/g3wobject');\n\n// API della GUI.\n// methods have be defined by application\n// app should call GUI.ready() when GUI is ready\nfunction GUI() {\n  this.setters = {\n    setContent: function setContent() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.emit('opencontent', true);\n      this._setContent(options);\n    }\n  };\n  this.isready = false;\n  // images urls\n  this.getResourcesUrl = noop;\n  // show a Vue form\n  this.showForm = noop;\n  this.closeForm = noop;\n  this.showListing = noop;\n  this.closeListing = noop;\n  this.hideListing = noop;\n  // modal\n  this.setModal = noop;\n  this.showFullModal = noop;\n  // modal\n  this.showQueryResults = noop;\n  this.hideQueryResults = noop;\n  this.showPanel = noop;\n  this.hidePanel = noop;\n  this.reloadComponents = noop;\n  this.showUserMessage = noop;\n  this.closeUserMessage = noop;\n  this.showModalDialog = noop;\n  //property to how result has to be add or close all and show new\n  // false mean create new and close all open\n  this.push_content = false;\n  this.setPushContent = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.push_content = bool;\n  };\n  this.getPushContent = function () {\n    return this.push_content;\n  };\n  this._closeUserMessageBeforeSetContent = true;\n  this.setComponent = function (component) {\n    _components2.default.registerComponent(component);\n  };\n  this.getComponent = function (id) {\n    return _components2.default.getComponent(id);\n  };\n  this.getComponents = function () {\n    return _components2.default.getComponents();\n  };\n\n  this.goto = function (url) {\n    _router2.default.goto(url);\n  };\n  this.ready = function () {\n    this.emit('ready');\n    this.isready = true;\n  };\n  this.guiResized = function () {\n    this.emit('guiresized');\n  };\n  //ready GUI\n  this.isReady = function () {\n    var _this = this;\n\n    return new Promise(function (resolve) {\n      return _this.isready ? resolve() : _this.once('ready', resolve);\n    });\n  };\n  /**\n   * Passing a component application ui id return service that belong to component\n   * @param componentId\n   * @returns {*}\n   */\n  this.getService = function (componentId) {\n    var component = this.getComponent(componentId);\n    return component && component.getService();\n  };\n  /* spinner */\n  this.showSpinner = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  };\n  this.hideSpinner = function (id) {};\n  /* end spinner */\n  this.notify = noop;\n  this.dialog = noop;\n  this.isMobile = noop;\n  //useful to registere setters\n  base(this);\n}\n\ninherit(GUI, G3WObject);\n\nexports.default = new GUI();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/router\":365,\"store/components\":372}],359:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseService = require('core/iframe/services/baseservice');\n\nfunction AppService() {\n  base(this);\n  this.mapControls = {\n    screenshot: {\n      control: null\n    },\n    changeMap: {\n      control: null\n    }\n  };\n\n  /**\n   * Init service\n   * @returns {Promise<unknown>}\n   */\n  this.init = function () {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      _this.mapService.once('ready', function () {\n        _this._map = _this.mapService.getMap();\n        _this._mapCrs = _this.mapService.getCrs();\n        _this.mapControls.screenshot.control = _this.mapService.getMapControlByType({\n          type: 'screenshot'\n        });\n        _this.setReady(true);\n        resolve();\n      });\n    });\n  };\n  /**\n   *\n   * @returns {Promise<void>}\n   */\n  this.results = function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var _ref$capture = _ref.capture,\n          capture = _ref$capture === undefined ? true : _ref$capture;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              capture ? _data2.default.setOutputPlaces(['iframe']) : _data2.default.resetDefaultOutput();\n              return _context.abrupt('return', []);\n\n            case 2:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  this.screenshot = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(_ref3) {\n      var _this2 = this;\n\n      var _ref3$capture = _ref3.capture,\n          capture = _ref3$capture === undefined ? true : _ref3$capture;\n      var action;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              action = 'app:screenshot';\n\n              capture ? this.mapControls.screenshot.control.overwriteOnClickEvent(_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n                var blob;\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        _context2.prev = 0;\n                        _context2.next = 3;\n                        return _this2.mapService.createMapImage();\n\n                      case 3:\n                        blob = _context2.sent;\n\n                        _this2.emit('response', {\n                          action: action,\n                          response: {\n                            result: true,\n                            data: blob\n                          }\n                        });\n                        _context2.next = 10;\n                        break;\n\n                      case 7:\n                        _context2.prev = 7;\n                        _context2.t0 = _context2['catch'](0);\n\n                        _this2.emit('response', {\n                          action: action,\n                          response: {\n                            result: false,\n                            data: _context2.t0\n                          }\n                        });\n\n                      case 10:\n                      case 'end':\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2, _this2, [[0, 7]]);\n              }))) : this.mapControls.screenshot.control.resetOriginalOnClickEvent();\n\n            case 2:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    return function (_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  /**\n   * Eventually send as param the projection in which we would like get center of map\n   * @param params\n   * @returns {Promise<void>}\n   */\n  this.getcenter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt('return', this.mapService.getCenter());\n\n          case 1:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  /**\n   * Zoom to coordinates\n   * @param params\n   * @returns {Promise<[]>}\n   */\n  this.zoomtocoordinates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _params$coordinates, coordinates, _params$highlight, highlight;\n\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _params$coordinates = params.coordinates, coordinates = _params$coordinates === undefined ? [] : _params$coordinates, _params$highlight = params.highlight, highlight = _params$highlight === undefined ? false : _params$highlight;\n\n            if (!(coordinates && Array.isArray(coordinates) && coordinates.length === 2)) {\n              _context5.next = 6;\n              break;\n            }\n\n            this.mapService.zoomTo(coordinates);\n            return _context5.abrupt('return', coordinates);\n\n          case 6:\n            return _context5.abrupt('return', Promise.reject(coordinates));\n\n          case 7:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n\n  /**\n   * Eventually send as param the projection in which we would like get center of map\n   * @param params\n   * @returns {Promise<void>}\n   */\n  this.getextent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            return _context6.abrupt('return', this.mapService.getMapExtent());\n\n          case 1:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  /**\n   *\n   * @param params\n   * @returns {Promise<[]>}\n   */\n  this.zoomtoextent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _params$extent, extent;\n\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _params$extent = params.extent, extent = _params$extent === undefined ? [] : _params$extent;\n\n            if (!(extent && Array.isArray(extent) && extent.length === 4)) {\n              _context7.next = 6;\n              break;\n            }\n\n            this.mapService.goToBBox(extent);\n            return _context7.abrupt('return', extent);\n\n          case 6:\n            return _context7.abrupt('return', Promise.reject(extent));\n\n          case 7:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  //method to zoom to features\n  this.zoomtofeature = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9() {\n    var _this3 = this;\n\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            return _context9.abrupt('return', new Promise(function () {\n              var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(resolve, reject) {\n                var qgs_layer_id, feature, _params$highlight2, highlight, response;\n\n                return regeneratorRuntime.wrap(function _callee8$(_context8) {\n                  while (1) {\n                    switch (_context8.prev = _context8.next) {\n                      case 0:\n                        qgs_layer_id = params.qgs_layer_id, feature = params.feature, _params$highlight2 = params.highlight, highlight = _params$highlight2 === undefined ? false : _params$highlight2;\n\n                        qgs_layer_id = _this3.getQgsLayerId({\n                          qgs_layer_id: qgs_layer_id\n                        });\n\n                        _context8.next = 4;\n                        return _this3.findFeaturesWithGeometry({\n                          qgs_layer_id: qgs_layer_id,\n                          feature: feature,\n                          zoom: true,\n                          highlight: highlight\n                        });\n\n                      case 4:\n                        response = _context8.sent;\n\n\n                        resolve(response.qgs_layer_id);\n\n                      case 6:\n                      case 'end':\n                        return _context8.stop();\n                    }\n                  }\n                }, _callee8, _this3);\n              }));\n\n              return function (_x8, _x9) {\n                return _ref11.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case 'end':\n            return _context9.stop();\n        }\n      }\n    }, _callee9, this);\n  }));\n}\n\ninherit(AppService, BaseService);\n\nexports.default = new AppService();\n\n},{\"core/iframe/services/baseservice\":15,\"core/utils/utils\":67,\"services/data\":355}],360:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar BasePluginService = require('core/iframe/services/plugins/service');\n\nvar _g3wsdk$core$utils = g3wsdk.core.utils,\n    base = _g3wsdk$core$utils.base,\n    inherit = _g3wsdk$core$utils.inherit;\n\n\nfunction EditingService() {\n  var _this2 = this;\n\n  base(this);\n  this.pluginName = 'editing';\n  this.subscribevents = [];\n  this.isRunning = false;\n  this.responseObject = {\n    cb: null, // resolve or reject promise method\n    qgs_layer_id: null,\n    error: null\n  };\n  this.config = {\n    tools: {\n      add: {\n        disabled: [{\n          id: 'deletefeature'\n        }, {\n          id: 'copyfeatures'\n        }, {\n          id: 'editmultiattributes'\n        }, {\n          id: 'deletePart'\n        }, {\n          id: 'splitfeature'\n        }, {\n          id: 'mergefeatures'\n        }]\n      },\n      update: {\n        disabled: [{\n          id: 'addfeature'\n        }, {\n          id: 'copyfeatures'\n        }, {\n          id: 'deletefeature'\n        }, {\n          id: 'editmultiattributes'\n        }, {\n          id: 'deletePart'\n        }, {\n          id: 'splitfeature'\n        }, {\n          id: 'mergefeatures'\n        }]\n      },\n      delete: {\n        enabled: [{\n          id: 'deletefeature',\n          options: {\n            active: true\n          }\n        }]\n      }\n    }\n  };\n\n  // METHODS CALLED FROM EACH ACTION METHOD\n  // run before each action\n  this.startAction = function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var _this = this;\n\n      var toolboxes = _ref.toolboxes,\n          resolve = _ref.resolve,\n          reject = _ref.reject;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.responseObject.cb = reject;\n              // set same mode autosave\n              this.dependencyApi.setSaveConfig({\n                cb: {\n                  done: function done(toolbox) {\n                    //set toolbox id\n                    _this.responseObject.cb = resolve;\n                    _this.responseObject.qgs_layer_id = toolbox.getId();\n                    _this.responseObject.error = null;\n                    // close panel that fire closeediting panel event\n                    _this.dependencyApi.hidePanel();\n                  }, // called when commit changes is done successuffly\n                  error: function error(toolbox, _error) {\n                    _this.responseObject.cb = reject;\n                    _this.responseObject.qgs_layer_id = toolbox.getId();\n                    _this.responseObject.error = _error;\n                  } // called whe commit change receive an error\n                }\n              });\n              // set toolboxes visible base on value of qgs_layer_id\n              this.dependencyApi.showPanel({\n                toolboxes: toolboxes\n              });\n              this.isRunning = true;\n\n            case 4:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  //run after each action\n  this.stopAction = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var qgs_layer_id;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            qgs_layer_id = options.qgs_layer_id;\n            _context2.t0 = qgs_layer_id;\n\n            if (!_context2.t0) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 5;\n            return this.stopEditing(qgs_layer_id);\n\n          case 5:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  //// subscribers handlers\n  this.subscribersHandlers = {\n    canUndo: function canUndo(_ref4) {\n      var activeTool = _ref4.activeTool,\n          _ref4$disableToolboxe = _ref4.disableToolboxes,\n          disableToolboxes = _ref4$disableToolboxe === undefined ? [] : _ref4$disableToolboxe;\n      return function (bool) {\n        //set currenttoolbocx id in editing to null\n        if (bool === false) {\n          _this2.responseObject.qgs_layer_id = null;\n          _this2.responseObject.error = null;\n        }\n        activeTool.setEnabled(!bool);\n        disableToolboxes.forEach(function (toolbox) {\n          return toolbox.setEditing(!bool);\n        });\n      };\n    },\n    canRedo: function canRedo() {},\n    cancelform: function cancelform(cb) {\n      return function () {\n        cb();\n      };\n    }, //run callback\n    addfeature: function addfeature() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          properties = _ref5.properties,\n          toolboxes = _ref5.toolboxes;\n\n      return function (feature) {\n        Object.keys(properties).forEach(function (property) {\n          return feature.set(property, properties[property]);\n        });\n        var activeTool = void 0;\n        var disableToolboxes = [];\n        toolboxes.forEach(function (toolbox) {\n          var addFeatureTool = toolbox.getToolById('addfeature');\n          if (addFeatureTool.isActive()) {\n            addFeatureTool.setEnabled(false);\n            activeTool = addFeatureTool;\n          } else {\n            toolbox.setEditing(false);\n            disableToolboxes.push(toolbox);\n          }\n        });\n        //just one time\n        if (_this2.subscribevents.find(function (eventObject) {\n          return eventObject.event !== 'canUndo';\n        })) {\n          var handler = _this2.addSubscribeEvents('canUndo', {\n            activeTool: activeTool,\n            disableToolboxes: disableToolboxes\n          });\n          _this2.addSubscribeEvents('cancelform', handler);\n        }\n      };\n    },\n    closeeditingpanel: function closeeditingpanel(_ref6) {\n      var qgs_layer_id = _ref6.qgs_layer_id;\n      return function () {\n        // response to router service\n        _this2.responseObject.cb({\n          qgs_layer_id: _this2.responseObject.qgs_layer_id,\n          error: _this2.responseObject.error\n        });\n        // stop action\n        _this2.stopAction({ qgs_layer_id: qgs_layer_id });\n      };\n    }\n  };\n\n  // method to add subscribe refenrence\n  this.addSubscribeEvents = function (event) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var handler = this.subscribersHandlers[event](options);\n    this.dependencyApi.subscribe(event, handler);\n    this.subscribevents.push({\n      event: event,\n      handler: handler\n    });\n    return handler;\n  };\n\n  /**\n   * Reset subscriber editing plugin events\n   */\n  this.resetSubscribeEvents = function () {\n    var _this3 = this;\n\n    this.subscribevents.forEach(function (_ref7) {\n      var event = _ref7.event,\n          handler = _ref7.handler;\n\n      _this3.dependencyApi.unsubscribe(event, handler);\n    });\n  };\n\n  /**\n   * Method called whe we want add a feature\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.add = function () {\n    var _this4 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new Promise(function () {\n      var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n        var configQglLayerId, data, properties, qgs_layer_id, options, toolboxes, toolbox;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!_this4.isRunning) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                reject();\n                _context3.next = 19;\n                break;\n\n              case 4:\n                // extract qgslayerid from configuration message\n                configQglLayerId = config.qgs_layer_id, data = _objectWithoutProperties(config, ['qgs_layer_id']);\n                properties = data.properties;\n                qgs_layer_id = _this4.getQgsLayerId({\n                  qgs_layer_id: configQglLayerId,\n                  noValue: _this4.dependencyApi.getEditableLayersId()\n                });\n                //call method common\n\n                _context3.next = 9;\n                return _this4.startAction({\n                  toolboxes: qgs_layer_id,\n                  resolve: resolve,\n                  reject: reject\n                });\n\n              case 9:\n\n                // create options\n                options = {\n                  tools: _this4.config.tools.add,\n                  startstopediting: false,\n                  action: 'add',\n                  selected: qgs_layer_id.length === 1\n                };\n                // return all toolboxes\n\n                _context3.next = 12;\n                return _this4.startEditing(qgs_layer_id, options);\n\n              case 12:\n                toolboxes = _context3.sent;\n\n                toolboxes = toolboxes.filter(function (toolboxPromise) {\n                  return toolboxPromise.status === 'fulfilled';\n                }).map(function (toolboxPromise) {\n                  return toolboxPromise.value;\n                });\n                !_gui2.default.isSidebarVisible() && _gui2.default.showSidebar();\n                toolbox = toolboxes.length === 1 && toolboxes[0];\n\n                toolbox && toolbox.setActiveTool(toolbox.getToolById('addfeature'));\n                // // in case of no feature add avent subscribe\n                _this4.addSubscribeEvents('addfeature', { properties: properties, toolboxes: toolboxes });\n                _this4.addSubscribeEvents('closeeditingpanel', { qgs_layer_id: qgs_layer_id });\n\n              case 19:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this4);\n      }));\n\n      return function (_x6, _x7) {\n        return _ref8.apply(this, arguments);\n      };\n    }());\n  };\n\n  /**\n   * Method called when we want update a know feature field\n   * @param config\n   * @returns {Promise<unknown>}\n   */\n  this.update = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    var _this5 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            return _context5.abrupt('return', new Promise(function () {\n              var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(resolve, reject) {\n                var configQglLayerId, data, feature, qgs_layer_id, response, found, options;\n                return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                  while (1) {\n                    switch (_context4.prev = _context4.next) {\n                      case 0:\n                        if (!_this5.isRunning) {\n                          _context4.next = 4;\n                          break;\n                        }\n\n                        reject();\n                        _context4.next = 22;\n                        break;\n\n                      case 4:\n                        configQglLayerId = config.qgs_layer_id, data = _objectWithoutProperties(config, ['qgs_layer_id']);\n                        feature = data.feature;\n                        qgs_layer_id = _this5.getQgsLayerId({\n                          qgs_layer_id: configQglLayerId,\n                          noValue: _this5.dependencyApi.getEditableLayersId()\n                        });\n                        _context4.next = 9;\n                        return _this5.findFeaturesWithGeometry({\n                          qgs_layer_id: qgs_layer_id,\n                          feature: feature,\n                          zoom: true,\n                          highlight: true,\n                          selected: qgs_layer_id.length === 1 // set selected toolbox\n                        });\n\n                      case 9:\n                        response = _context4.sent;\n                        found = response.found;\n\n                        if (!found) {\n                          _context4.next = 21;\n                          break;\n                        }\n\n                        _context4.next = 14;\n                        return _this5.startAction({\n                          toolboxes: [response.qgs_layer_id],\n                          resolve: resolve,\n                          reject: reject\n                        });\n\n                      case 14:\n\n                        // create options\n                        options = {\n                          feature: feature,\n                          tools: _this5.config.tools.update,\n                          startstopediting: false,\n                          action: 'update'\n                        };\n\n                        // return all toolboxes\n\n                        _context4.next = 17;\n                        return _this5.startEditing([response.qgs_layer_id], options);\n\n                      case 17:\n                        !_gui2.default.isSidebarVisible() && _gui2.default.showSidebar();\n                        _this5.addSubscribeEvents('closeeditingpanel', {\n                          qgs_layer_id: [response.qgs_layer_id]\n                        });\n                        _context4.next = 22;\n                        break;\n\n                      case 21:\n                        reject();\n\n                      case 22:\n                      case 'end':\n                        return _context4.stop();\n                    }\n                  }\n                }, _callee4, _this5);\n              }));\n\n              return function (_x9, _x10) {\n                return _ref10.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n\n  this.delete = function () {};\n\n  /**\n   * Start editing called when we want to start editing\n   * @param qgs_layer_id\n   * @param options\n   * @returns {Promise<unknown|void>}\n   */\n  this.startEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n    var _this6 = this;\n\n    var qgs_layer_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var _options$action, action, feature, filter, startEditingPromise;\n\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _options$action = options.action, action = _options$action === undefined ? 'add' : _options$action, feature = options.feature;\n            filter = {};\n\n            options.filter = filter;\n            _context6.t0 = action;\n            _context6.next = _context6.t0 === 'add' ? 6 : _context6.t0 === 'update' ? 8 : 10;\n            break;\n\n          case 6:\n            filter.nofeatures = true;\n            return _context6.abrupt('break', 10);\n\n          case 8:\n            filter.field = feature.field + '|eq|' + feature.value;\n            return _context6.abrupt('break', 10);\n\n          case 10:\n            startEditingPromise = [];\n\n            qgs_layer_id.forEach(function (layerid) {\n              startEditingPromise.push(_this6.dependencyApi.startEditing(layerid, options));\n            });\n            _context6.next = 14;\n            return Promise.allSettled(startEditingPromise);\n\n          case 14:\n            return _context6.abrupt('return', _context6.sent);\n\n          case 15:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  /**\n   * Stop editing\n   * @param qgs_layer_id\n   * @returns {Promise<unknown>}\n   */\n  this.stopEditing = function () {\n    var _ref12 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(qgs_layer_id) {\n      var _this7 = this;\n\n      var stopEditingPromises;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              stopEditingPromises = [];\n\n              qgs_layer_id.forEach(function (layerid) {\n                stopEditingPromises.push(_this7.dependencyApi.stopEditing(layerid));\n              });\n              _context7.next = 4;\n              return Promise.allSettled(stopEditingPromises);\n\n            case 4:\n              this.clear();\n\n            case 5:\n            case 'end':\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }));\n\n    return function (_x13) {\n      return _ref12.apply(this, arguments);\n    };\n  }();\n\n  this.stop = function () {\n    var _this8 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this8.dependencyApi.hidePanel();\n      _gui2.default.hideSidebar();\n      _this8.once('clear', resolve);\n    });\n  };\n\n  /**\n   * Method called wen we want to reset default editing plugin behaviour\n   *\n   * */\n  this.clear = function () {\n    this.dependencyApi.resetDefault();\n    this.isRunning = false;\n    this.responseObject = {\n      cb: null, // resolve or reject promise method\n      qgs_layer_id: null,\n      error: null\n    };\n    this.resetSubscribeEvents();\n    this.emit('clear');\n  };\n}\n\ninherit(EditingService, BasePluginService);\n\nexports.default = new EditingService();\n\n},{\"core/iframe/services/plugins/service\":17,\"services/gui\":358}],361:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    splitContextAndMethod = _require.splitContextAndMethod,\n    uniqueId = _require.uniqueId;\n\nfunction IframePluginService() {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  //project is current project send by application service\n  this.pendingactions = {};\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        project = _ref2.project;\n\n    var layers, serviceNames, i, service;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _gui2.default.isReady();\n\n          case 2:\n            this.services = require('core/iframe/services/index');\n            //set eventResponse handler to alla services\n            this.eventResponseServiceHandler = function (_ref3) {\n              var action = _ref3.action,\n                  response = _ref3.response;\n\n              _this.postMessage({\n                id: null,\n                action: action,\n                response: response\n              });\n            };\n            /*\n            get layer attributes from project layers state\n             */\n            layers = project.state.layers.map(function (layer) {\n              return {\n                id: layer.id,\n                name: layer.name\n              };\n            });\n            //initialize all service\n\n            serviceNames = Object.keys(this.services);\n            i = 0;\n\n          case 7:\n            if (!(i < serviceNames.length)) {\n              _context.next = 16;\n              break;\n            }\n\n            service = this.services[serviceNames[i]];\n            // set common layer attribute service just one time\n\n            service.getLayers() === undefined && service.setLayers(layers);\n            _context.next = 12;\n            return service.init();\n\n          case 12:\n            service.on('response', this.eventResponseServiceHandler);\n\n          case 13:\n            i++;\n            _context.next = 7;\n            break;\n\n          case 16:\n            /**\n             * Send post message is ready\n             */\n            this.postMessage({\n              id: null,\n              action: \"app:ready\",\n              response: {\n                result: true,\n                data: {\n                  layers: layers\n                }\n              }\n            });\n\n            if (window.addEventListener) window.addEventListener(\"message\", this.getMessage, false);else window.attachEvent(\"onmessage\", this.getMessage);\n\n          case 18:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  /**\n   * Outputplace iframe get by DataRouteService\n   * @param dataPromise\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.outputDataPlace = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(dataPromise) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _options$action, action, _ref5, result, _ref5$data, data, parser, outputData;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _options$action = options.action, action = _options$action === undefined ? 'app:results' : _options$action;\n              _context2.next = 3;\n              return dataPromise;\n\n            case 3:\n              _ref5 = _context2.sent;\n              result = _ref5.result;\n              _ref5$data = _ref5.data;\n              data = _ref5$data === undefined ? [] : _ref5$data;\n              parser = new ol.format.GeoJSON();\n              outputData = [];\n\n              try {\n                outputData = data.map(function (_ref6) {\n                  var layer = _ref6.layer,\n                      features = _ref6.features;\n                  return _defineProperty({}, layer.getId(), {\n                    features: parser.writeFeatures(features)\n                  });\n                });\n              } catch (err) {\n                result: false;\n                outputData: err;\n              }\n              this.postMessage({\n                id: null,\n                action: action,\n                response: {\n                  result: result,\n                  data: outputData\n                }\n              });\n\n            case 11:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  // method to post message to parent\n  this.postMessage = function () {\n    var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (window.parent) window.parent.postMessage(message, \"*\");\n  };\n\n  this.stopPendingActions = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    var _this2 = this;\n\n    var promises;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            promises = [];\n\n            Object.keys(this.pendingactions).forEach(function (id) {\n              var context = _this2.pendingactions[id].context;\n\n              promises.push(_this2.services[context].stop());\n              delete _this2.pendingactions[id];\n            });\n            return _context3.abrupt('return', Promise.allSettled(promises));\n\n          case 3:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  // method to handle all message from window\n  this.getMessage = function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(evt) {\n      var _evt$data, _evt$data$id, id, _evt$data$single, single, action, params, _splitContextAndMetho, context, method, result, data;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(evt && evt.data)) {\n                _context4.next = 24;\n                break;\n              }\n\n              _evt$data = evt.data, _evt$data$id = _evt$data.id, id = _evt$data$id === undefined ? uniqueId() : _evt$data$id, _evt$data$single = _evt$data.single, single = _evt$data$single === undefined ? true : _evt$data$single, action = _evt$data.action, params = _evt$data.data;\n              _splitContextAndMetho = splitContextAndMethod(action), context = _splitContextAndMetho.context, method = _splitContextAndMetho.method;\n              result = false;\n              data = void 0;\n              _context4.prev = 5;\n\n              if (!_this3.services[context].getReady()) {\n                _context4.next = 16;\n                break;\n              }\n\n              _context4.t0 = single;\n\n              if (!_context4.t0) {\n                _context4.next = 11;\n                break;\n              }\n\n              _context4.next = 11;\n              return _this3.stopPendingActions();\n\n            case 11:\n              _this3.pendingactions[id] = {\n                context: context\n              };\n              _context4.next = 14;\n              return _this3.services[context][method](params);\n\n            case 14:\n              data = _context4.sent;\n\n              result = true;\n\n            case 16:\n              _context4.next = 22;\n              break;\n\n            case 18:\n              _context4.prev = 18;\n              _context4.t1 = _context4['catch'](5);\n\n              result = false;\n              data = _context4.t1;\n\n            case 22:\n              _this3.postMessage({\n                id: id,\n                action: action,\n                response: {\n                  result: result,\n                  data: data\n                }\n              });\n              delete _this3.pendingactions[id];\n\n            case 24:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, _this3, [[5, 18]]);\n    }));\n\n    return function (_x6) {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  // Called when change map or clear\n  this.clear = function () {\n    var serviceNames = Object.keys(this.services);\n    for (var i = 0; i < serviceNames.length; i++) {\n      var service = this.services[serviceNames[i]];\n      service.off('response', this.eventResponseServiceHandler);\n    }\n    this.stopPendingActions();\n    if (window.removeEventListener) window.removeEventListener(\"message\", this.getMessage, false);else window.detachEvent(\"onmessage\", this.getMessage);\n  };\n}\n\nexports.default = new IframePluginService();\n\n},{\"core/iframe/services/index\":16,\"core/utils/utils\":67,\"services/gui\":358}],362:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// service sidebar\nfunction navbaritemsService() {\n  this.state = {\n    items: {\n      left: [],\n      right: []\n    }\n  };\n  this.addItem = function (item) {\n    var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'right';\n\n    this.state.items[position].push(item);\n  };\n\n  base(this);\n}\n\ninherit(navbaritemsService, G3WObject);\n\nexports.default = new navbaritemsService();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],363:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data2 = require('services/data');\n\nvar _data3 = _interopRequireDefault(_data2);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    uniqueId = _require2.uniqueId,\n    createFilterFromString = _require2.createFilterFromString,\n    XHR = _require2.XHR;\n\nvar QUERYBUILDERSEARCHES = 'QUERYBUILDERSEARCHES';\n\nfunction QueryBuilderService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._cacheValues = {};\n  this._items = _application2.default.getLocalItem(QUERYBUILDERSEARCHES) || {};\n}\n\nvar proto = QueryBuilderService.prototype;\n\nproto.getCurrentProjectItems = function () {\n  var projectId = _projects2.default.getCurrentProject().getId();\n  this._items[projectId] = this._items[projectId] || [];\n  return this._items[projectId];\n};\n\nproto.getItems = function (projectId) {\n  var items = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  return items ? items[projectId] || [] : [];\n};\n\nproto._getLayerById = function (layerId) {\n  return _catalogLayers2.default.getLayerById(layerId);\n};\n\nproto.getValues = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref2.layerId,\n      field = _ref2.field;\n\n  var valuesField, layer, dataUrl, response;\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          this._cacheValues[layerId] = this._cacheValues[layerId] || {};\n          valuesField = this._cacheValues[layerId][field];\n\n          if (!(valuesField === undefined)) {\n            _context.next = 18;\n            break;\n          }\n\n          _context.prev = 3;\n          layer = this._getLayerById(layerId);\n          dataUrl = layer.getUrl('data');\n          _context.next = 8;\n          return XHR.get({\n            url: dataUrl,\n            params: {\n              ordering: field,\n              unique: field\n            }\n          });\n\n        case 8:\n          response = _context.sent;\n\n          if (response.result) this._cacheValues[layerId][field] = this._cacheValues[layerId][field] || response.data;\n          return _context.abrupt('return', this._cacheValues[layerId][field] || []);\n\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context['catch'](3);\n\n          reject();\n\n        case 16:\n          _context.next = 19;\n          break;\n\n        case 18:\n          return _context.abrupt('return', valuesField);\n\n        case 19:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[3, 13]]);\n}));\n\nproto.run = function () {\n  var _this = this;\n\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref3.layerId,\n      stringFilter = _ref3.filter,\n      _ref3$showResult = _ref3.showResult,\n      showResult = _ref3$showResult === undefined ? true : _ref3$showResult;\n\n  return new Promise(function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n      var layer, search_endpoint, filter, _ref5, data;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              layer = _this._getLayerById(layerId);\n              search_endpoint = layer.getSearchEndPoint();\n              filter = createFilterFromString({\n                layer: layer,\n                search_endpoint: search_endpoint,\n                filter: stringFilter\n              });\n              _context2.prev = 3;\n              _context2.next = 6;\n              return _data3.default.getData('search:features', {\n                inputs: {\n                  layer: layer,\n                  filter: filter,\n                  search_endpoint: search_endpoint,\n                  feature_count: 100\n                },\n                outputs: showResult\n              });\n\n            case 6:\n              _ref5 = _context2.sent;\n              data = _ref5.data;\n\n              resolve(data);\n              _context2.next = 15;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2['catch'](3);\n\n              _gui2.default.showUserMessage({\n                type: 'alert',\n                message: 'sdk.querybuilder.error_run',\n                autoclose: true\n              });\n              reject(_context2.t0);\n\n            case 15:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, _this, [[3, 11]]);\n    }));\n\n    return function (_x4, _x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};\n\nproto.test = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref7.layerId,\n      filter = _ref7.filter;\n\n  var data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return this.run({\n            layerId: layerId,\n            filter: filter,\n            showResult: false\n          });\n\n        case 3:\n          data = _context3.sent;\n          return _context3.abrupt('return', data.length && data[0].features.length);\n\n        case 7:\n          _context3.prev = 7;\n          _context3.t0 = _context3['catch'](0);\n\n          _context3.t0 = t('sdk.querybuilder.error_test');\n          return _context3.abrupt('return', Promise.reject(_context3.t0));\n\n        case 11:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[0, 7]]);\n}));\n\nproto.delete = function () {\n  var _this2 = this;\n\n  var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref8.id;\n\n  return new Promise(function (resolve, reject) {\n    _gui2.default.dialog.confirm(t('sdk.querybuilder.delete'), function (result) {\n      if (result) {\n        var querybuildersearches = _this2.getItems().filter(function (item) {\n          return item.id !== id;\n        });\n        var projectId = _projects2.default.getCurrentProject().getId();\n        var saveitems = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n        if (querybuildersearches.length) saveitems[projectId] = querybuildersearches;else delete saveitems[projectId];\n        if (Object.keys(saveitems).length) _application2.default.setLocalItem({\n          id: QUERYBUILDERSEARCHES,\n          data: saveitems\n        });else _application2.default.removeLocalItem(QUERYBUILDERSEARCHES);\n        resolve();\n      } else reject();\n    });\n  });\n};\n\nproto.editLocalItem = function (projectId, querybuildersearch) {\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  var querybuildersearches = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  querybuildersearches[projectId].find(function (_querybuildersearch, index) {\n    if (_querybuildersearch.id === querybuildersearch.id) {\n      querybuildersearches[projectId][index] = querybuildersearch;\n      return true;\n    }\n  });\n  _application2.default.setLocalItem({\n    id: QUERYBUILDERSEARCHES,\n    data: querybuildersearches\n  });\n  this._resetItems(projectId, querybuildersearches[projectId]);\n};\n\nproto._resetItems = function (projectId, querybuildersearches) {\n  var _this3 = this;\n\n  setTimeout(function () {\n    querybuildersearches.forEach(function (querybuildersearch) {\n      return _this3._items[projectId].push(querybuildersearch);\n    });\n  }, 0);\n  this._items[projectId].splice(0);\n};\n\nproto.addLocalItem = function (projectId, querybuildersearch) {\n  querybuildersearch.id = uniqueId();\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  var querybuildersearches = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  if (querybuildersearches === undefined) {\n    var _querybuildersearches = [querybuildersearch];\n    _application2.default.setLocalItem({\n      id: QUERYBUILDERSEARCHES,\n      data: _defineProperty({}, projectId, _querybuildersearches)\n    });\n    this._resetItems(projectId, _querybuildersearches);\n  } else {\n    querybuildersearches[projectId] = querybuildersearches[projectId] ? [].concat(_toConsumableArray(querybuildersearches[projectId]), [querybuildersearch]) : [querybuildersearch];\n    _application2.default.setLocalItem({\n      id: QUERYBUILDERSEARCHES,\n      data: querybuildersearches\n    });\n    this._resetItems(projectId, querybuildersearches[projectId]);\n  }\n};\n\nproto.save = function () {\n  var _this4 = this;\n\n  var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref9.id,\n      name = _ref9.name,\n      layerId = _ref9.layerId,\n      filter = _ref9.filter,\n      projectId = _ref9.projectId;\n\n  var layerName = this._getLayerById(layerId).getName();\n  var querybuildersearch = {\n    layerId: layerId,\n    filter: filter,\n    layerName: layerName\n  };\n  if (id) {\n    querybuildersearch.name = name;\n    querybuildersearch.id = id;\n    this.editLocalItem(projectId, querybuildersearch);\n    _gui2.default.showUserMessage({\n      type: 'success',\n      message: t(\"sdk.querybuilder.messages.changed\"),\n      autoclose: true\n    });\n    return;\n  }\n  _gui2.default.dialog.prompt(t('sdk.querybuilder.additem'), function (result) {\n    if (result) {\n      var searchService = _gui2.default.getComponent('search').getService();\n      querybuildersearch.name = result;\n      searchService.addQueryBuilderSearch(querybuildersearch);\n      _this4.addLocalItem(projectId, querybuildersearch);\n      _gui2.default.showUserMessage({\n        type: 'success',\n        message: t(\"sdk.querybuilder.messages.changed\"),\n        autoclose: true\n      });\n    }\n  });\n};\n\nproto.all = function () {};\n\nproto.sample = function () {};\n\nproto.clear = function () {\n  this._cacheValues = {};\n};\n\nproto.add = function () {};\n\nexports.default = new QueryBuilderService();\n\n},{\"core/i18n/i18n.service\":13,\"core/utils/utils\":67,\"services/application\":348,\"services/data\":355,\"services/gui\":358,\"store/catalog-layers\":371,\"store/projects\":376}],364:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    XHR = _require.XHR,\n    base = _require.base,\n    createSingleFieldParameter = _require.createSingleFieldParameter;\n\nvar _require2 = require('core/utils/geo'),\n    sanitizeFidFeature = _require2.sanitizeFidFeature,\n    getAlphanumericPropertiesFromFeature = _require2.getAlphanumericPropertiesFromFeature;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction RelationsService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n}\n\ninherit(RelationsService, G3WObject);\n\nvar proto = RelationsService.prototype;\n\nproto.createUrl = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var currentProject = _projects2.default.getCurrentProject();\n  // type : <editing, data, xls>\n  var _options$layer = options.layer,\n      layer = _options$layer === undefined ? {} : _options$layer,\n      _options$relation = options.relation,\n      relation = _options$relation === undefined ? {} : _options$relation,\n      fid = options.fid,\n      _options$type = options.type,\n      type = _options$type === undefined ? 'data' : _options$type,\n      _options$formatter = options.formatter,\n      formatter = _options$formatter === undefined ? 1 : _options$formatter;\n\n  var layerId = void 0;\n  var father = relation.father,\n      child = relation.child,\n      referencedLayer = relation.referencedLayer,\n      referencingLayer = relation.referencingLayer,\n      relationId = relation.id;\n\n  if (father !== undefined) layerId = layer.id === father ? child : father;else layerId = layer.id === referencedLayer ? referencingLayer : referencedLayer;\n  var dataUrl = currentProject.getLayerById(layerId).getUrl(type);\n  var value = sanitizeFidFeature(fid);\n  return dataUrl + '?relationonetomany=' + relationId + '|' + value + '&formatter=' + formatter;\n};\n\nproto.getRelations = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var url = this.createUrl(options);\n  return XHR.get({\n    url: url\n  });\n};\n\n/**\n * Get relations NM\n * @param nmRelation\n * @param features\n * @returns {Promise<[]>}\n */\nproto.getRelationsNM = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      nmRelation = _ref2.nmRelation,\n      _ref2$features = _ref2.features,\n      features = _ref2$features === undefined ? [] : _ref2$features;\n\n  var referencedLayer, referencingLayer, _nmRelation$fieldRef, referencingField, referencedField, relationsNM, values, responseFids;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          referencedLayer = nmRelation.referencedLayer, referencingLayer = nmRelation.referencingLayer, _nmRelation$fieldRef = nmRelation.fieldRef, referencingField = _nmRelation$fieldRef.referencingField, referencedField = _nmRelation$fieldRef.referencedField;\n          relationsNM = []; // start with empty relations result\n\n          if (!features.length) {\n            _context.next = 8;\n            break;\n          }\n\n          values = features.map(function (feature) {\n            return feature.attributes[referencingField];\n          });\n          _context.next = 6;\n          return _data2.default.getData('search:features', {\n            inputs: {\n              layer: _catalogLayers2.default.getLayerById(referencedLayer),\n              filter: '' + createSingleFieldParameter({\n                field: referencedField,\n                value: values,\n                logicop: 'OR'\n              }),\n              formatter: 1, // set formatter to\n              search_endpoint: 'api'\n            },\n            outputs: null\n          });\n\n        case 6:\n          responseFids = _context.sent;\n\n          if (responseFids.data && responseFids.data[0] && Array.isArray(responseFids.data[0].features)) {\n            relationsNM = responseFids.data[0].features.map(function (feature) {\n              var attributes = getAlphanumericPropertiesFromFeature(feature.getProperties()).reduce(function (accumulator, property) {\n                accumulator[property] = feature.get(property);\n                return accumulator;\n              }, {});\n              return {\n                id: feature.getId(),\n                attributes: attributes,\n                geometry: feature.getGeometry()\n              };\n            });\n          }\n\n        case 8:\n          return _context.abrupt('return', relationsNM);\n\n        case 9:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nproto.save = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var url = this.createUrl(options);\n  return XHR.fileDownload({\n    url: url,\n    httpMethod: \"GET\"\n  });\n};\n\nexports.default = new RelationsService();\n\n},{\"core/g3wobject\":12,\"core/utils/geo\":64,\"core/utils/utils\":67,\"services/data\":355,\"store/catalog-layers\":371,\"store/projects\":376}],365:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    Base64 = _require.Base64;\n\nvar G3WObject = require('core/g3wobject');\n\n/*\n * RouterService based on  History.js (https://github.com/browserstate/history.js) e Crossroads (https://github.com/millermedeiros/crossroads.js)\n * Base concept is RouteQuery, example \"map?point=21.2,42.1&zoom=12\",\n * it inserts into browser and URL as quesrystring (q=map@point!21.2,41.1|zoom!12).\n * To run RouteQuery:\n *\n * RouterService.goto(\"map?point=21.2,42.1&zoom=12\");\n *\n *To listen to router has to be add  RouterService.addRoute(pattern, callback). Es.:\n *\n * var route = RouterService.addRoute('map/{?query}',function(query){\n *  console.log(query.point);\n *  console.log(query.zoom);\n * });\n *\n * Patterns:\n *  \"map/{foo}\": la porzione \"foo\" is request, and is passed as parameter in callback\n *  \"map/:foo:\": la porzione \"foo\" è optional, \n *  \"map/:foo*: \n *  \"map/{?querystring}\": mandatory\n *  \"map/:?querystring:\": optionals\n *\n * to remove  route:\n * RouterService.removeRoute(route);\n*/\n\ncrossroads.ignoreState = true;\ncrossroads.greedy = true;\n\nvar RouterService = function RouterService() {\n\n  this._initialLocationQuery;\n  this._routeQuery = '';\n  this.setters = {\n    setRouteQuery: function setRouteQuery(routeQuery) {\n      this._routeQuery = routeQuery;\n      crossroads.parse(routeQuery);\n    }\n  };\n\n  base(this);\n};\ninherit(RouterService, G3WObject);\n\nvar proto = RouterService.prototype;\n\nproto.init = function () {\n  //Return the querystring part of a URL\n  var query = window.location.search;\n  this._setRouteQueryFromLocationQuery(query);\n};\n\nproto.addRoute = function (pattern, handler, priority) {\n  return crossroads.addRoute(pattern, handler, priority);\n};\n\nproto.removeRoute = function (route) {\n  return crossroads.removeRoute(route);\n};\n\nproto.removeAllRoutes = function () {\n  return crossroads.removeAllRoutes();\n};\n\nproto.parse = function (request, defaultArgs) {\n  return crossroads.parse(request, defaultArgs);\n};\n\nproto.goto = function (routeQuery) {\n  if (!this._initialQuery) {\n    this._initialLocationQuery = this._stripInitialQuery(location.search.substring(1));\n  }\n  if (routeQuery) {\n    this.setRouteQuery(routeQuery);\n  }\n};\n\nproto.makePermalink = function (routeQuery) {\n  if (!this._initialQuery) {\n    this._initialLocationQuery = this._stripInitialQuery(location.search.substring(1));\n  }\n  var encodedRouteQuery = this._encodeRouteQuery(routeQuery);\n  //encodedRouteQuery = Base64.encode(encodedRouteQuery);\n  return '?' + this._initialLocationQuery + '&q=' + this._encodeRouteQuery(routeQuery);\n};\n\nproto.makeQueryString = function (queryParams) {};\n\nproto.slicePath = function (path) {\n  return path.split('?')[0].split('/');\n};\n\nproto.sliceFirst = function (path) {\n  var pathAndQuery = path.split('?');\n  var queryString = pathAndQuery[1];\n  var pathArr = pathAndQuery[0].split('/');\n  var firstPath = pathArr[0];\n  path = pathArr.slice(1).join('/');\n  path = [path, queryString].join('?');\n  return [firstPath, path];\n};\n\nproto.getQueryParams = function (query) {\n  query = query.replace('?', '');\n  var queryParams = {};\n  var queryPairs = [];\n  if (query != \"\" && query.indexOf(\"&\") == -1) {\n    queryPairs = [query];\n  } else {\n    queryPairs = query.split('&');\n  }\n  try {\n    _.forEach(queryPairs, function (queryPair) {\n      var pair = queryPair.split('=');\n      var key = pair[0];\n      var value = pair[1];\n      queryParams[key] = value;\n    });\n  } catch (e) {}\n  return queryParams;\n};\n\nproto.getQueryString = function (path) {\n  return path.split('?')[1];\n};\n\nproto._getQueryPortion = function (query, queryKey) {\n  var queryPortion;\n  try {\n    var queryPairs = query.split('&');\n    var queryParams = {};\n    _.forEach(queryPairs, function (queryPair) {\n      var pair = queryPair.split('=');\n      var key = pair[0];\n      if (key == queryKey) {\n        queryPortion = queryPair;\n      }\n    });\n  } catch (e) {}\n  return queryPortion;\n};\n\nproto._encodeRouteQuery = function (routeQuery) {\n  routeQuery = routeQuery.replace('?', '@');\n  routeQuery = routeQuery.replace('&', '|');\n  routeQuery = routeQuery.replace('=', '!');\n  return routeQuery;\n};\n\nproto._decodeRouteQuery = function (routeQuery) {\n  routeQuery = routeQuery.replace('@', '?');\n  routeQuery = routeQuery.replace('|', '&');\n  routeQuery = routeQuery.replace('!', '=');\n  return routeQuery;\n};\n\nproto._setRouteQueryFromLocationQuery = function (locationQuery) {\n  var encodedRouteQuery = this._getRouteQueryFromLocationQuery(locationQuery);\n  //encodedRouteQuery = Base64.decode(encodedRouteQuery);\n  if (encodedRouteQuery) {\n    var routeQuery = this._decodeRouteQuery(encodedRouteQuery);\n    this.setRouteQuery(routeQuery);\n  }\n};\n\nproto._getRouteQueryFromLocationQuery = function (locationQuery) {\n  return this.getQueryParams(locationQuery)['q'];\n};\n\nproto._stripInitialQuery = function (locationQuery) {\n  var previousQuery = this._getQueryPortion(locationQuery, 'q');\n  if (previousQuery) {\n    var previousQueryLength = previousQuery.length;\n    var previousQueryPosition = locationQuery.indexOf(previousQuery);\n    queryPrefix = _.trimEnd(locationQuery.substring(0, previousQueryPosition), \"&\");\n    querySuffix = locationQuery.substring(previousQueryPosition + previousQueryLength);\n    querySuffix = queryPrefix != \"\" ? querySuffix : _.trimStart(querySuffix, \"&\");\n    locationQuery = queryPrefix + querySuffix;\n  }\n  return locationQuery;\n};\n\nexports.default = new RouterService();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],366:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file\n                                                                                                                                                                                                                                                                   * @since v3.7\n                                                                                                                                                                                                                                                                   */\n\nvar _SidebarItem = require('components/SidebarItem.vue');\n\nvar _SidebarItem2 = _interopRequireDefault(_SidebarItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('gui/utils/utils'),\n    Stack = _require2.barstack;\n\nvar G3WObject = require('core/g3wobject');\n\n/**\n * TODO: temporary need to remove it\n */\nvar SidebarItem = Vue.extend(_SidebarItem2.default);\n\nfunction SidebarService() {\n  //set sidebar stack\n  this.stack = new Stack();\n  // set setter for close sidebarpanel to catch event\n  // of closing panel of the sidebar\n  this.setters = {\n    closeSidebarPanel: function closeSidebarPanel() {},\n    openCloseItem: function openCloseItem(bool) {}\n  };\n  //service state\n  this.state = {\n    components: [],\n    gui: {\n      title: ''\n    },\n    disabled: false\n  };\n  //inizialize method\n  this.init = function (layout) {\n    this.layout = layout;\n  };\n  // add component to sidebar\n  this.addComponents = function (components) {\n    var _this = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    //for each component of the sidebar it is call addComponent method\n    components.forEach(function (component) {\n      return _this.addComponent(component, options);\n    });\n    return true;\n  };\n  // add each component to the sidebar\n  // add also position insiede the sidebar\n  this.addComponent = function (component) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var position = options.position,\n        _options$before = options.before,\n        before = _options$before === undefined ? true : _options$before,\n        info = options.info;\n\n    if (isMobile.any && !component.mobile) {\n      return false;\n    }\n    var sidebarItem = new SidebarItem({\n      service: this,\n      info: info,\n      component: component\n    });\n    sidebarItem.title = component.title || sidebarItem.title;\n    sidebarItem.info = component.info || sidebarItem.info;\n    sidebarItem.actions = component.actions || sidebarItem.actions;\n    sidebarItem.open = component.state.open; //(component.open === undefined) ? sidebarItem.open : component.open;\n    sidebarItem.icon = component.icon || sidebarItem.icon;\n    sidebarItem.iconColor = component.iconColor;\n    sidebarItem.state = component.state || true;\n    sidebarItem.collapsible = typeof component.collapsible === 'boolean' ? component.collapsible : true;\n    sidebarItem.isolate = typeof component.isolate === 'boolean' ? component.isolate : false;\n    //append component to  g3w-sidebarcomponents (template sidebar.html)\n    var DOMComponent = sidebarItem.$mount().$el;\n    this.state.components.push(component);\n    var isPanelSidebarShow = $('.g3w-sidebarpanel').is(':visible');\n    var sidebarcomponetsdomid = '#g3w-sidebarcomponents' + (isPanelSidebarShow ? ':hidden' : '');\n    var children = $(sidebarcomponetsdomid).children().filter(function () {\n      return this.style.display !== 'none';\n    });\n    var childrenLength = children.length;\n    if (position === null || position === undefined || position < 0 || position >= childrenLength) $(sidebarcomponetsdomid).append(DOMComponent);else children.each(function (index, element) {\n      var findElementIndexId = Number.isInteger(position) ? position === index : element.id === position;\n      findElementIndexId && $(DOMComponent)['insert' + (before ? 'Before' : 'After')](element);\n    });\n    //mount componet to g3w-sidebarcomponent-placeholder (template sidebar-item.html);\n    component.mount(\"#g3w-sidebarcomponent-placeholder\");\n    // check if componentonent has iniService method\n    component.initService && component.initService();\n    // add click handler\n    this.setComponentClickHandler(component);\n    return true;\n  };\n\n  this.setComponentClickHandler = function (component) {\n    component.click = function () {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$open = _ref.open,\n          open = _ref$open === undefined ? false : _ref$open;\n\n      open = open || false;\n      $(component.getInternalComponent().$el).siblings('a').click();\n      component.setOpen(open);\n    };\n  };\n\n  // get component by id\n  this.getComponent = function (id) {\n    return this.state.components.find(function (component) {\n      return component.getId() === id;\n    });\n  };\n\n  // get all components\n  this.getComponents = function () {\n    return this.state.components;\n  };\n\n  /**\n   * close for the moment only conlapsbale\n   */\n  this.closeOpenComponents = function () {\n    var collapsible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    this.getComponents().forEach(function (component) {\n      return component.closeWhenViewportContentIsOpen() && component.collapsible && component.click({ open: false });\n    });\n  };\n\n  this.reloadComponent = function (id) {\n    var component = this.getComponent(id);\n    component && component.reload();\n  };\n\n  this.reloadComponents = function () {\n    // force close of the panel\n    this.closePanel();\n    this.state.components.forEach(function (component) {\n      if (component.collapsible && component.state.open) component.click({ open: false });\n      component.reload();\n    });\n  };\n  //remove component\n  this.removeComponent = function (component) {\n    var _this2 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var position = options.position;\n\n    this.state.components.forEach(function (sidebarComponent, index) {\n      if (component === sidebarComponent) {\n        component.unmount();\n        _this2.state.components.splice(index, 1);\n        if (position !== undefined && Number.isInteger(position)) $('#g3w-sidebarcomponents').children(':visible')[position].remove();else $('#g3w-sidebarcomponents').children('#' + component.id).remove();\n        return false;\n      }\n    });\n  };\n  // show panel on stack\n  this.showPanel = function (panel) {\n    var _this3 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return new Promise(function (resolve, reject) {\n      _this3.state.gui.title = panel.title;\n      var parent = \"#g3w-sidebarpanel-placeholder\";\n      _this3.stack.getCurrentContentData() && $(_this3.stack.getCurrentContentData().content.internalPanel.$el).hide();\n      _this3.stack.push(panel, _extends({\n        parent: parent\n      }, options)).then(function (content) {\n        return resolve(content);\n      });\n    });\n  };\n\n  // close panel\n  this.closePanel = function () {\n    var _this4 = this;\n\n    this.state.gui.title = null;\n    this.closeSidebarPanel();\n    this.stack.pop().then(function (content) {\n      content = null;\n      _this4.stack.getCurrentContentData() && $(_this4.stack.getCurrentContentData().content.internalPanel.$el).show();\n    });\n  };\n\n  this.closeAllPanels = function () {\n    this.state.gui.title = null;\n    this.closeSidebarPanel();\n    this.stack.clear();\n  };\n\n  base(this);\n}\n\ninherit(SidebarService, G3WObject);\n\nexports.default = new SidebarService();\n\n},{\"components/SidebarItem.vue\":293,\"core/g3wobject\":12,\"core/utils/utils\":67,\"gui/utils/utils\":187}],367:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\n/**\n * Singletone service to run async task\n * @constructor\n */\n\n\nfunction TaskService() {\n  /**\n   * Array contain all task id that are running. Each item is an object contain:\n   * {\n   *   taskId: //taskId,\n   *   intervalId: interval to clear clearInterval()\n   * }\n   **/\n  var tasks = [];\n  /**\n   *\n   * @param options: {\n   *   method: http method to run task GET/POST\n   *   url: api request url (that server start in background task)\n   *   taskUrl = url to ask the status og task\n   *   params: Object contain param to http/https request\n   *   interval: interval in milliseconds to do a request for ask status of task (default 10000 - 1 second)\n   *   listener: ()=>{} method to call\n   *\n   * }\n   *\n   * return a Promise that return a task id\n   */\n  this.runTask = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var _this = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _options$method, method, _options$params, params, url, taskUrl, _options$interval, interval, _options$timeout, timeout, _options$listener, listener, response, result, task_id, intervalId;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _options$method = options.method, method = _options$method === undefined ? 'GET' : _options$method, _options$params = options.params, params = _options$params === undefined ? {} : _options$params, url = options.url, taskUrl = options.taskUrl, _options$interval = options.interval, interval = _options$interval === undefined ? 1000 : _options$interval, _options$timeout = options.timeout, timeout = _options$timeout === undefined ? Infinity : _options$timeout, _options$listener = options.listener, listener = _options$listener === undefined ? function () {} : _options$listener;\n            _context2.prev = 1;\n\n            if (!(method === 'GET')) {\n              _context2.next = 8;\n              break;\n            }\n\n            _context2.next = 5;\n            return XHR.get({\n              url: url,\n              params: params\n            });\n\n          case 5:\n            _context2.t0 = _context2.sent;\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.next = 10;\n            return XHR.post({\n              url: url,\n              data: params.data || {},\n              contentType: params.contentType || \"application/json\"\n            });\n\n          case 10:\n            _context2.t0 = _context2.sent;\n\n          case 11:\n            response = _context2.t0;\n            result = response.result, task_id = response.task_id;\n\n            if (!result) {\n              _context2.next = 19;\n              break;\n            }\n\n            intervalId = setInterval(_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var _response;\n\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      // check if timeout is defined\n                      timeout = timeout - interval;\n\n                      if (!(timeout > 0)) {\n                        _context.next = 15;\n                        break;\n                      }\n\n                      _response = void 0;\n                      _context.prev = 3;\n                      _context.next = 6;\n                      return XHR.get({\n                        url: '' + taskUrl + task_id\n                      });\n\n                    case 6:\n                      _response = _context.sent;\n                      _context.next = 12;\n                      break;\n\n                    case 9:\n                      _context.prev = 9;\n                      _context.t0 = _context['catch'](3);\n\n                      _response = _context.t0;\n\n                    case 12:\n                      listener({\n                        task_id: task_id,\n                        timeout: false,\n                        response: _response\n                      });\n                      _context.next = 17;\n                      break;\n\n                    case 15:\n                      listener({\n                        timeout: true\n                      });\n                      _this.stopTask({\n                        task_id: task_id\n                      });\n\n                    case 17:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this, [[3, 9]]);\n            })), interval);\n\n            // add current task to list of task\n\n            tasks.push({\n              task_id: task_id,\n              intervalId: intervalId\n            });\n\n            // run first time listener function\n            listener({\n              task_id: task_id,\n              response: response\n            });\n            _context2.next = 20;\n            break;\n\n          case 19:\n            return _context2.abrupt('return', Promise.reject(response));\n\n          case 20:\n            _context2.next = 25;\n            break;\n\n          case 22:\n            _context2.prev = 22;\n            _context2.t1 = _context2['catch'](1);\n            return _context2.abrupt('return', Promise.reject(_context2.t1));\n\n          case 25:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[1, 22]]);\n  }));\n\n  /**\n   *\n   * @param options: {\n   *   taskId: taskId that is running\n   * }\n   */\n  this.stopTask = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var task_id = options.task_id;\n\n    var task = tasks.find(function (task) {\n      return task.task_id === task_id;\n    });\n    if (task) clearInterval(task.intervalId);\n  };\n\n  /**\n   * clare all task\n   */\n  this.clear = function () {\n    var _this2 = this;\n\n    tasks.forEach(function (_ref3) {\n      var taskId = _ref3.taskId;\n\n      _this2.stopTask({\n        taskId: taskId\n      });\n    });\n    //reset to empty tasks\n    tasks.splice(0);\n  };\n}\n\n/**\n * SERVER\n * \"\"\"Returns the (possibly) new layer ID where the isochrone\n data has been added. If the task has not yet completed a status message is returned\n\n Note: `project_id` is only used for permissions checking!\n\n Returns 500 in case of exceptions\n Returns 404 in case of task not found\n Returns 200 ok for all other cases\n\n Response body:\n\n {\n            \"status\": \"complete\",  // or \"pending\" or \"error\", full list at\n                                   // https://huey.readthedocs.io/en/latest/signals.html#signals\n            \"exception\": \"Normally empty, error message in case of errors\",\n            \"progress\": [\n                100,  // Progress %\n            ],\n            \"task_result\": {\n                \"qgis_ayer_id\": \"4f2a88a1-ca93-4859-9de3-75d9728cde0e\"\n            }\n        }\n\n **/\n\nexports.default = new TaskService();\n\n},{\"core/utils/utils\":67}],368:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\nvar ViewportService = function ViewportService() {\n  // state of viewport\n  this.state = {\n    primaryView: 'map', // primary view (default)\n    // percentage of secondary view\n    secondaryPerc: 0, // setted to 0 at beginning (not visible)\n    // used to store if content vertical or horizontal is  changed by resised\n    resized: {\n      start: false,\n      'h': false,\n      'v': false\n    },\n    // splitting orientation (h = horizontal, v = vertical)\n    split: 'h',\n    //map\n    map: {\n      sizes: {\n        width: 0,\n        height: 0\n      },\n      aside: false\n    },\n    //content\n    content: {\n      loading: false,\n      disabled: false,\n      sizes: {\n        width: 0,\n        height: 0\n      },\n      // store the resize vertical or horizontal\n      resize: {\n        'h': {\n          perc: 0\n        },\n        'v': {\n          perc: 0\n        }\n      },\n      aside: true,\n      showgoback: true,\n      stack: [], // array elements of  stack contents\n      closable: true, // (x) is closable\n      backonclose: false, // back on prevoius content\n      contentsdata: [] // content data array\n    },\n    usermessage: {\n      id: null, // unique identify\n      show: false,\n      title: null,\n      message: null,\n      position: null,\n      type: null,\n      draggable: null,\n      cloasable: null,\n      autoclose: null,\n      textMessage: false,\n      hooks: {\n        header: null,\n        body: null,\n        footer: null\n      }\n    }\n  };\n  // content of viewport (map and content)\n  this._components = {\n    map: null,\n    content: null\n  };\n  // default contents\n  this._defaultMapComponent;\n  this._contextualMapComponent;\n\n  // minimun height and width of secondary view\n  this._secondaryViewMinWidth = _constant.VIEWPORT.resize.content.min;\n  this._secondaryViewMinHeight = _constant.VIEWPORT.resize.content.min;\n  this._immediateComponentsLayout = true;\n  this.init = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _options$primaryview = options.primaryview,\n        primaryview = _options$primaryview === undefined ? 'map' : _options$primaryview,\n        _options$split = options.split,\n        split = _options$split === undefined ? 'h' : _options$split,\n        components = options.components;\n    // check if it set primary view (map is default)\n\n    this.state.primaryView = primaryview;\n    // check splitting property\n    this.state.split = split;\n    // add component (map and content)\n    this._addComponents(components);\n  };\n\n  // Method to set true or false of content\n  this.setResized = function (type) {\n    var bool = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    this.state.resized[type] = bool;\n  };\n\n  this.showUserMessage = function () {\n    var _this = this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        title = _ref.title,\n        subtitle = _ref.subtitle,\n        message = _ref.message,\n        type = _ref.type,\n        position = _ref.position,\n        size = _ref.size,\n        draggable = _ref.draggable,\n        duration = _ref.duration,\n        _ref$textMessage = _ref.textMessage,\n        textMessage = _ref$textMessage === undefined ? false : _ref$textMessage,\n        closable = _ref.closable,\n        autoclose = _ref.autoclose,\n        _ref$hooks = _ref.hooks,\n        hooks = _ref$hooks === undefined ? {} : _ref$hooks;\n\n    this.closeUserMessage();\n    setTimeout(function () {\n      _this.state.usermessage.id = uniqueId();\n      _this.state.usermessage.show = true;\n      _this.state.usermessage.message = message;\n      _this.state.usermessage.textMessage = textMessage;\n      _this.state.usermessage.title = title;\n      _this.state.usermessage.subtitle = subtitle;\n      _this.state.usermessage.position = position;\n      _this.state.usermessage.duration = duration;\n      _this.state.usermessage.type = type;\n      _this.state.usermessage.show = true;\n      _this.state.usermessage.size = size;\n      _this.state.usermessage.autoclose = autoclose;\n      _this.state.usermessage.closable = closable;\n      _this.state.usermessage.draggable = draggable;\n      _this.state.usermessage.hooks.header = hooks.header; // has to be a vue component or vue object\n      _this.state.usermessage.hooks.body = hooks.body; // has to be a vue component or vue object\n      _this.state.usermessage.hooks.footer = hooks.footer; // has to be a vue component or vue object\n    });\n    return this.state.usermessage;\n  };\n\n  this.closeUserMessage = function () {\n    this.state.usermessage.id = null;\n    this.state.usermessage.show = false;\n    this.state.usermessage.textMessage = false;\n    this.state.usermessage.message = '';\n  };\n\n  this.getState = function () {\n    return this.state;\n  };\n\n  this.getMapState = function () {\n    return this.state.map;\n  };\n\n  this.getContentState = function () {\n    return this.state.content;\n  };\n\n  this.setLoadingContent = function () {\n    var loading = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.state.content.loading = loading;\n  };\n\n  this._addComponents = function (components) {\n    var _this2 = this;\n\n    // components is an object\n    //(index.js)\n    /*\n     {\n      map: new MapComponent({\n        id: 'map'\n      }),\n      content: new ContentsComponent({\n        id: 'contents'\n      })\n     }\n     */\n    Object.entries(components).forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          viewName = _ref3[0],\n          component = _ref3[1];\n\n      // check if component are map or content\n      if (Object.keys(_this2._components).indexOf(viewName) > -1) {\n        component.mount('#g3w-view-' + viewName, true).then(function () {\n          _this2._components[viewName] = component;\n          // check if view name is map\n          if (viewName === 'map') _this2._defaultMapComponent = component; // set de default component to map\n        }).fail(function (err) {\n          return console.log(err);\n        });\n      }\n    });\n  };\n\n  this.showMap = function () {\n    this._toggleMapComponentVisibility(this._defaultMapComponent, true);\n    this._components['map'] = this._defaultMapComponent;\n    this._showView('map');\n  };\n\n  this.showContextualMap = function () {\n    var _this3 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this._contextualMapComponent) this._contextualMapComponent = this._defaultMapComponent;\n    if (this._contextualMapComponent != this._defaultMapComponent) this._toggleMapComponentVisibility(this._defaultMapComponent, false);\n    if (!this._contextualMapComponent.ismount()) {\n      var contextualMapComponent = this._contextualMapComponent;\n      contextualMapComponent.mount('#g3w-view-map', true).then(function () {\n        return _this3._components['map'] = contextualMapComponent;\n      });\n    } else {\n      this._components['map'] = this._contextualMapComponent;\n      this._toggleMapComponentVisibility(this._contextualMapComponent, true);\n    }\n    this._showView('map', options);\n  };\n\n  // get default component\n  this.recoverDefaultMap = function () {\n    if (this._components['map'] !== this._defaultMapComponent) {\n      this._components['map'] = this._defaultMapComponent;\n      this._toggleMapComponentVisibility(this._contextualMapComponent, false);\n      this._toggleMapComponentVisibility(this._defaultMapComponent, true);\n    }\n    return this._components['map'];\n  };\n\n  this.setContextualMapComponent = function (mapComponent) {\n    if (mapComponent === this._defaultMapComponent) return;\n    if (this._contextualMapComponent) this._contextualMapComponent.unmount();\n    this._contextualMapComponent = mapComponent;\n  };\n\n  this.resetContextualMapComponent = function () {\n    this._contextualMapComponent && this._contextualMapComponent.unmount();\n    this._contextualMapComponent = this._defaultMapComponent;\n  };\n\n  this._toggleMapComponentVisibility = function (mapComponent, toggle) {\n    mapComponent.internalComponent.$el.style.display = toggle ? 'block' : 'none';\n  };\n\n  // close map method\n  this.closeMap = function () {\n    this.state.secondaryPerc = this.state.primaryView === 'map' ? 100 : 0;\n    this.recoverDefaultMap();\n    this._layout();\n  };\n\n  // show content of the viewport content\n  /*\n   options: {\n     content: (string, jQuery elemento or Vue component)\n     title: Title of the content\n     push: (opyionale, default false): if yes the content is push on top of the stack (contentStack)\n     split: (optional, default 'h'): 'h' || 'v' splitting map and content orientation\n     perc: (optional, default 50): percentage of content\n   }\n   */\n\n  this.showContent = function () {\n    var _this4 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    options.perc = options.perc !== undefined ? options.perc : this.getContentPercentageFromCurrentLayout();\n    // check if push is set\n    options.push = options.push || false;\n    var evenContentName = options.perc === 100 ? 'show-content-full' : 'show-content';\n    // set all content parameters\n    this._prepareContentView(options);\n    // immediate layout false (to understand better)\n    this._immediateComponentsLayout = false;\n    // call show view (in this case content (other is map)\n    this._showView('content', options);\n    this._components.content.setContent(options).then(function () {\n      _this4._immediateComponentsLayout = true;\n      _this4._layoutComponents(evenContentName);\n    });\n  };\n\n  // hide content\n  this.hideContent = function (bool) {\n    var prevContentPerc = this.getContentPercentageFromCurrentLayout(this.state.split);\n    this.state.secondaryVisible = !bool;\n    this._layout('hide-content');\n    // return previous percentage\n    return prevContentPerc;\n  };\n\n  this.resetToDefaultContentPercentage = function () {\n    var currentRightPanel = this.getCurrentContentLayout();\n    currentRightPanel['' + (this.state.split === 'h' ? 'width' : 'height')] = currentRightPanel[(this.state.split === 'h' ? 'width' : 'height') + '_default'];\n    currentRightPanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'] = false;\n    this._layoutComponents();\n  };\n\n  this.toggleFullViewContent = function () {\n    _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'] = !_applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'];\n    this._layoutComponents();\n  };\n\n  this.isFullViewContent = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'];\n  };\n\n  this.contentLength = function () {\n    return this.state.content.contentsdata.length;\n  };\n\n  // pull the last element of contentStack\n  this.popContent = function () {\n    var _this5 = this;\n\n    var d = $.Deferred();\n    // check if content exist compontentStack\n    if (this.state.content.contentsdata.length) {\n      this.recoverDefaultMap();\n      var data = this._components.content.getPreviousContentData();\n      this._prepareContentView(data.options);\n      this._immediateComponentsLayout = false;\n      this._showView('content', data.options);\n      this._components.content.popContent().then(function () {\n        _this5.state.secondaryPerc = data.options.perc;\n        _this5._immediateComponentsLayout = true;\n        _this5._layout('pop-content');\n        d.resolve(_this5._components.contentgetCurrentContentData);\n      });\n    } else d.reject();\n    return d.promise();\n  };\n\n  /**\n   * Return current compoent data\n   * @returns {*}\n   */\n  this.getCurrentContent = function () {\n    return this.contentLength() ? this.state.content.contentsdata[this.contentLength() - 1] : null;\n  };\n\n  this.getCurrentContentTitle = function () {\n    var currentContent = this.getCurrentContent();\n    return currentContent && currentContent.options.title;\n  };\n\n  this.getCurrentContentId = function () {\n    var currentContent = this.getCurrentContent();\n    return currentContent && currentContent.options.id;\n  };\n\n  this.changeCurrentContentOptions = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var currentContent = this.getCurrentContent();\n    if (currentContent) {\n      var title = options.title,\n          crumb = options.crumb;\n\n      if (title) currentContent.options.title = title;\n      if (crumb) currentContent.options.crumb = crumb;\n    }\n  };\n\n  this.changeCurrentContentTitle = function () {\n    var title = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n    var currentContent = this.getCurrentContent();\n    if (currentContent) currentContent.options.title = title;\n  };\n\n  this.isContentOpen = function () {\n    return !!this.state.content.contentsdata.length;\n  };\n\n  // close  content\n  this.closeContent = function () {\n    var _this6 = this;\n\n    var d = $.Deferred();\n    if (this.isContentOpen()) {\n      //.setFullViewContent(false);\n      this._components.content.removeContent();\n      // close secondary view( return a promise)\n      this.closeSecondaryView('close-content').then(function () {\n        //recover default map\n        var mapComponent = _this6.recoverDefaultMap();\n        d.resolve(mapComponent);\n      });\n    } else {\n      var mapComponent = this.recoverDefaultMap();\n      d.resolve(mapComponent);\n    }\n    return d.promise();\n  };\n\n  this.disableContent = function (disabled) {\n    this.state.content.disabled = disabled;\n  };\n\n  this.removeContent = function () {\n    // check if backonclose proprerty is  true o false\n    // to remove all content stack or just last component\n    if (this.state.content.backonclose && this.state.content.contentsdata.length > 1) this.popContent();else return this.closeContent();\n  };\n\n  this.isPrimaryView = function (viewName) {\n    return this.state.primaryView == viewName;\n  };\n\n  this.setPrimaryView = function (viewTag) {\n    if (this.state.primaryView !== viewTag) this.state.primaryView = viewTag;\n    this._layout();\n  };\n\n  this.showPrimaryView = function () {\n    var perc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    if (perc && this.state.secondaryVisible && this.state.secondaryPerc === 100) {\n      this.state.secondaryPerc = 100 - perc;\n      this._layout();\n    }\n  };\n\n  this.showSecondaryView = function () {\n    var split = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n    var perc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state.perc;\n\n    this.state.secondaryVisible = true;\n    this.state.split = split;\n    this.state.secondaryPerc = perc;\n    this._layout();\n  };\n\n  // close secondary view\n  this.closeSecondaryView = function () {\n    var _this7 = this;\n\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var d = $.Deferred();\n    var secondaryViewComponent = this._components[this._otherView(this.state.primaryView)];\n    if (secondaryViewComponent.clearContents) {\n      secondaryViewComponent.clearContents().then(function () {\n        _this7.state.secondaryVisible = false;\n        _this7.state.secondaryPerc = 0;\n        _this7._layout(event);\n        Vue.nextTick(function () {\n          return d.resolve();\n        });\n      });\n    } else {\n      this.state.secondaryVisible = false;\n      this._layout(event);\n      Vue.nextTick(function () {\n        return d.resolve();\n      });\n    }\n    return d.promise();\n  };\n\n  this.getDefaultViewPerc = function (viewName) {\n    return this.isPrimaryView(viewName) ? 100 : 50;\n  };\n\n  // return the opposite view\n  this._otherView = function (viewName) {\n    return viewName === 'map' ? 'content' : 'map';\n  };\n\n  this._isSecondary = function (view) {\n    return this.state.primaryView !== view;\n  };\n\n  this._setPrimaryView = function (viewTag) {\n    if (this.state.primaryView !== viewTag) this.state.primaryView = viewTag;\n  };\n\n  /**\n   * Set the state of content (right or bottom content other than map)\n   * @param options\n   * @private\n   */\n  this._prepareContentView = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var title = options.title,\n        _options$split2 = options.split,\n        split = _options$split2 === undefined ? null : _options$split2,\n        _options$closable = options.closable,\n        closable = _options$closable === undefined ? true : _options$closable,\n        _options$backonclose = options.backonclose,\n        backonclose = _options$backonclose === undefined ? true : _options$backonclose,\n        _options$style = options.style,\n        style = _options$style === undefined ? {} : _options$style,\n        _options$showgoback = options.showgoback,\n        showgoback = _options$showgoback === undefined ? true : _options$showgoback,\n        _options$headertools = options.headertools,\n        headertools = _options$headertools === undefined ? [] : _options$headertools;\n\n    this.state.content.title = title;\n    this.state.content.split = split;\n    this.state.content.closable = closable;\n    this.state.content.backonclose = backonclose;\n    this.state.content.contentsdata = this._components.content.contentsdata;\n    this.state.content.style = style;\n    this.state.content.headertools = headertools;\n    this.state.content.showgoback = showgoback;\n  };\n\n  // manage all layout logic\n  // viewName: map or content\n  //options.  percentage , splitting title etc ..\n  this._showView = function (viewName) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _options$perc = options.perc,\n        perc = _options$perc === undefined ? this.getDefaultViewPerc(viewName) : _options$perc,\n        _options$split3 = options.split,\n        split = _options$split3 === undefined ? 'h' : _options$split3;\n\n    var aside = void 0;\n    if (this.isPrimaryView(viewName)) aside = typeof options.aside == 'undefined' ? false : options.aside;else aside = true;\n    this.state[viewName].aside = aside;\n    //calculate the content\n    var secondaryPerc = this.isPrimaryView(viewName) ? 100 - perc : perc;\n    //show Secondary View content only if more then 0\n    if (secondaryPerc > 0) this.showSecondaryView(split, secondaryPerc);else return this.closeSecondaryView();\n  };\n\n  this._getReducedSizes = function () {\n    var contentEl = $('.content');\n    var reducedWidth = 0;\n    var reducedHeight = 0;\n    var sideBarToggleEl = $('.sidebar-aside-toggle');\n    if (contentEl && this.state.secondaryVisible && this.isFullViewContent()) {\n      if (sideBarToggleEl && sideBarToggleEl.is(':visible')) {\n        var toggleWidth = sideBarToggleEl.outerWidth();\n        contentEl.css('padding-left', toggleWidth + 5);\n        reducedWidth = toggleWidth - 5;\n      }\n    } else {\n      var _toggleWidth = sideBarToggleEl.outerWidth();\n      contentEl.css('padding-left', this.state.secondaryPerc === 100 ? _toggleWidth + 5 : 15);\n    }\n    return {\n      reducedWidth: reducedWidth,\n      reducedHeight: reducedHeight\n    };\n  };\n\n  //main layout function\n  this._layout = function () {\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var reducesdSizes = this._getReducedSizes();\n    this._setViewSizes(reducesdSizes.reducedWidth, reducesdSizes.reducedHeight);\n    if (this._immediateComponentsLayout) this._layoutComponents(event);\n  };\n\n  this._setViewSizes = function () {\n    var primaryView = this.state.primaryView;\n    var secondaryView = this._otherView(primaryView);\n\n    var _getViewportSize = this.getViewportSize(),\n        viewportWidth = _getViewportSize.width,\n        viewportHeight = _getViewportSize.height;\n    // assign all width and height of the view to primary view (map)\n\n\n    var primaryWidth = void 0;\n    var primaryHeight = void 0;\n    var secondaryWidth = void 0;\n    var secondaryHeight = void 0;\n    // percentage of secondary view (content)\n    var scale = (this.state.secondaryPerc !== 100 && !this.isFullViewContent() ? this.getContentPercentageFromCurrentLayout(this.state.split) : 100) / 100;\n    if (this.state.split === 'h') {\n      secondaryWidth = this.state.secondaryVisible ? Math.max(viewportWidth * scale, this._secondaryViewMinWidth) : 0;\n      secondaryHeight = viewportHeight;\n      primaryWidth = viewportWidth - secondaryWidth;\n      primaryHeight = viewportHeight;\n    } else {\n      secondaryWidth = viewportWidth;\n      secondaryHeight = this.state.secondaryVisible ? Math.max(viewportHeight * scale, this._secondaryViewMinHeight) : 0;\n      primaryWidth = this.state.secondaryVisible && scale === 1 ? 0 : viewportWidth;\n      primaryHeight = viewportHeight - secondaryHeight;\n    }\n    this.state[primaryView].sizes.width = primaryWidth;\n    this.state[primaryView].sizes.height = primaryHeight;\n    this.state[secondaryView].sizes.width = secondaryWidth;\n    this.state[secondaryView].sizes.height = secondaryHeight;\n  };\n\n  this.getViewportSize = function () {\n    return {\n      width: this._viewportWidth(),\n      height: this._viewportHeight()\n    };\n  };\n\n  this._viewportHeight = function () {\n    var topHeight = $('.navbar-header').innerHeight();\n    return $(document).innerHeight() - topHeight;\n  };\n\n  this._viewportWidth = function () {\n    var main_sidebar = $(\".main-sidebar\");\n    var offset = main_sidebar.length && main_sidebar.offset().left;\n    var width = main_sidebar.length && main_sidebar[0].getBoundingClientRect().width;\n    var sideBarSpace = width + offset;\n    return $('#app')[0].getBoundingClientRect().width - sideBarSpace;\n  };\n\n  /**\n   * Method that se resize. Is called by moveFnc that is called from resize (vertical or horiziontal) component\n   * @param type\n   * @param sizes\n   * @param perc\n   */\n  this.resizeViewComponents = function (type) {\n    var sizes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var perc = arguments[2];\n\n    this.setResized(type, true);\n    this.setContentPercentageFromCurrentLayout(type, perc);\n    this._layout('resize');\n  };\n\n  /**\n   * Get current information layout\n   * @param type\n   * @param perc\n   */\n  this.setContentPercentageFromCurrentLayout = function () {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n    var perc = arguments[1];\n\n    this.getCurrentContentLayout()[type === 'h' ? 'width' : 'height'] = perc;\n  };\n\n  this.getContentPercentageFromCurrentLayout = function () {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n\n    return this.getCurrentContentLayout()[type === 'h' ? 'width' : 'height'];\n  };\n\n  this.getCurrentContentLayout = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel;\n  };\n\n  // load components of  viewport\n  // after right size setting\n  this._layoutComponents = function () {\n    var _this8 = this;\n\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    requestAnimationFrame(function () {\n      var reducesdSizes = _this8._getReducedSizes();\n      var reducedWidth = reducesdSizes.reducedWidth || 0;\n      var reducedHeight = reducesdSizes.reducedHeight || 0;\n      // for each components\n      _this8._setViewSizes();\n      Object.entries(_this8._components).forEach(function (_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n            name = _ref5[0],\n            component = _ref5[1];\n\n        var width = _this8.state[name].sizes.width - reducedWidth;\n        var height = _this8.state[name].sizes.height - reducedHeight;\n        component.layout(width, height);\n      });\n      event && setTimeout(function () {\n        _this8.emit(event);\n        _gui2.default.emit(event);\n      });\n    });\n  };\n\n  /**\n   * function called at start of application (just one time)\n   * @private\n   */\n  this._firstLayout = function () {\n    var _this9 = this;\n\n    var drawing = false;\n    var resizeFired = false;\n    function triggerResize() {\n      resizeFired = true;\n      drawResize();\n    }\n    /**\n     * function called from resize of browser windows (also open dev tool)\n     */\n    var drawResize = function drawResize() {\n      if (resizeFired === true) {\n        resizeFired = false;\n        drawing = true;\n        _this9._layout('resize');\n        requestAnimationFrame(drawResize);\n      } else {\n        drawing = false;\n      }\n    };\n    // GUI ready event\n    _gui2.default.on('ready', function () {\n      /**\n       * SetSidebar width (used by components/Viewport.vue single file component)\n       */\n      _this9.SIDEBARWIDTH = _gui2.default.getSize({ element: 'sidebar', what: 'width' });\n      _this9._layout();\n      _gui2.default.on('guiresized', function () {\n        return triggerResize();\n      });\n      // resize della window\n      $(window).resize(function () {\n        // set resizedFired to true and execute drawResize if it's not already running\n        drawing === false && triggerResize();\n      });\n      // resize on main siedemar open close sidebar\n      $('.main-sidebar').on('webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd', function (event) {\n        //be sure that is the main sidebar that is transitioned non his child\n        if (event.target === this) {\n          $(this).trigger('trans-end');\n          triggerResize();\n        }\n      });\n    });\n  };\n  this._firstLayout();\n  base(this);\n};\n\ninherit(ViewportService, G3WObject);\n\n//singleton\nexports.default = new ViewportService();\n\n},{\"app/constant\":4,\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/gui\":358,\"store/application-state\":370}],369:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\n// Store all workflow activated\nvar WorkFlowsStack = function WorkFlowsStack() {\n  this._workflows = [];\n  this.push = function (workflow) {\n    if (this._workflows.indexOf(workflow) === -1) return this._workflows.push(workflow) - 1;\n    return this._workflows.indexOf(workflow);\n  };\n\n  /**\n  * Get parent\n  * @returns {boolean|*}\n  */\n  this.getParent = function () {\n    var index = this._getCurrentIndex();\n    return index > 0 && this._workflows[index - 1];\n  };\n\n  /**\n  * Get all list of parents\n  * @returns {boolean|T[]}\n  */\n  this.getParents = function () {\n    var index = this._getCurrentIndex();\n    return index > 0 && this._workflows.slice(0, index);\n  };\n\n  this.pop = function () {\n    return this._workflows.pop();\n  };\n\n  this.getLength = function () {\n    return this._workflows.length;\n  };\n\n  this._getCurrentIndex = function () {\n    var currentWorkflow = this.getCurrent();\n    return this._workflows.findIndex(function (workfow) {\n      return workfow === currentWorkflow;\n    });\n  };\n\n  this.getCurrent = function () {\n    return this.getLast();\n  };\n\n  this.getLast = function () {\n    var length = this._workflows.length;\n    return length ? this._workflows[length - 1] : null;\n  };\n\n  this.getFirst = function () {\n    return this._workflows[0];\n  };\n\n  this.removeAt = function (index) {\n    this._workflows.splice(index, 1);\n  };\n\n  this.getAt = function (index) {\n    return this._workflows[index];\n  };\n\n  this.insertAt = function (index, workflow) {\n    this._workflows[index] = workflow;\n  };\n\n  this.clear = function () {\n    while (this._workflows.length) {\n      var workflow = this.pop();\n      workflow.stop();\n    }\n  };\n};\n\nexports.default = new WorkFlowsStack();\n\n},{}],370:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file State and methods to query the STATE of application\n * @since v3.6\n */\n\n/**\n * State of application reactive\n * @type {object}\n */\nvar STATE = Vue.observable({\n\n  /**\n   * true = application is ready\n   */\n  ready: false,\n\n  /**\n   * true = application is loaded inside an iframe\n   */\n  iframe: false,\n\n  /**\n   * true = application is connected\n   */\n  online: false,\n\n  /**\n   * true = application is loaded on mobile device\n   */\n  ismobile: false,\n\n  /**\n   * true = there is a pending download \n   */\n  download: false,\n\n  /**\n   * true = there is a pending upload\n   */\n  upload: false,\n\n  /**\n   * @FIXME add description\n   */\n  baseLayerId: null,\n\n  /**\n   * en = default language\n   */\n  language: 'en',\n\n  /**\n   * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n   */\n  lng: 'en',\n\n  /**\n   * @FIXME add description\n   */\n  changeProjectview: false,\n\n  /**\n   * @FIXME add description\n   */\n  plugins: [],\n\n  /**\n   * @FIXME add description\n   */\n  user: null,\n\n  /**\n   * @FIXME add description\n   */\n  map: {\n    epsg: '',\n    unit: 'metric'\n  },\n\n  /**\n   * @FIXME add description\n   */\n  gui: {\n\n    app: {\n      /**\n       * true = application is disabled and unclickable (waiting)\n       */\n      disabled: false\n    },\n\n    sidebar: {\n      /**\n       * true = sidebar is disabled (not responsive)\n       */\n      disabled: false // \n    },\n\n    layout: {\n      /**\n       * store the current layout owner (\"app\" = default)\n       */\n      __current: 'app',\n\n      /**\n       * @FIXME add description\n       */\n      app: {}\n\n    }\n\n  },\n\n  /**\n   * @FIXME add description\n   */\n  keys: {\n    vendorkeys: {\n      google: undefined,\n      bing: undefined\n    }\n  },\n\n  /**\n   * @FIXME add description\n   */\n  tokens: {\n    filtertoken: undefined\n  }\n\n});\n\n/**\n * Store methods to query STATE of application\n * \n * @type {object}\n */\nvar STATE_METHODS = exports.STATE_METHODS = {};\n\nexports.default = STATE;\n\n},{}],371:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file State of legend items in Table of Contents (TOC) [aka. catalog layers]\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar LayersStoresRegistry = require('core/layers/layersstoresregistry');\n\nfunction CatalogLayersStoresRegistry() {\n  base(this);\n}\n\ninherit(CatalogLayersStoresRegistry, LayersStoresRegistry);\n\nexports.default = new CatalogLayersStoresRegistry();\n\n},{\"core/layers/layersstoresregistry\":37,\"core/utils/utils\":67}],372:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file Store legacy frontend components\n * @since v3.6\n * \n * @deprecated will be probably removed after v4.x. Use Vue Single File Components (SFC) instead\n */\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\n//class Componet Registry (singleton)\n// store all components added\n\n\nfunction ComponentsRegistry() {\n  this.components = {};\n  this.registerComponent = function (component) {\n    var id = component.getId();\n    if (!this.components[id]) {\n      this.components[id] = component;\n      this.emit('componentregistered', component);\n    }\n  };\n\n  this.getComponent = function (id) {\n    return this.components[id];\n  };\n\n  this.getComponents = function () {\n    return this.components;\n  };\n\n  this.unregisterComponent = function (id) {\n    var component = this.components[id];\n    if (component) {\n      if (typeof component.destroy === 'function') component.destroy();\n      this.components[id] = null;\n    }\n    return component;\n  };\n  base(this);\n}\n\ninherit(ComponentsRegistry, G3WObject);\n\nexports.default = new ComponentsRegistry();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67}],373:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _constants = require('g3w-ol/constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit; /**\n                                 * @file Store Open Layers controls (zoom, streetrview, screnshoot, ruler, ...)\n                                 * @since v3.6\n                                 */\n\nvar G3WObject = require('core/g3wobject');\n\nfunction ControlsRegistry() {\n  var _this = this;\n\n  this._controls = {};\n\n  this._offlineids = [];\n\n  /**\n   * @since 3.8.0\n   */\n  this.selectedLayer = null;\n\n  /**\n   * @since 3.8.0\n   */\n  this.externalLayers = [];\n\n  _application2.default.on('complete',\n  /**\n   * @TODO extract this into a class function (named callback function)\n   * \n   * Handle temporary layers added by `addlayers` map control (Polygon or Multipolygon)\n   *\n   * @listens CatalogService~addExternalLayer\n   * @listens CatalogService~removeExternalLayer\n   *\n   * @since 3.8.0\n   */\n  function () {\n\n    var CatalogService = _gui2.default.getService('catalog');\n\n    // 0. store unwatches of external layers (selected or visible)\n    var unWatches = {};\n\n    // 1. update list `this.externalLayers`\n    // 2. update list `unWatches` of layer un-watchers (based on unique name of layer)\n    // 3. call `this.onAddExternalLayer`\n    CatalogService.onafter('addExternalLayer', function (_ref) {\n      var layer = _ref.layer,\n          type = _ref.type;\n\n      if ('vector' === type) {\n        _this.externalLayers.push(layer);\n        // Add event listener of selected property to set selected layer\n        unWatches[layer.name] = [_constants.VM.$watch(function () {\n          return layer.selected;\n        }, // watch `layer.selected` property\n        function (selected) {\n          _this.setSelectedLayer(true === selected ? layer : null);\n        })];\n\n        _this.callControlsEventHandler({\n          handler: 'onAddExternalLayer',\n          param: {\n            layer: layer,\n            unWatches: unWatches[layer.name]\n          }\n        });\n      }\n    });\n\n    // 4. clean up any previously attached event listener\n    CatalogService.onafter('removeExternalLayer', function (_ref2) {\n      var name = _ref2.name,\n          type = _ref2.type;\n\n      if ('vector' === type) {\n        _this.externalLayers = _this.externalLayers.filter(function (layer) {\n          if (name === layer.name) {\n            _this.callControlsEventHandler({ handler: 'handleRemoveExternalLayer', param: layer });\n          }\n          if (name === layer.name && layer === _this.selectedLayer) {\n            _this.setSelectedLayer(null);\n          }\n          return name !== layer.name;\n        });\n        unWatches[name].forEach(function (unWatch) {\n          return unWatch();\n        });\n        delete unWatches[name];\n      }\n    });\n  });\n\n  _application2.default.onbefore('offline',\n  /**\n   * @TODO extract this into a class function (named callback function)\n   * \n   * @since 3.8.0\n   */\n  function () {\n    _this._offlineids.forEach(function (controlItem) {\n      var control = _this._controls[controlItem.id];\n      controlItem.enable = control.getEnable();\n      control.setEnable(false);\n    });\n  });\n\n  _application2.default.onbefore('online',\n  /**\n   * @TODO extract this into a class function (named callback function)\n   * \n   * @since 3.8.0\n   */\n  function () {\n    _this._offlineids.forEach(function (controlItem) {\n      _this._controls[controlItem.id].setEnable(controlItem.enable);\n    });\n  });\n\n  this.setters = {\n    registerControl: function registerControl(id, control) {\n      this._registerControl(id, control);\n    }\n  };\n\n  /**\n   * @param { unknown | null } layer\n   * \n   * @since 3.8.0\n   */\n  this.setSelectedLayer = function (layer) {\n    this.selectedLayer = layer;\n  };\n\n  /**\n   * @since 3.8.0\n   */\n  this.getSelectedLayer = function () {\n    return this.selectedLayer;\n  };\n\n  /**\n   * @returns {Array}\n   * \n   * @since 3.8.0\n   */\n  this.getExternalLayers = function () {\n    return this.externalLayers;\n  };\n\n  /**\n   * @since 3.8.0\n   */\n  this.catalogSelectedLayer = function (layer) {\n    this.setSelectedLayer(layer.isSelected() ? layer : null);\n\n    this.callControlsEventHandler({\n      handler: 'onSelectLayer',\n      param: this.selectedLayer\n    });\n  };\n\n  /**\n   * NB `handler` = method name\n   * \n   * @param {{ handler: string, param: any }}\n   * \n   * @since 3.8.0\n   */\n  this.callControlsEventHandler = function (_ref3) {\n    var handler = _ref3.handler,\n        param = _ref3.param;\n\n    Object.values(this._controls).forEach(function (control) {\n      if ('function' === typeof control[handler]) {\n        control[handler](param);\n      }\n    });\n  };\n\n  this._registerControl = function (id, control) {\n    this._controls[id] = control;\n    if (control.offline === false) {\n      this._offlineids.push({\n        id: id,\n        enable: control.getEnable()\n      });\n      control.getEnable() && control.setEnable(_application2.default.isOnline());\n    }\n  };\n\n  this.getControl = function (id) {\n    return this._controls[id];\n  };\n\n  this.getControls = function () {\n    return this._controls;\n  };\n\n  this.unregisterControl = function (id) {\n    var control = this.getControl(id);\n    if (!control) {\n      return false;\n    }\n    _gui2.default.getService('map').getMap().removeControl(control);\n    delete this._controls[id];\n    this._offlineids = this._offlineids.filter(function (_id) {\n      return _id !== id;\n    });\n    return true;\n  };\n\n  base(this);\n}\n\ninherit(ControlsRegistry, G3WObject);\n\nexports.default = new ControlsRegistry();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"g3w-ol/constants\":74,\"services/application\":348,\"services/gui\":358}],374:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file Store Open Layers levels (raster images, vector shapes, markers, ...)\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar LayersStoresRegistry = require('core/layers/layersstoresregistry');\n\nfunction MapLayersStoresRegistry() {\n  base(this);\n}\n\ninherit(MapLayersStoresRegistry, LayersStoresRegistry);\n\nexports.default = new MapLayersStoresRegistry();\n\n},{\"core/layers/layersstoresregistry\":37,\"core/utils/utils\":67}],375:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file Store G3W-CLIENT plugins (editing, qplotly, qtimeseries, ...)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n/**\n * law project configuration on project is handle as plugin\n * @type {string[]}\n */\nvar OTHERPLUGINS = ['law'];\n\nfunction PluginsRegistry() {\n  var _this = this;\n\n  this.config = null;\n  this._plugins = {};\n  this._configurationPlugins = [];\n  this.pluginsConfigs = {};\n  this._loadedPluginUrls = [];\n  this.setters = {\n    //setters to register plugin\n    registerPlugin: function registerPlugin(plugin) {\n      if (!this._plugins[plugin.name]) this._plugins[plugin.name] = plugin;\n    }\n  };\n  /**\n   * CHECK IF STILL USEFUL. IT RELATED TO CHANGE MAP OLD BEHAVIOR (PREVIOUS VERSION 3.4).\n   * NOW WHEN CHANGE MAP IS TRIGGER, PAGE IS RELOADED.\n   */\n  _projects2.default.onafter('setCurrentProject', function (project) {\n    _this.gidProject = project.getGid();\n  });\n\n  base(this);\n\n  // initialize plugin\n  this.init = function () {\n    var _this2 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new Promise(function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n        var plugins;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this2.pluginsBaseUrl = options.pluginsBaseUrl;\n                // plugin configurations\n                _this2.setPluginsConfig(options.pluginsConfigs);\n                // filter\n                Object.keys(_this2.pluginsConfigs).forEach(function (pluginName) {\n                  return _this2._configurationPlugins.push(pluginName);\n                });\n                _this2.addLoadingPlugins();\n                // plugins that aren't in configuration server but in project\n                _this2.otherPluginsConfig = options.otherPluginsConfig;\n                _this2.setOtherPlugins();\n                _this2.setDependencyPluginConfig();\n                _context.prev = 7;\n                _context.next = 10;\n                return _this2._loadPlugins();\n\n              case 10:\n                plugins = _context.sent;\n\n                resolve(plugins);\n                _context.next = 17;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context['catch'](7);\n\n                reject(_context.t0);\n\n              case 17:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this2, [[7, 14]]);\n      }));\n\n      return function (_x2, _x3) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  };\n\n  this.addLoadingPlugins = function () {\n    Object.keys(this.pluginsConfigs).forEach(function (plugin) {\n      return _application2.default.loadingPlugin(plugin);\n    });\n  };\n\n  this.removeLoadingPlugin = function (plugin, ready) {\n    _application2.default.loadedPlugin(plugin, ready);\n  };\n\n  this._loadPlugins = function () {\n    var _this3 = this;\n\n    var pluginLoadPromises = Object.entries(this.pluginsConfigs).map(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          name = _ref3[0],\n          pluginConfig = _ref3[1];\n\n      return _this3._setup(name, pluginConfig);\n    });\n    return Promise.allSettled(pluginLoadPromises);\n  };\n\n  this.setDependencyPluginConfig = function () {\n    var _this4 = this;\n\n    var _loop = function _loop(pluginName) {\n      var dependecyPluginConfig = _this4.pluginsConfigs[pluginName].plugins;\n      dependecyPluginConfig && Object.keys(dependecyPluginConfig).forEach(function (pluginName) {\n        _this4.pluginsConfigs[pluginName] = _extends({}, _this4.pluginsConfigs[pluginName], dependecyPluginConfig[pluginName]);\n      });\n    };\n\n    for (var pluginName in this.pluginsConfigs) {\n      _loop(pluginName);\n    }\n  };\n\n  this.setOtherPlugins = function () {\n    var law = OTHERPLUGINS[0];\n    if (this.otherPluginsConfig && this.otherPluginsConfig[law] && this.otherPluginsConfig[law].length) {\n      // law plugin\n      this.pluginsConfigs[law] = this.otherPluginsConfig[law];\n      this.pluginsConfigs[law].gid = this.otherPluginsConfig.gid;\n    } else delete this.pluginsConfigs[law];\n  };\n\n  // reaload plugin in case of change map\n  this.reloadPlugins = function (initConfig, project) {\n    var _this5 = this;\n\n    return new Promise(function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n        var scripts, plugins, _loop2, pluginName, _plugins;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                scripts = $('script');\n                plugins = _this5.getPlugins();\n\n                _loop2 = function _loop2(pluginName) {\n                  var plugin = plugins[pluginName];\n                  // unload plugin e remove from DOM\n                  plugin.unload();\n                  delete _this5._plugins[pluginName];\n                  scripts.each(function (index, scr) {\n                    _this5._loadedPluginUrls.forEach(function (pluginUrl, idx) {\n                      if (scr.getAttribute('src') === pluginUrl && pluginUrl.indexOf(pluginName) !== -1) {\n                        scr.parentNode.removeChild(scr);\n                        _this5._loadedPluginUrls.splice(idx, 1);\n                        return false;\n                      }\n                    });\n                  });\n                };\n\n                for (pluginName in plugins) {\n                  _loop2(pluginName);\n                }\n                _this5._loadedPluginUrls = [];\n                //setup plugins\n                _this5.otherPluginsConfig = project.getState();\n                _this5.setPluginsConfig(initConfig.group.plugins);\n                _this5.addLoadingPlugins();\n                _this5.setOtherPlugins();\n                _context2.prev = 9;\n                _context2.next = 12;\n                return _this5._loadPlugins();\n\n              case 12:\n                _plugins = _context2.sent;\n\n                resolve(_plugins);\n                _context2.next = 19;\n                break;\n\n              case 16:\n                _context2.prev = 16;\n                _context2.t0 = _context2['catch'](9);\n\n                reject(_context2.t0);\n\n              case 19:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this5, [[9, 16]]);\n      }));\n\n      return function (_x4, _x5) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n  };\n\n  /**\n   * setup plugin config only filtered by gid configuration\n   * @param config\n   */\n  this.setPluginsConfig = function () {\n    var _this6 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var enabledPluginConfig = {};\n    Object.entries(config).filter(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n          pluginConfig = _ref6[1];\n\n      return pluginConfig.gid === _this6.gidProject;\n    }).forEach(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          pluginName = _ref8[0],\n          pluginConfig = _ref8[1];\n\n      return enabledPluginConfig[pluginName] = pluginConfig;\n    });\n    this.pluginsConfigs = enabledPluginConfig;\n  };\n\n  /**\n   * Method to load external script\n   * @param url\n   * @returns {*}\n   * @private\n   */\n  this._loadScript = function (url) {\n    return $.getScript(url);\n  };\n\n  //load plugin script\n  this._setup = function (name, pluginConfig) {\n    var _this7 = this;\n\n    return new Promise(function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n        var _pluginConfig$jsscrip, jsscripts, depedencypluginlibrariespromises, _loop3, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, script, baseUrl, scriptUrl;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_.isNull(pluginConfig)) {\n                  _context3.next = 38;\n                  break;\n                }\n\n                _pluginConfig$jsscrip = pluginConfig.jsscripts, jsscripts = _pluginConfig$jsscrip === undefined ? [] : _pluginConfig$jsscrip;\n                depedencypluginlibrariespromises = [];\n\n                _loop3 = function _loop3(script) {\n                  depedencypluginlibrariespromises.push(new Promise(function (resolve, reject) {\n                    _this7._loadScript(script).done(function () {\n                      return resolve();\n                    }).fail(function () {\n                      return reject();\n                    });\n                  }));\n                };\n\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context3.prev = 7;\n\n                for (_iterator = jsscripts[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  script = _step.value;\n\n                  _loop3(script);\n                }\n                _context3.next = 15;\n                break;\n\n              case 11:\n                _context3.prev = 11;\n                _context3.t0 = _context3['catch'](7);\n                _didIteratorError = true;\n                _iteratorError = _context3.t0;\n\n              case 15:\n                _context3.prev = 15;\n                _context3.prev = 16;\n\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                  _iterator.return();\n                }\n\n              case 18:\n                _context3.prev = 18;\n\n                if (!_didIteratorError) {\n                  _context3.next = 21;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 21:\n                return _context3.finish(18);\n\n              case 22:\n                return _context3.finish(15);\n\n              case 23:\n                _context3.prev = 23;\n                _context3.next = 26;\n                return Promise.all(depedencypluginlibrariespromises);\n\n              case 26:\n                baseUrl = '' + _this7.pluginsBaseUrl + name;\n                scriptUrl = baseUrl + '/js/plugin.js?' + Date.now();\n\n                pluginConfig.baseUrl = _this7.pluginsBaseUrl;\n                _this7._loadScript(scriptUrl).done(function () {\n                  _this7._loadedPluginUrls.push(scriptUrl);\n                  resolve();\n                }).fail(function () {\n                  _this7.removeLoadingPlugin(name, false);\n                  reject();\n                });\n                _context3.next = 36;\n                break;\n\n              case 32:\n                _context3.prev = 32;\n                _context3.t1 = _context3['catch'](23);\n\n                _this7.removeLoadingPlugin(name, false);\n                reject();\n\n              case 36:\n                _context3.next = 39;\n                break;\n\n              case 38:\n                resolve();\n\n              case 39:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this7, [[7, 11, 15, 23], [16,, 18, 22], [23, 32]]);\n      }));\n\n      return function (_x7, _x8) {\n        return _ref9.apply(this, arguments);\n      };\n    }());\n  };\n\n  this.getPluginConfig = function (pluginName) {\n    return this.pluginsConfigs[pluginName];\n  };\n\n  this.getPlugins = function () {\n    return this._plugins;\n  };\n\n  this.getPlugin = function (pluginName) {\n    return this._plugins[pluginName];\n  };\n\n  // method to check if a plugin is in configuration and will be added to application\n  this.isPluginInConfiguration = function (pluginName) {\n    return this._configurationPlugins.indexOf(pluginName) !== -1;\n  };\n\n  this.isTherePlugin = function (pluginName) {\n    return this.pluginsConfigs[pluginName];\n  };\n}\n\ninherit(PluginsRegistry, G3WObject);\n\nexports.default = new PluginsRegistry();\n\n},{\"core/g3wobject\":12,\"core/utils/utils\":67,\"services/application\":348,\"store/projects\":376}],376:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file Store QGIS project configurations (enabled map controls / plugins / layers / ...)\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Project = require('core/project/project');\n\n/* service\n    setup: init method\n    getLayersState: returnLayersState\n    getLayersTree: return  array of layersTree from LayersState\n*/\n\n// Public interface\nfunction ProjectsRegistry() {\n  this.config = null;\n  this.initialized = false;\n  this.projectType = null;\n  this.overviewproject;\n  this.setters = {\n    createProject: function createProject(projectConfig) {\n      //hook to get project config and modify it\n    },\n    setCurrentProject: function setCurrentProject(project) {\n      if (this.state.currentProject !== project) {\n        _catalogLayers2.default.removeLayersStores();\n        _mapLayers2.default.removeLayersStores();\n      }\n      this.state.currentProject = project;\n      this.state.qgis_version = project.getQgisVersion();\n      this.setProjectType(project.state.type);\n      var projectLayersStore = project.getLayersStore();\n      //set in first position (catalog)\n      _catalogLayers2.default.addLayersStore(projectLayersStore, 0);\n      //set in first position (map)\n      _mapLayers2.default.addLayersStore(projectLayersStore, 0);\n    }\n  };\n\n  this.state = {\n    baseLayers: {},\n    minScale: null,\n    maxscale: null,\n    currentProject: null,\n    qgis_version: null\n  };\n\n  // (lazy loading)\n  this._groupProjects = [];\n  this._projectConfigs = {};\n\n  base(this);\n}\n\ninherit(ProjectsRegistry, G3WObject);\n\nvar proto = ProjectsRegistry.prototype;\n\n//Inizialize configuration for all project belong to group\nproto.init = function () {\n  var _this = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  //check if already initialized\n  if (!this.initialized) {\n    this.config = config;\n    this.overviewproject = config.overviewproject;\n    this.setupState();\n    // get current configuration\n    var searchParams = new URLSearchParams(location.search);\n    var map_theme = searchParams.get('map_theme');\n    this.getProject(config.initproject, {\n      map_theme: map_theme\n    }).then(function (project) {\n      // set current project\n\n      _this.setCurrentProject(project);\n      _this.initialized = true;\n      d.resolve(project);\n    }).fail(function (error) {\n      return d.reject(error);\n    });\n  } else {\n    var project = this.getCurrentProject();\n    d.resolve(project);\n  }\n  return d.promise();\n};\n\nproto.clear = function () {\n  this.config = null;\n  this.initialized = false;\n  this.projectType = null;\n  this.overviewproject;\n  this.initialized = false;\n  this._groupProjects = [];\n  this._projectConfigs = {};\n  this.state = {\n    baseLayers: {},\n    minScale: null,\n    maxscale: null,\n    currentProject: null,\n    qgis_version: null\n  };\n};\n\nproto.setProjectType = function (projectType) {\n  this.projectType = projectType;\n};\n\nproto.getConfig = function () {\n  return this.config;\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.setupState = function () {\n  this.state.baseLayers = this.config.baselayers;\n  this.state.minScale = this.config.minscale;\n  this.state.maxScale = this.config.maxscale;\n  this.state.crs = this.config.crs;\n  this.setProjects(this.config.projects);\n};\n\nproto.getProjectType = function () {\n  return this.projectType;\n};\n\nproto.getProjects = function () {\n  return this._groupProjects;\n};\n\nproto.setProjects = function (projects) {\n  var _this2 = this;\n\n  this.clearProjects();\n  projects.forEach(function (project) {\n    _this2.state.qgis_version = project.qgis_version || _this2.state.qgis_version;\n    project.baselayers = _this2.config.baselayers;\n    project.minscale = _this2.config.minscale;\n    project.maxscale = _this2.config.maxscale;\n    project.crs = _this2.config.crs;\n    project.vectorurl = _this2.config.vectorurl;\n    project.rasterurl = _this2.config.rasterurl;\n    project.overviewprojectgid = _this2.overviewproject ? _this2.overviewproject.gid : null;\n    _this2._groupProjects.push(project);\n  });\n};\n\nproto.clearProjects = function () {\n  this._groupProjects = [];\n};\n\nproto.getListableProjects = function () {\n  var currentProjectId = this.getCurrentProject().getId();\n  return _.sortBy(this.getProjects().filter(function (project) {\n    if (!_.isNil(project.listable)) return project.listable;\n    if (project.id === currentProjectId || project.overviewprojectgid && project.gid === project.overviewprojectgid) return false;\n    return project;\n  }), 'title');\n};\n\nproto.getCurrentProject = function () {\n  return this.state.currentProject;\n};\n\n// method to get project configuration - added reload to force to get configuratn project from server\nproto.getProject = function (projectGid) {\n  var _this3 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { reload: false };\n  var reload = options.reload,\n      map_theme = options.map_theme;\n\n  var d = $.Deferred();\n  var pendingProject = this._groupProjects.find(function (project) {\n    return project.gid === projectGid;\n  });\n  if (!pendingProject) {\n    d.reject(\"Project doesn't exist\");\n    return d.promise();\n  }\n  var projectConfig = !reload && this._projectConfigs[projectGid];\n  if (projectConfig) {\n    var project = new Project(projectConfig);\n    d.resolve(project);\n  } else {\n    this._getProjectFullConfig(pendingProject, { map_theme: map_theme }).then(function (projectFullConfig) {\n      var projectConfig = _.merge(pendingProject, projectFullConfig);\n      projectConfig.WMSUrl = _this3.config.getWmsUrl(projectConfig);\n      // setupu project relations\n      projectConfig.relations = _this3._setProjectRelations(projectConfig);\n      _this3._projectConfigs[projectConfig.gid] = projectConfig;\n      // instance of Project\n      _this3.createProject(projectConfig);\n      var project = new Project(projectConfig);\n      // add to project\n      d.resolve(project);\n    }).fail(function (error) {\n      return d.reject(error);\n    });\n  }\n  return d.promise();\n};\n\nproto._setProjectRelations = function (projectConfig) {\n  projectConfig.relations = projectConfig.relations ? projectConfig.relations : [];\n  projectConfig.relations = projectConfig.relations.map(function (relation) {\n    if (relation.type === \"ONE\") {\n      projectConfig.layers.find(function (layer) {\n        if (layer.id === relation.referencingLayer) {\n          relation.name = layer.name;\n          relation.origname = layer.origname;\n          return true;\n        }\n      });\n    }\n    return relation;\n  });\n  return projectConfig.relations;\n};\n\nproto.getProjectConfigByGid = function (gid) {\n  return this._groupProjects.find(function (project) {\n    return project.gid === gid;\n  });\n};\n\nproto.setProjectAliasUrl = function (_ref) {\n  var gid = _ref.gid,\n      url = _ref.url,\n      host = _ref.host;\n\n  var project = this.config.projects.find(function (project) {\n    return project.gid === gid;\n  });\n  if (project) project.url = project && '' + (host ? host : '') + url;\n};\n/**\n *\n * @param gid\n * @param mode production or development\n * @returns {string}\n */\nproto.getProjectUrl = function (gid) {\n  // get base url\n  var baseurl = this.config.urls.baseurl;\n  // get project configuration in initConfig group projects\n\n  var projectConfig = this.getProjectConfigByGid(gid);\n  var url = projectConfig.url;\n  var _location = location,\n      origin = _location.origin;\n\n  return '' + origin + baseurl + url;\n};\n\n// method to call server to get project configuration\nproto._getProjectFullConfig = function (projectBaseConfig) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var map_theme = options.map_theme;\n\n  var d = $.Deferred();\n  var url = this.config.getProjectConfigUrl(projectBaseConfig);\n  $.get(url).done(function (projectFullConfig) {\n    if (map_theme) {\n      var type = projectBaseConfig.type,\n          id = projectBaseConfig.id;\n      var map_themes = projectFullConfig.map_themes;\n\n      var find_map_theme = map_themes.find(function (_ref2) {\n        var theme = _ref2.theme;\n        return theme === map_theme;\n      });\n      if (find_map_theme) {\n        var url_theme = '/' + type + '/api/prjtheme/' + id + '/' + map_theme;\n        $.get(url_theme).done(function (_ref3) {\n          var result = _ref3.result,\n              layerstree = _ref3.data;\n\n          if (result) {\n            projectFullConfig.layerstree = layerstree;\n            find_map_theme.layetstree = layerstree;\n            find_map_theme.default = true;\n          }\n        }).always(function () {\n          d.resolve(projectFullConfig);\n        });\n      }\n    } else d.resolve(projectFullConfig);\n  }).fail(function (error) {\n    return d.reject(error);\n  });\n  return d.promise();\n};\n\nexports.default = new ProjectsRegistry();\n\n},{\"core/g3wobject\":12,\"core/project/project\":61,\"core/utils/utils\":67,\"store/catalog-layers\":371,\"store/map-layers\":374}],377:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file Store user session (login / logout)\n * @since v3.6\n */\n\nvar SessionsRegistry = function SessionsRegistry() {\n  this._sessions = {};\n\n  this.register = function (session) {\n    var id = session.getId();\n    this._sessions[id] = session;\n  };\n\n  this.unregister = function (id) {\n    delete this._sessions[id];\n  };\n\n  this.getSession = function (id) {\n    return this._sessions[id];\n  };\n\n  this.setSession = function (id, session) {\n    this._sessions[id] = session;\n  };\n\n  this.getSessions = function () {\n    return this._sessions;\n  };\n\n  this.clear = function () {\n    this._sessions = {};\n  };\n};\n\nexports.default = new SessionsRegistry();\n\n},{}],378:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* WARNING: this file is autogenerated by gulpfile.js, please do not edit manually */\n\nexports.default = '3.8.0-alpha.2';\n\n},{}]},{},[326]);\n"]}