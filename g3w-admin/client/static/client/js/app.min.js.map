{"version":3,"sources":["build.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","2","noop","inserted","cache","insert","css","elem","document","createElement","setAttribute","textContent","styleSheet","cssText","getElementsByTagName","appendChild","removeChild","3","_interopRequireDefault","obj","__esModule","default","_constant","_constant2","_applicationState","_applicationState2","_InputG3W","_InputG3W2","_InputG3WFormInputs","_InputG3WFormInputs2","_inputservice","_inputservice2","_FormBody","_FormBody2","_FormFooter","_FormFooter2","_C3XYLine","_C3XYLine2","_catalogLayers","_catalogLayers2","_data","_data2","_editing","_editing2","_sessions","_sessions2","_iframePlugin","_iframePlugin2","_mapLayers","_mapLayers2","_plugins","_plugins2","_projects","_projects2","_relations","_relations2","_tasks","_tasks2","_workflows","_workflows2","_api","_api2","_application","_application2","_router","_router2","_gui","_gui2","_mixins","_mixins2","G3WObject","utils","geoutils","i18n","Server","Session","Editor","Geom","_require","Geometry","Project","LayersStoreRegistry","LayersStore","Layer","LayerFactory","TableLayer","VectorLayer","ImageLayer","WmsLayer","XYZLayer","MapLayer","Feature","FeaturesStore","OlFeaturesStore","Filter","Expression","Plugin","PluginService","Task","Step","Flow","Workflow","Panel","ControlFactory","ComponentsFactory","FieldsService","Component","MetadataComponent","SearchComponent","SearchPanel","PrintComponent","CatalogComponent","MapComponent","ToolsComponent","QueryResultsComponent","FormComponent","FormService","InputsComponents","ChartsFactory","Fields","SearchPanelService","PickFeatureInteraction","PickCoordinatesInteraction","DeleteFeatureInteraction","AreaInteraction","LengthInteraction","g3wolutils","constant","core","ApplicationService","ApplicationState","ApiService","Router","task","TaskService","data","DataRouterService","iframe","IFrameRouterService","errors","parsers","editing","SessionsRegistry","ChangesManager","geometry","project","ProjectsRegistry","map","MapLayersStoreRegistry","catalog","CatalogLayersStoresRegistry","layer","geom","features","filter","relations","RelationsService","interaction","plugin","PluginsRegistry","workflow","WorkflowsStack","input","inputService","gui","GUI","vue","FormComponents","Body","Footer","Inputs","G3wFormInputs","G3WInput","Charts","c3","lineXY","Mixins","services","ol","interactions","measure","controls","version","APP_VERSION","components/C3XYLine.vue","components/FormBody.vue","components/FormFooter.vue","components/InputG3W.vue","components/InputG3WFormInputs.vue","core/editing/editor","core/editing/session","core/errors/parser/servererrorparser","core/expression/inputservice","core/g3wobject","core/i18n/i18n.service","core/layers/features/feature","core/layers/features/featuresstore","core/layers/features/olfeaturesstore","core/layers/filter/expression","core/layers/filter/filter","core/layers/imagelayer","core/layers/layer","core/layers/layerfactory","core/layers/layersstore","core/layers/layersstoresregistry","core/layers/map/maplayer","core/layers/map/wmslayer","core/layers/map/xyzlayer","core/layers/tablelayer","core/layers/vectorlayer","core/plugin/plugin","core/plugin/pluginservice","core/project/project","core/utils/geo","core/utils/ol","core/utils/utils","core/workflow/flow","core/workflow/step","core/workflow/task","core/workflow/workflow","g3w-ol/interactions/areainteraction","g3w-ol/interactions/deletefeatureinteraction","g3w-ol/interactions/lengthinteraction","g3w-ol/interactions/pickcoordinatesinteraction","g3w-ol/interactions/pickfeatureinteraction","gui/catalog/vue/catalog","gui/charts/chartsfactory","gui/component/component","gui/component/componentsfactory","gui/fields/fields","gui/fields/fieldsservice","gui/form/formservice","gui/form/vue/form","gui/inputs/inputs","gui/map/control/factory","gui/map/vue/map","gui/metadata/vue/metadata","gui/panel","gui/print/vue/print","gui/queryresults/vue/queryresults","gui/search/vue/panel/searchpanel","gui/search/vue/panel/searchservice","gui/search/vue/search","gui/tools/vue/tools","mixins","services/api","services/application","services/data","services/editing","services/gui","services/iframe-plugin","services/relations","services/router","services/tasks","services/workflows","store/application-state","store/catalog-layers","store/map-layers","store/plugins","store/projects","store/sessions","4","Object","defineProperty","value","server","client","_i18n","tools","plugins","undefined","_locales","_locales2","apptitle","supportedLanguages","resources","debug","local","urls","baseurl","ows","api","initconfig","config","merge","type","../locales","5","LOCAL_ITEM_IDS","API_BASE_URLS","ZINDEXES","VIEWPORT","TOC_THEMES_INIT_STATUS","TOC_LAYERS_INIT_STATUS","TIMEOUT","SEARCH_RETURN_TYPES","SEARCH_ALLVALUE","QUERY_POINT_TOLERANCE","SCALES","PRINT_SCALES","PRINT_RESOLUTIONS","PRINT_FORMATS","MAP_SETTINGS","LOCALSTORAGE_EXTERNALWMS_ITEM","LIST_OF_RELATIONS_ID","LIST_OF_RELATIONS_TITLE","GEOMETRY_TYPES","GEOMETRY_FIELDS","FILTER_EXPRESSION_OPERATORS","FILTER_OPERATORS","G3W_FID","EPSG","DOWNLOAD_FORMATS","DEFAULT_EDITING_CAPABILITIES","_extends","assign","target","arguments","source","key","prototype","hasOwnProperty","_version","_version2","download","format","url","download_gpkg","download_gpx","download_csv","download_xls","download_raster","gte","lte","NOT","eq","gt","lt","IN","NOT IN","LIKE","ILIKE","AND","OR","ltgt","ilike","like","POINT","POINTZ","POINTM","POINTZM","POINT25D","MULTIPOINT","MULTIPOINTZ","MULTIPOINTM","MULTIPOINTZM","MULTIPOINT25D","LINESTRING","LINESTRINGZ","LINESTRINGM","LINESTRINGZM","LINESTRING25D","LINE","LINEZ","LINEM","LINEZM","LINE25D","MULTILINESTRING","MULTILINESTRINGZ","MULTILINESTRINGM","MULTILINESTRINGZM","MULTILINESTRING25D","MULTILINE","MULTILINEZ","MULTILINEM","MULTILINEZM","MULTILINE25D","POLYGON","POLYGONZ","POLYGONM","POLYGONZM","POLYGON25D","MULTIPOLYGON","MULTIPOLYGONZ","MULTIPOLYGONM","MULTIPOLYGONZM","MULTIPOLYGON25D","GEOMETRYCOLLECTION","GEOMETRYCOLLECTIONZ","GEOMETRYCOLLECTIONM","GEOMETRYCOLLECTIONZM","GEOMETRYCOLLECTION25D","ZOOM","maxScale","ANIMATION","duration","LAYER_POSITIONS","getPositions","label","unit","resize","min","content","usermessage","tool","CRS","SPATIALBOOKMARKS","id","../version","6","_asyncToGenerator","fn","gen","apply","this","Promise","resolve","reject","step","arg","info","error","done","then","err","BaseService","_this","onbefore","getCurrentProject","proto","handleRequest","request","handleResponse","_ref","regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","stop","_x","getSelectedExternalLayers","_ref2","_ref2$type","getService","getExternalSelectedLayers","getEmptyRequest","hasExternalLayerSelected","_ref3","_ref3$type","7","_defineProperty","enumerable","configurable","writable","_toConsumableArray","arr","Array","isArray","arr2","from","options","setters","save","_save","addFeature","feature","_addFeature","updateFeature","_updateFeature","deleteFeature","_deleteFeature","setFeatures","_setFeatures","getFeatures","_getFeatures","base","_filter","bbox","_allfeatures","_layer","_featuresstore","getType","LayerTypes","TABLE","_started","_noteditablefileds","getEditingNotEditableFields","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","_i","Symbol","iterator","push","TypeError","inherit","_canDoGetFeaturesRequest","doRequest","VECTOR","extent","containsExtent","extend","getEditingSource","getSource","_applyChanges","items","reverse","execute","setChanges","getLayer","setLayer","removeNotEditablePropriertiesFromFeature","forEach","field","unset","_cloneFeatures","clone","_addFeaturesFromServer","addFeatures","_doGetFeaturesRequest","online","d","$","Deferred","promise","fail","revert","readFeatures","rollback","changes","applyChangesToNewRelationsAfterCommit","relationsResponse","relationLayerId","getLayerById","editingLayerSource","getEditingLayer","clearState","applyCommitResponse","result","setFieldValueToRelationField","relationId","ids","_ref2$values","values","getSession","getEditor","getFeatureById","fieldvalue","get","set","_this2","lockids","new_lockids","idobj","clientid","setId","setProperties","properties","relation","entries","_ref4","fatherField","childField","addLockIds","getLockIds","commit","commitItems","_this3","add","keys","layerRelation","getRelations","getRelationByFatherChildren","getId","updates","update","concat","getFatherField","getChildField","start","_this4","readEditingFeatures","_this5","unlock","clear","isStarted","getFeaturesStore","resetEditingSource","getFeaturesCollection","8","History","_maxSteps","_states","state","undo","redo","_current","uniqueId","getLastState","_setState","getRelationStates","layerId","relationStates","relationItems","item","_layerId","insertState","stateId","index","_i2","_state","splice","removeState","removeStates","stateIds","_i3","insertStates","states","_i4","canCommit","canUndo","canRedo","_checkItems","action","newItems","own","dependencies","getFirstState","find","idx","setItemsFeatureIds","unsetnewids","unsetnewid","_this6","indexOf","_clearAll","getState","getCurrentState","_this7","currentState","getCurrentStateIndex","_this8","currentStateIndex","checkCommitItems","commitItem","steps","_","isNull","_getStatesToCommit","_this9","statesToCommit","getUid","isNew","isDeleted","isUpdated","_item","isAdded","9","_start","_stop","saveChangesOnServer","started","getfeatures","_editor","editor","_history","_temporarychanges","register","_typeof","constructor","is3DGeometry","getLastHistoryState","getLastStateId","deleteState","unregister","setEditor","Date","now","updateTemporaryChanges","change","getProperties","pushAdd","removeNotEditableProperties","newFeature","pushDelete","pushUpdate","oldFeature","temporarynewfeatureIndex","findIndex","removeChangesFromHistory","changeIds","moveRelationStatesOwnSession","statesIds","_getCommitItems","getCommitItems","relationSession","New","Old","_filterChanges","temporarychange","unshift","_changes","rollbackDependecies","_serializeCommit","itemsToCommit","commitObj","delete","isRelation","sessionRelation","GeoJSONFormat","GeoJSON","writeFeatureObject","childs_properties","_key","set3DGeometryType","_ref$layerId","editingLayer","geometryType","getGeometryType","_ref2$ids","_ref2$relations","_data$new_relations","new_relations","session","_canStop","clearHistory","getHistory","core/editing/history","10","serverErrorParser","_error","parse","traverseErrorMessage","errorObject","entry","_entry","_entries$find","_ref5","_entries$find2","error_message","_ref6","_ref7","replace","_entries$","_value","_ref$type","responseJSON","message","11","convertFeatureToGEOJSON","handleFilterExpressionFormInput","form_data","_options$layer_id","layer_id","filter_expression","loading","qgs_layer_id","parentData","getData","inputs","parent","formatter","expression","outputs","sent","t0","sort","aKey","bKey","toLowerCase","abrupt","t1","finish","handleDefaultExpressionFormInput","_callee2","_options$layer_id2","default_expression","_context2","12","getFormDataExpressionRequestFromFeature","getVisibility","_ref$feature","contenttype","13","debounce","throttle","_setupListenersChain","debounces","_setupDebounces","throttles","_setupThrottles","EventEmitter","onafter","setter","listener","priority","_onsetter","onceafter","oncebefore","onbeforeasync","un","settersListeners","setterListener","when","async","once","listenerKey","Math","floor","random","fnc","sortBy","after","before","_loop","setterOption","setterFnc","setterFallback","isFunction","fallback","_len","args","_key2","deferred","returnVal","counter","callSetter","onceListenerKeys","afterListeners","abort","beforeListeners","bool","cont","isBoolean","completed","emitEvent","listenerObj","currentCounter","_bool","name","delay","Function","14","init","appLanguages","language","plugins18nConfig","i18next","use","i18nextXHRBackend","lng","ns","fallbackLng","jqueryI18next","tName","i18nName","handleName","selectorAttr","targetAttr","optionsAttr","useOptionsAttr","parseDefaultValueFromContent","addI18n","getAppLanguage","getConfig","user","text","tPlugin","tPrefix","addI18nPlugin","pluginLanguage","i18nObject","languageObj","addResource","changeLanguage","15","16","BaseIframeService","ready","createFilterFormField","mapService","getComponent","layers","getQgsLayerId","_ref$noValue","noValue","searchFeature","search_endpoint","_ref4$data","getSearchEndPoint","_x2","findFeaturesWithGeometry","layersCount","_ref6$qgs_layer_id","_ref6$zoom","zoom","_ref6$highlight","highlight","found","getGeometry","zoomToFeatures","zoomToProjectInitExtent","setLayers","getLayers","setReady","getReady","_callee3","_context3","17","_iframeApp","_iframeApp2","_iframeEditing","_iframeEditing2","app","services/iframe-app","services/iframe-editing","18","BasePluginService","pluginName","dependencyApi","_ref2$layers","isPluginInConfiguration","getPlugin","setDependencyApi","getApi","isReady","getName","getDependecyApi","core/iframe/services/baseservice","19","ARCGISMAPSERVERLayer","BaseLayer","BasesLayers","_makeOlLayer","_config","attributions","crs","projection","getProjectionFromCrs","olLayer","TMS","source_type","core/layers/baselayers/baselayer","g3w-ol/layers/bases","20","isWMS","getWmsUrl","tiled","_mapLayer","WMSLayer","addLayer","Projections","epsg","_registerLoadingEvent","_olLayer","on","emit","getOLLayer","mapState","extraParams","_updateLayer","setAttributions","setVisible","visible","getMapLayer","g3w-ol/projection/projections","21","BaseLayers","OSM","Bing","ARCGISMAPSERVER","WMTS","WMS","./arcgislayer","./binglayer","./osmlayer","./tmslayer","./wmslayer","./wmtslayer","22","BingLayer","vendorkeys","bing","subtype","BING","imagerySet","23","OSMLayer","title","24","TMSLayer","minZoom","maxZoom","25","singleTile","opacity","26","WMTSLayer","matrixSet","style","requestEncoding","27","geometryFields","_uid","_newPrefix","_geometry","property","setGeometryName","getGeometryName","setGeometry","getStyle","setStyle","new","inherits","_setUid","uid","isGeometry","cloneNew","setTemporaryId","setState","setNew","newValue","setFullState","getFullState","getAlphanumericProperties","alphanumericproperties","isVisible","app/constant","28","_features","_provider","provider","_loadedIds","_lockIds","hasFeatureLockByOtherUser","removeFeature","_removeFeature","_clearFeatures","featurestore","_commit","featuresLockedByOtherUser","cloneDeep","setProvider","getProvider","_filterFeaturesResponse","_readFeatures","_options$features","_options$featurelocks","featurelocks","count","featuresToAdd","featureId","added","_filterLockIds","lockid","featureid","toAddLockId","featurelock","addLoadedIds","lockIds","union","lockId","getFeatureByUid","feat","getDataProvider","29","Collection","getLength","getArray","dispatchEvent","featuresArray","_feature","removeAt","insertAt","30","_layerName","layerName","_expression","and","or","_build","not","operator","join","createSingleExpressionElement","attribute","logicop","filterElement","valueExtra","filterOp","filterLogicOperator","filterValue","Number","isNaN","toString","trim","singolequote","split","_filterElements","_value2","_filterOp","_filterValue","_filterElement","createExpressionFromFilterObject","filterElements","rootFilter","_operator","_value3","_field","_value4","fieldElement","createExpressionFromField","_ref2$operator","createExpressionFromFilterArray","inputsLength","substring","createExpressionFromFilter","filterParam","31","_type","setConfig","mergeConfig","getAll","TYPES","all","setExpression","setBBOX","setFids","fids","serialize","JSON","stringify","32","GeojsonLayer","setup","GeojsonMapLayer","getProjection","getCode","core/layers/map/geojson","33","GeoLayerMixin","getScaleFromResolution","_require2","createFeatureFromFeatureObject","_require3","XHR","sanitizeUrl","RESERVERDPARAMETRS","wms","map_crs","multilayerid","multilayer","legendCategories","olSelectionFeatures","geolayer","geometrytype","legend","show","external","checked","hidden","scalebasedvisibility","minscale","maxscale","ows_method","exclude_from_legend","categories","expanded","_sanitizeSourceUrl","getLegendGraphic","_ref$all","legendParams","layout","legendurl","getLegendUrl","setCategories","getCurrentStyle","category","ruleKey","getCategories","clearCategories","clearOlSelectionFeatures","getOlSelectionFeature","updateOlSelectionFeature","featureObject","_mapService","setSelectionFeatures","deleteOlSelectionFeature","getOlSelectionFeatures","addOlSelectionFeature","showAllOlSelectionFeatures","setInversionOlSelectionFeatures","setOlSelectionFeatureByFid","fid","setOlSelectionFeatures","__layerId","sanitizedUrl","reserverParameters","isLayerCheckedAndAllParents","isChecked","parentGroup","setChecked","oldVisibile","changed","isDisabled","disabled","isPrintable","scale","getStyles","styles","current","getOpacity","setCurrentStyle","currentStyleName","setDisabled","resolution","mapUnits","mapScale","isFilterable","setTocHighlightable","getMultiLayerId","getOwsMethod","setProjection","getEpsg","getCrs","getMapCrs","isCached","cache_url","getCacheUrl","hasAxisInverted","axisOrientation","getAxisOrientation","substr","setMapProjection","mapProjection","_mapProjection","getMapProjection","34","baselayer","IMAGE","legendUrl","customParams","mixin","WMSTLayer","LegendService","getLayerForEditing","_project","editableLayer","_ref2$force","force","vectorurl","project_type","isEditable","layerForEditing","setEditingLayer","isBaseLayer","WMSServerTypes","servertype","isLayerProjectionASMapProjection","isExternalWMS","isArcgisMapserver","SourceTypes","_getBaseLayerName","isWmsUseLayerIds","getWMSLayerName","legendMapBoolean","_ref4$type","wmsUrl","getWFSLayerName","getQueryLayerName","useProxy","getInfoFormats","getWMSInfoLayerName","getPrintLayerName","getStringBBox","minx","miny","maxx","maxy","isWfsActive","ows_type","getFullWmsUrl","metadata_wms_url","metadata","wms_url","getCatalogWmsUrl","getMetadata","catalogWmsUrl","getCatalogWfsUrl","getWfsUrl","getQueryUrl","getServerType","ServerTypes","QGIS","getIconUrlFromLegend","layertitle","params","setMapParamstoLegendUrl","getWfsCapabilities","wfscapabilities","capabilities","iframe_internal","isIframe","mapLayer","method","WMST","Mapserver","Geoserver","OGC","core/layers/geolayermixin","core/layers/legend/legendservice","core/layers/map/arcgismapserverlayer","core/layers/map/wmstlayer","35","fields","query","infourl","_options$project","projectRelations","_createRelations","projectType","projectId","suffixUrl","vectorUrl","getVectorUrl","rasterUrl","getRasterUrl","filtertoken","shp","csv","xls","gpx","gpkg","geotiff","widget","unique","searchParams","I","J","defaultstyle","selected","metadata_querable","isQueryable","onMap","openattributetable","canShowTable","removable","downloadable","isDownloadable","inediting","infoformat","getInfoFormat","infoformats","projectLayer","selection","active","attributetable","pageLength","tochighlightable","selectionFids","Set","_layersstore","layersstore","serverType","sourceType","providers","ProviderFactory","build","search","proxyData","parseAttributes","Relations","getProxyData","setProxyData","clearProxyData","getDataProxyFromServer","proxyParams","changeProxyDataAndReloadFromServer","changeParam","param","isInEditing","setInEditing","getSearchParams","referencedLayer","referencingLayer","getRelationById","getRelationAttributes","relationName","getRelationsAttributes","isChild","isFather","getChildren","getFathers","hasChildren","hasRelations","hasFathers","setAttributeTablePageLength","getAttributeTablePageLength","setFilter","getFilterActive","toggleFilterToken","activeFilterToken","createFilterToken","deleteFilterToken","_x10","_callee4","_context4","setFilterToken","_callee5","_context5","size","has","SELECTION_STATE","ALL","EXCLUDE","fidsout","fidsin","getFilterToken","setSelectionFidsAll","isGeoLayer","setSelection","getSelectionFids","invertSelectionFids","hasSelectionFid","includeSelectionFid","_callee6","createToken","_context6","isSelectionActive","_x12","includeSelectionFids","excludeSelectionFid","_ref8","_callee7","isLastFeatureSelected","_context7","setselectionFidsAll","_x14","excludeSelectionFids","clearSelectionFids","wms_use_layer_ids","getDownloadFilefromDownloadDataType","_ref9","_ref9$data","getShp","getXls","getCsv","getGpx","getGpkg","getGeoTIFF","_ref10","_ref10$data","getUrl","fileDownload","httpMethod","_ref11","_ref11$data","_ref12","_ref12$data","_ref13","_ref13$data","_ref14","_ref14$data","_ref15","_ref15$data","getSourceType","getDataTable","_ref16","_ref16$page","page","_ref16$page_size","page_size","_ref16$ordering","ordering","_ref16$search","_ref16$suggest","suggest","_ref16$formatter","in_bbox","_ref16$custom_params","custom_params","tokens","getTitle","headers","getAttributes","dataTableObject","getFeatureByFids","_callee8","_ref18","_ref18$fids","_ref18$formatter","_context8","vector","searchFeatures","_options$search_endpo","_ref19","_callee9","_options$raw","raw","_options$suggest","queryUrl","_context9","results","getFilterData","_x26","_x27","_callee10","_ref21","_ref21$raw","_ref21$suggest","_ref21$formatter","_context10","feature_count","getFields","getFieldByName","fieldName","getEditingFields","getTableFields","getTableHeaders","getProject","getLayerEditingFormStructure","editor_form_structure","getEditorFormStructure","getFieldsOutOfFormStructure","structure","field_name","hasFormStructure","getCustomStyle","customstyle","isShpDownlodable","isXlsDownlodable","isGpxDownlodable","isGpkgDownlodable","isCsvDownlodable","getDownloadableFormats","download_format","getDownloadUrl","isGeoTIFFDownlodable","_editingLayer","isHidden","setHidden","isModified","modified","getOrigName","origname","isType","setType","isSelected","setSelected","_callee11","_context11","getSelection","getFilter","_ref23","queryEnabled","queryableForCababilities","CAPABILITIES","QUERYABLE","infowhennotvisible","getOws","getTocHighlightable","conditions","isFiltrable","FILTERABLE","conditionalFiltrable","reduce","layer_config_value","condition_attribute_values","isQtimeseries","qtimeseries","EDITABLE","setUrl","_ref24","getUrls","setEditingUrl","setQueryUrl","infolayer","getQueryLayerOrigName","ogcService","getInfoUrl","setInfoFormat","infoFormat","changeAttribute","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","getAttributeLabel","getProviders","getLayersStore","setLayersStore","layerstore","not_show_attributes_table","POSTGIS","ORACLE","WFS","OGR","MSSQL","SPATIALITE","G3WSUITE","changeFieldType","_ref25","_ref25$options","_ref25$reset","reset","changeConfigFieldType","_ref26","_ref26$options","_ref26$reset","resetConfigField","_ref27","isVector","isTable","LOCAL","VIRTUAL","CSV","GDAL","WCS","MDAL","VECTOR-TILE","VECTORTILE","GEOJSON","EDITOPS","INSERT","UPDATE","DELETE","core/layers/providers/providersfactory","core/relations/relations","36","layerClass","LayerClass","sourcetype","core/layers/baselayers/baselayers","core/layers/geojson","37","initextent","layerstree","_isQueryable","queryable","_layers","setLayerSelection","setLayerSelected","addLayers","_addLayer","removeLayer","_removeLayer","setQueryable","showOnCatalog","setOptions","removeLayers","getLayersDict","PRINTABLE","VISIBLE","SELECTED","CACHED","SELECTED_OR_ALL","SERVERTYPE","BASELAYER","GEOLAYER","VECTORLAYER","HIDDEN","DISABLED","IDS","isUndefined","filtrable","getBaseLayers","getLayerByName","getLayerAttributes","getLayerAttributeLabel","getGeoLayers","_getAllSiblingsChildrenLayersId","nodeIds","traverse","nodes","node","_getAllParentLayersId","_node","selectLayer","getExtent","getInitExtent","setLayersTree","rootGroup","root","createLayersTree","groupName","full","_layerstree","tocLayersId","newobj","lightlayer","groupId","mutually_exclusive","geoLayers","removeLayersTree","getLayersTree","38","LayersStoresRegistry","stores","storesArray","addLayersStore","layersStore","_addLayersStore","removeLayersStore","layerStore","_removeLayersStore","removeLayersStores","_removeLayersStores","storeId","getQuerableLayersStores","getLayersStores","isNil","_storeId","39","ARGISMAPSERVERLegend","_layer$getConfig$sour","layername","serviceUrl","40","arcgismapserver","Legendservice","_ref$options","./arcgismapserverlegend","./wmslegend","41","WMSLegend","width","height","_params$color","color","_params$fontsize","fontsize","_params$transparent","transparent","boxspace","layerspace","_params$layertitle","layertitlespace","symbolspace","iconlabelspace","symbolwidth","symbolheight","itemfontfamily","layerfontfamily","layerfontbold","itemfontbold","layerfontitalic","itemfontitalic","rulelabel","_params$sld_version","sld_version","_options$categories","_options$all","_options$format","LAYER","FORMAT","STYLES","LEGEND_ON","LEGEND_OFF","encodeURIComponent","getContextBaseLegend","_get_LEGEND_ON_LEGEND","get_LEGEND_ON_LEGEND_OFF_Params","42","WMSLAYER","RasterLayers","TiledArgisMapServer","g3w-ol/layers/rasters","43","core/layers/map/vectorlayer","44","allLayers","showSpinnerWhenLoading","_updateLayers","checkLayerDisabled","checkLayersDisabled","setupCustomMapParamsToLegendUrl","45","createOlLayer","createLayerStyle","resetSource","Vector","setSource","_style","_makeStyle","styleConfig","icon","image","Icon","src","imageSize","stroke","Stroke","fill","Fill","Style","setOLLayer","getVisible","addToMap","46","_objectWithoutProperties","LAYERTYPE","MULTILAYER","_method","withLayers","getGetFeatureInfoUrl","coordinate","getLayerConfigs","_getVisibleLayers","getQueryableLayers","wmsConfig","representativeLayer","_extraParams$force","visibleLayers","CATEGORIES_LAYERS","OPACITIES","parseInt","prefix","LAYERS","updateParams","47","TiledWMSLayer","48","layerOptions","49","GEOJSONDataProvider","_name","Provider","parseFeatures","parser","featureProjection","dataProjection","digestFeaturesForTable","core/layers/providers/provider","50","KMLDataProvider","DataProvider","51","_isReady","_hasFieldsStartWithNotPermittedKey","getTimeoutPromise","handleQueryResponse","responseParser","isValid","handleQueryResponseFromServer","projections","getQueryResponseTimeoutKey","_ref$layers","getTimeoutData","core/utils/parsers","52","providerType","providerClass","ProvidersForServerTypes","Providers","geojson","kml","xml","qgis","wfs","virtual","postgres","oracle","mssql","spatialite","ogr","delimitedtext","wmst","wcs","gdal","vector-tile","vectortile","mdal","./geojsonprovider","./kmlprovider","./qgisprovider","./wfsprovider","./wmsprovider","./xmlprovider","53","QGISProvider","_projections","_queryUrl","_filtertokenUrl","_infoFormat","Parsers","mode","_ref3$data","dataUrl","_ref5$raw","_ref5$suggest","_ref5$formatter","setProjections","_options$filter","layerNames","SERVICE","VERSION","REQUEST","QUERY_LAYERS","INFO_FORMAT","FEATURE_COUNT","FILTER","WITH_GEOMETRY","featuresForLayers","getWidgetData","widgetUrls","unlockUrl","post","jsonCommits","contentType","layerType","urlParams","jsonFilter","_options","_jsonFilter","nofeatures","_jsonFilter2","nofeatures_field","parser_options","featureLock","_urlParams","_loadLayerData","customUrlParameters","_arguments","Obkect","layerCode","noVectorlayerCodes","vectorLayersSetup","_setupVectorLayer","vectorLayersCodes","slice","loadAllVectorsData","_vectorLayersCodes","setVectorLayersCodes","getVectorLayersCodes","reloadVectorData","_createVectorLayerFromConfig","vectorLayer","_getVectorLayerData","vectorDataResponse","setVectorLayerData","_editingApiField","setData","layerCodes","loadedExtent","_loadedExtent","resolvedValue","vectorDataRequests","_loadVectorData","_setCustomUrlParameters","_customUrlParameters","_checkVectorGeometryTypeFromConfig","vectorConfig","layerConfig","_getVectorLayerConfig","vectorConfigResponse","crsLayer","_createVectorLayer","self","_editingMode","setFields","setCrs","lazyRelations","setRelations","setVectorFeaturesLock","getVectorLayerData","_vectorLayersData","getVectorLayersData","vectorLayerData","featureslock","newFeaturesLockIds","differenceBy","getFeatureLocks","newLockId","addLockId","cleanVectorFeaturesLock","cleanFeatureLocks","lockFeatures","_baseUrl","layerApiField","lock","getMode","apiUrl","cleanUpLayers","54","WFSDataProvider","toRawType","_options$reproject","reproject","_options$feature_coun","MAXFEATURES","_options$layers","timeoutKey","_doRequest","featuresForLayer","_featuresForLayer$fea","always","clearTimeout","_post","match","_get","SRSNAME","TYPENAME","OUTPUTFORMAT","filterType","filterConfig","featureRequest","writeGetFeature","featureTypes","_filterConfig$spatial","spatialMethod","children","innerHTML","repeat","queryPromise","status","responseText","55","WMSDataProvider","appendParams","GETFEATUREINFO_IMAGE_SIZE","DPI","getDPI","_getRequestParameters","coordinates","_ref$query_point_tole","query_point_tolerance","getExtentForViewAndSize","x","y","PARAMS_TOLERANCE","bufferGeometry","Polygon","fromCircle","Circle","wkGeometry","WKT","FILTER_GEOM","writeGeometry","FI_POINT_TOLERANCE","FI_LINE_TOLERANCE","FI_POLYGON_TOLERANCE","G3W_TOLERANCE","LEGEND_PARAMS","WIDTH","HEIGHT","layerProjection","_options$size","_options$coordinates","METHOD","test","Content-Type","GET","sourceParam","POST","56","XMLDataProvider","57","clearFeatures","syncSelectionFilterFeatures","setColor","_setColor","_color","_editatbleLayer","getEditingConfig","_ref$constraints","constraints","_ref$capabilities","form","perc","_setOtherConfigParameters","updateItem","setFormPercentage","getFormPercentage","cloneFeatures","setVectorUrl","setProjectType","getColor","isEditingLayer","getEditingStyle","setEditingStyle","getEditingConstrains","getEditingCapabilities","isFieldRequired","required","validate","editable","isPkField","find_field","pk","isEditingFieldEditable","getEditingMediaFields","getFieldsLabel","labels","getDataFormat","getEditingFormat","addEditingConfigFieldOption","getCommitUrl","setCommitUrl","getEditingUrl","getUnlockUrl","setUnlockUrl","getWidgetUrl","setDataUrl","getDataUrl","getConfigUrl","setConfigUrl","setFeaturesStore","featuresstore","setFieldsWithValues","createAttributesFromFields","attributes","getFieldsWithValues","_options$exclude","exclude","_options$get_default_","get_default_value","_configField","forceNull","valid","_valid","value_from_default_value","exclude_values","mutually_valid","empty","createNewFeature","58","VectorMapLayer","getEditingGeometryType","59","_ref$name","_ref$config","getPluginConfig","_ref$service","service","_ref$dependencies","_ref$i18n","_ref$fontClasses","fontClasses","_ref$api","setName","setLocale","setService","setDependencies","addFontClasses","setApi","setHookService","_ready","hookservices","_timeout","setTimeout","removeLoadingPlugin","removeLayout","setPlugin","hook","_hook","getHookService","setLayout","cloneLayout","setCurrentLayout","isCurrentProjectCompatible","getGid","registerPlugin","iscompatible","getDependencyPlugins","pluginsName","getDependencyPlugin","getDependencyPluginsObject","pluginsApiObject","promises","_x6","isTherePlugin","setHookLoading","_ref3$hook","_ref3$loading","setLoading","addToolGroup","_ref4$hook","order","position","group","removeToolGroup","addTools","_ref6$hook","html","_ref6$offline","offline","_ref6$options","_ref6$loading","_ref6$disabled","_ref6$state","groupTools","configs","bind","setToolState","_ref7$state","removeTools","createSideBarComponent","vueComponentObject","_ref8$open","_ref8$collapsible","_ref8$mobile","_ref8$isolate","_ref8$closewhenshowvi","_ref8$iconConfig","_ref8$events","_ref8$sidebarOptions","open","collapsible","mobile","isolate","closewhenshowviewportcontent","iconConfig","events","sidebarOptions","componentsFactoryOpts","iconColor","getFontClass","PluginSiderbarComponent","addComponent","removeComponent","unload","clearAllEvents","load","addDependency","dependency","addFontClass","className","Vue","g3wtemplate","fonClasses","fontClass","60","_pluginEvents","_appEvents","currentLayout","getCurrentLayoutName","vm","unwatch","$watch","__current","currentLayoutName","resetCurrentLayout","gid","initEvents","registerWindowEvent","evt","cb","unregisterWindowEvent","subscribeEvent","_ref5$once","owner","triggerEvent","_ref6$params","unsubscribeEvent","removeEvent","unsubscribeAllEvents","loadPlugin","61","PrintService","_currentLayerStore","convertObjectToUrlParams","OUTPUT_FORMATS","pdf","jpg","COMMON_REQUEST_PARAMETERS","getAtlasParamsFromOptions","template","_options$download","multiValues","EXPRESSION","EXP_FILTER","TEMPLATE","DOWNLOAD","getParamsFromOptions","rotation","dpi","_options$maps","maps","_options$labels","is_maps_preset_theme","preset_theme","mime_type","xhr","XMLHttpRequest","responseType","setRequestHeader","onload","window","URL","webkitURL","_url","createObjectURL","onerror","send","_getAtlasParamsFromOptions","_getParamsFromOptions","printAtlas","print","62","catalog_tab","toc_tab_default","_catalog_tab","toc_layers_init_status","toc_themes_init_status","map_themes","expression_eval","vector_data","_processLayers","crsToCrsObject","_projection","_layersStore","_buildLayersStore","setBaseLayer","baselayers","baseLayer","setSearchEndPoint","_state$search","getAliasUrl","aliasUrl","getActiveCatalogTab","setActiveCatalogTab","tab","context_base_legend","getQueryPointTolerance","getQueryFeatureCount","isQueryMultiLayers","mapcontrol","querymultilayers","getRelationsByLayerId","tree","layer_name_originale","baseLayerId","getBaseLayerId","baseLayerConfig","baseLayerVisibleId","initbaselayer","fixed","overviewprojectgid","WMSUrl","getConfigLayers","setLegendPosition","legend_position","getLegendPosition","getThumbnail","thumbnail","getPrint","getSearches","rasterurl","getOverviewProjectGid","getQgisVersion","qgis_version","setLayersTreePropertiesFromMapTheme","mapThemeConfig","mapThemeLayersTree","groups","map_theme","_ref4$layerstree","getMapThemeFromThemeName","visibility","setCurrentStyleAndResolvePromise","allSettled","_ref6$node","_x8","map_theme_config","theme","getMapThemeConfiguration","_x9","getSpatialBookmarks","bookmarks","63","Relation","uniqueSuffix","father","child","fieldRef","referencedField","referencingField","setTitle","getChild","getFather","isLoading","64","_length","_relationsInfo","fathers","father_child","relationConfig","_createRelationsInfo","relationKey","_clearRelationsInfo","father_children","_reloadRelationsInfo","addRelation","removeRelation","childId","fatherId","core/relations/relation","65","GeometryTypes","removeZValueToOLFeatureGeometry","originalFeatureCoordinates","getCoordinates","setCoordinates","singleLine","singlePolygon","addZValueToOLFeatureGeometry","MULTIPOLYGOZM","getOLGeometry","isMultiGeometry","getAllPointGeometryTypes","isPointGeometryType","getAllLineGeometryTypes","isLineGeometryType","getAllPolygonGeometryTypes","isPolygonGeometryType","type3D","coordinatesToGeometry","geometryClass","MultiPolygon","LineString","MultiLineString","Point","MultiPoint","getDefaultLayerStyle","defaultStyle","radius","styleObj","createFeatureFromCoordinates","createFeatureFromBBOX","fromExtent","createFeatureFromGeometry","_ref6$feature","_feature2","olSource","setOpacity","createWMSLayer","_ref7$layers","wmslayer","createVectorLayerFromGeometry","createVectorLayerFromFeatures","createVectorLayerFromFile","createVectorLayer","separator","errorrows","promiseKmz","mapCrs","KML","vectorSource","_fields","GPX","WMSGetFeatureInfo","extractStyles","row","rowvalues","transform","showUserMessage","hooks","footer","autoclose","zip","buffer","kmlFile","JSZip","arrayBuffer","file","asText","_x11","t2","createStyleFunctionToVectorLayer","styleFunction","rgba","g","b","setText","Text","font","offsetY","_g3w_options","createSelectedStyle","_ref12$color","_ref12$fill","zIndex","Infinity","fillColor","asArray","asString","getAlphanumericPropertiesFromFeature","getQueryLayersPromisesByBBOX","_ref13$filterConfig","_ref13$feature_count","_ref13$multilayers","multilayers","queriesPromise","getMap","getView","getQueryLayersPromisesByGeometry","queryResponses","queryErrors","layersLenght","layerCrs","_ref14$multilayers","_ref14$filterConfig","_ref14$feature_count","filterGeometry","multiLayers","groupBy","numberRequestd","layersLength","_multilayer","getQueryLayersPromisesByCoordinates","_ref15$feature_count","_ref15$query_point_to","_ref15$multilayers","_ref15$reproject","getSize","getResolution","numberOfRequests","_layers2","rejectedResponses","transformBBOX","sourceCrs","destinationCrs","point1","point2","parseQueryLayersPromiseResponses","responses","getMapLayerById","getMapLayersByFilter","areCoordinatesEqual","coordinates1","coordinates2","getFeaturesFromResponseVectorApi","_ref17","_ref17$type","covertVectorFeaturesToResultFeatures","splitGeometryLine","splitGeometry","lineGeometry","isZType","splitted","splittedSegments","jstsFromWkt","jsts","io","WKTReader","wktFromOl","olFromJsts","OL3Parser","splitLine","read","wktLineString","targetLine","targetCoordinates","targetCoordinatesLength","geometryFactory","GeometryFactory","pointsNotSplitted","endPoint","startPoint","z","segment","createLineString","intersectCoordinates","intersection","splitPoint","lineNewSegment","write","_lineNewSegment","_coordinates","restOfLine","zCoordinates","pointNotSplitted","splitFeatures","_ref18$features","splitfeature","splitterdGeometries","geometries","splitFeature","splitType","featureGeometryType","splittedFeatureGeometries","isMulti","polygonFeature","getPolygons","polygonFeatureGeometry","externalPolygonFeatureGeometry","getLinearRing","holePolygons","getLinearRingCount","holeFeaturesGeometry","holeRing","operation","polygonize","Polygonizer","holyPolygonUnion","toArray","polygon","polygonizer","polygons","difference","intersects","getInteriorPoint","polygonCoordinates","_isMulti","lineFeatureGeometry","getLineStrings","getPointFeaturesfromGeometryVertex","pointFeatures","pop","getVertexLength","vertexLength","isSameBaseGeometryType","geometryType1","geometryType2","isSingleGeometry","singleGeometriesToMultiGeometry","multiGeometryToSingleGeometries","getPoints","convertSingleMultiGeometry","toGeometryType","fromGeometryType","isFromGeometryMulti","isToGeometryMulti","dissolve","_ref20","_ref20$features","_ref20$index","_ref20$clone","featuresLength","dissolvedFeature","jstsdissolvedFeatureGeometry","baseFeature","baseFeatureGeometry","baseFeatureGeometryType","lineMerger","linemerge","LineMerger","addLineString","mergedLineString","getMergedLineStrings","_feature3","dissolvedFeatureGeometry","dissolvedFeatureGeometryType","dissolvedFeatuteGeometryCoordinates","within","geometryToCheck","jstsGeometry","jstsGeometryToCheck","findSelfIntersects","jstsPolygon","validator","IsSimpleOp","isSimpleLinearGeometry","graph","geomgraph","GeometryGraph","cat","ConsistentAreaTester","isNodeConsistentArea","normalizeEpsg","proj4","axisinverted","geographic","ConvertDMToDEG","dms","_ref21$type","dms_Array","degrees","minutes","deg","toFixed","ConvertDEGToDM","_ref22","_ref22$output","output","absolute","abs","ConvertDMSToDEG","_ref23$type","seconds","direction","ConvertDEGToDMS","lat","lon","_ref24$output","minutesNotTruncated","getGeoTIFFfromServer","_options$params","csrfmiddlewaretoken","_options$method","body","geoTIFF","FormData","append","fetch","blob","createOlFeatureFromApiResponseFeature","_feature$properties","sanitizeFidFeature","layerAttributes","featureAttributes","featureAttributesNames","featureAttributesName","_featureAttributesNames","_ref26$wms","distance","c1","c2","sqrt","squaredDistance","x1","y1","x2","y2","dx","dy","closestOnSegment","x0","y0","end","along","_checked","66","INCHES_PER_UNIT","m","DOTS_PER_INCH","obj1","obj2","obj3","center","cosRotation","cos","sinRotation","sin","xCos","xSin","yCos","ySin","x3","y3","max","createPolygonLayerFromBBox","polygonLayer","reverseGeometry","reverseCoordinates","units","round","getResolutionFromScale","normScale","getMetersFromDegrees","proj","Units","METERS_PER_UNIT","needUseSphereMethods","getUnits","getLengthMessageText","useSphereMethods","sphere","totalLength","transformMeterLength","getAreaMessageText","_ref2$segments","segments","area","getArea","segments_info_meausure","segmentLength","transformMeterArea","formatMeasure","getCurrentMapUnit","createMeasureTooltip","element","tooltip","Overlay","offset","positioning","addOverlay","unbyKey","tooltipCoord","getInteriorPoints","getLastCoordinate","setPosition","tounit","removeMeasureTooltip","removeOverlay","Observable","unByKey","setMeasureTooltipStatic","getElement","setOffset","67","olutils","WORD_NUMERIC_FIELD_ESCAPE","getHandledResponsesFromResponse","_ref$id","x2js","X2JS","jsonresponse","xml_str2json","FeatureCollection","handledResponses","featureMember","originalFeatureMember","featureMemberArrayAndPrefix","__prefix","g3w_fid","__text","_fid","groupFeatures","groupFeaturesByFields","handleWMSMultiLayersResponseFromQGISSERVER","_jsonresponse$Feature","handledResponse","parseLayerFeatureCollection","transformFeatures","mainProjection","invertedAxis","reverseFeaturesCoordinates","_require3$Geometry","layerFeatureCollectionXML","json2xml_str","hasFieldsStartWithNotPermittedKey","numericFields","ori_field","handleXMLStringResponseBeforeConvertToJSON","String","XMLSerializer","serializeToString","originalName","sanitizeLayerName","reg","RegExp","arrayQGS","matchAll","originalField","regex","strangeChar","fromCharCode","sub_index","_jsonresponse$Feature2","contenttypes","application/json","_ref5$layers","_ref5$wms","_require4","layersFeatures","layersId","parseData","defaultDataProjection","geometryName","application/geojson","parserGEOJson","text/html","rawdata","text/plain","text/gml","parserGML","application/vnd.ogc.gml","_ref10$wms","not_supported_format","_ref11$layers","VectorParser","_parseLayerGeoJSON","_parseLayermsGMLOutput","gml","gmlTag1","gmlTag2","boundary","parts","part","isGmlPart","TableParser","_parserJSON","_data$features","table","68","decimalAdjust","exp","NaN","round10","floor10","ceil10","hashCode","hash","chr","len","charCodeAt","Base64","_keyStr","encode","s","_utf8_encode","charAt","decode","_utf8_decode","getUniqueDomId","basemixin","destination","sourceInstance","hasOwn","object","childCtor","parentCtor","tempCtor","superClass_","me","opt_methodName","var_args","caller","callee","foundCaller","ctor","truefnc","falsefnc","getValueFromG3WObjectEvent","getAjaxResponses","listRequests","requestsLenght","DoneRespones","FailedResponses","trimValue","isURL","_ref$reserverParamete","checkUrl","_params","toUpperCase","_param","uri","keyParams","k","qs","imageToDataURL","_ref2$callback","callback","Image","canvas","context","getContext","naturalHeight","naturalWidth","drawImage","dataURL","toDataURL","capitalize_first_letter","string","_toString","isEmptyObject","lastCall","previousCall","func","timeout","getRandomColor","copyUrl","tempinput","select","execCommand","downloadFile","filename","_ref3$mime_type","temapAncor","dataset","downloadurl","href","click","Blob","json","_x7","downloadCSVLayerFeatures","_ref6$alias","alias","downloadCSV","convertToCSV","str","line","_ref7$filename","_ref7$items","exportedFilenmae","navigator","msSaveBlob","link","_ref8$timeout","_ref9$params","_ref10$formdata","formdata","getResponseStatusHeaders","_formdata","ajax","processData","htmlescape","_ref11$httpMethod","timeoutId","downloadPromise","createSingleFieldParameter","_ref12$operator","_ref12$logicop","_ref12$search_endpoin","valueLenght","_valueLenght","createFilterFromString","_ref13$search_endpoin","_ref13$filter","stringFilter","regexoperator","regexsinglequote","re","replaceValue","createFilterFormInputs","_ref16$search_endpoin","_ref16$inputs","isLayerArray","filters","_ref17$search_endpoin","_ref17$operator","splitContextAndMethod","_string$split","_string$split2","colorHEXToRGB","convertQGISDateTimeFormatToMoment","datetimeformat","matchDayInDate","69","InputValidators","validators","float","integer","isSafeInteger","checkbox","datetimepicker","fielddatetimeformat","moment","radio","range","Validator","70","_workflow","queques","Queque","micro","getInputs","getSteps","runStep","setMessages","help","runMicroTasks","run","onDone","onError","clearQueques","isRunning","core/workflow/queque","71","tasks","addTask","shift","flush","72","_options$inputs","_options$context","_options$task","_options$outputs","escKeyPressEventHandler","_inputs","_task","_outputs","running","registerEscKeyEvent","escKeyUpHandler","_evt$data","unbindEscKeyUp","unbind","bindEscKeyUp","getTask","setInputs","setContext","panic","getHelp","getError","getMessage","setTask","setOutputs","getOutputs","MESSAGES","73","usermessagesteps","setRoot","getUserMessageSteps","setUserMessageSteps","setUserMessageStepDone","74","_options$flow","flow","_options$steps","_options$runOnce","runOnce","_promise","_flow","_steps","_child","_stackIndex","_messages","_userMessageSteps","messagesSteps","createUserMessageStepsFactory","getContextService","setContextService","getStackIndex","addChild","setInput","_setInputs","getFlow","setFlow","addStep","setSteps","getStep","messages","getMessages","clearMessages","_isThereUserMessaggeSteps","clearUserMessagesSteps","getLastStep","getRunningStep","_stopChild","getCurrent","stepsComponent","closable","_resetUserMessaggeStepsDone","closeUserMessage","userMessageSteps","buttonnext","gui/workflow/createUserMessageStepsFactory","75","SPATIALMETHODS","VM","76","AddLayersControl","tipLabel","Control","_layerstore","setMap","getLayersSore","g3w-ol/controls/control","77","AreaIteraction","MeasureControl","AreaControl","clickmap","interactionClass","g3w-ol/controls/measurecontrol","78","_constants","InteractionControl","VALIDGEOMETRIES","BaseQueryPolygonControl","_options$spatialMetho","onSelectlayer","_options$enabled","enabled","default_options","toggledTool","how","onhover","geometryTypes","checkVisibile","setEnable","g3w-ol/constants","g3w-ol/controls/interactioncontrol","79","_options$name","_options$visible","_enabled","eventKeys","positionCode","customClass","mapControlButtonVue","functional","render","h","_class","class","attrs","directives","mapControlButtonDOMElement","$mount","$el","buttonClickHandler","_handleClick","control","_postRender","isClickMap","isToggled","_toggled","setEventKey","eventType","eventKey","originalHandler","resetOriginalHandlerEvent","overwriteEventHandler","handler","getPosition","event","preventDefault","resetControl","getControls","toggle","shiftPosition","hWhere","changelayout","showControl","hideControl","left","controlWidth","outerWidth","newPosition","siblings","each","hide","first","toggleClass","_interaction","setActive","getEnable","_visible","g3w-ol/controls/utils","80","_classCallCheck","instance","Constructor","GeocodingControl","placeholder","noresults","notresponseserver","lang","limit","keepOpen","autoComplete","autoCompleteMinLength","viewbox","bounded","fontIcon","Google","Nominatim","containerClass","cssClasses","namespace","inputText","container","GeocoderVueContainer","inputQueryId","autocomplete","btn","val","aria-hidden","inputResetId","lastQuery","registeredListeners","mapClick","showMarker","hideMarker","zoomToGeometry","createControl","_this10","hit","which","keyCode","focus","addClass","clearResults","handleValue","removeClass","addEventListener","q","_this11","isNumber","_q$split","_q$split2","firstChild","_provider$getParamete","getParameters","countrycodes","spin","_providers$index$hand","header","createList","_this12","_ref4$results","ul","createHeaderProviderResults","addressHtml","addressTemplate","address","li","chosen","original","elementVue","nominatim-noresult","place","addressObj","addressOriginal","coord","parseFloat","headerNodeElement","classList","road","building","house_number","city","town","village","country","expand","_this13","glass","collapse","blur","removeAllChildren","_this14","_createClass","defineProperties","props","descriptor","protoProps","staticProps","olControl","isNumeric","classRegex","classname","array","hasClass","_addClass","el","klass","_removeClass","remove","contains","selector","find_all","simpleRe","periodRe","matches","getElementsByClassName","querySelectorAll","getElementById","isElement","HTMLElement","nodeType","nodeName","getAllChildren","tag","isEmpty","emptyArray","anyMatchInArray","some","everyMatchInArrayy","arr1","every","anyItemHasValue","removeAll","collection","parentNode","childNodes","tagName","htm","htmlEscape","attr","frag","createDocumentFragment","transformExtent","settings","addressdetails","_settings","containsXY","neighbourhood","postcode","formatted","display_name","details","google","_settings2","bounds","location","address_components","types","long_name","short_name","./control","81","GeolocationControl","_showMarker","_ref$show","setCenter","toggledKeyEvent","geolocation","Geolocation","tracking","trackingOptions","enableHighAccuracy","82","GeoScreenshotControl","ScreenshotControl","g3w-ol/controls/screenshotcontrol","83","_mapControls","_mapControls2","_options$toggled","toggled","_options$clickmap","_options$interactionC","_options$autountoggle","autountoggle","_options$geometryType","_options$onhover","_options$help","_options$interactionC2","interactionClassOptions","unwatches","listenLayersVisibilityChange","_interactionClass","_autountoggle","_geometryTypes","_onhover","_help","_helpButton","_toolButton","_interactionClassOptions","_createModalHelp","createControlTool","handleChangeSpatialMethod","setSelectedLayer","getSelectedLayer","getExternalLayers","onSelectLayer","runSpatialQuery","onAddExternalLayer","unWatches","onRemoveExternalLayer","handleSelectedLayer","handleExternalSelectedLayer","enable","disable","component","_toggledTool$how","getSpatialMethod","methods","watch","setSpatialMethod","created","setCloseUserMessageBeforeSetContent","beforeDestroy","_createToolOnHoverButton","prepend","stopPropagation","showToggledTool","hover","mouseleave","_showModalHelp","showModalDialog","getGeometryTypes","getControlBottom","addClassToControlBottom","controlButton","removeClassToControlBottom","setGeometryTypes","addInteraction","getInteraction","unlistenSpatialMethodChange","watchLayer","expOrFn","isSelectedLayerVisible","_hasVisibleLayer","_hasVisibleExternalLayer","addExternalLayerToResult","isExternalLayerSelected","store/map-controls","84","LenghtIteraction","LengthControl","85","_map","86","MousePositionControl","MousePosition","87","OLControl","_control","Zoom","ZoomToExtent","ScaleLine","OverviewMap","getOlControl","viewPort","getViewport","previusControls","previusControl","last","previousOffset","right","previousWidth","offsetWidth","hOffset","showHide","88","OnClickControl","_originalonlick","_onclick","onclick","overwriteOnClickEvent","clickHandler","resetOriginalOnClickEvent","controlElement","buttonControl","cliccked","89","layersFilterObject","condition","QueryBBoxControl","_startCoordinate","filterableLayersAvailable","DragBox","checkVisible","checkEnabled","findLayer","boundingExtent","closeOpenSideBarComponent","addExternal","getCenter","isThereVisibleLayerNotSelected","90","QueryByDrawPolygonControl","iltrable","Draw","isThereVisibleLayers","filterableLayers","excludeSelected","_ref4$error","g3w-ol/controls/basequerypolygoncontrol","91","QueryByPolygonControl","controlQuerableLayers","controlFiltrableLayers","queryableLayers","_x3","getPolygonFeatureFromCoordinates","listenPolygonLayersChange","_ref7$data","_ref8$error","92","QueryControl","eventSingleClickKey","eventPickedKey","runQuery","93","ResetControl","94","ScaleControl","isMobile","deleteLastCustomScale","select2","option","scales","addCustomTag","trigger","newOption","Option","isMapResolutionChanged","selectedOnClick","tags","dropdownParent","getTargetElement","noResults","minimumResultsForSearch","createTag","newTag","term","isInteger","view","setChangeResolutionHandler","setResolution","_setScales","currentResolution","currentScale","_createControl","controlDomElement","optgroup","optgroup_custom","95","g3w-ol/controls/onclickcontrol","96","StreetViewComponent","GoogleStreetViewApiUrl","StreetViewControl","keyError","$script","_sv","_panorama","_lastposition","_streetViewFeature","streetVectorSource","atan2","pixel","StreetViewService","getPanorama","StreetViewPanorama","imageDateControl","addListener","lnglat","getPixelFromCoordinate","setPov","pitch","heading","latLng","closeContent","showStreetView","_ol$proj$transform","_ol$proj$transform2","setContent","clearMarker","gui/streetview/vue/streetview","97","TOPOFFSET","changeLayoutBottomControl","_ref2$isMobile","previusControlWidth","previousLeftPosition","previousTopPosition","top","elementTopPosition","createControlUserMessageTool","98","ZoomBoxControl","start_coordinate","end_coordinate","99","maphelpers","helpers","g3w-ol/map/maphelpers","100","MeasureInteraction","g3w-ol/interactions/measureinteraction","101","DeleteInteractionEvent","DeleteInteraction","Pointer","handleDownEvent","handleDownEvent_","handleMoveEvent","handleMoveEvent_","handleUpEvent","handleUpEvent_","handleEvent","handleEvent_","previousCursor_","startCursor_","lastCoordinate_","features_","layer_","map_","mapBrowserEvent","originalEvent","lastFeature_","featuresAtPixel_","cursor","intersectingFeature","forEachFeatureAtPixel","includes","102","LengthIteraction","103","MeasureIteraction","_helpTooltip","_measureTooltipElement","_measureTooltip","_featureGeometryChangelistener","_poinOnMapMoveListener","testTooltip","_helpMsg","drawColor","measureStyle","lineDash","_helpTooltipElement","_drawStart","_drawEnd","setDrawMessage","_clearMessagesAndListeners","measureTooltip","off","_keyDownEventHandler","_removeLastPoint","removeLastPoint","dragging","helpMsg","_createHelpTooltip","_createMeasureTooltip","104","PickCoordinatesEventType","PICKED","PickCoordinatesEvent","_centerMap","shouldStopEvent","105","PickFeatureEventType","PickFeatureEvent","layers_","pickedFeature_","pickedLayer_","layerFilter_","include","featureFound","layerFilter","hitTolerance","any","106","Tile","basemap","_ref2$visible","_ref2$url","_ref2$source_type","_ref2$crossOrigin","crossOrigin","_ref3$singleTile","_ref3$opacity","_ref4$style","_ref4$format","_ref4$opacity","projectionExtent","resolutions","getWidth","matrixIds","pow","tileGrid","tilegrid","origin","getTopLeft","preload","BingMaps","107","loadImageTileFunction","_ref$method","_ref$sourceOptions","sourceOptions","imageTile","_url$split","_url$split2","getImage","TileState","ERROR","layerObj","_WMSLayer","optionsFromCapabilities","ImageArgisMapServer","ImageArcGISRest","ratio","TileArcGISRest","_options$tiled","_layerObj$iframe_inte","_layerObj$layers","_layerObj$version","_layerObj$sld_version","_layerObj$opacity","maxResolution","TRANSPARENT","SLD_VERSION","imageOptions","imageClass","TileWMS","ImageWMS","_options$visible2","createXYZ","getResolutions","TileGrid","XYZ","108","MapHelpers","createViewer","opts","_Viewer","defaults","attribution","DragRotate","View","ol3Logo","keyboardEventTarget","Map","destroy","dispose","updateMap","mapObject","updateView","setTarget","zoomTo","setZoom","goTo","animate","panAnimation","zoomAnimation","goToRes","fit","constrainResolution","getZoom","getBBOX","calculateExtent","removeLayerByName","getActiveLayers","activelayers","getLayersNoBase","addBaseLayer","Aerial","changeBaseLayer","../layers/bases","109","Projection","_options$crs","proj4def","_options$crs$geograph","_options$crs$axisinve","defs","_axisOrientation","isInvertedAxisOrientation","getOlProjection","110","isRegistered","cachedProjection","addProjection","registerProjection","./projection","111","CatalogService","prstate","highlightlayers","layerstrees","layersgroups","addExternalLayer","removeExternalLayer","setSelectedExternalLayer","externalLayer","layersStores","addLayersStoreToLayersTrees","layersTree","storeid","createLayersGroup","_ref4$title","_ref4$layers","getMajorQgisVersion","addLayersGroup","layersGroup","changeMapTheme","currentProject","rootNode","changeMapThemeProjectObj","changeProjectView","_x4","_ref6$type","_ref7$type","getExternalLayerById","_ref8$type","112","_interopRequireWildcard","newObj","resizable","mapComponentId","mapcomponentid","Service","setInternalComponent","InternalComponent","internalComponent","listenToMapVisibility","_components2","_Catalog","catalogComponentOptions","_CatalogLayersGroup","catalogLayersGroupComponentOptions","_CatalogTristateTree","catalogTristateTreeComponentOptions","_CatalogLayersLegend","catalogLayersLegendComponentOptions","_CatalogLayersLegendItems","catalogLayersLegendItemsComponentOptions","_components","components/Catalog.vue","components/CatalogLayersGroup.vue","components/CatalogLayersLegend.vue","components/CatalogLayersLegendItems.vue","components/CatalogTristateTree.vue","gui/catalog/catalogservice","store/components","113","CatalogEventHub","114","Chartsfactory","CHARTS","_ref$hooks","_type$split","_type$split2","_type$split2$","library","_type$split2$2","chartType","chartVue","115","VUECOMPONENTSATTRIBUTES","_firstLayout","_options$id","_options$title","_options$open","_options$resizable","_options$info","_options$loading","_options$disabled","_options$closewhensho","sizes","setOpen","_setOpen","_setVisible","reload","_reload","handleEventsComponent","vueComponent","createVueComponent","components","propsData","_service","setInternalComponentTemplate","getOpen","closeWhenViewportContentIsOpen","_events","_open$when","_open$cb","guiEvents","insertComponentAt","removeCompomentAt","popComponent","setComponents","exendComponents","getInternalComponent","internalComponentClass","_options$events","$on","vueObjOptions","addInternalComponentData","overwriteServiceMethod","methodName","overwriteServiceMethods","methodsOptions","extendService","serviceOptions","extendInternalComponent","internalComponentOptions","extendInternalComponentMethods","extendInternalComponentComponents","extendComponents","extendInternalComponentComputed","computed","getInternalTemplate","mount","iCinstance","$nextTick","localize","unmount","$off","$destroy","ismount","$emit","116","buildSidebar","_options$collapsible","_options$isolate","_options$mobile","_options$iconConfig","_options$sidebarOptio","117","matcher","searchItem","modifiedData","errorLoading","searching","inputTooShort","remainingChars","minimum","118","_FieldText","_FieldText2","_FieldLink","_FieldLink2","_FieldImage","_FieldImage2","_FieldGeo","_FieldGeo2","_FieldMedia","_FieldMedia2","_FieldVue","_FieldVue2","simple_field","text_field","link_field","image_field","geo_field","photo_field","media_field","vue_field","components/FieldGeo.vue","components/FieldImage.vue","components/FieldLink.vue","components/FieldMedia.vue","components/FieldText.vue","components/FieldVue.vue","119","URLPattern","PhotoPattern","FieldType","SIMPLE","GEO","LINK","PHOTO","PHOTOLINK","POINTLINK","ROUTE","VUE","fieldValue","photo","isSimple","isLink","isImage","isPhoto","isVue","_ref2$field","resetConfigFieldType","_ref3$field","./fields","120","eventBus","setInitForm","_setInitForm","setFormStructure","formStructure","formstructure","setFormFields","handleFieldsWithExpression","setupFields","_setupFields","setFormData","setField","addActionsForForm","actions","postRender","formId","_options$buttons","buttons","context_inputs","isnew","_options$footer","headerComponent","layerid","disabledcomponents","currentheaderid","tovalidate","componentstovalidate","filter_expression_fields_dependencies","default_expression_fields_dependencies","changeInput","evaluateFilterExpressionFields","evaluateDefaultExpressionFields","setUpdate","_options$force","expression_dependency_field","_getField","fieldForm","_field$input$options","filter_expression_dependency_fields","_options$filter_expre","_options$filter_expre2","referencing_fields","_options$filter_expre3","referenced_columns","dependency_field","_options$default_expr","_options$default_expr2","_referencing_fields","_options$default_expr3","_referenced_columns","_options$default_expr4","apply_on_update","default_expression_dependency_fields","setCurrentFormPercentage","setValidComponent","getValidComponent","mutually","countNoTEmptyInputName","inputname","previous","min_field","max_field","input_name","addComponents","_component$header","replaceComponent","disableComponent","disableId","disabledId","setCurrentComponentById","setIdHeader","setRootComponent","getRootComponent","isRootComponent","getComponentById","setComponent","addedComponentTo","formcomponent","addedcomponentto","addToValidate","removeToValidate","getEventBus","handleRelation","clearAll","121","vueComponentOptions","addBodyFormComponent","_ref$where","where","addBodyFormComponents","_ref2$components","_ref2$where","addFormComponents","addFormComponent","addDependecyComponents","addComponentBeforeBody","addComponentAfterBody","addComponentBeforeFooter","addComponentAfterFooter","setModal","reloadLayout","_Form","components/Form.vue","122","CheckBoxService","validatorOptions","convertCheckedToValue","convertValueToChecked","valueToCheck","gui/inputs/service","123","_InputCheckbox","CheckBoxInput","components/InputCheckbox.vue","124","_InputColor","TextInput","components/InputColor.vue","125","DateTimePickerService","getLocale","applicationConfig","setValidatorOptions","126","_InputDateTimePicker","DateTimePickerInput","components/InputDateTimePicker.vue","127","FloatService","128","_InputFloat","FloatInput","components/InputFloat.vue","129","_InputBase","_InputBase2","InputServices","Input","baseInputMixin","baseinput","notvalid","_notvalid","setErrorMessage","state.value","destroyed","./services","components/InputBase.vue","130","text_input","texthtml_input","textarea_input","integer_input","string_input","float_input","radio_input","check_input","range_input","datetimepicker_input","unique_input","select_input","media_input","select_autocomplete_input","picklayer_input","color_input","slider_input","lonlat_input","./checkbox/vue/checkbox","./color/vue/color","./datetimepicker/vue/datetimepicker","./float/vue/float","./integer/vue/integer","./lonlat/vue/lonlat","./media/vue/media","./picklayer/vue/picklayer","./radio/vue/radio","./range/vue/range","./select/vue/select","./sliderrange/vue/sliderrange","./text/vue/text","./textarea/vue/textarea","./texthtml/vue/texthtml","./unique/vue/unique","131","IntegerService","132","_InputInteger","IntegerInput","components/InputInteger.vue","133","LonLatService","coordinatebutton","mapEpsg","mapControlToggleEventHandler","toggleGetCoordinate","outputEpsg","eventMapKey","setCoordinateButtonReactiveObject","startToGetCoordinates","stopToGetCoordinates","deactiveMapControls","_coordinate","134","_InputLonLat","LatLontInput","components/InputLonLat.vue","135","MediaService","136","_InputMedia","MediaInput","components/InputMedia.vue","137","PickLayerService","pick_type","ispicked","isPicked","unpick","pick","afterPick","_response$0$data","removeInteraction","138","_InputPickLayer","PickLayerInput","components/InputPickLayer.vue","139","RadioService","140","_InputRadio","RadioInput","components/InputRadio.vue","141","RangeService","_options$state$input$","Validators","setValidator","isValueInRange","core/utils/validators","142","_InputRange","RangeInput","components/InputRange.vue","143","SelectService","_getLayerById","addValue","getKeyByValue","arrayValues","_arrayValues","$value","_ref2$layer_id","_ref2$key","_ref2$value","search_value","144","_InputSelect","SelectInput","components/InputSelect.vue","145","setValue","setEmpty","_validator","getValue","addValueToValues","_getValidatorType","isObject","getValidator","146","InputsServices","textarea","texthtml","check","media","select_autocomplete","picklayer","slider","lonlat","./checkbox/service","./datetimepicker/service","./float/service","./integer/service","./lonlat/service","./media/service","./radio/service","./range/service","./select/service","./service","./sliderrange/service","./unique/service","147","SliderRangeService","changeInfoMessage","148","_InputSliderRange","components/InputSliderRange.vue","149","_InputText","components/InputText.vue","150","_InputTextArea","TextAreaInput","components/InputTextArea.vue","151","_InputTextHtml","TextHtmlInput","components/InputTextHtml.vue","152","UniqueService","153","_InputUnique","UniqueInput","components/InputUnique.vue","154","OnClikControl","geoScreenshotControl","ControlsFactory","create","ControlClass","CONTROLS","zoombox","zoomtoextent","querybbox","querybypolygon","streetview","scaleline","overview","nominatim","geocoding","addlayers","mouseposition","screenshot","geoscreenshot","querybydrawpolygon","g3w-ol/controls/addlayers","g3w-ol/controls/areacontrol","g3w-ol/controls/geocodingcontrol","g3w-ol/controls/geolocationcontrol","g3w-ol/controls/geoscreenshotcontrol","g3w-ol/controls/lengthcontrol","g3w-ol/controls/mousepositioncontrol","g3w-ol/controls/olcontrol","g3w-ol/controls/querybboxcontrol","g3w-ol/controls/querybydrawpolygoncontrol","g3w-ol/controls/querybypolygoncontrol","g3w-ol/controls/querycontrol","g3w-ol/controls/resetcontrol","g3w-ol/controls/scalecontrol","g3w-ol/controls/streetviewcontrol","g3w-ol/controls/zoomboxcontrol","155","MapService","hidemaps","mapcontrolsalignement","mapcontrolDOM","mapcontrolready","mapcontrolSizes","minWidth","minHeight","mapControl","grid","currentIndex","map_info","mapunits","viewer","maps_container","_layersStoresEventKeys","_keyEvents","g3wobject","eventemitter","_changeMapMapControls","_externalMapLayers","_externalLayers","_externalInteractions","mapBaseLayers","defaultsLayers","highlightLayer","selectionLayer","layersExtraParams","_greyListenerKey","_drawShadow","outer","inner","_howManyAreLoading","_layersLoadingError","_incrementLoaders","showSpinner","_decrementLoaders","hideSpinner","_mapLayerLoadError","notify","warning","keysetCurrentProject","_removeListeners","isSameProject","changeProjectCallBack","_resetView","_setupAllLayers","_checkMapControls","setUpMapOlEvents","who","_setupListeners","_marker","_bboxLayer","_setupCustomMapParamsToLegendUrl","setupControls","_setupControls","addHideMap","_ref$switchable","mainview","switchable","idMap","updateMapView","updateMapLayers","setupViewer","_setupViewer","controlClick","loadExternalLayer","unloadExternalLayer","_onCatalogSelectLayer","catalogSelectedLayer","extraParamsSet","getMapLayers","_setUpEventsKeysToLayersStore","_removeEventsKeysToLayersStore","_wms","WFSProvider","olhelpers","dynamicLegend","keyEvent","keyolchangeresolution","_updateMapView","keyolmoveeend","eventObject","removeListener","showMapSpinner","hideMapSpinner","getScaleFromExtent","getResolutionForExtent","getMapUnits","_addHideMap","_ref2$mainview","view_options","_idMap$map$getSize","_idMap$map$getSize2","setSize","removeHideMap","_showHideMapElement","_ref3$show","createMapImage","background","getMapCanvas","msToBlob","toBlob","getApplicationAttribution","_config$group","header_terms_of_use_link","header_terms_of_use_text","slaveOf","sameLayers","setLayersExtraParams","viewport","isMapHidden","isAxisOrientationInverted","getViewerElement","getGetFeatureInfoUrlForLayer","getMapLayerForLayer","lyr","getVectorLayerFeaturesFromCoordinates","intersectGeom","getIntersectedFeatures","intersectsExtent","getQueryLayerByCoordinates","getQueryLayerPromiseByCoordinates","activeMapControl","controlName","createMapControl","_ref7$add","_ref7$toggled","_ref7$options","addControl","addScaleLineUnits","changeScaleLineUnit","scalelinecontrol","getMapControlByType","setUnits","showAddLayerModal","baseLayers","attributionControl","Attribution","mapcontrols","controlType","zoomInLabel","zoomOutLabel","coordinateLabels","coordinateFormat","undefinedHTML","mapEspg","_coordinateLabels","_crs","caller_download_id","blobImage","_bbox","setDownload","saveAs","getMapBBOX","getCookie","createStringXY","overviewproject","overviewProjectGid","overViewMapLayers","getOverviewMapLayers","viewOptions","_calculateViewOptions","mainView","currentCenter","constrainCenter","collapseLabel","collapsed","_project$state","_mapCrs","getMapControls","setZIndexLayer","_ref10$zindex","zindex","setZIndex","getLayerZindex","getZIndex","zoomToFid","_zoom_to_fid$split","_zoom_to_fid$split2","zoom_to_fid","handleZoomToFeaturesUrlParameter","_zoom_to_features$spl","_zoom_to_features$spl2","layerNameorIdorOrigname","fieldsValuesSearch","_ref15$zoom_to_featur","zoom_to_features","_ref15$search_endpoin","getMapExtent","addMapExtentUrlParameterToUrl","map_extent","getMapExtentUrl","createCopyMapExtentUrl","_setMapControlsGrid","rC","rows","columns","_rC","_rC2","_setMapControlsInsideContainerLenght","setMapControlsAlignement","alignement","getMapControlsAlignement","isMapControlsVerticalAlignement","setMapControlsVerticalAlignement","setMapControlsHorizontalAlignement","flipControlsHorizontally","flipMapControlsVertically","mapcontrolsalignment","setMapControlsContainer","mapControlDom","_updateMapControlsLayout","changedAndMoreSpace","space","handleVerticalMapControlDOMElements","mapControslHeight","bottomMapControls","bottomMapControlTop","freeSpace","nextHeight","_mapControslHeight","mapControlsWidth","_setMapControlVisible","_ref18$visible","_addControlToMapControls","display","addToMapControls","placement","$mapElement","getTarget","registerControl","showControls","hideControls","toggleControls","showAllControls","hideAllControls","_removeControls","controlObj","_layoutControls","removeControlById","ctrlIdx","removeControl","_this15","_this16","_unToggleControls","_ref20$close","close","disableClickMapControls","addMapLayers","mapLayers","_this17","addMapLayer","addLayerToMap","getMapLayerByLayerId","multilayerId","getProjectLayer","_setSettings","_viewer$map$getSize","_viewer$map$getSize2","maxxRes","minyRes","getHeight","getMaxResolution","setView","_this18","URLSearchParams","lat_lon","x_y","maxyRes","initxRes","inityRes","_this19","background_color","getInteractions","_watchInteraction","stopEvent","setLayerZIndex","moveDefaultLayersOnTop","layerZIndex","_setBaseLayerListenerKey","layerStoreId","eventObj","_this20","addLayerKey","removeLayerKey","_this21","_setupBaseLayers","_setupMapLayers","_setupVectorLayers","_setUpDefaultLayers","_this22","baseMapLayer","registerMapLayerListeners","reverseBaseLayers","_this23","_setMapProjectionToLayers","qtimeseries_multilayerid_split_values","multiLayerId","sub_layer","_this24","mapVectorLayer","removeDefaultLayers","setDefaultLayerStyle","resetDefaultLayerStyle","_removeBaseLayers","_removeMapLayers","removeExternalLayers","removeAllLayers","_ref26$zindex","_this25","createMapLayer","projectLayers","overviewMapLayers","_ref28","updateMapLayer","_ref29","_ref29$showSpinner","g3w_time","_this26","_this27","registerMapLayerLoadingEvents","unregisterMapLayerLoadingEvents","unregisterMapLayerListeners","elId","getCurrentToggledMapControl","_ref30","_options$active","untoggleMapControls","_this28","getActive","showMapInfo","_ref31","hideMapInfo","getGeometryAndExtentFromFeatures","geometryCoordinates","featureExtent","_featureExtent","olClassGeomType","highlightFeatures","_getGeometryAndExtent","highlightGeometry","highLightGeometry","zoomToExtent","_getGeometryAndExtent2","getResolutionForZoomToExtent","compareExtentWithProjectMaxExtent","projectExtent","inside","extentResolution","goToBBox","goToWGS84","extentToWGS84","getResolutionForMeters","meters","clientWidth","clientHeight","animatingHighlight","addedFeature","clearSelectionFeatures","seSelectionLayerVisible","geometryObj","_this29","clearHighlightGeometry","customStyle","readGeometry","refreshMap","_ref32","is_hidden","updateSize","hidemap","_this30","_this31","getMapSize","setInnerGreyCoverScale","_resetDrawShadowInner","setInnerGreyCoverBBox","lowerLeftInner","upperRightInner","y_min","DEVICE_PIXEL_RATIO","x_min","y_max","x_max","startDrawGreyCover","_this32","stopDrawGreyCover","postcompose","ctx","restore","beginPath","moveTo","lineTo","closePath","translate","rotate","PI","fillStyle","textAlign","arrayMessages","fillText","_this33","changeLayerVisibility","_ref33","changeLayerOpacity","_ref34","_ref34$opacity","changeLayerMapPosition","_ref35","_ref35$position","_this34","catalogService","QueryResultService","unregisterVectorLayer","externalMapLayer","addExternalWMSLayer","_this35","_ref36","_ref36$epsg","_ref36$position","_ref36$visible","_createWMSLayer","addExternalMapLayer","_ref37","_options$position","_options$opacity","_this36","registerVectorLayer","_x55","setExternalLayerStyle","featureStyleFunction","getStyleFunction","core/layers/providers/wfsprovider","g3w-ol/g3w.ol","gui/wms/vue/wms","156","$cookie","_Map","components/Map.vue","gui/map/mapservice","157","MetadataService","_buildProjectGroupMetadata","ProjectMetadataComponent","METADATAGROUPS","general","spatial","getProjectMetadata","getLayersMetadata","getLayerMetadata","layerMetadata","showMetadata","gui/metadata/vue/components/project/project","158","_ref$state","_MetadataProject2","_MetadataProject","components/MetadataProject.vue","159","_Metadata","components/Metadata.vue","gui/metadata/metadataservice","160","internalPanel","panel","getInternalPanel","setInternalPanel","showPanel","closePanel","onShow","onClose","onResize","parentWidth","parentHeight","161","PrintComponentService","printService","_initialized","_moveMapKeyEvent","_page","_mapUnits","_scalesResolutions","isShow","printextent","setInitState","PrintPage","atlas","atlasValues","scala","dpis","formats","changeTemplate","isPreviousAtlas","_state$print$find","_clearPrint","showPrintArea","_setPrintArea","changeScale","changeRotation","_getPrintExtent","lowerleft","upperright","getOverviewExtent","xmin","xmax","ymin","ymax","overviewextent","_getOptionsPrint","setPrintAreaAfterCloseContent","stopLoading","disableSideBar","showError","startLoading","_calculateInternalPrintExtent","_state$maps$find","w","resolutionInMeters","getCoordinateFromPixel","currentScala","_setAllScalesBasedOnMaxResolution","mapScala","orderScales","orderBy","addedFirstHighestScale","handleScala","higherScale","_setInitialScalaSelect","_setCurrentScala","res","_setMoveendMapEvent","_showPrintArea","_initPrintConfig","mapComponent","renderSync","core/print/printservice","gui/print/vue/printpage","162","_Print","components/Print.vue","gui/print/printservice","163","_PrintPage","components/PrintPage.vue","164","MenuComponent","menuitems","host","_ProjectsMenu","components/ProjectsMenu.vue","165","ProjectsMenuComponent","projects","getListableProjects","description","cbk","changeProject","gui/projectsmenu/menu","166","QueryBuilder","QueryBuilderPanel","QuerybuilderUIfactory","QueryBuilderInstance","queryBuilderDom","gui/querybuilder/vue/panel/querybuilderpanel","gui/querybuilder/vue/querybuilder","167","168","_QueryBuilder","components/QueryBuilder.vue","169","QueryResultsService","_currentLayerIds","_setRelations","_setAtlasActions","download_data","plotLayerIds","unlistenerlayeractionevents","_actions","zoomto","zoomToElement","highlightgeometry","_atlas","_projectLayerIds","zoomToResult","layersactions","actiontools","currentactiontools","currentactionfeaturelayer","layeractiontool","layersFeaturesBoxes","layerscustomcomponents","resultsQueryLayer","_vectorLayers","_addFeaturesLayerResultInteraction","toggleeventhandler","setQueryResponse","queryResponse","_addVectorLayersDataToQueryResponse","setLayersData","_digestFeaturesForLayers","_orderResponseByProjectLayers","updateLayerResultFeatures","setActionsForLayers","_addComponent","addActionsForLayers","closeComponent","changeLayerResult","_changeLayerResult","activeMapInteraction","editFeature","openCloseFeatureResult","addLayersPlotIds","layerIds","getPlotIds","findPlotId","plotId","_asyncFnc","todo","zoomToLayerFeaturesExtent","goToGeometry","getApplicationService","_QueryResultsActionDownloadFormats","_QueryResultsActionDownloadFormats2","_QueryResultsActionQueryPolygonCSVAttributes","_QueryResultsActionQueryPolygonCSVAttributes2","RelationsPage","registerCustomComponent","_ref3$id","_ref3$position","unRegisterCustomComponent","componentId","addFeatureLayerToResult","getBoxId","removeFeatureLayerFromResult","downloadApplicationWrapper","downloadFnc","download_caller_id","setLoadingContent","textMessage","_layer$features","removeFeatureIndexes","features_ids","indexFindFeature","filtered","featureRemoved","newlayerfeatures","checkIfLayerHasNoFeatures","highlightFeaturesPermanently","addRemoveFeaturesToLayerResult","layeractions","resetCurrentActionToolsLayer","removeAddFeaturesLayerResultInteraction","relation_index","observable","currentactiontoolslayer","currentationfeaturelayer","is_external_layer_or_wms","hasgeometry","mouseover","hint","chartRelationIds","showQueryRelations","createActionState","opened","showRelationsChart","getAtlasByLayerId","downloads","_layer$downloads","_cbk","downloadFeatures","setCurrentActionLayerFeatureTool","ACTIONTOOLSDOWNLOADFORMATS","downloadsaction","toggleable","$set","_state2","checkFeatureSelection","addToSelection","listenClearSelection","hint_change","copyZoomToFidUrl","_ref10$dynamicPropert","dynamicProperties","propertiesObject","accumulator","getActionLayerById","_ref12$component","addCurrentActionToolsLayer","_ref13$config","setLayerActionTool","_ref14$component","_ref14$config","hint_changed","runAsyncTodo","unlistenerEventsActions","getCurrentLayersIds","layerA","layerB","aIndex","bIndex","setZoomToResults","isOneLayerResult","_ref15$toggle","addLayerFeaturesToResultsAction","_layer2","addfeaturesresults","responseObject","getVectorLayerFeaturesFromQueryRequest","_x16","eventHandler","deactiveQueryInteractions","querytitle","printconfig","layerRelationsAttributes","layerTitle","_handleFeatureFoLayer","_layerObj","extractRelations","sanitizeAttribute","getRelationFieldsFromFormStructure","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","split_layer_name","layerSpecialAttributesName","_setSpecialAttributesFeatureProperty","_parseAttributes","relationField","hasImageField","_getFeatureProperties","getFeaturePropertiesAndGeometry","featureObj","attributeObj","featureAttribute","_getFeatureProperties2","_Layer$SourceTypes","showSourcesTypes","actionId","actionMethod","layerActions","layerAction","triggerLayerAction","_x19","_x20","_x21","_x22","_x23","urlTemplate","route","_x24","_x25","_x28","_query$filterConfig","isExternalFilterSelected","isLayerSelected","_printSingleAtlas","_ref19$atlas","_ref19$features","_atlas$atlas$field_na","showChart","relationData","hideChart","inputAtlasAttr","atlasLayer","success","showLayerDownloadFormats","layerKey","_state$query","runDownload","downloadsactions","choices","sbp_qgs_layer_id","sbp_fid","_x33","_x34","downloadGpx","layerMenu","_hideMenu","downloadXls","selectionFeature","clearSelectionExtenalLayer","addRemoveFilter","selectionFeaturesLayer","acculmulator","_addRemoveSelectionFeature","hasAlreadySelectioned","currentLayer","_x38","_x39","_x40","_x41","_layer$external","removeQueryResultLayerFromMap","addQueryResultsLayerToMap","_ref27$timeout","showCoordinates","showBBOX","showGeometry","handlerOptions","mapServiceMethod","firstParam","saveLayerResult","_ref28$type","showRelation","nmRelationId","projectRelation","nmRelation","pushContent","currentview","crumb","changeCurrentContentOptions","backonclose","components/QueryResultsActionDownloadFormats.vue","components/QueryResultsActionQueryPolygonCSVAttributes.vue","gui/relations/vue/relationspage","170","queryResultsService","_QueryResults","components/QueryResults.vue","gui/queryresults/queryresultsservice","171","RelationsComponentService","getRelationsNM","saveRelations","buildRelationTable","rows_fid","column","rowFormStructure","172","173","_RelationsPage","_options$relation","_options$relations","_options$feature","_options$table","_options$chartRelatio","_options$currentview","previousview","components/RelationsPage.vue","gui/relations/relationsservice","174","currentProjectState","search_title","searchesObject","searches","searchtools","querybuildersearches","_querybuilder2","getCurrentProjectItems","_querybuilder","removeItem","cleanSearchPanels","panels","addTool","searchTool","searchTools","addQueryBuilderSearch","querybuildersearch","removeTool","services/querybuilder","175","SearchPanelComponent","_SearchPanel","components/SearchPanel.vue","176","SearchService","_mapService$getMap$ge","_mapService$getMap$ge2","heigth","hideSidebar","_run","forminputs","_config$options","querylayerid","otherquerylayerids","inputdependance","inputdependencies","cachedependencies","searchLayer","queryurl","searchLayers","createInputsFormFromFilter","_data3","NONVALIDVALUES","filterLenght","_ref2$filter","forminput","op","_forminput$options","dependance","dependance_strict","getValuesFromField","valuesToKeysValues","setInputDependencies","master","slave","_values","getReturnType","setReturnType","returnType","getAutoFieldDependeciesParamField","fieldDependency","getCurrentFieldDependance","_Object$entries$","createFieldsDependenciesAutocompleteParameter","_ref3$fields","dependendency","fieldParam","getFilterInputFromField","_Object$entries$2","_field2","_getFilterInputFromFi","encodeURI","uniqueValues","getUniqueValuesFromField","getValueRelationValues","getValueMapValues","_x5","_field$options","_ref6$data","autocompleteRequest","doSearch","_ref14$features","_relation$fieldRef","dataPromise","add_panel","_ref13$queryUrl","_ref13$show","createFilter","autozoom_query","search_1n_relationid","showEmptyOutputs","showCustomOutputDataPromise","filterValidFormInputs","createQueryFilterFromConfig","createOperatorObject","inputObj","createBooleanObject","evalObject","booleanOperator","booleanObject","queryFilter","_getExpressionOperatorFromInput","dependanceCascadeField","_getCascadeDependanciesFilter","_currentValue","getDependanceCurrentValue","fillDependencyInputs","_ref19$subscribers","subscribers","_ref19$value","isRoot","invalidValue","subscribe","_allvalues","notAutocompleteSubscribers","rootValues","cachedValue","dependenceCurrentValue","_cachedValue","dependenceValue","fieldParams","_loop2","_values2","_dependenceValue","delegateYield","_x17","getDependencies","createQueryFilterObject","_ref23$ogcService","_ref23$filter","getInfoFromLayer","setSearchLayer","getSearchLayer","177","_searches_searchtools","_Search","components/Search.vue","gui/search/service","178","179","_SpatialBookMarks","SpatialBookMarksComponent","components/SpatialBookMarks.vue","180","_StreetView","components/StreetView.vue","181","PAGELENGTHS","TableService","currentPage","getHeaders","allfeaturesnumber","nopaginationsfilter","selectedfeaturesfid","relationsGeometry","relationLayer","child_field","paginationfilter","mapBBoxEventHandlerKey","clearAllSelection","selectAll","pageLengths","allfeatures","pagination","nofilteredrow","_async","filterChangeHandler","emitRedraw","reloadData","setDataForDataTable","addRemoveSelectedFeature","_size","createFeatureForSelection","_returnGeometry","getAllFeatures","LoadedFeaturesId","switchSelection","filterFeatures","_selected","checkSelectAll","clearLayerSelection","selectAllFeatures","_paginationParams","featurescount","paginationParams","setFilteredFeature","featuresIndex","_ref6$start","_ref6$order","_ref6$length","_ref6$columns","_ref6$search","_ref6$firstCall","firstCall","searchText","dir","getDataPromise","recordsFiltered","recordsTotal","setInBBoxParam","resetMapBBoxEventHandlerKey","getDataFromBBOX","tableFeature","tabledata","_tabledata$data","_setLayout","zoomAndHighLightFeature","zoomAndHighLightGeometryRelationFeatures","promisesData","182","_Table","_Table2","TableComponent","showContent","components/Table.vue","gui/table/tableservice","183","184","toolsGroups","_addTool","_addTools","_addToolGroup","_removeToolGroup","_removeTools","_project$getState","_project$getState$too","toolName","_tools","ToolsService","ACTIONS","_removeTool","toolIdx","updateToolsGroup","groupConfig","_group","_ref2$state","toolGroup","185","toolsService","_Tools","components/Tools.vue","gui/tools/service","186","BarStack","_parent","contentsdata","_mount","_unmount","unmountRequests","getContentData","getCurrentContentData","getPreviousContentData","jQuery","_setJqueryContent","isString","jqueryEl","_checkDuplicateVueContent","_setVueContent","_setDOMContent","idxToRemove","187","barstack","./barstack","188","ContentsViewerComponent","stack","Stack","_ViewportContentsViewer","_options$push","addContent","clearContents","updateContentVisibility","removeContent","popContent","getComponentByClass","componentClass","contentdata","contentsEls","nextTick","outerHeight","components/ViewportContentsViewer.vue","gui/utils/utils","189","_options$wmsurls","wmsurls","adminwmsurls","localwmsurls","loadClientWmsUrls","_wmslayerspanel","_wmslayerspanel2","getLocalWMSData","updateLocalWMSData","deleteWms","changeLayerData","loadWMSLayerToMap","wmsurl","wmsConfigLayers","getRequestStatusObject","_ref6$error","_ref6$added","addNewUrl","localid","localurl","getWMSLayers","showWmsLayersPanel","checkIfWMSAlreadyAdded","_ref10$layers","addedLayers","deleteWmsUrl","loadWMSDataAndShowWmsLayersPanel","info_formats","abstract","map_formats","_ref15$visible","_ref15$layers","addWMSlayer","wmsLayerConfig","_ref17$name","_ref17$layers","_ref17$opacity","_ref17$visible","getLocalItem","alldata","setLocalItem","gui/wms/vue/panel/wmslayerspanel","190","WmsLayersPanel","WMSLayersPanelComponent","_WMSLayersPanel","components/WMSLayersPanel.vue","191","_service2","_WMS","components/WMS.vue","gui/wms/service","192","_ref$steps","currentStep","deep","alignSelf","listStyle","padding","ismobile","marginBottom","fontWeight","marginRight","directive","flexDirection","dynamic","btn-success","g3w-disabled","193","_viewport","_viewport2","_floatbar","_floatbar2","_navbaritems","_navbaritems2","_sidebar","_sidebar2","_App","_App2","_GlobalImage","_GlobalImage2","_GlobalGallery","_GlobalGallery2","_GlobalGeo","_GlobalGeo2","_GlobalSkeleton","_GlobalSkeleton2","_GlobalBarLoader","_GlobalBarLoader2","_GlobalProgressBar","_GlobalProgressBar2","_GlobalHelpDiv","_GlobalHelpDiv2","_GlobalResize","_GlobalResize2","_GlobalLayerPositions","_GlobalLayerPositions2","_GlobalDateTime","_GlobalDateTime2","_GlobalRange","_GlobalRange2","_GlobalResizeIcon","_GlobalResizeIcon2","_GlobalTabs","_GlobalTabs2","_GlobalDivider","_GlobalDivider2","_Floatbar","_Floatbar2","_NavbaritemsLeft","_NavbaritemsLeft2","_NavbaritemsRight","_NavbaritemsRight2","_Sidebar","_Sidebar2","_Viewport","_Viewport2","_vDisabled","_vDisabled2","_vChecked","_vChecked2","_vSelectedFirst","_vSelectedFirst2","_vSelect","_vSelect2","_vTTooltip","_vTTooltip2","_vTHtml","_vTHtml2","_vTPlaceholder","_vTPlaceholder2","_vTTitle","_vTTitle2","_vT","_vT2","_vTPlugin","_vTPlugin2","_vPlugins","_vPlugins2","_vOnline","_vOnline2","_vDownload","_vDownload2","g3wsdk","VueCookie","install","change-map","marker","info-circle","globe","mail","fax","bars","uncheck","filluncheck","trash","trash-o","pencil","ellips-h","ellips-v","arrow-up","arrow-down","arrow-left","arrow-right","resize-h","resize-v","resize-default","caret-up","caret-down","caret-left","caret-right","empty-circle","cloud-upload","spinner","minus","minus-square","plus","plus-circle","plus-square","home","folder","sign-out","time","calendar","list","unlink","eye","eye-close","video","unknow","excel","shapefile","ppt","circle","calculator","picture","keyboard","file-download","copy","draw","chart","chart-line","chart-area","chart-pie","alert","crosshairs","back","file-upload","wifi","mouse","copy-paste","vector-square","credits","invert","palette","sign-in","pin","square","move","moon","sun","refresh","pause","step-backward","fast-backward","step-forward","fast-forward","crop","exit","bookmark","getInfo","getInfoString","_isMobile","inheritAttrs","LayoutManager","ApplicationTemplate","appLayoutConfig","_isIframe","sidebar","waitingoutputdataplace","_createApp","_createTemplateConfig","G3WTemplate","appTitle","ContentsComponent","QueryBuilderUIFactory","WMSComponent","placeholders","navbar","Services","closeOpenComponents","fontSize","borderRadius","floatbar","othercomponents","_setDataTableLanguage","_setupInterface","_setupLayout","_setUpServices","templateConfig","mounted","skinColor","_buildTemplate","_setUpTemplateDependencies","_setViewport","appendTo","dataTable","languageOptions","sSearch","searchPlaceholder","sLengthMenu","paginate","zeroRecords","infoFiltered","dataTableExt","oStdClasses","sFilterInput","oLanguage","_addRoutes","RouterService","getRouterService","addRoute","xy","registerService","getComponents","placeholdersConfig","_addComponents","_addOtherComponents","viewportOptions","PLACEHOLDERS","placeholderService","registerComponent","_removeComponent","unregisterComponent","_showModalOverlay","_isSidebarVisible","_showSidebar","_hideSidebar","VueApp","getTemplateInfo","errorToMessage","_error$error","_error$error$code","_error$error$data","_error$error$message","msg","what","getResourcesUrl","resourcesurl","showList","closeList","hideList","hidePanel","showTable","closeTable","outputDataPlace","defaultOutputConfig","_options$show","outputConfig","showContentFactory","showResult","showPanelContent","showQueryResults","showForm","_options$split","showgoback","formComponent","formService","closeForm","_ref12$pop","disableElement","disableContent","disablePanel","hideContent","queryResultsComponent","queryResultService","showContextualContent","getPushContent","post_title","addNavbarItem","addItem","removeNavBarItem","disableApplication","dialog","bootbox","showFloatbar","hideFloatbar","showSidebar","isSidebarVisible","reloadComponents","showFullModal","_ref14$element","_ref14$show","modal","setPrimaryView","viewName","showMap","showContextualMap","setContextualMapComponent","resetContextualMapComponent","pushContextualContent","getContentLength","contentLength","getCurrentContentTitle","getCurrentContentId","changeCurrentContentTitle","getCurrentContent","toggleFullViewContent","resetToDefaultContentPercentage","getProjectMenuDOM","projectVueMenuComponent","_closeUserMessageBeforeSetContent","_setContent","showtitle","hideClientMenu","hideChangeMaps","getTemplateClasses","BootstrapVersionClasses","getTemplateClass","openProjectsMenu","contentsComponent","_ref17$language","error_page","it","at_moment","f5","en","compiledTemplate","compile","postBootstrap","_ref18$error","statusText","../deprecated","app/dev","components/App.vue","components/Floatbar.vue","components/GlobalBarLoader","components/GlobalDateTime.vue","components/GlobalDivider.vue","components/GlobalGallery.vue","components/GlobalGeo.vue","components/GlobalHelpDiv.vue","components/GlobalImage.vue","components/GlobalLayerPositions.vue","components/GlobalProgressBar","components/GlobalRange.vue","components/GlobalResize.vue","components/GlobalResizeIcon.vue","components/GlobalSkeleton.vue","components/GlobalTabs.vue","components/NavbaritemsLeft.vue","components/NavbaritemsRight.vue","components/Sidebar.vue","components/Viewport.vue","directives/v-checked","directives/v-disabled","directives/v-download","directives/v-online","directives/v-plugins","directives/v-select2","directives/v-selected-first","directives/v-t","directives/v-t-html","directives/v-t-placeholder","directives/v-t-plugin","directives/v-t-title","directives/v-t-tooltip","gui/projectsmenu/projectsmenu","gui/querybuilder/querybuilderuifactory","gui/spatialbookmarks/vue/spatialbookmarks","gui/templates/500.html","gui/viewport/contentsviewer","regenerator-runtime","services/floatbar","services/navbaritems","services/sidebar","services/viewport","194","_vueCookieLaw","_vueCookieLaw2","_HeaderItem","_HeaderItem2","navbarMenuSlimscroll","navbarMenuSlimscrollWidth","navbarMenuHeight","animationSpeed","sidebarToggleSelector","sidebarPushMenu","sidebarSlimScroll","sidebarExpandOnHover","enableBoxRefresh","enableFastclick","enableControlSidebar","controlSidebarOptions","toggleBtnSelector","slide","enableBoxWidget","boxWidgetOptions","boxWidgetIcons","boxWidgetSelectors","directChat","contactToggleSelector","colors","lightBlue","red","green","aqua","yellow","blue","navy","teal","olive","lime","orange","fuchsia","purple","maroon","black","gray","screenSizes","xs","sm","md","lg","_init","activate","fix","fixSidebar","neg","window_height","sidebar_height","postSetWidth","controlSidebar","slimScroll","console","touchScrollStep","pushMenu","toggleBtn","expandOnHover","screenWidth","menu","$this","checkElement","is","slideUp","parent_find_active","parents","parent_li","li_siblings","treeviewHeight","slideDown","floatBar","bg","_fix","_fixForFixed","_fixForContent","max-height","padding-bottom","boxWidget","selectors","icons","_box","box","box_content","addRefreshButton","boxRefresh","overlay","onLoadStart","onLoadDone","log","rBtn","activateBox","listCustomPlugin","todolist","onCheck","ele","onUncheck","iCheck","LayoutManagerOptions","slimscroll","alwaysVisible","FastClick","attach","resizeMixin","customcredits","appState","current_custom_modal_content","cookie_law_buttonText","HeaderItem","CookieLaw","languages","appconfig","staticurl","powered_by","clienturl","g3w_suite_logo","credits_logo","logo_url","logo_project_url","mediaurl","logo_img","logo_link","getLogoLink","logo_link_target","project_title","username","login_url","numberOfProjectsInGroup","frontendurl","main_title","main_map_title","group_name","slug","templateResultLanguages","max_width","$refs","navbar_toggle","mainnavbar","main_title_project_title","maxWidth","logoWidth","showCustomModalContent","_custom_modals$find","custom_modals","custommodal","sidebarService","_language","currentlanguage","beforeCreate","delayType","delayTime","custom_header_items_position","0","customlinks","header_custom_links","customitem","rightNavBarElements","elementLenght","controlsidebarEl","setFloatBarMaxHeight","setModalHeight","innerHeight","rightNavbarWidth","img_logo","__vue__options__","_vm","_h","$createElement","_c","_self","rawName","staticClass","buttonText","slot","_v","ref","role","data-toggle","data-target","staticStyle","font-size","max-width","text-align","overflow","margin","_l","show-custom-modal-content","first_name","last_name","admin_url","logout_url","margin-right","templateSelection","templateResult","$event","$$selectedVal","multiple","domProps","paddingTop","tabindex","data-backdrop","data-keyboard","aria-labelledby","_m","flex-direction","justify-content","justify-items","align-items","background-color","border-radius","alt","margin-top","margin-left","line-height","font-weight","staticRenderFns","data-dismiss","aria-label","components/HeaderItem.vue","vue-cookie-law","195","showdata","Boolean","selectitems","setDataOffset","getSelectedItems","selectItem","unselectItem","unselect","selectItems","unselectItems","unselectAll","_setAllowedSpace","querySelector","offsetHeight","_setMaxMin","axis","dataValues","changeItems","changeItem","_ref4$render","onselected","_temp","onunselected","selectitem","generate","bindto","min-height","change-item","change-items","select-item","select-all","unselect-all","unselect-item","196","_catalogeventhub","_catalogeventhub2","_CatalogChangeMapThemes","_CatalogChangeMapThemes2","_CatalogLayerContextMenu","_CatalogLayerContextMenu2","DEFAULT_ACTIVE_TAB","$options","showlegend","currentBaseLayer","activeTab","changemapthemes","cataloglayercontextmenu","showTocTools","_project$state$map_th","hasBaseLayers","hasLayers","layerstresslength","changeStyleLayersId","delegationClickEventTab","showLegend","setBaseLayerId","getSrcBaseLayerImage","customimage","state.external.wms","newlayers","oldlayers","state.prstate.currentProject","oldproject","immediate","layerpositions","oldValue","beforeMount","contextmenu","!click","aria-controls","data-i18n","change-map-theme","parentFolder","legendplace","parent_mutually_exclusive","externallayers","layersgroup","gridTemplateColumns","components/CatalogChangeMapThemes.vue","components/CatalogLayerContextMenu.vue","gui/catalog/vue/catalogeventhub","197","current_map_theme","margin-bottom","border-bottom","white-space","text-overflow","menu-open","_q","for","_scopeId","198","_vueColor","_LayerOpacityPicker","_LayerOpacityPicker2","shpwrite","OFFSETMENU","data_table","colorMenu","stylesMenu","metadatainfoMenu","chrome-picker","Chrome","layer-opacity-picker","click-outside-layer-menu","binding","vnode","removeEventListener","addLayerMenuItem","closeLayerMenu","showColorMenu","onbeforeDestroyChangeColor","color_picker","onChangeColor","canShowWmsUrl","originalLayer","canShowWfsUrl","canDownloadXls","canDownloadGpx","canDownloadGpkg","canDownloadCsv","canDownloadGeoTIFF","canDownloadShp","ancorEement","tempInput","copywmsurltooltip","downloadGeoTIFF","downloadShp","downloadCsv","downloadGpkg","setWMSOpacity","zoomToLayer","canZoom","downloadExternalShapefile","EPSG4326","GeoJSONFile","clonefeature","writeFeaturesObject","point","mulipoint","multipolygon","polyline","multiline","showAttributeTable","tableContent","startEditing","catallogLayersStores","setCurrentLayerStyle","showSubMenuContext","menuentry","submenu","maxH","maxHeight","overflowY","showStylesMenu","showMetadataInfo","_x13","layer-position-change","currentTarget","padding-left","padding-right","init-menu-item","show-menu-item","hook:beforeDestroy","model","$$v","sync","change-range","bottom","data-placement","components/LayerOpacityPicker.vue","gui/table/vue/table","shp-write","vue-color","vueify/lib/insert-css","199","externallegend","showCategoriesCheckBox","getWmsSourceLayerLegendUrl","showHideLayerCategory","mapReady","setLayerCategories","setError","urlLoaded","handlerChangeLegend","_ref4$nodes","_categories","_ref5$symbols","symbols","symbol","_ref6$symbols","layer.visible","200","border","201","visiblelayers","_visiblelayers","old","202","legendurls","getLegendSrc","changeLayersLegend","catalogLayer","getLegendUrlParams","urlLayerName","paramsUrl","legend_on","legend_off","urlMethodsLayersName","urlLayersName","_prefix$split","_prefix$split2","_prefix$split3","_prefix$split4","_urlLayersName","_url2","_url3","econdedParams","_url3$split","_url3$split2","_param$split","_param$split2","legendUrlObject","203","_CatalogLayerLegend","_CatalogLayerLegend2","CLICK_EVENT","timeoutID","handleClick","layerlegend","isGroupChecked","controltoggled","n_childs","showLegendLayer","showLayerTocLegend","isGroup","legendlayerposition","showscalevisibilityclass","showScaleVisibilityToolip","isHighLight","isInGrey","layerstree.disabled","layerstree.checked","handleGroupChecked","handleLayerChecked","uncheckable","setAllLayersVisible","layerObject","_layerObject$projectL","toggleFilterLayer","clearSelection","expandCollapse","onTreeItemClick","triClass","downloadExternalLayer","showLayerMenu","itemmarginbottom","marginLeft","bold","toc-added-external-layer","paddingLeft","modifiers","highlightlayer","scalevisibility","current-tooltip","_k","legendConfig","components/CatalogLayerLegend.vue","204","_t","word-wrap","205","fieldsService","206","geoMixin","showLayer","207","_Field","_Field2","galleryId","Field","getSrc","showGallery","getGalleryImages","images","components/Field.vue","208","openLink","link_url","209","mediaMixin","getMediaType","210","211","vueoptions","212","panelsinstack","panelname","stack.contentsdata","213","_FormHeader","_FormHeader2","switchcomponent","g3wformheader","G3wFormFooter","transitions","addremovetransition","backToRoot","_ref$disabled","resizeForm","switchComponent","footerDOM","g3w_form_footer","bodyFromDOM","g3wform_body","footerHeight","bodyHeight","updated","currentid","resize-form","clickheader","hook:activated","addtovalidate","removetovalidate","changeinput","components/FormHeader.vue","214","tabs","addinput","removeinput","215","originalbuttons","button","enableSave","exec","btnEnabled","_button$enabled","state.component","state.update","eventButtons","activated","deactivated","216","item_selected","217","backgroundColor","bar-loader","218","minDate","maxDate","enabledDates","datetimevalue","date","datetimeinputelement","iddatetimepicker","defaultDate","useCurrent","allowInputToggle","showClose","locale","toolbarPlacement","widgetPositioning","horizontal","datetime","mindatetime","maxdatetime","dates","219","220","carouselId","isActive","isRelativePath","startsWith","data-interval","data-slide","221","222","223","g3w-images-gallery","224","layerposition","225","progress","justifyContent","skin-background-color","226","labelValue","showValue","changeBackGround","backgroundSize","changedValue","emitChangeValue","align-self","__r","227","orientation","moveFnc","wrapMoveFnc","domElementMoveListen","$attrs","mousedown","228","toggleFull","resetToDefault","229","230","_name$props$component","_tabservice","_tabservice2","_GlobalTabsNode","_GlobalTabsNode2","showRelationByField","Node","required_fields","setVisibility","visibility_expression","setEditingRequireTab","getField","root_tabs","tab_node","root_tab","group-title","in active","showTitle","components/GlobalTabsNode.vue","core/expression/tabservice","231","G3wInput","editing_required","filterNodes","getNodeType","nodesLength","rowCount","columnNumber","rest","columnCount","columncount","showGroupTile","showlabel","groupbox","loadingRelation","relation_project","isRelationDisabled","getRelationName","isRelationChildLayerNotEditable","getNodes","startIndex","getNode","_b","$props","text-transform","232","showCustomModal","imagelink","img","233","showHideHelp","loadingState","234","widgetMixins","setLabel","changeCheckBox","widgetChanged","stateValueChanged","input-error-validation","tabIndex","$$a","$$el","$$c","$$i","gui/inputs/input","235","composing","236","uniqueValue","widget_container","idinputdatetimepiker","domeDataPicker","timeOnly","datetimedisplayformat","displayformat","_state$input$options","_state$input$options$","_state$input$options$2","_formats$","fieldformat","disabledDates","datetimefieldformat","vertical","toDate","ignoreReadonly","widgetParent","datimewidget_container","newDate","_$refs$datetimepicker","datetimepicker_body","getBoundingClientRect","z-index","readonly","237","238","border-top","239","show_required_field_message","240","241","lonId","latId","getCoordinateActive","changeLonLat","242","InputMixins","MediaField","g3w-media","mediaid","onClick","createImage","reader","FileReader","readAsDataURL","checkFileSrc","clearMedia","formData","fileupload","dataType","border-style","border-width","data-url","uploadurl","243","pickLayer","pickservice","gui/inputs/picklayer/service","244","radio_value","245","checkValue","keydown","246","PickLayerInputService","InputMixin","G3W_SELECT2_NULL_VALUE","selectMixin","select2Mixin","showPickLayer","picked","showNullOption","nullOption","select2NullValue","state.input.options.values","stateInputOptionsValues","findvalue","keyvalue","pickLayerValue","pickLayerInputService","changeSelect","setAndListenSelect2Change","dependencyLayerId","dependencyLayer","selectElement","getLanguage","minimumInputLength","allowClear","transport","failure","resetValues","processResults","more","247","state.input.options.min","state.input.options.max","248","keyup","mobileChange","249","min-width","250","setupTableCustomTools","buttonColumnLeft","buttonColumnRight","buttonColumnRemove","buttonRowAbove","buttonRowBelow","buttonRowRemove","edit_state","edit","show_html","edit_states","toolbarOptions","align","quill","Quill","quill_editor","modules","toolbar","handlers","innerText","qlformat","column-left","insertColumnLeft","column-right","insertColumnRight","column-remove","deleteColumn","row-above","insertRowAbove","row-below","insertRowBelow","row-remove","deleteRow","getModule","novalid","251","252","setLayerOpacity","showLayerOpacityMenu","layerOpacity","253","_MapAddLayer","_MapAddLayer2","_MapFooter","_MapFooter2","_$options","addlayer","MapFooter","disableMapControls","showHideControls","mapControls","_ref3$layers","_ref3$mainview","_ref3$switchable","components/MapAddLayer.vue","components/MapFooter.vue","254","_toArray","SUPPORTED_FORMAT","CSV_SEPARATORS","box-shadow","MAPEPSG","accepted_extension","separators","hex","csv_extension","setLayerMapPosition","clearError","onAddLayer","input_file","promiseData","files","csv_data","_csv_data","handle_csv_headers","csv_headers","headers_length","readAsText","modal_addlayer","clearLayer","csv.x","csv.y","accept","255","_MapFooterRight","_MapFooterRight2","_MapFooterLeft","_MapFooterLeft2","MapFooterRight","MapFooterLeft","components/MapFooterLeft.vue","components/MapFooterRight.vue","256","257","switch_icon","epsg_4326","mapunit","showmapunits","switchMapsCoordinateTo4326","258","259","metadataMixin","isSpatial","showHideInfo","findAttributeFormMetadataAttribute","findMetadataAttribute","keywords","metadataurl","onlineresources","dataurl","260","_MetadataLayer","_MetadataLayer2","_MetadataProjectTabContent","_MetadataProjectTabContent2","_MetadataProjectBBoxContent","_MetadataProjectBBoxContent2","_MetadataProjectContactsContent","_MetadataProjectContactsContent2","iconsClass","metadata-layer","metadata-tab-content","metadata-bbox-content","metadata-contacts-content","isArrayorObject","components/MetadataLayer.vue","components/MetadataProjectBBoxContent.vue","components/MetadataProjectContactsContent.vue","components/MetadataProjectTabContent.vue","261","bboxlabels","262","contactelectronicmailaddress","personprimary","contactvoicetelephone","sanitizeValue","geti18n","subvalue","263","arrayToString","264","265","266","267","268","269","_PrintSelectAtlasFieldValues","_PrintSelectAtlasFieldValues2","_PrintFidAtlasValues","_PrintFidAtlasValues2","SelectAtlasFieldValues","FidAtlasValues","setDisabledPrintButton","setAtlasValues","onChangeTemplate","onChangeScale","onChangeFormat","onChangeDpi","onChangeRotation","disable-print-button","set-values","overflow-y","components/PrintFidAtlasValues.vue","components/PrintSelectAtlasFieldValues.vue","270","validateValue","addRangeToValues","rangeLenght","canAdd","print_atlas_fid","271","disableddownloadbutton","downloadImageName","downloadImage","state.url","stateUrl","timeOut","printoutput","revokeObjectURL","272","autocompleteOptions","autocompleteMixin","emitValues","currentValue","print_atlas_autocomplete","gui/external/select2/options/autocomplete","273","fakeImage","html_page_title","logoSrc","imageSrc","menuitem","274","operators","currentlayer","manual","manualvalue","select.field","addToExpression","getValues","number_of_features","excludejoinfields","customPrefix","joinLayer","joinLayerFields","flex-wrap","skin-background-color lighten","dblclick","scope","skin-border-color","275","showinfo","276","_QueryResultsTableAttributeFieldValue","_QueryResultsTableAttributeFieldValue2","_QueryResultsActionInfoFormats","_QueryResultsActionInfoFormats2","_QueryResultsHeaderFeatureBody","_QueryResultsHeaderFeatureBody2","maxSubsetLength","headerExpandActionCellWidth","headerActionsCellWidth","HEADERTYPESFIELD","fieldsMixin","TableAttributeFieldValue","header-feature-body","onelayerresult","hasResults","getLayerCustomComponents","getLayerField","layerField","getQueryFields","getFieldType","getColSpan","attributesSubsetLength","hasLayerOneFeature","getDownloadActions","addLayerFeaturesToResults","showDownloadAction","getContainerFromFeatureLayer","hasOneLayerAndOneFeature","layerHasFeatures","layerHasActions","featureHasActions","geometryAvailable","extractAttributesFromFirstTabOfFormStructureLayers","traverseStructure","attributesSubset","_attributes","relationsAttributesSubset","relationAttributes","relationsAttributes","cellWidth","headerLength","subsetLength","diff","actionsCellWidth","headerAttributeCellTotalWidth","baseCellWidth","featureBoxColspan","colspan","expandable","relationsAttributesSubsetLength","elements","getLayerFormStructure","isAttributeOrTab","isField","getLayerAttributeFromStructureItem","getLayerFeatureBox","boxid","collapsedFeatureBox","showFeatureInfo","toggleFeatureBox","toggleFeatureBoxAndZoom","showFullPhoto","state.layers","stateLayers","requestAnimationFrame","data-widget","downloadformats","boxLayerFeature","featureIndex","showresults","showResults","components/QueryResultsActionInfoFormats.vue","components/QueryResultsHeaderFeatureBody.vue","components/QueryResultsTableAttributeFieldValue.vue","277","clickAction","originalDataTitle","278","_download","flex-grow","279","reloadLayerDataWithChangedContentType","queryService","_responseParser$get","_responseParser$get2","_queryService$getFeat","queryFeature","select2_value","280","choice","g3w_select_feature_featurepolygon","refInFor","281","_QueryResultsAction","_QueryResultsAction2","components/QueryResultsAction.vue","282","_QueryResultsActions","_QueryResultsActions2","mouseout","noAttributes","components/QueryResultsActions.vue","283","g3w-link","g3w-vue","284","_FieldG3W","_FieldG3W2","RelationPageEventBus","SIDEBARWIDTH","inject","headercomponent","downloadButton","downloadLayer","showrelationslist","relationnoback","one","createTable","downloadformatsLength","saveRelation","chartContainer","relationDataTable","relationtable","DataTable","bLengthChange","scrollResize","scrollCollapse","scrollX","responsive","columnDefs","orderable","targets","tableHeaderHeight","tableHeight","datatableBody","breadcrumbHeight","OtherElementHeight","query_relation","showFormStructureRow","getRowFields","adjust","$parent","setRelationsList","fieldIs","fieldType","sidebarHeaderSize","pageX","tablecontent","chartcontent","relationwrapper","toggled-white","paddingBottom","components/FieldG3W.vue","gui/relations/vue/relationeventbus","285","featureInfo","infoFeatures","noback","grid-template-columns","grid-column-gap","grid-row-gap","286","_Relations","_Relations2","_Relation","_Relation2","_$options$relation","showChartButton","provide","chartlayerid","relationName1","relationName2","save-relation","show-chart","hide-chart","components/Relation.vue","components/Relations.vue","287","_Tool","_Tool2","_QueryBuilderSearch","_QueryBuilderSearch2","g3w-tool","g3w-search-querybuilder","searchtool","components/QueryBuilderSearch.vue","components/Tool.vue","288","289","_SearchSelect","_SearchSelect2","_SearchDatetime","_SearchDatetime2","_SearchPanelLabel","_SearchPanelLabel2","Select2","SearchDatetime","SearchPanelLabel","isSelectDisabled","onFocus","scrollTop","changeDependencyFields","changeNumericInput","select-change","components/SearchDatetime.vue","components/SearchPanelLabel.vue","components/SearchSelect2.vue","290","getLabelOperator","291","emitChangeEvent","_initSelect2Element","_forminput","numdigaut","isAutocomplete","forminput.value","forminputValue","allvalue","292","_eventbus","_eventbus2","bOpen","bPageMode","showmainpanel","componentname","closeAllPanels","gui/sidebar/eventbus","293","_SidebarItemAction","_SidebarItemAction2","main","SidebarItemAction","onClickItem","openClose","anchor_click","components/SidebarItemAction.vue","294","triggerAction","295","_SpatialBookMarkItem","_SpatialBookMarkItem2","SpatialBookMarkItem","borderBottom","components/SpatialBookMarkItem.vue","296","removeBookMark","gotoSpatialBookmark","297","_SpatialBookMarkGroup","_SpatialBookMarkGroup2","_InputText2","SPATIAL_BOOKMARKS_LOCALITEMS","SpatialBookMarkGroup","InputText","showaddform","addbookmarkinput","addBookMark","saveUserBookMarks","showAddForm","g3w-tools","remove-bookmark","components/SpatialBookMarkGroup.vue","298","299","_TableBody","_TableBody2","_TableSelectRow","_TableSelectRow2","_TableToolbar","_TableToolbar2","fieldsComponents","eventHandlers","nopagination","tableBodyComponent","selectedRow","TableBody","selectAllRow","hasHeaders","createdContentBody","fieldComponent","trDomeElements","rowElement","hasGeometry","contentDOM","SelectRowClass","SelectRowInstance","fieldClass","fieldInstance","hideElements","commonDataTableOptions","debounceSearch","G3WTableToolbarClass","G3WTableToolbarInstance","setContentKey","lengthMenu","processing","dom","searchable","attribute_table","serverData","serverSide","deferLoading","changeColumn","searchDelay","components/TableBody.vue","components/TableSelectRow.vue","components/TableToolbar.vue","300","SelectRow","hindex","tab-index","301","302","disableMapTool","rightpanel","height_100","303","AppState","TOOLSTATE","fireAction","showToolStateMessage","toolstatecolor","isCheck","tool_disabled","vertical-align","304","state.toolsGroups","G3wTool","305","COLORS","subtitle","draggable","showheader","addClassMobile","hideShow","_position$split","_position$split2","306","_UserMessage","_UserMessage2","_NotifyOnline","_NotifyOnline2","_NotifyDownload","_NotifyDownload2","_NotifyPlugins","_NotifyPlugins2","userMessage","onlineNotify","downloadNotify","pluginsNotify","updatePreviousTitle","breadcrumb","showresize","currentPerc","getCurrentContentLayout","resized","secondaryPerc","showresizeicon","contentsData","contentTitle","_contentsData$options","backOrBackTo","previousTitle","isNotLastCrumb","closeMap","gotoPreviousContent","viewPortSize","mapSize","pageY","contentSize","resizePercentageMap","resizePercentageContent","resizeViewComponents","handleResizeViewport","mediaQueryEventMobile","matchMedia","enter","leave","close-usermessage","aside","components/NotifyDownload.vue","components/NotifyOnline.vue","components/NotifyPlugins.vue","components/UserMessage.vue","307","308","inputswmsurlvalid","addwmsurl","padding-top","309","selectedlayers","filterLayerByCurrentEpsg","layerProjections","crss","firstLayer","_$options$config","$data","310","VueColor","vue-cookie","311","watcher","unique_attr_id","getAttribute","312","removeAttribute","313","314","_utils","directives/utils","315","316","317","_ref$multiple","_ref$search","dropdownCssClass","318","toggleAttribute","319","320","321","322","323","_el","_ref$el","componentUpdated","oldVnode","324","325","translation","cookie_law","sign_in","layer_selection_filter","nofilter","show_features_on_map","layer_position","sdk","template_dialog","spatialbookmarks","helptext","sections","no_results","error_loading","layer_not_searchable","layer_not_querable","inputshort","pre","no_layers","download_image","fids_instruction","fids_example","querybuilder","error_run","error_test","additem","unsupported_format","add_external_layer","fees","accessconstraints","contactinformation","subfields","contactorganization","ContactOrganization","contactposition","ContactPosition","contactperson","ContactPerson","tooltips","form_to_row","row_to_form","copy_map_extent_url","download_shapefile","show_chart","add_selection","zoom_to_features_extent","add_features_to_results","remove_feature_from_results","zoom_to_feature","relations_charts","download_features_shapefile","download_features_gpx","download_features_gpkg","download_features_csv","download_features_xls","copy_zoom_to_fid_url","choiches","feature_polygon","no_geometry","querybybbox","nolayers_visible","measures","no_valid_scale","metric","nautical","relation_data","no_relations_found","back_to_relations","list_of_relations_feature","error_missing_father_field","input_validation_mutually_exclusive","input_validation_error","input_validation_min_field","input_validation_max_field","input_validation_exclude_values","bigint","varchar","qgis_input_widget_relation","current_map_theme_prefix","choose_map_theme","setwmsopacity","copied","geotiff_map_extent","wps","list_process","g3wSuiteFramework","g3wSuiteDescription","productOf","toggle_color_scheme","logout","no_other_projects","yes","no","backto","changemap","create_print","dosearch","externalwms","nobaselayer","street_search","copy_form_data","paste_form_data","copy_form_data_from_feature","error_map_loading","check_internet_connection_or_server_admin","could_not_load_vector_layers","server_saver_error","server_error","cancel","enlange_reduce","reset_default","exitnosave","annul","layer_is_added","add_wms_layer","delete_wms_url","layer_id_already_added","url_already_added","layer_add_error","list_of_relations","open_link","link_button","geolocations","add_layer_control","select_projection","select_field_to_show","select_csv_separator","select_csv_x_field","select_csv_y_field","select_color","drag_layer","input_relation","catalog_items","zoomtolayer","open_attribute_table","show_metadata","vector_color_menu","layer_opacity","no_data","nodatafilterd","326","327","328","wms_layer_id_already_added","wms_url_already_added","329","_it","_it2","_en","_en2","_fi","_fi2","_se","_se2","_fr","_fr2","_de","_de2","_ro","_ro2","translations","fi","se","fr","de","ro","./de","./en","./fi","./fr","./it","./ro","./se","330","331","332","333","334","showhelpicon","335","getFieldService","_fieldsService","sanitizeFieldValue","336","337","338","formInputsMixins","_autocomplete","_autocomplete2","_fields2","_media","_media2","_geo","_geo2","_resize","_resize2","_select","_select2","_select3","_select4","_formInputs","_formInputs2","_widget","_widget2","_metadata","_metadata2","_baseInput","_baseInput2","mixins/autocomplete","mixins/base-input","mixins/fields","mixins/form-inputs","mixins/geo","mixins/media","mixins/metadata","mixins/resize","mixins/select","mixins/select2","mixins/widget","339","isMedia","340","341","DELAY_TYPE","delayWrapper","delayResize","342","usecompleter","$container","343","344","345","_apiEndpoints","apiEndpoints","howManyAreLoading","apiEndPoint","completeUrl","346","_config2","_clipboard","_clipboard2","i18ninit","onLine","complete","_applicationServices","_initConfigUrl","_initConfig","_groupId","_gid","_changeProject","setOnline","setOffline","_setFilterToken","setApplicationUser","browserLanguage","createApplicationConfig","bootstrap","setupI18n","languageConfig","languageLabel","setApplicationLanguage","userLanguage","ajaxSetup","beforeSend","jqXHR","getDownload","loadingPlugin","loadedPlugin","_plugin","pathname","pathArray","history","replaceState","registerOnlineOfflineEvent","registerLeavePage","_ref4$bool","_return","onbeforeunload","unregisterOnlineOfflineEvent","getApplicationLanguage","isOnline","setOfflineItem","localStorage","setItem","removeLocalItem","getItem","getOfflineItem","removeOfflineItem","getProxyUrl","proxyurl","getInterfaceOwsUrl","interfaceowsurl","getClipboardService","initConfig","obtainInitConfig","initConfigUrl","header_logo_img","header_logo_link","terms_of_use_text","terms_of_use_link","initproject","getProjectConfigUrl","views","projectPath","locationsearch","clearInitConfig","queryTuple","getInitConfig","setInitVendorKeys","getInitConfigUrl","setInitConfigUrl","_bootstrapPlugins","pluginsBaseUrl","pluginsConfigs","otherPluginsConfig","setEPSGApplication","getApplicationUser","initialized","startIFrameService","initLocalItems","iframeService","unregisterService","errorHandler","apikey","setVendorKeys","changeProjectview","isProjectViewChanging","reloadCurrentProject","projectUrl","getProjectUrl","width_default","height_default","width_100","getCurrentLayout","core/iframe/routerservice","services/clipboard","347","ClipboardService","formLayer","348","ExpressionService","_ref$formatter","_ref3$formatter","_ref4$params","_ref4$contentType","core/data/service","349","OWSService","wmsCapabilities","owsUrl","350","ProxyService","proxyUrl","_ref2$method","_ref2$params","_ref2$headers","351","QueryService","_ref$feature_count","_ref$filterConfig","_ref$multilayers","_ref$condition","_ref$layerName","_ref$excludeSelected","_ref$external","hasExternalLayersSelected","returnExceptionResponse","messagetext","_ref2$feature_count","_ref2$filterConfig","_ref2$multilayers","_ref2$condition","_ref2$excludeSelected","_ref2$addExternal","_ref2$layersFilterObj","_ref4$layerIds","_ref4$multilayers","_ref4$query_point_tol","_ref4$addExternal","layersResults","352","promisesSearch","dataSearch","_value$data","_ref5$fids","layersfids","layersresponses","_ref7$fids","_ref7$formatter","layerresponse","353","Routerservice","defaultoutputplaces","currentoutputplaces","ouputplaces","_dataQuery2","_dataSearch2","_dataExpression2","proxy","_dataProxy2","_dataOws2","contextAndMethod","_splitContextAndMetho","serviceName","setOutputPlaces","places","addCurrentOutputPlace","addNewOutputPlace","_ref5$method","resetDefaultOutput","_dataExpression","_dataOws","_dataProxy","_dataQuery","_dataSearch","services/data-expression","services/data-ows","services/data-proxy","services/data-query","services/data-search","354","Actions","opposite","355","FloatbarService","sidebarEl","_zindex","_modalOverlay","_modal","_isopen","isOpen","356","isready","showListing","closeListing","hideListing","hideQueryResults","push_content","setPushContent","guiResized","357","AppService","changeMap","_ref$capture","capture","_ref3$capture","getcenter","zoomtocoordinates","_params$coordinates","_params$highlight","getextent","_params$extent","zoomtofeature","_params$highlight2","358","EditingService","subscribevents","startAction","toolboxes","setSaveConfig","toolbox","stopAction","stopEditing","subscribersHandlers","activeTool","_ref4$disableToolboxe","disableToolboxes","setEnabled","setEditing","cancelform","addfeature","addFeatureTool","getToolById","addSubscribeEvents","closeeditingpanel","resetSubscribeEvents","unsubscribe","configQglLayerId","getEditableLayersId","startstopediting","toolboxPromise","setActiveTool","_options$action","startEditingPromise","stopEditingPromises","resetDefault","_g3wsdk$core$utils","core/iframe/services/plugins/service","359","IframePluginService","pendingactions","serviceNames","eventResponseServiceHandler","postMessage","attachEvent","_ref5$data","outputData","writeFeatures","stopPendingActions","_evt$data$id","_evt$data$single","single","detachEvent","core/iframe/services/index","360","navbaritemsService","361","QueryBuilderService","_cacheValues","_items","QUERYBUILDERSEARCHES","getItems","valuesField","_ref3$showResult","confirm","saveitems","editLocalItem","_querybuildersearch","_resetItems","addLocalItem","_querybuildersearches","prompt","searchService","sample","362","createUrl","_options$layer","_options$type","_options$formatter","_nmRelation$fieldRef","relationsNM","responseFids","_ref2$features","363","crossroads","ignoreState","greedy","_initialLocationQuery","_routeQuery","setRouteQuery","routeQuery","_setRouteQueryFromLocationQuery","pattern","removeRoute","removeAllRoutes","defaultArgs","_initialQuery","_stripInitialQuery","makePermalink","_encodeRouteQuery","makeQueryString","queryParams","slicePath","path","sliceFirst","pathAndQuery","queryString","pathArr","firstPath","getQueryParams","queryPairs","queryPair","pair","getQueryString","_getQueryPortion","queryKey","queryPortion","_decodeRouteQuery","locationQuery","encodedRouteQuery","_getRouteQueryFromLocationQuery","previousQuery","previousQueryLength","previousQueryPosition","queryPrefix","trimEnd","querySuffix","trimStart","364","SidebarService","closeSidebarPanel","openCloseItem","_options$before","sidebarItem","SidebarItem","DOMComponent","isPanelSidebarShow","sidebarcomponetsdomid","childrenLength","findElementIndexId","initService","setComponentClickHandler","_ref$open","reloadComponent","sidebarComponent","_SidebarItem","_SidebarItem2","components/SidebarItem.vue","365","runTask","taskUrl","_options$interval","interval","_options$timeout","_options$listener","task_id","intervalId","setInterval","_response","stopTask","clearInterval","taskId","366","ViewportService","primaryView","v","cloasable","_defaultMapComponent","_contextualMapComponent","_secondaryViewMinWidth","_secondaryViewMinHeight","_immediateComponentsLayout","_options$primaryview","primaryview","setResized","_ref$textMessage","getMapState","getContentState","_toggleMapComponentVisibility","_showView","contextualMapComponent","recoverDefaultMap","_layout","getContentPercentageFromCurrentLayout","evenContentName","_prepareContentView","_layoutComponents","prevContentPerc","secondaryVisible","currentRightPanel","isFullViewContent","contentgetCurrentContentData","currentContent","isContentOpen","closeSecondaryView","isPrimaryView","viewTag","showPrimaryView","showSecondaryView","secondaryViewComponent","_otherView","getDefaultViewPerc","_isSecondary","_setPrimaryView","_options$split2","_options$closable","_options$backonclose","_options$style","_options$showgoback","_options$headertools","headertools","_options$perc","_options$split3","_getReducedSizes","contentEl","reducedWidth","reducedHeight","sideBarToggleEl","toggleWidth","_toggleWidth","reducesdSizes","_setViewSizes","secondaryView","_getViewportSize","getViewportSize","viewportWidth","viewportHeight","primaryWidth","primaryHeight","secondaryWidth","secondaryHeight","_viewportWidth","_viewportHeight","topHeight","main_sidebar","sideBarSpace","setContentPercentageFromCurrentLayout","triggerResize","resizeFired","drawResize","drawing","367","WorkFlowsStack","getParent","_getCurrentIndex","getParents","currentWorkflow","workfow","getLast","getFirst","getAt","368","STATE","upload","STATE_METHODS","369","370","ComponentsRegistry","371","ControlsRegistry","_controls","_offlineids","selectedLayer","externalLayers","callControlsEventHandler","unWatch","controlItem","_registerControl","getControl","unregisterControl","_id","372","MapLayersStoresRegistry","373","_configurationPlugins","_loadedPluginUrls","gidProject","setPluginsConfig","addLoadingPlugins","setOtherPlugins","setDependencyPluginConfig","_loadPlugins","pluginLoadPromises","pluginConfig","_setup","dependecyPluginConfig","law","OTHERPLUGINS","reloadPlugins","scripts","getPlugins","scr","pluginUrl","enabledPluginConfig","_loadScript","getScript","_pluginConfig$jsscrip","jsscripts","depedencypluginlibrariespromises","_loop3","script","baseUrl","scriptUrl","374","createProject","projectConfig","setCurrentProject","projectLayersStore","minScale","_groupProjects","_projectConfigs","setupState","setProjects","getProjectType","getProjects","clearProjects","currentProjectId","listable","projectGid","pendingProject","_getProjectFullConfig","projectFullConfig","_setProjectRelations","getProjectConfigByGid","setProjectAliasUrl","_location","projectBaseConfig","find_map_theme","url_theme","layetstree","375","setSession","getSessions","376"],"mappings":"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","file":"app.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\n},{}],2:[function(require,module,exports){\nvar inserted = exports.cache = {}\n\nfunction noop () {}\n\nexports.insert = function (css) {\n  if (inserted[css]) return noop\n  inserted[css] = true\n\n  var elem = document.createElement('style')\n  elem.setAttribute('type', 'text/css')\n\n  if ('textContent' in elem) {\n    elem.textContent = css\n  } else {\n    elem.styleSheet.cssText = css\n  }\n\n  document.getElementsByTagName('head')[0].appendChild(elem)\n  return function () {\n    document.getElementsByTagName('head')[0].removeChild(elem)\n    inserted[css] = false\n  }\n}\n\n},{}],3:[function(require,module,exports){\nvar _constant = require('constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _InputG3W = require('components/InputG3W.vue');\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nvar _InputG3WFormInputs = require('components/InputG3WFormInputs.vue');\n\nvar _InputG3WFormInputs2 = _interopRequireDefault(_InputG3WFormInputs);\n\nvar _inputservice = require('core/expression/inputservice');\n\nvar _inputservice2 = _interopRequireDefault(_inputservice);\n\nvar _FormBody = require('components/FormBody.vue');\n\nvar _FormBody2 = _interopRequireDefault(_FormBody);\n\nvar _FormFooter = require('components/FormFooter.vue');\n\nvar _FormFooter2 = _interopRequireDefault(_FormFooter);\n\nvar _C3XYLine = require('components/C3XYLine.vue');\n\nvar _C3XYLine2 = _interopRequireDefault(_C3XYLine);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _editing = require('services/editing');\n\nvar _editing2 = _interopRequireDefault(_editing);\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nvar _tasks = require('services/tasks');\n\nvar _tasks2 = _interopRequireDefault(_tasks);\n\nvar _workflows = require('services/workflows');\n\nvar _workflows2 = _interopRequireDefault(_workflows);\n\nvar _api = require('services/api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nvar _mixins2 = _interopRequireDefault(_mixins);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * CORE modules\n */\n\n\n/**\n * Single File Components\n */\n/**\n * @file api file interface for external plugins\n */\n\nvar G3WObject = require('core/g3wobject');\n//MIXINS\n\nvar utils = require('core/utils/utils');\nvar geoutils = require('core/utils/geo');\nvar i18n = require('core/i18n/i18n.service');\nvar Server = require('core/errors/parser/servererrorparser');\nvar Session = require('core/editing/session');\nvar Editor = require('core/editing/editor');\nvar Geom = require('core/utils/geo');\n\nvar _require = require('core/utils/geo'),\n    Geometry = _require.Geometry;\n\nvar Project = require('core/project/project');\nvar LayersStoreRegistry = require('core/layers/layersstoresregistry');\nvar LayersStore = require('core/layers/layersstore');\nvar Layer = require('core/layers/layer');\nvar LayerFactory = require('core/layers/layerfactory');\nvar TableLayer = require('core/layers/tablelayer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar ImageLayer = require('core/layers/imagelayer');\nvar WmsLayer = require('core/layers/map/wmslayer');\nvar XYZLayer = require('core/layers/map/xyzlayer');\nvar MapLayer = require('core/layers/map/maplayer');\nvar Feature = require('core/layers/features/feature');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar OlFeaturesStore = require('core/layers/features/olfeaturesstore');\nvar Filter = require('core/layers/filter/filter');\nvar Expression = require('core/layers/filter/expression');\nvar Plugin = require('core/plugin/plugin');\nvar PluginService = require('core/plugin/pluginservice');\nvar Task = require('core/workflow/task');\nvar Step = require('core/workflow/step');\nvar Flow = require('core/workflow/flow');\nvar Workflow = require('core/workflow/workflow');\n\n/**\n * GUI modules\n */\nvar Panel = require('gui/panel');\nvar ControlFactory = require('gui/map/control/factory');\nvar ComponentsFactory = require('gui/component/componentsfactory');\nvar FieldsService = require('gui/fields/fieldsservice');\nvar Component = require('gui/component/component');\nvar MetadataComponent = require('gui/metadata/vue/metadata');\nvar SearchComponent = require('gui/search/vue/search');\nvar SearchPanel = require('gui/search/vue/panel/searchpanel');\nvar PrintComponent = require('gui/print/vue/print');\nvar CatalogComponent = require('gui/catalog/vue/catalog');\nvar MapComponent = require('gui/map/vue/map');\nvar ToolsComponent = require('gui/tools/vue/tools');\nvar QueryResultsComponent = require('gui/queryresults/vue/queryresults');\nvar FormComponent = require('gui/form/vue/form');\nvar FormService = require('gui/form/formservice');\nvar InputsComponents = require('gui/inputs/inputs');\nvar ChartsFactory = require('gui/charts/chartsfactory');\nvar Fields = require('gui/fields/fields');\nvar SearchPanelService = require('gui/search/vue/panel/searchservice');\n\n/**\n * G3W-OL modules\n */\nvar PickFeatureInteraction = require('g3w-ol/interactions/pickfeatureinteraction');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\nvar DeleteFeatureInteraction = require('g3w-ol/interactions/deletefeatureinteraction');\nvar AreaInteraction = require('g3w-ol/interactions/areainteraction');\nvar LengthInteraction = require('g3w-ol/interactions/lengthinteraction');\nvar g3wolutils = require('core/utils/ol');\n\nmodule.exports = {\n\n  // APP CONSTANTS\n  constant: _constant2.default, // TODO: rename to \"constants\" which is more appropriate (in version 4.0)\n\n  // CORE API METHODS AND OBJECTS\n  core: {\n    G3WObject: G3WObject,\n    utils: utils,\n    geoutils: geoutils,\n    ApplicationService: _application2.default,\n    ApplicationState: _applicationState2.default,\n    ApiService: _api2.default,\n    Router: _router2.default,\n    i18n: i18n,\n    task: {\n      TaskService: _tasks2.default\n    },\n    data: {\n      DataRouterService: _data2.default\n    },\n    iframe: {\n      IFrameRouterService: _iframePlugin2.default\n    },\n    errors: {\n      parsers: {\n        Server: Server\n      }\n    },\n    editing: {\n      Session: Session,\n      SessionsRegistry: _sessions2.default,\n      Editor: Editor,\n      ChangesManager: _editing2.default\n    },\n    geometry: {\n      Geom: Geom,\n      Geometry: Geometry\n    },\n    project: {\n      ProjectsRegistry: _projects2.default,\n      Project: Project\n    },\n    map: {\n      MapLayersStoreRegistry: _mapLayers2.default\n    },\n    catalog: {\n      CatalogLayersStoresRegistry: _catalogLayers2.default\n    },\n    layer: {\n      LayersStoreRegistry: LayersStoreRegistry,\n      LayersStore: LayersStore,\n      Layer: Layer,\n      LayerFactory: LayerFactory,\n      TableLayer: TableLayer,\n      VectorLayer: VectorLayer,\n      ImageLayer: ImageLayer,\n      WmsLayer: WmsLayer,\n      XYZLayer: XYZLayer,\n      MapLayer: MapLayer,\n      geometry: {\n        Geometry: Geometry,\n        geom: Geom /** @FIXME capitalize first letter (ie. \"Geom\") */\n      },\n      features: {\n        Feature: Feature,\n        FeaturesStore: FeaturesStore,\n        OlFeaturesStore: OlFeaturesStore\n      },\n      filter: {\n        Filter: Filter,\n        Expression: Expression\n      }\n    },\n    relations: {\n      RelationsService: _relations2.default\n    },\n    interaction: {\n      PickCoordinatesInteraction: PickCoordinatesInteraction,\n      PickFeatureInteraction: PickFeatureInteraction\n    },\n    plugin: {\n      Plugin: Plugin,\n      PluginsRegistry: _plugins2.default,\n      PluginService: PluginService\n    },\n    workflow: {\n      Task: Task,\n      Step: Step,\n      Flow: Flow,\n      Workflow: Workflow,\n      WorkflowsStack: _workflows2.default\n    },\n    input: {\n      inputService: _inputservice2.default\n    }\n  },\n\n  // APPLICATION INTERFACE (vue)\n  gui: {\n    GUI: _gui2.default,\n    Panel: Panel,\n    ControlFactory: ControlFactory,\n    ComponentsFactory: ComponentsFactory,\n    FieldsService: FieldsService,\n    vue: {\n      Component: Component,\n      Panel: Panel,\n      MetadataComponent: MetadataComponent,\n      SearchComponent: SearchComponent,\n      SearchPanel: SearchPanel,\n      PrintComponent: PrintComponent,\n      CatalogComponent: CatalogComponent,\n      MapComponent: MapComponent,\n      ToolsComponent: ToolsComponent,\n      QueryResultsComponent: QueryResultsComponent,\n      // main Form Component\n      FormComponent: FormComponent,\n      // Form Components\n      FormComponents: {\n        Body: _FormBody2.default,\n        Footer: _FormFooter2.default\n      },\n      Inputs: {\n        G3wFormInputs: _InputG3WFormInputs2.default,\n        G3WInput: _InputG3W2.default,\n        InputsComponents: InputsComponents\n      },\n      Charts: {\n        ChartsFactory: ChartsFactory,\n        c3: {\n          lineXY: _C3XYLine2.default\n        }\n      },\n      Fields: Fields,\n      Mixins: _mixins2.default,\n      services: {\n        SearchPanel: SearchPanelService,\n        FormService: FormService\n      }\n    }\n  },\n\n  // OPEN LAYERS COMPONENTS (g3w-ol)\n  ol: {\n    interactions: {\n      PickFeatureInteraction: PickFeatureInteraction,\n      PickCoordinatesInteraction: PickCoordinatesInteraction,\n      DeleteFeatureInteraction: DeleteFeatureInteraction,\n      measure: {\n        AreaInteraction: AreaInteraction,\n        LengthInteraction: LengthInteraction\n      }\n    },\n    controls: {},\n    utils: g3wolutils\n  },\n  // G3W-CLIENT version\n  version: _constant2.default.APP_VERSION\n};\n\n},{\"components/C3XYLine.vue\":195,\"components/FormBody.vue\":214,\"components/FormFooter.vue\":215,\"components/InputG3W.vue\":238,\"components/InputG3WFormInputs.vue\":239,\"constant\":5,\"core/editing/editor\":7,\"core/editing/session\":9,\"core/errors/parser/servererrorparser\":10,\"core/expression/inputservice\":11,\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/layers/features/feature\":27,\"core/layers/features/featuresstore\":28,\"core/layers/features/olfeaturesstore\":29,\"core/layers/filter/expression\":30,\"core/layers/filter/filter\":31,\"core/layers/imagelayer\":34,\"core/layers/layer\":35,\"core/layers/layerfactory\":36,\"core/layers/layersstore\":37,\"core/layers/layersstoresregistry\":38,\"core/layers/map/maplayer\":44,\"core/layers/map/wmslayer\":46,\"core/layers/map/xyzlayer\":48,\"core/layers/tablelayer\":57,\"core/layers/vectorlayer\":58,\"core/plugin/plugin\":59,\"core/plugin/pluginservice\":60,\"core/project/project\":62,\"core/utils/geo\":65,\"core/utils/ol\":66,\"core/utils/utils\":68,\"core/workflow/flow\":70,\"core/workflow/step\":72,\"core/workflow/task\":73,\"core/workflow/workflow\":74,\"g3w-ol/interactions/areainteraction\":100,\"g3w-ol/interactions/deletefeatureinteraction\":101,\"g3w-ol/interactions/lengthinteraction\":102,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"g3w-ol/interactions/pickfeatureinteraction\":105,\"gui/catalog/vue/catalog\":112,\"gui/charts/chartsfactory\":114,\"gui/component/component\":115,\"gui/component/componentsfactory\":116,\"gui/fields/fields\":118,\"gui/fields/fieldsservice\":119,\"gui/form/formservice\":120,\"gui/form/vue/form\":121,\"gui/inputs/inputs\":130,\"gui/map/control/factory\":154,\"gui/map/vue/map\":156,\"gui/metadata/vue/metadata\":159,\"gui/panel\":160,\"gui/print/vue/print\":162,\"gui/queryresults/vue/queryresults\":170,\"gui/search/vue/panel/searchpanel\":175,\"gui/search/vue/panel/searchservice\":176,\"gui/search/vue/search\":177,\"gui/tools/vue/tools\":185,\"mixins\":338,\"services/api\":345,\"services/application\":346,\"services/data\":353,\"services/editing\":354,\"services/gui\":356,\"services/iframe-plugin\":359,\"services/relations\":362,\"services/router\":363,\"services/tasks\":365,\"services/workflows\":367,\"store/application-state\":368,\"store/catalog-layers\":369,\"store/map-layers\":372,\"store/plugins\":373,\"store/projects\":374,\"store/sessions\":375}],4:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.utils = exports.server = exports.client = exports._i18n = exports.tools = exports.plugins = undefined;\n\nvar _locales = require('../locales');\n\nvar _locales2 = _interopRequireDefault(_locales);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar apptitle = \"G3W Client\"; /**\n                              * @TODO consolidate configuration parameters in a single location\n                              * (eg. appConfig, ApplicationState, Constants, ...)\n                              */\n\nvar supportedLanguages = ['en', 'it'];\n\nvar plugins = exports.plugins = {};\n\nvar tools = exports.tools = {\n  tools: []\n};\n\n// get message from internationalization\nvar _i18n = exports._i18n = {\n  resources: _locales2.default\n};\n\nvar client = exports.client = {\n  debug: true,\n  local: false\n};\n\nvar server = exports.server = {\n  urls: {\n    baseurl: '/',\n    ows: 'ows',\n    api: 'api',\n    initconfig: 'api/initconfig',\n    config: 'api/config'\n  }\n};\n\nvar utils = exports.utils = {\n  merge: function merge(type) {\n    if (type) {\n      console.log(CONFIG);\n    }\n  }\n};\n\nexports.default = {\n  apptitle: apptitle,\n  client: client,\n  server: server,\n  plugins: plugins,\n  supportedLanguages: supportedLanguages,\n  tools: tools,\n  _i18n: _i18n,\n  utils: utils\n};\n\n},{\"../locales\":329}],5:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LOCAL_ITEM_IDS = exports.API_BASE_URLS = exports.ZINDEXES = exports.VIEWPORT = exports.TOC_THEMES_INIT_STATUS = exports.TOC_LAYERS_INIT_STATUS = exports.TIMEOUT = exports.SEARCH_RETURN_TYPES = exports.SEARCH_ALLVALUE = exports.QUERY_POINT_TOLERANCE = exports.SCALES = exports.PRINT_SCALES = exports.PRINT_RESOLUTIONS = exports.PRINT_FORMATS = exports.MAP_SETTINGS = exports.LOCALSTORAGE_EXTERNALWMS_ITEM = exports.LIST_OF_RELATIONS_ID = exports.LIST_OF_RELATIONS_TITLE = exports.GEOMETRY_TYPES = exports.GEOMETRY_FIELDS = exports.FILTER_EXPRESSION_OPERATORS = exports.FILTER_OPERATORS = exports.G3W_FID = exports.EPSG = exports.DOWNLOAD_FORMATS = exports.DEFAULT_EDITING_CAPABILITIES = exports.APP_VERSION = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file all contants values used on application\n                                                                                                                                                                                                                                                                   */\n\n/**\n * @TODO we can safely import \"version\" from \"package.json\" when we will use native ES Modules\n */\n// import { version } from '../../package.json';\n\n\nvar _version = require('../version');\n\nvar _version2 = _interopRequireDefault(_version);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Same as \"package.json\" version\n */\nvar APP_VERSION = exports.APP_VERSION = _version2.default;\n\n/**\n * Default editing capabilities \n */\nvar DEFAULT_EDITING_CAPABILITIES = exports.DEFAULT_EDITING_CAPABILITIES = ['add_feature', 'change_feature', 'change_attr_feature', 'delete_feature'];\n\nvar DOWNLOAD_FORMATS = exports.DOWNLOAD_FORMATS = {\n  download: {\n    format: 'shapefile',\n    url: 'shp'\n  },\n  download_gpkg: {\n    format: 'gpkg',\n    url: 'gpkg'\n  },\n  download_gpx: {\n    format: 'gpx',\n    url: 'gpx'\n  },\n  download_csv: {\n    format: 'csv',\n    url: 'csv'\n  },\n  download_xls: {\n    format: 'xls',\n    url: 'xls'\n  },\n  download_raster: {\n    format: 'geotiff',\n    url: 'geotiff'\n  }\n};\n\nvar EPSG = exports.EPSG = [\"EPSG:3003\", \"EPSG:3004\", \"EPSG:3045\", \"EPSG:3857\", \"EPSG:4326\", \"EPSG:6708\", \"EPSG:23032\", \"EPSG:23033\", \"EPSG:25833\", \"EPSG:32632\", \"EPSG:32633\"];\n\n/**\n * fid name field referred to fid feature\n */\nvar G3W_FID = exports.G3W_FID = 'g3w_fid';\n\n/**\n * @since v3.5\n */\nvar FILTER_OPERATORS = exports.FILTER_OPERATORS = {\n  gte: '>=',\n  lte: '<=',\n  NOT: '!=',\n  eq: '=',\n  gt: '>',\n  lt: '<',\n  IN: 'IN',\n  'NOT IN': 'NOT IN',\n  LIKE: 'LIKE',\n  ILIKE: 'ILIKE',\n  AND: 'AND',\n  OR: 'OR'\n};\n\n/**\n * @since v3.5\n */\nvar FILTER_EXPRESSION_OPERATORS = exports.FILTER_EXPRESSION_OPERATORS = _extends({\n  lte: '<=',\n  ltgt: '!=',\n  ilike: 'ILIKE',\n  like: 'LIKE'\n}, FILTER_OPERATORS);\n\n/**\n * Geometry fields used to exclude or get geometry information from server request\n */\nvar GEOMETRY_FIELDS = exports.GEOMETRY_FIELDS = ['geometryProperty', 'boundedBy', 'geom', 'the_geom', 'geometry', 'bbox', 'GEOMETRY', 'geoemtria', 'geometria'];\n\nvar GEOMETRY_TYPES = exports.GEOMETRY_TYPES = {\n  POINT: \"Point\",\n  POINTZ: \"PointZ\",\n  POINTM: \"PointM\",\n  POINTZM: \"PointZM\",\n  POINT25D: \"Point25D\",\n  MULTIPOINT: \"MultiPoint\",\n  MULTIPOINTZ: \"MultiPointZ\",\n  MULTIPOINTM: \"MutliPointM\",\n  MULTIPOINTZM: \"MultiPointZM\",\n  MULTIPOINT25D: \"MultiPoint25D\",\n  LINESTRING: \"LineString\", // QGis definition .GeometryType, Line intead di Linestring.\n  LINESTRINGZ: \"LineStringZ\",\n  LINESTRINGM: \"LineStringM\",\n  LINESTRINGZM: \"LineStringZM\",\n  LINESTRING25D: \"LineString25D\",\n  LINE: \"Line\",\n  LINEZ: \"LineZ\",\n  LINEM: \"LineM\",\n  LINEZM: \"LineZM\",\n  LINE25D: \"Line25D\",\n  MULTILINESTRING: \"MultiLineString\",\n  MULTILINESTRINGZ: \"MultiLineStringZ\",\n  MULTILINESTRINGM: \"MultiLineStringM\",\n  MULTILINESTRINGZM: \"MultiLineStringZM\",\n  MULTILINESTRING25D: \"MultiLineString25D\",\n  MULTILINE: \"MultiLine\",\n  MULTILINEZ: \"MultiLineZ\",\n  MULTILINEM: \"MultiLineM\",\n  MULTILINEZM: \"MultiLineZM\",\n  MULTILINE25D: \"MultiLine25D\",\n  POLYGON: \"Polygon\",\n  POLYGONZ: \"PolygonZ\",\n  POLYGONM: \"PolygonM\",\n  POLYGONZM: \"PolygonZM\",\n  POLYGON25D: \"Polygon25D\",\n  MULTIPOLYGON: \"MultiPolygon\",\n  MULTIPOLYGONZ: \"MultiPolygonZ\",\n  MULTIPOLYGONM: \"MultiPolygonM\",\n  MULTIPOLYGONZM: \"MultiPolygonZM\",\n  MULTIPOLYGON25D: \"MultiPolygon25D\",\n  GEOMETRYCOLLECTION: \"GeometryCollection\",\n  GEOMETRYCOLLECTIONZ: \"GeometryCollectionZ\",\n  GEOMETRYCOLLECTIONM: \"GeometryCollectionM\",\n  GEOMETRYCOLLECTIONZM: \"GeometryCollectionZM\",\n  GEOMETRYCOLLECTION25D: \"GeometryCollection25D\"\n};\n\nvar LIST_OF_RELATIONS_TITLE = exports.LIST_OF_RELATIONS_TITLE = 'info.list_of_relations';\nvar LIST_OF_RELATIONS_ID = exports.LIST_OF_RELATIONS_ID = '__G3W_LIST_OF_RELATIONS_ID__';\n\nvar LOCALSTORAGE_EXTERNALWMS_ITEM = exports.LOCALSTORAGE_EXTERNALWMS_ITEM = 'externalwms';\n\nvar MAP_SETTINGS = exports.MAP_SETTINGS = {\n  ZOOM: {\n    maxScale: 1000\n  },\n  ANIMATION: {\n    duration: 2000\n  },\n  LAYER_POSITIONS: {\n    default: 'top',\n    getPositions: function getPositions() {\n      return ['top', 'bottom'];\n    }\n  }\n};\n\n/**\n * @since v3.5\n */\nvar PRINT_FORMATS = exports.PRINT_FORMATS = [{\n  value: 'pdf',\n  label: 'PDF'\n}, {\n  value: 'png',\n  label: 'PNG'\n}];\n\n/**\n * @since v3.5\n */\nvar PRINT_RESOLUTIONS = exports.PRINT_RESOLUTIONS = [150, 300];\n\n/**\n * @since v3.5\n */\nvar PRINT_SCALES = exports.PRINT_SCALES = [{\n  value: 100,\n  label: '1:100'\n}, {\n  value: 200,\n  label: '1:200'\n}, {\n  value: 500,\n  label: '1:500'\n}, {\n  value: 1000,\n  label: '1:1.000'\n}, {\n  value: 2000,\n  label: '1:2.000'\n}, {\n  value: 2500,\n  label: '1:2.500'\n}, {\n  value: 5000,\n  label: '1:5.000'\n}, {\n  value: 10000,\n  label: '1:10.000'\n}, {\n  value: 20000,\n  label: '1:20.000'\n}, {\n  value: 25000,\n  label: '1:25.000'\n}, {\n  value: 50000,\n  label: '1:50.000'\n}, {\n  value: 100000,\n  label: '1:100.000'\n}, {\n  value: 250000,\n  label: '1:250.000'\n}, {\n  value: 500000,\n  label: '1:500.000'\n}, {\n  value: 1000000,\n  label: '1:1.000.000'\n}, {\n  value: 2500000,\n  label: '1:2.500.000'\n}, {\n  value: 5000000,\n  label: '1:5.000.000'\n}, {\n  value: 10000000,\n  label: '1:10.000.000'\n}, {\n  value: 20000000,\n  label: '1:20.000.000'\n}, {\n  value: 50000000,\n  label: '1:50.000.000'\n}, {\n  value: 100000000,\n  label: '1:100.000.000'\n}, {\n  value: 250000000,\n  label: '1:250.000.000'\n}, {\n  value: 500000000,\n  label: '1:500.000.000'\n}];\n\n/**\n * @since 3.8.0\n *\n */\nvar SCALES = exports.SCALES = PRINT_SCALES;\n\n/**\n * Point tolerance when clicking on map\n * @type {{unit: string, value: number}}\n */\nvar QUERY_POINT_TOLERANCE = exports.QUERY_POINT_TOLERANCE = {\n  unit: 'pixel',\n  value: 10\n};\n\n/**\n * @since v3.5\n */\nvar SEARCH_ALLVALUE = exports.SEARCH_ALLVALUE = '__G3W_ALL__';\n\n/**\n * @since v3.5\n */\nvar SEARCH_RETURN_TYPES = exports.SEARCH_RETURN_TYPES = ['data', 'search'];\n\n/**\n * TIMEOUT (1 minute = 60000)\n */\nvar TIMEOUT = exports.TIMEOUT = 60000;\n\nvar TOC_LAYERS_INIT_STATUS = exports.TOC_LAYERS_INIT_STATUS = 'not_collapsed';\n\nvar TOC_THEMES_INIT_STATUS = exports.TOC_THEMES_INIT_STATUS = 'collapsed';\n\n/**\n * @since v3.5\n */\nvar VIEWPORT = exports.VIEWPORT = {\n  resize: {\n    map: {\n      min: 200\n    },\n    content: {\n      min: 200\n    }\n  }\n};\n\nvar ZINDEXES = exports.ZINDEXES = {\n  usermessage: {\n    tool: 2\n  }\n};\n\n/**\n * @since v3.8\n */\nvar API_BASE_URLS = exports.API_BASE_URLS = {\n  CRS: '/crs/' //Example /crs/<epsg_code>\n};\n\n/**\n * @typedef LocalItem\n * @property {string} id unique identifier\n * @property {any} value initial value\n */\n\n/**\n * LOCAL ITEM IDS - used to store id used by application\n * \n * @type {Object<string, LocalItem>}\n * \n * @since v3.8\n */\nvar LOCAL_ITEM_IDS = exports.LOCAL_ITEM_IDS = {\n  SPATIALBOOKMARKS: {\n    id: 'SPATIALBOOKMARKS', // id unique\n    value: {} // initial value\n  }\n};\n\nexports.default = {\n  APP_VERSION: APP_VERSION,\n  DEFAULT_EDITING_CAPABILITIES: DEFAULT_EDITING_CAPABILITIES,\n  DOWNLOAD_FORMATS: DOWNLOAD_FORMATS,\n  FILTER_OPERATORS: FILTER_OPERATORS,\n  FILTER_EXPRESSION_OPERATORS: FILTER_EXPRESSION_OPERATORS,\n  G3W_FID: G3W_FID,\n  GEOMETRY_FIELDS: GEOMETRY_FIELDS,\n  GEOMETRY_TYPES: GEOMETRY_TYPES,\n  LIST_OF_RELATIONS_TITLE: LIST_OF_RELATIONS_TITLE,\n  LIST_OF_RELATIONS_ID: LIST_OF_RELATIONS_ID,\n  LOCALSTORAGE_EXTERNALWMS_ITEM: LOCALSTORAGE_EXTERNALWMS_ITEM,\n  MAP_SETTINGS: MAP_SETTINGS,\n  PRINT_FORMATS: PRINT_FORMATS,\n  PRINT_RESOLUTIONS: PRINT_RESOLUTIONS,\n  PRINT_SCALES: PRINT_SCALES,\n  SCALES: SCALES,\n  QUERY_POINT_TOLERANCE: QUERY_POINT_TOLERANCE,\n  SEARCH_ALLVALUE: SEARCH_ALLVALUE,\n  SEARCH_RETURN_TYPES: SEARCH_RETURN_TYPES,\n  TIMEOUT: TIMEOUT,\n  TOC_LAYERS_INIT_STATUS: TOC_LAYERS_INIT_STATUS,\n  TOC_THEMES_INIT_STATUS: TOC_THEMES_INIT_STATUS,\n  VIEWPORT: VIEWPORT,\n  ZINDEXES: ZINDEXES,\n  API_BASE_URLS: API_BASE_URLS,\n  LOCAL_ITEM_IDS: LOCAL_ITEM_IDS\n};\n\n},{\"../version\":376}],6:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    resolve = _require.resolve;\n\nfunction BaseService() {\n  var _this = this;\n\n  _projects2.default.onbefore('setCurrentProject', function (project) {\n    return _this.project = project;\n  });\n  this.project = _projects2.default.getCurrentProject();\n}\n\nvar proto = BaseService.prototype;\n/**\n *\n * @param request is a Promise(jquery promise at moment\n * @returns {Promise<unknown>}\n */\nproto.handleRequest = function (request) {\n  //  OVERWRITE TO SERVICE\n};\n\nproto.handleResponse = function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(response) {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns { unknown[] } array of external layer add on project\n * \n * @since 3.8.0\n */\nproto.getSelectedExternalLayers = function (_ref2) {\n  var _ref2$type = _ref2.type,\n      type = _ref2$type === undefined ? 'vector' : _ref2$type;\n\n  return _gui2.default.getService('catalog').getExternalSelectedLayers({ type: type });\n};\n\n/**\n * @returns {Promise<[]>} a resolved request (empty array)\n * \n * @since 3.8.0\n */\nproto.getEmptyRequest = function () {\n  return resolve([]);\n};\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns {boolean}\n * \n * @since 3.8.0\n */\nproto.hasExternalLayerSelected = function (_ref3) {\n  var _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'vector' : _ref3$type;\n\n  return this.getSelectedExternalLayers({ type: type }).length > 0;\n};\n\nmodule.exports = BaseService;\n\n},{\"core/utils/utils\":68,\"services/gui\":356,\"store/projects\":374}],7:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _editing = require('services/editing');\n\nvar _editing2 = _interopRequireDefault(_editing);\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar OlFeaturesStore = require('core/layers/features/olfeaturesstore');\nvar Layer = require('core/layers/layer');\n\n// class Editor bind editor to layer to do main actions\nfunction Editor() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.setters = {\n    save: function save() {\n      this._save();\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    deleteFeature: function deleteFeature(feature) {\n      this._deleteFeature(feature);\n    },\n    setFeatures: function setFeatures() {\n      var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this._setFeatures(features);\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    }\n  };\n  base(this);\n  // filter to getFeaturerequest\n  this._filter = {\n    bbox: null\n  };\n\n  this._allfeatures = false;\n  // referred layer\n  this._layer = options.layer;\n  // editing featurestore\n  this._featuresstore = this._layer.getType() === Layer.LayerTypes.TABLE ? new FeaturesStore() : new OlFeaturesStore();\n  // editor is active or not\n  this._started = false;\n  // not editable fields\n  this._noteditablefileds = this._layer.getEditingNotEditableFields() || [];\n}\n\ninherit(Editor, G3WObject);\n\nvar proto = Editor.prototype;\n\nproto._canDoGetFeaturesRequest = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var doRequest = true;\n  if (this._layer.getType() === Layer.LayerTypes.VECTOR) {\n    var _ref = options.filter || {},\n        bbox = _ref.bbox;\n\n    if (bbox) {\n      if (!this._filter.bbox) this._filter.bbox = bbox;else if (!ol.extent.containsExtent(this._filter.bbox, bbox)) {\n        this._filter.bbox = ol.extent.extend(this._filter.bbox, bbox);\n      } else doRequest = false;\n    }\n  }\n  return doRequest;\n};\n\nproto.getEditingSource = function () {\n  return this._featuresstore;\n};\n\n/**\n * get Source\n */\nproto.getSource = function () {\n  this._layer.getSource();\n};\n\nproto._applyChanges = function () {\n  var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  _editing2.default.execute(this._featuresstore, items, reverse);\n};\n\nproto.setChanges = function (items, reverse) {\n  this._applyChanges(items, reverse);\n};\n\nproto.getLayer = function () {\n  return this._layer;\n};\n\nproto.setLayer = function (layer) {\n  this._layer = layer;\n  return this._layer;\n};\n\nproto.removeNotEditablePropriertiesFromFeature = function (feature) {\n  this._noteditablefileds.forEach(function (field) {\n    return feature.unset([field]);\n  });\n};\n\n//clone features method\nproto._cloneFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  return features.map(function (feature) {\n    return feature.clone();\n  });\n};\n\nproto._addFeaturesFromServer = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features = this._cloneFeatures(features);\n  this._featuresstore.addFeatures(features);\n};\n\nproto._doGetFeaturesRequest = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var doRequest = _applicationState2.default.online && !this._allfeatures;\n  return doRequest && this._canDoGetFeaturesRequest(options);\n};\n\n// get features from server method\nproto._getFeatures = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var doRequest = this._doGetFeaturesRequest(options);\n  if (!doRequest) d.resolve();else this._layer.getFeatures(options).then(function (promise) {\n    promise.then(function (features) {\n      _this._addFeaturesFromServer(features);\n      _this._allfeatures = !options.filter;\n      return d.resolve(features);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// method to revert (cancel) all changes in history and clean session\nproto.revert = function () {\n  var d = $.Deferred();\n  var features = this._cloneFeatures(this._layer.readFeatures());\n  this._featuresstore.setFeatures(features);\n  d.resolve();\n  return d.promise();\n};\n\nproto.rollback = function () {\n  var changes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var d = $.Deferred();\n  this._applyChanges(changes, true);\n  d.resolve();\n  return d.promise();\n};\n\nproto.applyChangesToNewRelationsAfterCommit = function (relationsResponse) {\n  for (var relationLayerId in relationsResponse) {\n    var response = relationsResponse[relationLayerId];\n    var layer = this.getLayerById(relationLayerId);\n    var editingLayerSource = this.getEditingLayer(relationLayerId).getEditingSource();\n    var features = editingLayerSource.readFeatures();\n    features.forEach(function (feature) {\n      return feature.clearState();\n    });\n    layer.getSource().setFeatures(features);\n    layer.applyCommitResponse({\n      response: response,\n      result: true\n    });\n    editingLayerSource.setFeatures(layer.getSource().readFeatures());\n  }\n};\n\nproto.setFieldValueToRelationField = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      relationId = _ref2.relationId,\n      ids = _ref2.ids,\n      field = _ref2.field,\n      _ref2$values = _ref2.values,\n      values = _ref2$values === undefined ? [] : _ref2$values;\n\n  var editingLayerSource = _sessions2.default.getSession(relationId).getEditor().getEditingSource();\n  ids.forEach(function (id) {\n    var feature = editingLayerSource.getFeatureById(id);\n    if (feature) {\n      var fieldvalue = feature.get(field);\n      fieldvalue == values[0] && feature.set(field, values[1]);\n    }\n  });\n};\n\n// apply response data from server in case of new inserted feature\nproto.applyCommitResponse = function () {\n  var _this2 = this;\n\n  var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var relations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  if (response && response.result) {\n    var data = response.response;\n\n    var ids = data.new;\n    var lockids = data.new_lockids;\n    ids.forEach(function (idobj) {\n      var feature = _this2._featuresstore.getFeatureById(idobj.clientid);\n      feature.setId(idobj.id);\n      feature.setProperties(idobj.properties);\n      relations.forEach(function (relation) {\n        Object.entries(relation).forEach(function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 2),\n              relationId = _ref4[0],\n              options = _ref4[1];\n\n          var value = feature.get(options.fatherField);\n          _this2.setFieldValueToRelationField({\n            relationId: relationId,\n            ids: options.ids,\n            field: options.childField,\n            values: [idobj.clientid, value]\n          });\n        });\n      });\n    });\n    var features = this._featuresstore.readFeatures();\n    features.forEach(function (feature) {\n      return feature.clearState();\n    });\n    this._layer.setFeatures(features);\n    this._layer.getSource().addLockIds(lockids);\n  }\n};\n\nproto.getLockIds = function () {\n  return this._layer.getSource().getLockIds();\n};\n\n// run after server apply changed to origin resource\nproto.commit = function (commitItems) {\n  var _this3 = this;\n\n  var d = $.Deferred();\n  // in case of relations bind to new feature\n  var relations = commitItems.add.length ? Object.keys(commitItems.relations).map(function (relationId) {\n    var layerRelation = _this3._layer.getRelations().getRelationByFatherChildren(_this3._layer.getId(), relationId);\n    var updates = commitItems.relations[relationId].update.map(function (relation) {\n      return relation.id;\n    });\n    var add = commitItems.relations[relationId].add.map(function (relation) {\n      return relation.id;\n    });\n    return _defineProperty({}, relationId, {\n      ids: [].concat(_toConsumableArray(add), _toConsumableArray(updates)),\n      fatherField: layerRelation.getFatherField(),\n      childField: layerRelation.getChildField()\n    });\n  }) : [];\n  this._layer.commit(commitItems).then(function (promise) {\n    promise.then(function (response) {\n      _this3.applyCommitResponse(response, relations);\n      d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//start editing function\nproto.start = function () {\n  var _this4 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  // load features of layer based on filter type\n  this.getFeatures(options).then(function (promise) {\n    promise.then(function (features) {\n      // the features are already inside featuresstore\n      d.resolve(features);\n      //if all ok set to started\n      _this4._started = true;\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//action to layer\n\nproto._addFeature = function (feature) {\n  this._featuresstore.addFeature(feature);\n};\n\nproto._deleteFeature = function (feature) {\n  this._featuresstore.deleteFeature(feature);\n};\n\nproto._updateFeature = function (feature) {\n  this._featuresstore.updateFeature(feature);\n};\n\nproto._setFeatures = function (features) {\n  this._featuresstore.setFeatures(features);\n};\n\nproto.readFeatures = function () {\n  return this._layer.readFeatures();\n};\n\nproto.readEditingFeatures = function () {\n  return this._featuresstore.readFeatures();\n};\n\n// stop editor\nproto.stop = function () {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  this._layer.unlock().then(function (response) {\n    _this5.clear();\n    d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//run save layer\nproto._save = function () {\n  this._layer.save();\n};\n\nproto.isStarted = function () {\n  return this._started;\n};\n\nproto.clear = function () {\n  this._started = false;\n  this._filter.bbox = null;\n  this._allfeatures = false;\n  this._featuresstore.clear();\n  this._layer.getFeaturesStore().clear();\n  this._layer.getType() === Layer.LayerTypes.VECTOR && this._layer.resetEditingSource(this._featuresstore.getFeaturesCollection());\n};\n\nmodule.exports = Editor;\n\n},{\"core/g3wobject\":13,\"core/layers/features/featuresstore\":28,\"core/layers/features/olfeaturesstore\":29,\"core/layers/layer\":35,\"core/utils/utils\":68,\"services/editing\":354,\"store/application-state\":368,\"store/sessions\":375}],8:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction History() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.id = options.id;\n  base(this);\n  // registered all changes\n  /*\n  *{\n  * _states: [\n  *     {\n  *       id: unique key\n  *       state: [state] // example: history contsins features state\n  *                      // array because a tool can apply changes to more than one features at time (split di una feature)\n  *     },\n  *     {\n  *       id: unique key\n  *       state: [state]\n  *     },\n  *   ]\n  *     ....\n  *\n  *  _current: unique key // usefult to undo redo\n  *\n  *\n  * */\n  // set maximun \"buffer history\" lenght for  undo redo\n  this._maxSteps = 10;\n  this._states = [];\n  // reactive state of histrory\n  this.state = {\n    commit: false,\n    undo: false,\n    redo: false\n  };\n  this._current = null; // store the current state of history (useful for undo /redo)\n}\n\ninherit(History, G3WObject);\n\nvar proto = History.prototype;\n\nproto.add = function (uniqueId, items) {\n  var _this = this;\n\n  //state object is an array of feature/features changed in a transaction\n  var d = $.Deferred();\n  // before insert an item into the history\n  // check if are at last state step (no redo was done)\n  // in this way avoid starge barch in the history\n  //If we are in the middle of undo, delete all changes in the histroy from the current \"state\"\n  // so i can create a new history\n\n  if (this._current === null) {\n    this._states = [{\n      id: uniqueId,\n      items: items\n    }];\n  } else {\n    if (this._states.length && this._current < this.getLastState().id) this._states = this._states.filter(function (state) {\n      return state.id <= _this._current;\n    });\n    this._states.push({\n      id: uniqueId,\n      items: items\n    });\n  }\n\n  this._current = uniqueId;\n  this._setState();\n  // return unique id key\n  // it can be used in save relation\n  d.resolve(uniqueId);\n  return d.promise();\n};\n\nproto.getRelationStates = function (layerId) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$clear = _ref.clear,\n      clear = _ref$clear === undefined ? false : _ref$clear;\n\n  var relationStates = [];\n  for (var _i = 0; _i < this._states.length; _i++) {\n    var state = this._states[_i];\n    var relationItems = state.items.filter(function (item) {\n      var _layerId = Array.isArray(item) ? item[0].layerId : item.layerId;\n      return _layerId === layerId;\n    });\n    relationItems.length && relationStates.push({\n      id: state.id,\n      items: relationItems\n    });\n  }\n  return relationStates;\n};\n\nproto.insertState = function (state) {\n  var stateId = state.id;\n  var index = this._states.length;\n  for (var _i2 = 0; _i2 < this._states.length; _i2++) {\n    var _state = this._states[_i2];\n    if (_state.id > stateId) {\n      index = _i2;\n      break;\n    } else if (_state.id === stateId) index = -1;\n    break;\n  }\n  if (index > -1) {\n    if (this._current < stateId) this._current = stateId;\n    this._states.splice(index, 0, state);\n  }\n};\n\nproto.removeState = function (stateId) {\n  var index = void 0;\n  for (i = 0; i < this._states.length; i++) {\n    var state = this._states[i];\n    if (state.id === stateId) {\n      index = i;\n      break;\n    }\n  }\n  if (this._current === stateId) this._current = this._states.length > 1 ? this._states[index - 1].id : null;\n  this._states.splice(index, 1);\n};\n\nproto.removeStates = function () {\n  var stateIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var _i3 = 0; _i3 < stateIds.length; _i3++) {\n    var stateId = stateIds[_i3];\n    this.removeState(stateId);\n  }\n};\n\nproto.insertStates = function () {\n  var states = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var _i4 = 0; _i4 < states.length; _i4++) {\n    this.insertState(states[_i4]);\n  }\n  this.canCommit();\n};\n\n// internal method to change the state of the  history when we check\n// a call to a function that modify the hsitory state\nproto._setState = function () {\n  this.canUndo();\n  this.canCommit();\n  this.canRedo();\n};\n\n//check if was did an update (update are array contains two items , old e new value)\nproto._checkItems = function (items, action) {\n  var _this2 = this;\n\n  /**\n   * action: <reffererd to array index>\n   *  0: undo;\n   *  1: redo;\n   **/\n  var newItems = {\n    own: [], //array of changes of layer of the current session\n    dependencies: {} // dependencies\n  };\n  items.forEach(function (item) {\n    if (Array.isArray(item)) item = item[action];\n    // check if belong to session\n    if (_this2.id === item.layerId) {\n      newItems.own.push(item);\n    } else {\n      if (!newItems.dependencies[item.layerId]) newItems.dependencies[item.layerId] = {\n        own: [],\n        dependencies: {}\n      };\n      newItems.dependencies[item.layerId].own.push(item);\n    }\n  });\n  return newItems;\n};\n\n// method undo\nproto.undo = function () {\n  var _this3 = this;\n\n  var items = void 0;\n  if (this._current === this.getFirstState().id) {\n    this._current = null;\n    items = this._states[0].items;\n  } else {\n    this._states.find(function (state, idx) {\n      if (state.id === _this3._current) {\n        items = _this3._states[idx].items;\n        _this3._current = _this3._states[idx - 1].id;\n        return true;\n      }\n    });\n  }\n  items = this._checkItems(items, 0);\n  this._setState();\n  return items;\n};\n\n//method redo\nproto.redo = function () {\n  var _this4 = this;\n\n  var items = void 0;\n  // if not set get first state\n  if (!this._current) {\n    items = this._states[0].items;\n    // set current to first\n    this._current = this._states[0].id;\n  } else {\n    this._states.find(function (state, idx) {\n      if (_this4._current === state.id) {\n        _this4._current = _this4._states[idx + 1].id;\n        items = _this4._states[idx + 1].items;\n        return true;\n      }\n    });\n  }\n  items = this._checkItems(items, 1);\n  this._setState();\n  return items;\n};\n\nproto.setItemsFeatureIds = function () {\n  var _this5 = this;\n\n  var unsetnewids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  unsetnewids.forEach(function (unsetnewid) {\n    var id = unsetnewid.id,\n        clientid = unsetnewid.clientid;\n\n    _this5._states.forEach(function (state) {\n      var items = state.items;\n\n      items.forEach(function (item) {\n        var feature = item.feature.getId() === clientid && item.feature;\n        if (feature) {\n          feature.setId(id);\n        }\n      });\n    });\n  });\n};\n\nproto.clear = function (ids) {\n  var _this6 = this;\n\n  if (ids) this._states.forEach(function (state, idx) {\n    if (ids.indexOf(state.id) !== -1) {\n      if (_this6._current && _this6._current === state.id()) _this6.undo();\n      _this6._states.splice(idx, 1);\n    }\n  });else this._clearAll();\n};\n\nproto._clearAll = function () {\n  this._states = [];\n  this._current = null;\n  this.state.commit = false;\n  this.state.redo = false;\n  this.state.undo = false;\n};\n\nproto.getState = function (id) {\n  return this._states.find(function (state) {\n    return state.id === id;\n  });\n};\n\nproto.getFirstState = function () {\n  return this._states.length ? this._states[0] : null;\n};\n\nproto.getLastState = function () {\n  var length = this._states.length;\n  return length ? this._states[length - 1] : null;\n};\n\nproto.getCurrentState = function () {\n  var _this7 = this;\n\n  var currentState = null;\n  if (this._current && this._states.length) {\n    currentState = this._states.find(function (state) {\n      return _this7._current === state.id;\n    });\n  }\n  return currentState;\n};\n\n// funzione che mi permette di ricavarel'indice dello stato corrente\nproto.getCurrentStateIndex = function () {\n  var _this8 = this;\n\n  var currentStateIndex = null;\n  if (this._current && this._states.length) {\n    this._states.forEach(function (state, idx) {\n      if (_this8._current === state.id) {\n        currentStateIndex = idx;\n        return false;\n      }\n    });\n  }\n  return currentStateIndex;\n};\n\n// method that response true if we can commit\nproto.canCommit = function () {\n  var checkCommitItems = this.commit();\n  var canCommit = false;\n  for (var layerId in checkCommitItems) {\n    var commitItem = checkCommitItems[layerId];\n    canCommit = canCommit || !!commitItem.length;\n  }\n  this.state.commit = canCommit;\n  return this.state.commit;\n};\n\n//cauUdo method\nproto.canUndo = function () {\n  var steps = this._states.length - 1 - this.getCurrentStateIndex();\n  this.state.undo = !_.isNull(this._current) && this._maxSteps > steps;\n  return this.state.undo;\n};\n\n// Caon Redo function\nproto.canRedo = function () {\n  this.state.redo = this.getLastState() && this.getLastState().id != this._current || _.isNull(this._current) && this._states.length > 0;\n  return this.state.redo;\n};\n\nproto._getStatesToCommit = function () {\n  var _this9 = this;\n\n  return this._states.filter(function (state) {\n    return state.id <= _this9._current;\n  });\n};\n\n//get all changes to send to server (mandare al server)\nproto.commit = function () {\n  var commitItems = {};\n  var statesToCommit = this._getStatesToCommit();\n  statesToCommit.forEach(function (state) {\n    state.items.forEach(function (item) {\n      var add = true;\n      if (Array.isArray(item)) item = item[1];\n      commitItems[item.layerId] && commitItems[item.layerId].forEach(function (commitItem, index) {\n        // check if already inserted feature\n        if (commitItem.getUid() === item.feature.getUid()) {\n          if (item.feature.isNew() && !commitItem.isDeleted() && item.feature.isUpdated()) {\n            var _item = item.feature.clone();\n            _item.add();\n            commitItems[item.layerId][index] = _item;\n          } else if (item.feature.isNew() && item.feature.isDeleted()) {\n            commitItems[item.layerId].splice(index, 1);\n          } else if (item.feature.isUpdated() || item.feature.isDeleted()) commitItems[item.layerId][index] = item.feature;\n          add = false;\n          return false;\n        }\n      });\n      if (add) {\n        var feature = item.feature;\n        var layerId = item.layerId;\n        if (!(!feature.isNew() && feature.isAdded())) {\n          if (!commitItems[layerId]) commitItems[layerId] = [];\n          commitItems[layerId].push(feature);\n        }\n      }\n    });\n  });\n  return commitItems;\n};\n\nmodule.exports = History;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],9:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _sessions = require('store/sessions');\n\nvar _sessions2 = _interopRequireDefault(_sessions);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar History = require('core/editing/history');\nvar Layer = require('core/layers/layer');\n\nvar is3DGeometry = require('core/utils/geo').Geometry.is3DGeometry;\n\nfunction Session() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.setters = {\n    start: function start() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._start(options);\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    },\n    stop: function stop() {\n      return this._stop();\n    },\n    saveChangesOnServer: function saveChangesOnServer(commitItems) {} // hook to get informed that are saved on server\n\n  };\n  base(this, options);\n\n  this.state = {\n    id: options.id,\n    started: false,\n    getfeatures: false\n  };\n  // editor\n  this._editor = options.editor;\n  this._history = new History({\n    id: this.state.id\n  });\n  this._temporarychanges = [];\n  this.register();\n}\n\ninherit(Session, G3WObject);\n\nvar proto = Session.prototype;\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getLastHistoryState = function () {\n  return this._history.getLastState();\n};\n\nproto.getLastStateId = function () {\n  return this._history.getLastState().id;\n};\n\nproto.deleteState = function (stateId) {\n  this._history.removeState(stateId);\n};\n\nproto.register = function () {\n  _sessions2.default.register(this);\n};\n\nproto.unregister = function () {\n  _sessions2.default.unregister(this.getId());\n};\n\nproto._start = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this._editor.start(options).then(function (features) {\n    _this.state.started = true;\n    d.resolve(features);\n  }).fail(function (err) {\n    d.reject(err);\n  });\n  return d.promise();\n};\n\n//method to getFeature from server by editor\nproto._getFeatures = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  if (!this._allfeatures) {\n    this._allfeatures = !options.filter;\n    this._editor.getFeatures(options).then(function (promise) {\n      promise.then(function (features) {\n        _this2.state.getfeatures = true;\n        d.resolve(features);\n      }).fail(function (err) {\n        return d.reject(err);\n      });\n    });\n  } else d.resolve([]);\n\n  return d.promise();\n};\n\nproto.isStarted = function () {\n  return this.state.started;\n};\n\nproto.getEditor = function () {\n  return this._editor;\n};\n\nproto.setEditor = function (editor) {\n  this._editor = editor;\n};\n\n// it used to save temporary changes to the layer\n// in history instance and feature store\nproto.save = function () {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  //fill history\n  var d = $.Deferred();\n  // add temporary modify to history\n  if (this._temporarychanges.length) {\n    var uniqueId = options.id || Date.now();\n    this._history.add(uniqueId, this._temporarychanges).then(function () {\n      // clear to temporary changes\n      _this3._temporarychanges = [];\n      // resolve if uniqeu id\n      d.resolve(uniqueId);\n    });\n  } else {\n    d.resolve(null);\n  }\n  return d.promise();\n};\n\nproto.updateTemporaryChanges = function (feature) {\n  this._temporarychanges.forEach(function (change) {\n    change.feature.setProperties(feature.getProperties());\n  });\n};\n\n// method to add temporary feature\nproto.pushAdd = function (layerId, feature) {\n  var removeNotEditableProperties = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  /**\n   * Please take care of this to understand\n   */\n  removeNotEditableProperties && this._editor.removeNotEditablePropriertiesFromFeature(feature);\n  var newFeature = feature.clone();\n  this.push({\n    layerId: layerId,\n    feature: newFeature.add()\n  });\n  return newFeature;\n};\n\n// delete temporary feature\nproto.pushDelete = function (layerId, feature) {\n  this.push({\n    layerId: layerId,\n    feature: feature.delete()\n  });\n  return feature;\n};\n\n// add temporary feature changes\nproto.pushUpdate = function (layerId, newFeature, oldFeature) {\n  // in case of change attribute immediately after create feature\n  if (newFeature.isNew()) {\n    var temporarynewfeatureIndex = this._temporarychanges.findIndex(function (change) {\n      return change.layerId === layerId && change.feature.getId() === newFeature.getId();\n    });\n    if (temporarynewfeatureIndex !== -1) {\n      var feature = newFeature.clone();\n      feature.add();\n      this._temporarychanges[temporarynewfeatureIndex].feature = feature;\n      return;\n    }\n  }\n  this.push({\n    layerId: layerId,\n    feature: newFeature.update()\n  }, {\n    layerId: layerId,\n    feature: oldFeature.update()\n  });\n};\n\nproto.removeChangesFromHistory = function () {\n  var changeIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this._history.removeStates(changeIds);\n};\n\nproto.moveRelationStatesOwnSession = function () {\n  var statesIds = {};\n\n  var _getCommitItems = this.getCommitItems(),\n      relationItems = _getCommitItems.relations;\n\n  for (var relationLayerId in relationItems) {\n    var relationStates = this._history.getRelationStates(relationLayerId);\n    var relationSession = _sessions2.default.getSession(relationLayerId);\n    relationSession._history.insertStates(relationStates);\n    statesIds[relationLayerId] = relationStates.map(function (state) {\n      return state.id;\n    });\n  }\n  return statesIds;\n};\n\n// it used to add temporary features\n// that will be added with save method\nproto.push = function (New, Old) {\n  /*\n  New e Old saranno oggetti contenti {\n      layerId: xxxx,\n      feature: feature\n    }\n   */\n  // check is set old (edit)\n  var feature = Old ? [Old, New] : New;\n  this._temporarychanges.push(feature);\n};\n\n// method to revert (cancel) all changes in history and clean session\nproto.revert = function () {\n  var _this4 = this;\n\n  var d = $.Deferred();\n  this._editor.revert().then(function () {\n    _this4._history.clear();\n    d.resolve();\n  });\n  return d.promise();\n};\n\n// handle temporary changes of layer\nproto._filterChanges = function () {\n  var id = this.getId();\n  var changes = {\n    own: [],\n    dependencies: {}\n  };\n  this._temporarychanges.forEach(function (temporarychange) {\n    var change = Array.isArray(temporarychange) ? temporarychange[0] : temporarychange;\n    if (change.layerId === id) changes.own.push(change);else {\n      if (!changes.dependencies[change.layerId]) changes.dependencies[change.layerId] = [];\n      // FILO\n      changes.dependencies[change.layerId].unshift(change);\n    }\n  });\n  return changes;\n};\n\nproto.rollback = function (changes) {\n  if (changes) return this._editor.rollback(changes);else {\n    var d = $.Deferred();\n    var _changes = this._filterChanges();\n    this._editor.rollback(_changes.own).then(function () {\n      var dependencies = _changes.dependencies;\n\n      for (var id in dependencies) {\n        _sessions2.default.getSession(id).rollback(dependencies[id]);\n      }\n      d.resolve(dependencies);\n    });\n    this._temporarychanges = [];\n    return d.promise();\n  }\n};\n\n/**\n * Rollback child changes of current session\n * @param ids [array of child layer id]\n */\nproto.rollbackDependecies = function () {\n  var _this5 = this;\n\n  var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  ids.forEach(function (id) {\n    var changes = [];\n    _this5._temporarychanges = _this5._temporarychanges.filter(function (temporarychange) {\n      if (temporarychange.layerId === id) {\n        changes.push(temporarychange);\n        return false;\n      }\n    });\n    changes.length && _sessions2.default.getSession(id).rollback(changes);\n  });\n};\n\n// method undo\nproto.undo = function (items) {\n  items = items || this._history.undo();\n  this._editor.setChanges(items.own, true);\n  this._history.canCommit();\n  return items.dependencies;\n};\n\n// method redo\nproto.redo = function (items) {\n  items = items || this._history.redo();\n  this._editor.setChanges(items.own, true);\n  this._history.canCommit();\n  return items.dependencies;\n};\n\nproto._serializeCommit = function (itemsToCommit) {\n  var id = this.getId();\n  var state = void 0;\n  var layer = void 0;\n  var commitObj = {\n    add: [],\n    update: [],\n    delete: [],\n    relations: {}\n  };\n  for (var key in itemsToCommit) {\n    var isRelation = false;\n    var items = itemsToCommit[key];\n    if (key !== id) {\n      isRelation = true;\n      var sessionRelation = _sessions2.default.getSession(key);\n      var lockids = sessionRelation ? sessionRelation.getEditor().getLockIds() : [];\n      commitObj.relations[key] = {\n        lockids: lockids,\n        add: [],\n        update: [],\n        delete: []\n      };\n      layer = commitObj.relations[key];\n    } else layer = commitObj;\n    items.forEach(function (item) {\n      state = item.getState();\n      var GeoJSONFormat = new ol.format.GeoJSON();\n      switch (state) {\n        case 'delete':\n          if (!item.isNew()) layer.delete.push(item.getId());\n          break;\n        default:\n          var value = GeoJSONFormat.writeFeatureObject(item);\n          var childs_properties = item.getProperties();\n          for (var _key in value.properties) {\n            if (value.properties[_key] && _typeof(value.properties[_key]) === 'object' && value.properties[_key].constructor === Object) value.properties[_key] = value.properties[_key].value;\n            if (value.properties[_key] === undefined && childs_properties[_key]) value.properties[_key] = childs_properties[_key];\n          }\n          var action = item.isNew() ? 'add' : item.getState();\n          // in case of add i have to remove non editable properties\n          layer[action].push(value);\n          break;\n      }\n    });\n    // check in case of no edit remove relation key\n    if (isRelation && !layer.add.length && !layer.update.length && !layer.delete.length) {\n      delete commitObj.relations[key];\n    }\n  }\n  return commitObj;\n};\n\nproto.getCommitItems = function () {\n  var commitItems = this._history.commit();\n  return this._serializeCommit(commitItems);\n};\n\n/**\n *\n * Set geometry: {type} of geojson to a 3D type if needed\n * @param layerId\n * @param commitItems\n */\nproto.set3DGeometryType = function () {\n  var _this6 = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$layerId = _ref.layerId,\n      layerId = _ref$layerId === undefined ? this.getId() : _ref$layerId,\n      commitItems = _ref.commitItems;\n\n  var relations = commitItems.relations;\n\n  var editingLayer = _mapLayers2.default.getLayerById(layerId).getEditingLayer();\n  // check id there is a editing layer and if is a vector layer\n  if (editingLayer && editingLayer.getType() === Layer.LayerTypes.VECTOR) {\n    // get Geometry type layer\n    var geometryType = editingLayer.getGeometryType();\n    // if is a 3D layer i set on geoJON before send it to server\n    if (is3DGeometry(geometryType)) {\n      ['add', 'update'].forEach(function (action) {\n        commitItems[action].forEach(function (feature) {\n          return feature.geometry.type = geometryType;\n        });\n      });\n    }\n  }\n  // the same control of relations layers\n  Object.keys(relations).forEach(function (layerId) {\n    return _this6.set3DGeometryType({\n      layerId: layerId,\n      commitItems: relations[layerId]\n    });\n  });\n};\n\nproto.commit = function () {\n  var _this7 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$ids = _ref2.ids,\n      ids = _ref2$ids === undefined ? null : _ref2$ids,\n      items = _ref2.items,\n      _ref2$relations = _ref2.relations,\n      relations = _ref2$relations === undefined ? true : _ref2$relations;\n\n  var d = $.Deferred();\n  var commitItems = void 0;\n  if (ids) {\n    commitItems = this._history.commit(ids);\n    this._history.clear(ids);\n  } else {\n    if (items) commitItems = items;else {\n      commitItems = this._history.commit();\n      commitItems = this._serializeCommit(commitItems);\n    }\n    if (!relations) commitItems.relations = {};\n    this._editor.commit(commitItems).then(function (response) {\n      if (response && response.result) {\n        var data = response.response;\n        var _data$new_relations = data.new_relations,\n            new_relations = _data$new_relations === undefined ? {} : _data$new_relations;\n\n        for (var id in new_relations) {\n          var session = _sessions2.default.getSession(id);\n          session.getEditor().applyCommitResponse({\n            response: new_relations[id],\n            result: true\n          });\n        }\n        _this7._history.clear();\n        _this7.saveChangesOnServer(commitItems);\n        d.resolve(commitItems, response);\n      } else d.reject(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto._canStop = function () {\n  return this.state.started || this.state.getfeatures;\n};\n\n//stop session\nproto._stop = function () {\n  var _this8 = this;\n\n  var d = $.Deferred();\n  if (this._canStop()) this._editor.stop().then(function () {\n    _this8.clear();\n    d.resolve();\n  }).fail(function (err) {\n    return d.reject(err);\n  });else d.resolve();\n  return d.promise();\n};\n\n// clear all things bind to session\nproto.clear = function () {\n  this._allfeatures = false;\n  this.state.started = false;\n  this.state.getfeatures = false;\n  this.clearHistory();\n  this._editor.clear();\n};\n\n//return l'history\nproto.getHistory = function () {\n  return this._history;\n};\n\n// clear history\nproto.clearHistory = function () {\n  this._history.clear();\n};\n\nmodule.exports = Session;\n\n},{\"core/editing/history\":8,\"core/g3wobject\":13,\"core/layers/layer\":35,\"core/utils/geo\":65,\"core/utils/utils\":68,\"store/map-layers\":372,\"store/sessions\":375}],10:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar serverErrorParser = function serverErrorParser() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._error = options.error;\n};\n\nvar proto = serverErrorParser.prototype;\n\nproto.parse = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$type = _ref.type,\n      type = _ref$type === undefined ? 'responseJSON' : _ref$type;\n\n  var error_message = \"server_saver_error\";\n  function traverseErrorMessage(errorObject) {\n    var entries = Object.entries(errorObject);\n    var entry = entries.find(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          key = _ref3[0],\n          value = _ref3[1];\n\n      return key === 'fields';\n    });\n    if (entry) {\n      var _entry = _slicedToArray(entry, 2),\n          value = _entry[1];\n\n      try {\n        if (typeof value === 'string') {\n          var _entries$find = entries.find(function (_ref4) {\n            var _ref5 = _slicedToArray(_ref4, 2),\n                key = _ref5[0],\n                value = _ref5[1];\n\n            return key !== 'fields';\n          }),\n              _entries$find2 = _slicedToArray(_entries$find, 1),\n              field = _entries$find2[0];\n\n          error_message = '[' + field + '] ' + value;\n        } else {\n          error_message = '';\n          Object.entries(value).forEach(function (_ref6) {\n            var _ref7 = _slicedToArray(_ref6, 2),\n                field = _ref7[0],\n                error = _ref7[1];\n\n            error_message = '' + error_message + field + ' ' + (Array.isArray(error) ? error[0] : error) + ' \\n';\n          });\n        }\n      } catch (err) {}\n      return error_message.replace(/\\:|\\./g, '');\n    } else {\n      var _entries$ = _slicedToArray(entries[0], 2),\n          _value = _entries$[1];\n\n      if (!Array.isArray(_value) && (typeof _value === 'undefined' ? 'undefined' : _typeof(_value)) === 'object') return traverseErrorMessage(_value);\n    }\n  }\n  if (type === 'responseJSON') {\n    if (this._error && this._error.responseJSON && this._error.responseJSON.error.message) return this._error.responseJSON.error.message;else if (this._error && this._error.errors) return traverseErrorMessage(this._error.errors);\n  } else if (type === 'String') {\n    if (typeof this._error === 'string') return this._error;else return traverseErrorMessage(this._error);\n  }\n  return t(\"server_saver_error\");\n};\n\nmodule.exports = serverErrorParser;\n\n},{\"core/i18n/i18n.service\":14}],11:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/geo'),\n    convertFeatureToGEOJSON = _require.convertFeatureToGEOJSON;\n\nexports.default = {\n  /**\n   * handleFilterExpressionFormInput\n   * @param field\n   * @param feature\n   * @param qgs_layer_id\n   * @returns {Promise<void|unknown>}\n   */\n  handleFilterExpressionFormInput: function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          field = _ref2.field,\n          feature = _ref2.feature,\n          qgs_layer_id = _ref2.qgs_layer_id,\n          parentData = _ref2.parentData;\n\n      var form_data, options, key, value, _options$layer_id, layer_id, filter_expression, loading, features, values, i;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              form_data = convertFeatureToGEOJSON(feature);\n              options = field.input.options;\n              key = options.key, value = options.value, _options$layer_id = options.layer_id, layer_id = _options$layer_id === undefined ? qgs_layer_id : _options$layer_id, filter_expression = options.filter_expression, loading = options.loading;\n\n              if (!filter_expression) {\n                _context.next = 27;\n                break;\n              }\n\n              loading.state = 'loading';\n              _context.prev = 5;\n              _context.next = 8;\n              return _data2.default.getData('expression:expression', {\n                inputs: {\n                  layer_id: layer_id,\n                  qgs_layer_id: qgs_layer_id, // layer id owner of the data\n                  form_data: form_data,\n                  parent: parentData && {\n                    form_data: convertFeatureToGEOJSON(parentData.feature),\n                    qgs_layer_id: parentData.qgs_layer_id,\n                    formatter: 0\n                  },\n                  formatter: 0,\n                  expression: filter_expression.expression\n                },\n                outputs: false\n              });\n\n            case 8:\n              features = _context.sent;\n              _context.t0 = field.input.type;\n              _context.next = _context.t0 === 'select_autocomplete' ? 12 : 18;\n              break;\n\n            case 12:\n              field.input.options.values = [];\n              /**\n               * Use a temporary array to sort the keys\n               * @type {*[]}\n               */\n              values = [];\n\n              for (i = 0; i < features.length; i++) {\n                values.push({\n                  key: features[i].properties[key],\n                  value: features[i].properties[value]\n                });\n              }\n              values.sort(function (_ref3, _ref4) {\n                var aKey = _ref3.key;\n                var bKey = _ref4.key;\n\n                if (typeof aKey === 'string') {\n                  aKey = aKey.toLowerCase();\n                  bKey = bKey.toLowerCase();\n                }\n                if (aKey < bKey) return -1;\n                if (aKey > bKey) return 1;\n                return 0;\n              });\n              field.input.options.values = values;\n              return _context.abrupt('break', 18);\n\n            case 18:\n              return _context.abrupt('return', features);\n\n            case 21:\n              _context.prev = 21;\n              _context.t1 = _context['catch'](5);\n              return _context.abrupt('return', Promise.reject(_context.t1));\n\n            case 24:\n              _context.prev = 24;\n\n              loading.state = 'ready';\n              return _context.finish(24);\n\n            case 27:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[5, 21, 24, 27]]);\n    }));\n\n    function handleFilterExpressionFormInput() {\n      return _ref.apply(this, arguments);\n    }\n\n    return handleFilterExpressionFormInput;\n  }(),\n\n  /*\n  *handleDefaultExpressionFormInput\n   */\n  handleDefaultExpressionFormInput: function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          field = _ref6.field,\n          feature = _ref6.feature,\n          qgs_layer_id = _ref6.qgs_layer_id,\n          parentData = _ref6.parentData;\n\n      var form_data, options, _options$layer_id2, layer_id, default_expression, loading, value;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              form_data = convertFeatureToGEOJSON(feature);\n              options = field.input.options;\n              _options$layer_id2 = options.layer_id, layer_id = _options$layer_id2 === undefined ? qgs_layer_id : _options$layer_id2, default_expression = options.default_expression, loading = options.loading;\n\n              if (!default_expression) {\n                _context2.next = 19;\n                break;\n              }\n\n              loading.state = 'loading';\n              /**\n               * In case of default_expression call expression_eval to get value from expression and set it to field\n               */\n              _context2.prev = 5;\n              _context2.next = 8;\n              return _data2.default.getData('expression:expression_eval', {\n                inputs: {\n                  layer_id: layer_id, //\n                  qgs_layer_id: qgs_layer_id, //layer id owner of the data\n                  form_data: form_data,\n                  formatter: 0,\n                  expression: default_expression.expression,\n                  parent: parentData && {\n                    form_data: convertFeatureToGEOJSON(parentData.feature),\n                    qgs_layer_id: parentData.qgs_layer_id,\n                    formatter: 0\n                  }\n                },\n                outputs: false\n              });\n\n            case 8:\n              value = _context2.sent;\n\n              field.value = value;\n              return _context2.abrupt('return', value);\n\n            case 13:\n              _context2.prev = 13;\n              _context2.t0 = _context2['catch'](5);\n              return _context2.abrupt('return', Promise.reject(_context2.t0));\n\n            case 16:\n              _context2.prev = 16;\n\n              loading.state = 'ready';\n              return _context2.finish(16);\n\n            case 19:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[5, 13, 16, 19]]);\n    }));\n\n    function handleDefaultExpressionFormInput() {\n      return _ref5.apply(this, arguments);\n    }\n\n    return handleDefaultExpressionFormInput;\n  }()\n};\n\n},{\"core/utils/geo\":65,\"services/data\":353}],12:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/geo'),\n    getFormDataExpressionRequestFromFeature = _require.getFormDataExpressionRequestFromFeature,\n    convertFeatureToGEOJSON = _require.convertFeatureToGEOJSON;\n\nexports.default = {\n  getVisibility: function getVisibility(_ref) {\n    var qgs_layer_id = _ref.qgs_layer_id,\n        expression = _ref.expression,\n        _ref$feature = _ref.feature,\n        feature = _ref$feature === undefined ? {} : _ref$feature,\n        contenttype = _ref.contenttype;\n\n    var formatter = contenttype === 'query' ? 1 : 0;\n    var form_data = contenttype === 'editing' ? convertFeatureToGEOJSON(feature) : getFormDataExpressionRequestFromFeature(feature);\n    return _data2.default.getData('expression:expression_eval', {\n      inputs: {\n        qgs_layer_id: qgs_layer_id,\n        form_data: form_data,\n        expression: expression,\n        formatter: formatter\n      },\n      outputs: false\n    });\n  }\n};\n\n},{\"core/utils/geo\":65,\"services/data\":353}],13:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    noop = _require.noop,\n    debounce = _require.debounce,\n    throttle = _require.throttle;\n\n/**\n * Base object to handle a setter and its listeners.\n * @constructor\n */\n\n\nvar G3WObject = function G3WObject() {\n  //check if setters property is set. Register the chain of events\n  this.setters && this._setupListenersChain(this.setters);\n  // check debounces\n  this.debounces && this._setupDebounces(this.debounces);\n  //check throttles\n  this.throttles && this._setupThrottles(this.throttles);\n};\n\ninherit(G3WObject, EventEmitter);\n\nvar proto = G3WObject.prototype;\n\n/**\n * Insert a listener on afeter setter was executed\n * @param {string} setter - IMethod name to register a listener function\n * @param {function} listener - listener function (only syncron)\n * @param {number} priority - Priorit di esecuzione: valore minore viene eseuito prima\n */\nproto.onafter = function (setter, listener, priority) {\n  return this._onsetter('after', setter, listener, false, priority);\n};\n\nproto.onceafter = function (setter, listener, priority) {\n  return this._onsetter('after', setter, listener, false, priority, true);\n};\n\n/**\n * Listern before cal sesster\n * @param {string} setter - Method name setter\n * @param {function} listener - function to call\n * @param {number} priority - Priority\n */\nproto.onbefore = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, false, priority);\n};\n\n// once before\nproto.oncebefore = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, false, priority, true);\n};\n\n/**\n * @param {string} setter - Method name setter\n * @param {function} listener - function to call\n * @param {number} priority - Priority\n */\nproto.onbeforeasync = function (setter, listener, priority) {\n  return this._onsetter('before', setter, listener, true, priority);\n};\n\nproto.un = function (setter, key) {\n  // cicle on after before (key) and for each settersListeners (array) find key\n  Object.entries(this.settersListeners).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        _key = _ref2[0],\n        settersListeners = _ref2[1];\n\n    if (key === undefined) settersListeners[setter].splice(0);else settersListeners[setter].forEach(function (setterListener, idx) {\n      if (setterListener.key === key) {\n        settersListeners[setter].splice(idx, 1);\n      }\n    });\n  });\n};\n\n// base function to register and handle on<before/after> setter listeners\n/*\n  when=before|after,\n  type=sync|async\n*/\nproto._onsetter = function (when, setter, listener, async) {\n  var priority = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n  var once = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n\n  var listenerKey = void 0;\n  // check if setter function is register.\n  if (typeof this.settersListeners[when][setter] !== \"undefined\") {\n    // set unique listenerKey value\n    listenerKey = '' + (Math.floor(Math.random() * 1000000) + Date.now());\n    // add info object to setters listeners\n    this.settersListeners[when][setter].push({\n      key: listenerKey,\n      fnc: listener,\n      async: async,\n      priority: priority,\n      once: once\n    });\n    // set lineners base on priority\n    this.settersListeners[when][setter] = _.sortBy(this.settersListeners[when][setter], function (setterListener) {\n      return setterListener.priority;\n    });\n  }\n  // return key\n  return listenerKey; // in case of no setter register return undefined listerKey\n};\n\nproto._setupListenersChain = function (setters) {\n  var _this = this;\n\n  // initialize all methods inside object \"setters\" of child class.\n  this.settersListeners = {\n    after: {},\n    before: {}\n  };\n\n  var _loop = function _loop(setter) {\n    var setterOption = setters[setter];\n    var setterFnc = noop;\n    var setterFallback = noop;\n    if (_.isFunction(setterOption)) setterFnc = setterOption;else {\n      setterFnc = setterOption.fnc;\n      setterFallback = setterOption.fallback || noop; // method called in case of error\n    }\n    // create array to push before and after subscribers\n    _this.settersListeners.after[setter] = [];\n    _this.settersListeners.before[setter] = [];\n    // assign the property settern name to the object as own method\n    _this[setter] = function () {\n      var _this2 = this;\n\n      for (var _len = arguments.length, args = Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      var deferred = $.Deferred();\n      var returnVal = null;\n      var counter = 0;\n      // function to call original function(setter function)\n      var callSetter = function callSetter() {\n        // run setter function\n        returnVal = setterFnc.apply(_this2, args);\n        // resolve promise\n        deferred.resolve(returnVal);\n        //call all subscribed methods afet setter\n        var onceListenerKeys = [];\n        var afterListeners = _this2.settersListeners.after[setter];\n        afterListeners.forEach(function (listener) {\n          listener.fnc.apply(_this2, args);\n          listener.once && onceListenerKeys.push(listener.key);\n        });\n        onceListenerKeys.forEach(function (key) {\n          return _this2.un(setter, key);\n        });\n      };\n      //  abort function\n      var abort = function abort() {\n        setterFallback.apply(_this2, args);\n        deferred.reject();\n      };\n      // get all before listeners functions of setter\n      var beforeListeners = this.settersListeners['before'][setter];\n      // listener counter\n      counter = 0;\n      var next = function next(bool) {\n        // initilize cont to true (continue)\n        var cont = true;\n        // check if bool is Boolean\n        if (_.isBoolean(bool)) cont = bool;\n        // check if count is false or we are arrived to the end of onbefore subscriber\n        if (cont === false) {\n          // found an error so we can abort\n          abort.apply(_this2, args);\n        } else if (counter === beforeListeners.length) {\n          // call complete method methods\n          var completed = callSetter();\n          //verifico che cosa ritorna\n          if (completed === undefined || completed === true) {\n            _this2.emitEvent('set:' + setter, args);\n          }\n        } else if (cont) {\n          var listenerObj = beforeListeners[counter];\n          var currentCounter = counter;\n          // if is async functtion\n          if (beforeListeners[counter].async) {\n            //add function next to argument of listnerFunction\n            args.push(next);\n            // update counter\n            counter += 1;\n            listenerObj.fnc.apply(_this2, args);\n          } else {\n            // return or undefine or a boolen to tell if ok(true) can conitnue or not (false)\n            var _bool = listenerObj.fnc.apply(_this2, args);\n            //update counter\n            counter += 1;\n            next(_bool);\n          }\n          listenerObj.once && beforeListeners.splice(currentCounter, 1);\n        }\n      };\n      // run next to start to run all the subscribers and setrer its self\n      next();\n      // retun a promise\n      return deferred.promise();\n    };\n  };\n\n  for (var setter in setters) {\n    _loop(setter);\n  }\n  return this.settersListeners;\n};\n\nproto._setupDebounces = function (debounces) {\n  for (var name in debounces) {\n    var delay = debounces[name].delay;\n    var fnc = debounces[name].fnc;\n    this[name] = debounce(fnc, delay);\n  }\n};\n\nproto._setupThrottles = function (throttles) {\n  for (var name in throttles) {\n    var delay = throttles[name].delay;\n    var fnc = throttles[name].fnc;\n    this[name] = throttle(fnc, delay);\n  }\n};\n\n//method get\nproto.get = function (key) {\n  return this[key] && !(this[key] instanceof Function) ? this[key] : null;\n};\n\n//method set\nproto.set = function (key, value) {\n  this[key] = value;\n};\n\nmodule.exports = G3WObject;\n\n},{\"core/utils/utils\":68}],14:[function(require,module,exports){\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// main object content for i18n\nvar plugins18nConfig = {};\n\nfunction init(config) {\n  config.appLanguages.forEach(function (language) {\n    plugins18nConfig[language] = {\n      plugins: {}\n    };\n  });\n  i18next.use(i18nextXHRBackend).init({\n    lng: config.language,\n    ns: 'app',\n    fallbackLng: 'en',\n    resources: config.resources\n  });\n  return new Promise(function (resolve, reject) {\n    jqueryI18next.init(i18next, $, {\n      tName: 't', // --> appends $.t = i18next.t\n      i18nName: 'i18n', // --> appends $.i18n = i18next\n      handleName: 'localize', // --> appends $(selector).localize(opts);\n      selectorAttr: 'data-i18n', // selector for translating elements\n      targetAttr: 'data-i18n-target', // element attribute to grab target element to translate (if diffrent then itself)\n      optionsAttr: 'data-i18n-options', // element attribute that contains options, will load/set if useOptionsAttr = true\n      useOptionsAttr: false, // see optionsAttr\n      parseDefaultValueFromContent: true // parses default values from content ele.val or ele.text\n    });\n    addI18n(plugins18nConfig);\n    resolve();\n  });\n}\nvar getAppLanguage = function getAppLanguage() {\n  var config = _application2.default.getConfig();\n  return config.user.i18n || \"en\";\n};\n\n// function to translate\nvar t = function t(text) {\n  return i18next.t(text);\n};\n\n// function to translate plugins\nvar tPlugin = function tPlugin(text) {\n  return i18next.t('plugins.' + text);\n};\n\nvar tPrefix = function tPrefix(filter) {\n  return function (text) {\n    return i18next.t(filter + '.' + text);\n  };\n};\n\nvar addI18nPlugin = function addI18nPlugin(_ref) {\n  var name = _ref.name,\n      config = _ref.config;\n\n  for (var language in config) {\n    var pluginLanguage = plugins18nConfig[language];\n    if (pluginLanguage) pluginLanguage.plugins[name] = config[language];\n  }\n  addI18n(plugins18nConfig);\n};\n\nvar addI18n = function addI18n(i18nObject) {\n  for (var language in i18nObject) {\n    var languageObj = i18nObject[language];\n    for (var key in languageObj) {\n      i18next.addResource(language, 'translation', key, languageObj[key]);\n    }\n  }\n};\n\nvar changeLanguage = function changeLanguage(language) {\n  i18next.changeLanguage(language);\n};\n\nmodule.exports = {\n  init: init,\n  t: t,\n  tPlugin: tPlugin,\n  tPrefix: tPrefix,\n  addI18n: addI18n,\n  addI18nPlugin: addI18nPlugin,\n  changeLanguage: changeLanguage,\n  getAppLanguage: getAppLanguage\n};\n\n},{\"services/application\":346}],15:[function(require,module,exports){\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @FIXME: application is broken using like the following line\n */\n// import { IframePluginService } from 'services';\n\nmodule.exports = _iframePlugin2.default; /**\n                                          * DEPRECATED: this file will be removed after v3.4 (use \"services/iframe-router.js\" instead)\n                                          */\n\n},{\"services/iframe-plugin\":359}],16:[function(require,module,exports){\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    createFilterFormField = _require.createFilterFormField;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction BaseIframeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this.ready = false;\n  this.init = function () {\n    //overwrite each service\n  };\n}\n\ninherit(BaseIframeService, G3WObject);\n\nvar proto = BaseIframeService.prototype;\n\n/**\n * Common mapService attribute\n */\nproto.mapService = _gui2.default.getComponent('map').getService();\n\n/**\n * Common current project attribute\n */\nproto.project = _projects2.default.getCurrentProject();\n\n/**\n *\n * @type {null}\n */\nproto.layers = undefined;\n\n/**\n * Return a qgs_layer_id array based on passed qgis_layer_id\n * @param qgs_layer_id : String , Array of Strings or null/undefined)\n * @returns Array oa qgs_layer_id strings\n * @private\n */\nproto.getQgsLayerId = function (_ref) {\n  var qgs_layer_id = _ref.qgs_layer_id,\n      _ref$noValue = _ref.noValue,\n      noValue = _ref$noValue === undefined ? this.layers.map(function (layer) {\n    return layer.id;\n  }) : _ref$noValue;\n\n  return qgs_layer_id ? Array.isArray(qgs_layer_id) ? qgs_layer_id : [qgs_layer_id] : noValue;\n};\n\n/**\n * Method to getFeature from DataProvider\n * @private\n */\nproto.searchFeature = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2) {\n    var layer = _ref2.layer,\n        feature = _ref2.feature;\n\n    var search_endpoint, field, value, _ref4, _ref4$data, data;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            search_endpoint = this.project.getSearchEndPoint();\n            field = feature.field, value = feature.value;\n            _context.next = 4;\n            return _data2.default.getData('search:features', {\n              inputs: {\n                layer: layer,\n                search_endpoint: search_endpoint,\n                filter: createFilterFormField({\n                  layer: layer,\n                  search_endpoint: search_endpoint,\n                  field: field,\n                  value: value\n                })\n              },\n              outputs: false\n            });\n\n          case 4:\n            _ref4 = _context.sent;\n            _ref4$data = _ref4.data;\n            data = _ref4$data === undefined ? [] : _ref4$data;\n            return _context.abrupt('return', data);\n\n          case 8:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\n/**\n * Comme method to search feature/s by field and value\n * @param qgs_layer_id\n * @param feature\n * @param zoom\n * @param highlight\n * @returns {Promise<{qgs_layer_id: null, features: [], found: boolean}>}\n */\nproto.findFeaturesWithGeometry = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$qgs_layer_id = _ref6.qgs_layer_id,\n      qgs_layer_id = _ref6$qgs_layer_id === undefined ? [] : _ref6$qgs_layer_id,\n      feature = _ref6.feature,\n      _ref6$zoom = _ref6.zoom,\n      zoom = _ref6$zoom === undefined ? false : _ref6$zoom,\n      _ref6$highlight = _ref6.highlight,\n      highlight = _ref6$highlight === undefined ? false : _ref6$highlight;\n\n  var response, layersCount, i, layer, data, features;\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          response = {\n            found: false,\n            features: [],\n            qgs_layer_id: null\n          };\n          layersCount = qgs_layer_id.length;\n          i = 0;\n\n        case 3:\n          if (!(!response.found && i < layersCount)) {\n            _context2.next = 20;\n            break;\n          }\n\n          layer = this.project.getLayerById(qgs_layer_id[i]);\n          _context2.prev = 5;\n          _context2.t0 = layer;\n\n          if (!_context2.t0) {\n            _context2.next = 11;\n            break;\n          }\n\n          _context2.next = 10;\n          return this.searchFeature({\n            layer: layer,\n            feature: feature\n          });\n\n        case 10:\n          _context2.t0 = _context2.sent;\n\n        case 11:\n          data = _context2.t0;\n\n          if (data.length) {\n            features = data[0].features;\n\n            response.found = features.length > 0 && !!features.find(function (feature) {\n              return feature.getGeometry();\n            });\n            if (response.found) {\n              response.features = features;\n              response.qgs_layer_id = qgs_layer_id[i];\n              zoom && this.mapService.zoomToFeatures(features, {\n                highlight: highlight\n              });\n            } else i++;\n          } else i++;\n          _context2.next = 18;\n          break;\n\n        case 15:\n          _context2.prev = 15;\n          _context2.t1 = _context2['catch'](5);\n          i++;\n\n        case 18:\n          _context2.next = 3;\n          break;\n\n        case 20:\n          // in case of no response zoom too initial extent\n          !response.found && this.mapService.zoomToProjectInitExtent();\n\n          return _context2.abrupt('return', response);\n\n        case 22:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this, [[5, 15]]);\n}));\n\n/**\n * Set layer function\n * @param layers\n */\nproto.setLayers = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  proto.layers = layers;\n};\n\nproto.getLayers = function () {\n  return proto.layers;\n};\n\n/**\n * Method to set ready the service\n * @param bool\n */\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.ready = bool;\n};\n\nproto.getReady = function () {\n  return this.ready;\n};\n\n/**\n * Method overwrite single service: Usefult to sto eventually running action\n * * @returns {Promise<void>}\n */\nproto.stop = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this);\n}));\n\n/**\n * Overwrite each single service\n */\nproto.clear = function () {\n  //overwrite single service\n};\n\nmodule.exports = BaseIframeService;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"services/data\":353,\"services/gui\":356,\"store/projects\":374}],17:[function(require,module,exports){\nvar _iframeApp = require('services/iframe-app');\n\nvar _iframeApp2 = _interopRequireDefault(_iframeApp);\n\nvar _iframeEditing = require('services/iframe-editing');\n\nvar _iframeEditing2 = _interopRequireDefault(_iframeEditing);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n  app: _iframeApp2.default,\n  editing: _iframeEditing2.default\n};\n\n},{\"services/iframe-app\":357,\"services/iframe-editing\":358}],18:[function(require,module,exports){\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseService = require('core/iframe/services/baseservice');\n\nfunction BasePluginService() {\n  base(this);\n  // common attributes between plugin service\n  this.pluginName;\n  this.dependencyApi = {};\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$layers = _ref2.layers,\n        layers = _ref2$layers === undefined ? {} : _ref2$layers;\n\n    var plugin;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            this.layers = layers;\n            // check if the plugin in in configuration\n            if (_plugins2.default.isPluginInConfiguration(this.pluginName)) {\n              plugin = _plugins2.default.getPlugin(this.pluginName);\n\n              if (plugin) {\n                this.setDependencyApi(plugin.getApi());\n                this.setReady(true);\n              } else {\n                _plugins2.default.onafter('registerPlugin', function () {\n                  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(plugin) {\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.next = 2;\n                            return plugin.isReady();\n\n                          case 2:\n                            if (plugin.getName() === _this.pluginName) {\n                              _this.setDependencyApi(plugin.getApi());\n                              _this.setReady(true);\n                            }\n\n                          case 3:\n                          case 'end':\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee, _this);\n                  }));\n\n                  return function (_x2) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }());\n              }\n            }\n\n          case 2:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  this.clear = function () {\n    //TO OVERWRITE\n  };\n}\n\ninherit(BasePluginService, BaseService);\n\nvar proto = BasePluginService.prototype;\n\nproto.setDependencyApi = function () {\n  var api = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.dependencyApi = api;\n};\n\nproto.getDependecyApi = function () {\n  return this.dependencyApi;\n};\n\nmodule.exports = BasePluginService;\n\n},{\"core/iframe/services/baseservice\":16,\"core/utils/utils\":68,\"store/plugins\":373}],19:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction ARCGISMAPSERVERLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(ARCGISMAPSERVERLayer, BaseLayer);\n\nvar proto = ARCGISMAPSERVERLayer.prototype;\n\nproto._makeOlLayer = function () {\n  // here configuration to create TMS\n  var _config = this.config,\n      url = _config.url,\n      attributions = _config.attributions,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.TMS.get({\n    url: url,\n    source_type: 'arcgismapserver',\n    projection: projection,\n    attributions: attributions\n  });\n  return olLayer;\n};\n\nmodule.exports = ARCGISMAPSERVERLayer;\n\n},{\"core/layers/baselayers/baselayer\":20,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":106}],20:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Projections = require('g3w-ol/projection/projections');\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar ImageLayer = require('core/layers/imagelayer');\n\nfunction BaseLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n  if (this.isWMS()) {\n    var _config = {\n      url: this.getWmsUrl(),\n      id: this.state.id,\n      tiled: this.state.tiled\n    };\n    this._mapLayer = new WMSLayer(_config);\n    this._mapLayer.addLayer(this);\n  } else this._mapLayer = this;\n}\n\ninherit(BaseLayer, ImageLayer);\n\nvar proto = BaseLayer.prototype;\n\nproto.getProjectionFromCrs = function () {\n  var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  crs.epsg = crs.epsg ? crs.epsg : \"EPSG:3857\";\n  return Projections.get(crs);\n};\n\nproto._makeOlLayer = function () {\n  //TO OVERWRITE\n};\n\nproto._registerLoadingEvent = function () {\n  var _this = this;\n\n  this._olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  this._olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.update = function (mapState, extraParams) {\n  this._updateLayer(mapState, extraParams);\n};\n\nproto.getOLLayer = function () {\n  var olLayer = this._olLayer;\n  if (!olLayer) {\n    olLayer = this._olLayer = this._makeOlLayer();\n    this._registerLoadingEvent();\n    if (this._mapLayer.config.attributions) {\n      this._olLayer.getSource().setAttributions(this._mapLayer.config.attributions);\n    }\n    olLayer.setVisible(this._mapLayer.state.visible);\n  }\n  return olLayer;\n};\n\nproto._updateLayer = function (mapState, extraParams) {\n  if (this.isWMS()) {\n    this._mapLayer.update(mapState, extraParams);\n  }\n};\n\nproto.setVisible = function (bool) {\n  this.getOLLayer().setVisible(bool);\n};\n\nproto.getMapLayer = function () {\n  return this._mapLayer;\n};\n\nmodule.exports = BaseLayer;\n\n},{\"core/layers/imagelayer\":34,\"core/layers/map/wmslayer\":46,\"core/utils/utils\":68,\"g3w-ol/projection/projections\":110}],21:[function(require,module,exports){\nvar BaseLayers = {\n  'OSM': require('./osmlayer'),\n  'Bing': require('./binglayer'),\n  'TMS': require('./tmslayer'),\n  'ARCGISMAPSERVER': require('./arcgislayer'),\n  'WMTS': require('./wmtslayer'),\n  'WMS': require('./wmslayer')\n};\n\nmodule.exports = BaseLayers;\n\n},{\"./arcgislayer\":19,\"./binglayer\":22,\"./osmlayer\":23,\"./tmslayer\":24,\"./wmslayer\":25,\"./wmtslayer\":26}],22:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction BingLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n}\n\ninherit(BingLayer, BaseLayer);\n\nvar proto = BingLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var olLayer = void 0;\n  var key = _applicationState2.default.keys.vendorkeys.bing;\n  var subtype = this.config.source ? this.config.source.subtype : null;\n  switch (subtype) {\n    case 'streets':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Road',\n        key: key\n      });\n      break;\n    case 'aerial':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Aerial',\n        key: key\n      });\n      break;\n    case 'aerialwithlabels':\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'AerialWithLabels',\n        key: key\n      });\n      break;\n    default:\n      olLayer = BasesLayers.BING.get({\n        imagerySet: 'Aerial',\n        key: key\n      });\n  }\n  return olLayer;\n};\n\nmodule.exports = BingLayer;\n\n},{\"core/layers/baselayers/baselayer\":20,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":106,\"store/application-state\":368}],23:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction OSMLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, config, options);\n}\n\ninherit(OSMLayer, BaseLayer);\n\nvar proto = OSMLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var olLayer = BasesLayers.OSM.get({\n    id: this.config.name,\n    title: this.config.title,\n    url: this.config.url\n  });\n  return olLayer;\n};\n\nmodule.exports = OSMLayer;\n\n},{\"core/layers/baselayers/baselayer\":20,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":106}],24:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction TMSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(TMSLayer, BaseLayer);\n\nvar proto = TMSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  // here configuration to create TMS\n  var _config = this.config,\n      url = _config.url,\n      attributions = _config.attributions,\n      minZoom = _config.minZoom,\n      maxZoom = _config.maxZoom,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.TMS.get({\n    url: url,\n    minZoom: minZoom,\n    maxZoom: maxZoom,\n    attributions: attributions,\n    projection: projection\n  });\n  return olLayer;\n};\n\nmodule.exports = TMSLayer;\n\n},{\"core/layers/baselayers/baselayer\":20,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":106}],25:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction WMSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(WMSLayer, BaseLayer);\n\nvar proto = WMSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  //use this config to get params\n  var _config = this.config,\n      url = _config.url,\n      layers = _config.layers,\n      singleTile = _config.singleTile,\n      attributions = _config.attributions,\n      crs = _config.crs,\n      opacity = _config.opacity;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.WMS.get({\n    url: url,\n    layers: layers,\n    singleTile: singleTile,\n    attributions: attributions,\n    projection: projection,\n    opacity: opacity\n  });\n  return olLayer;\n};\n\nmodule.exports = WMSLayer;\n\n},{\"core/layers/baselayers/baselayer\":20,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":106}],26:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseLayer = require('core/layers/baselayers/baselayer');\nvar BasesLayers = require('g3w-ol/layers/bases');\n\nfunction WMTSLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  base(this, config, options);\n}\n\ninherit(WMTSLayer, BaseLayer);\n\nvar proto = WMTSLayer.prototype;\n\nproto._makeOlLayer = function () {\n  //use this config to get params\n  var _config = this.config,\n      url = _config.url,\n      layer = _config.layer,\n      attributions = _config.attributions,\n      matrixSet = _config.matrixSet,\n      format = _config.format,\n      style = _config.style,\n      requestEncoding = _config.requestEncoding,\n      crs = _config.crs;\n\n  var projection = this.getProjectionFromCrs(crs);\n  var olLayer = BasesLayers.WMTS.get({\n    url: url,\n    layer: layer,\n    attributions: attributions,\n    format: format,\n    projection: projection,\n    requestEncoding: requestEncoding,\n    matrixSet: matrixSet,\n    style: style\n  });\n  return olLayer;\n};\n\nmodule.exports = WMTSLayer;\n\n},{\"core/layers/baselayers/baselayer\":20,\"core/utils/utils\":68,\"g3w-ol/layers/bases\":106}],27:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nvar geometryFields = _constant2.default.GEOMETRY_FIELDS;\n\nvar Feature = function Feature() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  ol.Feature.call(this);\n  this._uid = uniqueId();\n  this._newPrefix = '_new_';\n  this._geometry = false;\n  var feature = options.feature,\n      properties = options.properties;\n\n  if (feature) {\n    // check if has to set only some properties or all feature properties\n    if (properties && Array.isArray(properties)) properties.forEach(function (property) {\n      return _this.set(property, feature.get(property));\n    });else this.setProperties(feature.getProperties());\n    this.setId(feature.getId());\n    this.setGeometryName(feature.getGeometryName());\n    var geometry = feature.getGeometry();\n    this._geometry = !!geometry;\n    geometry && this.setGeometry(geometry);\n    var style = this.getStyle();\n    style && this.setStyle(style);\n  }\n  this.state = {\n    new: false,\n    state: null,\n    visible: true\n  };\n};\n\nol.inherits(Feature, ol.Feature);\n\nvar proto = Feature.prototype;\n\n//change constructor\nproto.constructor = 'Feature';\n\n/**\n * Return unique id\n * @returns {*}\n */\nproto.getUid = function () {\n  return this._uid;\n};\n\n/**\n * set new uid\n * @param uid\n * @private\n */\nproto._setUid = function (uid) {\n  this._uid = uid;\n};\n\nproto.isGeometry = function () {\n  return this._geometry;\n};\n\nproto.cloneNew = function () {\n  var clone = this.clone();\n  var uid = uniqueId();\n  clone._setUid(uid);\n  clone.setTemporaryId();\n  return clone;\n};\n\n/**\n * clone existing feature\n * @returns {Feature}\n */\nproto.clone = function () {\n  var feature = ol.Feature.prototype.clone.call(this);\n  feature.setId(this.getId());\n  this.isGeometry() && feature.setGeometry(feature.getGeometry().clone());\n  var clone = new Feature({\n    feature: feature\n  });\n  var uid = this.getUid();\n  clone._setUid(uid);\n  clone.setState(this.getState());\n  this.isNew() && clone.setNew();\n  return clone;\n};\n\nproto.setTemporaryId = function () {\n  var newValue = '' + this._newPrefix + uniqueId();\n  this.setId(newValue);\n  this.setNew();\n};\n\nproto.setNew = function () {\n  this.state.new = true;\n};\n\nproto.delete = function () {\n  this.state.state = 'delete';\n  return this;\n};\n\nproto.update = function () {\n  this.state.state = 'update';\n  return this;\n};\n\nproto.add = function () {\n  this.state.state = 'add';\n  return this;\n};\n\nproto.isNew = function () {\n  return this.state.new;\n};\n\nproto.isAdded = function () {\n  return this.state.state === 'add';\n};\n\nproto.isUpdated = function () {\n  return this.state.state === 'update';\n};\n\nproto.isDeleted = function () {\n  return this.state.state === 'delete';\n};\n\nproto.setFullState = function (state) {\n  this.state = state;\n};\n\nproto.getFullState = function () {\n  return this.state;\n};\n\nproto.setState = function (state) {\n  this.state.state = state;\n};\n\nproto.getState = function () {\n  return this.state.state;\n};\n\nproto.getAlphanumericProperties = function () {\n  var properties = this.getProperties();\n  var alphanumericproperties = {};\n  for (var name in properties) {\n    if (geometryFields.indexOf(name) === -1) alphanumericproperties[name] = properties[name];\n  }\n  return alphanumericproperties;\n};\n\n//clean state of the features\nproto.clearState = function () {\n  this.state.state = null;\n  this.state.new = false;\n};\n\n/**\n * need to filter features visiblity on table\n * @returns {boolean}\n */\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.setVisible = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.visible = bool;\n};\n\nmodule.exports = Feature;\n\n},{\"app/constant\":5,\"core/utils/utils\":68}],28:[function(require,module,exports){\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// Object to store and handle features of layer\nfunction FeaturesStore() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._features = options.features || [];\n  this._provider = options.provider || null;\n  this._loadedIds = []; // store locked ids\n  this._lockIds = []; // store locked features\n  this.hasFeatureLockByOtherUser = false; // property tath i set to true if some feature are locked by other user\n  this.setters = {\n    addFeatures: function addFeatures(features) {\n      var _this = this;\n\n      features.forEach(function (feature) {\n        _this._addFeature(feature);\n      });\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    removeFeature: function removeFeature(feature) {\n      this._removeFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    clear: function clear() {\n      this._clearFeatures();\n    },\n    getFeatures: function getFeatures() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return this._getFeatures(options);\n    },\n    commit: function commit(commitItems, featurestore) {\n      return this._commit(commitItems, featurestore);\n    },\n\n    /**\n     * setter to know when some feature are locked\n     */\n    featuresLockedByOtherUser: function featuresLockedByOtherUser() {\n      //set to true\n      this.hasFeatureLockByOtherUser = true;\n    }\n  };\n\n  base(this);\n}\n\ninherit(FeaturesStore, G3WObject);\n\nvar proto = FeaturesStore.prototype;\n\nproto.clone = function () {\n  return _.cloneDeep(this);\n};\n\nproto.setProvider = function (provider) {\n  this._provider = provider;\n};\n\nproto.getProvider = function () {\n  return this._provider;\n};\n\n// method unlock features\nproto.unlock = function () {\n  var _this2 = this;\n\n  var d = $.Deferred();\n  this._provider.unlock().then(function (response) {\n    // set to false when featuresstore is unlocked\n    _this2.hasFeatureLockByOtherUser = false;\n    d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// method get all features from server or attribute _features\nproto._getFeatures = function () {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  if (this._provider) {\n    this._provider.getFeatures(options).then(function (options) {\n      var features = _this3._filterFeaturesResponse(options);\n      _this3.addFeatures(features);\n      d.resolve(features);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else d.resolve(this._readFeatures());\n  return d.promise();\n};\n\n//filter features to add\nproto._filterFeaturesResponse = function () {\n  var _this4 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  /**\n   * get features returned from server and feature that are current locked.\n   * If featurelocks are less that a features, it means that other user is editing these feature\n   * @type {*[]}\n   */\n  var _options$features = options.features,\n      features = _options$features === undefined ? [] : _options$features,\n      _options$featurelocks = options.featurelocks,\n      featurelocks = _options$featurelocks === undefined ? [] : _options$featurelocks,\n      count = options.count;\n\n  var featuresToAdd = features.filter(function (feature) {\n    var featureId = feature.getId();\n    var added = _this4._loadedIds.indexOf(featureId) !== -1;\n    if (!added) _this4._loadedIds.push(featureId);\n    return !added;\n  });\n  this._filterLockIds(featurelocks);\n  if (features.length < count && !this.hasFeatureLockByOtherUser) this.featuresLockedByOtherUser();\n  return featuresToAdd;\n};\n\n// method get features locked\nproto._filterLockIds = function (featurelocks) {\n  var _lockIds = this._lockIds.map(function (lockid) {\n    return lockid.featureid;\n  });\n  var toAddLockId = featurelocks.filter(function (featurelock) {\n    return _lockIds.indexOf(featurelock.featureid) === -1;\n  });\n  this._lockIds = [].concat(_toConsumableArray(this._lockIds), _toConsumableArray(toAddLockId));\n};\n\nproto.addLoadedIds = function (id) {\n  this._loadedIds.push(id);\n};\n\nproto.getLockIds = function () {\n  return this._lockIds;\n};\n\n//method to add new lockid\nproto.addLockIds = function (lockIds) {\n  var _this5 = this;\n\n  this._lockIds = _.union(this._lockIds, lockIds);\n  this._lockIds.forEach(function (lockId) {\n    return _this5._loadedIds.push(lockId.featureid);\n  });\n};\n\nproto._readFeatures = function () {\n  return this._features;\n};\n\nproto._commit = function (commitItems) {\n  var d = $.Deferred();\n  if (commitItems && this._provider) {\n    commitItems.lockids = this._lockIds;\n    this._provider.commit(commitItems).then(function (response) {\n      return d.resolve(response);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  } else d.reject();\n  return d.promise();\n};\n\n// get feature from id\nproto.getFeatureById = function (featureId) {\n  return this._features.find(function (feature) {\n    return feature.getId() == featureId;\n  });\n};\n\nproto.getFeatureByUid = function (uid) {\n  return this._features.find(function (feature) {\n    return feature.getUid() === uid;\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._features.push(feature);\n};\n\n//substitute feature after update\nproto._updateFeature = function (feature) {\n  var _this6 = this;\n\n  this._features.find(function (feat, idx) {\n    if (feat.getUid() === feature.getUid()) {\n      _this6._features[idx] = feature;\n      return true;\n    }\n  });\n};\n\nproto.setFeatures = function (features) {\n  this._features = features;\n};\n\nproto._removeFeature = function (feature) {\n  this._features = this._features.filter(function (feat) {\n    return feature.getUid() !== feat.getUid();\n  });\n};\n\nproto._clearFeatures = function () {\n  this._features = null;\n  this._features = [];\n  this._lockIds = [];\n  this._loadedIds = [];\n};\n\nproto.getDataProvider = function () {\n  return this._provider;\n};\n\n// only read downloaded features\nproto.readFeatures = function () {\n  return this._features;\n};\n\nmodule.exports = FeaturesStore;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],29:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar FeaturesStore = require('core/layers/features/featuresstore');\n\n// Storage of the feature in vector layer\nfunction OlFeaturesStore() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._features = options.features || new ol.Collection([]);\n}\n\ninherit(OlFeaturesStore, FeaturesStore);\n\nvar proto = OlFeaturesStore.prototype;\n\nproto.getLength = function () {\n  return this._features.getLength();\n};\n\n//overwrite\nproto.setFeatures = function () {\n  var _this = this;\n\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features.forEach(function (feature) {\n    return _this._features.push(feature);\n  });\n};\n// overwrite\nproto.readFeatures = function () {\n  return this._features.getArray();\n};\n\nproto.getFeaturesCollection = function () {\n  return this._features;\n};\n\nproto.getFeatureById = function (featureId) {\n  return this._features.getArray().find(function (feature) {\n    return feature.getId() == featureId;\n  });\n};\n\nproto.getFeatureByUid = function (uid) {\n  return this._features.getArray().find(function (feature) {\n    return feature.getUid() === uid;\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._features.push(feature);\n  // useful for ol.source.Vector\n  this._features.dispatchEvent('change');\n};\n\n//sobtitute the feature after modify\nproto._updateFeature = function (feature) {\n  // set index at -1\n  var index = -1;\n  var featuresArray = this._features.getArray();\n  for (var i = 0; featuresArray.length; i++) {\n    var _feature = featuresArray[i];\n    if (_feature.getUid() === feature.getUid()) {\n      index = i;\n      break;\n    }\n  }\n  if (index >= 0) {\n    this._features.removeAt(index);\n    this._features.insertAt(index, feature);\n    this._features.dispatchEvent('change');\n  }\n};\n\n// remove feature from store\nproto._removeFeature = function (feature) {\n  var featuresArray = this._features.getArray();\n  for (var i = 0; i < featuresArray.length; i++) {\n    var feat = featuresArray[i];\n    if (feature.getUid() === feat.getUid()) {\n      this._features.removeAt(i);\n      break;\n    }\n  }\n  this._features.dispatchEvent('change');\n};\n\nproto._clearFeatures = function () {\n  try {\n    this._features.clear();\n  } catch (err) {}\n  this._features = null;\n  this._features = new ol.Collection([]);\n};\n\nmodule.exports = OlFeaturesStore;\n\n},{\"core/layers/features/featuresstore\":28,\"core/utils/utils\":68}],30:[function(require,module,exports){\nvar _constant = require('app/constant');\n\n//Expression\nfunction Expression() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._layerName = options.layerName;\n  var filter = options.filter;\n  this._expression = filter && filter || '';\n}\n\nvar proto = Expression.prototype;\n\nproto.and = function (field, value) {\n  this._expression = this._expression ? this._expression + ' AND ' : this._expression;\n  if (field && value) {\n    this.eq(field, value);\n  }\n  return this;\n};\n\nproto.or = function () {\n  if (field && value) {\n    this._expression = this._expression ? this._expression + ' OR ' : this._expression;\n    this.eq(field, value);\n  }\n  return this;\n};\n\nproto.eq = function (field, value) {\n  this._expression = this._expression + this._build('eq', field, value);\n  return this;\n};\n\nproto.like = function (field, value) {\n  this._expression = this._expression + this._build('LIKE', field, value);\n  return this;\n};\n\nproto.ilike = function (field, value) {\n  this._expression = this._expression + this._build('ILIKE', field, value);\n  return this;\n};\n\nproto.not = function (field, value) {\n  this._expression = this._expression + this._build('NOT', field, value);\n  return this;\n};\n\nproto.gt = function (field, value) {\n  this._expression = this._expression + this._build('gt', field, value);\n  return this;\n};\n\nproto.gte = function (field, value) {\n  this._expression = this._expression + this._build('gte', field, value);\n  return this;\n};\n\nproto.lt = function (field, value) {\n  this._expression = this._expression + this._build('lt', field, value);\n  return this;\n};\n\nproto.lte = function (field, value) {\n  this._expression = this._expression + this._build('lte', field, value);\n  return this;\n};\n\nproto.clear = function () {\n  this._expression = '';\n  return this;\n};\n\n// get expression method to get the realt value of the expression\nproto.get = function () {\n  return this._layerName ? this._layerName + ': ' + this._expression : this._expression;\n};\n\nproto._build = function (operator, field, value) {\n  return ['\"' + field + '\"', _constant.FILTER_EXPRESSION_OPERATORS[operator], '' + value].join(' ');\n};\n\nproto.createSingleExpressionElement = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      value = _ref.value,\n      attribute = _ref.attribute,\n      operator = _ref.operator,\n      logicop = _ref.logicop;\n\n  var filterElement = void 0;\n  var valueExtra = operator === 'LIKE' || operator === 'ILIKE' ? \"%\" : \"\";\n  var filterOp = _constant.FILTER_EXPRESSION_OPERATORS[operator];\n  var filterLogicOperator = logicop && ' ' + logicop + ' ' || '';\n  if (operator === 'IN') {\n    var _value = Array.isArray(value) ? value : [value];\n    var filterValue = '( ' + _value.map(function (value) {\n      return '\\'' + value + '\\'';\n    }).join(',').replace(/,/g, ' , ') + ' )';\n    filterElement = '\"' + attribute + '\" ' + filterOp + ' ' + filterValue + filterLogicOperator;\n  } else if (value !== null && value !== undefined && !(Number.isNaN(value) || !value.toString().trim())) {\n    var singolequote = typeof value !== 'number' ? value.split(\"'\") : [];\n    if (singolequote.length > 1) {\n      var _filterElements = [];\n      for (var i = 0; i < singolequote.length; i++) {\n        var _value2 = singolequote[i];\n        if (!_value2) continue;\n        var _filterOp = 'ILIKE';\n        var _filterValue = ('%' + _value2 + '%').trim();\n        var _filterElement = '\"' + attribute + '\" ' + _filterOp + ' \\'' + _filterValue + '\\'';\n        _filterElements.push(_filterElement);\n      }\n      filterElement = '' + _filterElements.join(' AND ') + filterLogicOperator;\n    } else filterElement = '\"' + attribute + '\" ' + filterOp + ' \\'' + valueExtra + value + valueExtra + '\\'' + filterLogicOperator;\n  }\n  return filterElement;\n};\n\nproto.createExpressionFromFilterObject = function () {\n  var _this = this;\n\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var filterElements = [];\n  var rootFilter = void 0;\n  for (var operator in filter) {\n    rootFilter = _constant.FILTER_EXPRESSION_OPERATORS[operator];\n    var inputs = filter[operator];\n    inputs.forEach(function (input) {\n      for (var _operator in input) {\n        var _value3 = input[_operator];\n        if (Array.isArray(_value3)) {\n          _this.createExpressionFromFilterObject(input);\n        } else {\n          var _field = input[_operator];\n          for (var attribute in _field) {\n            var _value4 = _field[attribute];\n            var fieldElement = _this.createSingleExpressionElement({\n              value: _value4,\n              operator: _operator,\n              attribute: attribute\n            });\n            filterElements.push(fieldElement);\n          }\n        }\n      }\n    });\n    rootFilter = filterElements.length > 0 ? filterElements.join(\" \" + rootFilter + \" \") : false;\n  }\n  return rootFilter;\n};\n\nproto.createExpressionFromField = function (_ref2) {\n  var layerName = _ref2.layerName,\n      field = _ref2.field,\n      value = _ref2.value,\n      _ref2$operator = _ref2.operator,\n      operator = _ref2$operator === undefined ? 'eq' : _ref2$operator;\n\n  var filter = this.createSingleExpressionElement({\n    attribute: field,\n    value: value,\n    operator: operator\n  });\n  this._expression = layerName + ':' + filter;\n  return this;\n};\n\nproto.createExpressionFromFilterArray = function () {\n  var _this2 = this;\n\n  var inputs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var filter = '';\n  // set logicop of last element to null\n  var inputsLength = inputs.length ? inputs.length - 1 : inputs.length;\n  inputs.forEach(function (input, index) {\n    var filterElement = _this2.createSingleExpressionElement(input);\n    filter = '' + filter + (input.logicop && index === inputsLength ? filterElement.substring(0, filterElement.length - (input.logicop.length + 1)) : filterElement);\n  });\n  return filter || undefined;\n};\n\nproto.createExpressionFromFilter = function (filter, layerName) {\n  var filterParam = Array.isArray(filter) ? this.createExpressionFromFilterArray(filter) : this.createExpressionFromFilterObject(filter);\n  if (filterParam) this._expression = layerName + ':' + filterParam;\n  return this;\n};\n\nmodule.exports = Expression;\n\n},{\"app/constant\":5}],31:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n// class Filter to build filter\n// useful by provider providers to get data\nfunction Filter() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._filter = null;\n  this._type = null;\n  this.config = config;\n}\n\nvar proto = Filter.prototype;\n\n/**\n * Config methods\n */\n\nproto.getConfig = function () {\n  return this.config;\n};\n\nproto.setConfig = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n};\n\nproto.mergeConfig = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = _extends({}, this.config, config);\n};\n\n/***\n *  end config methods\n */\n\nproto.getAll = function () {\n  this._type = Filter.TYPES.all;\n  this._filter = null;\n};\n\n// to create complex filter\nproto.setExpression = function (expression) {\n  this._type = Filter.TYPES.expression;\n  this._filter = expression;\n};\n\nproto.setGeometry = function (geometry) {\n  this._type = Filter.TYPES.geometry;\n  this._filter = geometry;\n  return this;\n};\n\nproto.setBBOX = function (bbox) {\n  this._type = Filter.TYPES.bbox;\n  this._filter = bbox;\n  return this;\n};\n\nproto.setFids = function (ids) {\n  this._type = Filter.TYPES.fids;\n  this._filter = ids;\n  return this;\n};\n\nproto.serialize = function () {\n  return JSON.stringify(this);\n};\n\n// get filter value\nproto.get = function () {\n  return this._filter;\n};\n\nproto.getType = function () {\n  return this._type;\n};\n\nproto.clear = function () {\n  this._filter = null;\n};\n\nFilter.TYPES = {\n  bbox: 'bbox',\n  geometry: 'geometry',\n  expression: 'expression',\n  fids: 'fids',\n  all: 'all'\n};\n\nmodule.exports = Filter;\n\n},{}],32:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar VectorLayer = require('core/layers/vectorlayer');\nvar GeojsonMapLayer = require('core/layers/map/geojson');\n\nfunction GeojsonLayer(config, options) {\n  base(this, config, options);\n  this.config.style = config.style;\n  this.setup(config);\n}\n\ninherit(GeojsonLayer, VectorLayer);\n\nvar proto = GeojsonLayer.prototype;\n\nproto.getMapLayer = function () {\n  if (this._mapLayer) return this._mapLayer;\n  var url = this.get('source').url;\n  var name = this.getName();\n  var id = this.getId();\n  var style = this.get('style');\n  var provider = this.getProvider('data');\n  var options = {\n    url: url,\n    projection: this.getProjection().getCode(),\n    id: id,\n    name: name,\n    style: style,\n    provider: provider\n  };\n  this._mapLayer = new GeojsonMapLayer(options);\n  return this._mapLayer;\n};\n\nmodule.exports = GeojsonLayer;\n\n},{\"core/layers/map/geojson\":43,\"core/layers/vectorlayer\":58,\"core/utils/utils\":68}],33:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nvar _require = require('core/utils/ol'),\n    getScaleFromResolution = _require.getScaleFromResolution;\n\nvar _require2 = require('core/utils/geo'),\n    createFeatureFromFeatureObject = _require2.createFeatureFromFeatureObject;\n\nvar _require3 = require('core/utils/utils'),\n    XHR = _require3.XHR,\n    sanitizeUrl = _require3.sanitizeUrl;\n\nvar RESERVERDPARAMETRS = {\n  wms: ['VERSION', 'REQUEST', 'BBOX', 'LAYERS', 'WIDTH', 'HEIGHT', 'DPI', 'FORMAT', 'CRS']\n};\n\nfunction GeoLayerMixin() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n}\n\nvar proto = GeoLayerMixin.prototype;\n\nproto.setup = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!this.config) {\n    console.log(\"GeoLayerMixin must be used from a valid (geo) Layer instance\");\n    return;\n  }\n  var project = options.project;\n\n  this.config.map_crs = project.getProjection().getCode();\n  this.config.multilayerid = config.multilayer;\n  this.legendCategories = {};\n  // Features that contain\n  this.olSelectionFeatures = {}; // key id / fid of feature and values is an object with feature and added\n  // state extend of layer setting geolayer property to true\n  // and adding information of bbox\n  _.extend(this.state, {\n    geolayer: config.geometrytype !== \"NoGeometry\",\n    legend: {\n      url: null,\n      loading: false,\n      error: false,\n      /**\n       * @deprecated since 3.8. Will be removed in 4.x. Use `expanded` attribute instead\n       */\n      show: true,\n      change: false // used for when categories changed (checkbox on TOC) and legend is on TAB\n    },\n    external: config.source && config.source.external || false,\n    bbox: config.bbox || null,\n    visible: config.visible || false,\n    checked: config.visible || false,\n    epsg: config.crs.epsg,\n    hidden: config.hidden || false,\n    scalebasedvisibility: config.scalebasedvisibility || false,\n    minscale: config.minscale,\n    maxscale: config.maxscale,\n    ows_method: config.ows_method,\n\n    /**\n     * @type {boolean}\n     */\n    exclude_from_legend: typeof config.exclude_from_legend == 'boolean' ? config.exclude_from_legend : true,\n\n    /**\n     * Has more than one categories legend\n     * \n     * @type {boolean}\n     */\n    categories: false,\n\n    /**\n     * Toggle legend item state (expandend or collapsed) in catalog layers (TOC)\n     * \n     * @type {number}\n     *\n     * @since v3.8\n     */\n    expanded: config.expanded,\n\n    /**\n     * Layer opacity\n     * \n     * @type {number} opacity range = [0, 100]\n     * \n     * @since v3.8\n     */\n    opacity: config.opacity || 100\n\n  });\n  if (config.projection) this.config.projection = config.projection.getCode() === config.crs.epsg ? config.projection : Projections.get(config.crs);\n  if (config.attributions) this.config.attributions = config.attributions;\n  config.source && config.source.url && this._sanitizeSourceUrl();\n};\n\n/**\n * Legend Graphic section\n */\nproto.getLegendGraphic = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$all = _ref.all,\n      all = _ref$all === undefined ? true : _ref$all;\n\n  var legendParams = _application2.default.getConfig().layout ? _application2.default.getConfig().layout.legend : {};\n  var legendurl = this.getLegendUrl(legendParams, {\n    categories: true,\n    all: all, // true meaning no bbox no filter just all referred to\n    format: 'application/json' // is the format to request categories (icon and label of each category)\n  });\n  return XHR.get({\n    url: legendurl\n  });\n};\n\n/**\n * Set layer categories legend\n * @param categories\n */\nproto.setCategories = function () {\n  var categories = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.legendCategories[this.getCurrentStyle().name] = categories;\n  //set categories state attribute to true only if exist at least a rule key\n  // meaning that layer has at least more than one has a\n  this.state.categories = categories.length > 1 && categories.filter(function (category) {\n    return category.ruleKey;\n  }).length > 1;\n};\n\n/**\n * Return eventually categories of layers legend\n * @returns {string[] | string | [] | *[] | boolean | {default: {level: *, appenders: string[]}}}\n */\nproto.getCategories = function () {\n  return this.legendCategories[this.getCurrentStyle().name];\n};\n\nproto.clearCategories = function () {\n  this.legendCategories = {};\n  this.state.categories = false;\n};\n\n/**\n * End Legend Graphic section\n */\n\n/**\n * Clear all selection openlayer features\n */\nproto.clearOlSelectionFeatures = function () {\n  this.olSelectionFeatures = null;\n};\n\n/**\n * Get openlayer selection feature by feature id\n * @param id\n * @returns {*}\n */\nproto.getOlSelectionFeature = function (id) {\n  return this.olSelectionFeatures[id];\n};\n\nproto.updateOlSelectionFeature = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      feature = _ref2.feature;\n\n  var featureObject = this.getOlSelectionFeature(id);\n  if (featureObject) {\n    featureObject.feature = feature;\n    var _mapService = _gui2.default.getService('map');\n    _mapService.setSelectionFeatures('update', {\n      feature: feature\n    });\n  }\n};\n\n/**\n * Delete openlayer feature selection by feature id\n * @param id\n */\nproto.deleteOlSelectionFeature = function (id) {\n  var featureObject = this.olSelectionFeatures[id];\n  if (featureObject) {\n    mapService.setSelectionFeatures('remove', {\n      feature: featureObject.feature\n    });\n    delete this.olSelectionFeatures[id];\n  }\n};\n\n/**\n * Get all openlyare feature selection\n * @returns {{}|null}\n */\nproto.getOlSelectionFeatures = function () {\n  return this.olSelectionFeatures;\n};\n\nproto.addOlSelectionFeature = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref3.id,\n      feature = _ref3.feature;\n\n  this.olSelectionFeatures[id] = this.olSelectionFeatures[id] || {\n    feature: createFeatureFromFeatureObject({ id: id, feature: feature }),\n    added: false\n  };\n  return this.olSelectionFeatures[id];\n};\n\nproto.showAllOlSelectionFeatures = function () {\n  var mapService = _gui2.default.getService('map');\n  Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n    !featureObject.added && mapService.setSelectionFeatures('add', {\n      feature: featureObject.feature\n    });\n    featureObject.added = true;\n  });\n};\n\nproto.setInversionOlSelectionFeatures = function () {\n  var mapService = _gui2.default.getComponent('map').getService();\n  Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n    mapService.setSelectionFeatures(featureObject.added ? 'remove' : 'add', {\n      feature: featureObject.feature\n    });\n    featureObject.added = !featureObject.added;\n  });\n};\n\nproto.setOlSelectionFeatureByFid = function (fid, action) {\n  var feature = this.olSelectionFeatures[fid] && this.olSelectionFeatures[fid].feature;\n  return feature && this.setOlSelectionFeatures({ id: fid, feature: feature }, action);\n};\n\nproto.setOlSelectionFeatures = function (feature) {\n  var action = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'add';\n\n  var mapService = _gui2.default.getComponent('map').getService();\n  if (!feature) {\n    Object.values(this.olSelectionFeatures).forEach(function (featureObject) {\n      featureObject.added && mapService.setSelectionFeatures('remove', {\n        feature: featureObject.feature\n      });\n      featureObject.added = false;\n    });\n  } else {\n    var featureObject = this.olSelectionFeatures[feature.id] || this.addOlSelectionFeature(feature);\n    if (action === 'add') {\n      if (!featureObject.added) {\n        /**\n         * add a property of feature __layerId used whe we work with selected Layer features\n         */\n        featureObject.feature.__layerId = this.getId();\n        mapService.setSelectionFeatures(action, {\n          feature: featureObject.feature\n        });\n        featureObject.added = true;\n      }\n    } else {\n      mapService.setSelectionFeatures(action, {\n        feature: featureObject.feature\n      });\n      featureObject.added = false;\n    }\n  }\n  return !Object.values(this.olSelectionFeatures).find(function (featureObject) {\n    return featureObject.added;\n  });\n};\n\n/**\n * Create a get parameter url right\n * @param type\n * @private\n */\nproto._sanitizeSourceUrl = function () {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n\n  var sanitizedUrl = sanitizeUrl({\n    url: this.config.source.url,\n    reserverParameters: RESERVERDPARAMETRS[type]\n  });\n  this.config.source.url = sanitizedUrl;\n};\n\nproto.isLayerCheckedAndAllParents = function () {\n  var checked = this.isChecked();\n  if (checked) {\n    var parentGroup = this.state.parentGroup;\n    while (checked && parentGroup) {\n      checked = checked && parentGroup.checked;\n      parentGroup = parentGroup.parentGroup;\n    }\n  }\n  return checked;\n};\n\nproto.setChecked = function (bool) {\n  this.state.checked = bool;\n};\n\nproto.isChecked = function () {\n  return this.state.checked;\n};\n\n/**\n * Is a method that check for visiblitity dissabled (based on scalevisibility) and checked on toc\n * @param bool\n * @returns {*}\n */\nproto.setVisible = function (bool) {\n  //check if is changed\n  var oldVisibile = this.state.visible;\n  this.state.visible = bool && this.isChecked(); // bool and is checked\n  var changed = oldVisibile !== this.state.visible;\n  //if changed call change\n  changed && this.change();\n  return this.state.visible;\n};\n\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.isDisabled = function () {\n  return this.state.disabled;\n};\n\nproto.isPrintable = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      scale = _ref4.scale;\n\n  return this.isLayerCheckedAndAllParents() && (!this.state.scalebasedvisibility || scale >= this.state.maxscale && scale <= this.state.minscale);\n};\n\n//get style form layer\nproto.getStyles = function () {\n  return this.config.source.external ? this.config.source.styles : this.config.styles;\n};\n\nproto.getStyle = function () {\n  return this.config.source.external ? this.config.source.styles : this.config.styles ? this.config.styles.find(function (style) {\n    return style.current;\n  }).name : '';\n};\n\n/**\n * Get transparency property\n * \n * @returns {number}\n * \n * @since v3.8\n */\n\nproto.getOpacity = function () {\n  return this.state.opacity;\n};\n\n/**\n * Method to change current style  of layer\n * @param currentStyleName\n * @returns {boolean}\n */\nproto.setCurrentStyle = function (currentStyleName) {\n  var changed = false;\n  this.config.styles.forEach(function (style) {\n    if (style.name === currentStyleName) changed = !style.current;\n    style.current = style.name === currentStyleName;\n  });\n  return changed;\n};\n\nproto.getCurrentStyle = function () {\n  return this.config.styles.find(function (style) {\n    return style.current;\n  });\n};\n\n/**\n * Disable layer by check scalevisibility configuration value\n * @param resolution\n * @param mapUnits\n */\nproto.setDisabled = function (resolution) {\n  var mapUnits = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'm';\n\n  if (this.state.scalebasedvisibility) {\n    var mapScale = getScaleFromResolution(resolution, mapUnits);\n    this.state.disabled = !(mapScale >= this.state.maxscale && mapScale <= this.state.minscale);\n    this.state.disabled = this.state.minscale === 0 ? !(mapScale >= this.state.maxscale) : this.state.disabled;\n    // needed to check if call setVisible if change disable property\n    // looping through parentfolter checked\n    var setVisible = true;\n    var parentGroup = this.state.parentGroup;\n    while (parentGroup) {\n      setVisible = setVisible && parentGroup.checked;\n      parentGroup = parentGroup.parentGroup;\n    }\n    setVisible && this.setVisible(!this.state.disabled);\n    // change toc highlight property based on disabled otr not\n    this.isFilterable() && this.setTocHighlightable(!this.state.disabled);\n  } else this.state.disabled = false;\n};\n\nproto.getMultiLayerId = function () {\n  return this.config.multilayerid;\n};\n\nproto.getGeometryType = function () {\n  return this.config.geometrytype;\n};\n\nproto.getOwsMethod = function () {\n  return this.config.ows_method;\n};\n\nproto.setProjection = function () {\n  var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config.projection = Projections.get(crs);\n};\n\nproto.getProjection = function () {\n  return this.config.projection;\n};\n\nproto.getEpsg = function () {\n  return this.config.crs.epsg;\n};\n\nproto.getCrs = function () {\n  return this.config.projection && this.config.projection.getCode() || null;\n};\n\nproto.getMapCrs = function () {\n  return this.config.map_crs;\n};\n\nproto.isCached = function () {\n  return this.config.cache_url && this.config.cache_url !== '';\n};\n\nproto.getCacheUrl = function () {\n  if (this.isCached()) return this.config.cache_url;\n};\n\n// return if layer has inverted axis\nproto.hasAxisInverted = function () {\n  var projection = this.getProjection();\n  var axisOrientation = projection.getAxisOrientation ? projection.getAxisOrientation() : \"enu\";\n  return axisOrientation.substr(0, 2) === 'ne';\n};\n\nproto.getMapLayer = function () {\n  console.log('overwrite by single layer');\n};\n\nproto.setMapProjection = function (mapProjection) {\n  this._mapProjection = mapProjection;\n};\n\nproto.getMapProjection = function () {\n  return this._mapProjection;\n};\n\nmodule.exports = GeoLayerMixin;\n\n},{\"core/utils/geo\":65,\"core/utils/ol\":66,\"core/utils/utils\":68,\"g3w-ol/projection/projections\":110,\"services/application\":346,\"services/gui\":356}],34:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    mixin = _require.mixin;\n\nvar Layer = require('core/layers/layer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar WMSTLayer = require('core/layers/map/wmstlayer');\nvar ARCGISMAPSERVERLayer = require('core/layers/map/arcgismapserverlayer');\nvar XYZLayer = require('core/layers/map/xyzlayer');\nvar LegendService = require('core/layers/legend/legendservice');\nvar GeoLayerMixin = require('core/layers/geolayermixin');\n\nfunction ImageLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  /*{\n    id,\n    title,\n    name,\n    origname,\n    multilayerid,\n    servertype,\n    source,\n    crs,\n    projection,\n    bbox,\n    capabilities,\n    cache_url,\n    baselayer,\n    geometrytype,\n    editops,\n    expanded,\n    fields,\n    wmsUrl,\n    infoformat,\n    infourl,\n    maxscale,\n    minscale,\n    visible,\n    scalebasedvisibility,\n    wfscapabilities\n    ows_method\n    wms_use_layer_ids,\n    styles\n  }*/\n  this.setters = {\n    change: function change() {}\n  };\n\n  base(this, config, options);\n  this.config.baselayer = config.baselayer || false;\n  this.type = Layer.LayerTypes.IMAGE;\n  this.legendUrl = null;\n  this.customParams = {};\n  this.setup(config, options);\n}\n\ninherit(ImageLayer, Layer);\n\nmixin(ImageLayer, GeoLayerMixin);\n\nvar proto = ImageLayer.prototype;\n\nproto.getLayerForEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$force = _ref2.force,\n      force = _ref2$force === undefined ? false : _ref2$force,\n      vectorurl = _ref2.vectorurl,\n      project_type = _ref2.project_type,\n      project = _ref2.project;\n\n  var _project, editableLayer, editingLayer;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!(this.isEditable() || force)) {\n            _context.next = 16;\n            break;\n          }\n\n          _project = _project || _projects2.default.getCurrentProject();\n          editableLayer = new VectorLayer(this.config, {\n            vectorurl: vectorurl,\n            project_type: project_type,\n            project: _project\n          });\n          // set editing layer\n\n          _context.prev = 3;\n          _context.next = 6;\n          return editableLayer.layerForEditing;\n\n        case 6:\n          editingLayer = _context.sent;\n\n          this.setEditingLayer(editingLayer);\n          return _context.abrupt('return', editingLayer);\n\n        case 11:\n          _context.prev = 11;\n          _context.t0 = _context['catch'](3);\n          return _context.abrupt('return', Promise.reject(_context.t0));\n\n        case 14:\n          _context.next = 17;\n          break;\n\n        case 16:\n          return _context.abrupt('return', null);\n\n        case 17:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[3, 11]]);\n}));\n\nproto.isBaseLayer = function () {\n  return this.config.baselayer;\n};\n\nproto.isWMS = function () {\n  return ImageLayer.WMSServerTypes.indexOf(this.config.servertype) > -1;\n};\n\nproto.isLayerProjectionASMapProjection = function () {\n  return this.config.crs.epsg === this.config.map_crs;\n};\n\nproto.getCrs = function () {\n  return this.config.crs.epsg;\n};\n\nproto.isExternalWMS = function () {\n  return !!(this.config.source && this.config.source.external && this.config.source.url);\n};\n\nproto.isArcgisMapserver = function () {\n  return this.isExternalWMS() && this.config.source.type === Layer.SourceTypes.ARCGISMAPSERVER;\n};\n\nproto._getBaseLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.getWMSLayerName = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'map' : _ref3$type;\n\n  var legendMapBoolean = type === 'map' ? this.isExternalWMS() && this.isLayerProjectionASMapProjection() : true;\n  var layerName = this._getBaseLayerName();\n  if (legendMapBoolean && this.config.source && (type === 'legend' || this.config.source.external) && (this.config.source.layers || this.config.source.layer)) {\n    layerName = this.config.source.layers || this.config.source.layer;\n  }\n  return layerName;\n};\n\n// values: map, legend\nproto.getWmsUrl = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$type = _ref4.type,\n      type = _ref4$type === undefined ? 'map' : _ref4$type;\n\n  var legendMapBoolean = type === 'map' ? this.isExternalWMS() && this.isLayerProjectionASMapProjection() : true;\n  var wmsUrl = legendMapBoolean && this.config.source && (type === 'legend' || this.config.source.external) && (this.config.source.type === 'wms' || this.config.source.type === 'wmst') && this.config.source.url ? this.config.source.url : this.config.wmsUrl;\n  return wmsUrl;\n};\n\nproto.getWFSLayerName = function () {\n  return this.getQueryLayerName().replace(/[/\\s]/g, '_');\n};\n\nproto.useProxy = function () {\n  return this.isExternalWMS() && this.isLayerProjectionASMapProjection() && this.getInfoFormats();\n};\n\nproto.getWMSInfoLayerName = function () {\n  if (this.isExternalWMS() && this.isLayerProjectionASMapProjection() && this.getInfoFormats()) {\n    return this.getSource().layers;\n  } else return this._getBaseLayerName();\n};\n\nproto.getPrintLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.getStringBBox = function () {\n  var bbox = this.config.bbox;\n  return bbox.minx + ',' + bbox.miny + ',' + bbox.maxx + ',' + bbox.maxy;\n};\n\nproto.isWfsActive = function () {\n  return Array.isArray(this.config.ows) && this.config.ows.find(function (ows_type) {\n    return ows_type === 'WFS';\n  }) !== undefined;\n};\n\n/**\n * Metyhod to get wms url of the layer\n * @returns {*}\n */\nproto.getFullWmsUrl = function () {\n  var metadata_wms_url = _projects2.default.getCurrentProject().getState().metadata.wms_url;\n  return this.isExternalWMS() || !metadata_wms_url ? this.getWmsUrl() : metadata_wms_url;\n};\n\n//used to Catalog layer menu to show wms url\nproto.getCatalogWmsUrl = function () {\n  var metadata_wms_url = _projects2.default.getCurrentProject().getMetadata().wms_url;\n  var catalogWmsUrl = this.isExternalWMS() || !metadata_wms_url ? this.getWmsUrl() + '?service=WMS&version=1.3.0&request=GetCapabilities' : metadata_wms_url;\n  return catalogWmsUrl;\n};\n\n//used to Catalog layer menu to show wfs url\nproto.getCatalogWfsUrl = function () {\n  return this.getWfsUrl() + '?service=WFS&version=1.1.0&request=GetCapabilities';\n};\n\nproto.getWfsUrl = function () {\n  return _projects2.default.getCurrentProject().getMetadata().wms_url || this.config.wmsUrl;\n};\n\n/**\n * Get query url based on type, external or same projection of map\n * @returns {string}\n */\nproto.getQueryUrl = function () {\n  var url = base(this, 'getQueryUrl');\n  if (this.getServerType() === Layer.ServerTypes.QGIS && this.isExternalWMS() && this.isLayerProjectionASMapProjection()) {\n    if (this.getInfoFormats()) url = this.getSource().url;else url = url + 'SOURCE=' + this.config.source.type;\n  }\n  return url;\n};\n\nproto.getIconUrlFromLegend = function () {\n  return this.getLegendUrl({\n    layertitle: false\n  });\n};\n\nproto.getLegendUrl = function () {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.legendUrl = LegendService.get({\n    layer: this,\n    params: _extends({}, params, this.customParams),\n    options: options\n  });\n  return this.legendUrl;\n};\n\nproto.setMapParamstoLegendUrl = function (_ref5) {\n  var bbox = _ref5.bbox,\n      crs = _ref5.crs;\n\n  this.customParams = _extends({}, this.customParams, {\n    bbox: bbox,\n    crs: crs\n  });\n};\n\nproto.getWfsCapabilities = function () {\n  return this.config.wfscapabilities || this.config.capabilities === 1;\n};\n\nproto.getMapLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments[1];\n\n  var iframe_internal = _application2.default.isIframe() && !this.isExternalWMS();\n  options.iframe_internal = iframe_internal;\n  var mapLayer = void 0;\n  var method = this.isExternalWMS() ? 'GET' : this.getOwsMethod();\n  if (this.isCached()) {\n    options.extent = this.config.bbox ? [this.config.bbox.minx, this.config.bbox.miny, this.config.bbox.maxx, this.config.bbox.maxy] : null;\n    mapLayer = new XYZLayer(options, method);\n  } else {\n    if (this.isExternalWMS() && this.config.source && this.config.source.type === Layer.SourceTypes.ARCGISMAPSERVER) {\n      options = _extends({}, options, this.config.source);\n      mapLayer = new ARCGISMAPSERVERLayer(options, extraParams);\n    } else {\n      options.url = options.url || this.getWmsUrl();\n      /** check in case WMST Layer\n       *\n       */\n      if (this.isExternalWMS() && this.config.source && this.config.source.type === Layer.SourceTypes.WMST) mapLayer = new WMSTLayer(options, extraParams, method);else mapLayer = new WMSLayer(options, extraParams, method);\n    }\n  }\n  return mapLayer;\n};\n\nImageLayer.WMSServerTypes = [Layer.ServerTypes.QGIS, Layer.ServerTypes.Mapserver, Layer.ServerTypes.Geoserver, Layer.ServerTypes.OGC];\n\nmodule.exports = ImageLayer;\n\n},{\"core/layers/geolayermixin\":33,\"core/layers/layer\":35,\"core/layers/legend/legendservice\":40,\"core/layers/map/arcgismapserverlayer\":42,\"core/layers/map/wmslayer\":46,\"core/layers/map/wmstlayer\":47,\"core/layers/map/xyzlayer\":48,\"core/layers/vectorlayer\":58,\"core/utils/utils\":68,\"services/application\":346,\"store/projects\":374}],35:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('app/constant');\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    inherit = _require2.inherit,\n    base = _require2.base,\n    XHR = _require2.XHR;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require3 = require('core/utils/geo'),\n    geometryFields = _require3.geometryFields,\n    parseAttributes = _require3.parseAttributes;\n\nvar Relations = require('core/relations/relations');\nvar ProviderFactory = require('core/layers/providers/providersfactory');\n\n// Base Class of all Layer\nfunction Layer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.config = config;\n  // assign some attribute\n  config.id = config.id || 'Layer';\n  config.title = config.title || config.name;\n  config.download = !!config.download;\n  config.geolayer = false;\n  config.baselayer = !!config.baselayer;\n  config.fields = config.fields || {};\n  config.urls = _extends({\n    query: config.infourl && config.infourl !== '' ? config.infourl : config.wmsUrl\n  }, config.urls || {});\n  var _options$project = options.project,\n      project = _options$project === undefined ? _projects2.default.getCurrentProject() : _options$project;\n\n  this.config.search_endpoint = project.getSearchEndPoint();\n  var projectRelations = project.getRelations();\n  // create relations\n  this._relations = this._createRelations(projectRelations);\n  if (!this.isBaseLayer()) {\n    //filtertoken\n    //set url to get varios type of data\n    var projectType = project.getType();\n    var projectId = project.getId();\n    var suffixUrl = projectType + '/' + projectId + '/' + config.id + '/';\n    var vectorUrl = project.getVectorUrl();\n    var rasterUrl = project.getRasterUrl();\n    this.config.urls.filtertoken = vectorUrl + 'filtertoken/' + suffixUrl;\n    this.config.urls.data = vectorUrl + 'data/' + suffixUrl;\n    this.config.urls.shp = vectorUrl + 'shp/' + suffixUrl;\n    this.config.urls.csv = vectorUrl + 'csv/' + suffixUrl;\n    this.config.urls.xls = vectorUrl + 'xls/' + suffixUrl;\n    this.config.urls.gpx = vectorUrl + 'gpx/' + suffixUrl;\n    this.config.urls.gpkg = vectorUrl + 'gpkg/' + suffixUrl;\n    this.config.urls.geotiff = rasterUrl + 'geotiff/' + suffixUrl;\n    this.config.urls.editing = vectorUrl + 'editing/' + suffixUrl;\n    this.config.urls.commit = vectorUrl + 'commit/' + suffixUrl;\n    this.config.urls.config = vectorUrl + 'config/' + suffixUrl;\n    this.config.urls.unlock = vectorUrl + 'unlock/' + suffixUrl;\n    this.config.urls.widget = {\n      unique: vectorUrl + 'widget/unique/data/' + suffixUrl\n    };\n    //set custom parameters based on project qgis version\n    this.config.searchParams = {\n      I: 0,\n      J: 0\n    };\n  }\n\n  // dinamic layer values useful for layerstree\n  var defaultstyle = config.styles && config.styles.find(function (style) {\n    return style.current;\n  }).name;\n  this.state = {\n    id: config.id,\n    title: config.title,\n    selected: config.selected || false,\n    disabled: config.disabled || false,\n    metadata: config.metadata,\n    metadata_querable: this.isBaseLayer() ? false : this.isQueryable({ onMap: false }),\n    openattributetable: this.isBaseLayer() ? false : this.canShowTable(),\n    removable: config.removable || false,\n    downloadable: this.isDownloadable(),\n    source: config.source,\n    styles: config.styles,\n    defaultstyle: defaultstyle,\n    inediting: false, // state of if is in editing (setted by editing plugin )\n    infoformat: this.getInfoFormat(),\n    infoformats: this.config.infoformats || [],\n    projectLayer: true,\n    geolayer: false,\n    selection: {\n      active: false\n    },\n    filter: {\n      active: false\n    },\n    attributetable: {\n      pageLength: null\n    },\n    visible: config.visible || false,\n    tochighlightable: false\n  };\n\n  // add selectionFids\n  this.selectionFids = new Set();\n\n  // referred to (layersstore);\n  this._layersstore = config.layersstore || null;\n  /*\n    Providers that layer can use\n     Three type of provider:\n      1 - query\n      2 - filter\n      3 - data -- raw data del layer (editing)\n   */\n  // server type\n  var serverType = this.config.servertype;\n  // source layer\n  var sourceType = this.config.source ? this.config.source.type : null;\n  if (serverType && sourceType) {\n    this.providers = {\n      query: ProviderFactory.build('query', serverType, sourceType, {\n        layer: this\n      }),\n      filter: ProviderFactory.build('filter', serverType, sourceType, {\n        layer: this\n      }),\n      filtertoken: ProviderFactory.build('filtertoken', serverType, sourceType, {\n        layer: this\n      }),\n      search: ProviderFactory.build('search', serverType, sourceType, {\n        layer: this\n      }),\n      data: ProviderFactory.build('data', serverType, sourceType, {\n        layer: this\n      })\n    };\n  }\n  // used to store last proxy params (useful for repeat request info formats for wms external layer)\n  this.proxyData = {\n    wms: null // at the moment only wms data from server\n  };\n  base(this);\n}\n\ninherit(Layer, G3WObject);\n\nvar proto = Layer.prototype;\n\n/**\n * Proxyparams\n */\n\nproto.getProxyData = function (type) {\n  return type ? this.proxyData[type] : this.proxyData;\n};\n\nproto.setProxyData = function (type) {\n  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.proxyData[type] = data;\n};\n\nproto.clearProxyData = function (type) {\n  this.proxyData[type] = null;\n};\n\nproto.getDataProxyFromServer = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n  var proxyParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _ref2, response, data;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _data2.default.getData('proxy:' + type, {\n            inputs: proxyParams,\n            outputs: false\n          });\n\n        case 3:\n          _ref2 = _context.sent;\n          response = _ref2.response;\n          data = _ref2.data;\n\n          this.setProxyData(type, JSON.parse(data));\n          return _context.abrupt('return', response);\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context['catch'](0);\n          return _context.abrupt('return');\n\n        case 13:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[0, 10]]);\n}));\n\nproto.changeProxyDataAndReloadFromServer = function () {\n  var _this = this;\n\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'wms';\n  var changes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  Object.keys(changes).forEach(function (changeParam) {\n    Object.keys(changes[changeParam]).forEach(function (param) {\n      var value = changes[changeParam][param];\n      _this.proxyData[type][changeParam][param] = value;\n    });\n  });\n  return this.getDataProxyFromServer(type, this.proxyData[type]);\n};\n\n/**\n * editing method used by plugin\n */\n\nproto.isInEditing = function () {\n  return this.state.inediting;\n};\n\nproto.setInEditing = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.inediting = bool;\n};\n\n/**\n * end proxy params\n */\n\nproto.getSearchParams = function () {\n  return this.config.searchParams;\n};\n\n/**\n *\n * @returns {*}\n */\nproto.getSearchEndPoint = function () {\n  return this.getType() !== Layer.LayerTypes.TABLE ? this.config.search_endpoint : \"api\";\n};\n\n//relations\nproto._createRelations = function (projectRelations) {\n  var layerId = this.getId();\n  var relations = projectRelations.filter(function (relation) {\n    return [relation.referencedLayer, relation.referencingLayer].indexOf(layerId) !== -1;\n  });\n  return new Relations({\n    relations: relations\n  });\n};\n\n// return relations of layer\nproto.getRelations = function () {\n  return this._relations;\n};\n\nproto.getRelationById = function (id) {\n  return this._relations.getArray().find(function (relation) {\n    return relation.getId() === id;\n  });\n};\n\nproto.getRelationAttributes = function (relationName) {\n  var relation = this._relations.find(function (relation) {\n    return relation.name === relationName;\n  });\n  return relation ? relation.fields : [];\n};\n\nproto.getRelationsAttributes = function () {\n  var fields = {};\n  this.state.relations.forEach(function (relation) {\n    return fields[relation.name] = relation.fields;\n  });\n  return fields;\n};\n\nproto.isChild = function () {\n  if (!this.getRelations()) return false;\n  return this._relations.isChild(this.getId());\n};\n\nproto.isFather = function () {\n  if (!this.getRelations()) return false;\n  return this._relations.isFather(this.getId());\n};\n\nproto.getChildren = function () {\n  if (!this.isFather()) return [];\n  return this._relations.getChildren(this.getId());\n};\n\nproto.getFathers = function () {\n  if (!this.isChild()) return [];\n  return this._relations.getFathers(this.getId());\n};\n\nproto.hasChildren = function () {\n  if (!this.hasRelations()) return false;\n  return this._relations.hasChildren(this.getId());\n};\n\nproto.hasFathers = function () {\n  if (!this.hasRelations()) return false;\n  return this._relations.hasFathers(this.getId());\n};\n\nproto.hasRelations = function () {\n  return !!this._relations;\n};\n//end relations\n\n\n// global state\nproto.setAttributeTablePageLength = function (pageLength) {\n  this.state.attributetable.pageLength = pageLength;\n};\n\nproto.getAttributeTablePageLength = function () {\n  return this.state.attributetable.pageLength;\n};\n\n// end global state\n\n//filter token\nproto.setFilter = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.filter.active = bool;\n};\n\nproto.getFilterActive = function () {\n  return this.state.filter.active;\n};\n\nproto.toggleFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          this.state.filter.active = !this.state.filter.active;\n          _context2.next = 3;\n          return this.activeFilterToken(this.state.filter.active);\n\n        case 3:\n          return _context2.abrupt('return', this.state.filter.active);\n\n        case 4:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\nproto.activeFilterToken = function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(bool) {\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return bool;\n\n          case 2:\n            if (!_context3.sent) {\n              _context3.next = 6;\n              break;\n            }\n\n            this.createFilterToken();\n            _context3.next = 7;\n            break;\n\n          case 6:\n            this.deleteFilterToken();\n\n          case 7:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function (_x10) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nproto.deleteFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n  return regeneratorRuntime.wrap(function _callee4$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          if (!this.providers['filtertoken']) {\n            _context4.next = 11;\n            break;\n          }\n\n          _context4.prev = 1;\n          _context4.next = 4;\n          return this.providers['filtertoken'].deleteFilterToken();\n\n        case 4:\n          _application2.default.setFilterToken(null);\n          this.emit('filtertokenchange', {\n            layerId: this.getId()\n          });\n          _context4.next = 11;\n          break;\n\n        case 8:\n          _context4.prev = 8;\n          _context4.t0 = _context4['catch'](1);\n\n          console.log('Error deleteing filtertoken');\n\n        case 11:\n        case 'end':\n          return _context4.stop();\n      }\n    }\n  }, _callee4, this, [[1, 8]]);\n}));\n\nproto.createFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n  var filtertoken, params;\n  return regeneratorRuntime.wrap(function _callee5$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          if (!this.providers['filtertoken']) {\n            _context5.next = 21;\n            break;\n          }\n\n          filtertoken = null;\n          _context5.prev = 2;\n\n          if (!(this.selectionFids.size > 0)) {\n            _context5.next = 16;\n            break;\n          }\n\n          if (!this.selectionFids.has(Layer.SELECTION_STATE.ALL)) {\n            _context5.next = 9;\n            break;\n          }\n\n          _context5.next = 7;\n          return this.providers['filtertoken'].deleteFilterToken();\n\n        case 7:\n          _context5.next = 14;\n          break;\n\n        case 9:\n          params = {};\n\n          if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) params.fidsout = Array.from(this.selectionFids).filter(function (id) {\n            return id !== Layer.SELECTION_STATE.EXCLUDE;\n          }).join(',');else params.fidsin = Array.from(this.selectionFids).join(',');\n          _context5.next = 13;\n          return this.providers['filtertoken'].getFilterToken(params);\n\n        case 13:\n          filtertoken = _context5.sent;\n\n        case 14:\n          _application2.default.setFilterToken(filtertoken);\n          this.emit('filtertokenchange', {\n            layerId: this.getId()\n          });\n\n        case 16:\n          _context5.next = 21;\n          break;\n\n        case 18:\n          _context5.prev = 18;\n          _context5.t0 = _context5['catch'](2);\n\n          console.log('Error create update token');\n\n        case 21:\n        case 'end':\n          return _context5.stop();\n      }\n    }\n  }, _callee5, this, [[2, 18]]);\n}));\n// end filter token\n//selection Ids layer methods\n\nproto.setSelectionFidsAll = function () {\n  this.selectionFids.clear();\n  this.selectionFids.add(Layer.SELECTION_STATE.ALL);\n  this.isGeoLayer() && this.showAllOlSelectionFeatures();\n  this.setSelection(true);\n  this.state.filter.active && this.createFilterToken();\n};\n\nproto.getSelectionFids = function () {\n  return this.selectionFids;\n};\n\nproto.invertSelectionFids = function () {\n  if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) this.selectionFids.delete(Layer.SELECTION_STATE.EXCLUDE);else if (this.selectionFids.has(Layer.SELECTION_STATE.ALL)) this.selectionFids.delete(Layer.SELECTION_STATE.ALL);else if (this.selectionFids.size > 0) this.selectionFids.add(Layer.SELECTION_STATE.EXCLUDE);\n  this.isGeoLayer() && this.setInversionOlSelectionFeatures();\n  this.state.filter.active && this.createFilterToken();\n  this.setSelection(this.selectionFids.size > 0);\n};\n\nproto.hasSelectionFid = function (fid) {\n  if (this.selectionFids.has(Layer.SELECTION_STATE.ALL)) return true;else if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) return !this.selectionFids.has(fid);else return this.selectionFids.has(fid);\n};\n\nproto.includeSelectionFid = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(fid) {\n    var createToken = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            if (this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE) && this.selectionFids.has(fid)) {\n              this.selectionFids.delete(fid);\n              this.selectionFids.size === 1 && this.setSelectionFidsAll();\n            } else {\n              this.selectionFids.add(fid);\n              !this.isSelectionActive() && this.setSelection(true);\n            }\n            this.isGeoLayer() && this.setOlSelectionFeatureByFid(fid, 'add');\n            _context6.t0 = createToken && this.state.filter.active;\n\n            if (!_context6.t0) {\n              _context6.next = 6;\n              break;\n            }\n\n            _context6.next = 6;\n            return this.createFilterToken();\n\n          case 6:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  return function (_x12) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nproto.includeSelectionFids = function () {\n  var _this2 = this;\n\n  var fids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fids.forEach(function (fid) {\n    return _this2.includeSelectionFid(fid);\n  });\n};\n\nproto.excludeSelectionFid = function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(fid) {\n    var isLastFeatureSelected;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            if (this.selectionFids.has(Layer.SELECTION_STATE.ALL) || this.selectionFids.size === 0) {\n              this.selectionFids.clear();\n              this.selectionFids.add(Layer.SELECTION_STATE.EXCLUDE);\n            }\n            this.selectionFids[this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE) ? 'add' : 'delete'](fid);\n            if (this.selectionFids.size === 1 && this.selectionFids.has(Layer.SELECTION_STATE.EXCLUDE)) this.setselectionFidsAll();\n            isLastFeatureSelected = this.isGeoLayer() && this.setOlSelectionFeatureByFid(fid, 'remove');\n            _context7.t0 = this.state.filter.active;\n\n            if (!_context7.t0) {\n              _context7.next = 8;\n              break;\n            }\n\n            _context7.next = 8;\n            return this.createFilterToken();\n\n          case 8:\n            if (this.selectionFids.size === 0 || isLastFeatureSelected) {\n              this.selectionFids.clear();\n              this.setSelection(false);\n            }\n\n          case 9:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  return function (_x14) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nproto.excludeSelectionFids = function () {\n  var _this3 = this;\n\n  var fids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fids.forEach(function (fid) {\n    return _this3.excludeSelectionFid(fid);\n  });\n};\n\nproto.clearSelectionFids = function () {\n  this.selectionFids.clear();\n  this.isGeoLayer() && this.setOlSelectionFeatures();\n  this.setSelection(false);\n};\n// end selection ids methods\n\nproto.getWMSLayerName = function () {\n  return this.isWmsUseLayerIds() ? this.getId() : this.getName();\n};\n\nproto.isWmsUseLayerIds = function () {\n  return this.config.wms_use_layer_ids;\n};\n\nproto.getFilterToken = function () {\n  return _application2.default.getFilterToken();\n};\n\n/**\n *\n * DOWNLOAD METHODS\n */\n\nproto.getDownloadFilefromDownloadDataType = function (type, _ref9) {\n  var _ref9$data = _ref9.data,\n      data = _ref9$data === undefined ? {} : _ref9$data,\n      options = _ref9.options;\n\n  var promise = void 0;\n  data.filtertoken = this.getFilterToken();\n  switch (type) {\n    case 'shapefile':\n      promise = this.getShp({ data: data, options: options });\n      break;\n    case 'xls':\n      promise = this.getXls({ data: data, options: options });\n      break;\n    case 'csv':\n      promise = this.getCsv({ data: data, options: options });\n      break;\n    case 'gpx':\n      promise = this.getGpx({ data: data, options: options });\n      break;\n    case 'gpkg':\n      promise = this.getGpkg({ data: data, options: options });\n      break;\n    case 'geotiff':\n      promise: this.getGeoTIFF({\n        data: data,\n        options: options\n      });\n      break;\n  }\n  return promise;\n};\n\nproto.getGeoTIFF = function () {\n  var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref10$data = _ref10.data,\n      data = _ref10$data === undefined ? {} : _ref10$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('geotiff');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getXls = function () {\n  var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref11$data = _ref11.data,\n      data = _ref11$data === undefined ? {} : _ref11$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('xls');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getShp = function () {\n  var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref12$data = _ref12.data,\n      data = _ref12$data === undefined ? {} : _ref12$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('shp');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getGpx = function () {\n  var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref13$data = _ref13.data,\n      data = _ref13$data === undefined ? {} : _ref13$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('gpx');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getGpkg = function () {\n  var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref14$data = _ref14.data,\n      data = _ref14$data === undefined ? {} : _ref14$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('gpkg');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getCsv = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref15$data = _ref15.data,\n      data = _ref15$data === undefined ? {} : _ref15$data;\n\n  data.filtertoken = this.getFilterToken();\n  var url = this.getUrl('csv');\n  return XHR.fileDownload({\n    url: url,\n    data: data,\n    httpMethod: \"POST\"\n  });\n};\n\nproto.getSourceType = function () {\n  return this.config.source ? this.config.source.type : null;\n};\n\nproto.isGeoLayer = function () {\n  return this.state.geolayer;\n};\n\nproto.getDataTable = function () {\n  var _this4 = this;\n\n  var _ref16 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref16$page = _ref16.page,\n      page = _ref16$page === undefined ? null : _ref16$page,\n      _ref16$page_size = _ref16.page_size,\n      page_size = _ref16$page_size === undefined ? null : _ref16$page_size,\n      _ref16$ordering = _ref16.ordering,\n      ordering = _ref16$ordering === undefined ? null : _ref16$ordering,\n      _ref16$search = _ref16.search,\n      search = _ref16$search === undefined ? null : _ref16$search,\n      field = _ref16.field,\n      _ref16$suggest = _ref16.suggest,\n      suggest = _ref16$suggest === undefined ? null : _ref16$suggest,\n      _ref16$formatter = _ref16.formatter,\n      formatter = _ref16$formatter === undefined ? 0 : _ref16$formatter,\n      in_bbox = _ref16.in_bbox,\n      _ref16$custom_params = _ref16.custom_params,\n      custom_params = _ref16$custom_params === undefined ? {} : _ref16$custom_params;\n\n  var d = $.Deferred();\n  var provider = void 0;\n  var params = _extends({}, custom_params, {\n    field: field,\n    page: page,\n    page_size: page_size,\n    ordering: ordering,\n    search: search,\n    formatter: formatter,\n    suggest: suggest,\n    in_bbox: in_bbox,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n  if (!(this.getProvider('filter') || this.getProvider('data'))) {\n    d.reject();\n  } else {\n    provider = this.getProvider('data');\n    provider.getFeatures({ editing: false }, params).done(function (response) {\n      var data = response.data;\n      var count = response.count;\n      var title = _this4.getTitle();\n      var features = data.features && data.features || [];\n      var headers = features.length ? features[0].properties : [];\n      headers = parseAttributes(_this4.getAttributes(), headers);\n      var dataTableObject = {\n        headers: headers,\n        features: features,\n        title: title,\n        count: count\n      };\n      d.resolve(dataTableObject);\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\n/**\n * Search layer feature by fids\n * @param fids formatter\n */\nproto.getFeatureByFids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8() {\n  var _ref18 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref18$fids = _ref18.fids,\n      fids = _ref18$fids === undefined ? [] : _ref18$fids,\n      _ref18$formatter = _ref18.formatter,\n      formatter = _ref18$formatter === undefined ? 0 : _ref18$formatter;\n\n  var url, features, response;\n  return regeneratorRuntime.wrap(function _callee8$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          url = this.getUrl('data');\n          features = void 0;\n          _context8.prev = 2;\n          _context8.next = 5;\n          return XHR.get({\n            url: url,\n            params: {\n              fids: fids.toString(),\n              formatter: formatter\n            }\n          });\n\n        case 5:\n          response = _context8.sent;\n\n          features = response && response.result && response.vector && response.vector.data && response.vector.data.features;\n          _context8.next = 11;\n          break;\n\n        case 9:\n          _context8.prev = 9;\n          _context8.t0 = _context8['catch'](2);\n\n        case 11:\n          return _context8.abrupt('return', features);\n\n        case 12:\n        case 'end':\n          return _context8.stop();\n      }\n    }\n  }, _callee8, this, [[2, 9]]);\n}));\n\n//search Features methods\nproto.searchFeatures = function () {\n  var _this5 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$search_endpo = options.search_endpoint,\n      search_endpoint = _options$search_endpo === undefined ? this.config.search_endpoint : _options$search_endpo;\n\n  return new Promise(function () {\n    var _ref19 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9(resolve, reject) {\n      var _options$raw, raw, field, _options$suggest, suggest, unique, queryUrl, ordering, response;\n\n      return regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.t0 = search_endpoint;\n              _context9.next = _context9.t0 === 'ows' ? 3 : _context9.t0 === 'api' ? 5 : 17;\n              break;\n\n            case 3:\n              _this5.search(options, params).then(function (results) {\n                results = {\n                  data: results\n                };\n                resolve(results);\n              }).fail(function (error) {\n                return reject(error);\n              });\n              return _context9.abrupt('break', 17);\n\n            case 5:\n              _options$raw = options.raw, raw = _options$raw === undefined ? false : _options$raw, field = options.filter, _options$suggest = options.suggest, suggest = _options$suggest === undefined ? {} : _options$suggest, unique = options.unique, queryUrl = options.queryUrl, ordering = options.ordering;\n              _context9.prev = 6;\n              _context9.next = 9;\n              return _this5.getFilterData({\n                queryUrl: queryUrl,\n                raw: raw,\n                field: field,\n                ordering: ordering,\n                suggest: suggest,\n                unique: unique\n              });\n\n            case 9:\n              response = _context9.sent;\n\n              resolve(response);\n              _context9.next = 16;\n              break;\n\n            case 13:\n              _context9.prev = 13;\n              _context9.t1 = _context9['catch'](6);\n\n              reject(_context9.t1);\n\n            case 16:\n              return _context9.abrupt('break', 17);\n\n            case 17:\n            case 'end':\n              return _context9.stop();\n          }\n        }\n      }, _callee9, _this5, [[6, 13]]);\n    }));\n\n    return function (_x26, _x27) {\n      return _ref19.apply(this, arguments);\n    };\n  }());\n};\n\n/*\n* getFilterData is a function to get data feature based on fields and suggets\n* params:\n* - suggest (mandatory): object with key is a field of layer and value is value of the field to filter\n* - fields: Array of object with type of suggest (see above)\n* */\nproto.getFilterData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee10() {\n  var _ref21 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref21.field,\n      _ref21$raw = _ref21.raw,\n      raw = _ref21$raw === undefined ? false : _ref21$raw,\n      _ref21$suggest = _ref21.suggest,\n      suggest = _ref21$suggest === undefined ? {} : _ref21$suggest,\n      unique = _ref21.unique,\n      _ref21$formatter = _ref21.formatter,\n      formatter = _ref21$formatter === undefined ? 1 : _ref21$formatter,\n      queryUrl = _ref21.queryUrl,\n      ordering = _ref21.ordering;\n\n  var provider, response;\n  return regeneratorRuntime.wrap(function _callee10$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          provider = this.getProvider('data');\n          _context10.next = 3;\n          return provider.getFilterData({\n            queryUrl: queryUrl,\n            field: field,\n            raw: raw,\n            ordering: ordering,\n            suggest: suggest,\n            formatter: formatter,\n            unique: unique\n          });\n\n        case 3:\n          response = _context10.sent;\n          return _context10.abrupt('return', response);\n\n        case 5:\n        case 'end':\n          return _context10.stop();\n      }\n    }\n  }, _callee10, this);\n}));\n\n// search method\nproto.search = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // check option feature_count\n  options.feature_count = options.feature_count || 10;\n  options = _extends({}, options, this.config.searchParams, params);\n  var d = $.Deferred();\n  var provider = this.getProvider('search');\n  if (provider) provider.query(options).done(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });else d.reject(t('sdk.search.layer_not_searchable'));\n  return d.promise();\n};\n\n//Info from layer (only for querable layers)\nproto.query = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var filter = options.filter;\n\n  var provider = this.getProvider(filter ? 'filter' : 'query');\n  if (provider) provider.query(options).done(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });else d.reject(t('sdk.search.layer_not_querable'));\n  return d.promise();\n};\n\n// generel way to get an attribute\nproto.get = function (property) {\n  return this.config[property] ? this.config[property] : this.state[property];\n};\n\nproto.getFields = function () {\n  return this.config.fields;\n};\n\n/**\n * Get field by name\n * @param fieldName\n * @returns {*}\n */\nproto.getFieldByName = function (fieldName) {\n  return this.getFields().find(function (field) {\n    return field.name === fieldName;\n  });\n};\n\nproto.getEditingFields = function () {\n  return this.config.editing.fields;\n};\n\n/**\n * Return only show fields\n * @returns {T[]}\n */\nproto.getTableFields = function () {\n  var fields = this.config.fields || [];\n  return fields.filter(function (field) {\n    return field.show;\n  });\n};\n\nproto.getTableHeaders = function () {\n  return this.getTableFields().filter(function (field) {\n    return geometryFields.indexOf(field.name) === -1;\n  });\n};\n\nproto.getProject = function () {\n  return this.config.project;\n};\n\nproto.getConfig = function () {\n  return this.config;\n};\n\n/**\n * get form structur to show on form editing\n * @param fields\n * @returns {[]}\n */\nproto.getLayerEditingFormStructure = function (fields) {\n  return this.config.editor_form_structure;\n};\n\n/*\nDuplicate beacause we had to check if it used by some plugins to avoid to break back compatibility\n */\nproto.getEditorFormStructure = function () {\n  return this.getLayerEditingFormStructure();\n};\n\nproto.getFieldsOutOfFormStructure = function () {\n  return this.config.editor_form_structure ? this.config.editor_form_structure.filter(function (structure) {\n    return structure.field_name;\n  }) : [];\n};\n\nproto.hasFormStructure = function () {\n  return !!this.config.editor_form_structure;\n};\n\n//get custom style for future implementation\nproto.getCustomStyle = function () {\n  return this.config.customstyle;\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getSource = function () {\n  return this.state.source;\n};\n\nproto.isDownloadable = function () {\n  return this.isShpDownlodable() || this.isXlsDownlodable() || this.isGpxDownlodable() || this.isGpkgDownlodable() || this.isCsvDownlodable();\n};\n\nproto.getDownloadableFormats = function () {\n  var _this6 = this;\n\n  return Object.keys(_constant.DOWNLOAD_FORMATS).filter(function (download_format) {\n    return _this6.config[download_format];\n  }).map(function (format) {\n    return _constant.DOWNLOAD_FORMATS[format].format;\n  });\n};\n\nproto.getDownloadUrl = function (format) {\n  var find = Object.values(_constant.DOWNLOAD_FORMATS).find(function (download_format) {\n    return download_format.format === format;\n  });\n  return find && find.url;\n};\n\nproto.isGeoTIFFDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download && this.config.source.type === 'gdal';\n};\n\nproto.isShpDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download && this.config.source.type !== 'gdal';\n};\n\nproto.isXlsDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_xls;\n};\n\nproto.isGpxDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_gpx;\n};\n\nproto.isGpkgDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_gpkg;\n};\n\nproto.isCsvDownlodable = function () {\n  return !this.isBaseLayer() && this.config.download_csv;\n};\n\nproto.getEditingLayer = function () {\n  return this._editingLayer;\n};\n\nproto.setEditingLayer = function (editingLayer) {\n  this._editingLayer = editingLayer;\n};\n\nproto.isHidden = function () {\n  return this.state.hidden;\n};\n\nproto.setHidden = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.hidden = bool;\n};\n\nproto.isModified = function () {\n  return this.state.modified;\n};\n\nproto.getId = function () {\n  return this.config.id;\n};\n\nproto.getMetadata = function () {\n  return this.state.metadata;\n};\n\nproto.getTitle = function () {\n  return this.config.title;\n};\n\nproto.getName = function () {\n  return this.config.name;\n};\n\nproto.getOrigName = function () {\n  return this.config.origname;\n};\n\nproto.getServerType = function () {\n  return this.config.servertype && this.config.servertype !== '' ? this.config.servertype : ServerTypes.QGIS;\n};\n\nproto.getType = function () {\n  return this.type;\n};\n\nproto.isType = function (type) {\n  return this.getType() === type;\n};\n\nproto.setType = function (type) {\n  this.type = type;\n};\n\nproto.isSelected = function () {\n  return this.state.selected;\n};\n\nproto.setSelected = function (bool) {\n  this.state.selected = bool;\n};\n\nproto.setSelection = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee11() {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  return regeneratorRuntime.wrap(function _callee11$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          this.state.selection.active = bool;\n\n          if (bool) {\n            _context11.next = 8;\n            break;\n          }\n\n          _context11.t0 = this.state.filter.active;\n\n          if (!_context11.t0) {\n            _context11.next = 6;\n            break;\n          }\n\n          _context11.next = 6;\n          return this.deleteFilterToken();\n\n        case 6:\n          this.state.filter.active = bool;\n          this.emit('unselectionall', this.getId());\n\n        case 8:\n        case 'end':\n          return _context11.stop();\n      }\n    }\n  }, _callee11, this);\n}));\n\nproto.isSelectionActive = function () {\n  return this.state.selection.active;\n};\n\nproto.getSelection = function () {\n  return this.state.selection;\n};\n\nproto.getFilter = function () {\n  return this.state.filter;\n};\n\nproto.setDisabled = function (bool) {\n  this.state.disabled = bool;\n};\n\nproto.isDisabled = function () {\n  return this.state.disabled;\n};\n\nproto.isVisible = function () {\n  return this.state.visible;\n};\n\nproto.setVisible = function (bool) {\n  this.state.visible = bool;\n};\n\n// set a parametre map to check if request from map point of view or just a capabilities info layer\nproto.isQueryable = function () {\n  var _ref23 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { onMap: false },\n      onMap = _ref23.onMap;\n\n  var queryEnabled = false;\n  var queryableForCababilities = !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.QUERYABLE);\n  if (!onMap) return queryableForCababilities;\n  // if querable check if is visible or disabled\n  if (queryableForCababilities) {\n    queryEnabled = this.isVisible() && !this.isDisabled();\n    if (this.config.infowhennotvisible !== undefined && this.config.infowhennotvisible === true) queryEnabled = true;\n  }\n  return queryEnabled;\n};\n\nproto.getOws = function () {\n  return this.config.ows;\n};\n\nproto.getTocHighlightable = function () {\n  return this.state.tochighlightable;\n};\n\nproto.setTocHighlightable = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.tochighlightable = bool;\n};\n\n/*\n condition: plain object with configuration layer attribute and value\n* */\nproto.isFilterable = function () {\n  var _this7 = this;\n\n  var conditions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n  var isFiltrable = !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.FILTERABLE);\n  if (isFiltrable && conditions) {\n    var conditionalFiltrable = Object.keys(conditions).reduce(function (bool, attribute) {\n      var layer_config_value = _this7.get(attribute);\n      var condition_attribute_values = conditions[attribute];\n      return bool && Array.isArray(layer_config_value) ? layer_config_value.indexOf(condition_attribute_values) !== -1 : condition_attribute_values === layer_config_value;\n    }, true);\n    isFiltrable = isFiltrable && conditionalFiltrable;\n  }\n  return isFiltrable;\n};\n\n/**\n * Check if layer is setup as time series\n */\nproto.isQtimeseries = function () {\n  return this.config.qtimeseries;\n};\n\nproto.isEditable = function () {\n  return !!(this.config.capabilities && this.config.capabilities & Layer.CAPABILITIES.EDITABLE);\n};\n\nproto.isBaseLayer = function () {\n  return this.config.baselayer;\n};\n\n// get url by type ( data, shp, csv, xls,  editing..etc..)\nproto.getUrl = function (type) {\n  return this.config.urls[type];\n};\n\n/**\n * Method to set url\n * @param type\n * @param url\n */\nproto.setUrl = function () {\n  var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref24.type,\n      url = _ref24.url;\n\n  this.config.urls[type] = url;\n};\n\n// return urls\nproto.getUrls = function () {\n  return this.config.urls;\n};\n\nproto.setEditingUrl = function (url) {\n  this.config.urls.editing = url || this.config.urls.editing;\n};\n\nproto.getQueryUrl = function () {\n  return this.config.urls.query;\n};\n\nproto.setQueryUrl = function (queryUrl) {\n  this.config.urls.query = queryUrl;\n};\n\nproto.getQueryLayerName = function () {\n  return this.config.infolayer && this.config.infolayer !== '' ? this.config.infolayer : this.getName();\n};\n\nproto.getQueryLayerOrigName = function () {\n  return this.state.infolayer && this.config.infolayer !== '' ? this.config.infolayer : this.config.origname;\n};\n\nproto.getInfoFormat = function (ogcService) {\n  /**\n   * In case of qtime series (NETCDF)\n   */\n  if (this.config.qtimeseries === true || this.getSourceType() === 'gdal') return 'application/json';else return this.config.infoformat && this.config.infoformat !== '' && ogcService !== 'wfs' ? this.config.infoformat : 'application/vnd.ogc.gml';\n};\n\nproto.getInfoFormats = function () {\n  return this.state.infoformats;\n};\n\nproto.getInfoUrl = function () {\n  return this.config.infourl;\n};\n\nproto.setInfoFormat = function (infoFormat) {\n  this.config.infoformat = infoFormat;\n};\n\nproto.getAttributes = function () {\n  return this.config.fields;\n};\n\nproto.changeAttribute = function (attribute, type, options) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = this.config.fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var field = _step.value;\n\n      if (field.name === attribute) {\n        field.type = type;\n        field.options = options;\n        break;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.getAttributeLabel = function (name) {\n  var field = this.getAttributes().find(function (field) {\n    return field.name === name;\n  });\n  return field && field.label;\n};\n\nproto.getProvider = function (type) {\n  return this.providers[type];\n};\n\nproto.getProviders = function () {\n  return this.providers;\n};\n\nproto.getLayersStore = function () {\n  return this._layersstore;\n};\n\nproto.setLayersStore = function (layerstore) {\n  this._layersstore = layerstore;\n};\n\nproto.canShowTable = function () {\n  if (!this.config.not_show_attributes_table) {\n    if (this.getServerType() === Layer.ServerTypes.QGIS) {\n      if ([Layer.SourceTypes.POSTGIS, Layer.SourceTypes.ORACLE, Layer.SourceTypes.WFS, Layer.SourceTypes.OGR, Layer.SourceTypes.MSSQL, Layer.SourceTypes.SPATIALITE].indexOf(this.config.source.type) > -1 && this.isQueryable()) {\n        return this.getTableFields().length > 0;\n      }\n    } else if (this.getServerType() === Layer.ServerTypes.G3WSUITE) {\n      if (this.get('source').type === \"geojson\") return true;\n    } else if (this.isFilterable()) return true;\n    return false;\n  } else return false;\n};\n\nproto.changeFieldType = function () {\n  var _ref25 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      name = _ref25.name,\n      type = _ref25.type,\n      _ref25$options = _ref25.options,\n      options = _ref25$options === undefined ? {} : _ref25$options,\n      _ref25$reset = _ref25.reset,\n      reset = _ref25$reset === undefined ? false : _ref25$reset;\n\n  var field = this.getFields().find(function (field) {\n    return field.name === name;\n  });\n  if (field) {\n    if (reset) {\n      field.type = field._type;\n      delete field._type;\n      delete field[type + 'options'];\n      return field.type;\n    } else {\n      field._type = field.type;\n      field.type = type;\n      field[type + 'options'] = options;\n      return field._type;\n    }\n  }\n};\n\nproto.changeConfigFieldType = function (_ref26) {\n  var name = _ref26.name,\n      type = _ref26.type,\n      _ref26$options = _ref26.options,\n      options = _ref26$options === undefined ? {} : _ref26$options,\n      _ref26$reset = _ref26.reset,\n      reset = _ref26$reset === undefined ? false : _ref26$reset;\n\n  return this.changeFieldType({ name: name, type: type, options: options, reset: reset });\n};\n\nproto.resetConfigField = function (_ref27) {\n  var name = _ref27.name;\n\n  this.changeConfigFieldType({\n    name: name,\n    reset: true\n  });\n};\n\n//function called in case of change project to remove all sored information\nproto.clear = function () {};\n\nproto.isVector = function () {\n  return this.getType() === Layer.LayerTypes.VECTOR;\n};\n\nproto.isTable = function () {\n  return this.getType() === Layer.LayerTypes.TABLE;\n};\n\n/// LAYER PROPERTIES\n// Layer Types\nLayer.LayerTypes = {\n  TABLE: \"table\",\n  IMAGE: \"image\",\n  VECTOR: \"vector\"\n};\n\n// Server Types\nLayer.ServerTypes = {\n  OGC: \"OGC\",\n  QGIS: \"QGIS\",\n  Mapserver: \"Mapserver\",\n  Geoserver: \"Geoserver\",\n  ARCGISMAPSERVER: \"ARCGISMAPSERVER\",\n  OSM: \"OSM\",\n  BING: \"Bing\",\n  LOCAL: \"Local\",\n  TMS: \"TMS\",\n  WMS: \"WMS\",\n  WMTS: \"WMTS\",\n  G3WSUITE: \"G3WSUITE\"\n  /*\n  ADD ALSO TO PROVIDER FACTORY\n  */\n};\n\n// Source Types\nLayer.SourceTypes = {\n  VIRTUAL: 'virtual',\n  POSTGIS: 'postgres',\n  SPATIALITE: 'spatialite',\n  ORACLE: 'oracle',\n  MSSQL: 'mssql',\n  CSV: 'delimitedtext',\n  OGR: 'ogr',\n  GDAL: 'gdal',\n  WMS: 'wms',\n  WMST: \"wmst\",\n  WFS: 'wfs',\n  WCS: \"wcs\",\n  MDAL: \"mdal\",\n  \"VECTOR-TILE\": \"vector-tile\",\n  VECTORTILE: \"vectortile\",\n  ARCGISMAPSERVER: 'arcgismapserver',\n  GEOJSON: \"geojson\"\n  /*\n  ADD TO PROVIDER FACTORY\n  */\n};\n\n// Layer Capabilities\nLayer.CAPABILITIES = {\n  QUERYABLE: 1,\n  FILTERABLE: 2,\n  EDITABLE: 4\n};\n\n//Editing types\nLayer.EDITOPS = {\n  INSERT: 1,\n  UPDATE: 2,\n  DELETE: 4\n};\n\n//selection state\nLayer.SELECTION_STATE = {\n  ALL: '__ALL__',\n  EXCLUDE: '__EXCLUDE__'\n};\n\nmodule.exports = Layer;\n\n},{\"app/constant\":5,\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/layers/providers/providersfactory\":52,\"core/relations/relations\":64,\"core/utils/geo\":65,\"core/utils/utils\":68,\"services/application\":346,\"services/data\":353,\"store/application-state\":368,\"store/projects\":374}],36:[function(require,module,exports){\nvar Layer = require('core/layers/layer');\nvar TableLayer = require('core/layers/tablelayer');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar ImageLayer = require('core/layers/imagelayer');\nvar BaseLayers = require('core/layers/baselayers/baselayers');\nvar GeojsonLayer = require('core/layers/geojson');\n\n// Class to build layer based on configuration\nfunction LayerFactory() {\n  this.build = function (config, options) {\n    // return the layer instance\n    var layerClass = this.get(config);\n    return layerClass ? new layerClass(config, options) : null;\n  };\n\n  this.get = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var LayerClass = void 0;\n    var serverType = config.servertype;\n    switch (serverType) {\n      case Layer.ServerTypes.QGIS:\n        if (config.source) {\n          if (config.geometrytype) {\n            if ([Layer.SourceTypes.VIRTUAL, Layer.SourceTypes.POSTGIS, Layer.SourceTypes.MSSQL, Layer.SourceTypes.SPATIALITE, Layer.SourceTypes.WFS, Layer.SourceTypes.CSV, Layer.SourceTypes.ORACLE, Layer.SourceTypes.OGR, Layer.SourceTypes.MDAL].find(function (sourcetype) {\n              return sourcetype === config.source.type;\n            })) {\n              if (config.geometrytype && config.geometrytype === 'NoGeometry') LayerClass = TableLayer;else LayerClass = ImageLayer;\n            }\n          } else if ([// here set new layer has to be threat as wms\n          Layer.SourceTypes.WMST, Layer.SourceTypes.WCS, Layer.SourceTypes.WMS, Layer.SourceTypes.GDAL, Layer.SourceTypes.VECTORTILE, Layer.SourceTypes[\"VECTOR-TILE\"], Layer.SourceTypes.MDAL].find(function (sourcetype) {\n            return sourcetype === config.source.type;\n          })) LayerClass = ImageLayer;\n        }\n        break;\n      case Layer.ServerTypes.OGC:\n        if (config.source) {\n          var type = config.source.type;\n          switch (type) {\n            case Layer.SourceTypes.WMS:\n              LayerClass = ImageLayer;\n              break;\n            case Layer.SourceTypes.WFS:\n              LayerClass = VectorLayer;\n          }\n        }\n        break;\n      case Layer.ServerTypes.LOCAL:\n        LayerClass = VectorLayer;\n        break;\n      case Layer.ServerTypes.OSM:\n      case Layer.ServerTypes.BING:\n      case Layer.ServerTypes.TMS:\n      case Layer.ServerTypes.WMS:\n      case Layer.ServerTypes.WMTS:\n      case Layer.ServerTypes.ARCGISMAPSERVER:\n        LayerClass = BaseLayers[serverType];\n        break;\n      case Layer.ServerTypes.G3WSUITE:\n        LayerClass = VectorLayer;\n        if (config.source) {\n          switch (config.source.type) {\n            case 'geojson':\n              LayerClass = GeojsonLayer;\n              break;\n          }\n        }\n        break;\n    }\n    return LayerClass;\n  };\n}\n\nmodule.exports = new LayerFactory();\n\n},{\"core/layers/baselayers/baselayers\":21,\"core/layers/geojson\":32,\"core/layers/imagelayer\":34,\"core/layers/layer\":35,\"core/layers/tablelayer\":57,\"core/layers/vectorlayer\":58}],37:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\n// Interface for Layers\nfunction LayersStore() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = {\n    id: config.id || Date.now(),\n    projection: config.projection,\n    extent: config.extent,\n    initextent: config.initextent,\n    wmsUrl: config.wmsUrl,\n    //set catalogable property\n    catalog: _.isBoolean(config.catalog) ? config.catalog : true\n  };\n\n  this.state = {\n    //useful to build layerstree\n    layerstree: [],\n    relations: null // useful to build tree of relations\n  };\n  this._isQueryable = _.isBoolean(config.queryable) ? config.queryable : true;\n  this._layers = this.config.layers || {};\n  this.setters = {\n    setLayerSelection: function setLayerSelection(_ref) {\n      var layerId = _ref.layerId,\n          selection = _ref.selection;\n\n      var layer = this.getLayerById(layerId);\n    },\n    setLayerSelected: function setLayerSelected(layerId, selected) {\n      this.getLayers().forEach(function (layer) {\n        return layer.state.selected = layerId === layer.getId() ? selected : false;\n      });\n    },\n    addLayers: function addLayers(layers) {\n      var _this = this;\n\n      layers.forEach(function (layer) {\n        return _this.addLayer(layer);\n      });\n    },\n    addLayer: function addLayer(layer) {\n      this._addLayer(layer);\n    },\n    removeLayer: function removeLayer(layerId) {\n      this._removeLayer(layerId);\n    }\n  };\n\n  base(this);\n}\n\ninherit(LayersStore, G3WObject);\n\nvar proto = LayersStore.prototype;\n\nproto.isQueryable = function () {\n  return this._isQueryable;\n};\n\nproto.setQueryable = function (bool) {\n  this._isQueryable = !!bool;\n};\n\nproto.showOnCatalog = function () {\n  return this.config.catalog;\n};\n\nproto.setOptions = function (config) {\n  this.config = config;\n};\n\nproto.getId = function () {\n  return this.config.id;\n};\n\nproto._addLayer = function (layer) {\n  this._layers[layer.getId()] = layer;\n};\n\nproto._removeLayer = function (layer) {\n  var layerId = layer.getId();\n  delete this._layers[layerId];\n};\n\nproto.removeLayers = function () {\n  var _this2 = this;\n\n  Object.entries(this._layers).forEach(function (_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 2),\n        layerId = _ref3[0],\n        layer = _ref3[1];\n\n    _this2.removeLayer(layer);\n  });\n};\n\nproto.getLayersDict = function () {\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // in case  we pass filter = null\n  if (!filter) return this._layers;\n  var PRINTABLE = filter.PRINTABLE,\n      QUERYABLE = filter.QUERYABLE,\n      FILTERABLE = filter.FILTERABLE,\n      EDITABLE = filter.EDITABLE,\n      VISIBLE = filter.VISIBLE,\n      SELECTED = filter.SELECTED,\n      CACHED = filter.CACHED,\n      SELECTED_OR_ALL = filter.SELECTED_OR_ALL,\n      SERVERTYPE = filter.SERVERTYPE,\n      BASELAYER = filter.BASELAYER,\n      GEOLAYER = filter.GEOLAYER,\n      VECTORLAYER = filter.VECTORLAYER,\n      HIDDEN = filter.HIDDEN,\n      DISABLED = filter.DISABLED,\n      IDS = filter.IDS;\n\n  // if filter is passed\n\n  if (_.isUndefined(QUERYABLE) && _.isUndefined(FILTERABLE) && _.isUndefined(EDITABLE) && _.isUndefined(VISIBLE) && _.isUndefined(SERVERTYPE) && _.isUndefined(CACHED) && _.isUndefined(SELECTED_OR_ALL) && _.isUndefined(SERVERTYPE) && _.isUndefined(GEOLAYER) && _.isUndefined(HIDDEN) && _.isUndefined(DISABLED) && _.isUndefined(BASELAYER) && _.isUndefined(VECTORLAYER) && _.isUndefined(PRINTABLE) && _.isUndefined(IDS)) return this._layers;\n\n  var layers = [];\n\n  for (var key in this._layers) {\n    layers.push(this._layers[key]);\n  }\n\n  if (IDS) {\n    var ids = Array.isArray(IDS) ? IDS : [IDS];\n    layers = layers.filter(function (layer) {\n      return ids.indexOf(layer.getId()) !== -1;\n    });\n  }\n\n  // return only selected if some one are selected\n  if (SELECTED_OR_ALL) {\n    var _layers = layers;\n    layers = layers.filter(function (layer) {\n      return layer.isSelected();\n    });\n    layers = layers.length ? layers : _layers;\n  } else if (typeof SELECTED === 'boolean') layers = layers.filter(function (layer) {\n    return SELECTED === layer.isSelected();\n  });\n\n  if (typeof QUERYABLE === 'boolean') layers = layers.filter(function (layer) {\n    return QUERYABLE === layer.isQueryable();\n  });\n\n  if (typeof FILTERABLE === 'boolean') layers = layers.filter(function (layer) {\n    return FILTERABLE === layer.isFilterable(options.filtrable || null);\n  });\n\n  if (typeof EDITABLE === 'boolean') layers = layers.filter(function (layer) {\n    return EDITABLE === layer.isEditable();\n  });\n\n  if (typeof VISIBLE === 'boolean') layers = layers.filter(function (layer) {\n    return VISIBLE === layer.isVisible();\n  });\n\n  if (typeof CACHED === 'boolean') layers = layers.filter(function (layer) {\n    return CACHED === layer.isCached();\n  });\n\n  if (typeof BASELAYER === 'boolean') layers = layers.filter(function (layer) {\n    return BASELAYER === layer.isBaseLayer();\n  });\n\n  if (typeof GEOLAYER === 'boolean') layers = layers.filter(function (layer) {\n    return GEOLAYER === layer.state.geolayer;\n  });\n\n  if (typeof VECTORLAYER === 'boolean') layers = layers.filter(function (layer) {\n    return VECTORLAYER === layer.isType('vector');\n  });\n\n  if (typeof HIDDEN === 'boolean') layers = layers.filter(function (layer) {\n    return HIDDEN == layer.isHidden();\n  });\n\n  if (typeof DISABLED === 'boolean') layers = layers.filter(function (layer) {\n    return DISABLED === layer.isDisabled();\n  });\n\n  if (typeof SERVERTYPE === 'string' && SERVERTYPE !== '') layers = layers.filter(function (layer) {\n    return SERVERTYPE === layer.getServerType();\n  });\n\n  if (PRINTABLE) layers = layers.filter(function (layer) {\n    return layer.state.geolayer && layer.isPrintable({ scale: PRINTABLE.scale });\n  });\n\n  return layers;\n};\n\n// return layers array\nproto.getLayers = function () {\n  var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return Object.values(this.getLayersDict(filter, options));\n};\n\nproto.getBaseLayers = function () {\n  return this.getLayersDict({\n    BASELAYER: true\n  });\n};\n\nproto.getLayerById = function (layerId) {\n  return this.getLayersDict()[layerId];\n};\n\nproto.getLayerByName = function (name) {\n  return this._layers.find(function (layer) {\n    return layer.getName() === name;\n  });\n};\n\nproto.getLayerAttributes = function (layerId) {\n  return this.getLayerById(layerId).getAttributes();\n};\n\nproto.getLayerAttributeLabel = function (layerId, name) {\n  return this.getLayerById(layerId).getAttributeLabel(name);\n};\n\nproto.getGeoLayers = function () {\n  return this.getLayers({\n    GEOLAYER: true\n  });\n};\n\nproto._getAllSiblingsChildrenLayersId = function (layerstree) {\n  var nodeIds = [];\n  var traverse = function traverse(layerstree) {\n    layerstree.nodes.forEach(function (node) {\n      if (node.id) nodeIds.push(node.id);else traverse(node);\n    });\n  };\n  traverse(layerstree);\n  return nodeIds;\n};\n\nproto._getAllParentLayersId = function (layerstree, node) {\n  var nodeIds = [];\n  var traverse = function traverse(layerstree) {\n    layerstree.nodes.forEach(function (node) {\n      if (node.id) nodeIds.push(node.id);\n      //else traverse(node);\n    });\n  };\n\n  traverse({\n    nodes: layerstree.nodes.filter(function (_node) {\n      return _node !== node;\n    })\n  });\n\n  return nodeIds;\n};\n\nproto.selectLayer = function (layerId, selected) {\n  this.setLayerSelected(layerId, selected);\n};\n\nproto.getProjection = function () {\n  return this.config.projection;\n};\n\nproto.getExtent = function () {\n  return this.config.extent;\n};\n\nproto.getInitExtent = function () {\n  return this.config.initextent;\n};\n\nproto.getWmsUrl = function () {\n  return this.config.wmsUrl;\n};\n\n// set layersstree of layers inside the laysstore\nproto.setLayersTree = function (layerstree, name) {\n  var _this3 = this;\n\n  var expanded = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n  // this is a root group project that contain all layerstree of qgis project\n  var rootGroup = {\n    title: name || this.config.id,\n    root: true,\n    parentGroup: null,\n    expanded: expanded,\n    disabled: false,\n    checked: true,\n    nodes: layerstree\n  };\n  var traverse = function traverse(nodes, parentGroup) {\n    nodes.forEach(function (node, index) {\n      // case of layer substitute node with layere state\n      if (node.id !== undefined) nodes[index] = _this3.getLayerById(node.id).getState();\n      if (node.nodes) {\n        node.nodes.forEach(function (node) {\n          return node.parentGroup = parentGroup;\n        });\n        traverse(node.nodes, node);\n      }\n      //SET PARENT GROUP\n      nodes[index].parentGroup = parentGroup;\n    });\n  };\n  if (layerstree.length) {\n    traverse(layerstree, rootGroup);\n    // at the end\n    this.state.layerstree.splice(0, 0, rootGroup);\n  }\n};\n\n// used by from plugin (or external code) to build layerstree\n// layer groupNem is a ProjectName\nproto.createLayersTree = function (groupName) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var full = options.full || false;\n  var expanded = options.expanded;\n  var _layerstree = options.layerstree || null;\n  // get all layers id from layers server config to compare with layer nodes on layerstree server property\n  var tocLayersId = this.getLayers({ BASELAYER: false }).map(function (layer) {\n    return layer.getId();\n  });\n  var layerstree = [];\n  if (_layerstree) {\n    if (full === true) {\n      return this.state.layerstree;\n    } else {\n      var traverse = function traverse(obj, newobj) {\n        obj.forEach(function (layer) {\n          var lightlayer = null;\n\n          // case TOC has layer ID\n          if (null !== layer.id && \"undefined\" !== typeof layer.id && tocLayersId.find(function (id) {\n            return id === layer.id;\n          })) {\n            lightlayer = _extends({}, lightlayer, { id: layer.id });\n          }\n\n          // case group\n          if (null !== layer.nodes && \"undefined\" !== typeof layer.nodes) {\n            lightlayer = _extends({}, lightlayer, {\n              title: layer.name,\n              groupId: uniqueId(),\n              nodes: [],\n              checked: layer.checked,\n              mutually_exclusive: layer[\"mutually-exclusive\"]\n            });\n            traverse(layer.nodes, lightlayer.nodes); // recursion step\n          }\n\n          // check if lightlayer is not null\n          if (null !== lightlayer) {\n            lightlayer.expanded = layer.expanded; // expand legend item (TOC)\n            newobj.push(lightlayer);\n          }\n        });\n      };\n      traverse(_layerstree, layerstree);\n    }\n  } else {\n    var geoLayers = this.getGeoLayers();\n    geoLayers.forEach(function (layer) {\n      layerstree.push({\n        id: layer.getId(),\n        name: layer.getName(),\n        title: layer.getTitle(),\n        visible: layer.isVisible() || false\n      });\n    });\n  }\n  // setLayerstree\n  this.setLayersTree(layerstree, groupName, expanded);\n};\n\nproto.removeLayersTree = function () {\n  this.state.layerstree.splice(0, this.state.layerstree.length);\n};\n\nproto.getLayersTree = function () {\n  return this.state.layerstree;\n};\n\nmodule.exports = LayersStore;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],38:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// Registy Layers\nfunction LayersStoresRegistry() {\n  this.stores = {};\n  this.storesArray = [];\n  // to react some application components that are binding to Layerstore\n  this.setters = {\n    addLayersStore: function addLayersStore(layersStore, idx) {\n      this._addLayersStore(layersStore, idx);\n    },\n    removeLayersStore: function removeLayersStore(layerStore) {\n      this._removeLayersStore(layerStore);\n    },\n    removeLayersStores: function removeLayersStores() {\n      this._removeLayersStores();\n    }\n  };\n\n  base(this);\n}\n\ninherit(LayersStoresRegistry, G3WObject);\n\nvar proto = LayersStoresRegistry.prototype;\n\nproto.getLayerById = function (layerId) {\n  var layer = void 0;\n  for (var storeId in this.stores) {\n    var layerStore = this.stores[storeId];\n    layer = layerStore.getLayerById(layerId);\n    if (layer) break;\n  }\n  return layer;\n};\n\nproto.getLayers = function (filter) {\n  var layers = [];\n  Object.entries(this.stores).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        storeId = _ref2[0],\n        layersStore = _ref2[1];\n\n    layers = layers.concat(layersStore.getLayers(filter));\n  });\n  return layers;\n};\n\nproto.getQuerableLayersStores = function () {\n  return this.getLayersStores().filter(function (layersStore) {\n    return layersStore.isQueryable();\n  });\n};\n\nproto.getLayersStore = function (id) {\n  return this.stores[id];\n};\n\nproto.getLayersStores = function () {\n  var _this = this;\n\n  var stores = [];\n  this.storesArray.forEach(function (storeId) {\n    stores.push(_this.stores[storeId]);\n  });\n  return stores;\n};\n\nproto._addLayersStore = function (layersStore, idx) {\n  var storeId = layersStore.getId();\n  this.stores[storeId] = layersStore;\n  if (!_.isNil(idx)) this.storesArray.splice(idx, 0, storeId);else this.storesArray.push(storeId);\n};\n\nproto._removeLayersStore = function (layerStore) {\n  if (layerStore) {\n    var storeId = layerStore.getId();\n    this.storesArray = this.storesArray.filter(function (_storeId) {\n      return _storeId != storeId;\n    });\n    delete this.stores[storeId];\n  }\n};\n\nproto._removeLayersStores = function () {\n  this.storesArray = [];\n  this.stores = {};\n};\n\nmodule.exports = LayersStoresRegistry;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],39:[function(require,module,exports){\nfunction ARGISMAPSERVERLegend(_ref) {\n  var layer = _ref.layer,\n      params = _ref.params;\n  var _layer$getConfig$sour = layer.getConfig().source,\n      url = _layer$getConfig$sour.url,\n      layername = _layer$getConfig$sour.layer;\n\n  var serviceUrl = url.replace('/rest/', '/');\n  return serviceUrl + '/WMSServer?request=GetLegendGraphic&version=1.3.0&format=image/png&LAYER=' + layername;\n};\n\nmodule.exports = ARGISMAPSERVERLegend;\n\n},{}],40:[function(require,module,exports){\nvar TYPES = {\n  'wms': require('./wmslegend'),\n  'arcgismapserver': require('./arcgismapserverlegend')\n};\n\nvar Legendservice = {\n  get: function get() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref.layer,\n        params = _ref.params,\n        _ref$options = _ref.options,\n        options = _ref$options === undefined ? {} : _ref$options;\n\n    var type = layer.isArcgisMapserver() ? 'arcgismapserver' : 'wms';\n    return TYPES[type]({\n      layer: layer,\n      params: params,\n      options: options\n    });\n  }\n};\n\nmodule.exports = Legendservice;\n\n},{\"./arcgismapserverlegend\":39,\"./wmslegend\":41}],41:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/geo'),\n    get_LEGEND_ON_LEGEND_OFF_Params = _require.get_LEGEND_ON_LEGEND_OFF_Params;\n\nfunction WMSLegend(_ref) {\n  var layer = _ref.layer,\n      params = _ref.params,\n      _ref$options = _ref.options,\n      options = _ref$options === undefined ? {} : _ref$options;\n  var width = params.width,\n      height = params.height,\n      _params$color = params.color,\n      color = _params$color === undefined ? \"white\" : _params$color,\n      _params$fontsize = params.fontsize,\n      fontsize = _params$fontsize === undefined ? 10 : _params$fontsize,\n      _params$transparent = params.transparent,\n      transparent = _params$transparent === undefined ? true : _params$transparent,\n      boxspace = params.boxspace,\n      layerspace = params.layerspace,\n      _params$layertitle = params.layertitle,\n      layertitle = _params$layertitle === undefined ? true : _params$layertitle,\n      layertitlespace = params.layertitlespace,\n      symbolspace = params.symbolspace,\n      iconlabelspace = params.iconlabelspace,\n      symbolwidth = params.symbolwidth,\n      symbolheight = params.symbolheight,\n      itemfontfamily = params.itemfontfamily,\n      layerfontfamily = params.layerfontfamily,\n      layerfontbold = params.layerfontbold,\n      itemfontbold = params.itemfontbold,\n      layerfontitalic = params.layerfontitalic,\n      itemfontitalic = params.itemfontitalic,\n      rulelabel = params.rulelabel,\n      crs = params.crs,\n      bbox = params.bbox,\n      _params$sld_version = params.sld_version,\n      sld_version = _params$sld_version === undefined ? '1.1.0' : _params$sld_version;\n  var _options$categories = options.categories,\n      categories = _options$categories === undefined ? false : _options$categories,\n      _options$all = options.all,\n      all = _options$all === undefined ? false : _options$all,\n      _options$format = options.format,\n      format = _options$format === undefined ? 'image/png' : _options$format;\n\n\n  var LAYER = layer.getWMSLayerName({ type: 'legend' });\n  var FORMAT = format;\n  var STYLES = void 0,\n      LEGEND_ON = void 0,\n      LEGEND_OFF = void 0,\n      url = layer.getWmsUrl({ type: 'legend' });\n\n  if (all) {\n    // all=true means no filter parameters as BBOX\n    bbox = null;\n  }\n\n  if (categories && 'application/json' === FORMAT) {\n    symbolwidth = symbolheight = 16; //set 16 for symbol of chart or other legend symbol\n    STYLES = encodeURIComponent(layer.getCurrentStyle().name);\n  }\n\n  // in case of GetLegendGraphic of format `application/json`\n  // LEGEND_ON and LEGEND_OFF need to be undefined because\n  // it create some strange behaviour on WMS `getMap` when\n  // switching between layer styles\n  if (categories && (_projects2.default.getCurrentProject().getContextBaseLegend() || 'image/png' === FORMAT)) {\n    var _get_LEGEND_ON_LEGEND = get_LEGEND_ON_LEGEND_OFF_Params(layer);\n\n    LEGEND_ON = _get_LEGEND_ON_LEGEND.LEGEND_ON;\n    LEGEND_OFF = _get_LEGEND_ON_LEGEND.LEGEND_OFF;\n  }\n\n  return ['' + url + (url.indexOf('?') > -1 ? '&' : '?') + 'SERVICE=WMS&VERSION=1.3.0&REQUEST=GetLegendGraphic&SLD_VERSION=' + sld_version, '' + (width ? '&WIDTH=' + width : ''), '' + (height ? '&HEIGHT=' + height : ''), '&FORMAT=' + FORMAT, '&TRANSPARENT=' + transparent, '&ITEMFONTCOLOR=' + color, '&LAYERFONTCOLOR=' + color, '&LAYERTITLE=' + layertitle, '&ITEMFONTSIZE=' + fontsize, '' + (crs ? '&CRS=' + crs : ''), '' + (bbox ? '&BBOX=' + bbox.join(',') : ''), '' + (boxspace ? '&BOXSPACE=' + boxspace : ''), '' + (layerspace ? '&LAYERSPACE=' + layerspace : ''), '' + (layertitlespace ? '&LAYERTITLESPACE=' + layertitlespace : ''), '' + (symbolspace ? '&SYMBOLSPACE=' + symbolspace : ''), '' + (iconlabelspace ? '&ICONLABELSPACE=' + iconlabelspace : ''), '' + (symbolwidth ? '&SYMBOLWIDTH=' + symbolwidth : ''), '' + (symbolheight ? '&SYMBOLHEIGHT=' + symbolheight : ''), '' + (layerfontfamily ? '&LAYERFONTFAMILY=' + layerfontfamily : ''), '' + (itemfontfamily ? '&ITEMFONTFAMILY=' + itemfontfamily : ''), '' + (layerfontbold ? '&LAYERFONTBOLD=' + layerfontbold : ''), '' + (itemfontbold ? '&ITEMFONTBOLD=' + itemfontbold : ''), '' + (layerfontitalic ? '&LAYERFONTITALIC=' + layerfontitalic : ''), '' + (itemfontitalic ? '&ITEMFONTITALIC=' + itemfontitalic : ''), '' + (rulelabel ? '&RULELABEL=' + rulelabel : ''), '' + (LEGEND_ON ? '&LEGEND_ON=' + LEGEND_ON : ''), '' + (LEGEND_OFF ? '&LEGEND_OFF=' + LEGEND_OFF : ''), '' + (STYLES ? '&STYLES=' + STYLES : ''), '&LAYER=' + LAYER].join('');\n}\n\nmodule.exports = WMSLegend;\n\n},{\"core/utils/geo\":65,\"store/projects\":374}],42:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar WMSLAYER = require('core/layers/map/wmslayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction ARCGISMAPSERVERLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  base(this, options, extraParams);\n}\n\ninherit(ARCGISMAPSERVERLayer, WMSLAYER);\n\nvar proto = ARCGISMAPSERVERLayer.prototype;\n\nproto._makeOlLayer = function () {\n  var _this = this;\n\n  var config = {\n    url: this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    format: this.config.format\n  };\n  var olLayer = new RasterLayers.TiledArgisMapServer(config);\n  olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n\n  olLayer.getSource().on('imageloaderror', function () {\n    _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\nmodule.exports = ARCGISMAPSERVERLayer;\n\n},{\"core/layers/map/wmslayer\":46,\"core/utils/utils\":68,\"g3w-ol/layers/rasters\":107}],43:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar VectorLayer = require('core/layers/map/vectorlayer');\n\nfunction GeojsonLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var provider = options.provider;\n  this.setProvider(provider);\n  base(this, options);\n  this.getFeatures({\n    url: options.url,\n    mapProjection: this.mapProjection\n  });\n}\n\ninherit(GeojsonLayer, VectorLayer);\n\nmodule.exports = GeojsonLayer;\n\n},{\"core/layers/map/vectorlayer\":45,\"core/utils/utils\":68}],44:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction MapLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n  this.id = config.id;\n  this.iframe_internal = config.iframe_internal || false;\n  this.extent = config.extent;\n  this.projection = config.projection;\n  this.layer = null;\n  this.layers = config.layers || []; // store all enabled layers\n  this.allLayers = []; // store all layers\n  this.showSpinnerWhenLoading = true;\n  base(this);\n}\n\ninherit(MapLayer, G3WObject);\n\nvar proto = MapLayer.prototype;\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.getOLLayer = function () {\n  console.log('every sub classes has to be override');\n};\n\nproto.update = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this._updateLayers(mapState, extraParams);\n};\n\nproto.checkLayerDisabled = function (layer, resolution, mapUnits) {\n  layer.setDisabled(resolution, mapUnits);\n  return layer.isDisabled();\n};\n\n// check which layers has to be disabled\nproto.checkLayersDisabled = function (resolution, mapUnits) {\n  var _this = this;\n\n  this.allLayers.forEach(function (layer) {\n    return _this.checkLayerDisabled(layer, resolution, mapUnits);\n  });\n};\n\nproto.setupCustomMapParamsToLegendUrl = function () {\n  //to owerwrite for each map layer subclass\n\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n};\n\nmodule.exports = MapLayer;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],45:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit;\n\nvar _require2 = require('core/utils/geo'),\n    createOlLayer = _require2.createOlLayer,\n    createLayerStyle = _require2.createLayerStyle;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction VectorLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.mapService = _gui2.default.getComponent('map').getService();\n  this.geometrytype = options.geometrytype || null;\n  this.type = options.type || null;\n  this.crs = options.crs || null;\n  this.id = options.id;\n  this.name = options.name || \"\";\n  this.style = options.style;\n  this.color = options.color;\n  this.geometryType = options.geometryType;\n  this.mapProjection = this.mapService.getProjection().getCode();\n  this.projection = options.projection || this.mapProjection;\n  this.url = options.url;\n  this.provider = options.provider;\n  this._features = options.features || [];\n  this._olLayer = options.olLayer || this.getOLLayer();\n}\n\ninherit(VectorLayer, G3WObject);\n\nmodule.exports = VectorLayer;\n\nvar proto = VectorLayer.prototype;\n\nproto.setProvider = function (provider) {\n  this._provider = provider;\n};\n\nproto.getProvider = function () {\n  return this._provider;\n};\n\nproto.resetSource = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var source = new ol.source.Vector({\n    features: features\n  });\n  this.setSource(source);\n};\n\nproto._makeOlLayer = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      style = _ref.style;\n\n  var _style = this._makeStyle(style);\n  this._olLayer = new ol.layer.Vector({\n    name: this.name,\n    id: this.id,\n    style: _style,\n    source: new ol.source.Vector({})\n  });\n};\n\nproto._makeStyle = function (styleConfig) {\n  var style = void 0;\n  var styles = {};\n  if (styleConfig) {\n    Object.entries(styleConfig).forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          type = _ref3[0],\n          config = _ref3[1];\n\n      switch (type) {\n        case 'point':\n          if (config.icon) {\n            styles.image = new ol.style.Icon({\n              src: config.icon.url,\n              imageSize: config.icon.width\n            });\n          }\n          break;\n        case 'line':\n          styles.stroke = new ol.style.Stroke({\n            color: config.color,\n            width: config.width\n          });\n          break;\n        case 'polygon':\n          styles.fill = new ol.style.Fill({\n            color: config.color\n          });\n          break;\n      }\n    });\n    style = new ol.style.Style(styles);\n  }\n  return style;\n};\n\nproto.getFeatures = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this.provider.getFeatures(options).then(function (features) {\n    _this.addFeatures(features);\n    d.resolve(features);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.addFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.getSource().addFeatures(features);\n};\n\nproto.addFeature = function (feature) {\n  feature && this.getSource().addFeature(feature);\n};\n\nproto.getOLLayer = function () {\n  if (this._olLayer) return this._olLayer;else {\n    var id = this.id;\n    var geometryType = this.geometryType;\n    var color = this.color;\n    var style = this.style ? createLayerStyle(this.style) : null;\n    this._olLayer = createOlLayer({\n      id: id,\n      geometryType: geometryType,\n      color: color,\n      style: style,\n      features: this._features\n    });\n  }\n  return this._olLayer;\n};\n\nproto.setOLLayer = function (olLayer) {\n  this._olLayer = olLayer;\n};\n\nproto.getSource = function () {\n  !this._olLayer && this.getOLLayer();\n  return this._olLayer.getSource();\n};\n\nproto.setSource = function (source) {\n  this._olLayer.setSource(source);\n};\n\nproto.setStyle = function (style) {\n  this._olLayer.setStyle(style);\n};\n\nproto.getFeatureById = function (fid) {\n  return fid ? this._olLayer.getSource().getFeatureById(fid) : null;\n};\n\nproto.isVisible = function () {\n  return this._olLayer.getVisible();\n};\n\nproto.setVisible = function (bool) {\n  this._olLayer.setVisible(bool);\n};\n\nproto.clear = function () {\n  this.getSource().clear();\n};\n\nproto.addToMap = function (map) {\n  map.addLayer(this._olLayer);\n};\n\n},{\"core/g3wobject\":13,\"core/utils/geo\":65,\"core/utils/utils\":68,\"services/gui\":356}],46:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar MapLayer = require('core/layers/map/maplayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction WMSLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  this.LAYERTYPE = {\n    LAYER: 'layer',\n    MULTILAYER: 'multilayer'\n  };\n  this.extraParams = extraParams;\n  this._method = method;\n  base(this, options);\n}\n\ninherit(WMSLayer, MapLayer);\n\nvar proto = WMSLayer.prototype;\n\nproto.getOLLayer = function (withLayers) {\n  if (!this._olLayer) this._olLayer = this._makeOlLayer(withLayers);\n  return this._olLayer;\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.getInfoFormat = function () {\n  return 'application/vnd.ogc.gml';\n};\n\nproto.getGetFeatureInfoUrl = function (coordinate, resolution, epsg, params) {\n  return this.getOLLayer().getSource().getGetFeatureInfoUrl(coordinate, resolution, epsg, params);\n};\n\nproto.getLayerConfigs = function () {\n  return this.layers;\n};\n\nproto.addLayer = function (layer) {\n  if (!this.allLayers.find(function (_layer) {\n    return layer === _layer;\n  })) this.allLayers.push(layer);\n  if (!this.layers.find(function (_layer) {\n    return layer === _layer;\n  })) this.layers.push(layer);\n};\n\nproto.removeLayer = function (layer) {\n  this.layers = this.layers.filter(function (_layer) {\n    return layer !== _layer;\n  });\n};\n\nproto.isVisible = function () {\n  return this._getVisibleLayers().length > 0;\n};\n\nproto.getQueryUrl = function () {\n  var layer = this.layers[0];\n  if (layer.infourl && layer.infourl !== '') return layer.infourl;\n  return this.config.url;\n};\n\nproto.getQueryableLayers = function () {\n  return this.layers.filter(function (layer) {\n    return layer.isQueryable();\n  });\n};\n\nproto._getVisibleLayers = function () {\n  return this.layers.filter(function (layer) {\n    return layer.isVisible();\n  });\n};\n\nproto._makeOlLayer = function (withLayers) {\n  var _this = this;\n\n  var wmsConfig = {\n    url: this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    iframe_internal: this.iframe_internal,\n    layers: this.layers\n  };\n  if (withLayers) wmsConfig.layers = this.layers.map(function (layer) {\n    return layer.getWMSLayerName();\n  });\n  var representativeLayer = this.layers[0];\n  if (representativeLayer && representativeLayer.getWmsUrl) wmsConfig.url = representativeLayer.getWmsUrl();\n  var olLayer = new RasterLayers.WMSLayer(wmsConfig, this.extraParams, this._method);\n  olLayer.getSource().on('imageloadstart', function () {\n    return _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('imageloadend', function () {\n    return _this.emit(\"loadend\");\n  });\n  olLayer.getSource().on('imageloaderror', function () {\n    return _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\n//update Layers\nproto._updateLayers = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _extraParams$force = extraParams.force,\n      force = _extraParams$force === undefined ? false : _extraParams$force,\n      params = _objectWithoutProperties(extraParams, ['force']);\n  //check disabled layers\n\n\n  !force && this.checkLayersDisabled(mapState.resolution, mapState.mapUnits);\n  var visibleLayers = this._getVisibleLayers(mapState) || [];\n\n  var _require2 = require('core/utils/geo'),\n      get_LEGEND_ON_LEGEND_OFF_Params = _require2.get_LEGEND_ON_LEGEND_OFF_Params;\n\n  if (visibleLayers.length > 0) {\n    var CATEGORIES_LAYERS = {};\n    var STYLES = [];\n    var OPACITIES = [];\n    visibleLayers.map(function (layer) {\n      var layerId = layer.getWMSLayerName();\n      CATEGORIES_LAYERS[layerId] = _extends({}, get_LEGEND_ON_LEGEND_OFF_Params(layer));\n      STYLES.push(layer.getStyle());\n      OPACITIES.push(parseInt(layer.getOpacity() / 100 * 255));\n    });\n\n    var LEGEND_ON = void 0;\n    var LEGEND_OFF = void 0;\n    Object.keys(CATEGORIES_LAYERS).forEach(function (layerId) {\n      if (CATEGORIES_LAYERS[layerId].LEGEND_OFF) {\n        if (typeof LEGEND_OFF === 'undefined') LEGEND_OFF = CATEGORIES_LAYERS[layerId].LEGEND_OFF;else LEGEND_OFF = LEGEND_OFF + ';' + CATEGORIES_LAYERS[layerId].LEGEND_OFF;\n      }\n      if (CATEGORIES_LAYERS[layerId].LEGEND_ON) {\n        if (typeof LEGEND_ON === 'undefined') LEGEND_ON = CATEGORIES_LAYERS[layerId].LEGEND_ON;else LEGEND_ON = LEGEND_ON + ';' + CATEGORIES_LAYERS[layerId].LEGEND_ON;\n      }\n    });\n    var prefix = visibleLayers[0].isArcgisMapserver() ? 'show:' : '';\n    params = _extends({}, params, {\n      filtertoken: _applicationState2.default.tokens.filtertoken,\n      STYLES: STYLES.join(','),\n      /** @since v3.8 */\n      OPACITIES: OPACITIES.join(','),\n      LEGEND_ON: LEGEND_ON,\n      LEGEND_OFF: LEGEND_OFF,\n      LAYERS: '' + prefix + visibleLayers.map(function (layer) {\n        return layer.getWMSLayerName();\n      }).join(',')\n    });\n    this._olLayer.setVisible(true);\n    this._olLayer.getSource().updateParams(params);\n  } else this._olLayer.setVisible(false);\n};\n\nproto.setupCustomMapParamsToLegendUrl = function () {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (this.layer) this.layer.setMapParamstoLegendUrl(params);else this.layers.forEach(function (layer) {\n    return layer.setMapParamstoLegendUrl(params);\n  });\n};\n\nmodule.exports = WMSLayer;\n\n},{\"core/layers/map/maplayer\":44,\"core/utils/geo\":65,\"core/utils/utils\":68,\"g3w-ol/layers/rasters\":107,\"store/application-state\":368}],47:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction WMSTLayer() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  this.LAYERTYPE = {\n    LAYER: 'layer',\n    MULTILAYER: 'multilayer'\n  };\n  this.extraParams = extraParams;\n  this._method = method;\n  base(this, options);\n}\n\ninherit(WMSTLayer, WMSLayer);\n\nvar proto = WMSTLayer.prototype;\n\nproto._makeOlLayer = function (withLayers) {\n  var _this = this;\n\n  var wmsConfig = {\n    url: this.config.url,\n    id: this.config.id,\n    projection: this.config.projection,\n    iframe_internal: this.iframe_internal,\n    layers: this.layers\n  };\n  if (withLayers) wmsConfig.layers = this.layers.map(function (layer) {\n    return layer.getWMSLayerName();\n  });\n  var representativeLayer = this.layers[0];\n  if (representativeLayer && representativeLayer.getWmsUrl) wmsConfig.url = representativeLayer.getWmsUrl();\n  var olLayer = new RasterLayers.TiledWMSLayer(wmsConfig, this.extraParams, this._method);\n  olLayer.getSource().on('tileloadstart', function () {\n    return _this.emit(\"loadstart\");\n  });\n  olLayer.getSource().on('tileloadend', function () {\n    return _this.emit(\"loadend\");\n  });\n  olLayer.getSource().on('tileloaderror', function () {\n    return _this.emit(\"loaderror\");\n  });\n  return olLayer;\n};\n\nmodule.exports = WMSTLayer;\n\n},{\"core/layers/map/wmslayer\":46,\"core/utils/utils\":68,\"g3w-ol/layers/rasters\":107,\"store/application-state\":368}],48:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar MapLayer = require('core/layers/map/maplayer');\nvar RasterLayers = require('g3w-ol/layers/rasters');\n\nfunction XYZLayer(options) {\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n\n  base(this, options);\n  this._method = method;\n}\n\ninherit(XYZLayer, MapLayer);\n\nvar proto = XYZLayer.prototype;\n\nproto.getOLLayer = function () {\n  var olLayer = this._olLayer;\n  if (!olLayer) olLayer = this._olLayer = this._makeOlLayer();\n  return olLayer;\n};\n\nproto.getSource = function () {\n  return this.getOLLayer().getSource();\n};\n\nproto.getLayerConfigs = function () {\n  return this.layer;\n};\n\nproto.addLayer = function (layer) {\n  this.layer = layer;\n  this.layers.push(layer);\n  this.allLayers.push(layer);\n};\n\nproto.update = function (mapState, extraParams) {\n  this._updateLayer(mapState, extraParams);\n};\n\nproto.isVisible = function () {\n  return layer.state.visible;\n};\n\nproto._makeOlLayer = function () {\n  var _this = this;\n\n  var projection = this.projection ? this.projection : this.layer.getProjection();\n  var layerOptions = {\n    url: this.layer.getCacheUrl() + '/{z}/{x}/{y}.png',\n    maxZoom: 20,\n    extent: this.config.extent,\n    iframe_internal: this.iframe_internal\n  };\n\n  layerOptions.projection = projection;\n  this._olLayer = new RasterLayers.XYZLayer(layerOptions, this._method);\n\n  this._olLayer.getSource().on('imageloadstart', function () {\n    _this.emit(\"loadstart\");\n  });\n  this._olLayer.getSource().on('imageloadend', function () {\n    _this.emit(\"loadend\");\n  });\n  this._olLayer.getSource().on('imageloaderror', function () {\n    _this.emit(\"loaderror\");\n  });\n  return this._olLayer;\n};\n\nproto._updateLayer = function () {\n  var mapState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _extraParams$force = extraParams.force,\n      force = _extraParams$force === undefined ? false : _extraParams$force;\n\n  !force && this.checkLayersDisabled(mapState.resolution, mapState.mapUnits);\n  this._olLayer.setVisible(this.layer.isVisible());\n};\n\nmodule.exports = XYZLayer;\n\n},{\"core/layers/map/maplayer\":44,\"core/utils/utils\":68,\"g3w-ol/layers/rasters\":107}],49:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Provider = require('core/layers/providers/provider');\n\nfunction GEOJSONDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'geojson';\n  this.provider = options.provider;\n}\n\ninherit(GEOJSONDataProvider, Provider);\n\nvar proto = GEOJSONDataProvider.prototype;\n\nproto.query = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  d.resolve([]);\n  return d.promise();\n};\n\nproto.getFeatures = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var url = options.url || this.getLayer().get('source').url;\n  var data = options.data;\n  var projection = options.projection || \"EPSG:4326\";\n  var mapProjection = options.mapProjection;\n  var parseFeatures = function parseFeatures(data) {\n    var parser = new ol.format.GeoJSON();\n    return parser.readFeatures(data, {\n      featureProjection: mapProjection,\n      //defaultDataProjection: projection // ol v. 4.5\n      dataProjection: projection\n    });\n  };\n  if (data) {\n    var features = parseFeatures(data);\n    d.resolve(features);\n  } else {\n    $.get({ url: url }).then(function (response) {\n      var features = parseFeatures(response.results);\n      d.resolve(features);\n    }).fail(function (err) {\n      d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto.getDataTable = function () {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      page = _ref.page;\n\n  var d = $.Deferred();\n  this.getFeatures().then(function () {\n    d.resolve(_this._features);\n  }).fail(function (err) {\n    d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.digestFeaturesForTable = function () {\n  return {\n    headers: [],\n    features: []\n  };\n};\n\nmodule.exports = GEOJSONDataProvider;\n\n},{\"core/layers/providers/provider\":51,\"core/utils/utils\":68}],50:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nfunction KMLDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'kml';\n}\n\ninherit(KMLDataProvider, DataProvider);\n\nvar proto = KMLDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\nmodule.exports = KMLDataProvider;\n\n},{\"core/layers/providers/provider\":51,\"core/utils/utils\":68}],51:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    getTimeoutPromise = _require.getTimeoutPromise;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require2 = require('core/utils/geo'),\n    handleQueryResponse = _require2.handleQueryResponse;\n\nvar _require3 = require('core/utils/parsers'),\n    responseParser = _require3.response;\n\nfunction Provider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._isReady = false;\n  this._name = 'provider';\n  this._layer = options.layer;\n  this._hasFieldsStartWithNotPermittedKey;\n  base(this);\n}\n\ninherit(Provider, G3WObject);\n\nvar proto = Provider.prototype;\n\nproto.getLayer = function () {\n  return this._layer;\n};\n\nproto.setLayer = function (layer) {\n  this._layer = layer;\n};\n\nproto.getFeatures = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.query = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.setReady = function (bool) {\n  this._isReady = bool;\n};\n\nproto.isReady = function () {\n  return this._isReady;\n};\n\nproto.error = function () {};\n\nproto.isValid = function () {\n  console.log('overwriteby single provider');\n};\n\nproto.getName = function () {\n  return this._name;\n};\n\n// Method to transform xml from server to present to queryresult component\nproto.handleQueryResponseFromServer = function (response, projections) {\n  var layers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [this._layer];\n  var wms = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  return handleQueryResponse({\n    response: response,\n    projections: projections,\n    layers: layers,\n    wms: wms\n  });\n};\n\nproto.getQueryResponseTimeoutKey = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [],\n      _ref$layers = _ref.layers,\n      layers = _ref$layers === undefined ? [this._layer] : _ref$layers,\n      resolve = _ref.resolve,\n      query = _ref.query;\n\n  /**\n   * set timeout of a query\n   * @type {number}\n   */\n  return getTimeoutPromise({\n    resolve: resolve,\n    data: {\n      data: responseParser.utils.getTimeoutData(layers),\n      query: query\n    }\n  });\n};\n\nmodule.exports = Provider;\n\n},{\"core/g3wobject\":13,\"core/utils/geo\":65,\"core/utils/parsers\":67,\"core/utils/utils\":68}],52:[function(require,module,exports){\nvar Providers = {\n  geojson: require('./geojsonprovider'),\n  kml: require('./kmlprovider'),\n  xml: require('./xmlprovider'),\n  qgis: require('./qgisprovider'),\n  wms: require('./wmsprovider'),\n  wfs: require('./wfsprovider')\n};\n\nvar ProvidersForServerTypes = {\n  'QGIS': {\n    'virtual': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'postgres': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'oracle': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'mssql': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'spatialite': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'ogr': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'delimitedtext': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis,\n      filtertoken: Providers.qgis\n    },\n    'wmst': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wcs': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wms': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: null,\n      search: null\n    },\n    'wfs': {\n      query: Providers.wms,\n      filter: Providers.wfs,\n      data: Providers.qgis,\n      search: Providers.qgis\n    },\n    'gdal': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'vector-tile': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'vectortile': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'arcgismapserver': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    },\n    'mdal': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    }\n  },\n  'OGC': {\n    'wms': {\n      query: Providers.wms,\n      filter: null,\n      data: null,\n      search: null\n    }\n  },\n  'G3WSUITE': {\n    'geojson': {\n      query: Providers.geojson,\n      filter: null,\n      data: Providers.geojson,\n      search: null\n    }\n  }\n};\n\nfunction ProviderFactory() {\n  this.build = function (providerType, serverType, sourceType, options) {\n    // return instace of seletced provider\n    var providerClass = this.get(providerType, serverType, sourceType);\n    if (providerClass) {\n      return new providerClass(options);\n    }\n    return null;\n  };\n\n  this.get = function (providerType, serverType, sourceType) {\n    return ProvidersForServerTypes[serverType][sourceType][providerType];\n  };\n}\n\nmodule.exports = new ProviderFactory();\n\n},{\"./geojsonprovider\":49,\"./kmlprovider\":50,\"./qgisprovider\":53,\"./wfsprovider\":54,\"./wmsprovider\":55,\"./xmlprovider\":56}],53:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nvar _require3 = require('core/utils/parsers'),\n    responseParser = _require3.response;\n\nvar Feature = require('core/layers/features/feature');\nvar Parsers = require('core/utils/parsers');\n\nfunction QGISProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this._name = 'qgis';\n  this._layer = options.layer || {};\n  this._projections = {\n    map: null,\n    layer: null\n  };\n  // url referred to query\n  this._queryUrl = this._layer.getUrl('query');\n  //filtertokenurl\n  this._filtertokenUrl = this._layer.getUrl('filtertoken');\n  // layer name\n  this._layerName = this._layer.getName() || null; // get name  from QGIS layer, because the query are proxed from g3w-server\n  this._infoFormat = this._layer.getInfoFormat() || 'application/vnd.ogc.gml';\n}\n\ninherit(QGISProvider, DataProvider);\n\nvar proto = QGISProvider.prototype;\n/*\n* token: current token if provide\n* action: create, update, delete\n* */\n\nproto.deleteFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return XHR.get({\n            url: this._filtertokenUrl,\n            params: {\n              mode: 'delete'\n            }\n          });\n\n        case 2:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nproto.getFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _ref3, _ref3$data, data;\n\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.prev = 0;\n          _context2.next = 3;\n          return XHR.get({\n            url: this._filtertokenUrl,\n            params: params\n          });\n\n        case 3:\n          _ref3 = _context2.sent;\n          _ref3$data = _ref3.data;\n          data = _ref3$data === undefined ? {} : _ref3$data;\n          return _context2.abrupt('return', data.filtertoken);\n\n        case 9:\n          _context2.prev = 9;\n          _context2.t0 = _context2['catch'](0);\n          return _context2.abrupt('return', Promise.reject(_context2.t0));\n\n        case 12:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this, [[0, 9]]);\n}));\n\nproto.getFilterData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref5.field,\n      _ref5$raw = _ref5.raw,\n      raw = _ref5$raw === undefined ? false : _ref5$raw,\n      _ref5$suggest = _ref5.suggest,\n      suggest = _ref5$suggest === undefined ? {} : _ref5$suggest,\n      unique = _ref5.unique,\n      _ref5$formatter = _ref5.formatter,\n      formatter = _ref5$formatter === undefined ? 1 : _ref5$formatter,\n      queryUrl = _ref5.queryUrl,\n      ordering = _ref5.ordering;\n\n  var dataUrl, params, response, isVector, data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          dataUrl = this._layer.getUrl('data');\n          params = {\n            field: field,\n            suggest: suggest,\n            ordering: ordering,\n            formatter: formatter,\n            unique: unique,\n            filtertoken: _applicationState2.default.tokens.filtertoken\n          };\n          _context3.prev = 2;\n          _context3.next = 5;\n          return XHR.get({\n            url: '' + (queryUrl ? queryUrl : dataUrl),\n            params: params\n          });\n\n        case 5:\n          response = _context3.sent;\n          isVector = this._layer.getType() !== \"table\";\n\n          isVector && this.setProjections();\n          data = raw ? response : response.result ? unique ? response.data : {\n            data: responseParser.get('application/json')({\n              layers: [this._layer],\n              response: response.vector.data,\n              projections: this._projections\n            })\n          } : Promise.reject();\n          return _context3.abrupt('return', data);\n\n        case 12:\n          _context3.prev = 12;\n          _context3.t0 = _context3['catch'](2);\n          return _context3.abrupt('return', Promise.reject(_context3.t0));\n\n        case 15:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[2, 12]]);\n}));\n\nproto.setProjections = function () {\n  //COMMENTED LAYER PROJECTION: EXPECT ONLY RESULT IN MAP PROJECTION\n  //this._projections.layer = this._layer.getProjection();\n  this._projections.map = this._layer.getMapProjection() || this._projections.layer;\n};\n\n//query by filter\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var feature_count = options.feature_count || 10;\n  // parameter to get rwa response\n  var raw = options.raw || false;\n  var _options$filter = options.filter,\n      filter = _options$filter === undefined ? null : _options$filter;\n\n  filter = filter && Array.isArray(filter) ? filter : [filter];\n  var isVector = this._layer.getType() !== \"table\";\n  isVector && this.setProjections();\n  var CRS = isVector ? this._projections.map.getCode() : _applicationState2.default.map.epsg;\n  var queryUrl = options.queryUrl || this._queryUrl;\n  var I = options.I,\n      J = options.J,\n      layers = options.layers;\n\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWMSLayerName();\n  }).join(',') : this._layer.getWMSLayerName();\n  if (filter) {\n    // check if geometry filter. If not i have to remove projection layer\n    if (filter[0].getType() !== 'geometry') this._projections.layer = null;\n    filter = filter.map(function (filter) {\n      return filter.get();\n    }).filter(function (value) {\n      return value;\n    });\n    var url = queryUrl;\n    var params = {\n      SERVICE: 'WMS',\n      VERSION: '1.3.0',\n      REQUEST: 'GetFeatureInfo',\n      filtertoken: _applicationState2.default.tokens.filtertoken,\n      LAYERS: layerNames,\n      QUERY_LAYERS: layerNames,\n      INFO_FORMAT: this._infoFormat,\n      FEATURE_COUNT: feature_count,\n      CRS: CRS,\n      I: I,\n      J: J,\n      FILTER: filter && filter.length ? filter.join(';') : undefined,\n      WITH_GEOMETRY: isVector\n    };\n    XHR.get({\n      url: url,\n      params: params\n    }).then(function (response) {\n      var featuresForLayers = raw ? response : _this.handleQueryResponseFromServer(response, _this._projections, layers);\n      d.resolve(featuresForLayers);\n    }).catch(function (err) {\n      return d.reject(err);\n    });\n  } else d.reject();\n  return d.promise();\n};\n\n// get layer config\nproto.getConfig = function () {\n  var d = $.Deferred();\n  var url = this._layer.getUrl('config');\n  if (!url) {\n    d.reject('not valid url');\n    return;\n  }\n  $.get(url).then(function (config) {\n    return d.resolve(config);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.getWidgetData = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var type = options.type,\n      fields = options.fields;\n\n  var widgetUrls = this._layer.getUrl('widget');\n  var url = widgetUrls[type];\n  return $.get(url, {\n    fields: fields\n  });\n};\n\n// unlock feature\nproto.unlock = function () {\n  var unlockUrl = this._layer.getUrl('unlock');\n  var d = $.Deferred();\n  $.post(unlockUrl).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// commit function\nproto.commit = function (commitItems) {\n  var d = $.Deferred();\n  //check if editing or not;\n  var url = this._layer.getUrl('commit');\n  var jsonCommits = JSON.stringify(commitItems);\n  $.post({\n    url: url,\n    data: jsonCommits,\n    contentType: \"application/json\"\n  }).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// METODS LOADING EDITING FEATURES (READ/WRITE) //\nproto.getFeatures = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  // filter null value\n  Object.entries(params).forEach(function (_ref6) {\n    var _ref7 = _slicedToArray(_ref6, 2),\n        key = _ref7[0],\n        value = _ref7[1];\n\n    if (value === null || value === void 0) delete params[key];\n  });\n  var layerType = this._layer.getType();\n  // check if data are requested in read or write mode;\n  var url = void 0;\n  //set contentType\n  var contentType = \"application/json\";\n  //editing mode\n  if (options.editing) {\n    var promise = void 0;\n    url = this._layer.getUrl('editing');\n    if (!url) {\n      d.reject('Url not valid');\n      return;\n    }\n    var urlParams = $.param(params);\n    url += urlParams ? '?' + urlParams : '';\n    var features = [];\n    var filter = options.filter || null;\n    if (filter) {\n      // filterbbox\n      if (filter.bbox) {\n        var bbox = filter.bbox;\n        filter = {\n          in_bbox: bbox[0] + ',' + bbox[1] + ',' + bbox[2] + ',' + bbox[3],\n          filtertoken: _applicationState2.default.tokens.filtertoken\n        };\n        var jsonFilter = JSON.stringify(filter);\n        promise = XHR.post({\n          url: url,\n          data: jsonFilter,\n          contentType: contentType\n        });\n        // filter fid\n      } else if (filter.fid) {\n        var _options = filter.fid;\n        promise = _relations2.default.getRelations(_options);\n      } else if (filter.field) {\n        var _jsonFilter = JSON.stringify(filter);\n        promise = XHR.post({\n          url: url,\n          data: _jsonFilter,\n          contentType: contentType\n        });\n      } else if (filter.fids) {\n        promise = XHR.get({\n          url: url,\n          params: filter\n        });\n      } else if (filter.nofeatures) {\n        var _jsonFilter2 = JSON.stringify({\n          field: (filter.nofeatures_field || 'id') + '|eq|__G3W__NO_FEATURES__'\n        });\n        promise = XHR.post({\n          url: url,\n          data: _jsonFilter2,\n          contentType: contentType\n        });\n      }\n    } else promise = XHR.post({ url: url, contentType: contentType });\n    promise.then(function (response) {\n      var vector = response.vector,\n          result = response.result,\n          featurelocks = response.featurelocks;\n\n      if (result) {\n        var data = vector.data,\n            geometrytype = vector.geometrytype,\n            count = vector.count;\n\n        var parser = Parsers[layerType].get({\n          type: 'json'\n        });\n        //const parser_options = (geometrytype !== 'NoGeometry') ? { crs: this._layer.getCrs(), mapCrs: this._layer.getMapCrs() } : {};\n        var parser_options = geometrytype !== 'NoGeometry' ? { crs: _this2._layer.getCrs() } : {};\n        //get lockIds\n        var lockIds = featurelocks.map(function (featureLock) {\n          return featureLock.featureid;\n        });\n        parser(data, parser_options).forEach(function (feature) {\n          var featureId = '' + feature.getId();\n          if (lockIds.indexOf(featureId) > -1) {\n            features.push(new Feature({\n              feature: feature\n            }));\n          }\n        });\n        // resolve with features locked and requested\n        d.resolve({\n          count: count, // real number of feature that request will return\n          features: features, // feature object returned\n          featurelocks: featurelocks // features locked\n        });\n      } else {\n        // case when server responde with result false (error)\n        d.reject({\n          message: t(\"info.server_error\")\n        });\n      }\n    }).catch(function (err) {\n      return d.reject({ message: t(\"info.server_error\") });\n    });\n  } else {\n    url = this._layer.getUrl('data');\n    var _urlParams = $.param(params);\n    url += _urlParams ? '?' + _urlParams : '';\n    $.get({\n      url: url,\n      contentType: contentType\n    }).then(function (response) {\n      var vector = response.vector;\n      var data = vector.data;\n      d.resolve({\n        data: data,\n        count: vector.count\n      });\n    }).fail(function (err) {\n      return d.reject(err);\n    });\n  }\n  return d.promise();\n};\n\nproto._loadLayerData = function (mode, customUrlParameters) {\n  var _this3 = this,\n      _arguments = arguments;\n\n  var d = $.Deferred();\n  Obkect.entries(this._layers).forEach(function (_ref8) {\n    var _ref9 = _slicedToArray(_ref8, 2),\n        layerCode = _ref9[0],\n        layer = _ref9[1];\n\n    if (_.isNull(layer.vector)) noVectorlayerCodes.push(layerCode);\n  });\n  var vectorLayersSetup = noVectorlayerCodes.map(function (layerCode) {\n    return _this3._setupVectorLayer(layerCode);\n  });\n  this.emit('loadingvectorlayersstart');\n  $.when.apply(this, vectorLayersSetup).then(function () {\n    var vectorLayersCodes = Array.prototype.slice.call(_arguments);\n    _this3.emit('loadingvectolayersdatastart');\n    _this3.loadAllVectorsData(vectorLayersCodes).then(function () {\n      _this3._vectorLayersCodes = vectorLayersCodes;\n      d.resolve(vectorLayersCodes);\n      _this3.emit('loadingvectorlayersend');\n      _this3.setReady(true);\n    }).fail(function () {\n      _this3._layers.forEach(function (layer) {\n        return layer.vector = null;\n      });\n      d.reject();\n      _this3.emit('errorloadingvectorlayersend');\n      _this3.setReady(false);\n    });\n  }).fail(function () {\n    _this3.setReady(false);\n    _this3.emit('errorloadingvectorlayersend');\n    d.reject();\n  });\n  return d.promise();\n};\n\nproto.setVectorLayersCodes = function (vectorLayersCodes) {\n  this._vectorLayersCodes = vectorLayersCodes;\n};\n\nproto.getVectorLayersCodes = function () {\n  return this._vectorLayersCodes;\n};\n\nproto.getLayers = function () {\n  return this._layers;\n};\n\nproto.reloadVectorData = function (layerCode) {\n  var _this4 = this;\n\n  var d = $.Deferred();\n  var bbox = this._mapService.state.bbox;\n  this._createVectorLayerFromConfig(layerCode).then(function (vectorLayer) {\n    _this4._getVectorLayerData(vectorLayer, bbox).then(function (vectorDataResponse) {\n      _this4.setVectorLayerData(vectorLayer[_this4._editingApiField], vectorDataResponse);\n      vectorLayer.setData(vectorDataResponse.vector.data);\n      d.resolve(vectorLayer);\n    });\n  });\n  return d.promise();\n};\n\nproto.loadAllVectorsData = function (layerCodes) {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  var layers = this._layers;\n  var bbox = this._mapService.state.bbox;\n  var loadedExtent = this._loadedExtent;\n  if (loadedExtent && ol.extent.containsExtent(loadedExtent, bbox)) {\n    return resolvedValue();\n  }\n  this._loadedExtent = !loadedExtent ? bbox : ol.extent.extend(loadedExtent, bbox);\n  if (layerCodes) {\n    layers = [];\n    layerCodes.forEach(function (layerCode) {\n      return layers.push(_this5._layers[layerCode]);\n    });\n  }\n  var vectorDataRequests = layers.map(function (Layer) {\n    return _this5._loadVectorData(Layer.vector, bbox);\n  });\n\n  $.when.apply(this, vectorDataRequests).then(function () {\n    return d.resolve(layerCodes);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._setCustomUrlParameters = function (customUrlParameters) {\n  this._customUrlParameters = customUrlParameters;\n};\n\nproto._checkVectorGeometryTypeFromConfig = function (vectorConfig) {\n  switch (vectorConfig.geometrytype) {\n    case 'Line':\n      vectorConfig.geometrytype = 'LineString';\n      break;\n    case 'MultiLine':\n      vectorConfig.geometrytype = 'MultiLineString';\n      break;\n  }\n  return vectorConfig;\n};\n\nproto._createVectorLayerFromConfig = function (layerCode) {\n  var _this6 = this;\n\n  var layerConfig = this._layers[layerCode];\n  var d = $.Deferred();\n  this._getVectorLayerConfig(layerConfig[this._editingApiField]).then(function (vectorConfigResponse) {\n    var vectorConfig = vectorConfigResponse.vector;\n    vectorConfig = _this6._checkVectorGeometryTypeFromConfig(vectorConfig);\n    var crsLayer = layerConfig.crs || _this6._mapService.getProjection().getCode();\n    var vectorLayer = _this6._createVectorLayer({\n      geometrytype: vectorConfig.geometrytype,\n      format: vectorConfig.format,\n      crs: _this6._mapService.getProjection().getCode(),\n      crsLayer: crsLayer,\n      id: layerConfig.id,\n      name: layerConfig.name,\n      editing: self._editingMode\n    });\n    vectorLayer.setFields(vectorConfig.fields);\n    vectorLayer.setCrs(crsLayer);\n    var relations = vectorConfig.relations;\n    if (relations) {\n      vectorLayer.lazyRelations = true;\n      vectorLayer.setRelations(relations);\n    }\n    if (layerConfig.style) vectorLayer.setStyle(layerConfig.style);\n    d.resolve(vectorLayer);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._setupVectorLayer = function (layerCode) {\n  var _this7 = this;\n\n  var d = $.Deferred();\n  this._createVectorLayerFromConfig(layerCode).then(function (vectorLayer) {\n    var layerConfig = _this7._layers[layerCode];\n    layerConfig.vector = vectorLayer;\n    d.resolve(layerCode);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._loadVectorData = function (vectorLayer, bbox) {\n  var _this8 = this;\n\n  return self._getVectorLayerData(vectorLayer, bbox).then(function (vectorDataResponse) {\n    _this8.setVectorLayerData(vectorLayer[_this8._editingApiField], vectorDataResponse);\n    if (_this8._editingMode && vectorDataResponse.featurelocks) {\n      _this8.setVectorFeaturesLock(vectorLayer, vectorDataResponse.featurelocks);\n    }\n    vectorLayer.setData(vectorDataResponse.vector.data);\n    if (_this8._) return vectorDataResponse;\n  }).fail(function () {\n    return false;\n  });\n};\n\nproto.getVectorLayerData = function (layerCode) {\n  return this._vectorLayersData[layerCode];\n};\n\nproto.getVectorLayersData = function () {\n  return this._vectorLayersData;\n};\n\nproto.setVectorLayerData = function (layerCode, vectorLayerData) {\n  this._vectorLayersData[layerCode] = vectorLayerData;\n};\n\nproto.setVectorFeaturesLock = function (vectorLayer, featureslock) {\n  var newFeaturesLockIds = _.differenceBy(featureslock, vectorLayer.getFeatureLocks(), 'featureid');\n  newFeaturesLockIds.forEach(function (newLockId) {\n    vectorLayer.addLockId(newLockId);\n  });\n};\n\nproto.cleanVectorFeaturesLock = function (vectorLayer) {\n  vectorLayer.cleanFeatureLocks();\n};\n\nproto.lockFeatures = function (layerName) {\n  var _this9 = this;\n\n  var d = $.Deferred();\n  var bbox = this._mapService.state.bbox;\n  var vectorLayer = this._layers[layerName].vector;\n  $.get(this._baseUrl + layerName + \"/?lock\" + this._customUrlParameters + \"&in_bbox=\" + bbox[0] + \",\" + bbox[1] + \",\" + bbox[2] + \",\" + bbox[3]).done(function (data) {\n    _this9.setVectorFeaturesLock(vectorLayer, data.featurelocks);\n    d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._getVectorLayerConfig = function (layerApiField) {\n  var d = $.Deferred();\n  $.get(this._baseUrl + layerApiField + \"/?config\" + this._customUrlParameters).done(function (data) {\n    return d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._getVectorLayerData = function (vectorLayer, bbox) {\n  var d = $.Deferred();\n  var lock = this.getMode() == 'w' ? true : false;\n  var apiUrl = lock ? this._baseUrl + vectorLayer[this._editingApiField] + \"/?editing\" : this._baseUrl + vectorLayer[this._editingApiField] + \"/?\";\n  $.get(apiUrl + this._customUrlParameters + \"&in_bbox=\" + bbox[0] + \",\" + bbox[1] + \",\" + bbox[2] + \",\" + bbox[3]).done(function (data) {\n    return d.resolve(data);\n  }).fail(function () {\n    return d.reject();\n  });\n  return d.promise();\n};\n\nproto._createVectorLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var vector = new VectorLayer(options);\n  return vector;\n};\n\nproto.cleanUpLayers = function () {\n  this._loadedExtent = null;\n};\n\nmodule.exports = QGISProvider;\n\n},{\"core/i18n/i18n.service\":14,\"core/layers/features/feature\":27,\"core/layers/providers/provider\":51,\"core/utils/parsers\":67,\"core/utils/utils\":68,\"services/relations\":362,\"store/application-state\":368}],54:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar DataProvider = require('core/layers/providers/provider');\nvar Filter = require('core/layers/filter/filter');\n\nfunction WFSDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'wfs';\n}\n\ninherit(WFSDataProvider, DataProvider);\n\nvar proto = WFSDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\n// query method\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$reproject = options.reproject,\n      reproject = _options$reproject === undefined ? false : _options$reproject,\n      _options$feature_coun = options.feature_count,\n      feature_count = _options$feature_coun === undefined ? 10 : _options$feature_coun,\n      filter = options.filter;\n\n  params.MAXFEATURES = feature_count;\n  var d = $.Deferred();\n  var _options$layers = options.layers,\n      layers = _options$layers === undefined ? [this._layer] : _options$layers;\n\n\n  var projections = {\n    map: this._layer.getMapProjection(),\n    layer: reproject ? this._layer.getProjection() : null\n  };\n\n  var timeoutKey = this.getQueryResponseTimeoutKey({\n    layers: layers,\n    resolve: d.resolve,\n    query: {}\n  });\n\n  this._doRequest(filter, params, layers, reproject).then(function (response) {\n    var featuresForLayers = _this.handleQueryResponseFromServer(response, projections, layers, wms = false);\n    featuresForLayers.forEach(function (featuresForLayer) {\n      var _featuresForLayer$fea = featuresForLayer.features,\n          features = _featuresForLayer$fea === undefined ? [] : _featuresForLayer$fea;\n      //sanitize in case of nil:true\n\n      features.forEach(function (feature) {\n        Object.entries(feature.getProperties()).forEach(function (_ref) {\n          var _ref2 = _slicedToArray(_ref, 2),\n              attribute = _ref2[0],\n              value = _ref2[1];\n\n          if (toRawType(value) === 'Object' && value['xsi:nil']) feature.set(attribute, 'NULL');\n        });\n      });\n    });\n    d.resolve({\n      data: featuresForLayers\n    });\n  }).fail(function (e) {\n    return d.reject(e);\n  }).always(function () {\n    clearTimeout(timeoutKey);\n  });\n  return d.promise();\n};\n\nproto._post = function (url, params) {\n  url = url.match(/\\/$/) ? url : url + '/';\n  var d = $.Deferred();\n  $.post(url, params).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n// get request\nproto._get = function (url, params) {\n  // trasform parameters\n  url = url.match(/\\/$/) ? url : url + '/';\n  var d = $.Deferred();\n  var urlParams = $.param(params);\n  url = url + '?' + urlParams;\n  $.get(url).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\n//request to server\nproto._doRequest = function (filter) {\n  var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var layers = arguments[2];\n  var reproject = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n\n  var d = $.Deferred();\n  filter = filter || new Filter({});\n  var layer = layers ? layers[0] : this._layer;\n  var httpMethod = layer.getOwsMethod();\n  var url = layer.getQueryUrl();\n  var infoFormat = layer.getInfoFormat();\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWFSLayerName();\n  }).join(',') : layer.getWFSLayerName();\n  var SRSNAME = reproject ? layer.getProjection().getCode() : this._layer.getMapProjection().getCode();\n  params = Object.assign(params, {\n    SERVICE: 'WFS',\n    VERSION: '1.1.0',\n    REQUEST: 'GetFeature',\n    TYPENAME: layerNames,\n    OUTPUTFORMAT: infoFormat,\n    SRSNAME: SRSNAME\n  });\n  if (filter) {\n    var filterType = filter.getType();\n    var filterConfig = filter.getConfig();\n    var featureRequest = void 0;\n    // get filter from ol\n    var f = ol.format.filter;\n    /////\n    filter = filter.get();\n    switch (filterType) {\n      case 'bbox':\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: f.bbox('the_geom', filter)\n        });\n        break;\n      case 'geometry':\n        //speatial methos. <inteserct, within>\n        var _filterConfig$spatial = filterConfig.spatialMethod,\n            spatialMethod = _filterConfig$spatial === undefined ? 'intersects' : _filterConfig$spatial;\n\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: f[spatialMethod]('the_geom', filter)\n        });\n        break;\n      case 'expression':\n        featureRequest = new ol.format.WFS().writeGetFeature({\n          featureTypes: [layer],\n          filter: null\n        });\n        break;\n      case 'all':\n        request = this._post(url, params);\n        return request;\n      default:\n        break;\n    }\n    params.FILTER = ('(' + featureRequest.children[0].innerHTML + ')').repeat(layers ? layers.length : 1);\n    var queryPromise = httpMethod === 'GET' && filterType !== 'geometry' ? this._get(url, params) : this._post(url, params);\n    queryPromise.then(function (response) {\n      d.resolve(response);\n    }).fail(function (err) {\n      if (err.status === 200) d.resolve(err.responseText);else d.reject(err);\n    });\n  } else d.reject();\n\n  return d.promise();\n};\n\nmodule.exports = WFSDataProvider;\n\n},{\"core/layers/filter/filter\":31,\"core/layers/providers/provider\":51,\"core/utils/utils\":68}],55:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    appendParams = _require.appendParams,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    get_LEGEND_ON_LEGEND_OFF_Params = _require2.get_LEGEND_ON_LEGEND_OFF_Params;\n\nvar geoutils = require('core/utils/ol');\nvar DataProvider = require('core/layers/providers/provider');\n\n//overwrite method to read feature\n// da un geojson\nvar GETFEATUREINFO_IMAGE_SIZE = [101, 101];\nvar DPI = geoutils.getDPI();\n\nfunction WMSDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._name = 'wms';\n  this._projections = {\n    map: null,\n    layer: null\n  };\n}\n\ninherit(WMSDataProvider, DataProvider);\n\nvar proto = WMSDataProvider.prototype;\n\nproto._getRequestParameters = function (_ref) {\n  var layers = _ref.layers,\n      feature_count = _ref.feature_count,\n      coordinates = _ref.coordinates,\n      infoFormat = _ref.infoFormat,\n      _ref$query_point_tole = _ref.query_point_tolerance,\n      query_point_tolerance = _ref$query_point_tole === undefined ? _constant.QUERY_POINT_TOLERANCE : _ref$query_point_tole,\n      resolution = _ref.resolution,\n      size = _ref.size;\n\n  var layerNames = layers ? layers.map(function (layer) {\n    return layer.getWMSInfoLayerName();\n  }).join(',') : this._layer.getWMSInfoLayerName();\n  var extent = geoutils.getExtentForViewAndSize(coordinates, resolution, 0, size);\n  var x = Math.floor((coordinates[0] - extent[0]) / resolution);\n  var y = Math.floor((extent[3] - coordinates[1]) / resolution);\n  var PARAMS_TOLERANCE = {};\n  var unit = query_point_tolerance.unit,\n      value = query_point_tolerance.value;\n\n  if (unit === 'map') {\n    var bufferGeometry = ol.geom.Polygon.fromCircle(new ol.geom.Circle(coordinates, value));\n    var wkGeometry = new ol.format.WKT();\n    PARAMS_TOLERANCE = {\n      FILTER_GEOM: wkGeometry.writeGeometry(bufferGeometry)\n    };\n  } else {\n    PARAMS_TOLERANCE = {\n      FI_POINT_TOLERANCE: value,\n      FI_LINE_TOLERANCE: value,\n      FI_POLYGON_TOLERANCE: value,\n      G3W_TOLERANCE: value * resolution,\n      I: x,\n      J: y\n    };\n  }\n  /**\n   * Add LEGEND_ON and/or LEGEND_OFF in case of layer that has categories\n   * It used to solve issue related to GetFeatureInfo feature layer categories\n   * that are unchecked (not visisble) at QGIS project setting\n   */\n  var LEGEND_PARAMS = {\n    LEGEND_ON: [],\n    LEGEND_OFF: []\n  };\n  layers.forEach(function (layer) {\n    if (layer.getCategories()) {\n      var _get_LEGEND_ON_LEGEND = get_LEGEND_ON_LEGEND_OFF_Params(layer),\n          LEGEND_ON = _get_LEGEND_ON_LEGEND.LEGEND_ON,\n          LEGEND_OFF = _get_LEGEND_ON_LEGEND.LEGEND_OFF;\n\n      LEGEND_ON && LEGEND_PARAMS.LEGEND_ON.push(LEGEND_ON);\n      LEGEND_OFF && LEGEND_PARAMS.LEGEND_OFF.push(LEGEND_OFF);\n    }\n  });\n\n  var params = _extends({\n    SERVICE: 'WMS',\n    VERSION: '1.3.0',\n    REQUEST: 'GetFeatureInfo',\n    CRS: this._projections.map.getCode(),\n    LAYERS: layerNames,\n    QUERY_LAYERS: layerNames,\n    filtertoken: _applicationState2.default.tokens.filtertoken,\n    INFO_FORMAT: infoFormat,\n    FEATURE_COUNT: feature_count,\n    WITH_GEOMETRY: true,\n    DPI: DPI\n  }, PARAMS_TOLERANCE, {\n    WIDTH: size[0],\n    HEIGHT: size[1],\n    //LEGEND_ON / LEGEND_OFF parameter\n    LEGEND_ON: LEGEND_PARAMS.LEGEND_ON.length ? LEGEND_PARAMS.LEGEND_ON.join(';') : undefined,\n    LEGEND_OFF: LEGEND_PARAMS.LEGEND_OFF.length ? LEGEND_PARAMS.LEGEND_OFF.join(';') : undefined\n  });\n  if (!('STYLES' in params)) params['STYLES'] = '';\n  var bbox = this._projections.map.getAxisOrientation().substr(0, 2) === 'ne' ? [extent[1], extent[0], extent[3], extent[2]] : extent;\n  params['BBOX'] = bbox.join(',');\n  return params;\n};\n\nproto.query = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var infoFormat = this._layer.getInfoFormat() || 'application/vnd.ogc.gml';\n  var layerProjection = this._layer.getProjection();\n  this._projections.map = this._layer.getMapProjection() || layerProjection;\n  var _options$layers = options.layers,\n      layers = _options$layers === undefined ? [this._layer] : _options$layers,\n      _options$feature_coun = options.feature_count,\n      feature_count = _options$feature_coun === undefined ? 10 : _options$feature_coun,\n      _options$size = options.size,\n      size = _options$size === undefined ? GETFEATUREINFO_IMAGE_SIZE : _options$size,\n      _options$coordinates = options.coordinates,\n      coordinates = _options$coordinates === undefined ? [] : _options$coordinates,\n      resolution = options.resolution,\n      query_point_tolerance = options.query_point_tolerance;\n\n  var layer = layers[0];\n  var url = layer.getQueryUrl();\n  var METHOD = layer.isExternalWMS() || !/^\\/ows/.test(url) ? 'GET' : layer.getOwsMethod();\n  var params = this._getRequestParameters({ layers: layers, feature_count: feature_count, coordinates: coordinates, infoFormat: infoFormat, query_point_tolerance: query_point_tolerance, resolution: resolution, size: size });\n  var query = {\n    coordinates: coordinates,\n    resolution: resolution\n  };\n  var timeoutKey = this.getQueryResponseTimeoutKey({\n    layers: layers,\n    resolve: d.resolve,\n    query: query\n  });\n\n  if (layer.useProxy()) {\n    layer.getDataProxyFromServer('wms', {\n      url: url,\n      params: params,\n      method: METHOD,\n      headers: {\n        'Content-Type': infoFormat\n      }\n    }).then(function (response) {\n      var data = _this.handleQueryResponseFromServer(response, _this._projections, layers);\n      d.resolve({\n        data: data,\n        query: query\n      });\n    });\n  } else this[METHOD]({ url: url, layers: layers, params: params }).then(function (response) {\n    var data = _this.handleQueryResponseFromServer(response, _this._projections, layers);\n    d.resolve({\n      data: data,\n      query: query\n    });\n  }).catch(function (err) {\n    return d.reject(err);\n  }).finally(function () {\n    return clearTimeout(timeoutKey);\n  });\n  return d.promise();\n};\n\nproto.GET = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref2.url,\n      params = _ref2.params;\n\n  var sourceParam = url.split('SOURCE');\n  if (sourceParam.length) {\n    url = sourceParam[0];\n    if (sourceParam.length > 1) sourceParam = '&SOURCE' + sourceParam[1];else sourceParam = '';\n  }\n  url = appendParams(url, params);\n  url = '' + url + (sourceParam && sourceParam);\n  return XHR.get({\n    url: url\n  });\n};\n\nproto.POST = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref3.url,\n      params = _ref3.params;\n\n  return XHR.post({\n    url: url,\n    data: params\n  });\n};\n\nmodule.exports = WMSDataProvider;\n\n},{\"constant\":5,\"core/layers/providers/provider\":51,\"core/utils/geo\":65,\"core/utils/ol\":66,\"core/utils/utils\":68,\"store/application-state\":368}],56:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar DataProvider = require('core/layers/providers/provider');\n\nfunction XMLDataProvider() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this._name = 'xml';\n}\n\ninherit(XMLDataProvider, DataProvider);\n\nvar proto = XMLDataProvider.prototype;\n\nproto.getData = function () {\n  var d = $.Deferred();\n  return d.promise();\n};\n\nmodule.exports = XMLDataProvider;\n\n},{\"core/layers/providers/provider\":51,\"core/utils/utils\":68}],57:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constant = require('app/constant');\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Layer = require('core/layers/layer');\nvar Editor = require('core/editing/editor');\nvar FeaturesStore = require('core/layers/features/featuresstore');\nvar Feature = require('core/layers/features/feature');\n\n// Base Layer that support editing\nfunction TableLayer() {\n  var _this3 = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // setters\n  this.setters = {\n    // delete all features\n    clearFeatures: function clearFeatures() {\n      this._clearFeatures();\n    },\n    addFeature: function addFeature(feature) {\n      this._addFeature(feature);\n    },\n    deleteFeature: function deleteFeature(feature) {\n      this._deleteFeature(feature);\n    },\n    updateFeature: function updateFeature(feature) {\n      this._updateFeature(feature);\n    },\n    setFeatures: function setFeatures(features) {\n      this._setFeatures(features);\n    },\n\n    // get data from every sources (server, wms, etc..)\n    // throught provider related to featuresstore\n    getFeatures: function getFeatures() {\n      var _this = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var d = $.Deferred();\n      this._featuresstore.getFeatures(options).then(function (promise) {\n        promise.then(function (features) {\n          _this.emit('getFeatures', features);\n          return d.resolve(features);\n        }).fail(function (err) {\n          return d.reject(err);\n        });\n      }).fail(function (err) {\n        return d.reject(err);\n      });\n      return d.promise();\n    },\n    commit: function commit(commitItems) {\n      var _this2 = this;\n\n      var d = $.Deferred();\n      this._featuresstore.commit(commitItems).then(function (promise) {\n        promise.then(function (response) {\n          response && response.result && _this2.syncSelectionFilterFeatures(commitItems);\n          d.resolve(response);\n        }).fail(function (err) {\n          return d.reject(err);\n        });\n      }).fail(function (err) {\n        d.reject(err);\n      });\n      return d.promise();\n    },\n    setColor: function setColor(color) {\n      this._setColor(color);\n    }\n  };\n  /*\n   * editing url api:\n   * /api/vector/<type of request: data/editing/config>/<project_type>/<project_id>/<layer_id>\n   * example: /api/vector/config/qdjango/10/points273849503023\n   *\n  */\n  this.type = Layer.LayerTypes.TABLE;\n  // color\n  this._color = null;\n  options.project = options.project || _projects2.default.getCurrentProject();\n  this.layerId = config.id;\n  // add urls\n  config.urls = config.urls || {};\n  // add editing configurations\n  config.editing = {\n    fields: [] // editing fields\n  };\n  // call base layer\n  base(this, config, options);\n\n  // get configuration from server if is editable\n  this._editatbleLayer;\n  if (this.isEditable()) {\n    // add state info for the layer\n    this.layerForEditing = new Promise(function (resolve, reject) {\n      _this3.getEditingConfig().then(function () {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            vector = _ref.vector,\n            _ref$constraints = _ref.constraints,\n            constraints = _ref$constraints === undefined ? {} : _ref$constraints,\n            _ref$capabilities = _ref.capabilities,\n            capabilities = _ref$capabilities === undefined ? _constant.DEFAULT_EDITING_CAPABILITIES : _ref$capabilities;\n\n        _this3.config.editing.fields = vector.fields;\n        _this3.config.editing.format = vector.format;\n        _this3.config.editing.constraints = constraints;\n        //set default editing capabilities\n        _this3.config.editing.capabilities = capabilities;\n        _this3.config.editing.style = vector.style;\n        _this3.config.editing.form = {\n          perc: null\n        };\n        _this3._setOtherConfigParameters(vector);\n        vector.style && _this3.setColor(vector.style.color);\n        // create an instance of editor\n        _this3._editor = new Editor({\n          layer: _this3\n        });\n\n        resolve(_this3);\n        _this3.setReady(true);\n      }).fail(function (err) {\n        reject(_this3);\n        _this3.setReady(false);\n      });\n    });\n    this.state = _extends({}, this.state, {\n      editing: {\n        started: false,\n        modified: false,\n        ready: false\n      }\n    });\n  }\n  this._featuresstore = new FeaturesStore({\n    provider: this.providers.data\n  });\n}\n\ninherit(TableLayer, Layer);\n\nvar proto = TableLayer.prototype;\n\n//sync selection\nproto.syncSelectionFilterFeatures = function (commitItems) {\n  try {\n    var layer = _catalogLayers2.default.getLayerById(this.getId());\n    layer.isGeoLayer() && commitItems.update.forEach(function (updateItem) {\n      var id = updateItem.id,\n          geometry = updateItem.geometry;\n\n      layer.getOlSelectionFeature(id) && layer.updateOlSelectionFeature({ id: id, geometry: geometry });\n    });\n    commitItems.delete.forEach(function (id) {\n      layer.hasSelectionFid(id) && layer.excludeSelectionFid(id);\n    });\n  } catch (err) {}\n};\n\nproto.setFormPercentage = function (perc) {\n  this.config.editing.form.perc = perc;\n};\n\nproto.getFormPercentage = function () {\n  return this.config.editing.form.perc;\n};\n\nproto.clone = function () {\n  return _.cloneDeep(this);\n};\n\nproto.cloneFeatures = function () {\n  return this._featuresstore.clone();\n};\n\nproto.setVectorUrl = function (url) {\n  this.vectorUrl = url;\n};\n\nproto.setProjectType = function (projectType) {\n  this.projectType = projectType;\n};\n\nproto._setColor = function (color) {\n  this._color = color;\n};\n\nproto.getColor = function () {\n  return this._color;\n};\n\nproto.readFeatures = function () {\n  return this._featuresstore.readFeatures();\n};\n\n// return layer for editing\nproto.getLayerForEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      vectorurl = _ref3.vectorurl,\n      project_type = _ref3.project_type;\n\n  var editableLayer;\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          vectorurl && this.setVectorUrl(vectorurl);\n          project_type && this.setProjectType(project_type);\n          this.setEditingUrl();\n          editableLayer = this.clone();\n          _context.prev = 4;\n          _context.next = 7;\n          return editableLayer.layerForEditing;\n\n        case 7:\n          return _context.abrupt('return', _context.sent);\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context['catch'](4);\n          return _context.abrupt('return', _context.t0);\n\n        case 13:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[4, 10]]);\n}));\n\nproto.getEditingSource = function () {\n  return this._editor.getEditingSource();\n};\n\nproto.readEditingFeatures = function () {\n  return this._editor.readEditingFeatures();\n};\n\nproto.getEditingLayer = function () {\n  return this;\n};\n\n//check if is editingLayer useful to get editingstyle\nproto.isEditingLayer = function () {\n  return !!this.config.editing;\n};\n\nproto.getEditingStyle = function () {\n  return this.config.editing.style;\n};\n\nproto.setEditingStyle = function () {\n  var style = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config.editing.style = style;\n};\n\nproto.getEditingConstrains = function () {\n  return this.config.editing.constraints;\n};\n\nproto.getEditingCapabilities = function () {\n  return this.config.editing.capabilities;\n};\n\nproto.isFieldRequired = function (fieldName) {\n  var required = false;\n  this.getEditingFields().forEach(function (field) {\n    if (fieldName === field.name) {\n      required = !!field.validate.required;\n      return false;\n    }\n  });\n  return required;\n};\n\n// unlock editng features\nproto.unlock = function () {\n  var d = $.Deferred();\n  this._featuresstore.unlock().then(function () {\n    return d.resolve();\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto._setOtherConfigParameters = function (config) {\n  // overwrite by vector layer\n};\n\n// return layer fields\nproto.getEditingFields = function () {\n  var editable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var fields = this.config.editing.fields.length ? this.config.editing.fields : this.config.fields;\n  if (editable) fields = fields.filter(function (field) {\n    return field.editable;\n  });\n  return fields;\n};\n\nproto.isPkField = function (field) {\n  var find_field = this.getEditingFields().find(function (_field) {\n    return _field.name === field;\n  });\n  return find_field && find_field.pk;\n};\n\nproto.isEditingFieldEditable = function (field) {\n  var find_field = this.getEditingFields().find(function (_field) {\n    return _field.name === field;\n  });\n  return find_field ? find_field.editable : false;\n};\n\nproto.getEditingNotEditableFields = function () {\n  return this.config.editing.fields.filter(function (field) {\n    return !field.editable;\n  }).map(function (field) {\n    return field.name;\n  });\n};\n\nproto.getEditingMediaFields = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n  return this.config.editing.fields.filter(function (field) {\n    return field.input.type === 'media';\n  }).map(function (field) {\n    return field.name;\n  });\n};\n\nproto.getFieldsLabel = function () {\n  var labels = [];\n  this.getEditingFields().forEach(function (field) {\n    return labels.push(field.label);\n  });\n  return labels;\n};\n\nproto.getDataFormat = function () {\n  return this.config.editing.format;\n};\n\n// raw data\nproto.getEditingFormat = function () {\n  return this.config.editing.format;\n};\n\nproto.isReady = function () {\n  return this.state.editing.ready;\n};\n\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.editing.ready = bool;\n};\n\n// get configuration from server\nproto.getEditingConfig = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  var provider = this.getProvider('data');\n  provider.getConfig(options).then(function (config) {\n    return d.resolve(config);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.addEditingConfigFieldOption = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref4.field,\n      key = _ref4.key,\n      value = _ref4.value;\n\n  var options = field.input.options;\n  options[key] = value;\n  return options[key];\n};\n\nproto.getWidgetData = function (options) {\n  var provider = this.getProvider('data');\n  var d = $.Deferred();\n  provider.getWidgetData(options).then(function (response) {\n    return d.resolve(response);\n  }).fail(function (err) {\n    return d.reject(err);\n  });\n  return d.promise();\n};\n\nproto.getCommitUrl = function () {\n  return this.config.urls.commit;\n};\n\nproto.setCommitUrl = function (url) {\n  this.config.urls.commit = url;\n};\n\nproto.getEditingUrl = function () {\n  return this.config.urls.editing;\n};\n\nproto.getUnlockUrl = function () {\n  return this.config.url.unlock;\n};\n\nproto.setUnlockUrl = function (url) {\n  this.config.urls.unlock = url;\n};\n\nproto.getWidgetUrl = function () {\n  return this.config.urls.widget;\n};\n\n// set data url\nproto.setDataUrl = function (url) {\n  this.config.urls.data = url;\n};\n\nproto.getDataUrl = function () {\n  return this.config.urls.data;\n};\n\n// url to get config layer\nproto.getConfigUrl = function () {\n  return this.config.urls.config;\n};\n\nproto.setConfigUrl = function (url) {\n  this.config.urls.index = url;\n};\n\nproto.getEditor = function () {\n  return this._editor;\n};\n\nproto.isStarted = function () {\n  return this.getEditor().isStarted();\n};\n\nproto.setEditor = function (editor) {\n  this._editor = editor;\n};\n\nproto.getFeaturesStore = function () {\n  return this._featuresstore;\n};\n\nproto.setFeaturesStore = function (featuresstore) {\n  this._featuresstore = featuresstore;\n};\n\nproto.setSource = function (source) {\n  this.setFeaturesStore(source);\n};\n\nproto.getSource = function () {\n  return this._featuresstore;\n};\n\n// get editing style\nproto.getEditingStyle = function () {\n  return this.config.editing.style;\n};\n\nproto._setFeatures = function (features) {\n  this._featuresstore.setFeatures(features);\n};\n\nproto.addFeatures = function (features) {\n  var _this4 = this;\n\n  features.forEach(function (feature) {\n    return _this4.addFeature(feature);\n  });\n};\n\nproto._addFeature = function (feature) {\n  this._featuresstore.addFeature(feature);\n};\n\nproto._deleteFeature = function (feature) {\n  return feature.getId();\n};\n\nproto._updateFeature = function (feature) {};\n\nproto._clearFeatures = function () {\n  this._featuresstore.clearFeatures();\n};\n\nproto.addLockIds = function (lockIds) {\n  this._featuresstore.addLockIds(lockIds);\n};\n\nproto.setFieldsWithValues = function (feature, fields) {\n  var createAttributesFromFields = function createAttributesFromFields(fields) {\n    var attributes = {};\n    fields.forEach(function (field) {\n      if (field.type === 'child') {\n        attributes[field.name] = createAttributesFromFields(field.fields);\n      } else if (field.value === 'null') {\n        field.value = null;\n      }\n      attributes[field.name] = field.value;\n    });\n    return attributes;\n  };\n  var attributes = createAttributesFromFields(fields);\n  feature.setProperties(attributes);\n  return attributes;\n};\n\nproto.getFieldsWithValues = function (obj) {\n  var _this5 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$exclude = options.exclude,\n      exclude = _options$exclude === undefined ? [] : _options$exclude,\n      _options$get_default_ = options.get_default_value,\n      get_default_value = _options$get_default_ === undefined ? true : _options$get_default_;\n\n  var fields = JSON.parse(JSON.stringify(this.getEditingFields()));\n  var feature = void 0;\n  if (obj instanceof Feature) feature = obj;else if (obj instanceof ol.Feature) feature = new Feature({\n    feature: obj\n  });else feature = obj && this.getFeatureById(obj);\n  if (feature) {\n    var attributes = feature.getProperties();\n\n    fields.forEach(function (field) {\n\n      field.value = attributes[field.name];\n      // store original value\n      field._value = attributes[field.name];\n      // at beginning set update false. Used to form\n      field.update = false;\n      if (field.input) {\n        var _configField = _this5.getEditingFields().find(function (_field) {\n          return _field.name === field.name;\n        });\n        var _options = _configField.input.options;\n        field.input.options.loading = _options.loading || { state: null };\n        field.input.options.values = _options.values;\n      }\n      /**\n       * exclude contain field to set visible false\n       */\n      field.visible = exclude.indexOf(field.name) === -1;\n      // for editing purpose\n      if (field.validate === undefined) field.validate = {};\n      field.forceNull = false;\n      field.validate.valid = true;\n      field.validate._valid = true; //useful to get previous value in certain case\n      field.value_from_default_value = false; // need to be check if default value is set by server configuration field\n      field.get_default_value = get_default_value; // specify if need to get value from form field.input.options.default value in case of missing value of field.value\n      field.validate.unique = field.validate.unique || false;\n      field.validate.exclude_values = new Set(); // for validate.unique purpose to check is new value iserted or change need to be di\n      field.validate.required = field.validate.required || false;\n      field.validate.mutually_valid = true;\n      field.validate.empty = !field.validate.required;\n      field.validate.message = null;\n      // end editing purpose\n    });\n  }\n  return fields;\n};\n\nproto.createNewFeature = function () {\n  var feature = new ol.Feature();\n  var properties = {};\n  this.getEditingFields().forEach(function (field) {\n    return properties[field.name] = null;\n  });\n  feature.setProperties(properties);\n  feature = new Feature({\n    feature: feature\n  });\n  feature.setNew();\n  return feature;\n};\n\nmodule.exports = TableLayer;\n\n},{\"app/constant\":5,\"core/editing/editor\":7,\"core/layers/features/feature\":27,\"core/layers/features/featuresstore\":28,\"core/layers/layer\":35,\"core/utils/utils\":68,\"store/catalog-layers\":369,\"store/projects\":374}],58:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    mixin = _require.mixin;\n\nvar Layer = require('core/layers/layer');\nvar TableLayer = require('core/layers/tablelayer');\nvar GeoLayerMixin = require('core/layers/geolayermixin');\nvar VectorMapLayer = require('core/layers/map/vectorlayer');\n\nfunction VectorLayer() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments[1];\n\n  base(this, config, options);\n  this._mapLayer = null; // later tah will be added to map\n  this.type = Layer.LayerTypes.VECTOR;\n  // need a ol layer for add to map\n  this.setup(config, options);\n  this.onafter('setColor', function (color) {});\n}\n\ninherit(VectorLayer, TableLayer);\n\nmixin(VectorLayer, GeoLayerMixin);\n\nvar proto = VectorLayer.prototype;\n\nproto.getEditingLayer = function () {\n  return this.getMapLayer().getOLLayer();\n};\n\nproto.resetEditingSource = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.getMapLayer().resetSource(features);\n};\n\nproto._setOtherConfigParameters = function (config) {\n  this.config.editing.geometrytype = config.geometrytype;\n};\n\nproto.getEditingGeometryType = function () {\n  return this.config.editing.geometrytype;\n};\n\nproto.getMapLayer = function () {\n  if (this._mapLayer) return this._mapLayer;\n  var id = this.getId();\n  var geometryType = this.getGeometryType();\n  var color = this.getColor();\n  var style = this.isEditingLayer() ? this.getEditingStyle() : this.getCustomStyle();\n  var provider = this.getProvider('data');\n  this._mapLayer = new VectorMapLayer({\n    id: id,\n    geometryType: geometryType,\n    color: color,\n    style: style,\n    provider: provider,\n    features: this._editor && this._editor.getEditingSource().getFeaturesCollection()\n  });\n  return this._mapLayer;\n};\n\nmodule.exports = VectorLayer;\n\n},{\"core/layers/geolayermixin\":33,\"core/layers/layer\":35,\"core/layers/map/vectorlayer\":45,\"core/layers/tablelayer\":57,\"core/utils/utils\":68}],59:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar G3WObject = require('core/g3wobject');\nvar ComponentsFactory = require('gui/component/componentsfactory');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    addI18nPlugin = _require2.addI18nPlugin;\n\nvar TIMEOUT = 10000;\n\nvar Plugin = function Plugin() {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$name = _ref.name,\n      name = _ref$name === undefined ? null : _ref$name,\n      _ref$config = _ref.config,\n      config = _ref$config === undefined ? _plugins2.default.getPluginConfig(name) : _ref$config,\n      _ref$service = _ref.service,\n      service = _ref$service === undefined ? null : _ref$service,\n      _ref$dependencies = _ref.dependencies,\n      dependencies = _ref$dependencies === undefined ? [] : _ref$dependencies,\n      _ref$i18n = _ref.i18n,\n      i18n = _ref$i18n === undefined ? null : _ref$i18n,\n      _ref$fontClasses = _ref.fontClasses,\n      fontClasses = _ref$fontClasses === undefined ? [] : _ref$fontClasses,\n      _ref$api = _ref.api,\n      api = _ref$api === undefined ? {} : _ref$api;\n\n  base(this);\n\n  this.setName(name);\n  this.setConfig(config);\n  this.setLocale(i18n);\n  this.setService(service);\n  this.setDependencies(dependencies);\n  this.addFontClasses(fontClasses);\n  this.setApi(api);\n  this.setHookService(null);\n\n  this._ready = false;\n\n  // List of sidebar services that usually plugin need to interact with (hook = place/name of component)\n  this.hookservices = {\n    'search': _gui2.default.getService('search'),\n    'tools': _gui2.default.getService('tools')\n  };\n\n  // Automatically remove the loading plugin indicator after timeout\n  this._timeout = setTimeout(function () {\n    _plugins2.default.removeLoadingPlugin(_this.name, _this._ready);\n    _this.removeLayout();\n  }, TIMEOUT);\n};\n\ninherit(Plugin, G3WObject);\n\nvar proto = Plugin.prototype;\n\nproto.setName = function (name) {\n  this.name = name;\n};\n\nproto.getName = function () {\n  return this.name;\n};\n\nproto.setConfig = function (config) {\n  this.config = toRawType(config) === 'Object' ? config : null;\n};\n\nproto.getConfig = function () {\n  var name = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.name;\n\n  return this.config || _plugins2.default.getPluginConfig(name);\n};\n\nproto.setLocale = function (i18n) {\n  if (i18n && this.name) addI18nPlugin({ name: this.name, config: i18n });\n};\n\nproto.setService = function (service) {\n  this.service = service;\n  if (service) service.setPlugin(this);\n};\n\nproto.getService = function () {\n  return this.service;\n};\n\nproto.setDependencies = function (dependencies) {\n  this.dependencies = dependencies;\n};\n\nproto.setApi = function () {\n  var api = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._api = api;\n  /**\n   * @FIXME useless assignment ?\n   */\n  api.getConfig = this._api.getConfig; // add alias for \"api.getConfig()\" method\n};\n\nproto.getApi = function () {\n  return this._api;\n};\n\nproto.setHookService = function (hook) {\n  this._hook = hook;\n};\n\nproto.getHookService = function () {\n  var hook = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"tools\";\n\n  return this.hookservices[hook];\n};\n\n/**\n * Override plugin's content default layout (eg. default panel width, height, ...)\n * \n * @see g3wsdk.core.ApplicationState.gui.layout\n */\nproto.setLayout = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _application2.default.cloneLayout('app');\n\n  _application2.default.setLayout(this.name, config);\n};\n\n/**\n * @FIXME add description\n * \n * @see g3wsdk.core.ApplicationState.gui.layout.__current\n */\nproto.setCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.name);\n};\n\n/**\n * @FIXME add description\n * \n * @see g3wsdk.core.ApplicationState.gui.layout\n */\nproto.removeLayout = function () {\n  _application2.default.removeLayout(this.name);\n};\n\n/**\n * @FIXME add description\n */\nproto.setReady = function (isReady) {\n  var _this2 = this;\n\n  this._ready = isReady;\n  if (this._ready) {\n    this.setLayout();\n  }\n  this.emit('set-ready', isReady, this.name);\n  /**\n   * @FIXME empty delay ?\n   */\n  setTimeout(function () {\n    clearTimeout(_this2._timeout);\n    _plugins2.default.removeLoadingPlugin(_this2.name, _this2._ready);\n  }, 0 /* 0 = allow any previously \"setTimeout\" to execute */);\n};\n\n/**\n * @FIXME add description\n */\nproto.isReady = function () {\n  var _this3 = this;\n\n  return new Promise(function (resolve) {\n    _this3._ready ? resolve(_this3._ready) : _this3.once('set-ready', function (isReady) {\n      _this3._ready = isReady;resolve(_this3._ready);\n    });\n  });\n};\n\n/**\n * Check if plugin is compatible with current projectId\n */\nproto.isCurrentProjectCompatible = function (projectId) {\n  return projectId === _projects2.default.getCurrentProject().getGid();\n};\n\n/**\n * Check and register plugin only when compatible with current projectId (eg: qdjango:1)\n */\nproto.registerPlugin = function (projectId) {\n  var iscompatible = this.isCurrentProjectCompatible(projectId);\n  if (iscompatible) {\n    _plugins2.default.registerPlugin(this);\n  } else {\n    _plugins2.default.removeLoadingPlugin(this.name, false);\n    clearTimeout(this._timeout);\n  }\n  return iscompatible;\n};\n\n/**\n * @FIXME explain better what it does\n * \n * Get plugin dependencies \n */\nproto.getDependencyPlugins = function (pluginsName) {\n  var _this4 = this;\n\n  this.dependencies = pluginsName || this.dependencies;\n  return Promise.all(this.dependencies.map(function (pluginName) {\n    return _this4.getDependencyPlugin(pluginName);\n  }));\n};\n\n/**\n * @FIXME explain better what it does\n * \n * Create to not replace above plugin method used by non changed old plugin\n */\nproto.getDependencyPluginsObject = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(pluginsName) {\n    var pluginsApiObject, promises;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            pluginsApiObject = {};\n            _context.next = 3;\n            return this.getDependencyPlugins(pluginsName);\n\n          case 3:\n            promises = _context.sent;\n\n            this.dependencies.forEach(function (pluginName, index) {\n              return pluginsApiObject[pluginName] = promises[index];\n            });\n            return _context.abrupt('return', pluginsApiObject);\n\n          case 6:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x6) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\n/**\n * @FIXME explain better what it does\n * \n * Get plugin dependency\n */\nproto.getDependencyPlugin = function (pluginName) {\n  if (_plugins2.default.isTherePlugin(pluginName)) {\n    return new Promise(function (resolve) {\n      var plugin = _plugins2.default.getPlugin(pluginName);\n      /**\n       * @TODO refactor weird shortcircuiting logic\n       */\n      plugin && plugin.isReady().then(function () {\n        return resolve(plugin.getApi());\n      }) || _plugins2.default.onafter('registerPlugin', function (plugin) {\n        plugin.name === pluginName && plugin.isReady().then(function () {\n          resolve(plugin.getApi());\n        });\n      });\n    });\n  }\n  return Promise.reject({ error: 'no plugin' });\n};\n\n/**\n * Handle loading process of a specific hook service (eg. \"tools\" interface on the left sidebar)\n */\nproto.setHookLoading = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$hook = _ref3.hook,\n      hook = _ref3$hook === undefined ? \"tools\" : _ref3$hook,\n      _ref3$loading = _ref3.loading,\n      loading = _ref3$loading === undefined ? false : _ref3$loading;\n\n  this.getHookService(hook).setLoading(loading);\n};\n\n/**\n * @FIXME add description\n */\nproto.addToolGroup = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$hook = _ref4.hook,\n      hook = _ref4$hook === undefined ? \"tools\" : _ref4$hook,\n      order = _ref4.position,\n      group = _ref4.title;\n\n  this.getHookService(hook).addToolGroup(order, group);\n};\n\n/**\n * @FIXME add description\n */\nproto.removeToolGroup = function () {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      hook = _ref5.hook,\n      group = _ref5.group;\n\n  this.getHookService(hook).removeToolGroup(group.title);\n};\n\n/**\n * @FIXME add description\n */\nproto.addTools = function () {\n  var _this5 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$hook = _ref6.hook,\n      hook = _ref6$hook === undefined ? \"tools\" : _ref6$hook,\n      action = _ref6.action,\n      html = _ref6.html,\n      _ref6$offline = _ref6.offline,\n      offline = _ref6$offline === undefined ? true : _ref6$offline,\n      icon = _ref6.icon,\n      name = _ref6.name,\n      type = _ref6.type,\n      _ref6$options = _ref6.options,\n      options = _ref6$options === undefined ? {} : _ref6$options,\n      _ref6$loading = _ref6.loading,\n      loading = _ref6$loading === undefined ? false : _ref6$loading,\n      _ref6$disabled = _ref6.disabled,\n      disabled = _ref6$disabled === undefined ? false : _ref6$disabled,\n      _ref6$state = _ref6.state,\n      state = _ref6$state === undefined ? {\n    type: null,\n    message: null\n  } : _ref6$state;\n\n  var groupTools = arguments[1];\n\n  if (!action && !type) {\n    this.removeToolGroup({ hook: hook, group: groupTools });\n    return [];\n  } else {\n    this.setHookService(hook);\n    var tools = (this.config.configs || [this.config]).map(function (config) {\n      return {\n        icon: icon,\n        type: type,\n        name: config.name || name,\n        html: html,\n        loading: loading,\n        disabled: disabled,\n        options: options,\n        offline: offline,\n        action: action && action.bind(_this5, config),\n        state: state\n      };\n    });\n    this.getHookService(hook).addTools(tools, groupTools);\n    return tools;\n  }\n};\n\n/**\n * @FIXME add description\n */\nproto.setToolState = function () {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref7.id,\n      _ref7$state = _ref7.state,\n      state = _ref7$state === undefined ? { type: null, message: null } : _ref7$state;\n\n  this.hookservices[this._hook].setToolState({ id: id, state: state });\n};\n\n/**\n * @FIXME add description\n */\nproto.removeTools = function () {\n  this.hookservices[this._hook].removeTools();\n};\n\n/**\n * Helper method to create and add a custom component item on the left sidebar\n */\nproto.createSideBarComponent = function (vueComponentObject) {\n  var _ref8, _ref8$open, _ref8$collapsible, _ref8$mobile, _ref8$isolate, _ref8$closewhenshowvi, _ref8$iconConfig, _ref8$events, _ref8$sidebarOptions;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : (_ref8 = {}, id = _ref8.id, title = _ref8.title, _ref8$open = _ref8.open, open = _ref8$open === undefined ? false : _ref8$open, _ref8$collapsible = _ref8.collapsible, collapsible = _ref8$collapsible === undefined ? true : _ref8$collapsible, _ref8$mobile = _ref8.mobile, mobile = _ref8$mobile === undefined ? true : _ref8$mobile, _ref8$isolate = _ref8.isolate, isolate = _ref8$isolate === undefined ? false : _ref8$isolate, _ref8$closewhenshowvi = _ref8.closewhenshowviewportcontent, closewhenshowviewportcontent = _ref8$closewhenshowvi === undefined ? true : _ref8$closewhenshowvi, _ref8$iconConfig = _ref8.iconConfig, iconConfig = _ref8$iconConfig === undefined ? {\n    // color: 'yellow',                // color of icon\n    // icon:'pin',                     // see gui\\vue\\vueappplugin.js font list\n  } : _ref8$iconConfig, _ref8$events = _ref8.events, events = _ref8$events === undefined ? {\n    // open: {\n    //   when: 'before',\n    //   cb:() => { /* TODO: add sample usage */ }\n    // }\n  } : _ref8$events, _ref8$sidebarOptions = _ref8.sidebarOptions, sidebarOptions = _ref8$sidebarOptions === undefined ? {\n    position: 1 // can be a number or a string \n  } : _ref8$sidebarOptions, _ref8);\n\n\n  var componentsFactoryOpts = _extends({}, options, {\n    iconColor: options.iconConfig.color,\n    icon: _gui2.default.getFontClass(options.iconConfig.icon)\n  });\n\n  delete componentsFactoryOpts.iconConfig;\n\n  var PluginSiderbarComponent = ComponentsFactory.build({ vueComponentObject: vueComponentObject }, componentsFactoryOpts);\n  _gui2.default.addComponent(PluginSiderbarComponent, 'sidebar', options.sidebarOptions);\n  this.once('unload', function () {\n    return _gui2.default.removeComponent(id, 'sidebar', options.sidebarOptions);\n  });\n  return PluginSiderbarComponent;\n};\n\n/**\n * @deprecated since v3.4.\n */\nproto.unload = function () {\n  this.service && this.service.clearAllEvents();\n  this.emit('unload');\n  //console.log('UNLOAD can be overwrite by plugin');\n};\n\n/**\n * @deprecated since v3.4.\n */\nproto.load = function () {\n  //console.log('LOAD  need to be overwrite by plugin');\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.getProject = function () {\n  return _projects2.default.getCurrentProject();\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addDependency = function (dependency) {\n  this.dependencies.push(dependency);\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addFontClass = function (_ref9) {\n  var name = _ref9.name,\n      className = _ref9.className;\n\n  Vue.prototype.g3wtemplate.addFontClass({ name: name, className: className });\n};\n\n/**\n * @TODO it could be depecrated after v3.4 ?\n */\nproto.addFontClasses = function () {\n  var _this6 = this;\n\n  var fonClasses = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fonClasses.forEach(function (fontClass) {\n    return _this6.addFontClass(fontClass);\n  });\n};\n\nmodule.exports = Plugin;\n\n},{\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/utils/utils\":68,\"gui/component/componentsfactory\":116,\"services/application\":346,\"services/gui\":356,\"store/plugins\":373,\"store/projects\":374}],60:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction PluginService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.plugin;\n  this._api = {\n    own: null,\n    dependencies: {}\n  };\n  this._pluginEvents = {};\n  this._appEvents = [];\n  this.currentLayout = _application2.default.getCurrentLayoutName();\n  this.vm = new Vue();\n  this.unwatch = this.vm.$watch(function () {\n    return _applicationState2.default.gui.layout.__current;\n  }, function (currentLayoutName) {\n    return _this.currentLayout = currentLayoutName !== _this.getPlugin().getName() ? currentLayoutName : _this.currentLayout;\n  });\n}\n\ninherit(PluginService, G3WObject);\n\nvar proto = PluginService.prototype;\n\n/**\n * Set a default init method. Overwrite by each plugin\n * @param config: plugin configuration object\n */\nproto.init = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = config;\n};\n\nproto.setCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.getPlugin().getName());\n};\n\nproto.resetCurrentLayout = function () {\n  _application2.default.setCurrentLayout(this.currentLayout);\n};\n\n// set owner plugin of the service\nproto.setPlugin = function (plugin) {\n  this.plugin = plugin;\n};\n\n// return the instance of the plugin owner of the service\nproto.getPlugin = function () {\n  return this.plugin;\n};\n\nproto.isIframe = function () {\n  return _application2.default.isIframe();\n};\n\n/**\n * Get Current Project\n */\nproto.getCurrentProject = function () {\n  return _application2.default.getCurrentProject();\n};\n\nproto.getGid = function () {\n  var gid = this.config.gid;\n\n  return gid && gid.split(':')[1];\n};\n\nproto.getConfig = function () {\n  return this.config;\n};\n\nproto.setConfig = function (config) {\n  this.config = config;\n};\n\nproto.setApi = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      dependency = _ref.dependency,\n      api = _ref.api;\n\n  if (!dependency) this._api.own = api;else this._api.dependencies[dependency] = api;\n};\n\nproto.getApi = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      dependency = _ref2.dependency;\n\n  return dependency && this._api.dependencies[dependency] || this._api.own;\n};\n\nproto.initEvents = function () {\n  var events = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  for (var i in events) {\n    var name = events[i];\n    this._pluginEvents[name] = {};\n  }\n};\n\nproto.registerWindowEvent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      evt = _ref3.evt,\n      cb = _ref3.cb;\n\n  _application2.default.registerWindowEvent({\n    evt: evt,\n    cb: cb\n  });\n};\n\nproto.unregisterWindowEvent = function (_ref4) {\n  var evt = _ref4.evt,\n      cb = _ref4.cb;\n\n  _application2.default.unregisterWindowEvent({\n    evt: evt,\n    cb: cb\n  });\n};\n\nproto.subscribeEvent = function (_ref5) {\n  var name = _ref5.name,\n      _ref5$once = _ref5.once,\n      once = _ref5$once === undefined ? false : _ref5$once,\n      owner = _ref5.owner,\n      listener = _ref5.listener;\n\n  this._pluginEvents[name] = this._pluginEvents[name] ? this._pluginEvents[name] : {};\n  this._pluginEvents[name][owner] = listener;\n  once ? this.once(name, listener) : this.on(name, listener);\n};\n\nproto.triggerEvent = function (_ref6) {\n  var name = _ref6.name,\n      _ref6$params = _ref6.params,\n      params = _ref6$params === undefined ? {} : _ref6$params;\n\n  this.emit(name, params);\n};\n\nproto.unsubscribeEvent = function (_ref7) {\n  var name = _ref7.name,\n      owner = _ref7.owner;\n\n  var listener = this._pluginEvents[name][owner];\n  this.removeEvent(name, listener);\n  delete this._pluginEvents[name][owner];\n};\n\nproto.unsubscribeAllEvents = function () {\n  for (var name in this._pluginEvents) {\n    this.removeEvent(name);\n    delete this._pluginEvents[name];\n  }\n};\n\nproto.clearAllEvents = function () {\n  this.unsubscribeAllEvents();\n  this.unwatch();\n  this.vm = null;\n  this._pluginEvents = null;\n};\n\n// to owerwrite if we need some condition to load or not the plugin\nproto.loadPlugin = function () {\n  return true;\n};\n\n//Called when plugin is removed to clear events and memory\nproto.clear = function () {\n  // to overwrite\n};\n\nmodule.exports = PluginService;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"services/application\":346,\"store/application-state\":368}],61:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    convertObjectToUrlParams = _require.convertObjectToUrlParams;\n\nvar G3WObject = require('core/g3wobject');\n\n/*\n http://localhost/fcgi-bin/qgis_mapserver/qgis_mapserv.fcgi?MAP=/home/marco/geodaten/projekte/composertest.qgs&SERVICE=WMS&VERSION=1.3.0\n &REQUEST=GetPrint&TEMPLATE=Composer 1&\n map0:extent=693457.466131,227122.338236,700476.845177,230609.807051&\n BBOX=693457.466131,227122.338236,700476.845177,230609.807051&\n CRS=EPSG:21781&WIDTH=1467&HEIGHT=729&LAYERS=layer0,layer1&\n STYLES=,&FORMAT=pdf&DPI=300&TRANSPARENT=true\n\n In detail, the following parameters can be used to set properties for composer maps:\n\n <mapname>:EXTENT=<xmin,ymin,xmax, ymax> //mandatory\n <mapname>:ROTATION=<double> //optional, defaults to 0\n <mapname>:SCALE=<double> //optional. Forces scale denominator as server and client may have different scale calculations\n <mapname>:LAYERS=<comma separated list with layer names> //optional. Defaults to all layer in the WMS request\n <mapname>:STYLES=<comma separated list with style names> //optional\n <mapname>:GRID_INTERVAL_X=<double> //set the grid interval in x-direction for composer grids\n <mapname>:GRID_INTERVAL_Y=<double> //set the grid interval in x-direction for composer grids\n */\nvar OUTPUT_FORMATS = { pdf: 'application/pdf', jpg: 'image/jpeg' };\nvar COMMON_REQUEST_PARAMETERS = { SERVICE: 'WMS', VERSION: '1.3.0' };\n\nvar getAtlasParamsFromOptions = function getAtlasParamsFromOptions() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var field = options.field,\n      values = options.values,\n      template = options.template,\n      _options$download = options.download,\n      download = _options$download === undefined ? false : _options$download;\n\n  var multiValues = values.length > 1;\n  /**\n   * @TODO refactor weird ternary logic\n   */\n  var EXPRESSION = '' + field + (multiValues ? ' IN (' : '=') + values.map(function (value) {\n    return '\\'' + value + '\\'';\n  }).join() + (multiValues ? ')' : '');\n  var params = _extends({}, COMMON_REQUEST_PARAMETERS, {\n    REQUEST: 'GetPrintAtlas',\n    EXP_FILTER: EXPRESSION,\n    TEMPLATE: template,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n  if (download) params.DOWNLOAD = 1;\n  return params;\n};\n\nvar getParamsFromOptions = function getParamsFromOptions() {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var rotation = options.rotation,\n      dpi = options.dpi,\n      format = options.format,\n      crs = options.crs,\n      template = options.template,\n      _options$maps = options.maps,\n      maps = _options$maps === undefined ? [] : _options$maps,\n      _options$labels = options.labels,\n      labels = _options$labels === undefined ? [] : _options$labels,\n      is_maps_preset_theme = options.is_maps_preset_theme;\n\n  var LAYERS = layers.map(function (layer) {\n    return layer.getPrintLayerName();\n  }).join();\n  var STYLES = layers.map(function (layer) {\n    return layer.getStyle();\n  }).join(',');\n  var params = _extends({}, COMMON_REQUEST_PARAMETERS, {\n    REQUEST: 'GetPrint',\n    TEMPLATE: template,\n    DPI: dpi,\n    STYLES: STYLES,\n    FORMAT: format,\n    CRS: crs,\n    filtertoken: _applicationState2.default.tokens.filtertoken\n  });\n\n  if (!is_maps_preset_theme) params.LAYERS = LAYERS;\n  maps.forEach(function (_ref) {\n    var name = _ref.name,\n        scale = _ref.scale,\n        extent = _ref.extent,\n        preset_theme = _ref.preset_theme;\n\n    params[name + ':SCALE'] = scale;\n    params[name + ':EXTENT'] = extent;\n    params[name + ':ROTATION'] = rotation;\n    if (is_maps_preset_theme && preset_theme === undefined) params[name + ':LAYERS'] = LAYERS;\n  });\n\n  labels.forEach(function (label) {\n    return params[label.id] = label.text;\n  });\n  return params;\n};\n\nvar GET = function GET(_ref2) {\n  var url = _ref2.url,\n      params = _ref2.params,\n      mime_type = _ref2.mime_type;\n\n  return new Promise(function (resolve, reject) {\n    url = url + '?' + convertObjectToUrlParams(params);\n    resolve({\n      url: url,\n      layers: true,\n      mime_type: mime_type\n    });\n  });\n};\n\nvar POST = function POST(_ref3) {\n  var url = _ref3.url,\n      params = _ref3.params,\n      mime_type = _ref3.mime_type;\n\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('POST', url, true);\n    xhr.responseType = 'blob';\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n    xhr.onload = function () {\n      if (xhr.status === 200) {\n        try {\n          window.URL = window.URL || window.webkitURL;\n          var _url = window.URL.createObjectURL(xhr.response);\n          resolve({\n            url: _url,\n            layers: true,\n            mime_type: mime_type\n          });\n        } catch (e) {\n          reject(e);\n        }\n      } else if (xhr.status === 500) {\n        reject();\n      }\n    };\n    xhr.onerror = function () {\n      reject();\n    };\n    xhr.send(convertObjectToUrlParams(params));\n  });\n};\n\n/**\n * core/print/providers/qgis::PrinterQGISProvider@v3.4\n */\nfunction PrintService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._currentLayerStore = _projects2.default.getCurrentProject().getLayersStore();\n  _projects2.default.onbefore('setCurrentProject', function (project) {\n    return _this._currentLayerStore = project.getLayersStore();\n  });\n  base(this);\n}\n\ninherit(PrintService, G3WObject);\n\nvar proto = PrintService.prototype;\n\nproto.POST = POST;\n\nproto.GET = GET;\n\nproto._getAtlasParamsFromOptions = getAtlasParamsFromOptions;\n\nproto._getParamsFromOptions = getParamsFromOptions;\n\nproto.getUrl = function () {\n  return this._currentLayerStore.getWmsUrl();\n};\n\nproto.printAtlas = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n\n  var url = this.getUrl();\n  var params = this._getAtlasParamsFromOptions(options);\n  return this[method]({\n    url: url,\n    params: params,\n    mime_type: OUTPUT_FORMATS.pdf\n  });\n};\n\nproto.print = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n\n  var url = this.getUrl();\n  // reverse of layer because the order is important\n  var layers = this._currentLayerStore.getLayers({\n    PRINTABLE: {\n      scale: options.scale\n    },\n    SERVERTYPE: 'QGIS'\n  }).reverse();\n  if (layers.length) {\n    options.crs = this._currentLayerStore.getProjection().getCode();\n    var params = this._getParamsFromOptions(layers, options);\n    var mime_type = OUTPUT_FORMATS[params.FORMAT];\n    return this[method]({\n      url: url,\n      params: params,\n      mime_type: mime_type\n    });\n  } else return Promise.resolve({ layers: false });\n};\n\nmodule.exports = PrintService;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"store/application-state\":368,\"store/projects\":374}],62:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    crsToCrsObject = _require2.crsToCrsObject;\n\nvar G3WObject = require('core/g3wobject');\nvar LayerFactory = require('core/layers/layerfactory');\nvar LayersStore = require('core/layers/layersstore');\nvar Projections = require('g3w-ol/projection/projections');\n\nfunction Project() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  /* structure 'project' object\n  {\n    id,\n    type,\n    gid,\n    name,\n    crs,\n    extent,\n    initextent,\n    layers,\n    layerstree,\n    overviewprojectgid,\n    baselayers,\n    initbaselayer,\n    filtertoken,\n    context_base_legend\n    ows_method <POST or GET>\n    wms_use_layer_ids: <TRUE OR FALSE>\n    search_endpoint : 'ows', 'api'\n    legend_position: 'tab', 'toc'\n    query_point_tolerance\n    wps: [] // array of wps service\n    bookmarks:[] Array of bookmarks\n  }\n  */\n  // for future implementation catalog tab actived\n  config.catalog_tab = config.toc_tab_default || config._catalog_tab || 'layers'; // values : layers, baselayers, legend\n  config.ows_method = config.ows_method || 'GET';\n  config.toc_layers_init_status = config.toc_layers_init_status || _constant.TOC_LAYERS_INIT_STATUS;\n  config.toc_themes_init_status = config.toc_themes_init_status || _constant.TOC_THEMES_INIT_STATUS;\n  config.query_point_tolerance = config.query_point_tolerance || _constant.QUERY_POINT_TOLERANCE;\n  this.state = config;\n  /**\n   * View\n   *\n   */\n  //information about api project\n  this.urls = {\n    map_themes: '/' + this.getType() + '/api/prjtheme/' + this.getId() + '/',\n    expression_eval: '/api/expression_eval/' + this.getId() + '/',\n    vector_data: this.getVectorUrl() + 'data/' + this.getType() + '/' + this.getId() + '/'\n  };\n  /*\n   *\n   * End View\n   *\n   */\n  // process layers\n  this._processLayers();\n  // set the project projection to object crs\n  this.state.crs = crsToCrsObject(this.state.crs);\n  this._projection = Projections.get(this.state.crs);\n  // build a layersstore of the project\n  this._layersStore = this._buildLayersStore();\n  ///\n  this.setters = {\n    setBaseLayer: function setBaseLayer(id) {\n      var _this = this;\n\n      this.state.baselayers.forEach(function (baseLayer) {\n        _this._layersStore.getLayerById(baseLayer.id).setVisible(baseLayer.id === id);\n        baseLayer.visible = baseLayer.id === id;\n      });\n    }\n  };\n  this.setSearchEndPoint();\n  base(this);\n}\n\ninherit(Project, G3WObject);\n\nvar proto = Project.prototype;\n\n//get search end point value (ows or api)\nproto.getSearchEndPoint = function () {\n  return this.state.search_endpoint;\n};\n\nproto.setSearchEndPoint = function () {\n  var _state = this.state,\n      search_endpoint = _state.search_endpoint,\n      _state$search = _state.search,\n      search = _state$search === undefined ? [] : _state$search;\n\n  search.forEach(function (search) {\n    return search.search_endpoint = search_endpoint;\n  });\n};\n\nproto.getAliasUrl = function () {\n  return this.state.aliasUrl;\n};\n\nproto.getActiveCatalogTab = function () {\n  return this.state.catalog_tab;\n};\n\nproto.setActiveCatalogTab = function () {\n  var tab = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'layers';\n\n  this.state.catalog_tab = tab;\n};\n\nproto.isWmsUseLayerIds = function () {\n  return this.state.wms_use_layer_ids;\n};\n\nproto.getContextBaseLegend = function () {\n  return this.state.context_base_legend;\n};\n\nproto.getQueryPointTolerance = function () {\n  return this.state.query_point_tolerance;\n};\n\n// check if multi\nproto.getQueryFeatureCount = function () {\n  return this.state.feature_count || 5;\n};\n\nproto.isQueryMultiLayers = function (mapcontrol) {\n  return this.state.querymultilayers && this.state.querymultilayers.indexOf(mapcontrol) !== -1;\n};\n\nproto.getRelations = function () {\n  return this.state.relations;\n};\n\nproto.getRelationById = function (relationId) {\n  return this.state.relations.find(function (relation) {\n    return relation.id === relationId;\n  });\n};\n\nproto.getRelationsByLayerId = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref.layerId,\n      type = _ref.type;\n\n  return this.state.relations.filter(function (relation) {\n    return relation.referencedLayer === layerId && (type ? relation.type === type : true);\n  });\n};\n\nproto.getOwsMethod = function () {\n  return this.state.ows_method;\n};\n\n// process layerstree and baselayers of the project\nproto._processLayers = function () {\n  var _this2 = this;\n\n  //info useful for catalog\n  var traverse = function traverse(tree) {\n    var _loop = function _loop(i) {\n      var layer = tree[i];\n      var layer_name_originale = void 0;\n      //check if layer (node) of folder\n      if (layer.id !== undefined) {\n        _this2.state.layers.forEach(function (_layer) {\n          layer_name_originale = _layer.name;\n          if (layer.id === _layer.id) {\n            layer.name = _layer.name;\n            _layer.wmsUrl = _this2.getWmsUrl();\n            _layer.project = _this2;\n            tree[i] = Object.assign(_layer, layer);\n            return false;\n          }\n        });\n      }\n      if (Array.isArray(layer.nodes)) {\n        //add title to tree\n        layer.title = layer.name;\n        traverse(layer.nodes);\n      }\n    };\n\n    for (var i = 0; i < tree.length; i++) {\n      _loop(i);\n    }\n  };\n  // call trasverse function to\n  traverse(this.state.layerstree);\n  var baseLayerId = _application2.default.getBaseLayerId();\n\n  /**\n   * Filter base layers bing in case of no bing vendor key is provide\n   */\n\n  this.state.baselayers = this.state.baselayers.filter(function (baselayer) {\n    return baselayer.servertype === 'Bing' ? _applicationState2.default.keys.vendorkeys.bing : true;\n  });\n\n  /*******************************************************/\n\n  for (var i = 0; i < this.state.baselayers.length; i++) {\n    var baseLayerConfig = this.state.baselayers[i];\n    var baseLayerVisibleId = baseLayerId !== null ? baseLayerId : this.state.initbaselayer;\n    var visible = baseLayerVisibleId && baseLayerConfig.id === baseLayerVisibleId || !!baseLayerConfig.fixed;\n    baseLayerConfig.visible = visible;\n    baseLayerConfig.baselayer = true;\n  }\n};\n\n// build layersstore and create layersstree\nproto._buildLayersStore = function () {\n  var _this3 = this;\n\n  // create a layersStore object\n  var layersStore = new LayersStore();\n  //check if we have owerview project\n  var overviewprojectgid = this.state.overviewprojectgid ? this.state.overviewprojectgid.gid : null;\n  layersStore.setOptions({\n    id: this.state.gid,\n    projection: this._projection,\n    extent: this.state.extent,\n    initextent: this.state.initextent,\n    wmsUrl: this.state.WMSUrl,\n    catalog: this.state.gid !== overviewprojectgid\n  });\n\n  // instance each layer ad area added to layersstore\n  var layers = this.getLayers();\n  layers.forEach(function (layerConfig) {\n    //check and set crs in objectformat\n    layerConfig.crs = crsToCrsObject(layerConfig.crs);\n    // add projection\n    layerConfig.projection = layerConfig.crs ? Projections.get(layerConfig.crs) : _this3._projection;\n    //add ows_method\n    layerConfig.ows_method = _this3.getOwsMethod();\n    layerConfig.wms_use_layer_ids = _this3.state.wms_use_layer_ids;\n    var layer = LayerFactory.build(layerConfig, {\n      project: _this3\n    });\n    layer && layersStore.addLayer(layer);\n  });\n  // create layerstree from layerstore\n  layersStore.createLayersTree(this.state.name, {\n    layerstree: this.state.layerstree,\n    expanded: this.state.toc_layers_init_status === 'not_collapsed' // config to show layerstrees toc expanded or not\n  });\n  return layersStore;\n};\n\nproto.getLayerById = function (layerId) {\n  return this._layersStore.getLayerById(layerId);\n};\n\nproto.getLayers = function () {\n  return [].concat(_toConsumableArray(this.state.layers), _toConsumableArray(this.state.baselayers));\n};\n\nproto.getBaseLayers = function () {\n  return this.state.baselayers;\n};\n\n/**\n * Get configuration layers array from server config\n * @param filter property layer config to filter\n * @returns {*}\n */\nproto.getConfigLayers = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      key = _ref2.key;\n\n  return key ? this.state.layers.filter(function (layer) {\n    return layer[key] !== undefined;\n  }) : this.state.layers;\n};\n\n/**\n * Legend Position\n */\n\nproto.setLegendPosition = function () {\n  var legend_position = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'tab';\n\n  this.state.legend_position = legend_position;\n};\n\nproto.getLegendPosition = function () {\n  return this.state.legend_position;\n};\n\n/**\n * End Legend Position\n */\n\nproto.getThumbnail = function () {\n  return this.state.thumbnail;\n};\n\nproto.getMetadata = function () {\n  return this.state.metadata || {};\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getPrint = function () {\n  return this.state.print || [];\n};\n\nproto.getSearches = function () {\n  return this.state.search || [];\n};\n\nproto.getVectorUrl = function () {\n  return this.state.vectorurl;\n};\n\nproto.getRasterUrl = function () {\n  return this.state.rasterurl;\n};\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getType = function () {\n  return this.state.type;\n};\n\nproto.getGid = function () {\n  return this.state.gid;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.getOverviewProjectGid = function () {\n  return this.state.overviewprojectgid ? this.state.overviewprojectgid.gid : null;\n};\n\nproto.getCrs = function () {\n  return this._projection.getCode();\n};\n\n/*\n* type: major, minor, patch\n* */\nproto.getQgisVersion = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref3.type;\n\n  var index = ['major', 'minor', 'patch'].indexOf(type);\n  return index === -1 ? this.state.qgis_version : +this.state.qgis_version.split('.')[index];\n};\n\nproto.getProjection = function () {\n  return this._projection;\n};\n\nproto.getWmsUrl = function () {\n  return this.state.WMSUrl;\n};\n\nproto.getInfoFormat = function () {\n  return 'application/vnd.ogc.gml';\n};\n\nproto.getLayersStore = function () {\n  return this._layersStore;\n};\n\n/// Map Themes\n\n/**\n * Method to set properties ( checked and visible) from view to layerstree\n * @param map_theme map theme name\n * @param layerstree // current layerstree of TOC\n */\nproto.setLayersTreePropertiesFromMapTheme = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref4) {\n    var _this4 = this;\n\n    var map_theme = _ref4.map_theme,\n        _ref4$layerstree = _ref4.layerstree,\n        layerstree = _ref4$layerstree === undefined ? this.state.layerstree : _ref4$layerstree;\n    var mapThemeConfig, mapThemeLayersTree, changes, promises, groups, traverse;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return this.getMapThemeFromThemeName(map_theme);\n\n          case 2:\n            mapThemeConfig = _context.sent;\n\n            // extract layerstree\n            mapThemeLayersTree = mapThemeConfig.layerstree;\n            // create a chages need to apply map_theme changes to map and TOC\n\n            changes = {\n              layers: {} // key is the layer id and object has style, visibility change (Boolean)\n            };\n            promises = [];\n            /**\n             * Function to traverse current layerstree of toc anche get changes with the new one related to map_theme choose\n             * @param mapThemeLayersTree // new mapLayerTree\n             * @param layerstree // current layerstree\n             */\n\n            groups = [];\n\n            traverse = function traverse(mapThemeLayersTree, layerstree, checked) {\n              mapThemeLayersTree.forEach(function (node, index) {\n                if (node.nodes) {\n                  // case of group\n                  groups.push({\n                    node: node,\n                    group: layerstree[index]\n                  });\n                  traverse(node.nodes, layerstree[index].nodes, checked && node.checked);\n                } else {\n                  // case of layer\n                  node.style = mapThemeConfig.styles[node.id]; // set style from map_theme\n                  if (layerstree[index].checked !== node.visible) {\n                    changes.layers[node.id] = {\n                      visibility: true,\n                      style: false\n                    };\n                  }\n                  layerstree[index].checked = node.visible;\n                  // if has a style settled\n                  if (node.style) {\n                    var promise = new Promise(function (resolve, reject) {\n                      var setCurrentStyleAndResolvePromise = function setCurrentStyleAndResolvePromise(node) {\n                        if (changes.layers[node.id] === undefined) changes.layers[node.id] = {\n                          visibility: false,\n                          style: false\n                        };\n                        changes.layers[node.id].style = _this4.getLayerById(node.id).setCurrentStyle(node.style);\n                        resolve();\n                      };\n                      if (_this4.getLayersStore()) setCurrentStyleAndResolvePromise(node);else // case of starting project creation\n                        (function (node) {\n                          return setTimeout(function () {\n                            setCurrentStyleAndResolvePromise(node);\n                          })(node);\n                        });\n                    });\n                    promises.push(promise);\n                  }\n                }\n              });\n            };\n\n            traverse(mapThemeLayersTree, layerstree);\n            _context.next = 11;\n            return Promise.allSettled(promises);\n\n          case 11:\n            // all groups checked after layer checked so is set checked but not visible\n            groups.forEach(function (_ref6) {\n              var group = _ref6.group,\n                  _ref6$node = _ref6.node,\n                  checked = _ref6$node.checked,\n                  expanded = _ref6$node.expanded;\n\n              group.checked = checked;\n              group.expanded = expanded;\n            });\n            return _context.abrupt('return', changes);\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x8) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * get map Theme_configuration\n */\nproto.getMapThemeFromThemeName = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(map_theme) {\n    var mapThemeConfig, layerstree, _layerstree;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            // get map theme configuration from map_themes project config\n            mapThemeConfig = this.state.map_themes.find(function (map_theme_config) {\n              return map_theme_config.theme === map_theme;\n            });\n            // check if mapThemeConfig exist\n\n            if (!mapThemeConfig) {\n              _context2.next = 8;\n              break;\n            }\n\n            // check if has layerstree (property get from server with a specific api\n            layerstree = mapThemeConfig.layerstree;\n\n            if (!(layerstree === undefined)) {\n              _context2.next = 8;\n              break;\n            }\n\n            _context2.next = 6;\n            return this.getMapThemeConfiguration(map_theme);\n\n          case 6:\n            _layerstree = _context2.sent;\n\n            mapThemeConfig.layerstree = _layerstree;\n\n          case 8:\n            return _context2.abrupt('return', mapThemeConfig);\n\n          case 9:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x9) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * get map_style from server\n * @param map_theme\n * @returns {Promise<*>}\n */\nproto.getMapThemeConfiguration = function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(map_theme) {\n    var config, url, response, result, data;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            config = void 0;\n            url = '' + this.urls.map_themes + map_theme + '/';\n            _context3.prev = 2;\n            _context3.next = 5;\n            return XHR.get({\n              url: url\n            });\n\n          case 5:\n            response = _context3.sent;\n            result = response.result, data = response.data;\n\n            if (result) config = data;\n            _context3.next = 12;\n            break;\n\n          case 10:\n            _context3.prev = 10;\n            _context3.t0 = _context3['catch'](2);\n\n          case 12:\n            return _context3.abrupt('return', config);\n\n          case 13:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[2, 10]]);\n  }));\n\n  return function (_x10) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nproto.getUrl = function (type) {\n  return this.urls[type];\n};\n\n/**\n * @returns {Array} spatial bookmarks saved on current QGIS project\n * @since v3.8\n */\nproto.getSpatialBookmarks = function () {\n  return this.state.bookmarks || [];\n};\n\nmodule.exports = Project;\n\n},{\"app/constant\":5,\"core/g3wobject\":13,\"core/layers/layerfactory\":36,\"core/layers/layersstore\":37,\"core/utils/geo\":65,\"core/utils/utils\":68,\"g3w-ol/projection/projections\":110,\"services/application\":346,\"store/application-state\":368}],63:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Relation() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var uniqueSuffix = Date.now();\n  var id = config.id || 'id_' + uniqueSuffix;\n  var name = config.name || 'name_' + uniqueSuffix;\n  var origname = config.origname || 'origname_' + uniqueSuffix;\n  this.state = {\n    id: id,\n    name: name,\n    origname: origname,\n    father: config.referencedLayer,\n    child: config.referencingLayer,\n    fatherField: config.fieldRef.referencedField,\n    childField: config.fieldRef.referencingField,\n    type: config.type,\n    loading: false\n  };\n  base(this);\n}\n\ninherit(Relation, G3WObject);\n\nvar proto = Relation.prototype;\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.setId = function (id) {\n  this.state.id = id;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.setName = function (name) {\n  this.state.name = name;\n};\n\nproto.getTitle = function () {\n  return this.state.title;\n};\n\nproto.setTitle = function (title) {\n  return this.state.title = title;\n};\n\nproto.getChild = function () {\n  return this.state.child;\n};\n\nproto.getFather = function () {\n  return this.state.father;\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getType = function () {\n  return this.state.type;\n};\n\nproto.getFields = function () {\n  return {\n    father: this.state.fatherField,\n    child: this.state.childField\n  };\n};\n\nproto.getFatherField = function () {\n  return this.state.fatherField;\n};\n\nproto.getChildField = function () {\n  return this.state.childField;\n};\n\n/**\n * For editing purpose\n */\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto.isLoading = function () {\n  return this.state.loading;\n};\n\n/**\n * End editing loading purpose\n */\n\nmodule.exports = Relation;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],64:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Relation = require('core/relations/relation');\n\n// class Relations\nfunction Relations() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var relations = options.relations;\n  //store relations\n\n  this._relations = {};\n  this._length = relations ? relations.length : 0;\n  // to build relations between layers\n  this._relationsInfo = {\n    children: {}, // array child (unique ids)\n    fathers: {}, // array father (unique ids)\n    father_child: {} // info parent child\n  };\n  var relation = void 0;\n  relations.forEach(function (relationConfig) {\n    relation = new Relation(relationConfig);\n    _this._relations[relation.getId()] = relation;\n  });\n  this._createRelationsInfo();\n  base(this);\n}\n\ninherit(Relations, G3WObject);\n\nvar proto = Relations.prototype;\n\nproto._createRelationsInfo = function () {\n  var _this2 = this;\n\n  var father = void 0;\n  var child = void 0;\n  Object.entries(this._relations).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        relationKey = _ref2[0],\n        relation = _ref2[1];\n\n    father = relation.getFather();\n    child = relation.getChild();\n    _this2._relationsInfo.father_child[father + child] = relationKey;\n    if (!_this2._relationsInfo.fathers[father]) _this2._relationsInfo.fathers[father] = [];\n    if (!_this2._relationsInfo.children[child]) _this2._relationsInfo.children[child] = [];\n    _this2._relationsInfo.fathers[father].push(child);\n    _this2._relationsInfo.children[child].push(father);\n  });\n};\n\nproto._clearRelationsInfo = function () {\n  this._relationsInfo = {\n    children: {},\n    fathers: {},\n    father_children: {}\n  };\n};\n\nproto._reloadRelationsInfo = function () {\n  this._clearRelationsInfo();\n  this._createRelationsInfo();\n};\n\n// number of relations\nproto.getLength = function () {\n  return this._length;\n};\n\nproto.getRelations = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? null : _ref3$type;\n\n  if (!type) return this._relations;else {\n    if (['ONE', 'MANY'].indexOf(type) !== -1) {\n      var relations = {};\n      for (var name in this._relations) {\n        var relation = this._relations[name];\n        if (relation.getType() === type) relations[name] = relation;\n      }\n      return relations;\n    } else return {};\n  }\n};\n\n// array of relation\nproto.getArray = function () {\n  var relations = [];\n  Object.entries(this._relations).forEach(function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 2),\n        relName = _ref5[0],\n        relation = _ref5[1];\n\n    relations.push(relation);\n  });\n  return relations;\n};\n\nproto.setRelations = function (relations) {\n  this._relations = Array.isArray(relations) ? relations : [];\n};\n\nproto.getRelationById = function (id) {\n  return this._relations[id];\n};\n\nproto.getRelationByFatherChildren = function (father, child) {\n  var relationId = this._relationsInfo.father_child[father + child];\n  return this.getRelationById(relationId);\n};\n\nproto.addRelation = function (relation) {\n  if (relation instanceof Relation) {\n    this._relations[relation.getId()] = relation;\n    this._reloadRelationsInfo();\n  }\n};\n\nproto.removeRelation = function (relation) {\n  var relationId = void 0;\n  if (relation instanceof Relation) {\n    relationId = relation.getId();\n    delete this._relations[relationId];\n    this._reloadRelationsInfo();\n  }\n};\n\nproto.hasChildren = function (childId) {\n  var children = this.getChildren(childId);\n  return children ? !!children.length : false;\n};\n\nproto.hasFathers = function (fatherId) {\n  var fathers = this.getFathers(fatherId);\n  return fathers ? !!fathers.length : false;\n};\n\n// get children based on father id\nproto.getChildren = function (fatherId) {\n  if (!this.isFather(fatherId)) return null;\n  return this._relationsInfo.fathers[fatherId];\n};\n\n// get fathers based on childId\nproto.getFathers = function (childId) {\n  if (!this.isChild(childId)) return null;\n  return this._relationsInfo.children[childId];\n};\n\nproto.isChild = function (id) {\n  return !!this._relationsInfo.children[id];\n};\n\nproto.isFather = function (id) {\n  return !!this._relationsInfo.fathers[id];\n};\n\nmodule.exports = Relations;\n\n},{\"core/g3wobject\":13,\"core/relations/relation\":63,\"core/utils/utils\":68}],65:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _constant2 = _interopRequireDefault(_constant);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType,\n    uniqueId = _require.uniqueId;\n\nvar WMSLayer = require('core/layers/map/wmslayer');\nvar Filter = require('core/layers/filter/filter');\n\nvar _require2 = require('core/utils/parsers'),\n    responseParser = _require2.response;\n\nvar geometryFields = _constant2.default.GEOMETRY_FIELDS;\nvar QUERY_POINT_TOLERANCE = _constant2.default.QUERY_POINT_TOLERANCE,\n    G3W_FID = _constant2.default.G3W_FID,\n    GeometryTypes = _constant2.default.GEOMETRY_TYPES;\n\n\nvar Geometry = {\n\n  /**\n   * core/geometry/geometry::GeometryTypes@v3.4\n   */\n  GeometryTypes: GeometryTypes,\n\n  /**\n   * Remove Z values from geometry coordinates\n   */\n  removeZValueToOLFeatureGeometry: function removeZValueToOLFeatureGeometry() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref.feature;\n\n    var geometry = feature.getGeometry();\n    if (geometry) {\n      var geometryType = geometry.getType();\n      var originalFeatureCoordinates = geometry.getCoordinates();\n      switch (geometryType) {\n        // POINT: [x, y]\n        case GeometryTypes.POINT:\n          if (originalFeatureCoordinates.length === 3) {\n            originalFeatureCoordinates.splice(2);\n            feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          }\n          break;\n        // MULTIPOINT: [ [x1, y1], [x2, y2] ]\n        case GeometryTypes.MULTIPOINT:\n        // LINE: [ [x1, y1], [x2, y2] ]\n        case GeometryTypes.LINESTRING:\n        case GeometryTypes.LINE:\n          originalFeatureCoordinates.forEach(function (coordinates) {\n            return coordinates.splice(2);\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // MULTILINE: [\n        //   [ [x1, y1], [x2, y2] ],\n        //   [ [x3, y3], [x4, y4] ]\n        // ]\n        case GeometryTypes.MULTILINESTRING:\n        case GeometryTypes.MULTILINE:\n          originalFeatureCoordinates.forEach(function (singleLine) {\n            singleLine.forEach(function (coordinates) {\n              return coordinates.splice(2);\n            });\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // POLYGON: [\n        //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ]\n        // ]\n        case GeometryTypes.POLYGON:\n          originalFeatureCoordinates[0].forEach(function (coordinates) {\n            return coordinates.splice(2);\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n        // MULTIPOLYGON:[\n        //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ],\n        //   [ [xa, ya], [xb, yb], [xc, yc], [xa, ya] ]\n        // ]\n        case GeometryTypes.MULTIPOLYGON:\n          originalFeatureCoordinates.forEach(function (singlePolygon) {\n            singlePolygon[0].forEach(function (coordinates) {\n              return coordinates.splice(2);\n            });\n          });\n          feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n          break;\n      }\n    }\n\n    return feature;\n  },\n\n\n  /**\n   * core/geometry/geometry::addZValueToOLFeatureGeometry@v3.4\n   */\n  addZValueToOLFeatureGeometry: function addZValueToOLFeatureGeometry() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref2.feature,\n        geometryType = _ref2.geometryType;\n\n    var geometry = feature.getGeometry();\n    geometryType = geometryType || geometry.getType();\n    var originalFeatureCoordinates = geometry.getCoordinates();\n    switch (geometryType) {\n      // POINT: [x, y]\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        originalFeatureCoordinates.push(0);\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTIPOINT: [ [x1, y1], [x2, y2] ]\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n      // LINE: [ [x1, y1], [x2, y2] ]\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        originalFeatureCoordinates.forEach(function (coordinates) {\n          return coordinates.push(0);\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTILINE: [\n      //   [ [x1, y1], [x2, y2] ],\n      //   [ [x3, y3], [x4, y4] ]\n      // ]\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        originalFeatureCoordinates.forEach(function (singleLine) {\n          singleLine.forEach(function (coordinates) {\n            return coordinates.push(0);\n          });\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // POLYGON: [\n      //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ]\n      // ]\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        originalFeatureCoordinates[0].forEach(function (coordinates) {\n          return coordinates.push(0);\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n      // MULTIPOLYGON:[\n      //   [ [x1, y1], [x2, y2], [x3, y3], [x1, y1] ],\n      //   [ [xa, ya], [xb, yb], [xc, yc], [xa, ya] ]\n      // ]\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGOZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        originalFeatureCoordinates.forEach(function (singlePolygon) {\n          singlePolygon[0].forEach(function (coordinates) {\n            return coordinates.push(0);\n          });\n        });\n        feature.getGeometry().setCoordinates(originalFeatureCoordinates);\n        break;\n    }\n    return feature;\n  },\n\n\n  /**\n   * core/geometry/geometry::getOLGeometry@v3.4\n   */\n  getOLGeometry: function getOLGeometry(geometryType) {\n    switch (geometryType) {\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryType = 'LineString';\n        break;\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        geometryType = 'MultiLineString';\n        break;\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryType = 'Point';\n        break;\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryType = 'MultiPoint';\n        break;\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryType = 'Polygon';\n        break;\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryType = 'MultiPolygon';\n        break;\n    }\n    return geometryType;\n  },\n\n\n  /**\n   * core/geometry/geometry::isMultiGeometry@v3.4\n   */\n  isMultiGeometry: function isMultiGeometry(geometryType) {\n    return [GeometryTypes.MULTIPOINT, GeometryTypes.MULTIPOINTZ, GeometryTypes.MULTIPOINTZM, GeometryTypes.MULTIPOINTM, GeometryTypes.MULTIPOINT25D, GeometryTypes.MULTILINESTRING, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.MULTILINE, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D, GeometryTypes.MULTIPOLYGON, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D].indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllPointGeometryTypes@v3.4\n   */\n  getAllPointGeometryTypes: function getAllPointGeometryTypes() {\n    return [GeometryTypes.POINT, GeometryTypes.POINTZ, GeometryTypes.POINTM, GeometryTypes.POINTZM, GeometryTypes.POINT25D, GeometryTypes.MULTIPOINT, GeometryTypes.MULTIPOINTZ, GeometryTypes.MULTIPOINTM, GeometryTypes.MULTIPOINTZM, GeometryTypes.MULTIPOINT25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isPointGeometryType@v3.4\n   */\n  isPointGeometryType: function isPointGeometryType(geometryType) {\n    return Geometry.getAllPointGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllLineGeometryTypes@v3.4\n   */\n  getAllLineGeometryTypes: function getAllLineGeometryTypes() {\n    return [GeometryTypes.LINESTRING, GeometryTypes.LINESTRINGZ, GeometryTypes.LINESTRINGM, GeometryTypes.LINESTRINGZM, GeometryTypes.LINESTRING25D, GeometryTypes.MULTILINESTRING, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.LINE, GeometryTypes.LINEZ, GeometryTypes.LINEM, GeometryTypes.LINEZM, GeometryTypes.LINE25D, GeometryTypes.MULTILINE, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isLineGeometryType@v3.4\n   */\n  isLineGeometryType: function isLineGeometryType(geometryType) {\n    return Geometry.getAllLineGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::getAllPolygonGeometryTypes@v3.4\n   */\n  getAllPolygonGeometryTypes: function getAllPolygonGeometryTypes() {\n    return [GeometryTypes.POLYGON, GeometryTypes.POLYGONZ, GeometryTypes.POLYGONM, GeometryTypes.POLYGONZM, GeometryTypes.POLYGON25D, GeometryTypes.MULTIPOLYGON, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D];\n  },\n\n\n  /**\n   * core/geometry/geometry::isPolygonGeometryType@v3.4\n   */\n  isPolygonGeometryType: function isPolygonGeometryType(geometryType) {\n    return Geometry.getAllPolygonGeometryTypes().indexOf(geometryType) !== -1;\n  },\n\n\n  /**\n   * core/geometry/geometry::is3DGeometry@v3.4\n   */\n  is3DGeometry: function is3DGeometry(geometryType) {\n    return [GeometryTypes.POINTZ, GeometryTypes.POINTM, GeometryTypes.POINTZM, GeometryTypes.POINT25D, GeometryTypes.LINESTRINGZ, GeometryTypes.LINESTRINGM, GeometryTypes.LINESTRINGZM, GeometryTypes.LINESTRING25D, GeometryTypes.MULTILINESTRINGZ, GeometryTypes.MULTILINESTRINGM, GeometryTypes.MULTILINESTRINGZM, GeometryTypes.MULTILINESTRING25D, GeometryTypes.LINEZ, GeometryTypes.LINEM, GeometryTypes.LINEZM, GeometryTypes.LINE25D, GeometryTypes.MULTILINEZ, GeometryTypes.MULTILINEM, GeometryTypes.MULTILINEZM, GeometryTypes.MULTILINE25D, GeometryTypes.POLYGONZ, GeometryTypes.POLYGONM, GeometryTypes.POLYGONZM, GeometryTypes.POLYGON25D, GeometryTypes.MULTIPOLYGONZ, GeometryTypes.MULTIPOLYGONM, GeometryTypes.MULTIPOLYGONZM, GeometryTypes.MULTIPOLYGON25D].find(function (type3D) {\n      return type3D === geometryType;\n    });\n  }\n};\n\nvar geoutils = {\n\n  geometryFields: geometryFields,\n\n  coordinatesToGeometry: function coordinatesToGeometry(geometryType, coordinates) {\n    var geometryClass = void 0;\n    switch (geometryType) {\n      case GeometryTypes.POLYGON:\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryClass = ol.geom.Polygon;\n        break;\n      case GeometryTypes.MULTIPOLYGON:\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryClass = ol.geom.MultiPolygon;\n        break;\n      case GeometryTypes.LINESTRING:\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryClass = ol.geom.LineString;\n        break;\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n      case GeometryTypes.MULTILINESTRING:\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n        geometryClass = ol.geom.MultiLineString;\n        break;\n      case GeometryTypes.POINT:\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryClass = ol.geom.Point;\n        break;\n      case GeometryTypes.MULTIPOINT:\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryClass = ol.geom.MultiPoint;\n        break;\n      default:\n        geometryClass = ol.geom.Point;\n    }\n    var geometry = new geometryClass(coordinates);\n    return geometry;\n  },\n  getDefaultLayerStyle: function getDefaultLayerStyle(geometryType) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var color = options.color;\n\n    switch (geometryType) {\n      case GeometryTypes.LINESTRINGZ:\n      case GeometryTypes.LINESTRINGM:\n      case GeometryTypes.LINESTRINGZM:\n      case GeometryTypes.LINESTRING25D:\n      case GeometryTypes.LINE:\n      case GeometryTypes.LINEZ:\n      case GeometryTypes.LINEM:\n      case GeometryTypes.LINEZM:\n      case GeometryTypes.LINE25D:\n        geometryType = 'LineString';\n        break;\n      case GeometryTypes.MULTILINESTRINGZ:\n      case GeometryTypes.MULTILINESTRINGM:\n      case GeometryTypes.MULTILINESTRINGZM:\n      case GeometryTypes.MULTILINESTRING25D:\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINEZ:\n      case GeometryTypes.MULTILINEM:\n      case GeometryTypes.MULTILINEZM:\n      case GeometryTypes.MULTILINE25D:\n        geometryType = 'MultiLineString';\n        break;\n      case GeometryTypes.POINTZ:\n      case GeometryTypes.POINTM:\n      case GeometryTypes.POINTZM:\n      case GeometryTypes.POINT25D:\n        geometryType = 'Point';\n        break;\n      case GeometryTypes.MULTIPOINTZ:\n      case GeometryTypes.MULTIPOINTM:\n      case GeometryTypes.MULTIPOINTZM:\n      case GeometryTypes.MULTIPOINT25D:\n        geometryType = 'MultiPoint';\n        break;\n      case GeometryTypes.POLYGONZ:\n      case GeometryTypes.POLYGONM:\n      case GeometryTypes.POLYGONZM:\n      case GeometryTypes.POLYGON25D:\n        geometryType = 'Polygon';\n        break;\n      case GeometryTypes.MULTIPOLYGONZ:\n      case GeometryTypes.MULTIPOLYGONM:\n      case GeometryTypes.MULTIPOLYGONZM:\n      case GeometryTypes.MULTIPOLYGON25D:\n        geometryType = 'MultiPolygon';\n        break;\n    }\n    var defaultStyle = {\n      'Point': new ol.style.Style({\n        image: new ol.style.Circle({\n          fill: new ol.style.Fill({\n            color: color\n          }),\n          radius: 5,\n          stroke: new ol.style.Stroke({\n            color: color,\n            width: 1\n          })\n        })\n      }),\n      'LineString': new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'Polygon': new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: 'rgba(255,255,255,0.5)'\n        }),\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'MultiPoint': new ol.style.Style({\n        image: new ol.style.Circle({\n          fill: new ol.style.Fill({\n            color: color\n          }),\n          radius: 5,\n          stroke: new ol.style.Stroke({\n            color: color,\n            width: 1\n          })\n        })\n      }),\n      'MultiLineString': new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      }),\n      'MultiPolygon': new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: 'rgba(255,255,255,0.5)'\n        }),\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 3\n        })\n      })\n    };\n    return defaultStyle[geometryType];\n  },\n  createLayerStyle: function createLayerStyle(styleObj) {\n    var style = void 0;\n    var styles = {};\n    if (styleObj) {\n      Object.entries(styleObj).forEach(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 2),\n            type = _ref4[0],\n            config = _ref4[1];\n\n        switch (type) {\n          case 'point':\n            if (config.icon) {\n              styles.image = new ol.style.Icon({\n                src: config.icon.url,\n                imageSize: config.icon.width\n              });\n            }\n            break;\n          case 'line':\n            styles.stroke = new ol.style.Stroke({\n              color: config.color,\n              width: config.width\n            });\n            break;\n          case 'polygon':\n            styles.fill = new ol.style.Fill({\n              color: config.color\n            });\n            break;\n        }\n      });\n      style = new ol.style.Style(styles);\n    }\n    return style;\n  },\n  createFeatureFromCoordinates: function createFeatureFromCoordinates(coordinates) {\n    var feature = void 0;\n    if (Array.isArray(coordinates) && coordinates.length === 2) {\n      var geometry = new ol.geom.Point(coordinates);\n      feature = new ol.Feature(geometry);\n    }\n    return feature;\n  },\n  createFeatureFromBBOX: function createFeatureFromBBOX(bbox) {\n    var feature = void 0;\n    if (Array.isArray(bbox) && bbox.length === 4) {\n      var geometry = ol.geom.Polygon.fromExtent(bbox);\n      feature = new ol.Feature(geometry);\n    }\n    return feature;\n  },\n  createFeatureFromGeometry: function createFeatureFromGeometry() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        id = _ref5.id,\n        geometry = _ref5.geometry;\n\n    if (geometry) {\n      var feature = new ol.Feature(geometry);\n      feature.setId(id);\n      return feature;\n    }\n  },\n\n\n  /**\n   * in case of feature object\n   * {\n   *   id: X,\n   *   attributes: {key:value}\n   *   geometry: geometry\n   * }\n   * @param id\n   * @param feature\n   */\n  createFeatureFromFeatureObject: function createFeatureFromFeatureObject(_ref6) {\n    var id = _ref6.id,\n        _ref6$feature = _ref6.feature,\n        feature = _ref6$feature === undefined ? {} : _ref6$feature;\n    var _feature2 = feature,\n        geometry = _feature2.geometry,\n        attributes = _feature2.attributes;\n\n    feature = geoutils.createFeatureFromGeometry({ id: id, geometry: geometry });\n    Object.keys(attributes).forEach(function (attribute) {\n      return feature.set(attribute, attributes[attribute]);\n    });\n    return feature;\n  },\n  createOlLayer: function createOlLayer() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var id = options.id;\n    var features = options.features;\n    var geometryType = options.geometryType;\n    var color = options.color;\n    var style = options.style;\n    // create ol layer to add to map\n    var olSource = options.source || new ol.source.Vector({\n      features: features || new ol.Collection()\n    });\n    var olLayer = new ol.layer.Vector({\n      id: id,\n      source: olSource\n    });\n    if (!style) {\n      switch (geometryType) {\n        case GeometryTypes.POINT:\n        case GeometryTypes.POINTZ:\n        case GeometryTypes.POINTM:\n        case GeometryTypes.POINTZM:\n        case GeometryTypes.POINT25D:\n        case GeometryTypes.MULTIPOINT:\n        case GeometryTypes.MULTIPOINTZ:\n        case GeometryTypes.MULTIPOINTM:\n        case GeometryTypes.MULTIPOINTZM:\n        case GeometryTypes.MULTIPOINT25D:\n          style = new ol.style.Style({\n            image: new ol.style.Circle({\n              radius: 5,\n              fill: new ol.style.Fill({\n                color: color\n              })\n            })\n          });\n          break;\n        case GeometryTypes.LINESTRING:\n        case GeometryTypes.LINESTRINGZ:\n        case GeometryTypes.LINESTRINGM:\n        case GeometryTypes.LINESTRINGZM:\n        case GeometryTypes.LINESTRING25D:\n        case GeometryTypes.MULTILINESTRING:\n        case GeometryTypes.MULTILINESTRINGZ:\n        case GeometryTypes.MULTILINESTRINGM:\n        case GeometryTypes.MULTILINESTRINGZM:\n        case GeometryTypes.MULTILINESTRING25D:\n        case GeometryTypes.LINE:\n        case GeometryTypes.LINEZ:\n        case GeometryTypes.LINEM:\n        case GeometryTypes.LINEZM:\n        case GeometryTypes.LINE25D:\n        case GeometryTypes.MULTILINE:\n        case GeometryTypes.MULTILINEZ:\n        case GeometryTypes.MULTILINEM:\n        case GeometryTypes.MULTILINEZM:\n        case GeometryTypes.MULTILINE25D:\n          style = new ol.style.Style({\n            stroke: new ol.style.Stroke({\n              width: 3,\n              color: color\n            })\n          });\n          break;\n        case GeometryTypes.POLYGON:\n        case GeometryTypes.POLYGONZ:\n        case GeometryTypes.POLYGONM:\n        case GeometryTypes.POLYGONZM:\n        case GeometryTypes.POLYGON25D:\n        case GeometryTypes.MULTIPOLYGON:\n        case GeometryTypes.MULTIPOLYGONZ:\n        case GeometryTypes.MULTIPOLYGONM:\n        case GeometryTypes.MULTIPOLYGONZM:\n        case GeometryTypes.MULTIPOLYGON25D:\n          style = new ol.style.Style({\n            stroke: new ol.style.Stroke({\n              color: \"#000000\",\n              width: 1\n            }),\n            fill: new ol.style.Fill({\n              color: color\n            })\n          });\n          olLayer.setOpacity(0.6);\n          break;\n      }\n    }\n    olLayer.setStyle(style);\n    return olLayer;\n  },\n  createWMSLayer: function createWMSLayer() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref7.url,\n        name = _ref7.name,\n        projection = _ref7.projection,\n        _ref7$layers = _ref7.layers,\n        layers = _ref7$layers === undefined ? [] : _ref7$layers;\n\n    var id = name || uniqueId();\n    name = name || id;\n    var wmslayer = new WMSLayer({\n      id: id,\n      layers: layers,\n      projection: projection,\n      url: url\n    });\n    var olLayer = wmslayer.getOLLayer();\n    olLayer.set('id', id); // set unique id\n    olLayer.set('name', name);\n    return {\n      wmslayer: wmslayer,\n      olLayer: olLayer\n    };\n  },\n  createVectorLayerFromGeometry: function createVectorLayerFromGeometry(geometry) {\n    var feature = new ol.Feature(geometry);\n    return geoutils.createVectorLayerFromFeatures(feature);\n  },\n  createVectorLayerFromFeatures: function createVectorLayerFromFeatures(feature) {\n    return new ol.layer.Vector({\n      source: new ol.source.Vector({\n        features: Array.isArray(feature) ? feature : [feature]\n      })\n    });\n  },\n  createVectorLayerFromFile: function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n      var _this = this;\n\n      var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          name = _ref9.name,\n          type = _ref9.type,\n          crs = _ref9.crs,\n          mapCrs = _ref9.mapCrs,\n          data = _ref9.data,\n          style = _ref9.style;\n\n      var format, layer, createVectorLayer, _data, headers, separator, values, x, y, features, errorrows, source, promiseKmz, promise;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              format = void 0;\n              layer = void 0;\n\n              createVectorLayer = function createVectorLayer(format, data) {\n                var epsg = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : crs;\n\n                var vectorLayer = void 0;\n                var features = format.readFeatures(data, {\n                  dataProjection: epsg,\n                  featureProjection: mapCrs || epsg\n                });\n                if (features.length) {\n\n                  // ignore kml property [`<styleUrl>`](https://developers.google.com/kml/documentation/kmlreference)\n                  if (format instanceof ol.format.KML) {\n                    features.forEach(function (feature) {\n                      return feature.unset('styleUrl');\n                    }); // ref: \n                  }\n\n                  var vectorSource = new ol.source.Vector({\n                    features: features\n                  });\n                  vectorLayer = new ol.layer.Vector({\n                    source: vectorSource,\n                    name: name,\n                    _fields: Object.keys(features[0].getProperties()).filter(function (property) {\n                      return geometryFields.indexOf(property) < 0;\n                    }),\n                    id: uniqueId()\n                  });\n                  style && vectorLayer.setStyle(style);\n                }\n                return vectorLayer;\n              };\n\n              _context3.t0 = type;\n              _context3.next = _context3.t0 === 'gpx' ? 6 : _context3.t0 === 'gml' ? 9 : _context3.t0 === 'geojson' ? 12 : _context3.t0 === 'kml' ? 15 : _context3.t0 === 'csv' ? 18 : _context3.t0 === 'kmz' ? 29 : _context3.t0 === 'zip' ? 40 : 51;\n              break;\n\n            case 6:\n              format = new ol.format.GPX();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 9:\n              format = new ol.format.WMSGetFeatureInfo();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 12:\n              format = new ol.format.GeoJSON();\n              layer = createVectorLayer(format, data);\n              return _context3.abrupt('break', 51);\n\n            case 15:\n              format = new ol.format.KML({\n                extractStyles: false\n              });\n              layer = createVectorLayer(format, data, \"EPSG:4326\");\n              return _context3.abrupt('break', 51);\n\n            case 18:\n              _data = data, headers = _data.headers, separator = _data.separator, values = _data.values, x = _data.x, y = _data.y;\n              features = [];\n              errorrows = [];\n\n              values.forEach(function (row, index) {\n                var properties = {};\n                var rowvalues = row.split(separator);\n                if (rowvalues.length === headers.length) {\n                  var coordinates = [];\n                  rowvalues.forEach(function (value, index) {\n                    var field = headers[index];\n                    if (field === x) coordinates[0] = 1 * value;\n                    if (field === y) coordinates[1] = 1 * value;\n                    properties[field] = value;\n                  });\n                  // check if all coordinates is right\n                  if (coordinates.find(function (value) {\n                    return Number.isNaN(value);\n                  }) === undefined) {\n                    var geometry = new ol.geom.Point(coordinates);\n                    if (crs !== mapCrs) geometry.transform(crs, mapCrs);\n                    var feature = new ol.Feature(geometry);\n                    feature.setId(index); // need to add a id incremental\n                    feature.setProperties(properties);\n                    features.push(feature);\n                  }\n                } else errorrows.push({\n                  row: index + 1,\n                  value: values[index]\n                });\n              });\n\n              if (features.length) {\n                _context3.next = 24;\n                break;\n              }\n\n              return _context3.abrupt('return', Promise.reject());\n\n            case 24:\n              if (errorrows.length) {\n                _gui2.default.showUserMessage({\n                  type: 'warning',\n                  message: 'sdk.mapcontrols.addlayer.messages.csv.warning',\n                  hooks: {\n                    footer: {\n                      template: '<select v-select2=\"errorrows[0].value\" class=\"skin-color\" :search=\"false\" style=\"width:100%\">\\n                    <option v-for=\"errorrow in errorrows\" :key=\"errorrow.row\" :value=\"errorrow.value\">[{{ errorrow.row}}] {{errorrow.value}}</option>\\n                </select>',\n                      data: function data() {\n                        return {\n                          errorrows: errorrows\n                        };\n                      }\n                    }\n                  },\n                  autoclose: false\n                });\n              }\n\n              source = new ol.source.Vector({\n                features: features\n              });\n\n              layer = new ol.layer.Vector({\n                source: source,\n                name: name,\n                _fields: headers,\n                id: uniqueId()\n              });\n              style && layer.setStyle(style);\n              return _context3.abrupt('break', 51);\n\n            case 29:\n              promiseKmz = new Promise(function () {\n                var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n                  var zip, buffer, kmlFile;\n                  return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          zip = new JSZip();\n                          _context.next = 3;\n                          return data.arrayBuffer(data);\n\n                        case 3:\n                          buffer = _context.sent;\n\n                          zip.load(buffer);\n                          kmlFile = zip.file(/.kml$/i)[0];\n\n                          if (kmlFile) {\n                            data = kmlFile.asText();\n                            format = new ol.format.KML({\n                              extractStyles: false\n                            });\n                            resolve(createVectorLayer(format, data, \"EPSG:4326\"));\n                          } else reject();\n\n                        case 7:\n                        case 'end':\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee, _this);\n                }));\n\n                return function (_x9, _x10) {\n                  return _ref10.apply(this, arguments);\n                };\n              }());\n              _context3.prev = 30;\n              _context3.next = 33;\n              return promiseKmz;\n\n            case 33:\n              return _context3.abrupt('return', _context3.sent);\n\n            case 36:\n              _context3.prev = 36;\n              _context3.t1 = _context3['catch'](30);\n              return _context3.abrupt('return', Promise.reject());\n\n            case 39:\n              return _context3.abrupt('break', 51);\n\n            case 40:\n              promise = new Promise(function () {\n                var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n                  var buffer;\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _context2.next = 2;\n                          return data.arrayBuffer(data);\n\n                        case 2:\n                          buffer = _context2.sent;\n\n                          shp(buffer).then(function (geojson) {\n                            var data = JSON.stringify(geojson);\n                            format = new ol.format.GeoJSON({});\n                            resolve(createVectorLayer(format, data, \"EPSG:4326\"));\n                          }).catch(function (err) {\n                            return reject(err);\n                          });\n\n                        case 4:\n                        case 'end':\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, _this);\n                }));\n\n                return function (_x11, _x12) {\n                  return _ref11.apply(this, arguments);\n                };\n              }());\n              _context3.prev = 41;\n              _context3.next = 44;\n              return promise;\n\n            case 44:\n              return _context3.abrupt('return', _context3.sent);\n\n            case 47:\n              _context3.prev = 47;\n              _context3.t2 = _context3['catch'](41);\n              return _context3.abrupt('return', Promise.reject());\n\n            case 50:\n              return _context3.abrupt('break', 51);\n\n            case 51:\n              return _context3.abrupt('return', layer);\n\n            case 52:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this, [[30, 36], [41, 47]]);\n    }));\n\n    function createVectorLayerFromFile() {\n      return _ref8.apply(this, arguments);\n    }\n\n    return createVectorLayerFromFile;\n  }(),\n  createStyleFunctionToVectorLayer: function createStyleFunctionToVectorLayer() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var styleFunction = function styleFunction(feature, resolution) {\n      var color = options.color,\n          field = options.field;\n\n      color = color.rgba ? 'rgba(' + color.rgba.r + ',' + color.rgba.g + ',' + color.rgba.b + ',' + color.rgba.a + ')' : color;\n      var geometryType = feature.getGeometry().getType();\n      var style = geoutils.getDefaultLayerStyle(geometryType, { color: color });\n      field && style.setText(new ol.style.Text({\n        text: '' + feature.get(field),\n        font: 'bold',\n        scale: 2,\n        offsetY: 15,\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        stroke: new ol.style.Stroke({\n          color: '#FFFFFF',\n          width: 2\n        })\n      }));\n      return style;\n    };\n    styleFunction._g3w_options = options;\n    return styleFunction;\n  },\n  createSelectedStyle: function createSelectedStyle() {\n    var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        geometryType = _ref12.geometryType,\n        _ref12$color = _ref12.color,\n        color = _ref12$color === undefined ? 'rgb(255,255,0)' : _ref12$color,\n        _ref12$fill = _ref12.fill,\n        fill = _ref12$fill === undefined ? true : _ref12$fill;\n\n    var style = null;\n    if (geometryType === 'LineString' || geometryType === 'MultiLineString') {\n      style = new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 4\n        })\n      });\n    } else if (geometryType === 'Point' || geometryType === 'MultiPoint') {\n      style = new ol.style.Style({\n        image: new ol.style.Circle({\n          radius: 6,\n          stroke: !fill && new ol.style.Stroke({\n            color: color,\n            width: 4\n          }),\n          fill: fill && new ol.style.Fill({\n            color: color\n          })\n        }),\n        zIndex: Infinity\n      });\n    } else if (geometryType === 'MultiPolygon' || geometryType === 'Polygon') {\n      var fillColor = ol.color.asArray(color);\n      fillColor.splice(3, 1, 0.5);\n      style = new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 4\n        }),\n        fill: fill && new ol.style.Fill({\n          color: ol.color.asString(fillColor)\n        })\n      });\n    }\n    return style;\n  },\n  getAlphanumericPropertiesFromFeature: function getAlphanumericPropertiesFromFeature() {\n    var properties = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    properties = Array.isArray(properties) ? properties : Object.keys(properties);\n    return properties.filter(function (property) {\n      return geometryFields.indexOf(property) === -1;\n    });\n  },\n\n\n  /**\n   * Method to convert feature to form Data for expression/expression_eval request\n   * @param feature\n   * @param type\n   */\n  getFormDataExpressionRequestFromFeature: function getFormDataExpressionRequestFromFeature(feature) {\n    delete feature.attributes.geometry;\n    var _feature = new ol.Feature(feature.geometry);\n    var properties = {};\n    geoutils.getAlphanumericPropertiesFromFeature(feature.attributes).forEach(function (property) {\n      if (property !== G3W_FID) properties[property] = feature.attributes[property];\n    });\n    _feature.setProperties(properties);\n    _feature.setId(feature.attributes[G3W_FID]);\n    return geoutils.convertFeatureToGEOJSON(_feature);\n  },\n\n\n  /**\n   * Convert Feature  to GEOJSON Format\n   * @param feature\n   */\n  convertFeatureToGEOJSON: function convertFeatureToGEOJSON(feature) {\n    var GeoJSONFormat = new ol.format.GeoJSON();\n    return GeoJSONFormat.writeFeatureObject(feature);\n  },\n\n\n  /**\n   *\n   * @param layers\n   * @param bbox\n   * @param feature_count\n   * @param multilayers\n   * @returns {JQuery.Promise<any, any, any>}\n   */\n  getQueryLayersPromisesByBBOX: function getQueryLayersPromisesByBBOX(layers, _ref13) {\n    var bbox = _ref13.bbox,\n        _ref13$filterConfig = _ref13.filterConfig,\n        filterConfig = _ref13$filterConfig === undefined ? {} : _ref13$filterConfig,\n        _ref13$feature_count = _ref13.feature_count,\n        feature_count = _ref13$feature_count === undefined ? 10 : _ref13$feature_count,\n        _ref13$multilayers = _ref13.multilayers,\n        multilayers = _ref13$multilayers === undefined ? false : _ref13$multilayers;\n\n    var queriesPromise = void 0;\n    var geometry = ol.geom.Polygon.fromExtent(bbox);\n    var map = _gui2.default.getComponent('map').getService().getMap();\n    var mapProjection = map.getView().getProjection();\n\n    if (multilayers) {\n      queriesPromise = geoutils.getQueryLayersPromisesByGeometry(layers, {\n        geometry: geometry,\n        feature_count: feature_count,\n        filterConfig: filterConfig,\n        multilayers: multilayers,\n        projection: mapProjection\n      });\n    } else {\n      var d = $.Deferred();\n      var mapCrs = mapProjection.getCode();\n      queriesPromise = d.promise();\n      var queryResponses = [];\n      var queryErrors = [];\n      var layersLenght = layers.length;\n      layers.forEach(function (layer) {\n        var filter = new Filter(filterConfig);\n        var layerCrs = layer.getProjection().getCode();\n        /**\n         * convert\n         */\n        filter.setGeometry(mapCrs !== layerCrs ? geometry.clone().transform(mapCrs, layerCrs) : geometry);\n        layer.query({\n          filter: filter,\n          feature_count: feature_count\n        }).then(function (response) {\n          queryResponses.push(response);\n        }).fail(function (error) {\n          return queryErrors.push(error);\n        }).always(function () {\n          layersLenght -= 1;\n          if (layersLenght === 0) queryErrors.length === layers.length ? d.reject(queryErrors) : d.resolve(queryResponses);\n        });\n      });\n    }\n    return queriesPromise;\n  },\n\n\n  /**\n   *\n   * @param layers\n   * @param multilayers\n   * @param bbox\n   * @param geometry\n   * @param projection\n   * @param feature_count\n   * @returns {JQuery.Promise<any, any, any>}\n   */\n  getQueryLayersPromisesByGeometry: function getQueryLayersPromisesByGeometry(layers) {\n    var _ref14 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref14$multilayers = _ref14.multilayers,\n        multilayers = _ref14$multilayers === undefined ? false : _ref14$multilayers,\n        geometry = _ref14.geometry,\n        _ref14$filterConfig = _ref14.filterConfig,\n        filterConfig = _ref14$filterConfig === undefined ? {} : _ref14$filterConfig,\n        projection = _ref14.projection,\n        _ref14$feature_count = _ref14.feature_count,\n        feature_count = _ref14$feature_count === undefined ? 10 : _ref14$feature_count;\n\n    var d = $.Deferred();\n    var queryResponses = [];\n    var queryErrors = [];\n    var mapCrs = projection.getCode();\n    var filter = new Filter(filterConfig);\n    if (multilayers) {\n      (function () {\n        var filterGeometry = geometry;\n        if (!layers.length) d.resolve([]);\n        var multiLayers = _.groupBy(layers, function (layer) {\n          return layer.getMultiLayerId() + '_' + layer.getProjection().getCode();\n        });\n        var numberRequestd = Object.keys(multiLayers).length;\n        var layersLength = numberRequestd;\n        for (var key in multiLayers) {\n          var _multilayer = multiLayers[key];\n          var _layers = _multilayer;\n          var multilayer = multiLayers[key][0];\n          var provider = multilayer.getProvider('filter');\n          var layerCrs = multilayer.getProjection().getCode();\n          if (mapCrs !== layerCrs) filterGeometry = filterGeometry.clone().transform(mapCrs, layerCrs);\n          filter.setGeometry(filterGeometry);\n          provider.query({\n            filter: filter,\n            layers: _layers,\n            feature_count: feature_count\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLength -= 1;\n            if (layersLength === 0) queryErrors.length === numberRequestd ? d.reject(queryErrors) : d.resolve(queryResponses);\n          });\n        }\n      })();\n    } else {\n      if (layers.length === 0) d.resolve([]);else {\n        var layersLenght = layers.length;\n        layers.forEach(function (layer) {\n          var layerCrs = layer.getProjection().getCode();\n          filter.setGeometry(mapCrs !== layerCrs ? geometry.clone().transform(mapCrs, layerCrs) : geometry);\n          layer.query({\n            filter: filter,\n            filterConfig: filterConfig,\n            feature_count: feature_count\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLenght -= 1;\n            if (layersLenght === 0) {\n              queryErrors.length === layers.length ? d.reject(queryErrors) : d.resolve(queryResponses);\n            }\n          });\n        });\n      }\n    }\n    return d.promise();\n  },\n  getQueryLayersPromisesByCoordinates: function getQueryLayersPromisesByCoordinates(layers) {\n    var _ref15 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        coordinates = _ref15.coordinates,\n        _ref15$feature_count = _ref15.feature_count,\n        feature_count = _ref15$feature_count === undefined ? 10 : _ref15$feature_count,\n        _ref15$query_point_to = _ref15.query_point_tolerance,\n        query_point_tolerance = _ref15$query_point_to === undefined ? QUERY_POINT_TOLERANCE : _ref15$query_point_to,\n        _ref15$multilayers = _ref15.multilayers,\n        multilayers = _ref15$multilayers === undefined ? false : _ref15$multilayers,\n        _ref15$reproject = _ref15.reproject,\n        reproject = _ref15$reproject === undefined ? true : _ref15$reproject;\n\n    var d = $.Deferred();\n    if (!layers.length) return d.resolve(layers);\n    var map = _gui2.default.getComponent('map').getService().getMap();\n    var size = map.getSize();\n    var queryResponses = [];\n    var queryErrors = [];\n    var mapProjection = map.getView().getProjection();\n    var resolution = map.getView().getResolution();\n    if (multilayers) {\n      (function () {\n        // case of multilayers\n        var multiLayers = {};\n        layers.forEach(function (layer) {\n          var key = layer.getInfoFormat() + ':' + layer.getInfoUrl() + ':' + layer.getMultiLayerId();\n          if (multiLayers[key]) multiLayers[key].push(layer);else multiLayers[key] = [layer];\n        });\n        var numberOfRequests = Object.keys(multiLayers).length;\n        var layersLength = numberOfRequests;\n        for (var key in multiLayers) {\n          var _multilayer = multiLayers[key];\n          var _layers2 = _multilayer;\n          var multilayer = multiLayers[key][0];\n          var provider = multilayer.getProvider('query');\n          provider.query({\n            feature_count: feature_count,\n            coordinates: coordinates,\n            query_point_tolerance: query_point_tolerance,\n            mapProjection: mapProjection,\n            reproject: reproject,\n            resolution: resolution,\n            size: size,\n            layers: _layers2\n          }).then(function (response) {\n            return queryResponses.push(response);\n          }).fail(function (error) {\n            return queryErrors.push(error);\n          }).always(function () {\n            layersLength -= 1;\n            if (layersLength === 0) {\n              queryErrors.length === numberOfRequests ? d.reject(queryErrors) : d.resolve(queryResponses);\n            }\n          });\n        }\n      })();\n    } else {\n      // single layers request\n      var layersLength = layers.length;\n      var rejectedResponses = 0;\n      layers.forEach(function (layer) {\n        layer.query({\n          feature_count: feature_count,\n          coordinates: coordinates,\n          query_point_tolerance: query_point_tolerance,\n          mapProjection: mapProjection,\n          size: size,\n          resolution: resolution\n        }).then(function (response) {\n          queryResponses.push(response);\n        }).fail(function (error) {\n          rejectedResponses += 1;\n          queryErrors.push(error);\n        }).always(function () {\n          layersLength -= 1;\n          if (layersLength === 0) {\n            rejectedResponses < layers.length ? d.resolve(queryResponses) : d.reject(queryErrors);\n          }\n        });\n      });\n    }\n    return d.promise();\n  },\n  transformBBOX: function transformBBOX() {\n    var _ref16 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        bbox = _ref16.bbox,\n        sourceCrs = _ref16.sourceCrs,\n        destinationCrs = _ref16.destinationCrs;\n\n    var point1 = new ol.geom.Point([bbox[0], bbox[1]]);\n    var point2 = new ol.geom.Point([bbox[2], bbox[3]]);\n    point1.transform(sourceCrs, destinationCrs);\n    point2.transform(sourceCrs, destinationCrs);\n    return [].concat(_toConsumableArray(point1.getCoordinates()), _toConsumableArray(point2.getCoordinates()));\n  },\n  parseQueryLayersPromiseResponses: function parseQueryLayersPromiseResponses(responses) {\n    var results = {\n      query: responses[0] ? responses[0].query : null,\n      data: []\n    };\n    responses.forEach(function (result) {\n      result.data && result.data.forEach(function (data) {\n        results.data.push(data);\n      });\n    });\n    return results;\n  },\n  getMapLayerById: function getMapLayerById(layerId) {\n    return _mapLayers2.default.getLayerById(layerId);\n  },\n\n\n  //return mapLayer based on filter (properties of layer. Es GEOLAYER etc..)\n  //Default values geolayer\n  getMapLayersByFilter: function getMapLayersByFilter() {\n    var filter = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    filter = _extends({\n      GEOLAYER: true\n    }, filter);\n    var layers = [];\n    _mapLayers2.default.getQuerableLayersStores().forEach(function (layerStore) {\n      layers = layerStore.getLayers(filter, options);\n    });\n    return layers || [];\n  },\n  areCoordinatesEqual: function areCoordinatesEqual() {\n    var coordinates1 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var coordinates2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    return coordinates1[0] === coordinates2[0] && coordinates1[1] === coordinates2[1];\n  },\n\n  /**\n   *\n   *\n   * @param response\n   * @param type vector/results\n   * @returns {*|*[]|null}\n   */\n  getFeaturesFromResponseVectorApi: function getFeaturesFromResponseVectorApi() {\n    var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _ref17 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref17$type = _ref17.type,\n        type = _ref17$type === undefined ? 'vector' : _ref17$type;\n\n    if (response.result) {\n      var features = response.vector.data.features || [];\n      switch (type) {\n        case 'result':\n          return geoutils.covertVectorFeaturesToResultFeatures(features);\n          break;\n        case 'vector':\n        default:\n          return features;\n      }\n    } else return null;\n  },\n  covertVectorFeaturesToResultFeatures: function covertVectorFeaturesToResultFeatures() {\n    var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    return features.map(function (feature) {\n      var id = feature.id,\n          attributes = feature.properties,\n          geometry = feature.geometry;\n\n      attributes[G3W_FID] = id;\n      return {\n        geometry: geometry,\n        attributes: attributes,\n        id: id\n      };\n    });\n  },\n  splitGeometryLine: function splitGeometryLine(splitGeometry, lineGeometry) {\n    var isZType = lineGeometry.getCoordinates()[0][2] !== undefined;\n    var splitted = false;\n    var splittedSegments = [];\n    var jstsFromWkt = new jsts.io.WKTReader();\n    var wktFromOl = new ol.format.WKT();\n    var olFromJsts = new jsts.io.OL3Parser();\n    var splitLine = jstsFromWkt.read(wktFromOl.writeGeometry(splitGeometry));\n    var wktLineString = wktFromOl.writeGeometry(lineGeometry);\n    if (isZType) wktLineString = wktLineString.replace(' Z', '');\n    var targetLine = jstsFromWkt.read(wktLineString);\n    var targetCoordinates = targetLine.getCoordinates();\n    var targetCoordinatesLength = targetCoordinates.length;\n    var geometryFactory = new jsts.geom.GeometryFactory();\n    var pointsNotSplitted = [];\n    var endPoint = void 0;\n    var startPoint = void 0;\n    for (var i = 0; i < targetCoordinatesLength - 1; i++) {\n      startPoint = targetCoordinates[i];\n      endPoint = targetCoordinates[i + 1];\n      if (isZType) {\n        startPoint.z = lineGeometry.getCoordinates()[i][2];\n        endPoint.z = lineGeometry.getCoordinates()[i + 1][2];\n      }\n      // create a segment of two vertex\n      var segment = geometryFactory.createLineString([startPoint, endPoint]);\n      var intersectCoordinates = segment.intersection(splitLine).getCoordinates();\n      if (intersectCoordinates.length) {\n        splitted = true;\n        intersectCoordinates.forEach(function (splitPoint) {\n          if (isZType) splitPoint.z = startPoint.z;\n          if (pointsNotSplitted.length) {\n            var lineNewSegment = olFromJsts.write(geometryFactory.createLineString(pointsNotSplitted.concat([startPoint, splitPoint])));\n            if (isZType) {\n              var coordinates = lineNewSegment.getCoordinates();\n              lineNewSegment.setCoordinates([[].concat(_toConsumableArray(coordinates[0]), [startPoint.z]), [].concat(_toConsumableArray(coordinates[1]), [splitPoint.z])]);\n            }\n            splittedSegments.push(lineNewSegment);\n            pointsNotSplitted = [];\n          } else {\n            var _lineNewSegment = olFromJsts.write(geometryFactory.createLineString([startPoint, splitPoint]));\n            if (isZType) {\n              var _coordinates = _lineNewSegment.getCoordinates();\n              _lineNewSegment.setCoordinates([[].concat(_toConsumableArray(_coordinates[0]), [startPoint.z]), [].concat(_toConsumableArray(_coordinates[1]), [splitPoint.z])]);\n            }\n            splittedSegments.push(_lineNewSegment);\n          }\n          startPoint = splitPoint;\n        });\n        pointsNotSplitted = pointsNotSplitted.concat([startPoint, endPoint]);\n      } else pointsNotSplitted = pointsNotSplitted.concat([startPoint, endPoint]);\n    }\n    var restOfLine = olFromJsts.write(geometryFactory.createLineString(pointsNotSplitted));\n    if (isZType) {\n      var zCoordinates = [];\n      pointsNotSplitted.forEach(function (pointNotSplitted, index) {\n        var coordinate = restOfLine.getCoordinates()[index];\n        coordinate.push(pointNotSplitted.z);\n        zCoordinates.push(coordinate);\n      });\n      restOfLine.setCoordinates(zCoordinates);\n    }\n    splittedSegments.push(restOfLine);\n    return splitted && splittedSegments || [];\n  },\n  splitFeatures: function splitFeatures() {\n    var _ref18 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref18$features = _ref18.features,\n        features = _ref18$features === undefined ? [] : _ref18$features,\n        splitfeature = _ref18.splitfeature;\n\n    var splitterdGeometries = [];\n    features.forEach(function (feature) {\n      var geometries = geoutils.splitFeature({ feature: feature, splitfeature: splitfeature });\n      geometries.length > 1 && splitterdGeometries.push({\n        uid: feature.getUid(),\n        geometries: geometries\n      });\n    });\n    return splitterdGeometries;\n  },\n  splitFeature: function splitFeature() {\n    var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref19.feature,\n        splitfeature = _ref19.splitfeature;\n\n    var geometries = {\n      feature: feature.getGeometry(), //geometry of the feature to split\n      split: splitfeature.getGeometry() // geometry of split feature\n    };\n    // check geometry type of split\n    var splitType = geometries.split.getType();\n    // check geometry type of feature\n    var featureGeometryType = geometries.feature.getType();\n    // array of splitted geometries\n    var splittedFeatureGeometries = [];\n    var parser = new jsts.io.OL3Parser();\n    switch (splitType) {\n      case 'LineString':\n        // check if geometry is Polygon\n        if (featureGeometryType.indexOf('Polygon') !== -1) {\n          // check if is a MultiPolygon\n          var isMulti = featureGeometryType.indexOf('Multi') !== -1;\n          // if multiPolygon\n          var polygonFeature = isMulti ? geometries.feature.getPolygons() : geometries.feature;\n          if (Array.isArray(polygonFeature)) {\n            polygonFeature.forEach(function (geometry) {\n              geoutils.splitFeature({\n                splitfeature: splitfeature,\n                feature: new ol.Feature({\n                  geometry: geometry\n                })\n              }).forEach(function (geometry) {\n                geometry && splittedFeatureGeometries.push(new ol.geom.MultiPolygon([geometry.getCoordinates()]));\n              });\n            });\n          } else {\n            // case a Polygon\n            var isZType = polygonFeature.getCoordinates()[0][0][2] !== undefined;\n            var polygonFeatureGeometry = parser.read(polygonFeature);\n            var externalPolygonFeatureGeometry = parser.read(polygonFeature.getLinearRing(0));\n            // create a line splittinf feature in jsts\n            var splitGeometry = parser.read(geometries.split);\n            // add holes geometries\n            var holePolygons = void 0;\n            if (polygonFeature.getLinearRingCount() > 1) {\n              var holeFeaturesGeometry = void 0;\n              for (var index = 1; index < polygonFeature.getLinearRingCount(); index++) {\n                var holeRing = parser.read(polygonFeature.getLinearRing(index));\n                if (holeFeaturesGeometry === undefined) holeFeaturesGeometry = holeRing;else holeFeaturesGeometry = holeFeaturesGeometry.union(holeRing);\n              }\n              holePolygons = new jsts.operation.polygonize.Polygonizer();\n              holePolygons.add(holeFeaturesGeometry);\n              var holyPolygonUnion = void 0;\n              holePolygons.getPolygons().toArray().forEach(function (polygon) {\n                if (holyPolygonUnion === undefined) holyPolygonUnion = polygon;else holyPolygonUnion = holyPolygonUnion.union(polygon);\n              });\n              holePolygons = holyPolygonUnion;\n            }\n\n            if (isZType) {\n              polygonFeature.getCoordinates()[0].forEach(function (coordinate, index) {\n                externalPolygonFeatureGeometry.getCoordinates()[index].z = coordinate[2];\n              });\n              splitGeometry.getCoordinates().forEach(function (coordinate) {\n                return coordinate.z = 0;\n              });\n            }\n\n            var union = externalPolygonFeatureGeometry.union(splitGeometry);\n            var polygonizer = new jsts.operation.polygonize.Polygonizer();\n            polygonizer.add(union);\n            var polygons = polygonizer.getPolygons().toArray();\n            polygons.length > 1 && polygons.forEach(function (polygon) {\n              if (holePolygons) polygon = polygon.difference(holePolygons);\n              if (polygonFeatureGeometry.intersects(polygon.getInteriorPoint())) {\n                var geometry = parser.write(polygon);\n                var polygonCoordinates = polygon.getCoordinates();\n                if (isZType) {\n                  polygonCoordinates.forEach(function (coordinate, index) {\n                    coordinate.z = coordinate.z === undefined ? polygonCoordinates[index === 0 ? index + 1 : index - 1].z : coordinate.z;\n                  });\n                }\n                if (isZType) {\n                  var zCoordinates = [];\n                  geometry.getCoordinates()[0].forEach(function (coordinate, index) {\n                    coordinate.push(polygonCoordinates[index].z);\n                    zCoordinates.push(coordinate);\n                  });\n                  geometry.setCoordinates([zCoordinates]);\n                }\n                var geometryType = geometry.getType();\n                if (isMulti) {\n                  splittedFeatureGeometries.push(new ol.geom.MultiPolygon(geometryType === 'Polygon' ? [geometry.getCoordinates()] : geometry.getCoordinates()));\n                } else {\n                  if (geometryType === 'Polygon') {\n                    splittedFeatureGeometries.push(geometry);\n                  } else geometry.getCoordinates().forEach(function (coordinates) {\n                    splittedFeatureGeometries.push(new ol.geom.Polygon(coordinates));\n                  });\n                }\n              }\n            });\n          }\n          //LineString or MultiLineString\n        } else if (featureGeometryType.indexOf('LineString') !== -1) {\n          var _isMulti = featureGeometryType.indexOf('Multi') !== -1;\n          var lineFeatureGeometry = _isMulti ? geometries.feature.getLineStrings() : geometries.feature;\n          if (Array.isArray(lineFeatureGeometry)) {\n            lineFeatureGeometry.forEach(function (lineGeometry) {\n              geoutils.splitFeature({\n                splitfeature: splitfeature,\n                feature: new ol.Feature({\n                  geometry: lineGeometry\n                })\n              }).forEach(function (geometry) {\n                geometry && splittedFeatureGeometries.push(new ol.geom.MultiLineString([geometry.getCoordinates()]));\n              });\n            });\n          } else return geoutils.splitGeometryLine(geometries.split, geometries.feature);\n        }\n        break;\n    }\n    return splittedFeatureGeometries;\n  },\n\n  /**\n   * Return Point feature vertex from geometry\n   * @param geometry\n   */\n  getPointFeaturesfromGeometryVertex: function getPointFeaturesfromGeometryVertex(geometry) {\n    var pointFeatures = [];\n    switch (geometry.getType()) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            coordinates.pop();\n            coordinates.forEach(function (coordinates) {\n              var feature = new ol.Feature(new ol.geom.Point(coordinates));\n              pointFeatures.push(feature);\n            });\n          });\n        });\n        break;\n      case GeometryTypes.POLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.pop();\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.MULTILINESTRING:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.LINESTRING:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            var feature = new ol.Feature(new ol.geom.Point(coordinates));\n            pointFeatures.push(feature);\n          });\n        });\n        break;\n      case GeometryTypes.MULTIPOINT:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          var feature = new ol.Feature(new ol.geom.Point(coordinates));\n          pointFeatures.push(feature);\n        });\n        break;\n      case GeometryTypes.POINT:\n        var coordinates = geometry.getCoordinates();\n        var feature = new ol.geom.Point(coordinates);\n        pointFeatures.push(feature);\n        break;\n    }\n    return pointFeatures;\n  },\n\n\n  /**\n   * Return number of vertex of a feature\n   * @param geometries\n   * @returns {*}\n   */\n  getVertexLength: function getVertexLength(geometry) {\n    var vertexLength = 0;\n    switch (geometry.getType()) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.forEach(function (coordinates) {\n            coordinates.pop();\n            coordinates.forEach(function () {\n              return vertexLength += 1;\n            });\n          });\n        });\n        break;\n      case GeometryTypes.POLYGON:\n        geometry.getCoordinates().forEach(function (coordinates) {\n          coordinates.pop();\n          coordinates.forEach(function () {\n            return vertexLength += 1;\n          });\n        });\n        break;\n    }\n    return vertexLength;\n  },\n\n\n  /**\n   * Method that compare two geometry type and return true id are same geometry type or have in common tha same base geometry type:\n   * es. Point <--> Point => true\n   *  MultiPoint <--> Point => true\n   *  Point <--> Polygon => false\n   *\n   */\n  isSameBaseGeometryType: function isSameBaseGeometryType(geometryType1, geometryType2) {\n    geometryType1 = geometryType1.replace('Multi', '');\n    geometryType2 = geometryType2.replace('Multi', '');\n    return geometryType1 === geometryType2;\n  },\n  isSingleGeometry: function isSingleGeometry(geometry) {\n    return !Geometry.isMultiGeometry(geometry.getType());\n  },\n  singleGeometriesToMultiGeometry: function singleGeometriesToMultiGeometry() {\n    var geometries = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    var geometryType = geometries[0] && geometries[0].getType();\n    return geometryType && new ol.geom['Multi' + geometryType](geometries.map(function (geometry) {\n      return geometry.getCoordinates();\n    }));\n  },\n  multiGeometryToSingleGeometries: function multiGeometryToSingleGeometries(geometry) {\n    var geometryType = geometry.getType();\n    var geometries = [];\n    switch (geometryType) {\n      case GeometryTypes.MULTIPOLYGON:\n        geometries = geometry.getPolygons();\n        break;\n      case GeometryTypes.MULTILINE:\n      case GeometryTypes.MULTILINESTRING:\n        geometries = geometry.getLineStrings();\n        break;\n      case GeometryTypes.MULTIPOINT:\n        geometries = geometry.getPoints();\n        break;\n    }\n    return geometries;\n  },\n\n  /**\n   * Convert geometry to geometryType (from Single to Multi or viceversa)\n   * @param geometry //from geometry\n   * @param toGeometryType\n   * @returns {*}\n   */\n  convertSingleMultiGeometry: function convertSingleMultiGeometry(geometry, toGeometryType) {\n    var fromGeometryType = geometry.getType();\n    if (toGeometryType && fromGeometryType !== toGeometryType) {\n      var isFromGeometryMulti = Geometry.isMultiGeometry(fromGeometryType);\n      var isToGeometryMulti = Geometry.isMultiGeometry(toGeometryType);\n      if (isFromGeometryMulti && !isToGeometryMulti) return geoutils.multiGeometryToSingleGeometries(geometry);else if (!isFromGeometryMulti && isToGeometryMulti) return geoutils.singleGeometriesToMultiGeometry([geometry]);\n    }\n    return geometry;\n  },\n  dissolve: function dissolve() {\n    var _ref20 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref20$features = _ref20.features,\n        features = _ref20$features === undefined ? [] : _ref20$features,\n        _ref20$index = _ref20.index,\n        index = _ref20$index === undefined ? 0 : _ref20$index,\n        _ref20$clone = _ref20.clone,\n        clone = _ref20$clone === undefined ? false : _ref20$clone;\n\n    var parser = new jsts.io.OL3Parser();\n    var featuresLength = features.length;\n    var dissolvedFeature = void 0;\n    var jstsdissolvedFeatureGeometry = void 0;\n    switch (featuresLength) {\n      case 0:\n        dissolvedFeature = null;\n        break;\n      case 1:\n        dissolvedFeature = features[0];\n        break;\n      default:\n        var baseFeature = dissolvedFeature = clone ? features[index].clone() : features[index];\n        var baseFeatureGeometry = baseFeature.getGeometry();\n        var baseFeatureGeometryType = baseFeatureGeometry.getType();\n        // check if can buil a LineString\n        if (baseFeatureGeometryType === 'LineString') {\n          var lineMerger = new jsts.operation.linemerge.LineMerger();\n          for (var i = 0; i < featuresLength; i++) {\n            var feature = features[i];\n            var coordinates = parser.read(feature.getGeometry()).getCoordinates();\n            var LineString = new jsts.geom.GeometryFactory().createLineString(coordinates);\n            lineMerger.addLineString(LineString);\n          }\n          var mergedLineString = lineMerger.getMergedLineStrings();\n          jstsdissolvedFeatureGeometry = mergedLineString.size() === 1 ? mergedLineString.toArray()[0] : null;\n        } else {\n          jstsdissolvedFeatureGeometry = parser.read(baseFeatureGeometry);\n          for (var _i = 0; _i < featuresLength; _i++) {\n            if (index !== _i) {\n              var _feature3 = features[_i];\n              jstsdissolvedFeatureGeometry = jstsdissolvedFeatureGeometry.union(parser.read(_feature3.getGeometry()));\n            }\n          }\n        }\n        if (jstsdissolvedFeatureGeometry) {\n          var dissolvedFeatureGeometry = parser.write(jstsdissolvedFeatureGeometry);\n          var dissolvedFeatureGeometryType = dissolvedFeatureGeometry.getType();\n          var dissolvedFeatuteGeometryCoordinates = dissolvedFeatureGeometryType === baseFeatureGeometryType ? dissolvedFeatureGeometry.getCoordinates() : baseFeatureGeometryType.indexOf('Multi') !== -1 && dissolvedFeatureGeometryType === baseFeatureGeometryType.replace('Multi', '') ? [dissolvedFeatureGeometry.getCoordinates()] : null;\n          if (dissolvedFeatuteGeometryCoordinates) baseFeature.getGeometry().setCoordinates(dissolvedFeatuteGeometryCoordinates);else dissolvedFeature = null;\n        } else dissolvedFeature = null;\n    }\n    return dissolvedFeature;\n  },\n\n\n  /**\n   * Check if `geometryToCheck` is within `geometry`\n   * \n   * @param   {ol.geometry} geometry\n   * @param   {ol.geometry} geometryToCheck\n   * @returns {boolean}     whether `geometryToCheck` is within `geometry`\n   * \n   * @since 3.8.0\n   */\n  within: function within(geometry, geometryToCheck) {\n    var olFromJsts = new jsts.io.OL3Parser();\n    var jstsGeometry = olFromJsts.read(geometry);\n    var jstsGeometryToCheck = olFromJsts.read(geometryToCheck);\n    return jstsGeometryToCheck.within(jstsGeometry);\n  },\n\n  /**\n   * Check if `geometryCheck` intersects with `geometry`\n   * \n   * @param   {ol.geometry} geometry\n   * @param   {ol.geometry} geometryToCheck\n   * \n   * @returns {boolean}     whether `geometryToCheck` interesects `geometry`\n   * \n   * @since 3.8.0\n   */\n  intersects: function intersects(geometry, geometryToCheck) {\n    var olFromJsts = new jsts.io.OL3Parser();\n    var jstsGeometry = olFromJsts.read(geometry);\n    var jstsGeometryToCheck = olFromJsts.read(geometryToCheck);\n    return jstsGeometry.intersects(jstsGeometryToCheck);\n  },\n\n\n  /**\n   * Method to find Self Intersection\n   * @param geoJsonPolygon\n   * @returns {[]}\n   */\n  findSelfIntersects: function findSelfIntersects(geometry) {\n    // temporary return true or false (commented the array result for point intersect)\n    var selfIntersectPoint = [];\n    var olFromJsts = new jsts.io.OL3Parser();\n    var jstsPolygon = olFromJsts.read(geometry);\n    // if the geometry is already a simple linear ring, do not\n    // try to find self intersection points.\n    var validator = new jsts.operation.IsSimpleOp(jstsPolygon);\n    //if (validator.isSimpleLinearGeometry(jstsPolygon)) return selfIntersectPoint;\n    if (validator.isSimpleLinearGeometry(jstsPolygon)) return false;\n    var graph = new jsts.geomgraph.GeometryGraph(0, jstsPolygon);\n    var cat = new jsts.operation.valid.ConsistentAreaTester(graph);\n    var r = cat.isNodeConsistentArea();\n    if (!r) {\n      return true;\n      //const pt = cat.getInvalidPoint();\n      //selfIntersectPoint.push([pt.x, pt.y]);\n    }\n  },\n  normalizeEpsg: function normalizeEpsg(epsg) {\n    if (typeof epsg === 'number') return 'EPSG:' + epsg;\n    epsg = epsg.replace(/[^\\d\\.\\-]/g, \"\");\n    if (epsg !== '') return 'EPSG:' + parseInt(epsg);\n  },\n  crsToCrsObject: function crsToCrsObject(crs) {\n    if (crs === null || crs === undefined) return crs;\n    if (toRawType(crs) === 'Object' && crs.epsg) crs.epsg = geoutils.normalizeEpsg(crs.epsg);else crs = {\n      epsg: geoutils.normalizeEpsg(crs),\n      proj4: \"\",\n      axisinverted: false,\n      geographic: false\n    };\n    return crs;\n  },\n\n  /**\n   * Method to convert Degree Minutes  to Degree\n   * @param dm\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDMToDEG: function ConvertDMToDEG(_ref21) {\n    var dms = _ref21.dms,\n        _ref21$type = _ref21.type,\n        type = _ref21$type === undefined ? \"Array\" : _ref21$type;\n\n    var dms_Array = type === 'Array' ? dms : dms.split(/[^\\d\\w\\.]+/);\n    var degrees = 1 * dms_Array[0];\n    var minutes = 1 * dms_Array[1];\n    var deg = (Number(degrees) + Number(minutes) / 60).toFixed(6);\n    return 1 * deg;\n  },\n\n  /**\n   * Method to convert Degree to DM\n   * @param deg\n   * @param lat\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDEGToDM: function ConvertDEGToDM() {\n    var _ref22 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        deg = _ref22.deg,\n        _ref22$output = _ref22.output,\n        output = _ref22$output === undefined ? 'Array' : _ref22$output;\n\n    var absolute = Math.abs(deg);\n    var degrees = Math.floor(absolute);\n    var minutes = (absolute - degrees) * 60;\n    switch (output) {\n      case 'Array':\n        return [degrees, minutes];\n        break;\n      case 'Object':\n        return {\n          degrees: degrees,\n          minutes: minutes\n        };\n        break;\n      case 'Text':\n      default:\n        return degrees + \"\" + minutes + \"'\";\n    }\n  },\n\n  /**\n   * Method to convert Degree Minutes Seconto to Degree\n   * @param dms\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDMSToDEG: function ConvertDMSToDEG(_ref23) {\n    var dms = _ref23.dms,\n        _ref23$type = _ref23.type,\n        type = _ref23$type === undefined ? \"Array\" : _ref23$type;\n\n    var dms_Array = type === 'Array' ? dms : dms.split(/[^\\d\\w\\.]+/);\n    var degrees = 1 * dms_Array[0];\n    var minutes = 1 * dms_Array[1];\n    var seconds = 1 * dms_Array[2];\n    var direction = dms_Array[3];\n    var deg = (Number(degrees) + Number(minutes) / 60 + Number(seconds) / 3600).toFixed(6);\n    if (direction == \"S\" || direction == \"W\") deg = deg * -1;\n    return 1 * deg;\n  },\n\n  /**\n   * Method to convert Degree to DMS\n   * @param deg\n   * @param lat\n   * @returns {string}\n   * @constructor\n   */\n  ConvertDEGToDMS: function ConvertDEGToDMS() {\n    var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        deg = _ref24.deg,\n        lat = _ref24.lat,\n        lon = _ref24.lon,\n        _ref24$output = _ref24.output,\n        output = _ref24$output === undefined ? 'Array' : _ref24$output;\n\n    var absolute = Math.abs(deg);\n    var degrees = Math.floor(absolute);\n    var minutesNotTruncated = (absolute - degrees) * 60;\n    var minutes = Math.floor(minutesNotTruncated);\n    var seconds = ((minutesNotTruncated - minutes) * 60).toFixed(2);\n    var direction = void 0;\n    if (lat) direction = deg >= 0 ? \"N\" : \"S\";\n    if (lon) direction = deg >= 0 ? \"E\" : \"W\";\n    switch (output) {\n      case 'Array':\n        return [degrees, minutes, seconds, direction];\n        break;\n      case 'Object':\n        return {\n          degrees: degrees,\n          minutes: minutes,\n          seconds: seconds,\n          direction: direction\n        };\n        break;\n      case 'Text':\n      default:\n        return degrees + \"\" + minutes + \"'\" + seconds + \"\\\"\" + direction;\n    }\n  },\n\n  /**\n   * Method to get geotiff file create by server\n   *\n   * @param options {\n   *   url: server url end point\n   *   method: \"GET\" or \"POST\" - default POST\n   * }\n   * @returns {Promise<Blob>}\n   */\n  getGeoTIFFfromServer: function () {\n    var _ref25 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var url, _options$params, image, csrfmiddlewaretoken, bbox, _options$method, method, body, response, geoTIFF;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              url = options.url, _options$params = options.params, image = _options$params.image, csrfmiddlewaretoken = _options$params.csrfmiddlewaretoken, bbox = _options$params.bbox, _options$method = options.method, method = _options$method === undefined ? \"POST\" : _options$method;\n              body = new FormData();\n\n              body.append('image', image);\n              body.append('csrfmiddlewaretoken', csrfmiddlewaretoken);\n              body.append('bbox', bbox);\n              _context4.next = 7;\n              return fetch(url, {\n                method: method, // *GET, POST, PUT, DELETE, etc.,\n                body: body\n              });\n\n            case 7:\n              response = _context4.sent;\n              _context4.next = 10;\n              return response.blob();\n\n            case 10:\n              geoTIFF = _context4.sent;\n              return _context4.abrupt('return', geoTIFF);\n\n            case 12:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function getGeoTIFFfromServer() {\n      return _ref25.apply(this, arguments);\n    }\n\n    return getGeoTIFFfromServer;\n  }(),\n\n  /**\n   * Method to convert feature forma api\n   * @param feature\n   * @returns {*|Feature|Feature}\n   */\n  createOlFeatureFromApiResponseFeature: function createOlFeatureFromApiResponseFeature(feature) {\n    var _feature$properties = feature.properties,\n        properties = _feature$properties === undefined ? {} : _feature$properties,\n        geometry = feature.geometry,\n        id = feature.id;\n\n    properties[G3W_FID] = id;\n    var Feature = new ol.Feature(geometry && new ol.geom[geometry.type](geometry.coordinates));\n    Feature.setProperties(properties);\n    Feature.setId(id);\n    return Feature;\n  },\n  sanitizeFidFeature: function sanitizeFidFeature(fid) {\n    if (toRawType(fid) === 'String' && Number.isNaN(1 * fid)) {\n      fid = fid.split('.');\n      fid = fid.length === 2 ? fid[1] : fid[0];\n    }\n    return fid;\n  },\n  parseAttributes: function parseAttributes(layerAttributes, featureAttributes) {\n    var featureAttributesNames = Object.keys(featureAttributes).filter(function (featureAttributesName) {\n      return geometryFields.indexOf(featureAttributesName) === -1;\n    });\n    if (layerAttributes && layerAttributes.length) {\n      var _featureAttributesNames = Object.keys(featureAttributes);\n      return layerAttributes.filter(function (attribute) {\n        return _featureAttributesNames.indexOf(attribute.name) > -1;\n      });\n    } else {\n      return featureAttributesNames.map(function (featureAttributesName) {\n        return {\n          name: featureAttributesName,\n          label: featureAttributesName\n        };\n      });\n    }\n  },\n\n  /**\n   * Handle case query response\n   */\n  handleQueryResponse: function handleQueryResponse() {\n    var _ref26 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref26.response,\n        projections = _ref26.projections,\n        layers = _ref26.layers,\n        _ref26$wms = _ref26.wms,\n        wms = _ref26$wms === undefined ? true : _ref26$wms;\n\n    layers = layers ? layers : [this._layer];\n    var layer = layers[0];\n    var infoFormat = layer.getInfoFormat();\n    response = responseParser.get(infoFormat)({\n      response: response,\n      projections: projections,\n      layers: layers,\n      wms: wms\n    });\n    return response;\n  },\n\n\n  /**\n   * core/geometry/geom::distance@v3.4\n   */\n  distance: function distance(c1, c2) {\n    return Math.sqrt(geom.squaredDistance(c1, c2));\n  },\n\n\n  /**\n   * * core/geometry/geom::squaredDistance@v3.4\n   */\n  squaredDistance: function squaredDistance(c1, c2) {\n    var x1 = c1[0];\n    var y1 = c1[1];\n    var x2 = c2[0];\n    var y2 = c2[1];\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    return dx * dx + dy * dy;\n  },\n\n\n  /**\n   * core/geometry/geom::closestOnSegment@v3.4\n   */\n  closestOnSegment: function closestOnSegment(coordinate, segment) {\n    var x0 = coordinate[0];\n    var y0 = coordinate[1];\n    var start = segment[0];\n    var end = segment[1];\n    var x1 = start[0];\n    var y1 = start[1];\n    var x2 = end[0];\n    var y2 = end[1];\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n    var along = dx === 0 && dy === 0 ? 0 : (dx * (x0 - x1) + dy * (y0 - y1)) / (dx * dx + dy * dy || 0);\n    var x = void 0,\n        y = void 0;\n    if (along <= 0) {\n      x = x1;\n      y = y1;\n    } else if (along >= 1) {\n      x = x2;\n      y = y2;\n    } else {\n      x = x1 + along * dx;\n      y = y1 + along * dy;\n    }\n    return [x, y];\n  },\n  get_LEGEND_ON_LEGEND_OFF_Params: function get_LEGEND_ON_LEGEND_OFF_Params(layer) {\n    var LEGEND_ON = void 0,\n        LEGEND_OFF = void 0;\n    if (layer.getCategories()) {\n      /**\n       * checked: current status\n       * _checked: original status\n       * handle only difference (diff) from original checked status and current chenge by toc categories\n       */\n      layer.getCategories().forEach(function (_ref27) {\n        var checked = _ref27.checked,\n            _checked = _ref27._checked,\n            ruleKey = _ref27.ruleKey;\n\n        if (checked !== _checked) {\n          if (checked) {\n            if (typeof LEGEND_ON === 'undefined') LEGEND_ON = layer.getWMSLayerName() + ':';else LEGEND_ON = LEGEND_ON + ',';\n            LEGEND_ON = '' + LEGEND_ON + ruleKey;\n          } else {\n            if (typeof LEGEND_OFF === 'undefined') LEGEND_OFF = layer.getWMSLayerName() + ':';else LEGEND_OFF = LEGEND_OFF + ',';\n            LEGEND_OFF = '' + LEGEND_OFF + ruleKey;\n          }\n        }\n      });\n    }\n    return {\n      LEGEND_ON: LEGEND_ON,\n      LEGEND_OFF: LEGEND_OFF\n    };\n  },\n\n\n  /**\n   * @TODO remove \"Geometry\" sub-property (ie. find out how to merge the following functions)\n   */\n  Geometry: Geometry\n\n};\n\nmodule.exports = geoutils;\n\n},{\"app/constant\":5,\"core/layers/filter/filter\":31,\"core/layers/map/wmslayer\":46,\"core/utils/parsers\":67,\"core/utils/utils\":68,\"services/gui\":356,\"store/map-layers\":372}],66:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @FIXME remove weird import (utility functions should be stateles)\n                                                                                                                                                                                                                                                                   */\n\n\nvar _applicationState = require(\"store/application-state\");\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n */\n// const { Geometry } = require('core/utils/geo');\n\nvar INCHES_PER_UNIT = {\n  m: 39.37, //\n  degrees: 4374754\n};\n\n//const DOTS_PER_INCH = ol.has.DEVICE_PIXEL_RATIO * 96; //DPI96\nvar DOTS_PER_INCH = 96; //DPI96\n\nvar utils = {\n  merge: function merge(obj1, obj2) {\n    var obj3 = _extends({}, obj1, obj2);\n    return obj3;\n  },\n  getExtentForViewAndSize: function getExtentForViewAndSize(center, resolution, rotation, size) {\n    var dx = resolution * size[0] / 2;\n    var dy = resolution * size[1] / 2;\n    var cosRotation = Math.cos(rotation);\n    var sinRotation = Math.sin(rotation);\n    var xCos = dx * cosRotation;\n    var xSin = dx * sinRotation;\n    var yCos = dy * cosRotation;\n    var ySin = dy * sinRotation;\n    var x = center[0];\n    var y = center[1];\n    var x0 = x - xCos + ySin;\n    var x1 = x - xCos - ySin;\n    var x2 = x + xCos - ySin;\n    var x3 = x + xCos + ySin;\n    var y0 = y - xSin - yCos;\n    var y1 = y - xSin + yCos;\n    var y2 = y + xSin + yCos;\n    var y3 = y + xSin - yCos;\n    //return [Math.min(y0, y1, y2, y3),Math.min(x0, x1, x2, x3), Math.max(y0, y1, y2, y3), Math.max(x0, x1, x2, x3)]\n    return [Math.min(x0, x1, x2, x3), Math.min(y0, y1, y2, y3), Math.max(x0, x1, x2, x3), Math.max(y0, y1, y2, y3)];\n  },\n\n  // function that create a polygon vector layer from bbox\n  createPolygonLayerFromBBox: function createPolygonLayerFromBBox(bbox) {\n    var polygonFeature = new ol.Feature(new ol.geom.Polygon.fromExtent(bbox));\n    var vectorSource = new ol.source.Vector({\n      features: [polygonFeature]\n    });\n    var polygonLayer = new ol.layer.Vector({\n      source: vectorSource\n    });\n    return polygonLayer;\n  },\n  reverseGeometry: function reverseGeometry(geometry) {\n    var reverseCoordinates = function reverseCoordinates(coordinates) {\n      coordinates.find(function (coordinate) {\n        if (Array.isArray(coordinate)) {\n          reverseCoordinates(coordinate);\n        } else {\n          var _coordinates = _slicedToArray(coordinates, 2),\n              y = _coordinates[0],\n              x = _coordinates[1];\n\n          coordinates[0] = x;\n          coordinates[1] = y;\n          return true;\n        }\n      });\n    };\n    var coordinates = geometry.getCoordinates();\n    reverseCoordinates(coordinates);\n    geometry.setCoordinates(coordinates);\n    return geometry;\n  },\n  getScaleFromResolution: function getScaleFromResolution(resolution) {\n    var units = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"m\";\n\n    return Math.round(resolution * INCHES_PER_UNIT[units] * DOTS_PER_INCH);\n  },\n  getResolutionFromScale: function getResolutionFromScale(scale) {\n    var units = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"m\";\n\n    var normScale = scale >= 1.0 ? 1.0 / scale : scale; // just to prevent that scale is passed as 1:10000 or 0.0001\n    return 1 / (normScale * INCHES_PER_UNIT[units] * DOTS_PER_INCH);\n  },\n  getDPI: function getDPI() {\n    return DOTS_PER_INCH;\n  },\n  getMetersFromDegrees: function getMetersFromDegrees(degrees) {\n    return degrees * ol.proj.Units.METERS_PER_UNIT.degrees;\n  },\n  needUseSphereMethods: function needUseSphereMethods(projection) {\n    return projection.getCode() === 'EPSG:3857' || projection.getUnits() === 'degrees';\n    //return projection.getUnits() === 'degrees';\n  },\n  getLengthMessageText: function getLengthMessageText() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        unit = _ref.unit,\n        projection = _ref.projection,\n        geometry = _ref.geometry;\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n     */\n    var _require = require('core/utils/geo'),\n        Geometry = _require.Geometry;\n    //\n\n\n    var geometryType = geometry.getType();\n    var useSphereMethods = this.needUseSphereMethods(projection);\n    var length = useSphereMethods ? ol.sphere.getLength(geometry, {\n      projection: projection.getCode()\n    }) : Geometry.isMultiGeometry(geometryType) ? geometry.getLineStrings().reduce(function (totalLength, lineGeometry) {\n      return totalLength += lineGeometry.getLength();\n    }, 0) : geometry.getLength();\n    var message = void 0;\n    switch (unit) {\n      case 'nautical':\n        message = this.transformMeterLength(length, unit) + \" nm\";\n        break;\n      case 'metric':\n      default:\n        message = length > 1000 ? (Math.round(length / 1000 * 100) / 100).toFixed(3) + \" km\" : (Math.round(length * 100) / 100).toFixed(2) + \" m\";\n    }\n    return message;\n  },\n  getAreaMessageText: function getAreaMessageText(_ref2) {\n    var unit = _ref2.unit,\n        geometry = _ref2.geometry,\n        projection = _ref2.projection,\n        _ref2$segments = _ref2.segments,\n        segments = _ref2$segments === undefined ? [] : _ref2$segments;\n\n    var useSphereMethods = this.needUseSphereMethods(projection);\n    var area = Math.round(useSphereMethods ? ol.sphere.getArea(geometry, {\n      projection: projection.getCode()\n    }) : geometry.getArea());\n    var message = void 0;\n    var segments_info_meausure = '';\n    var segmentLength = segments.length;\n    if (segmentLength > 2) {\n      segments_info_meausure += this.getLengthMessageText({\n        unit: unit,\n        projection: projection,\n        geometry: new ol.geom.LineString(segments)\n      }) + \" <br>\";\n    }\n    switch (unit) {\n      case 'nautical':\n        message = this.transformMeterArea(area, unit) + \" \\u2009nmi\\xB2\";\n        break;\n      case 'metric':\n      default:\n        message = area > 1000000 ? (Math.round(area / 1000000 * 100) / 100).toFixed(6) + \" km<sup>2</sup>\" : (Math.round(area * 100) / 100).toFixed(3) + \" m<sup>2</sup>\";\n    }\n    if (segments_info_meausure) message = \"Area: \" + message + \" <br><div style=\\\"width: 100%; padding: 3px; border-bottom: 2px solid #ffffff\\\"></div> \" + segments_info_meausure;\n    return message;\n  },\n  formatMeasure: function formatMeasure() {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        geometry = _ref3.geometry,\n        projection = _ref3.projection;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level), ref: #130\n     */\n    var _require2 = require('core/utils/geo'),\n        Geometry = _require2.Geometry,\n        multiGeometryToSingleGeometries = _require2.multiGeometryToSingleGeometries;\n    //\n\n\n    var geometryType = geometry.getType();\n    var unit = this.getCurrentMapUnit();\n    if (Geometry.isLineGeometryType(geometryType)) {\n      return this.getLengthMessageText({\n        unit: unit,\n        projection: projection,\n        geometry: geometry\n      });\n    } else if (Geometry.isPolygonGeometryType(geometryType)) {\n      var segments = void 0;\n      if (Geometry.isMultiGeometry(geometryType)) {\n        segments = [];\n        multiGeometryToSingleGeometries(geometry).forEach(function (geometry) {\n          geometry.getLinearRing().getCoordinates().forEach(function (coordinates) {\n            return segments.push(coordinates);\n          });\n        });\n      } else segments = geometry.getLinearRing().getCoordinates();\n      return this.getAreaMessageText({ unit: unit, geometry: geometry, projection: projection, segments: segments });\n    }\n  },\n\n\n  //create and add measure tooltip\n  createMeasureTooltip: function createMeasureTooltip() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        map = _ref4.map,\n        feature = _ref4.feature;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var element = document.createElement('div');\n    element.className = 'mtooltip mtooltip-measure';\n    var tooltip = new ol.Overlay({\n      element: element,\n      offset: [0, -15],\n      positioning: 'bottom-center'\n    });\n    map.addOverlay(tooltip);\n    var unbyKey = feature.getGeometry().on('change', function (evt) {\n      var tooltipCoord = void 0;\n      var geometry = evt.target;\n      if (geometry instanceof ol.geom.Polygon) tooltipCoord = geometry.getInteriorPoint().getCoordinates();else if (geometry instanceof ol.geom.MultiPolygon) tooltipCoord = geometry.getInteriorPoints().getCoordinates()[0];else if (geometry instanceof ol.geom.LineString) tooltipCoord = geometry.getLastCoordinate();else if (geometry instanceof ol.geom.MultiLineString) tooltipCoord = geometry.getLastCoordinate();\n      var output = utils.formatMeasure({\n        geometry: geometry,\n        projection: map.getView().getProjection()\n      }, options);\n      element.innerHTML = output;\n      tooltip.setPosition(tooltipCoord);\n    });\n\n    return {\n      tooltip: tooltip,\n      unbyKey: unbyKey\n    };\n  },\n\n  /**\n   * @FIXME utility functions should be stateles (move it elsewhere)\n   */\n  getCurrentMapUnit: function getCurrentMapUnit() {\n    return _applicationState2.default.map.unit;\n  },\n\n\n  /**\n   * Method to transform length meter in a specific unti (ex.nautilcal mile)\n   * @param length\n   * @param tounit\n   * @returns {null}\n   */\n  transformMeterLength: function transformMeterLength(length, tounit) {\n    switch (tounit) {\n      case 'nautical':\n        length = length * 0.0005399568;\n        break;\n    }\n    return length;\n  },\n  transformMeterArea: function transformMeterArea(area, tounit) {\n    switch (tounit) {\n      case 'nautical':\n        area = area * 0.000000291553349598122862913947445759414840765222583489217190918463024037990567;\n        break;\n    }\n    return area;\n  },\n\n\n  //remove mesure tootltip\n  removeMeasureTooltip: function removeMeasureTooltip(_ref5) {\n    var map = _ref5.map,\n        tooltip = _ref5.tooltip,\n        unbyKey = _ref5.unbyKey;\n\n    map.removeOverlay(tooltip);\n    ol.Observable.unByKey(unbyKey);\n  },\n  setMeasureTooltipStatic: function setMeasureTooltipStatic(tooltip) {\n    var element = tooltip.getElement();\n    element.className = 'mtooltip mtooltip-static';\n    tooltip.setOffset([0, -7]);\n  }\n};\n\nmodule.exports = utils;\n\n},{\"core/utils/geo\":65,\"store/application-state\":368}],67:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar Feature = require('core/layers/features/feature');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar olutils = require('core/utils/ol');\nvar WORD_NUMERIC_FIELD_ESCAPE = 'GIS3W_ESCAPE_NUMERIC_FIELD_';\n\n/**\n * @FIXME circular dependency (ie. empty object when importing at top level)\n */\n// const { Geometry : { is3DGeometry, removeZValueToOLFeatureGeometry } } = require('core/utils/geo');\n\n/**\n * Response parser (internal utilities)\n */\nvar utils = {\n  getHandledResponsesFromResponse: function getHandledResponsesFromResponse(_ref) {\n    var _this = this;\n\n    var response = _ref.response,\n        layers = _ref.layers,\n        projections = _ref.projections,\n        _ref$id = _ref.id,\n        id = _ref$id === undefined ? false : _ref$id;\n\n    var multilayers = false;\n    var x2js = new X2JS();\n    var jsonresponse = x2js.xml_str2json(response);\n    // in case of parser return null\n    if (!jsonresponse) return [{\n      layer: layers[0],\n      features: []\n    }];\n    var FeatureCollection = jsonresponse.FeatureCollection;\n    var handledResponses = [];\n    if (FeatureCollection.featureMember) {\n      var originalFeatureMember = Array.isArray(FeatureCollection.featureMember) ? FeatureCollection.featureMember : [FeatureCollection.featureMember];\n\n      var _loop = function _loop(i) {\n        var layer = layers[i];\n        var layerName = id ? layer.getId() : 'layer' + i;\n        var featureMemberArrayAndPrefix = {\n          features: null,\n          __prefix: null\n        };\n        jsonresponse.FeatureCollection.featureMember = originalFeatureMember.filter(function (feature) {\n          var featureMember = feature[layerName];\n          if (featureMember) {\n            featureMember.g3w_fid = {\n              __prefix: feature.__prefix,\n              __text: featureMember._fid && featureMember._fid.split('.')[1]\n            };\n            if (Array.isArray(featureMember)) {\n              featureMemberArrayAndPrefix.features = featureMember;\n              featureMemberArrayAndPrefix.__prefix = feature.__prefix;\n              return false;\n            }\n            return true;\n          }\n        });\n        if (featureMemberArrayAndPrefix.features) {\n          var prefix = featureMemberArrayAndPrefix.__prefix;\n          // check if features have the same fields. If not group the features with the same fields\n          var groupFeatures = _this.groupFeaturesByFields(featureMemberArrayAndPrefix.features);\n          //check if features have different fields (multilayers)\n          if (Object.keys(groupFeatures).length > 1) {\n            // is a multilayers. Each feature has different fields\n            multilayers = true;\n            _this.handleWMSMultiLayersResponseFromQGISSERVER({\n              groupFeatures: groupFeatures,\n              prefix: prefix,\n              handledResponses: handledResponses,\n              jsonresponse: jsonresponse,\n              layer: layer,\n              projections: projections\n            });\n          } else {\n            featureMemberArrayAndPrefix.features.forEach(function (feature) {\n              var _jsonresponse$Feature;\n\n              //for Each element have to add and object contain layerName and information, and __prefix\n              jsonresponse.FeatureCollection.featureMember.push((_jsonresponse$Feature = {}, _defineProperty(_jsonresponse$Feature, layerName, feature), _defineProperty(_jsonresponse$Feature, '__prefix', prefix), _jsonresponse$Feature));\n            });\n          }\n        }\n        if (!multilayers) {\n          var handledResponse = _this.parseLayerFeatureCollection({\n            jsonresponse: jsonresponse,\n            layer: layer,\n            projections: projections\n          });\n          handledResponse && handledResponses.unshift(handledResponse[0]);\n        }\n      };\n\n      for (var i = 0; i < layers.length; i++) {\n        _loop(i);\n      }\n    }\n    return handledResponses;\n  },\n  transformFeatures: function transformFeatures(features, projections) {\n    if (features.length) {\n      if (!!features[0].getGeometry()) {\n        var mainProjection = projections.layer ? projections.layer : projections.map;\n        var invertedAxis = mainProjection.getAxisOrientation().substr(0, 2) === 'ne';\n        if (projections.layer && projections.layer.getCode() !== projections.map.getCode()) {\n          features.forEach(function (feature) {\n            var geometry = feature.getGeometry();\n            feature.setGeometry(geometry.transform(projections.layer.getCode(), projections.map.getCode()));\n          });\n        }\n        if (invertedAxis) features = this.reverseFeaturesCoordinates(features);\n      }\n    }\n    return features;\n  },\n  parseLayerFeatureCollection: function parseLayerFeatureCollection(_ref2) {\n    var _this2 = this;\n\n    var jsonresponse = _ref2.jsonresponse,\n        layer = _ref2.layer,\n        projections = _ref2.projections;\n\n    /**\n     * @FIXME circular dependency (ie. empty object when importing at top level)\n     */\n    var _require3 = require('core/utils/geo'),\n        _require3$Geometry = _require3.Geometry,\n        is3DGeometry = _require3$Geometry.is3DGeometry,\n        removeZValueToOLFeatureGeometry = _require3$Geometry.removeZValueToOLFeatureGeometry;\n\n    var x2js = new X2JS();\n    var layerFeatureCollectionXML = x2js.json2xml_str(jsonresponse);\n    var parser = new ol.format.WMSGetFeatureInfo();\n    var features = this.transformFeatures(parser.readFeatures(layerFeatureCollectionXML), projections);\n    if (layer.isGeoLayer()) {\n      var geometryType = layer.getGeometryType();\n\n      // Need to remove Z values due a incorrect addition when using\n      // ol.format.WMSGetFeatureInfo readFeatures method from XML\n      // (eg. WMS getFeatureInfo);\n      if (!is3DGeometry(geometryType)) {\n        features.forEach(function (feature) {\n          return removeZValueToOLFeatureGeometry({ feature: feature });\n        });\n      }\n    }\n\n    if (features.length && this.hasFieldsStartWithNotPermittedKey) {\n      var properties = Object.keys(features[0].getProperties());\n      var numericFields = properties.filter(function (property) {\n        return property.indexOf(WORD_NUMERIC_FIELD_ESCAPE) !== -1;\n      });\n      features.forEach(function (feature) {\n        numericFields.forEach(function (_field) {\n          var value = feature.get(_field);\n          var ori_field = _field.replace(WORD_NUMERIC_FIELD_ESCAPE, '');\n          feature.set(_this2.hasFieldsStartWithNotPermittedKey[ori_field], Array.isArray(value) ? value[0] : value);\n          feature.unset(_field);\n        });\n      });\n    }\n    return [{\n      layer: layer,\n      features: features\n    }];\n  },\n  reverseFeaturesCoordinates: function reverseFeaturesCoordinates(features) {\n    features.forEach(function (feature) {\n      var geometry = feature.getGeometry();\n      feature.setGeometry(olutils.reverseGeometry(geometry));\n    });\n    return features;\n  },\n  handleXMLStringResponseBeforeConvertToJSON: function handleXMLStringResponseBeforeConvertToJSON() {\n    var _this3 = this;\n\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref3.response,\n        layers = _ref3.layers,\n        wms = _ref3.wms;\n\n    if (!response) return; // return undefined if no response\n    if (!(typeof response === 'string' || response instanceof String)) response = new XMLSerializer().serializeToString(response);\n    for (var i = 0; i < layers.length; i++) {\n      var _layer = layers[i];\n      var originalName = wms && _layer.isWmsUseLayerIds() ? _layer.getId() : _layer.getName();\n      var sanitizeLayerName = wms ? originalName.replace(/[/\\s]/g, '') : originalName.replace(/[/\\s]/g, '_');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\'+)/, '');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\)+)/, '');\n      sanitizeLayerName = sanitizeLayerName.replace(/(\\(+)/, '');\n      var reg = new RegExp('qgs:' + sanitizeLayerName, \"g\");\n      response = response.replace(reg, 'qgs:layer' + i);\n    }\n    // add match numeric value integer or float\n    var arrayQGS = [].concat(_toConsumableArray(response.matchAll(/qgs:(\\d+(?:\\.\\d+)?)(\\w+)/g)), _toConsumableArray(response.matchAll(/qgs:(\\w+):(\\w+)/g)));\n    arrayQGS.forEach(function (find, idx) {\n      if (idx % 2 === 0) {\n        if (!_this3.hasFieldsStartWithNotPermittedKey) _this3.hasFieldsStartWithNotPermittedKey = {};\n        var originalField = find[0].replace('qgs:', '');\n        _this3.hasFieldsStartWithNotPermittedKey['' + find[1] + find[2]] = originalField;\n        var regex = new RegExp('' + find[0], \"g\");\n        response = response.replace(regex, 'qgs:' + WORD_NUMERIC_FIELD_ESCAPE + find[1] + find[2]);\n      }\n    });\n    //PATCH id strange\n    var strangeChar = new RegExp('' + String.fromCharCode(0), \"g\");\n    response = response.replace(strangeChar, '0');\n    ///\n    return response;\n  },\n  groupFeaturesByFields: function groupFeaturesByFields(features) {\n    return _.groupBy(features, function (feature) {\n      return Object.keys(feature);\n    });\n  },\n  handleWMSMultiLayersResponseFromQGISSERVER: function handleWMSMultiLayersResponseFromQGISSERVER() {\n    var _this4 = this;\n\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        groupFeatures = _ref4.groupFeatures,\n        prefix = _ref4.prefix,\n        handledResponses = _ref4.handledResponses,\n        jsonresponse = _ref4.jsonresponse,\n        layer = _ref4.layer,\n        projections = _ref4.projections;\n\n    // is a multilayers. Each feature has different fields. If group has more that one feature spit it and create single features\n    Object.keys(groupFeatures).forEach(function (key, index) {\n      var features = groupFeatures[key];\n      features.forEach(function (feature, sub_index) {\n        var _jsonresponse$Feature2;\n\n        jsonresponse.FeatureCollection.featureMember = (_jsonresponse$Feature2 = {}, _defineProperty(_jsonresponse$Feature2, 'layer' + index + '_' + sub_index, feature), _defineProperty(_jsonresponse$Feature2, '__prefix', prefix), _jsonresponse$Feature2);\n        var handledResponse = _this4.parseLayerFeatureCollection({\n          jsonresponse: jsonresponse,\n          layer: layer,\n          projections: projections\n        });\n        if (handledResponse) {\n          var response = handledResponse[0];\n          response.layer = layer;\n          handledResponses.unshift(response);\n        }\n      });\n    });\n  }\n};\n\n/**\n * Response parser (content types)\n */\nvar contenttypes = {\n  'application/json': function applicationJson() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref5$layers = _ref5.layers,\n        layers = _ref5$layers === undefined ? [] : _ref5$layers,\n        response = _ref5.response,\n        projections = _ref5.projections,\n        _ref5$wms = _ref5.wms,\n        wms = _ref5$wms === undefined ? true : _ref5$wms;\n\n    var _require4 = require('core/utils/geo'),\n        sanitizeFidFeature = _require4.sanitizeFidFeature;\n\n    var layersFeatures = [];\n    var layersId = layers.map(function (layer) {\n      layersFeatures.push({\n        layer: layer,\n        features: []\n      });\n      return wms ? layer.getWMSLayerName() : layer.getWFSLayerName();\n    });\n    var data = response;\n    var parseData = function parseData() {\n      var defaultDataProjection = projections.layer || projections.map;\n      var geojson = new ol.format.GeoJSON({\n        defaultDataProjection: defaultDataProjection,\n        geometryName: \"geometry\"\n      });\n      return geojson.readFeatures(data);\n    };\n    var features = data && parseData();\n    features.filter(function (feature) {\n      var featureId = feature.getId();\n      var g3w_fid = sanitizeFidFeature(featureId);\n      // in case of wms getfeature without filter return string contain layerName or layerid\n      var index = featureId == g3w_fid ? 0 : layersId.indexOf(featureId);\n      if (index !== -1) {\n        var fields = layersFeatures[index].layer.getFields().filter(function (field) {\n          return field.show;\n        });\n        var properties = feature.getProperties();\n        feature.set(_constant.G3W_FID, g3w_fid);\n        fields.forEach(function (field) {\n          if (properties[field.name] === undefined) {\n            properties[field.label] !== undefined && feature.set(field.name, properties[field.label]);\n          }\n        });\n        layersFeatures[index].features.push(feature);\n      }\n    });\n    return layersFeatures;\n  },\n  'application/geojson': function applicationGeojson() {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref6.layers,\n        projections = _ref6.projections,\n        response = _ref6.response;\n\n    var handleResponse = [];\n    var parserGEOJson = Parsers.vector.get({\n      type: 'geojson'\n    });\n    if (response) {\n      layers.forEach(function (layer) {\n        handleResponse.push({\n          layer: layer,\n          features: parserGEOJson(response, {})\n        });\n      });\n    }\n    return handleResponse;\n  },\n  'text/html': function textHtml() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref7.layers,\n        response = _ref7.response;\n\n    var handleResponse = [];\n    layers.forEach(function (layer) {\n      handleResponse.push({\n        layer: layer,\n        rawdata: response\n      });\n    });\n    return handleResponse;\n  },\n  'text/plain': function textPlain() {\n    var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layers = _ref8.layers,\n        response = _ref8.response;\n\n    var handleResponse = [];\n    layers.forEach(function (layer) {\n      handleResponse.push({\n        layer: layer,\n        rawdata: response\n      });\n    });\n    return handleResponse;\n  },\n  'text/gml': function textGml(_ref9) {\n    var layers = _ref9.layers,\n        response = _ref9.response;\n\n    var parserGML = Parsers.vector.get({\n      type: 'gml'\n    });\n    var features = parserGML({\n      data: response,\n      layer: layers[0]\n    });\n    return layers.map(function (layer) {\n      return {\n        layer: layer,\n        features: features\n      };\n    });\n  },\n  'application/vnd.ogc.gml': function applicationVndOgcGml() {\n    var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        response = _ref10.response,\n        projections = _ref10.projections,\n        layers = _ref10.layers,\n        _ref10$wms = _ref10.wms,\n        wms = _ref10$wms === undefined ? true : _ref10$wms;\n\n    return utils.getHandledResponsesFromResponse({\n      response: utils.handleXMLStringResponseBeforeConvertToJSON({\n        layers: layers,\n        response: response,\n        wms: wms\n      }),\n      layers: layers,\n      projections: projections\n    });\n  },\n  not_supported_format: function not_supported_format() {\n    var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref11$layers = _ref11.layers,\n        layers = _ref11$layers === undefined ? [] : _ref11$layers;\n\n    return layers.map(function (layer) {\n      return {\n        layer: layer,\n        rawdata: t('warning.not_supported_format')\n      };\n    });\n  }\n};\n\n/**\n * Vector parser\n */\nvar VectorParser = function VectorParser() {\n  // return the right parser for the request\n  this.get = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var type = options.type;\n    var parser = void 0;\n    switch (type) {\n      case 'geojson':\n      case 'json':\n        parser = this._parseLayerGeoJSON;\n        break;\n      case 'gml':\n        parser = this._parseLayermsGMLOutput;\n        break;\n      default:\n        parser = this._parseLayerGeoJSON;\n    }\n    return parser;\n  };\n  this._parseLayermsGMLOutput = function (_ref12) {\n    var data = _ref12.data,\n        layer = _ref12.layer;\n\n    try {\n      var gml = void 0;\n      // to extract gml from multiple (Tuscany region)\n      if (data.substr(0, 2) !== '--') gml = data;else {\n        var gmlTag1 = new RegExp(\"<([^ ]*)FeatureCollection\");\n        var gmlTag2 = new RegExp(\"<([^ ]*)msGMLOutput\");\n        var boundary = '\\r\\n--';\n        var parts = data.split(new RegExp(boundary));\n        parts.forEach(function (part) {\n          var isGmlPart = part.search(gmlTag1) > -1 ? true : part.search(gmlTag2) > -1 ? true : false;\n          if (isGmlPart) {\n            gml = part.substr(part.indexOf(\"<?xml\"));\n          }\n        });\n      }\n      var layers = layer.getQueryLayerOrigName();\n      var parser = new ol.format.WMSGetFeatureInfo({\n        layers: layers\n      });\n      return parser.readFeatures(gml);\n    } catch (err) {\n      return [];\n    }\n  };\n\n  this._parseLayerGeoJSON = function (data, options) {\n    try {\n      data = toRawType(data) === 'String' ? JSON.parse(data) : data;\n      var crs = options.crs,\n          mapCrs = options.mapCrs;\n\n      var geojson = new ol.format.GeoJSON({\n        dataProjection: crs,\n        featureProjection: mapCrs || crs,\n        geometryName: \"geometry\"\n      });\n      return geojson.readFeatures(data);\n    } catch (err) {\n      return [];\n    }\n  };\n};\n\n/**\n * Table parser\n */\nvar TableParser = function TableParser() {\n  this.get = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var type = options.type;\n    var parser = void 0;\n    switch (type) {\n      case 'json':\n        parser = this._parserJSON.bind(this);\n        break;\n      default:\n        parser = this._parserJSON.bind(this);\n    }\n    return parser;\n  };\n\n  this._parserJSON = function () {\n    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _data$features = data.features,\n        features = _data$features === undefined ? [] : _data$features;\n\n    return features.map(function (_feature) {\n      var id = _feature.id,\n          properties = _feature.properties;\n\n      var feature = new Feature();\n      feature.setProperties(properties);\n      feature.setId(id);\n      return feature;\n    });\n  };\n};\n\nvar Parsers = {\n  vector: new VectorParser(),\n  table: new TableParser(),\n  /**\n   * @TODO wrap within dedicated class (ie. new ResponseParser())\n   */\n  response: {\n    get: function get(type) {\n      return contenttypes[type] || contenttypes.not_supported_format;\n    },\n\n    utils: {\n      getTimeoutData: function getTimeoutData() {\n        var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n        return layers.map(function (layer) {\n          return {\n            layer: layer,\n            rawdata: 'timeout'\n          };\n        });\n      }\n    }\n  }\n};\n\nmodule.exports = Parsers;\n\n},{\"app/constant\":5,\"core/i18n/i18n.service\":14,\"core/layers/features/feature\":27,\"core/utils/geo\":65,\"core/utils/ol\":66,\"core/utils/utils\":68}],68:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Filter = require('core/layers/filter/filter');\nvar Expression = require('core/layers/filter/expression');\n\n/**\n * Decimal adjustment of a number.\n *\n * @param {String}  type  The type of adjustment.\n * @param {Number}  value The number.\n * @param {Integer} exp   The exponent (the 10 logarithm of the adjustment base).\n * @returns {Number} The adjusted value.\n */\nfunction decimalAdjust(type, value, exp) {\n  // If the exp is undefined or zero...\n  if (typeof exp === 'undefined' || +exp === 0) return Math[type](value);\n  value = +value;\n  exp = +exp;\n  // If the value is not a number or the exp is not an integer...\n  if (isNaN(value) || !(typeof exp === 'number' && exp % 1 === 0)) {\n    return NaN;\n  }\n  // Shift\n  value = value.toString().split('e');\n  value = Math[type](+(value[0] + 'e' + (value[1] ? +value[1] - exp : -exp)));\n  // Shift back\n  value = value.toString().split('e');\n  return +(value[0] + 'e' + (value[1] ? +value[1] + exp : exp));\n}\n\n// Decimal round\nif (!Math.round10) {\n  Math.round10 = function (value, exp) {\n    return decimalAdjust('round', value, exp);\n  };\n}\n// Decimal floor\nif (!Math.floor10) {\n  Math.floor10 = function (value, exp) {\n    return decimalAdjust('floor', value, exp);\n  };\n}\n// Decimal ceil\nif (!Math.ceil10) {\n  Math.ceil10 = function (value, exp) {\n    return decimalAdjust('ceil', value, exp);\n  };\n}\n\nString.prototype.hashCode = function () {\n  var hash = 0,\n      i = void 0,\n      chr = void 0,\n      len = void 0;\n  if (this.length === 0) return hash;\n  for (i = 0, len = this.length; i < len; i++) {\n    chr = this.charCodeAt(i);\n    hash = (hash << 5) - hash + chr;\n    hash |= 0;\n  }\n  return hash;\n};\n\nvar Base64 = { _keyStr: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\", encode: function encode(e) {\n    var t = \"\";var n = void 0,\n        r = void 0,\n        i = void 0,\n        s = void 0,\n        o = void 0,\n        u = void 0,\n        a = void 0;var f = 0;e = Base64._utf8_encode(e);while (f < e.length) {\n      n = e.charCodeAt(f++);r = e.charCodeAt(f++);i = e.charCodeAt(f++);s = n >> 2;o = (n & 3) << 4 | r >> 4;u = (r & 15) << 2 | i >> 6;a = i & 63;if (isNaN(r)) {\n        u = a = 64;\n      } else if (isNaN(i)) {\n        a = 64;\n      }t = t + this._keyStr.charAt(s) + this._keyStr.charAt(o) + this._keyStr.charAt(u) + this._keyStr.charAt(a);\n    }return t;\n  }, decode: function decode(e) {\n    var t = \"\";var n = void 0,\n        r = void 0,\n        i = void 0;var s = void 0,\n        o = void 0,\n        u = void 0,\n        a = void 0;var f = 0;e = e.replace(/[^A-Za-z0-9+/=]/g, \"\");while (f < e.length) {\n      s = this._keyStr.indexOf(e.charAt(f++));o = this._keyStr.indexOf(e.charAt(f++));u = this._keyStr.indexOf(e.charAt(f++));a = this._keyStr.indexOf(e.charAt(f++));n = s << 2 | o >> 4;r = (o & 15) << 4 | u >> 2;i = (u & 3) << 6 | a;t = t + String.fromCharCode(n);if (u != 64) {\n        t = t + String.fromCharCode(r);\n      }if (a != 64) {\n        t = t + String.fromCharCode(i);\n      }\n    }t = Base64._utf8_decode(t);return t;\n  }, _utf8_encode: function _utf8_encode(e) {\n    e = e.replace(/rn/g, \"n\");var t = \"\";for (var n = 0; n < e.length; n++) {\n      var r = e.charCodeAt(n);if (r < 128) {\n        t += String.fromCharCode(r);\n      } else if (r > 127 && r < 2048) {\n        t += String.fromCharCode(r >> 6 | 192);t += String.fromCharCode(r & 63 | 128);\n      } else {\n        t += String.fromCharCode(r >> 12 | 224);t += String.fromCharCode(r >> 6 & 63 | 128);t += String.fromCharCode(r & 63 | 128);\n      }\n    }return t;\n  }, _utf8_decode: function _utf8_decode(e) {\n    var t = \"\";var n = 0;var r = c1 = c2 = 0;while (n < e.length) {\n      r = e.charCodeAt(n);if (r < 128) {\n        t += String.fromCharCode(r);n++;\n      } else if (r > 191 && r < 224) {\n        c2 = e.charCodeAt(n + 1);t += String.fromCharCode((r & 31) << 6 | c2 & 63);n += 2;\n      } else {\n        c2 = e.charCodeAt(n + 1);c3 = e.charCodeAt(n + 2);t += String.fromCharCode((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63);n += 3;\n      }\n    }return t;\n  } };\n\nvar _uid = 0;\n\nvar utils = {\n  getUniqueDomId: function getUniqueDomId() {\n    _uid += 1;\n    return _uid + '_' + Date.now();\n  },\n  uniqueId: function uniqueId() {\n    return utils.getUniqueDomId();\n  },\n  basemixin: function basemixin(destination, source) {\n    return utils.merge(destination.prototype, source);\n  },\n  mixin: function mixin(destination, source) {\n    var sourceInstance = new source();\n    utils.merge(destination, sourceInstance);\n    utils.merge(destination.prototype, source.prototype);\n  },\n  merge: function merge(destination, source) {\n    var key = void 0;\n    for (key in source) {\n      if (utils.hasOwn(source, key)) destination[key] = source[key];\n    }\n  },\n  hasOwn: function hasOwn(object, key) {\n    return Object.prototype.hasOwnProperty.call(object, key);\n  },\n\n  // google closure library impememtation\n  inherit: function inherit(childCtor, parentCtor) {\n    function tempCtor() {}\n    tempCtor.prototype = parentCtor.prototype;\n    childCtor.superClass_ = parentCtor.prototype;\n    childCtor.prototype = new tempCtor();\n    childCtor.prototype.constructor = childCtor;\n  },\n\n  // goole closure library implementation\n  base: function base(me, opt_methodName, var_args) {\n    // who call base\n    // noinspection JSAnnotator\n    var caller = arguments.callee.caller;\n    if (caller.superClass_) {\n      // This function constructor (that inherit from superClass_). Call the superclass constructor.\n      //It is a easy way to cal super class in binding to this\n      return caller.superClass_.constructor.apply(me, Array.prototype.slice.call(arguments, 1));\n    }\n    var args = Array.prototype.slice.call(arguments, 2);\n    var foundCaller = false;\n    //constructor is the constructor function of the object\n    for (var ctor = me.constructor; ctor; ctor = ctor.superClass_ && ctor.superClass_.constructor) {\n      if (ctor.prototype[opt_methodName] === caller) {\n        foundCaller = true;\n      } else if (foundCaller) {\n        return ctor.prototype[opt_methodName].apply(me, args);\n      }\n    }\n    // If we did not find the caller in the prototype chain,\n    // then one of two things happened:\n    // 1) The caller is an instance method.\n    // 2) This method was not called by the right caller.\n    if (me[opt_methodName] === caller) {\n      // call the function from prototype object\n      return me.constructor.prototype[opt_methodName].apply(me, args);\n    } else {\n      throw Error('base called from a method of one name ' + 'to a method of a different name');\n    }\n  },\n  noop: function noop() {},\n  truefnc: function truefnc() {\n    return true;\n  },\n  falsefnc: function falsefnc() {\n    return true;\n  },\n  resolve: function resolve(value) {\n    var d = $.Deferred();\n    d.resolve(value);\n    return d.promise();\n  },\n  reject: function reject(value) {\n    var d = $.Deferred();\n    d.reject(value);\n    return d.promise();\n  },\n  getValueFromG3WObjectEvent: function getValueFromG3WObjectEvent() {\n    //TODO\n  },\n  getAjaxResponses: function getAjaxResponses() {\n    var listRequests = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    var requestsLenght = listRequests.length;\n    var d = $.Deferred();\n    var DoneRespones = [];\n    var FailedResponses = [];\n    listRequests.forEach(function (request) {\n      request.then(function (response) {\n        DoneRespones.push(response);\n      }).fail(function (err) {\n        FailedResponses.push(err);\n      }).always(function () {\n        requestsLenght = requestsLenght > 0 ? requestsLenght - 1 : requestsLenght;\n        if (requestsLenght === 0) d.resolve({\n          done: DoneRespones,\n          fail: FailedResponses\n        });\n      });\n    });\n    return d.promise();\n  },\n\n  trimValue: function trimValue(value) {\n    return value.replace(/ /g, '');\n  },\n  /**\n   * Method to check if is a url\n   * @param url\n   * @returns {boolean}\n   */\n  isURL: function isURL(url) {\n    return url && url.match(/(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g);\n  },\n\n  sanitizeUrl: function sanitizeUrl() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref.url,\n        _ref$reserverParamete = _ref.reserverParameters,\n        reserverParameters = _ref$reserverParamete === undefined ? [] : _ref$reserverParamete;\n\n    var checkUrl = new URL(url);\n    reserverParameters.forEach(function (param) {\n      var _params = [param.toUpperCase(), param.toLowerCase()];\n      for (var i = 0; i < 2; i++) {\n        var _param = _params[i];\n        var _value = checkUrl.searchParams.get(_param);\n        if (_value) {\n          url = url.replace(_param + '=' + _value, '');\n          break;\n        }\n      }\n    });\n    return url;\n  },\n  convertObjectToUrlParams: function convertObjectToUrlParams() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return $.param(params);\n  },\n\n  // Appends query parameters to a URI\n  appendParams: function appendParams(uri, params) {\n    var keyParams = [];\n    // Skip any null or undefined parameter values\n    Object.keys(params).forEach(function (k) {\n      if (params[k] !== null && params[k] !== undefined) {\n        keyParams.push(k + '=' + encodeURIComponent(params[k]));\n      }\n    });\n    var qs = keyParams.join('&');\n    // remove any trailing ? or &\n    uri = uri.replace(/[?&]$/, '');\n    // append ? or & depending on whether uri has existing parameters\n    uri = uri.indexOf('?') === -1 ? uri + '?' : uri + '&';\n    return uri + qs;\n  },\n  imageToDataURL: function imageToDataURL(_ref2) {\n    var src = _ref2.src,\n        _ref2$type = _ref2.type,\n        type = _ref2$type === undefined ? 'image/jpeg' : _ref2$type,\n        _ref2$callback = _ref2.callback,\n        callback = _ref2$callback === undefined ? function () {} : _ref2$callback;\n\n    var image = new Image();\n    image.onload = function () {\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      canvas.height = this.naturalHeight;\n      canvas.width = this.naturalWidth;\n      context.drawImage(this, 0, 0);\n      var dataURL = canvas.toDataURL(type);\n      callback(dataURL);\n    };\n    image.src = src;\n  },\n  capitalize_first_letter: function capitalize_first_letter(string) {\n    return '' + string[0].toUpperCase() + string.slice(1);\n  },\n\n  Base64: Base64,\n  toRawType: function toRawType(value) {\n    var _toString = Object.prototype.toString;\n    return _toString.call(value).slice(8, -1);\n  },\n  isEmptyObject: function isEmptyObject(obj) {\n    return JSON.stringify(obj) === '{}';\n  },\n\n  // build throttle function\n  throttle: function throttle(fnc) {\n    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n\n    var lastCall = void 0;\n    return function () {\n      var previousCall = lastCall;\n      lastCall = Date.now();\n      if (previousCall === undefined // function is being called for the first time\n      || lastCall - previousCall > delay) {\n        // throttle time has elapsed\n        fnc.apply(undefined, arguments);\n      }\n    };\n  },\n\n  //build debounce function\n  debounce: function debounce(func) {\n    var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 500;\n\n    var timeout = void 0;\n    return function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        func.apply(undefined, args);\n      }, delay);\n    };\n  },\n  getRandomColor: function getRandomColor() {\n    return '#' + ((1 << 24) * Math.random() | 0).toString(16);\n  },\n  copyUrl: function copyUrl(url) {\n    var tempinput = document.createElement('input');\n    document.body.appendChild(tempinput);\n    tempinput.value = url;\n    tempinput.select();\n    document.execCommand('copy');\n    document.body.removeChild(tempinput);\n  },\n  downloadFile: function downloadFile() {\n    var _this = this;\n\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        filename = _ref3.filename,\n        content = _ref3.content,\n        url = _ref3.url,\n        _ref3$mime_type = _ref3.mime_type,\n        mime_type = _ref3$mime_type === undefined ? 'text/plain' : _ref3$mime_type;\n\n    var download = function download(blob) {\n      var temapAncor = document.createElement('a');\n      temapAncor.setAttribute('href', window.URL.createObjectURL(blob));\n      temapAncor.setAttribute('download', filename);\n      temapAncor.dataset.downloadurl = [mime_type, temapAncor.download, temapAncor.href].join(':');\n      temapAncor.click();\n      temapAncor = null;\n    };\n    return new Promise(function (resolve, reject) {\n      if (content) {\n        var blob = new Blob([content], { type: mime_type });\n        download(blob);\n        resolve();\n      } else if (url) {\n        fetch(url).then(function () {\n          var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(response) {\n            var _ref5, message;\n\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    if (!(response.status === 200)) {\n                      _context.next = 6;\n                      break;\n                    }\n\n                    mime_type = mime_type || response.headers.get('content-type');\n                    filename = filename || response.headers.get('content-disposition').split('filename=').length ? response.headers.get('content-disposition').split('filename=')[1] : 'g3w_download_file';\n                    return _context.abrupt('return', response.blob());\n\n                  case 6:\n                    if (!(response.status === 400 || response.status === 500)) {\n                      _context.next = 12;\n                      break;\n                    }\n\n                    _context.next = 9;\n                    return response.json();\n\n                  case 9:\n                    _ref5 = _context.sent;\n                    message = _ref5.message;\n                    return _context.abrupt('return', Promise.reject(message));\n\n                  case 12:\n                  case 'end':\n                    return _context.stop();\n                }\n              }\n            }, _callee, _this);\n          }));\n\n          return function (_x7) {\n            return _ref4.apply(this, arguments);\n          };\n        }()).then(function (blob) {\n          download(blob);\n          resolve();\n        }).catch(function (error) {\n          reject(error);\n        });\n      }\n    });\n  },\n  downloadCSVLayerFeatures: function downloadCSVLayerFeatures() {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref6.layer,\n        _ref6$alias = _ref6.alias,\n        alias = _ref6$alias === undefined ? true : _ref6$alias;\n\n    var _require = require('core/utils/geo'),\n        getAlphanumericPropertiesFromFeature = _require.getAlphanumericPropertiesFromFeature;\n    //get headers\n\n\n    var attributes = Object.keys(layer.features[0].attributes);\n    var properties = getAlphanumericPropertiesFromFeature(attributes);\n    var headers = !alias ? properties : properties.map(function (property) {\n      var attribute = layer.attributes.find(function (attribute) {\n        return attribute.name === property;\n      });\n      return attribute ? attribute.label : property;\n    });\n    var items = layer.features.map(function (feature) {\n      var attributes = feature.attributes;\n      var item = {};\n      properties.forEach(function (property, index) {\n        var key = !alias && property || headers[index];\n        item[key] = attributes[property];\n      });\n      return item;\n    });\n\n    utils.downloadCSV({\n      filename: layer.id,\n      items: items\n    });\n  },\n  downloadCSV: function downloadCSV() {\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref7$filename = _ref7.filename,\n        filename = _ref7$filename === undefined ? utils.getUniqueDomId() : _ref7$filename,\n        _ref7$items = _ref7.items,\n        items = _ref7$items === undefined ? [] : _ref7$items;\n\n    function convertToCSV(items) {\n      var str = '';\n      for (var i = 0; i < items.length; i++) {\n        var line = '';\n        for (var index in items[i]) {\n          if (line !== '') line += ';';\n          line += items[i][index];\n        }\n        str += line + '\\r\\n';\n      }\n      return str;\n    }\n    var exportedFilenmae = filename + '.csv';\n    var csv = convertToCSV(items);\n    var blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });\n    if (navigator.msSaveBlob) {\n      // IE 10+\n      navigator.msSaveBlob(blob, exportedFilenmae);\n    } else {\n      var link = document.createElement(\"a\");\n      if (link.download !== undefined) {\n        // Browsers that support HTML5 download attribute\n        var url = URL.createObjectURL(blob);\n        link.setAttribute(\"href\", url);\n        link.setAttribute(\"download\", exportedFilenmae);\n        link.style.visibility = 'hidden';\n        link.click();\n      }\n    }\n  },\n\n  /**\n   * Method to set timeout\n   * @param timeout\n   * @param resolve\n   * @param data\n   * @returns {number}\n   */\n  getTimeoutPromise: function getTimeoutPromise(_ref8) {\n    var _ref8$timeout = _ref8.timeout,\n        timeout = _ref8$timeout === undefined ? _constant.TIMEOUT : _ref8$timeout,\n        resolve = _ref8.resolve,\n        data = _ref8.data;\n\n    var timeoutKey = setTimeout(function () {\n      resolve(data);\n    }, timeout);\n    return timeoutKey;\n  },\n\n  XHR: {\n    get: function get() {\n      var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref9.url,\n          _ref9$params = _ref9.params,\n          params = _ref9$params === undefined ? {} : _ref9$params;\n\n      return new Promise(function (resolve, reject) {\n        url ? $.get(url, params).then(function (response) {\n          resolve(response);\n        }).fail(function (error) {\n          return reject(error);\n        }) : reject('No url');\n      });\n    },\n    post: function post() {\n      var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref10.url,\n          data = _ref10.data,\n          _ref10$formdata = _ref10.formdata,\n          formdata = _ref10$formdata === undefined ? false : _ref10$formdata,\n          contentType = _ref10.contentType;\n\n      var getResponseStatusHeaders = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      return new Promise(function (resolve, reject) {\n        if (formdata) {\n          var _formdata = new FormData();\n          for (var param in data) {\n            _formdata.append(param, data[param]);\n          }\n          $.ajax({\n            type: 'POST',\n            url: url,\n            data: _formdata,\n            processData: false,\n            contentType: false\n          }).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        } else if (contentType) {\n          $.ajax({\n            type: 'POST',\n            url: url,\n            data: data,\n            processData: false,\n            contentType: contentType || false\n          }).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        } else {\n          $.post(url, data).then(function (response, status, request) {\n            getResponseStatusHeaders ? resolve({\n              data: response,\n              status: status,\n              request: request\n            }) : resolve(response);\n          }).fail(function (error) {\n            reject(error);\n          });\n        }\n      });\n    },\n    htmlescape: function htmlescape(string) {\n      string = string.replace(\"&\", \"&amp;\");\n      string = string.replace(\"<\", \"&lt;\");\n      string = string.replace(\">\", \"&gt;\");\n      string = string.replace('\"', \"&quot;\");\n      return string;\n    },\n    fileDownload: function fileDownload() {\n      var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          url = _ref11.url,\n          data = _ref11.data,\n          _ref11$httpMethod = _ref11.httpMethod,\n          httpMethod = _ref11$httpMethod === undefined ? \"POST\" : _ref11$httpMethod;\n\n      var timeoutId = void 0;\n      return new Promise(function (resolve, reject) {\n        var downloadPromise = $.fileDownload(url, {\n          httpMethod: httpMethod,\n          data: data\n        });\n        timeoutId = setTimeout(function () {\n          reject('Timeout');\n          downloadPromise.abort();\n        }, _constant.TIMEOUT);\n        downloadPromise.done(function () {\n          return resolve();\n        }).fail(function () {\n          return reject();\n        }).always(function () {\n          clearTimeout(timeoutId);\n        });\n      });\n    }\n  },\n  createSingleFieldParameter: function createSingleFieldParameter(_ref12) {\n    var field = _ref12.field,\n        value = _ref12.value,\n        _ref12$operator = _ref12.operator,\n        operator = _ref12$operator === undefined ? 'eq' : _ref12$operator,\n        _ref12$logicop = _ref12.logicop,\n        logicop = _ref12$logicop === undefined ? null : _ref12$logicop,\n        _ref12$search_endpoin = _ref12.search_endpoint,\n        search_endpoint = _ref12$search_endpoin === undefined ? \"api\" : _ref12$search_endpoin;\n\n    if (search_endpoint === 'api') {\n      logicop = logicop && '|' + logicop;\n      if (Array.isArray(value)) {\n        var filter = '';\n        var valueLenght = value.length;\n        value.forEach(function (value, index) {\n          filter += field + '|' + operator + '|' + encodeURIComponent(value) + (index < valueLenght - 1 ? logicop + ',' : '');\n        });\n        return filter;\n      } else return field + '|' + operator.toLowerCase() + '|' + encodeURIComponent(value) + (logicop || '');\n    } else {\n      if (Array.isArray(value)) {\n        var _filter = '';\n        var _valueLenght = value.length;\n        value.forEach(function (value, index) {\n          _filter += '\"' + field + '\" ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' \\'' + encodeURIComponent(value) + '\\' ' + (index < _valueLenght - 1 ? logicop + ' ' : '');\n        });\n        return _filter;\n      } else return '\"' + field + '\" ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' \\'' + encodeURIComponent(value) + '\\'';\n    }\n  },\n  createFilterFromString: function createFilterFromString(_ref13) {\n    var layer = _ref13.layer,\n        _ref13$search_endpoin = _ref13.search_endpoint,\n        search_endpoint = _ref13$search_endpoin === undefined ? 'ows' : _ref13$search_endpoin,\n        _ref13$filter = _ref13.filter,\n        filter = _ref13$filter === undefined ? '' : _ref13$filter;\n\n    var stringFilter = filter;\n    switch (search_endpoint) {\n      case 'ows':\n        var layerName = layer.getWMSLayerName();\n        var expression = new Expression({\n          layerName: layerName,\n          filter: stringFilter\n        });\n        filter = new Filter();\n        filter.setExpression(expression.get());\n        break;\n      case 'api':\n        //remove all blank space between operators\n        Object.values(_constant.FILTER_EXPRESSION_OPERATORS).forEach(function (operator) {\n          var regexoperator = new RegExp('\\\\s+' + operator + '\\\\s+', 'g');\n          stringFilter = stringFilter.replace(regexoperator, '' + operator);\n          var regexsinglequote = new RegExp('\\'' + operator, 'g');\n          stringFilter = stringFilter.replace(regexsinglequote, '' + operator);\n          regexsinglequote = new RegExp(operator + '\\'', 'g');\n          stringFilter = stringFilter.replace(regexsinglequote, '' + operator);\n        });\n        stringFilter = stringFilter.replace(/'$/g, '');\n        filter = stringFilter.replace(/\"/g, '');\n        Object.entries(_constant.FILTER_EXPRESSION_OPERATORS).forEach(function (_ref14) {\n          var _ref15 = _slicedToArray(_ref14, 2),\n              key = _ref15[0],\n              value = _ref15[1];\n\n          var re = new RegExp(value, \"g\");\n          var replaceValue = value === 'AND' || value === 'OR' ? '|' + key + ',' : '|' + key + '|';\n          filter = filter.replace(re, replaceValue);\n        });\n        //encode value\n        filter = filter.split('|').map(function (value, index) {\n          return (index + 1) % 3 === 0 ? encodeURIComponent(value) : value;\n        }).join('|');\n        break;\n    }\n    return filter;\n  },\n\n  /**\n   *\n   * @param layer single layer or an array of layers\n   * @param search_endpoint\n   * @param inputs\n   * @returns {*}\n   */\n  createFilterFormInputs: function createFilterFormInputs(_ref16) {\n    var layer = _ref16.layer,\n        _ref16$search_endpoin = _ref16.search_endpoint,\n        search_endpoint = _ref16$search_endpoin === undefined ? 'ows' : _ref16$search_endpoin,\n        _ref16$inputs = _ref16.inputs,\n        inputs = _ref16$inputs === undefined ? [] : _ref16$inputs;\n\n    var isLayerArray = Array.isArray(layer);\n    var filter = void 0;\n    var filters = []; // in case of layer is an array\n    switch (search_endpoint) {\n      case 'ows':\n        if (isLayerArray) {\n          layer.forEach(function (layer) {\n            var expression = new Expression();\n            var layerName = layer.getWMSLayerName();\n            expression.createExpressionFromFilter(inputs, layerName);\n            filter = new Filter();\n            filter.setExpression(expression.get());\n            filters.push(filter);\n          });\n        } else {\n          var expression = new Expression();\n          var layerName = layer.getWMSLayerName();\n          expression.createExpressionFromFilter(inputs, layerName);\n          filter = new Filter();\n          filter.setExpression(expression.get());\n        }\n        break;\n      case 'api':\n        var inputsLength = inputs.length - 1;\n        var fields = inputs.map(function (input, index) {\n          return utils.createSingleFieldParameter({\n            field: input.attribute,\n            value: input.value,\n            operator: input.operator,\n            logicop: index < inputsLength ? input.logicop : null\n          });\n        });\n        filter = fields.length ? fields.join() : undefined;\n        isLayerArray && layer.forEach(function () {\n          return filters.push(filter);\n        });\n        break;\n    }\n    return isLayerArray ? filters : filter;\n  },\n\n  //method to create filter from field based on search_endpoint\n  createFilterFormField: function createFilterFormField(_ref17) {\n    var layer = _ref17.layer,\n        _ref17$search_endpoin = _ref17.search_endpoint,\n        search_endpoint = _ref17$search_endpoin === undefined ? 'ows' : _ref17$search_endpoin,\n        field = _ref17.field,\n        value = _ref17.value,\n        _ref17$operator = _ref17.operator,\n        operator = _ref17$operator === undefined ? 'eq' : _ref17$operator;\n\n    var filter = void 0;\n    switch (search_endpoint) {\n      case 'ows':\n        var expression = new Expression();\n        var layerName = layer.getWMSLayerName();\n        expression.createExpressionFromField({\n          layerName: layerName,\n          field: field,\n          value: value,\n          operator: operator\n        });\n        filter = new Filter();\n        filter.setExpression(expression.get());\n        break;\n      case 'api':\n        filter = utils.createSingleFieldParameter({\n          field: field,\n          value: value,\n          operator: operator\n        });\n        break;\n    }\n    return filter;\n  },\n  splitContextAndMethod: function splitContextAndMethod() {\n    var string = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n    var _string$split = string.split(':'),\n        _string$split2 = _slicedToArray(_string$split, 2),\n        context = _string$split2[0],\n        method = _string$split2[1];\n\n    return {\n      context: context,\n      method: method\n    };\n  },\n\n\n  /**\n   * Convert Hex value color to RGB array\n   * @param color\n   * @returns {number[]}\n   */\n  colorHEXToRGB: function colorHEXToRGB() {\n    var color = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '#FFFFFF';\n\n    var r = parseInt(color.substr(1, 2), 16);\n    var g = parseInt(color.substr(3, 2), 16);\n    var b = parseInt(color.substr(5, 2), 16);\n    return [r, g, b];\n  },\n\n  /**\n   * Covert datetime format from Qgis format to Moment\n   * @param datetimeformat\n   * @returns {*}\n   */\n  convertQGISDateTimeFormatToMoment: function convertQGISDateTimeFormatToMoment(datetimeformat) {\n    datetimeformat = datetimeformat.replace(/y/g, 'Y');\n    var matchDayInDate = datetimeformat.match(/d/g);\n    if (matchDayInDate && matchDayInDate.length < 3) datetimeformat = datetimeformat.replace(/d/g, 'D');\n    return datetimeformat;\n  }\n};\n\nmodule.exports = utils;\n\n},{\"app/constant\":5,\"core/layers/filter/expression\":30,\"core/layers/filter/filter\":31,\"core/utils/geo\":65}],69:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    truefnc = _require.truefnc;\n\nvar InputValidators = {\n  validators: {\n    float: function float() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var float = Number(1 * value);\n        return !Number.isNaN(float);\n      };\n    },\n    integer: function integer() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var integer = 1 * value;\n        return !_.isNaN(integer) ? Number.isSafeInteger(integer) && integer <= 2147483647 : false;\n      };\n    },\n    checkbox: function checkbox() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value) {\n        var values = this.options.values || [];\n        return values.indexOf(value) !== -1;\n      };\n    },\n    datetimepicker: function datetimepicker() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = function (value, options) {\n        var fielddatetimeformat = options.fielddatetimeformat;\n        return moment(value, fielddatetimeformat, true).isValid();\n      };\n    },\n    text: function text() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    string: function string() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    radio: function radio() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    default: function _default() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.options = options;\n      this.validate = truefnc;\n    },\n    range: function range() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var min = options.min,\n          max = options.max;\n\n      this.validate = function (value) {\n        value = 1 * value;\n        return value >= min && value <= max;\n      };\n    }\n  },\n\n  get: function get(type) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var Validator = this.validators[type] || this.validators.default;\n    return new Validator(options);\n  }\n};\n\nmodule.exports = InputValidators;\n\n},{\"core/utils/utils\":68}],70:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Queque = require('core/workflow/queque');\n\n//Class Flow of workflow step by step\nfunction Flow() {\n  var steps = [];\n  var inputs = void 0;\n  var counter = 0;\n  var context = null;\n  var d = void 0;\n  var _workflow = void 0;\n  this.queques = {\n    end: new Queque(),\n    micro: new Queque()\n  };\n  //start workflow\n  this.start = function (workflow) {\n    d = $.Deferred();\n    if (counter > 0) {\n      console.log(\"reset workflow before restarting\");\n    }\n    _workflow = workflow;\n    inputs = workflow.getInputs();\n    context = workflow.getContext();\n    steps = workflow.getSteps();\n    // check if there are steps\n    if (steps && steps.length) {\n      //run step (first)\n      this.runStep(steps[0], inputs, context);\n    }\n    // return a promise that will be reolved if all step go right\n    return d.promise();\n  };\n\n  //run step\n  this.runStep = function (step, inputs) {\n    var _this = this;\n\n    //run step that run task\n    _workflow.setMessages({\n      help: step.state.help\n    });\n    var runMicroTasks = this.queques.micro.getLength();\n    step.run(inputs, context, this.queques).then(function (outputs) {\n      runMicroTasks && _this.queques.micro.run();\n      _this.onDone(outputs);\n    }).fail(function (error) {\n      return _this.onError(error);\n    });\n  };\n\n  //check if all step are resolved\n  this.onDone = function (outputs) {\n    counter++;\n    if (counter === steps.length) {\n      counter = 0;\n      d.resolve(outputs);\n      return;\n    }\n    this.runStep(steps[counter], outputs);\n  };\n\n  // in case of error\n  this.onError = function (err) {\n    counter = 0;\n    this.clearQueques();\n    d.reject(err);\n  };\n\n  // stop flow\n  this.stop = function () {\n    var d = $.Deferred();\n    steps[counter].isRunning() ? steps[counter].stop() : null;\n    this.clearQueques();\n    if (counter > 0) {\n      // set counter to 0\n      counter = 0;\n      // reject flow\n      d.reject();\n    } else {\n      //reject to force rollback session\n      d.resolve();\n    }\n    return d.promise();\n  };\n  base(this);\n}\n\ninherit(Flow, G3WObject);\n\nvar proto = Flow.prototype;\n\nproto.clearQueques = function () {\n  this.queques.micro.clear();\n  this.queques.end.clear();\n};\n\nmodule.exports = Flow;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"core/workflow/queque\":71}],71:[function(require,module,exports){\nfunction Queque() {\n  this.tasks = [];\n}\n\nvar proto = Queque.prototype;\n\nproto.addTask = function (task) {\n  this.tasks.push(task);\n};\n\nproto.run = function () {\n  var reverse = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  while (this.tasks.length) {\n    var task = reverse ? this.tasks.pop() : this.tasks.shift();\n    task();\n  }\n};\n\nproto.flush = function () {\n  return this.tasks.splice(0);\n};\n\nproto.getLength = function () {\n  return this.tasks.length;\n};\n\nproto.clear = function () {\n  this.run();\n  this.tasks = [];\n};\n\nmodule.exports = Queque;\n\n},{}],72:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Step() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var _options$inputs = options.inputs,\n      inputs = _options$inputs === undefined ? null : _options$inputs,\n      _options$context = options.context,\n      context = _options$context === undefined ? null : _options$context,\n      _options$task = options.task,\n      task = _options$task === undefined ? null : _options$task,\n      _options$outputs = options.outputs,\n      outputs = _options$outputs === undefined ? null : _options$outputs,\n      escKeyPressEventHandler = options.escKeyPressEventHandler;\n\n  this._inputs = inputs;\n  this._context = context;\n  this._task = task;\n  this._outputs = outputs;\n  //dynamic state of step\n  this.state = {\n    id: options.id || null,\n    name: options.name || null,\n    help: options.help || null, // help to show wat the user has to do\n    running: false, // running\n    error: null, // error\n    message: options.message || null // message\n  };\n  escKeyPressEventHandler && this.registerEscKeyEvent(escKeyPressEventHandler);\n}\n\ninherit(Step, G3WObject);\n\nvar proto = Step.prototype;\n\n//bind interrupt event on keys escape pressed\n\nproto.escKeyUpHandler = function (evt) {\n  var _evt$data = evt.data,\n      task = _evt$data.task,\n      callback = _evt$data.callback;\n\n  if (evt.key === 'Escape') callback({\n    task: task\n  });\n};\n\nproto.unbindEscKeyUp = function () {\n  $(document).unbind('keyup', this.escKeyUpHandler);\n};\n\nproto.bindEscKeyUp = function () {\n  var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : function () {};\n\n  $(document).on('keyup', {\n    callback: callback,\n    task: this.getTask()\n  }, this.escKeyUpHandler);\n};\n\nproto.registerEscKeyEvent = function (callback) {\n  var _this = this;\n\n  this.on('run', function () {\n    return _this.bindEscKeyUp(callback);\n  });\n  this.on('stop', function () {\n    return _this.unbindEscKeyUp();\n  });\n};\n\n// End of handle key esc pressed\n\n// method to start task\nproto.run = function (inputs, context, queques) {\n  var _this2 = this;\n\n  //emit run\n  this.emit('run', {\n    inputs: inputs,\n    context: context\n  });\n  var d = $.Deferred();\n  if (this._task) {\n    try {\n      // change state to running\n      this.state.running = true;\n      this._task.setInputs(inputs);\n      this._task.setContext(context);\n      this._task.run(inputs, context, queques).then(function (outputs) {\n        _this2.stop();\n        d.resolve(outputs);\n      }).fail(function (err) {\n        _this2.stop();\n        d.reject(err);\n      });\n    } catch (err) {\n      console.log(err);\n      this.state.error = err;\n      this.state.error = 'Problem ..';\n      this.stop();\n      d.reject(err);\n    }\n  }\n  return d.promise();\n};\n\n// stop step\nproto.stop = function () {\n  // stop task\n  this._task.stop(this._inputs, this._context);\n  //emit run\n  // running to false\n  this.state.running = false;\n  this.emit('stop');\n  this._task.setInputs(null);\n  this._task.setContext(null);\n};\n\n// revert task\nproto.revert = function () {\n  if (this._task && this._task.revert) this._task.revert();\n};\n\n//panic\nproto.panic = function () {\n  if (this._task && this._task.panic) this._task.panic();\n};\n\nproto.getId = function () {\n  return this.state.id;\n};\n\nproto.getName = function () {\n  return this.state.name;\n};\n\nproto.getHelp = function () {\n  return this.state.help;\n};\n\nproto.getError = function () {\n  return this.state.error;\n};\n\nproto.getMessage = function () {\n  return this.state.message;\n};\n\nproto.isRunning = function () {\n  return this.state.running;\n};\n\nproto.setInputs = function (inputs) {\n  this._inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this._inputs;\n};\n\nproto.setTask = function (task) {\n  this._task = task;\n};\n\nproto.getTask = function () {\n  return this._task;\n};\n\nproto.setOutputs = function (outputs) {\n  this._outputs = outputs;\n};\n\nproto.getOutputs = function () {\n  return this._outputs;\n};\n\nStep.MESSAGES = {\n  help: null\n};\n\nmodule.exports = Step;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],73:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Task() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.state = {\n    usermessagesteps: {}\n  };\n}\n\ninherit(Task, G3WObject);\n\nvar proto = Task.prototype;\n\n/**\n * Set and get task usefult properties used to run\n */\n\nproto.setInputs = function (inputs) {\n  this.inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this.inputs;\n};\n\nproto.setContext = function (context) {\n  return this.context = context;\n};\n\nproto.getContext = function () {\n  return this.context;\n};\n\nproto.revert = function () {\n  console.log('Revert to implemente ');\n};\n\nproto.panic = function () {\n  console.log('Panic to implement ..');\n};\n\nproto.stop = function () {\n  console.log('Task Stop to implement ..');\n};\n\nproto.run = function () {\n  console.log('Wrong. This method has to be overwrite from task');\n};\n\nproto.setRoot = function (task) {\n  this.state.root = task;\n};\n\nproto.getUserMessageSteps = function () {\n  return this.state.usermessagesteps;\n};\n\nproto.setUserMessageSteps = function () {\n  var steps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state.usermessagesteps = steps;\n};\n\nproto.setUserMessageStepDone = function (type) {\n  if (type) this.state.usermessagesteps[type].done = true;\n};\n\nmodule.exports = Task;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],74:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _workflows = require('services/workflows');\n\nvar _workflows2 = _interopRequireDefault(_workflows);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    resolve = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\nvar Flow = require('core/workflow/flow');\n\nvar _require2 = require('core/workflow/step'),\n    MESSAGES = _require2.MESSAGES;\n\nvar createUserMessageStepsFactory = require('gui/workflow/createUserMessageStepsFactory');\n\n//Class to manage flow of steps\nfunction Workflow() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$inputs = options.inputs,\n      inputs = _options$inputs === undefined ? null : _options$inputs,\n      _options$context = options.context,\n      context = _options$context === undefined ? null : _options$context,\n      _options$flow = options.flow,\n      flow = _options$flow === undefined ? new Flow() : _options$flow,\n      _options$steps = options.steps,\n      steps = _options$steps === undefined ? [] : _options$steps,\n      _options$runOnce = options.runOnce,\n      runOnce = _options$runOnce === undefined ? false : _options$runOnce;\n\n  base(this);\n  this._promise = null;\n  // inputs mandatory to work with editing\n  this._inputs = inputs;\n  this._context = context;\n  // flow object to control the flow\n  this._flow = flow;\n  // all steps of flow\n  this._steps = steps;\n  // if is child of another workflow\n  this._child = null;\n  // stack workflowindex\n  this._stackIndex = null;\n  // stop when flow stop\n  this.runOnce = runOnce;\n  this._messages = MESSAGES;\n  this._userMessageSteps = this._steps.reduce(function (messagesSteps, step) {\n    var usermessagesteps = step.getTask().getUserMessageSteps();\n    return usermessagesteps && _extends({}, messagesSteps, usermessagesteps) || messagesSteps;\n  }, {});\n}\n\ninherit(Workflow, G3WObject);\n\nvar proto = Workflow.prototype;\n\nproto.getContextService = function () {\n  var context = this.getContext();\n  return context.service;\n};\n\nproto.setContextService = function (service) {\n  var context = this.getContext();\n  context.service = service;\n};\n\nproto.getStackIndex = function () {\n  return this._stackIndex;\n};\n\nproto.addChild = function (workflow) {\n  if (this._child) this._child.addChild(workflow);else this._child = workflow;\n};\n\nproto.removeChild = function () {\n  if (this._child) {\n    var index = this._child.getStackIndex();\n    _workflows2.default.removeAt(index);\n  }\n  this._child = null;\n};\n\nproto.setInput = function (_ref) {\n  var key = _ref.key,\n      value = _ref.value;\n\n  this._inputs[key] = value;\n};\n\n/**\n * maybe unused method. Remove\n * @param inputs\n * @private\n */\nproto._setInputs = function (inputs) {\n  this._inputs = inputs;\n};\n\nproto.getInputs = function () {\n  return this._inputs;\n};\n\nproto.setContext = function (context) {\n  this._context = context;\n};\n\nproto.getContext = function () {\n  return this._context;\n};\n\nproto.getFlow = function () {\n  return this._flow;\n};\n\nproto.setFlow = function (flow) {\n  this._flow = flow;\n};\n\nproto.addStep = function (step) {\n  this._steps.push(step);\n};\n\nproto.setSteps = function (steps) {\n  this._steps = steps;\n};\n\nproto.getSteps = function () {\n  return this._steps;\n};\n\nproto.getStep = function (index) {\n  return this._steps[index];\n};\n\nproto.setMessages = function (messages) {\n  Object.assign(this._messages, messages);\n};\n\nproto.getMessages = function () {\n  return this._messages;\n};\n\nproto.clearMessages = function () {\n  this._messages.help = null;\n  this._isThereUserMessaggeSteps() && this.clearUserMessagesSteps();\n};\n\nproto.getLastStep = function () {\n  var length = this._steps.length;\n  return length ? this._steps[length - 1] : null;\n};\n\nproto.getRunningStep = function () {\n  return this._steps.find(function (step) {\n    return step.isRunning();\n  });\n};\n\n//stop all workflow children\nproto._stopChild = function () {\n  return this._child ? this._child.stop() : resolve();\n};\n\nproto._isThereUserMessaggeSteps = function () {\n  return Object.keys(this._userMessageSteps).length;\n};\n\nproto.reject = function () {\n  this._promise && this._promise.reject();\n};\n\nproto.resolve = function () {\n  this._promise && this._promise.resolve();\n};\n\n// start workflow\nproto.start = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  this._promise = d;\n  this._inputs = options.inputs;\n  this._context = options.context || {};\n  var isChild = this._context.isChild || false;\n  //check if are workflow running and if need to stop child\n  if (_workflows2.default.getLength() && _workflows2.default.getCurrent() !== this) {\n    !isChild && _workflows2.default.getCurrent().addChild(this);\n  }\n  this._stackIndex = _workflows2.default.push(this);\n  this._flow = options.flow || this._flow;\n  this._steps = options.steps || this._steps;\n  var showUserMessage = this._isThereUserMessaggeSteps();\n  if (showUserMessage) {\n    var stepsComponent = createUserMessageStepsFactory({\n      steps: this._userMessageSteps\n    });\n    _gui2.default.showUserMessage({\n      title: 'sdk.workflow.steps.title',\n      type: 'tool',\n      position: 'left',\n      size: 'small',\n      closable: false,\n      hooks: {\n        body: stepsComponent\n      }\n    });\n  }\n\n  this._flow.start(this).then(function (outputs) {\n    showUserMessage && setTimeout(function () {\n      _this.clearUserMessagesSteps();\n      d.resolve(outputs);\n    }, 500) || d.resolve(outputs);\n  }).fail(function (error) {\n    showUserMessage && _this.clearUserMessagesSteps();\n    d.reject(error);\n  }).always(function () {\n    _this.runOnce && _this.stop();\n  });\n  this.emit('start');\n  return d.promise();\n};\n\n// stop workflow during flow\nproto.stop = function () {\n  var _this2 = this;\n\n  this._promise = null;\n  var d = $.Deferred();\n  // stop child workflow\n  this._stopChild()\n  // in every case remove child\n  .always(function () {\n    _this2.removeChild();\n    _workflows2.default.removeAt(_this2.getStackIndex());\n    // call stop flow\n    _this2._flow.stop().then(function () {\n      return d.resolve();\n    }).fail(function (err) {\n      return d.reject(err);\n    }).always(function () {\n      return _this2.clearMessages();\n    });\n  });\n  this.emit('stop');\n  return d.promise();\n};\n\nproto.clearUserMessagesSteps = function () {\n  this._resetUserMessaggeStepsDone();\n  _gui2.default.closeUserMessage();\n};\n\nproto._resetUserMessaggeStepsDone = function () {\n  var _this3 = this;\n\n  Object.keys(this._userMessageSteps).forEach(function (type) {\n    var userMessageSteps = _this3._userMessageSteps[type];\n    userMessageSteps.done = false;\n    if (userMessageSteps.buttonnext) userMessageSteps.buttonnext.disabled = true;\n  });\n};\n\nmodule.exports = Workflow;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"core/workflow/flow\":70,\"core/workflow/step\":72,\"gui/workflow/createUserMessageStepsFactory\":192,\"services/gui\":356,\"services/workflows\":367}],75:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n//SPATIAL METHODS USED TO FIND FEATURES\nvar SPATIALMETHODS = exports.SPATIALMETHODS = ['intersects', 'within'];\n\n/**\n * MAIN VUE INSTANCE USED TO WATCH OBJECT CHANGES OR TO EMIT EVENTS\n * \n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nvar VM = exports.VM = new Vue();\n\n},{}],76:[function(require,module,exports){\nvar Control = require('g3w-ol/controls/control');\n\nfunction AddLayersControl() {\n  var options = {\n    name: \"addlayer\",\n    tipLabel: \"sdk.mapcontrols.addlayer.tooltip\",\n    label: \"\\uE907\"\n  };\n  Control.call(this, options);\n  this._layerstore = null;\n}\n\nol.inherits(AddLayersControl, Control);\n\nvar proto = AddLayersControl.prototype;\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  Control.prototype.setMap.call(this, map);\n  $(this.element).on('click', function () {\n    return _this.dispatchEvent('addlayer');\n  });\n};\n\nproto.layout = function (map) {\n  Control.prototype.layout.call(this, map);\n};\n\nproto.getLayersSore = function () {\n  return this._layerstore;\n};\n\nproto.setLayersStore = function (layersStore) {\n  this._layerstore = layersStore;\n};\n\nmodule.exports = AddLayersControl;\n\n},{\"g3w-ol/controls/control\":79}],77:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar AreaIteraction = require('g3w-ol/interactions/areainteraction');\nvar MeasureControl = require('g3w-ol/controls/measurecontrol');\n\nvar AreaControl = function AreaControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    tipLabel: \"sdk.mapcontrols.measures.area.tooltip\",\n    label: '\\uE909',\n    clickmap: true, // set ClickMap\n    interactionClass: AreaIteraction\n  };\n  options = utils.merge(options, _options);\n  MeasureControl.call(this, options);\n};\n\nol.inherits(AreaControl, MeasureControl);\n\nmodule.exports = AreaControl;\n\n},{\"core/utils/ol\":66,\"g3w-ol/controls/measurecontrol\":85,\"g3w-ol/interactions/areainteraction\":100}],78:[function(require,module,exports){\nvar _constants = require('g3w-ol/constants');\n\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol'); /**\n                                                                         * @file\n                                                                         * @since v3.8\n                                                                         */\n\nvar _require = require('core/utils/ol'),\n    merge = _require.merge;\n\nvar _require2 = require('core/utils/geo'),\n    Geometry = _require2.Geometry;\n\nvar VALIDGEOMETRIES = Geometry.getAllPolygonGeometryTypes();\n\nvar BaseQueryPolygonControl = function BaseQueryPolygonControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options = options,\n      _options$spatialMetho = _options.spatialMethod,\n      spatialMethod = _options$spatialMetho === undefined ? _constants.SPATIALMETHODS[0] : _options$spatialMetho,\n      onSelectlayer = _options.onSelectlayer,\n      _options$enabled = _options.enabled,\n      enabled = _options$enabled === undefined ? true : _options$enabled,\n      interactionClass = _options.interactionClass;\n\n\n  var default_options = {\n    offline: false,\n    // update selected layer\n    onSelectlayer: onSelectlayer,\n    clickmap: true, // set ClickMap\n    interactionClass: interactionClass,\n    spatialMethod: spatialMethod,\n    toggledTool: {\n      type: 'spatialMethod',\n      how: 'toggled' // or hover\n    },\n    onhover: true\n  };\n\n  options = merge(options, default_options);\n\n  options.geometryTypes = VALIDGEOMETRIES;\n\n  InteractionControl.call(this, options);\n\n  /**\n   * @since 3.8.0\n   */\n  this.setVisible(this.checkVisibile(this.layers));\n\n  // starting disabled\n  this.setEnable(enabled);\n};\n\nol.inherits(BaseQueryPolygonControl, InteractionControl);\n\nmodule.exports = BaseQueryPolygonControl;\n\n},{\"core/utils/geo\":65,\"core/utils/ol\":66,\"g3w-ol/constants\":75,\"g3w-ol/controls/interactioncontrol\":83}],79:[function(require,module,exports){\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar _require = require('g3w-ol/controls/utils'),\n    layout = _require.layout;\n\nvar Control = function Control() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$name = options.name,\n      name = _options$name === undefined ? \"\" : _options$name,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$enabled = options.enabled,\n      enabled = _options$enabled === undefined ? false : _options$enabled;\n\n  this._enabled = enabled;\n  this.offline = options.offline !== undefined ? options.offline : true;\n  this.name = name.split(' ').join('-').toLowerCase();\n  this.id = this.name + '_' + Math.floor(Math.random() * 1000000);\n  this.eventKeys = {}; // store eventKey and original havenHandler\n  /*\n    tl: top-left\n    tr: top-right\n    bl: bottom-left\n    bt: bottom-right\n   */\n  this.positionCode = options.position || 'tl';\n  this.priority = options.priority || 0;\n  if (!options.element) {\n    var className = \"ol-\" + this.name.split(' ').join('-').toLowerCase();\n    var customClass = options.customClass;\n    var tipLabel = options.tipLabel || this.name;\n    var label = options.label || '';\n    var mapControlButtonVue = Vue.extend({\n      functional: true,\n      render: function render(h) {\n        var _class;\n\n        return h('div', {\n          class: (_class = {}, _defineProperty(_class, className, !!className), _defineProperty(_class, 'ol-unselectable', true), _defineProperty(_class, 'ol-control', true), _class)\n        }, [h('button', {\n          attrs: {\n            type: 'button'\n          },\n          directives: [{\n            name: 't-tooltip',\n            value: tipLabel\n          }]\n        }, [label, h('i', {\n          class: _defineProperty({}, customClass, !!customClass)\n        })])]);\n      }\n    });\n    var mapControlButtonDOMElement = new mapControlButtonVue().$mount().$el;\n    options.element = mapControlButtonDOMElement;\n  }\n  var buttonClickHandler = options.buttonClickHandler || Control.prototype._handleClick.bind(this);\n  $(options.element).on('click', buttonClickHandler);\n  ol.control.Control.call(this, options);\n  this.setVisible(visible);\n  this._postRender();\n};\n\nol.inherits(Control, ol.control.Control);\n\nvar proto = Control.prototype;\n\n//return if clickmap\nproto.isClickMap = function () {\n  return this.clickmap;\n};\n\nproto.isToggled = function () {\n  return this._toggled;\n};\n\nproto.setEventKey = function (_ref) {\n  var eventType = _ref.eventType,\n      eventKey = _ref.eventKey;\n\n  this.eventKeys[eventType] = {\n    eventKey: eventKey,\n    originalHandler: eventKey.listener\n  };\n};\n\n/**\n * Method to reset original handler method of control event\n * @param eventType <String>\n */\nproto.resetOriginalHandlerEvent = function (eventType) {\n  if (this.eventKeys[eventType] && this.eventKeys[eventType].eventKey) {\n    var eventKey = this.eventKeys[eventType].eventKey;\n    ol.Observable.unByKey(eventKey);\n    this.eventKeys[eventType].eventKey = this.on(eventType, this.eventKeys[eventType].originalHandler);\n  }\n};\n\n/**\n * Method to overwrite original handler method of control event\n * @param eventType <String>\n * @param handler <Function>\n */\nproto.overwriteEventHandler = function (_ref2) {\n  var eventType = _ref2.eventType,\n      handler = _ref2.handler;\n\n  if (this.eventKeys[eventType] && this.eventKeys[eventType].eventKey) {\n    var eventKey = this.eventKeys[eventType].eventKey;\n    ol.Observable.unByKey(eventKey);\n    this.eventKeys[eventType].eventKey = this.on(eventType, handler);\n  }\n};\n\nproto.getPosition = function (positionCode) {\n  positionCode = positionCode || this.positionCode;\n  var position = {};\n  position['top'] = positionCode.indexOf('t') > -1 ? true : false;\n  position['left'] = positionCode.indexOf('l') > -1 ? true : false;\n  position['bottom'] = positionCode.indexOf('b') > -1 ? true : false;\n  position['right'] = positionCode.indexOf('r') > -1 ? true : false;\n  return position;\n};\n\n/**\n * Method to handle toggle map controls\n * @param event\n */\nproto._handleClick = function (event) {\n  var _this = this;\n\n  event.preventDefault();\n  var map = this.getMap();\n  var resetControl = null;\n  // remove all the other, eventually toggled, interactioncontrols\n  var controls = map.getControls();\n  this._toggled && controls.forEach(function (control) {\n    if (control.id && control.toggle && control.id !== _this.id) {\n      control.toggle(false);\n      if (control.name === 'reset') resetControl = control;\n    }\n  });\n  if (!this._toggled && resetControl) resetControl.toggle(true);\n  this.dispatchEvent('controlclick');\n};\n\n//shift of control position\nproto.shiftPosition = function (position) {\n  $(this.element).css(hWhere, position + 'px');\n};\n\n// layout handler\nproto.layout = function (map) {\n  if (map) {\n    var position = this.getPosition();\n    var element = $(this.element);\n    layout({ map: map, position: position, element: element });\n  }\n};\n\n// change layout of controls // overwrite to customize beahviour\nproto.changelayout = function (map) {};\n\n//called when a control is added ore removed to map (added: map is an ol.Map instance , removed map is null)\nproto.setMap = function (map) {\n  if (map) {\n    this.layout(map);\n    ol.control.Control.prototype.setMap.call(this, map);\n  }\n};\n/**\n *\n */\nproto.showControl = function () {\n  $(this.element).show();\n};\n\n//hide control and move all controls that sit on his right position\nproto.hideControl = function () {\n  var position = $(this.element).position().left;\n  var controlWidth = $(this.element).outerWidth();\n  var newPosition = position;\n  var controls = $(this.element).siblings('.ol-control-tl');\n  controls.each(function () {\n    if ($(this).position().left > position) {\n      newPosition = $(this).position().left;\n      if (controlWidth > $(this).outerWidth()) {\n        position = position + (controlWidth - $(this).outerWidth());\n      }\n      $(this).css('left', position + 'px');\n      position = newPosition;\n      controlWidth = $(this).outerWidth();\n    }\n  });\n  $(this.element).hide();\n};\n\n/**\n * Toggle pointer events and `g3w-ol-disabled` class on map control button\n * \n * @param {boolean} enabled wheter the map control button is clickable\n */\nproto.setEnable = function (enabled) {\n  $(this.element).find('button').first().toggleClass('g3w-ol-disabled', !enabled);\n  if (!enabled && this._interaction) {\n    this._interaction.setActive(false);\n  }\n  this._enabled = enabled;\n};\n\nproto.getEnable = function () {\n  return this._enabled;\n};\n\nproto.setVisible = function () {\n  var visible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this._visible = visible;\n  $(this.element)[visible ? 'show' : 'hide']();\n};\n\nproto.isVisible = function () {\n  return this._visible;\n};\n\nproto._postRender = function () {};\n\nmodule.exports = Control;\n\n},{\"g3w-ol/controls/utils\":97}],80:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Control = require('./control');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType,\n    XHR = _require.XHR;\n\nvar Projections = require('g3w-ol/projection/projections');\n/**\n * Classes for all element of dom control\n * @type {{country: string, hidden: string, city: string, road: string, spin: string, namespace: string, inputText: {container: string, result: string, input: string, reset: string, control: string}, olControl: string, inputResetId: string, inputQueryId: string}}\n */\nvar cssClasses = {\n  namespace: \"ol-geocoder\",\n  spin: \"gcd-pseudo-rotate\",\n  hidden: \"gcd-hidden\",\n  inputQueryId: \"gcd-input-query\",\n  inputResetId: \"gcd-input-reset\",\n  country: \"gcd-country\",\n  city: \"gcd-city\",\n  road: \"gcd-road\",\n  olControl: \"ol-control\",\n  inputText: {\n    container: \"gcd-txt-container\",\n    control: \"gcd-txt-control\",\n    input: \"gcd-txt-input\",\n    reset: \"gcd-txt-reset\",\n    result: \"gcd-txt-result\"\n  }\n};\n\nvar utils = {\n  isNumeric: function isNumeric(str) {\n    return (/^\\d+$/.test(str)\n    );\n  },\n  classRegex: function classRegex(classname) {\n    return new RegExp(\"(^|\\\\s+) \" + classname + \" (\\\\s+|$)\");\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String|Array<String>} classname Class or array of classes.\n   * For example: 'class1 class2' or ['class1', 'class2']\n   * @param {Number|undefined} timeout Timeout to remove a class.\n   */\n  addClass: function addClass(element, classname, timeout) {\n    var _this = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this.addClass(each, classname);\n      });\n      return;\n    }\n    var array = Array.isArray(classname) ? classname : classname.split(/\\s+/);\n    var i = array.length;\n\n    while (i--) {\n      if (!this.hasClass(element, array[i])) this._addClass(element, array[i], timeout);\n    }\n  },\n  _addClass: function _addClass(el, klass, timeout) {\n    var _this2 = this;\n\n    // use native if available\n    if (el.classList) el.classList.add(klass);else el.className = (el.className + ' ' + klass).trim();\n    if (timeout && this.isNumeric(timeout)) setTimeout(function () {\n      return _this2._removeClass(el, klass);\n    }, timeout);\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String|Array<String>} classname Class or array of classes.\n   * For example: 'class1 class2' or ['class1', 'class2']\n   * @param {Number|undefined} timeout Timeout to add a class.\n   */\n  removeClass: function removeClass(element, classname, timeout) {\n    var _this3 = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this3.removeClass(each, classname, timeout);\n      });\n      return;\n    }\n    var array = Array.isArray(classname) ? classname : classname.split(/\\s+/);\n    var i = array.length;\n\n    while (i--) {\n      if (this.hasClass(element, array[i])) this._removeClass(element, array[i], timeout);\n    }\n  },\n  _removeClass: function _removeClass(el, klass, timeout) {\n    var _this4 = this;\n\n    if (el.classList) el.classList.remove(klass);else el.className = el.className.replace(this.classRegex(klass), ' ').trim();\n    if (timeout && this.isNumeric(timeout)) setTimeout(function () {\n      return _this4._addClass(el, klass);\n    }, timeout);\n  },\n\n  /**\n   * @param {Element} element DOM node.\n   * @param {String} classname Classname.\n   * @return {Boolean}\n   */\n  hasClass: function hasClass(element, c) {\n    // use native if available\n    return element.classList ? element.classList.contains(c) : this.classRegex(c).test(element.className);\n  },\n\n  /**\n   * @param {Element|Array<Element>} element DOM node or array of nodes.\n   * @param {String} classname Classe.\n   */\n  toggleClass: function toggleClass(element, classname) {\n    var _this5 = this;\n\n    if (Array.isArray(element)) {\n      element.forEach(function (each) {\n        return _this5.toggleClass(each, classname);\n      });\n      return;\n    }\n    // use native if available\n    if (element.classList) element.classList.toggle(classname);else {\n      if (this.hasClass(element, classname)) this._removeClass(element, classname);else this._addClass(element, classname);\n    }\n  },\n\n  /**\n   * Abstraction to querySelectorAll for increased\n   * performance and greater usability\n   * @param {String} selector\n   * @param {Element} context (optional)\n   * @param {Boolean} find_all (optional)\n   * @return (find_all) {Element} : {Array}\n   */\n  find: function find(selector, context, find_all) {\n    if (context === void 0) context = window.document;\n    var simpleRe = /^(#?[\\w-]+|\\.[\\w-.]+)$/,\n        periodRe = /\\./g,\n        slice = Array.prototype.slice,\n        matches = [];\n    // Redirect call to the more performant function\n    // if it's a simple selector and return an array\n    // for easier usage\n    if (simpleRe.test(selector)) {\n      switch (selector[0]) {\n        case '#':\n          matches = [this.$(selector.substr(1))];\n          break;\n        case '.':\n          matches = slice.call(context.getElementsByClassName(selector.substr(1).replace(periodRe, ' ')));\n          break;\n        default:\n          matches = slice.call(context.getElementsByTagName(selector));\n      }\n    } else {\n      // If not a simple selector, query the DOM as usual\n      // and return an array for easier usage\n      matches = slice.call(context.querySelectorAll(selector));\n    }\n    return find_all ? matches : matches[0];\n  },\n  $: function $(id) {\n    id = id[0] === '#' ? id.substr(1, id.length) : id;\n    return document.getElementById(id);\n  },\n  isElement: function isElement(obj) {\n    // DOM, Level2\n    if ('HTMLElement' in window) return !!obj && obj instanceof HTMLElement;\n    // Older browsers\n    return !!obj && (typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object' && obj.nodeType === 1 && !!obj.nodeName;\n  },\n  getAllChildren: function getAllChildren(node, tag) {\n    return [].slice.call(node.getElementsByTagName(tag));\n  },\n  isEmpty: function isEmpty(str) {\n    return !str || 0 === str.length;\n  },\n  emptyArray: function emptyArray(array) {\n    while (array.length) {\n      array.pop();\n    }\n  },\n  anyMatchInArray: function anyMatchInArray(source, target) {\n    return source.some(function (each) {\n      return target.indexOf(each) >= 0;\n    });\n  },\n  everyMatchInArrayy: function everyMatchInArrayy(arr1, arr2) {\n    return arr2.every(function (each) {\n      return arr1.indexOf(each) >= 0;\n    });\n  },\n  anyItemHasValue: function anyItemHasValue(obj, has) {\n    var _this6 = this;\n\n    if (has === undefined) has = false;\n    var keys = Object.keys(obj);\n    keys.forEach(function (key) {\n      if (!_this6.isEmpty(obj[key])) {\n        has = true;\n      }\n    });\n    return has;\n  },\n  removeAllChildren: function removeAllChildren(node) {\n    while (node.firstChild) {\n      node.removeChild(node.firstChild);\n    }\n  },\n  removeAll: function removeAll(collection) {\n    var node = void 0;\n    while (node = collection[0]) {\n      node.parentNode.removeChild(node);\n    }\n  },\n  getChildren: function getChildren(node, tag) {\n    return [].filter.call(node.childNodes, function (el) {\n      return tag ? el.nodeType === 1 && el.tagName.toLowerCase() === tag : el.nodeType === 1;\n    });\n  },\n  template: function template(html, row) {\n    var _this7 = this;\n\n    return html.replace(/\\{ *([\\w_-]+) *\\}/g, function (htm, key) {\n      var value = row[key] === undefined ? '' : row[key];\n      return _this7.htmlEscape(value);\n    });\n  },\n  htmlEscape: function htmlEscape(str) {\n    return String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&#039;');\n  },\n  createElement: function createElement(node, html) {\n    var elem = void 0;\n    if (Array.isArray(node)) {\n      elem = document.createElement(node[0]);\n      if (node[1].id) elem.id = node[1].id;\n      if (node[1].classname) elem.className = node[1].classname;\n      if (node[1].attr) {\n        var attr = node[1].attr;\n        if (Array.isArray(attr)) {\n          var i = -1;\n          while (++i < attr.length) {\n            elem.setAttribute(attr[i].name, attr[i].value);\n          }\n        } else elem.setAttribute(attr.name, attr.value);\n      }\n    } else elem = document.createElement(node);\n    elem.innerHTML = html;\n    var frag = document.createDocumentFragment();\n    while (elem.childNodes[0]) {\n      frag.appendChild(elem.childNodes[0]);\n    }\n    elem.appendChild(frag);\n    return elem;\n  }\n};\n\n/**\n * Providers\n */\n\nvar Nominatim = function () {\n  function Nominatim() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Nominatim);\n\n    this.id = 'Nominatim (OSM)';\n    this.active = true;\n    var extent = ol.proj.transformExtent(options.viewbox, options.mapCrs, 'EPSG:4326');\n    this.settings = {\n      url: 'https://nominatim.openstreetmap.org/search/',\n      params: {\n        q: '',\n        format: 'json',\n        addressdetails: 1,\n        limit: 10\n      },\n      extent: extent,\n      viewbox: extent.join(',')\n    };\n  }\n\n  _createClass(Nominatim, [{\n    key: 'getParameters',\n    value: function getParameters(options) {\n      var _settings = this.settings,\n          url = _settings.url,\n          viewbox = _settings.viewbox,\n          limit = _settings.params.limit;\n\n      return {\n        url: url,\n        params: {\n          q: options.query,\n          format: 'json',\n          addressdetails: 1,\n          limit: options.limit || limit,\n          viewbox: viewbox,\n          bounded: 1\n        }\n      };\n    }\n  }, {\n    key: 'handleResponse',\n    value: function handleResponse() {\n      var _this8 = this;\n\n      var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var results = response.filter(function (place) {\n        return ol.extent.containsXY(_this8.settings.extent, place.lon, place.lat);\n      }).map(function (result) {\n        return {\n          lon: result.lon,\n          lat: result.lat,\n          address: {\n            name: result.address.neighbourhood || '',\n            road: result.address.road || '',\n            postcode: result.address.postcode,\n            city: result.address.city || result.address.town,\n            state: result.address.state,\n            country: result.address.country\n          },\n          original: {\n            formatted: result.display_name,\n            details: result.address\n          }\n        };\n      });\n      return {\n        results: results,\n        header: {\n          title: this.id\n        }\n      };\n    }\n  }]);\n\n  return Nominatim;\n}();\n\nvar Google = function () {\n  function Google() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Google);\n\n    this.id = 'Google';\n    this.active = _applicationState2.default.keys.vendorkeys.google !== undefined; // PUT HERE A CONDITION TO ACTIVATE OR NOT GOODGLE GEOCODING PROVIDER\n    var extent = ol.proj.transformExtent(options.viewbox, options.mapCrs, 'EPSG:4326');\n    this.settings = {\n      url: 'https://maps.googleapis.com/maps/api/geocode/json',\n      extent: extent,\n      viewbox: extent[1] + ',' + extent[0] + '|' + extent[3] + ',' + extent[2]\n    };\n  }\n\n  _createClass(Google, [{\n    key: 'getParameters',\n    value: function getParameters() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var language = options.lang;\n      var _settings2 = this.settings,\n          url = _settings2.url,\n          viewbox = _settings2.viewbox;\n\n      var params = {\n        address: options.query,\n        key: _applicationState2.default.keys.vendorkeys.google,\n        bounds: viewbox,\n        language: language\n      };\n\n      return {\n        url: url,\n        params: params\n      };\n    }\n  }, {\n    key: 'handleResponse',\n    value: function handleResponse() {\n      var _this9 = this;\n\n      var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var results = []; // Set  to be an Array\n\n      if (response.status === 'OK') {\n        results = response.results.filter(function (result) {\n          return ol.extent.containsXY(_this9.settings.extent, result.geometry.location.lng, result.geometry.location.lat);\n        }).map(function (result) {\n          var name = void 0,\n              road = void 0,\n              city = void 0,\n              postcode = void 0,\n              state = void 0,\n              country = void 0;\n          result.address_components.forEach(function (_ref) {\n            var types = _ref.types,\n                short_name = _ref.short_name,\n                long_name = _ref.long_name;\n\n            if (types.find(function (type) {\n              return type === 'route';\n            })) name = long_name;else if (types.find(function (type) {\n              return type === 'locality';\n            })) city = long_name;else if (types.find(function (type) {\n              return type === 'country';\n            })) country = long_name;\n          });\n          return {\n            lon: result.geometry.location.lng,\n            lat: result.geometry.location.lat,\n            address: {\n              name: name,\n              road: road,\n              postcode: '',\n              city: city,\n              state: state,\n              country: country\n            },\n            original: {\n              formatted: result.display_name,\n              details: result.address\n            }\n          };\n        });\n      } else if (response.status === 'REQUEST_DENIED') {\n        /* disable google geocoding provider on API key error */\n        this.active = false;\n      }\n\n      return {\n        results: results,\n        header: {\n          title: this.id\n        }\n      };\n    }\n  }]);\n\n  return Google;\n}();\n\n/**\n * Geocoding class\n * @param options\n * @constructor\n */\n\n\nfunction GeocodingControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.options = {\n    provider: 'osm',\n    placeholder: options.placeholder || 'Citt, indirizzo ... ',\n    noresults: options.noresults || 'Nessun risultato ',\n    notresponseserver: options.notresponseserver || 'Il server non risponde',\n    lang: _applicationState2.default.language || 'it-IT',\n    limit: options.limit || 5,\n    keepOpen: true,\n    preventDefault: false,\n    autoComplete: false,\n    autoCompleteMinLength: 4,\n    debug: false,\n    viewbox: options.bbox,\n    bounded: 1,\n    mapCrs: options.mapCrs,\n    fontIcon: _gui2.default.getFontClass('search')\n  };\n\n  var _options = this.options,\n      placeholder = _options.placeholder,\n      fontIcon = _options.fontIcon,\n      mapCrs = _options.mapCrs,\n      viewbox = _options.viewbox;\n  /**\n   * Providers\n   * @type []\n   */\n\n  this.providers = [new Google({\n    mapCrs: mapCrs,\n    viewbox: viewbox\n  }), new Nominatim({\n    mapCrs: mapCrs,\n    viewbox: viewbox\n  })];\n\n  /**\n   * Layer to show marker after search\n   * IN FUTURE SET AS CONTROL UTILITY (at moment duplicate also in GEOLOCATION CONTROL)\n   */\n\n  this.layer = new ol.layer.Vector({\n    source: new ol.source.Vector(),\n    style: new ol.style.Style({\n      text: new ol.style.Text({\n        text: '\\uF3C5',\n        font: '900 3em \"Font Awesome 5 Free\"',\n        stroke: new ol.style.Stroke({\n          color: 'red',\n          width: 3\n        }),\n        fill: new ol.style.Fill({\n          color: 'rgba(255, 0,0, 0.7)'\n        })\n      })\n    })\n  });\n\n  this.projection;\n\n  var containerClass = cssClasses.namespace + ' ' + cssClasses.inputText.container;\n  var self = this;\n\n  var GeocoderVueContainer = Vue.extend({\n    functional: true,\n    render: function render(h) {\n      return h('div', { class: _defineProperty({}, containerClass, true) }, [h('div', {\n        class: _defineProperty({}, cssClasses.inputText.control, true)\n      }, [h('input', {\n        attrs: {\n          type: 'text',\n          id: cssClasses.inputQueryId,\n          autocomplete: 'off'\n        },\n        class: _defineProperty({}, cssClasses.inputText.input, true),\n        directives: [{\n          name: 't-placeholder',\n          value: placeholder\n        }]\n      }), h('button', {\n        attrs: {\n          type: 'button',\n          id: 'search_nominatim'\n        },\n        class: {\n          btn: true\n        },\n        on: {\n          click: function click() {\n            var value = $('input.' + cssClasses.inputText.input).val();\n            self.query(value);\n          }\n        }\n      }, [h('i', {\n        attrs: {\n          'aria-hidden': true\n        },\n        style: {\n          color: '#ffffff'\n        },\n        class: _defineProperty({}, fontIcon, true)\n      })]), h('button', {\n        attrs: {\n          type: 'button',\n          id: cssClasses.inputResetId\n        },\n        class: _defineProperty({}, cssClasses.inputText.reset + '  ' + cssClasses.hidden, true)\n      })]), h('ul', {\n        class: _defineProperty({}, cssClasses.inputText.result, true)\n      })]);\n    }\n  });\n  this.container = new GeocoderVueContainer().$mount().$el;\n  this.lastQuery = '';\n  this.registeredListeners = {\n    mapClick: false\n  };\n\n  this.showMarker = function (coordinates) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { transform: true };\n    var transform = options.transform;\n\n    this.hideMarker();\n    coordinates = transform ? ol.proj.transform(coordinates, 'EPSG:4326', this.getMap().getView().getProjection()) : coordinates;\n    var geometry = new ol.geom.Point(coordinates);\n    var feature = new ol.Feature(geometry);\n    this.layer.getSource().addFeature(feature);\n    this.getMap().addLayer(this.layer);\n    _gui2.default.getService('map').zoomToGeometry(geometry);\n  };\n\n  this.hideMarker = function () {\n    this.layer.getSource().clear();\n    this.getMap().removeLayer(this.layer);\n  };\n  /**\n   * Methods\n   */\n  this.createControl = function () {\n    var _this10 = this;\n\n    var timeout = void 0,\n        lastQuery = void 0;\n    this.control = utils.find('.' + cssClasses.inputText.control, this.container);\n    this.input = utils.find('.' + cssClasses.inputText.input, this.container);\n    this.reset = utils.find('.' + cssClasses.inputText.reset, this.container);\n    this.result = utils.find('.' + cssClasses.inputText.result, this.container);\n    var query = function query(evt) {\n      var value = evt.target.value.trim();\n      var hit = evt.key ? evt.key === 'Enter' : evt.which ? evt.which === 13 : evt.keyCode ? evt.keyCode === 13 : false;\n      if (hit) {\n        evt.preventDefault();\n        _this10.query(value);\n      }\n    };\n    var reset = function reset() {\n      _this10.input.focus();\n      _this10.input.value = '';\n      _this10.lastQuery = '';\n      utils.addClass(_this10.reset, cssClasses.hidden);\n      _this10.clearResults();\n    };\n    var handleValue = function handleValue(evt) {\n      var value = evt.target.value.trim();\n      value.length ? utils.removeClass(_this10.reset, cssClasses.hidden) : utils.addClass(_this10.reset, cssClasses.hidden);\n      if (_this10.options.autoComplete && value !== lastQuery) {\n        lastQuery = value;\n        timeout && clearTimeout(timeout);\n        timeout = setTimeout(function () {\n          return value.length >= _this10.options.autoCompleteMinLength && _this10.query(value);\n        }, 200);\n      }\n    };\n    this.input.addEventListener('keyup', query, false);\n    this.input.addEventListener('input', handleValue, false);\n    this.reset.addEventListener('click', reset, false);\n  };\n  this.query = function (q) {\n    var _this11 = this;\n\n    /**\n     * Clear source\n     */\n    this.hideMarker();\n    return new Promise(function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n        var isNumber, coordinates, transform, _q$split, _q$split2, x, y, epsg, promises, providers, responses;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                isNumber = function isNumber(value) {\n                  return toRawType(value) === 'Number' && !Number.isNaN(value);\n                };\n\n                coordinates = null;\n                transform = false;\n\n                if (q) {\n                  _q$split = q.split(','), _q$split2 = _slicedToArray(_q$split, 3), x = _q$split2[0], y = _q$split2[1], epsg = _q$split2[2];\n\n                  coordinates = isNumber(1 * x) && isNumber(1 * y) ? [1 * x, 1 * y] : null;\n                  try {\n                    /**\n                     * check if is sett epsg code and if is register on project\n                     */\n                    if (epsg && Projections.get('EPSG:' + epsg.trim())) {\n                      coordinates = ol.proj.transform(coordinates, Projections.get('EPSG:' + epsg.trim()), 'EPSG:4326');\n                      transform = true;\n                    }\n                  } catch (err) {}\n                }\n\n                if (!coordinates) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _this11.showMarker(coordinates, {\n                  transform: transform\n                });\n                resolve(coordinates);\n                _context.next = 19;\n                break;\n\n              case 9:\n                if (!(_this11.lastQuery === q && _this11.result.firstChild)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                return _context.abrupt('return');\n\n              case 11:\n                promises = [];\n                /**\n                 * For loop to active Providers\n                 */\n\n                providers = _this11.providers.filter(function (provider) {\n                  return provider.active;\n                });\n\n                providers.forEach(function (provider) {\n                  var _provider$getParamete = provider.getParameters({\n                    query: q,\n                    lang: _this11.options.lang,\n                    countrycodes: _this11.options.countrycodes,\n                    limit: _this11.options.limit\n                  }),\n                      url = _provider$getParamete.url,\n                      params = _provider$getParamete.params;\n\n                  _this11.lastQuery = q;\n                  _this11.clearResults();\n                  utils.addClass(_this11.reset, cssClasses.spin);\n                  promises.push(XHR.get({\n                    url: url,\n                    params: params\n                  }));\n                });\n                _context.next = 16;\n                return Promise.allSettled(promises);\n\n              case 16:\n                responses = _context.sent;\n\n                responses.forEach(function (_ref3, index) {\n                  var status = _ref3.status,\n                      response = _ref3.value;\n\n                  if (status === 'fulfilled') {\n                    var _providers$index$hand = providers[index].handleResponse(response),\n                        header = _providers$index$hand.header,\n                        results = _providers$index$hand.results;\n\n                    if (providers[index].active) {\n                      _this11.createList({\n                        header: header,\n                        results: results\n                      });\n                    }\n                  }\n                });\n                utils.removeClass(_this11.reset, cssClasses.spin);\n\n              case 19:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this11);\n      }));\n\n      return function (_x8, _x9) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  };\n  this.createList = function () {\n    var _this12 = this;\n\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        header = _ref4.header,\n        _ref4$results = _ref4.results,\n        results = _ref4$results === undefined ? {} : _ref4$results;\n\n    var ul = this.result;\n    ul.appendChild(this.createHeaderProviderResults(header));\n    if (results.length) {\n      results.forEach(function (result) {\n        var addressHtml = _this12.addressTemplate(result.address),\n            html = ['<a href=\"#\">', addressHtml, '</a>'].join(''),\n            li = utils.createElement('li', html);\n        li.addEventListener('click', function (evt) {\n          evt.preventDefault();\n          _this12.chosen(result, addressHtml, result.address, result.original);\n        }, false);\n        ul.appendChild(li);\n      });\n    } else {\n      var noresults = this.options.noresults;\n\n      var elementVue = Vue.extend({\n        functional: true,\n        render: function render(h) {\n          return h('li', {\n            class: {\n              'nominatim-noresult': true\n            },\n            directives: [{ name: 't', value: noresults }]\n          });\n        }\n      });\n      var li = new elementVue().$mount().$el;\n      ul.appendChild(li);\n    }\n  };\n  this.chosen = function (place, addressHtml, addressObj, addressOriginal) {\n    var coord = [parseFloat(place.lon), parseFloat(place.lat)];\n    this.options.keepOpen === false && this.clearResults(true);\n    this.showMarker(coord);\n  };\n  this.createHeaderProviderResults = function () {\n    var header = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var headerNodeElement = '\\n      <div style=\"display: flex; justify-content: space-between; padding: 5px\">\\n        <span  style=\"color: #FFFFFF; font-weight: bold\">' + header.title + '</span>\\n      </div>';\n    var li = utils.createElement('li', headerNodeElement);\n    li.classList.add(\"skin-background-color\");\n    return li;\n  };\n\n  this.addressTemplate = function (address) {\n    var html = [];\n    if (address.name) html.push(['<div class=\"', cssClasses.road, '\">{name}</div>'].join(''));\n    if (address.road || address.building || address.house_number) {\n      html.push(['<div class=\"', cssClasses.road, '\">{building} {road} {house_number}</div>'].join(''));\n    }\n    if (address.city || address.town || address.village) {\n      html.push(['<div class=\"', cssClasses.city, '\">{postcode} {city} {town} {village}</div>'].join(''));\n    }\n    if (address.state || address.country) {\n      html.push(['<div class=\"', cssClasses.country, '\">{state} {country}</div>'].join(''));\n    }\n    return utils.template(html.join('<br>'), address);\n  };\n  this.expand = function () {\n    var _this13 = this;\n\n    utils.removeClass(this.input, cssClasses.spin);\n    utils.addClass(this.control, cssClasses.glass.expanded);\n    setTimeout(function () {\n      return _this13.input.focus();\n    }, 100);\n  };\n  this.collapse = function () {\n    this.input.value = '';\n    this.input.blur();\n    utils.addClass(this.reset, cssClasses.hidden);\n    this.clearResults();\n  };\n\n  this.clearResults = function () {\n    utils.removeAllChildren(this.result);\n    this.hideMarker();\n  };\n  this.getSource = function () {\n    return this.layer.getSource();\n  };\n  this.addLayer = function () {\n    var _this14 = this;\n\n    var map = this.getMap();\n    var layer = map.getLayers().find(function (layer) {\n      return layer === _this14.layer;\n    });\n    !layer && map.addLayer(this.layer);\n  };\n  /**\n   * End methods\n   */\n\n  this.createControl();\n\n  Control.call(this, {\n    element: this.container,\n    name: \"nominatim\",\n    offline: false\n  });\n}\n\nol.inherits(GeocodingControl, Control);\n\nmodule.exports = GeocodingControl;\n\n},{\"./control\":79,\"core/utils/utils\":68,\"g3w-ol/projection/projections\":110,\"services/gui\":356,\"store/application-state\":368}],81:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nfunction GeolocationControl() {\n  var options = {\n    visible: false, // set initial to false. Is set visible if is autorized\n    offline: false,\n    name: \"geolocation\",\n    tipLabel: \"sdk.mapcontrols.geolocation.tooltip\",\n    label: \"\\uE904\"\n  };\n  this._layer = new ol.layer.Vector({\n    source: new ol.source.Vector(),\n    style: new ol.style.Style({\n      text: new ol.style.Text({\n        text: \"\\uF3C5\",\n        font: '900 3em \"Font Awesome 5 Free\"',\n        fill: new ol.style.Fill({\n          color: 'red'\n        })\n      })\n    })\n  });\n  InteractionControl.call(this, options);\n}\n\nol.inherits(GeolocationControl, InteractionControl);\n\nvar proto = GeolocationControl.prototype;\n\n/**\n * Method to add market position layer and feature point always on top of map\n * @param map\n * @param coordinates\n * @param show\n * @private\n */\nproto._showMarker = function (_ref) {\n  var map = _ref.map,\n      coordinates = _ref.coordinates,\n      _ref$show = _ref.show,\n      show = _ref$show === undefined ? true : _ref$show;\n\n  //in case of control is initialized\n  if (this._layer) {\n    this._layer.getSource().clear();\n    if (show) {\n      map.getView().setCenter(coordinates);\n      var feature = new ol.Feature({\n        geometry: new ol.geom.Point(coordinates)\n      });\n      this._layer.getSource().addFeature(feature);\n      map.addLayer(this._layer);\n    } else map.removeLayer(this._layer);\n  }\n};\n\nproto.getMap = function () {\n  return InteractionControl.prototype.getMap.call(this);\n};\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  var toggledKeyEvent = void 0; // key toggled event handler\n  InteractionControl.prototype.setMap.call(this, map);\n\n  var geolocation = new ol.Geolocation({\n    projection: map.getView().getProjection(),\n    tracking: true, // set tracking\n    trackingOptions: {\n      enableHighAccuracy: true\n    }\n  });\n\n  geolocation.on('change:position', function () {\n    var coordinates = geolocation.getPosition();\n    if (coordinates) {\n      if (!_this.isVisible()) {\n        _this.setVisible(true);\n        $(_this.element).removeClass('g3w-ol-disabled');\n        geolocation.dispatchEvent('authorized');\n      }\n      _this._showMarker({\n        map: map,\n        coordinates: coordinates,\n        show: _this.isToggled()\n      });\n    } else _this.hideControl(); // remove control from map control flow\n  });\n\n  geolocation.once('error', function (evt) {\n    _this.hideControl();\n    _this._layer = null;\n    evt.code !== 1 && _this.dispatchEvent('error');\n    ol.Observable.unByKey(toggledKeyEvent);\n    toggledKeyEvent = null;\n  });\n\n  //only when authorized register toogled event\n  geolocation.once('authorized', function () {\n    toggledKeyEvent = _this.on('toggled', function () {\n      var coordinates = geolocation.getPosition();\n      _this._showMarker({\n        map: map,\n        coordinates: coordinates,\n        show: _this.isToggled()\n      });\n    });\n  });\n};\n\nmodule.exports = GeolocationControl;\n\n},{\"g3w-ol/controls/interactioncontrol\":83}],82:[function(require,module,exports){\nvar ScreenshotControl = require('g3w-ol/controls/screenshotcontrol');\n\nfunction GeoScreenshotControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.name = \"maptoimagegeo\";\n  options.tipLabel = \"Geo Screenshot\";\n  options.label = \"\\uE900\";\n  ScreenshotControl.call(this, options);\n}\n\nol.inherits(GeoScreenshotControl, ScreenshotControl);\n\nmodule.exports = GeoScreenshotControl;\n\n},{\"g3w-ol/controls/screenshotcontrol\":95}],83:[function(require,module,exports){\nvar _constants = require('g3w-ol/constants');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mapControls = require('store/map-controls');\n\nvar _mapControls2 = _interopRequireDefault(_mapControls);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar Control = require('g3w-ol/controls/control');\n\nvar InteractionControl = function InteractionControl() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$enabled = options.enabled,\n      enabled = _options$enabled === undefined ? true : _options$enabled,\n      _options$toggled = options.toggled,\n      toggled = _options$toggled === undefined ? false : _options$toggled,\n      _options$clickmap = options.clickmap,\n      clickmap = _options$clickmap === undefined ? false : _options$clickmap,\n      _options$interactionC = options.interactionClass,\n      interactionClass = _options$interactionC === undefined ? null : _options$interactionC,\n      _options$autountoggle = options.autountoggle,\n      autountoggle = _options$autountoggle === undefined ? false : _options$autountoggle,\n      _options$geometryType = options.geometryTypes,\n      geometryTypes = _options$geometryType === undefined ? [] : _options$geometryType,\n      _options$onhover = options.onhover,\n      onhover = _options$onhover === undefined ? false : _options$onhover,\n      _options$help = options.help,\n      help = _options$help === undefined ? null : _options$help,\n      toggledTool = options.toggledTool,\n      _options$interactionC2 = options.interactionClassOptions,\n      interactionClassOptions = _options$interactionC2 === undefined ? {} : _options$interactionC2,\n      _options$layers = options.layers,\n      layers = _options$layers === undefined ? [] : _options$layers,\n      spatialMethod = options.spatialMethod;\n\n  /**\n   * @since 3.8.0\n   */\n\n  this.layers = layers; // project layers dependecies\n  /**\n   * @since 3.8.0\n   */\n  this.unwatches = [];\n\n  this.listenLayersVisibilityChange();\n\n  this._visible = visible;\n  this._toggled = false;\n  this.clickmap = clickmap; // check if interact with map\n  this._interactionClass = interactionClass;\n  this._interaction = null;\n  this._autountoggle = autountoggle;\n  this._geometryTypes = geometryTypes; // array of types geometries\n  this._onhover = onhover;\n  this._help = help;\n  this._helpButton; // used to show help info button\n  this._toolButton; // used to show toolbutton\n  //spatial method (intersect, within)\n  this.spatialMethod = spatialMethod;\n  this.toggledTool;\n  this._interactionClassOptions = interactionClassOptions;\n\n  options.buttonClickHandler = InteractionControl.prototype._handleClick.bind(this);\n\n  Control.call(this, options);\n\n  if (true === toggled) {\n    // in case of toggled true\n    this.on('setMap', function () {\n      return _this.toggle(toggled);\n    });\n  }\n\n  // create an help message\n  if (this._help) {\n    this._createModalHelp();\n  }\n\n  // create tool\n  if (toggledTool) {\n    this.createControlTool(toggledTool);\n  }\n\n  // set enabled\n  this.setEnable(enabled);\n\n  // check if spatial method is set\n  if (this.spatialMethod) {\n    this.handleChangeSpatialMethod(this.spatialMethod);\n  }\n};\n\nol.inherits(InteractionControl, Control);\n\nvar proto = InteractionControl.prototype;\n\n/**\n * @param { unknown | null } layer\n *\n * @since 3.8.0\n */\nproto.setSelectedLayer = function (layer) {\n  _mapControls2.default.setSelectedLayer(layer);\n};\n\n/**\n *\n * @since 3.8.0\n */\nproto.getSelectedLayer = function () {\n  return _mapControls2.default.getSelectedLayer();\n};\n\n/**\n * @since 3.8.0\n */\nproto.getExternalLayers = function () {\n  return _mapControls2.default.getExternalLayers();\n};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.onSelectLayer = function () {};\n\n/**\n * method override by subclasses\n *\n * @since 3.8.0\n */\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n  var visible = this.checkVisibile(layers);\n  this.setVisible(visible);\n  this.setEnable(false);\n  this.listenLayersVisibilityChange();\n};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.runSpatialQuery = function () {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.clear = function () {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.onAddExternalLayer = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref.layer,\n      unWatches = _ref.unWatches;\n};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function (layer) {};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since 3.8.0\n */\nproto.handleSelectedLayer = function (event) {};\n\n/**\n * @virtual method need to be implemented by subclasses\n * @param event <Object> {type: <String>, data:<Object>}\n * @since 3.8.0\n */\nproto.handleExternalSelectedLayer = function (layer) {};\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @param layers\n * @returns {boolean}\n *\n * @since 3.8.0\n */\nproto.checkVisibile = function (layers) {\n  return true;\n};\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @param layers\n * @returns {boolean}\n *\n * @since 3.8.0\n */\nproto.checkVisibile = function (layers) {\n  return true;\n};\n\n/**\n * @virtual method need to be implemented by subclasses\n *\n * @since v3.8.0\n */\nproto.listenLayersVisibilityChange = function () {};\n\nproto.isClickMap = function () {\n  return this.clickmap;\n};\n\n/**\n * Enable map control dom\n */\nproto.enable = function () {\n  $(this.element).removeClass('g3w-disabled');\n};\n\nproto.disable = function () {\n  $(this.element).addClass('g3w-disabled');\n};\n\nproto.createControlTool = function () {\n  var _this2 = this;\n\n  var toggledTool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  /**\n   * how can be {\n   *  'toggled'(default) => show tools when control is toggled\n   *  'hover' =>  (show button tool as info help)\n   * }\n   */\n  var type = toggledTool.type,\n      component = toggledTool.component,\n      _toggledTool$how = toggledTool.how,\n      how = _toggledTool$how === undefined ? \"toggled\" : _toggledTool$how;\n\n  switch (type) {\n    case 'spatialMethod':\n      var method = this.getSpatialMethod();\n      this.toggledTool = {\n        data: function data() {\n          this.methods = _constants.SPATIALMETHODS;\n          return {\n            method: method\n          };\n        },\n\n        template: '\\n          <div style=\"width: 100%; padding: 5px;\">\\n            <select ref=\"select\" style=\"width: 100%\"  :search=\"false\" v-select2=\"\\'method\\'\">\\n              <option v-for=\"method in methods\">{{method}}</option>\\n            </select>\\n          </div>',\n        watch: {\n          'method': function method(_method) {\n            return _this2.setSpatialMethod(_method);\n          }\n        },\n        created: function created() {\n          _gui2.default.setCloseUserMessageBeforeSetContent(false);\n        },\n        beforeDestroy: function beforeDestroy() {\n          _gui2.default.setCloseUserMessageBeforeSetContent(true);\n        }\n      };\n      break;\n    case 'custom':\n      this.toggledTool = component;\n      break;\n    // if we want to create a button (as info on hover)\n  }\n  switch (how) {\n    case 'hover':\n      this._createToolOnHoverButton();\n      break;\n  }\n};\n\nproto._createToolOnHoverButton = function () {\n  var _this3 = this;\n\n  if (this._onhover) {\n    this._toolButton = $('<span style=\"display:none\" class=\"tool_mapcontrol_button\"><i class=\"' + _gui2.default.getFontClass('tool') + '\"></i></span>');\n    $(this.element).prepend(this._toolButton);\n    this._toolButton.on('click', function (event) {\n      event.stopPropagation();\n      _this3.showToggledTool(true);\n    });\n    $(this.element).hover(function () {\n      return _this3._toggled && _this3._toolButton.show();\n    });\n    $(this.element).mouseleave(function () {\n      return _this3._toolButton.hide();\n    });\n  }\n};\n\nproto.showToggledTool = function () {\n  var show = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  if (show) {\n    _gui2.default.showUserMessage({\n      title: '',\n      type: 'tool',\n      size: 'small',\n      closable: this._toolButton ? true : false,\n      hooks: {\n        body: this.toggledTool\n      }\n    });\n  } else _gui2.default.closeUserMessage();\n};\n\n//show help message\nproto._showModalHelp = function () {\n  _gui2.default.showModalDialog({\n    title: t(this._help.title),\n    message: t(this._help.message)\n  });\n};\n\n// create modal help\nproto._createModalHelp = function () {\n  var _this4 = this;\n\n  if (this._onhover) {\n    this._helpButton = $('<span style=\"display:none\" class=\"info_mapcontrol_button\">i</span>');\n    $(this.element).prepend(this._helpButton);\n    this._helpButton.on('click', function (event) {\n      event.stopPropagation();\n      _this4._showModalHelp();\n    });\n    $(this.element).hover(function () {\n      return _this4._helpButton.show();\n    });\n    $(this.element).mouseleave(function () {\n      return _this4._helpButton.hide();\n    });\n  }\n};\n\nproto.getGeometryTypes = function () {\n  return this._geometryTypes;\n};\n\nproto.isToggled = function () {\n  return this._toggled;\n};\n\n/**\n *\n * Get dom bottom\n * @returns {JQuery<HTMLElement> | jQuery | HTMLElement}\n */\nproto.getControlBottom = function () {\n  return $(this.element).find('button').first();\n};\n\nproto.addClassToControlBottom = function () {\n  var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  var controlButton = this.getControlBottom();\n  controlButton.addClass(className);\n};\n\nproto.removeClassToControlBottom = function () {\n  var className = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  var controlButton = this.getControlBottom();\n  controlButton.removeClass(className);\n};\n\n/**\n * Set button status (pressed / not pressed)\n * \n * @param {boolean} [toggled]\n * \n * @fires toggled event\n */\nproto.toggle = function () {\n  var toggled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !this._toggled;\n\n\n  // skip if button is already toggled or un-toggled\n  if (this._toggled === toggled) {\n    return;\n  }\n\n  this._toggled = toggled;\n\n  // TODO: simplify this by removing all that short circuiting logic\n  if (toggled) {\n    this._interaction && this._interaction.setActive(true);\n    this.addClassToControlBottom('g3w-ol-toggled');\n    this._toolButton && this._toolButton.show();\n  } else {\n    this._help && this._helpButton.hide();\n    this._interaction && this._interaction.setActive(false);\n    this.removeClassToControlBottom('g3w-ol-toggled');\n    this._toolButton && this._toolButton.hide();\n    this.toggledTool && this.showToggledTool(false);\n  }\n\n  if (undefined === this._toolButton && this.toggledTool) {\n    this.showToggledTool(this._toggled);\n  }\n\n  this.dispatchEvent({ type: 'toggled', toggled: toggled });\n};\n\nproto.getGeometryTypes = function () {\n  return this._geometryTypes;\n};\n\nproto.setGeometryTypes = function (types) {\n  this._geometryTypes = types;\n};\n\n/**\n * @param {ol.Map} map \n */\nproto.setMap = function (map) {\n\n  Control.prototype.setMap.call(this, map);\n\n  if (!this._interaction && this._interactionClass) {\n    this._interaction = new this._interactionClass(this._interactionClassOptions);\n    map.addInteraction(this._interaction);\n    this._interaction.setActive(false);\n  }\n\n  /**\n   * @since 3.8.0\n   */\n  this.dispatchEvent({\n    type: 'setMap',\n    map: map\n  });\n};\n\nproto._handleClick = function (evt) {\n  if (this._enabled) {\n    this.toggle();\n    Control.prototype._handleClick.call(this, evt);\n  }\n};\n\nproto.getInteraction = function () {\n  return this._interaction;\n};\n\n/**\n * Method to set filter operation intersect or Contains\n */\nproto.setSpatialMethod = function () {\n  var method = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'intersects';\n\n  this.spatialMethod = method;\n  this.dispatchEvent({\n    type: 'change-spatial-method',\n    spatialMethod: this.spatialMethod\n  });\n};\n\nproto.getSpatialMethod = function () {\n  return this.spatialMethod;\n};\n\nproto.setLayers = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n};\n\n/**\n * @param { 'intersects' | 'within' } spatialMethod\n * \n * @listens change-spatial-method\n * \n * @since 3.8.0\n */\nproto.handleChangeSpatialMethod = function (spatialMethod) {\n  var _this5 = this;\n\n  var eventKey = null;\n\n  var unlistenSpatialMethodChange = function unlistenSpatialMethodChange() {\n    ol.Observable.unByKey(eventKey);\n    eventKey = null;\n  };\n\n  this.on('toggled', function (_ref2) {\n    var toggled = _ref2.toggled;\n\n    if (true === toggled) {\n      eventKey = _this5.on('change-spatial-method', _this5.runSpatialQuery);\n    } else if (null !== eventKey) {\n      unlistenSpatialMethodChange();\n      // reset to default\n      _this5.setSpatialMethod(spatialMethod);\n      _this5.clear();\n    }\n  });\n};\n\n/**\n * @since 3.8.0\n */\nproto.watchLayer = function (expOrFn, callback) {\n  return _constants.VM.$watch(expOrFn, callback);\n};\n\n/**\n * @returns {boolean}\n *\n * @since 3.8.0\n */\nproto.isSelectedLayerVisible = function () {\n  return 'function' === typeof this.getSelectedLayer().isVisible ? this.getSelectedLayer().isVisible() // in case of a project project\n  : this.getSelectedLayer().visible // in case of external layer\n  ;\n};\n\n/**\n * @returns {boolean} whether at least one of stored `this.layers` is visible\n *\n * @since 3.8.0\n */\nproto._hasVisibleLayer = function () {\n  return !!(this.layers.length > 0 && this.layers.find(function (layer) {\n    return layer.isVisible();\n  }));\n};\n\n/**\n * @returns {boolean} whether at least one of stored `this.getExternalLayers()` is visible\n *\n * @since 3.8.0\n */\nproto._hasVisibleExternalLayer = function () {\n  var _this6 = this;\n\n  return !!this.getExternalLayers().find(function (layer) {\n    return layer !== _this6.layer && true === layer.visible;\n  });\n};\n\n/**\n * @returns {boolean} whether selectedLayer is not external\n * @since 3.8.0\n */\nproto.addExternalLayerToResult = function () {\n  var _this7 = this;\n\n  return null === this.getSelectedLayer() || \"undefined\" !== typeof this.getExternalLayers().find(function (layer) {\n    return layer === _this7.getSelectedLayer();\n  });\n};\n\n/**\n * @returns {boolean|boolean}\n * @since 3.8.0\n *\n */\nproto.isExternalLayerSelected = function () {\n  var _this8 = this;\n\n  return null !== this.getSelectedLayer() && \"undefined\" !== typeof this.getExternalLayers().find(function (layer) {\n    return layer === _this8.getSelectedLayer();\n  });\n};\n\nmodule.exports = InteractionControl;\n\n},{\"core/i18n/i18n.service\":14,\"g3w-ol/constants\":75,\"g3w-ol/controls/control\":79,\"services/gui\":356,\"store/map-controls\":371}],84:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar LenghtIteraction = require('g3w-ol/interactions/lengthinteraction');\nvar MeasureControl = require('g3w-ol/controls/measurecontrol');\n\nvar LengthControl = function LengthControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    tipLabel: \"sdk.mapcontrols.measures.length.tooltip\",\n    label: '\\uE908',\n    clickmap: true, // set ClickMap\n    interactionClass: LenghtIteraction\n  };\n\n  options = utils.merge(options, _options);\n  MeasureControl.call(this, options);\n};\n\nol.inherits(LengthControl, MeasureControl);\n\nmodule.exports = LengthControl;\n\n},{\"core/utils/ol\":66,\"g3w-ol/controls/measurecontrol\":85,\"g3w-ol/interactions/lengthinteraction\":102}],85:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar MeasureControl = function MeasureControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._map = null;\n  InteractionControl.call(this, options);\n};\n\nol.inherits(MeasureControl, InteractionControl);\n\nvar proto = MeasureControl.prototype;\n\n/**\n * @param {ol.Map} map \n */\nproto.setMap = function (map) {\n  InteractionControl.prototype.setMap.call(this, map);\n};\n\n/**\n * @param {boolean} toggle \n */\nproto.toggle = function (toggle) {\n\n  InteractionControl.prototype.toggle.call(this, toggle);\n\n  // clean up measurements (if it was activated)\n  if (!this.isToggled() && this.getInteraction()) {\n    this.getInteraction().clear();\n  }\n};\n\nmodule.exports = MeasureControl;\n\n},{\"g3w-ol/controls/interactioncontrol\":83}],86:[function(require,module,exports){\nvar MousePositionControl = function MousePositionControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.target = options.target || 'mouse-position-control';\n  ol.control.MousePosition.call(this, options);\n};\n\nol.inherits(MousePositionControl, ol.control.MousePosition);\n\nmodule.exports = MousePositionControl;\n\nvar proto = MousePositionControl.prototype;\n\nproto.offline = true;\n\nproto.setEnable = function (bool) {\n  bool ? $(this.element) : $(this.element);\n};\n\nproto.setMap = function (map) {\n  if (map) {\n    $(this.element).removeClass('ol-control');\n    ol.control.MousePosition.prototype.setMap.call(this, map);\n  }\n};\n\n},{}],87:[function(require,module,exports){\nvar OLControl = function OLControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._control = null;\n  this.positionCode = options.position || 'tl';\n  switch (options.type) {\n    case 'zoom':\n      this._control = new ol.control.Zoom(options);\n      break;\n    case 'zoomtoextent':\n      this._control = new ol.control.ZoomToExtent(options);\n      break;\n    case 'scaleline':\n      this._control = new ol.control.ScaleLine(options);\n      break;\n    case 'overview':\n      this._control = new ol.control.OverviewMap(options);\n      break;\n  }\n\n  $(this._control.element).addClass(\"ol-control-\" + this.positionCode);\n\n  ol.control.Control.call(this, {\n    element: this._control.element\n  });\n};\n\n// subclass of OpenLayer Control\nol.inherits(OLControl, ol.control.Control);\n\nmodule.exports = OLControl;\n\nvar proto = OLControl.prototype;\n\nproto.offline = true;\n\n/**\n * Return Ol Control\n * @returns {*}\n */\nproto.getOlControl = function () {\n  return this._control;\n};\n\nproto.getPosition = function (positionCode) {\n  positionCode = positionCode || this.positionCode;\n  var position = {};\n  position['top'] = positionCode.indexOf('t') > -1 ? true : false;\n  position['left'] = positionCode.indexOf('l') > -1 ? true : false;\n  return position;\n};\n\nproto.layout = function (map) {\n  if (map) {\n    var position = this.getPosition();\n    var viewPort = map.getViewport();\n    var previusControls = $(viewPort).find('.ol-control-' + this.positionCode);\n    if (previusControls.length) {\n      previusControl = previusControls.last();\n      var previousOffset = position.left ? previusControl.position().left : previusControl.position().right;\n      var hWhere = position.left ? 'left' : 'right';\n      var previousWidth = previusControl[0].offsetWidth;\n      var hOffset = $(this.element).position()[hWhere] + previousOffset + previousWidth + 2;\n      $(this.element).css(hWhere, hOffset + 'px');\n    }\n  }\n};\n\nproto.changelayout = function () {};\n\nproto.showHide = function () {\n  $(this.element).toggle();\n};\n\nproto.setMap = function (map) {\n  this.layout(map);\n  this._control.setMap(map);\n};\n\n},{}],88:[function(require,module,exports){\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Control = require('g3w-ol/controls/control');\n\nfunction OnClickControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._originalonlick = null;\n  this._onclick = options.onclick;\n  Control.call(this, options);\n}\n\nol.inherits(OnClickControl, Control);\n\nvar proto = OnClickControl.prototype;\n\nproto.overwriteOnClickEvent = function (clickHandler) {\n  this._originalonlick = this._originalonlick || this._onclick;\n  this._onclick = clickHandler;\n};\n\nproto.resetOriginalOnClickEvent = function () {\n  this._onclick = this._originalonlick || this._onclick;\n  this._originalonlick = null;\n};\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  Control.prototype.setMap.call(this, map);\n  var controlElement = $(this.element);\n  var buttonControl = controlElement.children('button');\n  var cliccked = false;\n  controlElement.on('click', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (cliccked) {\n              _context.next = 9;\n              break;\n            }\n\n            cliccked = true;\n            buttonControl.addClass('g3w-ol-disabled');\n            _context.t0 = _this._onclick;\n\n            if (!_context.t0) {\n              _context.next = 7;\n              break;\n            }\n\n            _context.next = 7;\n            return _this._onclick();\n\n          case 7:\n            buttonControl.removeClass('g3w-ol-disabled');\n            cliccked = false;\n\n          case 9:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  })));\n};\n\nmodule.exports = OnClickControl;\n\n},{\"g3w-ol/controls/control\":79}],89:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constants = require('g3w-ol/constants');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\n// Object contain properties of TOC layers that need to satisfy\nvar layersFilterObject = {\n  SELECTED_OR_ALL: true, // selected or all\n  FILTERABLE: true, // check src/app/core/layers/layer.js#L925\n  VISIBLE: true // need to be visible\n};\n\nvar condition = {\n  filtrable: {\n    ows: 'WFS'\n  }\n};\n\nvar QueryBBoxControl = function QueryBBoxControl() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$spatialMetho = options.spatialMethod,\n      spatialMethod = _options$spatialMetho === undefined ? _constants.SPATIALMETHODS[0] : _options$spatialMetho;\n\n  /**\n   * @FIXME add description\n   */\n\n  this._startCoordinate = null;\n\n  /**\n   * @FIXME add description\n   */\n  this.unwatches = [];\n\n  /**\n   * @FIXME add description\n   */\n  var layers = _gui2.default.getService('map').filterableLayersAvailable(condition) || [];\n  layers.forEach(function (layer) {\n    return layer.setTocHighlightable(true);\n  });\n\n  var _options = _extends({}, options, {\n    layers: layers,\n    offline: false,\n    name: \"querybbox\",\n    tipLabel: \"sdk.mapcontrols.querybybbox.tooltip\",\n    label: options.label || '\\uE902',\n    clickmap: true, // set ClickMap\n    interactionClass: ol.interaction.DragBox,\n    onhover: true,\n    toggledTool: {\n      type: 'spatialMethod',\n      how: 'toggled' // or hover\n    },\n    spatialMethod: spatialMethod,\n    help: {\n      title: \"sdk.mapcontrols.querybybbox.help.title\",\n      message: \"sdk.mapcontrols.querybybbox.help.message\"\n    }\n  });\n\n  InteractionControl.call(this, _options);\n  this.setVisible(this.checkVisible(this.layers));\n  this.setEnable(this.checkEnabled(this.layers));\n\n  /**\n   * Store bbox coordinates\n   * \n   * @type {ol.coordinate}\n   */\n  this.bbox = null;\n\n  /**\n   * @since 3.8.0\n   * Set tochighlightable to external layer to show highlight class\n   */\n  this.on('toggled', function (_ref) {\n    var toggled = _ref.toggled;\n\n    _this.getExternalLayers().forEach(function (layer) {\n      return layer.tochighlightable = toggled;\n    });\n  });\n};\n\nol.inherits(QueryBBoxControl, InteractionControl);\n\nvar proto = QueryBBoxControl.prototype;\n\n/**\n * @since 3.8.0\n */\nproto.onSelectLayer = function (layer) {\n  if (layer) {\n    var findLayer = this.layers.find(function (_layer) {\n      return _layer === layer;\n    });\n    this.setEnable(!!findLayer && findLayer.isVisible());\n  } else {\n    this.setEnable(this.checkEnabled(this.layers));\n  }\n  this.toggle(this.isToggled() && this.getEnable());\n};\n\n/**\n * @since 3.8.0\n */\nproto.listenLayersVisibilityChange = function () {\n  var _this2 = this;\n\n  this.unwatches.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatches.splice(0);\n  this.layers.forEach(function (layer) {\n    _this2.unwatches.push(_this2.watchLayer(function () {\n      return layer.state.visible;\n    }, function (visible) {\n      if (true === layer.state.selected) {\n        _this2.setEnable(visible);\n      } else {\n        _this2.setEnable(_this2.checkEnabled(_this2.layers));\n      }\n      _this2.toggle(_this2.isToggled() && _this2.getEnable());\n    }));\n  });\n};\n\n/**\n * @deprecated since 3.7\n * @param layers\n */\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n  this.setVisible(this.checkVisible());\n  this.setEnable(this.checkEnabled());\n  this.listenLayersVisibilityChange();\n};\n\nproto.checkVisible = function () {\n  return this.layers.length > 0 || this.getExternalLayers().length > 0;\n};\n\nproto.checkEnabled = function () {\n  return !!(this._hasVisibleLayer() || this._hasVisibleExternalLayer());\n};\n\n/**\n * @param {ol.Map} map\n * \n * @listens ol.interaction.DragBox~boxstart\n * @listens ol.interaction.DragBox~boxend\n */\nproto.setMap = function (map) {\n  var _this3 = this;\n\n  InteractionControl.prototype.setMap.call(this, map);\n\n  this._interaction.on('boxstart', function (evt) {\n    return _this3._startCoordinate = evt.coordinate;\n  });\n\n  this._interaction.on('boxend', throttle(function (evt) {\n\n    _this3.bbox = ol.extent.boundingExtent([_this3._startCoordinate, evt.coordinate]);\n\n    _this3.dispatchEvent({ type: 'bboxend', extent: _this3.bbox });\n\n    _this3._startCoordinate = null;\n\n    if (_this3._autountoggle) {\n      _this3.toggle();\n    }\n  }));\n\n  var eventKey = this.on('bboxend', this.runSpatialQuery);\n\n  this.setEventKey({ eventType: 'bboxend', eventKey: eventKey });\n};\n\n/**\n * @returns {Promise<void>}\n * \n * @since 3.8.0\n */\nproto.runSpatialQuery = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref3, _ref3$data, data;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          if (!(null === this.bbox)) {\n            _context.next = 2;\n            break;\n          }\n\n          return _context.abrupt('return');\n\n        case 2:\n          _gui2.default.closeOpenSideBarComponent();\n          _context.prev = 3;\n          _context.next = 6;\n          return _data2.default.getData('query:bbox', {\n            inputs: {\n              bbox: this.bbox,\n              feature_count: _projects2.default.getCurrentProject().getQueryFeatureCount(),\n              addExternal: this.addExternalLayerToResult(),\n              layersFilterObject: layersFilterObject,\n              filterConfig: {\n                spatialMethod: this.getSpatialMethod() // added spatial method to polygon filter\n              },\n              condition: condition,\n              multilayers: _projects2.default.getCurrentProject().isQueryMultiLayers(this.name)\n            }\n          });\n\n        case 6:\n          _ref3 = _context.sent;\n          _ref3$data = _ref3.data;\n          data = _ref3$data === undefined ? [] : _ref3$data;\n\n          if (data.length) {\n            this.getMap().getView().setCenter(ol.extent.getCenter(this.bbox));\n          }\n          _context.next = 15;\n          break;\n\n        case 12:\n          _context.prev = 12;\n          _context.t0 = _context['catch'](3);\n\n          console.warn('Error running spatial query: ', _context.t0);\n\n        case 15:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[3, 12]]);\n}));\n\n/**\n * @param layer\n * @param unWatches\n * \n * @since 3.8.0\n */\nproto.onAddExternalLayer = function (_ref4) {\n  var _this4 = this;\n\n  var layer = _ref4.layer,\n      unWatches = _ref4.unWatches;\n\n  //set layer property\n  layer.tochighlightable = this.isToggled() && this.getEnable();\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.selected;\n  }, // watch `layer.selected` property\n  function (selected) {\n    _this4.setEnable(true === selected ? layer.visible : _this4.checkEnabled());\n    _this4.toggle(_this4.isToggled() && _this4.getEnable());\n  }));\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.visible;\n  }, // watch `layer.visible` property\n  function () {\n    _this4.setEnable(_this4.checkEnabled());\n    _this4.toggle(_this4.isToggled() && _this4.getEnable());\n  }));\n\n  this.setEnable(this.checkEnabled());\n};\n\n/**\n * @param layer\n * \n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function () {\n  this.setEnable(this.isThereVisibleLayerNotSelected());\n};\n\n/**\n * @since 3.8.0\n */\nproto.clear = function () {\n  this.bbox = null;\n};\n\nmodule.exports = QueryBBoxControl;\n\n},{\"core/utils/utils\":68,\"g3w-ol/constants\":75,\"g3w-ol/controls/interactioncontrol\":83,\"services/data\":353,\"services/gui\":356,\"store/projects\":374}],90:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file\n                                                                                                                                                                                                                                                                   * @since v3.8\n                                                                                                                                                                                                                                                                   */\n\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar BaseQueryPolygonControl = require('g3w-ol/controls/basequerypolygoncontrol');\n\nvar QueryByDrawPolygonControl = function QueryByDrawPolygonControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var layers = _gui2.default.getService('map').filterableLayersAvailable({ iltrable: { ows: 'WFS' } }) || [];\n  layers.forEach(function (layer) {\n    return layer.setTocHighlightable(true);\n  });\n\n  var _options = _extends({}, options, {\n    name: \"querybydrawpolygon\",\n    tipLabel: \"sdk.mapcontrols.querybydrawpolygon.tooltip\",\n    customClass: _gui2.default.getFontClass('draw'),\n    clickmap: true, // set ClickMap\n    interactionClass: ol.interaction.Draw,\n    interactionClassOptions: {\n      type: 'Polygon'\n    },\n    enabled: true,\n    layers: layers,\n    help: {\n      title: \"sdk.mapcontrols.querybybbox.help.title\",\n      message: \"sdk.mapcontrols.querybybbox.help.message\"\n    }\n  });\n\n  BaseQueryPolygonControl.call(this, _options);\n\n  this.setEnable(this.isThereVisibleLayers());\n\n  // feature used to store feature drawend\n  this.feature = null;\n};\n\nol.inherits(QueryByDrawPolygonControl, BaseQueryPolygonControl);\n\nvar proto = QueryByDrawPolygonControl.prototype;\n\n/**\n * @since 3.8.0\n */\nproto.onSelectLayer = function (layer) {\n  if (layer) {\n    this.setEnable(layer.isFilterable());\n  } else {\n    this.setEnable(this.isThereVisibleLayers());\n  }\n  this.toggle(this.isToggled() && this.getEnable());\n};\n\n/**\n * @param {ol.Map} map\n */\nproto.setMap = function (map) {\n  var _this = this;\n\n  BaseQueryPolygonControl.prototype.setMap.call(this, map);\n\n  this._interaction.on('drawend', throttle(function (evt) {\n    _this.feature = evt.feature;\n    _this.dispatchEvent({ type: 'drawend', feature: _this.feature });\n    if (_this._autountoggle) {\n      _this.toggle();\n    }\n  }));\n\n  var eventKey = this.on('drawend', this.runSpatialQuery);\n\n  this.setEventKey({\n    eventType: 'drawend',\n    eventKey: eventKey\n  });\n};\n\n/**\n * Check visibiliy of control\n * @param layers\n * @returns {boolean}\n */\nproto.checkVisibile = function (layers) {\n  var visible = void 0;\n  // if no layer\n  if (!layers.length) visible = false;else {\n    // get all layers filterable\n    var filterableLayers = layers.filter(function (layer) {\n      return layer.isFilterable();\n    });\n    visible = filterableLayers.length > 0;\n  }\n  return visible;\n};\n\n/**\n * @param { unknown | null } layer\n *\n * @since 3.8.0\n */\nproto.listenLayersVisibilityChange = function () {\n  var _this2 = this;\n\n  this.unwatches.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatches.splice(0);\n  this.layers.forEach(function (layer) {\n    _this2.unwatches.push(_this2.watchLayer(function () {\n      return layer.state.visible;\n    }, function (visible) {\n      // check if a selectedLayer i set\n      if (null === _this2.getSelectedLayer()) {\n        _this2.setEnable(_this2.isThereVisibleLayers());\n      } else {\n        // enable control only if current changed visible layer is true or\n        // if at least one layer (not selected) is visible\n        _this2.setEnable(_this2.isSelectedLayerVisible());\n      }\n      _this2.toggle(_this2.isToggled() && _this2.getEnable());\n    }));\n  });\n};\n\n/**\n * @param layer\n * @param unWatches\n * \n * @since 3.8.0\n */\nproto.onAddExternalLayer = function (_ref) {\n  var _this3 = this;\n\n  var layer = _ref.layer,\n      unWatches = _ref.unWatches;\n\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.selected;\n  }, // watch `layer.selected` property\n  function (selected) {\n    _this3.setEnable(true === selected ? layer.visible : _this3.isThereVisibleLayers());\n    _this3.toggle(_this3.isToggled() && _this3.getEnable());\n  }));\n\n  unWatches.push(this.watchLayer(function () {\n    return layer.visible;\n  }, // watch `layer.visible` property\n  function (visible) {\n    _this3.setEnable(true === layer.selected ? visible : _this3.isThereVisibleLayers());\n    _this3.toggle(_this3.isToggled() && _this3.getEnable());\n  }));\n\n  this.setEnable(this.isThereVisibleLayers());\n};\n\n/**\n * @since 3.8.0\n */\nproto.onRemoveExternalLayer = function () {\n  this.setEnable(this.isThereVisibleLayers());\n};\n\n/**\n * @since 3.8.0\n */\nproto.isThereVisibleLayers = function () {\n  return !!(\n  // check if user has selected a layer\n  this.getSelectedLayer() &&\n  // check if current selected layer is visible\n  this.isSelectedLayerVisible() ||\n  // check if at least one layer is visible (project or external layer)\n  this.layers.find(function (layer) {\n    return layer && layer.isVisible();\n  }) || this.getExternalLayers().find(function (layer) {\n    return true === layer.visible;\n  }));\n};\n\n/**\n * @returns {Promise<void>}\n * \n * @since 3.8.0\n */\nproto.runSpatialQuery = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref3, _ref3$data, data;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _gui2.default.closeOpenSideBarComponent();\n\n          _context.prev = 1;\n          _context.next = 4;\n          return _data2.default.getData('query:polygon', {\n            inputs: {\n              layerName: 'Draw',\n              feature: this.feature,\n              excludeSelected: null === this.getSelectedLayer(),\n              external: {\n                add: this.addExternalLayerToResult(),\n                filter: {\n                  SELECTED: this.isExternalLayerSelected()\n                }\n              },\n              filterConfig: {\n                spatialMethod: this.getSpatialMethod() // added spatial method to polygon filter\n              },\n              multilayers: _projects2.default.getCurrentProject().isQueryMultiLayers(this.name)\n            },\n            outputs: {\n              show: function show(_ref4) {\n                var _ref4$error = _ref4.error,\n                    error = _ref4$error === undefined ? false : _ref4$error;\n\n                return !error;\n              }\n            }\n          });\n\n        case 4:\n          _ref3 = _context.sent;\n          _ref3$data = _ref3.data;\n          data = _ref3$data === undefined ? [] : _ref3$data;\n\n\n          if (data.length) {\n            _gui2.default.getService('map').zoomToFeatures([this.feature]);\n          }\n\n          _context.next = 13;\n          break;\n\n        case 10:\n          _context.prev = 10;\n          _context.t0 = _context['catch'](1);\n\n          console.log(_context.t0);\n\n        case 13:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[1, 10]]);\n}));\n\n/**\n * @since 3.8.0\n */\nproto.clear = function () {\n  this.feature = null;\n};\n\nmodule.exports = QueryByDrawPolygonControl;\n\n},{\"core/utils/utils\":68,\"g3w-ol/controls/basequerypolygoncontrol\":78,\"services/data\":353,\"services/gui\":356,\"store/projects\":374}],91:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar _require2 = require('core/utils/geo'),\n    getMapLayersByFilter = _require2.getMapLayersByFilter,\n    Geometry = _require2.Geometry;\n\nvar BaseQueryPolygonControl = require('g3w-ol/controls/basequerypolygoncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar VALIDGEOMETRIES = Geometry.getAllPolygonGeometryTypes();\n\nvar condition = {\n  filtrable: {\n    ows: 'WFS'\n  }\n};\n\nvar QueryByPolygonControl = function QueryByPolygonControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\n  var controlQuerableLayers = getMapLayersByFilter({\n    QUERYABLE: true,\n    SELECTED_OR_ALL: true\n  });\n\n  var controlFiltrableLayers = _gui2.default.getService('map').filterableLayersAvailable({\n    FILTERABLE: true,\n    SELECTED_OR_ALL: true\n  }, condition);\n\n  var _options = _extends({}, options, {\n    offline: false,\n    enabled: false,\n    name: \"querybypolygon\",\n    tipLabel: \"sdk.mapcontrols.querybypolygon.tooltip\",\n    label: options.label || '\\uE903',\n    interactionClass: PickCoordinatesInteraction,\n    layers: controlFiltrableLayers.length ? [].concat(_toConsumableArray(new Set([].concat(_toConsumableArray(controlFiltrableLayers), _toConsumableArray(controlQuerableLayers))))) : [],\n    help: {\n      title: \"sdk.mapcontrols.querybypolygon.help.title\",\n      message: \"sdk.mapcontrols.querybypolygon.help.message\"\n    }\n  });\n\n  BaseQueryPolygonControl.call(this, _options);\n\n  /**\n   * Data needed to runSpatialQuery\n   */\n  this.data = {\n    layer: null,\n    feature: null,\n    coordinates: null\n  };\n};\n\nol.inherits(QueryByPolygonControl, BaseQueryPolygonControl);\n\nvar proto = QueryByPolygonControl.prototype;\n\n/**\n * @since 3.8.0\n * @param layer\n */\nproto.onSelectLayer = function (layer) {\n  if (layer && layer.isQueryable() && -1 !== this.getGeometryTypes().indexOf(layer.getGeometryType())) {\n    this.setEnable(this.isThereVisibleLayerNotSelected());\n    this.toggle(this.isToggled() && this.getEnable());\n  } else {\n    this.setEnable(false);\n    this.toggle(false);\n  }\n};\n\n/**\n * @since 3.8.0 \n */\nproto.listenLayersVisibilityChange = function () {\n  var _this = this;\n\n  this.unwatches.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatches.splice(0);\n  this.layers.forEach(function (layer) {\n    _this.unwatches.push(_this.watchLayer(function () {\n      return layer.state.visible;\n    }, function (visible) {\n      if (layer === _this.getSelectedLayer()) {\n        _this.setEnable(visible && _this.isThereVisibleLayerNotSelected());\n      } else {\n        _this.setEnable(_this.isThereVisibleLayerNotSelected());\n      }\n      // enable control only if current changed visible layer is true or\n      // if at least one layer (not selected) is visible\n      _this.toggle(_this.isToggled() && _this.getEnable());\n    }));\n  });\n};\n\n/**\n * @deprecated since 3.7.0. Will be removed in 3.9.0\n * \n * @param {unknown[]} layers\n */\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  this.layers = layers;\n  this.setVisible(this.checkVisibile(layers));\n  this.setEnable(false);\n  this.listenLayersVisibilityChange();\n};\n\n/**\n * Check visibiliy of control\n * \n * @param layers\n * \n * @returns {boolean}\n */\nproto.checkVisibile = function (layers) {\n  // if no layer or just one\n  if (!layers.length || layers.length === 1) {\n    return false;\n  }\n\n  // get all layers that haven't the geometries above filterable\n  var filterableLayers = layers.filter(function (layer) {\n    return layer.isFilterable();\n  });\n  // get all layer that have the valid geometries\n  var queryableLayers = layers.filter(function (layer) {\n    return -1 !== VALIDGEOMETRIES.indexOf(layer.getGeometryType());\n  });\n\n  if (queryableLayers.length === 1 && filterableLayers.length === 1) {\n    return filterableLayers[0] !== queryableLayers[0];\n  }\n\n  return queryableLayers.length > 0 && filterableLayers.length > 0;\n};\n\n/**\n * @param {ol.Map} map \n * \n * @listens PickCoordinatesInteraction~picked\n */\nproto.setMap = function (map) {\n  var _this2 = this;\n\n  BaseQueryPolygonControl.prototype.setMap.call(this, map);\n\n  this._interaction.on('picked', throttle(function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(evt) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this2.data.coordinates = evt.coordinate;\n\n              _this2.dispatchEvent({ type: 'picked', coordinates: _this2.data.coordinates });\n\n              if (_this2._autountoggle) {\n                _this2.toggle();\n              }\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, _this2);\n    }));\n\n    return function (_x3) {\n      return _ref.apply(this, arguments);\n    };\n  }()));\n\n  var eventKey = this.on('picked', this.getPolygonFeatureFromCoordinates);\n\n  this.setEventKey({ eventType: 'picked', eventKey: eventKey });\n\n  this.setEnable(false);\n};\n\n/**\n * @since 3.8.0\n * @returns {Promise<boolean>}\n */\nproto.getPolygonFeatureFromCoordinates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var _ref3, _ref3$data, data;\n\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _gui2.default.closeOpenSideBarComponent();\n\n          // ask for coordinates\n          _context2.prev = 1;\n          _context2.next = 4;\n          return _data2.default.getData('query:coordinates', {\n            inputs: {\n              feature_count: _projects2.default.getCurrentProject().getQueryFeatureCount(),\n              coordinates: this.data.coordinates\n            },\n            outputs: {\n              // whether to show picked coordinates on map\n              show: function show(_ref4) {\n                var _ref4$data = _ref4.data,\n                    data = _ref4$data === undefined ? [] : _ref4$data,\n                    query = _ref4.query;\n\n                var show = data.length === 0;\n                // set query coordinates to null in case to avoid `externalvector` added to query response\n                query.coordinates = show ? query.coordinates : null;\n                return show;\n              }\n            }\n          });\n\n        case 4:\n          _ref3 = _context2.sent;\n          _ref3$data = _ref3.data;\n          data = _ref3$data === undefined ? [] : _ref3$data;\n\n          if (data.length && data[0].features.length) {\n            this.data.feature = data[0].features[0];\n            this.data.layer = data[0].layer;\n            this.runSpatialQuery();\n          }\n          _context2.next = 13;\n          break;\n\n        case 10:\n          _context2.prev = 10;\n          _context2.t0 = _context2['catch'](1);\n\n          console.warn('Error running spatial query:', _context2.t0);\n\n        case 13:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this, [[1, 10]]);\n}));\n\n/**\n * @returns {boolean} whether at least a visible layer not selected\n * \n * @since 3.8.0\n */\nproto.isThereVisibleLayerNotSelected = function () {\n  var _this3 = this;\n\n  return !!(\n  // check if user has selected a layer\n  this.getSelectedLayer() &&\n  // check if current selected layer is visible\n  this.isSelectedLayerVisible() && (\n  // check if at least one layer is visible (project or external layer)\n  this.layers.find(function (layer) {\n    return layer !== _this3.getSelectedLayer() && layer.isVisible() && layer.isFilterable(condition.filtrable);\n  }) || this.getExternalLayers().find(function (layer) {\n    return layer !== _this3.getSelectedLayer() && true === layer.visible;\n  })));\n};\n\n/**\n * @deprecated since v3.8.0. Will be removed in v4.0.0. Use `QueryByPolygonControl::listenLayersVisibilityChange()` instead.\n */\nproto.listenPolygonLayersChange = function () {\n  this.listenLayersVisibilityChange();\n};\n\n/**\n * @param layer\n * @param unWatches\n * \n * @since 3.8.0\n */\nproto.onAddExternalLayer = function (_ref5) {\n  var _this4 = this;\n\n  var layer = _ref5.layer,\n      unWatches = _ref5.unWatches;\n\n\n  // watch `layer.selected` property only on Polygon layers (in order to enable/disable map control)\n  if (Geometry.isPolygonGeometryType(layer.geometryType)) {\n    unWatches.push(this.watchLayer(function () {\n      return layer.selected;\n    }, // watch `layer.selected` property\n    function (selected) {\n      if (true === selected) {\n        _this4.setEnable(layer.visible && _this4.isThereVisibleLayerNotSelected());\n      } else {\n        _this4.setEnable(false);\n      }\n      _this4.toggle(_this4.isToggled() && _this4.getEnable());\n    }));\n\n    unWatches.push(this.watchLayer(function () {\n      return layer.visible;\n    }, // watch `layer.visible` property\n    function (visible) {\n      if (layer.selected) {\n        _this4.setEnable(visible && _this4.isThereVisibleLayerNotSelected());\n      } else {\n        _this4.setEnable(_this4.isThereVisibleLayerNotSelected());\n      }\n      _this4.toggle(_this4.isToggled() && _this4.getEnable());\n    }));\n  }\n\n  this.setEnable(this.isThereVisibleLayerNotSelected());\n};\n\n/**\n * @since 3.8.0\n * @param layer\n */\nproto.onRemoveExternalLayer = function () {\n  this.setEnable(this.isThereVisibleLayerNotSelected());\n};\n\n/**\n * Execute query Polygon request to server\n * \n * @since 3.8.0\n */\nproto.runSpatialQuery = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref7, _ref7$data, data;\n\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (null !== this.data.coordinates && null !== this.data.feature && null !== this.data.layer) {\n            _context3.next = 2;\n            break;\n          }\n\n          return _context3.abrupt('return');\n\n        case 2:\n          _context3.next = 4;\n          return _data2.default.getData('query:polygon', {\n            inputs: {\n              layerName: this.data.layer.getName ? this.data.layer.getName() : this.data.layer.get('name'),\n              excludeSelected: true,\n              feature: this.data.feature,\n              external: {\n                add: true,\n                filter: {\n                  SELECTED: false\n                }\n              },\n              filterConfig: {\n                spatialMethod: this.getSpatialMethod() // added spatial method to polygon filter\n              },\n              multilayers: _projects2.default.getCurrentProject().isQueryMultiLayers(this.name)\n            },\n            outputs: {\n              show: function show(_ref8) {\n                var _ref8$error = _ref8.error,\n                    error = _ref8$error === undefined ? false : _ref8$error;\n\n                return !error;\n              }\n            }\n          });\n\n        case 4:\n          _ref7 = _context3.sent;\n          _ref7$data = _ref7.data;\n          data = _ref7$data === undefined ? [] : _ref7$data;\n\n          if (data.length) {\n            this.getMap().getView().setCenter(this.data.coordinates);\n          }\n\n        case 8:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this);\n}));\n\n/**\n * @since v3.8.0\n */\nproto.clear = function () {\n  this.data.layer = this.data.feature = this.data.coordinates = null;\n};\n\nmodule.exports = QueryByPolygonControl;\n\n},{\"core/utils/geo\":65,\"core/utils/utils\":68,\"g3w-ol/controls/basequerypolygoncontrol\":78,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"services/data\":353,\"services/gui\":356,\"store/projects\":374}],92:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar utils = require('core/utils/ol');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar QueryControl = function QueryControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    offline: false,\n    name: \"querylayer\",\n    tipLabel: \"sdk.mapcontrols.query.tooltip\",\n    label: options.label || '\\uEA0F',\n    clickmap: true, // set ClickMap\n    interactionClass: PickCoordinatesInteraction\n  };\n  options = utils.merge(options, _options);\n  InteractionControl.call(this, options);\n};\n\nol.inherits(QueryControl, InteractionControl);\n\nvar proto = QueryControl.prototype;\n\n/**\n * @param {ol.Map} map\n * \n * @listens InteractionControl~toggled\n */\nproto.setMap = function (map) {\n  var _this = this;\n\n  var eventSingleClickKey = null;\n\n  this.on('toggled', function (_ref) {\n    var toggled = _ref.toggled;\n\n\n    if (true !== toggled) {\n      ol.Observable.unByKey(eventSingleClickKey);\n      eventSingleClickKey = null;\n    } else if (null === eventSingleClickKey && map) {\n      // register click on map event. It use to dispatch picked event by control\n      eventSingleClickKey = map.on('singleclick', throttle(function (evt) {\n        return _this.dispatchEvent({ type: 'picked', coordinates: evt.coordinate });\n      }));\n    }\n  });\n\n  var eventPickedKey = this.on('picked', this.runQuery);\n\n  this.setEventKey({\n    eventType: 'picked',\n    eventKey: eventPickedKey\n  });\n\n  InteractionControl.prototype.setMap.call(this, map);\n};\n\n/**\n * @since 3.8.0\n * @param event\n */\nproto.runQuery = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref2) {\n    var coordinates = _ref2.coordinates;\n\n    var project, _ref4, _ref4$data, data;\n\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n\n            _gui2.default.closeOpenSideBarComponent();\n            _context.prev = 1;\n            project = _projects2.default.getCurrentProject();\n            _context.next = 5;\n            return _data2.default.getData('query:coordinates', {\n              inputs: {\n                coordinates: coordinates,\n                feature_count: project.getQueryFeatureCount(),\n                query_point_tolerance: project.getQueryPointTolerance(),\n                multilayers: project.isQueryMultiLayers(this.name)\n              }\n            });\n\n          case 5:\n            _ref4 = _context.sent;\n            _ref4$data = _ref4.data;\n            data = _ref4$data === undefined ? [] : _ref4$data;\n\n            if (data.length) {\n              _gui2.default.getService('map').showMarker(coordinates);\n            }\n            _context.next = 14;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context['catch'](1);\n\n            console.warn('Error running spatial query: ', _context.t0);\n\n          case 14:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[1, 11]]);\n  }));\n\n  return function (_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nmodule.exports = QueryControl;\n\n},{\"core/utils/ol\":66,\"core/utils/utils\":68,\"g3w-ol/controls/interactioncontrol\":83,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"services/data\":353,\"services/gui\":356,\"store/projects\":374}],93:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar ResetControl = function ResetControl(options) {\n  this._toggled = true;\n  this._startCoordinate = null;\n  var _options = {\n    name: \"reset\",\n    tipLabel: \"Pan\",\n    label: '\\uE901'\n  };\n  options = utils.merge(options, _options);\n  InteractionControl.call(this, options);\n};\n\nol.inherits(ResetControl, InteractionControl);\n\nmodule.exports = ResetControl;\n\nvar proto = ResetControl.prototype;\n\nproto._postRender = function () {\n  this.toggle(true);\n};\n\n},{\"core/utils/ol\":66,\"g3w-ol/controls/interactioncontrol\":83}],94:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/ol'),\n    getResolutionFromScale = _require2.getResolutionFromScale,\n    getScaleFromResolution = _require2.getScaleFromResolution;\n\nvar ScaleControl = function ScaleControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.isMobile = options.isMobile || false;\n  options.target = 'scale-control';\n  ol.control.Control.call(this, options);\n};\n\nol.inherits(ScaleControl, ol.control.Control);\n\nmodule.exports = ScaleControl;\n\nvar proto = ScaleControl.prototype;\n\nproto.offline = true;\n\n// called from map when layout change\nproto.changelayout = function (map) {\n  var position = this.position;\n  var element = $(this.element);\n};\n\nproto.layout = function (map) {\n  var self = this;\n  var isMapResolutionChanged = false;\n  var selectedOnClick = false;\n  var element = $(this.element);\n  var select2 = element.children('select').select2({\n    tags: true,\n    dropdownParent: $(map.getTargetElement()),\n    width: '120px',\n    height: '20px',\n    language: {\n      noResults: function noResults(params) {\n        return t(\"sdk.mapcontrols.scale.no_valid_scale\");\n      }\n    },\n    minimumResultsForSearch: this.isMobile ? -1 : 0,\n    createTag: function createTag(params) {\n      var newTag = null;\n      var scale = void 0;\n      // Don't offset to create a tag if there is no @ symbol\n      if (params.term.indexOf('1:') !== -1) {\n        // Return null to disable tag creation\n        scale = params.term.split('1:')[1];\n      } else if (Number.isInteger(Number(params.term)) && Number(params.term) > 0) {\n        scale = Number(params.term);\n        if (1 * scale <= self.scales[0]) {\n          newTag = {\n            id: scale,\n            text: '1:' + params.term,\n            new: true\n          };\n          deleteLastCustomScale();\n        }\n      }\n      return newTag;\n    }\n  });\n  //get change mapsize to close\n  map.on('change:size', function () {\n    return select2.select2('close');\n  });\n  function deleteLastCustomScale() {\n    select2.find('option').each(function (index, option) {\n      return self.scales.indexOf(1 * option.value) === -1 && $(option).remove();\n    });\n  }\n\n  function addCustomTag(data) {\n    if (select2.find(\"option[value='\" + data.id + \"']\").length) select2.val(data.id).trigger('change');else {\n      deleteLastCustomScale();\n      var newOption = new Option(data.text, data.id, true, true);\n      select2.append(newOption).trigger('change');\n    }\n  }\n\n  map.on('moveend', function () {\n    if (isMapResolutionChanged) {\n      var view = this.getView();\n      var resolution = view.getResolution();\n      var mapUnits = view.getProjection().getUnits();\n      var scale = parseInt(getScaleFromResolution(resolution, mapUnits));\n      var data = {\n        id: scale,\n        text: '1:' + scale,\n        new: true\n      };\n      addCustomTag(data);\n      isMapResolutionChanged = false;\n    } else selectedOnClick = false;\n  });\n  var setChangeResolutionHandler = function setChangeResolutionHandler() {\n    map.getView().on('change:resolution', function () {\n      return isMapResolutionChanged = !selectedOnClick;\n    });\n  };\n  setChangeResolutionHandler();\n\n  map.on('change:view', function () {\n    return setChangeResolutionHandler();\n  });\n\n  select2.on('select2:select', function (e) {\n    selectedOnClick = true;\n    var data = e.params.data;\n    if (data.new) {\n      deleteLastCustomScale();\n      addCustomTag(data);\n    }\n    var mapUnits = map.getView().getProjection().getUnits();\n    var scale = 1 * data.id;\n    var resolution = getResolutionFromScale(scale, mapUnits);\n    map.getView().setResolution(resolution);\n  });\n};\n\nproto._setScales = function (map) {\n  var mapUnits = map.getView().getProjection().getUnits();\n  var currentResolution = map.getView().getResolution();\n  var currentScale = parseInt(getScaleFromResolution(currentResolution, mapUnits));\n  this.scales = _constant.SCALES.map(function (scale) {\n    return scale.value;\n  }).filter(function (scale) {\n    return scale < currentScale;\n  });\n  this.scales.unshift(currentScale);\n  this._createControl();\n};\n\nproto._createControl = function () {\n  var controlDomElement = document.createElement('div');\n  var select = document.createElement('select');\n  var optgroup = document.createElement('optgroup');\n  optgroup.label = '';\n  this.scales.forEach(function (scale, index) {\n    var option = document.createElement('option');\n    option.value = scale;\n    option.text = '1:' + scale;\n    option.selected = index === 0 ? true : false;\n    optgroup.appendChild(option);\n  });\n  select.appendChild(optgroup);\n  if (!this.isMobile) {\n    var optgroup_custom = document.createElement('optgroup');\n    optgroup_custom.label = 'Custom';\n    select.appendChild(optgroup_custom);\n  }\n  controlDomElement.appendChild(select);\n  // set element of control (it is necessary to visualize it)\n  this.element = controlDomElement;\n  $(this.element).css('height', '20px');\n};\n\nproto.setMap = function (map) {\n  if (map) {\n    this._setScales(map);\n    this.layout(map);\n    ol.control.Control.prototype.setMap.call(this, map);\n  }\n};\n\n},{\"app/constant\":5,\"core/i18n/i18n.service\":14,\"core/utils/ol\":66}],95:[function(require,module,exports){\nvar OnClickControl = require('g3w-ol/controls/onclickcontrol');\n\nfunction ScreenshotControl() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.layers = options.layers || [];\n  var visible = this.checkVisible(this.layers);\n  options.visible = visible;\n  options.name = options.name || \"maptoimage\";\n  options.tipLabel = options.tipLabel || \"Screenshot\";\n  options.label = options.label || \"\\uE90F\";\n  options.toggled = false;\n  OnClickControl.call(this, options);\n}\n\nol.inherits(ScreenshotControl, OnClickControl);\n\nvar proto = ScreenshotControl.prototype;\n\nproto.change = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var visible = this.checkVisible(layers);\n  this.setVisible(visible);\n};\n\nproto.checkVisible = function () {\n  var layers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var find = layers.find(function (layer) {\n    return layer.isExternalWMS ? layer.isExternalWMS() : false;\n  });\n  return !find;\n};\n\nmodule.exports = ScreenshotControl;\n\n},{\"g3w-ol/controls/onclickcontrol\":88}],96:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\nvar utils = require('core/utils/ol');\nvar StreetViewComponent = require('gui/streetview/vue/streetview');\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar GoogleStreetViewApiUrl = 'https://maps.googleapis.com/maps/api/';\n\nvar StreetViewControl = function StreetViewControl() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var _options = {\n    offline: false,\n    visible: true, // always visible. Only change behavior if exist or not\n    name: \"streetview\",\n    tipLabel: \"StreetView\",\n    clickmap: true, // set ClickMap\n    label: '\\uE905',\n    interactionClass: PickCoordinatesInteraction\n  };\n  /**\n   * Check Google Key\n   * */\n\n  this.key = _applicationState2.default.keys.vendorkeys.google;\n  this.keyError;\n  if (this.key) {\n    XHR.get({\n      url: GoogleStreetViewApiUrl + 'streetview?location=0,0&size=456x456&key=' + this.key\n    }).catch(function (error) {\n      return _this.keyError = error.responseText;\n    });\n  }\n  //get script script\n  $script(GoogleStreetViewApiUrl + 'js?' + (this.key ? 'key=' + this.key : ''));\n\n  /***/\n\n  this._sv = null;\n  this._panorama = null;\n  this._map = null;\n  this._projection = null;\n  this._lastposition = null;\n  this._streetViewFeature = new ol.Feature();\n  var streetVectorSource = new ol.source.Vector({ features: [] });\n  this.active = false;\n  this._layer = new ol.layer.Vector({\n    source: streetVectorSource,\n    style: function style(feature) {\n      var coordinates = feature.getGeometry().getCoordinates();\n      this._lastposition = this._lastposition ? this._lastposition : coordinates;\n      var dx = coordinates[0] - this._lastposition[0];\n      var dy = coordinates[1] - this._lastposition[1];\n      var rotation = -Math.atan2(dy, dx);\n      var styles = [new ol.style.Style({\n        text: new ol.style.Text({\n          text: '\\uE905',\n          font: 'bold 18px icomoon',\n          fill: new ol.style.Fill({\n            color: '#ffffff'\n          })\n        })\n      }), new ol.style.Style({\n        image: new ol.style.Icon({\n          src: '/static/client/images/streetviewarrow.png',\n          rotation: rotation\n        })\n      })];\n      this._lastposition = coordinates;\n      return styles;\n    }\n  });\n\n  options = utils.merge(options, _options);\n\n  InteractionControl.call(this, options);\n};\n\nol.inherits(StreetViewControl, InteractionControl);\n\nvar proto = StreetViewControl.prototype;\n\nproto.setProjection = function (projection) {\n  this._projection = projection;\n};\n\nproto.setPosition = function (position) {\n  var _this2 = this;\n\n  var self = this;\n  this.active = true;\n  var pixel = void 0;\n  if (!this._sv) this._sv = new google.maps.StreetViewService();\n  this._sv.getPanorama({ location: position }, function (data, status) {\n    self._panorama = new google.maps.StreetViewPanorama(document.getElementById('streetview'), {\n      imageDateControl: true\n    });\n    /**\n     * Listen on position change\n    */\n    self._panorama.addListener('position_changed', function () {\n      if (self.isToggled()) {\n        var lnglat = ol.proj.transform([this.getPosition().lng(), this.getPosition().lat()], 'EPSG:4326', self._projection.getCode());\n        self._streetViewFeature.setGeometry(new ol.geom.Point(lnglat));\n        pixel = self._map.getPixelFromCoordinate(lnglat);\n        if (pixel[0] + 15 > self._map.getSize()[0] || pixel[1] + 15 > self._map.getSize()[1] || pixel[0] < 15 || pixel[1] < 15) {\n          self._map.getView().setCenter(lnglat);\n        }\n      }\n    });\n    if (data && data.location) {\n      self._panorama.setPov({\n        pitch: 0,\n        heading: 0\n      });\n\n      self._panorama.setPosition(data.location.latLng);\n    }\n  }).then(function (response) {\n    if (response === undefined) {\n      _gui2.default.closeContent();\n    }\n  }).catch(function () {\n    return _this2.toggle();\n  });\n};\n\nproto.setMap = function (map) {\n  var _this3 = this;\n\n  this._map = map;\n  InteractionControl.prototype.setMap.call(this, map);\n\n  this.setProjection(this._map.getView().getProjection());\n  this._map.addLayer(this._layer);\n\n  this._interaction.on('picked', function (_ref) {\n    var coordinate = _ref.coordinate;\n\n    _this3.showStreetView(coordinate);\n    _this3._autountoggle && _this3.toggle();\n  });\n};\n\n/**\n * Method to show StreetView depending of key and keyError\n * @param coordinate\n */\nproto.showStreetView = function (coordinate) {\n  var _ol$proj$transform = ol.proj.transform(coordinate, this._map.getView().getProjection().getCode(), 'EPSG:4326'),\n      _ol$proj$transform2 = _slicedToArray(_ol$proj$transform, 2),\n      lng = _ol$proj$transform2[0],\n      lat = _ol$proj$transform2[1];\n\n  if (this.key) {\n    _gui2.default.setContent({\n      content: new StreetViewComponent({\n        keyError: this.keyError\n      }),\n      title: 'StreetView'\n    });\n    !this.keyError && this.setPosition({\n      lng: lng, lat: lat\n    });\n  } else {\n    this._streetViewFeature.setGeometry(new ol.geom.Point(coordinate));\n    window.open('https://www.google.com/maps/@?api=1&map_action=pano&viewpoint=' + lat + ',' + lng);\n  }\n};\n\nproto.clearMarker = function () {\n  this._streetViewFeature.setGeometry(null);\n};\n\nproto.clear = function () {\n  this._layer.getSource().clear();\n  this._streetViewFeature.setGeometry(null);\n  this.clearMarker();\n  this._panorama = null;\n  this.active && _gui2.default.closeContent();\n  this.active = false;\n};\n\nproto.toggle = function (toggle) {\n  InteractionControl.prototype.toggle.call(this, toggle);\n  if (!this.isToggled()) this.clear();else this._layer.getSource().addFeatures([this._streetViewFeature]);\n};\n\nmodule.exports = StreetViewControl;\n\n},{\"core/utils/ol\":66,\"core/utils/utils\":68,\"g3w-ol/controls/interactioncontrol\":83,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"gui/streetview/vue/streetview\":180,\"services/gui\":356,\"store/application-state\":368}],97:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar TOPOFFSET = 35;\n\nmodule.exports = {\n  layout: function layout(_ref) {\n    var map = _ref.map,\n        position = _ref.position,\n        element = _ref.element;\n  },\n  changeLayoutBottomControl: function changeLayoutBottomControl(_ref2) {\n    var map = _ref2.map,\n        position = _ref2.position,\n        element = _ref2.element,\n        _ref2$isMobile = _ref2.isMobile,\n        isMobile = _ref2$isMobile === undefined ? false : _ref2$isMobile;\n\n    var viewPort = map.getViewport();\n    var positionCode = (position['top'] ? 't' : 'b') + (position['left'] ? 'l' : 'r');\n    var previusControls = $(viewPort).find('.ol-control-' + positionCode + ':visible');\n    if (previusControls.length) {\n      var previusControl = void 0;\n      previusControls.each(function (index, elem) {\n        if (elem != element[0]) previusControl = $(elem);else return false;\n      });\n      if (previusControl && positionCode === 'br') {\n        if (!isMobile) {\n          var previousTopPosition = previusControl.position().top;\n          var elementTopPosition = element.position().top;\n          if (previousTopPosition - elementTopPosition != TOPOFFSET) {\n            var hOffset = previousTopPosition - TOPOFFSET;\n            element.css('top', hOffset + 'px');\n          }\n        } else {\n          var previusControlWidth = previusControl.width();\n          var previousLeftPosition = previusControlWidth < 10 ? 130 : previusControlWidth + 20;\n          element.css('right', previousLeftPosition + 'px');\n          element.css('bottom', '15px');\n        }\n      }\n    }\n  },\n\n  // method to create user message tool fro map control\n  createControlUserMessageTool: function createControlUserMessageTool() {\n    var tool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n      hooks: {\n        body: {\n          template: '<div>\\n                <div >\\n                  <input type=\"radio\" name=\"radio\" id=\"g3w-map_theme-0\" class=\"magic-radio\" value=\"view1\">\\n                  <label  for=\"g3w-map_theme-0\" style=\"display: flex; justify-content: space-between;\">\\n                    <span>Intersect</span>\\n                  </label>\\n                </div>\\n                <div>\\n                  <input  type=\"radio\" name=\"radio\" id=\"_cotains\" class=\"magic-radio\" value=\"view2\">\\n                  <label  for=\"g3w-map_theme-1\" style=\"display: flex; justify-content: space-between;\">\\n                    <span>view2</span>\\n                  </label>\\n                </div>\\n              </div>'\n        }\n      },\n      title: 'Scelgli il tipo di operazione'\n    };\n\n    _gui2.default.showUserMessage({\n      type: 'tool',\n      message: tool.message,\n      size: tool.size || 'small', // small, medium\n      title: tool.title || '',\n      hooks: tool.hooks\n    });\n  }\n};\n\n},{\"services/gui\":356}],98:[function(require,module,exports){\nvar InteractionControl = require('g3w-ol/controls/interactioncontrol');\n\nvar ZoomBoxControl = function ZoomBoxControl(options) {\n  this._startCoordinate = null;\n  var _options = {\n    name: \"zoombox\",\n    tipLabel: \"Zoom to box\",\n    label: \"\\uE901\",\n    interactionClass: ol.interaction.DragBox\n  };\n  options = Object.assign({}, options, _options);\n  InteractionControl.call(this, options);\n};\nol.inherits(ZoomBoxControl, InteractionControl);\nmodule.exports = ZoomBoxControl;\n\nvar proto = ZoomBoxControl.prototype;\n\nproto.setMap = function (map) {\n  var _this = this;\n\n  InteractionControl.prototype.setMap.call(this, map);\n  this._interaction.on('boxstart', function (evt) {\n    return _this._startCoordinate = evt.coordinate;\n  });\n\n  this._interaction.on('boxend', function (evt) {\n    var start_coordinate = _this._startCoordinate;\n    var end_coordinate = evt.coordinate;\n    var extent = ol.extent.boundingExtent([start_coordinate, end_coordinate]);\n    _this.dispatchEvent({\n      type: 'zoomend',\n      extent: extent\n    });\n    _this._startCoordinate = null;\n    _this._autountoggle && _this.toggle();\n  });\n};\n\n},{\"g3w-ol/controls/interactioncontrol\":83}],99:[function(require,module,exports){\nvar utils = require('core/utils/ol');\nvar maphelpers = require('g3w-ol/map/maphelpers');\n\nvar helpers = utils.merge({}, maphelpers);\n\nmodule.exports = {\n  helpers: helpers\n};\n\n},{\"core/utils/ol\":66,\"g3w-ol/map/maphelpers\":108}],100:[function(require,module,exports){\nvar MeasureInteraction = require('g3w-ol/interactions/measureinteraction');\n\n// Area\nvar AreaIteraction = function AreaIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.geometryType = \"Polygon\";\n  MeasureInteraction.call(this, options);\n};\n\nol.inherits(AreaIteraction, MeasureInteraction);\n\nmodule.exports = AreaIteraction;\n\n},{\"g3w-ol/interactions/measureinteraction\":103}],101:[function(require,module,exports){\nvar DeleteInteractionEvent = function DeleteInteractionEvent(type, layer, features, coordinate) {\n  this.type = type;\n  this.features = features;\n  this.coordinate = coordinate;\n};\n\nvar DeleteInteraction = function DeleteInteraction(options) {\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: DeleteInteraction.handleDownEvent_,\n    handleMoveEvent: DeleteInteraction.handleMoveEvent_,\n    handleUpEvent: DeleteInteraction.handleUpEvent_,\n    handleEvent: DeleteInteraction.handleEvent_\n  });\n\n  this.previousCursor_ = undefined;\n  this.startCursor_ = undefined;\n  this.lastCoordinate_ = null;\n  this.features_ = options.features !== undefined ? options.features : null;\n  this.layer_ = options.layer !== undefined ? options.layer : null;\n  this.map_ = null;\n};\n\nol.inherits(DeleteInteraction, ol.interaction.Pointer);\n\nDeleteInteraction.handleEvent_ = function (mapBrowserEvent) {\n  if (mapBrowserEvent.type == 'keydown') {\n    if (this.features_.getArray().length && mapBrowserEvent.originalEvent.keyCode == 46) {\n      // an event can be string or an object with attribute type\n      this.dispatchEvent(new DeleteInteractionEvent('deleteend', this.layer_, this.features_, event.coordinate));\n      return true;\n    }\n  } else {\n    return ol.interaction.Pointer.handleEvent.call(this, mapBrowserEvent);\n  }\n};\n\nDeleteInteraction.handleDownEvent_ = function (event) {\n  this.lastFeature_ = this.featuresAtPixel_(event.pixel, event.map);\n  if (this.lastFeature_) {\n    DeleteInteraction.handleMoveEvent_.call(this, event);\n    this.dispatchEvent(new DeleteInteractionEvent('deleteend', this.layer_, this.features_, event.coordinate));\n    return true;\n  }\n  return false;\n};\n\nDeleteInteraction.handleMoveEvent_ = function (event) {\n  var _this = this;\n\n  this.map_ = event.map;\n  var elem = this.map_.getTargetElement();\n  if (this.startCursor_ === undefined) {\n    this.startCursor_ = elem.style.cursor;\n  }\n  var intersectingFeature = this.map_.forEachFeatureAtPixel(event.pixel, function (feature, layer) {\n    ///check if is the same layero of editing\n    feature = layer == _this.layer_ ? feature : null;\n    return feature;\n  });\n  if (intersectingFeature) {\n    this.previousCursor_ = elem.style.cursor;\n    elem.style.cursor = 'pointer';\n  } else {\n    elem.style.cursor = this.previousCursor_ !== undefined ? this.previousCursor_ : '';\n    this.previousCursor_ = undefined;\n  }\n};\n\nDeleteInteraction.prototype.featuresAtPixel_ = function (pixel, map) {\n  var found = null;\n  var intersectingFeature = map.forEachFeatureAtPixel(pixel, function (feature) {\n    return feature;\n  });\n  if (this.features_ && _.includes(this.features_.getArray(), intersectingFeature)) {\n    found = intersectingFeature;\n  }\n  return found;\n};\n\nDeleteInteraction.prototype.clear = function () {\n  var elem = void 0;\n  if (this.map_) {\n    elem = this.map_.getTargetElement();\n    elem.style.cursor = this.startCursor_;\n  }\n};\n\nmodule.exports = DeleteInteraction;\n\n},{}],102:[function(require,module,exports){\nvar MeasureInteraction = require('g3w-ol/interactions/measureinteraction');\n\n// LenghtInteracion\nvar LengthIteraction = function LengthIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.geometryType = \"LineString\";\n  MeasureInteraction.call(this, options);\n};\n\nol.inherits(LengthIteraction, MeasureInteraction);\n\nmodule.exports = LengthIteraction;\n\n},{\"g3w-ol/interactions/measureinteraction\":103}],103:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/ol'),\n    createMeasureTooltip = _require2.createMeasureTooltip,\n    setMeasureTooltipStatic = _require2.setMeasureTooltipStatic,\n    removeMeasureTooltip = _require2.removeMeasureTooltip,\n    needUseSphereMethods = _require2.needUseSphereMethods;\n\nvar MeasureIteraction = function MeasureIteraction() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._helpTooltip;\n  this._measureTooltipElement;\n  this._measureTooltip;\n  this._featureGeometryChangelistener;\n  this._poinOnMapMoveListener;\n  this.testTooltip;\n  this._helpMsg = options.help;\n  this._projection = options.projection;\n  this.feature = options.feature;\n  var drawColor = options.drawColor || 'rgba(0, 0, 0, 0.5)';\n  var useSphereMethods = needUseSphereMethods(this._projection);\n  var measureStyle = new ol.style.Style({\n    fill: new ol.style.Fill({\n      color: 'rgba(255, 255, 255, 0.2)'\n    }),\n    stroke: new ol.style.Stroke({\n      color: drawColor,\n      lineDash: [10, 10],\n      width: 3\n    }),\n    image: new ol.style.Circle({\n      radius: 5,\n      stroke: new ol.style.Stroke({\n        color: 'rgba(0, 0, 0, 0.7)'\n      }),\n      fill: new ol.style.Fill({\n        color: 'rgba(255, 255, 255, 0.2)'\n      })\n    })\n  });\n  var geometryType = options.geometryType || 'LineString';\n  var source = new ol.source.Vector();\n  this._helpTooltipElement;\n  this._map = null;\n  this._feature = null;\n  this._layer = new ol.layer.Vector({\n    source: source,\n    style: function style() {\n      var styles = [\n      // linestring\n      new ol.style.Style({\n        stroke: new ol.style.Stroke({\n          lineDash: [10, 10],\n          width: 3\n        }),\n        fill: new ol.style.Fill({\n          color: 'rgba(255, 255, 255, 0.2)'\n        })\n      })];\n      return styles;\n    }\n  });\n\n  ol.interaction.Draw.call(this, {\n    source: source,\n    type: geometryType,\n    style: measureStyle\n  });\n  this.set('beforeRemove', this.clear);\n  this.set('layer', this._layer);\n  // register event on two action\n  this.on('drawstart', this._drawStart);\n  this.on('drawend', this._drawEnd);\n};\n\nol.inherits(MeasureIteraction, ol.interaction.Draw);\n\nvar proto = MeasureIteraction.prototype;\n\nproto.setDrawMessage = function (message) {\n  this._helpMsg = message;\n};\n\nproto.clear = function () {\n  this._layer.getSource().clear();\n  this._clearMessagesAndListeners();\n  if (this._map) {\n    removeMeasureTooltip(_extends({\n      map: this._map\n    }, this.measureTooltip));\n    this.measureTooltip = null;\n    this._map.removeLayer(this._layer);\n  }\n};\n\nproto._clearMessagesAndListeners = function () {\n  this._feature = null;\n  // unset tooltip so that a new one can be created\n  if (this._map) {\n    this._measureTooltipElement = null;\n    this._helpTooltipElement.innerHTML = '';\n    this._helpTooltipElement.classList.add('hidden');\n    ol.Observable.unByKey(this._featureGeometryChangelistener);\n    ol.Observable.unByKey(this._poinOnMapMoveListener);\n    $(document).off('keydown', this._keyDownEventHandler);\n  }\n};\n\nproto._removeLastPoint = function (event) {\n  var geom = this._feature.getGeometry();\n  if (event.keyCode === 46) {\n    if (geom instanceof ol.geom.Polygon && geom.getCoordinates()[0].length > 2) {\n      this.removeLastPoint();\n    } else if (geom instanceof ol.geom.LineString && geom.getCoordinates().length > 1) {\n      this.removeLastPoint();\n    }\n  }\n};\n\n//drawStart function\nproto._drawStart = function (evt) {\n  var _this = this;\n\n  this._map = this.getMap();\n  this._map.removeLayer(this._layer);\n  this._feature = evt.feature;\n  this.feature && this._feature.setGeometry(this.feature.getGeometry());\n  this._keyDownEventHandler = this._removeLastPoint.bind(this);\n  $(document).on('keydown', this._keyDownEventHandler);\n  this._layer.getSource().clear();\n  this._poinOnMapMoveListener = this._map.on('pointermove', function (evt) {\n    if (evt.dragging) return;\n    if (_this._feature && _this._helpMsg) {\n      var helpMsg = t(_this._helpMsg);\n      _this._helpTooltipElement.innerHTML = helpMsg;\n      _this._helpTooltip.setPosition(evt.coordinate);\n      _this._helpTooltipElement.classList.remove('hidden');\n    }\n  });\n  this._createHelpTooltip();\n  this._createMeasureTooltip();\n};\n\nproto._drawEnd = function () {\n  var tooltip = this.measureTooltip.tooltip;\n\n  setMeasureTooltipStatic(tooltip);\n  this._clearMessagesAndListeners();\n  this._map.addLayer(this._layer);\n};\n\n/**\n * Creates a new help tooltip\n */\nproto._createHelpTooltip = function () {\n  this._helpTooltipElement && this._helpTooltipElement.parentNode.removeChild(this._helpTooltipElement);\n  this._helpTooltip && this._map.removeOverlay(this._helpTooltip);\n  this._helpTooltipElement = document.createElement('div');\n  this._helpTooltipElement.className = 'mtooltip hidden';\n  this._helpTooltip = new ol.Overlay({\n    element: this._helpTooltipElement,\n    offset: [15, 0],\n    positioning: 'center-left'\n  });\n  this._map.addOverlay(this._helpTooltip);\n};\n\n/**\n * Creates a new measure tooltip\n */\nproto._createMeasureTooltip = function () {\n  this.measureTooltip && removeMeasureTooltip(_extends({}, this.measureTooltip, {\n    map: this._map\n  }));\n  this.measureTooltip = createMeasureTooltip({\n    map: this._map,\n    feature: this._feature\n  });\n};\n// END MEASURE CONTROLS //\n\nmodule.exports = MeasureIteraction;\n\n},{\"core/i18n/i18n.service\":14,\"core/utils/ol\":66}],104:[function(require,module,exports){\nvar PickCoordinatesEventType = {\n  PICKED: 'picked'\n};\n\nvar PickCoordinatesEvent = function PickCoordinatesEvent(type, coordinate) {\n  this.type = type;\n  this.coordinate = coordinate;\n};\n\nvar PickCoordinatesInteraction = function PickCoordinatesInteraction(options) {\n  this.previousCursor_ = null;\n  this._centerMap = null;\n\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: PickCoordinatesInteraction.handleDownEvent_,\n    handleUpEvent: PickCoordinatesInteraction.handleUpEvent_,\n    handleMoveEvent: PickCoordinatesInteraction.handleMoveEvent_\n  });\n};\n\nol.inherits(PickCoordinatesInteraction, ol.interaction.Pointer);\n\nPickCoordinatesInteraction.handleDownEvent_ = function (event) {\n  var _this = this;\n\n  this._centerMap = event.map.getView().getCenter();\n  // set timeout to avoid to block pan\n  setTimeout(function () {\n    if (_this._centerMap === event.map.getView().getCenter()) {\n      PickCoordinatesInteraction.handleUpEvent_.call(_this, event);\n    }\n  }, 300);\n  // return false to avoid  start of drag event\n  return false;\n};\n\nPickCoordinatesInteraction.handleUpEvent_ = function (event) {\n  this.dispatchEvent(new PickCoordinatesEvent(PickCoordinatesEventType.PICKED, event.coordinate));\n  // it used to stop drag event\n  return false;\n};\n\nPickCoordinatesInteraction.handleMoveEvent_ = function (event) {\n  var elem = event.map.getTargetElement();\n  elem.style.cursor = 'pointer';\n  return true;\n};\n\nPickCoordinatesInteraction.prototype.shouldStopEvent = function () {\n  return false;\n};\n\nPickCoordinatesInteraction.prototype.setActive = function (active) {\n  var map = this.getMap();\n  if (map) {\n    var elem = map.getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setActive.call(this, active);\n};\n\nPickCoordinatesInteraction.prototype.setMap = function (map) {\n  if (!map) {\n    var elem = this.getMap().getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setMap.call(this, map);\n};\n\nmodule.exports = PickCoordinatesInteraction;\n\n},{}],105:[function(require,module,exports){\nvar PickFeatureEventType = {\n  PICKED: 'picked'\n};\n\nvar PickFeatureEvent = function PickFeatureEvent(type, coordinate, layer, feature) {\n  this.type = type;\n  this.feature = feature;\n  this.coordinate = coordinate;\n  this.layer = layer;\n};\n\nvar PickFeatureInteraction = function PickFeatureInteraction() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  ol.interaction.Pointer.call(this, {\n    handleDownEvent: PickFeatureInteraction.handleDownEvent_,\n    handleUpEvent: PickFeatureInteraction.handleUpEvent_,\n    handleMoveEvent: PickFeatureInteraction.handleMoveEvent_\n  });\n  var features = options.features;\n\n  this.features_ = Array.isArray(features) && features.length && features || null;\n  this.layers_ = options.layers || null;\n  this.pickedFeature_ = null;\n  this.pickedLayer_ = null;\n  this.layerFilter_ = function (layer) {\n    var include = _.includes(_this.layers_, layer);\n    _this.pickedLayer_ = include && layer;\n    return include;\n  };\n};\nol.inherits(PickFeatureInteraction, ol.interaction.Pointer);\n\nPickFeatureInteraction.handleDownEvent_ = function (event) {\n  this.pickedFeature_ = this.featuresAtPixel_(event.pixel, event.map);\n  return this.pickedFeature_;\n};\n\nPickFeatureInteraction.handleUpEvent_ = function (event) {\n  if (this.pickedFeature_) {\n    this.dispatchEvent(new PickFeatureEvent(PickFeatureEventType.PICKED, event.coordinate, this.pickedLayer_, this.pickedFeature_));\n  }\n  return true;\n};\n\nPickFeatureInteraction.handleMoveEvent_ = function (event) {\n  var elem = event.map.getTargetElement();\n  var intersectingFeature = this.featuresAtPixel_(event.pixel, event.map);\n  elem.style.cursor = intersectingFeature ? 'pointer' : '';\n};\n\nPickFeatureInteraction.prototype.featuresAtPixel_ = function (pixel, map) {\n  var _this2 = this;\n\n  var featureFound = null;\n  var intersectingFeature = map.forEachFeatureAtPixel(pixel, function (feature) {\n    if (_this2.features_) {\n      if (_this2.features_.indexOf(feature) > -1) return feature;else return null;\n    }\n    return feature;\n  }, {\n    layerFilter: this.layerFilter_,\n    hitTolerance: isMobile && isMobile.any ? 10 : 0\n  });\n  if (intersectingFeature) featureFound = intersectingFeature;\n  return featureFound;\n};\n\nPickFeatureInteraction.prototype.shouldStopEvent = function () {\n  return false;\n};\n\nPickFeatureInteraction.prototype.setMap = function (map) {\n  if (!map) {\n    var elem = this.getMap().getTargetElement();\n    elem.style.cursor = '';\n  }\n  ol.interaction.Pointer.prototype.setMap.call(this, map);\n};\n\nmodule.exports = PickFeatureInteraction;\n\n},{}],106:[function(require,module,exports){\nvar RasterLayers = require('g3w-ol/layers/rasters');\nvar BaseLayers = {};\n\nBaseLayers.OSM = {};\n\nBaseLayers.OSM.get = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      title = _ref.title,\n      id = _ref.id,\n      url = _ref.url;\n\n  return new ol.layer.Tile({\n    source: new ol.source.OSM({\n      url: url\n    }),\n    id: id || 'osm',\n    title: title || 'OSM',\n    basemap: true\n  });\n};\n\nBaseLayers.TMS = {\n  get: function get() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$visible = _ref2.visible,\n        visible = _ref2$visible === undefined ? false : _ref2$visible,\n        _ref2$url = _ref2.url,\n        url = _ref2$url === undefined ? null : _ref2$url,\n        _ref2$source_type = _ref2.source_type,\n        source_type = _ref2$source_type === undefined ? \"xyz\" : _ref2$source_type,\n        minZoom = _ref2.minZoom,\n        maxZoom = _ref2.maxZoom,\n        projection = _ref2.projection,\n        attributions = _ref2.attributions,\n        _ref2$crossOrigin = _ref2.crossOrigin,\n        crossOrigin = _ref2$crossOrigin === undefined ? 'anonymous' : _ref2$crossOrigin;\n\n    var layer = void 0;\n    switch (source_type) {\n      case 'xyz':\n        layer = RasterLayers.XYZLayer({\n          url: url,\n          visible: visible,\n          minZoom: minZoom,\n          maxZoom: maxZoom,\n          attributions: attributions,\n          projection: projection,\n          crossOrigin: crossOrigin\n        });\n        break;\n      case 'arcgismapserver':\n        layer = RasterLayers.TiledArgisMapServer({\n          url: url,\n          visible: visible,\n          projection: projection,\n          attributions: attributions\n        });\n        break;\n      default:\n    }\n    return layer;\n  }\n};\n\nBaseLayers.WMS = {\n  get: function get(_ref3) {\n    var url = _ref3.url,\n        projection = _ref3.projection,\n        attributions = _ref3.attributions,\n        layers = _ref3.layers,\n        _ref3$singleTile = _ref3.singleTile,\n        singleTile = _ref3$singleTile === undefined ? false : _ref3$singleTile,\n        _ref3$opacity = _ref3.opacity,\n        opacity = _ref3$opacity === undefined ? 1 : _ref3$opacity;\n\n    return RasterLayers.WMSLayer({\n      url: url,\n      projection: projection,\n      attributions: attributions,\n      layers: layers,\n      tiled: singleTile,\n      opacity: opacity\n    });\n  }\n};\n\nBaseLayers.WMTS = {\n  get: function get() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref4.url,\n        layer = _ref4.layer,\n        visible = _ref4.visible,\n        attributions = _ref4.attributions,\n        matrixSet = _ref4.matrixSet,\n        projection = _ref4.projection,\n        requestEncoding = _ref4.requestEncoding,\n        _ref4$style = _ref4.style,\n        style = _ref4$style === undefined ? 'default' : _ref4$style,\n        _ref4$format = _ref4.format,\n        format = _ref4$format === undefined ? 'image/png' : _ref4$format,\n        _ref4$opacity = _ref4.opacity,\n        opacity = _ref4$opacity === undefined ? 0.7 : _ref4$opacity;\n\n    var projectionExtent = projection.getExtent();\n    var resolutions = new Array(14);\n    var size = ol.extent.getWidth(projectionExtent) / 256;\n    var matrixIds = new Array(14);\n    for (var z = 0; z < 14; ++z) {\n      // generate resolutions and matrixIds arrays for this WMTS\n      resolutions[z] = size / Math.pow(2, z);\n      matrixIds[z] = z;\n    }\n    return new ol.layer.Tile({\n      opacity: opacity,\n      source: new ol.source.WMTS({\n        url: url,\n        projection: projection,\n        layer: layer,\n        matrixSet: matrixSet,\n        requestEncoding: requestEncoding,\n        format: format,\n        attributions: attributions,\n        tileGrid: new ol.tilegrid.WMTS({\n          origin: ol.extent.getTopLeft(projectionExtent),\n          resolutions: resolutions,\n          matrixIds: matrixIds\n        }),\n        style: style\n      })\n    });\n  }\n};\n\nBaseLayers.BING = {};\n\nBaseLayers.BING.get = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var imagerySet = config.imagerySet || 'Aerial'; // 'Road', 'AerialWithLabels', 'Aerial'\n  return new ol.layer.Tile({\n    name: imagerySet,\n    visible: false,\n    preload: Infinity,\n    source: new ol.source.BingMaps({\n      imagerySet: imagerySet,\n      key: config.key\n    }),\n    basemap: true\n  });\n};\n\nmodule.exports = BaseLayers;\n\n},{\"g3w-ol/layers/rasters\":107}],107:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar DPI = require('core/utils/ol').getDPI();\n\nvar RasterLayers = {};\n\nvar loadImageTileFunction = function loadImageTileFunction(_ref) {\n  var _ref$method = _ref.method,\n      method = _ref$method === undefined ? 'GET' : _ref$method,\n      _ref$type = _ref.type,\n      type = _ref$type === undefined ? 'image' : _ref$type,\n      _ref$sourceOptions = _ref.sourceOptions,\n      sourceOptions = _ref$sourceOptions === undefined ? {} : _ref$sourceOptions;\n\n  window.URL = window.URL || window.webkitURL;\n  sourceOptions[type + 'LoadFunction'] = function (imageTile, url) {\n    var xhr = new XMLHttpRequest();\n\n    var _url$split = url.split('?'),\n        _url$split2 = _slicedToArray(_url$split, 2),\n        _url = _url$split2[0],\n        params = _url$split2[1];\n\n    xhr.open(method, method === 'POST' && _url || url);\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n    xhr.responseType = 'blob';\n    xhr.onload = function () {\n      var data = this.response;\n      if (data !== undefined) imageTile.getImage().src = window.URL.createObjectURL(data);else imageTile.setState(ol.TileState.ERROR);\n    };\n    xhr.onerror = function () {\n      image.setState(ol.TileState.ERROR);\n    };\n    xhr.send(method === 'POST' && params);\n  };\n};\n\nRasterLayers.TiledWMSLayer = function (layerObj, extraParams) {\n  var options = {\n    layerObj: layerObj,\n    extraParams: extraParams || {},\n    tiled: true\n  };\n  return RasterLayers._WMSLayer(options);\n};\n\nRasterLayers.WMSLayer = function (layerObj) {\n  var extraParams = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n\n  var options = {\n    layerObj: layerObj,\n    extraParams: extraParams,\n    method: method\n  };\n  return RasterLayers._WMSLayer(options);\n};\n\nRasterLayers.WMTSLayer = function (layerObj, extraParams) {\n  var optionsFromCapabilities = ol.source.WMTS.optionsFromCapabilities;\n  return new ol.layer.Tile({\n    opacity: 1,\n    source: new ol.source.WMTS(options)\n  });\n};\n\nRasterLayers.ImageArgisMapServer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  return new ol.layer.Image({\n    source: new ol.source.ImageArcGISRest({\n      ratio: options.ratio,\n      params: {\n        FORMAT: options.format\n      },\n      url: options.url\n    })\n  });\n};\n\nRasterLayers.TiledArgisMapServer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var url = options.url,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      extent = options.extent,\n      projection = options.projection,\n      attributions = options.attributions,\n      crossOrigin = options.crossOrigin;\n\n  var source = new ol.source.TileArcGISRest({\n    url: url,\n    projection: projection,\n    attributions: attributions,\n    crossOrigin: crossOrigin\n  });\n  return new ol.layer.Tile({\n    extent: extent,\n    visible: visible,\n    source: source\n  });\n};\n\nRasterLayers._WMSLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var layerObj = options.layerObj,\n      _options$method = options.method,\n      method = _options$method === undefined ? 'GET' : _options$method,\n      extraParams = options.extraParams,\n      _options$tiled = options.tiled,\n      tiled = _options$tiled === undefined ? false : _options$tiled;\n  var _layerObj$iframe_inte = layerObj.iframe_internal,\n      iframe_internal = _layerObj$iframe_inte === undefined ? false : _layerObj$iframe_inte,\n      _layerObj$layers = layerObj.layers,\n      layers = _layerObj$layers === undefined ? '' : _layerObj$layers,\n      _layerObj$version = layerObj.version,\n      version = _layerObj$version === undefined ? '1.3.0' : _layerObj$version,\n      _layerObj$sld_version = layerObj.sld_version,\n      sld_version = _layerObj$sld_version === undefined ? '1.1.0' : _layerObj$sld_version,\n      id = layerObj.id,\n      name = layerObj.name,\n      _layerObj$opacity = layerObj.opacity,\n      opacity = _layerObj$opacity === undefined ? 1.0 : _layerObj$opacity,\n      visible = layerObj.visible,\n      extent = layerObj.extent,\n      maxResolution = layerObj.maxResolution;\n\n  var projection = layerObj.projection ? layerObj.projection.getCode() : null;\n  var params = {\n    LAYERS: layers,\n    VERSION: version,\n    TRANSPARENT: true,\n    SLD_VERSION: sld_version,\n    DPI: DPI\n  };\n\n  params = Object.assign({}, params, extraParams);\n  var sourceOptions = {\n    url: layerObj.url,\n    params: params,\n    ratio: 1,\n    projection: projection\n  };\n\n  if (iframe_internal || method === 'POST') loadImageTileFunction({\n    method: method,\n    type: 'image',\n    sourceOptions: sourceOptions\n  });\n\n  var imageOptions = {\n    id: id,\n    name: name,\n    opacity: opacity,\n    visible: visible,\n    extent: extent,\n    maxResolution: maxResolution\n  };\n\n  var imageClass = void 0;\n  var source = void 0;\n  if (tiled) {\n    source = new ol.source.TileWMS(sourceOptions);\n    imageClass = ol.layer.Tile;\n  } else {\n    source = new ol.source.ImageWMS(sourceOptions);\n    imageClass = ol.layer.Image;\n  }\n  imageOptions.source = source;\n  var image = new imageClass(imageOptions);\n  return image;\n};\n\nRasterLayers.XYZLayer = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'GET';\n\n  var iframe_internal = options.iframe_internal || false;\n  var url = options.url,\n      projection = options.projection,\n      maxZoom = options.maxZoom,\n      minZoom = options.minZoom,\n      _options$visible2 = options.visible,\n      visible = _options$visible2 === undefined ? true : _options$visible2,\n      crossOrigin = options.crossOrigin;\n\n  if (!url) return;\n  var sourceOptions = {\n    url: url,\n    maxZoom: maxZoom,\n    minZoom: minZoom,\n    projection: projection,\n    crossOrigin: crossOrigin\n  };\n  if (iframe_internal) loadImageTileFunction({\n    method: method,\n    type: 'tile',\n    sourceOptions: sourceOptions\n  });\n\n  if (projection.getUnits() === 'degrees') {\n    var extent = projection.getExtent();\n    var resolutions = ol.tilegrid.createXYZ({ extent: extent, maxZoom: maxZoom }).getResolutions();\n    // needed to remove the first resolutis because in this version of ol createXYZ doesn't  accept maxResolution options .\n    // The extent of EPSG:4326 is not squared [-180, -90, 180, 90] as EPSG:3857 so the resolution is calculate by Math.max(width(extent)/tileSize,Height(extent)/tileSize)\n    // we need to calculate to Math.min instead so we have to remove the first resolution\n    resolutions.splice(0, 1);\n    //////////////////////////////////////////\n    sourceOptions.tileGrid = new ol.tilegrid.TileGrid({\n      extent: extent,\n      resolutions: resolutions\n    });\n  }\n\n  var source = new ol.source.XYZ(sourceOptions);\n  return new ol.layer.Tile({\n    visible: visible,\n    projection: projection,\n    source: source\n  });\n};\n\nmodule.exports = RasterLayers;\n\n},{\"core/utils/ol\":66}],108:[function(require,module,exports){\nvar BaseLayers = require('../layers/bases');\n\nvar MapHelpers = {\n  createViewer: function createViewer() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new _Viewer(opts);\n  }\n};\n\nvar _Viewer = function _Viewer() {\n  var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var controls = ol.control.defaults({\n    attribution: false,\n    zoom: false\n  });\n\n  var interactions = ol.interaction.defaults().extend([new ol.interaction.DragRotate()]);\n  interactions.removeAt(1); // remove douclickzoom\n  var view = opts.view instanceof ol.View ? opts.view : new ol.View(opts.view);\n  var options = {\n    controls: controls,\n    interactions: interactions,\n    ol3Logo: false,\n    view: view,\n    keyboardEventTarget: document\n  };\n  options.target = opts.id;\n  var map = new ol.Map(options);\n  this.map = map;\n};\n\n_Viewer.prototype.destroy = function () {\n  if (this.map) {\n    this.map.dispose();\n    this.map = null;\n  }\n};\n\n_Viewer.prototype.getView = function () {\n  return this.map.getView();\n};\n\n_Viewer.prototype.updateMap = function (mapObject) {};\n\n_Viewer.prototype.updateView = function () {};\n\n_Viewer.prototype.getMap = function () {\n  return this.map;\n};\n\n_Viewer.prototype.setTarget = function (id) {\n  this.map.setTarget(id);\n};\n\n_Viewer.prototype.zoomTo = function (coordinate, zoom) {\n  var view = this.map.getView();\n  view.setCenter(coordinate);\n  view.setZoom(zoom);\n};\n\n_Viewer.prototype.goTo = function (coordinates, options) {\n  options = options || {};\n  var animate = options.animate || true;\n  var zoom = options.zoom || false;\n  var view = this.map.getView();\n  var panAnimation = void 0;\n  var duration = 300;\n  var zoomAnimation = void 0;\n  if (animate) {\n    panAnimation = {\n      duration: duration,\n      center: coordinates\n    };\n    if (zoom) {\n      zoomAnimation = {\n        duration: duration,\n        zoom: zoom\n      };\n    } else {\n      zoomAnimation = {\n        duration: duration,\n        resolution: view.getResolution()\n      };\n    }\n    view.animate(panAnimation, zoomAnimation);\n  } else {\n    view.setCenter(coordinates);\n    if (zoom) {\n      view.setZoom(zoom);\n    }\n  }\n};\n\n_Viewer.prototype.goToRes = function (coordinates, options) {\n  options = options || {};\n  var animate = options.animate || true;\n  var view = this.map.getView();\n  var resolution = options.resolution || view.getResolution();\n  var panAnimation = void 0;\n  var zoomAnimation = void 0;\n  if (animate) {\n    panAnimation = {\n      duration: 200,\n      center: coordinates\n    };\n    zoomAnimation = {\n      duration: 200,\n      resolution: resolution\n    };\n    view.animate(panAnimation, zoomAnimation);\n  } else {\n    view.setCenter(coordinates);\n    view.setResolution(resolution);\n  }\n};\n\n_Viewer.prototype.fit = function (geometry) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var view = this.map.getView();\n  var animate = options.animate || true;\n  var panAnimation = void 0;\n  var zoomAnimation = void 0;\n  var duration = 200;\n  if (animate) {\n    panAnimation = view.animate({\n      duration: duration,\n      center: view.getCenter()\n    });\n    zoomAnimation = view.animate({\n      duration: duration,\n      resolution: view.getResolution()\n    });\n  }\n\n  if (options.animate) {\n    delete options.animate; // non lo passo al metodo di OL3 perch  un'opzione interna\n  }\n  options.constrainResolution = options.constrainResolution === undefined && true || options.constrainResolution;\n  options.size = this.map.getSize();\n  view.fit(geometry, options);\n};\n\n_Viewer.prototype.getZoom = function () {\n  var view = this.map.getView();\n  return view.getZoom();\n};\n\n_Viewer.prototype.getResolution = function () {\n  var view = this.map.getView();\n  return view.getResolution();\n};\n\n_Viewer.prototype.getCenter = function () {\n  var view = this.map.getView();\n  return view.getCenter();\n};\n\n_Viewer.prototype.getBBOX = function () {\n  return this.map.getView().calculateExtent(this.map.getSize());\n};\n\n_Viewer.prototype.getLayerByName = function (layerName) {\n  var layers = this.map.getLayers();\n  var length = layers.getLength();\n  for (var i = 0; i < length; i++) {\n    if (layerName === layers.item(i).get('name')) {\n      return layers.item(i);\n    }\n  }\n  return null;\n};\n\n_Viewer.prototype.removeLayerByName = function (layerName) {\n  var layer = this.getLayerByName(layerName);\n  if (layer) {\n    this.map.removeLayer(layer);\n    layer = undefined;\n  }\n};\n\n_Viewer.prototype.getActiveLayers = function () {\n  var activelayers = [];\n  this.map.getLayers().forEach(function (layer) {\n    var props = layer.getProperties();\n    if (props.basemap !== true && props.visible) {\n      activelayers.push(layer);\n    }\n  });\n\n  return activelayers;\n};\n\n_Viewer.prototype.removeLayers = function () {\n  this.map.getLayers().clear();\n};\n\n_Viewer.prototype.getLayersNoBase = function () {\n  var layers = [];\n  this.map.getLayers().forEach(function (layer) {\n    var props = layer.getProperties();\n    if (props.basemap != true) {\n      layers.push(layer);\n    }\n  });\n\n  return layers;\n};\n\n_Viewer.prototype.addBaseLayer = function (type) {\n  var layer = void 0;\n  type ? layer = BaseLayers[type] : layer = BaseLayers.BING.Aerial;\n  this.map.addLayer(layer);\n};\n\n_Viewer.prototype.changeBaseLayer = function (layerName) {\n  var baseLayer = this.getLayerByName(layername);\n  var layers = this.map.getLayers();\n  layers.insertAt(0, baseLayer);\n};\n\nmodule.exports = MapHelpers;\n\n},{\"../layers/bases\":106}],109:[function(require,module,exports){\nvar Projection = function Projection() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  if (!options.crs) return null;\n  // structure of information crs from server set on each layer and base layer\n  var _options$crs = options.crs,\n      epsg = _options$crs.epsg,\n      proj4def = _options$crs.proj4,\n      _options$crs$geograph = _options$crs.geographic,\n      geographic = _options$crs$geograph === undefined ? false : _options$crs$geograph,\n      _options$crs$axisinve = _options$crs.axisinverted,\n      axisinverted = _options$crs$axisinve === undefined ? false : _options$crs$axisinve,\n      extent = _options$crs.extent;\n\n  proj4def && proj4.defs(epsg, proj4def);\n  this._axisOrientation = axisinverted ? 'neu' : 'enu';\n  var degrees = geographic;\n  ol.proj.Projection.call(this, {\n    code: epsg,\n    extent: extent,\n    axisOrientation: this._axisOrientation,\n    units: degrees ? 'degrees' : 'm'\n  });\n};\n\nol.inherits(Projection, ol.proj.Projection);\n\nvar proto = Projection.prototype;\n\nproto.getAxisOrientation = function () {\n  return this._axisOrientation;\n};\n\nproto.isInvertedAxisOrientation = function () {\n  return this._axisOrientation === 'neu';\n};\n\nproto.getOlProjection = function () {};\n\nmodule.exports = Projection;\n\n},{}],110:[function(require,module,exports){\nvar _constant = require('constant');\n\nvar Projection = require('./projection');\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\nvar _require2 = require('core/utils/geo'),\n    normalizeEpsg = _require2.normalizeEpsg;\n\nvar Projections = {\n\n  /**\n   * @since v3.8\n   */\n  isRegistered: function isRegistered(epsg) {\n    return ol.proj.get(epsg);\n  },\n  get: function get() {\n    var crs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var cachedProjection = this.isRegistered(crs.epsg);\n    if (cachedProjection) return cachedProjection;\n    var projection = new Projection({\n      crs: crs\n    });\n    ol.proj.addProjection(projection);\n    ol.proj.proj4.register(proj4);\n    return projection;\n  },\n\n\n  /**\n   * Check and register epsg\n   * \n   * @param epsg : \"EPSG:<CODE>\" Ex. \"EPSG:4326\"\n   * @returns {Promise<Projection>}\n   * @since v3.8\n   */\n  registerProjection: function registerProjection(epsg) {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      var projection = _this.isRegistered(epsg);\n      // check if already register\n      if (projection) resolve(projection);else {\n        XHR.get({ url: '' + _constant.API_BASE_URLS.CRS + epsg.split(':')[1] }).then(function (_ref) {\n          var result = _ref.result,\n              data = _ref.data;\n\n          if (result) {\n            data.epsg = normalizeEpsg(data.epsg);\n            projection = _this.get(data);\n            ol.proj.proj4.register(proj4);\n            resolve(projection);\n          }\n        }).catch(function (err) {\n          return reject(err);\n        });\n      }\n    });\n  }\n};\n\nmodule.exports = Projections;\n\n},{\"./projection\":109,\"constant\":5,\"core/utils/geo\":65,\"core/utils/utils\":68}],111:[function(require,module,exports){\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction CatalogService() {\n  var _this2 = this;\n\n  this.state = {\n    prstate: _projects2.default.state,\n    highlightlayers: false,\n    external: {\n      wms: [], // added by wms cside bar component\n      vector: [] // added to map controls for the moment\n    },\n    layerstrees: [],\n    layersgroups: []\n  };\n\n  this.setters = {\n\n    /**\n     * @param {{ layer: unknown, type: 'vector' }}\n     * \n     * @fires CatalogService~addExternalLayer\n     * \n     * @since 3.8.0\n     */\n    addExternalLayer: function addExternalLayer() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          layer = _ref.layer,\n          _ref$type = _ref.type,\n          type = _ref$type === undefined ? 'vector' : _ref$type;\n\n      layer.removable = true;\n      this.state.external[type].push(layer);\n    },\n\n\n    /**\n     * @param {{ name: string, type: 'vector' }}\n     * \n     * @fires CatalogService~removeExternalLayer\n     * \n     * @since 3.8.0\n     */\n    removeExternalLayer: function removeExternalLayer() {\n      var _this = this;\n\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          name = _ref2.name,\n          _ref2$type = _ref2.type,\n          type = _ref2$type === undefined ? 'vector' : _ref2$type;\n\n      this.state.external[type].filter(function (layer, index) {\n        if (layer.name === name) {\n          _this.state.external[type].splice(index, 1);\n          return true;\n        }\n      });\n    },\n\n\n    /**\n     * @param {{ layer: unknown, type: unknown, selected: unknown }}\n     * \n     * @fires CatalogService~setSelectedExternalLayer\n     * \n     * @since 3.8.0\n     */\n    setSelectedExternalLayer: function setSelectedExternalLayer(_ref3) {\n      var layer = _ref3.layer,\n          type = _ref3.type,\n          selected = _ref3.selected;\n\n      this.state.external[type].forEach(function (externalLayer) {\n        if (typeof externalLayer.selected != \"undefined\") externalLayer.selected = layer === externalLayer ? selected : false;\n      });\n    }\n  };\n\n  base(this);\n  var layersStores = _catalogLayers2.default.getLayersStores();\n\n  layersStores.forEach(function (layersStore) {\n    return _this2.addLayersStoreToLayersTrees(layersStore);\n  });\n\n  _catalogLayers2.default.onafter('addLayersStore', function (layersStore) {\n    _this2.addLayersStoreToLayersTrees(layersStore);\n  });\n\n  _catalogLayers2.default.onafter('removeLayersStore', function (layersStore) {\n    _this2.state.layerstrees.find(function (layersTree, idx) {\n      if (layersTree.storeid === layersStore.getId()) {\n        _this2.state.layerstrees.splice(idx, 1);\n        return true;\n      }\n    });\n  });\n  _catalogLayers2.default.onafter('removeLayersStores', function () {\n    _this2.state.layerstrees.forEach(function (layersTree, idx) {\n      _this2.state.layerstrees.splice(idx, 1);\n    });\n  });\n}\n\ninherit(CatalogService, G3WObject);\n\nvar proto = CatalogService.prototype;\n\nproto.createLayersGroup = function () {\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref4$title = _ref4.title,\n      title = _ref4$title === undefined ? 'Layers Group' : _ref4$title,\n      _ref4$layers = _ref4.layers,\n      layers = _ref4$layers === undefined ? [] : _ref4$layers;\n\n  var nodes = [];\n  layers.forEach(function (layer) {\n    return nodes.push(layer);\n  });\n  return {\n    title: title,\n    nodes: nodes\n  };\n};\n\nproto.getMajorQgisVersion = function () {\n  return _projects2.default.getCurrentProject().getQgisVersion({\n    type: 'major'\n  });\n};\n\n// method to add a custom layers group\nproto.addLayersGroup = function (layersGroup) {\n  this.state.layersgroups.push(layersGroup);\n};\n\nproto.addLayersStoreToLayersTrees = function (layersStore) {\n  this.state.layerstrees.push({\n    tree: layersStore.getLayersTree(),\n    storeid: layersStore.getId()\n  });\n};\n\nproto.changeMapTheme = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(map_theme) {\n    var currentProject, rootNode, layerstree, changeMapThemeProjectObj;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // set is changing project view\n            _application2.default.changeProjectView(true);\n            currentProject = this.state.prstate.currentProject;\n            rootNode = this.state.layerstrees[0];\n\n            rootNode.checked = true;\n            layerstree = rootNode.tree[0].nodes;\n            _context.next = 7;\n            return currentProject.setLayersTreePropertiesFromMapTheme({\n              map_theme: map_theme,\n              layerstree: layerstree,\n              rootNode: rootNode\n            });\n\n          case 7:\n            changeMapThemeProjectObj = _context.sent;\n\n            _application2.default.changeProjectView(false);\n            return _context.abrupt('return', changeMapThemeProjectObj);\n\n          case 10:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x4) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns {unknown}\n * \n * @since 3.8.0\n */\nproto.getExternalLayers = function (_ref6) {\n  var _ref6$type = _ref6.type,\n      type = _ref6$type === undefined ? 'vector' : _ref6$type;\n\n  return this.state.external[type];\n};\n\n/**\n * @param {{ type: 'vector' }}\n * \n * @returns {unknown}\n * \n * @since 3.8.0\n */\nproto.getExternalSelectedLayers = function (_ref7) {\n  var _ref7$type = _ref7.type,\n      type = _ref7$type === undefined ? 'vector' : _ref7$type;\n\n  return this.getExternalLayers({ type: type }).filter(function (layer) {\n    return layer.selected;\n  });\n};\n\n/**\n * @param {{ id: string, type: 'vector' }}\n * \n * @returns {unknown}\n * \n * @since 3.8.0\n */\nproto.getExternalLayerById = function (_ref8) {\n  var id = _ref8.id,\n      _ref8$type = _ref8.type,\n      type = _ref8$type === undefined ? 'vector' : _ref8$type;\n\n  return this.state.external[type].find(function (layer) {\n    return layer.id === id;\n  });\n};\n\n/**\n * @param {{ id: string, type: unknown }}\n * \n * @returns {boolean}\n * \n * @since 3.8.0\n */\nproto.isExternalLayerSelected = function (_ref9) {\n  var id = _ref9.id,\n      type = _ref9.type;\n\n  var externalLayer = this.getExternalLayerById({ id: id, type: type });\n  return externalLayer && externalLayer.selected;\n};\n\nmodule.exports = CatalogService;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"services/application\":346,\"store/catalog-layers\":369,\"store/projects\":374}],112:[function(require,module,exports){\nvar _Catalog = require('components/Catalog.vue');\n\nvar catalogComponentOptions = _interopRequireWildcard(_Catalog);\n\nvar _CatalogLayersGroup = require('components/CatalogLayersGroup.vue');\n\nvar catalogLayersGroupComponentOptions = _interopRequireWildcard(_CatalogLayersGroup);\n\nvar _CatalogTristateTree = require('components/CatalogTristateTree.vue');\n\nvar catalogTristateTreeComponentOptions = _interopRequireWildcard(_CatalogTristateTree);\n\nvar _CatalogLayersLegend = require('components/CatalogLayersLegend.vue');\n\nvar catalogLayersLegendComponentOptions = _interopRequireWildcard(_CatalogLayersLegend);\n\nvar _CatalogLayersLegendItems = require('components/CatalogLayersLegendItems.vue');\n\nvar catalogLayersLegendItemsComponentOptions = _interopRequireWildcard(_CatalogLayersLegendItems);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/catalog/catalogservice');\n\nvar InternalComponent = Vue.extend(catalogComponentOptions);\n\nVue.component('g3w-catalog', catalogComponentOptions);\nVue.component('layers-group', catalogLayersGroupComponentOptions);\nVue.component('tristate-tree', catalogTristateTreeComponentOptions);\nVue.component('layerslegend', catalogLayersLegendComponentOptions);\nVue.component('layerslegend-items', catalogLayersLegendItemsComponentOptions);\n\nfunction CatalogComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.resizable = true;\n  base(this, options);\n  var legend = options.config.legend;\n\n  this.title = \"catalog\";\n  this.mapComponentId = options.mapcomponentid;\n  var service = options.service || new Service();\n  this.setService(service);\n  this.setInternalComponent(new InternalComponent({\n    service: service,\n    legend: legend\n  }));\n  this.internalComponent.state = this.getService().state;\n  var listenToMapVisibility = function listenToMapVisibility(map) {\n    var mapService = map.getService();\n    _this.state.visible = !mapService.state.hidden;\n    mapService.onafter('setHidden', function (hidden) {\n      _this.state.visible = !mapService.state.hidden;\n      _this.state.expanded = true;\n    });\n  };\n  if (this.mapComponentId) {\n    var map = _gui2.default.getComponent(this.mapComponentId);\n    !map && _components2.default.on('componentregistered', function (component) {\n      return component.getId() === _this.mapComponentId && listenToMapVisibility(component);\n    }) || listenToMapVisibility(map);\n  }\n}\n\ninherit(CatalogComponent, Component);\n\nmodule.exports = CatalogComponent;\n\n},{\"components/Catalog.vue\":196,\"components/CatalogLayersGroup.vue\":200,\"components/CatalogLayersLegend.vue\":201,\"components/CatalogLayersLegendItems.vue\":202,\"components/CatalogTristateTree.vue\":203,\"core/utils/utils\":68,\"gui/catalog/catalogservice\":111,\"gui/component/component\":115,\"services/gui\":356,\"store/components\":370}],113:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nvar CatalogEventHub = new Vue();\n\nexports.default = CatalogEventHub;\n\n},{}],114:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _C3XYLine = require('components/C3XYLine.vue');\n\nvar _C3XYLine2 = _interopRequireDefault(_C3XYLine);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Chartsfactory = {\n  CHARTS: {\n    c3: {\n      lineXY: _C3XYLine2.default\n    }\n  },\n  /*\n  * type: <library(es:c3)>:<chartType:(es.lineXY)>\n  * */\n  build: function build() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        type = _ref.type,\n        _ref$hooks = _ref.hooks,\n        hooks = _ref$hooks === undefined ? {} : _ref$hooks;\n\n    var _type$split = type.split(':'),\n        _type$split2 = _slicedToArray(_type$split, 2),\n        _type$split2$ = _type$split2[0],\n        library = _type$split2$ === undefined ? 'c3' : _type$split2$,\n        _type$split2$2 = _type$split2[1],\n        chartType = _type$split2$2 === undefined ? 'lineXY' : _type$split2$2;\n\n    var chartVue = this.CHARTS[library][chartType];\n    return Object.assign(hooks, chartVue);\n  }\n};\n\nmodule.exports = Chartsfactory;\n\n},{\"components/C3XYLine.vue\":195}],115:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    merge = _require.merge,\n    noop = _require.noop,\n    capitalize_first_letter = _require.capitalize_first_letter,\n    resolve = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\n\nvar VUECOMPONENTSATTRIBUTES = ['methods', 'computed', 'data', 'components'];\n\n// class component\nvar Component = function Component() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._firstLayout = true;\n  // internal VUE component\n  this.internalComponent = null;\n  this._components = [];\n  var _options$id = options.id,\n      id = _options$id === undefined ? Math.random() * 1000 : _options$id,\n      _options$title = options.title,\n      title = _options$title === undefined ? '' : _options$title,\n      _options$visible = options.visible,\n      visible = _options$visible === undefined ? true : _options$visible,\n      _options$open = options.open,\n      open = _options$open === undefined ? false : _options$open,\n      _options$resizable = options.resizable,\n      resizable = _options$resizable === undefined ? false : _options$resizable,\n      _options$info = options.info,\n      info = _options$info === undefined ? null : _options$info,\n      _options$loading = options.loading,\n      loading = _options$loading === undefined ? false : _options$loading,\n      _options$disabled = options.disabled,\n      disabled = _options$disabled === undefined ? false : _options$disabled,\n      _options$closewhensho = options.closewhenshowviewportcontent,\n      closewhenshowviewportcontent = _options$closewhensho === undefined ? true : _options$closewhensho;\n\n  this.id = id;\n  this.title = title;\n  this.state = {\n    visible: visible, // visibile\n    open: open, // open,\n    resizable: resizable,\n    info: info,\n    loading: loading,\n    disabled: disabled,\n    closewhenshowviewportcontent: closewhenshowviewportcontent,\n    sizes: {\n      width: 0,\n      height: 0\n    }\n  };\n  //setters\n  this.setters = {\n    setOpen: function setOpen(bool) {\n      this.state.open = bool;\n      this._setOpen(bool);\n    },\n    setVisible: function setVisible(bool) {\n      this.state.visible = bool;\n      this._setVisible(bool);\n    },\n    setLoading: function setLoading() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.state.loading = bool;\n    },\n    setDisabled: function setDisabled() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.state.disabled = bool;\n    },\n    reload: function reload() {\n      this._reload();\n    }\n  };\n  merge(this, options);\n  base(this);\n  // add events options\n  this.events = options.events;\n  this.events && this.handleEventsComponent();\n};\n\ninherit(Component, G3WObject);\n\nvar proto = Component.prototype;\n\nproto.init = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.vueComponent = this.createVueComponent(options.vueComponentObject);\n  this._components = options.components || [];\n  var service = options.service || noop;\n  var template = options.template,\n      propsData = options.propsData;\n\n  this.setService(service);\n  this._service.init ? this._service.init(options) : null;\n  template && this.setInternalComponentTemplate(template);\n  this.setInternalComponent = function () {\n    var InternalComponent = Vue.extend(this.vueComponent);\n    this.internalComponent = new InternalComponent({\n      service: this._service,\n      template: template,\n      propsData: propsData\n    });\n    this.internalComponent.state = this.getService().state;\n  };\n  this.setInternalComponent();\n};\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.setId = function (id) {\n  this.id = id;\n};\n\nproto.getOpen = function () {\n  return this.state.open;\n};\n\nproto.closeWhenViewportContentIsOpen = function () {\n  return this.getOpen() && this.state.closewhenshowviewportcontent;\n};\n\nproto.getVisible = function () {\n  return this.state.visible;\n};\n\nproto.getTitle = function () {\n  return this.state.title;\n};\n\nproto.setTitle = function (title) {\n  this.state.title = title;\n};\n\nproto.getService = function () {\n  return this._service;\n};\n\nproto.setService = function (service) {\n  this._service = service;\n};\n\nproto.handleEventsComponent = function () {\n  var _events = this.events,\n      open = _events.open,\n      visible = _events.visible;\n\n  if (open) {\n    var _open$when = open.when,\n        when = _open$when === undefined ? \"after\" : _open$when,\n        _open$cb = open.cb,\n        cb = _open$cb === undefined ? function () {} : _open$cb,\n        _open$guiEvents = open.guiEvents,\n        guiEvents = _open$guiEvents === undefined ? [] : _open$guiEvents;\n\n    this['on' + when]('setOpen', function (bool) {\n      return cb(bool);\n    });\n  }\n};\n\nproto.insertComponentAt = function (index, Component) {\n  this._components.splice(index, 0, Component);\n};\n\nproto.removeCompomentAt = function (index) {\n  this._components.splice(index, 1);\n};\n\nproto.addComponent = function (Component) {\n  this._components.push(Component);\n};\n\nproto.popComponent = function () {\n  return this._components.pop();\n};\n\nproto.removeComponent = function (Component) {\n  var _this = this;\n\n  this._components.forEach(function (component, index) {\n    if (component === Component) {\n      _this.splice(index, 1);\n      return false;\n    }\n  });\n};\n\nproto.setComponents = function (components) {\n  this._components = Array.isArray(components) ? components : [];\n};\n\nproto.exendComponents = function (components) {\n  _.merge(this._components, components);\n};\n\nproto.getInternalComponent = function () {\n  return this.internalComponent;\n};\n\nproto.setInternalComponent = function (internalComponent) {\n  var _this2 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (!internalComponent && this.internalComponentClass) this.internalComponent = new this.internalComponentClass();else this.internalComponent = internalComponent;\n  var _options$events = options.events,\n      events = _options$events === undefined ? [] : _options$events;\n\n  events.forEach(function (event) {\n    var name = event.name,\n        handler = event.handler;\n\n    _this2.internalComponent.$on(name, function (data) {\n      return handler && handler(data) || _this2['set' + capitalize_first_letter(name)](data);\n    });\n  });\n};\n\nproto.createVueComponent = function (vueObjOptions) {\n  return _.cloneDeep(vueObjOptions);\n};\n\nproto.addInternalComponentData = function (data) {\n  _.merge(this.internalComponent, data);\n};\n\nproto.overwriteServiceMethod = function (methodName, method) {\n  this._service[methodName] = method;\n};\n\nproto.overwriteServiceMethods = function (methodsOptions) {\n  var _this3 = this;\n\n  Object.entries(methodsOptions).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        methodName = _ref2[0],\n        method = _ref2[1];\n\n    return _this3.overwriteServiceMethod(methodName, method);\n  });\n};\n\nproto.extendService = function (serviceOptions) {\n  this._service && merge(this._service, serviceOptions);\n};\n\nproto.extendInternalComponent = function (internalComponentOptions) {\n  var _this4 = this;\n\n  if (this.vueComponent) {\n    Object.entries(internalComponentOptions).forEach(function (_ref3) {\n      var _ref4 = _slicedToArray(_ref3, 2),\n          key = _ref4[0],\n          value = _ref4[1];\n\n      if (VUECOMPONENTSATTRIBUTES.indexOf(key) > -1) {\n        switch (key) {\n          case 'methods':\n            _this4.extendInternalComponentMethods(value);\n            break;\n          case 'components':\n            _this4.extendInternalComponentComponents(value);\n            break;\n          default:\n            merge(_this4.vueComponent[key], value);\n        }\n      }\n    });\n  } else this.vueComponent = internalComponentOptions;\n};\n\nproto.extendInternalComponentComponents = function (components) {\n  components && merge(this.vueComponent.components, components);\n};\n\nproto.extendComponents = function (components) {\n  this.extendInternalComponentComponents(components);\n};\n\nproto.addComponent = function (component) {\n  if (component) this.vueComponent.components[component.key] = component.value;\n};\n\nproto.extendInternalComponentMethods = function (methods) {\n  if (methods) {\n    Object.entries(methods).forEach.forEach(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n          key = _ref6[0],\n          value = _ref6[1];\n\n      return !(value instanceof Function) && delete methods[key];\n    });\n    merge(this.vueComponent.methods, methods);\n  }\n};\n\nproto.extendInternalComponentComputed = function (computed) {\n  if (computed) {\n    Object.entries(computed).forEach(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          key = _ref8[0],\n          value = _ref8[1];\n\n      return !(value instanceof Function) && delete computed[key];\n    });\n    merge(this.vueComponent.computed, computed);\n  }\n};\n\nproto.setInternalComponentTemplate = function (template) {\n  if (template) this.vueComponent.template = template;\n};\n\nproto.getInternalTemplate = function () {\n  return this.vueComponent.template;\n};\n\nproto.destroy = function () {};\n\nproto.click = function () {};\n\n// hook function to show componet\nproto.show = function () {};\n\nproto._setOpen = function (bool) {};\n\nproto._setVisible = function () {};\n\nproto._reload = function () {};\n\nproto.mount = function (parent, append) {\n  var _this5 = this;\n\n  var d = $.Deferred();\n  if (!this.internalComponent) this.setInternalComponent();\n  if (append) {\n    var iCinstance = this.internalComponent.$mount();\n    $(parent).append(iCinstance.$el);\n  } else this.internalComponent.$mount(parent);\n  this.internalComponent.$nextTick(function () {\n    $(parent).localize();\n    _this5.emit('ready');\n    d.resolve(true);\n  });\n  // emit mount event\n  this.emit('mount');\n  return d.promise();\n};\n\nproto.unmount = function () {\n  if (!this.internalComponent) return resolve();\n  if (this.state.resizable) this.internalComponent.$off('resize-component', this.internalComponent.layout);\n  this.state.open = false;\n  // destroy vue component\n  this.internalComponent.$destroy(true);\n  // remove dom element\n  $(this.internalComponent.$el).remove();\n  // set internal componet to null (for GC)\n  this.internalComponent = null;\n  // emit unmount event\n  this.emit('unmount');\n  return resolve();\n};\n\nproto.ismount = function () {\n  return this.internalComponent && this.internalComponent.$el;\n};\n\nproto.layout = function (width, height) {\n  var _this6 = this;\n\n  if (this.state.resizable && this._firstLayout) {\n    this.internalComponent.$on('resize-component', this.internalComponent.layout);\n    this._firstLayout = false;\n  }\n  this.internalComponent.$nextTick(function () {\n    _this6.internalComponent.$emit('resize-component', {\n      width: width,\n      height: height\n    });\n  });\n  // emit layout event\n  this.emit('layout');\n};\n\nmodule.exports = Component;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],116:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Component = require('gui/component/component');\n\nvar ComponentsFactory = {\n  // build a componet\n  build: function build(_ref) {\n    var vueComponentObject = _ref.vueComponentObject,\n        service = _ref.service,\n        propsData = _ref.propsData;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var component = new Component(options);\n    component.init({\n      vueComponentObject: vueComponentObject,\n      service: service,\n      propsData: propsData\n    });\n    return component;\n  },\n\n  //buildSidebarComponent and add to sidebar\n  buildSidebar: function buildSidebar(_ref2) {\n    var vueComponentObject = _ref2.vueComponentObject,\n        service = _ref2.service,\n        propsData = _ref2.propsData;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var id = options.id,\n        title = options.title,\n        _options$open = options.open,\n        open = _options$open === undefined ? false : _options$open,\n        _options$collapsible = options.collapsible,\n        collapsible = _options$collapsible === undefined ? true : _options$collapsible,\n        _options$isolate = options.isolate,\n        isolate = _options$isolate === undefined ? false : _options$isolate,\n        _options$mobile = options.mobile,\n        mobile = _options$mobile === undefined ? true : _options$mobile,\n        _options$iconConfig = options.iconConfig,\n        iconConfig = _options$iconConfig === undefined ? {} : _options$iconConfig,\n        _options$events = options.events,\n        events = _options$events === undefined ? {} : _options$events,\n        _options$sidebarOptio = options.sidebarOptions,\n        sidebarOptions = _options$sidebarOptio === undefined ? { position: 1 } : _options$sidebarOptio;\n\n\n    var component = this.build({ vueComponentObject: vueComponentObject }, {\n      id: id,\n      title: title,\n      open: open,\n      collapsible: collapsible,\n      isolate: isolate,\n      iconColor: iconConfig.color && iconConfig.color,\n      icon: iconConfig.icon && _gui2.default.getFontClass(iconConfig.icon),\n      mobile: mobile,\n      events: events\n    });\n\n    _gui2.default.addComponent(component, 'sidebar', sidebarOptions);\n    return component;\n  }\n};\n\nmodule.exports = ComponentsFactory;\n\n},{\"gui/component/component\":115,\"services/gui\":356}],117:[function(require,module,exports){\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nmodule.exports = {\n  matcher: function matcher(params, data) {\n    var searchItem = params.term ? params.term.toLowerCase() : params.term;\n    // If there are no search terms, return all of the data\n    if ($.trim(searchItem) === '') return data;\n    // Do not display the item if there is no 'text' property\n    if (typeof data.text === 'undefined') return null;\n    // `params.term` should be the term that is used for searching\n    // `data.text` is the text that is displayed for the data object\n    if (data.text.toLowerCase().indexOf(searchItem) > -1) {\n      var modifiedData = $.extend({}, data, true);\n      // You can return modified objects from here\n      // This includes matching the `children` how you want in nested data sets\n      return modifiedData;\n    }\n    // Return `null` if the term should not be displayed\n    return null;\n  },\n  language: {\n    noResults: function noResults() {\n      return t(\"sdk.search.no_results\");\n    },\n    errorLoading: function errorLoading() {\n      return t(\"sdk.search.error_loading\");\n    },\n    searching: function searching() {\n      return t(\"sdk.search.searching\");\n    },\n    inputTooShort: function inputTooShort(args) {\n      var remainingChars = args.minimum - args.input.length;\n      return t(\"sdk.search.autocomplete.inputshort.pre\") + ' ' + remainingChars + ' ' + t(\"sdk.search.autocomplete.inputshort.post\");\n    }\n  }\n};\n\n},{\"core/i18n/i18n.service\":14}],118:[function(require,module,exports){\nvar _FieldText = require('components/FieldText.vue');\n\nvar _FieldText2 = _interopRequireDefault(_FieldText);\n\nvar _FieldLink = require('components/FieldLink.vue');\n\nvar _FieldLink2 = _interopRequireDefault(_FieldLink);\n\nvar _FieldImage = require('components/FieldImage.vue');\n\nvar _FieldImage2 = _interopRequireDefault(_FieldImage);\n\nvar _FieldGeo = require('components/FieldGeo.vue');\n\nvar _FieldGeo2 = _interopRequireDefault(_FieldGeo);\n\nvar _FieldMedia = require('components/FieldMedia.vue');\n\nvar _FieldMedia2 = _interopRequireDefault(_FieldMedia);\n\nvar _FieldVue = require('components/FieldVue.vue');\n\nvar _FieldVue2 = _interopRequireDefault(_FieldVue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = {\n  simple_field: _FieldText2.default,\n  text_field: _FieldText2.default,\n  link_field: _FieldLink2.default,\n  image_field: _FieldImage2.default,\n  geo_field: _FieldGeo2.default,\n  photo_field: _FieldImage2.default,\n  media_field: _FieldMedia2.default,\n  vue_field: _FieldVue2.default\n};\n\nmodule.exports = Fields;\n\n},{\"components/FieldGeo.vue\":206,\"components/FieldImage.vue\":207,\"components/FieldLink.vue\":208,\"components/FieldMedia.vue\":209,\"components/FieldText.vue\":210,\"components/FieldVue.vue\":211}],119:[function(require,module,exports){\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = require('./fields');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar URLPattern = /^(https?:\\/\\/[^\\s]+)/g;\nvar PhotoPattern = /[^\\s]+.(png|jpg|jpeg|gif)$/g;\n\nvar FieldType = {\n  SIMPLE: 'simple',\n  GEO: 'geo',\n  LINK: 'link',\n  PHOTO: 'photo',\n  PHOTOLINK: \"photolink\",\n  IMAGE: 'image',\n  POINTLINK: 'pointlink',\n  ROUTE: 'route',\n  VUE: 'vue'\n};\n\nmodule.exports = {\n  /**\n   * Get Type field from field value\n   * field : Object contain the value of the field\n   * @param field\n   * @returns {string}\n   */\n  getType: function getType(field) {\n    var type = field.type;\n    if (type !== 'vue') {\n      var fieldValue = field.value;\n      var value = fieldValue && toRawType(fieldValue) === 'Object' && !fieldValue.coordinates && !fieldValue.vue ? fieldValue.value : fieldValue;\n      if (!value) type = FieldType.SIMPLE;else if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) == 'object') {\n        if (value.coordinates) type = FieldType.GEO;else if (value.vue) type = FieldType.VUE;\n      } else if (value && Array.isArray(value)) {\n        if (value.length && value[0].photo) type = FieldType.PHOTO;else type = FieldType.SIMPLE;\n      } else if (value.toString().toLowerCase().match(PhotoPattern)) {\n        type = FieldType.PHOTO;\n      } else if (value.toString().match(URLPattern)) {\n        type = FieldType.LINK;\n      } else type = FieldType.SIMPLE;\n    }\n    return type + '_field';\n  },\n  isSimple: function isSimple(field) {\n    return this.getType(field) === FieldType.SIMPLE + '_field';\n  },\n  isLink: function isLink(field) {\n    return this.getType(field) === FieldType.LINK + '_field';\n  },\n  isImage: function isImage(field) {\n    return this.getType(field) === FieldType.IMAGE + '_field';\n  },\n  isPhoto: function isPhoto(field) {\n    return this.getType(field) === FieldType.PHOTO + '_field';\n  },\n  isVue: function isVue(field) {\n    return this.getType(field) === FieldType.VUE + '_field';\n  },\n\n  /**\n   * Method to add a new field type to Fields\n   * @param type\n   * @param field\n   */\n  add: function add(_ref) {\n    var type = _ref.type,\n        field = _ref.field;\n\n    Fields[type] = field;\n  },\n\n  /**\n   * Remove field from Fields list\n   * @param type\n   */\n  remove: function remove(type) {\n    delete Fields[type];\n  },\n\n  /**\n   * chenge type of field (example to set vue type)\n   * @param layerId\n   * @param field\n   */\n  changeConfigFieldType: function changeConfigFieldType(_ref2) {\n    var layerId = _ref2.layerId,\n        _ref2$field = _ref2.field,\n        field = _ref2$field === undefined ? {} : _ref2$field;\n\n    var layer = _catalogLayers2.default.getLayerById(layerId);\n    layer.changeConfigFieldType(field);\n  },\n\n  /**\n   * Reset origin type\n   * @param layerId\n   * @param field\n   */\n  resetConfigFieldType: function resetConfigFieldType(_ref3) {\n    var layerId = _ref3.layerId,\n        _ref3$field = _ref3.field,\n        field = _ref3$field === undefined ? {} : _ref3$field;\n\n    var layer = _catalogLayers2.default.getLayerById(layerId);\n    layer.resetConfigField(field);\n  }\n};\n\n},{\"./fields\":118,\"core/utils/utils\":68,\"store/catalog-layers\":369}],120:[function(require,module,exports){\nvar _inputservice = require('core/expression/inputservice');\n\nvar _inputservice2 = _interopRequireDefault(_inputservice);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction FormService() {\n  var _this = this;\n\n  this.state = null;\n  this.eventBus = new Vue();\n  /**\n   * property used to force some state property to force to be a certain value.\n   * It set fro example by child form service to form service parent\n   * @type {{valid: boolean, update: boolean}}\n   */\n  this.force = {\n    update: false,\n    valid: false // NOT USED FOR THE MOMENT\n  };\n  this.layer;\n  this.setters = {\n    setInitForm: function setInitForm() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._setInitForm(options);\n    },\n    setFormStructure: function setFormStructure(formStructure) {\n      this.state.formstructure = formStructure;\n    },\n\n    // setter change fields\n    setFormFields: function setFormFields() {\n      var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.state.fields = fields;\n      this.handleFieldsWithExpression(fields);\n    },\n    setupFields: function setupFields() {\n      this._setupFields();\n    },\n\n    // setter insert data into form\n    setFormData: function setFormData(fields) {\n      this.setFormFields(fields);\n    },\n\n    // setter single field\n    setField: function setField(field) {},\n\n    // settere state\n    setState: function setState(state) {\n      this._setState(state);\n    },\n\n    // setter add action\n    addActionsForForm: function addActionsForForm(actions) {},\n    postRender: function postRender(element) {\n      // hook for listener to chenge DOM\n    }\n  };\n  base(this);\n  this.init = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this._setInitForm(options);\n  };\n  // init form options passed for example by editor\n  this._setInitForm = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var fields = options.fields,\n        feature = options.feature,\n        parentData = options.parentData,\n        layer = options.layer,\n        _options$title = options.title,\n        title = _options$title === undefined ? 'Form' : _options$title,\n        formId = options.formId,\n        name = options.name,\n        _options$buttons = options.buttons,\n        buttons = _options$buttons === undefined ? {} : _options$buttons,\n        context_inputs = options.context_inputs,\n        isnew = options.isnew,\n        _options$footer = options.footer,\n        footer = _options$footer === undefined ? {} : _options$footer,\n        headerComponent = options.headerComponent;\n\n    this.layer = layer;\n    // need to be cloned\n    this.feature = feature.clone();\n    this.title = title;\n    this.formId = formId;\n    this.name = name;\n    this.buttons = buttons;\n    this.context_inputs = context_inputs;\n    this.parentData = parentData;\n    this.headerComponent = headerComponent;\n    // Property used to set forced update state of the service\n    //Used fro example from child form to set update also parent service\n    this.state = {\n      layerid: layer.getId(),\n      loading: false,\n      components: [],\n      disabledcomponents: [],\n      component: null,\n      headers: [],\n      currentheaderid: null,\n      fields: null,\n      buttons: this.buttons,\n      disabled: false,\n      isnew: isnew,\n      valid: true, // global form validation state. True at beginning\n      update: feature.isNew(), // set update in case or not is a new feature\n      // when input change will be update\n      tovalidate: {},\n      feature: feature,\n      componentstovalidate: {},\n      footer: footer,\n      ready: false\n    };\n    this.force.update = feature.isNew();\n    this.filter_expression_fields_dependencies = {}; // expression fields dependencies from filter_expression\n    this.default_expression_fields_dependencies = {};\n    this.setFormFields(fields);\n    if (this.layer && options.formStructure) {\n      var formstructure = this.layer.getLayerEditingFormStructure(fields);\n      this.setFormStructure(formstructure);\n    }\n  };\n  this.eventBus.$on('set-loading-form', function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    return _this.state.loading = bool;\n  });\n}\n\ninherit(FormService, G3WObject);\n\nvar proto = FormService.prototype;\n\nproto.setReady = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.ready = bool;\n};\n\n/**\n * Method called when an input change value\n * @param input\n */\nproto.changeInput = function (input) {\n  this.evaluateFilterExpressionFields(input);\n  this.evaluateDefaultExpressionFields(input);\n  this.isValid(input);\n  this.isUpdated(input);\n};\n\n/**\n * Method to check if form is updated base on change on input\n * @param input\n */\nproto.isUpdated = function (input) {\n  this.state.update = this.force.update || (!this.state.update ? input.update : !!this.state.fields.find(function (field) {\n    return field.update;\n  }));\n};\n\n/**\n *\n */\nproto.setUpdate = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$force = options.force,\n      force = _options$force === undefined ? false : _options$force;\n\n  this.force.update = force;\n  this.state.update = this.force.update || bool;\n};\n\n/**\n * Method to evaluate filter expression\n * @param input\n */\nproto.evaluateDefaultExpressionFields = function () {\n  var _this2 = this;\n\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var default_expression_fields_dependencies = this.default_expression_fields_dependencies[input.name];\n  if (default_expression_fields_dependencies) {\n    this.feature.set(input.name, input.value);\n    default_expression_fields_dependencies.forEach(function (expression_dependency_field) {\n      var field = _this2._getField(expression_dependency_field);\n      var qgs_layer_id = _this2.layer.getId();\n      _inputservice2.default.handleDefaultExpressionFormInput({\n        parentData: _this2.parentData,\n        qgs_layer_id: qgs_layer_id, // the owner of feature\n        field: field, // field related\n        feature: _this2.feature //feature to transform in form_data\n      });\n    });\n  }\n};\n\n/**\n * Method to evaluate filter expression\n * @param input\n */\nproto.evaluateFilterExpressionFields = function () {\n  var _this3 = this;\n\n  var input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var filter_expression_fields_dependencies = this.filter_expression_fields_dependencies[input.name];\n  if (filter_expression_fields_dependencies) {\n    //need in case of init form service where filter_expression option has\n    //referencing_fields or referenced_columns from another layer\n    var fieldForm = this._getField(input.name);\n    fieldForm && this.feature.set(fieldForm.name, fieldForm.value);\n    filter_expression_fields_dependencies.forEach(function (expression_dependency_field) {\n      var field = _this3._getField(expression_dependency_field);\n      var qgs_layer_id = _this3.layer.getId();\n      _inputservice2.default.handleFilterExpressionFormInput({\n        parentData: _this3.parentData,\n        qgs_layer_id: qgs_layer_id, // the owner of feature\n        field: field, // field related\n        feature: _this3.feature //feature to transform in form_data\n      });\n    });\n  }\n};\n\n/**\n * Method to handle expression on\n * @param fields\n */\nproto.handleFieldsWithExpression = function () {\n  var _this4 = this;\n\n  var fields = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  fields.forEach(function (field) {\n    var _field$input$options = field.input.options,\n        options = _field$input$options === undefined ? {} : _field$input$options;\n    /**\n     * Case of a field that has a filter_expression value object\n     */\n\n    if (options.filter_expression) {\n      var filter_expression_dependency_fields = new Set();\n      var _options$filter_expre = options.filter_expression,\n          _options$filter_expre2 = _options$filter_expre.referencing_fields,\n          referencing_fields = _options$filter_expre2 === undefined ? [] : _options$filter_expre2,\n          _options$filter_expre3 = _options$filter_expre.referenced_columns,\n          referenced_columns = _options$filter_expre3 === undefined ? [] : _options$filter_expre3;\n\n      [].concat(_toConsumableArray(referenced_columns), _toConsumableArray(referencing_fields)).forEach(function (dependency_field) {\n        return filter_expression_dependency_fields.add(dependency_field);\n      });\n      filter_expression_dependency_fields.forEach(function (dependency_field) {\n        if (_this4.filter_expression_fields_dependencies[dependency_field] === undefined) _this4.filter_expression_fields_dependencies[dependency_field] = [];\n        _this4.filter_expression_fields_dependencies[dependency_field].push(field.name);\n      });\n    }\n    /**\n     * Case of a field that has a default_value object and check if apply_on_update only\n     */\n    if (options.default_expression) {\n      var _options$default_expr = options.default_expression,\n          _options$default_expr2 = _options$default_expr.referencing_fields,\n          _referencing_fields = _options$default_expr2 === undefined ? [] : _options$default_expr2,\n          _options$default_expr3 = _options$default_expr.referenced_columns,\n          _referenced_columns = _options$default_expr3 === undefined ? [] : _options$default_expr3,\n          _options$default_expr4 = _options$default_expr.apply_on_update,\n          apply_on_update = _options$default_expr4 === undefined ? false : _options$default_expr4;\n      /**\n       * In case on apply_on_update true always listend dependenencies change\n       * otherwise only for new Feature\n       */\n\n\n      if (apply_on_update || _this4.state.isnew) {\n        var default_expression_dependency_fields = new Set();\n        [].concat(_toConsumableArray(_referenced_columns), _toConsumableArray(_referencing_fields)).forEach(function (dependency_field) {\n          return default_expression_dependency_fields.add(dependency_field);\n        });\n        default_expression_dependency_fields.forEach(function (dependency_field) {\n          if (_this4.default_expression_fields_dependencies[dependency_field] === undefined) _this4.default_expression_fields_dependencies[dependency_field] = [];\n          _this4.default_expression_fields_dependencies[dependency_field].push(field.name);\n        });\n      }\n    }\n  });\n  // start to evaluate filter expression field\n  Object.keys(this.filter_expression_fields_dependencies).forEach(function (name) {\n    _this4.evaluateFilterExpressionFields({\n      name: name\n    });\n  });\n};\n\nproto.setCurrentFormPercentage = function (perc) {\n  this.layer.setFormPercentage(perc);\n};\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto.setValidComponent = function (_ref) {\n  var id = _ref.id,\n      valid = _ref.valid;\n\n  this.state.componentstovalidate[id] = valid;\n  this.isValid();\n};\n\nproto.getValidComponent = function (id) {\n  return this.state.componentstovalidate[id];\n};\n\n// Every input send to form it valid value that will change the general state of form\nproto.isValid = function (input) {\n  var _this5 = this;\n\n  if (input) {\n    // check mutually\n    if (input.validate.mutually) {\n      if (!input.validate.required) {\n        if (!input.validate.empty) {\n          input.validate._valid = input.validate.valid;\n          input.validate.mutually_valid = input.validate.mutually.reduce(function (previous, inputname) {\n            return previous && _this5.state.tovalidate[inputname].validate.empty;\n          }, true);\n          input.validate.valid = input.validate.mutually_valid && input.validate.valid;\n        } else {\n          input.value = null;\n          input.validate.mutually_valid = true;\n          input.validate.valid = true;\n          input.validate._valid = true;\n          var countNoTEmptyInputName = [];\n          for (var i = input.validate.mutually.length; i--;) {\n            var inputname = input.validate.mutually[i];\n            !this.state.tovalidate[inputname].validate.empty && countNoTEmptyInputName.push(inputname);\n          }\n          if (countNoTEmptyInputName.length < 2) {\n            countNoTEmptyInputName.forEach(function (inputname) {\n              _this5.state.tovalidate[inputname].validate.mutually_valid = true;\n              _this5.state.tovalidate[inputname].validate.valid = true;\n              setTimeout(function () {\n                _this5.state.tovalidate[inputname].validate.valid = _this5.state.tovalidate[inputname].validate._valid;\n                _this5.state.valid = _this5.state.valid && _this5.state.tovalidate[inputname].validate.valid;\n              });\n            });\n          }\n        }\n      }\n      //check if min_field or max_field is set\n    } else if (!input.validate.empty && (input.validate.min_field || input.validate.max_field)) {\n      var input_name = input.validate.min_field || input.validate.max_field;\n      input.validate.valid = input.validate.min_field ? this.state.tovalidate[input.validate.min_field].validate.empty || 1 * input.value > 1 * this.state.tovalidate[input.validate.min_field].value : this.state.tovalidate[input.validate.max_field].validate.empty || 1 * input.value < 1 * this.state.tovalidate[input.validate.max_field].value;\n      if (input.validate.valid) this.state.tovalidate[input_name].validate.valid = true;\n    }\n  }\n  this.state.valid = Object.values(this.state.tovalidate).reduce(function (previous, input) {\n    return previous && input.validate.valid;\n  }, true) && Object.values(this.state.componentstovalidate).reduce(function (previous, valid) {\n    return previous && valid;\n  }, true);\n};\n\nproto.addComponents = function () {\n  var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = components[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var component = _step.value;\n\n      this.addComponent(component);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.addComponent = function (component) {\n  var id = component.id,\n      title = component.title,\n      name = component.name,\n      icon = component.icon,\n      valid = component.valid,\n      headerComponent = component.headerComponent,\n      _component$header = component.header,\n      header = _component$header === undefined ? true : _component$header;\n\n  if (valid !== undefined) {\n    this.state.componentstovalidate[id] = valid;\n    this.state.valid = this.state.valid && valid;\n    this.eventBus.$emit('add-component-validate', {\n      id: id,\n      valid: valid\n    });\n  }\n  // we can set a component that can be part of headers (tabs or not)\n  if (header) {\n    this.state.headers.push({ title: title, name: name, id: id, icon: icon, component: headerComponent });\n    this.state.currentheaderid = this.state.currentheaderid || id;\n  }\n\n  this.state.components.push(component);\n};\n\nproto.replaceComponent = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      component = _ref2.component;\n\n  var index = this.state.components.findIndex(function (component) {\n    return component.id === id;\n  });\n  this.state.components.splice(index, 1, component);\n};\n\nproto.disableComponent = function (_ref3) {\n  var id = _ref3.id,\n      disabled = _ref3.disabled;\n\n  if (disabled) this.state.disabledcomponents.push(id);else this.state.disabledcomponents = this.state.disabledcomponents.filter(function (disableId) {\n    return disabledId !== id;\n  });\n};\n\nproto.setCurrentComponentById = function (id) {\n  if (this.state.disabledcomponents.indexOf(id) === -1) {\n    this.setIdHeader(id);\n    this.state.component = this.state.components.find(function (component) {\n      return component.id === id;\n    }).component;\n    return this.state.component;\n  }\n};\n\n/**\n * setRootComponent (is form )\n */\nproto.setRootComponent = function () {\n  this.state.component = this.state.components.find(function (component) {\n    return component.root;\n  }).component;\n};\n\nproto.getRootComponent = function () {\n  return this.state.components.find(function (component) {\n    return component.root;\n  }).component;\n};\n\nproto.isRootComponent = function (component) {\n  return this.getRootComponent() == component;\n};\n\nproto.getComponentById = function (id) {\n  return this.state.components.find(function (component) {\n    return component.id === id;\n  });\n};\n\nproto.setComponent = function (component) {\n  this.state.component = component;\n};\n\nproto.addedComponentTo = function () {\n  var formcomponent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'body';\n\n  this.state.addedcomponentto[formcomponent] = true;\n};\n\nproto.addToValidate = function (input) {\n  this.state.tovalidate[input.name] = input;\n  // check if is mounted on form gui otherwise leave form component to run is Valid whe form is mounted on dom\n  this.state.ready && this.isValid(input);\n};\n\nproto.removeToValidate = function (input) {\n  delete this.state.tovalidate[input.name];\n  this.isValid();\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto._setState = function (state) {\n  this.state = state;\n};\n\nproto.getFields = function () {\n  return this.state.fields;\n};\n\nproto._getField = function (fieldName) {\n  return this.state.fields.find(function (field) {\n    return field.name === fieldName;\n  });\n};\n\nproto.getEventBus = function () {\n  return this.eventBus;\n};\n\nproto.setIdHeader = function (id) {\n  this.state.currentheaderid = id;\n};\n\nproto.getContext = function () {\n  return this.context_inputs.context;\n};\n\nproto.getSession = function () {\n  return this.getContext().session;\n};\n\nproto.getInputs = function () {\n  return this.context_inputs.inputs;\n};\n\n/**\n * handleRelation\n */\n\nproto.handleRelation = function (_ref4) {\n  //OVERWRITE BY  PLUGIN EDITING PLUGIN\n\n  var relationId = _ref4.relationId,\n      feature = _ref4.feature;\n};\n\n//method to clear all the open thinghs opened by service\nproto.clearAll = function () {\n  this.eventBus.$off('addtovalidate');\n  this.eventBus.$off('set-main-component');\n  this.eventBus.$off('set-loading-form');\n  this.eventBus.$off('component-validation');\n  this.eventBus.$off('disable-component');\n};\n\nmodule.exports = FormService;\n\n},{\"core/expression/inputservice\":11,\"core/g3wobject\":13,\"core/utils/utils\":68}],121:[function(require,module,exports){\nvar _Form = require('components/Form.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Form);\n\nvar _FormBody = require('components/FormBody.vue');\n\nvar _FormBody2 = _interopRequireDefault(_FormBody);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/form/formservice');\n\nfunction FormComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$id = options.id,\n      id = _options$id === undefined ? 'form' : _options$id,\n      name = options.name,\n      title = options.title,\n      headerComponent = options.headerComponent;\n\n  base(this, options);\n  options.service = options.service ? new options.service() : new Service();\n  options.vueComponentObject = options.vueComponentObject || vueComponentOptions;\n  //set element of the form\n  var components = options.components || [{\n    id: id,\n    title: title,\n    name: name,\n    root: true,\n    component: _FormBody2.default,\n    headerComponent: headerComponent\n  }];\n  options.perc = options.layer.getFormPercentage() !== null ? options.layer.getFormPercentage() : options.perc;\n  // initialize component\n  this.init(options);\n  this.getService().addComponents(components);\n  this.getService().setComponent(components[0].component);\n  /**\n   * Used to add component to form body\n   * @param component\n   */\n  this.addBodyFormComponent = function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        component = _ref.component,\n        _ref$where = _ref.where,\n        where = _ref$where === undefined ? 'after' : _ref$where;\n\n    this.getInternalComponent().body.components[where].push(component);\n  };\n\n  this.addBodyFormComponents = function () {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref2$components = _ref2.components,\n        components = _ref2$components === undefined ? [] : _ref2$components,\n        _ref2$where = _ref2.where,\n        where = _ref2$where === undefined ? \"after\" : _ref2$where;\n\n    components.forEach(function (component) {\n      return _this.addBodyFormComponent({\n        component: component,\n        where: where\n      });\n    });\n  };\n\n  this.addFormComponents = function () {\n    var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.getService().addComponents(components);\n  };\n\n  this.addFormComponent = function (component) {\n    component && this.getService().addComponent(component);\n  };\n  // some utilities methods\n  this.addDependecyComponents = function (components) {\n    this.getService().addDependecyComponents(components);\n  };\n  this.addComponentBeforeBody = function (Component) {\n    //this.getService().addedComponentTo('body');\n    //this.insertComponentAt(1, Component);\n  };\n\n  this.addComponentAfterBody = function (Component) {\n    //this.getService().addedComponentTo('body');\n    //this.insertComponentAt(2, Component)\n  };\n\n  this.addComponentBeforeFooter = function () {\n    //TODO\n  };\n\n  this.addComponentAfterFooter = function (Component) {\n    //TODO\n  };\n  // overwrite father mount method.\n  this.mount = function (parent, append) {\n    return base(this, 'mount', parent, append).then(function () {\n      // set modal window to true\n      _gui2.default.setModal(true);\n    });\n  };\n\n  this.layout = function () {\n    this.internalComponent.reloadLayout();\n  };\n}\n\ninherit(FormComponent, Component);\n\nmodule.exports = FormComponent;\n\n},{\"components/Form.vue\":213,\"components/FormBody.vue\":214,\"core/utils/utils\":68,\"gui/component/component\":115,\"gui/form/formservice\":120,\"services/gui\":356}],122:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction CheckBoxService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var value = options.state.input.options.values.find(function (value) {\n    return value.checked === false;\n  });\n  options.validatorOptions = {\n    values: options.state.input.options.values.map(function (value) {\n      return value;\n    })\n  };\n  if (options.state.value === null && !options.state.forceNull) options.state.value = value.value;\n  base(this, options);\n}\n\ninherit(CheckBoxService, Service);\n\nvar proto = CheckBoxService.prototype;\n\nproto.convertCheckedToValue = function (checked) {\n  checked = checked === null || checked === undefined ? false : checked;\n  var option = this.state.input.options.values.find(function (value) {\n    return value.checked === checked;\n  });\n  this.state.value = option.value;\n  return this.state.value;\n};\n\nproto.convertValueToChecked = function () {\n  var valueToCheck = this.state.value;\n  if (valueToCheck === null || valueToCheck === undefined) return false;\n  var option = this.state.input.options.values.find(function (value) {\n    return value.value == valueToCheck;\n  });\n  if (option === undefined) {\n    option = this.state.input.options.values.find(function (value) {\n      return value.checked === false;\n    });\n    this.state.value = option.value;\n  }\n  return option.checked;\n};\n\nmodule.exports = CheckBoxService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":145}],123:[function(require,module,exports){\nvar _InputCheckbox = require('components/InputCheckbox.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputCheckbox);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar CheckBoxInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = CheckBoxInput;\n\n},{\"components/InputCheckbox.vue\":234}],124:[function(require,module,exports){\nvar _InputColor = require('components/InputColor.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputColor);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextInput;\n\n},{\"components/InputColor.vue\":235}],125:[function(require,module,exports){\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base,\n    convertQGISDateTimeFormatToMoment = _require.convertQGISDateTimeFormatToMoment;\n\nvar Service = require('gui/inputs/service');\n\nfunction DateTimePickerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.validatorOptions = {};\n  base(this, options);\n}\n\ninherit(DateTimePickerService, Service);\n\nvar proto = DateTimePickerService.prototype;\n\nproto.getLocale = function () {\n  var applicationConfig = _application2.default.getConfig();\n  return applicationConfig.user.i18n ? applicationConfig.user.i18n : 'en';\n};\n\nproto.convertQGISDateTimeFormatToMoment = function (datetimeformat) {\n  return convertQGISDateTimeFormatToMoment(datetimeformat);\n};\n\nproto.setValidatorOptions = function (options) {\n  this.validatorOptions = options;\n};\n\nmodule.exports = DateTimePickerService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":145,\"services/application\":346}],126:[function(require,module,exports){\nvar _InputDateTimePicker = require('components/InputDateTimePicker.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputDateTimePicker);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar DateTimePickerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = DateTimePickerInput;\n\n},{\"components/InputDateTimePicker.vue\":236}],127:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction FloatService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(FloatService, Service);\n\nmodule.exports = FloatService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":145}],128:[function(require,module,exports){\nvar _InputFloat = require('components/InputFloat.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputFloat);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar FloatInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = FloatInput;\n\n},{\"components/InputFloat.vue\":237}],129:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _InputBase = require('components/InputBase.vue');\n\nvar _InputBase2 = _interopRequireDefault(_InputBase);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InputServices = require('./services');\n\nvar Input = {\n  props: ['state'],\n  mixins: [_mixins.baseInputMixin],\n  components: {\n    'baseinput': _InputBase2.default\n  },\n  watch: {\n    'notvalid': function notvalid(_notvalid) {\n      _notvalid && this.service.setErrorMessage(this.state);\n    },\n    'state.value': function stateValue() {\n      this.state.input.options.default_expression && this.change();\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.service = new InputServices[this.state.input.type]({\n      state: this.state\n    });\n    this.$watch(function () {\n      return _applicationState2.default.language;\n    }, function () {\n      return _this.service.setErrorMessage(_this.state);\n    });\n    this.state.editable && this.state.validate.required && this.service.validate();\n    this.$emit('addinput', this.state);\n    /**\n     * in case of input value is fill with default value option we need to emit changeinput event\n     * without check validation. Example:\n     * {\n        \"name\": \"id\",\n        \"type\": \"integer\",\n        \"label\": \"id\",\n        \"editable\": false,\n        \"validate\": {\n            \"required\": true,\n            \"unique\": true\n        },\n        \"pk\": true,\n        \"default\": \"nextval('g3wsuite.zone_id_seq'::regclass)\",\n        \"input\": {\n            \"type\": \"text\",\n            \"options\": {}\n        }\n      }\n     in this case if we start a validation, it fail because default value is a string while input is interger\n     */\n    this.state.value_from_default_value && this.$emit('changeinput', this.state);\n  },\n  destroyed: function destroyed() {\n    // emit remove input to form (in case for example tab visibility condition)\n    this.$emit('removeinput', this.state);\n  }\n};\n\nmodule.exports = Input;\n\n},{\"./services\":146,\"components/InputBase.vue\":233,\"mixins\":338,\"store/application-state\":368}],130:[function(require,module,exports){\nvar InputsComponents = {\n  'text_input': require('./text/vue/text'),\n  'texthtml_input': require('./texthtml/vue/texthtml'),\n  'textarea_input': require('./textarea/vue/textarea'),\n  'integer_input': require('./integer/vue/integer'),\n  'string_input': require('./text/vue/text'), //temporary\n  'float_input': require('./float/vue/float'),\n  'radio_input': require('./radio/vue/radio'),\n  'check_input': require('./checkbox/vue/checkbox'),\n  'range_input': require('./range/vue/range'),\n  'datetimepicker_input': require('./datetimepicker/vue/datetimepicker'),\n  'unique_input': require('./unique/vue/unique'),\n  'select_input': require('./select/vue/select'),\n  'media_input': require('./media/vue/media'),\n  'select_autocomplete_input': require('./select/vue/select'),\n  'picklayer_input': require('./picklayer/vue/picklayer'),\n  'color_input': require('./color/vue/color'),\n  'slider_input': require('./sliderrange/vue/sliderrange'),\n  'lonlat_input': require('./lonlat/vue/lonlat')\n};\n\nmodule.exports = InputsComponents;\n\n},{\"./checkbox/vue/checkbox\":123,\"./color/vue/color\":124,\"./datetimepicker/vue/datetimepicker\":126,\"./float/vue/float\":128,\"./integer/vue/integer\":132,\"./lonlat/vue/lonlat\":134,\"./media/vue/media\":136,\"./picklayer/vue/picklayer\":138,\"./radio/vue/radio\":140,\"./range/vue/range\":142,\"./select/vue/select\":144,\"./sliderrange/vue/sliderrange\":148,\"./text/vue/text\":149,\"./textarea/vue/textarea\":150,\"./texthtml/vue/texthtml\":151,\"./unique/vue/unique\":153}],131:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction IntegerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(IntegerService, Service);\n\nmodule.exports = IntegerService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":145}],132:[function(require,module,exports){\nvar _InputInteger = require('components/InputInteger.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputInteger);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar IntegerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = IntegerInput;\n\n},{\"components/InputInteger.vue\":240}],133:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\n\nfunction LonLatService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.coordinatebutton;\n  this.mapService = _gui2.default.getComponent('map').getService();\n  this.mapEpsg = this.mapService.getCrs();\n  this.mapControlToggleEventHandler = function (evt) {\n    if (evt.target.isToggled() && evt.target.isClickMap()) {\n      _this.coordinatebutton.active && _this.toggleGetCoordinate();\n    }\n  };\n  this.map = _gui2.default.getComponent('map').getService().getMap();\n  this.outputEpsg = this.state.epsg || this.mapEpsg;\n  this.eventMapKey;\n}\n\ninherit(LonLatService, Service);\n\nvar proto = LonLatService.prototype;\n\nproto.setCoordinateButtonReactiveObject = function (coordinatebutton) {\n  this.coordinatebutton = coordinatebutton;\n};\n\nproto.validate = function () {\n  if (this.state.values.lon < -180) this.state.values.lon = -180;else if (this.state.values.lon > 180) this.state.values.lon = 180;\n  if (this.state.values.lat < -90) this.state.values.lon = -90;else if (this.state.values.lat > 90) this.state.values.lon = 90;\n  this.state.validate.valid = !Number.isNaN(1 * this.state.values.lon);\n};\n\nproto.toggleGetCoordinate = function () {\n  this.coordinatebutton.active = !this.coordinatebutton.active;\n  this.coordinatebutton.active ? this.startToGetCoordinates() : this.stopToGetCoordinates();\n};\n\nproto.startToGetCoordinates = function () {\n  var _this2 = this;\n\n  this.mapService.deactiveMapControls();\n  this.mapService.on('mapcontrol:toggled', this.mapControlToggleEventHandler);\n  this.eventMapKey = this.map.on('click', function (evt) {\n    evt.originalEvent.stopPropagation();\n    evt.preventDefault();\n    var coordinate = _this2.mapEpsg !== _this2.outputEpsg ? ol.proj.transform(evt.coordinate, _this2.mapEpsg, _this2.outputEpsg) : evt.coordinate;\n    _this2.state.value = [coordinate];\n\n    var _coordinate = _slicedToArray(coordinate, 2),\n        lon = _coordinate[0],\n        lat = _coordinate[1];\n\n    _this2.state.values.lon = lon;\n    _this2.state.values.lat = lat;\n  });\n};\n\nproto.stopToGetCoordinates = function () {\n  ol.Observable.unByKey(this.eventMapKey);\n  this.mapService.off('mapcontrol:toggled', this.mapControlToggleEventHandler);\n};\n\nproto.clear = function () {\n  this.stopToGetCoordinates();\n};\n\nmodule.exports = LonLatService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":145,\"services/gui\":356}],134:[function(require,module,exports){\nvar _InputLonLat = require('components/InputLonLat.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputLonLat);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar LatLontInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = LatLontInput;\n\n},{\"components/InputLonLat.vue\":241}],135:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction MediaService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(MediaService, Service);\n\nmodule.exports = MediaService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":145}],136:[function(require,module,exports){\nvar _InputMedia = require('components/InputMedia.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputMedia);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar MediaInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = MediaInput;\n\n},{\"components/InputMedia.vue\":242}],137:[function(require,module,exports){\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar PickFeatureInteraction = require('g3w-ol/interactions/pickfeatureinteraction');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\nvar _require = require('core/utils/geo'),\n    getQueryLayersPromisesByCoordinates = _require.getQueryLayersPromisesByCoordinates;\n\nfunction PickLayerService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.pick_type = options.pick_type || 'wms';\n  this.ispicked = false;\n  this.fields = options.fields || [options.value];\n  this.layerId = options.layer_id;\n  this.mapService = _gui2.default.getService('map');\n  this.interaction = this.pick_type === 'map' ? new PickFeatureInteraction({\n    layers: [this.mapService.getLayerById(this.layerId)]\n  }) : new PickCoordinatesInteraction();\n}\n\nvar proto = PickLayerService.prototype;\n\nproto.isPicked = function () {\n  return this.ispicked;\n};\n\n//bind interrupt event\nproto.escKeyUpHandler = function (_ref) {\n  var keyCode = _ref.keyCode,\n      owner = _ref.data.owner;\n\n  keyCode === 27 && owner.unpick();\n};\n\nproto.unbindEscKeyUp = function () {\n  $(document).unbind('keyup', this.escKeyUpHandler);\n};\n\nproto.bindEscKeyUp = function () {\n  $(document).on('keyup', { owner: this }, this.escKeyUpHandler);\n};\n\nproto.pick = function () {\n  var _this = this;\n\n  return new Promise(function (resolve, reject) {\n    _this.bindEscKeyUp();\n    var values = {};\n    _this.ispicked = true;\n    var afterPick = function afterPick(feature) {\n      if (feature) {\n        var attributes = feature.getProperties();\n        _this.fields.forEach(function (field) {\n          values[field] = attributes[field];\n        });\n        resolve(values);\n      } else reject();\n      _this.ispicked = false;\n      _this.unpick();\n    };\n    _gui2.default.setModal(false);\n    _this.mapService.addInteraction(_this.interaction);\n    _this.interaction.once('picked', function (event) {\n      if (_this.pick_type === 'map') {\n        var feature = event.feature;\n        afterPick(feature);\n      } else if (_this.pick_type === 'wms') {\n        var layer = _mapLayers2.default.getLayerById(_this.layerId);\n        if (layer) {\n          getQueryLayersPromisesByCoordinates([layer], {\n            map: _this.mapService.getMap(),\n            feature_count: 1,\n            coordinates: event.coordinate\n          }).then(function (response) {\n            var _response$0$data = response[0].data,\n                data = _response$0$data === undefined ? [] : _response$0$data;\n\n            var feature = data.length && data[0].features[0] || null;\n            afterPick(feature);\n          });\n        }\n      }\n    });\n  });\n};\n\nproto.unpick = function () {\n  this.mapService.removeInteraction(this.interaction);\n  _gui2.default.setModal(true);\n  this.unbindEscKeyUp();\n  this.ispicked = false;\n};\n\nproto.clear = function () {\n  this.isPicked() && this.unpick();\n  this.mapService = this.interaction = this.field = null;\n};\n\nmodule.exports = PickLayerService;\n\n},{\"core/utils/geo\":65,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"g3w-ol/interactions/pickfeatureinteraction\":105,\"services/gui\":356,\"store/map-layers\":372}],138:[function(require,module,exports){\nvar _InputPickLayer = require('components/InputPickLayer.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputPickLayer);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar PickLayerInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = PickLayerInput;\n\n},{\"components/InputPickLayer.vue\":243}],139:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction RadioService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(RadioService, Service);\n\nmodule.exports = RadioService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":145}],140:[function(require,module,exports){\nvar _InputRadio = require('components/InputRadio.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputRadio);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RadioInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RadioInput;\n\n},{\"components/InputRadio.vue\":244}],141:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\nvar Validators = require('core/utils/validators');\n\nfunction RangeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$state$input$ = options.state.input.options.values[0],\n      min = _options$state$input$.min,\n      max = _options$state$input$.max;\n\n  options.state.info = '[MIN: ' + min + ' - MAX: ' + max + ']';\n  base(this, options);\n  var validator = Validators.get('range', {\n    min: 1 * min,\n    max: 1 * max\n  });\n  this.setValidator(validator);\n}\n\ninherit(RangeService, Service);\n\nvar proto = Service.prototype;\n\nproto.isValueInRange = function (value, min, max) {\n  return value <= max && value >= min;\n};\n\nmodule.exports = RangeService;\n\n},{\"core/utils/utils\":68,\"core/utils/validators\":69,\"gui/inputs/service\":145}],142:[function(require,module,exports){\nvar _InputRange = require('components/InputRange.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputRange);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RangeInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RangeInput;\n\n},{\"components/InputRange.vue\":245}],143:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction SelectService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.layer = null;\n}\n\ninherit(SelectService, Service);\n\nvar proto = SelectService.prototype;\n\nproto._getLayerById = function (layer_id) {\n  return _catalogLayers2.default.getLayerById(layer_id);\n};\n\nproto.addValue = function (value) {\n  this.state.input.options.values.push(value);\n};\n\nproto.getKeyByValue = function () {\n  var _this = this;\n\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      search = _ref.search;\n\n  var options = this.state.input.options;\n  var value = options.value,\n      key = options.key;\n\n  this.getData({\n    key: value,\n    value: key,\n    search: search\n  }).then(function (arrayValues) {\n    var _arrayValues = _slicedToArray(arrayValues, 1),\n        _value = _arrayValues[0];\n\n    var key = _value.$value,\n        value = _value.text;\n\n    _this.addValue({\n      key: key,\n      value: value\n    });\n  }).catch(function (err) {\n    return console.log(err);\n  });\n};\n\nproto.getData = function () {\n  var _this2 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$layer_id = _ref2.layer_id,\n      layer_id = _ref2$layer_id === undefined ? this.state.input.options.layer_id : _ref2$layer_id,\n      _ref2$key = _ref2.key,\n      key = _ref2$key === undefined ? this.state.input.options.key : _ref2$key,\n      _ref2$value = _ref2.value,\n      value = _ref2$value === undefined ? this.state.input.options.value : _ref2$value,\n      search = _ref2.search;\n\n  var search_value = (key + '|' + search).trim();\n  return new Promise(function (resolve, reject) {\n    if (!_this2._layer) _this2._layer = _this2._getLayerById(layer_id);\n    _this2._layer.getDataTable({\n      suggest: search_value,\n      ordering: key\n    }).then(function (response) {\n      var values = [];\n      var features = response.features;\n      for (var i = 0; i < features.length; i++) {\n        values.push({\n          text: features[i].properties[key],\n          id: i,\n          $value: features[i].properties[value]\n        });\n      }\n      resolve(values);\n    }).fail(function (err) {\n      return reject(err);\n    });\n  });\n};\n\nmodule.exports = SelectService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":145,\"store/catalog-layers\":369}],144:[function(require,module,exports){\nvar _InputSelect = require('components/InputSelect.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputSelect);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar SelectInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = SelectInput;\n\n},{\"components/InputSelect.vue\":246}],145:[function(require,module,exports){\nvar Validators = require('core/utils/validators');\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nfunction Service() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  // set state of input\n  this.state = options.state || {};\n  // type of input\n  //this.state.validate.required && this.setValue(this.state.value);\n  /*\n  * set starting value of input based on value or default value on options\n   */\n  this.setValue(this.state.value);\n  this.setEmpty(this.state.value);\n  var type = this.state.type;\n  var validatorOptions = options.validatorOptions || this.state.input.options || {};\n  // useful for the validator to validate input\n  this._validator = Validators.get(type, validatorOptions);\n  this.setErrorMessage(options.state);\n}\n\nvar proto = Service.prototype;\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.getValue = function () {\n  return this.state.value;\n};\n\nproto.setValue = function (value) {\n  if (value === null || value === undefined) {\n    if (Array.isArray(this.state.input.options)) {\n      if (this.state.input.options[0].default) this.state.value = this.state.input.options[0].default;else if (Array.isArray(this.state.input.options.values)) {\n        if (this.state.input.options.values.length) {\n          this.state.value = this.state.input.options.values[0] && this.state.input.options.values[0].value || this.state.input.options.values[0];\n        }\n      }\n    } else {\n      //check if we can state.check get_default_value from input.options.default is set\n      if (this.state.get_default_value && typeof this.state.input.options.default !== \"undefined\" && this.state.input.options.default !== null) {\n        this.state.value = this.state.input.options.default;\n        this.state.value_from_default_value = true;\n      }\n    }\n  }\n};\n\nproto.addValueToValues = function (value) {\n  this.state.input.options.values.unshift(value);\n};\n\nproto._getValidatorType = function () {\n  return this.state.type;\n};\n\nproto.setState = function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = _.isObject(state) ? state : {};\n};\n\n// return validator\nproto.getValidator = function () {\n  return this._validator;\n};\n\nproto.setValidator = function (validator) {\n  this._validator = validator;\n};\n\nproto.setEmpty = function () {\n  this.state.validate.empty = !(Array.isArray(this.state.value) && this.state.value.length || !_.isEmpty(_.trim(this.state.value)));\n};\n\n// general method to check the value of the state is valid or not\nproto.validate = function () {\n  if (this.state.validate.empty) {\n    this.state.validate.empty = true;\n    this.state.value = null;\n    this.state.validate.unique = true;\n    // check if require or check validation\n    this.state.validate.valid = this.state.validate.required ? false : this._validator.validate(this.state.value);\n  } else {\n    if (this.state.input.type === 'integer' || this.state.input.type === 'float') {\n      if (+this.state.value < 0) {\n        this.state.value = null;\n        this.state.validate.empty = true;\n        this.state.validate.valid = !this.state.validate.required;\n      } else this.state.validate.valid = this._validator.validate(this.state.value);\n    }\n    if (this.state.validate.exclude_values && this.state.validate.exclude_values.size) {\n      this.state.validate.valid = !this.state.validate.exclude_values.has(this.state.value);\n    } else this.state.validate.valid = this._validator.validate(this.state.value);\n  }\n  return this.state.validate.valid;\n};\n\nproto.setErrorMessage = function (input) {\n  var message = void 0;\n  if (input.validate.mutually && !input.validate.mutually_valid) this.state.validate.message = t(\"sdk.form.inputs.input_validation_mutually_exclusive\") + ' ( ' + input.validate.mutually.join(',') + ' )';else if (input.validate.max_field) this.state.validate.message = t(\"sdk.form.inputs.input_validation_max_field\") + ' (' + input.validate.max_field + ')';else if (input.validate.min_field) this.state.validate.message = t(\"sdk.form.inputs.input_validation_min_field\") + ' (' + input.validate.min_field + ')';else if (input.validate.unique && input.validate.exclude_values && input.validate.exclude_values.size) this.state.validate.message = '' + t(\"sdk.form.inputs.input_validation_exclude_values\");else if (input.validate.required) {\n    message = t(\"sdk.form.inputs.input_validation_error\") + ' ( ' + t(\"sdk.form.inputs.\" + input.type) + ' )';\n    if (this.state.info) {\n      message = message + '\\n                 <div>\\n                  <b>' + this.state.info + '</b>\\n                 </div>         \\n      ';\n    }\n    this.state.validate.message = this.state.info || message;\n  } else this.state.validate.message = this.state.info;\n};\n/**\n * Method to set update\n */\nproto.setUpdate = function () {\n  var _state = this.state,\n      value = _state.value,\n      _value = _state._value;\n\n  if (this.state.input.type === 'media' && toRawType(value) !== 'Object' && toRawType(_value) !== 'Object') {\n    this.state.update = value.value != _value.value;\n  } else this.state.update = value != _value;\n};\n\nmodule.exports = Service;\n\n},{\"core/i18n/i18n.service\":14,\"core/utils/utils\":68,\"core/utils/validators\":69}],146:[function(require,module,exports){\nvar InputsServices = {\n  'text': require('./service'),\n  'textarea': require('./service'),\n  'texthtml': require('./service'),\n  'integer': require('./integer/service'),\n  'string': require('./service'),\n  'float': require('./float/service'),\n  'radio': require('./radio/service'),\n  'check': require('./checkbox/service'),\n  'range': require('./range/service'),\n  'datetimepicker': require('./datetimepicker/service'),\n  'unique': require('./unique/service'),\n  'select': require('./select/service'),\n  'media': require('./media/service'),\n  'select_autocomplete': require('./select/service'),\n  'picklayer': require('./service'),\n  'color': require('./service'),\n  'slider': require('./sliderrange/service'),\n  'lonlat': require('./lonlat/service')\n};\n\nmodule.exports = InputsServices;\n\n},{\"./checkbox/service\":122,\"./datetimepicker/service\":125,\"./float/service\":127,\"./integer/service\":131,\"./lonlat/service\":133,\"./media/service\":135,\"./radio/service\":139,\"./range/service\":141,\"./select/service\":143,\"./service\":145,\"./sliderrange/service\":147,\"./unique/service\":152}],147:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Service = require('gui/inputs/service');\nvar Validators = require('core/utils/validators');\n\nfunction SliderRangeService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var state = options.state;\n\n  options.state.info = '[MIN: ' + state.input.options.min + ' - MAX: ' + state.input.options.max + ']';\n  base(this, options);\n  var validator = Validators.get('range', {\n    min: 1 * state.input.options.min,\n    max: 1 * state.input.options.max\n  });\n  this.setValidator(validator);\n  this.validate = function () {\n    this.state.value = 1 * this.state.value;\n    this.state.validate.valid = this.state.value >= this.state.input.options.min || this.state.value <= this.state.input.options.max;\n  };\n}\n\ninherit(SliderRangeService, Service);\n\nvar proto = SliderRangeService.prototype;\n\nproto.changeInfoMessage = function () {\n  this.state.info = '[MIN: ' + this.state.input.options.min + ' - MAX: ' + this.state.input.options.max + ']';\n};\n\nmodule.exports = SliderRangeService;\n\n},{\"core/utils/utils\":68,\"core/utils/validators\":69,\"gui/inputs/service\":145}],148:[function(require,module,exports){\nvar _InputSliderRange = require('components/InputSliderRange.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputSliderRange);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar RangeInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = RangeInput;\n\n},{\"components/InputSliderRange.vue\":247}],149:[function(require,module,exports){\nvar _InputText = require('components/InputText.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputText);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextInput;\n\n},{\"components/InputText.vue\":248}],150:[function(require,module,exports){\nvar _InputTextArea = require('components/InputTextArea.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputTextArea);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextAreaInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextAreaInput;\n\n},{\"components/InputTextArea.vue\":249}],151:[function(require,module,exports){\nvar _InputTextHtml = require('components/InputTextHtml.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputTextHtml);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar TextHtmlInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = TextHtmlInput;\n\n},{\"components/InputTextHtml.vue\":250}],152:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Service = require('gui/inputs/service');\n\nfunction UniqueService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n}\n\ninherit(UniqueService, Service);\n\nmodule.exports = UniqueService;\n\n},{\"core/utils/utils\":68,\"gui/inputs/service\":145}],153:[function(require,module,exports){\nvar _InputUnique = require('components/InputUnique.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_InputUnique);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar UniqueInput = Vue.extend(vueComponentOptions);\n\nmodule.exports = UniqueInput;\n\n},{\"components/InputUnique.vue\":251}],154:[function(require,module,exports){\nvar ResetControl = require('g3w-ol/controls/resetcontrol');\nvar QueryControl = require('g3w-ol/controls/querycontrol');\nvar ZoomBoxControl = require('g3w-ol/controls/zoomboxcontrol');\nvar QueryBBoxControl = require('g3w-ol/controls/querybboxcontrol');\nvar QueryByPolygonControl = require('g3w-ol/controls/querybypolygoncontrol');\nvar GeolocationControl = require('g3w-ol/controls/geolocationcontrol');\nvar StreetViewControl = require('g3w-ol/controls/streetviewcontrol');\nvar AddLayersControl = require('g3w-ol/controls/addlayers');\nvar LengthControl = require('g3w-ol/controls/lengthcontrol');\nvar AreaControl = require('g3w-ol/controls/areacontrol');\nvar OLControl = require('g3w-ol/controls/olcontrol');\nvar GeocodingControl = require('g3w-ol/controls/geocodingcontrol');\nvar MousePositionControl = require('g3w-ol/controls/mousepositioncontrol');\nvar ScaleControl = require('g3w-ol/controls/scalecontrol');\nvar OnClikControl = require('g3w-ol/controls/onclickcontrol');\nvar ScreenshotControl = require('g3w-ol/controls/screenshotcontrol');\nvar geoScreenshotControl = require('g3w-ol/controls/geoscreenshotcontrol');\nvar QueryByDrawPolygonControl = require('g3w-ol/controls/querybydrawpolygoncontrol');\n\nvar ControlsFactory = {\n  create: function create() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var ControlClass = ControlsFactory.CONTROLS[options.type];\n    if (ControlClass) return new ControlClass(options);\n  }\n};\n\nControlsFactory.CONTROLS = {\n  'reset': ResetControl,\n  'zoombox': ZoomBoxControl,\n  'zoomtoextent': OLControl,\n  'query': QueryControl,\n  'querybbox': QueryBBoxControl,\n  'querybypolygon': QueryByPolygonControl,\n  'geolocation': GeolocationControl,\n  'streetview': StreetViewControl,\n  'zoom': OLControl,\n  'scaleline': OLControl,\n  'overview': OLControl,\n  'nominatim': GeocodingControl, // temporary fro backward compatibility\n  'geocoding': GeocodingControl,\n  'addlayers': AddLayersControl,\n  'length': LengthControl,\n  'area': AreaControl,\n  'mouseposition': MousePositionControl,\n  'scale': ScaleControl,\n  'onclick': OnClikControl,\n  'screenshot': ScreenshotControl,\n  'geoscreenshot': geoScreenshotControl,\n  'querybydrawpolygon': QueryByDrawPolygonControl\n};\n\nmodule.exports = ControlsFactory;\n\n},{\"g3w-ol/controls/addlayers\":76,\"g3w-ol/controls/areacontrol\":77,\"g3w-ol/controls/geocodingcontrol\":80,\"g3w-ol/controls/geolocationcontrol\":81,\"g3w-ol/controls/geoscreenshotcontrol\":82,\"g3w-ol/controls/lengthcontrol\":84,\"g3w-ol/controls/mousepositioncontrol\":86,\"g3w-ol/controls/olcontrol\":87,\"g3w-ol/controls/onclickcontrol\":88,\"g3w-ol/controls/querybboxcontrol\":89,\"g3w-ol/controls/querybydrawpolygoncontrol\":90,\"g3w-ol/controls/querybypolygoncontrol\":91,\"g3w-ol/controls/querycontrol\":92,\"g3w-ol/controls/resetcontrol\":93,\"g3w-ol/controls/scalecontrol\":94,\"g3w-ol/controls/screenshotcontrol\":95,\"g3w-ol/controls/streetviewcontrol\":96,\"g3w-ol/controls/zoomboxcontrol\":98}],155:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _wms = require('gui/wms/vue/wms');\n\nvar _wms2 = _interopRequireDefault(_wms);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _mapControls = require('store/map-controls');\n\nvar _mapControls2 = _interopRequireDefault(_mapControls);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    inherit = _require2.inherit,\n    base = _require2.base,\n    copyUrl = _require2.copyUrl,\n    uniqueId = _require2.uniqueId,\n    throttle = _require2.throttle,\n    toRawType = _require2.toRawType,\n    createFilterFromString = _require2.createFilterFromString;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require3 = require('core/utils/geo'),\n    createVectorLayerFromFile = _require3.createVectorLayerFromFile,\n    createWMSLayer = _require3.createWMSLayer,\n    createSelectedStyle = _require3.createSelectedStyle,\n    getMapLayersByFilter = _require3.getMapLayersByFilter,\n    getGeoTIFFfromServer = _require3.getGeoTIFFfromServer;\n\nvar WFSProvider = require('core/layers/providers/wfsprovider');\nvar olhelpers = require('g3w-ol/g3w.ol').helpers;\n\nvar _require4 = require('core/utils/ol'),\n    getScaleFromResolution = _require4.getScaleFromResolution,\n    getResolutionFromScale = _require4.getResolutionFromScale;\n\nvar ControlsFactory = require('gui/map/control/factory');\nvar VectorLayer = require('core/layers/vectorlayer');\n\nvar SETTINGS = {\n  zoom: {\n    maxScale: 1000\n  },\n  animation: {\n    duration: 2000\n  }\n};\n\nfunction MapService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = {\n    mapUnits: 'm',\n    bbox: [],\n    hidemaps: [],\n    resolution: null,\n    center: null,\n    loading: false,\n    hidden: true,\n    scale: 0,\n    mapcontrolsalignement: 'rv',\n    mapcontrolDOM: null,\n    mapcontrolready: false,\n    mapcontrolSizes: {\n      height: 47,\n      width: 47,\n      minWidth: 47,\n      minHeight: 47\n    },\n    mapControl: {\n      grid: [],\n      length: 0,\n      currentIndex: 0,\n      update: true,\n      disabled: false\n    },\n    map_info: {\n      info: null,\n      style: null\n    },\n    mapunits: ['metric']\n  };\n  this.id = 'MapService';\n  this.viewer = null;\n  this.target = options.target || null;\n  this.layersCount = 0; // useful to set Zindex to layer order on map\n  this.maps_container = options.maps_container || null;\n  this._layersStoresEventKeys = {};\n  this._keyEvents = {\n    ol: [],\n    g3wobject: [],\n    eventemitter: []\n  };\n  this.project = null;\n  this._mapControls = [];\n  this._changeMapMapControls = [];\n  this._mapLayers = [];\n  this._externalMapLayers = [];\n  this._externalLayers = [];\n  // array where store interactions added from plugin or external from application\n  this._externalInteractions = [];\n  this.mapBaseLayers = {};\n  /**\n   * Default layers are OL layers that are add to map by default.\n   * Are used to show selection Features and/or highlight Layer feature\n   */\n  this.defaultsLayers = {\n    _style: {\n      highlightLayer: {\n        color: undefined\n      },\n      selectionLayer: {\n        color: 'red'\n      }\n    },\n    highlightLayer: new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: function style(feature) {\n        var styles = [];\n        var geometryType = feature.getGeometry().getType();\n        var style = createSelectedStyle({\n          geometryType: geometryType,\n          color: _this.defaultsLayers._style.highlightLayer.color,\n          fill: false\n        });\n        styles.push(style);\n        return styles;\n      }\n    }),\n    selectionLayer: new ol.layer.Vector({\n      source: new ol.source.Vector(),\n      style: function style(feature) {\n        var styles = [];\n        var geometryType = feature.getGeometry().getType();\n        var style = createSelectedStyle({\n          geometryType: geometryType,\n          color: _this.defaultsLayers._style.selectionLayer.color,\n          fill: false\n        });\n        styles.push(style);\n        return styles;\n      }\n    })\n  };\n  this.layersExtraParams = {};\n  this._greyListenerKey = null;\n  this._drawShadow = {\n    type: 'coordinate',\n    outer: [],\n    inner: [],\n    scale: null,\n    rotation: null\n  };\n  this.config = options.config || _application2.default.getConfig();\n  this._howManyAreLoading = 0;\n  this._layersLoadingError = false;\n  // function to show spinner layers\n  this._incrementLoaders = function () {\n    if (_this._howManyAreLoading === 0) {\n      _this.emit('loadstart');\n      _gui2.default.showSpinner({\n        container: $('#map-spinner'),\n        id: 'maploadspinner',\n        style: 'transparent'\n      });\n    }\n    _this._howManyAreLoading += 1;\n  };\n\n  this._decrementLoaders = function () {\n    _this._howManyAreLoading -= 1;\n    if (_this._howManyAreLoading === 0) {\n      _this.emit('loadend');\n      _gui2.default.hideSpinner('maploadspinner');\n    }\n  };\n\n  this._mapLayerLoadError = function () {\n    if (!_this._layersLoadingError) {\n      _gui2.default.notify.warning('sdk.errors.layers.load');\n      _this._layersLoadingError = true;\n    }\n    _this._decrementLoaders();\n  };\n  if (options.project) this.project = options.project;else {\n    this.project = _projects2.default.getCurrentProject();\n    //on after setting current project\n    var keysetCurrentProject = _projects2.default.onafter('setCurrentProject', function (project) {\n      _this.removeLayers();\n      _this._removeListeners();\n      // check if reload same project\n      var isSameProject = _this.project.getId() === project.getId();\n      _this.project = project;\n      var changeProjectCallBack = function changeProjectCallBack() {\n        _this._resetView();\n        _this._setupAllLayers();\n        _this._checkMapControls();\n        _this.setUpMapOlEvents();\n        _this.setupCustomMapParamsToLegendUrl();\n      };\n      _application2.default.isIframe() && changeProjectCallBack();\n      isSameProject ? changeProjectCallBack() : _this.getMap().once('change:size', changeProjectCallBack);\n    });\n    this._keyEvents.g3wobject.push({\n      who: _projects2.default,\n      setter: 'setCurrentProject',\n      key: keysetCurrentProject\n    });\n  }\n  this._setupListeners();\n  this._marker = null;\n  this._bboxLayer = new ol.layer.Vector({\n    source: new ol.source.Vector({})\n  });\n  this.debounces = {\n    setupCustomMapParamsToLegendUrl: {\n      fnc: function fnc() {\n        _this._setupCustomMapParamsToLegendUrl.apply(_this, arguments);\n      },\n      delay: 1000\n    }\n  };\n  this.setters = {\n    setupControls: function setupControls() {\n      return this._setupControls();\n    },\n    addHideMap: function addHideMap() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          ratio = _ref.ratio,\n          _ref$layers = _ref.layers,\n          layers = _ref$layers === undefined ? [] : _ref$layers,\n          _ref$mainview = _ref.mainview,\n          mainview = _ref$mainview === undefined ? false : _ref$mainview,\n          _ref$switchable = _ref.switchable,\n          switchable = _ref$switchable === undefined ? false : _ref$switchable;\n\n      var id = 'hidemap_' + Date.now();\n      var idMap = {\n        id: id,\n        map: null,\n        switchable: switchable\n      };\n      this.state.hidemaps.push(idMap);\n      return idMap;\n    },\n    updateMapView: function updateMapView(bbox, resolution, center) {\n      this.state.bbox = bbox;\n      this.state.resolution = resolution;\n      this.state.center = center;\n      this.updateMapLayers();\n    },\n    setHidden: function setHidden(bool) {\n      this.state.hidden = bool;\n    },\n    setupViewer: function setupViewer(width, height) {\n      if (width === 0 || height === 0) return;\n      if (this.viewer) {\n        this.viewer.destroy();\n        this.viewer = null;\n      }\n      this._setupViewer(width, height);\n      this.state.bbox = this.viewer.getBBOX();\n      this.state.resolution = this.viewer.getResolution();\n      this.state.center = this.viewer.getCenter();\n      this._setupAllLayers();\n      this.setUpMapOlEvents();\n      this.emit('viewerset');\n    },\n    controlClick: function controlClick(mapcontrol) {\n      var info = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    },\n    loadExternalLayer: function loadExternalLayer(layer) {},\n    // used in general to alert external layer is  loaded\n    unloadExternalLayer: function unloadExternalLayer(layer) {}\n  };\n\n  this._onCatalogSelectLayer = function (layer) {\n    _mapControls2.default.catalogSelectedLayer(layer);\n  };\n\n  this.on('cataloglayerselected', this._onCatalogSelectLayer);\n\n  this._keyEvents.eventemitter.push({\n    event: 'cataloglayerselected',\n    listener: this._onCatalogSelectLayer\n  });\n\n  var extraParamsSet = function extraParamsSet(extraParams, update) {\n    update && _this.getMapLayers().forEach(function (mapLayer) {\n      return mapLayer.update(_this.state, extraParams);\n    });\n  };\n\n  this.on('extraParamsSet', extraParamsSet);\n\n  this._keyEvents.eventemitter.push({\n    event: 'extraParamsSet',\n    listener: extraParamsSet\n  });\n\n  this.once('viewerset', function () {\n    //CHECK IF MAPLAYESRSTOREREGISTRY HAS LAYERSTORE\n    _mapLayers2.default.getLayersStores().forEach(function (layersStore) {\n      _this._setUpEventsKeysToLayersStore(layersStore);\n    });\n    // LISTEN ON EVERY ADDED LAYERSSTORE\n    _mapLayers2.default.onafter('addLayersStore', function (layersStore) {\n      _this._setUpEventsKeysToLayersStore(layersStore);\n    });\n    // LISTENER ON REMOVE LAYERSTORE\n    _mapLayers2.default.onafter('removeLayersStore', function (layerStore) {\n      _this._removeEventsKeysToLayersStore(layerStore);\n    });\n  });\n\n  base(this);\n}\n\ninherit(MapService, G3WObject);\n\nvar proto = MapService.prototype;\n\nproto.setUpMapOlEvents = function () {\n  var _this2 = this;\n\n  var dynamicLegend = this.project.getContextBaseLegend();\n  // set change resolution\n  this._keyEvents.ol.forEach(function (keyEvent) {\n    return ol.Observable.unByKey(keyEvent);\n  });\n  var keyolchangeresolution = this.viewer.map.getView().on(\"change:resolution\", function (evt) {\n    _this2._updateMapView();\n    dynamicLegend && _this2.setupCustomMapParamsToLegendUrl();\n  });\n  this._keyEvents.ol.push(keyolchangeresolution);\n  if (dynamicLegend) {\n    var keyolmoveeend = this.viewer.map.on(\"moveend\", function (evt) {\n      return _this2.setupCustomMapParamsToLegendUrl();\n    });\n    this._keyEvents.ol.push(keyolmoveeend);\n  } else this.setupCustomMapParamsToLegendUrl(); //set always to show legend at start\n};\n\n//clear methods to remove all listeners events\nproto.clear = function () {\n  var _this3 = this;\n\n  Object.keys(this._keyEvents).forEach(function (type) {\n    switch (type) {\n      case 'ol':\n        _this3._keyEvents[type].forEach(function (keyEvent) {\n          return ol.Observable.unByKey(keyEvent);\n        });\n        break;\n      case 'g3wobject':\n        _this3._keyEvents[type].forEach(function (eventObject) {\n          var who = eventObject.who,\n              setter = eventObject.setter,\n              key = eventObject.key;\n\n          who.un(setter, key);\n        });\n        break;\n      case 'eventemitter':\n        _this3._keyEvents[type].forEach(function (eventObject) {\n          var event = eventObject.event,\n              listener = eventObject.listener;\n\n          _this3.removeListener(event, listener);\n        });\n        break;\n    }\n  });\n  this._keyEvents = null;\n  _mapLayers2.default.getLayersStores().forEach(function (layerStore) {\n    _this3._removeEventsKeysToLayersStore(layerStore);\n  });\n};\n\nproto.showMapSpinner = function () {\n  _gui2.default.showSpinner({\n    container: $('#map-spinner'),\n    id: 'maploadspinner',\n    style: 'transparent'\n  });\n};\n\nproto.hideMapSpinner = function () {\n  _gui2.default.hideSpinner('maploadspinner');\n};\n\nproto.getScaleFromExtent = function (extent) {\n  var resolution = this.getMap().getView().getResolutionForExtent(extent, this.getMap().getSize());\n  var scale = getScaleFromResolution(resolution, this.getMapUnits());\n  return scale;\n};\n\nproto._addHideMap = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      ratio = _ref2.ratio,\n      _ref2$layers = _ref2.layers,\n      layers = _ref2$layers === undefined ? [] : _ref2$layers,\n      _ref2$mainview = _ref2.mainview,\n      mainview = _ref2$mainview === undefined ? false : _ref2$mainview;\n\n  var idMap = this.state.hidemaps[this.state.hidemaps.length - 1];\n  var view = this.getMap().getView();\n  var view_options = {\n    projection: view.getProjection(),\n    center: view.getCenter(),\n    resolution: this.getResolution()\n  };\n  var viewer = olhelpers.createViewer({\n    id: idMap.id,\n    view: mainview ? view : view_options\n  });\n  // set Map\n  idMap.map = viewer.getMap();\n  // in case of rate\n  if (ratio) {\n    var _idMap$map$getSize = idMap.map.getSize(),\n        _idMap$map$getSize2 = _slicedToArray(_idMap$map$getSize, 2),\n        width = _idMap$map$getSize2[0],\n        height = _idMap$map$getSize2[1];\n\n    idMap.map.setSize([width, width * ratio]);\n  }\n\n  for (var i = 0; i < layers.length; i++) {\n    var layer = layers[i];\n    idMap.map.addLayer(layer);\n  }\n  return idMap.map;\n};\n\nproto.removeHideMap = function (id) {\n  var index = void 0;\n  for (var i = 0; i < this.state.hidemaps.length; i++) {\n    if (id === this.state.hidemaps[i].id) {\n      index = i;\n      break;\n    }\n  }\n  index !== undefined && this.state.hidemaps.splice(index, 1);\n};\n\nproto._showHideMapElement = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      map = _ref3.map,\n      _ref3$show = _ref3.show,\n      show = _ref3$show === undefined ? false : _ref3$show;\n\n  show ? $(map.getTargetElement()).addClass('show') : $(map.getTargetElement()).removeClass('show');\n};\n\nproto.createMapImage = function () {\n  var _this4 = this;\n\n  var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      map = _ref4.map,\n      background = _ref4.background;\n\n  return new Promise(function (resolve, reject) {\n    try {\n      var canvas = _this4.getMapCanvas(map);\n      if (navigator.msSaveBlob) resolve(canvas.msToBlob());else canvas.toBlob(function (blob) {\n        return resolve(blob);\n      });\n    } catch (err) {\n      reject(err);\n    }\n  });\n};\n\nproto.getApplicationAttribution = function () {\n  var _config$group = this.config.group,\n      header_terms_of_use_link = _config$group.header_terms_of_use_link,\n      header_terms_of_use_text = _config$group.header_terms_of_use_text;\n\n  if (header_terms_of_use_text) {\n    return header_terms_of_use_link ? '<a href=\"' + header_terms_of_use_link + '\">' + header_terms_of_use_text + '</a>' : '<span class=\"skin-color\" style=\"font-weight: bold\">' + header_terms_of_use_text + '</span>';\n  } else return false;\n};\n\nproto.slaveOf = function (mapService, sameLayers) {\n  sameLayers = sameLayers || false;\n};\n\nproto.setLayersExtraParams = function (params, update) {\n  this.layersExtraParams = _.assign(this.layersExtraParams, params);\n  this.emit('extraParamsSet', params, update);\n};\n\nproto.getProject = function () {\n  return this.project;\n};\n\nproto.getMap = function () {\n  try {\n    return this.viewer.map;\n  } catch (err) {}\n};\n\nproto.getMapCanvas = function (map) {\n  var viewport = map ? map.getViewport() : $('#' + this.maps_container + ' .g3w-map').last().children('.ol-viewport')[0];\n  return $(viewport).children('canvas')[0];\n};\n\nproto.getProjection = function () {\n  return this.project.getProjection();\n};\n\nproto.isMapHidden = function () {\n  return this.state.hidden;\n};\n\nproto.isAxisOrientationInverted = function () {\n  return this.getProjection().getAxisOrientation() === 'neu' ? true : false;\n};\n\nproto.getCrs = function () {\n  return this.getProjection().getCode();\n};\n\nproto.getViewerElement = function () {\n  return this.viewer.map.getTargetElement();\n};\n\nproto.getViewport = function () {\n  return this.viewer.map.getViewport();\n};\n\nproto.getResolution = function () {\n  return this.viewer.map.getView().getResolution();\n};\n\nproto.getEpsg = function () {\n  return this.viewer.map.getView().getProjection().getCode();\n};\n\nproto.getGetFeatureInfoUrlForLayer = function (layer, coordinates, resolution, epsg, params) {\n  var mapLayer = this.getMapLayerForLayer(layer);\n  return mapLayer.getGetFeatureInfoUrl(coordinates, resolution, epsg, params);\n};\n\n/**\n * Show Marker on map\n * @param coordinates\n * @param duration\n */\nproto.showMarker = function (coordinates) {\n  var _this5 = this;\n\n  var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n\n  this._marker.setPosition(coordinates);\n  setTimeout(function () {\n    return _this5._marker.setPosition();\n  }, duration);\n};\n\n// return layer by name\nproto.getLayerByName = function (name) {\n  return this.getMap().getLayers().getArray().find(function (lyr) {\n    return lyr.get('name') === name;\n  });\n};\n\n// return layer by id\nproto.getLayerById = function (id) {\n  return this.getMap().getLayers().getArray().find(function (layer) {\n    return layer.get('id') === id;\n  });\n};\n\n// method do get all feature from vector layer based on coordinates\nproto.getVectorLayerFeaturesFromCoordinates = function (layerId, coordinates) {\n  var intersectGeom = void 0;\n  var features = [];\n  var map = this.getMap();\n  var vectorLayer = this.getLayerById(layerId);\n  if (Array.isArray(coordinates)) {\n    if (coordinates.length === 2) {\n      var pixel = map.getPixelFromCoordinate(coordinates);\n      map.forEachFeatureAtPixel(pixel, function (feature) {\n        return features.push(feature);\n      }, {\n        layerFilter: function layerFilter(layer) {\n          return layer === vectorLayer;\n        }\n      });\n    } else if (coordinates.length === 4) {\n      intersectGeom = ol.geom.Polygon.fromExtent(coordinates);\n      switch (vectorLayer.constructor) {\n        case VectorLayer:\n          features = vectorLayer.getIntersectedFeatures(intersectGeom);\n          break;\n        case ol.layer.Vector:\n          vectorLayer.getSource().getFeatures().forEach(function (feature) {\n            intersectGeom.intersectsExtent(feature.getGeometry().getExtent()) && features.push(feature);\n          });\n          break;\n      }\n    }\n  } else if (coordinates instanceof ol.geom.Polygon || coordinates instanceof ol.geom.MultiPolygon) {\n    intersectGeom = coordinates;\n    switch (vectorLayer.constructor) {\n      case VectorLayer:\n        features = vectorLayer.getIntersectedFeatures(intersectGeom);\n        break;\n      case ol.layer.Vector:\n        vectorLayer.getSource().getFeatures().forEach(function (feature) {\n          intersectGeom.intersectsExtent(feature.getGeometry().getExtent()) && features.push(feature);\n        });\n        break;\n    }\n  }\n  return features;\n};\n\nproto.getQueryLayerByCoordinates = function () {\n  var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref5.layer,\n      coordinates = _ref5.coordinates;\n\n  var mapProjection = this.getProjection();\n  var resolution = this.getResolution();\n  return new Promise(function (resolve, reject) {\n    layer.query({\n      coordinates: coordinates,\n      mapProjection: mapProjection,\n      resolution: resolution\n    }).then(function (response) {\n      return resolve(response);\n    }).fail(function (err) {\n      return reject(err);\n    });\n  });\n};\n\nproto.getQueryLayerPromiseByCoordinates = function () {\n  var _this6 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref6.layer,\n      coordinates = _ref6.coordinates;\n\n  return new Promise(function (resolve, reject) {\n    var mapProjection = _this6.getProjection();\n    var resolution = _this6.getResolution();\n    layer.query({\n      coordinates: coordinates,\n      mapProjection: mapProjection,\n      resolution: resolution\n    }).then(function (response) {\n      resolve(response);\n    }).fail(function (error) {\n      reject(error);\n    });\n  });\n};\n\n//setup controls\n/*\n  layout : {\n    lv: <options> h : horizontal (default), v vertical\n    lh: <options> h: horizontal: v vertical (default)\n  }\n */\n\nproto.activeMapControl = function (controlName) {\n  var mapControl = this._mapControls.find(function (control) {\n    return control.type === controlName;\n  });\n  var control = mapControl.control;\n  !control.isToggled() ? control.toggle() : null;\n};\n\nproto.createMapControl = function (type) {\n  var _ref7 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      id = _ref7.id,\n      _ref7$add = _ref7.add,\n      add = _ref7$add === undefined ? true : _ref7$add,\n      _ref7$toggled = _ref7.toggled,\n      toggled = _ref7$toggled === undefined ? false : _ref7$toggled,\n      visible = _ref7.visible,\n      _ref7$options = _ref7.options,\n      options = _ref7$options === undefined ? {} : _ref7$options;\n\n  id = id || type;\n  var control = ControlsFactory.create(_extends({\n    type: type,\n    toggled: toggled\n  }, options));\n  visible = visible === undefined ? control.isVisible ? control.isVisible() : true : visible;\n  control && this.addControl(id, type, control, add, visible);\n  return control;\n};\n\nproto.addScaleLineUnits = function () {\n  var _this7 = this;\n\n  var units = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  units.forEach(function (unit) {\n    return _this7.state.mapunits.push(unit);\n  });\n};\n\nproto.changeScaleLineUnit = function (unit) {\n  var scalelinecontrol = this.getMapControlByType({\n    type: 'scaleline'\n  });\n  scalelinecontrol && scalelinecontrol.getOlControl().setUnits(unit);\n};\n\nproto.showAddLayerModal = function () {\n  this.emit('addexternallayer');\n};\n\nproto._checkMapControls = function () {\n  this._changeMapMapControls.forEach(function (_ref8) {\n    var control = _ref8.control,\n        getLayers = _ref8.getLayers;\n\n    var layers = getLayers();\n    control.change(layers);\n  });\n};\n\nproto._setupControls = function () {\n  var _this8 = this;\n\n  var baseLayers = getMapLayersByFilter({\n    BASELAYER: true\n  });\n  this.getMapLayers().forEach(function (mapLayer) {\n    return mapLayer.getSource().setAttributions(_this8.getApplicationAttribution());\n  });\n  // check if base layer is set. If true add attribution control\n  if (this.getApplicationAttribution() || baseLayers.length) {\n    var attributionControl = new ol.control.Attribution({\n      collapsible: false,\n      target: 'map_footer_left'\n    });\n    this.getMap().addControl(attributionControl);\n  }\n\n  if (this.config && this.config.mapcontrols) {\n    var mapcontrols = this.config.mapcontrols;\n    //common spatial methods for map controls\n    var spatialMethod = 'intersects';\n    mapcontrols.forEach(function (mapcontrol) {\n      var control = void 0;\n      // mapcontrol can be a String or object with options\n      var controlType = toRawType(mapcontrol) === 'String' ? mapcontrol : mapcontrol.name;\n      switch (controlType) {\n        case 'reset':\n          if (!isMobile.any) {\n            control = ControlsFactory.create({\n              type: controlType\n            });\n          }\n          _this8.addControl(controlType, control, false);\n          break;\n        case 'zoom':\n          control = _this8.createMapControl(controlType, {\n            options: {\n              zoomInLabel: '\\uE98A',\n              zoomOutLabel: '\\uE98B'\n            }\n          });\n          break;\n        case 'zoombox':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {});\n            control.on('zoomend', function (e) {\n              _this8.viewer.fit(e.extent);\n            });\n          }\n          break;\n        case 'zoomtoextent':\n          control = _this8.createMapControl(controlType, {\n            options: {\n              label: '\\uE98C',\n              extent: _this8.project.state.initextent\n            }\n          });\n          break;\n        case 'mouseposition':\n          if (!isMobile.any) {\n            var coordinateLabels = _this8.getProjection().getUnits() === 'm' ? ['X', 'Y'] : ['Lng', 'Lat'];\n            var crs = _this8.getCrs();\n            control = _this8.createMapControl(controlType, {\n              add: false,\n              options: {\n                coordinateFormat: function coordinateFormat(coordinate) {\n                  return ol.coordinate.format(coordinate, '\\xA0' + coordinateLabels[0] + ': {x}, ' + coordinateLabels[1] + ': {y}\\xA0\\xA0 [' + crs + ']\\xA0', 4);\n                },\n\n                undefinedHTML: false,\n                projection: _this8.getCrs()\n              }\n            });\n            if (_this8.getEpsg() !== 'EPSG:4326') {\n              var mapEspg = _this8.getEpsg();\n              var _coordinateLabels = ['Lng', 'Lat'];\n              var _crs = _this8.getCrs();\n              control = _this8.createMapControl(controlType, {\n                add: false,\n                options: {\n                  target: 'mouse-position-control-epsg-4326',\n                  coordinateFormat: function coordinateFormat(coordinate) {\n                    coordinate = ol.proj.transform(coordinate, mapEspg, 'EPSG:4326');\n                    return ol.coordinate.format(coordinate, '\\xA0' + _coordinateLabels[0] + ': {x}, ' + _coordinateLabels[1] + ': {y}\\xA0\\xA0 [' + _crs + ']\\xA0', 4);\n                  },\n\n                  undefinedHTML: false,\n                  projection: _this8.getCrs()\n                }\n              });\n            }\n          }\n          break;\n        case 'screenshot':\n        case 'geoscreenshot':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                layers: _mapLayers2.default.getLayers(),\n                onclick: function () {\n                  var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n                    var caller_download_id, blobImage, url, _bbox, csrfmiddlewaretoken, geoTIFF;\n\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            // Start download show Image\n                            caller_download_id = _application2.default.setDownload(true);\n                            _context.prev = 1;\n                            _context.next = 4;\n                            return _this8.createMapImage();\n\n                          case 4:\n                            blobImage = _context.sent;\n\n                            if (!(controlType === 'screenshot')) {\n                              _context.next = 9;\n                              break;\n                            }\n\n                            saveAs(blobImage, 'map_' + Date.now() + '.png');\n                            _context.next = 22;\n                            break;\n\n                          case 9:\n                            url = '/' + _this8.project.getType() + '/api/asgeotiff/' + _this8.project.getId() + '/';\n                            _bbox = _this8.getMapBBOX().toString();\n                            csrfmiddlewaretoken = _this8.getCookie('csrftoken');\n                            _context.prev = 12;\n                            _context.next = 15;\n                            return getGeoTIFFfromServer({\n                              url: url,\n                              params: {\n                                image: blobImage,\n                                csrfmiddlewaretoken: csrfmiddlewaretoken,\n                                bbox: _bbox\n                              },\n                              method: \"POST\"\n                            });\n\n                          case 15:\n                            geoTIFF = _context.sent;\n\n                            saveAs(geoTIFF, 'map_' + Date.now() + '.tif');\n                            _context.next = 22;\n                            break;\n\n                          case 19:\n                            _context.prev = 19;\n                            _context.t0 = _context['catch'](12);\n\n                            console.log(_context.t0);\n\n                          case 22:\n                            _context.next = 27;\n                            break;\n\n                          case 24:\n                            _context.prev = 24;\n                            _context.t1 = _context['catch'](1);\n\n                            _gui2.default.showUserMessage({\n                              type: 'alert',\n                              message: t(\"mapcontrols.screenshot.error\"),\n                              autoclose: true\n                            });\n\n                          case 27:\n                            // Stop download show Image\n                            _application2.default.setDownload(false, caller_download_id);\n                            return _context.abrupt('return', true);\n\n                          case 29:\n                          case 'end':\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee, _this8, [[1, 24], [12, 19]]);\n                  }));\n\n                  function onclick() {\n                    return _ref9.apply(this, arguments);\n                  }\n\n                  return onclick;\n                }()\n              }\n            });\n          }\n          break;\n        case 'scale':\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              coordinateFormat: ol.coordinate.createStringXY(4),\n              projection: _this8.getCrs(),\n              isMobile: isMobile.any\n            }\n          });\n          break;\n        case 'query':\n          control = _this8.createMapControl(controlType, {\n            add: true,\n            toggled: true\n          });\n          break;\n        case 'querybypolygon':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, { options: { spatialMethod: spatialMethod } });\n          }\n          break;\n        case 'querybbox':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, { options: { spatialMethod: spatialMethod } });\n          }\n          break;\n        case 'querybydrawpolygon':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, { options: { spatialMethod: spatialMethod } });\n          }\n          break;\n        case 'streetview':\n          // streetview\n          control = _this8.createMapControl(controlType, {});\n          break;\n        case 'scaleline':\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              position: 'br'\n            }\n          });\n          break;\n        case 'overview':\n          if (!isMobile.any) {\n            if (!_this8.config.overviewproject) return;\n            var overviewProjectGid = _this8.config.overviewproject.gid;\n            if (overviewProjectGid) {\n              _projects2.default.getProject(overviewProjectGid).then(function (project) {\n                var overViewMapLayers = _this8.getOverviewMapLayers(project);\n                var viewOptions = _this8._calculateViewOptions({\n                  width: 200, // at moment hardcoded\n                  height: 150,\n                  project: project\n                });\n                var view = new ol.View(viewOptions);\n                var mainView = _this8.getMap().getView();\n                view.on('change:center', function () {\n                  var currentCenter = this.getCenter();\n                  var center = mainView.constrainCenter(currentCenter);\n                  center[0] !== currentCenter[0] || center[1] !== currentCenter[1] && view.setCenter(center);\n                });\n                control = _this8.createMapControl(controlType, {\n                  add: false,\n                  options: {\n                    position: 'bl',\n                    className: 'ol-overviewmap ol-custom-overviewmap',\n                    collapseLabel: $('<span class=\"' + _gui2.default.getFontClass('arrow-left') + '\"></span>')[0],\n                    label: $('<span class=\"' + _gui2.default.getFontClass('arrow-right') + '\"></span>')[0],\n                    collapsed: false,\n                    layers: overViewMapLayers,\n                    view: view\n                  }\n                });\n              });\n            }\n          }\n          break;\n        case 'geocoding':\n        case 'nominatim':\n          var _project$state = _this8.project.state,\n              bbox = _project$state.extent,\n              _mapCrs = _project$state.crs.epsg;\n\n          control = _this8.createMapControl(controlType, {\n            add: false,\n            options: {\n              isMobile: isMobile.any,\n              bbox: bbox,\n              mapCrs: _mapCrs,\n              placeholder: \"mapcontrols.nominatim.placeholder\",\n              noresults: \"mapcontrols.nominatim.noresults\",\n              notresponseserver: \"mapcontrols.nominatim.notresponseserver\"\n            }\n          });\n          break;\n        case 'geolocation':\n          control = _this8.createMapControl(controlType);\n          control.on('click', throttle(function (evt) {\n            return _this8.showMarker(evt.coordinates);\n          }));\n          control.on('error', function (evt) {\n            _gui2.default.showUserMessage({\n              type: 'warning',\n              message: \"mapcontrols.geolocations.error\",\n              autoclose: true\n            });\n          });\n          break;\n        case 'addlayers':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {});\n            control.on('addlayer', function () {\n              return _this8.emit('addexternallayer');\n            });\n          }\n          break;\n        case 'length':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                tipLabel: 'sdk.mapcontrols.measures.length.tooltip',\n                interactionClassOptions: {\n                  projection: _this8.getProjection(),\n                  help: 'sdk.mapcontrols.measures.length.help'\n                }\n              }\n            });\n          }\n          break;\n        case 'area':\n          if (!isMobile.any) {\n            control = _this8.createMapControl(controlType, {\n              options: {\n                tipLabel: 'sdk.mapcontrols.measures.area.tooltip',\n                interactionClassOptions: {\n                  projection: _this8.getProjection(),\n                  help: 'sdk.mapcontrols.measures.area.help'\n                }\n              }\n            });\n          }\n          break;\n      }\n    });\n    return this.getMapControls();\n  }\n};\n\n/**\n *  Set ZIndex layer from fa stack\n */\nproto.setZIndexLayer = function () {\n  var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref10.layer,\n      _ref10$zindex = _ref10.zindex,\n      zindex = _ref10$zindex === undefined ? this.getMap().getLayers().getLength() : _ref10$zindex;\n\n  layer && layer.setZIndex(zindex);\n};\n\n/**\n *\n * Get map stack layer position\n */\nproto.getLayerZindex = function (layer) {\n  return layer && layer.getZIndex();\n};\n\nproto.getCenter = function () {\n  var map = this.getMap();\n  return map.getView().getCenter();\n};\n\n/**\n *\n *method to zoom to feature\n */\nproto.zoomToFid = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var zoom_to_fid = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '|';\n\n  var _zoom_to_fid$split, _zoom_to_fid$split2, layerId, fid, layer, _ref12, _ref12$data, data, feature;\n\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _zoom_to_fid$split = zoom_to_fid.split(separator), _zoom_to_fid$split2 = _slicedToArray(_zoom_to_fid$split, 2), layerId = _zoom_to_fid$split2[0], fid = _zoom_to_fid$split2[1];\n\n          if (!(layerId !== undefined && fid !== undefined)) {\n            _context2.next = 10;\n            break;\n          }\n\n          layer = this.project.getLayerById(layerId);\n          _context2.next = 5;\n          return _data2.default.getData('search:fids', {\n            inputs: {\n              layer: layer,\n              fids: [fid]\n            },\n            outputs: {\n              show: {\n                loading: false,\n                condition: function condition() {\n                  var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                      _ref13$data = _ref13.data,\n                      data = _ref13$data === undefined ? [] : _ref13$data;\n\n                  return data[0] && data[0].features.length > 0;\n                }\n              }\n            }\n          });\n\n        case 5:\n          _ref12 = _context2.sent;\n          _ref12$data = _ref12.data;\n          data = _ref12$data === undefined ? [] : _ref12$data;\n          feature = data[0] && data[0].features[0];\n\n          feature && this.zoomToFeatures([feature]);\n\n        case 10:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\n/**\n * Method to handele ztf url parameter\n * @param zoom_to_feature\n */\nproto.handleZoomToFeaturesUrlParameter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref15$zoom_to_featur = _ref15.zoom_to_features,\n      zoom_to_features = _ref15$zoom_to_featur === undefined ? '' : _ref15$zoom_to_featur,\n      _ref15$search_endpoin = _ref15.search_endpoint,\n      search_endpoint = _ref15$search_endpoin === undefined ? 'api' : _ref15$search_endpoin;\n\n  var _zoom_to_features$spl, _zoom_to_features$spl2, layerNameorIdorOrigname, fieldsValuesSearch, projectLayer, layer, filter, _ref16, data;\n\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _zoom_to_features$spl = zoom_to_features.split(':'), _zoom_to_features$spl2 = _slicedToArray(_zoom_to_features$spl, 2), layerNameorIdorOrigname = _zoom_to_features$spl2[0], fieldsValuesSearch = _zoom_to_features$spl2[1];\n\n          if (!(layerNameorIdorOrigname && fieldsValuesSearch)) {\n            _context3.next = 12;\n            break;\n          }\n\n          projectLayer = this.project.getLayers().find(function (layer) {\n            return layer.id === layerNameorIdorOrigname || layer.name === layerNameorIdorOrigname || layer.origname === layerNameorIdorOrigname;\n          });\n\n          if (!projectLayer) {\n            _context3.next = 12;\n            break;\n          }\n\n          layer = this.project.getLayerById(projectLayer.id);\n          filter = createFilterFromString({\n            layer: layer,\n            search_endpoint: search_endpoint,\n            filter: fieldsValuesSearch\n          });\n          _context3.next = 9;\n          return _data2.default.getData('search:features', {\n            inputs: {\n              layer: layer,\n              filter: filter,\n              search_endpoint: search_endpoint\n            },\n            outputs: {\n              show: {\n                loading: false\n              }\n            }\n          });\n\n        case 9:\n          _ref16 = _context3.sent;\n          data = _ref16.data;\n\n          data && data[0] && data[0].features && this.zoomToFeatures(data[0].features);\n\n        case 12:\n          _context3.next = 17;\n          break;\n\n        case 14:\n          _context3.prev = 14;\n          _context3.t0 = _context3['catch'](0);\n\n          console.log(_context3.t0);\n\n        case 17:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[0, 14]]);\n}));\n\nproto.getMapExtent = function () {\n  var map = this.getMap();\n  return map.getView().calculateExtent(map.getSize());\n};\n\nproto.addMapExtentUrlParameterToUrl = function (url) {\n  url = new URL(url);\n  var map_extent = this.getMapExtent().toString();\n  url.searchParams.set('map_extent', map_extent);\n  return url.toString();\n};\n\nproto.getMapExtentUrl = function () {\n  var url = new URL(location.href);\n  var map_extent = this.getMapExtent().toString();\n  url.searchParams.set('map_extent', map_extent);\n  return url.toString();\n};\n\nproto.createCopyMapExtentUrl = function () {\n  var url = this.getMapExtentUrl();\n  copyUrl(url);\n};\n\nproto._setMapControlsGrid = function (length) {\n  var grid = this.state.mapControl.grid;\n  if (length < 2) {\n    var rC = grid[grid.length - 1];\n    grid.push({\n      rows: rC.rows * 2,\n      columns: 2\n    });\n    return;\n  }\n  if (length === 2) {\n    if (grid.length) {\n      var _rC = grid[grid.length - 1];\n      grid.push({\n        rows: _rC.columns,\n        columns: _rC.rows\n      });\n    } else {\n      grid.push({\n        rows: 1,\n        columns: 2\n      });\n    }\n  } else if (length === 3) {\n    var _rC2 = grid[grid.length - 1];\n    grid.push({\n      rows: 2 * _rC2.rows,\n      columns: length\n    });\n  } else {\n    grid.push({\n      rows: grid.length + 1 + (Number.isInteger(length) ? 0 : 1),\n      columns: Number.isInteger(length) ? length : parseInt(length) + 1\n    });\n    var _length = Number.isInteger(length) ? length : parseInt(length);\n    this._setMapControlsGrid(_length / 2);\n  }\n};\n\nproto._setMapControlsInsideContainerLenght = function () {\n  var _this9 = this;\n\n  this.state.mapControl.length = 1;\n  // count the mapcontrol inside g3w-map-control container\n  this._mapControls.forEach(function (control) {\n    var map = _this9.getMap();\n    _this9.state.mapControl.length += control.mapcontrol ? control.id === 'zoom' ? 2 : 1 : 0;\n    control.control.changelayout ? control.control.changelayout(map) : null;\n  });\n  // add 1 id odd number\n  this.state.mapControl.length += this.state.mapControl.length % 2;\n  this.state.mapControl.grid = [];\n  this._setMapControlsGrid(this.state.mapControl.length);\n};\n\n/**\n * Get filtrable layer. Get parameter to custom filter Object\n */\nproto.filterableLayersAvailable = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var layers = getMapLayersByFilter({\n    FILTERABLE: true,\n    SELECTED_OR_ALL: true\n  }, options);\n  return layers.filter(function (layer) {\n    return layer.getProvider('filter') instanceof WFSProvider;\n  });\n};\n\nproto.setMapControlsAlignement = function () {\n  var alignement = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'rv';\n\n  this.state.mapcontrolsalignement = alignement;\n};\n\nproto.getMapControlsAlignement = function () {\n  return this.state.mapcontrolsalignement;\n};\n\nproto.isMapControlsVerticalAlignement = function () {\n  return this.state.mapcontrolsalignement.indexOf('v') !== -1;\n};\n\nproto.setMapControlsVerticalAlignement = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] + 'v';\n};\n\nproto.setMapControlsHorizontalAlignement = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] + 'h';\n};\n\nproto.flipControlsHorizontally = function () {\n  this.state.mapcontrolsalignement = this.state.mapcontrolsalignement[0] === 'r' ? 'l' + this.state.mapcontrolsalignement[1] : 'r' + this.state.mapcontrolsalignement[1];\n};\n\nproto.flipMapControlsVertically = function () {\n  this.state.mapcontrolsalignment = this.state.mapcontrolsalignement[1] === 'v' ? this.state.mapcontrolsalignement[0] + 'h' : this.state.mapcontrolsalignement[0] + 'v';\n};\n\nproto.setMapControlsContainer = function (mapControlDom) {\n  this.state.mapcontrolDOM = mapControlDom;\n};\n\nproto._updateMapControlsLayout = function () {\n  var _this10 = this;\n\n  var _ref17 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      width = _ref17.width,\n      height = _ref17.height;\n\n  // case mobile open keyboard\n  width == 0 || height == 0 ? this.state.mapcontrolDOM.css('z-index', 0) : this.state.mapcontrolDOM.css('z-index', 1);\n  // update only when all control are ready\n  if (this.state.mapcontrolready && this.state.mapControl.update) {\n    var changedAndMoreSpace = {\n      changed: false,\n      space: false\n    };\n    // count the mapcontrol insied g3w-map-control container\n    this._mapControls.forEach(function (control) {\n      var map = _this10.getMap();\n      control.control.changelayout ? control.control.changelayout(map) : null;\n    });\n    // check if is vertical\n    if (this.isMapControlsVerticalAlignement()) {\n      var handleVerticalMapControlDOMElements = function handleVerticalMapControlDOMElements() {\n        var mapControslHeight = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].columns * _this10.state.mapcontrolSizes.minWidth;\n        // get bottom controls\n        var bottomMapControls = $('.ol-control-b' + _this10.getMapControlsAlignement()[0]);\n        var bottomMapControlTop = bottomMapControls.length ? $(bottomMapControls[bottomMapControls.length - 1]).position().top : height;\n        var freeSpace = bottomMapControlTop > 0 ? bottomMapControlTop - mapControslHeight : height - mapControslHeight;\n        if (freeSpace < 10) {\n          _this10.state.mapControl.currentIndex = _this10.state.mapControl.currentIndex === _this10.state.mapControl.grid.length - 1 ? _this10.state.mapControl.currentIndex : _this10.state.mapControl.currentIndex + 1;\n          changedAndMoreSpace.changed = true;\n        } else {\n          // check if there enough space to expand map controls\n          /**\n           Add 15 px of offset. Need to find a better solution in future\n           */\n          var nextHeight = 15 + (_this10.state.mapControl.currentIndex > 0 ? _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex - 1].columns * _this10.state.mapcontrolSizes.minWidth - mapControslHeight : mapControslHeight);\n          if (freeSpace > nextHeight) {\n            changedAndMoreSpace.changed = true;\n            changedAndMoreSpace.space = true;\n            _this10.state.mapControl.currentIndex = _this10.state.mapControl.currentIndex === 0 ? _this10.state.mapControl.currentIndex : _this10.state.mapControl.currentIndex - 1;\n          }\n        }\n        if (changedAndMoreSpace.changed) {\n          var _mapControslHeight = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].columns * _this10.state.mapcontrolSizes.minWidth;\n          var mapControlsWidth = _this10.state.mapControl.grid[_this10.state.mapControl.currentIndex].rows * _this10.state.mapcontrolSizes.minWidth;\n          _this10.state.mapcontrolDOM.css('height', _mapControslHeight + 'px');\n          _this10.state.mapcontrolDOM.css('width', mapControlsWidth + 'px');\n          changedAndMoreSpace.changed = false;\n          changedAndMoreSpace.space && setTimeout(function () {\n            return handleVerticalMapControlDOMElements();\n          });\n        }\n      };\n      handleVerticalMapControlDOMElements();\n    } else isMobile.any && this.setMapControlsAlignement('rv');\n  }\n};\n\n/**\n *\n * @param control\n * @param visible\n * @private\n */\nproto._setMapControlVisible = function (_ref18) {\n  var control = _ref18.control,\n      _ref18$visible = _ref18.visible,\n      visible = _ref18$visible === undefined ? true : _ref18$visible;\n\n  control && control.setVisible(visible);\n};\n\nproto._addControlToMapControls = function (control) {\n  var visible = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  var controlElement = control.element;\n  if (!visible) control.element.style.display = \"none\";\n  $('.g3w-map-controls').append(controlElement);\n};\n\nproto.getMapControlByType = function () {\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref19.type;\n\n  var mapControl = this._mapControls.find(function (mapControl) {\n    return type === mapControl.type;\n  });\n  return mapControl && mapControl.control;\n};\n\n/**\n *\n *\n * @param id\n * @param type\n * @param control\n * @param addToMapControls\n * @param visible\n */\nproto.addControl = function (id, type, control) {\n  var _this11 = this;\n\n  var addToMapControls = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var visible = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n\n  this.state.mapcontrolready = false;\n  this.viewer.map.addControl(control);\n  control.on('toggled', function (evt) {\n    return _this11.emit('mapcontrol:toggled', evt);\n  });\n  this._mapControls.push({\n    id: id,\n    type: type,\n    control: control,\n    visible: visible,\n    mapcontrol: addToMapControls && visible\n  });\n  control.on('controlclick', function (evt) {\n    var mapcontrol = evt.target;\n\n    var info = {\n      clickmap: mapcontrol.isClickMap && mapcontrol.isClickMap() || false\n    };\n    info.clickmap && _this11._externalInteractions.forEach(function (interaction) {\n      return interaction.setActive(false);\n    });\n    _this11.controlClick(mapcontrol, info);\n  });\n  var buttonControl = $(control.element).find('button');\n  buttonControl.tooltip({\n    placement: 'bottom',\n    trigger: _gui2.default.isMobile() ? 'click' : 'hover'\n  });\n  // in case of mobile hide tooltip after click\n  _gui2.default.isMobile() && buttonControl.on('shown.bs.tooltip', function () {\n    var _this12 = this;\n\n    setTimeout(function () {\n      return $(_this12).tooltip('hide');\n    }, 600);\n  });\n  if (addToMapControls) this._addControlToMapControls(control, visible);else {\n    var $mapElement = $('#' + this.getMap().getTarget());\n    this._updateMapControlsLayout({\n      width: $mapElement.width(),\n      height: $mapElement.height()\n    });\n  }\n  _mapControls2.default.registerControl(type, control);\n  this._setMapControlsInsideContainerLenght();\n  this.state.mapcontrolready = true;\n};\n\nproto.showControl = function (type) {\n  this.showControls([type]);\n};\n\nproto.hideControl = function (type) {\n  this.hideControls([type]);\n};\n\nproto.showControls = function (types) {\n  this.toggleControls(true, types);\n};\n\nproto.hideControls = function (types) {\n  this.toggleControls(false, types);\n};\n\nproto.showAllControls = function () {\n  this.toggleControls(true);\n};\n\nproto.hideAllControls = function () {\n  this.toggleControls(false);\n};\n\nproto.toggleControls = function (toggle, types) {\n  this._removeControls();\n  this._mapControls.forEach(function (controlObj) {\n    if (types) {\n      if (types.indexOf(controlObj.type) > -1) controlObj.visible = toggle;\n    } else controlObj.visible = toggle;\n  });\n  this._layoutControls();\n};\n\nproto._layoutControls = function () {\n  var _this13 = this;\n\n  this._mapControls.forEach(function (controlObj) {\n    if (controlObj.visible) _this13.viewer.map.addControl(controlObj.control);\n  });\n};\n\nproto.getMapControls = function () {\n  return this._mapControls;\n};\n\nproto.removeControlById = function (id) {\n  var _this14 = this;\n\n  this._mapControls.find(function (controlObj, ctrlIdx) {\n    if (id === controlObj.id) {\n      _this14._mapControls.splice(ctrlIdx, 1);\n      var control = controlObj.control;\n      _this14.viewer.map.removeControl(control);\n      control.hideControl && control.hideControl();\n      return true;\n    }\n  });\n};\n\nproto.removeControl = function (type) {\n  var _this15 = this;\n\n  this._mapControls.find(function (controlObj, ctrlIdx) {\n    if (type === controlObj.type) {\n      _this15._mapControls.splice(ctrlIdx, 1);\n      var control = controlObj.control;\n      _this15.viewer.map.removeControl(control);\n      control.hideControl && control.hideControl();\n      return true;\n    }\n  });\n};\n\nproto._removeControls = function () {\n  var _this16 = this;\n\n  this._mapControls.forEach(function (controlObj) {\n    return _this16.viewer.map.removeControl(controlObj.control);\n  });\n};\n\n/**\n * untoggle mapcontrol\n * @param close GUI content\n * @private\n */\nproto._unToggleControls = function () {\n  var _ref20 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref20$close = _ref20.close,\n      close = _ref20$close === undefined ? true : _ref20$close;\n\n  this._mapControls.forEach(function (controlObj) {\n    if (controlObj.control.isToggled && controlObj.control.isToggled()) {\n      controlObj.control.toggle(false);\n      close && _gui2.default.closeContent();\n    }\n  });\n};\n\nproto.deactiveMapControls = function () {\n  this._unToggleControls({\n    close: false\n  });\n};\n\n/**\n *\n * Method to disable\n */\nproto.disableClickMapControls = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this._mapControls.forEach(function (controlObj) {\n    var control = controlObj.control;\n\n    var clickmap = control.isClickMap ? control.isClickMap() : false;\n    if (clickmap) {\n      control.isToggled() && control.toggle();\n      control[bool ? 'disable' : 'enable']();\n    }\n  });\n};\n\nproto.addMapLayers = function (mapLayers) {\n  var _this17 = this;\n\n  mapLayers.reverse().forEach(function (mapLayer) {\n    return _this17.addMapLayer(mapLayer);\n  });\n};\n\nproto._setupCustomMapParamsToLegendUrl = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  if (bool) {\n    var map = this.getMap();\n    var size = map && map.getSize().filter(function (value) {\n      return value > 0;\n    }) || null;\n    var bbox = size && size.length === 2 ? map.getView().calculateExtent(size) : this.project.state.initextent;\n    // in case of axis orientation inverted i need to inverted the axis\n    bbox = map.getView().getProjection().getAxisOrientation() === \"neu\" ? [bbox[1], bbox[0], bbox[3], bbox[2]] : bbox;\n    var crs = this.getEpsg();\n    //setup initial legend parameter\n    this.getMapLayers().forEach(function (mapLayer) {\n      mapLayer.setupCustomMapParamsToLegendUrl && mapLayer.setupCustomMapParamsToLegendUrl({\n        crs: crs,\n        bbox: bbox\n      });\n    });\n    this.emit('change-map-legend-params');\n  }\n};\n\nproto.addMapLayer = function (mapLayer) {\n  this._mapLayers.push(mapLayer);\n  this.addLayerToMap(mapLayer);\n};\n\nproto.getMapLayerByLayerId = function (layerId) {\n  return this.getMapLayers().find(function (mapLayer) {\n    return mapLayer.getLayerConfigs().find(function (layer) {\n      return layer.getId() === layerId;\n    });\n  });\n};\n\nproto.getMapLayers = function () {\n  return this._mapLayers;\n};\n\nproto.getBaseLayers = function () {\n  return this.mapBaseLayers;\n};\n\nproto.getMapLayerForLayer = function (layer) {\n  var multilayerId = 'layer_' + layer.getMultiLayerId();\n  var mapLayers = this.getMapLayers();\n  var mapLayer = mapLayers.find(function (mapLayer) {\n    return mapLayer.getId() === multilayerId;\n  });\n  return mapLayer;\n};\n\nproto.getProjectLayer = function (layerId) {\n  return _mapLayers2.default.getLayerById(layerId);\n};\n\nproto._setSettings = function () {\n  var ZOOM = _constant.MAP_SETTINGS.ZOOM;\n\n  var maxScale = this.getScaleFromExtent(this.project.state.initextent);\n  // settings maxScale\n  ZOOM.maxScale = ZOOM.maxScale > maxScale ? maxScale : ZOOM.maxScale;\n};\n\nproto._resetView = function () {\n  var _viewer$map$getSize = this.viewer.map.getSize(),\n      _viewer$map$getSize2 = _slicedToArray(_viewer$map$getSize, 2),\n      width = _viewer$map$getSize2[0],\n      height = _viewer$map$getSize2[1];\n\n  var extent = this.project.state.extent;\n  var maxxRes = ol.extent.getWidth(extent) / width;\n  var minyRes = ol.extent.getHeight(extent) / height;\n  var maxResolution = Math.max(maxxRes, minyRes) > this.viewer.map.getView().getMaxResolution() ? Math.max(maxxRes, minyRes) : this.viewer.map.getView().getMaxResolution();\n  var view = new ol.View({\n    extent: extent,\n    projection: this.viewer.map.getView().getProjection(),\n    center: this.viewer.map.getView().getCenter(),\n    resolution: this.viewer.map.getView().getResolution(),\n    maxResolution: maxResolution\n  });\n  this._setSettings();\n  this.viewer.map.setView(view);\n};\n\nproto._calculateViewOptions = function () {\n  var _this18 = this;\n\n  var _ref21 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      project = _ref21.project,\n      width = _ref21.width,\n      height = _ref21.height;\n\n  var searchParams = new URLSearchParams(location.search);\n  var map_extent = searchParams.get('map_extent');\n  var zoom_to_fid = searchParams.get('zoom_to_fid');\n  var zoom_to_features = searchParams.get('ztf'); // zoom to features\n  var lat_lon = searchParams.get('lat') && searchParams.get('lon') && {\n    lat: 1 * searchParams.get('lat'),\n    lon: 1 * searchParams.get('lon')\n  };\n  var x_y = searchParams.get('x') && searchParams.get('y') && {\n    x: 1 * searchParams.get('x'),\n    y: 1 * searchParams.get('y')\n  };\n  if (zoom_to_fid) this.zoomToFid(zoom_to_fid);else if (zoom_to_features) this.handleZoomToFeaturesUrlParameter({ zoom_to_features: zoom_to_features });else if (lat_lon && !Number.isNaN(lat_lon.lat) && !Number.isNaN(lat_lon.lon)) {\n    setTimeout(function () {\n      var geometry = new ol.geom.Point(ol.proj.transform([lat_lon.lon, lat_lon.lat], 'EPSG:4326', _this18.getEpsg()));\n      if (geometry.getExtent()) _this18.zoomToGeometry(geometry);\n    });\n  } else if (x_y && !Number.isNaN(x_y.x) && !Number.isNaN(x_y.y)) setTimeout(function () {\n    var geometry = new ol.geom.Point([x_y.x, x_y.y]);\n    _this18.zoomToGeometry(geometry);\n  });\n  var initextent = map_extent ? map_extent.split(',').map(function (coordinate) {\n    return 1 * coordinate;\n  }) : project.state.initextent;\n  var projection = this.getProjection();\n  var extent = project.state.extent;\n  var maxxRes = ol.extent.getWidth(extent) / width;\n  var maxyRes = ol.extent.getHeight(extent) / height;\n  var maxResolution = Math.max(maxxRes, maxyRes);\n  var initxRes = ol.extent.getWidth(initextent) / width;\n  var inityRes = ol.extent.getHeight(initextent) / height;\n  var resolution = Math.max(initxRes, inityRes);\n  var center = ol.extent.getCenter(initextent);\n  return {\n    projection: projection,\n    center: center,\n    extent: extent,\n    maxResolution: maxResolution,\n    resolution: resolution\n  };\n};\n\n// set view based on project config\nproto._setupViewer = function (width, height) {\n  var _this19 = this;\n\n  this.viewer = olhelpers.createViewer({\n    id: this.target,\n    view: this._calculateViewOptions({\n      width: width,\n      height: height,\n      project: this.project\n    })\n  });\n  this._setSettings();\n  this.state.size = this.viewer.map.getSize();\n  //set mapunit\n  this.state.mapUnits = this.viewer.map.getView().getProjection().getUnits();\n\n  if (this.config.background_color) {\n    $('#' + this.target).css('background-color', this.config.background_color);\n  }\n\n  $(this.viewer.map.getViewport()).prepend('<div id=\"map-spinner\" style=\"position:absolute; top: 50%; right: 50%\"></div>');\n\n  this.viewer.map.getInteractions().forEach(function (interaction) {\n    return _this19._watchInteraction(interaction);\n  });\n\n  this.viewer.map.getInteractions().on('add', function (interaction) {\n    return _this19._watchInteraction(interaction.element);\n  });\n\n  this.viewer.map.getInteractions().on('remove', function (interaction) {\n    //this._onRemoveInteraction(interaction););\n  });\n\n  this._marker = new ol.Overlay({\n    position: null,\n    positioning: 'center-center',\n    element: document.getElementById('marker'),\n    stopEvent: false\n  });\n\n  this.viewer.map.addOverlay(this._marker);\n\n  /**\n   *\n   * Register map addLayer\n   *\n   */\n  this.viewer.map.getLayers().on('add', function (evt) {\n    var layer = evt.element;\n\n    var basemap = layer.get('basemap');\n    var position = layer.get('position');\n    var zindex = basemap && 0;\n    if (position && position === 'bottom') zindex = 0;\n    zindex = _this19.setLayerZIndex({\n      layer: layer,\n      zindex: zindex\n    });\n    _this19.moveDefaultLayersOnTop(zindex);\n  });\n\n  this.viewer.map.getLayers().on('remove', function (evt) {\n    var layer = evt.element;\n\n    var layerZIndex = layer.getZIndex();\n    if (layerZIndex === _this19.layersCount) _this19.layersCount -= 1;\n  });\n};\n\nproto.getMapUnits = function () {\n  return this.state.mapUnits;\n};\n\nproto._removeListeners = function () {\n  this._setBaseLayerListenerKey && this.project.un('setBaseLayer', this._setBaseLayerListenerKey);\n};\n\n// remove all events of layersStore\nproto._removeEventsKeysToLayersStore = function (layerStore) {\n  var layerStoreId = layerStore.getId();\n  if (this._layersStoresEventKeys[layerStoreId]) {\n    this._layersStoresEventKeys[layerStoreId].forEach(function (eventObj) {\n      Object.entries(eventObj).forEach(function (_ref22) {\n        var _ref23 = _slicedToArray(_ref22, 2),\n            event = _ref23[0],\n            eventKey = _ref23[1];\n\n        return layerStore.un(event, eventKey);\n      });\n    });\n    delete this._layersStoresEventKeys[layerStoreId];\n  }\n};\n\n// register all events of layersStore and relative keys\nproto._setUpEventsKeysToLayersStore = function (layerStore) {\n  var _this20 = this;\n\n  var layerStoreId = layerStore.getId();\n  // check if already store a key of events\n  this._layersStoresEventKeys[layerStoreId] = [];\n  //ADD LAYER\n  var addLayerKey = layerStore.onafter('addLayer', function (layer) {\n    if (layer.getType() === 'vector') {\n      var mapLayer = layer.getMapLayer();\n      _this20.addLayerToMap(mapLayer);\n    }\n  });\n  this._layersStoresEventKeys[layerStoreId].push({\n    addLayer: addLayerKey\n  });\n  // REMOVE LAYER\n  var removeLayerKey = layerStore.onafter('removeLayer', function (layer) {\n    if (layer.getType() === 'vector') {\n      var olLayer = layer.getOLLayer();\n      _this20.viewer.map.removeLayer(olLayer);\n    }\n  });\n\n  this._layersStoresEventKeys[layerStoreId].push({\n    removeLayer: removeLayerKey\n  });\n};\n\nproto._setupListeners = function () {\n  var _this21 = this;\n\n  this._setBaseLayerListenerKey = this.project.onafter('setBaseLayer', function () {\n    _this21.updateMapLayers();\n  });\n};\n\n// SETUP ALL LAYERS\nproto._setupAllLayers = function () {\n  this._setupBaseLayers();\n  this._setupMapLayers();\n  this._setupVectorLayers();\n  this._setUpDefaultLayers();\n};\n\n//SETUP BASELAYERS\nproto._setupBaseLayers = function () {\n  var _this22 = this;\n\n  var baseLayers = getMapLayersByFilter({\n    BASELAYER: true\n  });\n  if (!baseLayers.length) return;\n  baseLayers.forEach(function (layer) {\n    var baseMapLayer = layer.getMapLayer();\n    _this22.registerMapLayerListeners(baseMapLayer);\n    _this22.mapBaseLayers[layer.getId()] = baseMapLayer;\n  });\n  var reverseBaseLayers = Object.values(this.mapBaseLayers).reverse();\n  reverseBaseLayers.forEach(function (baseMapLayer) {\n    baseMapLayer.update(_this22.state, _this22.layersExtraParams);\n    _this22.addLayerToMap(baseMapLayer);\n  });\n};\n\n//SETUP MAPLAYERS\nproto._setupMapLayers = function () {\n  var _this23 = this;\n\n  // get all geolayers exclude baselayers and eventually vector layers\n  var layers = getMapLayersByFilter({\n    BASELAYER: false,\n    VECTORLAYER: false\n  });\n  this._setMapProjectionToLayers(layers);\n  //group layer by mutilayer (multilayer property of layer on project configuration)\n  // nee to split time series to group to speed up eventualli time seriesries loading of single layer\n  var qtimeseries_multilayerid_split_values = {};\n  var multiLayers = _.groupBy(layers, function (layer) {\n    var multiLayerId = layer.getMultiLayerId();\n    if (layer.isQtimeseries()) {\n      qtimeseries_multilayerid_split_values[multiLayerId] = qtimeseries_multilayerid_split_values[multiLayerId] === undefined ? 0 : qtimeseries_multilayerid_split_values[multiLayerId] + 1;\n      multiLayerId = multiLayerId + '_' + qtimeseries_multilayerid_split_values[multiLayerId];\n    } else multiLayerId = qtimeseries_multilayerid_split_values[multiLayerId] === undefined ? multiLayerId : multiLayerId + '_' + (qtimeseries_multilayerid_split_values[multiLayerId] + 1);\n    return multiLayerId;\n  });\n  qtimeseries_multilayerid_split_values = null; // delete to garbage collector\n  var mapLayers = [];\n  Object.entries(multiLayers).forEach(function (_ref24) {\n    var _ref25 = _slicedToArray(_ref24, 2),\n        id = _ref25[0],\n        layers = _ref25[1];\n\n    var multilayerId = 'layer_' + id;\n    var mapLayer = void 0;\n    var layer = layers[0] || [];\n    if (layers.length === 1) {\n      mapLayer = layer.getMapLayer({\n        id: multilayerId,\n        projection: _this23.getProjection()\n      }, {});\n      mapLayer.addLayer(layer);\n      mapLayers.push(mapLayer);\n    } else {\n      mapLayer = layer.getMapLayer({\n        id: multilayerId,\n        projection: _this23.getProjection()\n      }, _this23.layersExtraParams);\n      layers.reverse().forEach(function (sub_layer) {\n        return mapLayer.addLayer(sub_layer);\n      });\n      mapLayers.push(mapLayer);\n    }\n    _this23.registerMapLayerListeners(mapLayer);\n  });\n  this.addMapLayers(mapLayers);\n  this.updateMapLayers();\n  return mapLayers;\n};\n\n//SETUP VECTORLAYERS\nproto._setupVectorLayers = function () {\n  var _this24 = this;\n\n  var layers = getMapLayersByFilter({\n    VECTORLAYER: true\n  });\n  this._setMapProjectionToLayers(layers);\n  layers.forEach(function (layer) {\n    var mapVectorLayer = layer.getMapLayer();\n    _this24.addLayerToMap(mapVectorLayer);\n  });\n};\n\nproto._setUpDefaultLayers = function () {\n  // follow the order that i want\n  this.getMap().addLayer(this.defaultsLayers.highlightLayer);\n  this.getMap().addLayer(this.defaultsLayers.selectionLayer);\n};\n\n/**\n * Method to set Default layers (selectionLayer, and highlightLayer)\n * always on top of layers stack of map to be always visible\n */\nproto.moveDefaultLayersOnTop = function (zindex) {\n  this.setZIndexLayer({\n    layer: this.defaultsLayers.highlightLayer,\n    zindex: zindex + 1\n  });\n  this.setZIndexLayer({\n    layer: this.defaultsLayers.selectionLayer,\n    zindex: zindex + 2\n  });\n};\n\nproto.removeDefaultLayers = function () {\n  this.defaultsLayers.highlightLayer.getSource().clear();\n  this.defaultsLayers.selectionLayer.getSource().clear();\n  this.getMap().removeLayer(this.defaultsLayers.highlightLayer);\n  this.getMap().removeLayer(this.defaultsLayers.selectionLayer);\n};\n\nproto.setDefaultLayerStyle = function (type) {\n  var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (type && this.defaultsLayers[type]) this.defaultsLayers._style[type] = style;\n};\n\nproto.resetDefaultLayerStyle = function (type) {\n  var style = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (type && this.defaultsLayers[type]) this.defaultsLayers._style[type] = {\n    color: type === 'highlightLayer' ? undefined : 'red'\n  };\n};\n\nproto.removeLayers = function () {\n  this._removeBaseLayers();\n  this._removeMapLayers();\n  this.removeExternalLayers();\n  this.removeDefaultLayers();\n};\n\nproto.removeAllLayers = function () {\n  this.viewer.removeLayers();\n};\n\n//set ad increase layerIndex\nproto.setLayerZIndex = function (_ref26) {\n  var layer = _ref26.layer,\n      _ref26$zindex = _ref26.zindex,\n      zindex = _ref26$zindex === undefined ? this.layersCount += 1 : _ref26$zindex;\n\n  layer.setZIndex(zindex);\n  return zindex;\n};\n\n/**\n * Add olLayer to mapLayer\n * @param layer\n */\nproto.addLayerToMap = function (layer) {\n  var olLayer = layer.getOLLayer();\n  olLayer && this.getMap().addLayer(olLayer);\n};\n\nproto._setMapProjectionToLayers = function (layers) {\n  var _this25 = this;\n\n  // setup mapProjection on ech layers\n  layers.forEach(function (layer) {\n    return layer.setMapProjection(_this25.getProjection());\n  });\n};\n\nproto.createMapLayer = function (layer) {\n  layer.setMapProjection(this.getProjection());\n  var multilayerId = 'layer_' + layer.getMultiLayerId();\n  var mapLayer = layer.getMapLayer({\n    id: multilayerId,\n    projection: this.getProjection()\n  }, this.layersExtraParams);\n  mapLayer.addLayer(layer);\n  return mapLayer;\n};\n\nproto.getOverviewMapLayers = function (project) {\n  var WMSLayer = require('core/layers/map/wmslayer');\n  var projectLayers = project.getLayersStore().getLayers({\n    GEOLAYER: true,\n    BASELAYER: false\n  });\n  var multiLayers = _.groupBy(projectLayers, function (layer) {\n    return layer.getMultiLayerId();\n  });\n  var overviewMapLayers = [];\n\n  Object.entries(multiLayers).forEach(function (_ref27) {\n    var _ref28 = _slicedToArray(_ref27, 2),\n        id = _ref28[0],\n        layers = _ref28[1];\n\n    var multilayerId = 'overview_layer_' + id;\n    var tiled = layers[0].state.tiled;\n    var config = {\n      url: project.getWmsUrl(),\n      id: multilayerId,\n      tiled: tiled\n    };\n    var mapLayer = new WMSLayer(config);\n    layers.reverse().forEach(function (layer) {\n      return mapLayer.addLayer(layer);\n    });\n    overviewMapLayers.push(mapLayer.getOLLayer(true));\n  });\n  return overviewMapLayers.reverse();\n};\n\n/**\n * method to update MapLayer\n * @param mapLayer\n * @param options\n */\nproto.updateMapLayer = function (mapLayer) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { force: false };\n\n  var _ref29 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n      _ref29$showSpinner = _ref29.showSpinner,\n      showSpinner = _ref29$showSpinner === undefined ? true : _ref29$showSpinner;\n\n  // if force add g3w_time parameter to force request of map layer from server\n  if (options.force) options.g3w_time = Date.now();\n  if (showSpinner !== mapLayer.showSpinnerWhenLoading) {\n    mapLayer.showSpinnerWhenLoading = showSpinner;\n    this[showSpinner ? 'registerMapLayerLoadingEvents' : 'unregisterMapLayerLoadingEvents'](mapLayer);\n  }\n  mapLayer.update(this.state, options);\n  return mapLayer;\n};\n\n// run update function on each mapLayer\nproto.updateMapLayers = function () {\n  var _this26 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.getMapLayers().forEach(function (mapLayer) {\n    return _this26.updateMapLayer(mapLayer, options);\n  });\n  var baseLayers = this.getBaseLayers();\n  //updatebase layer\n  Object.values(baseLayers).forEach(function (baseLayer) {\n    return baseLayer.update(_this26.state, _this26.layersExtraParams);\n  });\n};\n\n// register map Layer listeners of creation\nproto.registerMapLayerListeners = function (mapLayer) {\n  var _this27 = this;\n\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  this.registerMapLayerLoadingEvents(mapLayer);\n  //listen change filter token\n  if (projectLayer && mapLayer.layers && Array.isArray(mapLayer.layers)) mapLayer.layers.forEach(function (layer) {\n    layer.onbefore('change', function () {\n      return _this27.updateMapLayer(mapLayer, { force: true });\n    });\n    layer.on('filtertokenchange', function () {\n      return _this27.updateMapLayer(mapLayer, { force: true });\n    });\n  });\n  ///\n};\n\n/** Methos to register and unregister map loadmap\n *\n * */\nproto.registerMapLayerLoadingEvents = function (mapLayer) {\n  mapLayer.on('loadstart', this._incrementLoaders);\n  mapLayer.on('loadend', this._decrementLoaders);\n  mapLayer.on('loaderror', this._mapLayerLoadError);\n};\n\nproto.unregisterMapLayerLoadingEvents = function (mapLayer) {\n  mapLayer.off('loadstart', this._incrementLoaders);\n  mapLayer.off('loadend', this._decrementLoaders);\n  mapLayer.off('loaderror', this._mapLayerLoadError);\n};\n\n/**\n * End\n */\n\n// unregister listeners of mapLayers creation\nproto.unregisterMapLayerListeners = function (mapLayer) {\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  this.unregisterMapLayerLoadingEvents(mapLayer);\n  // try to remove layer filter token\n  if (projectLayer && mapLayer.layers && Array.isArray(mapLayer.layers)) mapLayer.layers.forEach(function (layer) {\n    layer.un('change');\n    layer.removeEvent('filtertokenchange');\n  });\n};\n\nproto.setTarget = function (elId) {\n  this.target = elId;\n};\n\nproto.getCurrentToggledMapControl = function () {\n  var mapControl = this._mapControls.find(function (_ref30) {\n    var control = _ref30.control;\n    return control && control.isToggled && control.isToggled();\n  });\n  return mapControl && mapControl.control;\n};\n\n/**\n * close: param to close eventually right content open\n * @param interaction\n * @param options is an object contain: {\n *   active: If set new interaction active or not\n *   active: If set new interaction active or not\n *   close: if close eventually GUI Content (es. result right content )\n * }\n * return object having current toggled control if there is a toggled mapcontrol\n */\nproto.addInteraction = function (interaction) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { active: true, close: true };\n  var _options$active = options.active,\n      active = _options$active === undefined ? true : _options$active;\n\n  var control = this.getCurrentToggledMapControl();\n  var toggled = control && control.isToggled && control.isToggled() || false;\n  var untoggleMapControls = control && control.isClickMap ? control.isClickMap() : true;\n  untoggleMapControls && active && this._unToggleControls(options);\n  this.getMap().addInteraction(interaction);\n  interaction.setActive(active);\n  this._externalInteractions.push(interaction);\n  return {\n    control: control,\n    toggled: toggled // return current toggled map control if toggled\n  };\n};\n\nproto.removeInteraction = function (interaction) {\n  interaction && interaction.setActive(false);\n  this.viewer.map.removeInteraction(interaction);\n  this._externalInteractions = this._externalInteractions.filter(function (_interaction) {\n    return interaction !== _interaction;\n  });\n};\n\nproto._watchInteraction = function (interaction) {\n  var _this28 = this;\n\n  interaction.on('change:active', function (e) {\n    if (e.target instanceof ol.interaction.Pointer && e.target.getActive()) {\n      _this28.emit('mapcontrol:active', e.target);\n    }\n  });\n};\n\n/**\n * Show map Info\n * @param info\n */\nproto.showMapInfo = function () {\n  var _ref31 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      info = _ref31.info,\n      style = _ref31.style;\n\n  this.state.map_info.info = info;\n  this.state.map_info.style = style || this.state.map_info.style;\n};\n\nproto.hideMapInfo = function () {\n  this.state.map_info.info = null;\n  this.state.map_info.style = null;\n};\n\nproto.zoomTo = function (coordinate) {\n  var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 6;\n\n  this.viewer.zoomTo(coordinate, zoom);\n};\n\nproto.goTo = function (coordinates, zoom) {\n  var options = {\n    zoom: zoom || 6\n  };\n  this.viewer.goTo(coordinates, options);\n};\n\nproto.goToRes = function (coordinates, resolution) {\n  this.viewer.goToRes(coordinates, {\n    resolution: resolution\n  });\n};\n\nproto.getGeometryAndExtentFromFeatures = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var extent = void 0;\n  var geometryType = void 0;\n  var geometry = void 0;\n  var coordinates = void 0;\n  var geometryCoordinates = [];\n  for (var i = 0; i < features.length; i++) {\n    var feature = features[i];\n    var _geometry = feature.getGeometry ? feature.getGeometry() : feature.geometry;\n    if (_geometry) {\n      if (_geometry instanceof ol.geom.Geometry) {\n        var featureExtent = [].concat(_toConsumableArray(_geometry.getExtent()));\n        extent = !extent ? featureExtent : ol.extent.extend(extent, featureExtent);\n        geometryType = geometryType ? geometryType : _geometry.getType();\n        coordinates = _geometry.getCoordinates();\n        if (geometryType.includes('Multi')) geometryCoordinates = [].concat(_toConsumableArray(geometryCoordinates), _toConsumableArray(coordinates));else geometryCoordinates.push(coordinates);\n      } else {\n        var _featureExtent = feature.bbox;\n        extent = !extent ? _featureExtent : ol.extent.extend(extent, _featureExtent);\n        geometryType = _geometry.type;\n        coordinates = _geometry.coordinates;\n      }\n      if (geometryType.includes('Multi')) geometryCoordinates = [].concat(_toConsumableArray(geometryCoordinates), _toConsumableArray(coordinates));else geometryCoordinates.push(coordinates);\n    }\n  }\n  try {\n    var olClassGeomType = geometryType.includes('Multi') ? geometryType : 'Multi' + geometryType;\n    geometry = new ol.geom[olClassGeomType](geometryCoordinates);\n    if (extent === undefined) extent = geometry.getExtent();\n  } catch (err) {}\n  return {\n    extent: extent,\n    geometry: geometry\n  };\n};\n\nproto.highlightFeatures = function (features) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var _getGeometryAndExtent = this.getGeometryAndExtentFromFeatures(features),\n      geometry = _getGeometryAndExtent.geometry;\n  //force zoom false\n\n\n  options.zoom = false;\n  this.highlightGeometry(geometry, options);\n};\n\n/**\n * Zoom methods\n */\n\nproto.zoomToGeometry = function (geometry) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { highlight: false };\n\n  var extent = geometry && geometry.getExtent();\n  var highlight = options.highlight;\n\n  if (highlight && extent) options.highLightGeometry = geometry;\n  extent && this.zoomToExtent(extent, options);\n};\n\nproto.zoomToFeatures = function (features) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { highlight: false };\n\n  var _getGeometryAndExtent2 = this.getGeometryAndExtentFromFeatures(features),\n      geometry = _getGeometryAndExtent2.geometry,\n      extent = _getGeometryAndExtent2.extent;\n\n  var highlight = options.highlight;\n\n  if (highlight && extent) options.highLightGeometry = geometry;\n  return extent && this.zoomToExtent(extent, options) || Promise.resolve();\n};\n\n/**\n * @param   { ol.extent }                                          extent\n * @param   {{ force?: boolean, highLightGeometry?: ol.geometry }} [options={}]\n * @returns { Promise<void> }\n */\nproto.zoomToExtent = function (extent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  this.goToRes(ol.extent.getCenter(extent), this.getResolutionForZoomToExtent(extent, { force: options.force || false }));\n  if (options.highLightGeometry) {\n    return this.highlightGeometry(options.highLightGeometry, { zoom: false, duration: options.duration });\n  }\n  return Promise.resolve();\n};\n\nproto.zoomToProjectInitExtent = function () {\n  this.zoomToExtent(this.project.state.initextent);\n};\n\n/**\n * End zoom methods\n */\n\nproto.compareExtentWithProjectMaxExtent = function (extent) {\n  var projectExtent = this.project.state.extent;\n  var inside = ol.extent.containsExtent(projectExtent, extent);\n  return inside ? extent : projectExtent;\n};\n\n/**\n * @param   {[ minx: number, miny: number, maxx: number, maxy: number ]} extent\n * @param   {{ force?: boolean }} [options] if force is undefined calculate `resolution` from given `extent`\n * @returns {number} resolution (in pixels?)\n */\nproto.getResolutionForZoomToExtent = function (extent) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { force: false };\n\n  var map = this.getMap();\n\n  // if outside project extent, return max resolution\n  if (false === ol.extent.containsExtent(this.project.state.extent, extent)) {\n    return map.getView().getResolutionForExtent(this.project.state.extent, map.getSize());\n  }\n\n  var extentResolution = map.getView().getResolutionForExtent(extent, map.getSize()); // resolution of request extent\n\n  // retrive resolution from given `extent`\n  if (true === options.force) {\n    return extentResolution;\n  }\n\n  // calculate main resolutions from map\n  var resolution = void 0;\n  var currentResolution = map.getView().getResolution();\n  var maxResolution = getResolutionFromScale(_constant.MAP_SETTINGS.ZOOM.maxScale, this.getMapUnits()); // max resolution of the map\n  resolution = extentResolution > maxResolution ? extentResolution : maxResolution;\n  resolution = currentResolution < resolution && currentResolution > extentResolution ? currentResolution : resolution;\n  return resolution;\n};\n\nproto.goToBBox = function (bbox) {\n  var epsg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getEpsg();\n\n  bbox = epsg === this.getEpsg() ? bbox : ol.proj.transformExtent(bbox, epsg, this.getEpsg());\n  this.viewer.fit(this.compareExtentWithProjectMaxExtent(bbox));\n};\n\nproto.goToWGS84 = function (coordinates, zoom) {\n  coordinates = ol.proj.transform(coordinates, 'EPSG:4326', this.project.state.crs.epsg);\n  this.goTo(coordinates, zoom);\n};\n\nproto.extentToWGS84 = function (extent) {\n  return ol.proj.transformExtent(extent, this.project.state.crs.epsg, 'EPSG:4326');\n};\n\nproto.getResolutionForMeters = function (meters) {\n  var viewport = this.viewer.map.getViewport();\n  return meters / Math.max(viewport.clientWidth, viewport.clientHeight);\n};\n\nvar animatingHighlight = false;\n\n/*\n* geometries = array of geometries\n* action: add, clear, remove :\n*                             add: feature/features to selectionLayer. If selectionLayer doesn't exist create a  new vector layer.\n*                             clear: remove selectionLayer\n*                             remove: remove feature from selection layer. If no more feature are in selectionLayer it will be removed\n* */\nproto.setSelectionFeatures = function () {\n  var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'add';\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var feature = options.feature,\n      color = options.color;\n\n  color && this.setDefaultLayerStyle('selectionLayer', {\n    color: color\n  });\n  var source = this.defaultsLayers.selectionLayer.getSource();\n  switch (action) {\n    case 'add':\n      source.addFeature(feature);\n      break;\n    case 'remove':\n      source.removeFeature(feature);\n      break;\n    case 'update':\n      var id = feature.getId();\n      var addedFeature = source.getFeatureById(id);\n      addedFeature.setGeometry(feature.getGeometry());\n      break;\n    case 'clear':\n      source.clear();\n      break;\n  }\n};\n\nproto.clearSelectionFeatures = function () {\n  this.defaultsLayers.selectionLayer.getSource().clear();\n};\n\nproto.seSelectionLayerVisible = function () {\n  var visible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.defaultsLayers.selectionLayer.setVisible(visible);\n};\n\nproto.highlightGeometry = function (geometryObj) {\n  var _this29 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return new Promise(function (resolve, reject) {\n    var color = options.color;\n\n    _this29.clearHighlightGeometry();\n    _this29.setDefaultLayerStyle('highlightLayer', {\n      color: color\n    });\n    var zoom = typeof options.zoom === 'boolean' ? options.zoom : true;\n    var hide = options.hide;\n    if (hide) hide = typeof hide === 'function' ? hide : null;\n    var customStyle = options.style;\n    var defaultStyle = function defaultStyle(feature) {\n      var styles = [];\n      var geometryType = feature.getGeometry().getType();\n      var style = createSelectedStyle({\n        geometryType: geometryType,\n        color: color,\n        fill: false\n      });\n      styles.push(style);\n      return styles;\n    };\n    var ANIMATION = _constant.MAP_SETTINGS.ANIMATION;\n\n    var highlight = typeof options.highlight == 'boolean' ? options.highlight : true;\n    var duration = options.duration || ANIMATION.duration;\n    var geometry = void 0;\n    if (geometryObj instanceof ol.geom.Geometry) geometry = geometryObj;else {\n      var format = new ol.format.GeoJSON();\n      geometry = format.readGeometry(geometryObj);\n    }\n    if (zoom) {\n      var extent = geometry.getExtent();\n      _this29.zoomToExtent(extent);\n    }\n    if (highlight) {\n      var feature = new ol.Feature({\n        geometry: geometry\n      });\n      var highlightLayer = _this29.defaultsLayers.highlightLayer;\n      customStyle && highlightLayer.setStyle(customStyle);\n      highlightLayer.getSource().addFeature(feature);\n      if (hide) {\n        var callback = function callback() {\n          highlightLayer.getSource().clear();\n          customStyle && highlightLayer.setStyle(defaultStyle);\n          resolve();\n        };\n        hide(callback);\n      } else if (duration) {\n        if (duration !== Infinity) {\n          animatingHighlight = true;\n          setTimeout(function () {\n            highlightLayer.getSource().clear();\n            customStyle && highlightLayer.setStyle(defaultStyle);\n            animatingHighlight = false;\n            resolve();\n          }, duration);\n        }\n      }\n    } else resolve();\n  });\n};\n\nproto.clearHighlightGeometry = function () {\n  !animatingHighlight && this.defaultsLayers.highlightLayer.getSource().clear();\n  this.resetDefaultLayerStyle('highlightLayer');\n};\n\n/**\n * Force to referesh map\n * @param options\n */\nproto.refreshMap = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { force: true };\n\n  this.updateMapLayers(options);\n};\n\n// called when layout (window) resize\nproto.layout = function (_ref32) {\n  var width = _ref32.width,\n      height = _ref32.height;\n\n  var is_hidden = width <= 0 || height <= 0;\n  if (!this.viewer) {\n    this.setupViewer(width, height);\n    if (this.viewer) {\n      this.setupControls();\n      this.emit('ready');\n    }\n  } else {\n    if (!is_hidden) {\n      this.getMap().updateSize();\n      this.state.hidemaps.forEach(function (hidemap) {\n        return hidemap.map.updateSize();\n      });\n      this._updateMapView();\n    }\n  }\n  this.setHidden(is_hidden);\n  this._mapControls.length && this._updateMapControlsLayout({ width: width, height: height });\n};\n\n//remove BaseLayers\nproto._removeBaseLayers = function () {\n  var _this30 = this;\n\n  Object.keys(this.mapBaseLayers).forEach(function (baseLayerId) {\n    _this30.viewer.map.removeLayer(_this30.mapBaseLayers[baseLayerId].getOLLayer());\n  });\n};\n\n// function to remove maplayers\nproto._removeMapLayers = function () {\n  var _this31 = this;\n\n  this.getMapLayers().forEach(function (mapLayer) {\n    _this31.unregisterMapLayerListeners(mapLayer);\n    _this31.viewer.map.removeLayer(mapLayer.getOLLayer());\n  });\n  this._mapLayers = [];\n};\n\nproto.getMapBBOX = function () {\n  return this.viewer.getBBOX();\n};\n\nproto._updateMapView = function () {\n  var bbox = this.viewer.getBBOX();\n  var resolution = this.viewer.getResolution();\n  var center = this.viewer.getCenter();\n  var size = this.getMap().getSize();\n  this.updateMapView(bbox, resolution, center, size);\n};\n\nproto.getMapSize = function () {\n  var map = this.viewer.map;\n  return map.getSize();\n};\n\nproto.setInnerGreyCoverScale = function (scale) {\n  this._drawShadow.scale = scale;\n};\n\nproto._resetDrawShadowInner = function () {\n  this._drawShadow = {\n    type: 'coordinate',\n    outer: [],\n    inner: [],\n    scale: null,\n    rotation: null\n  };\n};\n\nproto.setInnerGreyCoverBBox = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var map = this.viewer.map;\n  var type = options.type || 'coordinate';\n  var inner = options.inner || null;\n  var rotation = options.rotation;\n  var scale = options.scale;\n  var lowerLeftInner = void 0;\n  var upperRightInner = void 0;\n  if (inner) {\n    switch (type) {\n      case 'coordinate':\n        lowerLeftInner = map.getPixelFromCoordinate([inner[0], inner[1]]);\n        upperRightInner = map.getPixelFromCoordinate([inner[2], inner[3]]);\n        break;\n      case 'pixel':\n        lowerLeftInner = [inner[0], inner[1]];\n        upperRightInner = [inner[2], inner[3]];\n        break;\n    }\n    var y_min = lowerLeftInner[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var x_min = lowerLeftInner[0] * ol.has.DEVICE_PIXEL_RATIO;\n    var y_max = upperRightInner[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var x_max = upperRightInner[0] * ol.has.DEVICE_PIXEL_RATIO;\n    this._drawShadow.inner[0] = x_min;\n    this._drawShadow.inner[1] = y_min;\n    this._drawShadow.inner[2] = x_max;\n    this._drawShadow.inner[3] = y_max;\n  }\n  if (_.isNil(scale)) this._drawShadow.scale = this._drawShadow.scale || 1;else this._drawShadow.scale = scale;\n\n  if (_.isNil(rotation)) this._drawShadow.rotation = this._drawShadow.rotation || 0;else this._drawShadow.rotation = rotation;\n\n  this._drawShadow.outer && map.render();\n};\n\n// grey map precompose mapcompose\nproto.startDrawGreyCover = function (message) {\n  var _this32 = this;\n\n  // after rendering the layer, restore the canvas context\n  var map = this.viewer.map;\n  var x_min = void 0,\n      x_max = void 0,\n      y_min = void 0,\n      y_max = void 0,\n      rotation = void 0,\n      scale = void 0;\n  this.stopDrawGreyCover();\n  var postcompose = function postcompose(evt) {\n    var ctx = evt.context;\n    var size = _this32.getMap().getSize();\n    // Inner polygon,must be counter-clockwise\n    var height = size[1] * ol.has.DEVICE_PIXEL_RATIO;\n    var width = size[0] * ol.has.DEVICE_PIXEL_RATIO;\n    _this32._drawShadow.outer = [0, 0, width, height];\n    ctx.restore();\n    ctx.beginPath();\n    // Outside polygon, must be clockwise\n    ctx.moveTo(0, 0);\n    ctx.lineTo(width, 0);\n    ctx.lineTo(width, height);\n    ctx.lineTo(0, height);\n    ctx.lineTo(0, 0);\n    ctx.closePath();\n    // end external bbox (map is cover)\n    if (_this32._drawShadow.inner.length) {\n      ctx.save();\n      x_min = _this32._drawShadow.inner[0];\n      y_min = _this32._drawShadow.inner[3];\n      x_max = _this32._drawShadow.inner[2];\n      y_max = _this32._drawShadow.inner[1];\n      rotation = _this32._drawShadow.rotation;\n      scale = _this32._drawShadow.scale;\n      // Inner polygon,must be counter-clockwise antiorario\n      ctx.translate((x_max + x_min) / 2, (y_max + y_min) / 2);\n      ctx.rotate(rotation * Math.PI / 180);\n      ctx.moveTo(-((x_max - x_min) / 2), (y_max - y_min) / 2);\n      ctx.lineTo((x_max - x_min) / 2, (y_max - y_min) / 2);\n      ctx.lineTo((x_max - x_min) / 2, -((y_max - y_min) / 2));\n      ctx.lineTo(-((x_max - x_min) / 2), -((y_max - y_min) / 2));\n      ctx.lineTo(-((x_max - x_min) / 2), (y_max - y_min) / 2);\n      ctx.closePath();\n      // end inner bbox\n    }\n    ctx.fillStyle = 'rgba(0, 5, 25, 0.40)';\n    ctx.fill();\n    if (message) {\n      ctx.font = \"bold 25px Arial\";\n      ctx.fillStyle = \"#ffffff\";\n      ctx.textAlign = \"center\";\n      var arrayMessages = message.split('\\n');\n      for (var i = 0; i < arrayMessages.length; i++) {\n        ctx.fillText(arrayMessages[i], width / 2, height / 2 + 30 * i);\n      }\n      //ctx.fillText(message,width/2, height/2);\n    }\n    ctx.restore();\n  };\n  this._greyListenerKey = map.on('postcompose', postcompose);\n};\n\nproto.stopDrawGreyCover = function () {\n  var map = this.getMap();\n  if (this._greyListenerKey) {\n    ol.Observable.unByKey(this._greyListenerKey);\n    this._greyListenerKey = null;\n    this._drawShadow.inner.length && this._resetDrawShadowInner();\n  }\n  map.render();\n};\n\nproto.removeExternalLayers = function () {\n  var _this33 = this;\n\n  this._externalLayers.forEach(function (layer) {\n    var name = layer.get('name');\n    _this33.removeExternalLayer(name);\n  });\n  this._externalLayers = [];\n};\n\nproto.changeLayerVisibility = function (_ref33) {\n  var id = _ref33.id,\n      _ref33$external = _ref33.external,\n      external = _ref33$external === undefined ? false : _ref33$external,\n      visible = _ref33.visible;\n\n  var layer = this.getLayerById(id);\n  if (layer) {\n    layer.setVisible(visible);\n    this.emit('change-layer-visibility', { id: id, visible: visible });\n  }\n};\n\nproto.changeLayerOpacity = function () {\n  var _ref34 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref34.id,\n      _ref34$opacity = _ref34.opacity,\n      opacity = _ref34$opacity === undefined ? 1 : _ref34$opacity;\n\n  var layer = this.getLayerById(id);\n  layer && layer.setOpacity(opacity);\n  this.emit('change-layer-opacity', { id: id, opacity: opacity });\n};\n\nproto.changeLayerMapPosition = function (_ref35) {\n  var id = _ref35.id,\n      _ref35$position = _ref35.position,\n      position = _ref35$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _ref35$position;\n\n  var layer = this.getLayerById(id);\n  switch (position) {\n    case 'top':\n      layer.setZIndex(this.layersCount);\n      break;\n    case 'bottom':\n      layer.setZIndex(0);\n      break;\n  }\n  this.emit('change-layer-position-map', { id: id, position: position });\n};\n\n/**\n * Remove externla layer\n * @param name\n */\nproto.removeExternalLayer = function (name) {\n  var _this34 = this;\n\n  var layer = this.getLayerByName(name);\n  var catalogService = _gui2.default.getService('catalog');\n  var QueryResultService = _gui2.default.getService('queryresults');\n  QueryResultService.unregisterVectorLayer(layer);\n  this.viewer.map.removeLayer(layer);\n  var type = layer._type || 'vector';\n  catalogService.removeExternalLayer({\n    name: name,\n    type: type\n  });\n  if (type == 'wms') this._externalMapLayers = this._externalMapLayers.filter(function (externalMapLayer) {\n    if (externalMapLayer.getId() === layer.id) _this34.unregisterMapLayerListeners(externalMapLayer, layer.projectLayer);\n    return externalMapLayer.getId() !== layer.id;\n  });\n  this._externalLayers = this._externalLayers.filter(function (externalLayer) {\n    return externalLayer.get('id') !== layer.get('id');\n  });\n  this.unloadExternalLayer(layer);\n  this.emit('remove-external-layer', name);\n};\n\n/**\n * Add wms external layer to mapo\n * @param url\n * @param layers\n * @param name\n * @param projection\n * @param position\n * @returns {Promise<unknown>}\n */\nproto.addExternalWMSLayer = function () {\n  var _this35 = this;\n\n  var _ref36 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref36.url,\n      layers = _ref36.layers,\n      name = _ref36.name,\n      _ref36$epsg = _ref36.epsg,\n      epsg = _ref36$epsg === undefined ? this.getEpsg() : _ref36$epsg,\n      _ref36$position = _ref36.position,\n      position = _ref36$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _ref36$position,\n      opacity = _ref36.opacity,\n      _ref36$visible = _ref36.visible,\n      visible = _ref36$visible === undefined ? true : _ref36$visible;\n\n  var projection = ol.proj.get(epsg);\n  return new Promise(function (resolve, reject) {\n    var _createWMSLayer = createWMSLayer({\n      name: name,\n      url: url,\n      layers: layers,\n      projection: projection\n    }),\n        wmslayer = _createWMSLayer.wmslayer,\n        olLayer = _createWMSLayer.olLayer;\n\n    wmslayer.once('loadend', function () {\n      resolve(wmslayer);\n    });\n\n    wmslayer.once('loaderror', function (err) {\n      reject(err);\n    });\n\n    /**\n     * add to map\n     */\n    _this35.addExternalLayer(olLayer, {\n      position: position,\n      opacity: opacity,\n      visible: visible\n    });\n\n    /**\n     * cal register and other thing to alert that new map layer is added\n     */\n    _this35.addExternalMapLayer(wmslayer, false);\n  });\n};\n\n/**\n *\n * Return extanla layers added to map\n * @returns {[]|*[]|T[]}\n */\nproto.getExternalLayers = function () {\n  return this._externalLayers;\n};\n\nproto.addExternalMapLayer = function (externalMapLayer) {\n  var projectLayer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  this._externalMapLayers.push(externalMapLayer);\n  this.registerMapLayerListeners(externalMapLayer, projectLayer);\n};\n\n/**\n * Add an external layer to the map (eg. ZIP, KMZ, GPX, ...)\n * \n * @param { ol.layer.Vector | ol.layer.Image | unknown } externalLayer\n * @param {{ position: unknown, opacity: number, visible: boolean, crs: unknown, type: unknown, download: unknown }} options\n * \n * @returns { Promise<unknown> }\n */\nproto.addExternalLayer = function () {\n  var _ref37 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(externalLayer) {\n    var _this36 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var vectorLayer, name, data, color, style, type, crs, _options$position, position, _options$opacity, opacity, _options$visible, visible, map, catalogService, QueryResultService, _color, _style, loadExternalLayer, layer;\n\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            vectorLayer = void 0, name = void 0, data = void 0, color = void 0, style = void 0, type = void 0, crs = void 0;\n            _options$position = options.position, position = _options$position === undefined ? _constant.MAP_SETTINGS.LAYER_POSITIONS.default : _options$position, _options$opacity = options.opacity, opacity = _options$opacity === undefined ? 1 : _options$opacity, _options$visible = options.visible, visible = _options$visible === undefined ? true : _options$visible;\n            map = this.viewer.map;\n            catalogService = _gui2.default.getService('catalog');\n            QueryResultService = _gui2.default.getService('queryresults');\n\n            /**\n             * EXTERNAL VECTOR LAYER\n             */\n\n            if (externalLayer instanceof ol.layer.Vector) {\n              _color = void 0;\n\n\n              if (undefined === externalLayer.get('id')) {\n                externalLayer.set('id', uniqueId());\n              }\n\n              vectorLayer = externalLayer;\n              vectorLayer.filter = { // used by `selection` for query result purpose ?\n                active: false // UNUSUED - it means not yet implemented?\n              };\n              vectorLayer.selection = {\n                active: false,\n                features: []\n              };\n\n              try {\n                _style = externalLayer.getStyle();\n\n                _color = _style._g3w_options ? _style._g3w_options.color : 'blue'; //setted by geo utils create style function\n              } catch (err) {\n                _color = 'blue';\n              }\n\n              name = vectorLayer.get('name') || vectorLayer.get('id');\n              type = 'vector';\n              externalLayer = {\n                id: externalLayer.get('id'),\n                name: name,\n                projectLayer: false,\n                title: name,\n                removable: true,\n                external: true,\n                crs: options.crs,\n                type: options.type,\n                _type: type,\n                download: options.download || false,\n                visible: visible,\n                checked: true,\n                position: position,\n                opacity: opacity,\n                color: _color,\n                filter: vectorLayer.filter,\n                selection: vectorLayer.selection,\n                tochighlightable: false //@since 3.8.0\n              };\n            }\n\n            /**\n             * EXTERNAL IMAGE LAYER\n             */\n            else if (externalLayer instanceof ol.layer.Image) {\n                type = 'wms';\n                name = externalLayer.get('name');\n                externalLayer.id = externalLayer.get('id');\n                externalLayer.removable = true;\n                externalLayer.projectLayer = false;\n                externalLayer.name = name;\n                externalLayer.title = name;\n                externalLayer._type = type;\n                externalLayer.opacity = opacity;\n                externalLayer.position = position;\n                externalLayer.external = true;\n                externalLayer.checked = visible;\n              }\n\n              /**\n               * UKNOWN EXTERNAL LAYER TYPE ?\n               */\n              else {\n                  name = externalLayer.name;\n                  type = externalLayer.type;\n                  crs = externalLayer.crs;\n                  data = externalLayer.data;\n                  color = externalLayer.color;\n                }\n\n            loadExternalLayer = function loadExternalLayer(layer, type) {\n              var extent = void 0;\n              // skip if is not a valid layer\n              if (!layer) {\n                return Promise.reject();\n              }\n              if (type === 'vector') {\n                var features = layer.getSource().getFeatures();\n                if (features.length) {\n                  var id = 0;\n                  // add id value\n                  features.forEach(function (feature) {\n                    feature.setId(id++);\n                  });\n                  externalLayer.geometryType = features[0].getGeometry().getType();\n                  externalLayer.selected = false;\n                }\n                extent = layer.getSource().getExtent();\n                externalLayer.bbox = { minx: extent[0], miny: extent[1], maxx: extent[2], maxy: extent[3] };\n              }\n              layer.set('position', position);\n              layer.setOpacity(opacity);\n              layer.setVisible(visible);\n              map.addLayer(layer);\n              _this36._externalLayers.push(layer);\n              QueryResultService.registerVectorLayer(layer);\n              catalogService.addExternalLayer({ layer: externalLayer, type: type });\n              if (extent) {\n                map.getView().fit(extent);\n              }\n              _this36.loadExternalLayer(layer);\n              return Promise.resolve(layer);\n            };\n\n            layer = this.getLayerByName(name);\n\n            if (layer) {\n              _context4.next = 20;\n              break;\n            }\n\n            _context4.t0 = type;\n            _context4.next = _context4.t0 === 'vector' ? 12 : _context4.t0 === 'wms' ? 13 : 14;\n            break;\n\n          case 12:\n            return _context4.abrupt('return', loadExternalLayer(vectorLayer, type));\n\n          case 13:\n            return _context4.abrupt('return', loadExternalLayer(externalLayer, type));\n\n          case 14:\n            _context4.next = 16;\n            return createVectorLayerFromFile({ name: name, type: type, crs: crs, mapCrs: mapCrs, data: data, style: style });\n\n          case 16:\n            vectorLayer = _context4.sent;\n            return _context4.abrupt('return', loadExternalLayer(vectorLayer));\n\n          case 18:\n            _context4.next = 21;\n            break;\n\n          case 20:\n            _gui2.default.notify.warning(\"layer_is_added\", false);\n\n          case 21:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x55) {\n    return _ref37.apply(this, arguments);\n  };\n}();\n\nproto.setExternalLayerStyle = function (color, field) {\n  color = color.rgba;\n  color = 'rgba(' + color.r + ',' + color.g + ',' + color.b + ',' + color.a + ')';\n  var defaultStyle = {\n    'Point': new ol.style.Style({\n      image: new ol.style.Circle({\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        radius: 5,\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 1\n        })\n      })\n    }),\n    'LineString': new ol.style.Style({\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'Polygon': new ol.style.Style({\n      fill: new ol.style.Fill({\n        color: 'rgba(255,255,255,0.5)'\n      }),\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'MultiPoint': new ol.style.Style({\n      image: new ol.style.Circle({\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        radius: 5,\n        stroke: new ol.style.Stroke({\n          color: color,\n          width: 1\n        })\n      })\n    }),\n    'MultiLineString': new ol.style.Style({\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    }),\n    'MultiPolygon': new ol.style.Style({\n      fill: new ol.style.Fill({\n        color: 'rgba(255,255,255,0.5)'\n      }),\n      stroke: new ol.style.Stroke({\n        color: color,\n        width: 3\n      })\n    })\n  };\n  var styleFunction = function styleFunction(feature, resolution) {\n    var featureStyleFunction = feature.getStyleFunction();\n    return featureStyleFunction ? featureStyleFunction.call(feature, resolution) : defaultStyle[feature.getGeometry().getType()];\n  };\n  return styleFunction;\n};\n\nmodule.exports = MapService;\n\n},{\"app/constant\":5,\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/layers/map/wmslayer\":46,\"core/layers/providers/wfsprovider\":54,\"core/layers/vectorlayer\":58,\"core/utils/geo\":65,\"core/utils/ol\":66,\"core/utils/utils\":68,\"g3w-ol/g3w.ol\":99,\"gui/map/control/factory\":154,\"gui/wms/vue/wms\":191,\"services/application\":346,\"services/data\":353,\"services/gui\":356,\"store/map-controls\":371,\"store/map-layers\":372,\"store/projects\":374}],156:[function(require,module,exports){\nvar _Map = require('components/Map.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Map);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    merge = _require.merge,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar MapService = require('gui/map/mapservice');\n\n// interanl registration\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nVue.component('g3w-map', vueComponentOptions);\n\nfunction MapComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"map-component\";\n  this.title = \"Map Component\";\n  var target = options.target || \"map\";\n  var maps_container = options.maps_container || \"g3w-maps\";\n  options.target = target;\n  options.maps_container = maps_container;\n  var service = new MapService(options);\n  this.setService(service);\n  merge(this, options);\n  this.internalComponent = new InternalComponent({\n    service: service,\n    target: target,\n    maps_container: maps_container\n  });\n  /**\n   * add Vue get cookie method\n   *\n   */\n  service.getCookie = this.internalComponent.$cookie.get;\n}\n\ninherit(MapComponent, Component);\n\nvar proto = MapComponent.prototype;\n\nproto.layout = function (width, height) {\n  $('#' + this.target).height(height);\n  $('#' + this.target).width(width);\n  this._service.layout({ width: width, height: height });\n};\n\nmodule.exports = MapComponent;\n\n},{\"components/Map.vue\":253,\"core/utils/utils\":68,\"gui/component/component\":115,\"gui/map/mapservice\":155}],157:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar ProjectMetadataComponent = require('gui/metadata/vue/components/project/project');\n\nvar METADATAGROUPS = {\n  general: ['title', 'name', 'description', 'abstract', 'keywords', 'fees', 'accessconstraints', 'contactinformation', 'wms_url'],\n  spatial: ['crs', 'extent'],\n  layers: ['layers']\n};\n\nfunction MetadataService() {\n  this.content = null;\n  this.show = false;\n  this.state = {\n    name: '',\n    groups: {}\n  };\n  this._buildProjectGroupMetadata();\n}\n\ninherit(MetadataService, G3WObject);\n\nvar proto = MetadataService.prototype;\n\nproto._buildProjectGroupMetadata = function () {\n  var project = _projects2.default.getCurrentProject().getState();\n  this.state.name = project.title;\n  var groups = {};\n  Object.entries(METADATAGROUPS).forEach(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        groupName = _ref2[0],\n        value = _ref2[1];\n\n    groups[groupName] = {};\n    value.forEach(function (field) {\n      var fieldValue = project.metadata && project.metadata[field] ? project.metadata[field] : project[field];\n      if (!!fieldValue) {\n        groups[groupName][field] = {\n          label: ['sdk', 'metadata', 'groups', groupName, 'fields', field].join('.'),\n          value: fieldValue\n        };\n      }\n    });\n  });\n  this.state.groups = groups;\n};\n\nproto.getProjectMetadata = function () {\n  return this.state;\n};\n\nproto.getLayersMetadata = function () {\n  return this.state.groups.layers;\n};\n\nproto.getLayerMetadata = function (id) {\n  var layerMetadata = this.state.groups.layers.filter(function (layer) {\n    return layer.id === id;\n  });\n  return layerMetadata[0];\n};\n\nproto.showMetadata = function (bool) {\n  this.show = bool;\n  if (this.show) {\n    this.content = new ProjectMetadataComponent({\n      state: this.getProjectMetadata(),\n      service: this\n    });\n    _gui2.default.setContent({\n      content: this.content,\n      title: \"sdk.metadata.title\",\n      perc: 100\n    });\n    this.show = true;\n  } else _gui2.default.closeContent();\n};\n\nproto.reload = function () {\n  this.emit('reload');\n  this._buildProjectGroupMetadata();\n};\n\nmodule.exports = MetadataService;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"gui/metadata/vue/components/project/project\":158,\"services/gui\":356,\"store/projects\":374}],158:[function(require,module,exports){\nvar _MetadataProject = require('components/MetadataProject.vue');\n\nvar _MetadataProject2 = _interopRequireDefault(_MetadataProject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\n\nfunction ProjectMetadataComponent() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$state = _ref.state,\n      state = _ref$state === undefined ? {} : _ref$state,\n      service = _ref.service;\n\n  base(this);\n  var vueComponent = Vue.extend(_MetadataProject2.default);\n  this.setService(service);\n  this.internalComponent = new vueComponent({\n    state: state\n  });\n  this.layout = function () {};\n}\n\ninherit(ProjectMetadataComponent, Component);\n\nmodule.exports = ProjectMetadataComponent;\n\n},{\"components/MetadataProject.vue\":260,\"core/utils/utils\":68,\"gui/component/component\":115}],159:[function(require,module,exports){\nvar _Metadata = require('components/Metadata.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Metadata);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar MetadataService = require('gui/metadata/metadataservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar MetadataComponent = function MetadataComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = \"sdk.metadata.title\";\n  var service = options.service || new MetadataService(options);\n  this.setService(service);\n  this._service.on('reload', function () {\n    _this.setOpen(false);\n  });\n  this.setInternalComponent = function () {\n    this.internalComponent = new InternalComponent({\n      service: service\n    });\n    this.internalComponent.state = service.state;\n    return this.internalComponent;\n  };\n  this._setOpen = function (bool) {\n    this._service.showMetadata(bool);\n  };\n  _gui2.default.on('closecontent', function () {\n    _this.state.open = false;\n  });\n};\n\ninherit(MetadataComponent, Component);\n\nmodule.exports = MetadataComponent;\n\n},{\"components/Metadata.vue\":258,\"core/utils/utils\":68,\"gui/component/component\":115,\"gui/metadata/metadataservice\":157,\"services/gui\":356}],160:[function(require,module,exports){\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    resolvedValue = _require.resolve;\n\nvar G3WObject = require('core/g3wobject');\n\nvar Panel = function Panel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.id = options.id || null;\n  this.title = options.title || '';\n  this.internalPanel = options.panel || null;\n  this.service = options.service;\n};\n\ninherit(Panel, G3WObject);\n\nvar proto = Panel.prototype;\n\nproto.getId = function () {\n  return this.id;\n};\n\nproto.getTitle = function () {\n  return this.title;\n};\n\nproto.getService = function () {\n  return this.service;\n};\n\nproto.setService = function (service) {\n  this.service = service;\n};\n\nproto.getInternalPanel = function () {\n  return this.internalPanel;\n};\n\nproto.setInternalPanel = function (internalPanel) {\n  this.internalPanel = internalPanel;\n};\n\nproto.show = function () {\n  _gui2.default.showPanel(this);\n};\n\nproto.close = function () {\n  _gui2.default.closePanel();\n};\n\nproto.mount = function (parent) {\n  var panel = this.internalPanel;\n  var iCinstance = panel.$mount();\n  $(parent).append(iCinstance.$el);\n  iCinstance.$nextTick(function () {\n    $(parent).localize();\n    panel.onShow && panel.onShow();\n  });\n  return resolvedValue(true);\n};\n\nproto.unmount = function () {\n  var panel = this.internalPanel;\n  var d = $.Deferred();\n  panel.$destroy(true);\n  $(panel.$el).remove();\n  panel.onClose && panel.onClose();\n  this.internalComponent = null;\n  d.resolve();\n  return d.promise();\n};\n\nproto.onResize = function (parentWidth, parentHeight) {};\n\nmodule.exports = Panel;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"services/gui\":356}],161:[function(require,module,exports){\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    downloadFile = _require.downloadFile;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar G3WObject = require('core/g3wobject');\nvar PrintService = require('core/print/printservice');\n\nvar _require3 = require('core/utils/ol'),\n    getScaleFromResolution = _require3.getScaleFromResolution,\n    getResolutionFromScale = _require3.getResolutionFromScale,\n    getMetersFromDegrees = _require3.getMetersFromDegrees;\n\nvar PrintPage = require('gui/print/vue/printpage');\n\nfunction PrintComponentService() {\n  base(this);\n  this.printService = new PrintService();\n  this._initialized = false;\n  this.state = {\n    loading: false\n  };\n  this._moveMapKeyEvent = null;\n  this._page = null;\n  this._mapService = null;\n  this._map = null;\n  this._mapUnits;\n  this._scalesResolutions = {};\n  this.init = function () {\n    this._project = _projects2.default.getCurrentProject();\n    this.state.print = this._project.getPrint() || [];\n    this.state.visible = this.state.print.length > 0;\n    this.state.isShow = false;\n    this.state.url = null;\n    this.state.output = {\n      url: null,\n      method: this._project.getOwsMethod(),\n      layers: true,\n      format: null,\n      loading: false,\n      type: null\n    };\n    this.state.printextent = {\n      minx: [0, 0],\n      miny: [0, 0],\n      maxx: [0, 0],\n      maxy: [0, 0]\n    };\n    this.state.visible && this.setInitState();\n  };\n}\n\ninherit(PrintComponentService, G3WObject);\n\nvar proto = PrintComponentService.prototype;\n\nproto.setInitState = function () {\n  this.state.template = this.state.print[0].name;\n  this.state.atlas = this.state.print[0].atlas;\n  this.state.atlasValues = [];\n  this.state.rotation = 0;\n  this.state.inner = [0, 0, 0, 0];\n  this.state.center = null;\n  this.state.size = null;\n  this.state.scale = _constant.PRINT_SCALES;\n  this.state.scala = null;\n  this.state.dpis = _constant.PRINT_RESOLUTIONS;\n  this.state.dpi = _constant.PRINT_RESOLUTIONS[0];\n  this.state.formats = _constant.PRINT_FORMATS;\n  this.state.output.format = _constant.PRINT_FORMATS[0].value;\n  this.state.maps = this.state.print[0].maps;\n  // label section\n  this.state.labels = this.state.print[0].labels;\n};\n\nproto.changeTemplate = function () {\n  var _this = this;\n\n  if (!this.state.template) return;\n  var isPreviousAtlas = this.state.atlas;\n\n  var _state$print$find = this.state.print.find(function (print) {\n    return print.name === _this.state.template;\n  }),\n      atlas = _state$print$find.atlas,\n      maps = _state$print$find.maps,\n      labels = _state$print$find.labels;\n\n  this.state.maps = maps;\n  this.state.atlas = atlas;\n  this.state.labels = labels;\n  this.state.atlasValues = [];\n  this.state.atlas ? this._clearPrint() : isPreviousAtlas ? this.showPrintArea(true) : this._setPrintArea();\n};\n\nproto.changeScale = function () {\n  this.state.scala && this._setPrintArea();\n};\n\nproto.changeRotation = function () {\n  this._mapService.setInnerGreyCoverBBox({\n    rotation: this.state.rotation\n  });\n};\n\nproto._getPrintExtent = function () {\n  var _ref = [].concat(_toConsumableArray(this.state.printextent.lowerleft), _toConsumableArray(this.state.printextent.upperright)),\n      minx = _ref[0],\n      miny = _ref[1],\n      maxx = _ref[2],\n      maxy = _ref[3];\n\n  var extent = this._mapService.isAxisOrientationInverted() ? [miny, minx, maxy, maxx] : [minx, miny, maxx, maxy];\n  return extent.join();\n};\n\nproto.getOverviewExtent = function () {\n  var extent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var xmin = extent.xmin,\n      xmax = extent.xmax,\n      ymin = extent.ymin,\n      ymax = extent.ymax;\n\n  var overviewextent = this._mapService.isAxisOrientationInverted() ? [ymin, xmin, ymax, xmax] : [xmin, ymin, xmax, ymax];\n  return overviewextent.join();\n};\n\nproto._getOptionsPrint = function () {\n  var _this2 = this;\n\n  var is_maps_preset_theme = false;\n  var maps = this.state.maps.map(function (map) {\n    is_maps_preset_theme = is_maps_preset_theme || map.preset_theme !== undefined;\n    return {\n      name: map.name,\n      preset_theme: map.preset_theme,\n      scale: map.overview ? map.scale : _this2.state.scala,\n      extent: map.overview ? _this2.getOverviewExtent(map.extent) : _this2._getPrintExtent()\n    };\n  });\n  var options = {\n    rotation: this.state.rotation,\n    dpi: this.state.dpi,\n    template: this.state.template,\n    maps: maps,\n    scale: this.state.scala,\n    format: this.state.output.format,\n    labels: this.state.labels,\n    is_maps_preset_theme: is_maps_preset_theme\n  };\n\n  return options;\n};\n\nproto.setPrintAreaAfterCloseContent = function () {\n  this._map.once('postrender', this._setPrintArea.bind(this));\n  this.stopLoading();\n};\n\nproto.print = function () {\n  var _this3 = this;\n\n  return new Promise(function (resolve, reject) {\n    //disable sidebar\n    _gui2.default.disableSideBar(true);\n    if (_this3.state.atlas) {\n      var caller_download_id = _application2.default.setDownload(true);\n      _this3.state.loading = true;\n      _this3.printService.printAtlas({\n        template: _this3.state.template,\n        field: _this3.state.atlas.field_name || '$id',\n        values: _this3.state.atlasValues,\n        download: true\n      }).then(function (_ref2) {\n        var url = _ref2.url;\n\n        downloadFile({\n          url: url,\n          filename: _this3.state.template,\n          mime_type: 'application/pdf'\n        }).then(function () {\n          resolve();\n        }).catch(function (error) {\n          _this3.showError(error);\n          reject();\n        }).finally(function () {\n          _this3.state.loading = false;\n          _application2.default.setDownload(false, caller_download_id);\n          _gui2.default.disableSideBar(false);\n        });\n      });\n    } else {\n      _this3.state.output.url = null;\n      _this3.state.output.layers = true;\n      _this3._page = new PrintPage({\n        service: _this3\n      });\n      _gui2.default.setContent({\n        content: _this3._page,\n        title: 'print',\n        perc: 100\n      });\n      var options = _this3._getOptionsPrint();\n      _this3.printService.print(options, method = _this3.state.output.method).then(function (data) {\n        _this3.state.output.url = data.url;\n        _this3.state.output.layers = data.layers;\n        _this3.state.output.mime_type = data.mime_type;\n        resolve();\n      }).catch(function (err) {\n        _this3.showError();\n        reject(err);\n      }).finally(function () {\n        // in case of no layers\n        !_this3.state.output.layers && _gui2.default.disableSideBar(false);\n      });\n    }\n  });\n};\n\nproto.startLoading = function () {\n  this.state.output.loading = true;\n};\n\nproto.stopLoading = function () {\n  this.state.output.loading = false;\n};\n\nproto.showError = function (error) {\n  _gui2.default.notify.error(error || t(\"info.server_error\"));\n  _gui2.default.closeContent();\n};\n\nproto._calculateInternalPrintExtent = function () {\n  var resolution = this._map.getView().getResolution();\n  var scala = parseFloat(this.state.scala);\n\n  var _state$maps$find = this.state.maps.find(function (map) {\n    return !map.overview;\n  }),\n      height = _state$maps$find.h,\n      width = _state$maps$find.w;\n\n  var resolutionInMeters = this._mapService.getMapUnits() === 'm' ? resolution : getMetersFromDegrees(resolution);\n  var w = width / 1000.0 * scala / resolutionInMeters;\n  var h = height / 1000.0 * scala / resolutionInMeters;\n  // get current map center ( in pixel)\n  var center = [this.state.size[0] / 2, // X\n  this.state.size[1] / 2 // Y\n  ];\n  // Calculate the inner bbox in pixel\n  var xmin = center[0] - w / 2;\n  var ymin = center[1] - h / 2;\n  var xmax = center[0] + w / 2;\n  var ymax = center[1] + h / 2;\n  this.state.printextent.lowerleft = this._map.getCoordinateFromPixel([xmin, ymax]) ? this._map.getCoordinateFromPixel([xmin, ymax]) : this.state.printextent.lowerleft;\n  this.state.printextent.upperright = this._map.getCoordinateFromPixel([xmax, ymin]) ? this._map.getCoordinateFromPixel([xmax, ymin]) : this.state.printextent.upperright;\n  this.state.inner = [xmin, ymax, xmax, ymin];\n};\n\nproto._setPrintArea = function () {\n  this.state.size = this._map.getSize();\n  var resolution = this._map.getView().getResolution();\n  this.state.currentScala = getScaleFromResolution(resolution, this._mapUnits);\n  this.state.center = this._map.getView().getCenter();\n  this._calculateInternalPrintExtent();\n  this._mapService.setInnerGreyCoverBBox({\n    type: 'pixel',\n    inner: this.state.inner,\n    rotation: this.state.rotation\n  });\n};\n\nproto._clearPrint = function () {\n  var reset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  ol.Observable.unByKey(this._moveMapKeyEvent);\n  this._moveMapKeyEvent = null;\n  this._mapService.stopDrawGreyCover();\n};\n\nproto._setAllScalesBasedOnMaxResolution = function (maxResolution) {\n  var _this4 = this;\n\n  var resolution = maxResolution;\n  var mapScala = getScaleFromResolution(resolution, this._mapUnits);\n  var orderScales = _.orderBy(this.state.scale, ['value'], ['desc']);\n  var scale = [];\n  var addedFirstHighestScale = false;\n  var handleScala = function handleScala(scala) {\n    scale.push(scala);\n    resolution = getResolutionFromScale(scala.value, _this4._mapUnits);\n    _this4._scalesResolutions[scala.value] = resolution;\n    resolution = resolution / 2;\n  };\n  orderScales.forEach(function (scala, index) {\n    if (mapScala > scala.value) {\n      if (!addedFirstHighestScale) {\n        var higherScale = orderScales[index - 1];\n        handleScala(higherScale);\n        addedFirstHighestScale = true;\n      }\n      handleScala(scala);\n    }\n  });\n  this.state.scale = scale;\n};\n\nproto._setInitialScalaSelect = function () {\n  this.state.scala = this.state.scale[0].value;\n  $('#scala').val(this.state.scala);\n};\n\nproto._setCurrentScala = function (resolution) {\n  var _this5 = this;\n\n  Object.entries(this._scalesResolutions).find(function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        scala = _ref4[0],\n        res = _ref4[1];\n\n    if (resolution <= res) {\n      _this5.state.scala = scala;\n      return true;\n    }\n  });\n};\n\nproto._setMoveendMapEvent = function () {\n  this._moveMapKeyEvent = this._map.on('moveend', this._setPrintArea.bind(this));\n};\n\nproto._showPrintArea = function () {\n  if (this.state.atlas === undefined) {\n    this._setPrintArea();\n    this._mapService.startDrawGreyCover();\n  }\n};\n\nproto._initPrintConfig = function () {\n  if (!this._initialized) {\n    var maxResolution = this._map.getView().getMaxResolution();\n    this._setAllScalesBasedOnMaxResolution(maxResolution);\n    this._initialized = true;\n  }\n  var resolution = this._map.getView().getResolution();\n  this._setCurrentScala(resolution);\n};\n\nproto.showPrintArea = function (bool) {\n  var _this6 = this;\n\n  // close content if open\n  this.state.isShow = bool;\n  _gui2.default.closeContent().then(function (mapComponent) {\n    setTimeout(function () {\n      _this6._mapService = mapComponent.getService();\n      _this6._mapUnits = _this6._mapService.getMapUnits();\n      _this6._mapService.getMap().once('postrender', function (evt) {\n        _this6._map = evt.map;\n        if (bool) {\n          _this6._setMoveendMapEvent();\n          _this6._initPrintConfig();\n          _this6._showPrintArea();\n        } else _this6._clearPrint();\n      });\n      _this6._mapService.getMap().renderSync();\n    });\n  });\n};\n\nproto.reload = function () {\n  var _this7 = this;\n\n  this._project = _projects2.default.getCurrentProject();\n  this._mapService = _gui2.default.getService('map');\n  this._map = this._mapService.viewer.map;\n  this.state.print = this._project.state.print || [];\n  this.state.visible = this.state.print.length > 0;\n  if (this.state.visible) {\n    this.state.template = this.state.print[0].name;\n    !this._initialized && this.init();\n    this._initPrintConfig();\n    this._mapService.on('changeviewaftercurrentproject', function () {\n      var maxResolution = _this7._map.getView().getMaxResolution();\n      _this7.state.scale = _constant.PRINT_SCALES;\n      _this7._setAllScalesBasedOnMaxResolution(maxResolution);\n    });\n  } else this._clearPrint();\n};\n\nmodule.exports = PrintComponentService;\n\n},{\"app/constant\":5,\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/print/printservice\":61,\"core/utils/ol\":66,\"core/utils/utils\":68,\"gui/print/vue/printpage\":163,\"services/application\":346,\"services/gui\":356,\"store/projects\":374}],162:[function(require,module,exports){\nvar _Print = require('components/Print.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Print);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar PrintService = require('gui/print/printservice');\n\nfunction PrintComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = \"print\";\n  this.vueComponent = vueComponentOptions;\n  this.internalComponent = null;\n  var service = options.service || new PrintService();\n  this.setService(service);\n  // init service\n  this._service.init();\n  this.setInternalComponent = function () {\n    var InternalComponent = Vue.extend(this.vueComponent);\n    this.internalComponent = new InternalComponent({\n      service: service\n    });\n    this.state.visible = service.state.visible;\n    this.internalComponent.state = service.state;\n    return this.internalComponent;\n  };\n\n  this._reload = function () {\n    var service = this.getService();\n    service.reload();\n    this.state.visible = service.state.visible;\n  };\n\n  this._setOpen = function (bool) {\n    this._service.showPrintArea(bool);\n  };\n}\n\ninherit(PrintComponent, Component);\n\nmodule.exports = PrintComponent;\n\n},{\"components/Print.vue\":269,\"core/utils/utils\":68,\"gui/component/component\":115,\"gui/print/printservice\":161}],163:[function(require,module,exports){\nvar _PrintPage = require('components/PrintPage.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_PrintPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar PrintPage = function PrintPage() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var service = options.service;\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    service: service\n  });\n  this.setInternalComponent(internalComponent);\n  this.internalComponent.state = service.state.output;\n  this.unmount = function () {\n    this.getService().setPrintAreaAfterCloseContent();\n    return base(this, 'unmount');\n  };\n};\n\ninherit(PrintPage, Component);\n\nmodule.exports = PrintPage;\n\n},{\"components/PrintPage.vue\":271,\"core/utils/utils\":68,\"gui/component/component\":115}],164:[function(require,module,exports){\nvar _ProjectsMenu = require('components/ProjectsMenu.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_ProjectsMenu);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    merge = _require.merge;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction MenuComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = options.title || \"menu\";\n  this.state.visible = true;\n  this.state.menuitems = options.menuitems;\n  var host = options.host;\n  merge(this, options);\n  this.internalComponent = new InternalComponent({\n    service: this,\n    host: host\n  });\n  this.internalComponent.state = this.state;\n}\ninherit(MenuComponent, Component);\n\nvar proto = MenuComponent.prototype;\n\nproto.trigger = function (item) {};\n\nmodule.exports = MenuComponent;\n\n},{\"components/ProjectsMenu.vue\":273,\"core/utils/utils\":68,\"gui/component/component\":115}],165:[function(require,module,exports){\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar MenuComponent = require('gui/projectsmenu/menu');\n\nfunction ProjectsMenuComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.id = 'projectsmenu';\n  base(this, options);\n  this.state.menuitems = [];\n  var host = options.host;\n  var projects = options.projects || _projects2.default.getListableProjects();\n  this.state.menuitems = projects.map(function (project) {\n    return {\n      title: project.title,\n      description: project.description,\n      thumbnail: project.thumbnail,\n      gid: project.gid,\n      cbk: options.cbk || function () {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var gid = options.gid;\n\n        return _application2.default.changeProject({\n          gid: gid,\n          host: host\n        });\n      }\n    };\n  });\n}\n\ninherit(ProjectsMenuComponent, MenuComponent);\n\nmodule.exports = ProjectsMenuComponent;\n\n},{\"core/utils/utils\":68,\"gui/projectsmenu/menu\":164,\"services/application\":346,\"store/projects\":374}],166:[function(require,module,exports){\nvar QueryBuilder = require('gui/querybuilder/vue/querybuilder');\nvar QueryBuilderPanel = require('gui/querybuilder/vue/panel/querybuilderpanel');\n\nvar QuerybuilderUIfactory = {\n  type: null,\n  show: function show() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$type = _ref.type,\n        type = _ref$type === undefined ? 'sidebar' : _ref$type,\n        options = _ref.options;\n\n    var QueryBuilderInstance = void 0;\n    this.type = this.type === null ? type : this.type;\n    if (this.type === 'modal') {\n      QueryBuilderInstance = new QueryBuilder({\n        options: options\n      });\n      var queryBuilderDom = QueryBuilderInstance.$mount().$el;\n      GUI.showModalDialog({\n        title: 'Query Builder',\n        message: queryBuilderDom,\n        className: \"modal-background-dark \"\n      });\n    } else {\n      var panel = new QueryBuilderPanel({\n        options: options\n      });\n      QueryBuilderInstance = panel.getInternalPanel();\n      panel.show();\n    }\n    return QueryBuilderInstance;\n  }\n};\n\nmodule.exports = QuerybuilderUIfactory;\n\n},{\"gui/querybuilder/vue/panel/querybuilderpanel\":167,\"gui/querybuilder/vue/querybuilder\":168}],167:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Panel = require('gui/panel');\nvar QueryBuilder = require('gui/querybuilder/vue/querybuilder');\n\nfunction QueryBuilderPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  options.title = 'Query Builder';\n  base(this, options);\n  var internalPanel = new QueryBuilder(options);\n  this.setInternalPanel(internalPanel);\n}\n\ninherit(QueryBuilderPanel, Panel);\n\nmodule.exports = QueryBuilderPanel;\n\n},{\"core/utils/utils\":68,\"gui/panel\":160,\"gui/querybuilder/vue/querybuilder\":168}],168:[function(require,module,exports){\nvar _QueryBuilder = require('components/QueryBuilder.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_QueryBuilder);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar QueryBuilder = Vue.extend(vueComponentOptions);\n\nmodule.exports = QueryBuilder;\n\n},{\"components/QueryBuilder.vue\":274}],169:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _constant = require('constant');\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _QueryResultsActionDownloadFormats = require('components/QueryResultsActionDownloadFormats.vue');\n\nvar _QueryResultsActionDownloadFormats2 = _interopRequireDefault(_QueryResultsActionDownloadFormats);\n\nvar _QueryResultsActionQueryPolygonCSVAttributes = require('components/QueryResultsActionQueryPolygonCSVAttributes.vue');\n\nvar _QueryResultsActionQueryPolygonCSVAttributes2 = _interopRequireDefault(_QueryResultsActionQueryPolygonCSVAttributes);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    noop = _require.noop,\n    downloadFile = _require.downloadFile,\n    throttle = _require.throttle,\n    getUniqueDomId = _require.getUniqueDomId,\n    copyUrl = _require.copyUrl;\n\nvar _require2 = require('core/utils/geo'),\n    createFeatureFromFeatureObject = _require2.createFeatureFromFeatureObject,\n    intersects = _require2.intersects,\n    within = _require2.within;\n\nvar _require3 = require('core/utils/geo'),\n    getAlphanumericPropertiesFromFeature = _require3.getAlphanumericPropertiesFromFeature,\n    createFeatureFromGeometry = _require3.createFeatureFromGeometry,\n    createFeatureFromBBOX = _require3.createFeatureFromBBOX,\n    createFeatureFromCoordinates = _require3.createFeatureFromCoordinates;\n\nvar _require4 = require('core/i18n/i18n.service'),\n    t = _require4.t;\n\nvar Layer = require('core/layers/layer');\nvar G3WObject = require('core/g3wobject');\nvar VectorLayer = require('core/layers/vectorlayer');\nvar PrintService = require('core/print/printservice');\nvar RelationsPage = require('gui/relations/vue/relationspage');\nvar PickCoordinatesInteraction = require('g3w-ol/interactions/pickcoordinatesinteraction');\n\n//used to get and set vue reactivity to queryresultservice\nvar VM = new Vue();\n\nfunction QueryResultsService() {\n  var _this = this;\n\n  this.printService = new PrintService();\n  this._currentLayerIds = [];\n\n  _projects2.default.onafter('setCurrentProject', function (project) {\n    _this._project = project;\n    _this._setRelations(project);\n    _this._setAtlasActions(project);\n    _this.state.download_data = false;\n    _this.plotLayerIds = [];\n  });\n  this.unlistenerlayeractionevents = [];\n  this._actions = {\n    'zoomto': QueryResultsService.zoomToElement,\n    'highlightgeometry': this.highlightGeometry.bind(this),\n    'clearHighlightGeometry': this.clearHighlightGeometry.bind(this)\n  };\n  this._relations = [];\n  this._atlas = [];\n  this.plotLayerIds = [];\n  var project = this._project = _projects2.default.getCurrentProject();\n  // userful to set right order for query result based on toc order layers\n  this._projectLayerIds = this._project.getConfigLayers().map(function (layer) {\n    return layer.id;\n  });\n  // set reactive state\n  this.state = {\n    zoomToResult: true,\n    components: [],\n    layers: [],\n    changed: false,\n    query: null,\n    type: 'ows', // or api in case of search\n    layersactions: {},\n    actiontools: {}, // addd action tools (for features)\n    currentactiontools: {}, // current action tools contain component of a specific action (for example download)\n    currentactionfeaturelayer: {}, // contain current action that expose component vue (it useful to comprare id other action is toggled and expose component)\n    layeractiontool: {},\n    layersFeaturesBoxes: {},\n    layerscustomcomponents: {} // used to show a custom component for a layer\n  };\n  this.init = function () {\n    this.clearState();\n  };\n  // Is a vector layer used by query resul to show eventually query resuesta as coordnates, bbox, polygon, etc ..\n  var color = 'blue';\n  var stroke = new ol.style.Stroke({\n    color: color,\n    width: 3\n  });\n  var fill = new ol.style.Fill({\n    color: color\n  });\n  this.resultsQueryLayer = new ol.layer.Vector({\n    style: new ol.style.Style({\n      stroke: stroke,\n      image: new ol.style.Circle({\n        fill: fill,\n        radius: 6\n      })\n    }),\n    source: new ol.source.Vector()\n  });\n\n  this._vectorLayers = [];\n  this._addFeaturesLayerResultInteraction = {\n    id: null, // reference to current layer\n    interaction: null, // interaction bind to layer,\n    mapcontrol: null, // add current toggled map control if toggled\n    toggleeventhandler: null\n  };\n\n  this.setters = {\n\n    /**\n     * Hook method called when response is handled by Data Provider\n     * \n     * @param queryResponse\n     * @param {{ add: boolean }} options `add` is used to know if is a new query request or add/remove query request\n     */\n    setQueryResponse: function setQueryResponse(queryResponse) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n\n\n      // set mandatory queryResponse fields\n      if (!queryResponse.data) queryResponse.data = [];\n      if (!queryResponse.query) queryResponse.query = { external: { add: false, filter: { SELECTED: false } } };\n      if (!queryResponse.query.external) queryResponse.query.external = { add: false, filter: { SELECTED: false } };\n\n      // whether add response to current results using addLayerFeaturesToResultsAction\n      if (!options.add) {\n        // in case of new request results reset the query otherwise maintain the previous request\n        this.clearState();\n        this.state.query = queryResponse.query;\n        this.state.type = queryResponse.type;\n\n        // if true add external layers to response\n        if (true === queryResponse.query.external.add) {\n          this._addVectorLayersDataToQueryResponse(queryResponse);\n        }\n      }\n\n      this.setLayersData(this._digestFeaturesForLayers(queryResponse.data), options);\n    },\n\n\n    /**\n     * method to add layer and feature for response\n     * @param layers\n     * @param options\n     */\n    setLayersData: function setLayersData(layers) {\n      var _this2 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n      var add = options.add;\n\n      if (!add) {\n        // here set the right order of result layers based on toc\n        this._currentLayerIds = layers.map(function (layer) {\n          return layer.id;\n        });\n        this._orderResponseByProjectLayers(layers);\n      }\n      layers.forEach(function (layer) {\n        // in case of a new request query\n        if (!add) _this2.state.layers.push(layer);\n        //get features from add pick layer\n        else _this2.updateLayerResultFeatures(layer);\n      });\n      this.setActionsForLayers(layers, { add: add });\n      this.state.changed = true;\n    },\n\n    /**\n     * Method\n     * @param component\n     */\n    addComponent: function addComponent(component) {\n      this._addComponent(component);\n    },\n\n    /**\n     *\n     */\n    addActionsForLayers: function addActionsForLayers(actions, layers) {},\n\n    /**\n     *\n     * @param element\n     */\n    postRender: function postRender(element) {},\n\n    /**\n     *\n     */\n    closeComponent: function closeComponent() {},\n\n    /**\n     *\n     * @param layer\n     */\n    changeLayerResult: function changeLayerResult(layer) {\n      this._changeLayerResult(layer);\n    },\n\n    /**\n     *\n     */\n    activeMapInteraction: function activeMapInteraction() {},\n\n    /**\n     *  setter hook to relation table\n     */\n    editFeature: function editFeature() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          layer = _ref.layer,\n          feature = _ref.feature;\n    },\n\n    /**\n     * Method to listen open/close feature info data content.\n     * @param open\n     * @param layer\n     * @param feature\n     * @param container\n     */\n    openCloseFeatureResult: function openCloseFeatureResult() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          open = _ref2.open,\n          layer = _ref2.layer,\n          feature = _ref2.feature,\n          container = _ref2.container;\n    }\n  };\n\n  base(this);\n\n  this.addLayersPlotIds = function () {\n    var layerIds = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.plotLayerIds = layerIds;\n  };\n\n  this.getPlotIds = function () {\n    return this.plotLayerIds;\n  };\n\n  this.findPlotId = function (id) {\n    return this.plotLayerIds.find(function (plotId) {\n      return plotId == id;\n    });\n  };\n\n  this._setRelations(project);\n  this._setAtlasActions(project);\n  this._asyncFnc = {\n    todo: noop,\n    zoomToLayerFeaturesExtent: {\n      async: false\n    },\n    goToGeometry: {\n      async: false\n    }\n  };\n  _gui2.default.onbefore('setContent', function (options) {\n    var perc = options.perc;\n\n    _this.mapService = _this.mapService || _application2.default.getApplicationService('map');\n    if (perc === 100 && _gui2.default.isMobile()) {\n      _this._asyncFnc.zoomToLayerFeaturesExtent.async = true;\n      _this._asyncFnc.goToGeometry.async = true;\n    }\n  });\n}\n\n// Make the public service en Event Emitter\ninherit(QueryResultsService, G3WObject);\n\nvar proto = QueryResultsService.prototype;\n\n/**\n * Method to register for plugin or other component of application to add custom component on result for each layer feature or layer\n * @param id unique id identification\n * @param layerId Layer id of layer\n * @param component custom component\n * @param type feature or layer\n */\nproto.registerCustomComponent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$id = _ref3.id,\n      id = _ref3$id === undefined ? getUniqueDomId() : _ref3$id,\n      layerId = _ref3.layerId,\n      component = _ref3.component,\n      _ref3$type = _ref3.type,\n      type = _ref3$type === undefined ? 'feature' : _ref3$type,\n      _ref3$position = _ref3.position,\n      position = _ref3$position === undefined ? 'after' : _ref3$position;\n\n  if (this.state.layerscustomcomponents[layerId] === undefined) this.state.layerscustomcomponents[layerId] = {\n    layer: {\n      before: [],\n      after: []\n    },\n    feature: {\n      before: [],\n      after: []\n    }\n  };\n  this.state.layerscustomcomponents[layerId][type][position].push({\n    id: id,\n    component: component\n  });\n  return id;\n};\n\n/**\n * To check position\n * @param id\n * @param layerId\n * @param type\n */\nproto.unRegisterCustomComponent = function (_ref4) {\n  var _this3 = this;\n\n  var id = _ref4.id,\n      layerId = _ref4.layerId,\n      type = _ref4.type,\n      position = _ref4.position;\n\n  if (position) this.state.layerscustomcomponents[layerId][type][position] = this.state.layerscustomcomponents[layerId][type][position].filter(function (_ref5) {\n    var componentId = _ref5.id;\n    return componentId !== id;\n  });else Object.keys(this.state.layerscustomcomponents[layerId][type]).forEach(function (position) {\n    _this3.state.layerscustomcomponents[layerId][type][position] = _this3.state.layerscustomcomponents[layerId][type][position].filter(function (_ref6) {\n      var componentId = _ref6.id;\n      return componentId !== id;\n    });\n  });\n};\n\n/**\n * Method to add a feature to current layer result\n * @param layer\n * @param feature\n */\nproto.addFeatureLayerToResult = function (layer, feature) {\n  this.state.layersFeaturesBoxes[this.getBoxId(layer, feature)].collapsed = true;\n};\n\n/**\n * Method to remove a feature from current layer result\n * @param layer\n * @param feature\n */\nproto.removeFeatureLayerFromResult = function (layer, feature) {\n  var id = layer.id,\n      external = layer.external;\n\n  this.updateLayerResultFeatures({\n    id: id,\n    external: external,\n    features: [feature]\n  });\n};\n\n/**\n * Method wrapper for download\n */\n\nproto.downloadApplicationWrapper = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(downloadFnc) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var download_caller_id;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            download_caller_id = _application2.default.setDownload(true);\n\n            _gui2.default.setLoadingContent(true);\n            _context.prev = 2;\n            _context.next = 5;\n            return downloadFnc(options);\n\n          case 5:\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context['catch'](2);\n\n            _gui2.default.showUserMessage({\n              type: 'alert',\n              message: _context.t0 || 'server_error',\n              textMessage: _context.t0 ? true : false\n            });\n\n          case 10:\n            _application2.default.setDownload(false, download_caller_id);\n            _gui2.default.setLoadingContent(false);\n\n          case 12:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[2, 7]]);\n  }));\n\n  return function (_x8) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * Based on layer response check if features layer are to add or remove to current state.layers results\n * @param layer\n * @since v3.8.0\n */\nproto.updateLayerResultFeatures = function (layer) {\n  var _this4 = this;\n\n  //extract features from layer object\n  var _layer$features = layer.features,\n      features = _layer$features === undefined ? [] : _layer$features;\n  // get layer from current state.layers showed on result\n\n  var findLayer = this.state.layers.find(function (_layer) {\n    return _layer.id === layer.id;\n  });\n  // if get features and find layer\n  if (findLayer && features.length) {\n    // get id external layer or not (external is a layer added by mapcontrol addexternlayer)\n    var external = findLayer.external;\n    // is array of idexes od features that we has to remove from state.layer because is already loaded\n\n    var removeFeatureIndexes = [];\n    // get id of the features\n    var features_ids = features.map(function (feature) {\n      return !external ? feature.attributes[_constant.G3W_FID] : feature.id;\n    });\n    // loop nad filter the features that we had to remove)\n    findLayer.features = findLayer.features.filter(function (feature) {\n      var indexFindFeature = features_ids.indexOf(!external ? feature.attributes[_constant.G3W_FID] : feature.id);\n      // check if need to filter or not\n      var filtered = indexFindFeature === -1;\n      if (!filtered) {\n        removeFeatureIndexes.push(indexFindFeature);\n        var featureRemoved = features[indexFindFeature];\n        _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, feature)].collapsed = true;\n        setTimeout(function () {\n          return delete _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, featureRemoved)];\n        });\n      } else _this4.state.layersFeaturesBoxes[_this4.getBoxId(layer, feature)].collapsed = true;\n      return filtered;\n    });\n    // filter features to add\n    features = features.filter(function (feature, index) {\n      return removeFeatureIndexes.indexOf(index) === -1;\n    });\n    // check if new feature ha to be added\n    if (features.length) {\n      var newlayerfeatures = [].concat(_toConsumableArray(findLayer.features), _toConsumableArray(features));\n      findLayer.features = newlayerfeatures;\n    }\n    //in case of removed features\n    if (findLayer.features.length === 1 && this.state.layersFeaturesBoxes[this.getBoxId(findLayer, findLayer.features[0])])\n      // used to do all vue reactive thing before update layers\n      setTimeout(function () {\n        return _this4.state.layersFeaturesBoxes[_this4.getBoxId(findLayer, findLayer.features[0])].collapsed = false;\n      });\n    // in case no more features on layer remove interaction pickcoordinate to get result from map\n    this.checkIfLayerHasNoFeatures(findLayer);\n  }\n  // hightlight new feature\n  this.state.layers.length === 1 && this.highlightFeaturesPermanently(this.state.layers[0]);\n  this.changeLayerResult(findLayer);\n};\n\n/**\n * @deprecated since v3.8. Will be deleted in 4.x. Use QueryResultsService::updateLayerResultFeatures(layer) instead\n */\nproto.addRemoveFeaturesToLayerResult = proto.updateLayerResultFeatures;\n\n/**\n * Method called when layer result features for example is changed\n * @param layer\n */\nproto._changeLayerResult = function (layer) {\n  var layeractions = this.state.layersactions[layer.id];\n  // call if present change mthod to action\n  layeractions.forEach(function (action) {\n    return action.change && action.change(layer);\n  });\n  //reset layer current actions tools\n  this.resetCurrentActionToolsLayer(layer);\n};\n\n/**\n * Check and do action if layer has no features after delete feature(s\n */\nproto.checkIfLayerHasNoFeatures = function (layer) {\n  var _this5 = this;\n\n  if (layer.features.length === 0) {\n    // used to do all vue reactive thing before update layers\n    setTimeout(function () {\n      _this5.state.layers = _this5.state.layers.filter(function (_layer) {\n        return _layer.id !== layer.id;\n      });\n      _this5.clearHighlightGeometry(layer);\n      _this5.removeAddFeaturesLayerResultInteraction({\n        toggle: true\n      });\n    });\n  }\n};\n\n/**\n * Method to create boxid identify to query result hmtl\n * @param layer\n * @param feature\n * @param relation_index\n * @returns {string}\n */\nproto.getBoxId = function (layer, feature, relation_index) {\n  return relation_index !== null && relation_index !== undefined ? layer.id + '_' + feature.id + '_' + relation_index : layer.id + '_' + feature.id;\n};\n\nproto.setActionsForLayers = function (layers) {\n  var _this6 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { add: false };\n  var add = options.add;\n\n  if (!add) {\n    this.unlistenerlayeractionevents = [];\n    layers.forEach(function (layer) {\n      /**\n       * set eventually layer action tool and need to be reactive\n       * @type {{}}\n       */\n      _this6.state.layeractiontool[layer.id] = Vue.observable({\n        component: null,\n        config: null\n      });\n      var currentactiontoolslayer = {};\n      var currentationfeaturelayer = {};\n      layer.features.forEach(function (feature, index) {\n        currentactiontoolslayer[index] = null;\n        currentationfeaturelayer[index] = null;\n      });\n      _this6.state.currentactiontools[layer.id] = Vue.observable(currentactiontoolslayer);\n      _this6.state.currentactionfeaturelayer[layer.id] = Vue.observable(currentationfeaturelayer);\n      var is_external_layer_or_wms = layer.external || (layer.source ? layer.source.type === 'wms' : false);\n      if (!_this6.state.layersactions[layer.id]) _this6.state.layersactions[layer.id] = [];\n      /**\n       * An action is an object contains\n       * {\n       * id: Unique action Id => required True\n          download: if is action download or not => required False\n          class: calss fontawsome to show icon => required True,\n          state: need to be reactive. Used for example to toggled state of action icon => required False\n          hint: Tooltip text => required False\n          init: Method called when action is loaded => required False\n          clear: Method called before clear the service. Used for example to clear unwatch => require False\n          change: Method called when feature of layer is changed\n          cbk: Method called when action is cliccked => required True\n          }\n       *\n       * }\n       */\n\n      //in case of geometry\n      if (layer.hasgeometry) {\n        _this6.state.layersactions[layer.id].push({\n          id: 'gotogeometry',\n          download: false,\n          mouseover: true,\n          class: _gui2.default.getFontClass('marker'),\n          hint: 'sdk.mapcontrols.query.actions.zoom_to_feature.hint',\n          cbk: throttle(_this6.goToGeometry.bind(_this6))\n        });\n      }\n      // in case of relations\n      if (_this6._relations) {\n        var relations = _this6._relations[layer.id] && _this6._relations[layer.id].filter(function (relation) {\n          return relation.type === 'MANY';\n        });\n        if (relations && relations.length) {\n          var chartRelationIds = [];\n          relations.forEach(function (relation) {\n            var id = _this6.plotLayerIds.find(function (id) {\n              return id === relation.referencingLayer;\n            });\n            id && chartRelationIds.push(id);\n          });\n\n          _this6.state.layersactions[layer.id].push({\n            id: 'show-query-relations',\n            download: false,\n            class: _gui2.default.getFontClass('relation'),\n            hint: 'sdk.mapcontrols.query.actions.relations.hint',\n            cbk: _this6.showQueryRelations,\n            relations: relations,\n            chartRelationIds: chartRelationIds\n          });\n          var _state = _this6.createActionState({\n            layer: layer\n          });\n          chartRelationIds.length && _this6.state.layersactions[layer.id].push({\n            id: 'show-plots-relations',\n            download: false,\n            opened: true,\n            class: _gui2.default.getFontClass('chart'),\n            state: _state,\n            hint: 'sdk.mapcontrols.query.actions.relations_charts.hint',\n            cbk: throttle(_this6.showRelationsChart.bind(_this6, chartRelationIds))\n          });\n        }\n      }\n      /**\n       *\n       * Check if layer has atlas\n       */\n      _this6.getAtlasByLayerId(layer.id).length && _this6.state.layersactions[layer.id].push({\n        id: 'printatlas',\n        download: true,\n        class: _gui2.default.getFontClass('print'),\n        hint: 'sdk.tooltips.atlas',\n        cbk: _this6.printAtlas.bind(_this6)\n      });\n      var state = _this6.createActionState({\n        layer: layer\n      });\n      if (layer.downloads.length === 1) {\n        var _layer$downloads = _slicedToArray(layer.downloads, 1),\n            format = _layer$downloads[0];\n\n        var _cbk = _this6.downloadFeatures.bind(_this6, format);\n        layer[format] = Vue.observable({\n          active: false\n        });\n        _this6.state.layersactions[layer.id].push({\n          id: 'download_' + format + '_feature',\n          download: true,\n          state: state,\n          class: _gui2.default.getFontClass('download'),\n          hint: 'sdk.tooltips.download_' + format,\n          cbk: function cbk(layer, feature, action, index) {\n            action.state.toggled[index] = !action.state.toggled[index];\n            if (action.state.toggled[index]) _cbk(layer, feature, action, index);else _this6.setCurrentActionLayerFeatureTool({\n              index: index,\n              action: action,\n              layer: layer\n            });\n          }\n        });\n      } else if (layer.downloads.length > 1) {\n        // SET CONSTANT TO AVOID TO CHANGE ALL THINGS\n        var ACTIONTOOLSDOWNLOADFORMATS = _QueryResultsActionDownloadFormats2.default.name;\n        var downloads = [];\n        layer.downloads.forEach(function (format) {\n          downloads.push({\n            id: 'download_' + format + '_feature',\n            download: true,\n            format: format,\n            class: _gui2.default.getFontClass(format),\n            hint: 'sdk.tooltips.download_' + format,\n            cbk: function cbk(layer, feature, action, index) {\n              //used to untoggle downloads action\n              _this6.downloadFeatures(format, layer, feature, action, index);\n              var downloadsaction = _this6.state.layersactions[layer.id].find(function (action) {\n                return action.id === 'downloads';\n              });\n              if (_this6.state.query.type !== 'polygon') downloadsaction.cbk(layer, feature, downloadsaction, index);\n            }\n          });\n        });\n        _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS] = _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS] || {};\n        // set config of actionstools\n        _this6.state.actiontools[ACTIONTOOLSDOWNLOADFORMATS][layer.id] = {\n          downloads: downloads // ARE DOWNLOAD ACTIONS,\n        };\n        // used to\n        //check if has download actions\n        _this6.state.layersactions[layer.id].push({\n          id: 'downloads',\n          download: true,\n          class: _gui2.default.getFontClass('download'),\n          state: state,\n          toggleable: true,\n          hint: 'Downloads',\n          change: function change(_ref8) {\n            var _this7 = this;\n\n            var features = _ref8.features;\n\n            features.forEach(function (feature, index) {\n              if (_this7.state.toggled[index] === undefined) VM.$set(_this7.state.toggled, index, false);else _this7.state.toggled[index] = false;\n            });\n          },\n\n          cbk: function cbk(layer, feature, action, index) {\n            action.state.toggled[index] = !action.state.toggled[index];\n            _this6.setCurrentActionLayerFeatureTool({\n              layer: layer,\n              index: index,\n              action: action,\n              component: action.state.toggled[index] ? _QueryResultsActionDownloadFormats2.default : null\n            });\n          }\n        });\n      }\n      /*\n      Check if si external layer or wms\n       */\n      !is_external_layer_or_wms && _this6.state.layersactions[layer.id].push({\n        id: 'removefeaturefromresult',\n        download: false,\n        mouseover: true,\n        class: _gui2.default.getFontClass('minus-square'),\n        style: {\n          color: 'red'\n        },\n        hint: 'sdk.mapcontrols.query.actions.remove_feature_from_results.hint',\n        cbk: _this6.removeFeatureLayerFromResult.bind(_this6)\n      });\n\n      /**\n       * check if selection is active\n       */\n      if (layer.selection.active !== undefined) {\n        // selection action\n        var _state2 = _this6.createActionState({\n          layer: layer\n        });\n\n        _this6.state.layersactions[layer.id].push({\n          id: 'selection',\n          download: false,\n          class: _gui2.default.getFontClass('success'),\n          hint: 'sdk.mapcontrols.query.actions.add_selection.hint',\n          state: _state2,\n          init: function init() {\n            var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                feature = _ref9.feature,\n                index = _ref9.index,\n                action = _ref9.action;\n\n            typeof layer.selection.active !== \"undefined\" && _this6.checkFeatureSelection({\n              layer: layer,\n              index: index,\n              feature: feature,\n              action: action\n            });\n          },\n          cbk: throttle(_this6.addToSelection.bind(_this6))\n        });\n        /*\n        * In case of external layer don't listen selection event\n        * */\n        _this6.listenClearSelection(layer, 'selection');\n        //end selection action\n      }\n      /*\n        If not wms of external layer show copy link to feature\n       */\n      !is_external_layer_or_wms && layer.hasgeometry && _this6.state.layersactions[layer.id].push({\n        id: 'link_zoom_to_fid',\n        download: false,\n        class: _gui2.default.getFontClass('link'),\n        hint: 'sdk.mapcontrols.query.actions.copy_zoom_to_fid_url.hint',\n        hint_change: {\n          hint: 'sdk.mapcontrols.query.actions.copy_zoom_to_fid_url.hint_change',\n          duration: 1000\n        },\n        cbk: _this6.copyZoomToFidUrl.bind(_this6)\n      });\n      layer.editable && !layer.inediting && _this6.state.layersactions[layer.id].push({\n        id: 'editing',\n        class: _gui2.default.getFontClass('pencil'),\n        hint: 'Editing',\n        cbk: function cbk(layer, feature) {\n          _this6.editFeature({\n            layer: layer,\n            feature: feature\n          });\n        }\n      });\n    });\n    this.addActionsForLayers(this.state.layersactions, this.state.layers);\n  }\n};\n\nproto.createActionState = function (_ref10) {\n  var layer = _ref10.layer,\n      _ref10$dynamicPropert = _ref10.dynamicProperties,\n      dynamicProperties = _ref10$dynamicPropert === undefined ? ['toggled'] : _ref10$dynamicPropert;\n\n  // check number of download formats\n  var propertiesObject = dynamicProperties.reduce(function (accumulator, property) {\n    accumulator[property] = {};\n    return accumulator;\n  }, {});\n  layer.features.map(function (feature, index) {\n    Object.keys(propertiesObject).forEach(function (property) {\n      propertiesObject[property][index] = null;\n    });\n  });\n  return Vue.observable(propertiesObject);\n};\n\n/**\n * Method to get action referred to layer getting the acion id\n * @param layer layer linked to action\n * @param id action id\n * @returns {*}\n */\nproto.getActionLayerById = function () {\n  var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref11.layer,\n      id = _ref11.id;\n\n  return this.state.layersactions[layer.id].find(function (action) {\n    return action.id === id;\n  });\n};\n\n/**\n * Set current layer action tool in feature\n * @param layer current layer\n * @param index feature index\n * @param value component value or null\n */\nproto.setCurrentActionLayerFeatureTool = function () {\n  var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref12.layer,\n      action = _ref12.action,\n      index = _ref12.index,\n      _ref12$component = _ref12.component,\n      component = _ref12$component === undefined ? null : _ref12$component;\n\n  if (component) {\n    if (this.state.currentactiontools[layer.id][index] && action.id !== this.state.currentactionfeaturelayer[layer.id][index].id && this.state.currentactionfeaturelayer[layer.id][index].toggleable) this.state.currentactionfeaturelayer[layer.id][index].state.toggled[index] = false;\n    this.state.currentactionfeaturelayer[layer.id][index] = action;\n  } else this.state.currentactionfeaturelayer[layer.id][index] = null;\n  this.state.currentactiontools[layer.id][index] = component;\n};\n\nproto.addCurrentActionToolsLayer = function (_ref13) {\n  var id = _ref13.id,\n      layer = _ref13.layer,\n      _ref13$config = _ref13.config,\n      config = _ref13$config === undefined ? {} : _ref13$config;\n\n  this.state.actiontools[id] = {};\n  this.state.actiontools[id][layer.id] = config;\n};\n\n/**\n * Reset current action tools on layer when feature layer change\n * @param layer\n */\nproto.resetCurrentActionToolsLayer = function (layer) {\n  var _this8 = this;\n\n  layer.features.forEach(function (feature, index) {\n    if (_this8.state.currentactiontools[layer.id]) {\n      if (_this8.state.currentactiontools[layer.id][index] === undefined) Vue.set(_this8.state.currentactiontools[layer.id], index, null);else _this8.state.currentactiontools[layer.id][index] = null;\n      _this8.state.currentactionfeaturelayer[layer.id][index] = null;\n    }\n  });\n};\n\n/**\n *\n */\nproto.setLayerActionTool = function () {\n  var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref14.layer,\n      _ref14$component = _ref14.component,\n      component = _ref14$component === undefined ? null : _ref14$component,\n      _ref14$config = _ref14.config,\n      config = _ref14$config === undefined ? null : _ref14$config;\n\n  this.state.layeractiontool[layer.id].component = component;\n  this.state.layeractiontool[layer.id].config = config;\n};\n\n/**\n * Method copy zoomtofid url\n * @param layer\n * @param feature\n */\nproto.copyZoomToFidUrl = function (layer, feature, action) {\n  var fid = feature.attributes[_constant.G3W_FID];\n  var url = new URL(location.href);\n  var zoom_to_fid = layer.id + '|' + fid;\n  url.searchParams.set('zoom_to_fid', zoom_to_fid);\n  copyUrl(url.toString());\n  action.hint_changed = true;\n};\n\n/**\n * Clear all\n */\nproto.clear = function () {\n  this.runAsyncTodo();\n  this.unlistenerEventsActions();\n  this.mapService.clearHighlightGeometry();\n  this.resultsQueryLayer.getSource().clear();\n  this.removeAddFeaturesLayerResultInteraction({\n    toggle: true\n  });\n  this.mapService.getMap().removeLayer(this.resultsQueryLayer);\n  this._asyncFnc = null;\n  this._asyncFnc = {\n    todo: noop,\n    zoomToLayerFeaturesExtent: {\n      async: false\n    },\n    goToGeometry: {\n      async: false\n    }\n  };\n  this.clearState();\n  this.closeComponent();\n};\n\nproto.getCurrentLayersIds = function () {\n  return this._currentLayerIds;\n};\n\nproto.runAsyncTodo = function () {\n  this._asyncFnc.todo();\n};\n\nproto._orderResponseByProjectLayers = function (layers) {\n  var _this9 = this;\n\n  layers.sort(function (layerA, layerB) {\n    var aIndex = _this9._projectLayerIds.indexOf(layerA.id);\n    var bIndex = _this9._projectLayerIds.indexOf(layerB.id);\n    return aIndex > bIndex ? 1 : -1;\n  });\n};\n\nproto.setZoomToResults = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n  this.state.zoomToResult = bool;\n};\n\nproto.highlightFeaturesPermanently = function (layer) {\n  var features = layer.features;\n\n  this.mapService.highlightFeatures(features, {\n    duration: Infinity\n  });\n};\n\n/**\n * Check if one layer result\n * @returns {boolean}\n */\nproto.isOneLayerResult = function () {\n  return this.state.layers.length === 1;\n};\n\n/**\n *\n * @param toggle boolean If true toggle true the mapcontrol\n */\nproto.removeAddFeaturesLayerResultInteraction = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref15$toggle = _ref15.toggle,\n      toggle = _ref15$toggle === undefined ? false : _ref15$toggle;\n\n  if (this._addFeaturesLayerResultInteraction.interaction) this.mapService.removeInteraction(this._addFeaturesLayerResultInteraction.interaction);\n  this._addFeaturesLayerResultInteraction.interaction = null;\n  this._addFeaturesLayerResultInteraction.id = null;\n  // check if map control query map is register and if toggled\n  toggle && this._addFeaturesLayerResultInteraction.mapcontrol && this._addFeaturesLayerResultInteraction.mapcontrol.toggle(true);\n  this._addFeaturesLayerResultInteraction.mapcontrol = null;\n  this._addFeaturesLayerResultInteraction.toggleeventhandler && this.mapService.off('mapcontrol:toggled', this._addFeaturesLayerResultInteraction.toggleeventhandler);\n  this._addFeaturesLayerResultInteraction.toggleeventhandler = null;\n};\n\n/**\n *\n * Adde feature to Features results\n * @param layer\n */\nproto.addLayerFeaturesToResultsAction = function (layer) {\n  var _this10 = this;\n\n  /**\n   * Check if layer is current layer to add or clear previous\n   */\n  if (this._addFeaturesLayerResultInteraction.id !== null && this._addFeaturesLayerResultInteraction.id !== layer.id) {\n    var _layer2 = this.state.layers.find(function (layer) {\n      return layer.id === _this10._addFeaturesLayerResultInteraction.id;\n    });\n    if (_layer2) _layer2.addfeaturesresults.active = false;\n    //remove previous add result interaction\n    if (this._addFeaturesLayerResultInteraction.interaction) this.mapService.removeInteraction(this._addFeaturesLayerResultInteraction.interaction);\n  }\n  this._addFeaturesLayerResultInteraction.id = layer.id;\n  layer.addfeaturesresults.active = !layer.addfeaturesresults.active;\n  if (layer.addfeaturesresults.active) {\n    this.activeMapInteraction(); // useful o send an event\n    var external = layer.external;\n\n    if (!this._addFeaturesLayerResultInteraction.mapcontrol) this._addFeaturesLayerResultInteraction.mapcontrol = this.mapService.getCurrentToggledMapControl();\n    this._addFeaturesLayerResultInteraction.interaction = new PickCoordinatesInteraction();\n    this.mapService.addInteraction(this._addFeaturesLayerResultInteraction.interaction, {\n      close: false\n    });\n    this._addFeaturesLayerResultInteraction.interaction.on('picked', function () {\n      var _ref16 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(evt) {\n        var coordinates, vectorLayer, responseObject;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                coordinates = evt.coordinate;\n\n                if (external) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                _context2.next = 4;\n                return _data2.default.getData('query:coordinates', {\n                  inputs: {\n                    coordinates: coordinates,\n                    query_point_tolerance: _this10._project.getQueryPointTolerance(),\n                    layerIds: [layer.id],\n                    multilayers: false\n                  }, outputs: {\n                    show: {\n                      add: true\n                    }\n                  }\n                });\n\n              case 4:\n                _context2.next = 9;\n                break;\n\n              case 6:\n                vectorLayer = _this10._vectorLayers.find(function (vectorLayer) {\n                  return layer.id === vectorLayer.get('id');\n                });\n                responseObject = _this10.getVectorLayerFeaturesFromQueryRequest(vectorLayer, {\n                  coordinates: coordinates\n                });\n\n                _this10.setQueryResponse({\n                  data: [responseObject],\n                  query: {\n                    coordinates: coordinates\n                  }\n                }, { add: true });\n\n              case 9:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this10);\n      }));\n\n      return function (_x16) {\n        return _ref16.apply(this, arguments);\n      };\n    }());\n    var eventHandler = function eventHandler(evt) {\n      if (evt.target.isToggled() && evt.target.isClickMap()) layer.addfeaturesresults.active = false;\n    };\n    this._addFeaturesLayerResultInteraction.toggleeventhandler = eventHandler;\n    this.mapService.once('mapcontrol:toggled', eventHandler);\n  } else this.removeAddFeaturesLayerResultInteraction({\n    toggle: true\n  });\n};\n\nproto.deactiveQueryInteractions = function () {\n  this.state.layers.forEach(function (layer) {\n    if (layer.addfeaturesresults) layer.addfeaturesresults.active = false;\n  });\n  this.removeAddFeaturesLayerResultInteraction();\n};\n\nproto.zoomToLayerFeaturesExtent = function (layer) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var features = layer.features;\n\n  options.highlight = !this.isOneLayerResult();\n  if (this._asyncFnc.zoomToLayerFeaturesExtent.async) this._asyncFnc.todo = this.mapService.zoomToFeatures.bind(this.mapService, features, options);else this.mapService.zoomToFeatures(features, options);\n};\n\nproto.clearState = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state.layers.splice(0);\n  this.state.query = null;\n  this.state.querytitle = \"\";\n  this.state.changed = false;\n  // clear action if present\n  Object.values(this.state.layersactions).forEach(function (layeractions) {\n    return layeractions.forEach(function (action) {\n      return action.clear && action.clear();\n    });\n  });\n  this.state.layersactions = {};\n  this.state.actiontools = {};\n  this.state.layeractiontool = {};\n  // current action tools\n  this.state.currentactiontools = {};\n  this.state.layersFeaturesBoxes = {};\n  this.removeAddFeaturesLayerResultInteraction();\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.setState = function (state) {\n  this.state = state;\n};\n\nproto._setRelations = function (project) {\n  var projectRelations = project.getRelations();\n  this._relations = projectRelations ? _.groupBy(projectRelations, 'referencedLayer') : [];\n};\n\nproto.getAtlasByLayerId = function (layerId) {\n  return this._atlas.filter(function (atlas) {\n    return atlas.atlas.qgs_layer_id === layerId;\n  });\n};\n\nproto._setAtlasActions = function (project) {\n  this._atlas = project.getPrint().filter(function (printconfig) {\n    return printconfig.atlas;\n  }) || [];\n};\n\nproto.setTitle = function (querytitle) {\n  this.state.querytitle = querytitle || \"\";\n};\n\nproto.reset = function () {\n  this.clearState();\n};\n\n/**\n * Method that convert response from Data Provider to a Query Result component data structure\n * @param featuresForLayers: Array contains for each layer features\n * @returns {[]}\n * @private\n */\nproto._digestFeaturesForLayers = function (featuresForLayers) {\n  var _this11 = this;\n\n  var id = 0;\n  featuresForLayers = featuresForLayers || [];\n  var layers = [];\n  var layerAttributes = void 0,\n      layerRelationsAttributes = void 0,\n      layerTitle = void 0,\n      layerId = void 0;\n  var _handleFeatureFoLayer = function _handleFeatureFoLayer(featuresForLayer) {\n    var _layerObj;\n\n    var formStructure = void 0;\n    var sourceType = void 0;\n    var source = void 0;\n    var extractRelations = false;\n    var external = false;\n    var editable = false;\n    var inediting = false;\n    var layer = featuresForLayer.layer;\n    var downloads = [];\n    var infoformats = [];\n    var infoformat = void 0;\n    var filter = {};\n    var selection = {};\n    if (layer instanceof Layer) {\n      editable = layer.isEditable();\n      inediting = layer.isInEditing();\n      source = layer.getSource();\n      infoformats = layer.getInfoFormats(); // add infoformats property\n      infoformat = layer.getInfoFormat();\n      // set selection filter and relation if not wms\n      if ([Layer.SourceTypes.WMS, Layer.SourceTypes.WCS, Layer.SourceTypes.WMST].indexOf(layer.getSourceType()) === -1) {\n        filter = layer.state.filter;\n        selection = layer.state.selection;\n        extractRelations = true;\n      }\n      downloads = layer.getDownloadableFormats();\n      try {\n        sourceType = layer.getSourceType();\n      } catch (err) {}\n      // sanitize attributes layer only if is ows\n      layerAttributes = _this11.state.type === 'ows' ? layer.getAttributes().map(function (attribute) {\n        var sanitizeAttribute = _extends({}, attribute);\n        sanitizeAttribute.name = sanitizeAttribute.name.replace(/ /g, '_');\n        return sanitizeAttribute;\n      }) : layer.getAttributes();\n\n      layerRelationsAttributes = [];\n      layerTitle = layer.getTitle();\n      layerId = layer.getId();\n      if (layer.hasFormStructure()) {\n        var structure = layer.getLayerEditingFormStructure();\n        if (_this11._relations && _this11._relations.length) {\n          var getRelationFieldsFromFormStructure = function getRelationFieldsFromFormStructure(node) {\n            if (!node.nodes) {\n              node.name ? node.relation = true : null;\n            } else {\n              var _iteratorNormalCompletion = true;\n              var _didIteratorError = false;\n              var _iteratorError = undefined;\n\n              try {\n                for (var _iterator = node.nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  var _node = _step.value;\n\n                  getRelationFieldsFromFormStructure(_node);\n                }\n              } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n              } finally {\n                try {\n                  if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                  }\n                } finally {\n                  if (_didIteratorError) {\n                    throw _iteratorError;\n                  }\n                }\n              }\n            }\n          };\n          var _iteratorNormalCompletion2 = true;\n          var _didIteratorError2 = false;\n          var _iteratorError2 = undefined;\n\n          try {\n            for (var _iterator2 = structure[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n              var node = _step2.value;\n\n              getRelationFieldsFromFormStructure(node);\n            }\n          } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n              }\n            } finally {\n              if (_didIteratorError2) {\n                throw _iteratorError2;\n              }\n            }\n          }\n        }\n        var fields = layer.getFields().filter(function (field) {\n          return field.show;\n        }); // get features show\n        formStructure = {\n          structure: structure,\n          fields: fields\n        };\n      }\n    } else if (layer instanceof ol.layer.Vector) {\n      selection = layer.selection;\n      layerAttributes = layer.getProperties();\n      layerRelationsAttributes = [];\n      layerTitle = layer.get('name');\n      layerId = layer.get('id');\n      external = true;\n    } else if (typeof layer === 'string' || layer instanceof String) {\n      sourceType = Layer.LayerTypes.VECTOR;\n      var feature = featuresForLayer.features[0];\n      layerAttributes = feature ? feature.getProperties() : [];\n      layerRelationsAttributes = [];\n      var split_layer_name = layer.split('_');\n      layerTitle = split_layer_name.length > 4 ? split_layer_name.slice(0, split_layer_name.length - 4).join(' ') : layer;\n      layerId = layer;\n      external = true;\n    }\n    var layerObj = (_layerObj = {\n      title: layerTitle,\n      id: layerId,\n      infoformat: infoformat,\n      infoformats: infoformats,\n      attributes: [],\n      features: [],\n      hasgeometry: false,\n      atlas: _this11.getAtlasByLayerId(layerId),\n      source: source,\n      downloads: downloads,\n      show: true,\n      filter: filter,\n      addfeaturesresults: {\n        active: false\n      }\n    }, _defineProperty(_layerObj, _QueryResultsActionDownloadFormats2.default.name, {\n      active: false\n    }), _defineProperty(_layerObj, 'external', external), _defineProperty(_layerObj, 'editable', editable), _defineProperty(_layerObj, 'inediting', inediting), _defineProperty(_layerObj, 'selection', selection), _defineProperty(_layerObj, 'expandable', true), _defineProperty(_layerObj, 'hasImageField', false), _defineProperty(_layerObj, 'relationsattributes', layerRelationsAttributes), _defineProperty(_layerObj, 'formStructure', formStructure), _defineProperty(_layerObj, 'error', ''), _defineProperty(_layerObj, 'rawdata', null), _defineProperty(_layerObj, 'loading', false), _layerObj);\n    if (featuresForLayer.rawdata) {\n      layerObj.rawdata = featuresForLayer.rawdata;\n      layers.push(layerObj);\n    } else if (featuresForLayer.features && featuresForLayer.features.length) {\n      var layerSpecialAttributesName = layer instanceof Layer ? layerAttributes.filter(function (attribute) {\n        try {\n          return attribute.name[0] === '_' || Number.isInteger(1 * attribute.name[0]);\n        } catch (e) {\n          return false;\n        }\n      }).map(function (attribute) {\n        return {\n          alias: attribute.name.replace(/_/, ''),\n          name: attribute.name\n        };\n      }) : [];\n      layerSpecialAttributesName.length && featuresForLayer.features.forEach(function (feature) {\n        return _this11._setSpecialAttributesFeatureProperty(layerSpecialAttributesName, feature);\n      });\n      layerObj.attributes = _this11._parseAttributes(layerAttributes, featuresForLayer.features[0], sourceType);\n      layerObj.attributes.forEach(function (attribute) {\n        if (formStructure) {\n          var relationField = layer.getFields().find(function (field) {\n            return field.name === attribute.name;\n          }); // need to check all field also show false\n          !relationField && formStructure.fields.push(attribute);\n        }\n        if (attribute.type === 'image') layerObj.hasImageField = true;\n      });\n      featuresForLayer.features.forEach(function (feature) {\n        var _getFeatureProperties = _this11.getFeaturePropertiesAndGeometry(feature),\n            fid = _getFeatureProperties.id,\n            geometry = _getFeatureProperties.geometry,\n            attributes = _getFeatureProperties.properties,\n            selection = _getFeatureProperties.selection;\n\n        if (geometry) layerObj.hasgeometry = true;\n        var featureObj = {\n          id: layerObj.external ? feature.getId() : fid,\n          attributes: attributes,\n          geometry: geometry,\n          selection: selection,\n          show: true\n        };\n        layerObj.features.push(featureObj);\n        id += 1;\n      });\n      layers.push(layerObj);\n    } else if (featuresForLayer.error) layerObj.error = featuresForLayer.error;\n  };\n  featuresForLayers.forEach(function (featuresForLayer) {\n    if (!Array.isArray(featuresForLayer)) _handleFeatureFoLayer(featuresForLayer);else featuresForLayer.forEach(function (featuresForLayer) {\n      return _handleFeatureFoLayer(featuresForLayer);\n    });\n  });\n  return layers;\n};\n\n/**\n * Method to set special attributes\n * @param layerSpecialAttributesName\n * @param feature\n * @private\n */\nproto._setSpecialAttributesFeatureProperty = function (layerSpecialAttributesName, feature) {\n  // get feature properties get from server request\n  var featureAttributes = feature.getProperties();\n  // get attributes special keys\n  var featureAttributesNames = Object.keys(featureAttributes);\n  if (layerSpecialAttributesName.length) {\n    layerSpecialAttributesName.forEach(function (attributeObj) {\n      featureAttributesNames.find(function (featureAttribute) {\n        if (featureAttribute === attributeObj.alias) {\n          feature.set(attributeObj.name, feature.get(featureAttribute));\n          return true;\n        }\n      });\n    });\n  }\n};\n\n/**\n * Method to get properties geometry and id from different type of fetaure\n * @param feature\n * @returns {{geometry: (undefined|*|null|ol.Feature), id: *, properties: string[]}|{geometry: *, id: *, properties: *}}\n */\nproto.getFeaturePropertiesAndGeometry = function (feature) {\n  if (feature instanceof ol.Feature) {\n    return {\n      selection: feature.selection,\n      properties: feature.getProperties(),\n      geometry: feature.getGeometry(),\n      id: feature.getId()\n    };\n  } else {\n    var selection = feature.selection,\n        properties = feature.properties,\n        geometry = feature.geometry,\n        id = feature.id;\n\n    return {\n      selection: selection,\n      properties: properties,\n      geometry: geometry,\n      id: id\n    };\n  }\n};\n\n/**\n * parse attributre to show on result based on field\n * @param layerAttributes\n * @param feature\n * @param sourceType\n * @returns {{name: T, show: boolean, label: T}[]|*}\n * @private\n */\nproto._parseAttributes = function (layerAttributes, feature, sourceType) {\n  var _getFeatureProperties2 = this.getFeaturePropertiesAndGeometry(feature),\n      featureAttributes = _getFeatureProperties2.properties;\n\n  var featureAttributesNames = Object.keys(featureAttributes);\n  featureAttributesNames = getAlphanumericPropertiesFromFeature(featureAttributesNames);\n  if (layerAttributes && layerAttributes.length) {\n    var attributes = layerAttributes.filter(function (attribute) {\n      return featureAttributesNames.indexOf(attribute.name) > -1;\n    });\n    return attributes;\n  } else {\n    var _Layer$SourceTypes = Layer.SourceTypes,\n        GDAL = _Layer$SourceTypes.GDAL,\n        WMS = _Layer$SourceTypes.WMS,\n        WCS = _Layer$SourceTypes.WCS,\n        WMST = _Layer$SourceTypes.WMST;\n\n    var showSourcesTypes = [GDAL, WMS, WCS, WMST];\n    return featureAttributesNames.map(function (featureAttributesName) {\n      return {\n        name: featureAttributesName,\n        label: featureAttributesName,\n        show: featureAttributesName !== _constant.G3W_FID && (sourceType === undefined || showSourcesTypes.indexOf(sourceType) !== -1),\n        type: 'varchar'\n      };\n    });\n  }\n};\n\nproto.trigger = function () {\n  var _ref17 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(actionId, layer, feature, index, container) {\n    var actionMethod, layerActions, action;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            actionMethod = this._actions[actionId];\n\n            actionMethod && actionMethod(layer, feature, index);\n\n            if (!layer) {\n              _context3.next = 10;\n              break;\n            }\n\n            layerActions = this.state.layersactions[layer.id];\n\n            if (!layerActions) {\n              _context3.next = 10;\n              break;\n            }\n\n            action = layerActions.find(function (layerAction) {\n              return layerAction.id === actionId;\n            });\n            _context3.t0 = action;\n\n            if (!_context3.t0) {\n              _context3.next = 10;\n              break;\n            }\n\n            _context3.next = 10;\n            return this.triggerLayerAction(action, layer, feature, index, container);\n\n          case 10:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  return function (_x19, _x20, _x21, _x22, _x23) {\n    return _ref17.apply(this, arguments);\n  };\n}();\n\nproto.triggerLayerAction = function () {\n  var _ref18 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(action, layer, feature, index, container) {\n    var url, urlTemplate;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.t0 = action.cbk;\n\n            if (!_context4.t0) {\n              _context4.next = 4;\n              break;\n            }\n\n            _context4.next = 4;\n            return action.cbk(layer, feature, action, index, container);\n\n          case 4:\n            if (action.route) {\n              url = void 0;\n              urlTemplate = action.route;\n\n              url = urlTemplate.replace(/{(\\w*)}/g, function (m, key) {\n                return feature.attributes.hasOwnProperty(key) ? feature.attributes[key] : \"\";\n              });\n              url && url !== '' && _gui2.default.goto(url);\n            }\n\n          case 5:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x24, _x25, _x26, _x27, _x28) {\n    return _ref18.apply(this, arguments);\n  };\n}();\n\nproto.registerVectorLayer = function (vectorLayer) {\n  this._vectorLayers.indexOf(vectorLayer) === -1 && this._vectorLayers.push(vectorLayer);\n};\n\nproto.unregisterVectorLayer = function (vectorLayer) {\n  var _this12 = this;\n\n  this._vectorLayers = this._vectorLayers.filter(function (layer) {\n    _this12.state.layers = _this12.state.layers && _this12.state.layers.filter(function (layer) {\n      return layer.id !== vectorLayer.get('id');\n    });\n    return layer !== vectorLayer;\n  });\n};\n\nproto.getVectorLayerFeaturesFromQueryRequest = function (vectorLayer) {\n  var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var coordinates = query.coordinates,\n      bbox = query.bbox,\n      geometry = query.geometry,\n      _query$filterConfig = query.filterConfig,\n      filterConfig = _query$filterConfig === undefined ? {} : _query$filterConfig; // extract information about query type\n\n  var features = [];\n\n  // case query coordinates\n  if (coordinates && Array.isArray(coordinates)) {\n    var pixel = this.mapService.viewer.map.getPixelFromCoordinate(coordinates);\n    this.mapService.viewer.map.forEachFeatureAtPixel(pixel, function (feature, layer) {\n      features.push(feature);\n    }, {\n      layerFilter: function layerFilter(layer) {\n        return layer === vectorLayer;\n      }\n    });\n  }\n\n  // TODO: rewrite this in order to avoid nested else-if conditions\n  else {\n\n      // case query bbox\n      if (bbox && Array.isArray(bbox)) {\n        //set geometry has Polygon\n        geometry = ol.geom.Polygon.fromExtent(bbox);\n      }\n\n      // check query geometry (Polygon or MultiPolygon)\n      if (geometry instanceof ol.geom.Polygon || geometry instanceof ol.geom.MultiPolygon) {\n        switch (vectorLayer.constructor) {\n          case VectorLayer:\n            features = vectorLayer.getIntersectedFeatures(geometry);\n            break;\n          case ol.layer.Vector:\n            vectorLayer.getSource().getFeatures().forEach(function (feature) {\n              var add = void 0;\n              switch (filterConfig.spatialMethod) {\n                case 'intersects':\n                  add = intersects(geometry, feature.getGeometry());break;\n                case 'within':\n                  add = within(geometry, feature.getGeometry());break;\n                default:\n                  add = geometry.intersectsExtent(feature.getGeometry().getExtent());break;\n              }\n              if (true === add) {\n                features.push(feature);\n              }\n            });\n            break;\n        }\n      }\n    }\n\n  return {\n    features: features,\n    layer: vectorLayer\n  };\n};\n\n/**\n * @TODO add description (eg. what is a vector layer ?)\n */\nproto._addVectorLayersDataToQueryResponse = function (queryResponse) {\n  var _this13 = this;\n\n  var catalogService = _gui2.default.getService('catalog');\n\n  /** @type { boolean | undefined } */\n  var isExternalFilterSelected = queryResponse.query.external.filter.SELECTED;\n\n  // add visible layers to query response (vector layers)\n  this._vectorLayers.forEach(function (layer) {\n    var isLayerSelected = catalogService.isExternalLayerSelected({ id: layer.get('id'), type: 'vector' });\n    if (layer.getVisible() && ( // TODO: extract this into `layer.isSomething()` ?\n    true === isLayerSelected && true === isExternalFilterSelected || false === isLayerSelected && false === isExternalFilterSelected || \"undefined\" === typeof isExternalFilterSelected)) {\n      queryResponse.data.push(_this13.getVectorLayerFeaturesFromQueryRequest(layer, queryResponse.query));\n    }\n  });\n};\n\n//function to add custom component in query result\nproto._addComponent = function (component) {\n  this.state.components.push(component);\n};\n\nproto._printSingleAtlas = function () {\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref19$atlas = _ref19.atlas,\n      atlas = _ref19$atlas === undefined ? {} : _ref19$atlas,\n      _ref19$features = _ref19.features,\n      features = _ref19$features === undefined ? [] : _ref19$features;\n\n  // TODO: make it easier to understand.. (what variables are declared? which ones are aliased?)\n  var template = atlas.name,\n      _atlas$atlas$field_na = atlas.atlas.field_name,\n      field_name = _atlas$atlas$field_na === undefined ? '' : _atlas$atlas$field_na;\n\n\n  field_name = field_name || '$id';\n\n  var values = features.map(function (feat) {\n    return feat.attributes[field_name === '$id' ? _constant.G3W_FID : field_name];\n  });\n  var download_caller_id = _application2.default.setDownload(true);\n\n  return this.printService.printAtlas({\n    field: field_name,\n    values: values,\n    template: template,\n    download: true\n  }).then(function (_ref20) {\n    var url = _ref20.url;\n\n    downloadFile({ url: url, filename: template, mime_type: 'application/pdf' }).catch(function (error) {\n      _gui2.default.showUserMessage({ type: 'alert', error: error });\n    }).finally(function () {\n      _application2.default.setDownload(false, download_caller_id);_gui2.default.setLoadingContent(false);\n    });\n  });\n};\n\nproto.showChart = function (ids, container, relationData) {\n  this.emit('show-chart', ids, container, relationData);\n};\n\nproto.hideChart = function (container) {\n  this.emit('hide-chart', container);\n};\n\nproto.showRelationsChart = function () {\n  var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var layer = arguments[1];\n  var feature = arguments[2];\n  var action = arguments[3];\n  var index = arguments[4];\n  var container = arguments[5];\n\n  action.state.toggled[index] = !action.state.toggled[index];\n  if (action.state.toggled[index]) {\n    var relations = this._relations[layer.id];\n    var relationData = {\n      relations: relations,\n      fid: feature.attributes[_constant.G3W_FID],\n      height: 400\n    };\n    this.emit('show-chart', ids, container, relationData);\n  } else this.hideChart(container);\n};\n\nproto.printAtlas = function (layer, feature) {\n  var _this14 = this;\n\n  var layerId = layer.id,\n      features = layer.features;\n\n  var inputAtlasAttr = 'g3w_atlas_index';\n  features = feature ? [feature] : features;\n  var atlasLayer = this.getAtlasByLayerId(layerId);\n  if (atlasLayer.length > 1) {\n    var inputs = '';\n    atlasLayer.forEach(function (atlas, index) {\n      var id = getUniqueDomId();\n      inputs += '<input id=\"' + id + '\" ' + inputAtlasAttr + '=\"' + index + '\" class=\"magic-radio\" type=\"radio\" name=\"template\" value=\"' + atlas.name + '\"/>\\n                 <label for=\"' + id + '\">' + atlas.name + '</label>\\n                 <br>';\n    });\n\n    _gui2.default.showModalDialog({\n      title: t('sdk.atlas.template_dialog.title'),\n      message: inputs,\n      buttons: {\n        success: {\n          label: \"OK\",\n          className: \"skin-button\",\n          callback: function callback() {\n            var index = $('input[name=\"template\"]:checked').attr(inputAtlasAttr);\n            if (index !== null || index !== undefined) {\n              var atlas = atlasLayer[index];\n              _this14._printSingleAtlas({\n                atlas: atlas,\n                features: features\n              });\n            }\n          }\n        }\n      }\n    });\n  } else this._printSingleAtlas({\n    atlas: atlasLayer[0],\n    features: features\n  });\n};\n\n/**\n * Method that in case\n * @param layer\n */\nproto.showLayerDownloadFormats = function (layer) {\n  var layerKey = _QueryResultsActionDownloadFormats2.default.name;\n  layer[layerKey].active = !layer[layerKey].active;\n  this.setLayerActionTool({\n    layer: layer,\n    component: layer[layerKey].active ? _QueryResultsActionDownloadFormats2.default : null,\n    config: layer[layerKey].active ? this.state.actiontools[layerKey][layer.id] : null\n  });\n};\n\n/**\n *\n * @param type\n * @param layerId\n * @param features\n */\nproto.downloadFeatures = function () {\n  var _ref21 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6(type, layer) {\n    var features = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n    var _this15 = this;\n\n    var action = arguments[3];\n    var index = arguments[4];\n\n    var layerId, _state$query, query, data, runDownload, downloadsactions, fid, polygonLayer, config;\n\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            layerId = layer.id;\n            _state$query = this.state.query, query = _state$query === undefined ? {} : _state$query;\n\n            features = features ? Array.isArray(features) ? features : [features] : features;\n            data = {\n              fids: features.map(function (feature) {\n                return feature.attributes[_constant.G3W_FID];\n              }).join(',')\n            };\n            /**\n             * is a function that che be called in case of querybypolygon\n             * @param active\n             */\n\n            runDownload = function () {\n              var _ref22 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n                var active = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n                var projectLayer, download_caller_id, downloadsactions;\n                return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                  while (1) {\n                    switch (_context5.prev = _context5.next) {\n                      case 0:\n                        if (features.length > 1) {\n                          layer[_QueryResultsActionDownloadFormats2.default.name].active = active;\n                          _this15.setLayerActionTool({\n                            layer: layer\n                          });\n                        }\n                        projectLayer = _catalogLayers2.default.getLayerById(layer.id);\n                        download_caller_id = _application2.default.setDownload(true);\n\n                        _gui2.default.setLoadingContent(true);\n                        _context5.prev = 4;\n                        _context5.next = 7;\n                        return projectLayer.getDownloadFilefromDownloadDataType(type, {\n                          data: data\n                        });\n\n                      case 7:\n                        _context5.t0 = _context5.sent;\n\n                        if (_context5.t0) {\n                          _context5.next = 10;\n                          break;\n                        }\n\n                        Promise.resolve();\n\n                      case 10:\n                        _context5.next = 15;\n                        break;\n\n                      case 12:\n                        _context5.prev = 12;\n                        _context5.t1 = _context5['catch'](4);\n\n                        _gui2.default.notify.error(_context5.t1 || t(\"info.server_error\"));\n\n                      case 15:\n                        _application2.default.setDownload(false, download_caller_id);\n                        _gui2.default.setLoadingContent(false);\n                        downloadsactions = _this15.state.layersactions[layer.id].find(function (action) {\n                          return action.id === 'downloads';\n                        });\n\n                        if (features.length > 1) {\n                          if (downloadsactions === undefined) {\n                            layer[type].active = false;\n                            _this15.setLayerActionTool({\n                              layer: layer\n                            });\n                          } else layer[_QueryResultsActionDownloadFormats2.default.name].active = false;\n                        } else {\n                          if (downloadsactions === undefined) action.state.toggled[index] = false;else downloadsactions.state.toggled[index] = false;\n                          _this15.setCurrentActionLayerFeatureTool({\n                            index: index,\n                            action: action,\n                            layer: layer\n                          });\n                        }\n\n                      case 19:\n                      case 'end':\n                        return _context5.stop();\n                    }\n                  }\n                }, _callee5, _this15, [[4, 12]]);\n              }));\n\n              return function runDownload() {\n                return _ref22.apply(this, arguments);\n              };\n            }();\n\n            if (query.type === 'polygon') {\n              //check if multidownload if present\n              downloadsactions = this.state.layersactions[layer.id].find(function (action) {\n                return action.id === 'downloads';\n              });\n              fid = query.fid, polygonLayer = query.layer;\n              config = {\n                choices: [{\n                  id: getUniqueDomId(),\n                  type: 'feature',\n                  label: 'sdk.mapcontrols.querybypolygon.download.choiches.feature.label'\n                }, {\n                  id: getUniqueDomId(),\n                  type: 'polygon',\n                  label: 'sdk.mapcontrols.querybypolygon.download.choiches.feature_polygon.label'\n                }],\n                download: function download(type) {\n                  // choose between only feature attribute or also polygon attibute\n                  if (type === 'polygon') {\n                    // id type polygon add paramateres to api download\n                    data.sbp_qgs_layer_id = polygonLayer.getId();\n                    data.sbp_fid = fid;\n                  } else {\n                    // force to remove\n                    delete data.sbp_fid;\n                    delete data.sbp_qgs_layer_id;\n                  }\n                  runDownload(true);\n                }\n              };\n\n              if (features.length === 1) {\n                if (downloadsactions === undefined) {\n                  action.state.toggled[index] = true;\n                }\n                this.state.actiontools[_QueryResultsActionQueryPolygonCSVAttributes2.default.name] = this.state.actiontools[layerId] || {};\n                this.state.actiontools[_QueryResultsActionQueryPolygonCSVAttributes2.default.name][layerId] = config;\n                this.setCurrentActionLayerFeatureTool({\n                  layer: layer,\n                  index: index,\n                  action: action,\n                  component: _QueryResultsActionQueryPolygonCSVAttributes2.default\n                });\n              } else {\n                if (downloadsactions === undefined) {\n                  layer[type].active = !layer[type].active;\n                  if (layer[type].active) {\n                    this.setLayerActionTool({\n                      layer: layer,\n                      component: _QueryResultsActionQueryPolygonCSVAttributes2.default,\n                      config: config\n                    });\n                  } else this.setLayerActionTool({\n                    layer: layer\n                  });\n                } else {\n                  this.setLayerActionTool({\n                    layer: layer,\n                    component: _QueryResultsActionQueryPolygonCSVAttributes2.default,\n                    config: config\n                  });\n                }\n              }\n            } else runDownload();\n\n          case 6:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  return function (_x33, _x34) {\n    return _ref21.apply(this, arguments);\n  };\n}();\n\nproto.downloadGpx = function () {\n  var _this16 = this;\n\n  var _ref23 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref23.id;\n\n  var feature = arguments[1];\n\n  var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n  var layer = _catalogLayers2.default.getLayerById(layerId);\n  layer.getGpx({ fid: fid }).catch(function (err) {\n    _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    _this16.layerMenu.loading.shp = false;\n    _this16._hideMenu();\n  });\n};\n\nproto.downloadXls = function () {\n  var _this17 = this;\n\n  var _ref24 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref24.id;\n\n  var feature = arguments[1];\n\n  var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n  var layer = _catalogLayers2.default.getLayerById(layerId);\n  layer.getXls({ fid: fid }).catch(function (err) {\n    _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    _this17.layerMenu.loading.shp = false;\n    _this17._hideMenu();\n  });\n};\n\nproto.listenClearSelection = function (layer, actionId) {\n  var _this18 = this;\n\n  if (!layer.external) {\n    var _layer = _catalogLayers2.default.getLayerById(layer.id);\n    var handler = function handler() {\n      var action = _this18.state.layersactions[layer.id].find(function (action) {\n        return action.id === actionId;\n      });\n      layer.features.forEach(function (feature, index) {\n        return action.state.toggled[index] = false;\n      });\n    };\n    _layer.on('unselectionall', handler);\n    this.unlistenerlayeractionevents.push({\n      layer: _layer,\n      event: 'unselectionall',\n      handler: handler\n    });\n  } else {\n    layer.features.forEach(function (feature) {\n      var selectionFeature = layer.selection.features.find(function (selectionFeature) {\n        return feature.id === selectionFeature.getId();\n      });\n      feature.selection = selectionFeature ? selectionFeature.selection : {\n        selected: false\n      };\n    });\n  }\n};\n\nproto.clearSelectionExtenalLayer = function (layer) {\n  var _this19 = this;\n\n  layer.selection.active = false;\n  var action = this.state.layersactions[layer.id] && this.state.layersactions[layer.id].find(function (action) {\n    return action.id === 'selection';\n  });\n  layer.selection.features.forEach(function (feature, index) {\n    if (feature.selection.selected) {\n      feature.selection.selected = false;\n      if (action) action.state.toggled[index] = false;\n      _this19.mapService.setSelectionFeatures('remove', {\n        feature: feature\n      });\n    }\n  });\n};\n\nproto.unlistenerEventsActions = function () {\n  this.unlistenerlayeractionevents.forEach(function (obj) {\n    return obj.layer.off(obj.event, obj.handler);\n  });\n  this.unlistenerlayeractionevents = [];\n};\n\nproto.addRemoveFilter = function (layer) {\n  var _layer = _catalogLayers2.default.getLayerById(layer.id);\n  _layer.toggleFilterToken();\n};\n\n/**\n *\n * @param layer\n */\nproto.selectionFeaturesLayer = function (layer) {\n  var _this20 = this;\n\n  var layerId = layer.id;\n  var action = this.state.layersactions[layerId].find(function (action) {\n    return action.id === 'selection';\n  });\n  var bool = Object.values(action.state.toggled).reduce(function (acculmulator, value) {\n    return acculmulator && value;\n  }, true);\n  var _layer = !layer.external ? _catalogLayers2.default.getLayerById(layerId) : layer;\n  layer.features.forEach(function (feature, index) {\n    action.state.toggled[index] = !bool;\n    _this20._addRemoveSelectionFeature(_layer, feature, index, bool ? 'remove' : 'add');\n  });\n};\n\n/**\n *\n * @param layer\n * @param feature\n * @param index\n * @param force\n * @returns {Promise<void>}\n * @private\n */\nproto._addRemoveSelectionFeature = function () {\n  var _ref25 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(layer, feature, index, force) {\n    var selectionFeature, fid, hasAlreadySelectioned, currentLayer;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            if (!(typeof layer.external !== \"undefined\" && layer.external)) {\n              _context7.next = 12;\n              break;\n            }\n\n            if (typeof layer.selection.features === \"undefined\") layer.selection.features = {};\n            if (!layer.selection.features.find(function (selectionFeature) {\n              return selectionFeature.getId() === feature.id;\n            })) {\n              /***\n               * Feature used in selection tool action\n               */\n              selectionFeature = createFeatureFromFeatureObject({\n                feature: feature,\n                id: feature.id\n              });\n\n              selectionFeature.__layerId = layer.id;\n              selectionFeature.selection = feature.selection;\n              layer.selection.features.push(selectionFeature);\n            }\n\n            if (!(force === 'add' && feature.selection.selected || force === 'remove' && !feature.selection.selected)) {\n              _context7.next = 7;\n              break;\n            }\n\n            return _context7.abrupt('return');\n\n          case 7:\n            feature.selection.selected = !feature.selection.selected;\n\n          case 8:\n            this.mapService.setSelectionFeatures(feature.selection.selected ? 'add' : 'remove', {\n              feature: layer.selection.features.find(function (selectionFeature) {\n                return feature.id === selectionFeature.getId();\n              })\n            });\n            /*\n            * Set selection layer active based on features selection selected properties\n             */\n            layer.selection.active = layer.selection.features.reduce(function (accumulator, feature) {\n              return accumulator || feature.selection.selected;\n            }, false);\n            _context7.next = 28;\n            break;\n\n          case 12:\n            // case of project layer on TOC\n            fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n            hasAlreadySelectioned = layer.getFilterActive() || layer.hasSelectionFid(fid);\n\n            if (!hasAlreadySelectioned) {\n              if (feature && feature.geometry && !layer.getOlSelectionFeature(fid)) {\n                layer.addOlSelectionFeature({\n                  id: fid,\n                  feature: feature\n                });\n              }\n            }\n\n            if (!(force === undefined)) {\n              _context7.next = 19;\n              break;\n            }\n\n            layer[hasAlreadySelectioned ? 'excludeSelectionFid' : 'includeSelectionFid'](fid);\n            _context7.next = 27;\n            break;\n\n          case 19:\n            if (!(!hasAlreadySelectioned && force === 'add')) {\n              _context7.next = 24;\n              break;\n            }\n\n            _context7.next = 22;\n            return layer.includeSelectionFid(fid);\n\n          case 22:\n            _context7.next = 27;\n            break;\n\n          case 24:\n            if (!(hasAlreadySelectioned && force === 'remove')) {\n              _context7.next = 27;\n              break;\n            }\n\n            _context7.next = 27;\n            return layer.excludeSelectionFid(fid);\n\n          case 27:\n            if (layer.getFilterActive()) {\n              currentLayer = this.state.layers.find(function (_layer) {\n                return _layer.id === layer.getId();\n              });\n\n              layer.getSelectionFids().size > 0 && currentLayer && currentLayer.features.splice(index, 1);\n              this.mapService.clearHighlightGeometry();\n              this.state.layers.length === 1 && !this.state.layers[0].features.length && this.state.layers.splice(0);\n            }\n\n          case 28:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  return function (_x38, _x39, _x40, _x41) {\n    return _ref25.apply(this, arguments);\n  };\n}();\n\n/**\n * Initial check of selection active on layer\n * @param layer\n * @param feature\n * @param index\n * @param action\n */\nproto.checkFeatureSelection = function () {\n  var _ref26 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref26.layer,\n      feature = _ref26.feature,\n      index = _ref26.index,\n      action = _ref26.action;\n\n  if (!layer.external) {\n    var projectLayer = _catalogLayers2.default.getLayerById(layer.id);\n    if (feature) {\n      var fid = feature ? feature.attributes[_constant.G3W_FID] : null;\n      action.state.toggled[index] = projectLayer.getFilterActive() || projectLayer.hasSelectionFid(fid);\n    }\n  } else {\n    action.state.toggled[index] = feature.selection.selected;\n  }\n};\n\n/**\n *\n * @param layer\n * @param feature\n * @param action\n * @param index\n */\nproto.addToSelection = function (layer, feature, action, index) {\n  var _layer$external = layer.external,\n      external = _layer$external === undefined ? false : _layer$external;\n\n  action.state.toggled[index] = !action.state.toggled[index];\n  var _layer = !external ? _catalogLayers2.default.getLayerById(layer.id) : layer;\n  this._addRemoveSelectionFeature(_layer, feature, index);\n};\n\nproto.removeQueryResultLayerFromMap = function () {\n  this.resultsQueryLayer.getSource().clear();\n  this.mapService.getMap().removeLayer(this.resultsQueryLayer);\n};\n\n// show layerQuery result on map\nproto.addQueryResultsLayerToMap = function (_ref27) {\n  var _this21 = this;\n\n  var feature = _ref27.feature,\n      _ref27$timeout = _ref27.timeout,\n      timeout = _ref27$timeout === undefined ? 1500 : _ref27$timeout;\n\n  this.removeQueryResultLayerFromMap();\n  this.resultsQueryLayer.getSource().addFeature(feature);\n  this.mapService.getMap().addLayer(this.resultsQueryLayer);\n  try {\n    var center = ol.extent.getCenter(feature.getGeometry().getExtent());\n    this.mapService.getMap().getView().setCenter(center);\n  } catch (err) {}\n  timeout && setTimeout(function () {\n    _this21.removeQueryResultLayerFromMap();\n  }, timeout);\n};\n\n/**\n *\n  Show featureFormCoordinates\n */\nproto.showCoordinates = function (coordinates) {\n  var feature = createFeatureFromCoordinates(coordinates);\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n * Show BBox\n * @param bbox\n */\nproto.showBBOX = function (bbox) {\n  var feature = createFeatureFromBBOX(bbox);\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n * Show Geometry\n * @param geometry\n */\nproto.showGeometry = function (geometry) {\n  var feature = createFeatureFromGeometry({\n    geometry: geometry\n  });\n  this.addQueryResultsLayerToMap({ feature: feature });\n};\n\n/**\n *\n * @param layer\n * @param feature\n */\nproto.goToGeometry = function (layer, feature) {\n  var _this22 = this;\n\n  if (feature.geometry) {\n    var handlerOptions = {\n      mapServiceMethod: this.isOneLayerResult() ? 'zoomToFeatures' : 'highlightGeometry',\n      firstParam: this.isOneLayerResult() ? [feature] : feature.geometry,\n      options: this.isOneLayerResult() ? {} : {\n        layerId: layer.id,\n        duration: 1500\n      }\n    };\n    if (this._asyncFnc.goToGeometry.async) this._asyncFnc.todo = this.mapService[handlerOptions.mapServiceMethod].bind(this.mapService, handlerOptions.firstParam, handlerOptions.options);else setTimeout(function () {\n      return _this22.mapService[handlerOptions.mapServiceMethod](handlerOptions.firstParam, handlerOptions.options);\n    });\n  }\n};\n\n//save layer result\nproto.saveLayerResult = function () {\n  var _ref28 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layer = _ref28.layer,\n      _ref28$type = _ref28.type,\n      type = _ref28$type === undefined ? 'csv' : _ref28$type;\n\n  this.downloadFeatures(type, layer, layer.features);\n};\n\nproto.highlightGeometry = function (layer, feature) {\n  feature.geometry && this.mapService.highlightGeometry(feature.geometry, {\n    layerId: layer.id,\n    zoom: false,\n    duration: Infinity\n  });\n};\n\nproto.clearHighlightGeometry = function (layer) {\n  this.mapService.clearHighlightGeometry();\n  this.isOneLayerResult() && this.highlightFeaturesPermanently(layer);\n};\n\n/**\n * method to handle show Relation on result\n * @param relationId,\n * layerId : current layer fathre id\n * feature: current feature father id\n */\nproto.showRelation = function () {\n  var _ref29 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      relation = _ref29.relation,\n      layerId = _ref29.layerId,\n      feature = _ref29.feature;\n\n  var relationId = relation.name,\n      nmRelationId = relation.nmRelationId;\n\n  var chartRelationIds = [];\n  var projectRelation = this._project.getRelationById(relationId);\n  var nmRelation = this._project.getRelationById(nmRelationId);\n  this.findPlotId(projectRelation.referencingLayer) && chartRelationIds.push(projectRelation.referencingLayer);\n\n  _gui2.default.pushContent({\n    content: new RelationsPage({\n      currentview: 'relation',\n      relations: [projectRelation],\n      chartRelationIds: chartRelationIds,\n      nmRelation: nmRelation,\n      feature: feature,\n      layer: {\n        id: layerId\n      }\n    }),\n    crumb: {\n      title: projectRelation.name\n    },\n    title: projectRelation.name,\n    closable: false\n  });\n};\n\nproto.showQueryRelations = function (layer, feature, action) {\n\n  _gui2.default.changeCurrentContentOptions({\n    crumb: {\n      title: layer.title\n    }\n  });\n\n  _gui2.default.pushContent({\n    content: new RelationsPage({\n      relations: action.relations,\n      chartRelationIds: action.chartRelationIds,\n      feature: feature,\n      layer: layer\n    }),\n    backonclose: true,\n    title: _constant.LIST_OF_RELATIONS_TITLE,\n    id: _constant.LIST_OF_RELATIONS_ID,\n    crumb: {\n      title: _constant.LIST_OF_RELATIONS_TITLE,\n      trigger: null\n    },\n    closable: false\n  });\n};\n\nmodule.exports = QueryResultsService;\n\n},{\"components/QueryResultsActionDownloadFormats.vue\":278,\"components/QueryResultsActionQueryPolygonCSVAttributes.vue\":280,\"constant\":5,\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/layers/layer\":35,\"core/layers/vectorlayer\":58,\"core/print/printservice\":61,\"core/utils/geo\":65,\"core/utils/utils\":68,\"g3w-ol/interactions/pickcoordinatesinteraction\":104,\"gui/relations/vue/relationspage\":173,\"services/application\":346,\"services/data\":353,\"services/gui\":356,\"store/catalog-layers\":369,\"store/projects\":374}],170:[function(require,module,exports){\nvar _QueryResults = require('components/QueryResults.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_QueryResults);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar QueryResultsService = require('gui/queryresults/queryresultsservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction QueryResultsComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"queryresults\";\n  this.title = \"Query Results\";\n  this._service = new QueryResultsService();\n  this.setInternalComponent = function () {\n    this.internalComponent = new InternalComponent({\n      queryResultsService: this._service\n    });\n    this.internalComponent.querytitle = this._service.state.querytitle;\n  };\n\n  this.getElement = function () {\n    if (this.internalComponent) return this.internalComponent.$el;\n  };\n\n  this._service.onafter('setLayersData', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            !_this.internalComponent && _this.setInternalComponent();\n            _context.next = 3;\n            return _this.internalComponent.$nextTick();\n\n          case 3:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  })));\n\n  this.layout = function (width, height) {};\n  this.unmount = function () {\n    this.getService().closeComponent();\n    return base(this, 'unmount');\n  };\n}\n\ninherit(QueryResultsComponent, Component);\n\nmodule.exports = QueryResultsComponent;\n\n},{\"components/QueryResults.vue\":276,\"core/utils/utils\":68,\"gui/component/component\":115,\"gui/queryresults/queryresultsservice\":169}],171:[function(require,module,exports){\nvar _constant = require('app/constant');\n\nvar _relations = require('services/relations');\n\nvar _relations2 = _interopRequireDefault(_relations);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction RelationsComponentService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.state = {};\n  this._options = {};\n  base(this);\n}\n\ninherit(RelationsComponentService, G3WObject);\n\nvar proto = RelationsComponentService.prototype;\n\nproto.getRelations = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._options = options;\n  return _relations2.default.getRelations(options);\n};\n\nproto.getRelationsNM = function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n    var nmRelation = _ref.nmRelation,\n        features = _ref.features;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _relations2.default.getRelationsNM({\n              nmRelation: nmRelation,\n              features: features\n            });\n\n          case 2:\n            return _context.abrupt('return', _context.sent);\n\n          case 3:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  return function (_x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nproto.saveRelations = function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(type) {\n    var caller_download_id;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            this._options.type = type;\n            caller_download_id = _application2.default.setDownload(true);\n            _context2.prev = 2;\n            _context2.next = 5;\n            return _relations2.default.save(this._options);\n\n          case 5:\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2['catch'](2);\n\n            _gui2.default.showUserMessage({\n              type: 'alert',\n              message: _context2.t0 || \"info.server_error\",\n              closable: true\n            });\n\n          case 10:\n            _application2.default.setDownload(false, caller_download_id);\n\n          case 11:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[2, 7]]);\n  }));\n\n  return function (_x4) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nproto.buildRelationTable = function () {\n  var relations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var id = arguments[1];\n\n  var layer = _application2.default.getCurrentProject().getLayerById(id);\n  var headers = layer.getTableHeaders();\n  var columns = null;\n  var rows = [];\n  var rows_fid = [];\n  var fields = void 0;\n  if (relations.length) {\n    var attributes = Object.keys(relations[0].attributes);\n    columns = headers.filter(function (header) {\n      return attributes.indexOf(header.name) !== -1;\n    });\n    rows = relations.map(function (relation) {\n      rows_fid.push(relation.attributes[_constant.G3W_FID]);\n      return columns.map(function (column) {\n        return relation.attributes[column.name];\n      });\n    });\n    fields = columns;\n    columns = columns.map(function (column) {\n      return column.label;\n    });\n  }\n  return {\n    columns: columns,\n    rows: rows,\n    rows_fid: rows_fid,\n    features: relations,\n    fields: fields,\n    formStructure: layer.getLayerEditingFormStructure(),\n    rowFormStructure: null,\n    layerId: layer.getId()\n  };\n};\n\nmodule.exports = RelationsComponentService;\n\n},{\"app/constant\":5,\"core/g3wobject\":13,\"core/utils/utils\":68,\"services/application\":346,\"services/gui\":356,\"services/relations\":362}],172:[function(require,module,exports){\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nmodule.exports = new Vue();\n\n},{}],173:[function(require,module,exports){\nvar _RelationsPage = require('components/RelationsPage.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_RelationsPage);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/relations/relationsservice');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar RelationsPage = function RelationsPage() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  var service = options.service || new Service();\n  var layer = options.layer,\n      _options$relation = options.relation,\n      relation = _options$relation === undefined ? null : _options$relation,\n      _options$relations = options.relations,\n      relations = _options$relations === undefined ? [] : _options$relations,\n      _options$feature = options.feature,\n      feature = _options$feature === undefined ? null : _options$feature,\n      _options$table = options.table,\n      table = _options$table === undefined ? null : _options$table,\n      _options$chartRelatio = options.chartRelationIds,\n      chartRelationIds = _options$chartRelatio === undefined ? [] : _options$chartRelatio,\n      nmRelation = options.nmRelation,\n      _options$currentview = options.currentview,\n      currentview = _options$currentview === undefined ? \"relations\" : _options$currentview;\n\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    previousview: currentview,\n    service: service,\n    relations: relations,\n    relation: relation,\n    nmRelation: nmRelation,\n    chartRelationIds: chartRelationIds,\n    feature: feature,\n    currentview: currentview,\n    layer: layer,\n    table: table\n  });\n  this.setInternalComponent(internalComponent);\n  internalComponent.state = service.state;\n  this.layout = function () {\n    internalComponent.reloadLayout();\n  };\n};\n\ninherit(RelationsPage, Component);\n\nmodule.exports = RelationsPage;\n\n},{\"components/RelationsPage.vue\":286,\"core/utils/utils\":68,\"gui/component/component\":115,\"gui/relations/relationsservice\":171}],174:[function(require,module,exports){\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar SearchPanel = require('gui/search/vue/panel/searchpanel');\n\nfunction Service() {\n  base(this);\n  var currentProjectState = _projects2.default.getCurrentProject().state;\n  this.title = currentProjectState.search_title || \"search\";\n  this.init = function (searchesObject) {\n    this.state.searches = searchesObject || currentProjectState.search;\n  };\n  this.state = {\n    searches: [],\n    searchtools: [],\n    querybuildersearches: _querybuilder2.default.getCurrentProjectItems()\n  };\n}\n\ninherit(Service, G3WObject);\n\nvar proto = Service.prototype;\n\nproto.removeItem = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      type = _ref.type,\n      index = _ref.index;\n\n  switch (type) {\n    case 'querybuilder':\n      this.state.querybuildersearches.splice(index, 1);\n      break;\n  }\n};\n\nproto.getTitle = function () {\n  return this.title;\n};\n\nproto.showPanel = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var panel = new SearchPanel(config);\n  panel.show();\n  return panel;\n};\n\nproto.cleanSearchPanels = function () {\n  this.state.panels = {};\n};\n\nproto.stop = function () {\n  var d = $.Deferred();\n  d.resolve();\n  return d.promise();\n};\n\nproto.addTool = function (searchTool) {\n  this.state.searchtools.push(searchTool);\n};\n\nproto.addTools = function (searchTools) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = searchTools[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var searchTool = _step.value;\n\n      this.addTool(searchTool);\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nproto.addQueryBuilderSearch = function (querybuildersearch) {\n  this.state.querybuildersearches.push(querybuildersearch);\n};\n\nproto.removeTool = function (searchTool) {};\n\nproto.removeTools = function () {\n  this.state.searchtools.splice(0);\n};\n\nproto.reload = function () {\n  this.state.searches = _projects2.default.getCurrentProject().state.search;\n  this.state.querybuildersearches = _querybuilder2.default.getCurrentProjectItems();\n};\n\nmodule.exports = Service;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"gui/search/vue/panel/searchpanel\":175,\"services/querybuilder\":361,\"store/projects\":374}],175:[function(require,module,exports){\nvar _SearchPanel = require('components/SearchPanel.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_SearchPanel);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar Panel = require('gui/panel');\nvar Service = require('gui/search/vue/panel/searchservice');\n\nvar SearchPanelComponent = Vue.extend(vueComponentOptions);\n\nfunction SearchPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var service = options.service || new Service(options);\n  this.setService(service);\n  this.id = uniqueId();\n  this.title = 'search';\n  var SearchPanel = options.component || SearchPanelComponent;\n  var internalPanel = new SearchPanel({\n    service: service\n  });\n  this.setInternalPanel(internalPanel);\n  this.unmount = function () {\n    return base(this, 'unmount').then(function () {\n      service.clear();\n    });\n  };\n}\n\ninherit(SearchPanel, Panel);\n\nmodule.exports = SearchPanel;\n\n},{\"components/SearchPanel.vue\":289,\"core/utils/utils\":68,\"gui/panel\":160,\"gui/search/vue/panel/searchservice\":176}],176:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data2 = require('services/data');\n\nvar _data3 = _interopRequireDefault(_data2);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType,\n    getUniqueDomId = _require.getUniqueDomId,\n    createFilterFormInputs = _require.createFilterFormInputs,\n    createSingleFieldParameter = _require.createSingleFieldParameter,\n    isEmptyObject = _require.isEmptyObject;\n\nvar G3WObject = require('core/g3wobject');\n\nvar NONVALIDVALUES = [null, undefined, _constant.SEARCH_ALLVALUE];\n\nfunction SearchService() {\n  var _this = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.debounces = {\n    run: {\n      fnc: function fnc() {\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        if (_gui2.default.isMobile()) {\n          var _mapService$getMap$ge = _this.mapService.getMap().getSize(),\n              _mapService$getMap$ge2 = _slicedToArray(_mapService$getMap$ge, 2),\n              width = _mapService$getMap$ge2[0],\n              heigth = _mapService$getMap$ge2[1];\n\n          if (width === 0 || heigth === 0) {\n            _gui2.default.hideSidebar();\n            setTimeout(function () {\n              _this._run.apply(_this, args);\n            }, 600);\n          } else _this._run.apply(_this, args);\n        } else _this._run.apply(_this, args);\n      }\n    }\n  };\n  base(this);\n  // reactivity data\n  this.state = {\n    title: null,\n    forminputs: [],\n    loading: {},\n    searching: false\n  };\n  this.config = config;\n  var _config = this.config,\n      type = _config.type,\n      _config$options = _config.options,\n      options = _config$options === undefined ? {} : _config$options;\n\n  var layerid = options.querylayerid || options.layerid || null;\n  var otherquerylayerids = options.otherquerylayerids || [];\n  var filter = options.filter || [];\n  this.inputdependance = {};\n  this.inputdependencies = {};\n  this.cachedependencies = {};\n  this.project = _projects2.default.getCurrentProject();\n  this.mapService = _gui2.default.getService('map');\n  this.searchLayer = null;\n  this.filter = null;\n  this.inputs = [];\n  this.state.title = config.name;\n  this.search_endpoint = config.search_endpoint;\n  this.url = options.queryurl;\n  this.filter = options.filter;\n  /*\n   type:\n     search: search default ,\n     search_1n in case of 1:N\n  */\n  this.type = type || 'search';\n  this.return = options.return || 'data';\n  this.show = this.return === 'data' && this.type === 'search';\n  this.searchLayer = _catalogLayers2.default.getLayerById(layerid);\n  // store layers that will be searchable for that form search. First one is layer owner of the search setted on admin\n  this.searchLayers = [layerid].concat(_toConsumableArray(otherquerylayerids)).map(function (layerid) {\n    return _catalogLayers2.default.getLayerById(layerid);\n  });\n  // stat to create the form search structure\n  this.createInputsFormFromFilter({ filter: filter });\n}\n\ninherit(SearchService, G3WObject);\n\nvar proto = SearchService.prototype;\n\n/**\n * Start Method to create right search structure for search form\n * @param filter\n * @returns {Promise<void>}\n */\nproto.createInputsFormFromFilter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _this2 = this;\n\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref2$filter = _ref2.filter,\n      filter = _ref2$filter === undefined ? [] : _ref2$filter;\n\n  var filterLenght, _loop, index;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          filterLenght = filter.length - 1;\n\n          _loop = function _loop(index) {\n            var input = filter[index];\n            var forminput = {\n              label: input.label,\n              attribute: input.attribute,\n              type: input.input.type || 'textfield',\n              options: _extends({}, input.input.options),\n              value: null,\n              operator: input.op,\n              logicop: index === filterLenght ? null : input.logicop,\n              id: input.id || getUniqueDomId(),\n              loading: false,\n              widget: null\n            };\n            //check if has a dependance\n            var _forminput$options = forminput.options,\n                dependance = _forminput$options.dependance,\n                dependance_strict = _forminput$options.dependance_strict;\n\n            if (forminput.type === 'selectfield' || forminput.type === 'autocompletefield') {\n              // to be sure set values options to empty array if undefined\n              forminput.loading = forminput.type !== 'autocompletefield';\n              var promise = new Promise(function (resolve, reject) {\n                if (forminput.options.values === undefined) forminput.options.values = [];else if (dependance) {\n                  // in case of dependence load right now\n                  if (!dependance_strict) _this2.getValuesFromField(forminput).then(function (values) {\n                    // return array of values\n                    values = _this2.valuesToKeysValues(values); // set values for select\n                    forminput.options.values = values;\n                  }).catch(function () {\n                    return forminput.options.values = [];\n                  }) // in case of error\n                  .finally(function () {\n                    forminput.loading = false;\n                    resolve();\n                  });else {\n                    forminput.loading = false;\n                    resolve();\n                  }\n                } else {\n                  // no dependance\n                  _this2.getValuesFromField(forminput).then(function (values) {\n                    // return array of values\n                    values = _this2.valuesToKeysValues(values); // set values for select\n                    forminput.options.values = values;\n                  }).catch(function () {\n                    return forminput.options.values = [];\n                  }) // in case of error\n                  .finally(function () {\n                    forminput.loading = false;\n                    resolve();\n                  });\n                }\n              });\n              if (dependance) {\n                //set dependance of input\n                _this2.inputdependance[forminput.attribute] = dependance;\n                _this2.state.loading[dependance] = false;\n                // set disabled false for back compatibility\n                forminput.options.disabled = dependance_strict;\n                /**\n                 * Set dependance between input\n                 */\n                _this2.setInputDependencies({\n                  master: dependance,\n                  slave: forminput\n                });\n                /**\n                 * Set widget type for fill dependency\n                 */\n                if (forminput.options.values.length) {\n                  forminput.widget = 'valuemap';\n                  forminput.options._values = [].concat(_toConsumableArray(forminput.options.values));\n                } else if (forminput.options.layer_id) {\n                  forminput.widget = 'valuerelation';\n                }\n              }\n              promise.then(function () {\n                if (forminput.type !== 'autocompletefield') {\n                  if (forminput.options.values.length) forminput.options.values[0].value !== _constant.SEARCH_ALLVALUE && forminput.options.values.unshift({ value: _constant.SEARCH_ALLVALUE });else forminput.options.values.push({ value: _constant.SEARCH_ALLVALUE });\n                  forminput.value = _constant.SEARCH_ALLVALUE;\n                }\n              });\n            }\n            // ad form inputs to list of search input\n            _this2.state.forminputs.push(forminput);\n          };\n\n          for (index = 0; index <= filterLenght; index++) {\n            _loop(index);\n          }\n\n        case 3:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\n/**\n * Get return type\n */\n\nproto.getReturnType = function () {\n  return this.return;\n};\n\n/**\n * Set return type\n */\n\nproto.setReturnType = function () {\n  var returnType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'data';\n\n  this.return = returnType;\n  //set show only in case return === 'data'\n  this.show = this.return === 'data';\n};\n\nproto.getAutoFieldDependeciesParamField = function (field) {\n  var fieldDependency = this.getCurrentFieldDependance(field);\n  if (fieldDependency) {\n    var _Object$entries$ = _slicedToArray(Object.entries(fieldDependency)[0], 2),\n        _field = _Object$entries$[0],\n        value = _Object$entries$[1];\n\n    return this.createFieldsDependenciesAutocompleteParameter({ field: _field, value: value });\n  }\n};\n\nproto.createFieldsDependenciesAutocompleteParameter = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$fields = _ref3.fields,\n      fields = _ref3$fields === undefined ? [] : _ref3$fields,\n      field = _ref3.field,\n      value = _ref3.value;\n\n  var dependendency = this.getCurrentFieldDependance(field);\n  if (value !== undefined) {\n    var fieldParam = createSingleFieldParameter({\n      field: field,\n      value: value,\n      operator: this.getFilterInputFromField(field).op\n    });\n    fields.push(fieldParam);\n  }\n  if (dependendency) {\n    var _Object$entries$2 = _slicedToArray(Object.entries(dependendency)[0], 2),\n        _field2 = _Object$entries$2[0],\n        _value = _Object$entries$2[1];\n    // In case of some input dependeny are not filled\n\n\n    if (typeof _value !== \"undefined\") {\n      // need to set to lower case for api purpose\n      var _getFilterInputFromFi = this.getFilterInputFromField(_field2),\n          op = _getFilterInputFromFi.op,\n          logicop = _getFilterInputFromFi.logicop;\n\n      if (fields.length) fields.unshift(_field2 + '|' + op.toLowerCase() + '|' + encodeURI(_value) + '|' + logicop.toLowerCase());else fields.unshift(_field2 + '|' + op.toLowerCase() + '|' + encodeURI(_value));\n    }\n    return this.createFieldsDependenciesAutocompleteParameter({\n      fields: fields,\n      field: _field2\n    });\n  }\n  return fields.length && fields.join() || undefined;\n};\n\n/**\n * Request to server value for a specific select select field\n * @param field (form input)\n * @returns {Promise<*[]>}\n */\nproto.getValuesFromField = function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(field) {\n    var uniqueValues, layer, filter;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!field.options.layer_id) {\n              _context2.next = 9;\n              break;\n            }\n\n            _context2.next = 3;\n            return this.getUniqueValuesFromField({\n              field: field,\n              unique: field.attribute\n            });\n\n          case 3:\n            uniqueValues = _context2.sent;\n            layer = _catalogLayers2.default.getLayerById(field.options.layer_id);\n            filter = createFilterFormInputs({\n              layer: layer,\n              search_endpoint: this.getSearchEndPoint(),\n              inputs: uniqueValues.map(function (value) {\n                return {\n                  attribute: field.options.value,\n                  logicop: \"OR\",\n                  operator: \"eq\",\n                  value: value\n                };\n              })\n            });\n            return _context2.abrupt('return', this.getValueRelationValues(field, filter));\n\n          case 9:\n            if (!field.options.values.length) {\n              _context2.next = 13;\n              break;\n            }\n\n            return _context2.abrupt('return', this.getValueMapValues(field));\n\n          case 13:\n            return _context2.abrupt('return', this.getUniqueValuesFromField({\n              field: field,\n              unique: field.attribute\n            }));\n\n          case 14:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  return function (_x5) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nproto.getValueRelationValues = function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(field, filter) {\n    var _field$options, layer_id, key, value, layer, _ref6, _ref6$data, data, features, values;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _field$options = field.options, layer_id = _field$options.layer_id, key = _field$options.key, value = _field$options.value;\n            layer = _catalogLayers2.default.getLayerById(layer_id);\n            _context3.prev = 2;\n            _context3.next = 5;\n            return _data3.default.getData('search:features', {\n              inputs: {\n                layer: layer,\n                search_endpoint: this.getSearchEndPoint(),\n                filter: filter,\n                ordering: key\n              },\n              outputs: false\n            });\n\n          case 5:\n            _ref6 = _context3.sent;\n            _ref6$data = _ref6.data;\n            data = _ref6$data === undefined ? [] : _ref6$data;\n            features = data && data[0] && data[0].features || [];\n            values = [];\n\n            features.forEach(function (feature) {\n              values.push({\n                key: feature.get(key),\n                value: feature.get(value)\n              });\n            });\n            return _context3.abrupt('return', values);\n\n          case 14:\n            _context3.prev = 14;\n            _context3.t0 = _context3['catch'](2);\n            return _context3.abrupt('return', []);\n\n          case 17:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[2, 14]]);\n  }));\n\n  return function (_x6, _x7) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\n/**\n * Return values map\n * @param field\n * @returns {Promise<*>}\n */\nproto.getValueMapValues = function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(field) {\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt('return', field.options.values.filter(function (value) {\n              return value !== _constant.SEARCH_ALLVALUE;\n            }));\n\n          case 1:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  return function (_x8) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\n/**\n * Method to get unique values from field\n * @param field\n * @param value\n * @param unique\n * @returns {Promise<[]>}\n */\nproto.getUniqueValuesFromField = function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(_ref8) {\n    var field = _ref8.field,\n        value = _ref8.value,\n        unique = _ref8.unique;\n    var data;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            data = [];\n            _context5.prev = 1;\n            _context5.next = 4;\n            return this.searchLayer.getFilterData({\n              suggest: value !== undefined ? field + '|' + value : undefined,\n              unique: unique,\n              ordering: field.attribute\n            });\n\n          case 4:\n            data = _context5.sent;\n            _context5.next = 9;\n            break;\n\n          case 7:\n            _context5.prev = 7;\n            _context5.t0 = _context5['catch'](1);\n\n          case 9:\n            return _context5.abrupt('return', data);\n\n          case 10:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[1, 7]]);\n  }));\n\n  return function (_x9) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\nproto.autocompleteRequest = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n  var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref11.field,\n      value = _ref11.value;\n\n  var data;\n  return regeneratorRuntime.wrap(function _callee6$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          data = [];\n          _context6.prev = 1;\n          _context6.next = 4;\n          return this.searchLayer.getFilterData({\n            field: this.getAutoFieldDependeciesParamField(field),\n            suggest: field + '|' + value,\n            unique: field\n          });\n\n        case 4:\n          data = _context6.sent;\n          _context6.next = 10;\n          break;\n\n        case 7:\n          _context6.prev = 7;\n          _context6.t0 = _context6['catch'](1);\n\n          console.log(_context6.t0);\n\n        case 10:\n          return _context6.abrupt('return', data.map(function (value) {\n            return {\n              id: value,\n              text: value\n            };\n          }));\n\n        case 11:\n        case 'end':\n          return _context6.stop();\n      }\n    }\n  }, _callee6, this, [[1, 7]]);\n}));\n\n/**\n * Method to run search\n * @param filter\n * @param search_endpoint\n * @param queryUrl\n * @param feature_count\n * @param show\n * @returns {Promise<void|unknown>}\n */\nproto.doSearch = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n  var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      filter = _ref13.filter,\n      _ref13$search_endpoin = _ref13.search_endpoint,\n      search_endpoint = _ref13$search_endpoin === undefined ? this.getSearchEndPoint() : _ref13$search_endpoin,\n      _ref13$queryUrl = _ref13.queryUrl,\n      queryUrl = _ref13$queryUrl === undefined ? this.url : _ref13$queryUrl,\n      _ref13$feature_count = _ref13.feature_count,\n      feature_count = _ref13$feature_count === undefined ? 10000 : _ref13$feature_count,\n      _ref13$show = _ref13.show,\n      show = _ref13$show === undefined ? this.show : _ref13$show;\n\n  var data, relationId, _ref14, _ref14$features, features, relation, inputs, referencedLayer, _relation$fieldRef, referencedField, referencingField, uniqueValues, layer, _filter, dataPromise, SearchPanel, add_panel;\n\n  return regeneratorRuntime.wrap(function _callee7$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          filter = filter || this.createFilter();\n          // call a generic method of layer\n          data = void 0;\n\n          this.state.searching = true;\n          _context7.prev = 3;\n          _context7.next = 6;\n          return _data3.default.getData('search:features', {\n            inputs: {\n              layer: this.searchLayers,\n              search_endpoint: search_endpoint,\n              filter: filter,\n              queryUrl: queryUrl,\n              formatter: 1, // set formatter to 1\n              feature_count: feature_count,\n              raw: this.return === 'search' // parameter to get raw response\n            },\n            outputs: show && {\n              title: this.state.title\n            }\n          });\n\n        case 6:\n          data = _context7.sent;\n\n          if (!show) {\n            _context7.next = 11;\n            break;\n          }\n\n          // in case of autozoom_query\n          if (this.project.state.autozoom_query && data && data.data.length === 1) {\n            this.mapService.zoomToFeatures(data.data[0].features);\n          }\n          _context7.next = 38;\n          break;\n\n        case 11:\n          if (!(this.type === 'search_1n')) {\n            _context7.next = 31;\n            break;\n          }\n\n          relationId = this.config.options.search_1n_relationid;\n          _ref14 = data.data[0] || {}, _ref14$features = _ref14.features, features = _ref14$features === undefined ? [] : _ref14$features;\n          // check if has features on result\n\n          if (!features.length) {\n            _context7.next = 28;\n            break;\n          }\n\n          relation = this.project.getRelationById(relationId);\n          inputs = [];\n\n          if (!relation) {\n            _context7.next = 26;\n            break;\n          }\n\n          referencedLayer = relation.referencedLayer, _relation$fieldRef = relation.fieldRef, referencedField = _relation$fieldRef.referencedField, referencingField = _relation$fieldRef.referencingField;\n          uniqueValues = new Set();\n\n          features.forEach(function (feature) {\n            var value = feature.getProperties()[referencingField];\n            if (!uniqueValues.has(value)) {\n              uniqueValues.add(value);\n              inputs.push({\n                attribute: referencedField,\n                logicop: \"OR\",\n                operator: \"eq\",\n                value: value\n              });\n            }\n          });\n          layer = this.project.getLayerById(referencedLayer);\n          _filter = createFilterFormInputs({\n            layer: layer,\n            search_endpoint: search_endpoint,\n            inputs: inputs\n          });\n          _context7.next = 25;\n          return _data3.default.getData('search:features', {\n            inputs: {\n              layer: layer,\n              search_endpoint: search_endpoint,\n              filter: _filter,\n              formatter: 1, // set formatter to 1\n              feature_count: feature_count\n            },\n            outputs: {\n              title: this.state.title\n            }\n          });\n\n        case 25:\n          data = _context7.sent;\n\n        case 26:\n          _context7.next = 29;\n          break;\n\n        case 28:\n          _data3.default.showEmptyOutputs();\n\n        case 29:\n          _context7.next = 38;\n          break;\n\n        case 31:\n          _context7.t0 = this.return;\n          _context7.next = _context7.t0 === 'search' ? 34 : 38;\n          break;\n\n        case 34:\n          _gui2.default.closeContent();\n          // in case of api get first response on array\n          data = data.data[0].data;\n          if (isEmptyObject(data)) {\n            dataPromise = Promise.resolve({});\n\n            _data3.default.showCustomOutputDataPromise(dataPromise);\n          } else {\n            SearchPanel = require('gui/search/vue/panel/searchpanel');\n            add_panel = new SearchPanel(data);\n\n            add_panel.show();\n          }\n          return _context7.abrupt('break', 38);\n\n        case 38:\n          _context7.next = 42;\n          break;\n\n        case 40:\n          _context7.prev = 40;\n          _context7.t1 = _context7['catch'](3);\n\n        case 42:\n          this.state.searching = false;\n          return _context7.abrupt('return', data);\n\n        case 44:\n        case 'end':\n          return _context7.stop();\n      }\n    }\n  }, _callee7, this, [[3, 40]]);\n}));\n\nproto.filterValidFormInputs = function () {\n  return this.state.forminputs.filter(function (input) {\n    return NONVALIDVALUES.indexOf(input.value) === -1 && input.value.toString().trim() !== '';\n  });\n};\n\n/**\n *\n * @returns {string|*|string}\n */\nproto.getSearchEndPoint = function () {\n  return this.search_endpoint || this.searchLayer.getSearchEndPoint();\n};\n\n/*\n* type wms, vector (for vector api)\n* */\nproto.createFilter = function () {\n  var search_endpoint = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSearchEndPoint();\n\n  var inputs = this.filterValidFormInputs();\n  return createFilterFormInputs({\n    layer: this.searchLayers,\n    inputs: inputs,\n    search_endpoint: search_endpoint\n  });\n};\n\nproto._run = function () {\n  this.doSearch();\n};\n\n/**\n * Method called when input search change\n * @param id\n * @param value\n */\nproto.changeInput = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref15.id,\n      value = _ref15.value;\n\n  var input = this.state.forminputs.find(function (input) {\n    return id == input.id;\n  });\n  input.value = value;\n};\n\nproto.createQueryFilterFromConfig = function (_ref16) {\n  var filter = _ref16.filter;\n\n  var queryFilter = void 0;\n  function createOperatorObject(inputObj) {\n    for (var _operator in inputObj) {\n      var input = inputObj[_operator];\n      if (Array.isArray(input)) {\n        createBooleanObject(_operator, input);\n        break;\n      }\n    }\n    var field = inputObj.attribute;\n    var operator = inputObj.op;\n    var evalObject = {};\n    evalObject[operator] = {};\n    evalObject[operator][field] = null;\n    return evalObject;\n  }\n\n  function createBooleanObject(booleanOperator) {\n    var inputs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    var booleanObject = {};\n    booleanObject[booleanOperator] = [];\n    inputs.forEach(function (input) {\n      booleanObject[booleanOperator].push(createOperatorObject(input));\n    });\n    return booleanObject;\n  }\n\n  for (var operator in filter) {\n    var inputs = filter[operator];\n    queryFilter = createBooleanObject(operator, inputs);\n  }\n  return queryFilter;\n};\n\nproto.getFilterInputFromField = function (field) {\n  return this.filter.find(function (input) {\n    return input.attribute === field;\n  });\n};\n\nproto._getExpressionOperatorFromInput = function (field) {\n  var dependanceCascadeField = this.getFilterInputFromField(field);\n  return dependanceCascadeField ? dependanceCascadeField.op : null;\n};\n\nproto._getCascadeDependanciesFilter = function (field) {\n  var dependencies = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  var dependanceCascadeField = this.getFilterInputFromField(field);\n  var dependance = dependanceCascadeField.input.options.dependance;\n  if (dependance) {\n    dependencies.unshift(dependance);\n    this._getCascadeDependanciesFilter(dependance, dependencies);\n  }\n  return dependencies;\n};\n\n/**\n * Check if a field has a dependance\n * @param field\n * @returns {{}}\n */\nproto.getCurrentFieldDependance = function (field) {\n  var dependance = this.inputdependance[field];\n  // found a dependance\n  if (dependance) {\n    // check if as value\n    if (this.cachedependencies[dependance] && this.cachedependencies[dependance]._currentValue !== _constant.SEARCH_ALLVALUE) return _defineProperty({}, dependance, this.cachedependencies[dependance]._currentValue);\n    // otherwise se value of dependance undefined so it no add on list o field dependance\n    else return _defineProperty({}, dependance, undefined);\n  }\n  return dependance;\n};\n\n// check the current value of dependance\nproto.getDependanceCurrentValue = function (field) {\n  var dependance = this.inputdependance[field];\n  return dependance ? this.cachedependencies[dependance]._currentValue : this.state.forminputs.find(function (forminput) {\n    return forminput.attribute === field;\n  }).value;\n};\n\n// fill all dependencies inputs based on value\nproto.fillDependencyInputs = function () {\n  var _this3 = this;\n\n  var _ref19 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      field = _ref19.field,\n      _ref19$subscribers = _ref19.subscribers,\n      subscribers = _ref19$subscribers === undefined ? [] : _ref19$subscribers,\n      _ref19$value = _ref19.value,\n      value = _ref19$value === undefined ? _constant.SEARCH_ALLVALUE : _ref19$value;\n\n  var isRoot = this.inputdependance[field] === undefined;\n  //check id inpute father is valid to search on subscribers\n  var invalidValue = value === _constant.SEARCH_ALLVALUE || value === null || value === undefined || value.toString().trim() === '';\n  return new Promise(function (resolve, reject) {\n    //loop over dependencies fields inputs\n    subscribers.forEach(function (subscribe) {\n      // in case of autocomplete reset values to empty array\n      if (subscribe.type === 'autocompletefield') subscribe.options.values.splice(0);else {\n        //set starting all values\n        if (subscribe.options._allvalues === undefined) subscribe.options._allvalues = [].concat(_toConsumableArray(subscribe.options.values));\n        //case of father is set an empty invalid value (all value example)\n        if (invalidValue) {\n          //subscribe has to set all valaues\n          subscribe.options.values.splice(0);\n          setTimeout(function () {\n            return subscribe.options.values = [].concat(_toConsumableArray(subscribe.options._allvalues));\n          });\n        } else subscribe.options.values.splice(1); //otherwise has to get first __ALL_VALUE\n      }\n      subscribe.value = subscribe.type !== 'selectfield' ? _constant.SEARCH_ALLVALUE : null;\n    });\n    // check i cache field values are set\n    _this3.cachedependencies[field] = _this3.cachedependencies[field] || {};\n    _this3.cachedependencies[field]._currentValue = value;\n    var notAutocompleteSubscribers = subscribers.filter(function (subscribe) {\n      return subscribe.type !== 'autocompletefield';\n    });\n    if (value && value !== _constant.SEARCH_ALLVALUE) {\n      var isCached = void 0;\n      var rootValues = void 0;\n      if (isRoot) {\n        var cachedValue = _this3.cachedependencies[field] && _this3.cachedependencies[field][value];\n        isCached = cachedValue !== undefined;\n        rootValues = isCached && cachedValue;\n      } else {\n        var dependenceCurrentValue = _this3.getDependanceCurrentValue(field);\n        var _cachedValue = _this3.cachedependencies[field] && _this3.cachedependencies[field][dependenceCurrentValue] && _this3.cachedependencies[field][dependenceCurrentValue][value];\n        isCached = _cachedValue !== undefined;\n        rootValues = isCached && _cachedValue;\n      }\n      if (isCached) {\n        for (var i = 0; i < subscribers.length; i++) {\n          var subscribe = subscribers[i];\n          var values = rootValues[subscribe.attribute];\n          if (values && values.length) {\n            for (var _i = 0; _i < values.length; _i++) {\n              subscribe.options.values.push(values[_i]);\n            }\n          }\n          // set disabled false to dependence field\n          subscribe.options.disabled = false;\n          resolve();\n        }\n      } else {\n        _this3.state.loading[field] = true;\n        if (isRoot) _this3.cachedependencies[field][value] = _this3.cachedependencies[field][value] || {};else {\n          var dependenceValue = _this3.getDependanceCurrentValue(field);\n          _this3.cachedependencies[field][dependenceValue] = _this3.cachedependencies[field][dependenceValue] || {};\n          _this3.cachedependencies[field][dependenceValue][value] = _this3.cachedependencies[field][dependenceValue][value] || {};\n        }\n        // exclude autocomplete subscribers\n        if (notAutocompleteSubscribers.length) {\n          var fieldParams = _this3.createFieldsDependenciesAutocompleteParameter({\n            field: field,\n            value: value\n          });\n          //need to set undefined because if we has a subscribe input with valuerelations widget i need to extract the value of the field to get\n          // filter data from relation layer\n          _this3.searchLayer.getFilterData({\n            field: fieldParams\n          }).then(function () {\n            var _ref20 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(data) {\n              var parentData, _loop2, _i2;\n\n              return regeneratorRuntime.wrap(function _callee8$(_context9) {\n                while (1) {\n                  switch (_context9.prev = _context9.next) {\n                    case 0:\n                      parentData = data.data[0].features || [];\n                      _loop2 = /*#__PURE__*/regeneratorRuntime.mark(function _loop2(_i2) {\n                        var subscribe, attribute, widget, uniqueValues, _values, _data, filter, _values2, _dependenceValue;\n\n                        return regeneratorRuntime.wrap(function _loop2$(_context8) {\n                          while (1) {\n                            switch (_context8.prev = _context8.next) {\n                              case 0:\n                                subscribe = notAutocompleteSubscribers[_i2];\n                                attribute = subscribe.attribute, widget = subscribe.widget;\n                                uniqueValues = new Set();\n                                // case value map\n\n                                if (!(widget === 'valuemap')) {\n                                  _context8.next = 11;\n                                  break;\n                                }\n\n                                _values = [].concat(_toConsumableArray(subscribe.options._values));\n\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n                                _data = [].concat(_toConsumableArray(uniqueValues));\n\n                                _values = _values.filter(function (_ref21) {\n                                  var key = _ref21.key;\n                                  return _data.indexOf(key) !== -1;\n                                });\n                                _values.forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n                                _context8.next = 29;\n                                break;\n\n                              case 11:\n                                if (!(widget === 'valuerelation')) {\n                                  _context8.next = 27;\n                                  break;\n                                }\n\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n\n                                if (!(uniqueValues.size > 0)) {\n                                  _context8.next = 25;\n                                  break;\n                                }\n\n                                filter = createSingleFieldParameter({\n                                  field: subscribe.options.key,\n                                  value: [].concat(_toConsumableArray(uniqueValues))\n                                });\n                                _context8.prev = 15;\n                                _context8.next = 18;\n                                return _this3.getValueRelationValues(subscribe, filter);\n\n                              case 18:\n                                _values2 = _context8.sent;\n\n                                _values2.forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n                                _context8.next = 25;\n                                break;\n\n                              case 22:\n                                _context8.prev = 22;\n                                _context8.t0 = _context8['catch'](15);\n                                console.log(_context8.t0);\n\n                              case 25:\n                                _context8.next = 29;\n                                break;\n\n                              case 27:\n                                parentData.forEach(function (feature) {\n                                  var value = feature.get(attribute);\n                                  value && uniqueValues.add(value);\n                                });\n                                _this3.valuesToKeysValues([].concat(_toConsumableArray(uniqueValues)).sort()).forEach(function (value) {\n                                  return subscribe.options.values.push(value);\n                                });\n\n                              case 29:\n                                if (isRoot) _this3.cachedependencies[field][value][subscribe.attribute] = subscribe.options.values.slice(1);else {\n                                  _dependenceValue = _this3.getDependanceCurrentValue(field);\n\n                                  _this3.cachedependencies[field][_dependenceValue][value][subscribe.attribute] = subscribe.options.values.slice(1);\n                                }\n                                subscribe.options.disabled = false;\n\n                              case 31:\n                              case 'end':\n                                return _context8.stop();\n                            }\n                          }\n                        }, _loop2, _this3, [[15, 22]]);\n                      });\n                      _i2 = 0;\n\n                    case 3:\n                      if (!(_i2 < notAutocompleteSubscribers.length)) {\n                        _context9.next = 8;\n                        break;\n                      }\n\n                      return _context9.delegateYield(_loop2(_i2), 't0', 5);\n\n                    case 5:\n                      _i2++;\n                      _context9.next = 3;\n                      break;\n\n                    case 8:\n                    case 'end':\n                      return _context9.stop();\n                  }\n                }\n              }, _callee8, _this3);\n            }));\n\n            return function (_x17) {\n              return _ref20.apply(this, arguments);\n            };\n          }()).catch(function (error) {\n            return reject(error);\n          }).finally(function () {\n            _this3.state.loading[field] = false;\n            resolve();\n          });\n        } else {\n          //set disable\n          subscribers.forEach(function (subscribe) {\n            if (subscribe.options.dependance_strict) subscribe.options.disabled = false;\n          });\n          _this3.state.loading[field] = false;\n          resolve();\n        }\n      }\n    } else {\n      subscribers.forEach(function (subscribe) {\n        return subscribe.options.disabled = subscribe.options.dependance_strict;\n      });\n      resolve();\n    }\n  });\n};\n\nproto.getDependencies = function (field) {\n  return this.inputdependencies[field] || [];\n};\n\nproto.setInputDependencies = function () {\n  var _ref22 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      master = _ref22.master,\n      slave = _ref22.slave;\n\n  this.inputdependencies[master] = this.inputdependencies[master] !== undefined ? this.inputdependencies[master] : [];\n  this.inputdependencies[master].push(slave);\n};\n\n//set key value for select\nproto.valuesToKeysValues = function (values) {\n  if (values.length) {\n    var type = toRawType(values[0]);\n    values = type !== 'Object' ? values.map(function (value) {\n      return {\n        key: value,\n        value: value\n      };\n    }) : values;\n  }\n  return values;\n};\n\nproto.createQueryFilterObject = function () {\n  var _ref23 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref23$ogcService = _ref23.ogcService,\n      ogcService = _ref23$ogcService === undefined ? 'wms' : _ref23$ogcService,\n      _ref23$filter = _ref23.filter,\n      filter = _ref23$filter === undefined ? {} : _ref23$filter;\n\n  var info = this.getInfoFromLayer(ogcService);\n  Object.assign(info, {\n    ogcService: ogcService,\n    filter: filter\n  });\n  return info;\n};\n\nproto.getInfoFromLayer = function (ogcService) {\n  var queryUrl = ogcService === 'wfs' ? this.searchLayer.getProject().getWmsUrl() : this.searchLayer.getQueryUrl();\n  return {\n    url: queryUrl,\n    layers: [],\n    infoFormat: this.searchLayer.getInfoFormat(ogcService),\n    crs: this.searchLayer.getCrs(),\n    serverType: this.searchLayer.getServerType()\n  };\n};\n\nproto.setSearchLayer = function (layer) {\n  this.searchLayer = layer;\n};\n\nproto.getSearchLayer = function () {\n  return this.searchLayer;\n};\n\nproto.clear = function () {\n  this.state = null;\n};\n\nmodule.exports = SearchService;\n\n},{\"app/constant\":5,\"core/g3wobject\":13,\"core/utils/utils\":68,\"gui/search/vue/panel/searchpanel\":175,\"services/data\":353,\"services/gui\":356,\"store/catalog-layers\":369,\"store/projects\":374}],177:[function(require,module,exports){\nvar _Search = require('components/Search.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Search);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\nvar Service = require('gui/search/service');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction SearchComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.id = \"search\";\n  this._service = options.service || new Service();\n  this._service.init();\n  this.title = this._service.getTitle();\n  this.internalComponent = new InternalComponent({\n    service: this._service\n  });\n  this.internalComponent.state = this._service.state;\n  this.state.visible = true;\n  this._reload = function () {\n    this._service.reload();\n  };\n  this.unmount = function () {\n    this._searches_searchtools.$destroy();\n    return base(this, 'unmount');\n  };\n}\n\ninherit(SearchComponent, Component);\n\nmodule.exports = SearchComponent;\n\n},{\"components/Search.vue\":287,\"core/utils/utils\":68,\"gui/component/component\":115,\"gui/search/service\":174}],178:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * NB: node.js modules are singletons by default.\n * \n * @see https://medium.com/@lazlojuly/are-node-js-modules-singletons-764ae97519af\n */\nexports.default = new Vue();\n\n},{}],179:[function(require,module,exports){\nvar _SpatialBookMarks = require('components/SpatialBookMarks.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_SpatialBookMarks);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * @file\n * @since v3.8\n */\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar SpatialBookMarksComponent = function SpatialBookMarksComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.title = \"sdk.spatialbookmarks.title\";\n  this.setInternalComponent = function () {\n    this.internalComponent = new InternalComponent();\n    return this.internalComponent;\n  };\n\n  _gui2.default.on('closecontent', function () {\n    _this.state.open = false;\n  });\n};\n\ninherit(SpatialBookMarksComponent, Component);\n\nmodule.exports = SpatialBookMarksComponent;\n\n},{\"components/SpatialBookMarks.vue\":297,\"core/utils/utils\":68,\"gui/component/component\":115,\"services/gui\":356}],180:[function(require,module,exports){\nvar _StreetView = require('components/StreetView.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_StreetView);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nvar StreetViewComponent = function StreetViewComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  var keyError = options.keyError;\n\n  var internalComponent = new InternalComponent({\n    keyError: keyError\n  });\n  this.setInternalComponent(internalComponent);\n  this.unmount = function () {\n    return base(this, 'unmount');\n  };\n};\n\ninherit(StreetViewComponent, Component);\n\nmodule.exports = StreetViewComponent;\n\n},{\"components/StreetView.vue\":298,\"core/utils/utils\":68,\"gui/component/component\":115}],181:[function(require,module,exports){\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    noop = _require.noop;\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar _require3 = require('core/utils/geo'),\n    coordinatesToGeometry = _require3.coordinatesToGeometry;\n\nvar _require4 = require('core/layers/layer'),\n    SELECTION_STATE = _require4.SELECTION_STATE;\n\nvar PAGELENGTHS = [10, 25, 50];\n\nvar TableService = function TableService() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.currentPage = 0; // number of pages\n  this.layer = options.layer;\n  this.formatter = options.formatter;\n  var headers = this.getHeaders();\n  this.allfeaturesnumber;\n  this.nopaginationsfilter = [];\n  this.selectedfeaturesfid = this.layer.getSelectionFids();\n  this.geolayer = this.layer.isGeoLayer();\n  this.relationsGeometry = [];\n  !this.geolayer && this.layer.getRelations().getArray().forEach(function (relation) {\n    var relationLayer = _catalogLayers2.default.getLayerById(relation.getChild());\n    if (relationLayer.isGeoLayer()) {\n      _this.relationsGeometry.push({\n        layer: relationLayer,\n        child_field: relation.getChildField(),\n        field: relation.getFatherField(),\n        features: {}\n      });\n    }\n  });\n  this.projection = this.geolayer ? this.layer.getProjection() : null;\n  this.mapService = _gui2.default.getService('map');\n  this.getAll = false;\n  this.paginationfilter = false;\n  this.mapBBoxEventHandlerKey = {\n    key: null,\n    cb: null\n  };\n  this.clearAllSelection = function () {\n    _this.state.features.forEach(function (feature) {\n      return feature.selected = false;\n    });\n    _this.state.tools.show = false;\n    _this.state.selectAll = false;\n  };\n  this.state = {\n    pageLengths: PAGELENGTHS,\n    pageLength: this.layer.getAttributeTablePageLength() || PAGELENGTHS[0],\n    features: [],\n    title: this.layer.getTitle(),\n    headers: headers,\n    geometry: true,\n    loading: false,\n    allfeatures: 0,\n    pagination: !this.getAll,\n    selectAll: false,\n    nofilteredrow: false,\n    tools: {\n      geolayer: {\n        show: this.geolayer,\n        active: false,\n        in_bbox: void 0\n      },\n      show: false,\n      filter: this.layer.state.filter\n    }\n  };\n  // pagination filter features\n  this._async = {\n    state: false,\n    fnc: noop\n  };\n  _gui2.default.onbefore('setContent', function (options) {\n    _this._async.state = options.perc === 100;\n  });\n  this.layer.on('unselectionall', this.clearAllSelection);\n  this.filterChangeHandler = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        type = _ref2.type;\n\n    var data, emitRedraw;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _this.allfeaturesnumber = undefined;\n            data = [];\n            // emit redraw if in_bbox filter or not select all\n\n            emitRedraw = type === 'in_bbox' || !_this.selectedfeaturesfid.has(SELECTION_STATE.ALL);\n\n            if (_this.state.pagination) {\n              _context.next = 12;\n              break;\n            }\n\n            if (!emitRedraw) {\n              _context.next = 10;\n              break;\n            }\n\n            _context.next = 7;\n            return _this.reloadData();\n\n          case 7:\n            _context.t0 = _context.sent;\n            _context.next = 11;\n            break;\n\n          case 10:\n            _context.t0 = [];\n\n          case 11:\n            data = _context.t0;\n\n          case 12:\n            emitRedraw && _this.emit('redraw', data);\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, _this);\n  }));\n  this.layer.on('filtertokenchange', this.filterChangeHandler);\n};\n\ninherit(TableService, G3WObject);\n\nvar proto = TableService.prototype;\n\nproto.toggleFilterToken = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return this.layer.toggleFilterToken();\n\n        case 2:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\nproto.getHeaders = function () {\n  //add null as firs vale of header because need to add a custom input selector fro datatable purpose\n  return [null].concat(_toConsumableArray(this.layer.getTableHeaders()));\n};\n\n// function need to work with pagination\nproto.setDataForDataTable = function () {\n  var _this2 = this;\n\n  var data = [];\n  this.state.features.forEach(function (feature) {\n    var attributes = feature.attributes ? feature.attributes : feature.properties;\n    var values = [null];\n    _this2.state.headers.forEach(function (header) {\n      if (header) {\n        var value = attributes[header.name];\n        header.value = value;\n        //header.label = undefined; // removed label\n        values.push(value);\n      }\n    });\n    data.push(values);\n  });\n  return data;\n};\n\nproto.addRemoveSelectedFeature = function (feature) {\n  feature.selected = !feature.selected;\n  if (this.state.selectAll) {\n    this.state.selectAll = false;\n    this.layer.excludeSelectionFid(feature.id, this.state.pagination);\n  } else if (this.selectedfeaturesfid.has(SELECTION_STATE.EXCLUDE)) {\n    this.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n    var size = this.selectedfeaturesfid.size;\n    if (size === 1) {\n      !this.state.tools.filter.active && this.layer.setSelectionFidsAll();\n      this.state.selectAll = true;\n    } else if (size - 1 === this.state.features.length) this.layer.clearSelectionFids();\n  } else {\n    this.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n    var _size = this.selectedfeaturesfid.size;\n    if (_size === this.allfeaturesnumber) {\n      this.state.selectAll = true;\n      !this.state.tools.filter.active && this.layer.setSelectionFidsAll();\n    }\n  }\n  this.state.tools.show = this.selectedfeaturesfid.size > 0;\n  if (!this.state.pagination) {\n    if (this.nopaginationsfilter.length) {\n      this.state.selectAll = this.state.features.filter(function (feature) {\n        return feature.selected;\n      }).length === this.nopaginationsfilter.length;\n    }\n  }\n};\n\nproto.createFeatureForSelection = function (feature) {\n  return {\n    attributes: feature.attributes ? feature.attributes : feature.properties,\n    geometry: this._returnGeometry(feature)\n  };\n};\n\nproto.getAllFeatures = function (params) {\n  var _this3 = this;\n\n  _gui2.default.setLoadingContent(true);\n  return new Promise(function (resolve, reject) {\n    _this3.layer.getDataTable(params || {}).then(function (data) {\n      var features = data.features;\n\n      if (_this3.geolayer && features) {\n        if (!params) {\n          var LoadedFeaturesId = _this3.state.features.map(function (feature) {\n            return feature.id;\n          });\n          features.forEach(function (feature) {\n            if (LoadedFeaturesId.indexOf(feature.id) === -1) {\n              feature.geometry && _this3.layer.addOlSelectionFeature({\n                id: feature.id,\n                feature: _this3.createFeatureForSelection(feature)\n              });\n            }\n          });\n          _this3.getAll = true;\n        }\n        resolve(features);\n      }\n    }).fail(function () {\n      return reject();\n    }).always(function () {\n      return _gui2.default.setLoadingContent(false);\n    });\n  });\n};\n\nproto.switchSelection = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _this4 = this;\n\n  var selected, filterFeatures, _selected;\n\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          if (this.state.pagination) {\n            _context3.next = 4;\n            break;\n          }\n\n          // no pagination\n          if (this.nopaginationsfilter.length) {\n            //filtered\n            selected = false;\n            filterFeatures = [];\n\n            this.state.features.forEach(function (feature, index) {\n              if (_this4.nopaginationsfilter.indexOf(index) !== -1) filterFeatures.push(feature);\n              feature.selected = !feature.selected;\n              _this4.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n              selected = selected || feature.selected;\n            });\n            this.state.tools.show = selected;\n            this.checkSelectAll(filterFeatures);\n          } else {\n            // no filter\n            this.state.features.forEach(function (feature) {\n              feature.selected = !feature.selected;\n            });\n            this.layer.invertSelectionFids();\n            this.checkSelectAll();\n            this.state.tools.show = this.selectedfeaturesfid.size > 0;\n          }\n          _context3.next = 13;\n          break;\n\n        case 4:\n          // pagination\n          _selected = false;\n\n          this.state.features.forEach(function (feature) {\n            feature.selected = !feature.selected;\n            _selected = feature.selected;\n          });\n          _context3.t0 = !this.getAll;\n\n          if (!_context3.t0) {\n            _context3.next = 10;\n            break;\n          }\n\n          _context3.next = 10;\n          return this.getAllFeatures();\n\n        case 10:\n          this.state.selectAll = this.paginationfilter ? _selected : this.state.selectAll;\n          this.layer.invertSelectionFids();\n          this.state.tools.show = this.selectedfeaturesfid.size > 0;\n\n        case 13:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this);\n}));\n\nproto.clearLayerSelection = function () {\n  this.layer.clearSelectionFids();\n};\n\n/**\n * Called when alla selected feature is checked\n * @returns {Promise<void>}\n */\nproto.selectAllFeatures = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n  var _this5 = this;\n\n  var selected, _paginationParams, search, ordering, formatter, in_bbox, features;\n\n  return regeneratorRuntime.wrap(function _callee4$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          // set inverse of selectAll\n          this.state.selectAll = !this.state.selectAll;\n\n          if (this.state.pagination) {\n            _context4.next = 5;\n            break;\n          }\n\n          //no pagination no filter\n          if (this.nopaginationsfilter.length) {\n            //check if filter is set (no pagination)\n            selected = false;\n\n            this.state.features.forEach(function (feature, index) {\n              if (_this5.nopaginationsfilter.indexOf(index) !== -1) {\n                feature.selected = _this5.state.selectAll;\n                _this5.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n                selected = selected || feature.selected;\n              }\n            });\n            this.state.tools.show = selected;\n          } else {\n            this.state.tools.show = this.state.selectAll;\n            this.layer[this.state.selectAll ? 'setSelectionFidsAll' : 'clearSelectionFids']();\n            this.state.features.forEach(function (feature) {\n              return feature.selected = _this5.state.selectAll;\n            });\n          }\n          _context4.next = 25;\n          break;\n\n        case 5:\n          if (!this.paginationfilter) {\n            _context4.next = 18;\n            break;\n          }\n\n          if (!(this.state.featurescount >= this.state.allfeatures)) {\n            _context4.next = 10;\n            break;\n          }\n\n          this.state.features.forEach(function (feature) {\n            feature.selected = _this5.state.selectAll;\n            _this5.layer[feature.selected ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n          });\n          _context4.next = 15;\n          break;\n\n        case 10:\n          _paginationParams = this.paginationParams, search = _paginationParams.search, ordering = _paginationParams.ordering, formatter = _paginationParams.formatter, in_bbox = _paginationParams.in_bbox;\n          _context4.next = 13;\n          return this.getAllFeatures({\n            search: search,\n            ordering: ordering,\n            formatter: formatter,\n            in_bbox: in_bbox\n          });\n\n        case 13:\n          features = _context4.sent;\n\n          features.forEach(function (feature) {\n            !_this5.getAll && _this5.geolayer && feature.geometry && _this5.layer.addOlSelectionFeature({\n              id: feature.id,\n              feature: _this5.createFeatureForSelection(feature)\n            });\n            _this5.layer[_this5.state.selectAll ? 'includeSelectionFid' : 'excludeSelectionFid'](feature.id);\n          });\n\n        case 15:\n          this.state.features.forEach(function (feature) {\n            return feature.selected = _this5.state.selectAll;\n          });\n          _context4.next = 24;\n          break;\n\n        case 18:\n          this.state.features.forEach(function (feature) {\n            return feature.selected = _this5.state.selectAll;\n          });\n          _context4.t0 = !this.getAll;\n\n          if (!_context4.t0) {\n            _context4.next = 23;\n            break;\n          }\n\n          _context4.next = 23;\n          return this.getAllFeatures();\n\n        case 23:\n          this.layer[this.state.selectAll ? 'setSelectionFidsAll' : 'clearSelectionFids']();\n\n        case 24:\n          this.state.tools.show = this.state.selectAll || this.selectedfeaturesfid.size > 0;\n\n        case 25:\n        case 'end':\n          return _context4.stop();\n      }\n    }\n  }, _callee4, this);\n}));\n\n/**\n * Method to set filtered features\n * @param featuresIndex\n */\nproto.setFilteredFeature = function (featuresIndex) {\n  var _this6 = this;\n\n  this.nopaginationsfilter = featuresIndex;\n  this.checkSelectAll(featuresIndex.length === this.allfeaturesnumber || featuresIndex.length === 0 ? undefined : this.nopaginationsfilter.map(function (index) {\n    return _this6.state.features[index];\n  }));\n};\n\nproto.setAttributeTablePageLength = function (length) {\n  this.layer.setAttributeTablePageLength(length);\n};\n\n/**\n * Main method to get data table layer\n * @param start\n * @param order\n * @param length\n * @param columns\n * @param search\n * @param firstCall\n * @returns {Promise<unknown>}\n */\nproto.getData = function () {\n  var _this7 = this;\n\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$start = _ref6.start,\n      start = _ref6$start === undefined ? 0 : _ref6$start,\n      _ref6$order = _ref6.order,\n      order = _ref6$order === undefined ? [] : _ref6$order,\n      _ref6$length = _ref6.length,\n      length = _ref6$length === undefined ? this.state.pageLength : _ref6$length,\n      _ref6$columns = _ref6.columns,\n      columns = _ref6$columns === undefined ? [] : _ref6$columns,\n      _ref6$search = _ref6.search,\n      search = _ref6$search === undefined ? { value: null } : _ref6$search,\n      _ref6$firstCall = _ref6.firstCall,\n      firstCall = _ref6$firstCall === undefined ? false : _ref6$firstCall;\n\n  // reset features before load\n  _gui2.default.setLoadingContent(true);\n  this.setAttributeTablePageLength(length);\n  return new Promise(function (resolve, reject) {\n    if (!_this7.state.headers.length) resolve({\n      data: [],\n      recordsTotal: 0,\n      recordsFiltered: 0\n    });else {\n      var searchText = search.value && search.value.length > 0 ? search.value : null;\n      _this7.state.features.splice(0);\n      if (!order.length) {\n        order.push({\n          column: 1,\n          dir: 'asc'\n        });\n      }\n      var ordering = order[0].dir === 'asc' ? _this7.state.headers[order[0].column].name : '-' + _this7.state.headers[order[0].column].name;\n      _this7.currentPage = start === 0 || _this7.state.pagination && _this7.state.tools.filter.active ? 1 : start / length + 1;\n      var in_bbox = _this7.state.tools.geolayer.in_bbox;\n      var field = _this7.state.pagination ? columns.filter(function (column) {\n        return column.search && column.search.value;\n      }).map(function (column) {\n        return column.name + '|ilike|' + column.search.value + '|and';\n      }).join(',') : undefined;\n      _this7.paginationParams = {\n        field: field || undefined,\n        page: _this7.currentPage,\n        page_size: length,\n        search: searchText,\n        in_bbox: in_bbox,\n        formatter: _this7.formatter,\n        ordering: ordering\n      };\n      var getDataPromise = _this7.state.pagination ? _this7.layer.getDataTable(_this7.paginationParams) : _this7.layer.getDataTable({\n        ordering: ordering,\n        in_bbox: in_bbox,\n        formatter: _this7.formatter\n      });\n      getDataPromise.then(function (data) {\n        var _data$features = data.features,\n            features = _data$features === undefined ? [] : _data$features;\n\n        _this7.state.allfeatures = data.count || _this7.state.features.length;\n        _this7.state.featurescount = features.length;\n        _this7.allfeaturesnumber = _this7.allfeaturesnumber === undefined ? data.count : _this7.allfeaturesnumber;\n        _this7.paginationfilter = data.count !== _this7.allfeaturesnumber;\n        _this7.state.pagination = firstCall ? _this7.state.tools.filter.active || features.length < _this7.allfeaturesnumber : _this7.state.pagination;\n        _this7.addFeatures(features);\n        resolve({\n          data: _this7.setDataForDataTable(),\n          recordsFiltered: data.count,\n          recordsTotal: data.count\n        });\n      }).fail(function (err) {\n        _gui2.default.notify.error(t(\"info.server_error\"));\n        reject(err);\n      }).always(function () {\n        _gui2.default.setLoadingContent(false);\n      });\n    }\n  });\n};\n\nproto.setInBBoxParam = function () {\n  this.state.tools.geolayer.in_bbox = this.state.tools.geolayer.active ? this.mapService.getMapBBOX().join(',') : void 0;\n};\n\nproto.resetMapBBoxEventHandlerKey = function () {\n  ol.Observable.unByKey(this.mapBBoxEventHandlerKey.key);\n  this.mapBBoxEventHandlerKey.key = null;\n  this.mapBBoxEventHandlerKey.cb = null;\n};\n\nproto.getDataFromBBOX = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n  var _this8 = this;\n\n  return regeneratorRuntime.wrap(function _callee6$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          this.state.tools.geolayer.active = !this.state.tools.geolayer.active;\n          if (this.state.tools.geolayer.active) {\n            this.mapBBoxEventHandlerKey.cb = this.state.pagination ? function () {\n              _this8.setInBBoxParam();\n              _this8.emit('ajax-reload');\n            } : _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n              return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                while (1) {\n                  switch (_context5.prev = _context5.next) {\n                    case 0:\n                      _this8.setInBBoxParam();\n                      _this8.filterChangeHandler({\n                        type: 'in_bbox'\n                      });\n\n                    case 2:\n                    case 'end':\n                      return _context5.stop();\n                  }\n                }\n              }, _callee5, _this8);\n            }));\n            this.mapBBoxEventHandlerKey.key = this.mapService.getMap().on('moveend', this.mapBBoxEventHandlerKey.cb);\n            this.mapBBoxEventHandlerKey.cb();\n          } else {\n            this.mapBBoxEventHandlerKey.cb && this.mapBBoxEventHandlerKey.cb();\n            this.resetMapBBoxEventHandlerKey();\n          }\n\n        case 2:\n        case 'end':\n          return _context6.stop();\n      }\n    }\n  }, _callee6, this);\n}));\n\nproto.addFeature = function (feature) {\n  var tableFeature = {\n    id: feature.id,\n    selected: this.state.tools.filter.active || this.layer.hasSelectionFid(feature.id),\n    attributes: feature.attributes ? feature.attributes : feature.properties\n  };\n  if (this.geolayer && feature.geometry) {\n    this.layer.getOlSelectionFeature(tableFeature.id) || this.layer.addOlSelectionFeature({\n      id: tableFeature.id,\n      feature: this.createFeatureForSelection(feature)\n    });\n    tableFeature.geometry = feature.geometry;\n  }\n  this.state.features.push(tableFeature);\n};\n\nproto.checkSelectAll = function () {\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.features;\n\n  this.state.selectAll = this.selectedfeaturesfid.has(SELECTION_STATE.ALL) || features.length && features.reduce(function (accumulator, feature) {\n    return accumulator && feature.selected;\n  }, true);\n};\n\nproto.addFeatures = function () {\n  var _this9 = this;\n\n  var features = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  features.forEach(function (feature) {\n    return _this9.addFeature(feature);\n  });\n  this.state.tools.show = this.layer.getFilterActive() || this.selectedfeaturesfid.size > 0;\n  this.checkSelectAll();\n};\n\nproto.reloadData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n  var pagination = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var tabledata, _tabledata$data, data, reloadData;\n\n  return regeneratorRuntime.wrap(function _callee7$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          this.state.features.splice(0);\n          this.state.pagination = pagination;\n          _context7.next = 4;\n          return this.getData();\n\n        case 4:\n          tabledata = _context7.sent;\n          _tabledata$data = tabledata.data, data = _tabledata$data === undefined ? [] : _tabledata$data, reloadData = tabledata.reloadData;\n          return _context7.abrupt('return', data);\n\n        case 7:\n        case 'end':\n          return _context7.stop();\n      }\n    }\n  }, _callee7, this);\n}));\n\nproto._setLayout = function () {\n  //TODO\n};\n\nproto._returnGeometry = function (feature) {\n  var geometry = void 0;\n  if (feature.attributes) geometry = feature.geometry;else if (feature.geometry) geometry = coordinatesToGeometry(feature.geometry.type, feature.geometry.coordinates);\n  return geometry;\n};\n\nproto.zoomAndHighLightFeature = function (feature) {\n  var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  var geometry = feature.geometry;\n  if (geometry) {\n    if (this._async.state) this._async.fnc = this.mapService.highlightGeometry.bind(mapService, geometry, { zoom: zoom });else this.mapService.highlightGeometry(geometry, { zoom: zoom });\n  }\n};\n\n/**\n * Zoom to eventually features relation\n */\nproto.zoomAndHighLightGeometryRelationFeatures = function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(feature) {\n    var _this10 = this;\n\n    var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var features, promises, values, promisesData;\n    return regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            if (!this.relationsGeometry.length) {\n              _context8.next = 10;\n              break;\n            }\n\n            features = [];\n            promises = [];\n            values = []; // usefult to check if add or not\n\n            this.relationsGeometry.forEach(function (_ref11) {\n              var layer = _ref11.layer,\n                  child_field = _ref11.child_field,\n                  field = _ref11.field,\n                  features = _ref11.features;\n\n              var value = feature.attributes[field];\n              values.push(value);\n              if (features[value] === undefined) {\n                var promise = void 0;\n                if (zoom) {\n                  promise = _data2.default.getData('search:features', {\n                    inputs: {\n                      layer: layer,\n                      filter: child_field + '|eq|' + value,\n                      formatter: 1, // set formatter to 1\n                      search_endpoint: 'api'\n                    },\n                    outputs: false\n                  });\n                } else promise = Promise.reject();\n                promises.push(promise);\n              } else promises.push(Promise.resolve({\n                data: [{\n                  features: features[value]\n                }]\n              }));\n            });\n            _context8.next = 7;\n            return Promise.allSettled(promises);\n\n          case 7:\n            promisesData = _context8.sent;\n\n            promisesData.forEach(function (_ref12, index) {\n              var status = _ref12.status,\n                  value = _ref12.value;\n\n              if (status === 'fulfilled') {\n                var _features = value.data[0] ? value.data[0].features : [];\n                _features.forEach(function (feature) {\n                  return features.push(feature);\n                });\n                if (_this10.relationsGeometry[index].features[values[index]] === undefined) {\n                  _this10.relationsGeometry[index].features[values[index]] = _features;\n                }\n              }\n            });\n            zoom ? this.mapService.zoomToFeatures(features, {\n              highlight: true\n            }) : this.mapService.highlightFeatures(features);\n\n          case 10:\n          case 'end':\n            return _context8.stop();\n        }\n      }\n    }, _callee8, this);\n  }));\n\n  return function (_x9) {\n    return _ref10.apply(this, arguments);\n  };\n}();\n\nproto.clear = function () {\n  var _this11 = this;\n\n  this.layer.off('unselectionall', this.clearAllSelection);\n  this.layer.off('filtertokenchange', this.filterChangeHandler);\n  this.resetMapBBoxEventHandlerKey();\n  this.allfeaturesnumber = null;\n  this.mapService = null;\n  this._async.state && setTimeout(function () {\n    _this11._async.fnc();\n    _this11._async.state = false;\n    _this11._async.fnc = noop;\n  });\n};\n\nmodule.exports = TableService;\n\n},{\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/layers/layer\":35,\"core/utils/geo\":65,\"core/utils/utils\":68,\"services/data\":353,\"services/gui\":356,\"store/catalog-layers\":369}],182:[function(require,module,exports){\nvar _Table = require('components/Table.vue');\n\nvar _Table2 = _interopRequireDefault(_Table);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    base = _require2.base,\n    inherit = _require2.inherit;\n\nvar Component = require('gui/component/component');\nvar TableService = require('gui/table/tableservice');\n\nvar InternalComponent = Vue.extend(_Table2.default);\n\nvar TableComponent = function TableComponent() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n  this.id = \"openattributetable\";\n  var layer = options.layer,\n      formatter = options.formatter;\n\n  var service = options.service || new TableService({\n    layer: layer,\n    formatter: formatter\n  });\n\n  this.setService(service);\n  var internalComponent = new InternalComponent({\n    service: service\n  });\n\n  this.setInternalComponent(internalComponent);\n  internalComponent.state = service.state;\n\n  service.on('redraw', function () {\n    _this.layout();\n  });\n\n  this.unmount = function () {\n    return base(this, 'unmount');\n  };\n\n  this.layout = function () {\n    internalComponent.reloadLayout();\n  };\n};\n\ninherit(TableComponent, Component);\n\nvar proto = TableComponent.prototype;\n\n// overwrite show method\nproto.show = function () {\n  var _this2 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var service = this.getService();\n  // close all sidebar open component\n  _gui2.default.closeOpenSideBarComponent();\n  service.getData({ firstCall: true }).then(function () {\n    _gui2.default.showContent({\n      content: _this2,\n      perc: 50,\n      split: _gui2.default.isMobile() ? 'h' : 'v',\n      push: false,\n      title: options.title\n    });\n  }).catch(function (err) {\n    return _gui2.default.notify.error(t(\"info.server_error\"));\n  }).finally(function () {\n    return _this2.emit('show');\n  });\n};\n\nproto.unmount = function () {\n  var _this3 = this;\n\n  return base(this, 'unmount').then(function () {\n    _this3._service.clear();\n  });\n};\n\nmodule.exports = TableComponent;\n\n},{\"components/Table.vue\":299,\"core/i18n/i18n.service\":14,\"core/utils/utils\":68,\"gui/component/component\":115,\"gui/table/tableservice\":181,\"services/gui\":356}],183:[function(require,module,exports){\nmodule.exports = \"<div class=\\\"error-initial-page skin-background-color\\\">\\n  <template v-if=\\\"isMobile()\\\">\\n    <h3 class=\\\"oops\\\">Oops!</h3>\\n    <h5 class=\\\"cause\\\">{{messages.error}}</h5>\\n    <h6 class=\\\"at-moment\\\">{{ messages.at_moment }}</h6>\\n    <h4 class=\\\"f5\\\">{{ messages.f5}}</h4>\\n  </template>\\n  <template v-else>\\n    <h1 class=\\\"oops\\\">Oops!</h1>\\n    <h1 class=\\\"cause\\\">{{messages.error}}</h1>\\n    <h3 class=\\\"at-moment\\\">{{ messages.at_moment }}</h3>\\n    <h2 class=\\\"f5\\\">{{ messages.f5}}</h2>\\n  </template>\\n\\n</div>\\n\";\n\n},{}],184:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction Service() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.config = null;\n  this.state = _extends({}, options, {\n    toolsGroups: [],\n    visible: false,\n    loading: false\n  });\n  this.setters = {\n    addTool: function addTool(tool, groupName) {\n      tool.state = tool.state ? tool.state : {\n        type: null,\n        message: null\n      };\n      return this._addTool(tool, groupName);\n    },\n    addTools: function addTools(tools, groupName) {\n      return this._addTools(tools, groupName);\n    },\n    addToolGroup: function addToolGroup(order, name) {\n      return this._addToolGroup(order, name);\n    },\n    removeToolGroup: function removeToolGroup(name) {\n      return this._removeToolGroup(name);\n    },\n    removeTools: function removeTools() {\n      return this._removeTools();\n    }\n  };\n\n  base(this);\n\n  var project = _projects2.default.getCurrentProject();\n\n  var _project$getState = project.getState(),\n      _project$getState$too = _project$getState.tools,\n      tools = _project$getState$too === undefined ? {} : _project$getState$too;\n\n  var _loop = function _loop(toolName) {\n    var groupName = toolName.toUpperCase();\n    _this.addToolGroup(0, groupName);\n    var _tools = tools[toolName].map(function (tool) {\n      return {\n        name: tool.name,\n        action: ToolsService.ACTIONS[toolName].bind(null, tool)\n      };\n    });\n    _this.addTools(_tools, { position: 0, title: groupName });\n  };\n\n  for (var toolName in tools) {\n    _loop(toolName);\n  }\n}\n\ninherit(Service, G3WObject);\n\nvar proto = Service.prototype;\n\nproto.reload = function () {\n  this.removeTools();\n};\n\nproto._addTool = function (tool, _ref) {\n  var order = _ref.position,\n      name = _ref.title;\n\n  var group = this._addToolGroup(order, name);\n  if (tool.action === undefined && tool.type) tool.action = Service.ACTIONS[tool.type] ? Service.ACTIONS[tool.type].bind(null, tool.options) : function () {};\n  group.tools.push(tool);\n};\n\nproto._addTools = function (tools, groupName) {\n  var _this2 = this;\n\n  tools.forEach(function (tool) {\n    return _this2.addTool(tool, groupName);\n  });\n};\n\nproto.setLoading = function () {\n  var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  this.state.loading = bool;\n};\n\nproto._removeTool = function (toolIdx) {\n  this.state.toolsGroups = this.state.toolsGroups.splice(toolIdx, 1);\n};\n\nproto._removeTools = function () {\n  this.state.toolsGroups.splice(0);\n};\n\nproto.updateToolsGroup = function (order, groupConfig) {\n  Vue.set(this.state.toolsGroups, order, groupConfig);\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto._removeToolGroup = function (name) {\n  this.state.toolsGroups = this.state.toolsGroups.filter(function (group) {\n    return group.name !== name;\n  });\n};\n\nproto._addToolGroup = function (order, name) {\n  var group = this.state.toolsGroups.find(function (_group) {\n    return _group.name === name;\n  });\n  if (!group) {\n    group = {\n      name: name,\n      tools: []\n    };\n    this.state.toolsGroups.splice(order, 0, group);\n  }\n  return group;\n};\n\nproto.setToolState = function () {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref2.id,\n      _ref2$state = _ref2.state,\n      state = _ref2$state === undefined ? { type: null, message: null } : _ref2$state;\n\n  this.state.toolsGroups.find(function (toolGroup) {\n    var tool = toolGroup.tools.find(function (tool) {\n      return tool.name === id;\n    });\n    if (tool) {\n      tool.state.type = state.type;\n      tool.state.message = state.message;\n      return true;\n    }\n  });\n};\n\nService.ACTIONS = {};\n\nmodule.exports = Service;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"store/projects\":374}],185:[function(require,module,exports){\nvar _Tools = require('components/Tools.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_Tools);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\nvar ToolsService = require('gui/tools/service');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ToolsComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._service = new ToolsService(options);\n  this.title = \"tools\";\n\n  var internalComponent = new InternalComponent({\n    toolsService: this._service\n  });\n\n  internalComponent.state = this._service.state;\n  this.setInternalComponent(internalComponent, {\n    events: [{ name: 'visible' }]\n  });\n\n  this._setOpen = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.internalComponent.state.open = bool;\n    bool && _gui2.default.closeContent();\n  };\n}\n\ninherit(ToolsComponent, Component);\n\nmodule.exports = ToolsComponent;\n\n},{\"components/Tools.vue\":304,\"core/utils/utils\":68,\"gui/component/component\":115,\"gui/tools/service\":184,\"services/gui\":356}],186:[function(require,module,exports){\nvar _require = require('core/utils/utils'),\n    resolve = _require.resolve,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Component = require('gui/component/component');\nvar Panel = require('gui/panel');\n\n//Barstack Class\n// It used to mount panels stack\n// on top of each parent\nfunction BarStack() {\n  this._parent = null;\n  // barstack state. It store the panels array\n  this.state = {\n    contentsdata: []\n  };\n}\n\ninherit(BarStack, G3WObject);\n\nvar proto = BarStack.prototype;\n\n// push componenet on top of parent\nproto.push = function (content) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  // parent identify the DOM element where insert (append o meno) the component/panel\n  this._parent = options.parent;\n  // call barstack mount method\n  return this._mount(content, options);\n};\n\n// remove last component from stack\nproto.pop = function () {\n  var _this = this;\n\n  var d = $.Deferred();\n  if (this.state.contentsdata.length) {\n    var content = this.state.contentsdata.slice(-1)[0].content;\n    this._unmount(content).then(function () {\n      var content = _this.state.contentsdata.pop();\n      d.resolve(content);\n    });\n  } else d.resolve();\n  return d.promise();\n};\n\n// clear all stack\nproto.clear = function () {\n  var _this2 = this;\n\n  var d = $.Deferred();\n  if (this.state.contentsdata.length) {\n    var unmountRequests = [];\n    this.state.contentsdata.forEach(function (data) {\n      unmountRequests.push(_this2._unmount(data.content));\n    });\n    $.when(unmountRequests).then(function () {\n      _this2.state.contentsdata.splice(0, _this2.state.contentsdata.length);\n      d.resolve();\n    });\n  } else d.resolve();\n  return d.promise();\n};\n\nproto.getContentData = function () {\n  return this.state.contentsdata;\n};\n\nproto.getCurrentContentData = function () {\n  return this.state.contentsdata[this.state.contentsdata.length - 1];\n};\n\nproto.getPreviousContentData = function () {\n  return this.state.contentsdata[this.state.contentsdata.length - 2];\n};\n\n// mount component\nproto._mount = function (content, options) {\n  // check the type of content:\n  // JQuery type\n  if (content instanceof jQuery) return this._setJqueryContent(content);\n  //String\n  else if (_.isString(content)) {\n      var jqueryEl = $(content);\n      if (!jqueryEl.length) jqueryEl = $('<div>' + content + '</div>');\n      return this._setJqueryContent(jqueryEl);\n    }\n    // Vue\n    else if (content.mount && typeof content.mount == 'function') {\n        this._checkDuplicateVueContent(content); // if already exist it removed before based on id\n        return this._setVueContent(content, options);\n      }\n      // DOM\n      else return this._setDOMContent(content);\n};\n\n// JQuery append jQuery component\nproto._setJqueryContent = function (content, options) {\n  $(this._parent).append(content);\n  this.state.contentsdata.push({\n    content: content,\n    options: options\n  });\n  return resolve();\n};\n\n//Append DOM element\nproto._setDOMContent = function (content, options) {\n  this._parent.appendChild(content);\n  this.state.contentsdata.push({\n    content: content,\n    options: options\n  });\n  return resolve();\n};\n\n// Mount component to parent\nproto._setVueContent = function (content) {\n  var _this3 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  var append = options.append || false;\n  content.mount(this._parent, append).then(function () {\n    $(_this3._parent).localize();\n    // Insert the content into the array with the following attributes:\n    // content: component object\n    // options: es. title, perc etc ...\n    _this3.state.contentsdata.push({\n      content: content,\n      options: options\n    });\n    d.resolve(content);\n  });\n  return d.promise();\n};\n\n// Check duplicate Vue Content\nproto._checkDuplicateVueContent = function (content) {\n  var _this4 = this;\n\n  var idxToRemove = null;\n  var id = content.getId();\n  this.state.contentsdata.forEach(function (data, idx) {\n    if (data.content.getId && data.content.getId() == id) idxToRemove = idx;\n  });\n  if (!_.isNull(idxToRemove)) {\n    var data = this.state.contentsdata[idxToRemove];\n    data.content.unmount().then(function () {\n      return _this4.state.contentsdata.splice(idxToRemove, 1);\n    });\n  }\n};\n\n// unmount component\nproto._unmount = function (content) {\n  var d = $.Deferred();\n  if (content instanceof Component || content instanceof Panel) {\n    content.unmount().then(function () {\n      return d.resolve();\n    });\n  } else {\n    $(this._parent).empty();\n    d.resolve();\n  }\n  return d.promise();\n};\n\nproto.forEach = function (cbk) {\n  this.state.contentsdata.forEach(function (data) {\n    return cbk(data.content);\n  });\n};\n\n// Get lenght / numbero of element stored in stack\nproto.getLength = function () {\n  return this.state.contentsdata.length;\n};\n\nmodule.exports = BarStack;\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"gui/component/component\":115,\"gui/panel\":160}],187:[function(require,module,exports){\nmodule.exports = {\n  barstack: require('./barstack')\n};\n\n},{\"./barstack\":186}],188:[function(require,module,exports){\nvar _ViewportContentsViewer = require('components/ViewportContentsViewer.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_ViewportContentsViewer);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('gui/utils/utils'),\n    Stack = _require2.barstack;\n\nvar Component = require('gui/component/component');\n\n// Internal Component (VUE) of the content of the  viewport\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ContentsViewerComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this.stack = new Stack();\n  this.setService(this);\n  this.title = \"contents\";\n  this.contentsdata = this.stack.state.contentsdata;\n  this.state.visible = true;\n  var internalComponent = new InternalComponent({\n    service: this\n  });\n  this.setInternalComponent(internalComponent);\n  this.internalComponent.state = this.state;\n}\n\ninherit(ContentsViewerComponent, Component);\n\nvar proto = ContentsViewerComponent.prototype;\n\nproto.setContent = function () {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$push = options.push,\n      push = _options$push === undefined ? false : _options$push,\n      content = options.content,\n      crumb = options.crumb;\n\n  var d = $.Deferred();\n  // clean the stack every time, sure to have just one component.\n  // Use barstack because it handle the logic og mounting component on DOM\n  if (push) {\n    this.addContent(content, options).then(function () {\n      return d.resolve(options);\n    });\n  } else {\n    // clear stack\n    this.clearContents().then(function () {\n      _this.addContent(content, options).then(function () {\n        return d.resolve(options);\n      });\n    });\n  }\n\n  this.setOpen(true);\n  return d.promise();\n};\n\nproto.addContent = function (content) {\n  var _this2 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var d = $.Deferred();\n  // parent element is the internal element\n  options.parent = this.internalComponent.$el;\n  options.append = true;\n  var promise = this.stack.push(content, options);\n  promise.then(function () {\n    // get stack content\n    _this2.contentsdata = _this2.stack.state.contentsdata;\n    // update the visibility of the others components\n    _this2.updateContentVisibility();\n    d.resolve();\n  });\n  return d.promise();\n};\n\n// remove content from stack\nproto.removeContent = function () {\n  this.setOpen(false);\n  return this.clearContents();\n};\n\n// used by  viewport.js\nproto.popContent = function () {\n  var _this3 = this;\n\n  return this.stack.pop().then(function () {\n    // update the content of contentsdata only after stack is updated\n    _this3.contentsdata = _this3.stack.state.contentsdata;\n    _this3.updateContentVisibility();\n  });\n};\n\n// get component through class\nproto.getComponentByClass = function (componentClass) {\n  var component = void 0;\n  var contentdata = this.stack.getContentData();\n  contentdata.forEach(function (content) {\n    if (content.content instanceof componentClass) {\n      component = content.content;\n      return false;\n    }\n  });\n  return component;\n};\n\n// get component by component id\nproto.getComponentById = function (id) {\n  var component = void 0;\n  var contentdata = this.stack.getContentData();\n  contentdata.forEach(function (content) {\n    if (content.content.id == id) {\n      component = content.content;\n      return false;\n    }\n  });\n  return component;\n};\n\nproto.getContentData = function () {\n  return this.stack.getContentData();\n};\n\n// get current contentdata\nproto.getCurrentContentData = function () {\n  return this.stack.getCurrentContentData();\n};\n\n// get  previuos contentdata\nproto.getPreviousContentData = function () {\n  return this.stack.getPreviousContentData();\n};\n\n// update visibility of the components of content\nproto.updateContentVisibility = function () {\n  // hide each elements but not the last one\n  var contentsEls = $(this.internalComponent.$el).children();\n  contentsEls.hide();\n  contentsEls.last().show();\n};\n\n// stack clear because if we want the contentComponente stack\n// it has to be empty stack\nproto.clearContents = function () {\n  var _this4 = this;\n\n  return this.stack.clear().then(function () {\n    return _this4.contentsdata = _this4.stack.state.contentsdata;\n  });\n};\n\n// Set layout of the content each time\n// Parameters are: height and with of the parent content\nproto.layout = function (parentWidth, parentHeight) {\n  var _this5 = this;\n\n  var el = $(this.internalComponent.$el);\n  //run the callback only after that vue state is updated\n  Vue.nextTick(function () {\n    var contentsdata = _this5.stack.state.contentsdata;\n    // el.parent() is div g3w-view-content\n    var height = el.parent().height() - el.siblings('.close-panel-block').outerHeight(true) - el.siblings('.content_breadcrumb').outerHeight(true) - 10; // margin 10 from bottom\n    el.height(height);\n    el.children().first().height(height);\n    contentsdata.forEach(function (data) {\n      //check each componentstored in stack\n      if (typeof data.content.layout == 'function') {\n        //call function layout of each component that are stored into the stack\n        data.content.layout(parentWidth + 0.5, height);\n      }\n    });\n  });\n};\n\nmodule.exports = ContentsViewerComponent;\n\n},{\"components/ViewportContentsViewer.vue\":307,\"core/utils/utils\":68,\"gui/component/component\":115,\"gui/utils/utils\":187}],189:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _wmslayerspanel = require('gui/wms/vue/panel/wmslayerspanel');\n\nvar _wmslayerspanel2 = _interopRequireDefault(_wmslayerspanel);\n\nvar _constant = require('app/constant');\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nfunction Service() {\n  var _this = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _options$wmsurls = options.wmsurls,\n      wmsurls = _options$wmsurls === undefined ? [] : _options$wmsurls;\n\n  this.projectId = _projects2.default.getCurrentProject().getId(); // get current project id used to store data or get data to current project\n  this.panel;\n  this.state = {\n    adminwmsurls: wmsurls, // coming from admin wmsurls\n    localwmsurls: [] // contain array of object {id, url}\n  };\n  this.loadClientWmsUrls().then(function (urls) {\n    return _this.state.localwmsurls = urls;\n  });\n  _projects2.default.onafter('setCurrentProject', function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(project) {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.projectId = project.getId();\n              _this.state.adminwmsurls = project.wmsurls || [];\n              _context.next = 4;\n              return _this.loadClientWmsUrls();\n\n            case 4:\n              _this.state.localwmsurls = _context.sent;\n\n            case 5:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, _this);\n    }));\n\n    return function (_x2) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n}\n\nvar proto = Service.prototype;\n\n/**\n * Getting Wms Urls from local browser storage\n */\nproto.loadClientWmsUrls = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n  var _this2 = this;\n\n  var data;\n  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          data = this.getLocalWMSData();\n\n          if (data === undefined) {\n            data = {\n              urls: [], // unique url fro wms\n              wms: {} // object contain url as key and array of layers bind to url\n            };\n            this.updateLocalWMSData(data);\n          }\n          _context2.next = 4;\n          return _gui2.default.isReady();\n\n        case 4:\n          setTimeout(function () {\n            var mapService = _gui2.default.getService('map');\n            mapService.on('remove-external-layer', function (name) {\n              return _this2.deleteWms(name);\n            });\n            mapService.on('change-layer-position-map', function () {\n              var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref3.id,\n                  position = _ref3.position;\n\n              return _this2.changeLayerData(name, {\n                key: 'position',\n                value: position\n              });\n            });\n            mapService.on('change-layer-opacity', function () {\n              var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref4.id,\n                  opacity = _ref4.opacity;\n\n              return _this2.changeLayerData(name, {\n                key: 'opacity',\n                value: opacity\n              });\n            });\n            mapService.on('change-layer-visibility', function () {\n              var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  name = _ref5.id,\n                  visible = _ref5.visible;\n\n              return _this2.changeLayerData(name, {\n                key: 'visible',\n                value: visible\n              });\n            });\n\n            // load eventually data\n            Object.keys(data.wms).forEach(function (url) {\n              data.wms[url].forEach(function (config) {\n                _this2.loadWMSLayerToMap(_extends({\n                  url: url\n                }, config));\n              });\n            });\n          });\n          return _context2.abrupt('return', data.urls);\n\n        case 6:\n        case 'end':\n          return _context2.stop();\n      }\n    }\n  }, _callee2, this);\n}));\n\n/**\n * General Method to change config of storage layer options as position, opacity\n * @param name\n * @param config\n */\nproto.changeLayerData = function (name) {\n  var attribute = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var data = this.getLocalWMSData();\n  Object.keys(data.wms).find(function (wmsurl) {\n    var wmsConfigLayers = data.wms[wmsurl];\n    var index = wmsConfigLayers.findIndex(function (config) {\n      return config.name == name;\n    });\n    if (index !== -1) {\n      wmsConfigLayers[index][attribute.key] = attribute.value;\n      return true;\n    }\n  });\n  this.updateLocalWMSData(data);\n};\n\n/**\n * Create a common status object\n * @param error\n * @param added\n * @returns {{error, status: string}}\n */\nproto.getRequestStatusObject = function () {\n  var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref6$error = _ref6.error,\n      error = _ref6$error === undefined ? false : _ref6$error,\n      _ref6$added = _ref6.added,\n      added = _ref6$added === undefined ? false : _ref6$added;\n\n  return {\n    error: error,\n    added: added\n  };\n};\n\n/**\n * Add new\n * @param wmsurl\n * @returns {*}\n */\nproto.addNewUrl = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref8.id,\n      url = _ref8.url;\n\n  var find, status, response, data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          find = this.state.localwmsurls.find(function (_ref9) {\n            var localid = _ref9.id,\n                localurl = _ref9.url;\n            return localurl == url || localid == id;\n          });\n          status = this.getRequestStatusObject({\n            added: !!find\n          });\n\n          if (find) {\n            _context3.next = 13;\n            break;\n          }\n\n          _context3.prev = 3;\n          _context3.next = 6;\n          return this.getWMSLayers(url);\n\n        case 6:\n          response = _context3.sent;\n\n          // if result (meaning response in done right)\n          if (response.result) {\n            data = this.getLocalWMSData();\n\n            this.state.localwmsurls.push({\n              id: id,\n              url: url\n            });\n            data.urls = this.state.localwmsurls;\n            this.updateLocalWMSData(data);\n            response.wmsurl = url;\n            this.showWmsLayersPanel(response);\n          } else status.error = true;\n          _context3.next = 13;\n          break;\n\n        case 10:\n          _context3.prev = 10;\n          _context3.t0 = _context3['catch'](3);\n\n          status.error = true;\n\n        case 13:\n          return _context3.abrupt('return', status);\n\n        case 14:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[3, 10]]);\n}));\n\n/**\n * Delete WMS\n * @param name\n */\nproto.deleteWms = function (name) {\n  var data = this.getLocalWMSData();\n  Object.keys(data.wms).find(function (wmsurl) {\n    var wmsConfigLayers = data.wms[wmsurl];\n    var index = wmsConfigLayers.findIndex(function (config) {\n      return config.name == name;\n    });\n    if (index !== -1) {\n      wmsConfigLayers.splice(index, 1);\n      if (wmsConfigLayers.length == 0) delete data.wms[wmsurl];\n      return true;\n    }\n  });\n  this.updateLocalWMSData(data);\n};\n/**\n * Method to find if name or layer of a specific url is already added\n * @param name\n * @param layers\n */\nproto.checkIfWMSAlreadyAdded = function () {\n  var _ref10 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref10.url,\n      _ref10$layers = _ref10.layers,\n      layers = _ref10$layers === undefined ? [] : _ref10$layers;\n\n  var added = false;\n  var data = this.getLocalWMSData();\n  if (data.wms[url]) {\n    added = !!data.wms[url].find(function (_ref11) {\n      var addedLayers = _ref11.layers;\n\n      var layersLength = layers.length;\n      if (addedLayers.length === layersLength) {\n        return layers.reduce(function (accumulator, layerName) {\n          return accumulator + addedLayers.indexOf(layerName) !== -1 ? 1 : 0;\n        }, 0) === layersLength;\n      }\n    });\n  }\n  return added;\n};\n\n/**\n * Delete url from local storage\n * @param wmsurl\n */\nproto.deleteWmsUrl = function (id) {\n  this.state.localwmsurls = this.state.localwmsurls.filter(function (_ref12) {\n    var localid = _ref12.id;\n    return id !== localid;\n  });\n  var data = this.getLocalWMSData();\n  data.urls = this.state.localwmsurls;\n  this.updateLocalWMSData(data);\n};\n\n/**\n * Method to lad data from server and show wms layer panel\n * @param wmsurl\n * @returns {Promise<{added: boolean, error: boolean}>}\n */\nproto.loadWMSDataAndShowWmsLayersPanel = function () {\n  var _ref13 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(url) {\n    var status, response;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            status = this.getRequestStatusObject();\n            _context4.prev = 1;\n            _context4.next = 4;\n            return this.getWMSLayers(url);\n\n          case 4:\n            response = _context4.sent;\n\n            status.error = !response.result;\n            if (response.result) {\n              response.wmsurl = url;\n              this.showWmsLayersPanel(response);\n            }\n            _context4.next = 12;\n            break;\n\n          case 9:\n            _context4.prev = 9;\n            _context4.t0 = _context4['catch'](1);\n\n            status.error = true;\n\n          case 12:\n            return _context4.abrupt('return', status);\n\n          case 13:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[1, 9]]);\n  }));\n\n  return function (_x10) {\n    return _ref13.apply(this, arguments);\n  };\n}();\n\n/**\n * show addding wma layers wms panel\n * @param wmsurl\n * @returns {WmsLayersPanel}\n */\nproto.showWmsLayersPanel = function () {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this.panel = new _wmslayerspanel2.default({\n    service: this,\n    config: config\n  });\n  this.panel.show();\n  return this.panel;\n};\n\n/**\n * gettind data of wms url from server\n * @param url\n * @returns {Promise<{result: boolean, info_formats: [], layers: [], map_formats: [], abstract: null, title: null}>}\n */\nproto.getWMSLayers = function () {\n  var _ref14 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(url) {\n    var response;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            response = {\n              result: false,\n              layers: [],\n              info_formats: [],\n              abstract: null,\n              map_formats: [],\n              title: null\n            };\n            _context5.prev = 1;\n            _context5.next = 4;\n            return _data2.default.getData('ows:wmsCapabilities', {\n              inputs: {\n                url: url\n              },\n              outputs: false\n            });\n\n          case 4:\n            response = _context5.sent;\n            _context5.next = 10;\n            break;\n\n          case 7:\n            _context5.prev = 7;\n            _context5.t0 = _context5['catch'](1);\n\n            console.log(_context5.t0);\n\n          case 10:\n            if (!response.result) {\n              _context5.next = 12;\n              break;\n            }\n\n            return _context5.abrupt('return', response);\n\n          case 12:\n            return _context5.abrupt('return', response);\n\n          case 13:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[1, 7]]);\n  }));\n\n  return function (_x12) {\n    return _ref14.apply(this, arguments);\n  };\n}();\n\nproto.loadWMSLayerToMap = function () {\n  var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref15.url,\n      name = _ref15.name,\n      epsg = _ref15.epsg,\n      position = _ref15.position,\n      opacity = _ref15.opacity,\n      _ref15$visible = _ref15.visible,\n      visible = _ref15$visible === undefined ? true : _ref15$visible,\n      _ref15$layers = _ref15.layers,\n      layers = _ref15$layers === undefined ? [] : _ref15$layers;\n\n  var mapService = _gui2.default.getService('map');\n  return mapService.addExternalWMSLayer({\n    url: url,\n    name: name,\n    layers: layers,\n    epsg: epsg,\n    position: position,\n    visible: visible,\n    opacity: opacity\n  });\n};\n\n/**\n * Method to check if a layer is already added to map\n * @param url\n * @param name\n * @param epsg\n * @param position\n * @param layers\n * @returns {Promise<void>}\n */\nproto.addWMSlayer = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n  var _ref17 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      url = _ref17.url,\n      _ref17$name = _ref17.name,\n      name = _ref17$name === undefined ? 'wms_' + uniqueId() : _ref17$name,\n      epsg = _ref17.epsg,\n      position = _ref17.position,\n      _ref17$layers = _ref17.layers,\n      layers = _ref17$layers === undefined ? [] : _ref17$layers,\n      _ref17$opacity = _ref17.opacity,\n      opacity = _ref17$opacity === undefined ? 1 : _ref17$opacity,\n      _ref17$visible = _ref17.visible,\n      visible = _ref17$visible === undefined ? true : _ref17$visible;\n\n  var data, wmsLayerConfig, mapService;\n  return regeneratorRuntime.wrap(function _callee6$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          data = this.getLocalWMSData();\n          wmsLayerConfig = {\n            url: url,\n            name: name,\n            layers: layers,\n            epsg: epsg,\n            position: position,\n            visible: visible,\n            opacity: opacity\n          };\n\n          if (data.wms[url] === undefined) data.wms[url] = [wmsLayerConfig];else data.wms[url].push(wmsLayerConfig);\n          this.updateLocalWMSData(data);\n          _context6.prev = 4;\n          _context6.next = 7;\n          return this.loadWMSLayerToMap(wmsLayerConfig);\n\n        case 7:\n          _context6.next = 15;\n          break;\n\n        case 9:\n          _context6.prev = 9;\n          _context6.t0 = _context6['catch'](4);\n          mapService = _gui2.default.getService('map');\n\n          mapService.removeExternalLayer(name);\n          this.deleteWms(name);\n          setTimeout(function () {\n            _gui2.default.showUserMessage({\n              type: 'warning',\n              message: 'sidebar.wms.layer_add_error'\n            });\n          });\n\n        case 15:\n          this.panel.close();\n\n        case 16:\n        case 'end':\n          return _context6.stop();\n      }\n    }\n  }, _callee6, this, [[4, 9]]);\n}));\n\n/**\n * Method to get local storage wms  data based on current projectId\n * @returns {*}\n */\nproto.getLocalWMSData = function () {\n  return _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM) && _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM)[this.projectId];\n};\n\n/**\n * Method to update local storage data based on changes\n * @param data\n */\nproto.updateLocalWMSData = function (data) {\n  // in case for the firs time is non present set empty object\n  var alldata = _application2.default.getLocalItem(_constant.LOCALSTORAGE_EXTERNALWMS_ITEM) || {};\n  alldata[this.projectId] = data;\n  _application2.default.setLocalItem({\n    id: _constant.LOCALSTORAGE_EXTERNALWMS_ITEM,\n    data: alldata\n  });\n};\n\nproto.clear = function () {\n  this.panel = null;\n};\n\nexports.default = Service;\n\n},{\"app/constant\":5,\"core/utils/utils\":68,\"gui/wms/vue/panel/wmslayerspanel\":190,\"services/application\":346,\"services/data\":353,\"services/gui\":356,\"store/projects\":374}],190:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _WMSLayersPanel = require('components/WMSLayersPanel.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_WMSLayersPanel);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar Panel = require('gui/panel');\n\nvar WMSLayersPanelComponent = Vue.extend(vueComponentOptions);\n\nfunction WmsLayersPanel() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var service = options.service,\n      config = options.config;\n\n  this.setService(service);\n  this.id = uniqueId();\n  this.title = 'sidebar.wms.panel.title';\n  var panel = WMSLayersPanelComponent;\n  var internalPanel = new panel({\n    service: service,\n    config: config\n  });\n  this.setInternalPanel(internalPanel);\n  this.unmount = function () {\n    return base(this, 'unmount').then(function () {\n      service.clear();\n    });\n  };\n}\n\ninherit(WmsLayersPanel, Panel);\n\nexports.default = WmsLayersPanel;\n\n},{\"components/WMSLayersPanel.vue\":309,\"core/utils/utils\":68,\"gui/panel\":160}],191:[function(require,module,exports){\nvar _WMS = require('components/WMS.vue');\n\nvar vueComponentOptions = _interopRequireWildcard(_WMS);\n\nvar _service = require('gui/wms/service');\n\nvar _service2 = _interopRequireDefault(_service);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar Component = require('gui/component/component');\n\nvar InternalComponent = Vue.extend(vueComponentOptions);\n\nfunction ToolsComponent() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this, options);\n  this._service = new _service2.default(options);\n  this.title = \"WMS\";\n\n  var internalComponent = new InternalComponent({\n    service: this._service\n  });\n\n  internalComponent.state = this._service.state;\n  this.setInternalComponent(internalComponent);\n\n  this._setOpen = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.internalComponent.state.open = bool;\n    bool && _gui2.default.closeContent();\n  };\n}\n\ninherit(ToolsComponent, Component);\n\nmodule.exports = ToolsComponent;\n\n},{\"components/WMS.vue\":308,\"core/utils/utils\":68,\"gui/component/component\":115,\"gui/wms/service\":189,\"services/gui\":356}],192:[function(require,module,exports){\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nmodule.exports = function () {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref$steps = _ref.steps,\n      steps = _ref$steps === undefined ? {} : _ref$steps;\n\n  return {\n    data: function data() {\n      return {\n        steps: steps,\n        currentStep: 0\n      };\n    },\n\n    watch: {\n      steps: {\n        handler: function handler(steps) {\n          var _this = this;\n\n          Object.values(steps).find(function (step, index) {\n            if (!step.done) {\n              _this.currentStep = index;\n              return true;\n            }\n          });\n        },\n\n        deep: false\n      }\n    },\n    render: function render(h) {\n      var _this2 = this;\n\n      return h('ul', {\n        style: {\n          alignSelf: 'flex-start',\n          listStyle: 'none',\n          padding: (_applicationState2.default.ismobile ? 5 : 10) + 'px !important',\n          marginBottom: 0\n        }\n      }, Object.values(this.steps).map(function (step, index) {\n        var _class;\n\n        var state = {\n          current: !step.done && index === _this2.currentStep,\n          done: step.done,\n          todo: !step.done && index !== _this2.currentStep\n        };\n        return h('li', {\n          style: {\n            fontWeight: (step.done || !step.done && index === _this2.currentStep) && 'bold' || null,\n            marginBottom: '5px',\n            color: step.done && \"green\",\n            display: step.buttonnext && 'inline-flex'\n          }\n        }, [h('i', {\n          style: {\n            marginRight: '5px',\n            fontWeight: step.done && 'bold'\n          },\n          class: (_class = {}, _defineProperty(_class, _gui2.default.getFontClass('arrow-right'), state.current), _defineProperty(_class, _gui2.default.getFontClass('empty-circle'), state.todo), _defineProperty(_class, _gui2.default.getFontClass('success'), state.done), _class)\n        }), h('span', {\n          directives: [{\n            name: step.directive,\n            value: step.description\n          }],\n          style: {\n            display: step.buttonnext ? 'inline-flex' : 'inline',\n            flexDirection: step.buttonnext && 'row-reverse'\n          }\n        }), step.dynamic !== undefined && h('span', {\n          style: {\n            alignSelf: 'center',\n            padding: '3px'\n          }\n        }, step.dynamic), step.buttonnext && h('button', {\n          on: {\n            click: function click() {\n              step.done = true;\n              step.buttonnext.done();\n            }\n          },\n          directives: [{\n            name: 't',\n            value: 'sdk.workflow.next'\n          }],\n          style: {\n            fontWeight: 'bold'\n          },\n          class: {\n            btn: true,\n            'btn-success': true,\n            'g3w-disabled': step.buttonnext.disabled\n          }\n        })]);\n      }));\n    }\n  };\n};\n\n},{\"services/gui\":356,\"store/application-state\":368}],193:[function(require,module,exports){\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nrequire('../deprecated');\n\nrequire('regenerator-runtime');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _viewport = require('services/viewport');\n\nvar _viewport2 = _interopRequireDefault(_viewport);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _floatbar = require('services/floatbar');\n\nvar _floatbar2 = _interopRequireDefault(_floatbar);\n\nvar _navbaritems = require('services/navbaritems');\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nvar _sidebar = require('services/sidebar');\n\nvar _sidebar2 = _interopRequireDefault(_sidebar);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nvar _App = require('components/App.vue');\n\nvar _App2 = _interopRequireDefault(_App);\n\nvar _GlobalImage = require('components/GlobalImage.vue');\n\nvar _GlobalImage2 = _interopRequireDefault(_GlobalImage);\n\nvar _GlobalGallery = require('components/GlobalGallery.vue');\n\nvar _GlobalGallery2 = _interopRequireDefault(_GlobalGallery);\n\nvar _GlobalGeo = require('components/GlobalGeo.vue');\n\nvar _GlobalGeo2 = _interopRequireDefault(_GlobalGeo);\n\nvar _GlobalSkeleton = require('components/GlobalSkeleton.vue');\n\nvar _GlobalSkeleton2 = _interopRequireDefault(_GlobalSkeleton);\n\nvar _GlobalBarLoader = require('components/GlobalBarLoader');\n\nvar _GlobalBarLoader2 = _interopRequireDefault(_GlobalBarLoader);\n\nvar _GlobalProgressBar = require('components/GlobalProgressBar');\n\nvar _GlobalProgressBar2 = _interopRequireDefault(_GlobalProgressBar);\n\nvar _GlobalHelpDiv = require('components/GlobalHelpDiv.vue');\n\nvar _GlobalHelpDiv2 = _interopRequireDefault(_GlobalHelpDiv);\n\nvar _GlobalResize = require('components/GlobalResize.vue');\n\nvar _GlobalResize2 = _interopRequireDefault(_GlobalResize);\n\nvar _GlobalLayerPositions = require('components/GlobalLayerPositions.vue');\n\nvar _GlobalLayerPositions2 = _interopRequireDefault(_GlobalLayerPositions);\n\nvar _GlobalDateTime = require('components/GlobalDateTime.vue');\n\nvar _GlobalDateTime2 = _interopRequireDefault(_GlobalDateTime);\n\nvar _GlobalRange = require('components/GlobalRange.vue');\n\nvar _GlobalRange2 = _interopRequireDefault(_GlobalRange);\n\nvar _GlobalResizeIcon = require('components/GlobalResizeIcon.vue');\n\nvar _GlobalResizeIcon2 = _interopRequireDefault(_GlobalResizeIcon);\n\nvar _GlobalTabs = require('components/GlobalTabs.vue');\n\nvar _GlobalTabs2 = _interopRequireDefault(_GlobalTabs);\n\nvar _GlobalDivider = require('components/GlobalDivider.vue');\n\nvar _GlobalDivider2 = _interopRequireDefault(_GlobalDivider);\n\nvar _Floatbar = require('components/Floatbar.vue');\n\nvar _Floatbar2 = _interopRequireDefault(_Floatbar);\n\nvar _NavbaritemsLeft = require('components/NavbaritemsLeft.vue');\n\nvar _NavbaritemsLeft2 = _interopRequireDefault(_NavbaritemsLeft);\n\nvar _NavbaritemsRight = require('components/NavbaritemsRight.vue');\n\nvar _NavbaritemsRight2 = _interopRequireDefault(_NavbaritemsRight);\n\nvar _Sidebar = require('components/Sidebar.vue');\n\nvar _Sidebar2 = _interopRequireDefault(_Sidebar);\n\nvar _Viewport = require('components/Viewport.vue');\n\nvar _Viewport2 = _interopRequireDefault(_Viewport);\n\nvar _vDisabled = require('directives/v-disabled');\n\nvar _vDisabled2 = _interopRequireDefault(_vDisabled);\n\nvar _vChecked = require('directives/v-checked');\n\nvar _vChecked2 = _interopRequireDefault(_vChecked);\n\nvar _vSelectedFirst = require('directives/v-selected-first');\n\nvar _vSelectedFirst2 = _interopRequireDefault(_vSelectedFirst);\n\nvar _vSelect = require('directives/v-select2');\n\nvar _vSelect2 = _interopRequireDefault(_vSelect);\n\nvar _vTTooltip = require('directives/v-t-tooltip');\n\nvar _vTTooltip2 = _interopRequireDefault(_vTTooltip);\n\nvar _vTHtml = require('directives/v-t-html');\n\nvar _vTHtml2 = _interopRequireDefault(_vTHtml);\n\nvar _vTPlaceholder = require('directives/v-t-placeholder');\n\nvar _vTPlaceholder2 = _interopRequireDefault(_vTPlaceholder);\n\nvar _vTTitle = require('directives/v-t-title');\n\nvar _vTTitle2 = _interopRequireDefault(_vTTitle);\n\nvar _vT = require('directives/v-t');\n\nvar _vT2 = _interopRequireDefault(_vT);\n\nvar _vTPlugin = require('directives/v-t-plugin');\n\nvar _vTPlugin2 = _interopRequireDefault(_vTPlugin);\n\nvar _vPlugins = require('directives/v-plugins');\n\nvar _vPlugins2 = _interopRequireDefault(_vPlugins);\n\nvar _vOnline = require('directives/v-online');\n\nvar _vOnline2 = _interopRequireDefault(_vOnline);\n\nvar _vDownload = require('directives/v-download');\n\nvar _vDownload2 = _interopRequireDefault(_vDownload);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } // Backward compatibilies with old G3W-CLIENT plugins (eg. window variables)\n\n\n/**\n * Add babel runtime support for compiled/transpiled async functions\n * \n * @TODO check if this still useful nowdays (IE 11 ?)\n */\n\n\n//import core\n\n\n//import services\n\n\n// import store\n\n\n//components\n\n\n//directives\n\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    toRawType = _require.toRawType;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t,\n    tPlugin = _require2.tPlugin;\n\nvar G3WObject = require('core/g3wobject');\nvar ProjectsMenuComponent = require('gui/projectsmenu/projectsmenu');\n\n/**\n * Expose \"g3wsdk\" variable globally\n *\n * used by plugins to load sdk class and instances\n */\nwindow.g3wsdk = require('api');\n\nrequire('app/dev');\n\n/**\n * EXPERIMENTAL: not yet implemented\n *\n * @see https://github.com/g3w-suite/g3w-client/issues/71\n * @see https://github.com/g3w-suite/g3w-client/issues/46\n */\n// window.g3w = window.g3wsdk;\n\n/**\n * Install global components\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.globalcomponents.js@3.6\n */\nVue.component(_GlobalImage2.default.name, _GlobalImage2.default);\nVue.component(_GlobalGallery2.default.name, _GlobalGallery2.default);\nVue.component(_GlobalGeo2.default.name, _GlobalGeo2.default);\nVue.component(_GlobalBarLoader2.default.name, _GlobalBarLoader2.default);\nVue.component(_GlobalProgressBar2.default.name, _GlobalProgressBar2.default);\nVue.component(_GlobalSkeleton2.default.name, _GlobalSkeleton2.default);\nVue.component(_GlobalHelpDiv2.default.name, _GlobalHelpDiv2.default);\nVue.component(_GlobalResize2.default.name, _GlobalResize2.default);\nVue.component(_GlobalLayerPositions2.default.name, _GlobalLayerPositions2.default);\nVue.component(_GlobalDateTime2.default.name, _GlobalDateTime2.default);\nVue.component(_GlobalRange2.default.name, _GlobalRange2.default);\nVue.component(_GlobalResizeIcon2.default.name, _GlobalResizeIcon2.default);\nVue.component(_GlobalTabs2.default.name, _GlobalTabs2.default);\nVue.component(_GlobalDivider2.default.name, _GlobalDivider2.default);\n\n/**\n * Install application filters\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.filter.js@3.6\n */\nVue.filter('t', function (value) {\n  return t(value);\n});\nVue.filter('tPlugin', function (value) {\n  return value !== null ? tPlugin(value) : '';\n});\n\n/**\n * Install global directives\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vue.directives.js@v3.6\n */\nVue.directive(\"disabled\", _vDisabled2.default);\nVue.directive(\"checked\", _vChecked2.default);\nVue.directive(\"selected-first\", _vSelectedFirst2.default);\nVue.directive('select2', _vSelect2.default);\nVue.directive('t-tooltip', _vTTooltip2.default);\nVue.directive('t-html', _vTHtml2.default);\nVue.directive('t-placeholder', _vTPlaceholder2.default);\nVue.directive('t-title', _vTTitle2.default);\nVue.directive(\"t\", _vT2.default);\nVue.directive(\"t-plugin\", _vTPlugin2.default);\nVue.directive(\"plugins\", _vPlugins2.default);\nVue.directive(\"online\", _vOnline2.default);\nVue.directive(\"download\", _vDownload2.default);\n\n/**\n * Install global plugins\n */\nVue.use(window.VueCookie);\n\n/**\n * Vue 2 Plugin used to add global-level functionality to Vue\n *\n * @link https://v2.vuejs.org/v2/guide/plugins.html\n *\n * ORIGINAL SOURCE: src/app/gui/vue/vueappplugin.js@3.6\n */\nVue.use({\n  install: function install(Vue) {\n    // hold a list of registered fontawsome classes for current project\n    Vue.prototype.g3wtemplate = {\n      font: {\n        'change-map': \"fas fa-map-signs\",\n        map: \"far fa-map\",\n        file: \"fas fa-file-code\",\n        marker: \"fas fa-map-marker-alt\",\n        relation: \"fas fa-sitemap\",\n        tools: \"fas fa-cogs\",\n        tool: \"fas fa-cog\",\n        search: \"fas fa-search\",\n        print: \"fas fa-print\",\n        info: \"fas fa-info-circle\",\n        'info-circle': \"fas fa-info-circle\",\n        globe: \"fas fa-globe\",\n        mail: \"fas fa-envelope\",\n        mobile: \"fas fa-mobile\",\n        fax: \"fas fa-fax\",\n        user: \"fas fa-user\",\n        bars: \"fas fa-bars\",\n        uncheck: \"far fa-square\",\n        check: \"far fa-check-square\",\n        filluncheck: \"fas fa-square\",\n        table: \"fas fa-table\",\n        trash: \"fas fa-trash\",\n        'trash-o': \"far fa-trash-alt\",\n        pencil: \"fas fa-pencil-alt\",\n        'ellips-h': \"fas fa-ellipsis-h\",\n        'ellips-v': \"fas fa-ellipsis-v\",\n        'arrow-up': \"fas fa-chevron-up\",\n        'arrow-down': \"fas fa-chevron-down\",\n        'arrow-left': \"fas fa-chevron-left\",\n        'arrow-right': \"fas fa-chevron-right\",\n        'resize-h': \"fas fa-arrows-alt-h\",\n        'resize-v': \"fas fa-arrows-alt-v\",\n        'resize-default': \"fas fa-compress\",\n        'caret-up': \"fas fa-caret-up\",\n        'caret-down': \"fas fa-caret-down\",\n        'caret-left': \"fas fa-caret-left\",\n        'caret-right': \"fas fa-caret-right\",\n        'empty-circle': \"far fa-circle\",\n        'cloud-upload': \"fas fa-cloud-upload-alt\",\n        spinner: \"fas fa-spinner\",\n        minus: \"fas fa-minus\",\n        \"minus-square\": \"far fa-minus-square\",\n        plus: \"fas fa-plus\",\n        'plus-circle': \"fas fa-plus-circle\",\n        'plus-square': \"far fa-plus-square\",\n        grid: \"fas fa-th\",\n        home: \"fas fa-home\",\n        folder: \"fas fa-folder\",\n        'sign-out': \"fas fa-sign-out-alt\",\n        close: \"fas fa-times\",\n        time: \"far fa-clock\",\n        calendar: \"fas fa-calendar-alt\",\n        list: \"fas fa-list-alt\",\n        link: \"fas fa-link\",\n        unlink: \"fas fa-unlink\",\n        eye: \"far fa-eye\",\n        'eye-close': \"far fa-eye-slash\",\n        save: \"far fa-save\",\n        pdf: \"fas fa-file-pdf\",\n        image: \"far fa-image\",\n        video: \"far fa-file-video\",\n        unknow: \"far fa-question-circle\",\n        zip: \"far fa-file-archive\",\n        text: \"far fa-file-alt\",\n        excel: \"far fa-file-excel\",\n        xls: \"far fa-file-excel\",\n        gpx: \"fas fa-location-arrow\",\n        gpkg: \"fas fa-box-open\",\n        shapefile: \"fas fa-file-archive\",\n        csv: \"fas fa-file-csv\",\n        geotiff: \"fas fa-th\",\n        ppt: \"far fa-file-powerpoint\",\n        circle: \"fas fa-circle\",\n        calculator: \"fas fa-calculator\",\n        picture: \"far fa-image\",\n        keyboard: \"far fa-keyboard\",\n        'file-download': \"fas fa-file-download\",\n        copy: \"far fa-copy\",\n        draw: \"fas fa-draw-polygon\",\n        chart: \"fas fa-chart-bar\",\n        'chart-line': \"fas fa-chart-line\",\n        'chart-area': \"fas fa-chart-area\",\n        'chart-pie': \"fas fa-chart-pie\",\n        run: \"fas fa-play\",\n        warning: \"fas fa-exclamation-circle\",\n        alert: \"fas fa-exclamation-triangle\",\n        crosshairs: \"fas fa-crosshairs\",\n        success: \"far fa-check-circle\",\n        back: \"fas fa-chevron-circle-left\",\n        'file-upload': \"fas fa-file-upload\",\n        wifi: \"fas fa-wifi\",\n        mouse: \"fas fa-mouse\",\n        'copy-paste': \"far fa-copy\",\n        'vector-square': \"fas fa-vector-square\",\n        download: \"fas fa-download\",\n        credits: \"fas fa-euro-sign\",\n        filter: \"fas fa-filter\",\n        plugin: \"fas fa-plug\",\n        invert: \"fas fa-exchange-alt\",\n        clear: \"fas fa-broom\",\n        palette: \"fas fa-palette\",\n        layers: \"fas fa-layer-group\",\n        'sign-in': \"fas fa-sign-in-alt\",\n        language: \"fas fa-language\",\n        target: \"fas fa-bullseye\",\n        pin: \"fas fa-map-pin\",\n        square: \"far fa-square\",\n        move: \"fas fa-arrows-alt\",\n        moon: \"fas fa-moon\",\n        sun: \"fas fa-sun\",\n        refresh: \"fas fa-sync-alt\",\n        pause: \"fas fa-pause\",\n        'step-backward': \"fas fa-step-backward\",\n        'fast-backward': \"fas fa-fast-backward\",\n        'step-forward': \"fas fa-step-forward\",\n        'fast-forward': \"fas fa-fast-forward\",\n        crop: \"fas fa-crop-alt\",\n        exit: \"fas fa-door-open\",\n        slider: \"fas fa-sliders-h\",\n        bookmark: \"fas fa-bookmark\"\n      },\n      /**\n       * @TODO check if deprecated\n       */\n      get: function get() {},\n      getInfo: function getInfo() {\n        return {\n          font: this.font\n        };\n      },\n      addFontClass: function addFontClass() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            name = _ref.name,\n            className = _ref.className;\n\n        var added = this.font[name] === undefined;\n        if (added) this.font[name] = className;\n        return added;\n      },\n\n      /**\n       * @TODO check if deprecated\n       */\n      getInfoString: function getInfoString() {},\n      getFontClass: function getFontClass(type) {\n        return typeof this.font[type] !== \"undefined\" ? this.font[type] : '';\n      }\n    };\n    // include isMobile() method within all Vue instances\n    Vue.mixin({\n      methods: {\n        isMobile: function (_isMobile) {\n          function isMobile() {\n            return _isMobile.apply(this, arguments);\n          }\n\n          isMobile.toString = function () {\n            return _isMobile.toString();\n          };\n\n          return isMobile;\n        }(function () {\n          return isMobile.any;\n        })\n      }\n    });\n  }\n}, {});\n\nVue.mixin({ inheritAttrs: false }); // set mixins inheriAttrs to avoid tha unused props are setted as attrs\n\n/**\n * @requires components/App.vue\n */\nvar layout = $.LayoutManager;\n\n// loading spinner at beginning\nlayout.loading(true);\n\n/**\n * ORIGINAL SOURCE: src/gui/app/index.js@3.4\n */\nvar ApplicationTemplate = function ApplicationTemplate(_ref2) {\n  var ApplicationService = _ref2.ApplicationService;\n\n  var appLayoutConfig = ApplicationService.getConfig().layout || {};\n  // useful to build a difference layout/component based on mobile or not\n  this._isMobile = isMobile.any;\n  this._isIframe = appLayoutConfig.iframe;\n  //ussefult ot not close user message when set content is called\n  this.sizes = {\n    sidebar: {\n      width: 0\n    }\n  };\n  /*\n    usefull to show onaly last waiting request output\n    at moment will be an object\n    {\n      stop: method to sot to show result\n    }\n   */\n  this.waitingoutputdataplace = null;\n  this.init = function () {\n    // create Vue App\n    this._createApp();\n  };\n  // create application config\n  this._createTemplateConfig = function () {\n    var G3WTemplate = Vue.prototype.g3wtemplate;\n    var appTitle = ApplicationService.getConfig().apptitle || 'G3W Suite';\n    var ContentsComponent = require('gui/viewport/contentsviewer');\n    var CatalogComponent = require('gui/catalog/vue/catalog');\n    var SearchComponent = require('gui/search/vue/search');\n    var QueryBuilderUIFactory = require('gui/querybuilder/querybuilderuifactory');\n    var PrintComponent = require('gui/print/vue/print');\n    var MetadataComponent = require('gui/metadata/vue/metadata');\n    var ToolsComponent = require('gui/tools/vue/tools');\n    var WMSComponent = require('gui/wms/vue/wms');\n    var MapComponent = require('gui/map/vue/map');\n    var QueryResultsComponent = require('gui/queryresults/vue/queryresults');\n    var SpatialBookMarksComponent = require('gui/spatialbookmarks/vue/spatialbookmarks');\n    return {\n      title: appTitle,\n      placeholders: {\n        navbar: {\n          components: []\n        },\n        sidebar: {\n          components: [new MetadataComponent({\n            id: 'metadata',\n            open: false,\n            collapsible: false,\n            icon: G3WTemplate.getFontClass('file'),\n            mobile: true\n          }), new SpatialBookMarksComponent({\n            id: 'spatialbookmarks',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('bookmark'),\n            mobile: true\n          }), new PrintComponent({\n            id: 'print',\n            open: false,\n            collapsible: true, //  it used to manage click event if can run setOpen component method\n            icon: G3WTemplate.getFontClass('print'),\n            mobile: false\n          }), new SearchComponent({\n            id: 'search',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('search'),\n            actions: [{\n              id: \"querybuilder\",\n              class: G3WTemplate.getFontClass('calculator') + ' sidebar-button sidebar-button-icon',\n              tooltip: 'Query Builder',\n              fnc: function fnc() {\n                _gui2.default.closeContent();\n                ApplicationTemplate.Services.sidebar.closeOpenComponents();\n                QueryBuilderUIFactory.show({\n                  type: 'sidebar' // sidebar or modal\n                });\n              },\n              style: {\n                color: '#8DC3E3',\n                padding: '6px',\n                fontSize: '1.2em',\n                borderRadius: '3px',\n                marginRight: '5px'\n              }\n            }],\n            mobile: true\n          }),\n          // Component that store plugins\n          new ToolsComponent({\n            id: 'tools',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('tools'),\n            mobile: true\n          }), new WMSComponent({\n            id: 'wms',\n            open: false,\n            collapsible: true,\n            icon: G3WTemplate.getFontClass('layers'),\n            mobile: true\n          }), new CatalogComponent({\n            id: 'catalog',\n            open: false,\n            collapsible: false,\n            isolate: true,\n            icon: G3WTemplate.getFontClass('map'),\n            mobile: true,\n            config: {\n              legend: {\n                config: appLayoutConfig.legend\n              }\n            }\n          })]\n        },\n        floatbar: {\n          components: []\n        }\n      },\n      othercomponents: [new QueryResultsComponent({\n        id: 'queryresults'\n      })],\n      viewport: {\n        // placeholder of the content (view content). Secondary view (hidden)\n        components: {\n          map: new MapComponent({\n            id: 'map'\n          }),\n          content: new ContentsComponent({\n            id: 'contents'\n          })\n        }\n      }\n    };\n  };\n\n  //Vue app\n  this._createApp = function () {\n    this._setDataTableLanguage();\n    var self = this;\n    if (isMobile.any || this._isIframe) $('body').addClass('sidebar-collapse');\n    return new Vue({\n      el: '#app',\n      created: function created() {\n        // set general metods for the application as  GUI.showForm etc ..\n        self._setupInterface();\n        // setup layout\n        self._setupLayout();\n        //register all services fro the application\n        self._setUpServices();\n        // create templateConfig\n        self.templateConfig = self._createTemplateConfig();\n        // listen lng change and reset datatable language\n        this.$watch(function () {\n          return _applicationState2.default.language;\n        }, function () {\n          self._setDataTableLanguage();\n        });\n      },\n      mounted: function () {\n        var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n          var skinColor;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return this.$nextTick();\n\n                case 2:\n                  self._buildTemplate();\n                  // setup Font, Css class methods\n                  self._setUpTemplateDependencies(this);\n                  $(document).localize();\n                  self._setViewport(self.templateConfig.viewport);\n                  skinColor = $('.navbar').css('background-color');\n\n                  _gui2.default.skinColor = skinColor && '#' + skinColor.substr(4, skinColor.indexOf(')') - 4).split(',').map(function (color) {\n                    return parseInt(color).toString(16);\n                  }).join('');\n                  _context.next = 10;\n                  return this.$nextTick();\n\n                case 10:\n                  self.emit('ready');\n                  self.sizes.sidebar.width = $('#g3w-sidebar').width();\n                  //getSkinColor\n                  _gui2.default.ready();\n\n                case 13:\n                case 'end':\n                  return _context.stop();\n              }\n            }\n          }, _callee, this);\n        }));\n\n        function mounted() {\n          return _ref3.apply(this, arguments);\n        }\n\n        return mounted;\n      }()\n    });\n  };\n\n  this._setupLayout = function () {\n    if (!isMobile.any) {\n      // setup map controls\n      $(\"<style type='text/css'> .ol-control-tl {\" + \"top: 7px;\" + \"left:43px;\" + \"}</style>\").appendTo(\"head\");\n    }\n    // Inizialization of the components of the application\n    Vue.component('sidebar', _Sidebar2.default);\n    //Navbar custom items\n    Vue.component('navbarleftitems', _NavbaritemsLeft2.default);\n    Vue.component('navbarrightitems', _NavbaritemsRight2.default);\n    Vue.component('viewport', _Viewport2.default);\n    Vue.component('floatbar', _Floatbar2.default);\n    Vue.component('app', _App2.default);\n  };\n\n  // dataTable Translations and custom extentions\n  this._setDataTableLanguage = function () {\n    var dataTable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var languageOptions = {\n      \"language\": {\n        \"sSearch\": '',\n        \"searchPlaceholder\": t(\"dosearch\"),\n        \"sLengthMenu\": t(\"dataTable.lengthMenu\"),\n        \"paginate\": {\n          \"previous\": t(\"dataTable.previous\"),\n          \"next\": t(\"dataTable.next\")\n        },\n        \"info\": t(\"dataTable.info\"),\n        \"zeroRecords\": t(\"dataTable.nodatafilterd\"),\n        \"infoFiltered\": ''\n      }\n    };\n    //set form control class to filter\n    $.extend($.fn.dataTableExt.oStdClasses, {\n      \"sFilterInput\": \"form-control search\"\n    });\n    !dataTable ? $.extend(true, $.fn.dataTable.defaults, languageOptions) : dataTable.dataTable({ \"oLanguage\": languageOptions });\n  };\n\n  // route setting att beginning (is an example)\n  this._addRoutes = function () {\n    var RouterService = ApplicationService.getRouterService();\n    var mapService = _gui2.default.getComponent('map').getService();\n    RouterService.addRoute('map/zoomto/{coordinate}/:zoom:', function (coordinate, zoom) {\n      coordinate = _.map(coordinate.split(','), function (xy) {\n        return Number(xy);\n      });\n      zoom = zoom ? Number(zoom) : null;\n      if (coordinate.length) {\n        mapService.on('ready', function () {\n          this.zoomTo(coordinate, zoom);\n        });\n      }\n    });\n  };\n\n  //register all services\n  this._setUpServices = function () {\n    Object.keys(ApplicationTemplate.Services).forEach(function (element) {\n      var service = ApplicationTemplate.Services[element];\n      ApplicationService.registerService(element, service);\n    });\n    Object.values(_gui2.default.getComponents()).forEach(function (component) {\n      ApplicationService.registerService(component.id, component.getService());\n    });\n    ApplicationTemplate.Services.viewport.on('resize', function () {\n      return _gui2.default.emit('resize');\n    });\n  };\n  // build template function\n  this._buildTemplate = function () {\n    var _this = this;\n\n    _floatbar2.default.init(layout);\n    var placeholdersConfig = this.templateConfig.placeholders;\n    Object.entries(placeholdersConfig).forEach(function (_ref4) {\n      var _ref5 = _slicedToArray(_ref4, 2),\n          placeholder = _ref5[0],\n          options = _ref5[1];\n\n      _this._addComponents(options.components, placeholder);\n    });\n    //register other compoents\n    this._addOtherComponents();\n  };\n\n  //add component not related to placeholder\n  this._addOtherComponents = function () {\n    if (this.templateConfig.othercomponents) this._addComponents(this.templateConfig.othercomponents);\n  };\n  // viewport setting\n  this._setViewport = function (viewportOptions) {\n    // viewport components\n    // es.: map e content\n    /*\n     components: {\n      map: new MapComponent({\n        id: 'map'\n      }),\n      content: new ContentsComponent({\n        id: 'content',\n      })\n     }\n      */\n    if (viewportOptions) {\n      ApplicationTemplate.Services.viewport.init(viewportOptions);\n      this._addComponents(viewportOptions.components);\n    }\n  };\n\n  // add component to template\n  this._addComponent = function (component, placeholder) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    this._addComponents([component], placeholder, options);\n    return true;\n  };\n\n  // registry component\n  this._addComponents = function (components, placeholder, options) {\n    var register = true;\n    if (placeholder && ApplicationTemplate.PLACEHOLDERS.indexOf(placeholder) > -1) {\n      var placeholderService = ApplicationTemplate.Services[placeholder];\n      if (placeholderService) register = placeholderService.addComponents(components, options);\n    }\n    Object.entries(components).forEach(function (_ref6) {\n      var _ref7 = _slicedToArray(_ref6, 2),\n          key = _ref7[0],\n          component = _ref7[1];\n\n      if (register) {\n        _components2.default.registerComponent(component);\n        ApplicationService.registerService(component.id, component.getService());\n      }\n    });\n  };\n\n  this._removeComponent = function (componentId, placeholder, options) {\n    var component = _components2.default.unregisterComponent(componentId);\n    placeholder && ApplicationTemplate.Services[placeholder] && ApplicationTemplate.Services[placeholder].removeComponent(component, options);\n  };\n\n  this._showModalOverlay = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var message = arguments[1];\n\n    var mapService = _gui2.default.getService('map');\n    if (bool) mapService.startDrawGreyCover(message);else mapService.stopDrawGreyCover();\n  };\n\n  this._isSidebarVisible = function () {\n    return !$('body').hasClass('sidebar-collapse');\n  };\n\n  this._showSidebar = function () {\n    $('body').addClass('sidebar-open');\n    $('body').removeClass('sidebar-collapse');\n  };\n\n  this._hideSidebar = function () {\n    $('body').removeClass('sidebar-open');\n    $('body').addClass('sidebar-collapse');\n  };\n\n  // setup Fonts Css dependencies methods\n  this._setUpTemplateDependencies = function (VueApp) {\n    _gui2.default.isMobile = function () {\n      return isMobile.any;\n    };\n    // method that return Template Info\n    _gui2.default.getTemplateInfo = function () {\n      return VueApp.g3wtemplate.getInfo();\n    };\n    _gui2.default.getTemplateInfo = function () {\n      return VueApp.g3wtemplate.getInfo();\n    };\n    _gui2.default.getFontClass = function (type) {\n      return VueApp.g3wtemplate.getFontClass(type);\n    };\n  };\n\n  /**\n   * Convert error to user message showed\n   * @param error\n   * @returns {string}\n   */\n  _gui2.default.errorToMessage = function (error) {\n    var message = 'server_error';\n    switch (toRawType(error)) {\n      case 'Error':\n        message = 'CLIENT - ' + error.message;\n        break;\n      case 'Object':\n        if (error.responseJSON) {\n          error = error.responseJSON;\n          if (error.result === false) {\n            var _error$error = error.error,\n                _error$error$code = _error$error.code,\n                code = _error$error$code === undefined ? '' : _error$error$code,\n                _error$error$data = _error$error.data,\n                data = _error$error$data === undefined ? '' : _error$error$data,\n                _error$error$message = _error$error.message,\n                msg = _error$error$message === undefined ? '' : _error$error$message;\n\n            message = code.toUpperCase() + ' ' + data + ' ' + msg;\n          }\n        } else if (error.responseText) {\n          message = error.responseText;\n        }\n        break;\n      case 'Array':\n        message = error.map(function (error) {\n          return _gui2.default.errorToMessage(error);\n        }).join(' ');\n        break;\n      case 'String':\n      default:\n        message = error;\n    }\n    return message;\n  };\n\n  // setup Interaces\n  this._setupInterface = function () {\n    var _this2 = this;\n\n    /* PLUBLIC INTERFACE */\n    /* Common methods */\n    _gui2.default.layout = layout;\n    _gui2.default.getSize = function (_ref8) {\n      var element = _ref8.element,\n          what = _ref8.what;\n\n      if (element && what) return _this2.sizes[element][what];\n    };\n    _gui2.default.addComponent = this._addComponent.bind(this);\n    _gui2.default.removeComponent = this._removeComponent.bind(this);\n    /* Metodos to define */\n    _gui2.default.getResourcesUrl = function () {\n      return ApplicationService.getConfig().resourcesurl;\n    };\n    //LIST\n    _gui2.default.showList = _floatbar2.default.showPanel.bind(_floatbar2.default);\n    _gui2.default.closeList = _floatbar2.default.closePanel.bind(_floatbar2.default);\n    _gui2.default.hideList = _floatbar2.default.hidePanel.bind(_floatbar2.default);\n    // TABLE\n    _gui2.default.showTable = function () {};\n    _gui2.default.closeTable = function () {};\n\n    //Function called from DataRouterservice for gui output\n    /**\n     *\n     * @param data\n     * @param options\n     */\n    _gui2.default.outputDataPlace = function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(dataPromise) {\n        var _this3 = this;\n\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        var defaultOutputConfig, _options$title, title, _options$show, show, before, after, outputConfig, condition, add, loading, queryResultsService;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                // show parameter it used to set condition to show result or not\n                // loading parameter is used to show result content when we are wait the response. Default true otherwise we shoe result content at the end\n                defaultOutputConfig = { condition: true, add: false, loading: true };\n                _options$title = options.title, title = _options$title === undefined ? '' : _options$title, _options$show = options.show, show = _options$show === undefined ? defaultOutputConfig : _options$show, before = options.before, after = options.after;\n                // convert show in an object\n\n                outputConfig = toRawType(show) !== 'Object' ? {\n                  condition: show, // can be Function or Boolean otherwise is set true\n                  add: false,\n                  loading: true\n                } : _extends({}, defaultOutputConfig, show);\n                condition = outputConfig.condition, add = outputConfig.add, loading = outputConfig.loading;\n                //check if waiting output data\n                // in case we stop and substiute with new request data\n\n                _context4.t0 = this.waitingoutputdataplace;\n\n                if (!_context4.t0) {\n                  _context4.next = 8;\n                  break;\n                }\n\n                _context4.next = 8;\n                return this.waitingoutputdataplace.stop();\n\n              case 8:\n                queryResultsService = add ? _gui2.default.getService('queryresults') : loading && this.showContentFactory('query')(title);\n\n                this.waitingoutputdataplace = function () {\n                  var _stop = false;\n                  _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n                    var data, showResult, message;\n                    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            _context2.prev = 0;\n                            _context2.next = 3;\n                            return dataPromise;\n\n                          case 3:\n                            data = _context2.sent;\n                            _context2.t0 = before;\n\n                            if (!_context2.t0) {\n                              _context2.next = 8;\n                              break;\n                            }\n\n                            _context2.next = 8;\n                            return before(data);\n\n                          case 8:\n                            // in case of usermessage show user message\n                            data.usermessage && _gui2.default.showUserMessage({\n                              type: data.usermessage.type,\n                              message: data.usermessage.message,\n                              autoclose: data.usermessage.autoclose\n                            });\n                            if (!_stop) {\n                              // check condition\n                              showResult = toRawType(condition) === 'Function' ? condition(data) : toRawType(condition) === 'Boolean' ? condition : true;\n\n                              if (showResult) {\n                                (queryResultsService ? queryResultsService : _this3.showContentFactory('query')(title)).setQueryResponse(data, {\n                                  add: add\n                                });\n                              } else _gui2.default.closeContent();\n                              // call after is set with data\n                              after && after(data);\n                            }\n                            _context2.next = 17;\n                            break;\n\n                          case 12:\n                            _context2.prev = 12;\n                            _context2.t1 = _context2['catch'](0);\n                            message = _this3.errorToMessage(_context2.t1);\n\n                            _this3.showUserMessage({\n                              type: 'alert',\n                              message: message,\n                              textMessage: true\n                            });\n                            _this3.closeContent();\n\n                          case 17:\n                            _context2.prev = 17;\n\n                            if (!_stop) _this3.waitingoutputdataplace = null;\n                            return _context2.finish(17);\n\n                          case 20:\n                          case 'end':\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2, _this3, [[0, 12, 17, 20]]);\n                  }))();\n                  return {\n                    stop: function () {\n                      var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n                        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                          while (1) {\n                            switch (_context3.prev = _context3.next) {\n                              case 0:\n                                _stop = true;\n\n                              case 1:\n                              case 'end':\n                                return _context3.stop();\n                            }\n                          }\n                        }, _callee3, _this3);\n                      }));\n\n                      function stop() {\n                        return _ref11.apply(this, arguments);\n                      }\n\n                      return stop;\n                    }()\n                  };\n                }();\n\n              case 10:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function (_x6) {\n        return _ref9.apply(this, arguments);\n      };\n    }();\n\n    _gui2.default.showContentFactory = function (type) {\n      var showPanelContent = void 0;\n      switch (type) {\n        case 'query':\n          showPanelContent = _gui2.default.showQueryResults;\n          break;\n        case 'form':\n          showPanelContent = _gui2.default.showForm;\n          break;\n      }\n      return showPanelContent;\n    };\n\n    _gui2.default.showForm = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var perc = options.perc,\n          _options$split = options.split,\n          split = _options$split === undefined ? 'h' : _options$split,\n          push = options.push,\n          showgoback = options.showgoback,\n          crumb = options.crumb;\n\n      var FormComponent = require('gui/form/vue/form');\n      // new isnstace every time\n      var formComponent = options.formComponent ? new options.formComponent(options) : new FormComponent(options);\n      //get service\n      var formService = formComponent.getService();\n      // parameters : [content, title, push, perc, split, closable, crumb]\n      _gui2.default.setContent({\n        perc: perc,\n        content: formComponent,\n        split: split,\n        crumb: crumb,\n        push: !!push, //only one( if other delete previous component)\n        showgoback: !!showgoback,\n        closable: false\n      });\n      // return service\n      return formService;\n    };\n    /**\n     *\n     * @param pop remove or not content or pop\n     */\n    _gui2.default.closeForm = function () {\n      var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref12$pop = _ref12.pop,\n          pop = _ref12$pop === undefined ? false : _ref12$pop;\n\n      this.emit('closeform', false);\n      pop ? _gui2.default.popContent() : _viewport2.default.removeContent();\n      // force set modal to false\n      _gui2.default.setModal(false);\n    };\n\n    _gui2.default.disableElement = function (_ref13) {\n      var element = _ref13.element,\n          disable = _ref13.disable;\n\n      disable && $(element).addClass('g3w-disabled') || $(element).removeClass('g3w-disabled');\n    };\n\n    _gui2.default.disableContent = function (disable) {\n      _viewport2.default.disableContent(disable);\n    };\n\n    _gui2.default.disablePanel = function () {\n      var disable = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      _gui2.default.disableElement({\n        element: \"#g3w-sidebarpanel-placeholder\",\n        disable: disable\n      });\n    };\n\n    // hide content\n    _gui2.default.hideContent = function (bool, perc) {\n      return _viewport2.default.hideContent(bool, perc);\n    };\n\n    _gui2.default.closeContent = function () {\n      this.emit('closecontent', false);\n      return _viewport2.default.closeContent();\n    };\n\n    _gui2.default.closeOpenSideBarComponent = function () {\n      ApplicationTemplate.Services.sidebar.closeOpenComponents();\n    };\n\n    // show results info/search\n    _gui2.default.showQueryResults = function (title, results) {\n      var queryResultsComponent = _gui2.default.getComponent('queryresults');\n      var queryResultService = queryResultsComponent.getService();\n      queryResultService.reset();\n      results && queryResultService.setQueryResponse(results);\n      _gui2.default.showContextualContent({\n        content: queryResultsComponent,\n        title: \"info.title\",\n        crumb: {\n          title: \"info.title\",\n          trigger: null\n        },\n        push: _gui2.default.getPushContent(),\n        post_title: title\n      });\n      return queryResultService;\n    };\n    _gui2.default.addNavbarItem = function (item) {\n      _navbaritems2.default.addItem(item);\n    };\n    _gui2.default.removeNavBarItem = function () {};\n    _gui2.default.showPanel = _sidebar2.default.showPanel.bind(_sidebar2.default);\n    _gui2.default.closePanel = _sidebar2.default.closePanel.bind(_sidebar2.default);\n    ///\n    _gui2.default.disableApplication = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      ApplicationService.disableApplication(bool);\n    };\n\n    //showusermessage\n    _gui2.default.showUserMessage = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return _viewport2.default.showUserMessage(options);\n    };\n\n    _gui2.default.closeUserMessage = function () {\n      _viewport2.default.closeUserMessage();\n    };\n    /* ------------------ */\n    _gui2.default.notify = {\n      warning: function warning(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'warning',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      error: function error(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'alert',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      info: function info(message) {\n        var autoclose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n        _gui2.default.showUserMessage({\n          type: 'info',\n          message: message,\n          autoclose: autoclose\n        });\n      },\n      success: function success(message) {\n        _gui2.default.showUserMessage({\n          type: 'success',\n          message: message,\n          autoclose: true\n        });\n      }\n    };\n    // proxy  bootbox library\n    _gui2.default.dialog = bootbox;\n    //modal dialog//\n    _gui2.default.showModalDialog = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return _gui2.default.dialog.dialog(options);\n    };\n    /* spinner */\n    _gui2.default.showSpinner = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      var container = options.container || 'body';\n      var id = options.id || 'loadspinner';\n      var where = options.where || 'prepend'; // append | prepend\n      var style = options.style || '';\n      var transparent = options.transparent ? 'background-color: transparent' : '';\n      var center = options.center ? 'margin: auto' : '';\n      if (!$(\"#\" + id).length) {\n        $(container)[where].call($(container), '<div id=\"' + id + '\" class=\"spinner-wrapper ' + style + '\" style=\"' + transparent + '\"><div class=\"spinner ' + style + '\" style=\"' + center + '\"></div></div>');\n      }\n    };\n    //hide spinner\n    _gui2.default.hideSpinner = function () {\n      var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'loadspinner';\n\n      $(\"#\" + id).remove();\n    };\n    /* end spinner*/\n    /* end common methods */\n\n    /*  */\n    // FLOATBAR //\n    _gui2.default.showFloatbar = function () {\n      _floatbar2.default.open();\n    };\n    _gui2.default.hideFloatbar = function () {\n      _floatbar2.default.close();\n    };\n    // SIDEBAR //\n    _gui2.default.showSidebar = this._showSidebar.bind(this);\n    _gui2.default.hideSidebar = this._hideSidebar.bind(this);\n    _gui2.default.isSidebarVisible = this._isSidebarVisible.bind(this);\n\n    // RELOAD COMPONENTS\n    _gui2.default.reloadComponents = function () {\n      ApplicationTemplate.Services.sidebar.reloadComponents();\n    };\n    // MODAL\n    _gui2.default.setModal = this._showModalOverlay.bind(this);\n    _gui2.default.showFullModal = function () {\n      var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref14$element = _ref14.element,\n          element = _ref14$element === undefined ? \"#full-screen-modal\" : _ref14$element,\n          _ref14$show = _ref14.show,\n          show = _ref14$show === undefined ? true : _ref14$show;\n\n      show ? $(element).modal('show') : $(element).modal('hide');\n    };\n\n    _gui2.default.disableSideBar = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      _applicationState2.default.gui.sidebar.disabled = bool;\n    };\n\n    // VIEWPORT //\n    _gui2.default.setPrimaryView = function (viewName) {\n      _viewport2.default.setPrimaryView(viewName);\n    };\n    // only map\n    _gui2.default.showMap = function () {\n      _viewport2.default.showMap();\n    };\n\n    _gui2.default.showContextualMap = function () {\n      var perc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 30;\n      var split = arguments[1];\n\n      _viewport2.default.showContextualMap({\n        perc: perc,\n        split: split\n      });\n    };\n\n    _gui2.default.setContextualMapComponent = function (mapComponent) {\n      _viewport2.default.setContextualMapComponent(mapComponent);\n    };\n\n    _gui2.default.resetContextualMapComponent = function () {\n      _viewport2.default.resetContextualMapComponent();\n    };\n\n    //  (100%) content\n    _gui2.default.showContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _gui2.default.setLoadingContent(false);\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.setContent(options);\n      return true;\n    };\n\n    _gui2.default.showContextualContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.setContent(options);\n      return true;\n    };\n    // add component to stack (append)\n    // Differences between pushContent and setContent are :\n    //  - push every componet is added, set is refreshed\n    //  - pushContent has a new parameter (backonclose) when is clicked x\n    //  - the contentComponet is close all stack is closed\n    _gui2.default.pushContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      options.push = true;\n      _gui2.default.setContent(options);\n    };\n    // add content to stack\n    _gui2.default.pushContextualContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      _gui2.default.pushContent(options);\n    };\n    // remove last content from stack\n    _gui2.default.popContent = function () {\n      _viewport2.default.popContent();\n    };\n    //return number of component of stack\n    _gui2.default.getContentLength = function () {\n      return _viewport2.default.contentLength();\n    };\n\n    _gui2.default.getCurrentContentTitle = function () {\n      return _viewport2.default.getCurrentContentTitle();\n    };\n\n    _gui2.default.getCurrentContentId = function () {\n      return _viewport2.default.getCurrentContentId();\n    };\n\n    /**\n     * change current content title\n     * @param title\n     */\n    _gui2.default.changeCurrentContentTitle = function (title) {\n      _viewport2.default.changeCurrentContentTitle(title);\n    };\n    /**\n     * change current content options\n     * @param options: {title, crumb}\n     */\n    _gui2.default.changeCurrentContentOptions = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _viewport2.default.changeCurrentContentOptions(options);\n    };\n\n    /**\n     * Method to get current content\n     */\n    _gui2.default.getCurrentContent = function () {\n      return _viewport2.default.getCurrentContent();\n    };\n\n    _gui2.default.toggleFullViewContent = function () {\n      _viewport2.default.toggleFullViewContent();\n    };\n\n    _gui2.default.resetToDefaultContentPercentage = function () {\n      _viewport2.default.resetToDefaultContentPercentage();\n    };\n\n    _gui2.default.getProjectMenuDOM = function () {\n      var _ref15 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          projects = _ref15.projects,\n          host = _ref15.host,\n          cbk = _ref15.cbk;\n\n      var options = {\n        projects: projects && Array.isArray(projects) && projects,\n        cbk: cbk,\n        host: host\n      };\n      var projectVueMenuComponent = new ProjectsMenuComponent(options).getInternalComponent();\n      return projectVueMenuComponent.$mount().$el;\n    };\n\n    _gui2.default.setCloseUserMessageBeforeSetContent = function () {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this._closeUserMessageBeforeSetContent = bool;\n    };\n\n    _gui2.default._setContent = function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _this2._closeUserMessageBeforeSetContent && _gui2.default.closeUserMessage();\n      options.content = options.content || null;\n      options.title = options.title || \"\";\n      options.push = _.isBoolean(options.push) ? options.push : false;\n      options.perc = _this2._isMobile ? 100 : options.perc;\n      options.split = options.split || 'h';\n      options.backonclose = _.isBoolean(options.backonclose) ? options.backonclose : false;\n      options.showtitle = _.isBoolean(options.showtitle) ? options.showtitle : true;\n      _viewport2.default.showContent(options);\n    };\n\n    _gui2.default.hideClientMenu = function () {\n      ApplicationService.getConfig().user = null;\n    };\n\n    _gui2.default.hideChangeMaps = function () {\n      ApplicationService.getConfig().projects = [];\n    };\n\n    // return specific classes\n    _gui2.default.getTemplateClasses = function () {\n      return BootstrapVersionClasses;\n    };\n\n    _gui2.default.getTemplateClass = function (_ref16) {\n      var element = _ref16.element,\n          type = _ref16.type;\n\n      return BootstrapVersionClasses[element][type];\n    };\n\n    _gui2.default.setLoadingContent = function () {\n      var loading = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      ApplicationTemplate.Services.viewport.setLoadingContent(loading);\n      return loading && new Promise(function (resolve) {\n        setTimeout(resolve, 200);\n      });\n    };\n\n    _gui2.default.openProjectsMenu = function () {\n      var contentsComponent = _gui2.default.getComponent('contents');\n      // check if is projectmenucomponent\n      if (contentsComponent.getComponentById('projectsmenu')) _gui2.default.closeContent();else {\n        if (this.isMobile()) {\n          _gui2.default.hideSidebar();\n          $('#main-navbar.navbar-collapse').removeClass('in');\n        }\n        ApplicationTemplate.Services.sidebar.closeOpenComponents();\n        _gui2.default.setContent({\n          content: new ProjectsMenuComponent(),\n          title: '',\n          perc: 100\n        });\n      }\n    };\n  };\n  base(this);\n};\n\ninherit(ApplicationTemplate, G3WObject);\n\n// Placeholder knowed by application\nApplicationTemplate.PLACEHOLDERS = ['navbar', 'sidebar', 'viewport', 'floatbar'];\n\n// service know by the applications (standard)\nApplicationTemplate.Services = {\n  navbar: null,\n  sidebar: _sidebar2.default,\n  viewport: _viewport2.default,\n  floatbar: null\n};\n\nApplicationTemplate.fail = function (_ref17) {\n  var _ref17$language = _ref17.language,\n      language = _ref17$language === undefined ? 'en' : _ref17$language,\n      error = _ref17.error;\n\n  layout.loading(false);\n  var error_page = {\n    it: {\n      error: error || \"Errore di connessione\",\n      at_moment: \"Al momento non  possibile caricare la mappa\",\n      f5: \"Premi Ctrl+F5\"\n    },\n    en: {\n      error: error || \"Connection error\",\n      at_moment: \"At the moment is not possible show map\",\n      f5: \"Press Ctrl+F5\"\n    }\n  };\n  var compiledTemplate = Vue.compile(require('gui/templates/500.html'));\n  var app = new Vue(_extends({\n    el: '#app'\n  }, compiledTemplate, {\n    data: {\n      messages: error_page[language]\n    }\n  }));\n};\n\n/**\n * Application starting point\n *\n * create the ApplicationTemplate instance passing template interface configuration\n * and the applicationService instance that is useful to work with project API\n */\n_application2.default.init().then(function () {\n  var app = new ApplicationTemplate({ ApplicationService: _application2.default });\n  app.on('ready', function () {\n    return _application2.default.postBootstrap();\n  });\n  app.init();\n}).catch(function (_ref18) {\n  var _ref18$error = _ref18.error,\n      error = _ref18$error === undefined ? null : _ref18$error,\n      language = _ref18.language;\n\n  if (error) {\n    if (error.responseJSON && error.responseJSON.error.data) error = error.responseJSON.error.data;else if (error.statusText) error = error.statusText;\n  }\n  ApplicationTemplate.fail({\n    language: language,\n    error: error\n  });\n});\n\n},{\"../deprecated\":310,\"api\":3,\"app/dev\":1,\"components/App.vue\":194,\"components/Floatbar.vue\":212,\"components/GlobalBarLoader\":217,\"components/GlobalDateTime.vue\":218,\"components/GlobalDivider.vue\":219,\"components/GlobalGallery.vue\":220,\"components/GlobalGeo.vue\":221,\"components/GlobalHelpDiv.vue\":222,\"components/GlobalImage.vue\":223,\"components/GlobalLayerPositions.vue\":224,\"components/GlobalProgressBar\":225,\"components/GlobalRange.vue\":226,\"components/GlobalResize.vue\":227,\"components/GlobalResizeIcon.vue\":228,\"components/GlobalSkeleton.vue\":229,\"components/GlobalTabs.vue\":230,\"components/NavbaritemsLeft.vue\":264,\"components/NavbaritemsRight.vue\":265,\"components/Sidebar.vue\":292,\"components/Viewport.vue\":306,\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/utils/utils\":68,\"directives/v-checked\":312,\"directives/v-disabled\":313,\"directives/v-download\":314,\"directives/v-online\":315,\"directives/v-plugins\":316,\"directives/v-select2\":317,\"directives/v-selected-first\":318,\"directives/v-t\":324,\"directives/v-t-html\":319,\"directives/v-t-placeholder\":320,\"directives/v-t-plugin\":321,\"directives/v-t-title\":322,\"directives/v-t-tooltip\":323,\"gui/catalog/vue/catalog\":112,\"gui/form/vue/form\":121,\"gui/map/vue/map\":156,\"gui/metadata/vue/metadata\":159,\"gui/print/vue/print\":162,\"gui/projectsmenu/projectsmenu\":165,\"gui/querybuilder/querybuilderuifactory\":166,\"gui/queryresults/vue/queryresults\":170,\"gui/search/vue/search\":177,\"gui/spatialbookmarks/vue/spatialbookmarks\":179,\"gui/templates/500.html\":183,\"gui/tools/vue/tools\":185,\"gui/viewport/contentsviewer\":188,\"gui/wms/vue/wms\":191,\"regenerator-runtime\":\"regenerator-runtime\",\"services/application\":346,\"services/floatbar\":355,\"services/gui\":356,\"services/navbaritems\":360,\"services/sidebar\":364,\"services/viewport\":366,\"store/application-state\":368,\"store/components\":370}],194:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vueCookieLaw = require('vue-cookie-law');\n\nvar _vueCookieLaw2 = _interopRequireDefault(_vueCookieLaw);\n\nvar _HeaderItem = require('components/HeaderItem.vue');\n\nvar _HeaderItem2 = _interopRequireDefault(_HeaderItem);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nif (typeof jQuery === \"undefined\") {\n  throw new Error(\"LayoutManager requires jQuery\");\n}\n\n$.LayoutManager = $.LayoutManager || {\n  options: {\n    navbarMenuSlimscroll: true,\n    navbarMenuSlimscrollWidth: \"0px\",\n    navbarMenuHeight: \"200px\",\n    animationSpeed: 'fast',\n\n    sidebarToggleSelector: \"[data-toggle='offcanvas']\",\n\n    sidebarPushMenu: true,\n\n    sidebarSlimScroll: false,\n\n    sidebarExpandOnHover: false,\n\n    enableBoxRefresh: true,\n\n    enableFastclick: true,\n\n    enableControlSidebar: true,\n    controlSidebarOptions: {\n      toggleBtnSelector: \"[data-toggle='control-sidebar']\",\n\n      selector: \".control-sidebar\",\n\n      slide: true\n    },\n\n    enableBoxWidget: true,\n\n    boxWidgetOptions: {\n      boxWidgetIcons: {\n        collapse: 'fa-minus',\n\n        open: 'fa-plus',\n\n        remove: 'fa-times'\n      },\n      boxWidgetSelectors: {\n        remove: '[data-widget=\"remove\"]',\n\n        collapse: '[data-widget=\"collapse\"]'\n      }\n    },\n\n    directChat: {\n      enable: true,\n\n      contactToggleSelector: '[data-widget=\"chat-pane-toggle\"]'\n    },\n\n    colors: {\n      lightBlue: \"#3c8dbc\",\n      red: \"#f56954\",\n      green: \"#00a65a\",\n      aqua: \"#00c0ef\",\n      yellow: \"#f39c12\",\n      blue: \"#0073b7\",\n      navy: \"#001F3F\",\n      teal: \"#39CCCC\",\n      olive: \"#3D9970\",\n      lime: \"#01FF70\",\n      orange: \"#FF851B\",\n      fuchsia: \"#F012BE\",\n      purple: \"#8E24AA\",\n      maroon: \"#D81B60\",\n      black: \"#222222\",\n      gray: \"#d2d6de\"\n    },\n\n    screenSizes: {\n      xs: 480,\n      sm: 768,\n      md: 992,\n      lg: 1200\n    }\n  },\n\n  _init: function _init() {\n    'use strict';\n\n    $.LayoutManager.layout = {\n      activate: function activate() {\n        var _this = this;\n        _this.fix();\n        _this.fixSidebar();\n        $(window, \".wrapper\").resize(function () {\n          _this.fix();\n          _this.fixSidebar();\n        });\n      },\n      fix: function fix() {\n        var neg = $('.main-header').outerHeight() + $('.main-footer').outerHeight();\n        var window_height = $(window).height();\n        var sidebar_height = $(\".sidebar\").height();\n\n        if ($(\"body\").hasClass(\"fixed\")) {\n          $(\".content-wrapper, .right-side\").css('min-height', window_height - $('.main-footer').outerHeight());\n          $(\".content-wrapper, .right-side\").css('height', window_height - $('.main-footer').outerHeight());\n        } else {\n          var postSetWidth = void 0;\n          if (window_height >= sidebar_height) {\n            $(\".content-wrapper, .right-side\").css('min-height', window_height - neg);\n            postSetWidth = window_height - neg;\n          } else {\n            $(\".content-wrapper, .right-side\").css('min-height', sidebar_height);\n            postSetWidth = sidebar_height;\n          }\n\n          var controlSidebar = $($.LayoutManager.options.controlSidebarOptions.selector);\n          if (typeof controlSidebar !== \"undefined\") {\n            if (controlSidebar.height() > postSetWidth) $(\".content-wrapper, .right-side\").css('min-height', controlSidebar.height());\n          }\n        }\n      },\n      fixSidebar: function fixSidebar() {\n        if (!$(\"body\").hasClass(\"fixed\")) {\n          if (typeof $.fn.slimScroll != 'undefined') {\n            $(\".sidebar\").slimScroll({ destroy: true }).height(\"auto\");\n          }\n          return;\n        } else if (typeof $.fn.slimScroll == 'undefined' && window.console) {\n          window.console.error(\"Error: the fixed layout requires the slimscroll plugin!\");\n        }\n\n        if ($.LayoutManager.options.sidebarSlimScroll && !isMobile.any) {\n          if (typeof $.fn.slimScroll != 'undefined') {\n            $(\"#g3w-sidebar\").slimScroll({ destroy: true }).height(\"auto\");\n\n            $(\"#g3w-sidebar\").slimScroll({\n              touchScrollStep: 50,\n              height: $(window).height() - $(\".navbar-header\").height() - 10 + \"px\",\n              color: \"rgba(255,255,255,0.7)\",\n              size: \"3px\"\n            });\n          }\n        } else {\n          $(\".sidebar\").css({ 'height': $(window).height() - $(\".navbar-header\").height() + \"px\" });\n          $(\".sidebar\").css('overflow-y', 'auto');\n        }\n      }\n    };\n\n    $.LayoutManager.pushMenu = {\n      activate: function activate(toggleBtn) {\n        var screenSizes = $.LayoutManager.options.screenSizes;\n\n        $(toggleBtn).on('click', function (e) {\n          e.preventDefault();\n\n          if ($(window).width() > screenSizes.sm - 1) {\n            if ($(\"body\").hasClass('sidebar-collapse')) {\n              $(\"body\").removeClass('sidebar-collapse').trigger('expanded.pushMenu');\n            } else {\n              $(\"body\").addClass('sidebar-collapse').trigger('collapsed.pushMenu');\n            }\n          } else {\n              if ($(\"body\").hasClass('sidebar-open')) {\n                $(\"body\").removeClass('sidebar-open').removeClass('sidebar-collapse').trigger('collapsed.pushMenu');\n              } else {\n                $(\"body\").addClass('sidebar-open').trigger('expanded.pushMenu');\n              }\n            }\n        });\n\n        if ($.LayoutManager.options.sidebarExpandOnHover || $('body').hasClass('fixed') && $('body').hasClass('sidebar-mini')) {\n          this.expandOnHover();\n        }\n      },\n      expandOnHover: function expandOnHover() {\n        var _this = this;\n        var screenWidth = $.LayoutManager.options.screenSizes.sm - 1;\n\n        $('.main-sidebar').hover(function () {\n          if ($('body').hasClass('sidebar-mini') && $(\"body\").hasClass('sidebar-collapse') && $(window).width() > screenWidth) {\n            _this.expand();\n          }\n        }, function () {\n          if ($('body').hasClass('sidebar-mini') && $('body').hasClass('sidebar-expanded-on-hover') && $(window).width() > screenWidth) {\n            _this.collapse();\n          }\n        });\n      },\n      expand: function expand() {\n        $(\"body\").removeClass('sidebar-collapse').addClass('sidebar-expanded-on-hover');\n      },\n      collapse: function collapse() {\n        if ($('body').hasClass('sidebar-expanded-on-hover')) {\n          $('body').removeClass('sidebar-expanded-on-hover').addClass('sidebar-collapse');\n        }\n      }\n    };\n\n    $.LayoutManager.tree = function (menu) {\n      var _this = this;\n      var animationSpeed = $.LayoutManager.options.animationSpeed;\n\n      $(document).on('click', menu + ' li a', function (e) {\n        var $this = $(this);\n\n        var checkElement = $this.next();\n\n        if (checkElement.is('.treeview-menu') && checkElement.is(':visible')) {\n          checkElement.slideUp(animationSpeed, function () {\n            checkElement.parent(\"li.treeview\").removeClass(\"active\");\n            checkElement.removeClass('menu-open');\n          });\n        } else if (checkElement.is('.treeview-menu') && !checkElement.is(':visible')) {\n            var parent = $this.parents('ul').first();\n            var parent_li = $this.parent(\"li\");\n            var li_siblings = parent_li.siblings();\n            var parent_find_active;\n            var sidebar_content_height = parent.height() - parent.find('li.header').outerHeight();\n            var treeviewHeight = parent_li.outerHeight();\n            li_siblings.not('.header').each(function (index, el) {\n              treeviewHeight += $(el).find('a').outerHeight();\n            });\n            var section_height = sidebar_content_height - treeviewHeight;\n\n            var ul = parent.find('ul.treeview-menu:visible').slideUp(animationSpeed);\n\n            ul.removeClass('menu-open');\n\n            checkElement.slideDown(animationSpeed, function () {\n              checkElement.addClass('menu-open');\n              parent_find_active = parent.find('li.treeview.active');\n              parent_find_active.removeClass('active');\n              parent_li.addClass('active');\n\n              _this.layout.fix();\n            });\n          }\n\n        if (checkElement.is('.treeview-menu')) {\n          e.preventDefault();\n        }\n      });\n    };\n\n    $.LayoutManager.floatBar = $.LayoutManager.controlSidebar = {\n      activate: function activate() {\n        var _this = this;\n\n        var o = $.LayoutManager.options.controlSidebarOptions;\n\n        var sidebar = $(o.selector);\n\n        var btn = $(o.toggleBtnSelector);\n\n        btn.on('click', function (e) {\n          e.preventDefault();\n\n          if (!sidebar.hasClass('control-sidebar-open') && !$('body').hasClass('control-sidebar-open')) {\n            _this.open(sidebar, o.slide);\n          } else {\n            _this.close(sidebar, o.slide);\n          }\n        });\n\n        var bg = $(\".control-sidebar-bg\");\n        _this._fix(bg);\n\n        if ($('body').hasClass('fixed')) {\n          _this._fixForFixed(sidebar);\n        } else {\n          if ($('.content-wrapper, .right-side').height() < sidebar.height()) {\n            _this._fixForContent(sidebar);\n          }\n        }\n      },\n      open: function open(sidebar, slide) {\n        if (slide) {\n          sidebar.addClass('control-sidebar-open');\n        } else {\n          $('body').addClass('control-sidebar-open');\n        }\n      },\n      close: function close(sidebar, slide) {\n        if (slide) {\n          sidebar.removeClass('control-sidebar-open');\n        } else {\n          $('body').removeClass('control-sidebar-open');\n        }\n      },\n      _fix: function _fix(sidebar) {\n        var _this = this;\n        if ($(\"body\").hasClass('layout-boxed')) {\n          sidebar.css('position', 'absolute');\n          sidebar.height($(\".wrapper\").height());\n          $(window).resize(function () {\n            _this._fix(sidebar);\n          });\n        } else {\n          sidebar.css({\n            'position': 'fixed',\n            'height': 'auto'\n          });\n        }\n      },\n      _fixForFixed: function _fixForFixed(sidebar) {\n        sidebar.css({\n          'position': 'fixed',\n          'max-height': '100%',\n\n          'padding-bottom': '50px'\n        });\n      },\n      _fixForContent: function _fixForContent(sidebar) {\n        $(\".content-wrapper, .right-side\").css('min-height', sidebar.height());\n      }\n    };\n\n    $.LayoutManager.boxWidget = {\n      selectors: $.LayoutManager.options.boxWidgetOptions.boxWidgetSelectors,\n      icons: $.LayoutManager.options.boxWidgetOptions.boxWidgetIcons,\n      animationSpeed: $.LayoutManager.options.animationSpeed,\n      activate: function activate(_box) {\n        var _this = this;\n        if (!_box) {\n          _box = document;\n        }\n\n        $(_box).on('click', _this.selectors.collapse, function (e) {\n          e.preventDefault();\n          _this.collapse($(this));\n        });\n\n        $(_box).on('click', _this.selectors.remove, function (e) {\n          e.preventDefault();\n          _this.remove($(this));\n        });\n      },\n      collapse: function collapse(element) {\n        var _this = this;\n\n        var box = element.parents(\".box\").first();\n\n        var box_content = box.find(\"> .box-body, > .box-footer, > form  >.box-body, > form > .box-footer\");\n        if (!box.hasClass(\"collapsed-box\")) {\n          element.find(\".btn-collapser\").removeClass(_this.icons.collapse).addClass(_this.icons.open);\n\n          box_content.slideUp(_this.animationSpeed, function () {\n            box.addClass(\"collapsed-box\");\n          });\n        } else {\n          element.find(\".btn-collapser\").removeClass(_this.icons.open).addClass(_this.icons.collapse);\n\n          box_content.slideDown(_this.animationSpeed, function () {\n            box.removeClass(\"collapsed-box\");\n          });\n        }\n      },\n      remove: function remove(element) {\n        var box = element.parents(\".box\").first();\n        box.slideUp(this.animationSpeed);\n      }\n    };\n\n    return $.LayoutManager;\n  },\n\n  addRefreshButton: function addRefreshButton() {\n    \"use strict\";\n\n    $.fn.boxRefresh = function (options) {\n      var settings = $.extend({\n        trigger: \".refresh-btn\",\n\n        source: \"\",\n        onLoadStart: function onLoadStart(box) {\n          return box;\n        },\n        onLoadDone: function onLoadDone(box) {\n          return box;\n        }\n      }, options);\n\n      var overlay = $('<div class=\"overlay\"><div class=\"fa fa-refresh fa-spin\"></div></div>');\n\n      return this.each(function () {\n        if (settings.source === \"\") {\n          if (window.console) {\n            window.console.log(\"Please specify a source first - boxRefresh()\");\n          }\n          return;\n        }\n\n        var box = $(this);\n\n        var rBtn = box.find(settings.trigger).first();\n\n        rBtn.on('click', function (e) {\n          e.preventDefault();\n\n          start(box);\n\n          box.find(\".box-body\").load(settings.source, function () {\n            done(box);\n          });\n        });\n      });\n\n      function start(box) {\n        box.append(overlay);\n\n        settings.onLoadStart.call(box);\n      }\n\n      function done(box) {\n        box.find(overlay).remove();\n\n        settings.onLoadDone.call(box);\n      }\n    };\n    return $.LayoutManager;\n  },\n\n  activateBox: function activateBox() {\n    'use strict';\n\n    $.fn.activateBox = function () {\n      $.LayoutManager.boxWidget.activate(this);\n    };\n\n    return $.LayoutManager;\n  },\n\n  listCustomPlugin: function listCustomPlugin() {\n    'use strict';\n\n    $.fn.todolist = function (options) {\n      var settings = $.extend({\n        onCheck: function onCheck(ele) {\n          return ele;\n        },\n        onUncheck: function onUncheck(ele) {\n          return ele;\n        }\n      }, options);\n\n      return this.each(function () {\n\n        if (typeof $.fn.iCheck != 'undefined') {\n          $('input', this).on('ifChecked', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            settings.onCheck.call(ele);\n          });\n\n          $('input', this).on('ifUnchecked', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            settings.onUncheck.call(ele);\n          });\n        } else {\n          $('input', this).on('change', function () {\n            var ele = $(this).parents(\"li\").first();\n            ele.toggleClass(\"done\");\n            if ($('input', ele).is(\":checked\")) {\n              settings.onCheck.call(ele);\n            } else {\n              settings.onUncheck.call(ele);\n            }\n          });\n        }\n      });\n    };\n    return $.LayoutManager;\n  },\n\n  setup: function setup() {\n    \"use strict\";\n\n    $(\"body\").removeClass(\"hold-transition\");\n\n    if (typeof LayoutManagerOptions !== \"undefined\") {\n      $.extend(true, $.LayoutManager.options, LayoutManagerOptions);\n    }\n\n    var o = $.LayoutManager.options;\n\n    $.LayoutManager._init();\n\n    $.LayoutManager.layout.activate();\n\n    $.LayoutManager.tree('.sidebar');\n\n    if (o.enableControlSidebar) {\n      $.LayoutManager.controlSidebar.activate();\n    }\n\n    if (o.navbarMenuSlimscroll && typeof $.fn.slimscroll != 'undefined') {\n      $(\".navbar .menu\").slimscroll({\n        height: o.navbarMenuHeight,\n        alwaysVisible: false,\n        size: o.navbarMenuSlimscrollWidth\n      }).css(\"width\", \"100%\");\n    }\n\n    if (o.sidebarPushMenu) {\n      $.LayoutManager.pushMenu.activate(o.sidebarToggleSelector);\n    }\n\n    if (o.enableBoxWidget) {\n      $.LayoutManager.boxWidget.activate();\n    }\n\n    if (o.enableFastclick && typeof FastClick != 'undefined') {\n      FastClick.attach(document.body);\n    }\n\n    if (o.directChat.enable) {\n      $(document).on('click', o.directChat.contactToggleSelector, function () {\n        var box = $(this).parents('.direct-chat').first();\n        box.toggleClass('direct-chat-contacts-open');\n      });\n    }\n\n    $('.btn-group[data-toggle=\"btn-toggle\"]').each(function () {\n      var group = $(this);\n      $(this).find(\".btn\").on('click', function (e) {\n        group.find(\".btn.active\").removeClass(\"active\");\n        $(this).addClass(\"active\");\n        e.preventDefault();\n      });\n    });\n\n    return $.LayoutManager.addRefreshButton().activateBox().listCustomPlugin();\n  },\n\n  loading: function loading(start) {\n    $('#initerror').remove();\n    start = _.isBoolean(start) ? start : true;\n    if (start) {\n      $('body').append('\\n          <div id=\"startingspinner\">\\n          <div class=\"double-bounce1\"></div>\\n          <div class=\"double-bounce2\"></div>\\n          </div>');\n    } else {\n      $('#startingspinner').remove();\n    }\n  }\n\n};\n\nvar layout = $.LayoutManager;\n\nexports.default = {\n  mixins: [_mixins.resizeMixin],\n  data: function data() {\n    return {\n      customcredits: false,\n      appState: _application2.default.getState(),\n      current_custom_modal_content: null,\n      language: null,\n      cookie_law_buttonText: t('cookie_law.buttonText')\n    };\n  },\n\n  components: {\n    HeaderItem: _HeaderItem2.default,\n    CookieLaw: _vueCookieLaw2.default\n  },\n  computed: {\n    app: function app() {\n      return this.appState.gui.app;\n    },\n    languages: function languages() {\n      var languages = Array.isArray(this.appconfig.i18n) && this.appconfig.i18n || [];\n      return languages.length > 1 && languages;\n    },\n    currentProject: function currentProject() {\n      return _projects2.default.getCurrentProject();\n    },\n    appconfig: function appconfig() {\n      return _application2.default.getConfig();\n    },\n    isIframe: function isIframe() {\n      return !!this.appconfig.group.layout.iframe;\n    },\n    urls: function urls() {\n      return this.appconfig.urls;\n    },\n    staticurl: function staticurl() {\n      return this.urls.staticurl;\n    },\n    powered_by: function powered_by() {\n      return this.appconfig.group.powered_by;\n    },\n    clienturl: function clienturl() {\n      return this.urls.clienturl;\n    },\n    g3w_suite_logo: function g3w_suite_logo() {\n      return this.clienturl + 'images/g3wsuite_logo.png';\n    },\n    credits_logo: function credits_logo() {\n      return this.clienturl + 'images/logo_gis3w_156_85.png';\n    },\n    logo_url: function logo_url() {\n      var logo_project_url = this.currentProject.getThumbnail();\n      return logo_project_url ? logo_project_url : '' + this.appconfig.mediaurl + this.appconfig.logo_img;\n    },\n    logo_link: function logo_link() {\n      var logo_link = this.getLogoLink();\n      return logo_link ? logo_link : \"#\";\n    },\n    logo_link_target: function logo_link_target() {\n      var logo_link = this.getLogoLink();\n      return logo_link ? \"_blank\" : \"\";\n    },\n    project_title: function project_title() {\n      return this.currentProject.getState().name;\n    },\n    user: function user() {\n      return this.appconfig.user && this.appconfig.user.username ? this.appconfig.user : null;\n    },\n    login_url: function login_url() {\n      return this.appconfig.user.login_url;\n    },\n    numberOfProjectsInGroup: function numberOfProjectsInGroup() {\n      return this.appconfig.projects.length;\n    },\n    frontendurl: function frontendurl() {\n      return this.urls.frontendurl;\n    },\n    main_title: function main_title() {\n      var main_title = this.appconfig.main_map_title;\n      var group_name = this.appconfig.group.name || this.appconfig.group.slug;\n      return main_title ? main_title + ' - ' + group_name : group_name;\n    }\n  },\n  methods: {\n    templateResultLanguages: function templateResultLanguages(state) {\n      if (!state.id) {\n        return state.text;\n      }\n      return $('\\n        <div style=\"font-weight: bold; display:flex; align-items: center; justify-content: space-around;\">\\n          <img src=\"' + this.staticurl + 'img/flags/' + state.element.value.toLowerCase() + '.png\" />\\n          <span style=\"margin-left: 5px;\">' + state.text + '</span> \\n        </span>');\n    },\n    resize: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var max_width;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (this.isIframe) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 3;\n                return this.$nextTick();\n\n              case 3:\n                max_width = this.$refs.navbar_toggle.offsetWidth > 0 ? this.$refs.navbar.offsetWidth - this.$refs.navbar_toggle.offsetWidth : this.$refs.mainnavbar.offsetWidth - this.$refs['app-navbar-nav'].offsetWidth;\n\n                this.$refs.main_title_project_title.style.maxWidth = max_width - this.logoWidth - 15 + 'px';\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function resize() {\n        return _ref.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    showCustomModalContent: function showCustomModalContent(id) {\n      var _custom_modals$find = this.custom_modals.find(function (custommodal) {\n        return custommodal.id === id;\n      }),\n          content = _custom_modals$find.content;\n\n      this.current_custom_modal_content = content;\n    },\n    closePanel: function closePanel() {\n      sidebarService.closePanel();\n    },\n    getLogoLink: function getLogoLink() {\n      return this.appconfig.logo_link ? this.appconfig.logo_link : null;\n    },\n    openProjectsMenu: function openProjectsMenu() {\n      _gui2.default.openProjectsMenu();\n    }\n  },\n  watch: {\n    'language': function language(_language, currentlanguage) {\n      if (currentlanguage) {\n        _application2.default.changeLanguage(_language);\n        this.cookie_law_buttonText = t('cookie_law.buttonText');\n      }\n    }\n  },\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n    this.delayTime = 0;\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.language = this.appconfig._i18n.language;\n    this.custom_modals = [];\n    this.custom_header_items_position = {\n      0: [],\n      1: [],\n      2: [],\n      3: [],\n      4: []\n    };\n    this.customlinks = Array.isArray(this.appconfig.header_custom_links) ? this.appconfig.header_custom_links.filter(function (customitem) {\n      if (customitem !== null) {\n        var id = customitem.id = uniqueId();\n        customitem.type === 'modal' && _this2.custom_modals.push({\n          id: id,\n          content: customitem.content\n        });\n        var position = 1 * (customitem.position || 0);\n        position = position > 4 ? 4 : position < 0 || Number.isNaN(position) ? 0 : position;\n        _this2.custom_header_items_position[position].push(customitem);\n        return true;\n      }\n      return false;\n    }) : [];\n\n    !!this.appconfig.credits && $.get(this.appconfig.credits).then(function (credits) {\n      return _this2.customcredits = credits !== 'None' && credits;\n    });\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this3 = this;\n\n      var rightNavBarElements, elementLenght, i, controlsidebarEl, setFloatBarMaxHeight, setModalHeight;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setModalHeight = function setModalHeight() {\n                $('#g3w-modal-overlay').css('height', $(window).height());\n              };\n\n              setFloatBarMaxHeight = function setFloatBarMaxHeight() {\n                $(controlsidebarEl).css('max-height', $(window).innerHeight());\n                $('.g3w-sidebarpanel').css('height', $(window).height() - $(\"#main-navbar\").height());\n              };\n\n              this.logoWidth = 0;\n              _context2.next = 5;\n              return this.$nextTick();\n\n            case 5:\n              rightNavBarElements = !this.isIframe ? this.$refs.mainnavbar.getElementsByTagName('ul') : [];\n              elementLenght = rightNavBarElements.length;\n\n              this.rightNavbarWidth = 15;\n              for (i = 0; i < elementLenght; i++) {\n                this.rightNavbarWidth += rightNavBarElements.item(i).offsetWidth;\n              }\n              this.language = this.appconfig.user.i18n;\n              _context2.next = 12;\n              return this.$nextTick();\n\n            case 12:\n              !this.isIframe && this.$refs.img_logo.addEventListener('load', function () {\n                _this3.logoWidth = _this3.$refs.img_logo.offsetWidth + 15;\n                _this3.resize();\n              }, { once: true });\n\n              layout.loading(false);\n              layout.setup();\n\n              layout.pushMenu.expandOnHover();\n              layout.controlSidebar._fix($(\".control-sidebar-bg\"));\n              layout.controlSidebar._fix($(\".control-sidebar\"));\n              controlsidebarEl = layout.options.controlSidebarOptions.selector;\n\n              setFloatBarMaxHeight();\n\n              $(window).resize(function () {\n                setFloatBarMaxHeight();\n                setModalHeight();\n              });\n\n            case 21:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.app.disabled),expression:\"app.disabled\"}],staticClass:\"wrapper\"},[_c('cookie-law',{attrs:{\"theme\":\"dark-lime\",\"buttonText\":_vm.cookie_law_buttonText}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('cookie_law.message'),expression:\"'cookie_law.message'\"}],attrs:{\"slot\":\"message\"},slot:\"message\"})]),_vm._v(\" \"),(!_vm.isIframe)?_c('header',{staticClass:\"main-header\"},[_c('nav',{ref:\"navbar\",staticClass:\"navbar navbar-inverse navbar-fixed-top\",attrs:{\"role\":\"navigation\"}},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"navbar-header\"},[_c('button',{ref:\"navbar_toggle\",staticClass:\"navbar-toggle\",attrs:{\"type\":\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#main-navbar\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('ellips-v'),staticStyle:{\"font-size\":\"1.3em\"}})]),_vm._v(\" \"),_c('a',{staticClass:\"sidebar-toggle\",attrs:{\"id\":\"g3w-small-screen-hamburger-sidebar\",\"href\":\"#\",\"data-toggle\":\"offcanvas\",\"role\":\"button\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('bars'),staticStyle:{\"font-size\":\"1.3em\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"logo-wrapper\",class:{'mobile': _vm.isMobile()}},[(_vm.logo_url)?_c('a',{staticClass:\"project_logo_link\",attrs:{\"href\":_vm.logo_link,\"target\":_vm.logo_link_target}},[_c('img',{ref:\"img_logo\",staticClass:\"img-responsive\",staticStyle:{\"max-width\":\"250px\"},attrs:{\"src\":_vm.logo_url}})]):_vm._e(),_vm._v(\" \"),_c('div',{ref:\"main_title_project_title\",staticClass:\"project_title_content\"},[_c('div',{staticClass:\"main_title\"},[_vm._v(_vm._s(_vm.main_title))]),_vm._v(\" \"),_c('div',{staticClass:\"sub_title\"},[_vm._v(_vm._s(_vm.project_title))])])])]),_vm._v(\" \"),_c('div',{ref:\"mainnavbar\",staticClass:\"collapse navbar-collapse\",staticStyle:{\"text-align\":\"center\",\"overflow\":\"hidden\",\"margin\":\"0 0\"},attrs:{\"id\":\"main-navbar\"}},[_c('navbarleftitems'),_vm._v(\" \"),_c('navbarrightitems'),_vm._v(\" \"),_c('ul',{ref:\"app-navbar-nav\",staticClass:\"nav navbar-nav navbar-right app-navbar-nav\"},[(!_vm.user)?_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{attrs:{\"href\":_vm.login_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('sign-in'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sign_in'),expression:\"'sign_in'\"}]})])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[0]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.numberOfProjectsInGroup > 1)?_c('li',{staticClass:\"dropdown user\",attrs:{\"id\":\"changemaps\"}},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"dropdown\"},on:{\"click\":_vm.openProjectsMenu}},[_c('i',{class:_vm.g3wtemplate.getFontClass('change-map'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('changemap'),expression:\"'changemap'\"}]})])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[1]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.user)?_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"dropdown\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('user')}),_vm._v(\" \"),_c('span',{staticClass:\"hidden-xs\"},[_vm._v(_vm._s(_vm.user.username))])]),_vm._v(\" \"),_c('ul',{staticClass:\"dropdown-menu\"},[_c('li',{staticClass:\"user-header\"},[_c('p',[_vm._v(\"\\n                    \"+_vm._s(_vm.user.first_name)+\" \"+_vm._s(_vm.user.last_name)+\"\\n                  \")])]),_vm._v(\" \"),_c('li',{staticClass:\"user-footer\"},[(_vm.user.admin_url)?_c('div',{staticClass:\"pull-left\"},[_c('a',{staticClass:\"btn btn-default btn-flat skin-color bold\",attrs:{\"href\":_vm.user.admin_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('folder')}),_vm._v(\" Admin\\n                    \")])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"pull-right\"},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('logout'),expression:\"'logout'\"}],staticClass:\"btn btn-default btn-flat skin-color bold\",attrs:{\"href\":_vm.user.logout_url}},[_c('i',{class:_vm.g3wtemplate.getFontClass('sign-out'),staticStyle:{\"margin-right\":\"2px\"}})])])])])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[2]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),_c('li',{staticClass:\"dropdown user user-menu\"},[_c('a',{staticClass:\"dropdown-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"modal\",\"data-target\":\"#credits\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('credits'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"Credits\")])])]),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[3]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})}),_vm._v(\" \"),(_vm.languages)?_c('li',{staticClass:\"g3w-languages\"},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('language'),expression:\"'language'\"},{name:\"model\",rawName:\"v-model\",value:(_vm.language),expression:\"language\"}],staticClass:\"form-control\",staticStyle:{\"cursor\":\"pointer\",\"width\":\"130px\"},attrs:{\"templateSelection\":_vm.templateResultLanguages,\"templateResult\":_vm.templateResultLanguages},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.language=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.languages),function(lang){return _c('option',{key:lang[0],domProps:{\"value\":lang[0],\"selected\":lang[0] === _vm.language && 'selected'}},[_vm._v(\"\\n                  \"+_vm._s(lang[1])+\"\\n                \")])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.frontendurl)?_c('li',{staticClass:\"dropdown\"},[_c('a',{attrs:{\"href\":_vm.frontendurl}},[_c('span',[_c('i',{class:_vm.g3wtemplate.getFontClass('home')}),_vm._v(\" Home\")])])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.custom_header_items_position[4]),function(state){return _c('header-item',{key:state.id,attrs:{\"state\":state},on:{\"show-custom-modal-content\":_vm.showCustomModalContent}})})],2)],1)])])]):_vm._e(),_vm._v(\" \"),_c('sidebar'),_vm._v(\" \"),_c('div',{staticClass:\"content-wrapper\",style:({paddingTop: _vm.isIframe ? 0 : null})},[_c('viewport',{attrs:{\"appState\":_vm.appState}})],1),_vm._v(\" \"),_c('floatbar'),_vm._v(\" \"),_c('div',{staticClass:\"control-sidebar-bg\"}),_vm._v(\" \"),_c('div',{staticClass:\"modal fade modal-fullscreen force-fullscreen\",attrs:{\"id\":\"full-screen-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"data-backdrop\":\"static\",\"data-keyboard\":\"false\",\"aria-labelledby\":\"full-screen-modal\",\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"credits\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-around\",\"justify-items\":\"center\",\"align-items\":\"center\"}},[(!!_vm.customcredits)?_c('div',{staticClass:\"customcredits\",domProps:{\"innerHTML\":_vm._s(_vm.customcredits)}}):_vm._e(),_vm._v(\" \"),(_vm.powered_by)?_c('div',[_c('div',{staticClass:\"g3w-credits-block\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('credits.g3wSuiteFramework'),expression:\"'credits.g3wSuiteFramework'\"}],staticClass:\"credit-title-logo\",staticStyle:{\"background-color\":\"#95ad36\",\"padding\":\"5px\",\"border-radius\":\"3px\",\"color\":\"#ffffff\"}}),_vm._v(\" \"),_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://g3wsuite.it/\"}},[_c('img',{staticClass:\"g3w-suite-logo\",attrs:{\"src\":_vm.g3w_suite_logo,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('credits.g3wSuiteDescription'),expression:\"'credits.g3wSuiteDescription'\"}],staticStyle:{\"margin-top\":\"10px\"}})]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('credits.productOf'),expression:\"'credits.productOf'\",arg:\"pre\"}],staticClass:\"credit-title-logo g3w-credits-block\",staticStyle:{\"font-size\":\"1em\",\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('a',{staticStyle:{\"text-align\":\"center!important\"},attrs:{\"href\":\"http://www.gis3w.it\",\"target\":\"_blank\"}},[_c('img',{staticClass:\"img-responsive center-block\",staticStyle:{\"margin-left\":\"5px\"},attrs:{\"width\":\"60\",\"src\":_vm.credits_logo,\"alt\":\"\"}})])]),_vm._v(\" \"),_c('address',{staticStyle:{\"line-height\":\"1.3\",\"text-align\":\"center\",\"margin-top\":\"5px\",\"display\":\"flex\",\"justify-content\":\"center\"},attrs:{\"id\":\"address-credits\"}},[_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('marker'),staticStyle:{\"color\":\"#95ad36\",\"font-weight\":\"bold\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" Montecatini Terme - Italy\\n                \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('mobile'),staticStyle:{\"color\":\"#95ad36\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"  +39 393 8534336\\n                \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"padding\":\"2px\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('mail'),staticStyle:{\"color\":\"#95ad36\"},attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('a',{staticStyle:{\"color\":\"#000000\"},attrs:{\"href\":\"mailto:info@gis3w.it\"}},[_vm._v(\" info@gis3w.it\")])])])]):_vm._e()])])])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"custom_modal\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\",domProps:{\"innerHTML\":_vm._s(_vm.current_custom_modal_content)}})])])],1)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('button',{staticClass:\"close\",staticStyle:{\"color\":\"#ffffff\",\"font-weight\":\"bold\",\"opacity\":\"1\",\"position\":\"absolute\",\"right\":\"25px\",\"top\":\"20px\"},attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\")])])}]\n\n},{\"components/HeaderItem.vue\":232,\"core/i18n/i18n.service\":14,\"core/utils/utils\":68,\"mixins\":338,\"services/application\":346,\"services/gui\":356,\"store/projects\":374,\"vue-cookie-law\":\"vue-cookie-law\"}],195:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  props: {\n    showdata: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      id: 'graphline' + getUniqueDomId(),\n      selectitems: [],\n      data: [],\n      components: [],\n      config: {\n        data: {\n          columns: [['x'], ['y']]\n        }\n      },\n      size: {\n        width: 0,\n        height: 0\n      }\n    };\n  },\n\n  methods: {\n    addComponent: function addComponent(component) {\n      this.components.push(component);\n    },\n    addComponents: function addComponents() {\n      var _this = this;\n\n      var components = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      components.forEach(function (component) {\n        return _this.addComponent(component);\n      });\n    },\n    setConfig: function setConfig() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.config = config;\n    },\n    setDataOffset: function setDataOffset(offset) {\n      var render = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var data = this.getData();\n      for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        item.value += offset;\n      }\n      if (render) {\n        this.resize();\n      }\n    },\n    getSelectedItems: function getSelectedItems() {\n      return this.selectitems;\n    },\n    selectItem: function selectItem(id) {\n      this.chart.select(['y'], [id]);\n    },\n    unselectItem: function unselectItem(id) {\n      this.chart.unselect(['y'], [id]);\n    },\n    selectItems: function selectItems() {\n      var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.chart.select([y], ids);\n    },\n    unselectItems: function unselectItems() {\n      var ids = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.chart.unselect(['y'], ids);\n    },\n    unselectAll: function unselectAll() {\n      this.chart.unselect();\n    },\n    selectAll: function selectAll() {\n      this.chart.select();\n    },\n    getData: function getData() {\n      return this.data;\n    },\n    resize: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            width = _ref2.width,\n            height = _ref2.height;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.chart.resize({\n                  width: width,\n                  height: height || $('#' + this.id).height() - 4\n                });\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function resize() {\n        return _ref.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    _setAllowedSpace: function _setAllowedSpace() {\n      if (this.components && this.components.length) this.size.height = document.querySelector('.g3wform_content').offsetHeight - this.$el.offsetHeight - document.querySelector('.g3wform_header').offsetHeight - 50;\n    },\n    _setMaxMin: function _setMaxMin(_ref3) {\n      var value = _ref3.value,\n          max = _ref3.max,\n          min = _ref3.min;\n\n      min = value ? +value : +min;\n      max = value ? +value : +max;\n      if (min < this.chart.axis.min().y) this.chart.axis.min(min);else if (max > this.chart.axis.max().y) this.chart.axis.max(max);else {\n        var dataValues = this.data.map(function (data) {\n          return +data.value;\n        });\n        this.chart.axis.max(Math.max.apply(Math, _toConsumableArray(dataValues)));\n        this.chart.axis.min(Math.min.apply(Math, _toConsumableArray(dataValues)));\n      }\n      this.resize();\n    },\n    changeItems: function changeItems(items) {\n      if (items.length === 1) this._setMaxMin(items[0].value);else {\n        var max = Math.max.apply(Math, _toConsumableArray(items.map(function (item) {\n          return +item.value;\n        })));\n        var min = Math.min.apply(Math, _toConsumableArray(items.map(function (item) {\n          return +item.value;\n        })));\n        this._setMaxMin({\n          max: max,\n          min: min\n        });\n      }\n      this.resize();\n    },\n    changeItem: function changeItem(_ref4) {\n      var item = _ref4.item,\n          _ref4$render = _ref4.render,\n          render = _ref4$render === undefined ? true : _ref4$render;\n\n      var value = item.value;\n      this._setMaxMin({ value: value });\n      if (render) {\n        this.resize();\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    this.$nextTick(function () {\n      _gui2.default.on('resize', _this2.resize);\n      var self = _this2;\n      _this2.config.data.onselected = function (evt) {\n        var _temp = [].concat(_toConsumableArray(self.selectitems), [evt]);\n        self.selectitems = _temp;\n      };\n      _this2.config.data.onunselected = function (evt) {\n        self.selectitems = self.selectitems.filter(function (selectitem) {\n          return selectitem.index !== evt.index;\n        });\n      };\n      _this2.chart = c3.generate(_extends({\n        bindto: '#' + _this2.id\n      }, _this2.config));\n      var data = _this2.chart.data()[0] ? _this2.chart.data()[0].values : [];\n      data.forEach(function (item) {\n        _this2.data.push(item);\n      });\n      _this2._setAllowedSpace();\n\n      _this2.$emit('chart-ready', _this2.chart);\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.data = this.selectitems = null;\n    this.chart.destroy();\n    this.chart = null;\n    _gui2.default.off('resize', this.resize);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chart_wrapper\",staticStyle:{\"height\":\"100%\",\"width\":\"100%\"}},[_c('div',{staticStyle:{\"height\":\"100%\",\"min-height\":\"200px\",\"background-color\":\"#ffffff\"},attrs:{\"id\":_vm.id}}),_vm._v(\" \"),_vm._l((_vm.components),function(component){return _c('div',[_c('span',{staticClass:\"divider\"}),_vm._v(\" \"),_c(component,{tag:\"component\",attrs:{\"data\":_vm.data,\"selectitems\":_vm.selectitems,\"size\":_vm.size},on:{\"change-item\":_vm.changeItem,\"change-items\":_vm.changeItems,\"select-item\":_vm.selectItem,\"select-all\":_vm.selectAll,\"unselect-all\":_vm.unselectAll,\"unselect-item\":_vm.unselectItem}})],1)})],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"services/gui\":356}],196:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _CatalogChangeMapThemes = require('components/CatalogChangeMapThemes.vue');\n\nvar _CatalogChangeMapThemes2 = _interopRequireDefault(_CatalogChangeMapThemes);\n\nvar _CatalogLayerContextMenu = require('components/CatalogLayerContextMenu.vue');\n\nvar _CatalogLayerContextMenu2 = _interopRequireDefault(_CatalogLayerContextMenu);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _mapControls = require('store/map-controls');\n\nvar _mapControls2 = _interopRequireDefault(_mapControls);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar DEFAULT_ACTIVE_TAB = 'layers';\n\nexports.default = {\n  data: function data() {\n    var legend = this.$options.legend;\n    legend.place = _application2.default.getCurrentProject().getLegendPosition() || 'tab';\n    return {\n      state: null,\n      legend: legend,\n      showlegend: false,\n      currentBaseLayer: null,\n      activeTab: null,\n      loading: false\n    };\n  },\n\n  components: {\n    'changemapthemes': _CatalogChangeMapThemes2.default,\n    'cataloglayercontextmenu': _CatalogLayerContextMenu2.default\n  },\n  computed: {\n    showTocTools: function showTocTools() {\n      var _project$state$map_th = this.project.state.map_themes,\n          map_themes = _project$state$map_th === undefined ? [] : _project$state$map_th;\n\n      var show = map_themes.length > 1;\n      return show;\n    },\n    project: function project() {\n      return this.state.prstate.currentProject;\n    },\n    title: function title() {\n      return this.project.state.name;\n    },\n    baselayers: function baselayers() {\n      return this.project.state.baselayers;\n    },\n    hasBaseLayers: function hasBaseLayers() {\n      return this.project.state.baselayers.length > 0;\n    },\n    hasLayers: function hasLayers() {\n      var layerstresslength = 0;\n      this.state.layerstrees.forEach(function (layerstree) {\n        return layerstresslength += layerstree.tree.length;\n      });\n      return this.state.external.vector.length > 0 || layerstresslength > 0 || this.state.layersgroups.length > 0;\n    }\n  },\n  methods: {\n    changeMapTheme: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(map_theme) {\n        var changes, changeStyleLayersId;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.closeContent();\n                _context.next = 3;\n                return this.$options.service.changeMapTheme(map_theme);\n\n              case 3:\n                changes = _context.sent;\n                changeStyleLayersId = Object.keys(changes.layers).filter(function (layerId) {\n                  if (changes.layers[layerId].style) {\n                    if (!changes.layers[layerId].visible) {\n                      var layer = _catalogLayers2.default.getLayerById(layerId);\n\n                      layer.clearCategories();\n                      layer.change();\n                    }\n                    return true;\n                  }\n                });\n\n                this.legend.place === 'tab' ? _catalogeventhub2.default.$emit('layer-change-style') : changeStyleLayersId.forEach(function (layerId) {\n                  _catalogeventhub2.default.$emit('layer-change-style', {\n                    layerId: layerId\n                  });\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function changeMapTheme(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return changeMapTheme;\n    }(),\n    delegationClickEventTab: function delegationClickEventTab(evt) {\n      this.activeTab = evt.target.attributes['aria-controls'] ? evt.target.attributes['aria-controls'].value : this.activeTab;\n    },\n    showLegend: function showLegend(bool) {\n      this.showlegend = bool;\n    },\n    setBaseLayer: function setBaseLayer(id) {\n      this.currentBaseLayer = id;\n      this.project.setBaseLayer(id);\n      _application2.default.setBaseLayerId(id);\n    },\n    getSrcBaseLayerImage: function getSrcBaseLayerImage(baseLayer) {\n      var type = baseLayer && baseLayer.servertype || baseLayer;\n      var image = void 0;\n      var customimage = false;\n      switch (type) {\n        case 'OSM':\n          image = 'osm.png';\n          break;\n        case 'Bing':\n          var subtype = baseLayer.source.subtype;\n          image = 'bing' + subtype + '.png';\n          break;\n        case 'TMS':\n        case 'WMTS':\n          if (baseLayer.icon) {\n            customimage = true;\n            image = baseLayer.icon;\n            break;\n          }\n        default:\n          image = 'nobaselayer.png';\n      }\n      return !customimage ? _gui2.default.getResourcesUrl() + 'images/' + image : image;\n    }\n  },\n  watch: {\n    'state.external.wms': function stateExternalWms(newlayers, oldlayers) {\n      if (oldlayers && newlayers.length === 0) {\n        this.activeTab = this.project.state.catalog_tab || DEFAULT_ACTIVE_TAB;\n      }\n    },\n\n    'state.prstate.currentProject': {\n      handler: function () {\n        var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(project, oldproject) {\n          var _this = this;\n\n          var activeTab;\n          return regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  activeTab = project.state.catalog_tab || DEFAULT_ACTIVE_TAB;\n\n                  this.loading = activeTab === 'baselayers';\n                  _context2.next = 4;\n                  return this.$nextTick();\n\n                case 4:\n                  setTimeout(function () {\n                    _this.loading = false;\n                    _this.activeTab = activeTab;\n                  }, activeTab === 'baselayers' ? 500 : 0);\n\n                case 5:\n                case 'end':\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this);\n        }));\n\n        function handler(_x2, _x3) {\n          return _ref2.apply(this, arguments);\n        }\n\n        return handler;\n      }(),\n\n      immediate: false\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.layerpositions = _constant.MAP_SETTINGS.LAYER_POSITIONS.getPositions();\n\n    _catalogeventhub2.default.$on('unselectionlayer', function (storeid, layerstree) {\n      if (layerstree.external) {\n        _gui2.default.getService('queryresults').clearSelectionExtenalLayer(layerstree);\n      } else {\n        _catalogLayers2.default.getLayersStore(storeid).getLayerById(layerstree.id).clearSelectionFids();\n      }\n    });\n\n    _catalogeventhub2.default.$on('activefiltertokenlayer', function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(storeid, layerstree) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _catalogLayers2.default.getLayersStore(storeid).getLayerById(layerstree.id).toggleFilterToken();\n\n              case 2:\n                layerstree.filter.active = _context3.sent;\n\n              case 3:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this2);\n      }));\n\n      return function (_x4, _x5) {\n        return _ref3.apply(this, arguments);\n      };\n    }());\n\n    _catalogeventhub2.default.$on('treenodevisible', function (layer) {\n      _gui2.default.getService('map').emit('cataloglayervisible', layer);\n    });\n\n    _catalogeventhub2.default.$on('treenodeselected', function (storeid, node) {\n      var layer = _catalogLayers2.default.getLayersStore(storeid).getLayerById(node.id);\n\n      if (!layer.isSelected()) {\n        _gui2.default.getService('catalog').setSelectedExternalLayer({ layer: null, type: 'vector', selected: false });\n      }\n      setTimeout(function () {\n        _catalogLayers2.default.getLayersStore(storeid).selectLayer(node.id, !layer.isSelected());\n\n        _gui2.default.getService('map').emit('cataloglayerselected', layer);\n      });\n    });\n\n    _catalogeventhub2.default.$on('treenodeexternalselected', function (layer) {\n      _gui2.default.getService('catalog').setSelectedExternalLayer({ layer: layer, type: 'vector', selected: !layer.selected }).then(function () {\n        if (layer.selected) {\n          _catalogLayers2.default.getLayersStores().forEach(function (layer) {\n            layer.selectLayer(null, false);\n          });\n        }\n      });\n    });\n\n    _mapControls2.default.onafter('registerControl', function (id, control) {\n      if ('querybbox' === id) {\n        control.getInteraction().on('propertychange', function (evt) {\n          if ('active' === evt.key) _this2.state.highlightlayers = !evt.oldValue;\n        });\n      }\n    });\n  },\n  beforeMount: function beforeMount() {\n    this.currentBaseLayer = this.project.state.initbaselayer;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tabbable-panel catalog\",attrs:{\"id\":\"catalog\"},on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{staticClass:\"tabbable-line\"},[_c('ul',{staticClass:\"nav nav-tabs catalalog-nav-tabs\",attrs:{\"role\":\"tablist\"},on:{\"!click\":function($event){return _vm.delegationClickEventTab($event)}}},[(_vm.hasLayers)?_c('li',{class:{ active: _vm.activeTab === 'layers' && 'hasLayers' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('data'),expression:\"'data'\"}],attrs:{\"href\":\"#layers\",\"aria-controls\":\"layers\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"tree\"}})]):_vm._e(),_vm._v(\" \"),(_vm.state.external.wms.length)?_c('li',{class:{ active: _vm.activeTab === 'externalwms' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('externalwms'),expression:\"'externalwms'\"}],attrs:{\"href\":\"#externalwms\",\"aria-controls\":\"externalwms\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"externalwms\"}})]):_vm._e(),_vm._v(\" \"),(_vm.hasBaseLayers)?_c('li',{class:{ active: _vm.activeTab === 'baselayers' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('baselayers'),expression:\"'baselayers'\"}],attrs:{\"href\":\"#baselayers\",\"aria-controls\":\"baselayers\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"baselayers\"}})]):_vm._e(),_vm._v(\" \"),(_vm.legend.place ===  'tab' && _vm.showlegend)?_c('li',{class:{ active: _vm.activeTab === 'legend' },attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('legend'),expression:\"'legend'\"}],attrs:{\"href\":\"#legend\",\"aria-controls\":\"legend\",\"role\":\"tab\",\"data-toggle\":\"tab\",\"data-i18n\":\"legend\"}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"tab-content catalog-tab-content\"},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane\",class:{ active: _vm.activeTab === 'layers' && 'hasLayers' },attrs:{\"role\":\"tabpanel\",\"id\":\"layers\"}},[_c('helpdiv',{attrs:{\"message\":\"catalog_items.helptext\"}}),_vm._v(\" \"),(_vm.showTocTools)?_c('div',{staticStyle:{\"margin\":\"2px\"},attrs:{\"id\":\"g3w-catalog-toc-layers-toolbar\"}},[_c('changemapthemes',{key:_vm.project.state.gid,attrs:{\"map_themes\":_vm.project.state.map_themes},on:{\"change-map-theme\":_vm.changeMapTheme}})],1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layerstrees),function(_layerstree){return _c('ul',{key:_layerstree.storeid,staticClass:\"tree-root root project-root\"},_vm._l((_layerstree.tree),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"highlightlayers\":_vm.state.highlightlayers,\"layerstree\":layerstree,\"parentFolder\":false,\"root\":true,\"legendplace\":_vm.legend.place,\"parent_mutually_exclusive\":false,\"storeid\":_layerstree.storeid}})}),1)}),_vm._v(\" \"),(_vm.state.external.vector.length)?_c('ul',{staticClass:\"g3w-external_layers-group\"},_vm._l((_vm.state.external.vector),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"externallayers\":_vm.state.external.vector,\"layerstree\":layerstree}})}),1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layersgroups),function(layersgroup){return _c('ul',[_c('layers-group',{attrs:{\"layersgroup\":layersgroup}})],1)})],2),_vm._v(\" \"),(_vm.state.external.wms.length)?_c('div',{staticClass:\"tab-pane\",class:{ active: _vm.activeTab === 'externalwms' },attrs:{\"role\":\"tabpanel\",\"id\":\"externalwms\"}},[_c('ul',{staticClass:\"g3w-external_wms_layers-group\"},_vm._l((_vm.state.external.wms),function(layerstree){return _c('tristate-tree',{key:layerstree.id,staticClass:\"item\",attrs:{\"externallayers\":_vm.state.external.wms,\"layerstree\":layerstree}})}),1)]):_vm._e(),_vm._v(\" \"),(_vm.hasBaseLayers)?_c('div',{staticClass:\"tab-pane baselayers\",class:{ active: _vm.activeTab === 'baselayers' || !_vm.hasLayers },attrs:{\"role\":\"tabpanel\",\"id\":\"baselayers\"}},[_c('ul',{class:{'mobile': _vm.isMobile()},style:({gridTemplateColumns: (\"repeat(auto-fill, minmax(\" + (_vm.baselayers.length > 4 ? 80 : 120) + \"px, 1fr))\")}),attrs:{\"id\":\"baselayers-content\"}},[_vm._l((_vm.baselayers),function(baselayer){return (!baselayer.fixed)?_c('li',{key:baselayer.title},[_c('img',{staticClass:\"img-responsive img-thumbnail baselayer\",style:({opacity: _vm.currentBaseLayer === baselayer.id ? 1 : 0.5}),attrs:{\"src\":_vm.getSrcBaseLayerImage(baselayer)},on:{\"click\":function($event){$event.stopPropagation();return _vm.setBaseLayer(baselayer.id)}}}),_vm._v(\" \"),_c('div',{staticClass:\"baseselayer-text text-center\"},[_vm._v(_vm._s(baselayer.title))])]):_vm._e()}),_vm._v(\" \"),_c('li',{on:{\"click\":function($event){$event.stopPropagation();return _vm.setBaseLayer(null)}}},[_c('img',{staticClass:\"img-responsive img-thumbnail baselayer\",style:({opacity: _vm.currentBaseLayer === null ? 1 : 0.5}),attrs:{\"src\":_vm.getSrcBaseLayerImage(null)}}),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('nobaselayer'),expression:\"'nobaselayer'\"}],staticClass:\"baseselayer-text text-center\"})])],2)]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.layerstrees),function(_layerstree){return (_vm.legend.place === 'tab')?_c('layerslegend',{key:_layerstree.id,attrs:{\"legend\":_vm.legend,\"active\":_vm.activeTab === 'legend',\"layerstree\":_layerstree},on:{\"showlegend\":_vm.showLegend}}):_vm._e()})],2)]),_vm._v(\" \"),_c('cataloglayercontextmenu',{attrs:{\"external\":_vm.state.external}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":5,\"components/CatalogChangeMapThemes.vue\":197,\"components/CatalogLayerContextMenu.vue\":198,\"gui/catalog/vue/catalogeventhub\":113,\"services/application\":346,\"services/gui\":356,\"store/catalog-layers\":369,\"store/map-controls\":371}],197:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"changemapthemes\",\n  data: function data() {\n    var collapsed = _projects2.default.getCurrentProject().state.toc_themes_init_status === 'collapsed';\n    var current_map_theme = this.map_themes.find(function (map_theme) {\n      return map_theme.default;\n    });\n    return {\n      current_map_theme: current_map_theme ? current_map_theme.theme : null,\n      collapsed: collapsed\n    };\n  },\n\n  props: {\n    map_themes: {\n      type: Array,\n      default: []\n    }\n  },\n  watch: {\n    'current_map_theme': {\n      immediate: false,\n      handler: function handler(map_theme) {\n        this.$emit('change-map-theme', map_theme);\n      }\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"sidebar-menu\"},[_c('li',{staticClass:\"treeview sidebaritem skin-border-color\",staticStyle:{\"margin-bottom\":\"5px\",\"border-bottom\":\"2px solid\"},attrs:{\"id\":\"g3w-catalog-toc-views\"}},[_c('a',{ref:\"g3w-map-theme-ancor\",staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"padding\":\"5px 5px 5px 2px\"},attrs:{\"href\":\"#\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('caret-down'),staticStyle:{\"padding\":\"3px\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('eye'),staticStyle:{\"padding\":\"0 0 0 4px\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.current_map_theme ),expression:\"current_map_theme \"}],staticClass:\"treeview-label g3w-long-text\",staticStyle:{\"overflow\":\"hidden\",\"white-space\":\"normal\",\"text-overflow\":\"ellipsis\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('sdk.catalog.current_map_theme_prefix'),expression:\"'sdk.catalog.current_map_theme_prefix'\",arg:\"pre\"}],staticStyle:{\"color\":\"#cccccc !important\"}},[_vm._v(\":\")]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\",staticStyle:{\"font-size\":\"1.1em\"}},[_vm._v(_vm._s(_vm.current_map_theme))])]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.current_map_theme),expression:\"!current_map_theme\"}],staticClass:\"treeview-label\",staticStyle:{\"color\":\"#cccccc !important\",\"font-weight\":\"bold\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.choose_map_theme'),expression:\"'sdk.catalog.choose_map_theme'\"}]})])]),_vm._v(\" \"),_c('ul',{staticClass:\"treeview-menu\",class:{'menu-open': !_vm.collapsed},style:({display: _vm.collapsed ? 'none' : 'block'}),attrs:{\"id\":\"g3w-catalog-views\"}},[_c('li',{staticStyle:{\"padding\":\"5px 5px 5px 17px\"}},_vm._l((_vm.map_themes),function(map_theme,index){return _c('div',{key:map_theme.theme},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.current_map_theme),expression:\"current_map_theme\"}],staticClass:\"magic-radio\",attrs:{\"type\":\"radio\",\"name\":\"radio\",\"id\":(\"g3w-map_theme-\" + index)},domProps:{\"value\":map_theme.theme,\"checked\":map_theme.default,\"checked\":_vm._q(_vm.current_map_theme,map_theme.theme)},on:{\"change\":function($event){_vm.current_map_theme=map_theme.theme}}}),_vm._v(\" \"),_c('label',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"},attrs:{\"for\":(\"g3w-map_theme-\" + index)}},[_c('span',{staticClass:\"g3w-long-text\"},[_vm._v(_vm._s(map_theme.theme))])])])}),0)])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-06d0cd43\"\n\n},{\"store/projects\":374}],198:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"li .item-text[data-v-7828b5c0]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _vueColor = require('vue-color');\n\nvar _LayerOpacityPicker = require('components/LayerOpacityPicker.vue');\n\nvar _LayerOpacityPicker2 = _interopRequireDefault(_LayerOpacityPicker);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar shpwrite = require('shp-write');\nvar TableComponent = require('gui/table/vue/table');\n\nvar OFFSETMENU = {\n  top: 50,\n  left: 15\n};\n\nexports.default = {\n  name: 'Cataloglayermenu',\n  props: {\n    external: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      layerMenu: {\n        show: false,\n        top: 0,\n        left: 0,\n        tooltip: false,\n        name: '',\n        layer: null,\n        loading: {\n          data_table: false,\n          shp: false,\n          csv: false,\n          gpx: false,\n          gpkg: false,\n          xls: false\n        },\n\n        colorMenu: {\n          show: false,\n          top: 0,\n          left: 0,\n          color: null\n        },\n\n        stylesMenu: {\n          show: false,\n          top: 0,\n          left: 0,\n          style: null,\n          default: null\n        },\n\n        metadatainfoMenu: {\n          show: false,\n          top: 0,\n          left: 0\n        }\n      }\n    };\n  },\n\n  components: {\n    'chrome-picker': _vueColor.Chrome,\n    'layer-opacity-picker': _LayerOpacityPicker2.default\n  },\n  directives: {\n    'click-outside-layer-menu': {\n      bind: function bind(el, binding, vnode) {\n        this.event = function (event) {\n          if (el === event.target || el.contains(event.target)) {\n            return;\n          }\n          event.stopPropagation();\n          vnode.context[binding.expression](event);\n        };\n        document.body.addEventListener('click', this.event, true);\n      },\n      unbind: function unbind(el) {\n        document.body.removeEventListener('click', this.event, true);\n      }\n    }\n\n  },\n  methods: {\n    addLayerMenuItem: function addLayerMenuItem() {\n      var item = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.layerMenu = _extends({}, this.layerMenu, item);\n    },\n    _hideMenu: function _hideMenu() {\n      this.layerMenu.show = false;\n      this.layerMenu.styles = false;\n      this.layerMenu.loading.data_table = false;\n      this.layerMenu.loading.shp = false;\n      this.layerMenu.loading.csv = false;\n      this.layerMenu.loading.gpx = false;\n      this.layerMenu.loading.gpkg = false;\n      this.layerMenu.loading.xls = false;\n      this.layerMenu.loading.geotiff = false;\n    },\n    closeLayerMenu: function closeLayerMenu() {\n      var menu = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._hideMenu();\n      this.showColorMenu(false);\n      menu.show = false;\n    },\n    onbeforeDestroyChangeColor: function onbeforeDestroyChangeColor() {\n      this.$refs.color_picker.$off();\n    },\n    onChangeColor: function onChangeColor(val) {\n      var mapService = _gui2.default.getService('map');\n      this.layerMenu.layer.color = val;\n      var layer = mapService.getLayerByName(this.layerMenu.name);\n      var style = layer.getStyle();\n      style._g3w_options.color = val;\n      layer.setStyle(style);\n    },\n    canShowWmsUrl: function canShowWmsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer ? !!(!originalLayer.isType('table') && originalLayer.getFullWmsUrl()) : false;\n    },\n    canShowWfsUrl: function canShowWfsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer && !originalLayer.isType('table') && originalLayer.isWfsActive();\n    },\n    canDownloadXls: function canDownloadXls(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isXlsDownlodable() : false;\n    },\n    canDownloadGpx: function canDownloadGpx(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGpxDownlodable() : false;\n    },\n    canDownloadGpkg: function canDownloadGpkg(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGpkgDownlodable() : false;\n    },\n    canDownloadCsv: function canDownloadCsv(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isCsvDownlodable() : false;\n    },\n    canDownloadGeoTIFF: function canDownloadGeoTIFF(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isGeoTIFFDownlodable() : false;\n    },\n    canDownloadShp: function canDownloadShp(layerId) {\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      return layer ? layer.isShpDownlodable() : false;\n    },\n    getWmsUrl: function getWmsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer.getCatalogWmsUrl();\n    },\n    getWfsUrl: function getWfsUrl(layerId) {\n      var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n      return originalLayer.getCatalogWfsUrl();\n    },\n    copyUrl: function copyUrl() {\n      var _this = this;\n\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          evt = _ref.evt,\n          layerId = _ref.layerId,\n          type = _ref.type;\n\n      var url = this['get' + type + 'Url'](layerId);\n      var ancorEement = document.createElement('a');\n      ancorEement.href = url;\n      var tempInput = document.createElement('input');\n      tempInput.value = ancorEement.href;\n      document.body.appendChild(tempInput);\n      tempInput.select();\n      document.execCommand(\"copy\");\n      $(evt.target).attr('data-original-title', t('sdk.catalog.menu.wms.copied')).tooltip('show');\n      $(evt.target).attr('title', this.copywmsurltooltip).tooltip('fixTitle');\n      document.body.removeChild(tempInput);\n      ancorEement = null;\n      setTimeout(function () {\n        return _this._hideMenu();\n      }, 600);\n    },\n    downloadGeoTIFF: function downloadGeoTIFF(layerId) {\n      var _this2 = this;\n\n      var map_extent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.geotiff = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGeoTIFF({\n        data: map_extent ? {\n          map_extent: _gui2.default.getService('map').getMapExtent().toString()\n        } : undefined\n      }).catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this2.layerMenu.loading.geotiff = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this2._hideMenu();\n      });\n    },\n    downloadShp: function downloadShp(layerId) {\n      var _this3 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.shp = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getShp().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this3.layerMenu.loading.shp = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this3._hideMenu();\n      });\n    },\n    downloadCsv: function downloadCsv(layerId) {\n      var _this4 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.csv = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getCsv().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this4.layerMenu.loading.csv = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this4._hideMenu();\n      });\n    },\n    downloadXls: function downloadXls(layerId) {\n      var _this5 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.xls = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getXls().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this5.layerMenu.loading.xls = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this5._hideMenu();\n      });\n    },\n    downloadGpx: function downloadGpx(layerId) {\n      var _this6 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.gpx = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGpx().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this6.layerMenu.loading.gpx = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this6._hideMenu();\n      });\n    },\n    downloadGpkg: function downloadGpkg(layerId) {\n      var _this7 = this;\n\n      var caller_download_id = _application2.default.setDownload(true);\n      this.layerMenu.loading.gpkg = true;\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      layer.getGpkg().catch(function (err) {\n        return _gui2.default.notify.error(t(\"info.server_error\"));\n      }).finally(function () {\n        _this7.layerMenu.loading.gpkg = false;\n        _application2.default.setDownload(false, caller_download_id);\n        _this7._hideMenu();\n      });\n    },\n    changeLayerMapPosition: function changeLayerMapPosition(_ref2) {\n      var position = _ref2.position,\n          layer = _ref2.layer;\n\n      var mapService = _gui2.default.getService('map');\n      var changed = layer.position !== position;\n      if (changed) {\n        layer.position = position;\n        mapService.changeLayerMapPosition({\n          id: layer.id,\n          position: position\n        });\n        changed && this._hideMenu();\n      }\n    },\n    setWMSOpacity: function setWMSOpacity(_ref3) {\n      var _ref3$id = _ref3.id,\n          id = _ref3$id === undefined ? this.layerMenu.layer.id : _ref3$id,\n          opacity = _ref3.value;\n\n      this.layerMenu.layer.opacity = opacity;\n      var mapService = _gui2.default.getService('map');\n      mapService.changeLayerOpacity({\n        id: id,\n        opacity: opacity\n      });\n    },\n    zoomToLayer: function zoomToLayer(layer) {\n      _gui2.default.getService('map').goToBBox([layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy], layer.epsg);\n      this._hideMenu();\n    },\n    canZoom: function canZoom(layer) {\n      return layer.bbox && [layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy].find(function (coordinate) {\n        return coordinate > 0;\n      });\n    },\n    getGeometryType: function getGeometryType(layerId) {\n      var external = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var geometryType = void 0;\n      if (external) {\n        var layer = this.external.vector.find(function (layer) {\n          return layer.id === layerId;\n        });\n        if (layer) geometryType = layer.geometryType;\n      } else {\n        var originalLayer = _catalogLayers2.default.getLayerById(layerId);\n        geometryType = originalLayer.config.geometrytype;\n      }\n      geometryType = geometryType && geometryType !== 'NoGeometry' ? geometryType : '';\n      return geometryType;\n    },\n    downloadExternalShapefile: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(layer) {\n        var EPSG4326, mapService, vectorLayer, GeoJSONFormat, features, GeoJSONFile, name;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                EPSG4326 = 'EPSG:4326';\n\n                this.layerMenu.loading.shp = true;\n                mapService = _gui2.default.getService('map');\n                vectorLayer = mapService.getLayerByName(layer.name);\n                GeoJSONFormat = new ol.format.GeoJSON();\n                features = vectorLayer.getSource().getFeatures();\n\n                if (layer.crs !== EPSG4326) {\n                  features = features.map(function (feature) {\n                    var clonefeature = feature.clone();\n                    clonefeature.getGeometry().transform(layer.crs, EPSG4326);\n                    return clonefeature;\n                  });\n                }\n                GeoJSONFile = GeoJSONFormat.writeFeaturesObject(features, {\n                  featureProjection: EPSG4326\n                });\n                name = layer.name.split('.' + layer.type)[0];\n\n                shpwrite.download(GeoJSONFile, {\n                  folder: name,\n                  types: {\n                    point: name,\n                    mulipoint: name,\n                    polygon: name,\n                    multipolygon: name,\n                    line: name,\n                    polyline: name,\n                    multiline: name\n                  }\n                });\n                _context.next = 12;\n                return this.$nextTick();\n\n              case 12:\n                this.layerMenu.loading.shp = false;\n                this._hideMenu();\n\n              case 14:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function downloadExternalShapefile(_x6) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return downloadExternalShapefile;\n    }(),\n    showAttributeTable: function showAttributeTable(layerId) {\n      var _this8 = this;\n\n      this.layerMenu.loading.data_table = false;\n      _gui2.default.closeContent();\n      var layer = _catalogLayers2.default.getLayerById(layerId);\n      this.layerMenu.loading.data_table = true;\n      var tableContent = new TableComponent({\n        layer: layer,\n        formatter: 1\n      });\n      tableContent.on('show', function () {\n        _this8.isMobile() && _gui2.default.hideSidebar();\n        _this8.layerMenu.loading.data_table = false;\n        _this8._hideMenu();\n      });\n      tableContent.show({\n        title: layer.getName()\n      });\n    },\n    startEditing: function startEditing() {\n      var _this9 = this;\n\n      var layer = void 0;\n      var catallogLayersStores = _catalogLayers2.default.getLayersStores();\n      catallogLayersStores.forEach(function (layerStore) {\n        layer = layerStore.getLayerById(_this9.layerMenu.layer.id);\n        if (layer) {\n          layer.getLayerForEditing();\n          return false;\n        }\n      });\n    },\n    setCurrentLayerStyle: function setCurrentLayerStyle(index) {\n      var _this10 = this;\n\n      var changed = false;\n      this.layerMenu.layer.styles.forEach(function (style, idx) {\n        if (idx === index) {\n          _this10.layerMenu.stylesMenu.style = style.name;\n          changed = !style.current;\n          style.current = true;\n        } else style.current = false;\n      });\n      if (changed) {\n        var layerId = this.layerMenu.layer.id;\n        var layer = _catalogLayers2.default.getLayerById(this.layerMenu.layer.id);\n        if (layer) {\n          _catalogeventhub2.default.$emit('layer-change-style', {\n            layerId: layerId\n          });\n          layer.change();\n        }\n      }\n      this.closeLayerMenu(this.layerMenu.stylesMenu);\n    },\n    showSubMenuContext: function () {\n      var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref5) {\n        var menu = _ref5.menu,\n            bool = _ref5.bool,\n            evt = _ref5.evt;\n        var elem, contextmenu, menuentry, submenu, height, maxH;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!bool) {\n                  _context2.next = 15;\n                  break;\n                }\n\n                elem = $(evt.target);\n\n                menu.top = elem.offset().top;\n                menu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 + OFFSETMENU.left;\n                contextmenu = $(this.$refs['layer-menu']);\n                menuentry = $(evt.target);\n                submenu = menuentry.children('ul');\n                height = submenu.height();\n                maxH = contextmenu.height();\n\n                menu.maxHeight = height >= maxH ? maxH : null;\n                menu.overflowY = height >= maxH ? 'scroll' : null;\n                menu.top = (height >= maxH ? contextmenu : menuentry).offset().top;\n                menu.left = this.isMobile() ? 0 : menuentry.offset().left + menuentry.width() + (menuentry.outerWidth() - menuentry.width()) / 2 + OFFSETMENU.left;\n                _context2.next = 15;\n                return this.$nextTick();\n\n              case 15:\n                menu.show = bool;\n\n              case 16:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function showSubMenuContext(_x7) {\n        return _ref6.apply(this, arguments);\n      }\n\n      return showSubMenuContext;\n    }(),\n    showStylesMenu: function () {\n      var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(bool, evt) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.showSubMenuContext({\n                  menu: this.layerMenu.stylesMenu,\n                  bool: bool,\n                  evt: evt\n                });\n\n              case 1:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function showStylesMenu(_x8, _x9) {\n        return _ref7.apply(this, arguments);\n      }\n\n      return showStylesMenu;\n    }(),\n    showMetadataInfo: function () {\n      var _ref8 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(bool, evt) {\n        var elem;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!bool) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                elem = $(evt.target);\n\n                this.layerMenu.metadatainfoMenu.top = elem.offset().top;\n                this.layerMenu.metadatainfoMenu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 + OFFSETMENU.left;\n                _context4.next = 6;\n                return this.$nextTick();\n\n              case 6:\n                this.layerMenu.metadatainfoMenu.show = bool;\n\n              case 7:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function showMetadataInfo(_x10, _x11) {\n        return _ref8.apply(this, arguments);\n      }\n\n      return showMetadataInfo;\n    }(),\n    showColorMenu: function showColorMenu(bool, evt) {\n      if (bool) {\n        var elem = $(evt.target);\n        var contextmenu = $(this.$refs['layer-menu']);\n        this.layerMenu.colorMenu.top = contextmenu.offset().top;\n        this.layerMenu.colorMenu.left = elem.offset().left + elem.width() + (elem.outerWidth() - elem.width()) / 2 - OFFSETMENU.left;\n      }\n      this.layerMenu.colorMenu.show = bool;\n    }\n  },\n  created: function created() {\n    var _this11 = this;\n\n    _catalogeventhub2.default.$on('showmenulayer', function () {\n      var _ref9 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(layerstree, evt) {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this11._hideMenu();\n                _context5.next = 3;\n                return _this11.$nextTick();\n\n              case 3:\n                _this11.layerMenu.left = evt.x;\n                _this11.layerMenu.name = layerstree.name;\n                _this11.layerMenu.layer = layerstree;\n                _this11.layerMenu.show = true;\n                _this11.layerMenu.colorMenu.color = layerstree.color;\n                _context5.next = 10;\n                return _this11.$nextTick();\n\n              case 10:\n                _this11.layerMenu.top = $(evt.target).offset().top - $(_this11.$refs['layer-menu']).height() + $(evt.target).height() / 2;\n                $('.catalog-menu-wms[data-toggle=\"tooltip\"]').tooltip();\n\n              case 12:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, _this11);\n      }));\n\n      return function (_x12, _x13) {\n        return _ref9.apply(this, arguments);\n      };\n    }());\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.layerMenu.show)?_c('ul',{directives:[{name:\"click-outside-layer-menu\",rawName:\"v-click-outside-layer-menu\",value:(_vm.closeLayerMenu),expression:\"closeLayerMenu\"}],ref:\"layer-menu\",style:({top: _vm.layerMenu.top + 'px', left: _vm.layerMenu.left + 'px' }),attrs:{\"id\":\"layer-menu\",\"tabindex\":\"-1\"}},[_c('li',{staticClass:\"title\"},[_c('div',[_vm._v(_vm._s(_vm.layerMenu.layer.title))]),_vm._v(\" \"),_c('div',{staticStyle:{\"font-weight\":\"normal\",\"font-size\":\"0.8em\"}},[_vm._v(_vm._s(_vm.getGeometryType(_vm.layerMenu.layer.id, _vm.layerMenu.layer.external)))])]),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer)?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"}},[_c('layerspositions',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-between\"},attrs:{\"position\":_vm.layerMenu.layer.position},on:{\"layer-position-change\":function($event){return _vm.changeLayerMapPosition({position:$event, layer: _vm.layerMenu.layer})}}})],1)]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.metadata && _vm.layerMenu.layer.metadata.abstract)?_c('li',{on:{\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showMetadataInfo(false)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showMetadataInfo(true,  $event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('info')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('Metadata'),expression:\"'Metadata'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerMenu.metadatainfoMenu.show),expression:\"layerMenu.metadatainfoMenu.show\"}],staticStyle:{\"position\":\"fixed\",\"background-color\":\"#FFFFFF\",\"color\":\"#000000\",\"padding-left\":\"0\",\"border-radius\":\"0 3px 3px 0\"},style:({ top: _vm.layerMenu.metadatainfoMenu.top + 'px', left: ((_vm.layerMenu.metadatainfoMenu.left+1) + \"px\") })},[_c('div',{staticClass:\"layer-menu-metadata-info\",staticStyle:{\"padding\":\"5px\"},domProps:{\"innerHTML\":_vm._s(_vm.layerMenu.layer.metadata.abstract)}})])]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.geolayer && _vm.layerMenu.layer.styles && _vm.layerMenu.layer.styles.length > 1)?_c('li',{staticClass:\"menu-icon\",on:{\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showStylesMenu(false,$event)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showStylesMenu(true,$event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('palette')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.styles'),expression:\"'catalog_items.contextmenu.styles'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon\",class:_vm.g3wtemplate.getFontClass('arrow-right'),staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"margin-top\":\"3px\"}}),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerMenu.stylesMenu.show),expression:\"layerMenu.stylesMenu.show\"}],staticStyle:{\"position\":\"fixed\",\"padding-left\":\"0\",\"background-color\":\"#FFFFFF\",\"color\":\"#000000\"},style:({ top: _vm.layerMenu.stylesMenu.top + 'px', left: ((_vm.layerMenu.stylesMenu.left) + \"px\"), maxHeight: _vm.layerMenu.stylesMenu.maxHeight + 'px', overflowY: _vm.layerMenu.stylesMenu.overflowY })},_vm._l((_vm.layerMenu.layer.styles),function(style,index){return _c('li',{key:style.name,on:{\"click\":function($event){$event.stopPropagation();return _vm.setCurrentLayerStyle(index)}}},[(style.current)?_c('span',{class:_vm.g3wtemplate.getFontClass('circle'),staticStyle:{\"font-size\":\"0.8em\"}}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(style.name)+\"\\n          \"),(style.name === _vm.layerMenu.layer.defaultstyle && _vm.layerMenu.layer.styles.length > 1)?_c('span',[_vm._v(\"(\"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('default'),expression:\"'default'\"}]}),_vm._v(\")\")]):_vm._e()])])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.geolayer && _vm.layerMenu.layer.visible)?_c('li',{staticClass:\"menu-icon\",staticStyle:{\"padding-right\":\"0\"}},[_c('layer-opacity-picker',{attrs:{\"layer\":_vm.layerMenu.layer},on:{\"init-menu-item\":_vm.addLayerMenuItem,\"show-menu-item\":_vm.showSubMenuContext}})],1):_vm._e(),_vm._v(\" \"),(_vm.canZoom(_vm.layerMenu.layer))?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.zoomToLayer(_vm.layerMenu.layer)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('search')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.zoomtolayer'),expression:\"'catalog_items.contextmenu.zoomtolayer'\"}],staticClass:\"item-text\"})]):_vm._e(),_vm._v(\" \"),(_vm.layerMenu.layer.openattributetable)?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.showAttributeTable(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.data_table}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('list')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.open_attribute_table'),expression:\"'catalog_items.contextmenu.open_attribute_table'\"}],staticClass:\"item-text\"})],1):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type !== 'wms')?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();},\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showColorMenu(false,$event)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showColorMenu(true,$event)}}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.vector_color_menu'),expression:\"'catalog_items.contextmenu.vector_color_menu'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('arrow-right'),staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"margin-top\":\"3px\"}}),_vm._v(\" \"),(_vm.layerMenu.colorMenu.show)?_c('ul',{staticStyle:{\"position\":\"fixed\"},style:({ top: _vm.layerMenu.colorMenu.top + 'px', left: _vm.layerMenu.colorMenu.left + 'px' })},[_c('li',{staticStyle:{\"padding\":\"0\"}},[_c('chrome-picker',{ref:\"color_picker\",staticStyle:{\"width\":\"100%\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();},\"hook:beforeDestroy\":_vm.onbeforeDestroyChangeColor,\"input\":_vm.onChangeColor},model:{value:(_vm.layerMenu.colorMenu.color),callback:function ($$v) {_vm.$set(_vm.layerMenu.colorMenu, \"color\", $$v)},expression:\"layerMenu.colorMenu.color\"}})],1)]):_vm._e()]):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type !== 'wms')?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadExternalShapefile(_vm.layerMenu.layer)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.shp}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('shapefile')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.shp'),expression:\"'sdk.catalog.menu.download.shp'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(!_vm.layerMenu.layer.projectLayer && _vm.layerMenu.layer._type === 'wms')?_c('li',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.setwmsopacity'),expression:\"'sdk.catalog.menu.setwmsopacity'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin-left\":\"5px\"}},[_vm._v(_vm._s(_vm.layerMenu.layer.opacity))])]),_vm._v(\" \"),_c('range',{attrs:{\"value\":_vm.layerMenu.layer.opacity,\"min\":0,\"max\":1,\"step\":0.1,\"sync\":true},on:{\"changed\":_vm._hideMenu,\"change-range\":_vm.setWMSOpacity}})],1):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGeoTIFF(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGeoTIFF(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.geotiff}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('geotiff')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.geotiff'),expression:\"'sdk.catalog.menu.download.geotiff'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGeoTIFF(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{staticStyle:{\"position\":\"relative\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGeoTIFF(_vm.layerMenu.layer.id, true)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.geotiff}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('geotiff'),staticStyle:{\"color\":\"#777\"}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('crop'),staticStyle:{\"position\":\"absolute\",\"left\":\"-7px\",\"bottom\":\"8px\",\"font-size\":\"1.2em\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.geotiff_map_extent'),expression:\"'sdk.catalog.menu.download.geotiff_map_extent'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadShp(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadShp(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.shp}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('shapefile')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.shp'),expression:\"'sdk.catalog.menu.download.shp'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGpx(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGpx(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.gpx}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('gpx')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.gpx'),expression:\"'sdk.catalog.menu.download.gpx'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadGpkg(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadGpkg(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.gpkg}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('gpkg')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.gpkg'),expression:\"'sdk.catalog.menu.download.gpkg'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadCsv(_vm.layerMenu.layer.id))?_c('li',[_c('div',{directives:[{name:\"download\",rawName:\"v-download\"}],on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadCsv(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.csv}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('csv')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.csv'),expression:\"'sdk.catalog.menu.download.csv'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canDownloadXls(_vm.layerMenu.layer.id))?_c('li',{directives:[{name:\"download\",rawName:\"v-download\"}]},[_c('div',{on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.downloadXls(_vm.layerMenu.layer.id)}}},[_c('bar-loader',{attrs:{\"loading\":_vm.layerMenu.loading.xls}}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('xls')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.catalog.menu.download.xls'),expression:\"'sdk.catalog.menu.download.xls'\"}],staticClass:\"item-text\"})],1)]):_vm._e(),_vm._v(\" \"),(_vm.canShowWmsUrl(_vm.layerMenu.layer.id))?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"max-width\":\"300px\",\"align-items\":\"center\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.copyUrl({evt: $event, layerId:_vm.layerMenu.layer.id, type:'Wms'})}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('map')}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline-flex\",\"justify-content\":\"space-between\",\"width\":\"100%\",\"align-items\":\"baseline\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.catalog.menu.wms.copy'),expression:\"'sdk.catalog.menu.wms.copy'\"}],staticClass:\"item-text catalog-menu-wms skin-tooltip-top\",attrs:{\"data-toggle\":\"tooltip\"}},[_vm._v(\"WMS URL\")]),_vm._v(\" \"),_c('span',{staticClass:\"bold catalog-menu-wms wms-url-tooltip skin-tooltip-top skin-color-dark\",class:_vm.g3wtemplate.getFontClass('eye'),attrs:{\"data-placement\":\"top\",\"data-toggle\":\"tooltip\",\"title\":_vm.getWmsUrl(_vm.layerMenu.layer.id)}})])])]):_vm._e(),_vm._v(\" \"),(_vm.canShowWfsUrl(_vm.layerMenu.layer.id))?_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"max-width\":\"300px\",\"align-items\":\"center\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.copyUrl({evt: $event, layerId:_vm.layerMenu.layer.id, type:'Wfs'})}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('map')}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"inline-flex\",\"justify-content\":\"space-between\",\"width\":\"100%\",\"align-items\":\"baseline\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.catalog.menu.wms.copy'),expression:\"'sdk.catalog.menu.wms.copy'\"}],staticClass:\"item-text catalog-menu-wms skin-tooltip-top\",attrs:{\"data-toggle\":\"tooltip\"}},[_vm._v(\"WFS URL\")]),_vm._v(\" \"),_c('span',{staticClass:\"bold catalog-menu-wms wms-url-tooltip skin-tooltip-top skin-color-dark\",class:_vm.g3wtemplate.getFontClass('eye'),attrs:{\"data-placement\":\"top\",\"data-toggle\":\"tooltip\",\"title\":_vm.getWfsUrl(_vm.layerMenu.layer.id)}})])])]):_vm._e()]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-7828b5c0\"\n\n},{\"components/LayerOpacityPicker.vue\":252,\"core/i18n/i18n.service\":14,\"gui/catalog/vue/catalogeventhub\":113,\"gui/table/vue/table\":182,\"services/application\":346,\"services/gui\":356,\"shp-write\":\"shp-write\",\"store/catalog-layers\":369,\"vue-color\":\"vue-color\",\"vueify/lib/insert-css\":2}],199:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".layer-legend[data-v-fc3d03ea]{padding-left:36px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: \"layerlegend\",\n  props: {\n    legendplace: {\n      type: 'String'\n    },\n    layer: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      categories: []\n    };\n  },\n\n  computed: {\n    externallegend: function externallegend() {\n      return 'wms' === this.layer.source.type;\n    },\n    legend: function legend() {\n      return this.layer.legend;\n    },\n    show: function show() {\n      return this.layer.expanded && this.layer.visible && ('toc' === this.legendplace || 'tab' === this.legendplace && this.layer.categories);\n    },\n    showCategoriesCheckBox: function showCategoriesCheckBox() {\n      return this.categories.length > 1;\n    }\n  },\n  methods: {\n    getWmsSourceLayerLegendUrl: function getWmsSourceLayerLegendUrl() {\n      return this.getProjectLayer().getLegendUrl();\n    },\n    getProjectLayer: function getProjectLayer() {\n      return _catalogLayers2.default.getLayerById(this.layer.id);\n    },\n    isDisabled: function isDisabled(index) {\n      return this.categories[index].disabled;\n    },\n    showHideLayerCategory: function showHideLayerCategory(index) {\n      var projectLayer = this.getProjectLayer();\n      this.categories[index].checked = !this.categories[index].checked;\n      projectLayer.change();\n      if ('tab' === this.legendplace) {\n        this.layer.legend.change = true;\n      } else if (this.categories[index].checked && this.mapReady) {\n        this.setLayerCategories(false);\n      }\n    },\n    setError: function setError() {\n      this.legend.error = true;\n      this.legend.loading = false;\n    },\n    urlLoaded: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.legend.loading = false;\n\n              case 1:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function urlLoaded() {\n        return _ref.apply(this, arguments);\n      }\n\n      return urlLoaded;\n    }(),\n    handlerChangeLegend: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this.externallegend) {\n                  _context2.next = 2;\n                  break;\n                }\n\n                return _context2.abrupt('return');\n\n              case 2:\n                if (!(options.layerId === this.layer.id)) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                _context2.next = 5;\n                return this.setLayerCategories(true);\n\n              case 5:\n                if (!this.dynamic) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                _context2.next = 8;\n                return this.setLayerCategories(false);\n\n              case 8:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function handlerChangeLegend() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return handlerChangeLegend;\n    }(),\n    setLayerCategories: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var all = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n        var projectLayer, categories, _ref4, _ref4$nodes, nodes, _categories;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                projectLayer = this.getProjectLayer();\n                categories = projectLayer.getCategories();\n\n                if (!(all && categories)) {\n                  _context3.next = 7;\n                  break;\n                }\n\n                this.categories = categories;\n                _context3.next = 19;\n                break;\n\n              case 7:\n                _context3.prev = 7;\n                _context3.next = 10;\n                return projectLayer.getLegendGraphic({ all: all });\n\n              case 10:\n                _ref4 = _context3.sent;\n                _ref4$nodes = _ref4.nodes;\n                nodes = _ref4$nodes === undefined ? [] : _ref4$nodes;\n\n                if (all) {\n                  _categories = [];\n\n                  nodes.forEach(function (_ref5) {\n                    var icon = _ref5.icon,\n                        title = _ref5.title,\n                        _ref5$symbols = _ref5.symbols,\n                        symbols = _ref5$symbols === undefined ? [] : _ref5$symbols;\n\n                    if (icon) {\n                      _categories.push({ icon: icon, title: title, disabled: false });\n                    } else {\n                      symbols.forEach(function (symbol) {\n                        symbol._checked = symbol.checked;\n                        symbol.disabled = false;\n                        _categories.push(symbol);\n                      });\n                    }\n                  });\n                  projectLayer.setCategories(_categories);\n                  this.categories = _categories;\n                } else {\n                  projectLayer.setCategories(categories);\n                  this.categories = categories;\n\n                  if (nodes.length) {\n                    nodes.forEach(function (_ref6) {\n                      var icon = _ref6.icon,\n                          title = _ref6.title,\n                          _ref6$symbols = _ref6.symbols,\n                          symbols = _ref6$symbols === undefined ? [] : _ref6$symbols;\n\n                      if (icon) symbols = [{ icon: icon, title: title }];\n                      categories.forEach(function (category) {\n                        var find = symbols.find(function (symbol) {\n                          return symbol.icon === category.icon && symbol.title === category.title;\n                        });\n                        var disabled = \"undefined\" !== typeof category.checked ? category.checked : true;\n                        category.disabled = disabled && !find;\n                      });\n                    });\n                  } else {\n                    categories.forEach(function (category) {\n                      return category.disabled = \"undefined\" !== typeof category.checked ? category.checked : true;\n                    });\n                  }\n                }\n\n                _context3.next = 19;\n                break;\n\n              case 16:\n                _context3.prev = 16;\n                _context3.t0 = _context3['catch'](7);\n\n                this.setError();\n\n              case 19:\n                _context3.next = 24;\n                break;\n\n              case 21:\n                _context3.prev = 21;\n                _context3.t1 = _context3['catch'](0);\n\n                this.setError();\n\n              case 24:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 21], [7, 16]]);\n      }));\n\n      function setLayerCategories() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return setLayerCategories;\n    }()\n  },\n  watch: {\n    'layer.visible': function layerVisible(visible) {\n      if (!this.externallegend && visible) {\n        this.setLayerCategories(!this.dynamic);\n      }\n    }\n  },\n\n  created: function () {\n    var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              this.dynamic = _projects2.default.getCurrentProject().getContextBaseLegend();\n              this.mapReady = false;\n\n              _catalogeventhub2.default.$on('layer-change-style', this.handlerChangeLegend);\n\n              if (this.layer.visible) {\n                this.setLayerCategories(true).then(function () {\n                  if (_this.dynamic) {\n                    _gui2.default.getService('map').on('change-map-legend-params', _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n                      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                        while (1) {\n                          switch (_context4.prev = _context4.next) {\n                            case 0:\n                              _this.mapReady = true;\n                              if (_this.layer.visible && !_this.externallegend && ('toc' === _this.legendplace || _this.layer.categories)) {\n                                _this.setLayerCategories(false);\n                              }\n\n                            case 2:\n                            case 'end':\n                              return _context4.stop();\n                          }\n                        }\n                      }, _callee4, _this);\n                    })));\n                  }\n                });\n              }\n\n            case 4:\n            case 'end':\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }));\n\n    function created() {\n      return _ref7.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    _catalogeventhub2.default.$off('layer-change-style', this.handlerChangeLegend);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"layer-legend\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();}}},[(_vm.legend)?_c('bar-loader',{attrs:{\"loading\":_vm.legend.loading}}):_vm._e(),_vm._v(\" \"),(_vm.externallegend)?_c('figure',[_c('img',{attrs:{\"src\":_vm.getWmsSourceLayerLegendUrl()}})]):_c('figure',_vm._l((_vm.categories),function(category,index){return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(category.disabled),expression:\"category.disabled\"}],staticStyle:{\"display\":\"flex\",\"align-items\":\"center\",\"width\":\"100%\"}},[(category.ruleKey)?_c('span',{class:_vm.g3wtemplate.getFontClass(category.checked ? 'check': 'uncheck'),staticStyle:{\"padding-right\":\"3px\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.showHideLayerCategory(index)}}}):_vm._e(),_vm._v(\" \"),(('toc' === _vm.legendplace))?_c('img',{attrs:{\"src\":category.icon && (\"data:image/png;base64,\" + (category.icon))},on:{\"error\":function($event){return _vm.setError()},\"load\":function($event){return _vm.urlLoaded()}}}):_vm._e(),_vm._v(\" \"),(('tab' === _vm.legendplace && category.ruleKey) || ('toc' === _vm.legendplace && _vm.showCategoriesCheckBox))?_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"padding-left\":\"3px\"}},[_vm._v(\"\\n        \"+_vm._s(category.title)+\"\\n      \")]):_vm._e()])}),0)],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-fc3d03ea\"\n\n},{\"gui/catalog/vue/catalogeventhub\":113,\"services/gui\":356,\"store/catalog-layers\":369,\"store/projects\":374,\"vueify/lib/insert-css\":2}],200:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: {\n    layersgroup: {\n      type: Object\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"border\":\"1px solid #ffffff33\",\"margin\":\"5px\"}},[_c('h4',{staticStyle:{\"margin\":\"5px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.layersgroup.title))]),_vm._v(\" \"),_vm._l((_vm.layersgroup.nodes),function(node){return _c('tristate-tree',{staticClass:\"item\",attrs:{\"layerstree\":node}})})],2)}\n__vue__options__.staticRenderFns = []\n\n},{}],201:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: ['layerstree', 'legend', 'active'],\n  data: function data() {\n    return {};\n  },\n\n  computed: {\n    visiblelayers: function visiblelayers() {\n      var _visiblelayers = [];\n      var traverse = function traverse(obj) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = obj[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var layer = _step.value;\n\n            if (!_.isNil(layer.id) && layer.visible && layer.geolayer && !layer.exclude_from_legend) {\n              _visiblelayers.push(layer);\n            }\n            if (!_.isNil(layer.nodes)) {\n              traverse(layer.nodes);\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n      };\n      traverse(this.layerstree.tree);\n      return _visiblelayers;\n    }\n  },\n  watch: {\n    'layerstree': {\n      handler: function handler(val, old) {},\n\n      deep: true\n    },\n    'visiblelayers': function visiblelayers(visibleLayers) {\n      this.$emit('showlegend', !!visibleLayers.length);\n    }\n  },\n  created: function created() {\n    this.$emit('showlegend', !!this.visiblelayers.length);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-pane\",class:{active:_vm.active},attrs:{\"role\":\"tabpanel\",\"id\":\"legend\"}},[_c('layerslegend-items',{attrs:{\"active\":_vm.active,\"legend\":_vm.legend,\"layers\":_vm.visiblelayers}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],202:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  props: {\n    layers: {\n      default: []\n    },\n    legend: {\n      type: Object\n    },\n    active: {\n      default: true\n    }\n  },\n  data: function data() {\n    return {\n      legendurls: []\n    };\n  },\n\n  watch: {\n    layers: {\n      handler: function handler() {\n        this.getLegendSrc();\n      },\n\n      immediate: false\n    },\n\n    active: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(bool) {\n        var changeLayersLegend;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!bool) {\n                  _context.next = 6;\n                  break;\n                }\n\n                changeLayersLegend = this.layers.filter(function (layer) {\n                  return layer.legend.change;\n                });\n\n                if (!(this.legendurls.length === 0 || this.dynamic || changeLayersLegend.length)) {\n                  _context.next = 6;\n                  break;\n                }\n\n                _context.next = 5;\n                return this.getLegendSrc(this.layers);\n\n              case 5:\n                changeLayersLegend.forEach(function (layer) {\n                  return layer.legend.change = false;\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function active(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return active;\n    }()\n  },\n  methods: {\n    setError: function setError(legendurl) {\n      legendurl.error = true;\n      legendurl.loading = false;\n    },\n    urlLoaded: function urlLoaded(legendurl) {\n      legendurl.loading = false;\n    },\n    getLegendUrl: function getLegendUrl(layer) {\n      var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var catalogLayer = _catalogLayers2.default.getLayerById(layer.id);\n      if (catalogLayer) {\n        return catalogLayer.getLegendUrl(params, {\n          all: !this.dynamic,\n          format: 'image/png',\n          categories: layer.categories\n        });\n      }\n    },\n    getLegendUrlParams: function getLegendUrlParams() {\n      var urlLayerName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      var paramsUrl = '';\n      var params = {\n        LAYERS: [],\n        STYLES: [],\n        LEGEND_ON: [],\n        LEGEND_OFF: []\n      };\n\n      urlLayerName.reduce(function (_, layer) {\n        params.LAYERS.push(layer.layerName);\n        params.STYLES.push(layer.style);\n        if (layer.legend_on) {\n          params.LEGEND_ON.push(layer.legend_on);\n        }\n        if (layer.legend_off) {\n          params.LEGEND_OFF.push(layer.legend_off);\n        }\n        return params;\n      }, params);\n\n      paramsUrl += 'LAYERS=' + encodeURIComponent(params.LAYERS.join(','));\n      paramsUrl += '&STYLES=' + encodeURIComponent(params.STYLES.join(','));\n\n      if (params.LEGEND_ON.length) {\n        paramsUrl += '&LEGEND_ON=' + encodeURIComponent(params.LEGEND_ON.join(','));\n      }\n\n      if (params.LEGEND_OFF.length) {\n        paramsUrl += '&LEGEND_OFF=' + encodeURIComponent(params.LEGEND_OFF.join(','));\n      }\n\n      if (_application2.default.getFilterToken()) {\n        paramsUrl += '&filtertoken=' + _application2.default.getFilterToken();\n      }\n\n      return paramsUrl;\n    },\n    getLegendSrc: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var _this = this;\n\n        var urlMethodsLayersName, self, layers, i, layer, style, urlLayersName, url, prefix, legend_on, legend_off, _url$split, _url$split2, _prefix$split, _prefix$split2, _prefix$split3, _prefix$split4, method, _urlLayersName, _url2, _loop, _url3;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.legendurls = [];\n\n                _context2.next = 3;\n                return this.$nextTick();\n\n              case 3:\n                if (this.active) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                return _context2.abrupt('return');\n\n              case 5:\n                urlMethodsLayersName = {\n                  GET: {},\n                  POST: {}\n                };\n                self = this;\n                layers = this.layers.filter(function (layer) {\n                  return layer.geolayer;\n                });\n                i = 0;\n\n              case 9:\n                if (!(i < layers.length)) {\n                  _context2.next = 20;\n                  break;\n                }\n\n                layer = layers[i];\n                style = Array.isArray(layer.styles) && layer.styles.find(function (style) {\n                  return style.current;\n                });\n                urlLayersName = layer.source && layer.source.url || layer.external ? urlMethodsLayersName.GET : urlMethodsLayersName[layer.ows_method];\n                url = '' + this.getLegendUrl(layer, this.legend.config);\n\n                if (!(\"undefined\" === typeof url)) {\n                  _context2.next = 16;\n                  break;\n                }\n\n                return _context2.abrupt('continue', 17);\n\n              case 16:\n                if (layer.source && layer.source.url) {\n                  urlLayersName[url] = [];\n                } else {\n                  prefix = void 0, legend_on = void 0, legend_off = void 0;\n                  _url$split = url.split('LAYER=');\n                  _url$split2 = _slicedToArray(_url$split, 2);\n                  prefix = _url$split2[0];\n                  layerName = _url$split2[1];\n                  _prefix$split = prefix.split('LEGEND_ON=');\n                  _prefix$split2 = _slicedToArray(_prefix$split, 2);\n                  prefix = _prefix$split2[0];\n                  legend_on = _prefix$split2[1];\n                  _prefix$split3 = prefix.split('LEGEND_OFF=');\n                  _prefix$split4 = _slicedToArray(_prefix$split3, 2);\n                  prefix = _prefix$split4[0];\n                  legend_off = _prefix$split4[1];\n\n\n                  if (!urlLayersName[prefix]) {\n                    urlLayersName[prefix] = [];\n                  }\n\n                  urlLayersName[prefix].unshift({\n                    layerName: layerName,\n                    style: style && style.name,\n                    legend_on: (legend_on || '').replace('&', ''),\n                    legend_off: (legend_off || '').replace('&', '') });\n                }\n\n              case 17:\n                i++;\n                _context2.next = 9;\n                break;\n\n              case 20:\n                for (method in urlMethodsLayersName) {\n                  _urlLayersName = urlMethodsLayersName[method];\n\n                  if ('GET' === method) {\n                    for (_url2 in _urlLayersName) {\n                      if (_urlLayersName[_url2].length) {\n                        _url2 += '' + this.getLegendUrlParams(_urlLayersName[_url2]);\n                      }\n                      this.legendurls.push({\n                        loading: true,\n                        error: false,\n                        url: _url2\n                      });\n                    }\n                  } else {\n                    _loop = function _loop(_url3) {\n                      var xhr = new XMLHttpRequest();\n                      var econdedParams = [];\n\n                      var _url3$split = _url3.split('?'),\n                          _url3$split2 = _slicedToArray(_url3$split, 2),\n                          _url = _url3$split2[0],\n                          params = _url3$split2[1];\n\n                      params = params.split('&');\n\n                      params.forEach(function (param) {\n                        var _param$split = param.split('='),\n                            _param$split2 = _slicedToArray(_param$split, 2),\n                            key = _param$split2[0],\n                            value = _param$split2[1];\n\n                        if (key) {\n                          econdedParams.push(key + '=' + encodeURIComponent(value));\n                        }\n                      });\n\n                      params = econdedParams.join('&') + '&' + _this.getLegendUrlParams(_urlLayersName[_url3]);\n\n                      var legendUrlObject = {\n                        loading: true,\n                        url: null,\n                        error: false\n                      };\n\n                      xhr.open('POST', _url);\n                      xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');\n                      xhr.responseType = 'blob';\n\n                      self.legendurls.push(legendUrlObject);\n\n                      xhr.onload = function () {\n                        if (undefined !== this.response) {\n                          legendUrlObject.url = window.URL.createObjectURL(this.response);\n                        }\n                        legendUrlObject.loading = false;\n                      };\n\n                      xhr.onerror = function () {\n                        legendUrlObject.loading = false;\n                      };\n\n                      xhr.send(params);\n                    };\n\n                    for (_url3 in _urlLayersName) {\n                      _loop(_url3);\n                    }\n                  }\n                }\n\n              case 21:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getLegendSrc() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return getLegendSrc;\n    }()\n  },\n\n  created: function created() {\n    var _this2 = this;\n\n    this.dynamic = _projects2.default.getCurrentProject().getContextBaseLegend();\n    this.mapReady = false;\n\n    _catalogeventhub2.default.$on('layer-change-style', function () {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _this2.getLegendSrc();\n    });\n  },\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              if (this.dynamic) {\n                _gui2.default.getService('map').on('change-map-legend-params', function () {\n                  _this3.mapReady = true;\n                  _this3.getLegendSrc();\n                });\n              } else {\n                this.mapReady = true;\n              }\n\n            case 3:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"legend-item\"},_vm._l((_vm.legendurls),function(legendurl){return _c('figure',[_c('bar-loader',{attrs:{\"loading\":legendurl.loading}}),_vm._v(\" \"),_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(!legendurl.loading && !legendurl.error),expression:\"!legendurl.loading && !legendurl.error\"}],attrs:{\"src\":legendurl.url},on:{\"error\":function($event){return _vm.setError(legendurl)},\"load\":function($event){return _vm.urlLoaded(legendurl)}}}),_vm._v(\" \"),_c('span',{staticClass:\"divider\"})],1)}),0)}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/catalog/vue/catalogeventhub\":113,\"services/application\":346,\"services/gui\":356,\"store/catalog-layers\":369,\"store/projects\":374}],203:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _CatalogLayerLegend = require('components/CatalogLayerLegend.vue');\n\nvar _CatalogLayerLegend2 = _interopRequireDefault(_CatalogLayerLegend);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    downloadFile = _require.downloadFile;\n\nvar CLICK_EVENT = {\n  count: 0,\n  timeoutID: null, handleClick: function handleClick(callback, context) {\n    CLICK_EVENT.count += 1;\n    if (!CLICK_EVENT.timeoutID) {\n      CLICK_EVENT.timeoutID = setTimeout(function () {\n        callback.call(context);\n        CLICK_EVENT.reset();\n      }, 300);\n    }\n  },\n  reset: function reset() {\n    CLICK_EVENT.count = 0;\n    CLICK_EVENT.timeoutID = null;\n  }\n};\n\nexports.default = {\n  props: ['layerstree', 'storeid', 'legend', 'legendplace', 'highlightlayers', 'parent_mutually_exclusive', 'parentFolder', 'externallayers', 'root', 'parent'],\n  components: {\n    'layerlegend': _CatalogLayerLegend2.default\n  },\n  data: function data() {\n    return {\n      expanded: this.layerstree.expanded,\n      isGroupChecked: true,\n      controltoggled: false,\n      n_childs: null,\n      filtered: false\n    };\n  },\n\n  computed: {\n    showLegendLayer: function showLegendLayer() {\n      return !this.layerstree.exclude_from_legend;\n    },\n    showLayerTocLegend: function showLayerTocLegend() {\n      return !this.isGroup && this.showLegendLayer && this.layerstree.geolayer;\n    },\n    isGroup: function isGroup() {\n      return !!this.layerstree.nodes;\n    },\n    legendlayerposition: function legendlayerposition() {\n      return this.showLegendLayer && this.layerstree.legend ? this.legendplace : 'tab';\n    },\n    showscalevisibilityclass: function showscalevisibilityclass() {\n      return !this.isGroup && this.layerstree.scalebasedvisibility;\n    },\n    showScaleVisibilityToolip: function showScaleVisibilityToolip() {\n      return this.showscalevisibilityclass && this.layerstree.disabled && this.layerstree.checked;\n    },\n    isTable: function isTable() {\n      return !this.isGroup && !this.layerstree.geolayer && !this.layerstree.external;\n    },\n    isHidden: function isHidden() {\n      return this.layerstree.hidden && true === this.layerstree.hidden;\n    },\n    selected: function selected() {\n      this.layerstree.selected = this.layerstree.disabled && this.layerstree.selected ? false : this.layerstree.selected;\n    },\n    isHighLight: function isHighLight() {\n      return this.highlightlayers && !this.isGroup && _catalogLayers2.default.getLayerById(this.layerstree.id).getTocHighlightable() && this.layerstree.visible || this.layerstree.external && this.layerstree.visible && \"vector\" && this.layerstree._type && true === this.layerstree.tochighlightable;\n    },\n    isInGrey: function isInGrey() {\n      return !this.isGroup && !this.isTable && !this.layerstree.external && (!this.layerstree.visible || this.layerstree.disabled);\n    }\n  },\n  watch: {\n    'layerstree.disabled': function layerstreeDisabled(bool) {},\n    'layerstree.checked': function layerstreeChecked(n, o) {\n      if (this.isGroup) {\n        this.handleGroupChecked(this.layerstree);\n      } else {\n        this.handleLayerChecked(this.layerstree);\n      }\n    }\n  },\n  methods: {\n    init: function init() {\n      var _this = this;\n\n      if (this.isGroup && !this.layerstree.checked) {\n        this.handleGroupChecked(this.layerstree);\n      }\n      if (this.isGroup && !this.root) {\n        this.layerstree.nodes.forEach(function (node) {\n          if (node.id && _this.parent_mutually_exclusive && !_this.layerstree.mutually_exclusive) {\n            node.uncheckable = true;\n          }\n        });\n      }\n    },\n    handleGroupChecked: function handleGroupChecked(group) {\n      var checked = group.checked,\n          parentGroup = group.parentGroup,\n          nodes = group.nodes;\n\n      var setAllLayersVisible = function setAllLayersVisible(_ref) {\n        var nodes = _ref.nodes,\n            visible = _ref.visible;\n\n        nodes.forEach(function (node) {\n          if (undefined !== node.id) {\n            if (node.parentGroup.checked && node.checked) {\n              _catalogLayers2.default.getLayerById(node.id).setVisible(visible);\n            }\n          } else {\n            setAllLayersVisible({ nodes: node.nodes, visible: visible && node.checked });\n          }\n        });\n      };\n      if (checked) {\n        var visible = parentGroup ? parentGroup.checked : true;\n        if (parentGroup && parentGroup.mutually_exclusive) {\n          parentGroup.nodes.forEach(function (node) {\n            node.checked = node.groupId === group.groupId;\n            if (node.checked) {\n              setAllLayersVisible({ nodes: node.nodes, visible: visible });\n            }\n          });\n        } else {\n          setAllLayersVisible({ nodes: nodes, visible: visible });\n        }\n        while (parentGroup) {\n          parentGroup.checked = parentGroup.root || parentGroup.checked;\n          parentGroup = parentGroup.parentGroup;\n        }\n      } else {\n        nodes.forEach(function (node) {\n          if (undefined !== node.id) {\n            if (node.checked) {\n              _catalogLayers2.default.getLayerById(node.id).setVisible(false);\n            }\n          } else {\n            setAllLayersVisible({ nodes: node.nodes, visible: false });\n          }\n        });\n      }\n    },\n    handleLayerChecked: function handleLayerChecked(layerObject) {\n      var checked = layerObject.checked,\n          id = layerObject.id,\n          disabled = layerObject.disabled,\n          _layerObject$projectL = layerObject.projectLayer,\n          projectLayer = _layerObject$projectL === undefined ? false : _layerObject$projectL,\n          parentGroup = layerObject.parentGroup;\n\n      if (!projectLayer) {\n        layerObject.visible = checked;\n        _gui2.default.getService('map').changeLayerVisibility({ id: id, visible: checked });\n      } else {\n          var layer = _catalogLayers2.default.getLayerById(id);\n          if (checked) {\n            var visible = layer.setVisible(!disabled);\n            if (visible && 'toc' === this.legendplace) {\n              setTimeout(function () {\n                return _catalogeventhub2.default.$emit('layer-change-style', { layerId: id });\n              });\n            }\n            if (parentGroup.mutually_exclusive) {\n              parentGroup.nodes.forEach(function (node) {\n                return node.checked = node.id === id;\n              });\n            }\n            while (parentGroup) {\n              parentGroup.checked = true;\n              parentGroup = parentGroup.parentGroup;\n            }\n          } else {\n            layer.setVisible(false);\n          }\n          _catalogeventhub2.default.$emit('treenodevisible', layer);\n        }\n    },\n    toggleFilterLayer: function toggleFilterLayer() {\n      _catalogeventhub2.default.$emit('activefiltertokenlayer', this.storeid, this.layerstree);\n    },\n    clearSelection: function clearSelection() {\n      _catalogeventhub2.default.$emit('unselectionlayer', this.storeid, this.layerstree);\n    },\n    toggle: function toggle() {\n      this.layerstree.checked = !this.layerstree.checked;\n    },\n    expandCollapse: function expandCollapse() {\n      this.layerstree.expanded = !this.layerstree.expanded;\n    },\n    select: function select() {\n      if (this.layerstree.external && 'undefined' !== typeof this.layerstree.selected) {\n        _catalogeventhub2.default.$emit('treenodeexternalselected', this.layerstree);\n      } else if (!this.isGroup && !this.isTable) {\n        _catalogeventhub2.default.$emit('treenodeselected', this.storeid, this.layerstree);\n      }\n    },\n    zoomToLayer: function zoomToLayer(layer) {\n      _gui2.default.getService('map').goToBBox([layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy], layer.epsg);\n    },\n    canZoom: function canZoom(layer) {\n      return layer.bbox && [layer.bbox.minx, layer.bbox.miny, layer.bbox.maxx, layer.bbox.maxy].find(function (coordinate) {\n        return coordinate > 0;\n      });\n    },\n    onTreeItemClick: function onTreeItemClick() {\n      var _this2 = this;\n\n      if (this.isGroup || this.isTable) {\n        return;\n      }\n      CLICK_EVENT.handleClick(function () {\n        switch (CLICK_EVENT.count) {\n          case 1:\n            _this2.select();break;\n          case 2:\n            _this2.canZoom(_this2.layerstree) && _this2.zoomToLayer(_this2.layerstree);break;\n        }\n      }, this);\n    },\n    triClass: function triClass() {\n      return this.g3wtemplate.getFontClass(this.layerstree.checked ? 'check' : 'uncheck');\n    },\n    downloadExternalLayer: function downloadExternalLayer(download) {\n      if (download.file) {\n        downloadFile(download.file);\n      } else if (download.url) {}\n    },\n    removeExternalLayer: function removeExternalLayer(name, type) {\n      _gui2.default.getService('map').removeExternalLayer(name, wms);\n    },\n    showLayerMenu: function showLayerMenu(layerstree, evt) {\n      if (!this.isGroup && (this.layerstree.openattributetable || this.layerstree.downloadable || this.layerstree.geolayer || this.layerstree.external)) {\n        _catalogeventhub2.default.$emit('showmenulayer', layerstree, evt);\n      }\n    }\n  },\n\n  created: function created() {\n    this.init();\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('span.scalevisibility').tooltip();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"tree-item\",class:{\n    selected: !_vm.isGroup || !_vm.isTable ? _vm.layerstree.selected : false,\n    itemmarginbottom: !_vm.isGroup,\n    disabled: _vm.isInGrey, group: _vm.isGroup\n  },style:({\n    marginLeft: !_vm.isGroup ? '5px' : '0'\n  }),on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.showLayerMenu(_vm.layerstree, $event)},\"click\":function($event){$event.stopPropagation();return _vm.onTreeItemClick($event)}}},[(_vm.isGroup)?_c('span',{staticClass:\"root collapse-expande-collapse-icon\",class:[\n      { bold : _vm.isGroup },\n       _vm.g3wtemplate.getFontClass(_vm.layerstree.expanded ? 'caret-down' : 'caret-right')\n    ],staticStyle:{\"padding-right\":\"2px\"},on:{\"click\":_vm.expandCollapse}}):_vm._e(),_vm._v(\" \"),(_vm.isGroup)?_c('span',{class:[_vm.triClass()],staticStyle:{\"color\":\"#ffffff\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle()}}}):(_vm.isTable)?_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden),expression:\"!layerstree.hidden\"}],class:[\n      _vm.parentFolder ? 'child' : 'root',\n      _vm.g3wtemplate.getFontClass('table')\n    ],staticStyle:{\"padding-left\":\"18px\"}}):[(_vm.layerstree.external && _vm.layerstree.removable)?_c('span',{class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\",\"padding-left\":\"1px\"},on:{\"click\":function($event){return _vm.removeExternalLayer(_vm.layerstree.name, _vm.layerstree._type)}}}):_vm._e(),_vm._v(\" \"),(_vm.layerstree.external && _vm.layerstree.download)?_c('span',{class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"color\":\"#ffffff\",\"margin-left\":\"5px\"},on:{\"click\":function($event){return _vm.downloadExternalLayer(_vm.layerstree.download)}}}):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden),expression:\"!layerstree.hidden\"}],staticClass:\"checkbox-layer\",class:_vm.parentFolder ? 'child' : 'root'},[('toc' === _vm.legendlayerposition || !_vm.isGroup && _vm.layerstree.categories)?_c('span',{staticClass:\"collapse-expande-collapse-icon\",class:_vm.g3wtemplate.getFontClass(_vm.layerstree.visible && _vm.layerstree.expanded ? 'caret-down' : 'caret-right'),on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }$event.stopPropagation();return _vm.expandCollapse($event)}}}):_vm._e(),_vm._v(\" \"),_c('span',{class:[\n          _vm.g3wtemplate.getFontClass(_vm.layerstree.checked ? 'check': 'uncheck'),\n          { 'toc-added-external-layer': (!_vm.layerstree.legend && _vm.layerstree.external) }\n        ],style:({\n          paddingLeft: ('toc' === _vm.legendlayerposition)\n            ? '5px'\n            : !_vm.isGroup && _vm.layerstree.categories\n              ? '5px'\n              : (!_vm.layerstree.legend && _vm.layerstree.external)\n                ? '1px'\n                : '18px'\n        }),on:{\"click\":function($event){$event.stopPropagation();return _vm.toggle()}}})])],_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.layerstree.hidden || _vm.isGroup),expression:\"!layerstree.hidden || isGroup\"}],staticClass:\"tree-node-title\",class:{\n      disabled: !_vm.layerstree.external && (_vm.layerstree.disabled || (_vm.layerstree.id && !_vm.layerstree.visible)),\n      bold: _vm.isGroup\n    }},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.text\",value:(_vm.showScaleVisibilityToolip ? (\"minscale:\" + (_vm.layerstree.minscale) + \" - maxscale:\" + (_vm.layerstree.maxscale)) : ''),expression:\"showScaleVisibilityToolip ? `minscale:${layerstree.minscale} - maxscale:${layerstree.maxscale}` : ''\",modifiers:{\"text\":true}}],staticClass:\"skin-tooltip-top g3w-long-text\",class:{\n        highlightlayer: _vm.isHighLight,\n        scalevisibility: _vm.showscalevisibilityclass\n      },attrs:{\"data-placement\":\"top\",\"current-tooltip\":_vm.showScaleVisibilityToolip ? (\"minscale:\" + (_vm.layerstree.minscale) + \" - maxscale: \" + (_vm.layerstree.maxscale)) : ''}},[_vm._v(\"\\n      \"+_vm._s(_vm.layerstree.title)+\"\\n    \")]),_vm._v(\" \"),((!_vm.isGroup && _vm.layerstree.selection))?_c('div',[(_vm.layerstree.selection.active)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.clear'),expression:\"'layer_selection_filter.tools.clear'\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left selection-filter-icon\",class:_vm.g3wtemplate.getFontClass('success'),attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"caputure\",undefined,$event.key,undefined)){ return null; }$event.preventDefault();$event.stopPropagation();return _vm.clearSelection($event)}}}):_vm._e(),_vm._v(\" \"),(!_vm.layerstree.external && (_vm.layerstree.selection.active || _vm.layerstree.filter.active))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left selection-filter-icon\",class:[_vm.g3wtemplate.getFontClass('filter'), _vm.layerstree.filter.active ? 'active' : ''],attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"caputure\",undefined,$event.key,undefined)){ return null; }$event.preventDefault();$event.stopPropagation();return _vm.toggleFilterLayer($event)}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),(_vm.showLayerTocLegend)?_c('layerlegend',{attrs:{\"legendplace\":_vm.legendplace,\"layer\":_vm.layerstree}}):_vm._e(),_vm._v(\" \"),(_vm.isGroup)?_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layerstree.expanded),expression:\"layerstree.expanded\"}],staticClass:\"tree-content-items group\",class:[(\"g3w-lendplace-\" + _vm.legendplace)]},_vm._l((_vm.layerstree.nodes),function(_layerstree){return _c('span',{key:_layerstree.id || _layerstree.groupId},[_c('tristate-tree',{attrs:{\"root\":false,\"legendConfig\":_vm.legend,\"legendplace\":_vm.legendplace,\"highlightlayers\":_vm.highlightlayers,\"parentFolder\":_vm.isGroup,\"layerstree\":_layerstree,\"storeid\":_vm.storeid,\"parent\":_vm.layerstree,\"parent_mutually_exclusive\":!!_vm.layerstree.mutually_exclusive}})],1)}),0):_vm._e()],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/CatalogLayerLegend.vue\":199,\"core/utils/utils\":68,\"gui/catalog/vue/catalogeventhub\":113,\"services/gui\":356,\"store/catalog-layers\":369}],204:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field[data-v-6783d4c4]{background-color:transparent!important;padding-top:3px;padding-bottom:3px;display:flex;align-items:center}.value[data-v-6783d4c4]{position:relative}.field div[data-v-6783d4c4]{padding-left:3px;padding-right:3px}.field_value[data-v-6783d4c4]{padding-left:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"field\",\n  props: ['state']\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"field\",style:({fontSize: _vm.isMobile() && '0.8em'})},[(_vm.state.label)?_c('div',{staticClass:\"col-sm-6  field_label\"},[_vm._t(\"label\",[_vm._v(_vm._s(_vm.state.label))])],2):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"field_value\",class:[_vm.state.label ? 'col-sm-6' : null ]},[_vm._t(\"field\",[_c('span',{staticStyle:{\"word-wrap\":\"break-word\"},domProps:{\"innerHTML\":_vm._s(_vm.state.value)}})])],2)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-6783d4c4\"\n\n},{\"vueify/lib/insert-css\":2}],205:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar fieldsService = require('gui/fields/fieldsservice');\nvar Fields = require('gui/fields/fields');\n\nexports.default = {\n  name: \"g3w-field\",\n  props: {\n    state: {\n      required: true\n    },\n    feature: {\n      type: Object\n    }\n  },\n  components: _extends({}, Fields),\n  created: function created() {\n    this.type = fieldsService.getType(this.state);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c(_vm.type,{tag:\"component\",attrs:{\"feature\":_vm.feature,\"state\":_vm.state}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-46843712\"\n\n},{\"gui/fields/fields\":118,\"gui/fields/fieldsservice\":119}],206:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".show-hide-geo[data-v-3362679d]{color:#3c8dbc;cursor:pointer;font-size:1.2em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-geospatial\",\n  props: {\n    data: {}\n  },\n  mixins: [_mixins.geoMixin],\n  data: function data() {\n    return {\n      layerId: 'table_layer_' + Date.now(),\n      visible: false,\n      id: 'geo_table_' + Date.now()\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"geo-content\"},[_c('span',{staticClass:\"show-hide-geo\",class:[_vm.visible ? _vm.g3wtemplate.font['eye-close'] : _vm.g3wtemplate.font['eye']],on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayer()}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-3362679d\"\n\n},{\"mixins\":338,\"vueify/lib/insert-css\":2}],207:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".img-responsive[data-v-70d2a0b2]{cursor:pointer}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    toRawType = _require.toRawType;\n\nexports.default = {\n  name: \"image\",\n  props: ['state'],\n  data: function data() {\n    return {\n      galleryId: 'gallery_' + Date.now(),\n      active: null,\n      value: this.state.value.mime_type !== undefined ? this.state.value.value : this.state.value\n    };\n  },\n\n  components: {\n    Field: _Field2.default\n  },\n  computed: {\n    values: function values() {\n      return Array.isArray(this.value) ? this.value : [this.value];\n    }\n  },\n  methods: {\n    getSrc: function getSrc(value) {\n      return toRawType(value) === 'Object' ? value.photo : value;\n    },\n    showGallery: function showGallery(index) {\n      this.active = index;\n      if (toRawType(this.value) === 'Object') this.value.active = true;\n      $('#' + this.galleryId).modal('show');\n    },\n    getGalleryImages: function getGalleryImages() {\n      var _this = this;\n\n      return this.values.map(function (image) {\n        return { src: _this.getSrc(image) };\n      });\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('div',{staticStyle:{\"text-align\":\"left\"},attrs:{\"slot\":\"field\"},slot:\"field\"},[_vm._l((_vm.values),function(value,index){return _c('img',{staticClass:\"img-responsive\",staticStyle:{\"max-height\":\"50px\"},attrs:{\"src\":_vm.getSrc(value)},on:{\"click\":function($event){return _vm.showGallery(index)}}})}),_vm._v(\" \"),_c('g3w-images-gallery',{attrs:{\"id\":_vm.galleryId,\"active\":_vm.active,\"images\":_vm.getGalleryImages()}})],2)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-70d2a0b2\"\n\n},{\"components/Field.vue\":204,\"core/utils/utils\":68,\"vueify/lib/insert-css\":2}],208:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field_link[data-v-156f65de]{max-width:100%}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"link\",\n  props: ['state'],\n  data: function data() {\n    return {\n      value: null\n    };\n  },\n\n  components: {\n    Field: _Field2.default\n  },\n  methods: {\n    openLink: function openLink(link_url) {\n      window.open(link_url, '_blank');\n    }\n  },\n  created: function created() {\n    this.value = this.state.value && _typeof(this.state.value) === 'object' ? this.state.value.value : this.state.value;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('info.link_button'),expression:\"'info.link_button'\"}],staticClass:\"btn skin-button field_link\",attrs:{\"slot\":\"field\"},on:{\"click\":function($event){return _vm.openLink(_vm.value)}},slot:\"field\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-156f65de\"\n\n},{\"components/Field.vue\":204,\"vueify/lib/insert-css\":2}],209:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-media\",\n  mixins: [_mixins.mediaMixin],\n  props: ['state'],\n  computed: {\n    type: function type() {\n      return this.getMediaType(this.state.mime_type).type;\n    },\n    value: function value() {\n      return this.state.value;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.value)?_c('div',{staticClass:\"preview\"},[_c('a',{attrs:{\"href\":_vm.value,\"target\":\"_blank\"}},[_c('div',{staticClass:\"previewtype\",class:_vm.type},[_c('i',{staticClass:\"fa-2x\",class:_vm.g3wtemplate.font[_vm.type]})])]),_vm._v(\" \"),_c('div',{staticClass:\"filename\"},[_vm._v(_vm._s(_vm.filename))]),_vm._v(\" \"),_vm._t(\"default\")],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-7b8309b0\"\n\n},{\"mixins\":338}],210:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".field_text_table[data-v-db21acde]{background-color:transparent!important}.field_text_table .field_label[data-v-db21acde]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require('components/Field.vue');\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"text\",\n  props: ['state'],\n  components: {\n    Field: _Field2.default\n  },\n  created: function created() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-db21acde\"\n\n},{\"components/Field.vue\":204,\"vueify/lib/insert-css\":2}],211:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Field = require(\"components/Field.vue\");\n\nvar _Field2 = _interopRequireDefault(_Field);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"vuefield\",\n  props: {\n    feature: {\n      type: Object\n    },\n    state: {\n      type: Object,\n      default: {\n        value: null,\n        vueoptions: {\n          component: {}\n        }\n      }\n    }\n  },\n  components: {\n    Field: _Field2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('field',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"field\"},slot:\"field\"},[_c(_vm.state.vueoptions.component,{tag:\"component\",attrs:{\"feature\":_vm.feature,\"value\":_vm.state.value}})],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-67a07f52\"\n\n},{\"components/Field.vue\":204}],212:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _floatbar = require(\"services/floatbar\");\n\nvar _floatbar2 = _interopRequireDefault(_floatbar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"Floatbar\",\n  data: function data() {\n    return {\n      stack: _floatbar2.default.stack.state\n    };\n  },\n\n  computed: {\n    panelsinstack: function panelsinstack() {\n      return this.stack.contentsdata.length > 0;\n    },\n    panelname: function panelname() {\n      var name = void 0;\n      if (this.stack.contentsdata.length) {\n        name = this.stack.contentsdata.slice(-1)[0].content.getTitle();\n      }\n      return name;\n    },\n    closable: function closable() {\n      return _floatbar2.default.closable;\n    }\n  },\n  watch: {\n    \"stack.contentsdata\": function stackContentsdata() {\n      var children = $(\"#g3w-floatbarpanel-placeholder\").children();\n      children.forEach(function (child, index) {\n        if (index == children.length - 1) $(child).show();else $(child).hide();\n      });\n    }\n  },\n  methods: {\n    closePanel: function closePanel() {\n      _floatbar2.default.closePanel();\n    }\n  }\n\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"control-sidebar control-sidebar-light\"},[_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"floatbar-aside-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"control-sidebar\",\"role\":\"button\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Expand\")])]),_vm._v(\" \"),_c('div',{staticStyle:{\"position\":\"absolute\"},attrs:{\"id\":\"floatbar-spinner\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"g3w-sidebarpanel\"},[(_vm.closable)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-xs-12 col-sm-12 col-md-12\"},[_c('button',{staticClass:\"pull-right close-panel-button\",class:_vm.g3wtemplate.getFontClass('close'),on:{\"click\":_vm.closePanel}})])]):_vm._e(),_vm._v(\" \"),(_vm.panelname)?_c('div',[_c('h4',{staticClass:\"g3w-floatbarpanel-name\"},[_vm._v(_vm._s(_vm.panelname))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"g3w-floatbarpanel-placeholder\",attrs:{\"id\":\"g3w-floatbarpanel-placeholder\"}})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-29b017dd\"\n\n},{\"services/floatbar\":355}],213:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FormHeader = require('components/FormHeader.vue');\n\nvar _FormHeader2 = _interopRequireDefault(_FormHeader);\n\nvar _FormFooter = require('components/FormFooter.vue');\n\nvar _FormFooter2 = _interopRequireDefault(_FormFooter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: {},\n      switchcomponent: false,\n      body: {\n        components: {\n          before: [],\n          after: []\n        }\n      }\n    };\n  },\n\n  components: {\n    g3wformheader: _FormHeader2.default,\n    G3wFormFooter: _FormFooter2.default\n  },\n  transitions: { 'addremovetransition': 'showhide' },\n  methods: {\n    isRootComponent: function isRootComponent(component) {\n      return this.$options.service.isRootComponent(component);\n    },\n    backToRoot: function backToRoot() {\n      this.$options.service.setRootComponent();\n    },\n    handleRelation: function handleRelation(relationId) {\n      this.$options.service.handleRelation(relationId);\n    },\n    disableComponent: function disableComponent(_ref) {\n      var id = _ref.id,\n          _ref$disabled = _ref.disabled,\n          disabled = _ref$disabled === undefined ? false : _ref$disabled;\n\n      this.$options.service.disableComponent({\n        id: id,\n        disabled: disabled\n      });\n    },\n    resizeForm: function resizeForm(perc) {\n      this.$options.service.setCurrentFormPercentage(perc);\n    },\n    switchComponent: function switchComponent(id) {\n      this.switchcomponent = true;\n      this.$options.service.setCurrentComponentById(id);\n    },\n    changeInput: function changeInput(input) {\n      return this.$options.service.changeInput(input);\n    },\n    addToValidate: function addToValidate(input) {\n      this.$options.service.addToValidate(input);\n    },\n    removeToValidate: function removeToValidate(input) {\n      this.$options.service.removeToValidate(input);\n    },\n    reloadLayout: function reloadLayout() {\n      var height = $(this.$el).height();\n      if (!height) return;\n      var footerDOM = $(this.$refs.g3w_form_footer.$el);\n      var bodyFromDOM = $(this.$refs.g3wform_body);\n      var footerHeight = footerDOM.height() ? footerDOM.height() + 50 : 50;\n      var bodyHeight = height - ($(this.$refs.g3wformheader.$el).height() + footerHeight);\n      bodyFromDOM.height(bodyHeight);\n    }\n  },\n  updated: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.switchcomponent && setTimeout(function () {\n                return _this.switchcomponent = false;\n              }, 0);\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function updated() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return updated;\n  }(),\n  created: function created() {\n    var _this2 = this;\n\n    this.$options.service.getEventBus().$on('set-main-component', function () {\n      _this2.switchComponent(0);\n    });\n    this.$options.service.getEventBus().$on('component-validation', function (_ref3) {\n      var id = _ref3.id,\n          valid = _ref3.valid;\n\n      _this2.$options.service.setValidComponent({\n        id: id,\n        valid: valid\n      });\n    });\n    this.$options.service.getEventBus().$on('addtovalidate', this.addToValidate);\n    this.$options.service.getEventBus().$on('disable-component', this.disableComponent);\n  },\n  mounted: function mounted() {\n    this.$options.service.isValid();\n    this.$options.service.setReady(true);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.$options.service.clearAll();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3wform_content\",staticStyle:{\"position\":\"relative\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_c('g3wformheader',{ref:\"g3wformheader\",attrs:{\"currentid\":_vm.state.currentheaderid,\"headers\":_vm.state.headers,\"update\":_vm.state.update,\"valid\":_vm.state.valid},on:{\"resize-form\":_vm.resizeForm,\"clickheader\":_vm.switchComponent}}),_vm._v(\" \"),_c('div',{ref:\"g3wform_body\",staticClass:\"g3wform_body\"},[_vm._l((_vm.body.components.before),function(component){return _c(component,{tag:\"component\",attrs:{\"fields\":_vm.state.fields}})}),_vm._v(\" \"),_c('keep-alive',[_c(_vm.state.component,{tag:\"component\",attrs:{\"handleRelation\":_vm.handleRelation,\"state\":_vm.state},on:{\"hook:activated\":_vm.reloadLayout,\"addtovalidate\":_vm.addToValidate,\"removetovalidate\":_vm.removeToValidate,\"changeinput\":_vm.changeInput}})],1),_vm._v(\" \"),_vm._l((_vm.body.components.after),function(component){return _c(component,{tag:\"component\",attrs:{\"fields\":_vm.state.fields}})})],2),_vm._v(\" \"),_c('g3w-form-footer',{ref:\"g3w_form_footer\",attrs:{\"isRootComponent\":_vm.isRootComponent,\"backToRoot\":_vm.backToRoot,\"state\":_vm.state}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/FormFooter.vue\":215,\"components/FormHeader.vue\":216}],214:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _InputG3WFormInputs = require('components/InputG3WFormInputs.vue');\n\nvar _InputG3WFormInputs2 = _interopRequireDefault(_InputG3WFormInputs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = Vue.extend({\n  props: ['state', 'handleRelation'],\n  data: function data() {\n    return {\n      show: true\n    };\n  },\n\n  components: {\n    G3wFormInputs: _InputG3WFormInputs2.default\n  },\n  methods: {\n    addToValidate: function addToValidate(input) {\n      this.$emit('addtovalidate', input);\n    },\n    removeToValidate: function removeToValidate(input) {\n      this.$emit('removetovalidate', input);\n    },\n    changeInput: function changeInput(input) {\n      this.$emit('changeinput', input);\n    }\n  },\n  computed: {\n    hasFormStructure: function hasFormStructure() {\n      return !!this.state.formstructure;\n    }\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{staticClass:\"form-horizontal g3w-form\"},[_c('div',{staticClass:\"box-primary\"},[_c('div',{staticClass:\"box-body\"},[(_vm.hasFormStructure)?[_c('tabs',{attrs:{\"layerid\":_vm.state.layerid,\"feature\":_vm.state.feature,\"handleRelation\":_vm.handleRelation,\"contenttype\":'editing',\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput,\"removeToValidate\":_vm.removeToValidate,\"tabs\":_vm.state.formstructure,\"fields\":_vm.state.fields}})]:[_c('g3w-form-inputs',{attrs:{\"state\":_vm.state,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}})]],2)])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/InputG3WFormInputs.vue\":239}],215:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = Vue.extend({\n  props: {\n    state: {\n      type: Object\n    },\n    backToRoot: {\n      type: Function,\n      default: function _default() {}\n    },\n    isRootComponent: {\n      type: Function\n    }\n  },\n  data: function data() {\n    this.originalbuttons = this.state.buttons.map(function (button) {\n      return _extends({}, button);\n    });\n    return {\n      id: \"footer\",\n      active: true,\n      show: true\n    };\n  },\n\n  computed: {\n    enableSave: function enableSave() {\n      return this.state.valid && this.state.update;\n    }\n  },\n  methods: {\n    exec: function exec(cbk) {\n      cbk instanceof Function ? cbk(this.state.fields) : function () {\n        return this.state.fields;\n      }();\n    },\n    btnEnabled: function btnEnabled(button) {\n      var _button$enabled = button.enabled,\n          enabled = _button$enabled === undefined ? true : _button$enabled,\n          type = button.type;\n\n      return enabled && (type !== 'save' || type === 'save' && this.enableSave);\n    },\n    isValid: function isValid() {\n      return this.state.valid;\n    }\n  },\n  watch: {\n    'state.component': function stateComponent(component) {\n      this.show = this.isRootComponent(component);\n    },\n\n    'state.update': {\n      immediate: true,\n      handler: function handler(value) {\n        var _this = this;\n\n        this.state.buttons.find(function (button, index) {\n          if (button.eventButtons && button.eventButtons.update) {\n            if (button.eventButtons.update[value]) {\n              _this.state.buttons.splice(index, 1, _extends({}, button, button.eventButtons.update[value]));\n            } else _this.state.buttons.splice(index, 1, _this.originalbuttons[index]);\n          }\n        });\n      }\n    }\n  },\n  activated: function activated() {\n    this.active = true;\n  },\n  deactivated: function deactivated() {\n    this.active = false;\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group g3wform_footer\"},[(_vm.show)?[_vm._t(\"default\",[_c('div',{staticStyle:{\"margin\":\"3px\",\"font-weight\":\"bold\"}},[_vm._v(\"\\n        * \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.form.footer.required_fields'),expression:\"'sdk.form.footer.required_fields'\"}]}),_vm._v(\" \"),(_vm.state.footer.message)?_c('div',{style:([_vm.state.footer.style])},[_vm._v(_vm._s(_vm.state.footer.message))]):_vm._e()]),_vm._v(\" \"),_vm._l((_vm.state.buttons),function(button){return _c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.btnEnabled(button)),expression:\"!btnEnabled(button)\"},{name:\"t\",rawName:\"v-t\",value:(button.title),expression:\"button.title\"}],key:button.id,staticClass:\"btn \",class:[button.class],attrs:{\"update\":_vm.state.update,\"valid\":_vm.state.valid},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.exec(button.cbk)}}})})])]:[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('back'),expression:\"'back'\"}],staticClass:\"btn skin-button\",on:{\"click\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"prevet\",undefined,$event.key,undefined)){ return null; }$event.stopPropagation();return _vm.backToRoot($event)}}})]],2)}\n__vue__options__.staticRenderFns = []\n\n},{}],216:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Vue.extend({\n  props: {\n    headers: {\n      type: Array,\n      default: []\n    },\n    currentid: {\n      type: 'String'\n    },\n    update: {\n      type: Boolean\n    },\n    valid: {\n      type: Boolean\n    }\n  },\n  methods: {\n    click: function click(id) {\n      if (this.currentid !== id) this.$emit('clickheader', id);\n    },\n    resizeForm: function resizeForm(perc) {\n      this.$emit('resize-form', perc);\n    }\n  }\n});\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3wform_header box-header with-border\",staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\"}},[_c('section',{staticClass:\"g3wform_header_content\"},_vm._l((_vm.headers),function(header){return _c('span',{key:header.id,staticClass:\"title\",class:[{item_selected: _vm.currentid === header.id && _vm.headers.length > 1},[_vm.headers.length > 1 ? 'tabs' : 'one' ]],staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"},style:({fontSize: _vm.isMobile() && '1em !important'}),on:{\"click\":function($event){$event.stopPropagation();return _vm.click(header.id)}}},[(header.icon)?_c('span',{staticStyle:{\"margin-right\":\"5px\"}},[_c('i',{class:header.icon})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:(header.title),expression:\"header.title\",arg:\"pre\"}],staticClass:\"g3w-long-text\"},[_vm._v(_vm._s(header.name))]),_vm._v(\" \"),_c(header.component,{tag:\"component\",attrs:{\"valid\":_vm.valid,\"update\":_vm.update}})],1)}),0)])}\n__vue__options__.staticRenderFns = []\n\n},{}],217:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  name: \"bar-loader\",\n  props: ['loading', 'color'],\n  render: function render(createElement) {\n    if (this.loading) {\n      return createElement('div', {\n        style: {\n          backgroundColor: this.color || '#FFFFFF',\n          border: 0\n        },\n        class: {\n          \"bar-loader\": true\n        }\n      });\n    }\n  }\n};\n\n},{}],218:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"datetime\",\n  props: {\n    type: {\n      type: String,\n      default: 'date' },\n    format: {\n      type: String,\n      default: 'YYYY-MM-DD'\n    },\n    minDate: {\n      default: false\n    },\n    maxDate: {\n      default: false\n    },\n    enabledDates: {\n      default: false\n    },\n    value: {},\n    label: {\n      default: 'Date'\n    }\n  },\n  data: function data() {\n    return {\n      datetimevalue: this.value\n    };\n  },\n\n  methods: {\n    changeInput: function changeInput(evt) {},\n    change: function change(value) {\n      var date = moment(value).format(this.format);\n      this.$emit('change', date);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.datetimeinputelement = $(this.$refs.iddatetimepicker);\n              this.datetimeinputelement.datetimepicker({\n                minDate: this.minDate,\n                maxDate: this.maxDate,\n                defaultDate: this.datetimevalue,\n                useCurrent: false,\n                allowInputToggle: true,\n                enabledDates: this.enabledDates,\n                showClose: true,\n                format: this.format,\n                locale: _applicationState2.default.language,\n                toolbarPlacement: 'top',\n                widgetPositioning: {\n                  horizontal: 'right'\n                }\n              });\n              this.datetimeinputelement.on(\"dp.change\", function (_ref2) {\n                var date = _ref2.date;\n\n                _this.change(date);\n              });\n              this.datetimeinputelement.on(\"dp.hide\", function (evt) {});\n              _applicationState2.default.ismobile && setTimeout(function () {\n                return datetimeinputelement.blur();\n              });\n\n            case 7:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n\n  watch: {\n    value: function value(datetime) {\n      this.datetimevalue = datetime;\n      this.datetimeinputelement.data(\"DateTimePicker\").date(datetime);\n    },\n    minDate: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(mindatetime) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.datetimeinputelement.data(\"DateTimePicker\").minDate(mindatetime);\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function minDate(_x) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return minDate;\n    }(),\n    maxDate: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(maxdatetime) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.datetimeinputelement.data(\"DateTimePicker\").maxDate(maxdatetime);\n\n              case 1:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function maxDate(_x2) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return maxDate;\n    }(),\n    enabledDates: function enabledDates(dates) {\n      this.datetimeinputelement.data(\"DateTimePicker\").enabledDates(dates);\n    }\n  },\n  created: function created() {\n    this.id = getUniqueDomId();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"datimecontainer\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.label),expression:\"label\"}],staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.id}}),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('div',{ref:\"iddatetimepicker\",staticClass:\"input-group date\"},[_c('input',{ref:\"idinputdatetimepiker\",staticClass:\"form-control\",attrs:{\"id\":_vm.id,\"type\":\"text\"},on:{\"change\":_vm.changeInput}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon caret\"},[_c('span',{staticClass:\"datetimeinput\",class:[_vm.type === 'time'? _vm.g3wtemplate.getFontClass('time') :  _vm.g3wtemplate.getFontClass('calendar')]})])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-e7683bf8\"\n\n},{\"core/utils/utils\":68,\"store/application-state\":368}],219:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".divider[data-v-6409ddc0]{display:block;position:relative;padding:0;margin-bottom:5px;height:0;width:100%;max-height:0;font-size:1px;line-height:0;clear:both;border:none;border-bottom:2px solid #eee}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"divider\"\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"divider\"})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-6409ddc0\"\n\n},{\"vueify/lib/insert-css\":2}],220:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".modal-content[data-v-38db7d79]{background:hsla(0,0%,100%,.6);border-radius:3px}.modal-dialog[data-v-38db7d79]{display:inline-block;text-align:left;vertical-align:middle}.modal[data-v-38db7d79]{text-align:center;padding:0!important}.modal[data-v-38db7d79]:before{content:\\\"\\\";display:inline-block;height:100%;vertical-align:middle;margin-right:-4px}.carousel .carousel-control span[data-v-38db7d79]{color:#3c8dbc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-images-gallery\",\n  props: {\n    images: {\n      type: Array,\n      default: []\n    },\n    id: {\n      type: String,\n      default: 'gallery'\n    },\n    active: {\n      type: Number\n    }\n  },\n  data: function data() {\n    return {\n      carouselId: 'carousel_' + Date.now()\n    };\n  },\n\n  methods: {\n    isActive: function isActive(src) {\n      return src === active;\n    },\n    isRelativePath: function isRelativePath(url) {\n      if (!_.startsWith(url, '/') && !_.startsWith(url, 'http')) {\n        return _projects2.default.getConfig().mediaurl + url;\n      }\n      return url;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade modal-fullscreen force-fullscreen\",attrs:{\"id\":_vm.id,\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"carousel slide\",attrs:{\"id\":_vm.carouselId,\"data-interval\":\"false\"}},[_c('div',{staticClass:\"carousel-inner\"},_vm._l((_vm.images),function(image,index){return _c('div',{staticClass:\"item\",class:_vm.active == index ? 'active' : ''},[_c('img',{staticStyle:{\"margin\":\"auto\"},attrs:{\"src\":_vm.isRelativePath(image.src)}})])}),0),_vm._v(\" \"),(_vm.images.length> 1)?_c('a',{staticClass:\"left carousel-control\",attrs:{\"href\":'#'+_vm.carouselId,\"role\":\"button\",\"data-slide\":\"prev\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e(),_vm._v(\" \"),(_vm.images.length> 1)?_c('a',{staticClass:\"right carousel-control\",attrs:{\"href\":'#'+_vm.carouselId,\"role\":\"button\",\"data-slide\":\"next\"}},[_c('span',{class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e()])])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-38db7d79\"\n\n},{\"store/projects\":374,\"vueify/lib/insert-css\":2}],221:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".show-hide-geo[data-v-ea8dc510]{color:#3c8dbc;cursor:pointer;font-size:1.2em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"g3w-geospatial\",\n  props: {\n    data: {}\n  },\n  mixins: [_mixins.geoMixin],\n  data: function data() {\n    return {\n      layerId: 'table_layer_' + Date.now(),\n      visible: false,\n      id: 'geo_table_' + Date.now()\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"geo-content\"},[_c('span',{staticClass:\"show-hide-geo\",class:[_vm.visible ? _vm.g3wtemplate.getFontClass('eye-close') : _vm.g3wtemplate.getFontClass('eye')],on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayer()}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-ea8dc510\"\n\n},{\"mixins\":338,\"vueify/lib/insert-css\":2}],222:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".help_div_container[data-v-5d3720b7]{color:#fff;text-align:justify;position:relative;border-radius:3px;margin:5px 2px;white-space:pre-line;background-color:#384246!important}.help_icon[data-v-5d3720b7]{text-align:center;font-size:.7em;margin-top:-4px;margin-left:-4px;background-color:#222d32;font-weight:700;color:#fff;position:absolute;top:0;left:0;width:15px;height:15px;box-shadow:0 3px 5px rgba(0,0,0,.5);border:1px solid #fff;border-radius:50%}.g3w-help-message-content[data-v-5d3720b7]{max-height:200px;padding:10px;overflow-y:auto}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"helpdiv\",\n  props: {\n    message: {\n      type: String,\n      required: true\n    },\n    type: {\n      type: String,\n      default: 'info' }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"help_div_container\"},[_c('span',{staticClass:\"help_icon\"},[_vm._v(\"i\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.message),expression:\"message\"}],staticClass:\"g3w-help-message-content\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-5d3720b7\"\n\n},{\"vueify/lib/insert-css\":2}],223:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".img-responsive[data-v-b7d14a7c]{cursor:pointer}.g3w-image[data-v-b7d14a7c]{padding-left:0!important;min-width:100px;max-width:100%;cursor:pointer}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _GlobalGallery = require('components/GlobalGallery.vue');\n\nvar _GlobalGallery2 = _interopRequireDefault(_GlobalGallery);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-image\",\n  props: {\n    value: {}\n  },\n  data: function data() {\n    return {\n      galleryId: 'gallery_' + Date.now(),\n      active: null\n    };\n  },\n\n  components: {\n    'g3w-images-gallery': _GlobalGallery2.default\n  },\n  computed: {\n    values: function values() {\n      return Array.isArray(this.value) ? this.value : [this.value];\n    }\n  },\n  methods: {\n    getSrc: function getSrc(value) {\n      if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n        return value.photo;\n      }\n      return value;\n    },\n    showGallery: function showGallery(index) {\n      this.active = index;\n      if (_typeof(this.value) === 'object') {\n        this.value.active = true;\n      }\n      $('#' + this.galleryId).modal('show');\n    },\n    getGalleryImages: function getGalleryImages() {\n      var _this = this;\n\n      var images = [];\n      this.values.forEach(function (image) {\n        images.push({\n          src: _this.getSrc(image)\n        });\n      });\n      return images;\n    }\n  },\n  created: function created() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.values),function(value,index){return _c('div',{staticClass:\"g3w-image col-md-6 col-sm-12\"},[_c('img',{staticClass:\"img-thumbnail\",attrs:{\"src\":_vm.getSrc(value)},on:{\"click\":function($event){return _vm.showGallery(index)}}})])}),0),_vm._v(\" \"),_c('g3w-images-gallery',{attrs:{\"id\":_vm.galleryId,\"active\":_vm.active,\"images\":_vm.getGalleryImages()}})],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b7d14a7c\"\n\n},{\"components/GlobalGallery.vue\":220,\"vueify/lib/insert-css\":2}],224:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-layer-positions[data-v-026784c2]{display:flex;flex-direction:column;margin:5px 0}.g3w-layer-positions-info-message[data-v-026784c2]{margin-bottom:5px;font-weight:700}.g3w-layer-positions-checkboxes[data-v-026784c2]{display:flex;justify-content:space-between}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"layerspositions\",\n  props: {\n    position: {\n      type: String,\n      default: _constant.MAP_SETTINGS.LAYER_POSITIONS.default\n    }\n  },\n  data: function data() {\n    return {\n      layerpositions: _constant.MAP_SETTINGS.LAYER_POSITIONS.getPositions()\n    };\n  },\n\n  methods: {\n    change: function change() {\n      this.$emit('layer-position-change', this.position);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.ids = {\n      layerpositions: getUniqueDomId()\n    };\n    this.layerpositions.forEach(function (layerposition) {\n      return _this.ids[layerposition] = getUniqueDomId();\n    });\n    this.change();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-layer-positions\",attrs:{\"id\":_vm.ids.layerpositions}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(\"layer_position.message\"),expression:\"`layer_position.message`\"}],staticClass:\"g3w-layer-positions-info-message\"}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-layer-positions-checkboxes\"},_vm._l((_vm.layerpositions),function(layerposition){return _c('div',{key:layerposition},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.position),expression:\"position\"}],staticClass:\"form-control magic-radio\",attrs:{\"type\":\"radio\",\"id\":_vm.ids[layerposition]},domProps:{\"value\":layerposition,\"checked\":_vm.position === layerposition,\"checked\":_vm._q(_vm.position,layerposition)},on:{\"change\":[function($event){_vm.position=layerposition},_vm.change]}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:((\"layer_position.\" + layerposition)),expression:\"`layer_position.${layerposition}`\"}],attrs:{\"for\":_vm.ids[layerposition]}})])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-026784c2\"\n\n},{\"app/constant\":5,\"core/utils/utils\":68,\"vueify/lib/insert-css\":2}],225:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  name: \"progressbar\",\n  props: ['progress'],\n  render: function render(createElement) {\n    if (this.progress !== null && this.progress !== undefined) {\n      return createElement('div', {\n        style: {\n          margin: '5px 0 5px 0',\n          width: '100%',\n          backgroundColor: '#FFFFFF',\n          border: 0,\n          borderRadius: '3px'\n        }\n      }, [createElement('div', {\n        style: {\n          width: (this.progress < 10 ? 10 : this.progress) + '%',\n          display: 'flex',\n          justifyContent: 'center',\n          fontWeight: 'bold'\n        },\n        class: {\n          'skin-background-color': true\n        }\n      }, [createElement('span', this.progress + '%')])]);\n    }\n  }\n};\n\n},{}],226:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".min-max-label[data-v-a8bbacb8]{align-self:end;font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    debounce = _require.debounce;\n\nexports.default = {\n  name: \"range\",\n  props: {\n    id: {\n      required: true\n    },\n\n    label: {\n      type: \"String\",\n      default: ''\n    },\n\n    min: {\n      type: Number,\n      default: 0\n    },\n\n    max: {\n      type: Number,\n      default: 10\n    },\n\n    step: {\n      type: Number,\n      default: 1\n    },\n\n    labelValue: {},\n\n    value: {\n      default: 0\n    },\n\n    sync: {\n      type: Boolean,\n      default: false\n    },\n\n    showValue: {\n      type: Boolean,\n      default: false\n    },\n\n    unit: {\n      type: String,\n      default: ''\n    }\n\n  },\n  data: function data() {\n    return {};\n  },\n\n  methods: {\n    changeBackGround: function changeBackGround(value) {\n      this.$refs['range-input'].style.backgroundSize = (value ? (value - this.min) * 100 / (this.max - this.min) : 0) + \"% 100%\";\n    },\n    setValue: function setValue(value) {\n      this.changedValue(value);\n    },\n    change: function change(evt) {\n      var value = 1 * evt.target.value;\n      this.changedValue(value);\n    },\n    emitChangeValue: function emitChangeValue(value) {\n      this.value = value;\n      this.$emit('change-range', {\n        id: this.id,\n        value: value\n      });\n    }\n  },\n  watch: {\n    value: function value(_value) {\n      this.changeBackGround(_value);\n      this.sync && this.emitChangeValue(_value);\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.changedValue = this.sync ? function () {\n      return _this.$emit('changed');\n    } : debounce(function (value) {\n      _this.emitChangeValue(value);\n    });\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.changeBackGround(this.value);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('section',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"font-weight\":\"bold\"}},[_c('section',{staticStyle:{\"align-self\":\"flex-end\"}},[_c('span',{staticClass:\"min-max-label\"},[_vm._v(_vm._s(_vm.min))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.unit))])]),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"margin\":\"0 3px\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.label),expression:\"label\"}],staticClass:\"skin-color\",staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.id}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],ref:\"range-input\",attrs:{\"type\":\"range\",\"id\":_vm.id,\"min\":_vm.min,\"max\":_vm.max,\"step\":_vm.step},domProps:{\"value\":(_vm.value)},on:{\"change\":_vm.change,\"__r\":function($event){_vm.value=$event.target.value}}})]),_vm._v(\" \"),_c('section',{staticStyle:{\"align-self\":\"flex-end\"}},[_c('span',{staticClass:\"min-max-label\"},[_vm._v(_vm._s(_vm.max))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.unit))])])]),_vm._v(\" \"),(_vm.showValue)?[_c('span',[_vm._v(_vm._s(_vm.value))]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.unit))])]:_vm._e()],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-a8bbacb8\"\n\n},{\"core/utils/utils\":68,\"vueify/lib/insert-css\":2}],227:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: \"g3w-resize\",\n  props: {\n    show: {\n      type: Boolean,\n      required: true,\n      default: true\n    },\n    orientation: {\n      type: String,\n      required: true,\n      default: 'h'\n    },\n    where: {\n      type: 'string',\n      default: 'document'\n    },\n    moveFnc: {\n      type: Function,\n      default: function _default(evt) {\n        return console.log(evt);\n      }\n    },\n    style: {\n      type: Object,\n      default: {}\n    }\n  },\n  methods: {\n    wrapMoveFnc: function wrapMoveFnc(evt) {\n      this.domElementMoveListen.addEventListener('mouseup', this.stop, { once: true });\n      this.moveFnc(evt);\n    },\n    start: function start() {\n      this.domElementMoveListen.addEventListener('mousemove', this.wrapMoveFnc);\n    },\n    stop: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.domElementMoveListen.removeEventListener('mousemove', this.wrapMoveFnc);\n                _context.next = 3;\n                return this.$nextTick();\n\n              case 3:\n                _gui2.default.emit('resize');\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stop() {\n        return _ref.apply(this, arguments);\n      }\n\n      return stop;\n    }()\n  },\n  watch: {\n    'orientation': {\n      handler: function handler(orientation) {\n        this.style.cursor = orientation === 'v' ? 'ns-resize' : 'col-resize';\n      },\n\n      immediate: true\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.domElementMoveListen;\n              this.style = _extends({\n                minWidth: '5px',\n                backgroundColor: '#dddddd',\n                cursor: 'col-resize'\n              }, this.style);\n              _context2.t0 = this.where;\n              _context2.next = _context2.t0 === 'content' ? 5 : _context2.t0 === 'document' ? 7 : 7;\n              break;\n\n            case 5:\n              this.domElementMoveListen = document.getElementById('g3w-view-content');\n              return _context2.abrupt('break', 8);\n\n            case 7:\n              this.domElementMoveListen = document;\n\n            case 8:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.domElementMoveListen = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],style:(_vm.style),attrs:{\"id\":_vm.$attrs.id},on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.start($event)}}})}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-9cb98a46\"\n\n},{\"services/gui\":356}],228:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n    name: 'resize-icon',\n    props: {\n        type: {\n            type: String,\n            default: 'h'\n        }\n    },\n    computed: function computed() {},\n\n    methods: {\n        toggleFull: function toggleFull() {\n            _gui2.default.toggleFullViewContent();\n            _gui2.default.emit('resize');\n        },\n        resetToDefault: function resetToDefault() {\n            _gui2.default.resetToDefaultContentPercentage();\n            _gui2.default.emit('resize');\n        }\n    }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('i',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:bottom.create\",value:('enlange_reduce'),expression:\"'enlange_reduce'\",arg:\"bottom\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-color-dark\",class:_vm.g3wtemplate.getFontClass((\"resize-\" + _vm.type)),staticStyle:{\"cursor\":\"pointer\",\"margin-right\":\"3px\"},on:{\"click\":_vm.toggleFull}}),_vm._v(\" \"),_c('i',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('reset_default'),expression:\"'reset_default'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-color-dark\",class:_vm.g3wtemplate.getFontClass(\"resize-default\"),staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":_vm.resetToDefault}})])}\n__vue__options__.staticRenderFns = []\n\n},{\"services/gui\":356}],229:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".br[data-v-8413fc94]{border-radius:8px}.card[data-v-8413fc94]{width:80%;padding:10px 20px;margin:50px auto}.item[data-v-8413fc94]{height:15px;background:#ccc;margin-top:15px}.item-light[data-v-8413fc94]{background:#ddd}.text80[data-v-8413fc94]{width:80%}.chart-wrapper[data-v-8413fc94]{height:50px;display:flex;align-items:baseline;margin-bottom:20px}.chart-item[data-v-8413fc94]{height:100%;width:15px;background:#ccc;margin-right:10px}.chart-item-80[data-v-8413fc94]{height:80%}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"skeleton\",\n  mounted: function mounted() {\n    this.$nextTick(function () {});\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card br\"},[_c('div',{staticClass:\"chart-wrapper\"},[_c('div',{staticClass:\"chart-item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item chart-item-80 item-light br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"chart-item br chart-item-80\"})]),_vm._v(\" \"),_c('div',{staticClass:\"item br text80\"}),_vm._v(\" \"),_c('div',{staticClass:\"item item-light br\"}),_vm._v(\" \"),_c('div',{staticClass:\"item br\"}),_vm._v(\" \"),_c('div',{staticClass:\"item item-light br text80\"})])}]\n__vue__options__._scopeId = \"data-v-8413fc94\"\n\n},{\"vueify/lib/insert-css\":2}],230:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".formquerytabs[data-v-2cbd8ce7]{overflow:hidden!important;display:flex;flex-wrap:wrap}.formquerytabs>li[data-v-2cbd8ce7]{flex:1;display:flex}.formquerytabs>li>a[data-v-2cbd8ce7]{font-weight:700;flex:1}.tab-content[data-v-2cbd8ce7]{//margin-top:10px}.nav-tabs>li>a.mobile[data-v-2cbd8ce7]{padding:5px 10px}.tab_a[data-v-2cbd8ce7]{padding:5px;margin-right:0!important;//border:1px solid #eee;border-bottom:0;margin-bottom:3px;border-radius:3px 3px 0 0}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _name$props$component;\n\nvar _tabservice = require('core/expression/tabservice');\n\nvar _tabservice2 = _interopRequireDefault(_tabservice);\n\nvar _GlobalTabsNode = require('components/GlobalTabsNode.vue');\n\nvar _GlobalTabsNode2 = _interopRequireDefault(_GlobalTabsNode);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = (_name$props$component = {\n  name: \"tabs\",\n  props: {\n    group: {\n      type: Boolean,\n      default: false\n    },\n    contenttype: {\n      default: 'query' },\n    layerid: {\n      required: true\n    },\n    tabs: {\n      required: true\n    },\n    feature: {\n      required: true\n    },\n    fields: {\n      required: true\n    },\n    addToValidate: Function,\n    removeToValidate: Function,\n    changeInput: Function,\n    showRelationByField: {\n      type: Boolean,\n      default: true\n    },\n    handleRelation: {\n      type: Function,\n      default: function _default() {\n        var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            relation = _ref.relation,\n            layerId = _ref.layerId,\n            feature = _ref.feature;\n\n        return _gui2.default.getService('queryresults').showRelation({ relation: relation, layerId: layerId, feature: feature });\n      }\n    }\n  },\n  components: {\n    Node: _GlobalTabsNode2.default\n  },\n  data: function data() {\n    return {\n      ids: []\n    };\n  },\n\n  computed: {\n    required_fields: function required_fields() {\n      return this.contenttype === 'editing' && this.fields.filter(function (field) {\n        return field.validate.required;\n      }).map(function (field) {\n        return field.name;\n      });\n    },\n    show: function show() {\n      return this.tabs.reduce(function (accumulator, tab) {\n        return accumulator || tab.visible === undefined || !!tab.visible;\n      }, false);\n    }\n  },\n  methods: {\n    setVisibility: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(tab) {\n        var visible;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _tabservice2.default.getVisibility({\n                  qgs_layer_id: this.layerid,\n                  expression: tab.visibility_expression.expression,\n                  feature: this.feature,\n                  contenttype: this.contenttype\n                });\n\n              case 2:\n                visible = _context.sent;\n\n                tab.visible = visible;\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function setVisibility(_x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return setVisibility;\n    }(),\n    setEditingRequireTab: function setEditingRequireTab(obj) {\n      var _this = this;\n\n      var required = false;\n      if (obj.nodes === undefined) required = this.required_fields.indexOf(obj.field_name) !== -1;else required = !!obj.nodes.find(function (node) {\n        return _this.setEditingRequireTab(node);\n      });\n      return required;\n    },\n    getField: function getField(fieldName) {\n      return this.fields.find(function (field) {\n        return field.name === fieldName;\n      });\n    }\n  }\n}, _defineProperty(_name$props$component, 'components', {\n  Node: _GlobalTabsNode2.default\n}), _defineProperty(_name$props$component, 'created', function () {\n  var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n    var _this2 = this;\n\n    var _loop, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, tab, nodes;\n\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            this.unwatch = [];\n\n            _loop = function _loop(tab) {\n              if (tab.visibility_expression) {\n                if (tab.visible === undefined) _this2.$set(tab, 'visible', 0);\n                _this2.setVisibility(tab);\n              }\n              if (_this2.contenttype === 'editing') {\n                if (tab.required === undefined) tab.required = _this2.setEditingRequireTab(tab);\n                if (tab.visibility_expression) {\n                  tab.visibility_expression.referenced_columns.forEach(function (column) {\n                    var field = _this2.fields.find(function (field) {\n                      return field.name === column;\n                    });\n                    _this2.unwatch.push(_this2.$watch(function () {\n                      return field.value;\n                    }, function () {\n                      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(value) {\n                        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                          while (1) {\n                            switch (_context2.prev = _context2.next) {\n                              case 0:\n                                _this2.feature.set(field.name, value);\n                                _this2.setVisibility(tab);\n\n                              case 2:\n                              case 'end':\n                                return _context2.stop();\n                            }\n                          }\n                        }, _callee2, _this2);\n                      }));\n\n                      return function (_x3) {\n                        return _ref4.apply(this, arguments);\n                      };\n                    }()));\n                  });\n                }\n              }\n              _this2.ids.push('tab_' + getUniqueDomId());\n            };\n\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _iteratorError = undefined;\n            _context3.prev = 5;\n            for (_iterator = this.tabs[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n              tab = _step.value;\n\n              _loop(tab);\n            }\n            _context3.next = 13;\n            break;\n\n          case 9:\n            _context3.prev = 9;\n            _context3.t0 = _context3['catch'](5);\n            _didIteratorError = true;\n            _iteratorError = _context3.t0;\n\n          case 13:\n            _context3.prev = 13;\n            _context3.prev = 14;\n\n            if (!_iteratorNormalCompletion && _iterator.return) {\n              _iterator.return();\n            }\n\n          case 16:\n            _context3.prev = 16;\n\n            if (!_didIteratorError) {\n              _context3.next = 19;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 19:\n            return _context3.finish(16);\n\n          case 20:\n            return _context3.finish(13);\n\n          case 21:\n            this.root_tabs = [];\n            if (!this.group) {\n              nodes = [];\n\n              this.tabs.forEach(function (tab_node) {\n                if (tab_node.nodes) nodes.push(tab_node);else {\n                  if (nodes.length) {\n                    _this2.root_tabs.push([].concat(nodes));\n                    nodes.splice(0);\n                  }_this2.root_tabs.push({ nodes: [tab_node] });\n                }\n              });\n              if (nodes.length) this.root_tabs.push(nodes);\n            } else this.root_tabs = [this.tabs];\n\n          case 23:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[5, 9, 13, 21], [14,, 16, 20]]);\n  }));\n\n  function created() {\n    return _ref3.apply(this, arguments);\n  }\n\n  return created;\n}()), _defineProperty(_name$props$component, 'beforeDestroy', function beforeDestroy() {\n  this.unwatch.forEach(function (unwatch) {\n    return unwatch();\n  });\n  this.unwatch = null;\n}), _name$props$component);\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('div',{staticClass:\"tabs-wrapper\"},[_vm._l((_vm.root_tabs),function(root_tab){return [(Array.isArray(root_tab))?[_c('ul',{staticClass:\"formquerytabs nav nav-tabs\"},[_vm._l((root_tab),function(tab,index){return [(tab.visible === undefined || tab.visible)?_c('li',{class:{active: index === 0}},[_c('a',{staticClass:\"tab_a\",class:{'mobile': _vm.isMobile(), 'group-title': _vm.group},style:({fontSize: _vm.isMobile() ? '1.0em': ((_vm.group ? '1.1': '1.2') + \"em\")}),attrs:{\"data-toggle\":\"tab\",\"href\":(\"#\" + (_vm.ids[index]))}},[_vm._v(\"\\n              \"+_vm._s(tab.name)+\" \"),(_vm.contenttype === 'editing' && tab.required)?_c('span',{staticStyle:{\"padding-left\":\"3px\",\"font-size\":\"1.1em\"}},[_vm._v(\"*\")]):_vm._e()])]):_vm._e()]})],2),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\",class:{editing: _vm.contenttype === 'editing'}},[_vm._l((root_tab),function(tab,index){return [(tab.visible === undefined || tab.visible)?_c('div',{staticClass:\"tab-pane fade\",class:{'in active': index === 0},attrs:{\"id\":_vm.ids[index]}},[_c('node',{attrs:{\"showRelationByField\":_vm.showRelationByField,\"handleRelation\":_vm.handleRelation,\"feature\":_vm.feature,\"layerid\":_vm.layerid,\"contenttype\":_vm.contenttype,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput,\"fields\":_vm.fields,\"showTitle\":false,\"node\":tab}})],1):_vm._e()]})],2)]:_c('node',{attrs:{\"showRelationByField\":_vm.showRelationByField,\"handleRelation\":_vm.handleRelation,\"feature\":_vm.feature,\"layerid\":_vm.layerid,\"contenttype\":_vm.contenttype,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"changeInput\":_vm.changeInput,\"fields\":_vm.fields,\"showTitle\":false,\"node\":root_tab}})]})],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2cbd8ce7\"\n\n},{\"components/GlobalTabsNode.vue\":231,\"core/expression/tabservice\":12,\"core/utils/utils\":68,\"services/gui\":356,\"vueify/lib/insert-css\":2}],231:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".tab-node[data-v-9685e2ee]{min-width:0;overflow:hidden}.title[data-v-9685e2ee]{font-weight:700;width:100%;color:#fff;padding:3px;margin-top:5px;margin-bottom:5px;border-radius:2px}.node-row[data-v-9685e2ee]{margin-bottom:0;column-gap:2px;margin-top:0;display:grid;grid-auto-columns:minmax(0,1fr);grid-auto-flow:column}.row.mobile[data-v-9685e2ee]{margin-bottom:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _InputG3W = require('components/InputG3W.vue');\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Fields = require('gui/fields/fields');\n\nexports.default = {\n  name: \"node\",\n  props: ['contenttype', 'node', 'fields', 'showTitle', 'addToValidate', 'removeToValidate', 'changeInput', 'layerid', 'feature', 'showRelationByField', 'handleRelation'],\n  components: _extends({\n    G3wInput: _InputG3W2.default\n  }, Fields),\n  data: function data() {\n    return {\n      context: this.contenttype,\n      editing_required: false\n    };\n  },\n\n  computed: {\n    filterNodes: function filterNodes() {\n      var _this = this;\n\n      var filterNodes = this.node.nodes && this.node.nodes.filter(function (node) {\n        if (_this.getNodeType(node) === 'group') {\n          return true;\n        } else if (!node.nodes && node.name && _this.getNodeType(node) != 'group') {\n          node.relation = true;\n          return true;\n        } else {\n          return !!_this.fields.find(function (field) {\n            var field_name = node.field_name ? node.field_name.replace(/ /g, \"_\") : node.field_name;\n            return field.name === field_name || node.relation;\n          });\n        }\n      });\n      return filterNodes || [];\n    },\n    nodesLength: function nodesLength() {\n      return this.filterNodes.length;\n    },\n    rows: function rows() {\n      var rowCount = 1;\n      if (this.nodesLength === 0) rowCount = 0;else if (this.columnNumber <= this.nodesLength) {\n        var rest = this.nodesLength % this.columnNumber;\n        rowCount = Math.floor(this.nodesLength / this.columnNumber) + rest;\n      }\n      return rowCount;\n    },\n    columnNumber: function columnNumber() {\n      var columnCount = parseInt(this.node.columncount) ? parseInt(this.node.columncount) : 1;\n      return columnCount > this.nodesLength ? this.nodesLength : columnCount;\n    },\n    showGroupTile: function showGroupTile() {\n      return this.showTitle && this.node.showlabel && this.node.groupbox;\n    }\n  },\n  methods: {\n    loadingRelation: function loadingRelation(relation) {\n      var layer = _projects2.default.getCurrentProject().getLayerById(this.layerid);\n      var relation_project = layer.getRelationById(relation.name);\n      return relation_project.state;\n    },\n    isRelationDisabled: function isRelationDisabled(relation) {\n      return this.getRelationName(relation.name) === undefined || this.contenttype === 'editing' && this.isRelationChildLayerNotEditable(relation);\n    },\n    getRelationName: function getRelationName(relationId) {\n      var relation = _projects2.default.getCurrentProject().getRelationById(relationId);\n      return relation && relation.name;\n    },\n    isRelationChildLayerNotEditable: function isRelationChildLayerNotEditable(relation) {\n      var nmRelationId = relation.nmRelationId,\n          name = relation.name;\n\n      var currentProject = _projects2.default.getCurrentProject();\n      var projectRelation = currentProject.getRelationById(name);\n      var relationLayerId = projectRelation.referencingLayer;\n      var relationLayer = currentProject.getLayerById(relationLayerId);\n\n      return !relationLayer.isEditable();\n    },\n    getNodes: function getNodes(row) {\n      var startIndex = (row - 1) * this.columnNumber;\n      return this.filterNodes.slice(startIndex, this.columnNumber + startIndex);\n    },\n    getNode: function getNode(row, column) {\n      return this.getNodes(row)[column - 1];\n    },\n    getField: function getField(node) {\n      if (node.relation) return node;\n      var field = this.fields.find(function (field) {\n        var field_name = node.field_name ? node.field_name.replace(/ /g, \"_\") : node.field_name;\n        return field.name === field_name;\n      });\n      return field;\n    },\n    getNodeType: function getNodeType(node) {\n      var type = node.groupbox || node.nodes ? 'group' : node.relation ? 'relation' : 'field';\n      if (type === 'field' && (node.alias === undefined || node.alias === '')) {\n        node.alias = node.field_name;\n      }\n      return type;\n    },\n    getComponent: function getComponent(field) {\n      if (field.relation) return;else if (field.query) return field.input.type;else return 'g3w-input';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tab-node group\"},[(_vm.showGroupTile)?_c('h5',{staticClass:\"title group-title\",class:{'mobile': _vm.isMobile()},style:({fontSize: _vm.isMobile() ? '1em' : '1.1em'})},[_vm._v(_vm._s(_vm.node.name))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.rows),function(row){return _c('div',{staticClass:\"node-row\",class:{'mobile': _vm.isMobile()}},[_vm._l((_vm.columnNumber),function(column){return [(_vm.getNode(row, column))?[(_vm.getNodeType(_vm.getNode(row, column)) === 'field')?_c(_vm.getComponent(_vm.getField(_vm.getNode(row, column))),{tag:\"component\",staticStyle:{\"padding\":\"5px 3px 5px 3px\"},attrs:{\"state\":_vm.getField(_vm.getNode(row, column)),\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"feature\":_vm.feature},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}}):[(_vm.getNodeType(_vm.getNode(row, column)) === 'group')?_c('tabs',_vm._b({staticClass:\"sub-group\",staticStyle:{\"width\":\"100% !important\"},attrs:{\"group\":true,\"tabs\":[_vm.getNode(row, column)]}},'tabs',_vm.$props,false)):[(_vm.showRelationByField)?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.isRelationDisabled(_vm.getNode(row, column)) || _vm.loadingRelation(_vm.getNode(row, column)).loading),expression:\"isRelationDisabled(getNode(row, column)) || loadingRelation(getNode(row, column)).loading\"}],style:({cursor: _vm.showRelationByField && 'pointer'}),on:{\"click\":function($event){$event.stopPropagation();_vm.handleRelation({relation: _vm.getNode(row, column), feature:_vm.feature, layerId: _vm.layerid})}}},[_c('bar-loader',{attrs:{\"loading\":_vm.loadingRelation(_vm.getNode(row, column)).loading}}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\",\"align-items\":\"center\"}},[_c('div',{staticClass:\"query_relation_field\"},[_c('i',{class:_vm.g3wtemplate.font[(\"\" + (_vm.context === 'query' ? 'relation' : 'pencil'))]})]),_vm._v(\" \"),_c('span',{staticClass:\"query_relation_field_message g3w-long-text\"},[_c('span',{staticStyle:{\"text-transform\":\"uppercase\"}},[_vm._v(\" \"+_vm._s(_vm.getRelationName(_vm.getNode(row, column).name)))])])])],1):_vm._e()]]]:_vm._e()]})],2)})],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-9685e2ee\"\n\n},{\"components/InputG3W.vue\":238,\"gui/fields/fields\":118,\"services/gui\":356,\"store/projects\":374,\"vueify/lib/insert-css\":2}],232:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  props: ['state'],\n  methods: {\n    showCustomModal: function showCustomModal(id) {\n      this.$emit('show-custom-modal-content', id);\n    }\n  },\n  created: function created() {\n    this.state.type = this.state.type || 'link';\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"customheaderlink dropdown user user-menu\",attrs:{\"title\":_vm.state.title}},[(_vm.state.type === 'link')?_c('a',{staticClass:\"dropdown-toggle\",class:{ imagelink : !!_vm.state.img},attrs:{\"href\":_vm.state.url,\"target\":_vm.state.target}},[(_vm.state.img)?_c('img',{staticStyle:{\"max-height\":\"20px\"},attrs:{\"src\":_vm.state.img}}):_c('span',[(_vm.state.i18n)?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.state.title),expression:\"state.title\"}]}):_c('span',[_vm._v(_vm._s(_vm.state.title))])])]):(_vm.state.type === 'modal')?_c('a',{staticClass:\"dropdown-toggle\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"data-toggle\":\"modal\",\"data-target\":\"#custom_modal\"},on:{\"click\":function($event){return _vm.showCustomModal(_vm.state.id)}}},[_c('span',[_vm._v(_vm._s(_vm.state.title))])]):_vm._e()])}\n__vue__options__.staticRenderFns = []\n\n},{}],233:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".control-label[data-v-cb533ff6]{text-align:left!important;padding-top:0!important;margin-bottom:3px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nexports.default = _extends({\n  name: \"InputBase\",\n  props: ['state']\n}, _mixins.baseInputMixin);\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.state.visible)?_c('div',{staticClass:\"form-group\"},[_vm._t(\"label\",[_c('label',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"col-sm-12 control-label\",attrs:{\"for\":_vm.state.name}},[_vm._v(_vm._s(_vm.state.label)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e(),_vm._v(\" \"),(_vm.showhelpicon)?_c('i',{staticClass:\"skin-color\",class:_vm.g3wtemplate.font['info'],staticStyle:{\"margin-left\":\"3px\",\"cursor\":\"pointer\"},on:{\"click\":_vm.showHideHelp}}):_vm._e(),_vm._v(\" \"),_vm._t(\"label-action\")],2)]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-12\"},[_vm._t(\"loading\",[(_vm.loadingState === 'loading')?_c('div',{staticStyle:{\"position\":\"relative\",\"width\":\"100%\"},attrs:{\"slot\":\"loading\"},slot:\"loading\"},[_c('bar-loader',{attrs:{\"loading\":\"true\"}})],1):_vm._e()]),_vm._v(\" \"),_vm._t(\"body\"),_vm._v(\" \"),_vm._t(\"message\",[(_vm.notvalid)?_c('p',{staticClass:\"g3w-long-text error-input-message\",staticStyle:{\"margin\":\"0\"},domProps:{\"innerHTML\":_vm._s(_vm.state.validate.message)}}):(_vm.state.info)?_c('p',{staticStyle:{\"margin\":\"0\"},domProps:{\"innerHTML\":_vm._s(_vm.state.info)}}):_vm._e()]),_vm._v(\" \"),(_vm.state.help && this.state.help.visible)?_c('div',{staticClass:\"g3w_input_help skin-background-color extralighten\",domProps:{\"innerHTML\":_vm._s(_vm.state.help.message)}}):_vm._e()],2)],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-cb533ff6\"\n\n},{\"mixins\":338,\"vueify/lib/insert-css\":2}],234:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input, _mixins.widgetMixins],\n  data: function data() {\n    return {\n      value: null,\n      label: null,\n      id: getUniqueDomId() };\n  },\n\n  methods: {\n    setLabel: function setLabel() {\n      this.label = this.service.convertCheckedToValue(this.value);\n    },\n    setValue: function setValue() {\n      this.value = this.service.convertValueToChecked();\n    },\n    changeCheckBox: function changeCheckBox() {\n      this.setLabel();\n      this.widgetChanged();\n    },\n    stateValueChanged: function stateValueChanged() {\n      this.setValue();\n      this.setLabel();\n    }\n  },\n  created: function created() {\n    this.value = this.state.forceNull ? this.value : this.service.convertValueToChecked();\n  },\n  mounted: function mounted() {\n    if (!this.state.forceNull) this.setLabel();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticStyle:{\"height\":\"20px\",\"margin-top\":\"8px\"},attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"magic-checkbox\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"tabIndex\":_vm.tabIndex,\"type\":\"checkbox\",\"id\":_vm.id},domProps:{\"checked\":Array.isArray(_vm.value)?_vm._i(_vm.value,null)>-1:(_vm.value)},on:{\"change\":[function($event){var $$a=_vm.value,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.value=$$a.concat([$$v]))}else{$$i>-1&&(_vm.value=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.value=$$c}},_vm.changeCheckBox]}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.id}},[_vm._v(_vm._s(_vm.label))])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":129,\"mixins\":338}],235:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"cursor\":\"pointer\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"type\":\"color\",\"tabIndex\":_vm.tabIndex,\"field\":_vm.state.name,\"id\":_vm.state.name},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":129}],236:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input, _mixins.widgetMixins, _mixins.resizeMixin],\n  data: function data() {\n    var uniqueValue = getUniqueDomId();\n    return {\n      widget_container: {\n        top: 0,\n        left: 0\n      },\n      iddatetimepicker: 'datetimepicker_' + uniqueValue,\n      idinputdatetimepiker: 'inputdatetimepicker_' + uniqueValue,\n      changed: false\n    };\n  },\n\n  methods: {\n    resize: function resize() {\n      var domeDataPicker = $('#' + this.iddatetimepicker);\n      domeDataPicker && domeDataPicker.data(\"DateTimePicker\") && domeDataPicker.data(\"DateTimePicker\").hide();\n    },\n    timeOnly: function timeOnly() {\n      return !this.state.input.options.formats[0].date;\n    },\n    stateValueChanged: function stateValueChanged(value) {\n      var datetimedisplayformat = this.service.convertQGISDateTimeFormatToMoment(this.state.input.options.formats[0].displayformat);\n      var date = moment(value).format(datetimedisplayformat);\n      $('#' + this.iddatetimepicker).val(date);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      var _state$input$options, _state$input$options$, formats, _state$input$options$2, layout, _formats$, minDate, maxDate, fieldformat, enabledDates, disabledDates, displayformat, useCurrent, fielddatetimeformat, date, locale, datetimedisplayformat, datetimefieldformat;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _state$input$options = this.state.input.options, _state$input$options$ = _state$input$options.formats, formats = _state$input$options$ === undefined ? [] : _state$input$options$, _state$input$options$2 = _state$input$options.layout, layout = _state$input$options$2 === undefined ? { vertical: \"top\", horizontal: \"left\" } : _state$input$options$2;\n              _formats$ = formats[0], minDate = _formats$.minDate, maxDate = _formats$.maxDate, fieldformat = _formats$.fieldformat, enabledDates = _formats$.enabledDates, disabledDates = _formats$.disabledDates, displayformat = _formats$.displayformat, useCurrent = _formats$.useCurrent;\n              _context2.next = 4;\n              return this.$nextTick();\n\n            case 4:\n              fielddatetimeformat = fieldformat.replace(/y/g, 'Y').replace(/d/g, 'D');\n\n              this.service.setValidatorOptions({\n                fielddatetimeformat: fielddatetimeformat\n              });\n              date = moment(this.state.value, fielddatetimeformat, true).isValid() ? moment(this.state.value, fielddatetimeformat).toDate() : null;\n              locale = this.service.getLocale();\n              datetimedisplayformat = this.service.convertQGISDateTimeFormatToMoment(displayformat);\n              datetimefieldformat = this.service.convertQGISDateTimeFormatToMoment(fieldformat);\n\n              $('#' + this.iddatetimepicker).datetimepicker({\n                defaultDate: date,\n                format: datetimedisplayformat,\n                ignoreReadonly: true,\n                allowInputToggle: true,\n                enabledDates: enabledDates,\n                disabledDates: disabledDates,\n                useCurrent: useCurrent,\n                toolbarPlacement: 'top',\n                minDate: minDate,\n                maxDate: maxDate,\n                widgetParent: $(this.$refs.datimewidget_container),\n                widgetPositioning: {\n                  vertical: layout.vertical || 'top',\n                  horizontal: layout.horizontal || 'left'\n                },\n                showClose: true,\n                locale: locale\n              });\n\n              $('#' + this.iddatetimepicker).on(\"dp.change\", function (evt) {\n                var newDate = $('#' + _this.idinputdatetimepiker).val();\n                _this.state.value = _.isEmpty(_.trim(newDate)) ? null : moment(newDate, datetimedisplayformat).format(datetimefieldformat);\n                _this.widgetChanged();\n              });\n              $('#' + this.iddatetimepicker).on(\"dp.show\", function () {\n                var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(evt) {\n                  var _$refs$datetimepicker, top, left, width;\n\n                  return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                      switch (_context.prev = _context.next) {\n                        case 0:\n                          _context.next = 2;\n                          return _this.$nextTick();\n\n                        case 2:\n                          _$refs$datetimepicker = _this.$refs.datetimepicker_body.getBoundingClientRect(), top = _$refs$datetimepicker.top, left = _$refs$datetimepicker.left, width = _$refs$datetimepicker.width;\n\n                          _this.widget_container.top = top;\n                          _this.widget_container.left = left - width;\n                          _this.$emit('datetimepickershow');\n\n                        case 6:\n                        case 'end':\n                          return _context.stop();\n                      }\n                    }\n                  }, _callee, _this);\n                }));\n\n                return function (_x) {\n                  return _ref2.apply(this, arguments);\n                };\n              }());\n              $('#' + this.iddatetimepicker).on(\"dp.hide\", function (evt) {\n                _this.$emit('datetimepickershow');\n              });\n              _applicationState2.default.ismobile && setTimeout(function () {\n                $('#' + _this.idinputdatetimepiker).blur();\n              });\n\n            case 15:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{ref:\"datetimepicker_body\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('div',{ref:\"datimewidget_container\",staticStyle:{\"position\":\"fixed\",\"z-index\":\"10000\"},style:({top: ((_vm.widget_container.top) + \"px\"), left: ((_vm.widget_container.left) + \"px\")})}),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"input-group date\",attrs:{\"id\":_vm.iddatetimepicker}},[_c('input',{staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},attrs:{\"id\":_vm.idinputdatetimepiker,\"tabIndex\":_vm.tabIndex,\"readonly\":!_vm.editable || _vm.isMobile() ? 'readonly' : null,\"type\":\"text\"}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon caret\"},[_c('span',{class:[_vm.timeOnly() ? _vm.g3wtemplate.getFontClass('time') :  _vm.g3wtemplate.getFontClass('calendar')]})])])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":129,\"mixins\":338,\"store/application-state\":368}],237:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"step\":_vm.state.step || 1,\"placeholder\":_vm.state.default},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change]},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":129}],238:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar Inputs = require('gui/inputs/inputs');\n\nexports.default = {\n  name: \"g3w-input\",\n  props: {\n    state: {\n      required: true\n    },\n    addToValidate: {\n      type: Function,\n      required: true\n    },\n    removeToValidate: {\n      type: Function,\n      required: true\n    },\n    changeInput: {\n      type: Function,\n      required: true\n    }\n  },\n  components: _extends({}, Inputs),\n  computed: {\n    type: function type() {\n      if (this.state.type !== 'child') return this.state.input.type ? this.state.input.type + '_input' : this.state.type + '_input';\n    }\n  },\n  created: function created() {\n    if (this.state.type !== 'child' && !this.state.input.options) this.state.input.options = {};\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.state.visible)?_c('div',[(_vm.state.type !== 'child')?_c('div',[_c(_vm.type,{tag:\"component\",attrs:{\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate,\"state\":_vm.state},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}}),_vm._v(\" \"),_c('span',{staticClass:\"divider\"})],1):_c('div',{staticClass:\"skin-border-color field-child\",staticStyle:{\"border-top\":\"2px solid\"}},[_c('h4',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.state.label))]),_vm._v(\" \"),_c('div',[_vm._v(\" \"+_vm._s(_vm.state.description)+\" \")]),_vm._v(\" \"),_vm._l((_vm.state.fields),function(field){return _c('g3w-input',{key:field.name,attrs:{\"state\":field,\"changeInput\":_vm.changeInput,\"addToValidate\":_vm.addToValidate,\"removeToValidate\":_vm.removeToValidate},on:{\"changeinput\":_vm.changeInput,\"addinput\":_vm.addToValidate,\"removeinput\":_vm.removeToValidate}})})],2)]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0fece3a7\"\n\n},{\"gui/inputs/inputs\":130}],239:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"#g3w-for-inputs-required-inputs-message[data-v-06573254]{margin-bottom:5px;font-weight:700;text-align:center;display:flex;align-items:center;justify-content:center}.box-body[data-v-06573254]{padding:5px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _InputG3W = require(\"components/InputG3W.vue\");\n\nvar _InputG3W2 = _interopRequireDefault(_InputG3W);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-form-inputs\",\n  props: {\n    state: {\n      type: Object,\n      default: {\n        fields: []\n      }\n    },\n    addToValidate: {\n      type: Function\n    },\n    changeInput: {\n      type: Function\n    },\n    show_required_field_message: {\n      type: Boolean,\n      default: false\n    }\n\n  },\n  components: {\n    G3wInput: _InputG3W2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"form-horizontal g3w-form\"},[_c('div',{staticClass:\"box-primary\"},[_c('div',{staticClass:\"box-body\"},[_vm._l((_vm.state.fields),function(field){return [_c('g3w-input',{attrs:{\"state\":field,\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput},on:{\"addToValidate\":_vm.addToValidate,\"changeInput\":_vm.changeInput}})]})],2),_vm._v(\" \"),(_vm.show_required_field_message)?_c('div',{attrs:{\"id\":\"g3w-for-inputs-required-inputs-message\"}},[_c('span',{staticClass:\"hide-cursor-caret-color\"},[_vm._v(\"*\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.form.footer.required_fields'),expression:\"'sdk.form.footer.required_fields'\"}],staticClass:\"hide-cursor-caret-color\"})]):_vm._e()])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-06573254\"\n\n},{\"components/InputG3W.vue\":238,\"vueify/lib/insert-css\":2}],240:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"tabIndex\":_vm.tabIndex,\"type\":\"number\"},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change]},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":129}],241:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    return {\n      lonId: getUniqueDomId(),\n      latId: getUniqueDomId(),\n      coordinatebutton: {\n        active: false\n      }\n    };\n  },\n\n  computed: {\n    getCoordinateActive: function getCoordinateActive() {\n      return this.service.state.getCoordinateActive;\n    }\n  },\n  methods: {\n    toggleGetCoordinate: function toggleGetCoordinate() {\n      this.service.toggleGetCoordinate();\n    },\n    changeLonLat: function changeLonLat() {\n      this.change();\n      this.setValue();\n    },\n    setValue: function setValue() {\n      this.state.value = [[1 * this.state.values.lon, 1 * this.state.values.lat]];\n    }\n  },\n  created: function created() {\n    this.state.values = this.state.values || { lon: 0, lat: 0 };\n    this.setValue();\n    this.service.setCoordinateButtonReactiveObject(this.coordinatebutton);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.$nextTick(function () {\n                $(_this.$refs['g3w-input-lat-lon']).tooltip({\n                  trigger: 'hover'\n                });\n              });\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.service.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"position\":\"relative\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"height\":\"35px\",\"margin-right\":\"12px\",\"margin-bottom\":\"5px\"}},[_c('button',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.form.inputs.tooltips.lonlat'),expression:\"'sdk.form.inputs.tooltips.lonlat'\"}],ref:\"g3w-input-lat-lon\",staticClass:\"action skin-tooltip-left skin-color skin-border-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"border-radius\":\"5px\",\"font-weight\":\"bold\",\"font-size\":\"20px\",\"cursor\":\"pointer\"},style:({border: _vm.coordinatebutton.active ? '2px solid' : 0}),attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.toggleGetCoordinate($event)}}})]),_vm._v(\" \"),_c('baseinput',{attrs:{\"state\":_vm.state}},[_c('label',{staticClass:\"col-sm-4 control-label\",attrs:{\"slot\":\"label\",\"for\":_vm.lonId},slot:\"label\"},[_vm._v(_vm._s(_vm.state.labels.lon)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.values.lon),expression:\"state.values.lon\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"5px\"},attrs:{\"id\":_vm.lonId,\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"min\":\"-180\",\"max\":\"180\",\"placeholder\":\"Lon\"},domProps:{\"value\":(_vm.state.values.lon)},on:{\"change\":_vm.changeLonLat,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state.values, \"lon\", $event.target.value)}}})])]),_vm._v(\" \"),_c('baseinput',{attrs:{\"state\":_vm.state}},[_c('label',{staticClass:\"col-sm-4 control-label\",attrs:{\"slot\":\"label\",\"for\":_vm.latId},slot:\"label\"},[_vm._v(_vm._s(_vm.state.labels.lat)+\"\\n      \"),(_vm.state.validate && _vm.state.validate.required)?_c('span',[_vm._v(\"*\")]):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.values.lat),expression:\"state.values.lat\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"5px\"},attrs:{\"id\":_vm.latId,\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"min\":\"-90\",\"max\":\"90\",\"placeholder\":\"Lon\"},domProps:{\"value\":(_vm.state.values.lat)},on:{\"change\":_vm.changeLonLat,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state.values, \"lat\", $event.target.value)}}})])])],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":129}],242:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar InputMixins = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar _require3 = require('gui/fields/fields'),\n    MediaField = _require3.media_field;\n\nexports.default = {\n  mixins: [InputMixins],\n  components: {\n    'g3w-media': MediaField\n  },\n  data: function data() {\n    return {\n      data: {\n        value: null,\n        mime_type: null\n      },\n      mediaid: 'media_' + getUniqueDomId(),\n      loading: false\n    };\n  },\n\n  methods: {\n    onClick: function onClick(e) {\n      document.getElementById(this.mediaid).click();\n    },\n    createImage: function createImage(file, field) {\n      var reader = new FileReader();\n      reader.onload = function (e) {\n        field.value = e.target.result;\n      };\n      reader.readAsDataURL(file);\n    },\n    checkFileSrc: function checkFileSrc(value) {\n      if (_.isNil(value)) {\n        value = '';\n      }\n      return value;\n    },\n    clearMedia: function clearMedia() {\n      this.data.value = this.data.mime_type = this.state.value = null;\n      this.change();\n    }\n  },\n  created: function created() {\n    if (this.state.value) {\n      this.data.value = this.state.value.value;\n      this.data.mime_type = this.state.value.mime_type;\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    var fieldName = this.state.name;\n    var formData = {\n      name: fieldName,\n      csrfmiddlewaretoken: this.$cookie.get('csrftoken')\n    };\n    this.$nextTick(function () {\n      $('#' + _this.mediaid).fileupload({\n        dataType: 'json',\n        formData: formData,\n        start: function start() {\n          _this.loading = true;\n        },\n        done: function done(e, data) {\n          var response = data.result[fieldName];\n          if (response) {\n            _this.data.value = response.value;\n            _this.data.mime_type = response.mime_type;\n            _this.state.value = _this.data;\n            _this.change();\n          }\n        },\n        fail: function fail() {\n          _gui2.default.notify.error(t(\"info.server_error\"));\n        },\n        always: function always() {\n          _this.loading = false;\n        }\n      });\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    $('#' + this.mediaid).fileupload('destroy');\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('div',{staticClass:\"g3w_input_button skin-border-color\",staticStyle:{\"border-style\":\"solid\",\"border-width\":\"2px\",\"border-radius\":\"4px\",\"width\":\"100%\",\"cursor\":\"pointer\",\"text-align\":\"center\"},on:{\"click\":_vm.onClick}},[_c('i',{staticClass:\"fa-2x skin-color\",class:_vm.g3wtemplate.getFontClass('file-upload'),staticStyle:{\"padding\":\"5px\"}},[_c('input',{class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"display\":\"none\"},attrs:{\"id\":_vm.mediaid,\"name\":_vm.state.name,\"tabIndex\":_vm.tabIndex,\"data-url\":_vm.state.input.options.uploadurl,\"type\":\"file\"}})])]),_vm._v(\" \"),_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('g3w-media',{attrs:{\"state\":_vm.data}},[_c('div',{staticClass:\"clearmedia\",on:{\"click\":function($event){return _vm.clearMedia()}}},[_c('i',{staticClass:\"g3w-icon\",class:_vm.g3wtemplate.font['trash-o']})])])],1)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/i18n/i18n.service\":14,\"core/utils/utils\":68,\"gui/fields/fields\":118,\"gui/inputs/input\":129,\"services/gui\":356}],243:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\nvar Service = require('gui/inputs/picklayer/service');\n\nexports.default = {\n  mixins: [Input],\n  methods: {\n    pickLayer: function pickLayer() {\n      var _this = this;\n\n      this.pickservice.pick().then(function (value) {\n        return _this.state.value = value;\n      }).catch(function () {});\n    },\n    unpick: function unpick() {\n      var _this2 = this;\n\n      setTimeout(function () {\n        return !_this2.pickservice.isPicked() && _this2.pickservice.unpick();\n      }, 200);\n    }\n  },\n  created: function created() {\n    this.pickservice = new Service(this.state.input.options);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.pickservice.clear();\n    this.pickservice = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"left\":\"0\",\"top\":\"7px\",\"position\":\"absolute\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},style:({cursor: _vm.editable ? 'pointer': null}),attrs:{\"readonly\":\"readonly\",\"tabIndex\":_vm.tabIndex},domProps:{\"value\":(_vm.state.value)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change],\"click\":_vm.pickLayer,\"blur\":_vm.unpick}})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":129,\"gui/inputs/picklayer/service\":137}],244:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    return {\n      ids: [getUniqueDomId(), getUniqueDomId()],\n      name: 'name_' + getUniqueDomId(),\n      radio_value: this.state.value\n    };\n  },\n\n  watch: {\n    'radio_value': function radio_value() {\n      this.state.value = this.radio_value;\n      this.change();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},_vm._l((_vm.state.input.options.values),function(value,index){return _c('span',{key:value.key},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.radio_value),expression:\"radio_value\"}],staticClass:\"magic-radio\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\"},attrs:{\"id\":_vm.ids[index],\"name\":_vm.name,\"tabIndex\":_vm.tabIndex,\"type\":\"radio\"},domProps:{\"value\":value.value,\"checked\":_vm._q(_vm.radio_value,value.value)},on:{\"change\":function($event){_vm.radio_value=value.value}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.ids[index]}},[_vm._v(_vm._s(value.key))])])}),0)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":129}],245:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  data: function data() {\n    var _state$input$options$ = this.state.input.options.values[0],\n        min = _state$input$options$.min,\n        max = _state$input$options$.max,\n        step = _state$input$options$.Step;\n\n    return {\n      min: min,\n      max: max,\n      step: step\n    };\n  },\n\n  methods: {\n    checkValue: function checkValue() {\n      var isEmpty = _.isEmpty(_.trim(this.state.value));\n\n      if (isEmpty && !this.state.validate.required) {\n        this.state.value = this.state.input.options.values[0].default;\n      }\n\n      this.state.validate.valid = !this.state.validate.required;\n\n      if (!isEmpty) {\n        this.state.validate.valid = this.service.getValidator().validate(this.state.value);\n      }\n\n      this.change();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"padding-right\":\"5px\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"type\":\"number\",\"step\":_vm.step},domProps:{\"value\":(_vm.state.value)},on:{\"keydown\":[function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==69){ return null; }$event.preventDefault();},function($event){if(!$event.type.indexOf('key')&&$event.keyCode!==13){ return null; }$event.stopPropagation();}],\"change\":_vm.checkValue,\"blur\":_vm.checkValue,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":129}],246:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar PickLayerInputService = require('gui/inputs/picklayer/service');\nvar Layer = require('core/layers/layer');\nvar InputMixin = require('gui/inputs/input');\n\nvar G3W_SELECT2_NULL_VALUE = null;exports.default = {\n  mixins: [InputMixin, _mixins.selectMixin, _mixins.select2Mixin],\n  data: function data() {\n    return {\n      showPickLayer: false,\n      picked: false\n    };\n  },\n\n  computed: {\n    showNullOption: function showNullOption() {\n      return this.state.nullOption === undefined || this.state.nullOption === true;\n    },\n    select2NullValue: function select2NullValue() {\n      return this.showNullOption && G3W_SELECT2_NULL_VALUE;\n    }\n  },\n  watch: {\n    'state.input.options.values': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(values) {\n        var _this = this;\n\n        var changed, value, findvalue;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                changed = false;\n\n                if (!this.autocomplete) {\n                  value = void 0;\n\n                  if (values.length === 0) value = G3W_SELECT2_NULL_VALUE;else {\n                    findvalue = values.find(function (keyvalue) {\n                      return keyvalue.value == _this.state.value;\n                    });\n\n                    if (!findvalue) value = G3W_SELECT2_NULL_VALUE;else value = findvalue.value;\n                  }\n                  changed = value != this.state.value;\n                  this.state.value = value;\n                  this.setValue();\n                }\n                changed && this.change();\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateInputOptionsValues(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateInputOptionsValues;\n    }()\n  },\n  methods: {\n    pickLayerValue: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var values, field, value;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n\n                if (!this.picked) {\n                  _context2.next = 6;\n                  break;\n                }\n\n                this.pickLayerInputService.unpick();\n                this.picked = false;\n                _context2.next = 16;\n                break;\n\n              case 6:\n                this.picked = true;\n                _context2.next = 9;\n                return this.pickLayerInputService.pick();\n\n              case 9:\n                values = _context2.sent;\n                field = this.state.input.options.value;\n                value = values[field];\n\n                this.select2.val(value).trigger('change');\n                this.changeSelect(value);\n                _gui2.default.showUserMessage({\n                  type: 'success',\n                  autoclose: true\n                });\n                this.picked = false;\n\n              case 16:\n                _context2.next = 22;\n                break;\n\n              case 18:\n                _context2.prev = 18;\n                _context2.t0 = _context2['catch'](0);\n\n                _gui2.default.showUserMessage({\n                  type: \"warning\",\n                  message: 'sdk.form.inputs.messages.errors.picklayer',\n                  autoclose: true\n                });\n                this.picked = false;\n\n              case 22:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 18]]);\n      }));\n\n      function pickLayerValue() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return pickLayerValue;\n    }(),\n    setAndListenSelect2Change: function setAndListenSelect2Change() {\n      var _this2 = this;\n\n      this.select2.on('select2:select', function (event) {\n        var value = event.params.data.$value ? event.params.data.$value : event.params.data.id;\n        value = _this2.showNullOption ? value === G3W_SELECT2_NULL_VALUE ? null : value.toString() : value.toString();\n        _this2.changeSelect(value);\n      });\n    }\n  },\n  created: function created() {\n    this.open = false;\n    if (this.state.input.type === 'select_autocomplete') {\n      var dependencyLayerId = this.state.input.options.layer_id;\n      try {\n        var dependencyLayer = _mapLayers2.default.getLayerById(dependencyLayerId).getEditingLayer() || _catalogLayers2.default.getLayerById(dependencyLayerId);\n        this.showPickLayer = dependencyLayer ? dependencyLayer.getType() !== Layer.LayerTypes.TABLE : false;\n        var _state$input$options = this.state.input.options,\n            field = _state$input$options.value,\n            layer_id = _state$input$options.layer_id;\n\n        var options = {\n          layer_id: layer_id,\n          fields: [field],\n          pick_type: dependencyLayer.isStarted && dependencyLayer.isStarted() && 'map' || null\n        };\n        this.pickLayerInputService = this.showPickLayer && new PickLayerInputService(options);\n      } catch (err) {}\n    }\n    this.autocomplete && this.state.value && this.service.getKeyByValue({\n      search: this.state.value\n    });\n  },\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      var selectElement, language, dropdownParent;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.unwatch;\n              selectElement = $(this.$refs.select);\n              language = this.getLanguage();\n              dropdownParent = this.state.dropdownParent === undefined && $('#g3w-view-content');\n\n              if (this.autocomplete) {\n                this.select2 = selectElement.select2({\n                  minimumInputLength: 1,\n                  dropdownParent: dropdownParent,\n                  allowClear: this.showNullOption,\n                  language: language,\n                  ajax: {\n                    delay: 250,\n                    transport: function transport(params, success, failure) {\n                      var search = params.data.term;\n\n                      $('.select2-results__option.loading-results').siblings().hide();\n                      _this3.resetValues();\n                      _this3.service.getData({\n                        search: search\n                      }).then(function (values) {\n                        return success(values);\n                      }).catch(function (err) {\n                        return failure(err);\n                      });\n                    },\n                    processResults: function processResults(data, params) {\n                      params.page = params.page || 1;\n                      return {\n                        results: data,\n                        pagination: {\n                          more: false\n                        }\n                      };\n                    } }\n                });\n              } else this.select2 = selectElement.select2({\n                language: language,\n                dropdownParent: dropdownParent,\n                minimumResultsForSearch: this.isMobile() ? -1 : null\n              });\n              this.setAndListenSelect2Change();\n              this.setValue();\n\n            case 9:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    if (this.pickLayerInputService) {\n      this.pickLayerInputService.clear();\n      this.pickLayerInputService = null;\n    }\n    this.unwatch && this.unwatch();\n    this.unwatch = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[(_vm.showPickLayer)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.form.inputs.tooltips.picklayer'),expression:\"'sdk.form.inputs.tooltips.picklayer'\"},{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disabled),expression:\"disabled\"}],staticClass:\"skin-color\",class:_vm.g3wtemplate.font['crosshairs'],staticStyle:{\"cursor\":\"pointer\",\"position\":\"relative\",\"top\":\"2px\",\"font-size\":\"1.2em\"},attrs:{\"slot\":\"label-action\",\"data-placement\":\"top\"},on:{\"click\":_vm.pickLayerValue},slot:\"label-action\"}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disabled),expression:\"disabled\"}],attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex},slot:\"body\"},[_c('select',{ref:\"select\",staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"}},[(_vm.showNullOption)?_c('option',{domProps:{\"value\":_vm.select2NullValue}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.state.input.options.values),function(value){return _c('option',{key:_vm.getValue(value.value),domProps:{\"value\":_vm.getValue(value.value)}},[_vm._v(_vm._s(value.key))])})],2)]),_vm._v(\" \"),(_vm.loadingState === 'error')?_c('p',{directives:[{name:\"t\",rawName:\"v-t\",value:('server_error'),expression:\"'server_error'\"}],staticClass:\"error-input-message\",attrs:{\"slot\":\"message\"},slot:\"message\"}):_vm._e()])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/layers/layer\":35,\"gui/inputs/input\":129,\"gui/inputs/picklayer/service\":137,\"mixins\":338,\"services/gui\":356,\"store/catalog-layers\":369,\"store/map-layers\":372}],247:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  watch: {\n    'state.input.options.min': function stateInputOptionsMin() {\n      this.service.changeInfoMessage();\n    },\n    'state.input.options.max': function stateInputOptionsMax() {\n      this.service.changeInfoMessage();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('div',{attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.state.value))]),_vm._v(\" \"),_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"width\":\"100%\",\"padding-right\":\"5px\"},attrs:{\"slot\":\"body\",\"tabIndex\":_vm.tabIndex,\"min\":_vm.state.input.options.min,\"max\":_vm.state.input.options.max,\"type\":\"range\",\"step\":_vm.state.input.options.step},domProps:{\"value\":(_vm.state.value)},on:{\"change\":_vm.change,\"__r\":function($event){return _vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":129}],248:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('input',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],staticClass:\"form-control\",class:{'input-error-validation' : _vm.notvalid},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"tabIndex\":_vm.tabIndex,\"field\":_vm.state.name,\"id\":_vm.state.name},domProps:{\"value\":(_vm.state.value)},on:{\"keyup\":function($event){_vm.isMobile() ? _vm.mobileChange($event) : _vm.change()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"gui/inputs/input\":129}],249:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"textarea[data-v-3ac5abe4]{resize:none;border:1px solid #ccc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input]\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('textarea',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"},{name:\"model\",rawName:\"v-model\",value:(_vm.state.value),expression:\"state.value\"}],class:{'input-error-validation' : _vm.notvalid},staticStyle:{\"max-width\":\"100%\",\"min-width\":\"100%\"},attrs:{\"slot\":\"body\",\"placeholder\":_vm.state.default,\"rows\":\"3\",\"tabIndex\":_vm.tabIndex},domProps:{\"value\":(_vm.state.value)},on:{\"keydown\":function($event){$event.stopPropagation();},\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"value\", $event.target.value)},_vm.change],\"change\":_vm.change},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-3ac5abe4\"\n\n},{\"gui/inputs/input\":129,\"vueify/lib/insert-css\":2}],250:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"button.ql-html{width:40px!important}button.ql-html:after{content:\\\"html\\\"}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nvar Input = require('gui/inputs/input');\n\nexports.default = {\n  mixins: [Input],\n  methods: {\n    setupTableCustomTools: function setupTableCustomTools() {\n      var buttonColumnLeft = this.$el.querySelector('.ql-column-left');\n      buttonColumnLeft.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-left-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M10.205 12.456A.5.5 0 0 0 10.5 12V4a.5.5 0 0 0-.832-.374l-4.5 4a.5.5 0 0 0 0 .748l4.5 4a.5.5 0 0 0 .537.082z\"/></svg>';\n      buttonColumnLeft.title = \"Add column left\";\n\n      var buttonColumnRight = this.$el.querySelector('.ql-column-right');\n      buttonColumnRight.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-right-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M5.795 12.456A.5.5 0 0 1 5.5 12V4a.5.5 0 0 1 .832-.374l4.5 4a.5.5 0 0 1 0 .748l-4.5 4a.5.5 0 0 1-.537.082z\"/></svg>';\n      buttonColumnRight.title = \"Add column right\";\n\n      var buttonColumnRemove = this.$el.querySelector('.ql-column-remove');\n      buttonColumnRemove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-x-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"/></svg>';\n      buttonColumnRemove.title = \"Remove column\";\n\n      var buttonRowAbove = this.$el.querySelector('.ql-row-above');\n      buttonRowAbove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-up-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M3.544 10.705A.5.5 0 0 0 4 11h8a.5.5 0 0 0 .374-.832l-4-4.5a.5.5 0 0 0-.748 0l-4 4.5a.5.5 0 0 0-.082.537z\"/></svg>';\n      buttonRowAbove.title = \"Add row above\";\n\n\n      var buttonRowBelow = this.$el.querySelector('.ql-row-below');\n      buttonRowBelow.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-caret-down-square\" viewBox=\"0 0 16 16\"><path d=\"M3.626 6.832A.5.5 0 0 1 4 6h8a.5.5 0 0 1 .374.832l-4 4.5a.5.5 0 0 1-.748 0l-4-4.5z\"/><path d=\"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 0a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2z\"/></svg>';\n      buttonRowBelow.title = \"Add row below\";\n\n      var buttonRowRemove = this.$el.querySelector('.ql-row-remove');\n      buttonRowRemove.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-dash-square\" viewBox=\"0 0 16 16\"><path d=\"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z\"/><path d=\"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z\"/></svg>';\n      buttonRowRemove.title = \"Remove row\";\n    }\n  },\n  created: function created() {\n    this.edit_state = {\n      edit: false,\n      show_html: false\n    };\n\n    if (!this.state.edit_states) this.state.edit_states = [];\n    this.state.edit_states.push(this.edit_state);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var toolbarOptions;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              toolbarOptions = [[{ header: [1, 2, 3, 4, 5, 6, false] }], [{ 'align': '' }, { 'align': 'center' }, { 'align': 'right' }, { 'align': 'justify' }], [{ 'color': [] }, { 'background': [] }], ['bold', 'italic', 'underline', { 'list': 'ordered' }, { 'list': 'bullet' }, 'link', 'clean', 'html'], ['table', 'column-left', 'column-right', 'column-remove', 'row-above', 'row-below', 'row-remove']];\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              this.quill = new Quill(this.$refs.quill_editor, {\n                modules: {\n                  table: true,\n                  toolbar: {\n                    container: toolbarOptions,\n                    handlers: {\n                      html: function html() {\n                        _this.edit_state.show_html = !_this.edit_state.show_html;\n                        if (_this.edit_state.show_html) _this.quill.container.firstChild.innerText = _this.quill.container.firstChild.innerHTML;else _this.quill.container.firstChild.innerHTML = _this.quill.container.firstChild.innerText;\n                        var _iteratorNormalCompletion = true;\n                        var _didIteratorError = false;\n                        var _iteratorError = undefined;\n\n                        try {\n                          for (var _iterator = _this.$el.querySelectorAll('.ql-formats')[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                            var qlformat = _step.value;\n                            var _iteratorNormalCompletion2 = true;\n                            var _didIteratorError2 = false;\n                            var _iteratorError2 = undefined;\n\n                            try {\n                              for (var _iterator2 = qlformat.children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                                var child = _step2.value;\n\n                                if (!child.classList.contains('ql-html')) child.classList.toggle('g3w-disabled');else child.classList.toggle('skin-color');\n                              }\n                            } catch (err) {\n                              _didIteratorError2 = true;\n                              _iteratorError2 = err;\n                            } finally {\n                              try {\n                                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                  _iterator2.return();\n                                }\n                              } finally {\n                                if (_didIteratorError2) {\n                                  throw _iteratorError2;\n                                }\n                              }\n                            }\n                          }\n                        } catch (err) {\n                          _didIteratorError = true;\n                          _iteratorError = err;\n                        } finally {\n                          try {\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                              _iterator.return();\n                            }\n                          } finally {\n                            if (_didIteratorError) {\n                              throw _iteratorError;\n                            }\n                          }\n                        }\n                      },\n                      'column-left': function columnLeft() {\n                        return _this.table.insertColumnLeft();\n                      },\n                      'column-right': function columnRight() {\n                        return _this.table.insertColumnRight();\n                      },\n                      'column-remove': function columnRemove() {\n                        return _this.table.deleteColumn();\n                      },\n                      'row-above': function rowAbove() {\n                        return _this.table.insertRowAbove();\n                      },\n                      'row-below': function rowBelow() {\n                        return _this.table.insertRowBelow();\n                      },\n                      'row-remove': function rowRemove() {\n                        return _this.table.deleteRow();\n                      }\n                    }\n\n                  }\n                },\n                theme: 'snow'\n              });\n              this.quill.container.firstChild.innerHTML = this.state.value;\n\n              this.table = this.quill.getModule('table');\n              this.setupTableCustomTools();\n\n              this.handler = function () {\n                _this.state.value = _this.edit_state.show_html ? _this.quill.container.firstChild.innerText : _this.quill.container.firstChild.innerHTML;\n                _this.edit_state.edit = true;\n                _this.change();\n                setTimeout(function () {\n                  return _this.edit_state.edit = false;\n                });\n              };\n\n              this.quill.on('text-change', this.handler);\n\n            case 9:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n\n  watch: {\n    'state.value': function stateValue(value) {\n      if (!this.edit_state.edit) {\n        if (this.edit_state.show_html) this.quill.container.firstChild.innerText = value;else this.quill.container.firstChild.innerHTML = value;\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.quill.off('text-change', this.handler);\n    this.handler = null;\n    this.quill = null;\n    this.edit_state.edit = false;\n    this.edit_state.show_html = false;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],attrs:{\"state\":_vm.state}},[_c('div',{ref:\"quill_editor\",staticClass:\"form-control\",style:({border: _vm.novalid ? '1px solid reed' : '1px solid #ccc'}),attrs:{\"slot\":\"body\"},on:{\"keydown\":function($event){$event.stopPropagation();}},slot:\"body\"})])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":129,\"vueify/lib/insert-css\":2}],251:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Input = require('gui/inputs/input');\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  mixins: [Input, _mixins.selectMixin],\n  data: function data() {\n    var id = 'unique_' + getUniqueDomId();\n    return { id: id };\n  },\n\n  watch: {\n    'state.input.options.values': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(values) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.state.value = this.state.value ? this.state.value : null;\n                this.state.value !== null && values.indexOf(this.state.value) === -1 && this.service.addValueToValues(this.state.value);\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                this.state.value && this.select2.val(this.state.value).trigger('change');\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateInputOptionsValues(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateInputOptionsValues;\n    }()\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              if (this.state.input.options.editable) {\n                this.select2 = $('#' + this.id).select2({\n                  dropdownParent: $('#g3w-view-content'),\n                  tags: true,\n                  language: this.getLanguage()\n                });\n                this.select2.val(this.state.value).trigger('change');\n                this.select2.on('select2:select', function (event) {\n                  var value = event.params.data.$value ? event.params.data.$value : event.params.data.id;\n                  _this.changeSelect(value);\n                });\n              }\n\n            case 3:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('baseinput',{attrs:{\"state\":_vm.state}},[_c('select',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.editable),expression:\"!editable\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"},attrs:{\"slot\":\"body\",\"id\":_vm.id,\"tabIndex\":_vm.tabIndex},slot:\"body\"},[_c('option',{attrs:{\"value\":\"null\"}}),_vm._v(\" \"),_vm._l((_vm.state.input.options.values),function(value){return _c('option',{key:value,domProps:{\"value\":_vm.getValue(value)}},[_vm._v(_vm._s(_vm.getValue(value)))])})],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"gui/inputs/input\":129,\"mixins\":338}],252:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"li .item-text[data-v-41231f64]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _catalogeventhub = require('gui/catalog/vue/catalogeventhub');\n\nvar _catalogeventhub2 = _interopRequireDefault(_catalogeventhub);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n\n  name: 'Layeropacitypicker',\n\n  props: {\n    layer: {\n      type: Object,\n      required: true\n    }\n  },\n\n  data: function data() {\n    return {\n      menu: {\n        show: false,\n        top: 0,\n        left: 0,\n        overflowY: 'none',\n        style: null,\n        default: null\n      }\n    };\n  },\n\n  methods: {\n    setLayerOpacity: function setLayerOpacity(_ref) {\n      var _ref$id = _ref.id,\n          id = _ref$id === undefined ? this.layer.id : _ref$id,\n          opacity = _ref.value;\n\n      if (this.layer.opacity == opacity) {\n        return;\n      }\n      this.layer.opacity = opacity;\n      var layer = _catalogLayers2.default.getLayerById(id);\n      if (layer) {\n        _catalogeventhub2.default.$emit('layer-change-opacity', { layerId: id });\n        layer.change();\n      }\n    },\n    showLayerOpacityMenu: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(bool, evt) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.$emit('show-menu-item', { menu: this.menu, bool: bool, evt: evt });\n\n              case 1:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function showLayerOpacityMenu(_x, _x2) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return showLayerOpacityMenu;\n    }()\n  },\n\n  created: function created() {\n    this.$emit('init-menu-item', { layerOpacity: this.menu });\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{on:{\"mouseleave\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showLayerOpacityMenu(false, $event)},\"mouseover\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.showLayerOpacityMenu(true, $event)}}},[_c('span',{staticClass:\"menu-icon skin-color-dark\",class:_vm.g3wtemplate.getFontClass('slider')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('catalog_items.contextmenu.layer_opacity'),expression:\"'catalog_items.contextmenu.layer_opacity'\"}],staticClass:\"item-text\"}),_vm._v(\" \"),_c('span',{staticClass:\"menu-icon\",class:_vm.g3wtemplate.getFontClass('arrow-right'),staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"margin-top\":\"3px\"}}),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.layer && _vm.menu.show),expression:\"layer && menu.show\"}],style:({\n      top:             _vm.menu.top       + 'px',\n      left:            _vm.menu.left - 15 + 'px',\n      maxHeight:       _vm.menu.maxHeight + 'px',\n      overflowY:       _vm.menu.overflowY,\n      paddingLeft:     0,\n      position:        'fixed',\n      backgroundColor: '#FFF',\n      color:           '#000',\n     })},[_c('li',[_c('range',{attrs:{\"value\":_vm.layer.opacity,\"min\":0,\"max\":100,\"step\":1,\"sync\":false,\"showValue\":true,\"unit\":'%'},on:{\"change-range\":_vm.setLayerOpacity}})],1)])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-41231f64\"\n\n},{\"gui/catalog/vue/catalogeventhub\":113,\"store/catalog-layers\":369,\"vueify/lib/insert-css\":2}],253:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MapAddLayer = require('components/MapAddLayer.vue');\n\nvar _MapAddLayer2 = _interopRequireDefault(_MapAddLayer);\n\nvar _MapFooter = require('components/MapFooter.vue');\n\nvar _MapFooter2 = _interopRequireDefault(_MapFooter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    var _$options = this.$options,\n        service = _$options.service,\n        target = _$options.target;\n\n    return {\n      target: target,\n      maps_container: this.$options.maps_container,\n      service: service,\n      hidemaps: service.state.hidemaps,\n      map_info: service.state.map_info\n    };\n  },\n\n  components: {\n    'addlayer': _MapAddLayer2.default,\n    MapFooter: _MapFooter2.default\n  },\n  computed: {\n    mapcontrolsalignement: function mapcontrolsalignement() {\n      return this.service.state.mapcontrolsalignement;\n    },\n    disableMapControls: function disableMapControls() {\n      return this.service.state.mapControl.disabled;\n    }\n  },\n  methods: {\n    showHideControls: function showHideControls() {\n      var mapControls = this.service.getMapControls();\n      mapControls.forEach(function (control) {\n        return control.type !== \"scaleline\" && control.control.showHide();\n      });\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.crs = this.service.getCrs();\n              _context2.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              this.service.setMapControlsContainer($(this.$refs['g3w-map-controls']));\n\n              this.service.onafter('addHideMap', _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n                var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                    ratio = _ref3.ratio,\n                    _ref3$layers = _ref3.layers,\n                    layers = _ref3$layers === undefined ? [] : _ref3$layers,\n                    _ref3$mainview = _ref3.mainview,\n                    mainview = _ref3$mainview === undefined ? false : _ref3$mainview,\n                    _ref3$switchable = _ref3.switchable,\n                    switchable = _ref3$switchable === undefined ? false : _ref3$switchable;\n\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return _this.$nextTick();\n\n                      case 2:\n                        _this.service._addHideMap({ ratio: ratio, layers: layers, mainview: mainview, switchable: switchable });\n\n                      case 3:\n                      case 'end':\n                        return _context.stop();\n                    }\n                  }\n                }, _callee, _this);\n              })));\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  destroyed: function destroyed() {\n    this.service.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.maps_container}},[_vm._l((_vm.hidemaps),function(hidemap){return _c('div',{key:hidemap.id,staticClass:\"g3w-map hidemap\",attrs:{\"id\":hidemap.id}})}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-map\",attrs:{\"id\":_vm.target}},[_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disableMapControls),expression:\"disableMapControls\"}],ref:\"g3w-map-controls\",staticClass:\"g3w-map-controls\",class:_vm.mapcontrolsalignement,staticStyle:{\"display\":\"flex\"}}),_vm._v(\" \"),(_vm.map_info.info)?_c('div',{ref:\"g3w-map-info\",style:(_vm.map_info.style),attrs:{\"id\":\"g3w-map-info\"}},[_vm._v(\"\\n      \"+_vm._s(_vm.map_info.info)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('addlayer',{attrs:{\"service\":_vm.service}})],1),_vm._v(\" \"),_c('map-footer',{attrs:{\"service\":_vm.service}})],2)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"none\"}},[_c('div',{attrs:{\"id\":\"marker\"}})])}]\n\n},{\"components/MapAddLayer.vue\":254,\"components/MapFooter.vue\":255}],254:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vueColor = require('vue-color');\n\nvar _constant = require('app/constant');\n\nfunction _toArray(arr) { return Array.isArray(arr) ? arr : Array.from(arr); }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nvar _require = require('core/utils/geo'),\n    createVectorLayerFromFile = _require.createVectorLayerFromFile,\n    createStyleFunctionToVectorLayer = _require.createStyleFunctionToVectorLayer;\n\nvar SUPPORTED_FORMAT = ['zip', 'geojson', 'GEOJSON', 'kml', 'kmz', 'KMZ', 'KML', 'json', 'gpx', 'gml', 'csv'];\nvar CSV_SEPARATORS = [',', ';'];\n\n_vueColor.Chrome.mounted = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return this.$nextTick();\n\n        case 2:\n          $('.vue-color__chrome__toggle-btn').remove();\n          $('.vue-color__editable-input__label').remove();\n          $('.vue-color__chrome__saturation-wrap').css('padding-bottom', '100px');\n          $('.vue-color__chrome').css({\n            'box-shadow': '0 0 0 0',\n            'border': '1px solid #97A1A8'\n          });\n\n        case 6:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nexports.default = {\n  props: ['service'],\n  data: function data() {\n    var MAPEPSG = this.service.getCrs();\n    _constant.EPSG.find(function (epsg) {\n      return epsg === MAPEPSG;\n    }) === undefined && _constant.EPSG.unshift(MAPEPSG);\n    return {\n      vectorLayer: null,\n      options: _constant.EPSG,\n      error: false,\n      error_message: null,\n      position: null,\n      loading: false,\n      fields: [],\n      field: null,\n      accepted_extension: SUPPORTED_FORMAT.map(function (format) {\n        return '.' + format;\n      }).join(','),\n      csv: {\n        valid: false,\n        loading: false,\n        headers: [],\n        x: null,\n        y: null,\n        separators: CSV_SEPARATORS,\n        separator: CSV_SEPARATORS[0]\n      },\n      layer: {\n        name: null,\n        type: null,\n        crs: null,\n        mapCrs: null,\n        color: {\n          hex: '#194d33',\n          rgba: {\n            r: 25,\n            g: 77,\n            b: 51,\n            a: 1\n          },\n          a: 1\n        },\n        data: null,\n        visible: true,\n        title: null,\n        id: null,\n        external: true\n      }\n    };\n  },\n\n  components: {\n    'chrome-picker': _vueColor.Chrome\n  },\n  computed: {\n    csv_extension: function csv_extension() {\n      return this.layer.type === 'csv';\n    },\n    add: function add() {\n      return this.layer.data || this.csv.valid;\n    }\n  },\n  methods: {\n    setLayerMapPosition: function setLayerMapPosition(position) {\n      this.position = position;\n    },\n    setError: function setError(type) {\n      this.error_message = 'sdk.errors.' + type;\n      this.error = true;\n    },\n    clearError: function clearError() {\n      this.error = false;\n      this.error_message = null;\n    },\n    onChangeColor: function onChangeColor(val) {\n      this.layer.color = val;\n    },\n    onAddLayer: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(evt) {\n        var _this = this;\n\n        var reader, name, type, input_file, promiseData;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                reader = new FileReader();\n                name = evt.target.files[0].name;\n                type = evt.target.files[0].name.split('.');\n\n                type = type[type.length - 1].toLowerCase();\n                input_file = $(this.$refs.input_file);\n\n                if (!(SUPPORTED_FORMAT.indexOf(type) !== -1)) {\n                  _context2.next = 32;\n                  break;\n                }\n\n                this.clearError();\n                this.layer.mapCrs = this.service.getEpsg();\n                this.layer.name = name;\n                this.layer.title = name;\n                this.layer.id = name;\n                this.layer.type = type;\n\n                if (!(this.layer.type === 'csv')) {\n                  _context2.next = 17;\n                  break;\n                }\n\n                reader.onload = function (evt) {\n                  input_file.val(null);\n                  var csv_data = evt.target.result.split(/\\r\\n|\\n/).filter(function (row) {\n                    return row;\n                  });\n\n                  var _csv_data = _toArray(csv_data),\n                      headers = _csv_data[0],\n                      values = _csv_data.slice(1);\n\n                  var handle_csv_headers = function handle_csv_headers(separator) {\n                    var data = null;\n                    _this.csv.loading = true;\n                    var csv_headers = headers.split(separator);\n                    var headers_length = csv_headers.length;\n                    if (headers_length > 1) {\n                      _this.csv.headers = csv_headers;\n                      _this.fields = csv_headers;\n                      _this.csv.x = csv_headers[0];\n                      _this.csv.y = csv_headers[1];\n                      data = {\n                        headers: csv_headers,\n                        separator: separator,\n                        x: _this.csv.x,\n                        y: _this.csv.y,\n                        values: values\n                      };\n                      _this.csv.valid = true;\n                    } else {\n                      _this.csv.headers = _this.fields = [];\n                      _this.vectorLayer = null;\n                      _this.csv.valid = false;\n                      _this.fields.splice(0);\n                    }\n                    _this.csv.loading = false;\n                    return data;\n                  };\n                  _this.layer.data = handle_csv_headers(_this.csv.separator);\n                  _this.$watch('csv.separator', function (separator) {\n                    return _this.layer.data = handle_csv_headers(separator);\n                  });\n                };\n                reader.readAsText(evt.target.files[0]);\n                _context2.next = 30;\n                break;\n\n              case 17:\n                promiseData = new Promise(function (resolve, reject) {\n                  if (_this.layer.type === 'zip' || _this.layer.type === 'kmz') {\n                    var data = evt.target.files[0];\n                    input_file.val(null);\n                    resolve(data);\n                  } else {\n                    reader.onload = function (evt) {\n                      var data = evt.target.result;\n                      input_file.val(null);\n                      resolve(data);\n                    };\n                    reader.readAsText(evt.target.files[0]);\n                  }\n                });\n                _context2.next = 20;\n                return promiseData;\n\n              case 20:\n                this.layer.data = _context2.sent;\n                _context2.prev = 21;\n\n                this.fields.splice(0);_context2.next = 25;\n                return this.createVectorLayer();\n\n              case 25:\n                this.fields = this.vectorLayer.get('_fields');\n                _context2.next = 30;\n                break;\n\n              case 28:\n                _context2.prev = 28;\n                _context2.t0 = _context2['catch'](21);\n\n              case 30:\n                _context2.next = 33;\n                break;\n\n              case 32:\n                this.setError('unsupported_format');\n\n              case 33:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[21, 28]]);\n      }));\n\n      function onAddLayer(_x) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return onAddLayer;\n    }(),\n    createVectorLayer: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.prev = 0;\n                _context3.next = 3;\n                return createVectorLayerFromFile(this.layer);\n\n              case 3:\n                this.vectorLayer = _context3.sent;\n                _context3.next = 6;\n                return this.$nextTick();\n\n              case 6:\n                _context3.next = 11;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3['catch'](0);\n                this.setError('add_external_layer');\n              case 11:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[0, 8]]);\n      }));\n\n      function createVectorLayer() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return createVectorLayer;\n    }(),\n    addLayer: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n        var crs;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.layer.data || this.csv.valid)) {\n                  _context4.next = 27;\n                  break;\n                }\n\n                crs = this.layer.crs;\n                _context4.prev = 2;\n                _context4.prev = 3;\n                _context4.next = 6;\n                return Projections.registerProjection(crs);\n\n              case 6:\n                _context4.next = 12;\n                break;\n\n              case 8:\n                _context4.prev = 8;\n                _context4.t0 = _context4['catch'](3);\n\n                this.setError(_context4.t0);\n                return _context4.abrupt('return');\n\n              case 12:\n\n                this.loading = true;\n                _context4.next = 15;\n                return createVectorLayerFromFile(this.layer);\n\n              case 15:\n                this.vectorLayer = _context4.sent;\n\n                this.vectorLayer.setStyle(createStyleFunctionToVectorLayer({\n                  color: this.layer.color,\n                  field: this.field\n                }));\n                _context4.next = 19;\n                return this.service.addExternalLayer(this.vectorLayer, {\n                  crs: this.layer.crs,\n                  type: this.layer.type,\n                  position: this.position\n                });\n\n              case 19:\n                $(this.$refs.modal_addlayer).modal('hide');\n                this.clear();\n\n                _context4.next = 26;\n                break;\n\n              case 23:\n                _context4.prev = 23;\n                _context4.t1 = _context4['catch'](2);\n\n                this.setError('add_external_layer');\n\n              case 26:\n                this.loading = false;\n\n              case 27:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[2, 23], [3, 8]]);\n      }));\n\n      function addLayer() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return addLayer;\n    }(),\n    clear: function clear() {\n      this.clearError();\n      this.loading = false;\n      this.layer.name = null;\n      this.layer.title = null;\n      this.layer.id = null;\n      this.layer.type = null;\n      this.layer.crs = this.service.getCrs();\n      this.layer.color = {\n        hex: '#194d33',\n        rgba: { r: 25, g: 77, b: 51, a: 1 },\n        a: 1\n      };\n      this.layer.data = null;\n      this.vectorLayer = null;\n      this.fields = [];\n      this.field = null;\n      this.csv.valid = false;\n    },\n    clearLayer: function clearLayer() {\n      this.clear();\n    }\n  },\n  watch: {\n    'csv.x': function csvX(value) {\n      if (value) this.layer.data.x = value;\n    },\n    'csv.y': function csvY(value) {\n      if (value) this.layer.data.y = value;\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.layer.crs = this.service.getCrs();\n    this.service.on('addexternallayer', function () {\n      return _this2.modal.modal('show');\n    });\n  },\n  mounted: function () {\n    var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5() {\n      var _this3 = this;\n\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.modal = $('#modal-addlayer').modal('hide');\n              this.modal.on('hide.bs.modal', function () {\n                _this3.clear();\n              });\n\n            case 4:\n            case 'end':\n              return _context5.stop();\n          }\n        }\n      }, _callee5, this);\n    }));\n\n    function mounted() {\n      return _ref5.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.clear();\n    this.modal.modal('hide');\n    this.modal.remove();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"modal_addlayer\",staticClass:\"modal fade\",attrs:{\"id\":\"modal-addlayer\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"\")]),_vm._v(\" \"),_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.header'),expression:\"'mapcontrols.add_layer_control.header'\"}],staticClass:\"modal-title\",staticStyle:{\"font-weight\":\"bold\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_projection'),expression:\"'mapcontrols.add_layer_control.select_projection'\"}],attrs:{\"for\":\"projection-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.layer.crs),expression:\"layer.crs\"}],staticClass:\"form-control\",attrs:{\"id\":\"projection-layer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.layer, \"crs\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.options),function(option){return _c('option',{domProps:{\"value\":option}},[_vm._v(_vm._s(option))])}),0)]),_vm._v(\" \"),_c('layerspositions',{on:{\"layer-position-change\":function($event){return _vm.setLayerMapPosition($event)}}}),_vm._v(\" \"),_c('p',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_color'),expression:\"'mapcontrols.add_layer_control.select_color'\"}],staticStyle:{\"font-weight\":\"700\"}}),_vm._v(\" \"),_c('chrome-picker',{staticStyle:{\"width\":\"100%\",\"margin\":\"auto\"},on:{\"input\":_vm.onChangeColor},model:{value:(_vm.layer.color),callback:function ($$v) {_vm.$set(_vm.layer, \"color\", $$v)},expression:\"layer.color\"}}),_vm._v(\" \"),_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('form',{attrs:{\"id\":\"addcustomlayer\"}},[_c('input',{ref:\"input_file\",attrs:{\"type\":\"file\",\"title\":\" \",\"accept\":_vm.accepted_extension},on:{\"change\":function($event){return _vm.onAddLayer($event)}}}),_vm._v(\" \"),_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.drag_layer'),expression:\"'mapcontrols.add_layer_control.drag_layer'\"}]}),_vm._v(\" \"),(_vm.layer.name)?_c('h4',{staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(_vm.layer.name))]):_vm._e(),_vm._v(\" \"),_c('div',[_c('i',{staticClass:\"fa-5x\",class:_vm.g3wtemplate.getFontClass('cloud-upload'),attrs:{\"aria-hidden\":\"true\"}})]),_vm._v(\" \"),_c('p',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"[.gml, .geojson, .kml, .kmz ,.gpx, .csv, .zip(shapefile)]\")])]),_vm._v(\" \"),(_vm.csv_extension)?_c('div',{staticStyle:{\"padding\":\"15px\",\"border\":\"1px solid grey\",\"border-radius\":\"3px\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.csv.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"select_field\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_separator'),expression:\"'mapcontrols.add_layer_control.select_csv_separator'\"}],attrs:{\"for\":\"g3w-select-field-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.separator),expression:\"csv.separator\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-separator\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"separator\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.separators),function(separator){return _c('option',{key:separator,domProps:{\"value\":separator}},[_vm._v(_vm._s(separator))])}),0),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.csv.headers || _vm.csv.headers.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_x_field'),expression:\"'mapcontrols.add_layer_control.select_csv_x_field'\"}],attrs:{\"for\":\"g3w-select-x-field\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.x),expression:\"csv.x\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-x-field\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"x\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.headers),function(header){return _c('option',{key:header,domProps:{\"value\":header}},[_vm._v(_vm._s(header))])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.csv.headers || _vm.csv.headers.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_csv_y_field'),expression:\"'mapcontrols.add_layer_control.select_csv_y_field'\"}],attrs:{\"for\":\"g3w-select-y-field\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.csv.y),expression:\"csv.y\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-y-field\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.csv, \"y\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.csv.headers),function(header){return _c('option',{key:header,domProps:{\"value\":header}},[_vm._v(_vm._s(header))])}),0)])])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"select_field\",class:{'g3w-disabled': !_vm.fields || _vm.fields.length === 0}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('mapcontrols.add_layer_control.select_field_to_show'),expression:\"'mapcontrols.add_layer_control.select_field_to_show'\"}],attrs:{\"for\":\"g3w-select-field-layer\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.field),expression:\"field\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-select-field-layer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.field=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{domProps:{\"value\":null}},[_vm._v(\"---\")]),_vm._v(\" \"),_vm._l((_vm.fields),function(field){return _c('option',{key:field,domProps:{\"value\":field}},[_vm._v(_vm._s(field))])})],2)]),_vm._v(\" \"),(_vm.error)?_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.error_message),expression:\"error_message\"}],staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.2em\",\"background-color\":\"orange\",\"padding\":\"10px\",\"text-align\":\"center\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\"},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('add'),expression:\"'add'\"}],staticClass:\"btn btn-success pull-left\",attrs:{\"type\":\"button\",\"disabled\":!_vm.add},on:{\"click\":function($event){$event.stopPropagation();return _vm.addLayer($event)}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('close'),expression:\"'close'\"}],staticClass:\"btn btn-default\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}})])],1)])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":5,\"core/utils/geo\":65,\"g3w-ol/projection/projections\":110,\"vue-color\":\"vue-color\"}],255:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _MapFooterRight = require('components/MapFooterRight.vue');\n\nvar _MapFooterRight2 = _interopRequireDefault(_MapFooterRight);\n\nvar _MapFooterLeft = require('components/MapFooterLeft.vue');\n\nvar _MapFooterLeft2 = _interopRequireDefault(_MapFooterLeft);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: 'Mapfooter',\n  props: {\n    service: {\n      type: Object\n    }\n  },\n  components: {\n    MapFooterRight: _MapFooterRight2.default,\n    MapFooterLeft: _MapFooterLeft2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"skin-border-color\",attrs:{\"id\":\"map_footer\"}},[_c('map-footer-left'),_vm._v(\" \"),_c('map-footer-right',{attrs:{\"service\":_vm.service}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/MapFooterLeft.vue\":256,\"components/MapFooterRight.vue\":257}],256:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'Mapfooter'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\"},attrs:{\"id\":\"map_footer_left\"}},[_c('a',{staticStyle:{\"margin-left\":\"5px\",\"align-self\":\"center\"},attrs:{\"href\":\"https://g3wsuite.it/\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"height\":\"15\",\"src\":\"/static/client/images/g3wsuite_logo.png\",\"alt\":\"\"}})])])}]\n\n},{}],257:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: 'Mapfooter',\n  props: {\n    service: {\n      type: Object\n    }\n  },\n  data: function data() {\n    return {\n      mouse: {\n        switch_icon: false,\n        epsg_4326: false,\n        tooltip: null\n      },\n      mapunit: _applicationState2.default.map.unit\n    };\n  },\n\n  computed: {\n    showmapunits: function showmapunits() {\n      return this.service.state.mapunits.length > 1;\n    }\n  },\n  methods: {\n    createCopyMapExtentUrl: function createCopyMapExtentUrl() {\n      this.service.createCopyMapExtentUrl();\n    },\n    switchMapsCoordinateTo4326: function switchMapsCoordinateTo4326() {\n      this.mouse.epsg_4326 = !this.mouse.epsg_4326;\n    }\n  },\n  watch: {\n    'mapunit': function mapunit(unit) {\n      _applicationState2.default.map.unit = unit;\n      this.service.changeScaleLineUnit(unit);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.service.once('ready', function () {\n                _this.mouse.switch_icon = _this.service.getMapControlByType({\n                  type: 'mouseposition'\n                }) && _this.service.getEpsg() !== 'EPSG:4326';\n                _this.mouse.tooltip = 'ESPG ' + _this.service.getCrs().split(':')[1] + ' <--> WGS84';\n              });\n\n            case 1:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\"},attrs:{\"id\":\"map_footer_right\"}},[_c('div',{attrs:{\"id\":\"scale-control\"}}),_vm._v(\" \"),(_vm.mouse.switch_icon && !_vm.isMobile())?_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:(_vm.mouse.tooltip),expression:\"mouse.tooltip\",arg:\"top\",modifiers:{\"create\":true}}],attrs:{\"id\":\"switch-mouse-coordinate\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.switchMapsCoordinateTo4326($event)}}},[_c('span',{staticClass:\"skin-color hide-cursor-caret-color\",class:_vm.g3wtemplate.getFontClass('mouse')})]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mouse.epsg_4326),expression:\"!mouse.epsg_4326\"}],attrs:{\"id\":\"mouse-position-control\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mouse.epsg_4326),expression:\"mouse.epsg_4326\"}],attrs:{\"id\":\"mouse-position-control-epsg-4326\"}}),_vm._v(\" \"),(_vm.showmapunits)?_c('div',{attrs:{\"id\":\"scale-line-units\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.mapunit),expression:\"mapunit\"}],staticClass:\"skin-color\",staticStyle:{\"padding\":\"5px 2px\",\"font-weight\":\"bold\",\"border\":\"0\",\"cursor\":\"pointer\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.mapunit=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.service.state.mapunits),function(unit){return _c('option',{directives:[{name:\"t\",rawName:\"v-t\",value:((\"sdk.mapcontrols.scaleline.units.\" + unit)),expression:\"`sdk.mapcontrols.scaleline.units.${unit}`\"}],staticStyle:{\"font-weight\":\"bold\"},domProps:{\"value\":unit,\"selected\":_vm.mapunit === unit}})}),0)]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sdk.tooltips.copy_map_extent_url'),expression:\"'sdk.tooltips.copy_map_extent_url'\",arg:\"top\",modifiers:{\"create\":true}}],staticStyle:{\"background-color\":\"#eeeeee\"},attrs:{\"id\":\"permalink\"}},[_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('link'),on:{\"click\":function($event){$event.stopPropagation();return _vm.createCopyMapExtentUrl($event)}}})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"store/application-state\":368}],258:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div')}\n__vue__options__.staticRenderFns = []\n\n},{}],259:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".layer_header[data-v-fee105a8]{padding:5px;margin-bottom:0;margin-top:0;cursor:pointer}.layer-name[data-v-fee105a8]{font-weight:700}.layer-header-icon[data-v-fee105a8]{margin-right:10px;color:#999}.layer_header span.open-close[data-v-fee105a8]{position:absolute;right:5px;color:#999}.metadata-label[data-v-fee105a8]{font-weight:700;font-size:1.1em}.row[data-v-fee105a8]{padding:10px;border-bottom:1px solid #e2e2e2}.nav-tabs[data-v-fee105a8]{border-bottom:0 solid #ddd}.nav-tabs>li.active>a[data-v-fee105a8],.nav-tabs>li.active>a[data-v-fee105a8]:focus,.nav-tabs>li.active>a[data-v-fee105a8]:hover{border-width:0}.nav-tabs>li>a[data-v-fee105a8]{border:none;color:#aeaeae}.nav-tabs>li.active>a[data-v-fee105a8],.nav-tabs>li>a[data-v-fee105a8]:hover{border:none;background:transparent}.nav-tabs>li>a[data-v-fee105a8]:after{content:\\\"\\\";height:2px;position:absolute;width:100%;left:0;bottom:-1px;transition:all .25s ease 0s;transform:scale(0)}.nav-tabs>li.active>a[data-v-fee105a8]:after,.nav-tabs>li:hover>a[data-v-fee105a8]:after{transform:scale(1)}.tab-nav>li>a[data-v-fee105a8]:after{background:#21527d none repeat scroll 0 0;color:#fff}.tab-content[data-v-fee105a8]{margin:10px;background-color:#eee;overflow:auto}.spatial-tab[data-v-fee105a8]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _mixins = require('mixins');\n\nexports.default = {\n  name: \"layer\",\n  mixins: [_mixins.metadataMixin],\n  props: {\n    state: {}\n  },\n  data: function data() {\n    return {\n      show: false\n    };\n  },\n\n  computed: {\n    isSpatial: function isSpatial() {\n      return this.state.geometrytype != 'NoGeometry';\n    }\n  },\n  methods: {\n    showHideInfo: function showHideInfo() {\n      this.show = !this.show;\n    }\n  },\n  mounted: function mounted() {}\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row-info\"},[_c('h4',{staticClass:\"layer_header\",attrs:{\"data-toggle\":\"collapse\",\"data-target\":'#' + _vm.state.id},on:{\"click\":_vm.showHideInfo}},[_c('i',{staticClass:\"layer-header-icon action-button nohover\",class:[_vm.isSpatial ? _vm.g3wtemplate.font['map']: _vm.g3wtemplate.font['table']],attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{staticClass:\"layer-name\"},[_vm._v(_vm._s(_vm.state.name))]),_vm._v(\" \"),_c('span',{staticClass:\"action-button nohover open-close\",class:[_vm.show ? _vm.g3wtemplate.getFontClass('minus') :_vm.g3wtemplate.getFontClass('plus')]})]),_vm._v(\" \"),_c('div',{staticClass:\"collapse\",attrs:{\"id\":_vm.state.id}},[_c('ul',{staticClass:\"metadata-nav-tabs nav nav-tabs\",attrs:{\"role\":\"tablist\"}},[_c('li',{staticClass:\"active spatial-tab\",attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.groups.general'),expression:\"'sdk.metadata.groups.layers.groups.general'\"}],attrs:{\"href\":'#layer_general_' + _vm.state.id,\"aria-controls\":\"general\",\"role\":\"tab\",\"data-toggle\":\"tab\"}})]),_vm._v(\" \"),(_vm.isSpatial)?_c('li',{staticClass:\"spatial-tab\",attrs:{\"role\":\"presentation\"}},[_c('a',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.groups.spatial'),expression:\"'sdk.metadata.groups.layers.groups.spatial'\"}],attrs:{\"href\":'#layer_spatial_' + _vm.state.id,\"aria-controls\":\"profile\",\"role\":\"tab\",\"data-toggle\":\"tab\"}})]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"tab-content\"},[_c('div',{staticClass:\"tab-pane active\",attrs:{\"role\":\"tabpanel\",\"id\":'layer_general_' + _vm.state.id}},[_c('div',{staticClass:\"container-fluid\"},[(_vm.findAttributeFormMetadataAttribute('title'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.title'),expression:\"'sdk.metadata.groups.layers.fields.subfields.title'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_vm._v(_vm._s(_vm.state.metadata.title))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('name'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.name'),expression:\"'sdk.metadata.groups.layers.fields.subfields.name'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_vm._v(_vm._s(_vm.state.name))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('source'))?_c('div',{staticClass:\"row metadata-layer-source\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.source'),expression:\"'sdk.metadata.groups.layers.fields.subfields.source'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label metadata-layer-source-value-key\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value metadata-layer-source-value\"},[_vm._v(_vm._s(_vm.state.source.type))])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('abstract'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.abstract'),expression:\"'sdk.metadata.groups.layers.fields.subfields.abstract'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\",domProps:{\"innerHTML\":_vm._s( _vm.state.metadata.abstract)}})]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('keywords'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.keywords'),expression:\"'sdk.metadata.groups.layers.fields.subfields.keywords'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('div',[_vm._v(_vm._s(_vm.state.metadata.keywords.join(', ')))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('metadataurl') && _vm.state.metadata.metadataurl.onlineresources)?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.metadataurl'),expression:\"'sdk.metadata.groups.layers.fields.subfields.metadataurl'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('a',{attrs:{\"href\":_vm.state.metadata.metadataurl.onlineresources}},[_vm._v(_vm._s(_vm.state.metadata.metadataurl.onlineresources))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('dataurl') && _vm.state.metadata.dataurl.onlineresources)?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.dataurl'),expression:\"'sdk.metadata.groups.layers.fields.subfields.dataurl'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\"},[_c('a',{attrs:{\"href\":_vm.state.metadata.dataurl.onlineresources}},[_vm._v(_vm._s(_vm.state.metadata.dataurl.onlineresources))])])]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('attributes'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.attributes'),expression:\"'sdk.metadata.groups.layers.fields.subfields.attributes'\"}],staticClass:\"col-md-2 col-sm-12 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-md-10 col-sm-12 value\",staticStyle:{\"overflow\":\"auto\"}},[_c('table',{staticClass:\"table table-striped\",staticStyle:{\"background-color\":\"#eeeeee !important\"}},[_c('thead',[_c('tr',_vm._l((_vm.state.metadata.attributes[0]),function(value,header){return _c('th',[_vm._v(_vm._s(header))])}),0)]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.state.metadata.attributes),function(attribute){return _c('tr',_vm._l((attribute),function(value,header){return _c('td',[_vm._v(_vm._s(value))])}),0)}),0)])])]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane\",attrs:{\"role\":\"tabpanel\",\"id\":'layer_spatial_'+_vm.state.id}},[_c('div',{staticClass:\"container-fluid\"},[(_vm.findMetadataAttribute('crs'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.crs'),expression:\"'sdk.metadata.groups.layers.fields.subfields.crs'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(_vm._s(_vm.state.crs.epsg))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('geometrytype'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.geometrytype'),expression:\"'sdk.metadata.groups.layers.fields.subfields.geometrytype'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(_vm._s(_vm.state.geometrytype))])]):_vm._e(),_vm._v(\" \"),(_vm.findMetadataAttribute('bbox'))?_c('div',{staticClass:\"row\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.fields.subfields.bbox'),expression:\"'sdk.metadata.groups.layers.fields.subfields.bbox'\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},_vm._l((_vm.state.bbox),function(value,key){return _c('p',[_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin-right\":\"5px\"}},[_vm._v(_vm._s(key))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(value))])])}),0)]):_vm._e(),_vm._v(\" \"),(_vm.findAttributeFormMetadataAttribute('crs'))?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-2 metadata-label\"},[_vm._v(\"CRS\")]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\"},_vm._l((_vm.state.metadata.crs),function(crs){return _c('div',[_c('span',[_vm._v(_vm._s(crs))])])}),0)]):_vm._e()])])])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-fee105a8\"\n\n},{\"mixins\":338,\"vueify/lib/insert-css\":2}],260:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-nav-bar li a[data-v-0e556a34]{text-align:center}.metadata-nav-bar li a i[data-v-0e556a34]{margin-right:5px}.metadata-item-tab[data-v-0e556a34]{margin-right:10px;border-radius:3px;margin-bottom:10px}.metadata-body[data-v-0e556a34]{overflow-y:auto;overflow-x:hidden;padding-left:0;padding-right:0}.tab-title[data-v-0e556a34]{position:absolute;bottom:10px;right:auto}.row-info[data-v-0e556a34]{margin:0!important;padding-top:10px;padding-bottom:10px;border-bottom:1px solid #eee}.row-info .label[data-v-0e556a34]{font-weight:700}.h_90[data-v-0e556a34]{height:90%}.h_100[data-v-0e556a34]{height:100%}#project-catalog[data-v-0e556a34]{position:relative;overflow:auto}.nav-tabs-wrapper[data-v-0e556a34]{display:inline-block;margin-bottom:-6px;margin-left:1.25%;margin-right:1.25%;position:relative;width:100%}.nav-tabs[data-v-0e556a34]{border-bottom:0 none}.nav-stacked[data-v-0e556a34]{font-size:1.2em;font-weight:700;padding:10px 0}.nav-stacked li a[data-v-0e556a34]{color:#fff}.left-vertical-tabs[data-v-0e556a34]{padding-left:0!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _MetadataLayer = require('components/MetadataLayer.vue');\n\nvar _MetadataLayer2 = _interopRequireDefault(_MetadataLayer);\n\nvar _MetadataProjectTabContent = require('components/MetadataProjectTabContent.vue');\n\nvar _MetadataProjectTabContent2 = _interopRequireDefault(_MetadataProjectTabContent);\n\nvar _MetadataProjectBBoxContent = require('components/MetadataProjectBBoxContent.vue');\n\nvar _MetadataProjectBBoxContent2 = _interopRequireDefault(_MetadataProjectBBoxContent);\n\nvar _MetadataProjectContactsContent = require('components/MetadataProjectContactsContent.vue');\n\nvar _MetadataProjectContactsContent2 = _interopRequireDefault(_MetadataProjectContactsContent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"project\",\n  data: function data() {\n    return {\n      state: this.$options.state,\n      iconsClass: {\n        info: this.g3wtemplate.getFontClass(\"info-circle\"),\n        globe: this.g3wtemplate.getFontClass(\"globe\"),\n        bars: this.g3wtemplate.getFontClass(\"bars\")\n      }\n    };\n  },\n\n  components: {\n    'metadata-layer': _MetadataLayer2.default,\n    'metadata-tab-content': _MetadataProjectTabContent2.default,\n    'metadata-bbox-content': _MetadataProjectBBoxContent2.default,\n    'metadata-contacts-content': _MetadataProjectContactsContent2.default\n  },\n  methods: {\n    isArrayorObject: function isArrayorObject(value) {\n      return Array.isArray(value) || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n    },\n    setComponent: function setComponent(key) {\n      var component = void 0;\n      switch (key) {\n        case 'extent':\n          component = 'metadata-bbox-content';\n          break;\n        case 'contactinformation':\n          component = 'metadata-contacts-content';\n          break;\n        default:\n          component = 'metadata-tab-content';\n      }\n      return component;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"project-catalog\"}},[_c('div',{class:_vm.isMobile() ? 'mobile' : null,staticStyle:{\"padding\":\"0\"},attrs:{\"id\":\"project-catalog-container\"}},[_c('ul',{staticClass:\"nav nav-tabs metadata-nav-bar\",attrs:{\"role\":\"tablist\"}},[_c('li',{staticClass:\"active\"},[_c('a',{staticClass:\"metadata-item-tab general\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#general\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.g3wtemplate.getFontClass('info'),attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.title'),expression:\"'sdk.metadata.groups.general.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])]),_vm._v(\" \"),_c('li',[_c('a',{staticClass:\"metadata-item-tab spatial\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#spatial\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.iconsClass.globe,attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.spatial.title'),expression:\"'sdk.metadata.groups.spatial.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])]),_vm._v(\" \"),_c('li',[_c('a',{staticClass:\"metadata-item-tab layers\",attrs:{\"data-toggle\":\"tab\",\"href\":\"#metadata_layers\"}},[_c('i',{staticClass:\"action-button nohover\",class:_vm.iconsClass.bars,attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.layers.title'),expression:\"'sdk.metadata.groups.layers.title'\"}],staticStyle:{\"font-weight\":\"bold\"}})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-12 metadata-body tab-content\"},[_c('div',{staticClass:\"tab-pane fade in active\",attrs:{\"id\":\"general\"}},[_vm._l((_vm.state.groups.general),function(data,key){return _c('div',{staticClass:\"row h_100 row-info\"},[_c(_vm.setComponent(key),{tag:\"component\",attrs:{\"data\":data,\"fieldName\":key}})],1)})],2),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane fade\",attrs:{\"id\":\"spatial\"}},[_c('div',[_vm._l((_vm.state.groups.spatial),function(data,key){return _c('div',{staticClass:\"row row-info\"},[_c(_vm.setComponent(key),{tag:\"component\",attrs:{\"data\":data,\"fieldName\":key}})],1)})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"tab-pane fade\",attrs:{\"id\":\"metadata_layers\"}},_vm._l((_vm.state.groups.layers.layers.value),function(layer){return _c('metadata-layer',{attrs:{\"state\":layer}})}),1)])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0e556a34\"\n\n},{\"components/MetadataLayer.vue\":259,\"components/MetadataProjectBBoxContent.vue\":261,\"components/MetadataProjectContactsContent.vue\":262,\"components/MetadataProjectTabContent.vue\":263,\"vueify/lib/insert-css\":2}],261:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-b715e0e8]{font-weight:700;font-size:1.1em}.bbox-labels[data-v-b715e0e8]{font-weight:700}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"metadatabbox\",\n  props: {\n    data: {}\n  },\n  data: function data() {\n    return {\n      bboxlabels: ['MINX', 'MINY', 'MAXX', 'MAXY']\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,index){return _c('div',[_c('span',{staticClass:\"bbox-labels\"},[_vm._v(_vm._s(_vm.bboxlabels[index]))]),_vm._v(\" \"+_vm._s(value)+\"\\n      \")])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b715e0e8\"\n\n},{\"vueify/lib/insert-css\":2}],262:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-60ad65fc]{font-weight:700;font-size:1.1em}.metadata-contact-label[data-v-60ad65fc]{font-weight:700}.contact-icon[data-v-60ad65fc]{margin-right:3px}.row[data-v-60ad65fc]{margin-bottom:5px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = {\n  name: \"metadatacontatcs\",\n  props: {\n    data: {}\n  },\n  data: function data() {\n    return {\n      iconsClass: {\n        contactelectronicmailaddress: this.g3wtemplate.getFontClass(\"mail\"),\n        personprimary: this.g3wtemplate.getFontClass(\"user\"),\n        contactvoicetelephone: this.g3wtemplate.getFontClass(\"mobile\")\n      }\n    };\n  },\n\n  methods: {\n    sanitizeValue: function sanitizeValue(value) {\n      if (value !== null && value !== undefined) {\n        if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === 'object') {\n          value = Object.keys(value).length ? value : '';\n        } else if (Array.isArray(value)) {\n          value = value.length ? value : '';\n        }\n      }\n      return value;\n    },\n    geti18n: function geti18n(key) {}\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,key){return _c('div',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-sm-2 metadata-contact-label\"},[_c('i',{staticClass:\"contact-icon\",class:_vm.iconsClass[key],attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.fields.subfields.contactinformation.' + key),expression:\"'sdk.metadata.groups.general.fields.subfields.contactinformation.' + key\"}]})]),_vm._v(\" \"),_c('div',{staticClass:\"col-sm-10\"},[(key === 'personprimary')?_vm._l((value),function(subvalue,key){return _c('div',[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.metadata.groups.general.fields.subfields.contactinformation.' + key),expression:\"'sdk.metadata.groups.general.fields.subfields.contactinformation.' + key\"}],staticClass:\"metadata-contact-label\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(subvalue))])])}):_c('div',[(key === 'contactelectronicmailaddress')?[_c('a',{staticStyle:{\"font-weight\":\"bold\"},attrs:{\"href\":'mailto:' + _vm.sanitizeValue(value)}},[_vm._v(_vm._s(_vm.sanitizeValue(value)))])]:[_vm._v(\"\\n              \"+_vm._s(_vm.sanitizeValue(value))+\"\\n            \")]],2)],2)])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-60ad65fc\"\n\n},{\"vueify/lib/insert-css\":2}],263:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".metadata-label[data-v-6b130710]{font-weight:700;font-size:1.1em}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = {\n  name: \"metadatatabcontent\",\n  props: {\n    data: {},\n    fieldName: {}\n  },\n  computed: {\n    arrayToString: function arrayToString() {\n      return this.data.value.join(', ');\n    }\n  },\n  methods: {\n    isArrayorObject: function isArrayorObject(value) {\n      return Array.isArray(value) || (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrap-content-tab\"},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.data.label),expression:\"data.label\"}],staticClass:\"col-sm-2 metadata-label\"}),_vm._v(\" \"),(_vm.fieldName == 'keywords')?_c('div',{staticClass:\"col-sm-10 value\"},[_vm._v(\"\\n    \"+_vm._s(_vm.arrayToString)+\"\\n  \")]):(_vm.fieldName == 'wms_url')?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',[_vm._v(_vm._s(_vm.data.value))])]):(!_vm.isArrayorObject(_vm.data.value))?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.data.value)}})]):(_vm.fieldName == 'abstract')?_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.data.value)}})]):_c('div',{staticClass:\"col-sm-10 value\",staticStyle:{\"margin-top\":\"0\"}},_vm._l((_vm.data.value),function(value,key){return _c('div',[_c('span',[_vm._v(_vm._s(value))])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-6b130710\"\n\n},{\"vueify/lib/insert-css\":2}],264:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _navbaritems = require(\"services/navbaritems\");\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"NavbaritemLeft\",\n  data: function data() {\n    return {\n      items: _navbaritems2.default.state.items.right\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav navbar-nav navbar-left\"},_vm._l((_vm.items),function(item){return _c(item,{key:item.id,tag:\"li\"})}),1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2c7478a1\"\n\n},{\"services/navbaritems\":360}],265:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _navbaritems = require(\"services/navbaritems\");\n\nvar _navbaritems2 = _interopRequireDefault(_navbaritems);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"NavbaritemRight\",\n  data: function data() {\n    return {\n      items: _navbaritems2.default.state.items.right\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"nav navbar-nav navbar-right\"},_vm._l((_vm.items),function(item){return _c(item,{key:item.id,tag:\"li\"})}),1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-c140951c\"\n\n},{\"services/navbaritems\":360}],266:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'download-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"download\",rawName:\"v-download.show\",modifiers:{\"show\":true}}],staticClass:\"skin-color\",attrs:{\"id\":\"download_notification\",\"title\":\"DOWNLOAD\"}},[_c('bar-loader',{attrs:{\"loading\":\"true\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"padding\":\"3px\"}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],267:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'online-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"online\",rawName:\"v-online:hide\",arg:\"hide\"}],staticStyle:{\"color\":\"#999\"},attrs:{\"id\":\"offline_notification\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('wifi')}),_vm._v(\" \"),_c('div',{staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"0.4em\"}},[_vm._v(\"offline\")])])}\n__vue__options__.staticRenderFns = []\n\n},{}],268:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'plugins-notify'\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"plugins\",rawName:\"v-plugins\"}],staticStyle:{\"color\":\"#994b10\"},attrs:{\"id\":\"plugins_notification\"}},[_c('bar-loader',{attrs:{\"loading\":\"true\"}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass('plugin')})],1)}\n__vue__options__.staticRenderFns = []\n\n},{}],269:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _PrintSelectAtlasFieldValues = require('components/PrintSelectAtlasFieldValues.vue');\n\nvar _PrintSelectAtlasFieldValues2 = _interopRequireDefault(_PrintSelectAtlasFieldValues);\n\nvar _PrintFidAtlasValues = require('components/PrintFidAtlasValues.vue');\n\nvar _PrintFidAtlasValues2 = _interopRequireDefault(_PrintFidAtlasValues);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      button: {\n        class: \"btn-success\",\n        type: \"stampa\",\n        disabled: false\n      }\n    };\n  },\n\n  components: {\n    SelectAtlasFieldValues: _PrintSelectAtlasFieldValues2.default,\n    FidAtlasValues: _PrintFidAtlasValues2.default\n  },\n  computed: {\n    disabled: function disabled() {\n      return this.state.output.loading || !!this.state.atlas && this.state.atlasValues.length === 0;\n    }\n  },\n  methods: {\n    setDisabledPrintButton: function setDisabledPrintButton() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      this.button.disabled = bool;\n    },\n    setAtlasValues: function setAtlasValues() {\n      var values = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      this.state.atlasValues = values;\n    },\n    onChangeTemplate: function onChangeTemplate() {\n      this.$options.service.changeTemplate();\n    },\n    onChangeScale: function onChangeScale() {\n      this.$options.service.changeScale();\n    },\n    onChangeFormat: function onChangeFormat() {},\n    onChangeDpi: function onChangeDpi() {},\n    onChangeRotation: function onChangeRotation(evt) {\n      if (this.state.rotation >= 0 && !_.isNil(this.state.rotation) && this.state.rotation != '') {\n        this.state.rotation = this.state.rotation > 360 ? 360 : this.state.rotation;\n        evt.target.value = this.state.rotation;\n      } else if (this.state.rotation < 0) {\n        this.state.rotation = this.state.rotation < -360 ? -360 : this.state.rotation;\n        evt.target.value = this.state.rotation;\n      } else {\n        this.state.rotation = 0;\n      }\n      this.$options.service.changeRotation();\n    },\n    print: function print() {\n      this.$options.service.print();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"treeview-menu\",attrs:{\"id\":\"print\"}},[_c('li',[_c('form',{staticClass:\"g3w-search-form form-horizonal\"},[_c('div',{staticClass:\"box-body\"},[_c('transition',{attrs:{\"duration\":500,\"name\":\"fade\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}})],1),_vm._v(\" \"),_c('helpdiv',{attrs:{\"message\":\"sdk.print.help\"}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.template'),expression:\"'sdk.print.template'\"}],attrs:{\"for\":\"templates\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.template),expression:\"state.template\"}],staticClass:\"form-control\",style:({marginBottom: this.state.atlas && '10px'}),attrs:{\"id\":\"templates\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"template\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeTemplate]}},_vm._l((_vm.state.print),function(print){return _c('option',{domProps:{\"value\":print.name}},[_vm._v(_vm._s(print.name))])}),0),_vm._v(\" \"),(!_vm.state.atlas)?[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.scale'),expression:\"'sdk.print.scale'\"}],attrs:{\"for\":\"scala\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.scala),expression:\"state.scala\"}],staticClass:\"form-control\",attrs:{\"id\":\"scala\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"scala\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeScale]}},_vm._l((_vm.state.scale),function(scala){return _c('option',{domProps:{\"value\":scala.value}},[_vm._v(_vm._s(scala.label))])}),0),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"dpi\"}},[_vm._v(\"dpi\")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.dpi),expression:\"state.dpi\"}],staticClass:\"form-control\",attrs:{\"id\":\"dpi\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state, \"dpi\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},_vm.onChangeDpi]}},_vm._l((_vm.state.dpis),function(dpi){return _c('option',[_vm._v(_vm._s(dpi))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.rotation'),expression:\"'sdk.print.rotation'\"}],attrs:{\"for\":\"rotation\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.rotation),expression:\"state.rotation\"}],staticClass:\"form-control\",attrs:{\"min\":\"-360\",\"max\":\"360\",\"id\":\"rotation\",\"type\":\"number\"},domProps:{\"value\":(_vm.state.rotation)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.state, \"rotation\", $event.target.value)},_vm.onChangeRotation]}}),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.format'),expression:\"'sdk.print.format'\"}],attrs:{\"for\":\"format\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.state.output.format),expression:\"state.output.format\"}],staticClass:\"form-control\",attrs:{\"id\":\"format\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.state.output, \"format\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.state.formats),function(format){return _c('option',{domProps:{\"value\":format.value}},[_vm._v(_vm._s(format.label))])}),0)]:(_vm.state.atlas.field_name)?[_c('select-atlas-field-values',{attrs:{\"atlas\":_vm.state.atlas,\"reset\":!_vm.state.isShow},on:{\"disable-print-button\":_vm.setDisabledPrintButton,\"set-values\":_vm.setAtlasValues}})]:[_c('fid-atlas-values',{attrs:{\"atlas\":_vm.state.atlas,\"reset\":!_vm.state.isShow},on:{\"disable-print-button\":_vm.setDisabledPrintButton,\"set-values\":_vm.setAtlasValues}})],_vm._v(\" \"),(_vm.state.labels && _vm.state.labels.length)?[_c('div',{staticClass:\"print-labels-content\",staticStyle:{\"margin-top\":\"5px\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.labels'),expression:\"'sdk.print.labels'\"}],staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.1em\",\"display\":\"block\",\"border-bottom\":\"2px solid #ffffff\",\"margin-bottom\":\"5px\"}}),_vm._v(\" \"),_c('div',{staticClass:\"labels-input-content\",staticStyle:{\"max-height\":\"120px\",\"overflow-y\":\"auto\"}},_vm._l((_vm.state.labels),function(label){return _c('span',{key:label.id},[_c('label',{attrs:{\"for\":(\"g3w_label_id_input_\" + (label.id))}},[_vm._v(_vm._s(label.id))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(label.text),expression:\"label.text\"}],staticClass:\"form-control\",attrs:{\"id\":(\"g3w_label_id_input_\" + (label.id))},domProps:{\"value\":(label.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(label, \"text\", $event.target.value)}}})])}),0)])]:_vm._e()],2),_vm._v(\" \"),_c('div',{staticClass:\"box-footer\",staticStyle:{\"background-color\":\"transparent\"}},[_c('span',[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.button.disabled),expression:\"button.disabled\"},{name:\"download\",rawName:\"v-download\"},{name:\"t\",rawName:\"v-t\",value:('create_print'),expression:\"'create_print'\"}],staticClass:\"sidebar-button-run btn\",staticStyle:{\"width\":\"100%\",\"font-weight\":\"bold\"},attrs:{\"id\":\"printbutton\"},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.print($event)}}})])])])])])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/PrintFidAtlasValues.vue\":270,\"components/PrintSelectAtlasFieldValues.vue\":272}],270:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: \"fid-atlas-values\",\n  props: {\n    atlas: {\n      type: Object\n    },\n    reset: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data: function data() {\n    return {\n      value: ''\n    };\n  },\n\n  methods: {\n    validateValue: function validateValue(value) {\n      value = value && 1 * value;\n      return Number.isInteger(value) && value >= 0 && value < this.atlas.feature_count || null;\n    }\n  },\n  watch: {\n    value: {\n      immediate: true,\n      handler: function handler(value) {\n        var _this = this;\n\n        this.value = value;\n        var values = new Set();\n        var addValue = function addValue(value) {\n          return _this.validateValue(value) !== null && values.add(value);\n        };\n        var addRangeToValues = function addRangeToValues() {\n          var range = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n          var rangeLenght = range.length;\n          for (var i = 1; i < rangeLenght; i++) {\n            var start = range[i - 1];\n            var end = range[i];\n            for (var _i = start; _i < end; _i++) {\n              values.add(_i + '');\n            }\n          }\n          values.add(range[rangeLenght - 1]);\n        };\n        if (value) {\n          value.split(',').forEach(function (value) {\n            if (value) {\n              if (value.indexOf('-') !== -1) {\n                var _values = value.split('-');\n                var range = _values.filter(function (value) {\n                  return _this.validateValue(value) !== null;\n                });\n                if (range.length === _values.length) {\n                  var canAdd = range.reduce(function (bool, value, currentIndex) {\n                    return bool && (currentIndex === 0 || range[currentIndex - 1] <= value);\n                  }, true);\n                  canAdd && addRangeToValues(range);\n                }\n              } else addValue(value);\n            }\n          });\n        }\n        this.$emit('set-values', Array.from(values));\n        this.$emit('disable-print-button', value.trim() === '');\n      }\n    },\n    reset: function reset(bool) {\n      if (bool) {\n        this.value = '';\n        this.$emit('set-values', []);\n        this.$emit('disable-print-button', true);\n      }\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.value = null;\n    this.$emit('disable-print-button', false);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"width\":\"100%\"}},[_c('label',{staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.print_atlas_fid}},[_c('span',[_vm._v(\"fids [max: \"+_vm._s(_vm.atlas.feature_count - 1)+\"]\")])]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.value),expression:\"value\"}],staticClass:\"form-control\",domProps:{\"value\":(_vm.value)},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"])){ return null; }$event.preventDefault();},\"input\":function($event){if($event.target.composing){ return; }_vm.value=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"5px\",\"color\":\"#ffffff\"},attrs:{\"id\":\"fid-print-atals-instruction\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.fids_instruction'),expression:\"'sdk.print.fids_instruction'\"}],staticStyle:{\"white-space\":\"pre-line\"},attrs:{\"id\":\"fids_intruction\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.fids_example'),expression:\"'sdk.print.fids_example'\"}],staticStyle:{\"margin-top\":\"3px\",\"font-weight\":\"bold\"},attrs:{\"id\":\"fids_examples_values\"}})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-1dcb18ba\"\n\n},{}],271:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    imageToDataURL = _require.imageToDataURL;\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      disableddownloadbutton: true,\n      downloadImageName: '',\n      format: null\n    };\n  },\n\n  computed: {\n    loading: function loading() {\n      return this.state.loading && this.state.layers;\n    }\n  },\n  methods: {\n    setLoading: function setLoading() {\n      var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      _gui2.default.disableSideBar(bool);\n      this.state.loading = bool;\n      this.disableddownloadbutton = bool;\n    },\n    downloadImage: function downloadImage() {\n      var _this = this;\n\n      this.setLoading(true);\n      if (this.format === 'jpg' || this.format === 'png') {\n        this.downloadImageName = 'download.' + this.state.format;\n        imageToDataURL({\n          src: this.state.url,\n          type: 'image/' + this.state.format,\n          callback: function callback(url) {\n            return setTimeout(function () {\n              return _this.setLoading(false);\n            });\n          }\n        });\n      }\n    }\n  },\n  watch: {\n    'state.url': function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(url) {\n        var _this2 = this;\n\n        var timeOut;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!url) {\n                  _context.next = 6;\n                  break;\n                }\n\n                this.format = this.state.format;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                timeOut = setTimeout(function () {\n                  _this2.setLoading(false);\n                  _gui2.default.showUserMessage({\n                    type: 'alert',\n                    message: 'timeout'\n                  });\n                }, _constant.TIMEOUT);\n\n\n                $(this.$refs.printoutput).load(url, function (response, status) {\n                  _this2.$options.service.stopLoading();\n                  status === 'error' && _this2.$options.service.showError();\n                  clearTimeout(timeOut);\n                  _this2.setLoading(false);\n                });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function stateUrl(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return stateUrl;\n    }()\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.state.layers && this.$options.service.startLoading();\n\n            case 3:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.state.url && this.state.method === 'POST' && window.URL.revokeObjectURL(this.state.url);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\",\"position\":\"relative\"},attrs:{\"id\":\"print-output\"}},[_c('transition',{attrs:{\"duration\":500,\"name\":\"fade\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}})],1),_vm._v(\" \"),(_vm.format === 'pdf')?_c('iframe',{ref:\"printoutput\",staticStyle:{\"border\":\"0\",\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"type\":_vm.state.mime_type,\"src\":_vm.state.url}}):(_vm.format === 'png')?_c('div',{staticClass:\"g3w-print-png-output\",staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"position\":\"relative\",\"height\":\"100%\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"align-items\":\"flex-end\",\"margin-top\":\"5px\",\"margin-bottom\":\"5px\"},attrs:{\"id\":\"g3w-print-header\"}},[_c('div',{class:{'g3w-disabled': _vm.disableddownloadbutton}},[_c('a',{attrs:{\"href\":_vm.state.url,\"download\":_vm.downloadImageName}},[_c('button',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('sdk.print.download_image'),expression:\"'sdk.print.download_image'\",modifiers:{\"create\":true}}],staticClass:\"btn skin-button skin-tooltip-left\",class:_vm.g3wtemplate.getFontClass('download'),staticStyle:{\"font-weight\":\"bold\"},attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\",\"role\":\"button\"},on:{\"click\":_vm.downloadImage}})])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.format==='png' && _vm.state.url),expression:\"format==='png' && state.url\"}],staticStyle:{\"height\":\"100%\",\"width\":\"100%\",\"position\":\"relative\",\"overflow-y\":\"auto\"}},[_c('img',{ref:\"printoutput\",staticStyle:{\"height\":\"auto\",\"max-width\":\"100%\"},attrs:{\"src\":_vm.state.url}})])]):_vm._e(),_vm._v(\" \"),(!_vm.state.layers)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.print.no_layers'),expression:\"'sdk.print.no_layers'\"}],staticStyle:{\"font-weight\":\"bold\"}}):_vm._e()],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":5,\"core/utils/utils\":68,\"services/gui\":356}],272:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar autocompleteOptions = require('gui/external/select2/options/autocomplete');\n\nexports.default = {\n  name: \"selectAtlasFieldValues\",\n  mixins: [_mixins.autocompleteMixin, _mixins.select2Mixin],\n  props: {\n    atlas: {\n      type: Object,\n      required: true\n    },\n    reset: {\n      type: Boolean,\n      default: false\n    }\n  },\n  methods: {\n    emitValues: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.$emit('set-values', this.values);\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function emitValues() {\n        return _ref.apply(this, arguments);\n      }\n\n      return emitValues;\n    }()\n  },\n  data: function data() {\n    return {\n      values: []\n    };\n  },\n\n  watch: {\n    values: {\n      immediate: true,\n      handler: function handler(values) {\n        this.$emit('disable-print-button', values.length === 0);\n      }\n    },\n    reset: function reset(bool) {\n      if (bool) {\n        this.select2 && this.select2.val(null).trigger('change');\n        this.values = [];\n        this.emitValues();\n      }\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n      var _this = this;\n\n      var _atlas, field, layerId;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              _atlas = this.atlas, field = _atlas.field_name, layerId = _atlas.qgs_layer_id;\n\n              setTimeout(function () {});\n              this.select2 = $('#print_atlas_autocomplete').select2(_extends({\n                width: '100%',\n                multiple: true,\n                dropdownParent: $(this.$el),\n                minimumInputLength: 1,\n                ajax: {\n                  delay: 500,\n                  transport: function () {\n                    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(_ref3, success, failure) {\n                      var value = _ref3.data.q;\n                      var data;\n                      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                        while (1) {\n                          switch (_context2.prev = _context2.next) {\n                            case 0:\n                              _context2.prev = 0;\n                              _context2.next = 3;\n                              return _this.autocompleteRequest({\n                                layerId: layerId,\n                                field: field,\n                                value: value\n                              });\n\n                            case 3:\n                              data = _context2.sent;\n\n                              success({ results: data });\n                              _context2.next = 10;\n                              break;\n\n                            case 7:\n                              _context2.prev = 7;\n                              _context2.t0 = _context2['catch'](0);\n\n                              failure(_context2.t0);\n\n                            case 10:\n                            case 'end':\n                              return _context2.stop();\n                          }\n                        }\n                      }, _callee2, _this, [[0, 7]]);\n                    }));\n\n                    function transport(_x, _x2, _x3) {\n                      return _ref4.apply(this, arguments);\n                    }\n\n                    return transport;\n                  }()\n                }\n              }, autocompleteOptions));\n              this.select2.on('select2:select', function (evt) {\n                var value = evt.params.data.id;\n                _this.values.push(value);\n                _this.emitValues();\n              });\n              this.select2.on('select2:unselect', function () {\n                var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(evt) {\n                  var value;\n                  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                      switch (_context3.prev = _context3.next) {\n                        case 0:\n                          value = evt.params.data.id;\n\n                          _this.values = _this.values.filter(function (currentValue) {\n                            return currentValue !== value;\n                          });\n                          _this.emitValues();\n\n                        case 3:\n                        case 'end':\n                          return _context3.stop();\n                      }\n                    }\n                  }, _callee3, _this);\n                }));\n\n                return function (_x4) {\n                  return _ref5.apply(this, arguments);\n                };\n              }());\n\n            case 7:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.values = null;\n    this.$emit('disable-print-button', false);\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"width\":\"100%\"}},[_c('label',{staticStyle:{\"display\":\"block\"},attrs:{\"for\":_vm.print_atlas_autocomplete}},[_c('span',[_vm._v(_vm._s(_vm.atlas.field_name))])]),_vm._v(\" \"),_c('select',{staticClass:\"form-control\",attrs:{\"name\":_vm.atlas.field_name,\"id\":\"print_atlas_autocomplete\"}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-40b097a4\"\n\n},{\"gui/external/select2/options/autocomplete\":117,\"mixins\":338}],273:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar t = require('core/i18n/i18n.service').t;\n\nvar fakeImage = '/static/client/images/FakeProjectThumb.png';\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null,\n      loading: false\n    };\n  },\n\n  methods: {\n    trigger: function trigger(item) {\n      if (item.cbk) {\n        _gui2.default.showFullModal({\n          show: true\n        });\n        _gui2.default.setLoadingContent(true);\n        var gid = item.gid;\n\n        item.cbk.call(item, {\n          gid: gid\n        }).then(function (promise) {\n          promise.then(function (project) {\n            return document.title = project.state.html_page_title;\n          }).fail(function () {\n            _gui2.default.notify.error(\"<h4>\" + t(\"error_map_loading\") + \"</h4>\" + \"<h5>\" + t(\"check_internet_connection_or_server_admin\") + \"</h5>\");\n          }).always(function () {\n            _gui2.default.showFullModal({\n              show: false\n            });\n            _gui2.default.setLoadingContent(false);\n          });\n        });\n      } else if (item.href) window.open(item.href, '_blank');else if (item.route) _gui2.default.goto(item.route);else console.log(\"No action for \" + item.title);\n    },\n    logoSrc: function logoSrc(src) {\n      var imageSrc = void 0;\n      if (src) {\n        imageSrc = src.indexOf(_projects2.default.config.mediaurl) !== -1 ? src : src.indexOf('static') === -1 && src.indexOf('media') === -1 ? '' + _projects2.default.config.mediaurl + src : fakeImage;\n      } else imageSrc = fakeImage;\n      return this.$options.host && '' + this.$options.host + imageSrc || imageSrc;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",attrs:{\"id\":\"menu-projects\"}},[_c('div',{staticClass:\"row row-equal\"},[_vm._l((_vm.state.menuitems),function(menuitem){return _c('div',{key:menuitem.title,staticClass:\"col-xs-12 col-sm-4 project-menu\",on:{\"click\":function($event){return _vm.trigger(menuitem)}}},[_c('div',{staticClass:\"project-menu-item-image\"},[_c('img',{staticClass:\"img-responsive\",attrs:{\"src\":_vm.logoSrc(menuitem.thumbnail)}})]),_vm._v(\" \"),_c('div',{staticClass:\"project-menu-item-content\"},[_c('div',{staticClass:\"project-menu-item-text\"},[_c('h4',{staticClass:\"project-menu-item-title\"},[_vm._v(_vm._s(menuitem.title))]),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(menuitem.description)}})])])])}),_vm._v(\" \"),(!_vm.state.menuitems.length)?_c('div',{staticStyle:{\"margin-left\":\"15px\"}},[_c('h2',{directives:[{name:\"t\",rawName:\"v-t\",value:('no_other_projects'),expression:\"'no_other_projects'\"}]})]):_vm._e()],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/i18n/i18n.service\":14,\"services/gui\":356,\"store/projects\":374}],274:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nvar _constant = require('app/constant');\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar operators = Object.values(_constant.FILTER_OPERATORS);\n\nexports.default = {\n  data: function data() {\n    var options = this.$options.options;\n    var edit = options !== undefined;\n    return {\n      edit: edit,\n      currentlayer: null,\n      message: '',\n      filter: edit ? options.filter : '',\n      loading: {\n        test: false,\n        values: false\n      },\n      values: [],\n      manual: true,\n      manualvalue: null,\n      select: {\n        field: null,\n        value: null\n      }\n    };\n  },\n\n  computed: {\n    fields: function fields() {\n      return this.currentlayer ? this.currentlayer.fields : [];\n    },\n    disabled: function disabled() {\n      return !this.filter;\n    }\n  },\n  watch: {\n    'select.field': function selectField() {\n      this.values = [];\n      this.manual = true;\n    }\n  },\n  methods: {\n    addToExpression: function addToExpression() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          value = _ref.value,\n          type = _ref.type;\n\n      switch (type) {\n        case 'operator':\n          value = ' ' + value + ' ';\n          break;\n        case 'field':\n          value = '\"' + value + '\"';\n          break;\n        case 'value':\n          value = '\\'' + value + '\\'';\n          break;\n      }\n      if (value) this.filter = '' + this.filter + value;\n    },\n    all: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.loading.values = true;\n                _context.prev = 1;\n                _context.next = 4;\n                return _querybuilder2.default.getValues({\n                  layerId: this.currentlayer.id,\n                  field: this.select.field\n                });\n\n              case 4:\n                this.values = _context.sent;\n                _context.next = 9;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context['catch'](1);\n\n              case 9:\n                this.loading.values = false;\n                _context.next = 12;\n                return this.$nextTick();\n\n              case 12:\n                this.manualvalue = null;\n                this.manual = false;\n\n              case 14:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 7]]);\n      }));\n\n      function all() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return all;\n    }(),\n    reset: function reset() {\n      this.filter = '';\n      this.message = '';\n      this.filterElement.previous = null;\n      this.filterElement.current = null;\n      this.filterElement.operator = null;\n    },\n    test: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var layerId, number_of_features;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                layerId = this.currentlayer.id;\n\n                this.loading.test = true;\n                number_of_features = void 0;\n                _context2.prev = 3;\n                _context2.next = 6;\n                return _querybuilder2.default.test({\n                  layerId: layerId,\n                  filter: this.filter\n                });\n\n              case 6:\n                number_of_features = _context2.sent;\n\n                this.message = number_of_features !== undefined ? ' ' + number_of_features : '';\n                _context2.next = 13;\n                break;\n\n              case 10:\n                _context2.prev = 10;\n                _context2.t0 = _context2['catch'](3);\n\n                this.message = _context2.t0;\n\n              case 13:\n                this.loading.test = false;\n                _context2.next = 16;\n                return this.$nextTick();\n\n              case 16:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[3, 10]]);\n      }));\n\n      function test() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return test;\n    }(),\n    run: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var layerId, response;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layerId = this.currentlayer.id;\n\n                this.loading.test = true;\n                _context3.prev = 2;\n                _context3.next = 5;\n                return _querybuilder2.default.run({\n                  layerId: layerId,\n                  filter: this.filter\n                });\n\n              case 5:\n                response = _context3.sent;\n                _context3.next = 10;\n                break;\n\n              case 8:\n                _context3.prev = 8;\n                _context3.t0 = _context3['catch'](2);\n\n              case 10:\n                this.loading.test = false;\n\n              case 11:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[2, 8]]);\n      }));\n\n      function run() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return run;\n    }(),\n    save: function save() {\n      _querybuilder2.default.save({\n        layerId: this.currentlayer.id,\n        filter: this.filter,\n        projectId: this.projectId,\n        name: this.edit && this.$options.options.name,\n        id: this.edit && this.$options.options.id\n      });\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.filterElement = {\n      current: null,\n      previous: null,\n      operator: null\n    };\n    var project = _projects2.default.getCurrentProject();\n    this.layers = project.getLayers().filter(function (layer) {\n      return !layer.baselayer && layer.geometrytype && layer.geometrytype !== 'NoGeometry' && Array.isArray(layer.fields);\n    }).map(function (layer) {\n      var relations = project.getRelationsByLayerId({\n        layerId: layer.id,\n        type: 'ONE'\n      });\n      var excludejoinfields = [];\n      relations.forEach(function (relation) {\n        var customPrefix = relation.customPrefix;\n\n        var joinLayer = project.getLayerById(relation.referencingLayer);\n        customPrefix = customPrefix === undefined ? joinLayer.getName() + '_' : customPrefix;\n        var joinLayerFields = joinLayer.getFields().map(function (field) {\n          return '' + customPrefix + field.name;\n        });\n        excludejoinfields = [].concat(_toConsumableArray(excludejoinfields), _toConsumableArray(joinLayerFields));\n      });\n      return {\n        id: layer.id,\n        label: layer.name,\n        fields: layer.fields.filter(function (field) {\n          return field.show;\n        }).map(function (_ref5) {\n          var label = _ref5.label,\n              name = _ref5.name;\n          return {\n            label: label,\n            name: name\n          };\n        }).filter(function (field) {\n          return excludejoinfields.indexOf(field) === -1;\n        })\n      };\n    });\n    this.operators = operators;\n    this.currentlayer = this.edit ? this.layers.find(function (layer) {\n      return layer.id === _this.$options.options.layerId;\n    }) : this.layers[0];\n  },\n  mounted: function () {\n    var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n      var _this2 = this;\n\n      var index;\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.select2 = $('#query_builder_layers_select').select2({\n                width: '100%'\n              });\n              if (this.edit) {\n                index = this.layers.indexOf(this.currentlayer);\n\n                this.select2.val(index);\n                this.select2.trigger('change');\n              }\n              this.select2.on('select2:select', function (evt) {\n                _this2.currentlayer = _this2.layers[evt.params.data.id];\n                _this2.select.field = null;\n                _this2.select.value = null;\n                _this2.reset();\n              });\n\n            case 5:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    function mounted() {\n      return _ref6.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.select2.select2('destroy');\n    this.select2 = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\",staticStyle:{\"flex-wrap\":\"nowrap !important\"},attrs:{\"id\":\"query_builder\"}},[_c('div',{attrs:{\"id\":\"query_builder_header\"}}),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_layers\"}},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.layers'),expression:\"'sdk.querybuilder.panel.layers'\"}],staticClass:\"querybuilder-title\"}),_vm._v(\" \"),_c('select',{staticClass:\"form-control\",attrs:{\"id\":\"query_builder_layers_select\"}},_vm._l((_vm.layers),function(layer,index){return _c('option',{key:layer.label,staticClass:\"bold\",domProps:{\"value\":index}},[_vm._v(_vm._s(layer.label))])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_fields\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.fields'),expression:\"'sdk.querybuilder.panel.fields'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_fields_title\"}}),_vm._v(\" \"),_c('div',{staticClass:\"querybuilder-content\",attrs:{\"id\":\"query_builder_fields_content\"}},[_c('table',{staticClass:\"table table-striped content-table\"},[_c('tbody',_vm._l((_vm.fields),function(ref){\nvar name = ref.name;\nvar label = ref.label;\nreturn _c('tr',{key:name,class:{'skin-background-color lighten': _vm.select.field===name},staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.select.field = name},\"dblclick\":function($event){return _vm.addToExpression({value: name, type: 'field'})}}},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(label))])])}),0)])])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_values\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.values'),expression:\"'sdk.querybuilder.panel.values'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_values_title\"}}),_vm._v(\" \"),(!_vm.manual)?_c('div',{staticClass:\"querybuilder-content margin-between-element\",attrs:{\"id\":\"query_builder_values_content\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading.values}}),_vm._v(\" \"),_c('table',{staticClass:\"table table-striped content-table\"},[_c('tbody',[_vm._l((_vm.values),function(value){return _c('tr',{key:value,class:{'skin-background-color lighten': _vm.select.value===value},staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.select.value = value},\"dblclick\":function($event){return _vm.addToExpression({value: value, type: 'value'})}}},[_c('th',{attrs:{\"scope\":\"row\"}},[_vm._v(_vm._s(value))])])}),_vm._v(\" \"),_vm._m(0)],2)])],1):_c('div',{staticClass:\"margin-between-element\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"stretch\"},attrs:{\"id\":\"querybuilder-manual\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.manualvalue),expression:\"manualvalue\"}],staticClass:\"form-control\",staticStyle:{\"border\":\"0\"},attrs:{\"style\":\"border: 0;\"},domProps:{\"value\":(_vm.manualvalue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.manualvalue=$event.target.value}}}),_vm._v(\" \"),_c('span',{class:_vm.g3wtemplate.getFontClass('plus'),staticStyle:{\"cursor\":\"pointer\",\"font-size\":\"1.2em\",\"background-color\":\"white\",\"color\":\"#000000\",\"padding\":\"9px\"},on:{\"click\":function($event){_vm.manualvalue && _vm.addToExpression({value: _vm.manualvalue, type: 'value'})}}})]),_vm._v(\" \"),_c('div',{staticClass:\"content-end skin-color\",attrs:{\"id\":\"query_builder_values_buttons\"}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.manual'),expression:\"'sdk.querybuilder.panel.button.manual'\"}],staticClass:\"query_builder_button btn btn-secondary bold \",class:{'skin-border-color' : _vm.manual},attrs:{\"id\":\"query_builder_values_buttons_sample\"},on:{\"click\":function($event){_vm.manual = true}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.all'),expression:\"'sdk.querybuilder.panel.button.all'\"}],staticClass:\"query_builder_button btn btn-secondary bold \",class:{'skin-border-color' : !_vm.manual},attrs:{\"id\":\"query_builder_values_buttons_all\",\"disabled\":_vm.select.field === null},on:{\"click\":_vm.all}})])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",staticStyle:{\"margin-top\":\"auto !important\"},attrs:{\"id\":\"query_builder_operators\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.operators'),expression:\"'sdk.querybuilder.panel.operators'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_operators_title\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content-wrap\",attrs:{\"id\":\"query_builder_operators_content\"}},_vm._l((_vm.operators),function(operator){return _c('button',{key:operator,staticClass:\"query_builder_button btn btn-secondary skin-color bold\",on:{\"click\":function($event){return _vm.addToExpression({value: operator, type: 'operator'})}}},[_vm._v(_vm._s(operator))])}),0)]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"query_builder_footer\"}},[_c('div',{attrs:{\"id\":\"query_builder_expression\"}},[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.expression'),expression:\"'sdk.querybuilder.panel.expression'\"}],staticClass:\"querybuilder-title\",attrs:{\"id\":\"query_builder_expression_title\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"query_builder_expression_content\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.filter),expression:\"filter\"}],staticStyle:{\"width\":\"100%\",\"resize\":\"none\",\"height\":\"100px\",\"color\":\"#000000\"},domProps:{\"value\":(_vm.filter)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.filter=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"margin-between-element\",attrs:{\"id\":\"query_builder_message\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading.test}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.message),expression:\"message\"},{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.messages.number_of_features'),expression:\"'sdk.querybuilder.messages.number_of_features'\"}],staticClass:\"bold skin-color\"}),_c('span',{staticClass:\"bold skin-color\"},[_vm._v(_vm._s(_vm.message))])],1),_vm._v(\" \"),_c('div',{staticClass:\"content-end margin-between-element\",attrs:{\"id\":\"query_builder_footer_buttons\"}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.test'),expression:\"'sdk.querybuilder.panel.button.test'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.test}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.clear'),expression:\"'sdk.querybuilder.panel.button.clear'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",on:{\"click\":_vm.reset}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.run'),expression:\"'sdk.querybuilder.panel.button.run'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.run}}),_vm._v(\" \"),_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.querybuilder.panel.button.save'),expression:\"'sdk.querybuilder.panel.button.save'\"}],staticClass:\"query_builder_button btn btn-secondary  bold\",attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.save}})])])])}\n__vue__options__.staticRenderFns = [function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',{attrs:{\"scope\":\"row\"}})])}]\n\n},{\"app/constant\":5,\"services/querybuilder\":361,\"store/projects\":374}],275:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _querybuilder = require('services/querybuilder');\n\nvar _querybuilder2 = _interopRequireDefault(_querybuilder);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar QueryBuilderUIFactory = require('gui/querybuilder/querybuilderuifactory');\n\nexports.default = {\n  name: \"g3w-querybuilder-search\",\n  props: {\n    querybuildersearch: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      loading: false,\n      showinfo: false\n    };\n  },\n\n  methods: {\n    remove: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _querybuilder2.default.delete(this.querybuildersearch);\n\n              case 3:\n                this.$emit('delete');\n                _context.next = 8;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context['catch'](0);\n\n              case 8:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 6]]);\n      }));\n\n      function remove() {\n        return _ref.apply(this, arguments);\n      }\n\n      return remove;\n    }(),\n    edit: function edit() {\n      QueryBuilderUIFactory.show({\n        options: {\n          id: this.querybuildersearch.id,\n          name: this.querybuildersearch.name,\n          layerId: this.querybuildersearch.layerId,\n          filter: this.querybuildersearch.filter\n        }\n      });\n    },\n    run: function run() {\n      var _this = this;\n\n      this.loading = true;\n      _querybuilder2.default.run({\n        layerId: this.querybuildersearch.layerId,\n        filter: this.querybuildersearch.filter\n      }).finally(function () {\n        _this.loading = false;\n      });\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"querybuliserch-tools\",staticStyle:{\"display\":\"flex\",\"align-items\":\"baseline\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('filter'),staticStyle:{\"margin-right\":\"14px\",\"margin-left\":\"1px\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.name))]),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-left\":\"auto\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.run'),expression:\"'sdk.querybuilder.search.run'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('run'),staticStyle:{\"color\":\"green\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.run($event)}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.info'),expression:\"'sdk.querybuilder.search.info'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('info'),staticStyle:{\"color\":\"#FFFFFF\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();_vm.showinfo=!_vm.showinfo}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.edit'),expression:\"'sdk.querybuilder.search.edit'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('pencil'),staticStyle:{\"color\":\"#307095\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.edit($event)}}})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip\",value:('sdk.querybuilder.search.delete'),expression:\"'sdk.querybuilder.search.delete'\"}],staticClass:\"icon-search-action skin-tooltip-bottom\",attrs:{\"data-placement\":\"bottom\",\"data-toggle\":\"tooltip\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\",\"padding\":\"3px\",\"font-size\":\"1.3em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.remove($event)}}})])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showinfo),expression:\"showinfo\"}],staticClass:\"querybuildsearch-info\",staticStyle:{\"margin-top\":\"5px\"}},[_c('div',[_c('span',{staticStyle:{\"font-weight\":\"bold\",\"white-space\":\"pre\"}},[_vm._v(\"LAYER: \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.layerName))])]),_vm._v(\" \"),_c('div',[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\"EXPRESSION: \")]),_vm._v(\" \"),_c('span',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.querybuildersearch.filter))])])])],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-4002ad61\"\n\n},{\"gui/querybuilder/querybuilderuifactory\":166,\"services/querybuilder\":361}],276:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _mixins = require('mixins');\n\nvar _QueryResultsTableAttributeFieldValue = require('components/QueryResultsTableAttributeFieldValue.vue');\n\nvar _QueryResultsTableAttributeFieldValue2 = _interopRequireDefault(_QueryResultsTableAttributeFieldValue);\n\nvar _QueryResultsActionInfoFormats = require('components/QueryResultsActionInfoFormats.vue');\n\nvar _QueryResultsActionInfoFormats2 = _interopRequireDefault(_QueryResultsActionInfoFormats);\n\nvar _QueryResultsHeaderFeatureBody = require('components/QueryResultsHeaderFeatureBody.vue');\n\nvar _QueryResultsHeaderFeatureBody2 = _interopRequireDefault(_QueryResultsHeaderFeatureBody);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar maxSubsetLength = 3;\nvar headerExpandActionCellWidth = 10;\nvar headerActionsCellWidth = 10;\nvar HEADERTYPESFIELD = ['varchar', 'integer', 'float', 'date'];\n\nexports.default = {\n  data: function data() {\n    return {\n      state: this.$options.queryResultsService.state,\n      headerExpandActionCellWidth: headerExpandActionCellWidth,\n      headerActionsCellWidth: headerActionsCellWidth\n    };\n  },\n\n  mixins: [_mixins.fieldsMixin],\n  components: {\n    TableAttributeFieldValue: _QueryResultsTableAttributeFieldValue2.default,\n    'infoformats': _QueryResultsActionInfoFormats2.default,\n    'header-feature-body': _QueryResultsHeaderFeatureBody2.default\n  },\n  computed: {\n    layersFeaturesBoxes: function layersFeaturesBoxes() {\n      return this.state.layersFeaturesBoxes;\n    },\n    onelayerresult: function onelayerresult() {\n      return this.state.layers.length === 1;\n    },\n    hasLayers: function hasLayers() {\n      return this.hasResults || !!this.state.components.length;\n    },\n    hasResults: function hasResults() {\n      return this.state.layers.length > 0;\n    },\n    info: function info() {\n      if (this.state.query) {\n        var query = this.state.query;\n        var queryResultsService = this.$options.queryResultsService;\n        switch (query.type) {\n          case 'coordinates':\n            return {\n              icon: 'marker',\n              message: '  ' + query.coordinates[0] + ', ' + query.coordinates[1],\n              action: function action() {\n                return queryResultsService.showCoordinates(query.coordinates);\n              }\n            };\n          case 'bbox':\n            return {\n              icon: 'square',\n              message: '  [' + query.bbox.join(' , ') + ']',\n              action: function action() {\n                return queryResultsService.showBBOX(query.bbox);\n              }\n            };\n          case 'polygon':\n            return {\n              icon: 'draw',\n              message: query.layerName ? query.layerName + ' ' + (\"undefined\" !== typeof query.fid ? ' - Feature Id: ' + query.fid : '') : ' ',\n              action: function action() {\n                return query.geometry && queryResultsService.showGeometry(query.geometry);\n              }\n            };\n          default:\n            console.warn('Unsupported query type:  ' + query.type);\n            break;\n        }\n      } else if (this.state.search) {}\n\n      return { icon: null, message: null, action: null };\n    }\n  },\n  methods: {\n    getLayerCustomComponents: function getLayerCustomComponents(layerId) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'feature';\n      var position = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'after';\n\n      return this.state.layerscustomcomponents[layerId] && this.state.layerscustomcomponents[layerId][type] && this.state.layerscustomcomponents[layerId][type][position] || [];\n    },\n    getLayerField: function getLayerField(_ref) {\n      var layer = _ref.layer,\n          feature = _ref.feature,\n          fieldName = _ref.fieldName;\n\n      var layerField = layer.attributes.find(function (attribute) {\n        return attribute.name === fieldName;\n      });\n      var field = _extends({}, layerField, {\n        label: null,\n        value: feature.attributes[fieldName]\n      });\n      return field;\n    },\n    getQueryFields: function getQueryFields(layer, feature) {\n      var fields = [];\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = layer.formStructure.fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var field = _step.value;\n\n          var _field = _extends({}, field);\n          _field.query = true;\n          _field.value = feature.attributes[field.name];\n          _field.input = {\n            type: '' + this.getFieldType(_field)\n          };\n          fields.push(_field);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return fields;\n    },\n    getColSpan: function getColSpan(layer) {\n      return this.attributesSubsetLength(layer) + (this.state.layersactions[layer.id].length ? 1 : 0) + !this.hasLayerOneFeature(layer) * 1;\n    },\n    getDownloadActions: function getDownloadActions(layer) {\n      return this.state.layersactions[layer.id].find(function (action) {\n        return action.formats;\n      });\n    },\n    addLayerFeaturesToResults: function addLayerFeaturesToResults(layer) {\n      this.$options.queryResultsService.addLayerFeaturesToResultsAction(layer);\n    },\n    showDownloadAction: function showDownloadAction(evt) {\n      var display = evt.target.children[0].style.display;\n      evt.target.children[0].style.display = display === 'none' ? 'inline-block' : 'none';\n    },\n    printAtlas: function printAtlas(layer) {\n      this.$options.queryResultsService.printAtlas(layer);\n    },\n    showLayerDownloadFormats: function showLayerDownloadFormats(layer) {\n      this.$options.queryResultsService.showLayerDownloadFormats(layer);\n    },\n    saveLayerResult: function saveLayerResult(layer) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"csv\";\n\n      this.$options.queryResultsService.saveLayerResult({ layer: layer, type: type });\n    },\n    hasLayerOneFeature: function hasLayerOneFeature(layer) {\n      return layer.features.length === 1;\n    },\n    addRemoveFilter: function addRemoveFilter(layer) {\n      this.$options.queryResultsService.addRemoveFilter(layer);\n    },\n    getContainerFromFeatureLayer: function getContainerFromFeatureLayer() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          layer = _ref2.layer,\n          index = _ref2.index;\n\n      return $('#' + layer.id + '_' + index + ' > td');\n    },\n    hasOneLayerAndOneFeature: function hasOneLayerAndOneFeature(layer) {\n      return this.hasLayerOneFeature(layer);\n    },\n    hasFormStructure: function hasFormStructure(layer) {\n      return !!layer.formStructure;\n    },\n    layerHasFeatures: function layerHasFeatures(layer) {\n      return layer.features && layer.features.length > 0 ? true : false;\n    },\n    selectionFeaturesLayer: function selectionFeaturesLayer(layer) {\n      this.$options.queryResultsService.selectionFeaturesLayer(layer);\n    },\n    layerHasActions: function layerHasActions(layer) {\n      return this.state.layersactions[layer.id].length > 0;\n    },\n    featureHasActions: function featureHasActions(layer, feature) {\n      return this.geometryAvailable(feature);\n    },\n    geometryAvailable: function geometryAvailable(feature) {\n      return feature.geometry ? true : false;\n    },\n    extractAttributesFromFirstTabOfFormStructureLayers: function extractAttributesFromFirstTabOfFormStructureLayers(layer) {\n      var _this = this;\n\n      var attributes = new Set();\n      var traverseStructure = function traverseStructure(item) {\n        if (item.nodes) item.nodes.forEach(function (node) {\n          return traverseStructure(node);\n        });else {\n          var field = layer.formStructure.fields.find(function (field) {\n            return field.name === item.field_name;\n          });\n          if (field) {\n            if (_this.state.type === 'ows') {\n              field = _extends({}, field);\n              field.name = field.name.replace(/ /g, '_');\n            }\n            attributes.add(field);\n          }\n        }\n      };\n      layer.formStructure.structure.length && layer.formStructure.structure.forEach(function (structure) {\n        return traverseStructure(structure);\n      });\n      return Array.from(attributes);\n    },\n    attributesSubset: function attributesSubset(layer) {\n      var attributes = this.hasFormStructure(layer) ? this.extractAttributesFromFirstTabOfFormStructureLayers(layer) : layer.attributes;\n      var _attributes = attributes.filter(function (attribute) {\n        return attribute.show && HEADERTYPESFIELD.indexOf(attribute.type) !== -1;\n      });\n      var end = Math.min(maxSubsetLength, attributes.length);\n      return _attributes.slice(0, end);\n    },\n    relationsAttributesSubset: function relationsAttributesSubset(relationAttributes) {\n      var attributes = [];\n      _.forEach(relationAttributes, function (value, attribute) {\n        if (Array.isArray(value)) return;\n        attributes.push({ label: attribute, value: value });\n      });\n      var end = Math.min(maxSubsetLength, attributes.length);\n      return attributes.slice(0, end);\n    },\n    relationsAttributes: function relationsAttributes(relationAttributes) {\n      var attributes = [];\n      _.forEach(relationAttributes, function (value, attribute) {\n        attributes.push({ label: attribute, value: value });\n      });\n      return attributes;\n    },\n    attributesSubsetLength: function attributesSubsetLength(layer) {\n      return this.attributesSubset(layer).length;\n    },\n    cellWidth: function cellWidth(index, layer) {\n      var headerLength = maxSubsetLength + this.state.layersactions[layer.id].length;\n      var subsetLength = this.attributesSubsetLength(layer);\n      var diff = headerLength - subsetLength;\n      var actionsCellWidth = layer.hasgeometry ? headerActionsCellWidth : 0;\n      var headerAttributeCellTotalWidth = 100 - headerExpandActionCellWidth - actionsCellWidth;\n      var baseCellWidth = headerAttributeCellTotalWidth / maxSubsetLength;\n      if (index === subsetLength - 1 && diff > 0) return baseCellWidth * (diff + 1);else return baseCellWidth;\n    },\n    featureBoxColspan: function featureBoxColspan(layer) {\n      var colspan = this.attributesSubsetLength(layer);\n      if (layer.expandable) colspan += 1;\n      if (layer.hasgeometry) colspan += 1;\n      return colspan;\n    },\n    relationsAttributesSubsetLength: function relationsAttributesSubsetLength(elements) {\n      return this.relationsAttributesSubset(elements).length;\n    },\n    getLayerFormStructure: function getLayerFormStructure(layer) {\n      return layer.formStructure.structure;\n    },\n    isAttributeOrTab: function isAttributeOrTab(layer, item) {\n      var isField = item.field_name !== undefined;\n      return {\n        type: isField && 'field' || 'tab',\n        item: isField && this.getLayerAttributeFromStructureItem(layer, item.field_name) || [item]\n      };\n    },\n    getLayerAttributeFromStructureItem: function getLayerAttributeFromStructureItem(layer, field_name) {\n      return layer.attributes.find(function (attribute) {\n        return attribute.name === field_name;\n      });\n    },\n    getLayerFeatureBox: function getLayerFeatureBox(layer, feature, relation_index) {\n      var _this2 = this;\n\n      var boxid = this.getBoxId(layer, feature, relation_index);\n      if (this.layersFeaturesBoxes[boxid] === undefined) {\n        this.layersFeaturesBoxes[boxid] = Vue.observable({\n          collapsed: true\n        });\n        this.$watch(function () {\n          return _this2.layersFeaturesBoxes[boxid].collapsed;\n        }, function (collapsed) {\n          var index = layer.features.findIndex(function (_feature) {\n            return feature.id === _feature.id;\n          });\n          var container = _this2.getContainerFromFeatureLayer({\n            layer: layer,\n            index: index\n          });\n          _this2.$options.queryResultsService.openCloseFeatureResult({\n            open: !collapsed,\n            layer: layer,\n            feature: feature,\n            container: container\n          });\n        });\n        this.layersFeaturesBoxes[boxid].collapsed = layer.features.length > 1;\n      }\n      return this.layersFeaturesBoxes[boxid];\n    },\n    collapsedFeatureBox: function collapsedFeatureBox(layer, feature, relation_index) {\n      var boxid = this.getBoxId(layer, feature, relation_index);\n      return this.layersFeaturesBoxes[boxid] ? this.layersFeaturesBoxes[boxid].collapsed : true;\n    },\n    showFeatureInfo: function showFeatureInfo(layer, boxid) {\n      this.$options.queryResultsService.emit('show-query-feature-info', {\n        layer: layer,\n        tabs: this.hasFormStructure(layer),\n        show: this.layersFeaturesBoxes[boxid] ? !this.layersFeaturesBoxes[boxid].collapsed : false\n      });\n    },\n    getBoxId: function getBoxId(layer, feature, relation_index) {\n      return this.$options.queryResultsService.getBoxId(layer, feature, relation_index);\n    },\n    toggleFeatureBox: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(layer, feature, relation_index) {\n        var boxid;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                boxid = this.getBoxId(layer, feature, relation_index);\n\n                this.layersFeaturesBoxes[boxid].collapsed = !this.layersFeaturesBoxes[boxid].collapsed;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                this.showFeatureInfo(layer, boxid);\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function toggleFeatureBox(_x5, _x6, _x7) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return toggleFeatureBox;\n    }(),\n    toggleFeatureBoxAndZoom: function toggleFeatureBoxAndZoom(layer, feature, relation_index) {\n      !this.hasLayerOneFeature(layer) && this.toggleFeatureBox(layer, feature, relation_index);\n    },\n    trigger: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(action, layer, feature, index) {\n        var container;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!(action.opened && $('#' + layer.id + '_' + index).css('display') === 'none')) {\n                  _context2.next = 4;\n                  break;\n                }\n\n                this.toggleFeatureBox(layer, feature);\n                _context2.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                container = this.getContainerFromFeatureLayer({ layer: layer, index: index });\n                _context2.next = 7;\n                return this.$options.queryResultsService.trigger(action.id, layer, feature, index, container);\n\n              case 7:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function trigger(_x8, _x9, _x10, _x11) {\n        return _ref4.apply(this, arguments);\n      }\n\n      return trigger;\n    }(),\n    showFullPhoto: function showFullPhoto(url) {\n      this.$options.queryResultsService.showFullPhoto(url);\n    },\n    openLink: function openLink(link_url) {\n      window.open(link_url, '_blank');\n    }\n  },\n  watch: {\n    'state.layers': function () {\n      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(layers) {\n        var _this3 = this;\n\n        var layer, feature, boxid;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layers.forEach(function (layer) {\n                  if (layer.attributes.length <= maxSubsetLength && !layer.hasImageField) layer.expandable = false;\n                  layer.features.forEach(function (feature) {\n                    _this3.getLayerFeatureBox(layer, feature);\n                    if (feature.attributes.relations) {\n                      var relations = feature.attributes.relations;\n                      relations.forEach(function (relation) {\n                        var boxid = layer.id + '_' + feature.id + '_' + relation.name;\n                        var elements = relation.elements;\n                        elements.forEach(function (element, index) {\n                          _this3.layersFeaturesBoxes[boxid + index] = {\n                            collapsed: true\n                          };\n                        });\n                      });\n                    }\n                  });\n                });\n\n                this.onelayerresult = layers.length === 1;\n\n                if (this.onelayerresult && this.hasLayerOneFeature(layers[0])) {\n                  layer = layers[0];\n                  feature = layer.features[0];\n                  boxid = this.getBoxId(layer, feature);\n\n                  this.$options.queryResultsService.onceafter('postRender', function () {\n                    _this3.showFeatureInfo(layer, boxid);\n                  });\n                }\n                requestAnimationFrame(function () {\n                  return _this3.$options.queryResultsService.postRender(_this3.$el);\n                });\n                _context3.next = 6;\n                return this.$nextTick();\n\n              case 6:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function stateLayers(_x12) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return stateLayers;\n    }(),\n    onelayerresult: function onelayerresult(bool) {\n      bool && this.$options.queryResultsService.highlightFeaturesPermanently(this.state.layers[0]);\n    }\n  },\n  created: function created() {\n    var _this4 = this;\n\n    this.zoomToLayerFeaturesExtent = throttle(function (layer) {\n      _this4.$options.queryResultsService.zoomToLayerFeaturesExtent(layer, {\n        highlight: true\n      });\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.state.zoomToResult = true;\n    this.layersFeaturesBoxes = null;\n  },\n  destroyed: function destroyed() {\n    this.$options.queryResultsService.clear();\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"queryresults-wrapper\",attrs:{\"id\":\"search-results\"}},[(_vm.info.message)?_c('div',{staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"margin-bottom\":\"3px\",\"font-size\":\"1.1em\"}},[(_vm.info.icon)?_c('span',{staticClass:\"action-button skin-tooltip-bottom\",class:_vm.g3wtemplate.getFontClass(_vm.info.icon),on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.info.action($event)}}}):_vm._e(),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.info.message))])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"queryresults-container\"},[(_vm.state.layers.length)?[(_vm.hasLayers)?_c('ul',{staticClass:\"queryresults\",staticStyle:{\"position\":\"relative\"},attrs:{\"id\":\"queryresults\"}},[_vm._l((_vm.state.layers),function(layer){return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:((_vm.layerHasFeatures(layer) || layer.rawdata) && layer.show),expression:\"(layerHasFeatures(layer) || layer.rawdata) && layer.show\"}]},[_c('bar-loader',{attrs:{\"loading\":layer.loading}}),_vm._v(\" \"),_c('div',{staticClass:\"box box-primary\"},[_c('div',{staticClass:\"box-header with-border\",class:{'mobile': _vm.isMobile()},attrs:{\"data-widget\":\"collapse\"}},[_c('div',{staticClass:\"box-title query-layer-title\",style:({fontSize: _vm.isMobile() && '1em !important'})},[_vm._v(_vm._s(layer.title)+\"\\n                \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!layer.rawdata),expression:\"!layer.rawdata\"}],staticClass:\"query-layer-feature-count\"},[_vm._v(\"(\"+_vm._s(layer.features.length)+\")\")])]),_vm._v(\" \"),_c('div',{staticClass:\"box-features-action\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('infoformats',{attrs:{\"layer\":layer}}),_vm._v(\" \"),(layer.features.length > 1)?[(layer.hasgeometry)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.zoom_to_features_extent.hint'),expression:\"'sdk.mapcontrols.query.actions.zoom_to_features_extent.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.zoomToLayerFeaturesExtent(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('marker')})]):_vm._e(),_vm._v(\" \"),(layer.atlas.length)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.atlas.hint'),expression:\"'sdk.mapcontrols.query.actions.atlas.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.printAtlas(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('print')})]):_vm._e(),_vm._v(\" \"),(layer.downloads.length === 1)?[_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:((\"sdk.mapcontrols.query.actions.download_features_\" + (layer.downloads[0]) + \".hint\")),expression:\"`sdk.mapcontrols.query.actions.download_features_${layer.downloads[0]}.hint`\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer[layer.downloads[0]].active}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('download'),on:{\"click\":function($event){$event.stopPropagation();return _vm.saveLayerResult(layer, layer.downloads[0])}}})])]:(layer.downloads.length > 1)?[_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('Downloads'),expression:\"'Downloads'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer.downloadformats.active}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('download'),on:{\"click\":function($event){$event.stopPropagation();return _vm.showLayerDownloadFormats(layer)}}})])]:_vm._e()]:_vm._e(),_vm._v(\" \"),(layer.external || (layer.source && layer.source.type !== 'wms'))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.add_features_to_results.hint'),expression:\"'sdk.mapcontrols.query.actions.add_features_to_results.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button\",class:{'toggled': layer.addfeaturesresults.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.addLayerFeaturesToResults(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('plus-square')})]):_vm._e(),_vm._v(\" \"),(layer.features.length > 1 && (layer.external || (layer.source && layer.source.type !== 'wms')))?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('sdk.mapcontrols.query.actions.add_selection.hint'),expression:\"'sdk.mapcontrols.query.actions.add_selection.hint'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left\",class:{'toggled': layer.selection.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.selectionFeaturesLayer(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('success')})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(layer.selection.active && !layer.external),expression:\"layer.selection.active && !layer.external\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button skin-tooltip-left\",class:{'toggled': layer.filter.active},on:{\"click\":function($event){$event.stopPropagation();return _vm.addRemoveFilter(layer)}}},[_c('span',{staticClass:\"action-button-icon\",class:_vm.g3wtemplate.getFontClass('filter')})])],2),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-box-tool\",attrs:{\"data-widget\":\"collapse\"}},[_c('i',{staticClass:\"btn-collapser skin-color\",class:_vm.g3wtemplate.font['minus']})])]),_vm._v(\" \"),(_vm.state.layeractiontool[layer.id].component)?[_c('div',{staticClass:\"g3w-layer-action-tools with-border\",class:{'mobile': _vm.isMobile()},staticStyle:{\"padding\":\"5px\"}},[_c(_vm.state.layeractiontool[layer.id].component,{tag:\"component\",attrs:{\"layer\":layer,\"config\":_vm.state.layeractiontool[layer.id].config}})],1)]:_vm._e(),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'layer', 'before')),function(ref){\nvar component = ref.component;\nreturn _c(component,{tag:\"component\",attrs:{\"layer\":layer}})}),_vm._v(\" \"),_c('div',{staticClass:\"box-body\",class:{'mobile': _vm.isMobile()}},[(layer.rawdata)?[_c('div',{staticClass:\"queryresults-text-html\",class:{text: layer.infoformat === 'text/plain'},domProps:{\"innerHTML\":_vm._s(layer.rawdata)}})]:(_vm.hasFormStructure(layer))?[_c('table',{staticClass:\"table\",class:{'mobile': _vm.isMobile()}},[_c('thead',[_c('tr',[(_vm.state.layersactions[layer.id].length)?_c('th',{style:({width: ((_vm.state.layersactions[layer.id].length *26) + \"px\"), maxWidth:((_vm.state.layersactions[layer.id].length * 26) + \"px\")})}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.attributesSubset(layer)),function(attribute,index){return _c('th',{staticClass:\"centered\"},[_vm._v(_vm._s(attribute.label))])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(layer))?_c('th',{staticClass:\"collapsed\"}):_vm._e()],2)]),_vm._v(\" \"),_c('tbody',[_vm._l((layer.features),function(feature,index){return (feature.show)?[_c('header-feature-body',{attrs:{\"actions\":_vm.state.layersactions[layer.id],\"layer\":layer,\"feature\":feature,\"index\":index,\"onelayerresult\":_vm.onelayerresult,\"trigger\":_vm.trigger,\"toggleFeatureBoxAndZoom\":_vm.toggleFeatureBoxAndZoom,\"hasLayerOneFeature\":_vm.hasLayerOneFeature,\"boxLayerFeature\":_vm.getLayerFeatureBox(layer, feature),\"attributesSubset\":_vm.attributesSubset,\"getLayerField\":_vm.getLayerField}}),_vm._v(\" \"),_c('tr',{staticClass:\"g3w-feature-result-action-tools\"},[(_vm.state.currentactiontools[layer.id][index])?[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(_vm.state.currentactiontools[layer.id][index],{tag:\"component\",attrs:{\"colspan\":_vm.getColSpan(layer),\"layer\":layer,\"feature\":feature,\"featureIndex\":index,\"config\":_vm.state.actiontools[_vm.state.currentactiontools[layer.id][index].name][layer.id]}})],1)]:_vm._e()],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'before')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])}),_vm._v(\" \"),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.collapsedFeatureBox(layer,feature) || _vm.hasOneLayerAndOneFeature(layer)),expression:\"!collapsedFeatureBox(layer,feature) || hasOneLayerAndOneFeature(layer)\"}],staticClass:\"featurebox-body\",attrs:{\"id\":((layer.id) + \"_\" + index)}},[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c('tabs',{attrs:{\"fields\":_vm.getQueryFields(layer, feature),\"layerid\":layer.id,\"feature\":feature,\"tabs\":_vm.getLayerFormStructure(layer)}})],1)]),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])})]:_vm._e()})],2)])]:_c('table',{staticClass:\"table\",class:{'mobile': _vm.isMobile()}},[_c('thead',[_c('tr',[(_vm.state.layersactions[layer.id].length)?_c('th',{style:({width: ((_vm.state.layersactions[layer.id].length *26) + \"px\"), maxWidth:((_vm.state.layersactions[layer.id].length * 26) + \"px\")})}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.attributesSubset(layer)),function(attribute,index){return _c('th',{staticClass:\"centered\"},[_vm._v(_vm._s(attribute.label))])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(layer))?_c('th',{staticClass:\"collapsed\"}):_vm._e()],2)]),_vm._v(\" \"),_vm._l((layer.features),function(feature,index){return (feature.show)?_c('tbody',{key:feature.id},[_c('header-feature-body',{attrs:{\"actions\":_vm.state.layersactions[layer.id],\"layer\":layer,\"feature\":feature,\"index\":index,\"onelayerresult\":_vm.onelayerresult,\"trigger\":_vm.trigger,\"toggleFeatureBoxAndZoom\":_vm.toggleFeatureBoxAndZoom,\"hasLayerOneFeature\":_vm.hasLayerOneFeature,\"boxLayerFeature\":_vm.getLayerFeatureBox(layer, feature),\"attributesSubset\":_vm.attributesSubset,\"getLayerField\":_vm.getLayerField}}),_vm._v(\" \"),_c('tr',{staticClass:\"g3w-feature-result-action-tools\"},[(_vm.state.currentactiontools[layer.id][index])?[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c(_vm.state.currentactiontools[layer.id][index],{tag:\"component\",attrs:{\"colspan\":_vm.getColSpan(layer),\"layer\":layer,\"feature\":feature,\"featureIndex\":index,\"config\":_vm.state.actiontools[_vm.state.currentactiontools[layer.id][index].name][layer.id]}})],1)]:_vm._e()],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'before')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":\"getColSpan(layer)\"}},[_c(component,{tag:\"component\",staticClass:\"box-body\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])}),_vm._v(\" \"),_c('tr',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.collapsedFeatureBox(layer,feature) || _vm.hasOneLayerAndOneFeature(layer)),expression:\"!collapsedFeatureBox(layer,feature) || hasOneLayerAndOneFeature(layer)\"}],staticClass:\"featurebox-body\",attrs:{\"id\":((layer.id) + \"_\" + index)}},[_c('td',{attrs:{\"colspan\":_vm.getColSpan(layer)}},[_c('table',{staticClass:\"feature_attributes\"},_vm._l((layer.attributes.filter(function (attribute) { return attribute.show; })),function(attribute){return _c('tr',[_c('td',{staticClass:\"attr-label\"},[_vm._v(_vm._s(attribute.label))]),_vm._v(\" \"),_c('td',{staticClass:\"attr-value\",attrs:{\"attribute\":attribute.name}},[_c('table-attribute-field-value',{attrs:{\"feature\":feature,\"field\":_vm.getLayerField({layer: layer, feature: feature, fieldName: attribute.name})}})],1)])}),0)])]),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'feature', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('tr',[_c('td',{attrs:{\"colspan\":\"getColSpan(layer)\"}},[_c(component,{tag:\"component\",staticClass:\"box-body\",attrs:{\"layer\":layer,\"feature\":feature}})],1)])})],2):_c('tbody')})],2)],2),_vm._v(\" \"),_vm._l((_vm.getLayerCustomComponents(layer.id, 'layer', 'after')),function(ref){\nvar component = ref.component;\nreturn _c('div',{staticClass:\"box-body\",class:{'mobile': _vm.isMobile()}},[_c(component,{tag:\"component\",attrs:{\"layer\":layer}})],1)})],2)],1)}),_vm._v(\" \"),_vm._l((_vm.state.components),function(component){return _c('li',[_c(component,{tag:\"component\",on:{\"showresults\":function($event){return _vm.showResults()}}})],1)})],2):_vm._e()]:[(_vm.state.changed)?_c('div',{staticClass:\"query-results-not-found\"},[_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:('info.no_results'),expression:\"'info.no_results'\"}],staticClass:\"skin-color\",staticStyle:{\"font-weight\":\"bold\",\"text-align\":\"center\"}})]):_vm._e()]],2)])}\n__vue__options__.staticRenderFns = []\n\n},{\"components/QueryResultsActionInfoFormats.vue\":279,\"components/QueryResultsHeaderFeatureBody.vue\":282,\"components/QueryResultsTableAttributeFieldValue.vue\":283,\"core/utils/utils\":68,\"mixins\":338}],277:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"action\",\n  data: function data() {\n    return {\n      show: true\n    };\n  },\n\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    trigger: {\n      type: Function\n    },\n    action: {\n      type: Object,\n      required: true\n    }\n  },\n  methods: {\n    clickAction: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(action, layer, feature, featureIndex, event) {\n        var element, originalDataTitle;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.trigger(action, layer, feature, featureIndex);\n\n              case 2:\n                if (action.hint_change) {\n                  element = $(event.target).parent();\n                  originalDataTitle = element.attr('data-original-title');\n\n                  element.attr('data-original-title', t(action.hint_change.hint));\n                  element.tooltip('show');\n                  setTimeout(function () {\n                    element.attr('data-original-title', originalDataTitle);\n                    element.tooltip('show');\n                  }, action.hint_change.duration || 600);\n                }\n                this.$emit('action-clicked', action);\n\n              case 4:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function clickAction(_x, _x2, _x3, _x4, _x5) {\n        return _ref.apply(this, arguments);\n      }\n\n      return clickAction;\n    }()\n  },\n  created: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var show;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.action.init && this.action.init({ layer: this.layer, feature: this.feature, index: this.featureIndex, action: this.action });\n\n              if (!(typeof this.action.condition === 'function')) {\n                _context2.next = 11;\n                break;\n              }\n\n              show = this.action.condition({ layer: this.layer, feature: this.feature });\n\n              if (!(show instanceof Promise)) {\n                _context2.next = 9;\n                break;\n              }\n\n              _context2.next = 6;\n              return show;\n\n            case 6:\n              _context2.t0 = _context2.sent;\n              _context2.next = 10;\n              break;\n\n            case 9:\n              _context2.t0 = show;\n\n            case 10:\n              this.show = _context2.t0;\n\n            case 11:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function created() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('.action-button[data-toggle=\"tooltip\"]').tooltip();\n\n            case 3:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\",value:(_vm.action.download),expression:\"action.download\"},{name:\"t-title\",rawName:\"v-t-title\",value:(_vm.action.hint),expression:\"action.hint\"}],staticClass:\"action-button skin-tooltip-right\",class:{'toggled': _vm.action.state && _vm.action.state.toggled[_vm.featureIndex] },attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"contextmenu\":function($event){$event.preventDefault();$event.stopPropagation();},\"click\":function($event){$event.stopPropagation();return _vm.clickAction(_vm.action, _vm.layer, _vm.feature, _vm.featureIndex, $event)}}},[_c('span',{class:(\"action-button-icon \" + (_vm.action.class)),staticStyle:{\"padding\":\"2px\"},style:(_vm.action.style)})]):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-8bfeb4ec\"\n\n},{\"core/i18n/i18n.service\":14}],278:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  name: \"downloadformats\",\n  data: function data() {\n    var download_format = this.config.downloads[0].format;\n    return {\n      download_format: download_format\n    };\n  },\n\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    config: {\n      type: Object,\n      default: null\n    }\n  },\n  methods: {\n    download: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var _download;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _download = this.config.downloads.find(function (action) {\n                  return action.format === _this.download_format;\n                });\n                _context.next = 4;\n                return _download.cbk(this.layer, this.feature ? this.feature : this.layer.features, _download, this.featureIndex);\n\n              case 4:\n                _context.next = 8;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 6]]);\n      }));\n\n      function download() {\n        return _ref.apply(this, arguments);\n      }\n\n      return download;\n    }()\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-download-formats-content\",staticStyle:{\"width\":\"100%\",\"display\":\"flex\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();}}},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('download_format'),expression:\"'download_format'\"}],staticClass:\"form-control\",staticStyle:{\"flex-grow\":\"1\"},attrs:{\"search\":false}},_vm._l((_vm.config.downloads),function(download){return _c('option',{directives:[{name:\"download\",rawName:\"v-download\"}],key:download.id,domProps:{\"value\":download.format}},[_c('span',{staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(_vm._s(download.format))])])}),0),_vm._v(\" \"),_c('button',{directives:[{name:\"download\",rawName:\"v-download\"}],staticClass:\"btn skin-button\",staticStyle:{\"border-radius\":\"0 3px 3px 0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.download($event)}}},[_c('span',{class:_vm.g3wtemplate.getFontClass('download')})])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-72d7b8fa\"\n\n},{}],279:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/parsers'),\n    responseParser = _require.response;\n\nvar _require2 = require('core/utils/geo'),\n    getAlphanumericPropertiesFromFeature = _require2.getAlphanumericPropertiesFromFeature,\n    query = _require2.query;\n\nexports.default = {\n    name: 'Infoformats',\n    props: {\n        layer: {\n            type: Object,\n            required: true\n        }\n    },\n    data: function data() {\n        return {\n            infoformat: this.layer.infoformat\n        };\n    },\n\n    computed: {\n        infoformats: function infoformats() {\n            return this.layer.infoformats || [];\n        }\n    },\n    methods: {\n        reloadLayerDataWithChangedContentType: function () {\n            var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(contenttype) {\n                var _this = this;\n\n                var queryService, response, _responseParser$get, _responseParser$get2, data;\n\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                queryService = _gui2.default.getService('queryresults');\n\n                                this.layer.loading = true;\n                                _context.prev = 2;\n                                _context.next = 5;\n                                return this.projectLayer.changeProxyDataAndReloadFromServer('wms', {\n                                    headers: {\n                                        'Content-Type': contenttype\n                                    },\n                                    params: {\n                                        INFO_FORMAT: contenttype\n                                    }\n                                });\n\n                            case 5:\n                                response = _context.sent;\n\n                                this.layer.infoformat = contenttype;\n                                this.projectLayer.setInfoFormat(this.layer.infoformat);\n                                _responseParser$get = responseParser.get(contenttype)({\n                                    layers: [this.projectLayer],\n                                    response: response\n                                }), _responseParser$get2 = _slicedToArray(_responseParser$get, 1), data = _responseParser$get2[0];\n\n                                if (!data.features) {\n                                    _context.next = 14;\n                                    break;\n                                }\n\n                                this.layer.rawdata = null;\n                                data.features.forEach(function (feature) {\n                                    var _queryService$getFeat = queryService.getFeaturePropertiesAndGeometry(feature),\n                                        fid = _queryService$getFeat.id,\n                                        geometry = _queryService$getFeat.geometry,\n                                        attributes = _queryService$getFeat.properties;\n\n                                    if (_this.layer.attributes.length === 0) {\n                                        _this.layer.hasgeometry = !!geometry;\n\n                                        queryService.setActionsForLayers([_this.layer]);\n                                        getAlphanumericPropertiesFromFeature(attributes).forEach(function (name) {\n                                            _this.layer.attributes.push({\n                                                name: name,\n                                                label: name,\n                                                show: true\n                                            });\n                                        });\n                                    }\n                                    var queryFeature = {\n                                        id: fid,\n                                        attributes: attributes,\n                                        geometry: geometry,\n                                        show: true\n                                    };\n                                    queryFeature.show = true;\n                                    _this.layer.features.push(queryFeature);\n                                });\n                                _context.next = 18;\n                                break;\n\n                            case 14:\n                                this.layer.features.splice(0);\n                                _context.next = 17;\n                                return this.$nextTick();\n\n                            case 17:\n                                this.layer.rawdata = data.rawdata;\n\n                            case 18:\n                                _context.next = 23;\n                                break;\n\n                            case 20:\n                                _context.prev = 20;\n                                _context.t0 = _context['catch'](2);\n\n                                console.log(_context.t0);\n\n                            case 23:\n                                this.layer.loading = false;\n\n                            case 24:\n                            case 'end':\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this, [[2, 20]]);\n            }));\n\n            function reloadLayerDataWithChangedContentType(_x) {\n                return _ref.apply(this, arguments);\n            }\n\n            return reloadLayerDataWithChangedContentType;\n        }()\n    },\n    watch: {\n        'infoformat': function infoformat(value) {\n            this.reloadLayerDataWithChangedContentType(value);\n        }\n    },\n    created: function created() {\n        this.projectLayer = _catalogLayers2.default.getLayerById(this.layer.id);\n    },\n    beforeDestroy: function beforeDestroy() {\n        this.projectLayer && this.projectLayer.clearProxyData('wms');\n        this.projectLayer = null;\n    }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.infoformats.length)?_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('infoformat'),expression:\"'infoformat'\"}],staticClass:\"skin-color\",attrs:{\"select2_value\":_vm.infoformat,\"search\":false}},_vm._l((_vm.infoformats),function(infoformat){return _c('option',{key:infoformat,domProps:{\"value\":infoformat}},[_vm._v(_vm._s(infoformat))])}),0):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/geo\":65,\"core/utils/parsers\":67,\"services/gui\":356,\"store/catalog-layers\":369}],280:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-polygonattributes-types-title[data-v-7fd19c11]{font-weight:700;padding:3px;color:#fff;margin:0 0 5px}.g3w-polygonattributes-types-content[data-v-7fd19c11]{display:flex;justify-content:space-between;padding:3px;border-radius:3px;border:1px solid #f4f4f4}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"querypolygonaddattributes\",\n  props: {\n    layer: {\n      type: Object\n    },\n    config: {\n      type: Object,\n      default: null\n    }\n  },\n  data: function data() {\n    return {\n      type: this.config.choices[0].type\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.unwatch = this.$watch(function () {\n      return _applicationState2.default.language;\n    }, function () {\n      _this.config.choices.forEach(function (choice) {\n        return $(_this.$refs[choice.type]).text(t(choice.label));\n      });\n      $(_this.$refs.g3w_select_feature_featurepolygon).select2().trigger('change');\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.unwatch && this.unwatch();\n    this.unwatch = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\"}},[_c('h5',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.mapcontrols.querybypolygon.download.title'),expression:\"'sdk.mapcontrols.querybypolygon.download.title'\"}],staticClass:\"skin-background-color g3w-polygonattributes-types-title\"}),_vm._v(\" \"),_c('div',{staticClass:\"g3w-polygonattributes-types-content\"},[_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('type'),expression:\"'type'\"}],ref:\"g3w_select_feature_featurepolygon\",staticClass:\"form-control\",staticStyle:{\"width\":\"100%\"},attrs:{\"search\":false}},_vm._l((_vm.config.choices),function(choice){return _c('option',{directives:[{name:\"t\",rawName:\"v-t\",value:(choice.label),expression:\"choice.label\"}],key:choice.type,ref:choice.type,refInFor:true,domProps:{\"value\":choice.type}})}),0),_vm._v(\" \"),_c('button',{staticClass:\"btn skin-button\",staticStyle:{\"border-radius\":\"0 3px 3px 0\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.config.download(_vm.type)}}},[_c('span',{class:_vm.g3wtemplate.getFontClass('download')})])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-7fd19c11\"\n\n},{\"core/i18n/i18n.service\":14,\"store/application-state\":368,\"vueify/lib/insert-css\":2}],281:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _QueryResultsAction = require(\"components/QueryResultsAction.vue\");\n\nvar _QueryResultsAction2 = _interopRequireDefault(_QueryResultsAction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"actions\",\n  props: {\n    featureIndex: {\n      type: Number\n    },\n    feature: {\n      type: Object\n    },\n    layer: {\n      type: Object\n    },\n    trigger: {\n      type: Function\n    },\n    actions: {\n      type: Array,\n      default: []\n    }\n  },\n  components: {\n    action: _QueryResultsAction2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.actions.length)?_c('td',{staticClass:\"g3w-feature-actions\"},_vm._l((_vm.actions),function(action){return _c('action',_vm._b({key:action.id,attrs:{\"action\":action}},'action',_vm.$props,false))}),1):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-ec80a64e\"\n\n},{\"components/QueryResultsAction.vue\":277}],282:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".noAttributes[data-v-137530c7]{display:flex;justify-content:flex-end}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _QueryResultsActions = require('components/QueryResultsActions.vue');\n\nvar _QueryResultsActions2 = _interopRequireDefault(_QueryResultsActions);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"headerfeaturebody\",\n  mixins: [_mixins.fieldsMixin],\n  props: {\n    toggleFeatureBoxAndZoom: {\n      type: Function\n    },\n    trigger: {\n      type: Function\n    },\n    hasLayerOneFeature: {\n      type: Function\n    },\n    boxLayerFeature: {\n      type: Object\n    },\n    getLayerField: {\n      type: Function\n    },\n    attributesSubset: {\n      type: Function\n    },\n    layer: {\n      type: Object\n    },\n    feature: {\n      type: Object\n    },\n    index: {\n      type: Number\n    },\n    actions: {\n      type: Array\n    }\n  },\n  components: {\n    actions: _QueryResultsActions2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',{staticClass:\"featurebox-header\",class:[_vm.boxLayerFeature.collapsed ? '' : 'featurebox-header-open'],on:{\"click\":function($event){return _vm.toggleFeatureBoxAndZoom(_vm.layer,_vm.feature)},\"mouseover\":function($event){return _vm.trigger({id:'highlightgeometry'}, _vm.layer, _vm.feature, _vm.index)},\"mouseout\":function($event){return _vm.trigger({id:'clearHighlightGeometry'}, _vm.layer, _vm.feature, _vm.index)}}},[_c('actions',{attrs:{\"layer\":_vm.layer,\"featureIndex\":_vm.index,\"trigger\":_vm.trigger,\"feature\":_vm.feature,\"actions\":_vm.actions}}),_vm._v(\" \"),_vm._l((_vm.attributesSubset(_vm.layer)),function(attribute){return _c('td',{staticClass:\"attribute\"},[(_vm.isLink(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('link')}):(_vm.isPhoto(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('image')}):(_vm.isImage(_vm.getLayerField({layer: _vm.layer, feature: _vm.feature, fieldName: attribute.name})))?_c('span',{staticClass:\"skin-color\",class:_vm.g3wtemplate.getFontClass('image')}):_c('span',[_vm._v(_vm._s(_vm.feature.attributes[attribute.name]))])])}),_vm._v(\" \"),(!_vm.hasLayerOneFeature(_vm.layer))?_c('td',{staticClass:\"collapsed\",class:{noAttributes: _vm.attributesSubset(_vm.layer).length === 0}},[_c('span',{staticClass:\"fa link morelink skin-color\",class:[_vm.boxLayerFeature.collapsed ? _vm.g3wtemplate.font['plus'] : _vm.g3wtemplate.font['minus']]})]):_vm._e()],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-137530c7\"\n\n},{\"components/QueryResultsActions.vue\":281,\"mixins\":338,\"vueify/lib/insert-css\":2}],283:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FieldLink = require('components/FieldLink.vue');\n\nvar _FieldLink2 = _interopRequireDefault(_FieldLink);\n\nvar _FieldVue = require('components/FieldVue.vue');\n\nvar _FieldVue2 = _interopRequireDefault(_FieldVue);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"tableattributefieldvalue\",\n  props: {\n    field: {\n      type: Object\n    },\n    feature: {\n      type: Object\n    }\n  },\n  mixins: [_mixins.fieldsMixin],\n  components: {\n    'g3w-link': _FieldLink2.default,\n    'g3w-vue': _FieldVue2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isVue(_vm.field))?_c('g3w-vue',{attrs:{\"feature\":_vm.feature,\"state\":_vm.field}}):(_vm.isSimple(_vm.field))?_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.field.value)}}):(_vm.isPhoto(_vm.field))?_c('g3w-image',{attrs:{\"value\":_vm.field.value}}):(_vm.isImage(_vm.field))?_c('g3w-image',{attrs:{\"value\":_vm.field.value}}):(_vm.isLink(_vm.field))?_c('g3w-link',{attrs:{\"state\":{value: _vm.field.value}}}):_vm._e()}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-0a32e30e\"\n\n},{\"components/FieldLink.vue\":208,\"components/FieldVue.vue\":211,\"mixins\":338}],284:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nvar _QueryResultsActionDownloadFormats = require('components/QueryResultsActionDownloadFormats.vue');\n\nvar _QueryResultsActionDownloadFormats2 = _interopRequireDefault(_QueryResultsActionDownloadFormats);\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle;\n\nvar RelationPageEventBus = require('gui/relations/vue/relationeventbus');\n\nvar SIDEBARWIDTH = void 0;\n\nexports.default = {\n  props: ['table', 'feature', 'relation', 'previousview', 'showChartButton', 'cardinality'],\n  inject: ['relationnoback'],\n  mixins: [_mixins.fieldsMixin, _mixins.resizeMixin],\n  components: {\n    Field: _FieldG3W2.default\n  },\n  data: function data() {\n    return {\n      feature: null,\n      fields: null,\n      chart: false,\n      headercomponent: null,\n      downloadButton: null,\n      downloadLayer: {\n        state: null,\n        config: {\n          downloads: []\n        }\n      }\n    };\n  },\n\n  computed: {\n    showrelationslist: function showrelationslist() {\n      return this.previousview === 'relations' && !this.relationnoback;\n    },\n    one: function one() {\n      return this.relation.type === 'ONE';\n    }\n  },\n  methods: {\n    createTable: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var _this = this;\n\n        var layer, downloadformats, downloadformatsLength;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                layer = _catalogLayers2.default.getLayerById(this.table.layerId);\n\n                this.isEditable = layer.isEditable() && !layer.isInEditing();\n                downloadformats = layer.isDownloadable() ? layer.getDownloadableFormats() : [];\n                downloadformatsLength = downloadformats.length;\n\n                if (downloadformatsLength > 0) {\n                  this.downloadButton = {\n                    toggled: false,\n                    tooltip: downloadformatsLength > 1 ? 'Downloads' : 'sdk.tooltips.download_' + downloadformats[0],\n                    handler: downloadformatsLength > 1 ? _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n                      return regeneratorRuntime.wrap(function _callee$(_context) {\n                        while (1) {\n                          switch (_context.prev = _context.next) {\n                            case 0:\n                              _this.downloadButton.toggled = !_this.downloadButton.toggled;\n                              _this.downloadLayer.state = _this.downloadLayer.state || layer.state;\n                              _this.downloadLayer.config.downloads = _this.downloadLayer.config.downloads.length ? _this.downloadLayer.config.downloads : downloadformats.map(function (format) {\n                                return {\n                                  id: format,\n                                  format: format,\n                                  cbk: function cbk() {\n                                    _this.saveRelation(layer.getDownloadUrl(format));\n                                    _this.headercomponent = null;\n                                  },\n                                  download: true\n                                };\n                              });\n                              _this.headercomponent = _this.downloadButton.toggled ? _QueryResultsActionDownloadFormats2.default : null;\n\n                            case 4:\n                            case 'end':\n                              return _context.stop();\n                          }\n                        }\n                      }, _callee, _this);\n                    })) : function () {\n                      return _this.saveRelation(layer.getDownloadUrl(downloadformats[0]));\n                    }\n                  };\n                }\n                RelationPageEventBus.$on('reload', function () {\n                  _this.reloadLayout();\n                });\n                this.showChart = throttle(_asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n                  var relationData;\n                  return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _this.chart = !_this.chart;\n                          _context2.next = 3;\n                          return _this.$nextTick();\n\n                        case 3:\n                          _this.chartContainer = _this.chartContainer || $('#chart_content');\n                          relationData = {\n                            relations: [_this.relation],\n                            fid: _this.feature.attributes[_constant.G3W_FID]\n                          };\n\n                          _this.$emit(_this.chart ? 'show-chart' : 'hide-chart', _this.chartContainer, relationData);\n\n                        case 6:\n                        case 'end':\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, _this);\n                })));\n                _context3.next = 9;\n                return this.$nextTick();\n\n              case 9:\n                SIDEBARWIDTH = _gui2.default.getSize({ element: 'sidebar', what: 'width' });\n                this.relation.title = this.relation.name;\n\n                if (!this.one) {\n                  this.relationDataTable = $(this.$refs.relationtable).DataTable({\n                    \"pageLength\": 10,\n                    \"bLengthChange\": true,\n                    \"scrollResize\": true,\n                    \"scrollCollapse\": true,\n                    \"scrollX\": true,\n                    \"responsive\": true,\n                    \"order\": [this.table.formStructure ? 1 : 0, 'asc'],\n                    \"columnDefs\": [{ \"orderable\": !this.table.formStructure, \"targets\": 0 }]\n                  });\n                  this.tableHeaderHeight = $('.query-relation  div.dataTables_scrollHeadInner').height();\n                }\n\n                _gui2.default.on('pop-content', this.resize);\n\n              case 13:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function createTable() {\n        return _ref.apply(this, arguments);\n      }\n\n      return createTable;\n    }(),\n    resize: function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4() {\n        var tableHeight, datatableBody, breadcrumbHeight, OtherElementHeight, width;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (this.$refs.query_relation && this.$refs.query_relation.parentNode.style.display !== 'none') {\n                  tableHeight = $(\".content\").height();\n                  datatableBody = $(this.$refs.query_relation).find('div.dataTables_scrollBody');\n                  breadcrumbHeight = $('.content_breadcrumb').outerHeight();\n                  OtherElementHeight = breadcrumbHeight + $('.navbar-header').outerHeight() + $('.close-panel-block').outerHeight() + $(this.$refs['relation-header']).outerHeight() + $('.dataTables_filter').last().outerHeight() + $('.dataTables_paginate.paging_simple_numbers').outerHeight() + $('.dataTables_scrollHead').last().outerHeight();\n\n                  datatableBody.height(tableHeight - this.tableHeaderHeight - OtherElementHeight);\n                  if (this.table.rowFormStructure) {\n                    width = datatableBody.width() - $(this.$refs.relationtable).find('tr.selected > td').outerWidth() - 20;\n\n                    $('.row-wrap-tabs > .tabs-wrapper').width(width);\n                  }\n                  this.reloadLayout();\n                }\n\n              case 1:\n              case 'end':\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function resize() {\n        return _ref4.apply(this, arguments);\n      }\n\n      return resize;\n    }(),\n    saveRelation: function saveRelation(type) {\n      this.$emit('save-relation', type);\n      this.downloadButton.toggled = false;\n    },\n    showFormStructureRow: function () {\n      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(event, row) {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                this.table.rowFormStructure = this.table.rowFormStructure === row ? null : row;\n                this.fields = this.getRowFields(row);\n                _context5.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                $('#relationtable_wrapper div.dataTables_scrollBody').css('overflow-x', this.table.rowFormStructure ? 'hidden' : 'auto');\n                this.resize();\n\n              case 6:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function showFormStructureRow(_x, _x2) {\n        return _ref5.apply(this, arguments);\n      }\n\n      return showFormStructureRow;\n    }(),\n    editFeature: function editFeature(index) {\n      var queryResultsService = _gui2.default.getService('queryresults');\n      queryResultsService.editFeature({\n        layer: {\n          id: this.table.layerId,\n          attributes: this.table.fields\n        },\n        feature: this.table.features[index]\n      });\n    },\n    getRowFields: function getRowFields(row) {\n      var _this2 = this;\n\n      return this.table.fields.map(function (field, index) {\n        field.value = row[index];\n        field.query = true;\n        field.input = {\n          type: '' + _this2.getFieldType(field)\n        };\n        return field;\n      });\n    },\n    reloadLayout: function reloadLayout() {\n      this.relationDataTable && this.relationDataTable.columns.adjust();\n    },\n    back: function back() {\n      this.$parent.setRelationsList();\n    },\n    fieldIs: function fieldIs(type, value) {\n      var fieldType = this.getFieldType(value);\n      return fieldType === type;\n    },\n    is: function is(type, value) {\n      return this.fieldIs(type, value);\n    },\n    moveFnc: function moveFnc(evt) {\n      var sidebarHeaderSize = $('.sidebar-collapse').length ? 0 : SIDEBARWIDTH;\n      var size = evt.pageX + 2 - sidebarHeaderSize;\n      this.$refs.tablecontent.style.width = size + 'px';\n      this.$refs.chartcontent.style.width = $(this.$refs.relationwrapper).width() - size - 10 + 'px';\n    }\n  },\n  watch: {\n    table: {\n      immediate: true,\n      handler: function handler(table) {\n        table && table.rows.length && this.createTable();\n      }\n    },\n    chart: function () {\n      var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee6() {\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.resize();\n\n              case 3:\n              case 'end':\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function chart() {\n        return _ref6.apply(this, arguments);\n      }\n\n      return chart;\n    }(),\n    headercomponent: function () {\n      var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee7() {\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.resize();\n\n              case 3:\n              case 'end':\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function headercomponent() {\n        return _ref7.apply(this, arguments);\n      }\n\n      return headercomponent;\n    }()\n  },\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n  },\n  beforeDestroy: function () {\n    var _ref8 = _asyncToGenerator(regeneratorRuntime.mark(function _callee8() {\n      return regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              if (this.relationDataTable) {\n                this.relationDataTable.destroy();\n                this.relationDataTable = null;\n                this.chartContainer && this.$emit('hide-chart', this.chartContainer);\n                this.chartContainer = null;\n                this.tableHeaderHeight = null;\n                _gui2.default.off('pop-content', this.resize);\n              }\n\n            case 1:\n            case 'end':\n              return _context8.stop();\n          }\n        }\n      }, _callee8, this);\n    }));\n\n    function beforeDestroy() {\n      return _ref8.apply(this, arguments);\n    }\n\n    return beforeDestroy;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.table)?_c('div',{ref:\"query_relation\",staticClass:\"query-relation\",class:_vm.isMobile() ? 'mobile' : null,staticStyle:{\"margin-top\":\"3px\"}},[_c('div',{ref:\"relation-header\",staticClass:\"header skin-background-color lighten\",staticStyle:{\"padding\":\"3px\",\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"width\":\"100%\"}},[_c('div',{staticClass:\"g3w-long-text\",staticStyle:{\"border-radius\":\"3px\"},style:({fontSize: _vm.isMobile() ? '1em' : '1.3em'})},[(_vm.showrelationslist)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:('sdk.relations.back_to_relations'),expression:\"'sdk.relations.back_to_relations'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:_vm.g3wtemplate.getFontClass('exit'),staticStyle:{\"font-size\":\"0.8em\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.back($event)}}}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"relation-tile skin-color\",staticStyle:{\"font-weight\":\"bold\"}},[_vm._v(\" \"+_vm._s(_vm.relation.name))])]),_vm._v(\" \"),(_vm.table.rows.length)?_c('div',{staticClass:\"relations-table-tools\",staticStyle:{\"font-size\":\"1.1em\",\"margin-bottom\":\"3px\"}},[(_vm.downloadButton)?_c('span',{directives:[{name:\"download\",rawName:\"v-download\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:(_vm.downloadButton.tooltip),expression:\"downloadButton.tooltip\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:[_vm.g3wtemplate.getFontClass('download'), {'toggled-white': _vm.downloadButton.toggled}],staticStyle:{\"padding\":\"5px\"},on:{\"click\":_vm.downloadButton.handler}}):_vm._e(),_vm._v(\" \"),(_vm.showChartButton)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:bottom.create\",value:('sdk.tooltips.show_chart'),expression:\"'sdk.tooltips.show_chart'\",arg:\"bottom\",modifiers:{\"create\":true}}],staticClass:\"action-button-icon action-button\",class:[_vm.g3wtemplate.getFontClass('chart'), _vm.chart ? 'toggled-white' : ''],staticStyle:{\"padding\":\"5px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showChart($event)}}}):_vm._e()]):_vm._e()]),_vm._v(\" \"),(_vm.table.rows.length)?_c('div',{ref:\"relationwrapper\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"margin-bottom\":\"5px\",\"margin-top\":\"3px\",\"height\":\"95%\"}},[_c('div',{ref:\"tablecontent\",style:({width: _vm.chart ? '70%' : '100%', marginRight: _vm.chart ? '8px' : '3px', position: 'relative' }),attrs:{\"id\":\"table_content\"}},[(_vm.headercomponent)?[_c('div',{staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"margin-left\":\"auto\",\"margin-bottom\":\"5px\",\"margin-right\":\"4px\"}},[_c(_vm.headercomponent,{tag:\"component\",attrs:{\"layer\":_vm.downloadLayer.state,\"config\":_vm.downloadLayer.config}})],1)]:_vm._e(),_vm._v(\" \"),_c('table',{ref:\"relationtable\",staticClass:\"hover relationtable table table-striped row-border\",staticStyle:{\"width\":\"100%\"}},[_c('thead',[_c('tr',{staticStyle:{\"height\":\"0! important\"}},[(_vm.table.formStructure || _vm.isEditable)?_c('th',{style:({minWidth: ((((1*!!_vm.table.formStructure) + (1*_vm.isEditable))*30) + \"px\"), padding: '0 !important' })}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.table.columns),function(column){return _c('th',[_vm._v(_vm._s(column))])})],2)]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.table.rows),function(row,index){return _c('tr',{key:_vm.table.rows_fid[index],class:{'selected': _vm.table.rowFormStructure === row}},[(_vm.table.formStructure || _vm.isEditable)?_c('td',[(_vm.table.formStructure)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:(_vm.table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'),expression:\"table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button row-form skin-color\",class:[_vm.table.rowFormStructure === row ? _vm.g3wtemplate.getFontClass('minus') :  _vm.g3wtemplate.getFontClass('table')],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"current-tooltip\":_vm.table.rowFormStructure === row ? 'sdk.tooltips.relations.form_to_row': 'sdk.tooltips.relations.row_to_form'},on:{\"click\":function($event){$event.stopPropagation();return _vm.showFormStructureRow($event, row)}}}):_vm._e(),_vm._v(\" \"),(_vm.isEditable)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:right.create\",value:('Edit'),expression:\"'Edit'\",arg:\"right\",modifiers:{\"create\":true}}],staticClass:\"action-button row-form skin-color\",class:_vm.g3wtemplate.getFontClass('pencil'),on:{\"click\":function($event){$event.stopPropagation();return _vm.editFeature(index)}}}):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.table.formStructure && _vm.table.rowFormStructure === row)?[_c('td',{staticClass:\"row-wrap-tabs\",attrs:{\"colspan\":_vm.table.columns.length}},[_c('tabs',{attrs:{\"layerid\":_vm.table.layerId,\"feature\":_vm.table.features[index],\"fields\":_vm.fields,\"tabs\":_vm.table.formStructure}})],1)]:_vm._l((row),function(value){return _c('td',[_c('field',{attrs:{\"state\":{value:value}}})],1)})],2)}),0)])],2),_vm._v(\" \"),_c('g3w-resize',{staticClass:\"skin-border-color lighten\",staticStyle:{\"border-style\":\"solid\",\"border-width\":\"0 1px 0 1px\"},attrs:{\"show\":_vm.chart,\"moveFnc\":_vm.moveFnc,\"where\":'content'}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.chart),expression:\"chart\"}],ref:\"chartcontent\",style:({width: _vm.chart ? '30%' : '0', paddingBottom: '5px', marginBottom: '5px', marginLeft: '8px' }),attrs:{\"id\":\"chart_content\"}})],1):_c('div',{staticClass:\"dataTables_scrollBody\",staticStyle:{\"font-weight\":\"bold\",\"margin-top\":\"10px\",\"font-size\":\"1.1em\",\"display\":\"flex\",\"justify-content\":\"space-between\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.relations.no_relations_found'),expression:\"'sdk.relations.no_relations_found'\"}]})])]):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":5,\"components/FieldG3W.vue\":205,\"components/QueryResultsActionDownloadFormats.vue\":278,\"core/utils/utils\":68,\"gui/relations/vue/relationeventbus\":172,\"mixins\":338,\"services/gui\":356,\"store/catalog-layers\":369}],285:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".relation-grid-item[data-v-02f56b7e]{min-width:0;min-height:80px;border:2px solid;cursor:pointer;border-radius:4px;background-color:#fff;display:flex;align-items:center}.relation-grid-item[data-v-02f56b7e]:hover{background-color:transparent}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  props: ['relations', 'feature', 'loading'],\n  methods: {\n    showRelation: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(relation) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$parent.showRelation(relation);\n\n              case 2:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function showRelation(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return showRelation;\n    }(),\n    featureInfo: function featureInfo() {\n      var infoFeatures = [];\n      var index = 0;\n      Object.entries(this.feature.attributes).forEach(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            key = _ref3[0],\n            value = _ref3[1];\n\n        if (index > 2) return false;\n        if (value && _.isString(value) && value.indexOf('/') === -1) {\n          infoFeatures.push({\n            key: key,\n            value: value\n          });\n          index += 1;\n        }\n      });\n      return infoFeatures;\n    }\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      var relation;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(this.relations.length === 1)) {\n                _context2.next = 5;\n                break;\n              }\n\n              relation = this.relations[0];\n\n              relation.noback = true;\n              _context2.next = 5;\n              return this.showRelation(relation);\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    if (this.relations.length === 1) {\n      delete this.relations[0].noback;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"query-relations\",staticStyle:{\"overflow-y\":\"auto\"}},[_c('div',{staticClass:\"header skin-background-color lighten\",staticStyle:{\"margin-bottom\":\"10px\",\"border-radius\":\"4px\",\"padding\":\"5px\"}},[_c('div',{staticClass:\"skin-color-dark\"},[_c('span',{directives:[{name:\"t\",rawName:\"v-t:pre\",value:('sdk.relations.list_of_relations_feature'),expression:\"'sdk.relations.list_of_relations_feature'\",arg:\"pre\"}],staticStyle:{\"font-size\":\"1.1em\"}}),_vm._v(\" \"),_vm._l((_vm.featureInfo()),function(info){return _c('span',[_c('b',[_vm._v(_vm._s(info.key))]),_vm._v(\": \"+_vm._s(info.value)+\" \")])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"query-relations-content\",staticStyle:{\"display\":\"grid\",\"grid-template-columns\":\"repeat(2, auto)\",\"grid-column-gap\":\"5px\",\"grid-row-gap\":\"5px\"}},_vm._l((_vm.relations),function(relation){return _c('div',{staticClass:\"skin-border-color relation-grid-item\",on:{\"click\":function($event){return _vm.showRelation(relation)}}},[_c('span',{staticClass:\"skin-color g3w-long-text\",staticStyle:{\"font-weight\":\"bold\",\"padding\":\"5px\"}},[_vm._v(_vm._s(relation.name))])])}),0)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-02f56b7e\"\n\n},{\"vueify/lib/insert-css\":2}],286:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _Relations = require('components/Relations.vue');\n\nvar _Relations2 = _interopRequireDefault(_Relations);\n\nvar _Relation = require('components/Relation.vue');\n\nvar _Relation2 = _interopRequireDefault(_Relation);\n\nvar _constant = require('constant');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/geo'),\n    getFeaturesFromResponseVectorApi = _require.getFeaturesFromResponseVectorApi;\n\nvar RelationPageEventBus = require('gui/relations/vue/relationeventbus');\n\nexports.default = {\n  data: function data() {\n    this.chartRelationIds = this.$options.chartRelationIds || [];\n    var _$options = this.$options,\n        table = _$options.table,\n        _$options$relation = _$options.relation,\n        relation = _$options$relation === undefined ? null : _$options$relation,\n        relations = _$options.relations,\n        nmRelation = _$options.nmRelation,\n        feature = _$options.feature,\n        currentview = _$options.currentview,\n        service = _$options.service;\n\n    return {\n      loading: false,\n      state: null,\n      error: false,\n      table: table ? service.buildRelationTable(table) : null,\n      relation: relation,\n      relations: relations,\n      nmRelation: nmRelation,\n      showChartButton: false,\n      feature: feature,\n      currentview: currentview,\n      previousview: currentview\n    };\n  },\n  provide: function provide() {\n    return {\n      relationnoback: this.$options.relations.length === 1\n    };\n  },\n\n  components: {\n    'relations': _Relations2.default,\n    'relation': _Relation2.default\n  },\n  methods: {\n    saveRelations: function saveRelations(type) {\n      this.$options.service.saveRelations(type);\n    },\n    reloadLayout: function reloadLayout() {\n      RelationPageEventBus.$emit('reload');\n    },\n    showChart: function showChart(container, relationData) {\n      var relationLayerId = this.relation.referencingLayer;\n      _gui2.default.getService('queryresults').showChart([relationLayerId], container, relationData);\n    },\n    hideChart: function hideChart(container) {\n      _gui2.default.getService('queryresults').hideChart(container);\n    },\n    showRelation: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(relation) {\n        var relationLayerId, fid, response, relations;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.setLoadingContent(true);\n                this.loading = true;\n                this.relation = relation;\n                relationLayerId = relation.referencingLayer;\n                fid = this.feature.attributes[_constant.G3W_FID];\n                _context.prev = 5;\n                _context.next = 8;\n                return this.$options.service.getRelations({\n                  layer: this.$options.layer,\n                  relation: relation,\n                  fid: fid\n                });\n\n              case 8:\n                response = _context.sent;\n                relations = getFeaturesFromResponseVectorApi(response, {\n                  type: 'result'\n                });\n\n                if (!this.nmRelation) {\n                  _context.next = 15;\n                  break;\n                }\n\n                relationLayerId = this.nmRelation.referencedLayer;\n                _context.next = 14;\n                return this.$options.service.getRelationsNM({\n                  nmRelation: this.nmRelation,\n                  features: relations\n                });\n\n              case 14:\n                relations = _context.sent;\n\n              case 15:\n                this.showChartButton = !!this.chartRelationIds.find(function (chartlayerid) {\n                  return chartlayerid === relationLayerId;\n                });\n                this.table = this.$options.service.buildRelationTable(relations, relationLayerId);\n\n                _gui2.default.changeCurrentContentOptions({\n                  title: relation.name,\n                  crumb: {\n                    title: relation.name\n                  }\n                });\n                _context.next = 20;\n                return this.$nextTick();\n\n              case 20:\n                this.previousview = this.currentview;\n                this.currentview = 'relation';\n                _context.next = 26;\n                break;\n\n              case 24:\n                _context.prev = 24;\n                _context.t0 = _context['catch'](5);\n\n              case 26:\n                _gui2.default.setLoadingContent(false);\n                this.loading = true;\n\n              case 28:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[5, 24]]);\n      }));\n\n      function showRelation(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return showRelation;\n    }(),\n    setRelationsList: function setRelationsList() {\n      this.previousview = 'relation';\n      this.currentview = 'relations';\n      _gui2.default.changeCurrentContentOptions({\n        crumb: {\n          title: _constant.LIST_OF_RELATIONS_TITLE\n        }\n      });\n      this.loading = false;\n    }\n  },\n  beforeMount: function beforeMount() {\n    if (this.currentview === 'relation' || this.relations.length === 1 && this.relations[0].type === 'ONE') this.showRelation(this.relations[0]);\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.relations.sort(function (_ref3, _ref4) {\n                var relationName1 = _ref3.name;\n                var relationName2 = _ref4.name;\n\n                if (relationName1 < relationName2) return -1;\n                if (relationName1 > relationName2) return 1;\n                return 0;\n              });\n              _context2.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              if (this.error) requestAnimationFrame(function () {\n                _gui2.default.popContent();\n              });\n              this.error = false;\n\n            case 5:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"query-relations-page\"},[_c(_vm.currentview,{ref:_vm.currentview,tag:\"component\",attrs:{\"loading\":_vm.loading,\"previousview\":_vm.previousview,\"showChartButton\":_vm.showChartButton,\"relations\":_vm.relations,\"relation\":_vm.relation,\"nmRelation\":_vm.nmRelation,\"feature\":_vm.feature,\"table\":_vm.table},on:{\"save-relation\":_vm.saveRelations,\"show-chart\":_vm.showChart,\"hide-chart\":_vm.hideChart}})],1)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/Relation.vue\":284,\"components/Relations.vue\":285,\"constant\":5,\"core/utils/geo\":65,\"gui/relations/vue/relationeventbus\":172,\"services/gui\":356}],287:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Tool = require('components/Tool.vue');\n\nvar _Tool2 = _interopRequireDefault(_Tool);\n\nvar _QueryBuilderSearch = require('components/QueryBuilderSearch.vue');\n\nvar _QueryBuilderSearch2 = _interopRequireDefault(_QueryBuilderSearch);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  },\n\n  components: {\n    'g3w-tool': _Tool2.default,\n    'g3w-search-querybuilder': _QueryBuilderSearch2.default\n  },\n  computed: {\n    show: function show() {\n      return this.state.searches.length + this.state.searchtools.length + this.state.querybuildersearches.length > 0;\n    }\n  },\n  methods: {\n    showPanel: function showPanel() {\n      var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.$options.service.showPanel(config);\n    },\n    removeItem: function removeItem(_ref) {\n      var type = _ref.type,\n          index = _ref.index;\n\n      this.$options.service.removeItem({\n        type: type,\n        index: index\n      });\n    }\n  },\n  mounted: function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              $('.icon-search-action').tooltip();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref2.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.show)?_c('ul',{staticClass:\"treeview-menu g3w-search g3w-tools menu-items\",attrs:{\"id\":\"g3w-search\"}},[_vm._l((_vm.state.searches),function(search){return _c('li',{staticClass:\"menu-item\",on:{\"click\":function($event){return _vm.showPanel(search)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('empty-circle')}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(search.name))])])}),_vm._v(\" \"),_vm._l((_vm.state.searchtools),function(searchtool){return _c('li',[_c('g3w-tool',{attrs:{\"tool\":searchtool}})],1)}),_vm._v(\" \"),_vm._l((_vm.state.querybuildersearches),function(querybuildersearch,index){return _c('g3w-search-querybuilder',{key:querybuildersearch.id,attrs:{\"querybuildersearch\":querybuildersearch},on:{\"delete\":function($event){return _vm.removeItem({type:'querybuilder', index:index})}}})})],2):_vm._e()}\n__vue__options__.staticRenderFns = []\n\n},{\"components/QueryBuilderSearch.vue\":275,\"components/Tool.vue\":303}],288:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId,\n    convertQGISDateTimeFormatToMoment = _require.convertQGISDateTimeFormatToMoment;\n\nexports.default = {\n  name: 'Searchdatetime',\n  props: {\n    forminput: {\n      type: Object,\n      require: true\n    }\n  },\n  created: function created() {\n    this.id = 'search_datetime_' + getUniqueDomId();\n  },\n\n  computed: {\n    time: function time() {\n      return this.forminput.options.format.time;\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var format, fieldformat, displayformat;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              format = this.forminput.options.format;\n              fieldformat = format.fieldformat, displayformat = format.displayformat;\n\n              fieldformat = convertQGISDateTimeFormatToMoment(fieldformat);\n              displayformat = convertQGISDateTimeFormatToMoment(displayformat);\n              $('#' + this.id).datetimepicker({\n                defaultDate: null,\n                format: displayformat,\n                ignoreReadonly: true,\n                allowInputToggle: true,\n                toolbarPlacement: 'top',\n                widgetPositioning: {\n                  vertical: 'bottom',\n                  horizontal: 'left'\n                },\n                showClose: true,\n                locale: _applicationState2.default.language || 'en'\n              });\n\n              $('#' + this.id).on(\"dp.change\", function () {\n                var newDate = $('#' + _this.forminput.id).val();\n                _this.forminput.value = _.isEmpty(_.trim(newDate)) ? null : moment(newDate, displayformat).format(fieldformat);\n                _this.$emit('change', _this.forminput);\n              });\n\n              _applicationState2.default.ismobile && setTimeout(function () {\n                $('#' + _this.forminput.id).blur();\n              });\n\n            case 9:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"input-group date\",attrs:{\"id\":_vm.id}},[_c('input',{staticClass:\"form-control\",attrs:{\"id\":_vm.forminput.id,\"type\":\"text\"}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-addon skin-color\"},[_c('span',{class:_vm.g3wtemplate.getFontClass(_vm.time ? 'time': 'calendar')})])])}\n__vue__options__.staticRenderFns = []\n\n},{\"core/utils/utils\":68,\"store/application-state\":368}],289:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SearchSelect = require('components/SearchSelect2.vue');\n\nvar _SearchSelect2 = _interopRequireDefault(_SearchSelect);\n\nvar _SearchDatetime = require('components/SearchDatetime.vue');\n\nvar _SearchDatetime2 = _interopRequireDefault(_SearchDatetime);\n\nvar _SearchPanelLabel = require('components/SearchPanelLabel.vue');\n\nvar _SearchPanelLabel2 = _interopRequireDefault(_SearchPanelLabel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  components: {\n    Select2: _SearchSelect2.default,\n    SearchDatetime: _SearchDatetime2.default,\n    SearchPanelLabel: _SearchPanelLabel2.default\n  },\n  data: function data() {\n    return {\n      state: this.$options.service.state\n    };\n  },\n\n  methods: {\n    isSelectDisabled: function isSelectDisabled(forminput) {\n      return [this.state.loading[forminput.options.dependance], forminput.loading, forminput.options.disabled].reduce(function (disabled) {\n        var current = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        return disabled || current;\n      }, false);\n    },\n    onFocus: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(event) {\n        var top;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.isMobile()) {\n                  _context.next = 5;\n                  break;\n                }\n\n                top = $(event.target).position().top - 10;\n                _context.next = 4;\n                return this.$nextTick();\n\n              case 4:\n                setTimeout(function () {\n                  return $('.sidebar').scrollTop(top);\n                }, 500);\n\n              case 5:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function onFocus(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return onFocus;\n    }(),\n    autocompleteRequest: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt('return', this.$options.service.autocompleteRequest(params));\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function autocompleteRequest() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return autocompleteRequest;\n    }(),\n    changeDependencyFields: function changeDependencyFields(_ref3) {\n      var field = _ref3.attribute,\n          value = _ref3.value;\n\n      var subscribers = this.$options.service.getDependencies(field);\n      return subscribers.length ? this.$options.service.fillDependencyInputs({\n        field: field,\n        subscribers: subscribers,\n        value: value\n      }) : Promise.resolve();\n    },\n    changeNumericInput: function changeNumericInput(input) {\n      input.value = input.value || input.value === 0 ? input.value : null;\n      this.changeInput(input);\n    },\n    changeInput: function changeInput(input) {\n      var _this = this;\n\n      var id = input.id,\n          attribute = input.attribute,\n          value = input.value,\n          type = input.type;\n\n      try {\n        value = type === 'textfield' || type === 'textField' ? value : value.trim();\n      } catch (err) {}\n      this.$options.service.changeInput({ id: id, value: value });\n      this.state.searching = true;\n      this.changeDependencyFields({\n        attribute: attribute,\n        value: value\n      }).finally(function () {\n        _this.state.searching = false;\n      });\n    },\n    doSearch: function doSearch(event) {\n      event.preventDefault();\n      this.$options.service.run();\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.searching),expression:\"state.searching\"}],staticClass:\"g3w-search-panel form-group\"},[_c('h4',{},[_c('b',[_vm._v(_vm._s(_vm.state.title))])]),_vm._v(\" \"),_vm._t(\"tools\"),_vm._v(\" \"),_vm._t(\"form\",[_c('form',{staticClass:\"g3w-search-form\"},[_vm._l((_vm.state.forminputs),function(forminput){return _c('span',{key:forminput.id},[(forminput.type === 'numberfield')?_c('div',{staticClass:\"form-group numeric\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(forminput.value),expression:\"forminput.value\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"0\",\"id\":forminput.id},domProps:{\"value\":(forminput.value)},on:{\"change\":function($event){return _vm.changeNumericInput(forminput)},\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(forminput, \"value\", $event.target.value)},function($event){return _vm.changeNumericInput(forminput)}]}})],1):(forminput.type === 'textfield' || forminput.type === 'textField')?_c('div',{staticClass:\"form-group form-item-search  text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(forminput.value),expression:\"forminput.value\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":forminput.id},domProps:{\"value\":(forminput.value)},on:{\"focus\":_vm.onFocus,\"change\":function($event){return _vm.changeInput(forminput)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(forminput, \"value\", $event.target.value)}}})],1):(forminput.type === 'selectfield' || forminput.type === 'autocompletefield')?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.isSelectDisabled(forminput)),expression:\"isSelectDisabled(forminput)\"}],staticClass:\"form-group text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),(forminput.options.dependance)?_c('bar-loader',{attrs:{\"loading\":_vm.state.loading[forminput.options.dependance] || forminput.loading}}):_vm._e(),_vm._v(\" \"),_c('select2',{attrs:{\"forminput\":forminput,\"autocompleteRequest\":_vm.autocompleteRequest},on:{\"select-change\":_vm.changeInput}})],1):_vm._e(),_vm._v(\" \"),(forminput.type === 'datetimefield')?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.loading[forminput.options.dependance] || false),expression:\"state.loading[forminput.options.dependance] || false\"}],staticClass:\"form-group text\"},[_c('search-panel-label',{attrs:{\"forminput\":forminput}}),_vm._v(\" \"),_c('search-datetime',{attrs:{\"forminput\":forminput},on:{\"change\":_vm.changeInput}})],1):_vm._e(),_vm._v(\" \"),(forminput.logicop)?_c('div',{staticClass:\"search-logicop skin-border-color\"},[_c('h4',[_vm._v(_vm._s(forminput.logicop))])]):_vm._e()])}),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('dosearch'),expression:\"'dosearch'\"}],staticClass:\"sidebar-button-run btn btn-block pull-right\",attrs:{\"id\":\"dosearch\",\"data-i18n\":\"dosearch\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.doSearch($event)}}})])],2)]),_vm._v(\" \"),_vm._t(\"footer\")],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/SearchDatetime.vue\":288,\"components/SearchPanelLabel.vue\":290,\"components/SearchSelect2.vue\":291}],290:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nexports.default = {\n  name: 'Searchpanellabel',\n  props: {\n    forminput: {\n      type: Object,\n      require: true\n    }\n  },\n  methods: {\n    getLabelOperator: function getLabelOperator(operator) {\n      return '[ ' + _constant.FILTER_EXPRESSION_OPERATORS[operator] + ' ]';\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{staticClass:\"search-label\",staticStyle:{\"width\":\"100%\",\"display\":\"flex\",\"justify-content\":\"space-between\"},attrs:{\"for\":_vm.forminput.id}},[_c('span',[_vm._v(_vm._s(_vm.forminput.label || _vm.forminput.attribute))]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\"},[_vm._v(_vm._s(_vm.getLabelOperator(_vm.forminput.operator)))])])}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":5}],291:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _constant = require('app/constant');\n\nvar _mixins = require('mixins');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar autocompleteOptions = require('gui/external/select2/options/autocomplete');\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    debounce = _require2.debounce;\n\nexports.default = {\n  name: \"select2\",\n  props: ['forminput', 'autocompleteRequest'],\n  mixins: [_mixins.select2Mixin],\n  methods: {\n    emitChangeEvent: function emitChangeEvent(evt) {\n      var id = $(evt.target).attr('id');\n      var attribute = $(evt.target).attr('name');\n      var data = evt.params.data;\n      var value = data ? data.id : _constant.SEARCH_ALLVALUE;\n      this.$emit('select-change', {\n        id: id,\n        attribute: attribute,\n        value: value,\n        type: this.forminput.type\n      });\n    },\n    _initSelect2Element: function _initSelect2Element() {\n      var _this = this;\n\n      var _forminput = this.forminput,\n          type = _forminput.type,\n          attribute = _forminput.attribute,\n          options = _forminput.options;\n\n      var numdigaut = options.numdigaut && !Number.isNaN(1 * options.numdigaut) && 1 * options.numdigaut > 0 && 1 * options.numdigaut || 2;\n      var isAutocomplete = type === 'autocompletefield';\n      this.select2 = $(this.$el).select2(_extends({\n        width: '100%',\n        dropdownParent: $('.g3w-search-form:visible'),\n        minimumInputLength: isAutocomplete && numdigaut || 0,\n        allowClear: isAutocomplete,\n        placeholder: isAutocomplete ? '' : null,\n        ajax: isAutocomplete ? {\n          delay: 500,\n          transport: function () {\n            var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref, success, failure) {\n              var value = _ref.data.q;\n              var data;\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.prev = 0;\n                      _context.next = 3;\n                      return _this.autocompleteRequest({\n                        field: attribute,\n                        value: value\n                      });\n\n                    case 3:\n                      data = _context.sent;\n\n                      success({ results: data });\n                      _context.next = 10;\n                      break;\n\n                    case 7:\n                      _context.prev = 7;\n                      _context.t0 = _context['catch'](0);\n\n                      failure(_context.t0);\n\n                    case 10:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this, [[0, 7]]);\n            }));\n\n            function transport(_x, _x2, _x3) {\n              return _ref2.apply(this, arguments);\n            }\n\n            return transport;\n          }()\n        } : null\n      }, autocompleteOptions));\n      this.select2.on('select2:select', function (evt) {\n        _this.emitChangeEvent(evt);\n      });\n      this.forminput.type === 'autocompletefield' && this.select2.on('select2:unselecting', function (evt) {\n        _this.emitChangeEvent(evt);\n      });\n    }\n  },\n  watch: {\n    'forminput.value': function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(value) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                if (value === _constant.SEARCH_ALLVALUE) {\n                  this.select2.val(value);\n                  this.select2.trigger('change');\n                }\n\n              case 3:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function forminputValue(_x4) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return forminputValue;\n    }()\n  },\n  created: function created() {\n    this.allvalue = _constant.SEARCH_ALLVALUE;\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this._initSelect2Element();\n\n            case 3:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('select',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.forminput.options.disabled || _vm.forminput.loading),expression:\"forminput.options.disabled || forminput.loading\"}],staticClass:\"form-control\",attrs:{\"name\":_vm.forminput.attribute,\"id\":_vm.forminput.id}},_vm._l((_vm.forminput.options.values),function(keyvalue){return _c('option',{key:keyvalue.value,domProps:{\"value\":keyvalue.value}},[(keyvalue.value === _vm.allvalue )?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.search.all'),expression:\"'sdk.search.all'\"}]}):_c('span',[_vm._v(_vm._s(keyvalue.key))])])}),0)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-525bb7b8\"\n\n},{\"app/constant\":5,\"core/i18n/i18n.service\":14,\"core/utils/utils\":68,\"gui/external/select2/options/autocomplete\":117,\"mixins\":338}],292:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _eventbus = require('gui/sidebar/eventbus');\n\nvar _eventbus2 = _interopRequireDefault(_eventbus);\n\nvar _sidebar = require('services/sidebar');\n\nvar _sidebar2 = _interopRequireDefault(_sidebar);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nexports.default = {\n  name: \"Sidebar\",\n  data: function data() {\n    return {\n      components: _sidebar2.default.state.components,\n      panels: _sidebar2.default.stack.state.contentsdata,\n      bOpen: true,\n      bPageMode: false,\n      header: t('main navigation'),\n      state: _sidebar2.default.state\n    };\n  },\n\n  computed: {\n    disabled: function disabled() {\n      return _applicationState2.default.gui.sidebar.disabled;\n    },\n    panelsinstack: function panelsinstack() {\n      return this.panels.length > 0;\n    },\n    showmainpanel: function showmainpanel() {\n      return this.components.length > 0 && !this.panelsinstack;\n    },\n    componentname: function componentname() {\n      return this.components.length ? this.components.slice(-1)[0].getTitle() : \"\";\n    },\n    panelname: function panelname() {\n      var name = \"\";\n      if (this.panels.length) {\n        name = this.panels.slice(-1)[0].content.getTitle();\n      }\n      return name;\n    }\n  },\n  methods: {\n    closePanel: function closePanel() {\n      _sidebar2.default.closePanel();\n    },\n    closeAllPanels: function closeAllPanels() {\n      _sidebar2.default.closeAllPanels();\n    }\n  },\n  created: function created() {\n    this.iframe = _applicationState2.default.iframe;\n    _eventbus2.default.$on('sidebaritemclick', function () {\n      return $('.sidebar-toggle').click();\n    });\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"main-sidebar\",class:{ iframe: _vm.iframe, 'g3w-disabled': _vm.disabled }},[_c('a',{staticClass:\"sidebar-aside-toggle\",attrs:{\"href\":\"#\",\"data-toggle\":\"offcanvas\",\"role\":\"button\"}},[_c('i',{class:_vm.g3wtemplate.getFontClass('bars')})]),_vm._v(\" \"),_c('div',{staticClass:\"sidebar\",attrs:{\"id\":\"g3w-sidebar\"}},[_c('div',{attrs:{\"id\":\"disable-sidebar\"}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelsinstack),expression:\"panelsinstack\"}],staticClass:\"g3w-sidebarpanel\"},[_c('div',{staticStyle:{\"overflow\":\"hidden\",\"line-height\":\"14px\",\"font-size\":\"1.5em\"},attrs:{\"id\":\"g3w-sidebarpanel-header-placeholder\"}},[_c('div',{staticStyle:{\"display\":\"flex\"},style:({justifyContent: _vm.state.gui.title ? 'space-between' : 'flex-end' })},[(_vm.state.gui.title)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.state.gui.title),expression:\"state.gui.title\"}],staticStyle:{\"display\":\"inline-block\",\"font-weight\":\"bold\"}}):_vm._e(),_vm._v(\" \"),_c('div',[(_vm.panels.length > 1)?_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('back'),expression:\"'back'\",modifiers:{\"create\":true}}],staticClass:\"skin-tooltip-left g3w-span-button close-pane-button fa-stack\",attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":_vm.closePanel}},[_c('i',{staticClass:\"fa-stack-1x panel-button\",class:_vm.g3wtemplate.getFontClass('circle')}),_vm._v(\" \"),_c('i',{staticClass:\"fa-stack-1x panel-icon\",class:_vm.g3wtemplate.getFontClass('arrow-left')})]):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('close'),expression:\"'close'\",modifiers:{\"create\":true}}],staticClass:\"skin-tooltip-left g3w-span-button close-pane-button fa-stack\",attrs:{\"data-placement\":\"left\",\"data-toggle\":\"tooltip\"},on:{\"click\":_vm.closeAllPanels}},[_c('i',{staticClass:\"fa-stack-1x panel-button\",class:_vm.g3wtemplate.getFontClass('circle')}),_vm._v(\" \"),_c('i',{staticClass:\"fa-stack-1x panel-icon\",class:_vm.g3wtemplate.getFontClass('close')})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"g3w-sidebarpanel-placeholder\",attrs:{\"id\":\"g3w-sidebarpanel-placeholder\"}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"g3w-sidebarcomponents-content\"}},[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showmainpanel),expression:\"showmainpanel\"}],staticClass:\"sidebar-menu\",class:{'g3w-disabled': _vm.state.disabled},attrs:{\"id\":\"g3w-sidebarcomponents\"}})])])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b2170cb4\"\n\n},{\"core/i18n/i18n.service\":14,\"gui/sidebar/eventbus\":178,\"services/sidebar\":364,\"store/application-state\":368}],293:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _eventbus = require('gui/sidebar/eventbus');\n\nvar _eventbus2 = _interopRequireDefault(_eventbus);\n\nvar _SidebarItemAction = require('components/SidebarItemAction.vue');\n\nvar _SidebarItemAction2 = _interopRequireDefault(_SidebarItemAction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"SidebarItem\",\n  data: function data() {\n    return {\n      info: this.$options.info || {\n        state: null,\n        style: null,\n        class: null\n      },\n      main: true,\n      component: this.$options.component,\n      active: false,\n      title: '',\n      open: false,\n      icon: null,\n      iconColor: null,\n      collapsible: null\n    };\n  },\n\n  components: {\n    SidebarItemAction: _SidebarItemAction2.default\n  },\n  methods: {\n    onClickItem: function onClickItem(evt) {\n      var _this = this;\n\n      this.component.isolate && evt.stopPropagation();\n      if (!this.component.isolate) {\n        this.$options.service.state.components.forEach(function (component) {\n          if (component !== _this.component) {\n            if (component.getOpen()) {\n              component.click({\n                open: component.isolate\n              });\n            }\n          }\n        });\n        !this.component.collapsible && isMobile.any && _eventbus2.default.$emit('sidebaritemclick');\n      }\n      this.component.setOpen(!this.component.state.open);\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.component.openClose = function () {\n      return _this2.$refs.anchor_click.click();\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.visible),expression:\"state.visible\"},{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.disabled),expression:\"state.disabled\"}],staticClass:\"treeview sidebaritem\",class:{'active': _vm.open},attrs:{\"id\":_vm.component.id}},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_c('a',{ref:\"anchor_click\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\"},attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onClickItem($event)}}},[_c('div',[_c('i',{class:_vm.icon,style:({color: _vm.iconColor})}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.title),expression:\"title\"}],staticClass:\"treeview-label\"})]),_vm._v(\" \"),_c('div',[(_vm.info.state)?_c('span',{class:_vm.info.class,staticStyle:{\"position\":\"absolute\",\"right\":\"5px\",\"font-weight\":\"bold\"},style:(_vm.info.style),attrs:{\"title\":_vm.info.tooltip}},[_vm._v(_vm._s(_vm.info.state))]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.actions),function(action){return _c('sidebar-item-action',{key:action.id,attrs:{\"component\":_vm.component.internalComponent,\"action\":action}})})],2),_vm._v(\" \"),(_vm.collapsible)?_c('i',{staticClass:\"pull-right\",class:_vm.g3wtemplate.getFontClass('angle-left')}):_vm._e()]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"g3w-sidebarcomponent-placeholder\"}})],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-2f606059\"\n\n},{\"components/SidebarItemAction.vue\":294,\"gui/sidebar/eventbus\":178}],294:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'Sidebaritemaction',\n  props: {\n    action: {\n      type: Object,\n      required: true\n    },\n    component: {\n      type: Object\n    }\n  },\n  methods: {\n    triggerAction: function triggerAction() {\n      this.action.fnc(this.component);\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:(_vm.action.tooltip),expression:\"action.tooltip\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"action skin-tooltip-left\",class:_vm.action.class,staticStyle:{\"font-weight\":\"bold\",\"padding\":\"3px\"},style:(_vm.action.style),on:{\"click\":function($event){$event.stopPropagation();return _vm.triggerAction($event)}}})}\n__vue__options__.staticRenderFns = []\n\n},{}],295:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _SpatialBookMarkItem = require(\"components/SpatialBookMarkItem.vue\");\n\nvar _SpatialBookMarkItem2 = _interopRequireDefault(_SpatialBookMarkItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = {\n  props: {\n    group: {\n      type: Object,\n\n      required: true\n    }\n  },\n  components: {\n    SpatialBookMarkItem: _SpatialBookMarkItem2.default\n  },\n  methods: {},\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('div',{staticStyle:{\"font-weight\":\"bold\",\"width\":\"100%\"},style:({borderBottom: _vm.group.expanded ? '2px solid #2c3b41' : 'none'}),on:{\"click\":function($event){$event.stopPropagation();_vm.group.expanded = !_vm.group.expanded}}},[_c('span',{class:[_vm.g3wtemplate.getFontClass(_vm.group.expanded ? 'caret-down' : 'caret-right')],staticStyle:{\"margin-right\":\"5px\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.group.name))])]),_vm._v(\" \"),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.group.expanded),expression:\"group.expanded\"}],staticStyle:{\"margin-left\":\"10px\"}},_vm._l((_vm.group.nodes),function(node){return _c('spatial-book-mark-item',{attrs:{\"bookmark\":node}})}),1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-07ff686a\"\n\n},{\"components/SpatialBookMarkItem.vue\":296}],296:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".spatial-bookmark[data-v-fab34912]{display:flex;align-items:baseline;justify-content:space-between;padding:5px!important}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nexports.default = {\n  props: {\n    bookmark: {\n      type: Object,\n\n      required: true\n    }\n  },\n  methods: {\n    removeBookMark: function removeBookMark() {},\n    gotoSpatialBookmark: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee(_ref) {\n        var extent = _ref.extent,\n            crs = _ref.crs;\n        var projection;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(_gui2.default.getService('map').getEpsg().split('EPSG:')[1] !== crs.epsg)) {\n                  _context.next = 5;\n                  break;\n                }\n\n                _context.next = 3;\n                return Projections.registerProjection('EPSG:' + crs.epsg);\n\n              case 3:\n                projection = _context.sent;\n\n                extent = ol.proj.transformExtent(extent, projection, _gui2.default.getService('map').getProjection());\n\n              case 5:\n                _gui2.default.getService('map').zoomToExtent(extent, { force: true });\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function gotoSpatialBookmark(_x) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return gotoSpatialBookmark;\n    }()\n  },\n  mounted: function () {\n    var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function mounted() {\n      return _ref3.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"spatial-bookmark\",on:{\"click\":function($event){$event.stopPropagation();return _vm.gotoSpatialBookmark(_vm.bookmark)}}},[_c('div',[_c('span',{class:_vm.g3wtemplate.getFontClass('bookmark'),staticStyle:{\"margin-right\":\"5px\",\"font-size\":\"0.7em\"}}),_vm._v(\" \"),_c('span',{staticClass:\"g3w-long-text\"},[_vm._v(_vm._s(_vm.bookmark.name))])]),_vm._v(\" \"),(_vm.bookmark.removable)?_c('span',{staticStyle:{\"color\":\"red\",\"margin\":\"5px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('remove-bookmark', _vm.bookmark.id)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('trash')})]):_vm._e()])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-fab34912\"\n\n},{\"g3w-ol/projection/projections\":110,\"services/gui\":356,\"vueify/lib/insert-css\":2}],297:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".content-bookmarks{font-weight:700;color:#fff;padding:5px;border-bottom:2px solid #fff;margin-bottom:5px}.container.add-bookmark-input p.error-input-message{color:#fff}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _SpatialBookMarkGroup = require('components/SpatialBookMarkGroup.vue');\n\nvar _SpatialBookMarkGroup2 = _interopRequireDefault(_SpatialBookMarkGroup);\n\nvar _SpatialBookMarkItem = require('components/SpatialBookMarkItem.vue');\n\nvar _SpatialBookMarkItem2 = _interopRequireDefault(_SpatialBookMarkItem);\n\nvar _InputText = require('components/InputText.vue');\n\nvar _InputText2 = _interopRequireDefault(_InputText);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar SPATIAL_BOOKMARKS_LOCALITEMS = _application2.default.getLocalItem(_constant.LOCAL_ITEM_IDS.SPATIALBOOKMARKS.id);\n\nexports.default = {\n  components: {\n    SpatialBookMarkGroup: _SpatialBookMarkGroup2.default,\n    SpatialBookMarkItem: _SpatialBookMarkItem2.default,\n    InputText: _InputText2.default\n  },\n  data: function data() {\n    if (\"undefined\" === typeof SPATIAL_BOOKMARKS_LOCALITEMS[_projects2.default.getCurrentProject().getId()]) {\n      SPATIAL_BOOKMARKS_LOCALITEMS[_projects2.default.getCurrentProject().getId()] = [];\n    }\n    return {\n      showaddform: false,\n\n      project: {\n        show: true,\n        bookmarks: _projects2.default.getCurrentProject().getSpatialBookmarks()\n      },\n      user: {\n        show: true,\n        bookmarks: SPATIAL_BOOKMARKS_LOCALITEMS[_projects2.default.getCurrentProject().getId()]\n      },\n      addbookmarkinput: {\n        name: 'add-bookmark',\n        label: t('sdk.spatialbookmarks.input.name'),\n        value: null,\n        editable: true,\n        type: 'varchar',\n        input: {\n          type: 'text',\n          options: {}\n        },\n        visible: true,\n        validate: {\n          valid: false,\n          required: true\n        }\n      }\n    };\n  },\n\n  methods: {\n    addBookMark: function addBookMark() {\n      this.user.bookmarks.push({\n        id: uniqueId(),\n        name: this.addbookmarkinput.value,\n        extent: _gui2.default.getService('map').getMapExtent(),\n        removable: true,\n        crs: {\n          epsg: 1 * _gui2.default.getService('map').getCrs().split('EPSG:')[1]\n        }\n      });\n      this.saveUserBookMarks();\n      this.showaddform = false;\n    },\n    removeBookMark: function removeBookMark(id) {\n      this.user.bookmarks = this.user.bookmarks.filter(function (bookmark) {\n        return bookmark.id !== id;\n      });\n      this.saveUserBookMarks();\n    },\n    saveUserBookMarks: function saveUserBookMarks() {\n      SPATIAL_BOOKMARKS_LOCALITEMS[_projects2.default.getCurrentProject().getId()] = this.user.bookmarks;\n      _application2.default.setLocalItem({\n        id: _constant.LOCAL_ITEM_IDS.SPATIALBOOKMARKS.id,\n        data: SPATIAL_BOOKMARKS_LOCALITEMS\n      });\n    },\n    showAddForm: function showAddForm() {\n      this.addbookmarkinput.value = null;\n      this.showaddform = true;\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    this.$on('close', function () {\n      _this.showaddform = false;\n    });\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"treeview-menu g3w-spatial-bookmarks menu-items\",class:{'g3w-tools': !_vm.showaddform},attrs:{\"id\":\"g3w-spatial-bookmarks\"}},[(_vm.showaddform)?[_c('li',[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"end\"}},[_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:left.create\",value:('close'),expression:\"'close'\",arg:\"left\",modifiers:{\"create\":true}}],staticClass:\"sidebar-button sidebar-button-icon\",class:_vm.g3wtemplate.getFontClass('close'),staticStyle:{\"padding\":\"5px\",\"margin\":\"3px\"},on:{\"click\":function($event){$event.stopPropagation();_vm.showaddform = false}}})]),_vm._v(\" \"),_c('helpdiv',{attrs:{\"message\":\"sdk.spatialbookmarks.helptext\"}}),_vm._v(\" \"),_c('div',{staticClass:\"container add-bookmark-input\",staticStyle:{\"padding\":\"5px\",\"width\":\"100%\"}},[_c('input-text',{attrs:{\"state\":_vm.addbookmarkinput}})],1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-top\":\"5px\"}},[_c('button',{directives:[{name:\"t\",rawName:\"v-t\",value:('add'),expression:\"'add'\"},{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.addbookmarkinput.validate.valid),expression:\"!addbookmarkinput.validate.valid\"}],staticClass:\"sidebar-button-run btn btn-block\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addBookMark($event)}}})])],1)]:[_c('div',{staticClass:\"content-bookmarks\"},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.spatialbookmarks.sections.project.title'),expression:\"'sdk.spatialbookmarks.sections.project.title'\"}]})]),_vm._v(\" \"),_vm._l((_vm.project.bookmarks),function(bookmark){return [(bookmark.nodes)?_c('spatial-book-mark-group',{attrs:{\"group\":bookmark}}):_c('spatial-book-mark-item',{attrs:{\"bookmark\":bookmark}})]}),_vm._v(\" \"),_c('div',{staticClass:\"content-bookmarks\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"margin-top\":\"10px\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('sdk.spatialbookmarks.sections.user.title'),expression:\"'sdk.spatialbookmarks.sections.user.title'\"}],staticStyle:{\"font-weight\":\"bold\",\"color\":\"#ffffff\"}}),_vm._v(\" \"),_c('span',{staticClass:\"sidebar-button sidebar-button-icon\",class:_vm.g3wtemplate.getFontClass('plus'),staticStyle:{\"padding\":\"5px\",\"cursor\":\"pointer\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showAddForm($event)}}})]),_vm._v(\" \"),_vm._l((_vm.user.bookmarks),function(bookmark){return _c('spatial-book-mark-item',{attrs:{\"bookmark\":bookmark},on:{\"remove-bookmark\":_vm.removeBookMark}})})]],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"app/constant\":5,\"components/InputText.vue\":248,\"components/SpatialBookMarkGroup.vue\":295,\"components/SpatialBookMarkItem.vue\":296,\"core/i18n/i18n.service\":14,\"core/utils/utils\":68,\"services/application\":346,\"services/gui\":356,\"store/projects\":374,\"vueify/lib/insert-css\":2}],298:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\"#streetview-error-key[data-v-06dad624]{display:flex;justify-content:center;align-items:center;font-weight:700;height:100%;padding:10px;background-color:#fff}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"streetview\"}},[(_vm.$options.keyError)?_c('div',{attrs:{\"id\":\"streetview-error-key\"}},[_c('span',{staticClass:\"skin-color\"},[_vm._v(\" \"+_vm._s(_vm.$options.keyError))])]):_vm._e()])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-06dad624\"\n\n},{\"vueify/lib/insert-css\":2}],299:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".geometry[data-v-b4d834d0]{cursor:pointer}#noheaders[data-v-b4d834d0]{background-color:#fff;font-weight:700;margin-top:10px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _TableBody = require('components/TableBody.vue');\n\nvar _TableBody2 = _interopRequireDefault(_TableBody);\n\nvar _TableSelectRow = require('components/TableSelectRow.vue');\n\nvar _TableSelectRow2 = _interopRequireDefault(_TableSelectRow);\n\nvar _TableToolbar = require('components/TableToolbar.vue');\n\nvar _TableToolbar2 = _interopRequireDefault(_TableToolbar);\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _mixins = require('mixins');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    debounce = _require.debounce;\n\nvar dataTable = void 0;\nvar fieldsComponents = [];\nvar eventHandlers = {\n  pagination: {},\n  nopagination: {}\n};\n\nexports.default = {\n  name: \"G3WTable\",\n  mixins: [_mixins.resizeMixin],\n  data: function data() {\n    return {\n      tableBodyComponent: null,\n      state: null,\n      table: null,\n      selectedRow: null\n    };\n  },\n\n  components: {\n    TableBody: _TableBody2.default\n  },\n  methods: {\n    getDataFromBBOX: function getDataFromBBOX() {\n      this.$options.service.getDataFromBBOX();\n    },\n    toggleFilterToken: function toggleFilterToken() {\n      this.$options.service.toggleFilterToken();\n    },\n    clearAllSelection: function clearAllSelection() {\n      this.$options.service.clearLayerSelection();\n    },\n    switchSelection: function switchSelection() {\n      this.$options.service.switchSelection();\n    },\n    selectAllRow: function selectAllRow() {\n      this.state.features.length && this.$options.service.selectAllFeatures();\n    },\n    _setLayout: function _setLayout() {\n      this.$options.service._setLayout();\n    },\n    zoomAndHighLightFeature: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(feature) {\n        var zoom = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!feature.geometry) {\n                  _context.next = 4;\n                  break;\n                }\n\n                this.$options.service.zoomAndHighLightFeature(feature, zoom);\n                _context.next = 6;\n                break;\n\n              case 4:\n                _context.next = 6;\n                return this.$options.service.zoomAndHighLightGeometryRelationFeatures(feature, zoom);\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function zoomAndHighLightFeature(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return zoomAndHighLightFeature;\n    }(),\n    addRemoveSelectedFeature: function addRemoveSelectedFeature(feature) {\n      this.$options.service.addRemoveSelectedFeature(feature);\n    },\n    reloadLayout: function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                dataTable && dataTable.columns.adjust();\n\n              case 3:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function reloadLayout() {\n        return _ref2.apply(this, arguments);\n      }\n\n      return reloadLayout;\n    }(),\n    hasHeaders: function hasHeaders() {\n      return !!this.state.headers.length;\n    },\n    createdContentBody: function createdContentBody() {\n      var _this = this;\n\n      fieldsComponents = fieldsComponents.filter(function (fieldComponent) {\n        fieldComponent.$destroy();\n        return false;\n      });\n      var trDomeElements = dataTable.rows().nodes();\n\n      trDomeElements.each(function (rowElement, index) {\n        $(rowElement).css('cursor', 'pointer');\n        if (_this.state.features.length) {\n          var feature = _this.state.features[index];\n          var hasGeometry = !!feature.geometry;\n          $(rowElement).addClass('feature_attribute');\n          feature.selected && $(rowElement).addClass('selected');\n          $(rowElement).on('click', function () {\n            return hasGeometry && _this.zoomAndHighLightFeature(feature);\n          });\n          $(rowElement).on('mouseover', function () {\n            return hasGeometry && _this.zoomAndHighLightFeature(feature, false);\n          });\n          $(rowElement).children().each(function (index, element) {\n            var header = _this.state.headers[index];\n            var contentDOM = void 0;\n            if (header === null) {\n              var SelectRowClass = Vue.extend(_TableSelectRow2.default);\n              var SelectRowInstance = new SelectRowClass({\n                propsData: {\n                  feature: feature\n                }\n              });\n              SelectRowInstance.$on('selected', function (feature) {\n                return _this.$options.service.addRemoveSelectedFeature(feature);\n              });\n              _this.$watch(function () {\n                return feature.selected;\n              }, function (selected) {\n                selected ? $(rowElement).addClass('selected') : $(rowElement).removeClass('selected');\n              });\n              contentDOM = SelectRowInstance.$mount().$el;\n            } else {\n              var fieldClass = Vue.extend(_FieldG3W2.default);\n              var fieldInstance = new fieldClass({\n                propsData: {\n                  state: {\n                    value: feature.attributes[header.name]\n                  }\n                }\n              });\n              fieldInstance.$mount();\n              fieldsComponents.push(fieldInstance);\n              contentDOM = fieldInstance.$el;\n            }\n            $(element).html(contentDOM);\n          });\n        }\n      });\n      setTimeout(function () {\n        return _this.reloadLayout();\n      }, 0);\n    },\n    resize: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n        var tableHeight, tableHeaderHeight;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                tableHeight = $(\".content\").height();\n                tableHeaderHeight = $('#open_attribute_table  div.dataTables_scrollHeadInner').height();\n\n                $('#open_attribute_table  div.dataTables_scrollBody').height(tableHeight - tableHeaderHeight - 130);\n\n              case 5:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function resize() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return resize;\n    }()\n  },\n  beforeCreate: function beforeCreate() {\n    this.delayType = 'debounce';\n  },\n  mounted: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee7() {\n      var _this2 = this;\n\n      var hideElements, commonDataTableOptions, debounceSearch, G3WTableToolbarClass, G3WTableToolbarInstance;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              this.setContentKey = _gui2.default.onafter('setContent', this.resize);\n\n              hideElements = function hideElements() {\n                $('.dataTables_info, .dataTables_length').hide();\n                $('.dataTables_paginate').css({\n                  'display': 'flex',\n                  'justify-content': 'space-between',\n                  'font-size': '0.8em',\n                  'margin-top': '5px'\n                });\n                $('.dataTables_filter').css('float', 'right');\n                $('.dataTables_paginate').css('margin', '0');\n              };\n\n              _context7.next = 4;\n              return this.$nextTick();\n\n            case 4:\n              this.first = false;\n              commonDataTableOptions = {\n                \"lengthMenu\": this.state.pageLengths,\n                \"pageLength\": this.state.pageLength,\n                \"scrollX\": true,\n                \"processing\": false,\n                \"scrollCollapse\": true,\n                \"sSearch\": false,\n                \"order\": [1, 'asc'],\n                \"dom\": 'l<\"#g3w-table-toolbar\">frtip',\n                \"columnDefs\": [{\n                  \"targets\": 0,\n                  \"orderable\": false,\n                  \"searchable\": false,\n                  \"width\": '1%'\n                }]\n              };\n\n              if (this.state.pagination) {\n                dataTable = $(this.$refs.attribute_table).DataTable(_extends({}, commonDataTableOptions, {\n                  \"columns\": this.state.headers,\n                  \"ajax\": debounce(function (data, callback) {\n                    var trDomeElements = $('#open_attribute_table table tr');\n                    trDomeElements.each(function (element) {\n                      $(element).off('click');\n                      $(element).off('mouseover');\n                    });\n                    _this2.$options.service.getData(data).then(function () {\n                      var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(serverData) {\n                        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                          while (1) {\n                            switch (_context4.prev = _context4.next) {\n                              case 0:\n                                callback(serverData);\n                                _context4.next = 3;\n                                return _this2.$nextTick();\n\n                              case 3:\n                                _this2.createdContentBody();\n                                _this2.isMobile() && hideElements();\n\n                              case 5:\n                              case 'end':\n                                return _context4.stop();\n                            }\n                          }\n                        }, _callee4, _this2);\n                      }));\n\n                      return function (_x3) {\n                        return _ref5.apply(this, arguments);\n                      };\n                    }()).catch(function (error) {\n                      console.log(error);\n                    });\n                  }, 800),\n                  \"serverSide\": true,\n                  \"deferLoading\": this.state.allfeatures\n                }));\n                this.$options.service.on('ajax-reload', dataTable.ajax.reload);\n                this.changeColumn = debounce(function () {\n                  var _ref6 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(event, index) {\n                    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n                      while (1) {\n                        switch (_context5.prev = _context5.next) {\n                          case 0:\n                            dataTable.columns(index).search(event.target.value.trim()).draw();\n\n                          case 1:\n                          case 'end':\n                            return _context5.stop();\n                        }\n                      }\n                    }, _callee5, _this2);\n                  }));\n\n                  return function (_x4, _x5) {\n                    return _ref6.apply(this, arguments);\n                  };\n                }());\n              } else {\n                dataTable = $(this.$refs.attribute_table).DataTable(_extends({}, commonDataTableOptions, {\n                  searchDelay: 600\n                }));\n                debounceSearch = debounce(function () {\n                  _this2.$options.service.setFilteredFeature(dataTable.rows({ search: 'applied' })[0]);\n                }, 600);\n\n                eventHandlers.nopagination['search.dt'] = debounceSearch;\n                dataTable.on('search.dt', debounceSearch);\n                dataTable.on('length.dt', function (evt, settings, length) {\n                  _this2.$options.service.setAttributeTablePageLength(length);\n                });\n                this.changeColumn = debounce(function () {\n                  var _ref7 = _asyncToGenerator(regeneratorRuntime.mark(function _callee6(event, index) {\n                    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n                      while (1) {\n                        switch (_context6.prev = _context6.next) {\n                          case 0:\n                            dataTable.columns(index).search(event.target.value.trim()).draw();\n                            _this2.$options.service.setFilteredFeature(dataTable.rows({ search: 'applied' })[0]);\n\n                          case 2:\n                          case 'end':\n                            return _context6.stop();\n                        }\n                      }\n                    }, _callee6, _this2);\n                  }));\n\n                  return function (_x6, _x7) {\n                    return _ref7.apply(this, arguments);\n                  };\n                }());\n              }\n\n              this.isMobile() && hideElements();\n\n              G3WTableToolbarClass = Vue.extend(_TableToolbar2.default);\n              G3WTableToolbarInstance = new G3WTableToolbarClass({\n                propsData: {\n                  tools: this.state.tools,\n                  geolayer: this.state.geolayer,\n                  switchSelection: this.switchSelection,\n                  clearAllSelection: this.clearAllSelection,\n                  toggleFilterToken: this.toggleFilterToken,\n                  getDataFromBBOX: this.getDataFromBBOX\n                }\n              });\n\n\n              $('#g3w-table-toolbar').html(G3WTableToolbarInstance.$mount().$el);\n\n              this.$options.service.on('redraw', function (data) {\n                dataTable.clear();\n                dataTable.draw(false);\n                setTimeout(function () {\n                  dataTable.rows.add(data);\n                  dataTable.draw(false);\n                  _this2.createdContentBody();\n                  _this2.isMobile() && hideElements();\n                });\n              });\n\n            case 12:\n            case 'end':\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }));\n\n    function mounted() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.$options.service.clear();\n    this.$options.service.off('ajax-reload');\n    this.$options.service.off('redraw');\n    _gui2.default.un('setContent', this.setContentKey);\n    dataTable.destroy(true);\n    dataTable = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-top\":\"5px\"},attrs:{\"id\":\"open_attribute_table\"}},[(_vm.hasHeaders())?_c('table',{ref:\"attribute_table\",staticClass:\"table table-striped row-border compact nowrap\",staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"layer_attribute_table\"}},[_c('thead',[_c('tr',[_c('th'),_vm._v(\" \"),_vm._l((_vm.state.headers),function(header,index){return (index > 0)?_c('th',[_c('input',{staticClass:\"form-control column-search\",staticStyle:{\"height\":\"25px\",\"min-width\":\"40px\",\"padding\":\"2px\"},attrs:{\"type\":\"text\",\"placeholder\":header.name},on:{\"keyup\":function($event){return _vm.changeColumn($event, index)}}})]):_vm._e()})],2),_vm._v(\" \"),_c('tr',_vm._l((_vm.state.headers),function(header,index){return _c('th',[(index === 0)?_c('span',[_c('input',{staticClass:\"magic-checkbox\",attrs:{\"type\":\"checkbox\",\"id\":\"attribute_table_select_all_rows\",\"disabled\":_vm.state.nofilteredrow || _vm.state.features.length === 0},domProps:{\"checked\":_vm.state.selectAll}}),_vm._v(\" \"),_c('label',{staticStyle:{\"margin-bottom\":\"0 !important\"},attrs:{\"for\":\"attribute_table_select_all_rows\"},on:{\"!click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.selectAllRow($event)}}},[_c('span',{staticStyle:{\"padding\":\"5px\"}})])]):_c('span',[_vm._v(_vm._s(header.label))])])}),0)]),_vm._v(\" \"),_c('table-body',{attrs:{\"headers\":_vm.state.headers,\"filter\":_vm.state.tools.filter,\"features\":_vm.state.features,\"addRemoveSelectedFeature\":_vm.addRemoveSelectedFeature,\"zoomAndHighLightFeature\":_vm.zoomAndHighLightFeature}})],1):_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('dataTable.no_data'),expression:\"'dataTable.no_data'\"}],attrs:{\"id\":\"noheaders\"}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-b4d834d0\"\n\n},{\"components/FieldG3W.vue\":205,\"components/TableBody.vue\":300,\"components/TableSelectRow.vue\":301,\"components/TableToolbar.vue\":302,\"core/utils/utils\":68,\"mixins\":338,\"services/gui\":356,\"vueify/lib/insert-css\":2}],300:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _TableSelectRow = require('components/TableSelectRow.vue');\n\nvar _TableSelectRow2 = _interopRequireDefault(_TableSelectRow);\n\nvar _FieldG3W = require('components/FieldG3W.vue');\n\nvar _FieldG3W2 = _interopRequireDefault(_FieldG3W);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"table-body\",\n  props: {\n    headers: {\n      required: true,\n      type: Array\n    },\n    features: {\n      required: true,\n      type: Array\n    },\n    zoomAndHighLightFeature: {\n      type: Function\n    },\n    addRemoveSelectedFeature: {\n      type: Function\n    },\n    filter: {\n      type: Object,\n      default: {\n        active: false\n      }\n    }\n  },\n  data: function data() {\n    return {\n      selectedRow: null\n    };\n  },\n\n  components: {\n    Field: _FieldG3W2.default,\n    SelectRow: _TableSelectRow2.default\n  },\n  methods: {\n    getField: function getField(feature, header) {\n      return {\n        value: feature.attributes[header.name],\n        label: undefined };\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tbody',{attrs:{\"id\":\"table_body_attributes\"}},_vm._l((_vm.features),function(feature,index){return _c('tr',{key:feature.id,staticClass:\"feature_attribute\",class:[index %2 == 1 ? 'odd' : 'pair', {geometry: !!feature.geometry}, {'selected': feature.selected}],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"role\":\"row\",\"selected\":_vm.selectedRow === index},on:{\"mouseover\":function($event){return _vm.zoomAndHighLightFeature(feature, false)},\"click\":function($event){return _vm.zoomAndHighLightFeature(feature, true)}}},_vm._l((_vm.headers),function(header,hindex){return _c('td',{attrs:{\"tab-index\":1}},[(hindex===0)?_c('select-row',{attrs:{\"feature\":feature},on:{\"selected\":_vm.addRemoveSelectedFeature}}):_c('field',{attrs:{\"feature\":feature,\"state\":_vm.getField(feature, header)}})],1)}),0)}),0)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-521d3b4c\"\n\n},{\"components/FieldG3W.vue\":205,\"components/TableSelectRow.vue\":301}],301:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _require = require('core/utils/utils'),\n    getUniqueDomId = _require.getUniqueDomId;\n\nexports.default = {\n  name: \"select-row\",\n  props: {\n    feature: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {\n      id: getUniqueDomId()\n    };\n  },\n\n  methods: {\n    select: function select() {\n      this.$emit('selected', this.feature);\n    }\n  },\n  destroyed: function destroyed() {\n    this.$off('selected');\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('input',{staticClass:\"magic-checkbox\",attrs:{\"type\":\"checkbox\",\"id\":_vm.id},domProps:{\"checked\":_vm.feature.selected}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":_vm.id},on:{\"!click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.select($event)}}},[_c('span')])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-f4034894\"\n\n},{\"core/utils/utils\":68}],302:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".action-button[data-v-4f671d73]{padding:4px}.action-button.toggled[data-v-4f671d73]{border:1px solid #ccc}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require(\"store/application-state\");\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  name: \"g3w-table-toolbar\",\n  props: {\n    tools: {\n      type: Object\n    },\n    switchSelection: {\n      type: Function\n    },\n    clearAllSelection: {\n      type: Function\n    },\n    toggleFilterToken: {\n      type: Function\n    },\n    getDataFromBBOX: {\n      type: Function\n    }\n  },\n  computed: {\n    disableMapTool: function disableMapTool() {\n      return !this.tools.geolayer.active && _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel.height_100;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"padding\":\"1px\"}},[(_vm.tools.geolayer.show)?_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.disableMapTool),expression:\"disableMapTool\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.show_features_on_map'),expression:\"'layer_selection_filter.tools.show_features_on_map'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('map'), _vm.tools.geolayer.active ? 'toggled' : ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.getDataFromBBOX($event)}}}):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.clear'),expression:\"'layer_selection_filter.tools.clear'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:_vm.g3wtemplate.getFontClass('clear'),attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.clearAllSelection($event)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.invert'),expression:\"'layer_selection_filter.tools.invert'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('invert'), _vm.tools.filter.active ? 'g3w-disabled': ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.switchSelection($event)}}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tools.show),expression:\"tools.show\"},{name:\"t-tooltip\",rawName:\"v-t-tooltip.create\",value:('layer_selection_filter.tools.filter'),expression:\"'layer_selection_filter.tools.filter'\",modifiers:{\"create\":true}}],staticClass:\"skin-color action-button skin-tooltip-right\",class:[_vm.g3wtemplate.getFontClass('filter'), _vm.tools.filter.active ? 'toggled' : ''],attrs:{\"data-placement\":\"right\",\"data-toggle\":\"tooltip\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleFilterToken($event)}}})])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-4f671d73\"\n\n},{\"store/application-state\":368,\"vueify/lib/insert-css\":2}],303:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".tool_disabled[data-v-31811884]{cursor:not-allowed}.tool_disabled>span[data-v-31811884]{color:#777}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar AppState = _application2.default.getState();\n\nvar TOOLSTATE = {\n  alert: {\n    color: 'red'\n  },\n  info: {\n    color: 'blue'\n  },\n  warning: {\n    color: 'orange'\n  }\n};\n\nexports.default = {\n  name: \"g3w-tool\",\n  props: {\n    tool: {\n      required: true\n    }\n  },\n  data: function data() {\n    return {};\n  },\n\n  methods: {\n    fireAction: function fireAction(tool) {\n      this.tool.action(tool);\n    },\n    showToolStateMessage: function showToolStateMessage() {\n      _gui2.default.showModalDialog({\n        title: this.tool.state.type.toUpperCase(),\n        message: this.tool.state.message\n      });\n    }\n  },\n  computed: {\n    disabled: function disabled() {\n      return !this.tool.offline && !AppState.online || this.tool.loading || this.tool.disabled;\n    },\n    icon: function icon() {\n      return this.tool.icon || 'caret-right';\n    },\n    toolstatecolor: function toolstatecolor() {\n      return TOOLSTATE[this.tool.state.type].color;\n    }\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.tool.type === 'checkbox' )?_c('div',{staticClass:\"checkbox\"},[_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tool.isCheck),expression:\"tool.isCheck\"}],staticStyle:{\"cursor\":\"pointer\"},attrs:{\"id\":_vm.tool.layerName,\"type\":\"checkbox\"},domProps:{\"value\":_vm.tool.layerName,\"checked\":Array.isArray(_vm.tool.isCheck)?_vm._i(_vm.tool.isCheck,_vm.tool.layerName)>-1:(_vm.tool.isCheck)},on:{\"click\":function($event){return _vm.fireAction(_vm.tool)},\"change\":function($event){var $$a=_vm.tool.isCheck,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=_vm.tool.layerName,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.tool, \"isCheck\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.tool, \"isCheck\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.tool, \"isCheck\", $$c)}}}}),_vm._v(\"\\n      \"+_vm._s(_vm.tool.name)+\"\\n    \")])]):_c('div',{staticClass:\"tool\",class:{tool_disabled: _vm.disabled},staticStyle:{\"position\":\"relative\"},on:{\"click\":function($event){!_vm.disabled ? _vm.fireAction(_vm.tool) : null}}},[_c('bar-loader',{attrs:{\"loading\":_vm.tool.loading}}),_vm._v(\" \"),_c('i',{class:_vm.g3wtemplate.getFontClass(_vm.icon)}),_vm._v(\" \"),(_vm.tool.html)?_c('span',[_c('i',{class:_vm.tool.html.icon}),_vm._v(\"\\n      \"+_vm._s(_vm.tool.html.text || _vm.tool.name)+\"\\n    \")]):_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.tool.name),expression:\"tool.name\"}]}),_vm._v(\" \"),(_vm.tool.state.type)?_c('span',{staticStyle:{\"cursor\":\"pointer\",\"vertical-align\":\"center\",\"position\":\"absolute\",\"right\":\"0\",\"top\":\"0\",\"padding\":\"5px\"},style:({color: _vm.toolstatecolor}),on:{\"click\":function($event){$event.stopPropagation();return _vm.showToolStateMessage($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass(_vm.tool.state.type)})]):_vm._e()],1)])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-31811884\"\n\n},{\"services/application\":346,\"services/gui\":356,\"vueify/lib/insert-css\":2}],304:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Tool = require('components/Tool.vue');\n\nvar _Tool2 = _interopRequireDefault(_Tool);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  },\n\n  watch: {\n    'state.toolsGroups': {\n      handler: function handler(groups) {\n        this.$emit('visible', groups.length > 0);\n      }\n    }\n  },\n  components: {\n    G3wTool: _Tool2.default\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"g3w-tools treeview-menu\"},[_c('bar-loader',{attrs:{\"loading\":_vm.state.loading}}),_vm._v(\" \"),_vm._l((_vm.state.toolsGroups),function(group){return _c('li',{key:group.name},[_c('div',{staticClass:\"tool-header\"},[_c('i',{class:_vm.g3wtemplate.getFontClass('tool')}),_vm._v(\" \"),_c('span',{},[_vm._v(_vm._s(group.name))])]),_vm._v(\" \"),_c('div',{staticClass:\"tool-box\",attrs:{\"id\":group.name + '-tools'}},_vm._l((group.tools),function(tool){return _c('g3w-tool',{key:tool.name,attrs:{\"tool\":tool}})}),1)])})],2)}\n__vue__options__.staticRenderFns = []\n\n},{\"components/Tool.vue\":303}],305:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".usermessage-content[data-v-57c4f706]{color:#fff;z-index:1000;position:absolute;line-height:normal;padding:3px;min-width:250px;box-shadow:0 3px 5px rgba(0,0,0,.3);-moz-box-shadow:0 3px 5px rgba(0,0,0,.3)}.usermessage-content.mobile[data-v-57c4f706]{padding:0;min-width:100%}.usermessage-header-content[data-v-57c4f706]{display:flex;align-items:baseline;justify-content:space-between;width:100%}.usermessage-header-icontype[data-v-57c4f706]{padding:10px 0 0 5px;font-weight:700;font-size:1.3em}.usermessage-content.mobile .usermessage-header-icontype[data-v-57c4f706]{padding:0 0 0 5px;font-size:1.1em}.usermessage-header-title[data-v-57c4f706],.usermessage-header-title h4[data-v-57c4f706]{font-weight:700;text-align:center}.usermessage-content.mobile .usermessage-header-title h4[data-v-57c4f706]{margin:0}.usermessage-header-subtitle[data-v-57c4f706]{font-weight:700;margin:5px}.usermessage-header-right[data-v-57c4f706]{padding:5px}.usermessage-header-right-item[data-v-57c4f706]{font-weight:700!important;font-size:1.2em;cursor:pointer}.usermessage-message[data-v-57c4f706]{width:100%;padding:0 0 3px 10px;max-height:100px;font-size:1.1em;align-self:flex-start;overflow-y:auto}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar COLORS = {\n  success: {\n    backgroundColor: '#62ac62',\n    color: '#FFFFFF'\n  },\n  info: {\n    backgroundColor: '#44a0bb',\n    color: '#FFFFFF'\n  },\n  warning: {\n    backgroundColor: '#f29e1d',\n    color: '#FFFFFF'\n  },\n  alert: {\n    backgroundColor: '#c34943',\n    color: '#FFFFFF'\n  },\n  tool: {\n    backgroundColor: '#FFFFFF',\n    color: \"#222d32\"\n  },\n  loading: {\n    backgroundColor: '#FFFFFF',\n    color: \"#222d32\",\n    fontWeight: \"bold\"\n  }\n};\n\nvar STYLES = {\n  success: {},\n  info: {},\n  warning: {},\n  alert: {},\n  tool: {\n    \"z-index\": _constant.ZINDEXES.usermessage.tool,\n    left: \"40px\"\n  },\n  loading: {}\n};\n\nexports.default = {\n  name: \"usermessage\",\n  props: {\n    id: {},\n    type: {\n      type: String,\n      default: 'info' },\n    title: {\n      type: String,\n      default: null\n    },\n    subtitle: {\n      type: String,\n      default: null\n    },\n    position: {\n      type: String,\n      default: 'top'\n    },\n    size: {\n      type: 'String',\n      default: 'fullpage'\n    },\n    message: {\n      type: String,\n      default: ''\n    },\n    textMessage: {\n      type: Boolean,\n      default: false\n    },\n    autoclose: {\n      type: Boolean,\n      default: false\n    },\n    draggable: {\n      type: Boolean,\n      default: false\n    },\n    duration: {\n      type: Number,\n      default: 2000\n    },\n    closable: {\n      type: Boolean,\n      default: true\n    }\n  },\n  computed: {\n    showheader: function showheader() {\n      return this.type !== 'loading';\n    }\n  },\n  methods: {\n    addClassMobile: function addClassMobile() {\n      return this.isMobile() && !_gui2.default.isSidebarVisible();\n    },\n    closeUserMessage: function closeUserMessage() {\n      this.$emit('close-usermessage');\n    },\n    hideShow: function hideShow() {}\n  },\n  created: function created() {\n    var _position$split = this.position.split('-'),\n        _position$split2 = _slicedToArray(_position$split, 2),\n        where = _position$split2[0],\n        alignement = _position$split2[1];\n\n    var width = '100%';\n    switch (this.size) {\n      case 'small':\n        width = '25%';\n        break;\n      case 'medium':\n        width = '50%';\n        break;\n      case 'fullpage':\n      default:\n        width = '100%';\n    }\n    if (where === 'center') where = {\n      top: 0,\n      bottom: 0,\n      maxHeight: '20%'\n    };else {\n      where = _defineProperty({}, where, 50);\n    }\n    var position = _extends({}, where, {\n      width: width\n    });\n    if (alignement) {\n      position.width = '25%';\n      switch (alignement) {\n        case 'center':\n          position.left = '0';\n          position.right = '0';\n          position.margin = 'auto';\n          break;\n        case 'right':\n          position.right = 0;\n          break;\n      }\n    }\n    this.style = _extends({}, COLORS[this.type], position, STYLES[this.type]);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this = this;\n\n      var timeout;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!this.autoclose) {\n                _context.next = 4;\n                break;\n              }\n\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              timeout = setTimeout(function () {\n                _this.closeUserMessage();\n                clearTimeout(timeout);\n              }, this.duration);\n\n            case 4:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"usermessage-content\",class:{'mobile': _vm.addClassMobile()},style:(_vm.style),attrs:{\"id\":_vm.id}},[(_vm.showheader)?_c('div',{staticClass:\"usermessage-header-content\"},[_c('i',{staticClass:\"usermessage-header-icontype\",class:_vm.g3wtemplate.getFontClass(_vm.type)}),_vm._v(\" \"),_c('div',{staticClass:\"usermessage-header-title\"},[_vm._t(\"header\",[(_vm.title)?_c('h4',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.title),expression:\"title\"}]}):_c('h4',[_vm._v(\" \"+_vm._s(_vm.type.toUpperCase()))]),_vm._v(\" \"),(_vm.subtitle)?_c('h5',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.subtitle),expression:\"subtitle\"}],staticClass:\"usermessage-header-subtitle\"}):_vm._e()])],2),_vm._v(\" \"),_c('div',{staticClass:\"usermessage-header-right\"},[(!_vm.autoclose && _vm.closable)?_c('div',{on:{\"click\":_vm.closeUserMessage}},[_c('i',{staticClass:\"usermessage-header-right-item\",class:_vm.g3wtemplate.getFontClass('close')})]):_vm._e()])]):_vm._e(),_vm._v(\" \"),_vm._t(\"body\",[(_vm.textMessage)?_c('div',{staticClass:\"usermessage-message\"},[_vm._v(_vm._s(_vm.message))]):_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.message),expression:\"message\"}],staticClass:\"usermessage-message\"})]),_vm._v(\" \"),_vm._t(\"footer\")],2)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-57c4f706\"\n\n},{\"app/constant\":5,\"services/gui\":356,\"vueify/lib/insert-css\":2}],306:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".content_breadcrumb[data-v-466a54cc]{font-size:1.2em;padding:0 3px;border-radius:3px}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _UserMessage = require('components/UserMessage.vue');\n\nvar _UserMessage2 = _interopRequireDefault(_UserMessage);\n\nvar _NotifyOnline = require('components/NotifyOnline.vue');\n\nvar _NotifyOnline2 = _interopRequireDefault(_NotifyOnline);\n\nvar _NotifyDownload = require('components/NotifyDownload.vue');\n\nvar _NotifyDownload2 = _interopRequireDefault(_NotifyDownload);\n\nvar _NotifyPlugins = require('components/NotifyPlugins.vue');\n\nvar _NotifyPlugins2 = _interopRequireDefault(_NotifyPlugins);\n\nvar _constant = require('app/constant');\n\nvar _viewport = require('services/viewport');\n\nvar _viewport2 = _interopRequireDefault(_viewport);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nexports.default = {\n  name: \"Viewport\",\n  props: {\n    appState: {\n      type: Object\n    }\n  },\n  components: {\n    userMessage: _UserMessage2.default,\n    onlineNotify: _NotifyOnline2.default,\n    downloadNotify: _NotifyDownload2.default,\n    pluginsNotify: _NotifyPlugins2.default\n  },\n  data: function data() {\n    return {\n      state: _viewport2.default.state,\n      updatePreviousTitle: false,\n      media: {\n        matches: true\n      }\n    };\n  },\n\n  computed: {\n    breadcrumb: function breadcrumb() {\n      return this.state.content.contentsdata.filter(function (content) {\n        return content.options.crumb;\n      }).map(function (content) {\n        return content.options.crumb;\n      });\n    },\n    showresize: function showresize() {\n      var currentPerc = _viewport2.default.getCurrentContentLayout()[this.state.split === 'h' ? 'width' : 'height'];\n      return this.state.resized.start && this.state.secondaryPerc > 0 && this.state.secondaryPerc < 100 && currentPerc < 100 && currentPerc > 0;\n    },\n    showresizeicon: function showresizeicon() {\n      return this.state.secondaryPerc !== 100;\n    },\n    hooks: function hooks() {\n      return this.usermessage.hooks;\n    },\n    usermessage: function usermessage() {\n      return this.state.usermessage;\n    },\n    showtitle: function showtitle() {\n      var showtitle = true;\n      var contentsData = this.state.content.contentsdata;\n      if (contentsData.length) {\n        var options = contentsData[contentsData.length - 1].options;\n        if (_.isBoolean(options.showtitle)) showtitle = options.showtitle;\n      }\n      return showtitle;\n    },\n    showContent: function showContent() {\n      return this.state.content.show;\n    },\n    styles: function styles() {\n      return {\n        map: {\n          width: this.state.map.sizes.width + 'px',\n          height: this.state.map.sizes.height + 'px'\n        },\n        content: {\n          width: this.state.content.sizes.width + 'px',\n          height: this.state.content.sizes.height + 'px',\n          zIndex: _constant.ZINDEXES.usermessage.tool + 1,\n          minHeight: this.state.split === 'v' ? _constant.VIEWPORT.resize.content.min + 'px' : null\n        }\n      };\n    },\n    contentTitle: function contentTitle() {\n      var contentsData = this.state.content.contentsdata;\n      if (contentsData.length) {\n        var _contentsData$options = contentsData[contentsData.length - 1].options,\n            title = _contentsData$options.title,\n            post_title = _contentsData$options.post_title;\n\n        return { title: title, post_title: post_title };\n      }\n    },\n    backOrBackTo: function backOrBackTo() {\n      var contentsData = this.state.content.contentsdata;\n      return contentsData.length > 1 && this.state.content.showgoback ? !contentsData[contentsData.length - 2].options.title ? 'back' : 'backto' : false;\n    },\n    previousTitle: function previousTitle() {\n      var _this = this;\n\n      var contentsData = this.state.content.contentsdata;\n      var title = contentsData.length > 1 && this.state.content.showgoback ? contentsData[contentsData.length - 2].options.title : null;\n      this.updatePreviousTitle = true;\n      this.$nextTick(function () {\n        return _this.updatePreviousTitle = false;\n      });\n      return title;\n    }\n  },\n  methods: {\n    isNotLastCrumb: function isNotLastCrumb(index) {\n      return index < this.breadcrumb.length - 1;\n    },\n    closeContent: function closeContent() {\n      _gui2.default.closeContent();\n    },\n    closeMap: function closeMap() {\n      _viewport2.default.closeMap();\n    },\n    gotoPreviousContent: function gotoPreviousContent() {\n      _gui2.default.popContent();\n    },\n    closeUserMessage: function closeUserMessage() {\n      _gui2.default.closeUserMessage();\n    },\n    moveFnc: function moveFnc(evt) {\n      var size = this.state.split === 'h' ? 'width' : 'height';\n      evt.preventDefault();\n      var sidebarHeaderSize = size === 'width' ? $('.sidebar-collapse').length ? 0 : _viewport2.default.SIDEBARWIDTH : $('#main-navbar').height();\n      var viewPortSize = $(this.$el)[size]();\n      var mapSize = (size === 'width' ? evt.pageX + 2 : evt.pageY + 2) - sidebarHeaderSize;\n      if (mapSize > viewPortSize - _constant.VIEWPORT.resize.content.min) mapSize = viewPortSize - _constant.VIEWPORT.resize.content.min;else if (mapSize < _constant.VIEWPORT.resize.map.min) mapSize = _constant.VIEWPORT.resize.map.min;\n      var contentSize = viewPortSize - mapSize;\n      var resizePercentageMap = Math.round(mapSize / viewPortSize * 100);\n      var resizePercentageContent = 100 - resizePercentageMap;\n      _viewport2.default.resizeViewComponents(this.state.split, {\n        map: _defineProperty({}, size, mapSize),\n        content: _defineProperty({}, size, contentSize)\n      }, resizePercentageContent);\n    }\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this2 = this;\n\n      var handleResizeViewport, mediaQueryEventMobile;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              handleResizeViewport = function handleResizeViewport() {\n                _this2.state.resized.start = true;\n              };\n\n              _context.next = 3;\n              return this.$nextTick();\n\n            case 3:\n              mediaQueryEventMobile = window.matchMedia(\"(min-height: 300px)\");\n\n              this.media.matches = mediaQueryEventMobile.matches;\n              mediaQueryEventMobile.addListener(function (event) {\n                if (event.type === 'change') _this2.media.matches = event.currentTarget.matches;\n              });\n              handleResizeViewport();\n\n            case 7:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"g3w-viewport\"},[_c('transition',{attrs:{\"name\":\"fade\",\"duration\":{ enter: 500, leave: 500 }}},[(_vm.usermessage.show)?_c('user-message',{attrs:{\"title\":_vm.usermessage.title,\"subtitle\":_vm.usermessage.subtitle,\"id\":_vm.usermessage.id,\"message\":_vm.usermessage.message,\"draggable\":_vm.usermessage.draggable,\"closable\":_vm.usermessage.closable,\"duration\":_vm.usermessage.duration,\"position\":_vm.usermessage.position,\"autoclose\":_vm.usermessage.autoclose,\"textMessage\":_vm.usermessage.textMessage,\"size\":_vm.usermessage.size,\"type\":_vm.usermessage.type},on:{\"close-usermessage\":_vm.closeUserMessage}},[(_vm.hooks.header)?_c('template',{slot:\"header\"},[_c(_vm.hooks.header,{tag:\"component\"})],1):_vm._e(),_vm._v(\" \"),(_vm.hooks.body)?_c('template',{slot:\"body\"},[_c(_vm.hooks.body,{tag:\"component\"})],1):_vm._e(),_vm._v(\" \"),(_vm.hooks.footer)?_c('template',{slot:\"footer\"},[_c(_vm.usermessage.hooks.footer,{tag:\"component\"})],1):_vm._e()],2):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"g3w-view map\",class:(\"split-\" + (_vm.state.split)),style:(_vm.styles.map),attrs:{\"id\":\"g3w-view-map\"}},[_c('g3w-resize',{class:(\"split-\" + (_vm.state.split)),style:({backgroundColor:'transparent'}),attrs:{\"id\":\"resize-map-and-content\",\"show\":_vm.showresize,\"moveFnc\":_vm.moveFnc,\"orientation\":_vm.state.split}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"application-notifications\"}},[_c('online-notify'),_vm._v(\" \"),_c('download-notify'),_vm._v(\" \"),_c('plugins-notify')],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.state.content.disabled),expression:\"state.content.disabled\"}],staticClass:\"g3w-view content\",class:(\"split-\" + (_vm.state.split)),style:(_vm.styles.content),attrs:{\"id\":\"g3w-view-content\"}},[(_vm.breadcrumb.length > 1)?_c('section',{ref:_vm.breadcrumb,staticClass:\"content_breadcrumb\"},_vm._l((_vm.breadcrumb),function(crumb,index){return _c('span',{key:crumb.title},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(crumb.title),expression:\"crumb.title\"}],staticClass:\"skin-color-dark\",style:({fontWeight: _vm.isNotLastCrumb(index) ? 'bold' : 'normal'})}),_vm._v(\" \"),(_vm.isNotLastCrumb(index))?_c('span',{staticStyle:{\"font-weight\":\"bold\",\"margin\":\"3px 0\"}},[_vm._v(\"/\")]):_vm._e()])}),0):_vm._e(),_vm._v(\" \"),((_vm.showtitle && _vm.contentTitle) || _vm.previousTitle || (_vm.state.content.closable && _vm.state.content.aside))?_c('div',{staticClass:\"close-panel-block\",staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\"}},[(_vm.previousTitle)?_c('div',{staticClass:\"g3w_contents_back g3w-long-text\"},[(_vm.backOrBackTo === 'back')?_c('div',{class:_vm.backOrBackTo},[_c('span',{staticClass:\"action-button\",class:_vm.g3wtemplate.getFontClass('back')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('back'),expression:\"'back'\"}]})]):_c('div',{class:_vm.backOrBackTo,on:{\"click\":function($event){$event.stopPropagation();return _vm.gotoPreviousContent()}}},[_c('span',{staticClass:\"action-button\",class:_vm.g3wtemplate.getFontClass('back')}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:('backto'),expression:\"'backto'\"}]}),_vm._v(\" \"),(!_vm.updatePreviousTitle)?_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.previousTitle),expression:\"previousTitle\"}]}):_vm._e()])]):_vm._e(),_vm._v(\" \"),(!_vm.previousTitle && _vm.showtitle && _vm.contentTitle)?_c('div',{staticClass:\"panel-title\",class:{'mobile': _vm.isMobile()},style:([_vm.state.content.style.title])},[_c('span',{attrs:{\"id\":\"contenttitle\"}},[_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.contentTitle.title),expression:\"contentTitle.title\"}]}),_vm._v(\" \"),_c('span',{directives:[{name:\"t\",rawName:\"v-t\",value:(_vm.contentTitle.post_title),expression:\"contentTitle.post_title\"}]})])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"g3-content-header-action-tools\",staticStyle:{\"display\":\"flex\"}},[_vm._l((_vm.state.content.headertools),function(tool){return _c(tool,{tag:\"component\"})}),_vm._v(\" \"),(_vm.showresizeicon)?_c('resize-icon',{staticStyle:{\"font-size\":\"1em\",\"padding\":\"0\",\"align-self\":\"center\",\"margin-left\":\"auto\"},style:({marginRight: _vm.state.content.closable ? '5px': '0px'}),attrs:{\"type\":_vm.state.split}}):_vm._e(),_vm._v(\" \"),(_vm.state.content.closable && _vm.state.content.aside)?_c('span',{staticClass:\"action-button\",class:{'mobile': _vm.isMobile()},staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\"},on:{\"click\":_vm.closeContent}},[_c('i',{staticClass:\"skin-color-dark\",class:_vm.g3wtemplate.getFontClass('close')})]):_vm._e()],2)]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.state.content.loading),expression:\"state.content.loading\"}],staticClass:\"bar-loader\"})])],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-466a54cc\"\n\n},{\"app/constant\":5,\"components/NotifyDownload.vue\":266,\"components/NotifyOnline.vue\":267,\"components/NotifyPlugins.vue\":268,\"components/UserMessage.vue\":305,\"services/gui\":356,\"services/viewport\":366,\"vueify/lib/insert-css\":2}],307:[function(require,module,exports){\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  data: function data() {\n    return {\n      state: null\n    };\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"contents\",attrs:{\"id\":\"contents\"}})}\n__vue__options__.staticRenderFns = []\n\n},{}],308:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-add-wms-url-message[data-v-965f11b2]{font-weight:700;color:#000}.g3w-wmsurl-error[data-v-965f11b2]{background-color:red}.g3w-wmsurl-already-added[data-v-965f11b2]{background-color:orange}.wms_url_input_content[data-v-965f11b2]{margin-bottom:5px}.wms-icon-action[data-v-965f11b2]{font-weight:700;font-size:1.3em;box-shadow:0 5px 10px #1e282c}.wms-icon-action[data-v-965f11b2]:hover{box-shadow:none}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    isURL = _require.isURL;\n\nexports.default = {\n  name: \"sidebaritem\",\n  data: function data() {\n    return {\n      url: null,\n      id: null,\n      loading: false,\n      status: {\n        error: false,\n        added: false\n      }\n    };\n  },\n\n  computed: {\n    inputswmsurlvalid: function inputswmsurlvalid() {\n      return this.url !== null && this.url.trim() && isURL(this.url) && this.id !== null && this.id.trim();\n    }\n  },\n  methods: {\n    addwmsurl: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var _ref2, error, added;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.loading = true;\n                _context.next = 3;\n                return this.$options.service.addNewUrl({\n                  url: this.url,\n                  id: this.id\n                });\n\n              case 3:\n                _ref2 = _context.sent;\n                error = _ref2.error;\n                added = _ref2.added;\n\n                this.status.error = error;\n                this.status.added = added;\n                this.loading = false;\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function addwmsurl() {\n        return _ref.apply(this, arguments);\n      }\n\n      return addwmsurl;\n    }(),\n    deleteWmsUrl: function deleteWmsUrl(id) {\n      this.$options.service.deleteWmsUrl(id);\n    },\n    showWmsLayersPanel: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(url) {\n        var _ref4, error, added;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n\n                this.loading = true;\n                _context2.next = 4;\n                return this.$options.service.loadWMSDataAndShowWmsLayersPanel(url);\n\n              case 4:\n                _ref4 = _context2.sent;\n                error = _ref4.error;\n                added = _ref4.added;\n\n                this.status.error = error;\n                this.status.added = added;\n                this.loading = false;\n                _context2.next = 15;\n                break;\n\n              case 12:\n                _context2.prev = 12;\n                _context2.t0 = _context2[\"catch\"](0);\n\n                console.log(_context2.t0);\n\n              case 15:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[0, 12]]);\n      }));\n\n      function showWmsLayersPanel(_x) {\n        return _ref3.apply(this, arguments);\n      }\n\n      return showWmsLayersPanel;\n    }()\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{staticClass:\"treeview-menu g3w-tools menu-items\"},[(_vm.loading)?_c('li',[_c('bar-loader',{attrs:{\"loading\":_vm.loading}})],1):_vm._e(),_vm._v(\" \"),_c('li',{staticStyle:{\"display\":\"flex\",\"flex-direction\":\"column\",\"justify-content\":\"space-between\",\"background\":\"transparent !important\",\"margin-bottom\":\"10px\"}},[_c('div',{staticClass:\"wms_url_input_content\"},[_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.name'),expression:\"'sidebar.wms.panel.label.name'\"}],attrs:{\"for\":\"add_custom_name_url_wms_input\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.id),expression:\"id\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\",\"color\":\"#000000\"},attrs:{\"id\":\"add_custom_name_url_wms_input\"},domProps:{\"value\":(_vm.id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.id=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"wms_url_input_content\"},[_c('label',{attrs:{\"for\":\"add_custom_url_wms_input\"}},[_vm._v(\"URL\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.url),expression:\"url\"}],staticClass:\"form-control\",staticStyle:{\"width\":\"100%\",\"color\":\"#000000\"},attrs:{\"id\":\"add_custom_url_wms_input\"},domProps:{\"value\":(_vm.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.url=$event.target.value}}})]),_vm._v(\" \"),_c('div',[_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(!_vm.inputswmsurlvalid),expression:\"!inputswmsurlvalid\"}],staticClass:\"btn btn-block skin-background-color\",staticStyle:{\"width\":\"100%\"},on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.addwmsurl($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square')})])])]),_vm._v(\" \"),(_vm.status.error)?_c('li',[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('server_error'),expression:\"'server_error'\"}],staticClass:\"g3w-add-wms-url-message g3w-wmsurl-error\"})]):(_vm.status.added)?_c('li',[_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.url_already_added'),expression:\"'sidebar.wms.url_already_added'\"}],staticClass:\"g3w-add-wms-url-message g3w-wmsurl-already-added\"})]):_vm._e(),_vm._v(\" \"),_c('li',{staticClass:\"skin-border-color\",staticStyle:{\"background\":\"transparent !important\",\"border-top\":\"2px solid\"}},[_c('div',{staticStyle:{\"max-height\":\"200px\",\"overflow-y\":\"auto\"}},[_vm._l((_vm.state.adminwmsurls),function(ref){\nvar id = ref.id;\nvar url = ref.url;\nreturn _c('div',{key:_vm.wmsurl,staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"border-bottom\":\"1px solid #cccccc\",\"padding-bottom\":\"3px\"}},[_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"flex-grow\":\"1\",\"margin-right\":\"15px\"}},[_vm._v(_vm._s(id))]),_vm._v(\" \"),_c('span',{staticClass:\"skin-color\",staticStyle:{\"padding\":\"5px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showWmsLayersPanel(id)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square'),staticStyle:{\"font-weight\":\"bold\",\"font-size\":\"1.3em\"}})])])}),_vm._v(\" \"),_vm._l((_vm.state.localwmsurls),function(ref){\nvar id = ref.id;\nvar url = ref.url;\nreturn _c('div',{key:id,staticStyle:{\"border-bottom\":\"1px solid #cccccc\",\"padding-bottom\":\"3px\"}},[_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"space-between\",\"align-items\":\"center\",\"padding-top\":\"3px\"}},[_c('span',{staticClass:\"g3w-long-text\",staticStyle:{\"flex-grow\":\"1\",\"margin-right\":\"15px\",\"font-weight\":\"bold\"}},[_vm._v(_vm._s(id))]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sidebar.wms.add_wms_layer'),expression:\"'sidebar.wms.add_wms_layer'\",arg:\"top\",modifiers:{\"create\":true}}],staticClass:\"skin-color\",staticStyle:{\"padding\":\"3px\",\"margin\":\"2px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.showWmsLayersPanel(url)}}},[_c('i',{staticClass:\"wms-icon-action\",class:_vm.g3wtemplate.getFontClass('plus-square')})]),_vm._v(\" \"),_c('span',{directives:[{name:\"t-tooltip\",rawName:\"v-t-tooltip:top.create\",value:('sidebar.wms.delete_wms_url'),expression:\"'sidebar.wms.delete_wms_url'\",arg:\"top\",modifiers:{\"create\":true}}],staticStyle:{\"color\":\"red\",\"padding\":\"3px\",\"margin\":\"2px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteWmsUrl(id)}}},[_c('i',{staticClass:\"wms-icon-action\",class:_vm.g3wtemplate.getFontClass('trash'),staticStyle:{\"color\":\"red\"}})])]),_vm._v(\" \"),_c('div',{staticClass:\"g3w-long-text\",staticStyle:{\"font-size\":\"0.7em\"},attrs:{\"title\":url}},[_vm._v(_vm._s(url))])])})],2)])])}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-965f11b2\"\n\n},{\"core/utils/utils\":68,\"vueify/lib/insert-css\":2}],309:[function(require,module,exports){\nvar __vueify_style_dispose__ = require(\"vueify/lib/insert-css\").insert(\".g3w-wms-panel-title[data-v-64ebf92a]{font-size:1.2em;font-weight:700;margin-bottom:10px}button.wms-add-layer-buttom[data-v-64ebf92a]{width:100%;margin-top:10px}.g3w-wms-external-panel-layer-added-message[data-v-64ebf92a]{font-weight:700;color:red;margin:5px 0}\")\n;(function(){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar Projections = require('g3w-ol/projection/projections');\n\nexports.default = {\n  name: \"wmpspanel\",\n  data: function data() {\n    return {\n      loading: false,\n      position: undefined,\n      name: undefined,\n      title: null,\n      abstract: null,\n      map_formats: [],\n      info_formats: [],\n      layers: [],\n      selectedlayers: [],\n      projections: [],\n      epsg: null,\n      added: false\n    };\n  },\n\n  methods: {\n    addWMSlayer: function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n        var config;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                config = {\n                  url: this.url,\n                  name: this.name && this.name.trim() || undefined,\n                  layers: this.selectedlayers,\n                  epsg: this.epsg,\n                  position: this.position\n                };\n\n                this.added = this.$options.service.checkIfWMSAlreadyAdded(config);\n\n                if (this.added) {\n                  _context.next = 13;\n                  break;\n                }\n\n                this.loading = true;\n                _context.prev = 4;\n                _context.next = 7;\n                return this.$options.service.addWMSlayer(config);\n\n              case 7:\n                _context.next = 11;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](4);\n\n              case 11:\n                this.loading = false;\n                this.clear();\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[4, 9]]);\n      }));\n\n      function addWMSlayer() {\n        return _ref.apply(this, arguments);\n      }\n\n      return addWMSlayer;\n    }(),\n    clear: function clear() {\n      this.selectedlayers = [];\n      this.name = null;\n    },\n    filterLayerByCurrentEpsg: function filterLayerByCurrentEpsg() {\n      var _this = this;\n\n      this.layers = this.epsg !== null ? this.layers.filter(function (_ref2) {\n        var name = _ref2.name;\n        return _this.layerProjections[name].crss.indexOf(_this.epsg) !== -1;\n      }) : this.$options.config.layers;\n    }\n  },\n  watch: {\n    selectedlayers: function selectedlayers(layers) {\n      var _this2 = this;\n\n      if (layers.length) {\n        var firstLayer = layers[0];\n        if (layers.length === 1) {\n          this.epsg = this.layerProjections[firstLayer].crss[0];\n\n          this.projections = this.layerProjections[firstLayer].crss;\n        } else this.projections = this.projections.filter(function (projection) {\n          return _this2.layerProjections[layers[layers.length - 1]].crss.index(projection) !== -1;\n        });\n      } else {\n        this.epsg = null;\n        this.projections = [];\n      }\n    },\n    epsg: function () {\n      var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                this.filterLayerByCurrentEpsg();\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function epsg() {\n        return _ref3.apply(this, arguments);\n      }\n\n      return epsg;\n    }()\n  },\n  created: function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3() {\n      var _this3 = this;\n\n      var _$options$config, layers, title, abstract, url;\n\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _$options$config = this.$options.config, layers = _$options$config.layers, title = _$options$config.title, abstract = _$options$config.abstract, url = _$options$config.wmsurl;\n\n              this.layerProjections = {};\n              this.url = url;\n              layers.forEach(function (layer) {\n                _this3.layerProjections[layer.name] = {\n                  crss: layer.crss.map(function (crs) {\n                    Projections.get(crs);\n                    return \"EPSG:\" + crs.epsg;\n                  }).sort(),\n                  title: layer.title\n                };\n              });\n              this.layers = layers;\n\n              this.title = title;\n\n              this.abstract = abstract;\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function created() {\n      return _ref4.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    this.$data = null;\n  }\n};\n})()\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue__options__ = (typeof module.exports === \"function\"? module.exports.options: module.exports)\n__vue__options__.render = function render () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.loading),expression:\"loading\"}]},[_c('bar-loader',{attrs:{\"loading\":_vm.loading}}),_vm._v(\" \"),_c('h3',{staticClass:\"skin-color g3w-wms-panel-title\"},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),(_vm.abstract)?_c('helpdiv',{attrs:{\"message\":_vm.abstract}}):_vm._e(),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.layers'),expression:\"'sidebar.wms.panel.label.layers'\"}],attrs:{\"for\":\"g3w-wms-layers\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('selectedlayers'),expression:\"'selectedlayers'\"}],attrs:{\"id\":\"g3w-wms-layers\",\"multiple\":\"multiple\",\"clear\":\"true\"}},_vm._l((_vm.layers),function(layer){return _c('option',{key:layer.name,domProps:{\"value\":layer.name}},[_vm._v(_vm._s(layer.title))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.projections'),expression:\"'sidebar.wms.panel.label.projections'\"}],attrs:{\"for\":\"g3w-wms-projections\"}}),_vm._v(\" \"),_c('select',{directives:[{name:\"select2\",rawName:\"v-select2\",value:('epsg'),expression:\"'epsg'\"}],attrs:{\"id\":\"g3w-wms-projections\"}},_vm._l((_vm.projections),function(projection){return _c('option',{key:projection,domProps:{\"value\":projection}},[_vm._v(_vm._s(projection))])}),0),_vm._v(\" \"),_c('label',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.panel.label.name'),expression:\"'sidebar.wms.panel.label.name'\"}],attrs:{\"for\":\"g3w-wms-layer-name\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.name),expression:\"name\"}],staticClass:\"form-control\",attrs:{\"id\":\"g3w-wms-layer-name\"},domProps:{\"value\":(_vm.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.name=$event.target.value}}}),_vm._v(\" \"),(_vm.added)?_c('div',{directives:[{name:\"t\",rawName:\"v-t\",value:('sidebar.wms.layer_id_already_added'),expression:\"'sidebar.wms.layer_id_already_added'\"}],staticClass:\"g3w-wms-external-panel-layer-added-message\"}):_vm._e(),_vm._v(\" \"),_c('layerspositions',{attrs:{\"position\":_vm.position},on:{\"layer-position-change\":function($event){_vm.position=$event}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"disabled\",rawName:\"v-disabled\",value:(_vm.selectedlayers.length === 0),expression:\"selectedlayers.length === 0\"}],staticClass:\"btn wms-add-layer-buttom sidebar-button skin-button\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addWMSlayer($event)}}},[_c('i',{class:_vm.g3wtemplate.getFontClass('plus-square'),staticStyle:{\"font-weight\":\"bold\"}})])],1)}\n__vue__options__.staticRenderFns = []\n__vue__options__._scopeId = \"data-v-64ebf92a\"\n\n},{\"g3w-ol/projection/projections\":110,\"vueify/lib/insert-css\":2}],310:[function(require,module,exports){\nvar _vueColor = require('vue-color');\n\nvar VueColor = _interopRequireWildcard(_vueColor);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * @deprecated since v3.8. Will be removed in v4.x. Use ESM imports from 'vue-color' instead\n */\nwindow.VueColor = VueColor;\n\n/**\n * @deprecated since v3.8. Will be removed in v4.x. Use require('vue-cookie') instead of window.VueCookie\n */\n/**\n * @file shims legacy variables to ensure backward compatibily with old G3W-CLIENT plugins (eg. window variables)\n * @since v3.8\n */\n\nwindow.VueCookie = require('vue-cookie');\n\n},{\"vue-color\":\"vue-color\",\"vue-cookie\":\"vue-cookie\"}],311:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @TODO refactor stateful directives (eg. \"v-t\") in order to delete this file: \"src/directives/utils.js\"\n */\n\nvar _require = require('core/utils/utils'),\n    uniqueId = _require.uniqueId;\n\n/**\n * Internal state\n */\n\n\nvar vm = new Vue();\nvar directives = {};\n\nvar watch = exports.watch = function watch(_ref) {\n  var el = _ref.el,\n      attr = _ref.attr,\n      watcher = _ref.watcher;\n\n  var unique_attr_id = uniqueId();\n  el.setAttribute(attr, unique_attr_id);\n  var dir = directives[unique_attr_id] = {};\n  if (watcher) {\n    dir.unwatch = vm.$watch(watcher[0], watcher[1], watcher[2] || { immediate: true });\n    dir.handler = watcher[1];\n  }\n  return unique_attr_id;\n};\n\nvar unwatch = exports.unwatch = function unwatch(_ref2) {\n  var el = _ref2.el,\n      attr = _ref2.attr;\n\n  var unique_attr_id = el.getAttribute(attr);\n  if (unique_attr_id) {\n    directives[unique_attr_id].unwatch();\n    delete directives[unique_attr_id];\n  }\n};\n\nvar trigger = exports.trigger = function trigger(_ref3) {\n  var el = _ref3.el,\n      attr = _ref3.attr,\n      data = _ref3.data;\n  return directives[el.getAttribute(attr)].handler(data);\n};\n\n},{\"core/utils/utils\":68}],312:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  binding.value ? el.setAttribute('checked', 'checked') : el.removeAttribute('checked');\n};\n\n},{}],313:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  var className = 'g3w-disabled';\n  if (binding.value) {\n    if (!el.classList.contains(className)) el.classList.add(className);\n  } else el.classList.remove(className);\n};\n\n},{}],314:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-download-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    if (typeof binding.value === 'boolean' ? binding.value : true) {\n      (0, _utils.watch)({\n        el: el,\n        attr: attr,\n        watcher: [function () {\n          return _applicationState2.default.download;\n        }, function (bool) {\n          var className = binding.modifiers && binding.modifiers.show && 'hide' || 'disabled';\n          el.classList.toggle('g3w-' + className, className === 'hide' ? !bool : bool);\n        }]\n      });\n    }\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":311,\"store/application-state\":368}],315:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-offline-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    // show if online\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.online;\n      }, function (bool) {\n        bool = (binding.arg && binding.arg === 'hide' ? false : true) ? bool : !bool;\n        el.classList.toggle('g3w-hide', !bool);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":311,\"store/application-state\":368}],316:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar attr = 'g3w-v-plugins-id';\n\nexports.default = {\n  bind: function bind(el) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.plugins;\n      }, function (plugins) {\n        el.classList.toggle('g3w-hide', plugins.length === 0);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"directives/utils\":311,\"store/application-state\":368}],317:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  inserted: function inserted(el, binding, vnode) {\n    var _ref = vnode.data.attrs || {},\n        templateResult = _ref.templateResult,\n        templateSelection = _ref.templateSelection,\n        _ref$multiple = _ref.multiple,\n        multiple = _ref$multiple === undefined ? false : _ref$multiple,\n        _ref$search = _ref.search,\n        search = _ref$search === undefined ? true : _ref$search,\n        select2_value = _ref.select2_value;\n\n    $(el).select2({\n      width: '100%',\n      dropdownCssClass: 'skin-color',\n      templateResult: templateResult,\n      templateSelection: templateSelection,\n      minimumResultsForSearch: !search ? -1 : undefined\n    }).on('select2:select', function (e) {\n      if (binding.value) {\n        var value = e.params.data.id;\n        if (multiple && vnode.context[binding.value].filter(function (d) {\n          return value === d;\n        }).length === 0) {\n          vnode.context[binding.value].push(value);\n        } else {\n          vnode.context[binding.value] = value;\n        }\n      }\n    }).on('select2:unselect', function (e) {\n      if (binding.value && multiple) {\n        vnode.context[binding.value] = vnode.context[binding.value].filter(function (d) {\n          return e.params.data.id !== d;\n        });\n      }\n    });\n\n    if (binding.value && select2_value) {\n      $(el).val(select2_value).trigger('change');\n    }\n  },\n\n  unbind: function unbind(el) {\n    $(el).select2('destroy');\n  }\n};\n\n},{}],318:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = function (el, binding) {\n  el.toggleAttribute('selected', binding.value === 0);\n};\n\n},{}],319:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar attr = 'g3w-v-t-html-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        el.innerHTML = '' + t(binding.value);\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":14,\"directives/utils\":311,\"store/application-state\":368}],320:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-placeholder-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        el.setAttribute('placeholder', (binding.arg === 'plugin' ? tPlugin : t)(binding.value));\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":14,\"directives/utils\":311,\"store/application-state\":368}],321:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-plugin-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    var innerHTML = el.innerHTML;\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var value = binding.value !== null ? tPlugin(binding.value) : '';\n        switch (binding.arg ? binding.arg : 'post') {\n          case 'pre':\n            el.innerHTML = value + ' ' + innerHTML;break;\n          case 'post':\n            el.innerHTML = innerHTML + ' ' + value;break;\n        }\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":14,\"directives/utils\":311,\"store/application-state\":368}],322:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-title-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var title = (binding.arg === 'plugin' ? tPlugin : t)(binding.value);\n        el.setAttribute('title', title);\n        el.setAttribute('data-original-title', title);\n      }] });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":14,\"directives/utils\":311,\"store/application-state\":368}],323:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t,\n    tPlugin = _require.tPlugin;\n\nvar attr = 'g3w-v-t-tooltip-id';\n\nexports.default = {\n  bind: function bind(_el, binding) {\n    // Automatically create tooltip\n    if (binding.modifiers.create) {\n      if (binding.arg) {\n        _el.setAttribute('data-placement', binding.arg);\n        _el.classList.add('skin-color', 'skin-tooltip-' + binding.arg);\n      }\n      $(_el).tooltip({ trigger: _applicationState2.default.ismobile ? 'click' : 'hover', html: true })\n      // hide tooltip on mobile  after click\n      .on('shown.bs.tooltip', function () {\n        _applicationState2.default.ismobile && setTimeout(function () {\n          return $(_el).tooltip('hide');\n        }, 600);\n      });\n    }\n    (0, _utils.watch)({\n      el: _el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function (_ref) {\n        var _ref$el = _ref.el,\n            el = _ref$el === undefined ? _el : _ref$el;\n\n        var value = el.getAttribute('current-tooltip');\n        if (value === null) {\n          value = binding.value;\n        }\n        el.setAttribute('data-original-title', binding.modifiers.text ? value : (binding.arg === 'plugin' ? tPlugin : t)(value));\n      }]\n    });\n  },\n  componentUpdated: function componentUpdated(el, oldVnode) {\n    var value = el.getAttribute('current-tooltip');\n    if (value != null && value !== oldVnode.oldValue) {\n      (0, _utils.trigger)({ el: el, attr: attr, data: { el: el } });\n    }\n  },\n\n  unbind: function unbind(el) {\n    $(el).tooltip('hide');(0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":14,\"directives/utils\":311,\"store/application-state\":368}],324:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _utils = require('directives/utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar attr = 'g3w-v-t-id';\n\nexports.default = {\n  bind: function bind(el, binding) {\n    var innerHTML = el.innerHTML;\n    (0, _utils.watch)({\n      el: el,\n      attr: attr,\n      watcher: [function () {\n        return _applicationState2.default.language;\n      }, function () {\n        var value = binding.value !== null ? t(binding.value) : '';\n        switch (binding.arg ? binding.arg : 'post') {\n          case 'pre':\n            el.innerHTML = value + ' ' + innerHTML;break;\n          case 'post':\n            el.innerHTML = innerHTML + ' ' + value;break;\n        }\n      }]\n    });\n  },\n\n  unbind: function unbind(el) {\n    return (0, _utils.unwatch)({ el: el, attr: attr });\n  }\n};\n\n},{\"core/i18n/i18n.service\":14,\"directives/utils\":311,\"store/application-state\":368}],325:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Diese Website verwendet Cookies, um Ihnen die bestmgliche Erfahrung auf unserer Website zu bieten.\",\n      buttonText: \"Verstanden!\"\n    },\n    default: \"default\",\n    sign_in: \"Anmelden\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Filter hinzufgen/entfernen\",\n        nofilter: \"Filter entfernen\",\n        invert: \"Auswahl umkehren\",\n        clear: \"Auswahl lschen\",\n        show_features_on_map: \"Auf der Karte sichtbare Features anzeigen\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Nicht untersttztes Format\"\n    },\n    layer_position: {\n      top: 'OBEN',\n      bottom: 'UNTEN',\n      message: \"Position relativ zu den Layern im TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Template auswhlen\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Rumliche Lesezeichen\",\n        helptext: \"Bewegen Sie sich auf der Kartenausdehnung, fgen Sie den Namen ein und klicken Sie auf Hinzufgen\",\n        input: {\n          name: \"Name\"\n        },\n        sections: {\n          project: {\n            title: \"Projekt-Lesezeichen\"\n          },\n          user: {\n            title: \"Benutzer-Lesezeichen\"\n          }\n        }\n      },\n      search: {\n        all: 'ALLE',\n        no_results: \"Keine Ergebnisse\",\n        searching: \"Suchen ...\",\n        error_loading: \"Fehler beim Datenladen\",\n        layer_not_searchable: \"Layer ist nicht durchsuchbar\",\n        layer_not_querable: \"Layer ist nicht abfragbar\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Bitte\",\n            post: \"oder mehrere Zeichen eingeben\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Kein Layer zu drucken',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Skala\",\n        format: \"Format\",\n        rotation: \"Drehung\",\n        download_image: \"Bild herunterladen\",\n        fids_instruction: \"Akzeptierte Werte: von 1 bis [max]. Es ist mglich, ein Intervall einzugeben, z. B. 4-6\",\n        fids_example: \"Bsp. 1,4-6 druckt id 1,4,5,6\",\n        help: \"Die im Druck angezeigten Layer knnen die im Projekt definierten sein und nicht die auf der Karte angezeigten\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Ausfhren\",\n          info: \"Information\",\n          delete: \"Lschen\",\n          edit: \"Bearbeiten\"\n        },\n        messages: {\n          changed: 'Gespeichert',\n          number_of_features: \"Anzahl der Features\"\n        },\n        panel: {\n          button: {\n            all: 'ALLE',\n            save: 'SPEICHERN',\n            test: 'TEST',\n            clear: 'LSCHEN',\n            run: 'AUSFHREN',\n            manual: 'MANUELL'\n          },\n          layers: 'LAYERS',\n          fields: 'FELDER',\n          values: 'WERTE',\n          operators: 'OPERATOREN',\n          expression: 'AUSDRUCK'\n        },\n        error_run: 'Es ist ein Fehler aufgetreten. Bitte berprfen Sie die Abfrage',\n        error_test: \"Whrend der Ausfhrung der Abfrage ist ein Fehler aufgetreten\",\n        delete: 'Soll es gelscht werden?',\n        additem: 'Geben Sie den Namen der neuen Suche ein'\n      },\n      errors: {\n        layers: {\n          load: \"Einige Layer sind nicht verfgbar\"\n        },\n        unsupported_format: 'Nicht untersttztes Format',\n        add_external_layer: 'Fehler im Ladevorgang des Layers'\n      },\n      metadata: {\n        title: 'Metadaten',\n        groups: {\n          general: {\n            title: 'ALLGEMEIN',\n            fields: {\n              title: 'TITEL',\n              name: 'NAME',\n              description: \"BESCHREIBUNG\",\n              abstract: \"ABASTRACT\",\n              keywords: 'SCHLSSELWRTER',\n              fees: \"GEBHREN\",\n              accessconstraints: \"ZUGRIFFSBESCHRNKUNG\",\n              contactinformation: \"KONTAKTE\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'Referenzen',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Firma',\n                  ContactOrganization: 'Firma',\n                  contactposition: 'Position',\n                  ContactPosition: 'Position',\n                  contactperson: 'Person',\n                  ContactPerson: 'Person'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'LAYERS',\n            fields: {\n              layers: 'LAYERS',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITEL\",\n                name: 'NAME',\n                geometrytype: 'GEOMETRIE',\n                source: 'QUELLE',\n                attributes: 'ATTRIBUTE',\n                abstract: 'ABSTRACT',\n                attribution: 'ATRIBUTION',\n                keywords: \"SCHLSSELWRTER\",\n                metadataurl: 'METADATEN URL',\n                dataurl: \"DATEN URL\"\n              }\n            },\n            groups: {\n              general: 'ALLGEMEIN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Zeilenansicht\",\n          row_to_form: \"Formularansicht\"\n        },\n        copy_map_extent_url: 'Link zur Kartenansicht kopieren',\n        download_shapefile: \"Shapefile herunterladen\",\n        download_gpx: \"DGPX herunterladen\",\n        download_gpkg: \"GPKG herunterladen\",\n        download_csv: \"CSV herunterladen\",\n        download_xls: \"XLS herunterladen\",\n        show_chart: \"Diagramm anzeigen\",\n        atlas: \"Atlas drucken\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Query layer',\n          actions: {\n            add_selection: {\n              hint: \"Auswahl hinzufgen/entfernen\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom auf Feature-Ausdehnung\"\n            },\n            add_features_to_results: {\n              hint: \"Hinzufgen/Entfernen von Features zu den Ergebnissen\"\n            },\n            remove_feature_from_results: {\n              hint: \"Feature aus den Ergebnissen entfernen\"\n            },\n            zoom_to_feature: {\n              hint: \"Zum Feature zoomen\"\n            },\n            relations: {\n              hint: \"Relationen anzeigen\"\n            },\n            relations_charts: {\n              hint: \"Relationship-Diagramm anzeigen\"\n            },\n            download_features_shapefile: {\n              hint: 'Features Shapefile herunterladen'\n            },\n            download_shapefile: {\n              hint: 'Feature Shapefile herunterladen'\n            },\n            download_features_gpx: {\n              hint: \"Feature GPX herunterladen\"\n            },\n            download_features_gpkg: {\n              hint: \"Feature GPKG herunterladen\"\n            },\n            download_gpx: {\n              hint: \"Feature GPX herunterladen\"\n            },\n            download_gpkg: {\n              hint: \"Feature GPKG herunterladen\"\n            },\n            download_features_csv: {\n              hint: \"Features CSV herunterladen\"\n            },\n            download_csv: {\n              hint: \"Feature CSV herunterladen\"\n            },\n            download_features_xls: {\n              hint: \"Features XLS herunterladen\"\n            },\n            download_xls: {\n              hint: \"Feature XLS herunterladen\"\n            },\n            atlas: {\n              hint: \"Atlas drucken\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Kopieren der Karten-URL mit dieser Geometrie-Feature-Erweiterung\",\n              hint_change: \"Kopiert\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attribute herunterladen\",\n            choiches: {\n              feature: {\n                label: \"Nur Features\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Query nach Polygon',\n          no_geometry: 'Keine Geometrie in der Antwort',\n          help: {\n            title: 'Hilfe - Abfrage nach Polygon',\n            message: \"\\n                <ul>\\n                  <li>W\\xE4hlen Sie einen Polygon Layer auf TOC.</li>\\n                  <li>Stellen Sie sicher, dass der Layer sichtbar ist.</li>\\n                  <li>Klicken Sie auf ein Feature des ausgew\\xE4hlten Layers.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Abfrage durch Polygon zeichnen\"\n        },\n        querybybbox: {\n          tooltip: 'BBox Layer abfragen',\n          nolayers_visible: 'Es sind keine abfragbaren Layer sichtbar. Bitte setzen Sie mindestens einen sichtbaren wfs Layer, um die Abfrage zu starten',\n          help: {\n            title: 'Hilfe - Abfrage des BBox Layers',\n            message: \"\\n                 <ul>\\n                  <li>Ein Quadrat auf der Karte ziehen, um unterstrichene Layer im TOC abzufragen</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Das Ergebnis in der Karte ist unvollstndig, da die unten stehende Liste fehlerhafter Eintrge enthlt:\"\n            }\n          },\n          tooltip: 'Layer hinzufgen'\n        },\n        geolocation: {\n          tooltip: 'Geolokalisierung'\n        },\n        measures: {\n          length: {\n            tooltip: \"Lnge\",\n            help: \"Klicken Sie auf die Karte, um die Linie zu zeichnen. Drcken Sie <br>CANC, wenn Sie den letzten Eckpunkt lschen mchten.\"\n          },\n          area: {\n            tooltip: \"Flche\",\n            help: \"Drcken Sie <br>CANC, wenn Sie den letzten Eckpunkt lschen wollen.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Ungltige Skala\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meter',\n            nautical: 'Nautische Meile'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Daten zur Relation',\n        no_relations_found: 'Keine Relationen gefunden',\n        back_to_relations: 'Zurck zu den Relationen',\n        list_of_relations_feature: 'Liste der Relationen des Features',\n        error_missing_father_field: \"Ein Feld fehlt\"\n      },\n      workflow: {\n        steps: {\n          title: 'Schritte'\n        },\n        next: 'Weiter'\n      },\n      form: {\n        loading: 'Laden ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Kein Feature ausgewhlt. Prfen, ob der Layer in Bearbeitung oder im aktuellen Mastab sichtbar ist\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Wert aus dem Layer abrufen\",\n            lonlat: \"Zum Abrufen der Koordinaten auf die Karte klicken\"\n          },\n          input_validation_mutually_exclusive: \"Feld schliet sich gegenseitig aus mit \",\n          input_validation_error: \"Obligatorisches Feld oder falscher Datentyp\",\n          input_validation_min_field: \"Der Wert muss grer/gleich sein als der Feldwert  \",\n          input_validation_max_field: \"Der Wert muss kleiner/gleich sein als der Feldwert \",\n          input_validation_exclude_values: \"Wert muss einmalig sein\",\n          integer: \"integer\",\n          bigint: \"integer\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string\",\n          date: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          \"required_fields\": \"Erforderliche Felder\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Spezifisches Relations-Formular verwenden, um mit Relationen zu arbeiten\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEMA\",\n        choose_map_theme: \"THEMA AUSWHLEN\",\n        menu: {\n          layerposition: 'Position des Layers',\n          setwmsopacity: \"Opazitt einstellen\",\n          wms: {\n            title: \"\",\n            copy: \"Klicken Sie hier, um die Url zu kopieren\",\n            copied: \"Kopiert\"\n          },\n          download: {\n            shp: 'Shapefile herunterladen',\n            gpx: 'GPX herunterladen',\n            gpkg: 'GPKG herunterladen',\n            csv: 'CSV herunterladen',\n            xls: 'XLS herunterladen',\n            geotiff: \"GEOTIFF herunterladen\",\n            geotiff_map_extent: \"GEOTIFF herunterladen (aktueller Ansichtsumfang)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Liste der Prozesse\",\n        tooltip: 'Karte anklicken'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Applikation basiert auf OS-Framework\",\n      g3wSuiteDescription: \"Verffentlichen und verwalten Sie Ihre QGIS-Projekte im Internet\",\n      productOf: \"Framework entwickelt von\"\n    },\n    toggle_color_scheme: \"Farbschema umschalten\",\n    logout: \"Logout\",\n    no_other_projects: \"Kein weiteres Projekt fr diese Gruppe\",\n    yes: \"Ja\",\n    no: \"No\",\n    back: \"Zurck\",\n    backto: \"Zurck zu \",\n    changemap: \"Karte ndern\",\n    component: \"Allgemeine Komponente\",\n    search: \"Suche\",\n    no_results: \"Keine Ergebnisse gefunden\",\n    print: \"Drucken\",\n    create_print: \"Drucken erstellen\",\n    dosearch: \"Suche\",\n    catalog: \"Karte\",\n    data: \"Daten\",\n    externalwms: \"WMS\",\n    baselayers: \"Base\",\n    tools: \"Tools\",\n    tree: \"Layers\",\n    legend: \"Legende\",\n    nobaselayer: \"Keine Basemap\",\n    street_search: \"Adresse finden\",\n    show: \"Anzeigen\",\n    hide: \"Ausblenden\",\n    copy_form_data: \"Daten kopieren\",\n    paste_form_data: \"Einfgen\",\n    copy_form_data_from_feature: \"Daten von der Karte kopieren\",\n    error_map_loading: \"Fehler beim Laden der Karte\",\n    check_internet_connection_or_server_admin: \"Internetverbindung prfen oder Admin kontaktieren\",\n    could_not_load_vector_layers: \"Verbindungsfehler: Layers knnen geladen werden\",\n    server_saver_error: \"Fehler beim Speichern auf dem Server\",\n    server_error: \"Server-Verbindungsfehler\",\n    save: \"Speichern\",\n    cancel: \"Abbrechen\",\n    close: \"Schlieen\",\n    enlange_reduce: \"Vergrern/Verkleinern\",\n    reset_default: \"Standardgre\",\n    add: \"Hinzufgen\",\n    exitnosave: \"Beenden ohne Speichern\",\n    annul: \"Abbrechen\",\n    layer_is_added: \"Layer mit gleichem Namen bereits hinzugefgt\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'WMS Layer hinzufgen',\n          label: {\n            position: \"Kartenposition\",\n            name: \"Name\",\n            projections: 'Projektion',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"WMS Layer hinzufgen\",\n        delete_wms_url: \"WMS Url lschen\",\n        layer_id_already_added: \"WMS Layer bereits hinzugefgt\",\n        url_already_added: \"WMS URL bereits hinzugefgt\",\n        layer_add_error: \"WMS Layer nicht hinzugefgt. Bitte berprfen Sie alle WMS-Parameter oder Url\"\n      }\n    },\n    info: {\n      title: \"Ergebnisse\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Beigefgtes Dokument ffnen\",\n      server_error: \"Auf dem Server ist ein Fehler aufgetreten\",\n      no_results: \"Keine Ergebnisse fr diese Anfrage/Suche gefunden\",\n      link_button: \"ffnen\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Position kann nicht bestimmt werden\"\n      },\n      nominatim: {\n        placeholder: \"Addresse ...\",\n        noresults: \"Keine Ergebnisse\",\n        notresponseserver: \"Keine Antwort vom Server\"\n      },\n      add_layer_control: {\n        header: \"Layer hinzufgen\",\n        select_projection: \"Layer Projektion auswhlen\",\n        select_field_to_show: \"Feld auswhlen, das auf der Karte angezeigt werden soll\",\n        select_csv_separator: \"Begrenzer auswhlen\",\n        select_csv_x_field: \"X-Feld auswhlen\",\n        select_csv_y_field: \"Y-Feld auswhlen\",\n        select_color: \"Layer Farbe auswhlen\",\n        drag_layer: \"Layer hierher ziehen und ablegen\"\n      },\n      query: {\n        input_relation: \"Klicken, um Relationen anzuzeigen\"\n      },\n      length: {\n        tooltip: \"Lnge\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Screenshot Fehlererstellung\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Klicken Sie mit der rechten Maustaste auf einen einzelnen Layer, um auf zustzliche Funktionen zuzugreifen\",\n      contextmenu: {\n        zoomtolayer: \"Zoom auf Layer\",\n        open_attribute_table: \"Attributtabelle ffnen\",\n        show_metadata: \"Metadaten\",\n        styles: 'Stile',\n        vector_color_menu: \"Farbe einstellen/ndern\",\n        layer_opacity: \"Opazitt\"\n      }\n    },\n    dataTable: {\n      previous: \"Vorherige\",\n      next: \"Weiter\",\n      lengthMenu: \"_MEN_ anzeigen\",\n      info: \"Anzeige von _START_ bis _END_ der _TOTAL_ Eintrge\",\n      no_data: \"Keine Daten\",\n      nodatafilterd: \"Keine passenden Datenstze gefunden\",\n      infoFiltered: \"(gefiltert aus _MAX_ Gesamtstzen)\"\n    }\n  }\n};\n\n},{}],326:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"default\",\n    sign_in: \"Sign in\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Add/Remove Filter\",\n        nofilter: \"Remove Filter\",\n        invert: \"Invert Selection\",\n        clear: \"Clear Selection\",\n        show_features_on_map: \"Show features visible on map\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Select Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Spatial Bookmarks\",\n        helptext: \"Move on map extent, insert name and click Add\",\n        input: {\n          name: \"Name\"\n        },\n        sections: {\n          project: {\n            title: \"Project Bookmarks\"\n          },\n          user: {\n            title: \"User Bookmarks\"\n          }\n        }\n      },\n      search: {\n        all: 'ALL',\n        no_results: \"No results\",\n        searching: \"Searching ...\",\n        error_loading: \"Error Loading Data\",\n        layer_not_searchable: \"Layer is not searchable\",\n        layer_not_querable: \"Layer is not querable\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Please enter\",\n            post: \"or more characters\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'No Layer to print',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Scale\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Download Image\",\n        fids_instruction: \"Values accepted: from 1 to value of [max]. Is possible to insert a range ex. 4-6\",\n        fids_example: \"Ex. 1,4-6 will be printed id 1,4,5,6\",\n        help: \"The layers shown in the print could be those defined on the project and not those displayed on the map\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Run\",\n          info: \"Information\",\n          delete: \"Delete\",\n          edit: \"Edit\"\n        },\n        messages: {\n          changed: 'Saved',\n          number_of_features: \"Number of features\"\n        },\n        panel: {\n          button: {\n            all: 'ALL',\n            save: 'SAVE',\n            test: 'TEST',\n            clear: 'CLEAR',\n            run: 'RUN',\n            manual: 'MANUAL'\n          },\n          layers: 'LAYERS',\n          fields: 'FIELDS',\n          values: 'VALUES',\n          operators: 'OPERATORS',\n          expression: 'EXPRESSION'\n        },\n        error_run: 'An error occurs. Please check the query',\n        error_test: \"An error occur during query execution\",\n        delete: 'Do you want delete it?',\n        additem: 'Insert the name of the new search'\n      },\n      errors: {\n        layers: {\n          load: \"Some layers are not available\"\n        },\n        unsupported_format: 'Not supported format',\n        add_external_layer: 'Load layer error'\n      },\n      metadata: {\n        title: 'Metadata',\n        groups: {\n          general: {\n            title: 'GENERAL',\n            fields: {\n              title: 'TITLE',\n              name: 'NAME',\n              description: \"DESCRIPTION\",\n              abstract: \"ABSTRACT\",\n              keywords: 'KEYWORDS',\n              fees: \"FEES\",\n              accessconstraints: \"ACCESS CONSTRAINT\",\n              contactinformation: \"CONTACTS\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'Refereces',\n                  contactvoicetelephone: 'Phone',\n                  contactorganization: 'Organization',\n                  ContactOrganization: 'Organization',\n                  contactposition: 'Position',\n                  ContactPosition: 'Position',\n                  contactperson: 'Person',\n                  ContactPerson: 'Person'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'LAYERS',\n            fields: {\n              layers: 'LAYERS',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITLE\",\n                name: 'NAME',\n                geometrytype: 'GEOMETRY',\n                source: 'SOURCE',\n                attributes: 'ATTRIBUTES',\n                abstract: 'ABSTRACT',\n                attribution: 'ATTRIBUTION',\n                keywords: \"PAROLE CHIAVE\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'GENERAL',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Row View\",\n          row_to_form: \"Form View\"\n        },\n        copy_map_extent_url: 'Copy map view link',\n        download_shapefile: \"Download Shapefile\",\n        download_gpx: \"Download GPX\",\n        download_gpkg: \"Download GPKG\",\n        download_csv: \"Download CSV\",\n        download_xls: \"Download XLS\",\n        show_chart: \"Show Chart\",\n        atlas: \"Print Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Query layer',\n          actions: {\n            add_selection: {\n              hint: \"Add/Remove Selection\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom to features extent\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom to feature\"\n            },\n            relations: {\n              hint: \"Show Relations\"\n            },\n            relations_charts: {\n              hint: \"Show relations chart\"\n            },\n            download_features_shapefile: {\n              hint: 'Download features Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Download feature Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Download feature GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Download features GPKG\"\n            },\n            download_gpx: {\n              hint: \"Download feature GPX\"\n            },\n            download_gpkg: {\n              hint: \"Download feature GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Download features CSV\"\n            },\n            download_csv: {\n              hint: \"Download feature CSV\"\n            },\n            download_features_xls: {\n              hint: \"Download features XLS\"\n            },\n            download_xls: {\n              hint: \"Download feature XLS\"\n            },\n            atlas: {\n              hint: \"Print Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Query By Polygon',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Guide - Query By Polygon',\n            message: \"\\n                <ul>\\n                  <li>Select a polygon layer on TOC.</li>\\n                  <li>Be sure that layer is visible.</li>\\n                  <li>Click on a feature of selected layer.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Query by Draw Polygon \"\n        },\n        querybybbox: {\n          tooltip: 'Query BBox layer',\n          nolayers_visible: 'No querable layers are visible. Please set at least one visible wfs layer to run query',\n          help: {\n            title: 'Guide - Query BBox layer',\n            message: \"\\n                  <ul>\\n                  <li>Draw a square on map to query underlined layers on TOC</li>\\n                  </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Add Layer'\n        },\n        geolocation: {\n          tooltip: 'Geolocation'\n        },\n        measures: {\n          length: {\n            tooltip: \"Length\",\n            help: \"Click on map to draw the line. Press <br>CANC if you want delete last vertex\"\n          },\n          area: {\n            tooltip: \"Area\",\n            help: \"Click to draw poligon.Press <br>CANC if you want delete last vertex\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Invalid Scale\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Relation data',\n        no_relations_found: 'No relations found',\n        back_to_relations: 'Back to relations',\n        list_of_relations_feature: 'List of relations of feature',\n        error_missing_father_field: \"Field is missing\"\n      },\n      workflow: {\n        steps: {\n          title: 'Steps'\n        },\n        next: 'Next'\n      },\n      form: {\n        loading: 'Loading ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"No feature selected. Check if layer is on editing or visible at current scale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Get value from ma layer\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Field mutually exclusive with \",\n          input_validation_error: \"Mandatory Field or wrong data type\",\n          input_validation_min_field: \"Value has to be more/equal to field value  \",\n          input_validation_max_field: \"Value has to be less/equal to field value \",\n          input_validation_exclude_values: \"Value has to be unique\",\n          integer: \"integer\",\n          bigint: \"integer\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string\",\n          date: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          \"required_fields\": \"Required fields\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Use relation specific form to work with relation\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Click here to copy url\",\n            copied: \"Copied\"\n          },\n          download: {\n            shp: 'Download Shapefile',\n            gpx: 'Download GPX',\n            gpkg: 'Download GPKG',\n            csv: 'Download CSV',\n            xls: 'Download XLS',\n            geotiff: \"Download GEOTIFF\",\n            geotiff_map_extent: \"Download GEOTIFF(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"List of process\",\n        tooltip: 'Click on map'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Application based on OS framework\",\n      g3wSuiteDescription: \"Publish and manage your QGIS projects on the web\",\n      productOf: \"Framework developed by\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Logout\",\n    no_other_projects: \"No more project for this group\",\n    yes: \"Yes\",\n    no: \"No\",\n    back: \"Back\",\n    backto: \"Back to \",\n    changemap: \"Change Map\",\n    component: \"Generic Component\",\n    search: \"Search\",\n    no_results: \"No results found\",\n    print: \"Print\",\n    create_print: \"Create Print\",\n    dosearch: \"Search\",\n    catalog: \"Map\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Base\",\n    tools: \"Tools\",\n    tree: \"Layers\",\n    legend: \"Legend\",\n    nobaselayer: \"No basemap\",\n    street_search: \"Find Address\",\n    show: \"Show\",\n    hide: \"Hide\",\n    copy_form_data: \"Copy data\",\n    paste_form_data: \"Paste\",\n    copy_form_data_from_feature: \"Copy data from map\",\n    error_map_loading: \"Error occurs loading map\",\n    check_internet_connection_or_server_admin: \"Check internet connection or contact admin\",\n    could_not_load_vector_layers: \"Connection error: Layers can be loaded\",\n    server_saver_error: \"Error in server saving\",\n    server_error: \"Server connection error\",\n    save: \"Save\",\n    cancel: \"Cancel\",\n    close: \"Close\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Add\",\n    exitnosave: \"Exit without save\",\n    annul: \"Cancel\",\n    layer_is_added: \"Layer with same name already added\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Add WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Layer already added\",\n        url_already_added: \"WMS URL already added\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Results\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Open attached document\",\n      server_error: \"An error occurred from server\",\n      no_results: \"No results found for this query/search\",\n      link_button: \"Open\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Can't get your position\"\n      },\n      nominatim: {\n        placeholder: \"Address ...\",\n        noresults: \"No results\",\n        notresponseserver: \"No response from server\"\n      },\n      add_layer_control: {\n        header: \"Add Layer\",\n        select_projection: \"Select layer projection\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Select Layer Color\",\n        drag_layer: \"Drag and drop layer here\"\n      },\n      query: {\n        input_relation: \"Click to show relations\"\n      },\n      length: {\n        tooltip: \"Length\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Right-click on individual layer to access additional features\",\n      contextmenu: {\n        zoomtolayer: \"Zoom to Layer\",\n        open_attribute_table: \"Open Attribute Table\",\n        show_metadata: \"Metadata\",\n        styles: 'Styles',\n        vector_color_menu: \"Set/Change Color\",\n        layer_opacity: \"Opacity\"\n      }\n    },\n    dataTable: {\n      previous: \"Previous\",\n      next: \"Next\",\n      lengthMenu: \"Show _MENU_\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"No data\",\n      nodatafilterd: \"No matching records found\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],327:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"oletuksena\",\n    sign_in: \"Kirjaudu sisn\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"List/Poista Suodattaa\",\n        nofilter: \"Poista Suodattaa\",\n        invert: \"Knteinen Valinta\",\n        clear: \"Peruuttaa Valinta\",\n        show_features_on_map: \"Nyt kartalla nkyvt ominaisuudet\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Valitse Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Tilalliset kirjanmerkit\",\n        helptext: \"Siirry kartan laajuuteen, lis nimi ja napsauta Lis\",\n        input: {\n          name: \"Nimi\"\n        },\n        sections: {\n          project: {\n            title: \"Projektin kirjanmerkit\"\n          },\n          user: {\n            title: \"Kyttjn kirjanmerkit\"\n          }\n        }\n      },\n      search: {\n        all: 'KAIKKI',\n        no_results: \"Ei tuloksia\",\n        searching: \"Haetaan ...\",\n        error_loading: \"Virhe ladattaessa tietoja.\",\n        layer_not_searchable: \"Taso ei ole haettavissa.\",\n        layer_not_querable: \"Tasolle ei voi suorittaa kyselyit.\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Syt\",\n            post: \"tai useampi merkki\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Ei tulostettavia tasoja',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Mittakaava\",\n        format: \"Formaatti\",\n        rotation: \"Kierto\",\n        download_image: \"Lataa kuva\",\n        fids_instruction: \"Hyvksytyt arvot: yhdest arvoon [max]. Salittua sytt mys vli, esim. 4-6.\",\n        fids_example: \"Esimerkiksi 1,4-6 tulostuu id 1,4,5,6.\",\n        help: \"Tulosteessa esiintyvt tasot voivat olla projektissa mriteltyj ei kartalla esiintyvi.\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Suorita\",\n          info: \"Informaatio\",\n          delete: \"Poista\",\n          edit: \"Muokkaa\"\n        },\n        messages: {\n          changed: 'Tallennettu',\n          number_of_features: \"Ominaisuuksien lukumr\"\n        },\n        panel: {\n          button: {\n            all: 'KAIKKI',\n            save: 'TALLENNA',\n            test: 'TESTI',\n            clear: 'TYHJENN',\n            run: 'SUORITA',\n            manual: 'MANUAALINEN'\n          },\n          layers: 'TASOT',\n          fields: 'KENTT',\n          values: 'ARVOT',\n          operators: 'OPERAATTORIT',\n          expression: 'LAUSEKE'\n        },\n        error_run: 'Tapahtui virhe. Tarkista kysely.',\n        error_test: \"Kysely suorittaessa tapahtui virhe.\",\n        delete: 'Haluatko poistaa sen?',\n        additem: 'Anna nimi uudelle haulle.'\n      },\n      errors: {\n        layers: {\n          load: \"Jotkin tasot eivt ole saatavilla.\"\n        },\n        unsupported_format: 'Ei tuettu formaatti',\n        add_external_layer: 'Tason latausvirhe'\n      },\n      metadata: {\n        title: 'Metatiedot',\n        groups: {\n          general: {\n            title: 'YLEINEN',\n            fields: {\n              title: 'OTSIKKO',\n              name: 'NIMI',\n              description: \"KUVAUS\",\n              abstract: \"TIIVISTELM\",\n              keywords: 'AVAINSANAT',\n              fees: \"MAKSUT\",\n              accessconstraints: \"PSYRAJOITUKSET\",\n              contactinformation: \"YHTEYSTIEDOT\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Shkposti\",\n                  personprimary: 'Viitteet',\n                  contactvoicetelephone: 'Puhelin',\n                  contactorganization: 'Organisaatio',\n                  ContactOrganization: 'Organisaatio',\n                  contactposition: 'Asema',\n                  ContactPosition: 'Asema',\n                  contactperson: 'Yhteyshenkil',\n                  ContactPerson: 'Yhteyshenkil'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'TASOT',\n            fields: {\n              layers: 'TASOT',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"OTSIKKO\",\n                name: 'NIMI',\n                geometrytype: 'GEOMETRIA',\n                source: 'LHDE',\n                attributes: 'ATTRIBUUTIT',\n                abstract: 'TIIVISTELM',\n                attribution: 'ATTRIBUUTIO',\n                keywords: \"AVAINSANAT\",\n                metadataurl: 'METATIEDON URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'YLEINEN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Rivinkym\",\n          row_to_form: \"Taulukkonkym\"\n        },\n        copy_map_extent_url: 'Kopioi kartan katselulinkki',\n        download_shapefile: \"Lataa SHP-tiedosto\",\n        download_gpx: \"Lataa GPX-tiedosto\",\n        download_gpkg: \"Lataa GPKG-tiedosto\",\n        download_csv: \"Lataa CSV-tiedosto\",\n        download_xls: \"Lataa XLS-tiedosto\",\n        show_chart: \"Nyt kaavio\",\n        atlas: \"Tulosta Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Kyselytaso',\n          actions: {\n            add_selection: {\n              hint: 'Lis/Poista valinta'\n            },\n            zoom_to_features_extent: {\n              hint: \"Tarkenna ominaisuuden laajuuteen\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Tarkenna ominaisuuteen\"\n            },\n            relations: {\n              hint: \"Nyt relaatiot\"\n            },\n            relations_charts: {\n              hint: \"Nyt relaatiokaavio\"\n            },\n            download_features_shapefile: {\n              hint: 'Lataa ominaisuuden SHP-tiedosto'\n            },\n            download_shapefile: {\n              hint: 'Lataa ominaisuuden SHP-tiedosto'\n            },\n            download_features_gpx: {\n              hint: \"Lataa ominaisuuden GPX-tiedosto\"\n            },\n            download_features_gpkg: {\n              hint: \"Lataa ominaisuuden GPKG-tiedosto\"\n            },\n            download_gpx: {\n              hint: \"Lataa ominaisuuden GPX-tiedosto\"\n            },\n            download_gpkg: {\n              hint: \"Lataa ominaisuuden GPKG-tiedosto\"\n            },\n            download_features_csv: {\n              hint: \"Lataa ominaisuuden CSV-tiedosto\"\n            },\n            download_csv: {\n              hint: \"Lataa ominaisuuden CSV-tiedosto\"\n            },\n            download_features_xls: {\n              hint: \"Lataa ominaisuuden XLS-tiedosto\"\n            },\n            download_xls: {\n              hint: \"Lataa ominaisuuden XLS-tiedosto\"\n            },\n            atlas: {\n              hint: \"Tulosta Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Kysely monikulmiolla',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Ohje - Kysely monikulmiolla',\n            message: \"\\n                <ul>\\n                  <li>Valitse monikulmiotaso luettelosta.</li>\\n                  <li>Tarkista, ett\\xE4 taso on n\\xE4kyvill\\xE4.</li>\\n                  <li>Valitse ominaisuus valitulla tasolla.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Kysely piirtopolygonin mukaan\"\n        },\n        querybybbox: {\n          tooltip: 'Tasoon kohdituva BBox-kysely',\n          nolayers_visible: 'Ei kyseltvi tasoja nkyvill. Aseta vhintn yksi WFS-taso nkyvksi suorittaaksesi haun.',\n          help: {\n            title: 'Ohje - Tasoon kohdistuva BBox-kysely',\n            message: \"\\n                 <ul>\\n                  <li>Piirr\\xE4 suorakulmio kartalle suorittaaksesi kyselyn luettelossa alleviivatuille tasoille.</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Lis taso'\n        },\n        geolocation: {\n          tooltip: 'Maantieteellinen sijainti'\n        },\n        measures: {\n          length: {\n            tooltip: \"Pituus\",\n            help: \"Piirr murtoviiva kartalle. Paina <br>CANC, mikli haluat poistaa edellisen pisteen.\"\n          },\n          area: {\n            tooltip: \"Alue\",\n            help: \"Piirr monikulmio kartalle. Paina <br>CANC, mikli haluat poistaa edellisen pisteen.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Vr mittakaava\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Relaation tiedot',\n        no_relations_found: 'Relaatiota ei lytynyt.',\n        back_to_relations: 'Takaisin relaatioihin',\n        list_of_relations_feature: 'Lista ominaisuuden relaatioista',\n        error_missing_father_field: \"Kentt puuttu\"\n      },\n      workflow: {\n        steps: {\n          title: 'Vaiheet'\n        },\n        next: \"Seuraava\"\n      },\n      form: {\n        loading: 'Ladataan...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Ominaisuuksia ei valiitu. Tarkista, ett taso on muokattavissa tai nkyviss nykyisell mittakaavalla.\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Valitse arvo karttatasolta\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Kentt toisensa poissulkeva.\",\n          input_validation_error: \"Pakollinen kentt tai vr tietotyyppi.\",\n          input_validation_min_field: \"Arvon tulee olla suurempi tai yhtsuuri kuin kentn arvo.\",\n          input_validation_max_field: \"Arvon tulee olla pienempi tai yhtsuuri kuin kentn arvo.\",\n          input_validation_exclude_values: \"Arvon tulee olla uniikki.\",\n          integer: \"kokonaisluku\",\n          bigint: \"kokonaisluku\",\n          text: \"teksti\",\n          varchar: \"teksti\",\n          textarea: \"teksti\",\n          string: \"merkkijono\",\n          date: \"pivys\",\n          float: \"liukuluku\",\n          table: \"taulukko\"\n        },\n        footer: {\n          \"required_fields\": \"Vaaditut kentt\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Kyt relaatioiden mrittmiseen thn tarkoitettua toimintoa\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Paina tst kopioidaksesi url:n.\",\n            copied: \"Kopioitu.\"\n          },\n          download: {\n            shp: 'Lataa SHP-tiedosto',\n            gpx: 'Lataa GPX-tiedosto',\n            gpkg: 'Lataa GPKG-tiedosto',\n            csv: 'Lataa CSV-tiedosto',\n            xls: 'Lataa XLS-tiedosto',\n            geotiff: 'Lataa GEOTIFF-tiedosto',\n            geotiff_map_extent: \"Lataa GEOTIFF-tiedosto(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista prosesseista\",\n        tooltip: 'Valitse kartalta'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Sovellus perustuu OS framework\",\n      g3wSuiteDescription: \"Julkaise ja hallinnoi QGIS-projekteja verkossa.\",\n      productOf: \"Frameworkin on kehittnyt\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Kirjaudu ulos\",\n    no_other_projects: \"Ei projekteja tlle ryhmlle\",\n    yes: \"Kyll\",\n    no: \"Ei\",\n    back: \"Palaa\",\n    backto: \"Takaisin \",\n    changemap: \"Vaihda karttaa\",\n    component: \"Yleinen komponentti\",\n    search: \"Hae\",\n    no_results: \"Ei hakutuloksia\",\n    print: \"Tulosta\",\n    create_print: \"Luo tuloste\",\n    dosearch: \"Hae\",\n    catalog: \"Kartta\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Taustakartta\",\n    tools: \"Tykalut\",\n    tree: \"Tasot\",\n    legend: \"Merkintjen selite\",\n    nobaselayer: \"Ei taustakarttaa\",\n    street_search: \"Hae osoite\",\n    show: \"Nyt\",\n    hide: \"Piilota\",\n    copy_form_data: \"Kopioi tiedot\",\n    paste_form_data: \"Liit\",\n    copy_form_data_from_feature: \"Kopioi tiedot kartalta\",\n    error_map_loading: \"Virhe ladattessa karttaa\",\n    check_internet_connection_or_server_admin: \"Tarkista internetyhteys tai ota yhteytt yllpitjn.\",\n    could_not_load_vector_layers: \"Yhteysvirhe, tasoja ei voida ladata.\",\n    server_saver_error: \"Virhe tallentaessa palvelimelle.\",\n    server_error: \"Yhteysvirhe palvelimeen\",\n    save: \"Tallenna\",\n    cancel: \"Peruuta\",\n    close: \"Sulje\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Lis\",\n    exitnosave: \"Poistu tallentamatta\",\n    annul: \"Peruuta\",\n    layer_is_added: \"Samanniminen taso on jo listty.\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Taso on jo listty.\",\n        url_already_added: \"WMS URL  on jo listty.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Tulokset\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Avaa liitetiedosto\",\n      server_error: \"Palvelimella tapahtui virhe.\",\n      no_results: \"Ei tuloksia haulle/kyselylle.\",\n      link_button: \"Avaa\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Sijaintiasi ei saada\"\n      },\n      nominatim: {\n        placeholder: \"Osoite ...\",\n        noresults: \"Ei tuloksia\",\n        notresponseserver: \"Ei vastausta palvelimelta\"\n      },\n      add_layer_control: {\n        header: \"Lis taso\",\n        select_projection: \"Valitse tason projektio\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Valitse tason vri\",\n        drag_layer: \"Ved ja pudota taso thn\"\n      },\n      query: {\n        input_relation: \"Paina nyttksesi relaatiot\"\n      },\n      length: {\n        tooltip: \"Pituus\"\n      },\n      area: {\n        tooltip: \"Pinta-ala\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Napsauta hiiren kakkospainikkeella yksittist tasoa pstksesi lisominaisuuksiin.\",\n      contextmenu: {\n        zoomtolayer: \"Tarkenna tasoon\",\n        open_attribute_table: \"Avaa attribuuttitaulu\",\n        show_metadata: \"Metatiedot\",\n        styles: \"Tyylej\",\n        vector_color_menu: \"Aseta/muuta vri\",\n        layer_opacity: \"Peittvyys\"\n      }\n    },\n    dataTable: {\n      previous: \"Edellinen\",\n      next: \"Seuraava\",\n      lengthMenu: \"Show _MENU_ items\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"Ei tietoja\",\n      nodatafilterd: \"Vastaavia tietueita ei lytynyt\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],328:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Ce site utilise des cookies pour assurer une bonne convivialit pour l'utilisateur final.\",\n      buttonText: \"Jai compris !\"\n    },\n    default: \"par dfaut \",\n    sign_in: \"Se connecter \",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Ajout/Suppression de filtre \",\n        nofilter: \"Supprimer le filtre \",\n        invert: \"Slection inverse \",\n        clear: \"Effacer la slection \",\n        show_features_on_map: \"Afficher les caractristiques visibles sur la carte\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Slectionnez Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Signets spatiaux\",\n        helptext: \"Dplacez-vous sur l'tendue de la carte, insrez le nom et cliquez sur Ajouter\",\n        input: {\n          name: \"Nom\"\n        },\n        sections: {\n          project: {\n            title: \"Signets du projet\"\n          },\n          user: {\n            title: \"Signets de l'utilisateur\"\n          }\n        }\n      },\n      search: {\n        all: 'TOUTES',\n        no_results: \"Aucune valeur trouve\",\n        searching: \"Je cherche...\",\n        error_loading: \"Erreur de chargement des valeurs\",\n        layer_not_searchable: \"Le layer nest pas recherchable\",\n        layer_not_querable: \"Le layer n'est pas interrogeable\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Tapez au moins\",\n            post: \"caractres\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Aucune layer visible',\n        scale: \"chelle\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Tlcharger l'image\",\n        fids_instruction: \"Valeurs acceptes : de 1  la valeur maximale indique par [max]. Il est galement possible d'indiquer une fourchette de valeurs, par exemple 4-6\",\n        fids_example: \"Par exemple 1,4-6 les ids 1,4,5,6 seront imprims\",\n        help: \"Les layers montrs dans l'impression peuvent tre ceux dfinis dans le projet et non ceux montrs sur la carte\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Lancer la recherche\",\n          info: \"Information\",\n          delete: \"Supprimer\",\n          edit: \"Editer\"\n        },\n        messages: {\n          changed: 'Enregistr correctement',\n          number_of_features: \"Nombre de fonctionnalits\"\n        },\n        panel: {\n          button: {\n            all: 'TOUTES',\n            save: 'SAUVEGARDER',\n            test: 'TESTER',\n            clear: 'NETTOYER',\n            run: 'EXECUTER',\n            manual: 'MANUEL'\n          },\n          layers: 'LAYERS',\n          fields: 'CHAMPS',\n          values: 'VALEURS',\n          operators: 'OPERATEURS',\n          expression: 'EXPRESSION'\n        },\n        error_run: \"Une erreur s'est produite. Vrifiez si la requte est correcte\",\n        error_test: \"Erreur d'excution de la requte\",\n        delete: 'Voulez-vous confirmer la suppression ?',\n        additem: 'Entrer le nom de la requte'\n      },\n      errors: {\n        layers: {\n          load: \"Certaines layers du projet ne sont pas disponibles actuellement et n'apparaissent donc pas dans la vue actuelle\"\n        },\n        unsupported_format: 'Format non support',\n        add_external_layer: 'Erreur lors du chargement du layer'\n      },\n      metadata: {\n        title: \"Mtadonnes\",\n        groups: {\n          general: {\n            title: 'GNRAL',\n            fields: {\n              title: 'TITRE',\n              name: 'NOM',\n              description: \"DESCRIPTION\",\n              abstract: \"ABREGE\",\n              keywords: 'LISTE DE MOTS-CLS',\n              fees: \"DROITS D'INSCRIPTION\",\n              accessconstraints: \"CONTRAINTES D'ACCS\",\n              contactinformation: \"CONTACTS\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-mail\",\n                  personprimary: 'Rfrences',\n                  contactvoicetelephone: 'Tlphone',\n                  contactorganization: 'Organisation',\n                  ContactOrganization: 'Organisation',\n                  contactposition: 'Localisation',\n                  ContactPosition: 'Localisation',\n                  contactperson: 'Personne',\n                  ContactPerson: 'Personne'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'INFO ESPACE',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATES',\n            groups: {\n              general: 'GENERALE',\n              spatial: 'INFO ESPACE'\n            },\n            fields: {\n              layers: 'STRATES',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITRE\",\n                name: 'NOM',\n                geometrytype: 'GOMTRIE',\n                source: 'SOURCE',\n                attributes: 'ATTRIBUTES',\n                abstract: 'ABRG',\n                attribution: 'ATTRIBUTION',\n                keywords: \"MOTS- CLS\",\n                metadataurl: 'URL DE MTADONNES',\n                dataurl: \"URL DES DONNES\"\n              }\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Afficher le format de la ligne\",\n          row_to_form: \"Format du formulaire d'affichage\"\n        },\n        zoom_to_features_extent: \"Zoom sur les fonctionnalits\",\n        copy_map_extent_url: 'Copier le lien de visualisation de la carte',\n        download_shapefile: \"Tlcharger le fichier Shapefile\",\n        download_gpx: \"Tlcharger GPX\",\n        download_gpkg: \"Tlcharger GPKG\",\n        download_csv: \"Tlcharger CSV\",\n        download_xls: \"Tlcharger XLS\",\n        show_chart: \"Montrer graphique\",\n        atlas: \"Imprimer l'Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interrogation layer',\n          actions: {\n            add_selection: {\n              hint: \"Ajouter/supprimer une slection\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom sur les fonctionnalits\"\n            },\n            add_features_to_results: {\n              hint: \"Ajouter des fonctionnalits aux rsultats\"\n            },\n            remove_feature_from_results: {\n              hint: \"Supprimer la fonctionnalit des rsultats\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom sur les fonctionnalits\"\n            },\n            relations: {\n              hint: \"Voir les relations\"\n            },\n            relations_charts: {\n              hint: \"Voir les graphiques de relations\"\n            },\n            download_features_shapefile: {\n              hint: 'Tlcharger les fonctionnalits vers Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Tlcharger le Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Tlcharger les fonctionnalits vers GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Tlcharger les fonctionnalits vers GPKG\"\n            },\n            download_gpx: {\n              hint: \"Tlcharger le GPX\"\n            },\n            download_gpkg: {\n              hint: \"Tlcharger le GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Tlcharger les fonctionnalits vers CSV\"\n            },\n            download_csv: {\n              hint: \"Tlcharger le CSV\"\n            },\n            download_features_xls: {\n              hint: \"Tlcharger les fonctionnalits vers XLS\"\n            },\n            download_xls: {\n              hint: \"Tlcharger le XLS\"\n            },\n            atlas: {\n              hint: \"Imprimer l'Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copier l'URL de la carte avec l'extension vers cette gomtrie\",\n              hint_change: \"Copi\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Tlchargement des attributs\",\n            choiches: {\n              feature: {\n                label: \"Fonctionnalits seulement\"\n              },\n              feature_polygon: {\n                label: \"Fonctionnalits+Requte Polygon \"\n              }\n            }\n          },\n          tooltip: 'Requte par polygone',\n          no_geometry: 'La rponse ne contient pas de gomtrie',\n          help: {\n            title: 'Aide - Requte par polygone',\n            message: \"\\n                <ul>\\n                  <li>S\\xE9lectionnez un layer de polygone dans la l\\xE9gende.</li>\\n                  <li>V\\xE9rifiez que le layer est visible dans la carte.</li>\\n                  <li>Cliquez sur une g\\xE9om\\xE9trie du layer s\\xE9lectionn\\xE9.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Requte par polygone de dessin\"\n        },\n        querybybbox: {\n          tooltip: 'Requte pour BBOX',\n          nolayers_visible: \"Aucun layer requtable n'est visible. Assurez-vous qu'au moins un layer wfs est visible pour excuter la requte\",\n          help: {\n            title: 'Aide - Requte BBox',\n            message: \"\\n                  <ul>\\n                    <li>Dessinez un rectangle pour interroger les couches surlign\\xE9es en jaune</li>\\n                 </ul>\\n            \"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Le rsultat de la carte est partiel en raison de la prsence des enregistrements incorrects suivants :\"\n            }\n          },\n          tooltip: 'Ajouter un layer'\n        },\n        geolocation: {\n          tooltip: 'Golocalisation'\n        },\n        measures: {\n          length: {\n            tooltip: \"Longueur\",\n            help: \"Cliquez sur la carte pour continuer  dessiner la ligne.<br>CANC si vous voulez supprimer le dernier vertex insr\"\n          },\n          area: {\n            tooltip: \"Zone\",\n            help: \"Cliquez pour continuer  dessiner le polygone.<br>CANC si vous voulez supprimer le dernier vertex insr\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"chelle invalide\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Donnes relationnelles',\n        no_relations_found: 'Aucune relation trouve',\n        back_to_relations: 'Retour aux relations',\n        list_of_relations_feature: 'Liste des relations entre les caractristiques',\n        error_missing_father_field: \"Le champ concern n'existe pas\"\n      },\n      workflow: {\n        steps: {\n          title: 'tapes'\n        },\n        next: 'Suivant'\n      },\n      form: {\n        loading: 'Chargement...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Aucune fonction slectionne. Vrifier si le layer est en dition ou non visible  l'chelle actuelle\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Obtenir la valeur de la carte\",\n            lonlat: \"Cliquez sur la carte pour obtenir les coordonnes\"\n          },\n          input_validation_mutually_exclusive: \"Champ mutuellement exclusif avec \",\n          input_validation_error: \"Champ obligatoire ou type de valeur incorrect\",\n          input_validation_min_field: \"La valeur doit tre suprieure ou gale au camp \",\n          input_validation_max_field: \"La valeur doit tre infrieure ou gale au champ \",\n          input_validation_exclude_values: \"Le champ doit contenir une valeur diffrente\",\n          integer: \"entier\",\n          bigint: \"entier\",\n          text: \"textuel\",\n          varchar: \"textuel\",\n          textarea: \"textuel\",\n          string: \"chane\",\n          date: \"date\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          required_fields: \"Champs obligatoires\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Grer les relations via un formulaire ddi\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"SLECTIONNEZ LE THME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Cliquez ici pour copier l'url\",\n            copied: \"Copi\"\n          },\n          download: {\n            shp: 'Tlcharger Shapefile',\n            gpx: 'Tlcharger GPX',\n            gpkg: 'Tlcharger GPKG',\n            csv: 'Tlcharger CSV',\n            xls: 'Tlcharger XLS',\n            geotiff: 'Tlcharger GEOTIFF',\n            geotiff_map_extent: \"Tlcharger GEOTIFF(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Liste des processus\",\n        tooltip: 'Cliquez sur la carte'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Application construite avec le framework OS\",\n      g3wSuiteDescription: \"Publiez et grez vos projets QGIS sur le Web\",\n      productOf: \"Framework dvelopp par\"\n    },\n    logout: \"Quitter\",\n    no_other_projects: \"Il n'y a pas d'autres projets dans ce groupe de cartes\",\n    yes: \"Oui\",\n    no: \"No\",\n    back: \"Retour\",\n    backto: \"Retour  \",\n    changemap: \"Changer de carte\",\n    component: \"Composant gnrique\",\n    search: \"Recherches\",\n    no_results: \"Aucun rsultat trouv\",\n    print: \"Imprimer\",\n    create_print: \"Crer une impression\",\n    dosearch: \"Recherche\",\n    catalog: \"Carte\",\n    data: \"Donnes\",\n    externalwms: \"WMS\",\n    baselayers: \"Bases\",\n    tools: \"Outils\",\n    tree: \"Strates\",\n    legend: \"Lgende\",\n    nobaselayer: \"Pas de carte de base\",\n    street_search: \"Adresse de recherche\",\n    show: \"Afficher\",\n    hide: \"Cacher\",\n    copy_form_data: \"Copier les donnes du formulaire\",\n    paste_form_data: \"Coller\",\n    copy_form_data_from_feature: \"Copier les donnes de la carte\",\n    error_map_loading: \"Erreur de chargement de la nouvelle carte\",\n    check_internet_connection_or_server_admin: \"Vrifiez la connexion internet ou contactez l'administrateur\",\n    could_not_load_vector_layers: \"Erreur de connexion au serveur : il n'a pas t possible de charger les vecteurs demands\",\n    server_saver_error: \"Erreur de sauvegarde sur le serveur\",\n    server_error: \"Une erreur s'est produite dans la requte au serveur\",\n    save: \"Sauvegarder\",\n    cancel: \"Supprimer\",\n    close: \"Fermer\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Ajouter\",\n    exitnosave: \"Quitter sans sauvegarder\",\n    annul: \"Annuler\",\n    layer_is_added: \"Layer avec le mme nom dj ajout\",\n    wms_layer_id_already_added: \"WMS Layer dj ajout\",\n    wms_url_already_added: \"WMS URL dj ajout\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Add WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Nivn har redan lagts till.\",\n        url_already_added: \"WMS URL har redan lagts till.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Rsultats\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Ouvrir le document joint\",\n      server_error: \"Une erreur s'est produite dans la requte au serveur\",\n      no_results: \"Aucun rsultat pour cette requte/recherche\",\n      link_button: \"Ouvrir\"\n    },\n    mapcontrols: {\n      geolocations: {\n        title: \"\",\n        error: \"Votre position ne peut tre calcule.\"\n      },\n      nominatim: {\n        placeholder: \"Adresse ...\",\n        noresults: \"Aucun rsultat\",\n        notresponseserver: \"Le serveur ne rpond pas\"\n      },\n      add_layer_control: {\n        header: \"Ajouter un layer\",\n        select_projection: \"Slectionnez le systme de projection de couches\",\n        select_field_to_show: \"Slectionnez le champ  afficher sur la carte\",\n        select_csv_separator: \"Slectionner le sparateur\",\n        select_csv_x_field: \"Slectionnez le champ X\",\n        select_csv_y_field: \"Slectionnez le champ Y\",\n        select_color: \"Slectionnez la couleur du layer\",\n        drag_layer: \"Faire glisser le layer vers cette zone\"\n      },\n      query: {\n        input_relation: \"Cliquez pour voir les relations\"\n      },\n      length: {\n        tooltip: \"Longueur\"\n      },\n      area: {\n        tooltip: \"Zone\"\n      },\n      screenshot: {\n        error: \"Erreur de cration de la capture d'cran\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Cliquez avec le bouton droit de la souris sur les diffrents layers pour accder  des fonctionnalits supplmentaires\",\n      contextmenu: {\n        zoomtolayer: \"Zoom sur le layer\",\n        open_attribute_table: \"Table d'attributs ouverte\",\n        show_metadata: \"Mtadonnes\",\n        styles: \"Styles\",\n        vector_color_menu: \"Dfinir/changer la couleur\",\n        layer_opacity: \"Opacit\"\n      }\n    },\n    dataTable: {\n      previous: \"Prcdent\",\n      next: \"Suivant\",\n      lengthMenu: \"Afficher _MENU_\",\n      info: \"Afficher _START_  _END_ sur _TOTAL_ lignes\",\n      nodatafilterd: \"Aucun rsultat trouv\",\n      infoFiltered: \"(Filtr par _MAX_ rangs totaux)\"\n    }\n  }\n};\n\n},{}],329:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _it = require('./it');\n\nvar _it2 = _interopRequireDefault(_it);\n\nvar _en = require('./en');\n\nvar _en2 = _interopRequireDefault(_en);\n\nvar _fi = require('./fi');\n\nvar _fi2 = _interopRequireDefault(_fi);\n\nvar _se = require('./se');\n\nvar _se2 = _interopRequireDefault(_se);\n\nvar _fr = require('./fr');\n\nvar _fr2 = _interopRequireDefault(_fr);\n\nvar _de = require('./de');\n\nvar _de2 = _interopRequireDefault(_de);\n\nvar _ro = require('./ro');\n\nvar _ro2 = _interopRequireDefault(_ro);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar translations = {\n  it: _it2.default,\n  en: _en2.default,\n  fi: _fi2.default,\n  se: _se2.default,\n  fr: _fr2.default,\n  de: _de2.default,\n  ro: _ro2.default\n};\n\nexports.default = translations;\n\n},{\"./de\":325,\"./en\":326,\"./fi\":327,\"./fr\":328,\"./it\":330,\"./ro\":331,\"./se\":332}],330:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Questo sito utilizza i cookie per garantire una buona usabilit all'utilizzatore finale.\",\n      buttonText: \"Ho capito!\"\n    },\n    default: \"predefinito\",\n    sign_in: \"Accedi\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Aggiungi/Rimuovi Filtro\",\n        nofilter: \"Rimuovi filtro\",\n        invert: \"Inverti Selezione\",\n        clear: \"Annulla selezione\",\n        show_features_on_map: \"Mostra features visibili su mappa\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Formato non supportato\"\n    },\n    layer_position: {\n      top: 'SOPRA',\n      bottom: 'IN FONDO',\n      message: \"Posizione rispetto ai layers della TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Seleziona Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Segnalibri Spaziali\",\n        helptext: \"Posizionati all'estensione del tuo nuovo segnalibro, definisci il nome e clicca Aggiungi\",\n        input: {\n          name: \"Nome\"\n        },\n        sections: {\n          project: {\n            title: \"Segnalibri Progetto\"\n          },\n          user: {\n            title: \"Segnalibri Utente\"\n          }\n        }\n      },\n      search: {\n        all: 'TUTTE',\n        no_results: \"Nessun valore trovato\",\n        searching: \"Sto cercando ..\",\n        error_loading: \"Errore nel caricamento valori\",\n        layer_not_searchable: \"Il layer non  ricercabile\",\n        layer_not_querable: \"Il layer non  interrogabile\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Digita almeno\",\n            post: \"caratteri\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Nessun Layer visibile',\n        template: \"Template\",\n        labels: \"Etichette\",\n        scale: \"Scala\",\n        format: \"Formato\",\n        rotation: \"Rotazione\",\n        download_image: \"Scarica Immagine\",\n        fids_instruction: \"Valori accettati: da 1 al valore massimo indicato da [max]. Possibile indicare anche range di valori es. 4-6\",\n        fids_example: \"Es. 1,4-6 verranno stampati gli id 1,4,5,6\",\n        help: \"I layers mostrati nella stampa potrebbero essere quelli definiti sul progetto e non quelli visualizzati sulla mappa\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Lancia ricerca\",\n          info: \"Informazioni\",\n          delete: \"Cancella\",\n          edit: \"Modifica\"\n        },\n        messages: {\n          changed: 'Salvato correttamente',\n          number_of_features: \"Numero di features\"\n        },\n        panel: {\n          button: {\n            all: 'TUTTI',\n            save: 'SALVA',\n            test: 'TEST',\n            clear: 'PULISCI',\n            run: 'ESEGUI',\n            manual: 'MANUALE'\n          },\n          layers: 'LAYERS',\n          fields: 'CAMPI',\n          values: 'VALORI',\n          operators: 'OPERATORI',\n          expression: 'ESPRESSIONE'\n        },\n        error_run: 'Si  verificato un errore. Verificare se la query  corretta',\n        error_test: \"Errore nell'esecuzione della query\",\n        delete: 'Vuoi confermare la cancellazione?',\n        additem: 'Inserisci nome della ricerca'\n      },\n      errors: {\n        layers: {\n          load: \"Alcuni layers presenti nel progetto non sono attualmente disponibili e quindi non compaiono nell'attuale visualizzazione\"\n        },\n        unsupported_format: 'Formato non supportato',\n        add_external_layer: 'Errore nel caricamento del layer'\n      },\n      metadata: {\n        title: \"Metadati\",\n        groups: {\n          general: {\n            title: 'GENERALE',\n            fields: {\n              title: 'TITOLO',\n              name: 'NOME',\n              description: \"DESCRIZIONE\",\n              abstract: \"ABSTRACT\",\n              keywords: 'LISTA DELLE PAROLE CHIAVE',\n              fees: \"CANONI\",\n              accessconstraints: \"VINCOLI DI ACCESSO\",\n              contactinformation: \"CONTATTI\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-mail\",\n                  personprimary: 'Riferimenti',\n                  contactvoicetelephone: 'Telefono',\n                  contactorganization: 'Organizzazione',\n                  ContactOrganization: 'Organizzazione',\n                  contactposition: 'Posizione',\n                  ContactPosition: 'Posizione',\n                  contactperson: 'Persona',\n                  ContactPerson: 'Persona'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'INFO SPAZIALI',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATI',\n            groups: {\n              general: 'GENERALE',\n              spatial: 'INFO SPAZIALI'\n            },\n            fields: {\n              layers: 'STRATI',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITOLO\",\n                name: 'NOME',\n                geometrytype: 'GEOMETRIA',\n                source: 'SORGENTE',\n                attributes: 'ATTRIBUTI',\n                abstract: 'ABSTRACT',\n                attribution: 'ATTRIBUTION',\n                keywords: \"PAROLE CHIAVE\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Visualizza formato Riga\",\n          row_to_form: \"Visualizza formato Form\"\n        },\n        zoom_to_features_extent: \"Zoom sulle features\",\n        copy_map_extent_url: 'Copia map view link',\n        download_shapefile: \"Scarica Shapefile\",\n        download_gpx: \"Scarica GPX\",\n        download_gpkg: \"Scarica GPKG\",\n        download_csv: \"Scarica CSV\",\n        download_xls: \"Scarica XLS\",\n        show_chart: \"Mostra Grafico\",\n        atlas: \"Stampa Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interroga Layer',\n          actions: {\n            add_selection: {\n              hint: \"Aggiungi/Rimuovi Selezione\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom sulle features\"\n            },\n            add_features_to_results: {\n              hint: \"Aggiungi features ai risultati\"\n            },\n            remove_feature_from_results: {\n              hint: \"Rimuovi feature dai risultati\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom sulla feature\"\n            },\n            relations: {\n              hint: \"Visualizza Relazioni\"\n            },\n            relations_charts: {\n              hint: \"Visualizza grafici relazioni\"\n            },\n            download_features_shapefile: {\n              hint: 'Scarica features in Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Scarica feature in Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Scarica features in GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Scarica features in GPKG\"\n            },\n            download_gpx: {\n              hint: \"Scarica feature in GPX\"\n            },\n            download_gpkg: {\n              hint: \"Scarica feature in GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Scarica features in CSV\"\n            },\n            download_csv: {\n              hint: \"Scarica feature in CSV\"\n            },\n            download_features_xls: {\n              hint: \"Scarica features in XLS\"\n            },\n            download_xls: {\n              hint: \"Scarica la feature in XLS\"\n            },\n            atlas: {\n              hint: \"Stampa Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copia URL mappa con estensione a questa geometria\",\n              hint_change: \"Copiato\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Download attributi\",\n            choiches: {\n              feature: {\n                label: \"Solo features\"\n              },\n              feature_polygon: {\n                label: \"Features+Poligono Interrogazione\"\n              }\n            }\n          },\n          tooltip: 'Interroga per poligono',\n          no_geometry: 'Non contiene la geometria nella risposta',\n          help: {\n            title: 'Guida - Interrogazione con Poligono',\n            message: \"\\n                <ul>\\n                  <li>Seleziona uno strato poligonale in legenda.</li>\\n                  <li>Assicurati che lo strato sia visibile in mappa.</li>\\n                  <li>Clicca su una geometria dello strato selezionato.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Disegna un poligono per interrogare\"\n        },\n        querybybbox: {\n          tooltip: 'Interroga per BBOX',\n          nolayers_visible: \"Nessun layer interrogabile  visibile. Assicurarsi che almeno un layer wfs sia visibile per eseguire l'interrogazione\",\n          help: {\n            title: 'Guida - Interrogazione BBox',\n            message: \"\\n                  <ul>\\n                    <li>Disegna un rettangolo per interrogare gli strati evidenziati in giallo</li>\\n                  </ul>\\n            \"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Il risultato in mappa  parziale a causa della presenza dei seguenti records non corretti:\"\n            }\n          },\n          tooltip: 'Aggiungi Layer'\n        },\n        geolocation: {\n          tooltip: 'Geolocalizzazione'\n        },\n        measures: {\n          length: {\n            tooltip: \"Lunghezza\",\n            help: \"Clicca sulla mappa per continuare a disegnare la linea.<br>CANC se si vuole cancellare l'ultimo vertice inserito\"\n          },\n          area: {\n            tooltip: \"Area\",\n            help: \"Clicca per continuare a disegnare il poligono.<br>CANC se si vuole cancellare l'ultimo vertice inserito\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Scala non valida\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Metri',\n            nautical: 'Miglio Nautico'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Dati Relazione',\n        no_relations_found: 'Nessuna relazione trovata',\n        back_to_relations: 'Ritorna alle relazioni',\n        list_of_relations_feature: 'Lista delle relazioni della feature',\n        error_missing_father_field: \"Il campo relazionato non esiste\"\n      },\n      workflow: {\n        steps: {\n          title: 'Passi'\n        },\n        next: 'Avanti'\n      },\n      form: {\n        loading: 'Caricamento ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Nessuna feature selezionata. Verificare se il layer  in editing o non visibile alla scala attuale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Prendi valore dalla mappa\",\n            lonlat: \"Clicca sulla mappa per prendere le coordinate\"\n          },\n          input_validation_mutually_exclusive: \"Campo mutualmente esclusivo con \",\n          input_validation_error: \"Campo obbligatorio o tipo valore non corretto\",\n          input_validation_min_field: \"Valore deve essere magiore uguale a quello del camp \",\n          input_validation_max_field: \"Valore deve essere minore uguale a quello del campo \",\n          input_validation_exclude_values: \"Campo deve contenere un valore diverso\",\n          integer: \"intero\",\n          bigint: \"intero\",\n          text: \"testuale\",\n          varchar: \"testuale\",\n          textarea: \"testuale\",\n          string: \"stringa\",\n          date: \"data\",\n          float: \"float\",\n          table: \"table\"\n        },\n        footer: {\n          required_fields: \"Campi obbligatori\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Gestisci le relazioni tramite form dedicato\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"TEMA\",\n        choose_map_theme: \"SCEGLI TEMA\",\n        menu: {\n          layerposition: 'Posizione Layer',\n          setwmsopacity: \"Cambia opacit\",\n          wms: {\n            title: \"\",\n            copy: \"Clicca qui per copiare url\",\n            copied: \"Copiato\"\n          },\n          download: {\n            shp: 'Scarica Shapefile',\n            gpx: 'Scarica GPX',\n            gpkg: 'Scarica GPKG',\n            csv: 'Scarica CSV',\n            xls: 'Scarica XLS',\n            geotiff: \"Scarica GEOTIFF\",\n            geotiff_map_extent: \"Scarica GEOTIFF(estensione vista corrente)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista dei processi\",\n        tooltip: 'Clicca sulla mappa'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Applicativo realizzato con il framework OS\",\n      g3wSuiteDescription: \"Pubblica e gestisci i tuoi progetti QGIS sul Web\",\n      productOf: \"Framework sviluppato da\"\n    },\n    toggle_color_scheme: \"Cambia colore\",\n    logout: \"Esci\",\n    no_other_projects: \"Non ci sono altri progetti in questo gruppo cartografico\",\n    yes: \"Si\",\n    no: \"No\",\n    back: \"Indietro\",\n    backto: \"Torna a \",\n    changemap: \"Cambia Mappa\",\n    component: \"Componente Generico\",\n    search: \"Ricerche\",\n    no_results: \"Nessun risultato trovato\",\n    print: \"Stampa\",\n    create_print: \"Crea Stampa\",\n    dosearch: \"Cerca\",\n    catalog: \"Mappa\",\n    data: \"Dati\",\n    externalwms: \"WMS\",\n    baselayers: \"Basi\",\n    tools: \"Strumenti\",\n    tree: \"Strati\",\n    legend: \"Legenda\",\n    nobaselayer: \"Nessuna mappa di base\",\n    street_search: \"Cerca indirizzo\",\n    show: \"Mostra\",\n    hide: \"Nascondi\",\n    copy_form_data: \"Copia i dati del modulo\",\n    paste_form_data: \"Incolla\",\n    copy_form_data_from_feature: \"Copia i dati dalla mappa\",\n    error_map_loading: \"Errore di caricamento della nuova mappa\",\n    check_internet_connection_or_server_admin: \"Controllare la connessione internet o contattare l'amministratore\",\n    could_not_load_vector_layers: \"Errore di connessione al server: non  stato possibile caricare i vettoriali richiesti\",\n    server_saver_error: \"Errore nel salvataggio sul server\",\n    server_error: \"Si  verificato un errore nella richiesta al server\",\n    save: \"Salva\",\n    cancel: \"Cancella\",\n    close: \"Chiudi\",\n    enlange_reduce: \"Allarga/Riduci\",\n    reset_default: \"Dimensione Partenza\",\n    add: \"Aggiungi\",\n    exitnosave: \"Esci senza salvare\",\n    annul: \"Annulla\",\n    layer_is_added: \"Layer con stesso nome gi aggiunto\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Aggiungi WMS Layer',\n          label: {\n            position: \"Posizione su Mappa\",\n            name: \"Nome\",\n            projections: 'Sistema di riferimento',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Elimina WMS url\",\n        layer_id_already_added: \"WMS Layer gi aggiunto\",\n        url_already_added: \"WMS URL gi aggiunto\",\n        layer_add_error: \"WMS Layer non aggiunto. Verificare i parametri o l'url\"\n      }\n    },\n    info: {\n      title: \"Risultati\",\n      list_of_relations: \"Lista delle relazioni\",\n      open_link: \"Apri documento allegato\",\n      server_error: \"Si  verificato un errore nella richiesta al server\",\n      no_results: \"Nessun risultato per questa interrogazione/ricerca \",\n      link_button: \"Apri\"\n    },\n    mapcontrols: {\n      geolocations: {\n        title: \"\",\n        error: \"Non  possibile calcolare la tua posizione.\"\n      },\n      nominatim: {\n        placeholder: \"Indirizzo ...\",\n        noresults: \"Nessun risultato\",\n        notresponseserver: \"Il server non risponde\"\n      },\n      add_layer_control: {\n        header: \"Aggiungi Layer\",\n        select_projection: \"Seleziona il sistema di proiezione del layer\",\n        select_field_to_show: \"Seleziona il campo da visualizzare sulla mappa\",\n        select_csv_separator: \"Seleziona il separatore\",\n        select_csv_x_field: \"Seleziona il campo X\",\n        select_csv_y_field: \"Seleziona il campo Y\",\n        select_color: \"Seleziona il colore del Layer\",\n        drag_layer: \"Trascina il layer in questa area\"\n      },\n      query: {\n        input_relation: \"Clicca per consultare le relazioni\"\n      },\n      length: {\n        tooltip: \"Lunghezza\"\n      },\n      area: {\n        tooltip: \"Area\"\n      },\n      screenshot: {\n        error: \"Errore nella creazione dello screenshot\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Tasto destro sui singoli layer per accedere alle funzionalit aggiuntive\",\n      contextmenu: {\n        zoomtolayer: \"Zoom to Layer\",\n        open_attribute_table: \"Apri tabella attributi\",\n        show_metadata: \"Metadati\",\n        styles: \"Stili\",\n        vector_color_menu: \"Setta/Cambia Colore\",\n        layer_opacity: \"Trasparenza\"\n      }\n    },\n    dataTable: {\n      previous: \"Precedente\",\n      next: \"Successivo\",\n      lengthMenu: \"Visualizza _MENU_\",\n      info: \"Visualizzazione _START_ a _END_ su _TOTAL_ righe\",\n      nodatafilterd: \"Nessun risultato trovato\",\n      infoFiltered: \"(Filtrati da _MAX_ total righe)\"\n    }\n  }\n};\n\n},{}],331:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"Acest website foloseste cookie-uri pentru a furniza vizitatorilor o experien mult mai bun de navigare\",\n      buttonText: \"Am neles!\"\n    },\n    default: \"Implicit\",\n    sign_in: \"Logare\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Adugare/Eliminare Filtrare\",\n        nofilter: \"Eliminare Filtrare\",\n        invert: \"Inversare Selecie\",\n        clear: \"Elimin Selecia\",\n        show_features_on_map: \"Arat entitile vizibile n cadrul hrii\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Formatul nu este acceptat\"\n    },\n    layer_position: {\n      top: 'SUS',\n      bottom: 'JOS',\n      message: \"Poziie relativ la straturile din TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Selectai Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Marcaje spaiale\",\n        helptext: \"Deplasai-v pe ntinderea hrii, introducei numele i facei clic pe Adugai\",\n        input: {\n          name: \"Nume\"\n        },\n        sections: {\n          project: {\n            title: \"Marcaje de proiect\"\n          },\n          user: {\n            title: \"Marcaje utilizator\"\n          }\n        }\n      },\n      search: {\n        all: 'Toate',\n        no_results: \"Fr rezultat\",\n        searching: \"Cutare ...\",\n        error_loading: \"ncrcarea a euat\",\n        layer_not_searchable: \"Nu se poate cuta pe strat\",\n        layer_not_querable: \"Stratul nu se poate interoga\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Te rog introdu\",\n            post: \"sau mai multe caractere\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Nu avem straturi de print',\n        template: \"ablon\",\n        labels: \"Etichete\",\n        scale: \"Scar\",\n        format: \"Format\",\n        rotation: \"Rotaie\",\n        download_image: \"Descarc Imaginea\",\n        fids_instruction: \"Valori acceptate: de la 1 la valoarea [max]. Este posibil inserarea de interval, de ex. 4-6\",\n        fids_example: \"Ex. 1,4-6 vor fi tiprite id 1,4,5,6\",\n        help: \"Straturile prezentate n print pot fi acelea definite n proiect i nu acelea prezentate n cadrul hrii\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Execut\",\n          info: \"Info\",\n          delete: \"Elimin\",\n          edit: \"Modific\"\n        },\n        messages: {\n          changed: 'Salvat',\n          number_of_features: \"Numr de entiti\"\n        },\n        panel: {\n          button: {\n            all: 'TOATE',\n            save: 'SALVEAZ',\n            test: 'TEST',\n            clear: 'TERGE',\n            run: 'RUN',\n            manual: 'MANUAL'\n          },\n          layers: 'STRATURI',\n          fields: 'CMPURI',\n          values: 'VALORI',\n          operators: 'OPERATORI',\n          expression: 'EXPRESII'\n        },\n        error_run: 'A survenit o eroare. De verificat interogarea',\n        error_test: \"A survenit o eroare n timp ce se executa interogarea\",\n        delete: 'Vrei s o tergi?',\n        additem: 'Introdu numele noii cutri'\n      },\n      errors: {\n        layers: {\n          load: \"Cteva straturi nu sunt disponibile\"\n        },\n        unsupported_format: 'Formatul nu este acceptat',\n        add_external_layer: 'Eroare ncrcare strat'\n      },\n      metadata: {\n        title: 'Metadate',\n        groups: {\n          general: {\n            title: 'GENERALITI',\n            fields: {\n              title: 'TITLU',\n              name: 'NUME',\n              description: \"DESCRIERE\",\n              abstract: \"ABSTRACT\",\n              keywords: 'CUVINTE CHEIE',\n              fees: \"TAXE\",\n              accessconstraints: \"CONSTRNGERI DE ACCES\",\n              contactinformation: \"CONTACTE\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"Email\",\n                  personprimary: 'Referine',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Organizaie',\n                  ContactOrganization: 'Organizaie',\n                  contactposition: 'Poziie',\n                  ContactPosition: 'Poziie',\n                  contactperson: 'Persoana',\n                  ContactPerson: 'Persoana'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPAIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'STRATURI',\n            fields: {\n              layers: 'STRATURI',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"TITLU\",\n                name: 'NUME',\n                geometrytype: 'GEOMETRIE',\n                source: 'SURSA',\n                attributes: 'ATRIBUTE',\n                abstract: 'ABSTRACT',\n                attribution: 'ATRIBUIRE',\n                keywords: \"CUVINTE CHEIE\",\n                metadataurl: 'URL METADATE',\n                dataurl: \"URL DATE\"\n              }\n            },\n            groups: {\n              general: 'GENERALITI',\n              spatial: 'SPAIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Vizualizare pe rnduri\",\n          row_to_form: \"Vizualizare formular\"\n        },\n        copy_map_extent_url: 'Copiaz linkul de vizualizare hart',\n        download_shapefile: \"Descarc Shapefile\",\n        download_gpx: \"Descarc GPX\",\n        download_gpkg: \"Descarc GPKG\",\n        download_csv: \"Descarc CSV\",\n        download_xls: \"Descarc XLS\",\n        show_chart: \"Arat Diagrama\",\n        atlas: \"Tiprire Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Interogare strat',\n          actions: {\n            add_selection: {\n              hint: \"Adaug/Elimin Selecia\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zoom la ncadrarea entitilor\"\n            },\n            add_features_to_results: {\n              hint: \"Adaug/Elimin entiti rezultat\"\n            },\n            remove_feature_from_results: {\n              hint: \"Elimin entitate din rezultat\"\n            },\n            zoom_to_feature: {\n              hint: \"Zoom la entitate\"\n            },\n            relations: {\n              hint: \"Arat Relaiile\"\n            },\n            relations_charts: {\n              hint: \"Arat diagrama de relaii\"\n            },\n            download_features_shapefile: {\n              hint: 'Descarc entiti n Shapefile'\n            },\n            download_shapefile: {\n              hint: 'Descarc entitate n Shapefile'\n            },\n            download_features_gpx: {\n              hint: \"Descarc entiti n GPX\"\n            },\n            download_features_gpkg: {\n              hint: \"Descarc entiti n GPKG\"\n            },\n            download_gpx: {\n              hint: \"Descarc entitate n GPX\"\n            },\n            download_gpkg: {\n              hint: \"Descarc entitate n GPKG\"\n            },\n            download_features_csv: {\n              hint: \"Descarc entiti n CSV\"\n            },\n            download_csv: {\n              hint: \"Descarc entitate n CSV\"\n            },\n            download_features_xls: {\n              hint: \"Descarc entiti n XLS\"\n            },\n            download_xls: {\n              hint: \"Descarc entitate n XLS\"\n            },\n            atlas: {\n              hint: \"Tiprire Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copiaz URL hart cu ntinderea geometriei entitii\",\n              hint_change: \"Copiat\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Descrcare atribute\",\n            choiches: {\n              feature: {\n                label: \"Doar entiti\"\n              },\n              feature_polygon: {\n                label: \"Entiti+Poligon Interogare\"\n              }\n            }\n          },\n          tooltip: 'Interogare Dup Poligon',\n          no_geometry: 'Nu avem geometrii n rspuns',\n          help: {\n            title: 'Ghid - Interogare Dup Poligon',\n            message: \"\\n                <ul>\\n                  <li>Selecteaz\\u0103 un strat poligon din TOC.</li>\\n                  <li>Asigur\\u0103-te c\\u0103 stratul este vizibil.</li>\\n                  <li>Click pe o entitate a stratului selectat.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Interogare prin poligon de desen\"\n        },\n        querybybbox: {\n          tooltip: 'Interogare BBox strat',\n          nolayers_visible: 'Nu este vizibil niciun strat de interogare. Trebuie setat cel puin un strat WFS vizibil pentru a efectua interogarea',\n          help: {\n            title: 'Ghid - Interogare BBox strat',\n            message: \"\\n                 <ul>\\n                  <li>Deseneaz\\u0103 un p\\u0103trat pe hart\\u0103 pentru a interoga straturile din TOC de sub </li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"Rezultateul pe hart este parial datorit prezenei urmtoarei liste de rezultate incorecte:\"\n            }\n          },\n          tooltip: 'Adaug Strat'\n        },\n        geolocation: {\n          tooltip: 'Geolocalizare'\n        },\n        measures: {\n          length: {\n            tooltip: \"Lungime\",\n            help: \"Click pe hart pentru a desena linia. Apas <br>CANC dac doreti s tergi ultimul vertex\"\n          },\n          area: {\n            tooltip: \"Aria\",\n            help: \"Click pentru desen poligon. Apas <br>CANC dac doreti s tergi ultimul vertex\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Scar Invalid\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Metri',\n            nautical: 'Mile Nautice'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Date Relaii',\n        no_relations_found: 'Nu am gsit nicio relaie',\n        back_to_relations: 'napoi la relaii',\n        list_of_relations_feature: 'Lista de relaii a entitii',\n        error_missing_father_field: \"Cmpul de legtur lipsete\"\n      },\n      workflow: {\n        steps: {\n          title: 'Pai'\n        },\n        next: 'Urmtorul'\n      },\n      form: {\n        loading: 'Se ncarc ...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Nu avem entitate selectat. Verific dac stratul este n editare sau vizibil la scara curent if layer is on editing or visible at current scale\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Ia valoare din strat\",\n            lonlat: \"Click pe hart pentru a prelua coordonate\"\n          },\n          input_validation_mutually_exclusive: \"Cmp ce se exclude mutual cu \",\n          input_validation_error: \"Cmp mandatoriu sau tip de date greit\",\n          input_validation_min_field: \"Valoarea trebuie s fie mai mare/egal cu valoare cmpului \",\n          input_validation_max_field: \"Valoarea trebuie s fie mai mic/egal cu valoare cmpului \",\n          input_validation_exclude_values: \"Valoarea trebuie s fie unic\",\n          integer: \"integer - nr. ntreg\",\n          bigint: \"integer - nr. ntreg\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"string - text\",\n          date: \"data\",\n          float: \"float - nr. cu zecimale\",\n          table: \"tabel\"\n        },\n        footer: {\n          \"required_fields\": \"Cmpuri necesare\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Folosete formular specific de relaii pentru a lucra cu relaia\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"TEMA\",\n        choose_map_theme: \"ALEGE TEMA\",\n        menu: {\n          layerposition: 'Poziie Strat',\n          setwmsopacity: \"Alege Opacitatea\",\n          wms: {\n            title: \"Titlu\",\n            copy: \"Click pentru copiere URL\",\n            copied: \"Copiat\"\n          },\n          download: {\n            shp: 'Descarc Shapefile',\n            gpx: 'Descarc GPX',\n            gpkg: 'Descarc GPKG',\n            csv: 'Descarc CSV',\n            xls: 'Descarc XLS',\n            geotiff: \"Descarc GEOTIFF\",\n            geotiff_map_extent: \"Descarc GEOTIFF(ce se vede n cadrul hrii)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista de procese\",\n        tooltip: 'Click pe hart'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Aplicaie bazat pe frameworkul\",\n      g3wSuiteDescription: \"Public i administreaz proiectele de QGIS pe WEB\",\n      productOf: \"Framework dezvoltat de\"\n    },\n    toggle_color_scheme: \"Comutare schem de culori\",\n    logout: \"Deconectare\",\n    no_other_projects: \"No more project for this group\",\n    yes: \"Da\",\n    no: \"Nu\",\n    back: \"napoi\",\n    backto: \"napoi la \",\n    changemap: \"Schimbare Hart\",\n    component: \"Component Generic\",\n    search: \"Cutare\",\n    no_results: \"Niciun rezultat gsit\",\n    print: \"Tiprire\",\n    create_print: \"Tiprete\",\n    dosearch: \"Caut\",\n    catalog: \"Hart\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Straturi Baz\",\n    tools: \"Instrumente\",\n    tree: \"Straturi\",\n    legend: \"Legend\",\n    nobaselayer: \"Fr strat de baz\",\n    street_search: \"Caut Adres\",\n    show: \"Arat\",\n    hide: \"Ascunde\",\n    copy_form_data: \"Copiaz data\",\n    paste_form_data: \"Lipete\",\n    copy_form_data_from_feature: \"Copiaz data din hart\",\n    error_map_loading: \"Sunt erori la ncrcarea hrii\",\n    check_internet_connection_or_server_admin: \"Verificai conexiune de internet sau contactai administratorul de sistem\",\n    could_not_load_vector_layers: \"Eroare de conexiune: Straturile nu pot fi ncrcate\",\n    server_saver_error: \"Eroare la salvarea pe server\",\n    server_error: \"Eroare de conexiune la server\",\n    save: \"Salveaz\",\n    cancel: \"Anuleaz\",\n    close: \"nchide\",\n    enlange_reduce: \"Mrete/Micoreaz\",\n    reset_default: \"Mrimea implicit\",\n    add: \"Adaug\",\n    exitnosave: \"Ieire fr salvare\",\n    annul: \"Anuleaz\",\n    layer_is_added: \"Exist un strat cu acelai nume deja adugat\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Adaug strat WMS',\n          label: {\n            position: \"Poziie Hart\",\n            name: \"Nume\",\n            projections: 'Proiecie',\n            layers: 'Straturi'\n          }\n        },\n        add_wms_layer: \"Adaug strat WMS\",\n        delete_wms_url: \"terge URL WMS\",\n        layer_id_already_added: \"Strat WMS deja adugat\",\n        url_already_added: \"URL WMS deja adugat\",\n        layer_add_error: \"Stratul WMS nu s-a adugat. Verificai URL-ul sau parametrii WMS\"\n      }\n    },\n    info: {\n      title: \"Rezultate\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"Deschide document ataat\",\n      server_error: \"Serverul a ntmpinat o eroare\",\n      no_results: \"Niciun rezultat\",\n      link_button: \"Deschide\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Nu te-am putut localiza\"\n      },\n      nominatim: {\n        placeholder: \"Adresa ...\",\n        noresults: \"Niciun rezultat\",\n        notresponseserver: \"Niciun rspuns de la server\"\n      },\n      add_layer_control: {\n        header: \"Adugare Strat\",\n        select_projection: \"Selecteaz proiecia strat\",\n        select_field_to_show: \"Selecteaz cmpul de artat pe hart\",\n        select_csv_separator: \"Selecteaz delimitatorul\",\n        select_csv_x_field: \"Selecteaz cmpul X - Est\",\n        select_csv_y_field: \"Selecteaz cmpul Y - Nord\",\n        select_color: \"Selecteaz culoare strat\",\n        drag_layer: \"Tragei stratul aici (Drag&Drop)\"\n      },\n      query: {\n        input_relation: \"Click pentru a arta relaiile\"\n      },\n      length: {\n        tooltip: \"Lungime\"\n      },\n      area: {\n        tooltip: \"Arie\"\n      },\n      screenshot: {\n        error: \"Eroare captur ecran\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Click dreapta pe strat pentru a accesa opiuni\",\n      contextmenu: {\n        zoomtolayer: \"Zoom pe Strat\",\n        open_attribute_table: \"Deschide Tabela Atribute\",\n        show_metadata: \"Metadate\",\n        styles: 'Stiluri',\n        vector_color_menu: \"Seteaz/Schimb Culoare\",\n        layer_opacity: \"Opacitate\"\n      }\n    },\n    dataTable: {\n      previous: \"Anteriorul\",\n      next: \"Urmtorul\",\n      lengthMenu: \"Arat _MENU_\",\n      info: \"Arat _START_ pn la _END_ din _TOTAL_ de intrri\",\n      no_data: \"Fr date\",\n      nodatafilterd: \"Niciun rezultat\",\n      infoFiltered: \"(filtrat din _MAX_ de rezultate totale)\"\n    }\n  }\n};\n\n},{}],332:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  translation: {\n    cookie_law: {\n      message: \"This website uses cookies to ensure you get the best experience on our website.\",\n      buttonText: \"Got It!\"\n    },\n    default: \"standard\",\n    sign_in: \"Logga in\",\n    layer_selection_filter: {\n      tools: {\n        filter: \"Lgg till/Avlgsna Filtrera\",\n        nofilter: \"Avlgsna Filtrera\",\n        invert: \"Invertera Urval\",\n        clear: \"Annullera Urval\",\n        show_features_on_map: \"Visa funktioner som r synliga p kartan\"\n      }\n    },\n    warning: {\n      not_supported_format: \"Not supported format\"\n    },\n    layer_position: {\n      top: 'TOP',\n      bottom: 'BOTTOM',\n      message: \"Position relative to layers on TOC\"\n    },\n    sdk: {\n      atlas: {\n        template_dialog: {\n          title: \"Vlj Template\"\n        }\n      },\n      spatialbookmarks: {\n        title: \"Rumsliga bokmrken\",\n        helptext: \"Flytta p kartans omfattning, ange namn och klicka p Lgg till\",\n        input: {\n          name: \"Namn\"\n        },\n        sections: {\n          project: {\n            title: \"Projektbokmrken\"\n          },\n          user: {\n            title: \"Anvndarbokmrken\"\n          }\n        }\n      },\n      search: {\n        all: 'ALLA',\n        no_results: \"Inga resultat\",\n        searching: \"Skning ...\",\n        error_loading: \"Fel vid laddning av uppgifter.\",\n        layer_not_searchable: \"Nivn kan inte skas.\",\n        layer_not_querable: \"Frfrgningar kan inte gras p nivn.\",\n        autocomplete: {\n          inputshort: {\n            pre: \"Mata in\",\n            post: \"eller flera tecken\"\n          }\n        }\n      },\n      print: {\n        no_layers: 'Inga niver att skriva ut',\n        template: \"Template\",\n        labels: \"Labels\",\n        scale: \"Skala\",\n        format: \"Format\",\n        rotation: \"Rotation\",\n        download_image: \"Ladda ner bild\",\n        fids_instruction: \"Godknda vrden: Frn ett till vrdet [max]. Mellanslag tillts, t.ex. 4-6.\",\n        fids_example: \"Exempelvis 1,4-6 skriver ut id 1,4,5,6.\",\n        help: \"Niverna p utskriften kan vara specificerade i ett projekt inte sdana som visas p karta.\"\n      },\n      querybuilder: {\n        search: {\n          run: \"Utfr\",\n          info: \"Information\",\n          delete: \"Ta bort\",\n          edit: \"Redigera\"\n        },\n        messages: {\n          changed: 'Sparat',\n          number_of_features: \"Antal funktione\"\n        },\n        panel: {\n          button: {\n            all: 'ALLA',\n            save: 'SPARA',\n            test: 'TEST',\n            clear: 'TM',\n            run: 'UTFR',\n            manual: 'MANUELL'\n          },\n          layers: 'NIVER',\n          fields: 'FLT',\n          values: 'VRDEN',\n          operators: 'OPERATRER',\n          expression: 'KLAUSUL'\n        },\n        error_run: 'Ett fel intrffade. Kontrollera frfrgan.',\n        error_test: \"Ett fel intrffade nr frfrgan utfrdes.\",\n        delete: 'Vill du ta bort den?',\n        additem: 'Ge den nya skningen ett namn.'\n      },\n      errors: {\n        layers: {\n          load: \"Vissa niver r inte tillgngliga.\"\n        },\n        unsupported_format: 'Formatet stds inte',\n        add_external_layer: 'Fel vid laddning av nivn'\n      },\n      metadata: {\n        title: 'Metadata',\n        groups: {\n          general: {\n            title: 'ALLMN',\n            fields: {\n              title: 'RUBRIK',\n              name: 'NAMN',\n              description: \"BESKRIVNING\",\n              abstract: \"SAMMANDRAG\",\n              keywords: 'NYCKELORD',\n              fees: \"AVGIFTER\",\n              accessconstraints: \"TKOMSTBEGRNSNINGAR\",\n              contactinformation: \"KONTAKTUPPGIFTER\",\n              subfields: {\n                contactinformation: {\n                  contactelectronicmailaddress: \"E-post\",\n                  personprimary: 'Referenser',\n                  contactvoicetelephone: 'Telefon',\n                  contactorganization: 'Organisation',\n                  ContactOrganization: 'Organisation',\n                  contactposition: 'Stllning',\n                  ContactPosition: 'Stllning',\n                  contactperson: 'Kontaktperson',\n                  ContactPerson: 'Kontaktperson'\n                }\n              },\n              wms_url: \"WMS\"\n            }\n          },\n          spatial: {\n            title: 'SPATIAL',\n            fields: {\n              crs: 'EPSG',\n              extent: 'BBOX'\n            }\n          },\n          layers: {\n            title: 'NIVER',\n            fields: {\n              layers: 'NIVER',\n              subfields: {\n                crs: 'EPSG',\n                bbox: 'BBOX',\n                title: \"RUBRIK\",\n                name: 'NAMN',\n                geometrytype: 'GEOMETRI',\n                source: 'KLLA',\n                attributes: 'ATTRIBUT',\n                abstract: 'SAMMANDRAG',\n                attribution: 'TILLSKRIVNING',\n                keywords: \"NYCKELORD\",\n                metadataurl: 'METADATA URL',\n                dataurl: \"DATA URL\"\n              }\n            },\n            groups: {\n              general: 'ALLMN',\n              spatial: 'SPATIAL'\n            }\n          }\n        }\n      },\n      tooltips: {\n        relations: {\n          form_to_row: \"Radvy\",\n          row_to_form: \"Tabellvy\"\n        },\n        copy_map_extent_url: 'Kopiera lnk till karta',\n        download_shapefile: \"Ladda SHP-fil\",\n        download_gpx: \"Ladda GPX-fil\",\n        download_gpkg: \"Ladda GPKG-fil\",\n        download_csv: \"Ladda CSV-fil\",\n        download_xls: \"Ladda XLS-fil\",\n        show_chart: \"Visa diagram\", //Tero 9.12.2020\n        atlas: \"Skriv ut Atlas\"\n      },\n      mapcontrols: {\n        query: {\n          tooltip: 'Frfrgningsniv',\n          actions: {\n            add_selection: {\n              hint: \"Lgg till/Avlgsna Urval\"\n            },\n            zoom_to_features_extent: {\n              hint: \"Zooma till egenskapens omfattning\"\n            },\n            add_features_to_results: {\n              hint: \"Add/Remove features to results\"\n            },\n            remove_feature_from_results: {\n              hint: \"Remove feature from results\"\n            },\n            zoom_to_feature: {\n              hint: \"Zooma till egenskapen\"\n            },\n            relations: {\n              hint: \"Visa relationerna\"\n            },\n            relations_charts: {\n              hint: \"Visa relationsdiagrammet\" //Tero 9.12.2020\n            },\n            download_features_shapefile: {\n              hint: 'Ladda egenskapens SHP-fil'\n            },\n            download_shapefile: {\n              hint: 'Ladda egenskapens SHP-fil'\n            },\n            download_features_gpx: {\n              hint: \"Ladda egenskapens GPX-fil\"\n            },\n            download_features_gpkg: {\n              hint: \"Ladda egenskapens GPKG-fil\"\n            },\n            download_gpx: {\n              hint: \"Ladda egenskapens GPX-fil\"\n            },\n            download_gpkg: {\n              hint: \"Ladda egenskapens GPKG-fil\"\n            },\n            download_features_csv: {\n              hint: \"Ladda egenskapens CSV-fil\"\n            },\n            download_csv: {\n              hint: \"Ladda egenskapens CSV-fil\"\n            },\n            download_features_xls: {\n              hint: \"Ladda egenskapens XLS-fil\"\n            },\n            download_xls: {\n              hint: \"Ladda egenskapens XLS-fil\"\n            },\n            atlas: {\n              hint: \"Skriv ut Atlas\"\n            },\n            copy_zoom_to_fid_url: {\n              hint: \"Copy map URL with this geometry feature extension\",\n              hint_change: \"Copied\"\n            }\n          }\n        },\n        querybypolygon: {\n          download: {\n            title: \"Attributes download\",\n            choiches: {\n              feature: {\n                label: \"Features only\"\n              },\n              feature_polygon: {\n                label: \"Features+Query Polygon\"\n              }\n            }\n          },\n          tooltip: 'Frfrgan med polygon',\n          no_geometry: 'No geometry on response',\n          help: {\n            title: 'Ohje - Frfrgan med polygon',\n            message: \"\\n                <ul>\\n                  <li>V\\xE4lj polygonniv\\xE5 i listan.</li>\\n                  <li>Kontrollera att niv\\xE5n \\xE4r synlig.</li>\\n                  <li>V\\xE4lj egenskap p\\xE5 \\xF6nskad niv\\xE5.</li>\\n                </ul>\"\n          }\n        },\n        querybydrawpolygon: {\n          tooltip: \"Frga efter ritpolygon\"\n        },\n        querybybbox: {\n          tooltip: 'BBox-frfrgan som riktar sig till en niv',\n          nolayers_visible: 'Inga niver som frfrgningar kan riktas till. Gr minst en WFS-niv synlig fr att kunna utfra skningen.',\n          help: {\n            title: 'Ohje - BBox-frfrgan som riktar sig till nivn',\n            message: \"\\n                 <ul>\\n                  <li>Rita upp en rektangel p\\xE5 kartan f\\xF6r att utf\\xF6ra f\\xF6rfr\\xE5gan p\\xE5 de i listan understreckade niv\\xE5erna.</li>\\n                 </ul>\"\n          }\n        },\n        addlayer: {\n          messages: {\n            csv: {\n              warning: \"The result in the map is partial due to the presence of the below incorrect records list:\"\n            }\n          },\n          tooltip: 'Lgg till niv'\n        },\n        geolocation: {\n          tooltip: 'Geografiskt lge'\n        },\n        measures: {\n          length: {\n            tooltip: \"Lngd\",\n            help: \"Rita upp en bruten linje p kartan. Tryck <br>CANC, om du vill ta bort fregende punkt.\"\n          },\n          area: {\n            tooltip: \"Omrde\",\n            help: \"Rita upp en polygon p kartan. Tryck <br>CANC, om du vill ta bort fregende punkt.\"\n          }\n        },\n        scale: {\n          no_valid_scale: \"Fel skala\"\n        },\n        scaleline: {\n          units: {\n            metric: 'Meters',\n            nautical: 'Nautical Mile'\n          }\n        }\n      },\n      relations: {\n        relation_data: 'Relationsuppgifter',\n        no_relations_found: 'Inga relationer hittades.',\n        back_to_relations: 'Tillbaka till relationerna',\n        list_of_relations_feature: 'Lista p egenskapens relationer',\n        error_missing_father_field: \"Flt saknas\"\n      },\n      workflow: {\n        steps: {\n          title: 'Skeden'\n        },\n        next: \"Nsta\"\n\n      },\n      form: {\n        loading: 'Laddning...',\n        inputs: {\n          messages: {\n            errors: {\n              picklayer: \"Inga egenskaper har valts. Kontroller att nivn kan redigeras eller att den syns med nuvarande skala.\"\n            }\n          },\n          tooltips: {\n            picklayer: \"Vlj vrde p kartniv\",\n            lonlat: \"Click on map to get coordinates\"\n          },\n          input_validation_mutually_exclusive: \"Flten utesluter varandra.\",\n          input_validation_error: \"Obligatoriskt flt eller fel datatyp.\",\n          input_validation_min_field: \"Vrdet ska vara strre eller lika stort som vrdet i fltet.\",\n          input_validation_max_field: \"Vrdet ska vara mindre eller lika stort som vrdet i fltet.\",\n          input_validation_exclude_values: \"Vrdet ska vara unikt.\",\n          integer: \"heltal\",\n          bigint: \"heltal\",\n          text: \"text\",\n          varchar: \"text\",\n          textarea: \"text\",\n          string: \"teckenstrng\",\n          date: \"datum\",\n          float: \"flyttal\",\n          table: \"tabell\"\n        },\n        footer: {\n          \"required_fields\": \"Obligatoriska flt\"\n        },\n        messages: {\n          qgis_input_widget_relation: \"Anvnd den specifika funktinen fr att bestmma relationer\"\n        }\n      },\n      catalog: {\n        current_map_theme_prefix: \"THEME\",\n        choose_map_theme: \"CHOOSE THEME\",\n        menu: {\n          layerposition: 'Layer Position',\n          setwmsopacity: \"Set Opacity\",\n          wms: {\n            title: \"\",\n            copy: \"Tryck hr fr att kopiera url.\",\n            copied: \"Kopierad.\"\n          },\n          download: {\n            shp: 'Ladda SHP-fil',\n            gpx: 'Ladda GPX-fil',\n            gpkg: 'Ladda GPKG-fil',\n            csv: 'Ladda CSV-fil',\n            xls: 'Ladda XLS-fil',\n            geotiff: 'Ladda GEOTIFF-fil',\n            geotiff_map_extent: \"Ladda GEOTIFF-fil(current view extent)\"\n          }\n        }\n      },\n      wps: {\n        list_process: \"Lista p processer\",\n        tooltip: 'Vlj p kartan'\n      }\n    },\n    credits: {\n      g3wSuiteFramework: \"Tillmpningen baserar p OS framework\",\n      g3wSuiteDescription: \"Publicera och hantera QGIS-projekt p ntet.\",\n      productOf: \"Framework har utvecklats av\"\n    },\n    toggle_color_scheme: \"Toggle color scheme\",\n    logout: \"Logga ut\",\n    no_other_projects: \"Inga projekt fr denna grupp\",\n    yes: \"Ja\",\n    no: \"Nej\",\n    back: \"G tillbaka\",\n    backto: \"Tillbaka \",\n    changemap: \"Byt karta\",\n    component: \"Allmn komponent\",\n    search: \"Sk\",\n    no_results: \"Inga skresultat\",\n    print: \"Skriv ut\",\n    create_print: \"Skapa utskrift\",\n    dosearch: \"Sk\",\n    catalog: \"Karta\",\n    data: \"Data\",\n    externalwms: \"WMS\",\n    baselayers: \"Bakgrundskarta\",\n    tools: \"Verktyg\",\n    tree: \"Niver\",\n    legend: \"Frklaring till beteckningarna\",\n    nobaselayer: \"Ingen bakgrundskarta\",\n    street_search: \"Sk adress\",\n    show: \"Visa\",\n    hide: \"Dlj\",\n    copy_form_data: \"Kopiera uppgifterna\",\n    paste_form_data: \"Infoga\",\n    copy_form_data_from_feature: \"Kopiera uppgifter frn kartan\",\n    error_map_loading: \"Fel vid laddning av kartan\",\n    check_internet_connection_or_server_admin: \"Kontrollera internetanslutningen eller kontakta administratren.\",\n    could_not_load_vector_layers: \"Fel i anslutningen, niver kan inte laddas.\",\n    server_saver_error: \"Fel vid lagring p servern.\",\n    server_error: \"Fel p anslutningen till servern\",\n    save: \"Spara\",\n    cancel: \"nga\",\n    close: \"Stng\",\n    enlange_reduce: \"Enlarge/Reduce\",\n    reset_default: \"Default size\",\n    add: \"Lgg till\",\n    exitnosave: \"Lmna programmet utan att spara\",\n    annul: \"ngra\",\n    layer_is_added: \"Lagret med samma namn har redan lagts till.\",\n    sidebar: {\n      wms: {\n        panel: {\n          title: 'Add WMS Layer',\n          label: {\n            position: \"Map Position\",\n            name: \"Name\",\n            projections: 'Projection',\n            layers: 'Layers'\n          }\n        },\n        add_wms_layer: \"Aggiungi WMS layer\",\n        delete_wms_url: \"Delete WMS url\",\n        layer_id_already_added: \"WMS Nivn har redan lagts till.\",\n        url_already_added: \"WMS URL har redan lagts till.\",\n        layer_add_error: \"WMS Layer not added. Please check all wms parameter or url\"\n      }\n    },\n    info: {\n      title: \"Resultat\",\n      list_of_relations: \"List of Relations\",\n      open_link: \"ppna filbilaga\",\n      server_error: \"Ett fel uppstod p servern.\",\n      no_results: \"Inga resultat fr skningen/frfrgan.\",\n      link_button: \"ppna\"\n    },\n    mapcontrols: {\n      geolocations: {\n        error: \"Du kan inte lokaliseras\"\n      },\n      nominatim: {\n        placeholder: \"Adress ...\",\n        noresults: \"Inga resultat\",\n        notresponseserver: \"Inget svar frn servern\"\n      },\n      add_layer_control: {\n        header: \"Lgg till niv\",\n        select_projection: \"Vlj projektion fr nivn\",\n        select_field_to_show: \"Select Field to show on map\",\n        select_csv_separator: \"Select delimiter\",\n        select_csv_x_field: \"Select X field\",\n        select_csv_y_field: \"Select Y field\",\n        select_color: \"Vlj frg p nivn\",\n        drag_layer: \"Dra och slpp nivn hit\"\n      },\n      query: {\n        input_relation: \"Tryck fr att visa relationerna\"\n      },\n      length: {\n        tooltip: \"Lngd\"\n      },\n      area: {\n        tooltip: \"Areal\"\n      },\n      screenshot: {\n        error: \"Screenshot error creation\"\n      }\n    },\n    catalog_items: {\n      helptext: \"Hgerklicka p en enskild niv fr att komma till tillggsegenskaperna.\",\n      contextmenu: {\n        zoomtolayer: \"Zooma till niv\",\n        open_attribute_table: \"ppna attributtabellen\",\n        show_metadata: \"Metadata\",\n        styles: \"Stilar\",\n        vector_color_menu: \"Stll in/ndra frg\",\n        layer_opacity: \"Opacitet\"\n      }\n    },\n    dataTable: {\n      previous: \"Fregende\",\n      next: \"Nsta\",\n      lengthMenu: \"Show _MENU_ items\",\n      info: \"Showing _START_ to _END_ of _TOTAL_ entries\",\n      no_data: \"Inga uppgifter\",\n      nodatafilterd: \"Inga motsvarande poster hittades\",\n      infoFiltered: \"(filtered from _MAX_ total records)\"\n    }\n  }\n};\n\n},{}],333:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nexports.default = {\n  methods: {\n    autocompleteRequest: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            layerId = _ref2.layerId,\n            field = _ref2.field,\n            value = _ref2.value;\n\n        var data, layer;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = [];\n                layer = _catalogLayers2.default.getLayerById(layerId);\n                _context.prev = 2;\n                _context.next = 5;\n                return layer.getFilterData({\n                  suggest: field + '|' + value,\n                  unique: field\n                });\n\n              case 5:\n                data = _context.sent;\n                _context.next = 10;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context['catch'](2);\n\n              case 10:\n                return _context.abrupt('return', data.map(function (value) {\n                  return {\n                    id: value,\n                    text: value\n                  };\n                }));\n\n              case 11:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[2, 8]]);\n      }));\n\n      function autocompleteRequest() {\n        return _ref.apply(this, arguments);\n      }\n\n      return autocompleteRequest;\n    }()\n  }\n};\n\n},{\"store/catalog-layers\":369}],334:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  computed: {\n    tabIndex: function tabIndex() {\n      return this.editable ? 0 : -1;\n    },\n    notvalid: function notvalid() {\n      return this.state.validate.valid === false;\n    },\n    editable: function editable() {\n      return this.state.editable;\n    },\n    showhelpicon: function showhelpicon() {\n      return this.state.help && this.state.help.message.trim();\n    },\n    disabled: function disabled() {\n      return !this.editable || this.loadingState === 'loading' || this.loadingState === 'error';\n    },\n    loadingState: function loadingState() {\n      return this.state.input.options.loading ? this.state.input.options.loading.state : null;\n    }\n  },\n  methods: {\n    showHideHelp: function showHideHelp() {\n      this.state.help.visible = !this.state.help.visible;\n    },\n\n    // used to text input to listen mobile changes\n    mobileChange: function mobileChange(event) {\n      this.state.value = event.target.value;\n      this.change();\n    },\n\n    // called when input value change\n    change: function change() {\n      this.service.setEmpty();\n      this.service.setUpdate();\n      // validate input if is required or need to be unique\n      if (this.state.validate.required || this.state.validate.unique) this.service.validate();\n      // emit change input\n      this.$emit('changeinput', this.state);\n    },\n    isVisible: function isVisible() {}\n  }\n};\n\n},{}],335:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  methods: {\n    getFieldService: function getFieldService() {\n      if (this._fieldsService === undefined) this._fieldsService = require('gui/fields/fieldsservice');\n      return this._fieldsService;\n    },\n    getFieldType: function getFieldType(field) {\n      return this.getFieldService().getType(field);\n    },\n    isSimple: function isSimple(field) {\n      return this.getFieldService().isSimple(field);\n    },\n    isLink: function isLink(field) {\n      return this.getFieldService().isLink(field);\n    },\n    isImage: function isImage(field) {\n      return this.getFieldService().isImage(field);\n    },\n    isPhoto: function isPhoto(field) {\n      return this.getFieldService().isPhoto(field);\n    },\n    isVue: function isVue(field) {\n      return this.getFieldService().isVue(field);\n    },\n    sanitizeFieldValue: function sanitizeFieldValue(value) {\n      return Array.isArray(value) && !value.length ? '' : value;\n    }\n  }\n};\n\n},{\"gui/fields/fieldsservice\":119}],336:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  data: function data() {\n    return {\n      valid: false\n    };\n  },\n\n  methods: {\n    addToValidate: function addToValidate(input) {\n      this.tovalidate.push(input);\n    },\n    changeInput: function changeInput(input) {\n      this.isValid(input);\n    },\n\n    // Every input send to form it valid value that will change the genaral state of form\n    isValid: function isValid(input) {\n      var _this = this;\n\n      if (input) {\n        // check mutually\n        if (input.validate.mutually) {\n          if (!input.validate.required) {\n            if (!input.validate.empty) {\n              input.validate._valid = input.validate.valid;\n              input.validate.mutually_valid = input.validate.mutually.reduce(function (previous, inputname) {\n                return previous && _this.tovalidate[inputname].validate.empty;\n              }, true);\n              input.validate.valid = input.validate.mutually_valid && input.validate.valid;\n            } else {\n              input.value = null;\n              input.validate.mutually_valid = true;\n              input.validate.valid = true;\n              input.validate._valid = true;\n              var countNoTEmptyInputName = [];\n              for (var i = input.validate.mutually.length; i--;) {\n                var inputname = input.validate.mutually[i];\n                !this.tovalidate[inputname].validate.empty && countNoTEmptyInputName.push(inputname);\n              }\n              if (countNoTEmptyInputName.length < 2) {\n                countNoTEmptyInputName.forEach(function (inputname) {\n                  _this.tovalidate[inputname].validate.mutually_valid = true;\n                  _this.tovalidate[inputname].validate.valid = true;\n                  setTimeout(function () {\n                    _this.tovalidate[inputname].validate.valid = _this.tovalidate[inputname].validate._valid;\n                    _this.state.valid = _this.state.valid && _this.tovalidate[inputname].validate.valid;\n                  });\n                });\n              }\n            }\n          }\n          //check if min_field or max_field is set\n        } else if (!input.validate.empty && (input.validate.min_field || input.validate.max_field)) {\n          var input_name = input.validate.min_field || input.validate.max_field;\n          input.validate.valid = input.validate.min_field ? this.tovalidate[input.validate.min_field].validate.empty || 1 * input.value > 1 * this.tovalidate[input.validate.min_field].value : this.tovalidate[input.validate.max_field].validate.empty || 1 * input.value < 1 * this.tovalidate[input.validate.max_field].value;\n          if (input.validate.valid) this.tovalidate[input_name].validate.valid = true;\n        }\n      }\n      this.valid = Object.values(this.tovalidate).reduce(function (previous, input) {\n        return previous && input.validate.valid;\n      }, true);\n    }\n  },\n  created: function created() {\n    this.tovalidate = [];\n  },\n  destroyed: function destroyed() {\n    this.tovalidate = null;\n  }\n};\n\n},{}],337:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n  methods: {\n    showLayer: function showLayer() {\n      this.visible = !this.visible;\n      this.layer.setVisible(this.visible);\n    }\n  },\n  created: function created() {\n    var data = this.data;\n    var mapService = _gui2.default.getComponent('map').getService();\n    var mapProjection = mapService.getProjection().getCode();\n    var style = void 0;\n    switch (data.type) {\n      case 'Point':\n      case 'MultiPoint':\n        style = [new ol.style.Style({\n          image: new ol.style.Circle({\n            radius: 6,\n            fill: new ol.style.Fill({\n              color: [255, 255, 255, 1.0]\n            }),\n            stroke: new ol.style.Stroke({\n              color: [0, 0, 0, 1.0],\n              width: 2\n            })\n          })\n        }), new ol.style.Style({\n          image: new ol.style.Circle({\n            radius: 2,\n            fill: new ol.style.Fill({\n              color: [255, 255, 255, 1.0]\n            }),\n            stroke: new ol.style.Stroke({\n              color: [0, 0, 0, 1.0],\n              width: 2\n            })\n          })\n        })];\n        break;\n      case 'Line':\n      case 'MultiLineString':\n      case 'Polygon':\n      case 'MultiPolygon':\n        style = new ol.style.Style({\n          fill: new ol.style.Fill({\n            color: 'rgba(255, 255, 255, 0.3)'\n          }),\n          stroke: new ol.style.Stroke({\n            color: [0, 0, 0, 1.0],\n            width: 2\n          })\n        });\n        break;\n    }\n    this.layer = new ol.layer.Vector({\n      source: new ol.source.Vector({\n        features: new ol.format.GeoJSON().readFeatures(data, {\n          featureProjection: mapProjection\n        })\n      }),\n      visible: !!this.visible,\n      style: style\n    });\n    mapService.getMap().addLayer(this.layer);\n  },\n  beforeDestroy: function beforeDestroy() {\n    var mapService = _gui2.default.getComponent('map').getService();\n    mapService.getMap().removeLayer(this.layer);\n  }\n}; /**\n    * @file\n    * @since v3.7\n    */\n\n},{\"services/gui\":356}],338:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mixins = exports.autocompleteMixin = exports.baseInputMixin = exports.metadataMixin = exports.widgetMixins = exports.formInputsMixins = exports.select2Mixin = exports.selectMixin = exports.resizeMixin = exports.geoMixin = exports.mediaMixin = exports.fieldsMixin = undefined;\n\nvar _autocomplete = require('mixins/autocomplete');\n\nvar _autocomplete2 = _interopRequireDefault(_autocomplete);\n\nvar _fields = require('mixins/fields');\n\nvar _fields2 = _interopRequireDefault(_fields);\n\nvar _media = require('mixins/media');\n\nvar _media2 = _interopRequireDefault(_media);\n\nvar _geo = require('mixins/geo');\n\nvar _geo2 = _interopRequireDefault(_geo);\n\nvar _resize = require('mixins/resize');\n\nvar _resize2 = _interopRequireDefault(_resize);\n\nvar _select = require('mixins/select');\n\nvar _select2 = _interopRequireDefault(_select);\n\nvar _select3 = require('mixins/select2');\n\nvar _select4 = _interopRequireDefault(_select3);\n\nvar _formInputs = require('mixins/form-inputs');\n\nvar _formInputs2 = _interopRequireDefault(_formInputs);\n\nvar _widget = require('mixins/widget');\n\nvar _widget2 = _interopRequireDefault(_widget);\n\nvar _metadata = require('mixins/metadata');\n\nvar _metadata2 = _interopRequireDefault(_metadata);\n\nvar _baseInput = require('mixins/base-input');\n\nvar _baseInput2 = _interopRequireDefault(_baseInput);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mixins = {\n  autocompleteMixin: _autocomplete2.default,\n  fieldsMixin: _fields2.default,\n  mediaMixin: _media2.default,\n  geoMixin: _geo2.default,\n  resizeMixin: _resize2.default,\n  selectMixin: _select2.default,\n  select2Mixin: _select4.default,\n  formInputsMixins: _formInputs2.default,\n  widgetMixins: _widget2.default,\n  metadataMixin: _metadata2.default,\n  baseInputMixin: _baseInput2.default\n}; /**\n    * @file\n    * @since v3.7\n    */\n\nexports.fieldsMixin = _fields2.default;\nexports.mediaMixin = _media2.default;\nexports.geoMixin = _geo2.default;\nexports.resizeMixin = _resize2.default;\nexports.selectMixin = _select2.default;\nexports.select2Mixin = _select4.default;\nexports.formInputsMixins = _formInputs2.default;\nexports.widgetMixins = _widget2.default;\nexports.metadataMixin = _metadata2.default;\nexports.baseInputMixin = _baseInput2.default;\nexports.autocompleteMixin = _autocomplete2.default;\nexports.mixins = mixins;\nexports.default = mixins;\n\n},{\"mixins/autocomplete\":333,\"mixins/base-input\":334,\"mixins/fields\":335,\"mixins/form-inputs\":336,\"mixins/geo\":337,\"mixins/media\":339,\"mixins/metadata\":340,\"mixins/resize\":341,\"mixins/select\":342,\"mixins/select2\":343,\"mixins/widget\":344}],339:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  computed: {\n    filename: function filename() {\n      return this.value ? this.value.split('/').pop() : this.value;\n    }\n  },\n  methods: {\n    isMedia: function isMedia(value) {\n      if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.constructor === Object) return !!value.mime_type;\n      return false;\n    },\n    getMediaType: function getMediaType(mime_type) {\n      var media = {\n        type: null,\n        options: {}\n      };\n      switch (mime_type) {\n        case 'image/gif':\n        case 'image/png':\n        case 'image/jpeg':\n        case 'image/bmp':\n          media.type = 'image';\n          break;\n        case 'application/pdf':\n          media.type = 'pdf';\n          break;\n        case 'video/mp4':\n        case 'video/ogg':\n        case 'video/x-ms-wmv':\n        case 'video/x-msvideo':\n        case 'video/quicktime':\n          media.type = 'video';\n          media.options.format = mime_type;\n          break;\n        case 'application/gzip':\n        case 'application/zip':\n          media.type = 'zip';\n          break;\n        case 'application/msword':\n        case 'application/vnd.oasis.opendocument.text':\n          media.type = 'text';\n          break;\n        case 'application/vnd.ms-office':\n        case 'application/vnd.oasis.opendocument.spreadsheet':\n          media.type = 'excel';\n          break;\n        case 'application/vnd.openxmlformats-officedocument.presentationml.presentation':\n        case 'application/vnd.ms-powerpoint':\n        case 'application/vnd.oasis.opendocument.presentation':\n          media.type = 'ppt';\n          break;\n        default:\n          media.type = 'unknow';\n      }\n      return media;\n    }\n  }\n};\n\n},{}],340:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  methods: {\n    findAttributeFormMetadataAttribute: function findAttributeFormMetadataAttribute(name) {\n      return this.state.metadata ? this.state.metadata[name] !== undefined : false;\n    },\n    findMetadataAttribute: function findMetadataAttribute(name) {\n      return this.state[name] !== undefined;\n    }\n  }\n};\n\n},{}],341:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    throttle = _require.throttle,\n    debounce = _require.debounce;\n\nvar DELAY_TYPE = {\n  throttle: throttle,\n  debounce: debounce\n};\n\nexports.default = {\n  created: function created() {\n    var delayWrapper = this.delayType && DELAY_TYPE[this.delayType] || DELAY_TYPE.throttle;\n    this.delayResize = this.resize ? delayWrapper(this.resize.bind(this), this.delayTime) : null;\n    _gui2.default.on('resize', this.delayResize);\n  },\n  mounted: function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.$nextTick();\n\n            case 2:\n              this.resize && this.resize();\n\n            case 3:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function mounted() {\n      return _ref.apply(this, arguments);\n    }\n\n    return mounted;\n  }(),\n  beforeDestroy: function beforeDestroy() {\n    _gui2.default.off('resize', this.delayResize);\n    this.delayResize = null;\n    this.delayTime = null;\n  }\n};\n\n},{\"core/utils/utils\":68,\"services/gui\":356}],342:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nvar _require = require('core/i18n/i18n.service'),\n    getAppLanguage = _require.getAppLanguage;\n\nexports.default = {\n  methods: {\n    getLanguage: function getLanguage() {\n      return getAppLanguage();\n    },\n    changeSelect: function changeSelect(value) {\n      this.state.value = value === 'null' ? null : value;\n      this.change();\n    },\n    getValue: function getValue(value) {\n      return value === null ? 'null' : value;\n    },\n    resetValues: function resetValues() {\n      this.state.input.options.values.splice(0);\n    }\n  },\n  computed: {\n    autocomplete: function autocomplete() {\n      return this.state.input.type === 'select_autocomplete' && this.state.input.options.usecompleter;\n    }\n  },\n  watch: {\n    notvalid: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(value) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.$nextTick();\n\n              case 2:\n                if (this.select2) value ? this.select2.data('select2').$container.addClass(\"input-error-validation\") : this.select2.data('select2').$container.removeClass(\"input-error-validation\");\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function notvalid(_x) {\n        return _ref.apply(this, arguments);\n      }\n\n      return notvalid;\n    }()\n  }\n};\n\n},{\"core/i18n/i18n.service\":14}],343:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _resize = require('mixins/resize');\n\nvar _resize2 = _interopRequireDefault(_resize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  mixins: [_resize2.default],\n  methods: {\n    setValue: function setValue() {\n      this.select2.val(this.state.value).trigger('change');\n    },\n    resize: function resize() {\n      this.select2 && !_applicationState2.default.ismobile && this.select2.select2('close');\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    //destroy a select2  dom element\n    this.select2 && this.select2.select2('destroy');\n    // remove all event\n    this.select2.off();\n    this.select2 = null;\n  }\n};\n\n},{\"mixins/resize\":341,\"store/application-state\":368}],344:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.7\n */\n\nexports.default = {\n  data: function data() {\n    return {\n      changed: false\n    };\n  },\n\n  methods: {\n    widgetChanged: function widgetChanged() {\n      this.changed = true;\n      this.change();\n    },\n    stateValueChanged: function stateValueChanged(value) {\n      console.log('need to be implemented by widget'); // method to overwrite\n    }\n  },\n  watch: {\n    'state.value': function stateValue(value) {\n      this.changed ? this.changed = false : this.stateValueChanged(value);\n    }\n  }\n};\n\n},{}],345:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    reject = _require.reject;\n\nvar G3WObject = require('core/g3wobject');\n\n// Class Api Service\nfunction ApiService() {\n  this._config = null;\n  this._baseUrl = null;\n  this.init = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var d = $.Deferred();\n    this._config = config;\n    // prende l'url base delle api dal config dell'applicazione\n    this._baseUrl = config.urls.api;\n    this._apiEndpoints = config.urls.apiEndpoints;\n    d.resolve();\n    return d.promise();\n  };\n  var howManyAreLoading = 0;\n  this._incrementLoaders = function () {\n    howManyAreLoading === 0 && this.emit('apiquerystart');\n    howManyAreLoading += 1;\n  };\n\n  this._decrementLoaders = function () {\n    howManyAreLoading -= 1;\n    howManyAreLoading === 0 && this.emit('apiqueryend');\n  };\n  this.get = function (api, options) {\n    var _this = this;\n\n    var apiEndPoint = this._apiEndpoints[api];\n    if (apiEndPoint) {\n      var completeUrl = this._baseUrl + '/' + apiEndPoint;\n      if (options.request) completeUrl = completeUrl + '/' + options.request;\n      var params = options.params || {};\n      this.emit(api + 'querystart');\n      this._incrementLoaders();\n      return $.get(completeUrl, params).done(function (response) {\n        _this.emit(api + 'queryend', response);\n        return response;\n      }).fail(function (error) {\n        _this.emit(api + 'queryfail', error);\n        return error;\n      }).always(function () {\n        return _this._decrementLoaders();\n      });\n    } else return reject();\n  };\n  base(this);\n}\n\ninherit(ApiService, G3WObject);\n\nexports.default = new ApiService();\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],346:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _config = require('config');\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _constant = require('app/constant');\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nvar _plugins = require('store/plugins');\n\nvar _plugins2 = _interopRequireDefault(_plugins);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _api = require('services/api');\n\nvar _api2 = _interopRequireDefault(_api);\n\nvar _clipboard = require('services/clipboard');\n\nvar _clipboard2 = _interopRequireDefault(_clipboard);\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/i18n/i18n.service'),\n    i18ninit = _require.init,\n    changeLanguage = _require.changeLanguage;\n\nvar _require2 = require('core/utils/utils'),\n    base = _require2.base,\n    inherit = _require2.inherit,\n    XHR = _require2.XHR,\n    uniqueId = _require2.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\n//Manage Application\nvar ApplicationService = function ApplicationService() {\n  var _this = this;\n\n  this.version = _constant.APP_VERSION;\n  _applicationState2.default.iframe = window.top !== window.self;\n  _applicationState2.default.online = navigator.onLine;\n  _applicationState2.default.ismobile = isMobile.any;\n  this.complete = false;\n  this.baseurl = '/'; // set base url\n  this.download_caller_id = null;\n  // store all services sidebar etc..\n  this._applicationServices = {};\n  this.config = {};\n  this._initConfigUrl = null;\n  this._initConfig = null;\n  this._groupId = null;\n  this._gid = null;\n  this.setters = {\n    changeProject: function changeProject() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          gid = _ref.gid,\n          host = _ref.host;\n\n      return this._changeProject({ gid: gid, host: host });\n    },\n    online: function online() {\n      this.setOnline();\n    },\n    offline: function offline() {\n      this.setOffline();\n    },\n    setFilterToken: function setFilterToken(filtertoken) {\n      this._setFilterToken(filtertoken);\n    }\n  };\n  base(this);\n  /*\n  * intiConfig as parameter\n  * */\n  this.on('initconfig', function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        user = _ref2.user;\n\n    // only user attribute is used\n    _this.setApplicationUser(user);\n  });\n  // init application\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var config, browserLanguage, language;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return this.createApplicationConfig();\n\n          case 3:\n            config = _context.sent;\n\n            this.setConfig(config);\n            this.setLayout('app', config.layout);\n            _context.next = 8;\n            return this.bootstrap();\n\n          case 8:\n            return _context.abrupt('return', _context.sent);\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context['catch'](0);\n            browserLanguage = navigator && navigator.language || 'en';\n            language = _config2.default.supportedLanguages.find(function (language) {\n              return browserLanguage.indexOf(language) !== -1;\n            });\n            return _context.abrupt('return', Promise.reject({\n              error: _context.t0,\n              language: language\n            }));\n\n          case 16:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[0, 11]]);\n  }));\n  /**\n   * setup Internationalization\n   */\n  this.setupI18n = function () {\n    var languageConfig = this._config._i18n;\n    languageConfig.appLanguages = this._config.i18n.map(function (languageLabel) {\n      return languageLabel[0];\n    });\n    this.setApplicationLanguage(languageConfig.language);\n    //setup internationalization for translation\n    i18ninit(languageConfig);\n    this._groupId = this._config.group.slug || this._config.group.name.replace(/\\s+/g, '-').toLowerCase();\n    // set accept-language reuest header based on config language\n    var userLanguage = this._config.user.i18n || 'en';\n    $.ajaxSetup({\n      beforeSend: function beforeSend(jqXHR) {\n        jqXHR.setRequestHeader('Accept-Language', userLanguage);\n      }\n    });\n  };\n\n  this.getCurrentProject = function () {\n    return _projects2.default.getCurrentProject();\n  };\n\n  /**\n   *\n   * @param bool\n   * @param download_caller_id\n   * @returns {null}\n   */\n  this.setDownload = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var download_caller_id = arguments[1];\n\n    if (download_caller_id) {\n      if (!bool && download_caller_id && this.download_caller_id === download_caller_id) {\n        _applicationState2.default.download = false;\n        this.download_caller_id = null;\n      } else if (bool && this.download_caller_id === null) {\n        _applicationState2.default.download = bool;\n        this.download_caller_id = uniqueId();\n      }\n    } else _applicationState2.default.download = bool;\n    return this.download_caller_id;\n  };\n\n  this.getDownload = function () {\n    return _applicationState2.default.download;\n  };\n\n  this.loadingPlugin = function (plugin) {\n    _applicationState2.default.plugins.push(plugin);\n  };\n\n  /*\n  * plugin: name of plugin\n  * */\n  this.loadedPlugin = function (plugin) {\n    _applicationState2.default.plugins = _applicationState2.default.plugins.filter(function (_plugin) {\n      return _plugin !== plugin;\n    });\n  };\n\n  /*\n   *filtertoken methods\n  */\n\n  /**\n   * token is a string passed by server and used as parameter in XHR request\n   * @param filtertoken\n   * @private\n   */\n  this._setFilterToken = function (filtertoken) {\n    _applicationState2.default.tokens.filtertoken = filtertoken;\n  };\n\n  this.getFilterToken = function () {\n    return _applicationState2.default.tokens.filtertoken;\n  };\n\n  /**\n   *  filter token methods\n   */\n\n  this.changeLanguage = function (language) {\n    changeLanguage(language);\n    /**\n     * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n     */\n    _applicationState2.default.lng = language;\n    _applicationState2.default.language = language;\n    var pathname = window.location.pathname;\n    var pathArray = pathname.split('/');\n    pathArray[1] = language;\n    history.replaceState(null, null, pathArray.join('/'));\n  };\n\n  this.registerOnlineOfflineEvent = function () {\n    var _this2 = this;\n\n    this.registerWindowEvent({\n      evt: 'online',\n      cb: function cb() {\n        return _this2.online();\n      }\n    });\n\n    this.registerWindowEvent({\n      evt: 'offline',\n      cb: function cb() {\n        return _this2.offline();\n      }\n    });\n  };\n\n  this.getBaseLayerId = function () {\n    return _applicationState2.default.baseLayerId;\n  };\n\n  this.setBaseLayerId = function (baseLayerId) {\n    _applicationState2.default.baseLayerId = baseLayerId;\n  };\n\n  this.registerLeavePage = function () {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref4$bool = _ref4.bool,\n        bool = _ref4$bool === undefined ? false : _ref4$bool,\n        _ref4$message = _ref4.message,\n        message = _ref4$message === undefined ? '' : _ref4$message;\n\n    var _return = !bool ? undefined : bool;\n    window.onbeforeunload = function (event) {\n      return _return;\n    };\n  };\n\n  this.unregisterOnlineOfflineEvent = function () {\n    window.removeEventListener('online');\n    window.removeEventListener('offline');\n  };\n\n  this.getState = function () {\n    return _applicationState2.default;\n  };\n\n  this.disableApplication = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    _applicationState2.default.gui.app.disabled = bool;\n  };\n\n  this.setApplicationLanguage = function () {\n    var language = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'en';\n\n    /**\n     * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n     */\n    _applicationState2.default.lng = language;\n    _applicationState2.default.language = language;\n  };\n\n  this.getApplicationLanguage = function () {\n    return _applicationState2.default.language;\n  };\n\n  this.setOnline = function () {\n    _applicationState2.default.online = true;\n  };\n\n  this.setOffline = function () {\n    _applicationState2.default.online = false;\n  };\n\n  this.isOnline = function () {\n    return _applicationState2.default.online;\n  };\n\n  this.setOfflineItem = function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(id) {\n      var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.setLocalItem({\n                id: id,\n                data: data\n              });\n\n            case 1:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x8) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  this.setLocalItem = function () {\n    var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        id = _ref6.id,\n        data = _ref6.data;\n\n    try {\n      var item = JSON.stringify(data);\n      window.localStorage.setItem(id, item);\n    } catch (error) {\n      return error;\n    }\n  };\n\n  this.removeLocalItem = function (id) {\n    window.localStorage.removeItem(id);\n  };\n\n  this.getLocalItem = function (id) {\n    var item = window.localStorage.getItem(id);\n    if (item) return JSON.parse(item);else return undefined;\n  };\n\n  this.getOfflineItem = function (id) {\n    return this.getLocalItem(id);\n  };\n\n  this.removeOfflineItem = function (id) {\n    this.removeLocalItem(id);\n  };\n\n  //check if is in Iframe\n  this.isIframe = function () {\n    return _applicationState2.default.iframe;\n  };\n\n  // get config\n  this.getConfig = function () {\n    return this._config;\n  };\n\n  this.setConfig = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    this._config = config;\n  };\n\n  // router service\n  this.getRouterService = function () {\n    return _router2.default;\n  };\n\n  //application proxy url\n  this.getProxyUrl = function () {\n    return '' + this._initConfig.proxyurl;\n  };\n\n  /**\n   * Get Interface OWS Url\n   */\n  this.getInterfaceOwsUrl = function () {\n    return '' + this._initConfig.interfaceowsurl;\n  };\n\n  // clipboard service\n  this.getClipboardService = function () {\n    return _clipboard2.default;\n  };\n\n  /**\n   * Create application config object\n   * @param initConfig\n   * @returns {Promise<string|{terms_of_use_link, projects: ([{gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}], type: string}, {gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}, {qgs_layer_id: string, fields: [string]}, {qgs_layer_id: string, fields: [string]}], type: string}, {gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}, {qgs_layer_id: string, fields: [string]}], type: string}]|{gid: string, layers: [{qgs_layer_id: string, fields: [string, string, string]}], type: string}|[]), maxscale: (null|ProjectsRegistry.setProjects.config.maxscale), mediaurl: *, plugins: *, mapcontrols: *, tools: *, resourcesurl: *, initproject, urls: *, credits: *, getWmsUrl(*): string, _i18n: ({resources: {se: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, fi: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, en: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, no_data: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}, it: {translation: {cancel: string, no: string, error_map_loading: string, data: string, catalog: string, legend: string, copy_form_data: string, check_internet_connection_or_server_admin: string, show: string, save: string, back: string, server_error: string, mapcontrols: {area: {tooltip: string}, nominatim: {noresults: string, placeholder: string, notresponseserver: string}, add_layer_control: {select_csv_separator: string, select_csv_y_field: string, select_field_to_show: string, select_projection: string, header: string, select_color: string, select_csv_x_field: string, drag_layer: string}, query: {input_relation: string}, length: {tooltip: string}, screenshot: {error: string}, geolocations: {title: string, error: string}}, no_results: string, tools: string, changemap: string, default: string, logout: string, search: string, copy_form_data_from_feature: string, credits: {g3wSuiteFramework: string, productOf: string, g3wSuiteDescription: string}, sidebar: {}, close: string, exitnosave: string, sign_in: string, info: {link_button: string, open_link: string, server_error: string, title: string, no_results: string}, add: string, backto: string, yes: string, create_print: string, server_saver_error: string, tree: string, paste_form_data: string, no_other_projects: string, dosearch: string, baselayers: string, component: string, print: string, hide: string, annul: string, layer_selection_filter: {tools: {filter: string, nofilter: string, invert: string, show_features_on_map: string, clear: string}}, layer_is_added: string, catalog_items: {helptext: string, contextmenu: {vector_color_menu: string, show_metadata: string, open_attribute_table: string, styles: string, zoomtolayer: string}}, dataTable: {next: string, nodatafilterd: string, previous: string, infoFiltered: string, lengthMenu: string, info: string}, nobaselayer: string, could_not_load_vector_layers: string, street_search: string, sdk: {search: {all: string, layer_not_querable: string, error_loading: string, autocomplete: {inputshort: {pre: string, post: string}}, searching: string, layer_not_searchable: string, no_results: string}, print: {fids_instruction: string, help: string, no_layers: string, rotation: string, format: string, scale: string, fids_example: string, download_image: string}, metadata: {groups: {general: {title: string, fields: {fees: string, keywords: string, subfields: {contactinformation: {contactperson: string, contactvoicetelephone: string, personprimary: string, contactorganization: string, ContactOrganization: string, ContactPosition: string, contactposition: string, contactelectronicmailaddress: string, ContactPerson: string}}, accessconstraints: string, name: string, description: string, contactinformation: string, wms_url: string, abstract: string, title: string}}, layers: {groups: {general: string, spatial: string}, title: string, fields: {subfields: {dataurl: string, metadataurl: string, keywords: string, crs: string, bbox: string, name: string, attribution: string, attributes: string, source: string, abstract: string, title: string, geometrytype: string}, layers: string}}, spatial: {title: string, fields: {extent: string, crs: string}}}, title: string}, workflow: {next: string, steps: {title: string}}, form: {footer: {required_fields: string}, inputs: {date: string, input_validation_exclude_values: string, input_validation_max_field: string, string: string, varchar: string, textarea: string, input_validation_min_field: string, integer: string, float: string, input_validation_error: string, messages: {errors: {picklayer: string}}, input_validation_mutually_exclusive: string, text: string, bigint: string, tooltips: {picklayer: string, lonlat: string}, table: string}, messages: {qgis_input_widget_relation: string}, loading: string}, catalog: {menu: {download: {gpkg: string, csv: string, shp: string, gpx: string, xls: string}, wms: {copied: string, copy: string, title: string}}}, querybuilder: {search: {edit: string, run: string, delete: string, info: string}, additem: string, messages: {changed: string, number_of_features: string}, panel: {button: {all: string, test: string, save: string, clear: string, run: string, manual: string}, expression: string, operators: string, values: string, layers: string, fields: string}, error_run: string, delete: string, error_test: string}, mapcontrols: {querybypolygon: {help: string, tooltip: string, no_geometry: string}, measures: {area: {help: string, tooltip: string}, length: {help: string, tooltip: string}}, querybybbox: {help: string, tooltip: string, nolayers_visible: string}, addlayer: {tooltip: string, messages: {csv: {warning: string}}}, query: {tooltip: string, actions: {add_features_to_results: {hint: string}, download_features_csv: {hint: string}, atlas: {hint: string}, download_xls: {hint: string}, relations_charts: {hint: string}, zoom_to_feature: {hint: string}, download_features_gpkg: {hint: string}, zoom_to_features_extent: {hint: string}, download_csv: {hint: string}, download_features_shapefile: {hint: string}, download_features_xls: {hint: string}, download_shapefile: {hint: string}, add_selection: {hint: string}, download_gpx: {hint: string}, remove_feature_from_results: {hint: string}, download_features_gpx: {hint: string}, relations: {hint: string}, download_gpkg: {hint: string}}}, scale: {no_valid_scale: string}, geolocation: {tooltip: string}}, wps: {list_process: string, tooltip: string}, relations: {no_relations_found: string, relation_data: string, back_to_relations: string, list_of_relations_feature: string, error_missing_father_field: string}, errors: {add_external_layer: string, layers: {load: string}, unsupported_format: string}, tooltips: {zoom_to_features_extent: string, download_csv: string, download_shapefile: string, atlas: string, copy_map_extent_url: string, download_gpx: string, download_xls: string, relations: {row_to_form: string, form_to_row: string}, download_gpkg: string, show_chart: string}}}}}}|{resources: *}), views: (*|{}), group: *, vectorurl: *, debug: boolean, crs: *, apptitle: (string), header_custom_links, i18n: *, overviewproject: (*|null), layout: (*|{}), logo_img: *, baselayers: (string|vueComponentOptions.computed.baselayers|{count: number}|*), logo_link: *, background_color, terms_of_use_text: *, main_map_title: *, getProjectConfigUrl(*): string, user: (*|null), minscale: ProjectsRegistry.setProjects.config.minscale}>}\n   */\n  this.createApplicationConfig = function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(initConfig) {\n      var config;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              config = _extends({}, _config2.default);\n              _context3.prev = 1;\n\n              if (!initConfig) {\n                _context3.next = 6;\n                break;\n              }\n\n              _context3.t0 = initConfig;\n              _context3.next = 9;\n              break;\n\n            case 6:\n              _context3.next = 8;\n              return this.obtainInitConfig({\n                initConfigUrl: '' + _config2.default.server.urls.initconfig\n              });\n\n            case 8:\n              _context3.t0 = _context3.sent;\n\n            case 9:\n              initConfig = _context3.t0;\n\n              // write urls of static files and media url (base url and vector url)\n              this.baseurl = initConfig.baseurl;\n              config.server.urls.baseurl = initConfig.baseurl;\n              config.server.urls.frontendurl = initConfig.frontendurl;\n              config.server.urls.staticurl = initConfig.staticurl;\n              config.server.urls.clienturl = initConfig.staticurl + initConfig.client;\n              config.server.urls.mediaurl = initConfig.mediaurl;\n              config.server.urls.vectorurl = initConfig.vectorurl;\n              config.server.urls.proxyurl = initConfig.proxyurl;\n              config.server.urls.rasterurl = initConfig.rasterurl;\n              config.server.urls.interfaceowsurl = initConfig.interfaceowsurl;\n              config.main_map_title = initConfig.main_map_title;\n              config.group = initConfig.group;\n              config.user = initConfig.user;\n              config.credits = initConfig.credits;\n              config.i18n = initConfig.i18n;\n              // get language from server\n              config._i18n.language = config.user.i18n;\n              // create application configuration\n              // check if is inside a iframe\n              config.group.layout.iframe = window.top !== window.self;\n              return _context3.abrupt('return', {\n                apptitle: config.apptitle || '',\n                logo_img: config.group.header_logo_img,\n                logo_link: config.group.header_logo_link,\n                terms_of_use_text: config.group.header_terms_of_use_text,\n                terms_of_use_link: config.group.terms_of_use_link,\n                header_custom_links: config.group.header_custom_links,\n                debug: config.client.debug || false,\n                group: config.group,\n                urls: config.server.urls,\n                mediaurl: config.server.urls.mediaurl,\n                resourcesurl: config.server.urls.clienturl,\n                vectorurl: config.server.urls.vectorurl,\n                rasterurl: config.server.urls.rasterurl,\n                interfaceowsurl: config.server.urls.interfaceowsurl,\n                projects: config.group.projects,\n                initproject: config.group.initproject,\n                overviewproject: config.group.overviewproject && config.group.overviewproject.gid ? config.group.overviewproject : null,\n                baselayers: config.group.baselayers,\n                mapcontrols: config.group.mapcontrols,\n                background_color: config.group.background_color,\n                crs: config.group.crs,\n                minscale: config.group.minscale,\n                maxscale: config.group.maxscale,\n                main_map_title: config.main_map_title,\n                credits: config.credits,\n                _i18n: config._i18n,\n                i18n: config.i18n,\n                layout: config.group.layout || {},\n                // needed by ProjectService\n                getWmsUrl: function getWmsUrl(project) {\n                  return config.server.urls.baseurl + config.server.urls.ows + '/' + config.group.id + '/' + project.type + '/' + project.id + '/';\n                },\n\n                // needed by ProjectsRegistry to get informations about project configuration\n                getProjectConfigUrl: function getProjectConfigUrl(project) {\n                  return config.server.urls.baseurl + config.server.urls.config + '/' + config.group.id + '/' + project.type + '/' + project.id + '?_t=' + project.modified;\n                },\n\n                plugins: config.group.plugins,\n                tools: config.tools,\n                views: config.views || {},\n                user: config.user || null\n              });\n\n            case 30:\n              _context3.prev = 30;\n              _context3.t1 = _context3['catch'](1);\n              return _context3.abrupt('return', Promise.reject(_context3.t1));\n\n            case 33:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this, [[1, 30]]);\n    }));\n\n    return function (_x11) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  this.obtainInitConfig = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        initConfigUrl = _ref9.initConfigUrl,\n        url = _ref9.url,\n        host = _ref9.host;\n\n    var projectPath, locationsearch;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!this._initConfigUrl) this._initConfigUrl = initConfigUrl;else this.clearInitConfig();\n\n            // if exist a global initConfig\n            this._initConfig = window.initConfig;\n\n            projectPath = void 0;\n\n            // DEPRECATED: will be removed after v4.0\n\n            locationsearch = url ? url.split('?')[1] : location.search.substring(1);\n\n\n            if (locationsearch) {\n              //check if exist project in url\n              /**\n               * The way to extract project group,type and id\n               * Example http:localhost:3000/?project=3003/qdjango/1\n               * is deprecate\n               */\n              locationsearch.split('&').forEach(function (queryTuple) {\n                projectPath = queryTuple.indexOf(\"project\") > -1 ? queryTuple.split(\"=\")[1] : projectPath;\n              });\n\n              ///////////////////////////////////////////////////////////////////\n            } else if (this._gid) {\n              projectPath = this._groupId + '/' + this._gid.split(':').join('/');\n            }\n\n            _context4.prev = 5;\n\n            if (!projectPath) {\n              _context4.next = 10;\n              break;\n            }\n\n            _context4.next = 9;\n            return this.getInitConfig('' + (host || '') + this.baseurl + this._initConfigUrl + '/' + projectPath);\n\n          case 9:\n            this._initConfig = _context4.sent;\n\n          case 10:\n            _context4.next = 15;\n            break;\n\n          case 12:\n            _context4.prev = 12;\n            _context4.t0 = _context4['catch'](5);\n            return _context4.abrupt('return', Promise.reject(_context4.t0));\n\n          case 15:\n            _context4.prev = 15;\n\n            window.initConfig = this._initConfig;\n            this.emit('initconfig', this._initConfig);\n            this.setInitVendorKeys(this._initConfig);\n            return _context4.abrupt('return', Promise.resolve(this._initConfig));\n\n          case 21:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[5, 12, 15, 21]]);\n  }));\n\n  // method to get initial application configuration\n  this.getInitConfig = function (url) {\n    var _this3 = this;\n\n    return new Promise(function (resolve, reject) {\n      if (_this3._initConfig) resolve(_this3._initConfig);else XHR.get({ url: url }).then(function (initConfig) {\n        return resolve(initConfig);\n      }).catch(function (error) {\n        return reject(error);\n      });\n    });\n  };\n\n  this.getInitConfigUrl = function () {\n    return this._initConfigUrl;\n  };\n\n  this.setInitConfigUrl = function (initConfigUrl) {\n    this._initConfigUrl = initConfigUrl;\n  };\n\n  // post boostratp\n  this.postBootstrap = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            if (this.complete) {\n              _context5.next = 13;\n              break;\n            }\n\n            _context5.prev = 1;\n\n            _router2.default.init();\n            // once the projects are inizilized and also api service\n            // register  plugins\n            _context5.next = 5;\n            return this._bootstrapPlugins();\n\n          case 5:\n            _context5.next = 9;\n            break;\n\n          case 7:\n            _context5.prev = 7;\n            _context5.t0 = _context5['catch'](1);\n\n          case 9:\n            _context5.prev = 9;\n\n            this.complete = true;\n            this.emit('complete');\n            return _context5.finish(9);\n\n          case 13:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this, [[1, 7, 9, 13]]);\n  }));\n\n  //boostrap plugins\n  this._bootstrapPlugins = function () {\n    return _plugins2.default.init({\n      pluginsBaseUrl: this._config.urls.staticurl,\n      pluginsConfigs: this._config.plugins,\n      otherPluginsConfig: _projects2.default.getCurrentProject().getState()\n    });\n  };\n\n  //set EPSG of Application is usefule for example to wms request for table layer\n  this.setEPSGApplication = function (project) {\n    _applicationState2.default.map.epsg = project.state.crs.epsg;\n  };\n\n  //Application User\n  this.setApplicationUser = function (user) {\n    _applicationState2.default.user = user;\n  };\n\n  this.getApplicationUser = function () {\n    return _applicationState2.default.user;\n  };\n\n  //  bootstrap (when called init)\n  this.bootstrap = function () {\n    var _this4 = this;\n\n    return new Promise(function (resolve, reject) {\n      // setup All i18n configuration\n      _this4.setupI18n();\n      // run Timeout\n      var timeout = setTimeout(function () {\n        reject('Timeout');\n      }, _constant.TIMEOUT);\n      //first time l'application service is not ready\n      if (!_applicationState2.default.ready) {\n        $.when(\n        // register project\n        _projects2.default.init(_this4._config),\n        // inizialize api service\n        _api2.default.init(_this4._config)).then(function () {\n          // clear TIMEOUT\n          clearTimeout(timeout);\n          //clear\n          _this4.registerOnlineOfflineEvent();\n          _this4.emit('ready');\n          _applicationState2.default.ready = _this4.initialized = true;\n          // set current project gid\n          var project = _projects2.default.getCurrentProject();\n          _this4._gid = project.getGid();\n          //sett\n          _this4.setEPSGApplication(project);\n          //IFRAME CHECK\n          _applicationState2.default.iframe && _this4.startIFrameService({\n            project: project\n          });\n          // initialize data router service\n          _data2.default.init();\n          // init Local Items for the user\n          _this4.initLocalItems();\n          resolve(true);\n        }).fail(function (error) {\n          return reject(error);\n        });\n      }\n    });\n  };\n\n  //iframeservice\n  this.startIFrameService = function () {\n    var _ref11 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        project = _ref11.project;\n\n    var iframeService = require('core/iframe/routerservice');\n    iframeService.init({ project: project });\n  };\n\n  this.registerWindowEvent = function () {\n    var _ref12 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        evt = _ref12.evt,\n        cb = _ref12.cb;\n\n    window.addEventListener(evt, cb);\n  };\n\n  this.unregisterWindowEvent = function () {\n    var _ref13 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        evt = _ref13.evt,\n        cb = _ref13.cb;\n\n    window.removeEventListener(evt, cb);\n  };\n\n  this.registerService = function (element, service) {\n    this._applicationServices[element] = service;\n  };\n\n  this.unregisterService = function (element) {\n    delete this._applicationServices[element];\n  };\n\n  this.getApplicationService = function (type) {\n    return this._applicationServices[type];\n  };\n\n  this.getService = function (element) {\n    return this._applicationServices[element];\n  };\n\n  this.errorHandler = function (error) {};\n\n  /**\n   * clear initConfig\n   */\n  this.clearInitConfig = function () {\n    window.initConfig = this._initConfig = null;\n  };\n\n  this.setInitVendorKeys = function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var vendorkeys = config.group.vendorkeys || {};\n    config.group.baselayers.forEach(function (baselayer) {\n      if (baselayer.apikey) {\n        var type = baselayer.servertype ? baselayer.servertype.toLowerCase() : null;\n        vendorkeys[type] = baselayer.apikey;\n      }\n    });\n    this.setVendorKeys(vendorkeys);\n  };\n\n  this.setVendorKeys = function () {\n    var keys = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    Object.keys(keys).forEach(function (key) {\n      return _applicationState2.default.keys.vendorkeys[key] = keys[key];\n    });\n  };\n\n  // change View\n  this.changeProjectView = function (change) {\n    _applicationState2.default.changeProjectview = change;\n  };\n\n  this.isProjectViewChanging = function () {\n    return _applicationState2.default.changeProjectview;\n  };\n\n  this.reloadCurrentProject = function () {\n    return this.changeProject({\n      gid: _projects2.default.getCurrentProject().getGid()\n    });\n  };\n\n  /**\n   * Change project method that do all request and rebuild interface\n   * @param gid\n   * @param host\n   * @returns {JQuery.Promise<any, any, any>}\n   * @private\n   */\n  this._changeProject = function () {\n    var _ref14 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        gid = _ref14.gid,\n        host = _ref14.host;\n\n    var d = $.Deferred();\n    this._gid = gid;\n    var projectUrl = _projects2.default.getProjectUrl(gid);\n    var url = _gui2.default.getService('map').addMapExtentUrlParameterToUrl(projectUrl);\n    history.replaceState(null, null, url);\n    location.replace(url);\n    d.resolve();\n    return d.promise();\n  };\n\n  /**\n   * Layout section\n   */\n\n  this.setLayout = function () {\n    var who = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    /**\n     * Set default height percentage of height when show vertical content (for example show table attribute)\n     * @type {{}}\n     */\n    if (config.rightpanel) {\n      config.rightpanel.width = config.rightpanel.width || 50;\n      config.rightpanel.height = config.rightpanel.height || 50;\n      config.rightpanel.width_default = config.rightpanel.width; // used eventually to reset starting values\n      config.rightpanel.height_default = config.rightpanel.height;\n      config.rightpanel.width_100 = false;\n      config.rightpanel.height_100 = false;\n    } else config.rightpanel = { width: 50, height: 50, width_default: 50, height_default: 50, width_100: false, height_100: false };\n    _applicationState2.default.gui.layout[who] = config;\n  };\n\n  this.removeLayout = function (who) {\n    who && delete _applicationState2.default.gui.layout[who];\n  };\n\n  this.setCurrentLayout = function () {\n    var who = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n\n    _applicationState2.default.gui.layout.__current = who;\n  };\n\n  this.getCurrentLayout = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current];\n  };\n\n  this.getCurrentLayoutName = function () {\n    return _applicationState2.default.gui.layout.__current;\n  };\n\n  this.cloneLayout = function () {\n    var which = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'app';\n\n    return JSON.parse(JSON.stringify(_applicationState2.default.gui.layout[which]));\n  };\n\n  /**\n   * Layout section\n   */\n\n  this.clear = function () {\n    this.unregisterOnlineOfflineEvent();\n  };\n\n  /**\n   * Method to initialize local items if not initialize\n   * each item has id (unique identifier)\n   * and value (for initial value)\n   * @since v3.8\n   */\n  this.initLocalItems = function () {\n    var _this5 = this;\n\n    Object.keys(_constant.LOCAL_ITEM_IDS).forEach(function (id) {\n      if (\"undefined\" === typeof _this5.getLocalItem(id)) {\n        _this5.setLocalItem({\n          id: id,\n          data: _constant.LOCAL_ITEM_IDS[id].value\n        });\n      }\n    });\n  };\n};\n\ninherit(ApplicationService, G3WObject);\n\nexports.default = new ApplicationService();\n\n},{\"app/constant\":5,\"config\":4,\"core/g3wobject\":13,\"core/i18n/i18n.service\":14,\"core/iframe/routerservice\":15,\"core/utils/utils\":68,\"services/api\":345,\"services/clipboard\":347,\"services/data\":353,\"services/gui\":356,\"services/router\":363,\"store/application-state\":368,\"store/plugins\":373,\"store/projects\":374}],347:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\nfunction ClipboardService() {\n  this._data = {};\n  this.set = function (formId, data) {\n    var formLayer = formId.split('form')[0];\n    this._data[formLayer] = data;\n  };\n\n  this.get = function (formLayer) {\n    var data = this._data[formLayer] || {};\n    this._data[formLayer] = {};\n    return data;\n  };\n}\n\nexports.default = new ClipboardService();\n\n},{}],348:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar BaseService = require('core/data/service');\n\nvar _require2 = require('core/utils/geo'),\n    getFeaturesFromResponseVectorApi = _require2.getFeaturesFromResponseVectorApi;\n\nfunction ExpressionService() {\n  base(this);\n  /**\n   *\n   * @param qgis_layer_id\n   * @param form_data\n   * @param expression\n   * @param layer_id layer owner of the data\n   * @param qgs_layer_id layer id owner of the form data\n   * @returns {Promise<void>}\n   * POST only: accepts\n    * Mandatory JSON body: expression\n   * Optional JSON body: form_data and qgs_layer_id (QGIS layer id)\n   */\n  this.expression = function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var qgs_layer_id = _ref.qgs_layer_id,\n          layer_id = _ref.layer_id,\n          form_data = _ref.form_data,\n          expression = _ref.expression,\n          _ref$formatter = _ref.formatter,\n          formatter = _ref$formatter === undefined ? 1 : _ref$formatter,\n          parent = _ref.parent;\n      var url, response;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              url = '' + this.project.getUrl('vector_data') + layer_id + '/';\n              _context.prev = 1;\n              _context.next = 4;\n              return this.handleRequest({\n                url: url,\n                params: {\n                  layer_id: layer_id,\n                  qgs_layer_id: qgs_layer_id,\n                  form_data: form_data,\n                  expression: expression,\n                  formatter: formatter,\n                  parent: parent\n                }\n              });\n\n            case 4:\n              response = _context.sent;\n              return _context.abrupt('return', this.handleResponse(response));\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context['catch'](1);\n              return _context.abrupt('return', Promise.reject(_context.t0));\n\n            case 11:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[1, 8]]);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  /**\n   *\n   * @param qgis_layer_id\n   * @param form_data\n   * @param expression\n   * @returns {Promise<void>}\n   * POST only method to return QGIS Expressions evaluated in Project an optional Layer/Form context\n   *\n   *  Mandatory JSON body: expression\n    * Optional JSON body: form_data and qgs_layer_id (QGIS layer id)\n   */\n  this.expression_eval = function () {\n    var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer_id = _ref3.layer_id,\n        qgs_layer_id = _ref3.qgs_layer_id,\n        form_data = _ref3.form_data,\n        expression = _ref3.expression,\n        _ref3$formatter = _ref3.formatter,\n        formatter = _ref3$formatter === undefined ? 1 : _ref3$formatter,\n        parent = _ref3.parent;\n\n    var url = this.project.getUrl('expression_eval');\n    return this.handleRequest({\n      url: url,\n      params: {\n        layer_id: layer_id,\n        qgs_layer_id: qgs_layer_id,\n        form_data: form_data,\n        expression: expression,\n        formatter: formatter,\n        parent: parent\n      }\n    });\n  };\n\n  /**\n   * Common method to handel request\n    * @param url\n   * @param params\n   * @contentType\n   * @returns {Promise<*>}\n   */\n  this.handleRequest = function () {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref4.url,\n        _ref4$params = _ref4.params,\n        params = _ref4$params === undefined ? {} : _ref4$params,\n        _ref4$contentType = _ref4.contentType,\n        contentType = _ref4$contentType === undefined ? 'application/json' : _ref4$contentType;\n\n    return XHR.post({\n      url: url,\n      contentType: contentType,\n      data: JSON.stringify(params)\n    });\n  };\n\n  /***\n   * Common method to handle response\n   * @param response\n   */\n  this.handleResponse = function () {\n    var response = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return getFeaturesFromResponseVectorApi(response);\n  };\n}\n\ninherit(ExpressionService, BaseService);\n\nexports.default = new ExpressionService();\n\n},{\"core/data/service\":6,\"core/utils/geo\":65,\"core/utils/utils\":68}],349:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar BaseService = require('core/data/service');\n\nfunction OWSService() {\n  base(this);\n  /**\n   *\n   * @param params\n   * @returns {Promise<{data: string, response: *}>}\n   */\n  this.wmsCapabilities = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref2.url;\n\n    var owsUrl, params, data, response;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            owsUrl = '' + _application2.default.getInterfaceOwsUrl();\n            _context.prev = 1;\n            params = {\n              url: url,\n              service: \"wms\"\n            };\n            data = JSON.stringify(params);\n            _context.next = 6;\n            return XHR.post({\n              url: owsUrl,\n              contentType: 'application/json',\n              data: data\n            });\n\n          case 6:\n            response = _context.sent;\n            return _context.abrupt('return', response);\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context['catch'](1);\n            return _context.abrupt('return');\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[1, 10]]);\n  }));\n}\n\ninherit(OWSService, BaseService);\n\nexports.default = new OWSService();\n\n},{\"core/data/service\":6,\"core/utils/utils\":68,\"services/application\":346}],350:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    XHR = _require.XHR;\n\nvar BaseService = require('core/data/service');\n\nfunction ProxyService() {\n  base(this);\n  /**\n   *\n   * @param data: Object conitans data to pass to proxy\n   * @returns {Promise<{data: string, response: *}>}\n   */\n  this.wms = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        url = _ref2.url,\n        _ref2$method = _ref2.method,\n        method = _ref2$method === undefined ? 'GET' : _ref2$method,\n        _ref2$params = _ref2.params,\n        params = _ref2$params === undefined ? {} : _ref2$params,\n        _ref2$headers = _ref2.headers,\n        headers = _ref2$headers === undefined ? {} : _ref2$headers;\n\n    var proxyUrl, data, response;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            proxyUrl = '' + _application2.default.getProxyUrl();\n\n            if (method === 'GET') {\n              url = new URL(url);\n              Object.keys(params).forEach(function (param) {\n                return url.searchParams.set(param, params[param]);\n              });\n              url = url.toString();\n            }\n            _context.prev = 2;\n            data = JSON.stringify({\n              url: url,\n              params: params,\n              headers: headers,\n              method: method\n            });\n            _context.next = 6;\n            return XHR.post({\n              url: proxyUrl,\n              contentType: 'application/json',\n              data: data\n            });\n\n          case 6:\n            response = _context.sent;\n            return _context.abrupt('return', {\n              response: response,\n              data: data\n            });\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context['catch'](2);\n            return _context.abrupt('return');\n\n          case 13:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[2, 10]]);\n  }));\n\n  /**\n   * Generic proxy data function\n   * @param params\n   */\n  this.data = function () {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  };\n}\n\ninherit(ProxyService, BaseService);\n\nexports.default = new ProxyService();\n\n},{\"core/data/service\":6,\"core/utils/utils\":68,\"services/application\":346}],351:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file\n                                                                                                                                                                                                                                                                   * @since v3.6\n                                                                                                                                                                                                                                                                   */\n\nvar _constant = require('app/constant');\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('core/i18n/i18n.service'),\n    t = _require2.t;\n\nvar BaseService = require('core/data/service');\n\nvar _require3 = require('core/utils/geo'),\n    getQueryLayersPromisesByCoordinates = _require3.getQueryLayersPromisesByCoordinates,\n    getQueryLayersPromisesByGeometry = _require3.getQueryLayersPromisesByGeometry,\n    getQueryLayersPromisesByBBOX = _require3.getQueryLayersPromisesByBBOX,\n    getMapLayersByFilter = _require3.getMapLayersByFilter;\n\nfunction QueryService() {\n  base(this);\n  /**\n   *\n   * @type {{filtrable: {ows: string}}}\n   */\n  this.condition = {\n    filtrable: {\n      ows: 'WFS'\n    }\n  };\n\n  /**\n   * @param {{ feature: unknown, feature_count: unknown, filterConfig: unknown, multilayers: boolean, condition: boolean, excludeLayers: unknown[] }}\n   * \n   * @returns {Promise<unknown>}\n   */\n  this.polygon = function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        feature = _ref.feature,\n        _ref$feature_count = _ref.feature_count,\n        feature_count = _ref$feature_count === undefined ? this.project.getQueryFeatureCount() : _ref$feature_count,\n        _ref$filterConfig = _ref.filterConfig,\n        filterConfig = _ref$filterConfig === undefined ? {} : _ref$filterConfig,\n        _ref$multilayers = _ref.multilayers,\n        multilayers = _ref$multilayers === undefined ? false : _ref$multilayers,\n        _ref$condition = _ref.condition,\n        condition = _ref$condition === undefined ? this.condition : _ref$condition,\n        _ref$layerName = _ref.layerName,\n        layerName = _ref$layerName === undefined ? '' : _ref$layerName,\n        _ref$excludeSelected = _ref.excludeSelected,\n        excludeSelected = _ref$excludeSelected === undefined ? null : _ref$excludeSelected,\n        _ref$external = _ref.external,\n        external = _ref$external === undefined ? {\n      add: true,\n      filter: {\n        SELECTED: false\n      }\n    } : _ref$external;\n\n    var hasExternalLayersSelected = this.hasExternalLayerSelected({ type: \"vector\" });\n    var fid = hasExternalLayersSelected ? feature.getId() : feature.get(_constant.G3W_FID);\n    var geometry = feature.getGeometry();\n\n    // in case no geometry on polygon layer response\n    if (!geometry) {\n      return this.returnExceptionResponse({\n        usermessage: {\n          type: 'warning',\n          message: layerName + ' - ' + t('sdk.mapcontrols.querybypolygon.no_geometry'),\n          messagetext: true,\n          autoclose: false\n        }\n      });\n    }\n    return this.handleRequest(\n    // request\n    getQueryLayersPromisesByGeometry(\n    // layers\n    getMapLayersByFilter(_extends({}, \"boolean\" === typeof excludeSelected ? {\n      SELECTED: !excludeSelected\n    } : {\n      SELECTED_OR_ALL: true\n    }, {\n      FILTERABLE: true,\n      VISIBLE: true\n    }), condition),\n    // options\n    {\n      geometry: geometry,\n      multilayers: multilayers,\n      feature_count: feature_count,\n      filterConfig: filterConfig,\n      projection: this.project.getProjection()\n    }),\n    // query\n    {\n      fid: fid,\n      geometry: geometry,\n      layerName: layerName,\n      type: 'polygon',\n      filterConfig: filterConfig,\n      external: external\n    });\n  };\n\n  /**\n   *\n   * @param bbox\n   * @param feature_count\n   * @param multilayers\n   * @param condition\n   * @param layersFilterObject\n   * @returns {Promise<unknown>}\n   */\n  this.bbox = function () {\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        bbox = _ref2.bbox,\n        _ref2$feature_count = _ref2.feature_count,\n        feature_count = _ref2$feature_count === undefined ? this.project.getQueryFeatureCount() : _ref2$feature_count,\n        _ref2$filterConfig = _ref2.filterConfig,\n        filterConfig = _ref2$filterConfig === undefined ? {} : _ref2$filterConfig,\n        _ref2$multilayers = _ref2.multilayers,\n        multilayers = _ref2$multilayers === undefined ? false : _ref2$multilayers,\n        _ref2$condition = _ref2.condition,\n        condition = _ref2$condition === undefined ? this.condition : _ref2$condition,\n        _ref2$excludeSelected = _ref2.excludeSelected,\n        excludeSelected = _ref2$excludeSelected === undefined ? null : _ref2$excludeSelected,\n        _ref2$addExternal = _ref2.addExternal,\n        addExternal = _ref2$addExternal === undefined ? true : _ref2$addExternal,\n        _ref2$layersFilterObj = _ref2.layersFilterObject,\n        layersFilterObject = _ref2$layersFilterObj === undefined ? { SELECTED_OR_ALL: true, FILTERABLE: true, VISIBLE: true } : _ref2$layersFilterObj;\n\n    var hasExternalLayersSelected = this.hasExternalLayerSelected({ type: \"vector\" });\n    var query = {\n      bbox: bbox,\n      type: 'bbox',\n      filterConfig: filterConfig,\n      external: {\n        add: addExternal,\n        filter: {\n          SELECTED: hasExternalLayersSelected || ('boolean' == typeof excludeSelected ? excludeSelected : false)\n        }\n      }\n    };\n\n    // Check If LayerIds is length === 0 so i check if add external Layer is selected\n    if (hasExternalLayersSelected) {\n      return this.handleRequest(this.getEmptyRequest(), query);\n    }\n\n    return this.handleRequest(\n    //request\n    getQueryLayersPromisesByBBOX(\n    // layers\n    getMapLayersByFilter(layersFilterObject, condition),\n    //options\n    {\n      bbox: bbox,\n      feature_count: feature_count,\n      filterConfig: filterConfig,\n      multilayers: multilayers\n    }),\n    // query\n    query);\n  };\n\n  /**\n   * @param {{ coordinates: unknown, layerIds: unknown[], multilayers: boolean, query_point_tolerance: number, feature_count: number }}\n   * \n   * @returns {Promise<unknown>}\n   */\n  this.coordinates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        coordinates = _ref4.coordinates,\n        _ref4$layerIds = _ref4.layerIds,\n        layerIds = _ref4$layerIds === undefined ? [] : _ref4$layerIds,\n        _ref4$multilayers = _ref4.multilayers,\n        multilayers = _ref4$multilayers === undefined ? false : _ref4$multilayers,\n        _ref4$query_point_tol = _ref4.query_point_tolerance,\n        query_point_tolerance = _ref4$query_point_tol === undefined ? _constant.QUERY_POINT_TOLERANCE : _ref4$query_point_tol,\n        _ref4$addExternal = _ref4.addExternal,\n        addExternal = _ref4$addExternal === undefined ? true : _ref4$addExternal,\n        feature_count = _ref4.feature_count;\n\n    var hasExternalLayersSelected, query, layersFilterObject, layers;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            hasExternalLayersSelected = this.hasExternalLayerSelected({ type: \"vector\" });\n            query = {\n              coordinates: coordinates,\n              type: 'coordinates',\n              external: {\n                add: addExternal,\n                filter: {\n                  SELECTED: hasExternalLayersSelected\n                }\n              }\n            };\n\n            // Return an empty request if an external layer is selected\n\n            if (!(hasExternalLayersSelected && 0 === layerIds.length)) {\n              _context.next = 4;\n              break;\n            }\n\n            return _context.abrupt('return', this.handleRequest(this.getEmptyRequest(), query));\n\n          case 4:\n            layersFilterObject = {\n              QUERYABLE: true,\n              SELECTED_OR_ALL: 0 === layerIds.length,\n              VISIBLE: true\n            };\n\n\n            if (Array.isArray(layerIds)) {\n              layerIds.forEach(function (id) {\n                if (!layersFilterObject.IDS) layersFilterObject.IDS = [];\n                layersFilterObject.IDS.push(id);\n              });\n            }\n\n            layers = getMapLayersByFilter(layersFilterObject);\n\n            // set external property `add: false` in case\n            // of selected layer in order to avoid querying\n            // a temporary layer (external layer)\n\n            if (1 === layers.length && layers[0].isSelected()) {\n              query.external.add = false;\n            }\n\n            return _context.abrupt('return', this.handleRequest(\n            // request\n            getQueryLayersPromisesByCoordinates(\n            // layers\n            layers,\n            // options\n            {\n              multilayers: multilayers,\n              feature_count: feature_count,\n              query_point_tolerance: query_point_tolerance,\n              coordinates: coordinates\n            }),\n            // query\n            query));\n\n          case 9:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  /**\n   *\n   * @param request is a Promise(jquery promise at moment\n   * @returns {Promise<unknown>}\n   */\n  this.handleRequest = function (request) {\n    var _this = this;\n\n    var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return new Promise(function (resolve, reject) {\n      request.then(function (response) {\n        var results = _this.handleResponse(response, query);\n        resolve(results);\n      }).fail(reject);\n    });\n  };\n\n  /**\n   *\n   * @param response\n   * @returns {Promise<{result: boolean, data: [], query: (*|null)}>}\n   */\n  this.handleResponse = function (response) {\n    var query = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var layersResults = response;\n    var results = {\n      query: query,\n      type: 'ows',\n      data: [],\n      result: true // set result to true\n    };\n    layersResults.forEach(function (result) {\n      return result.data && result.data.forEach(function (data) {\n        return results.data.push(data);\n      });\n    });\n    return results;\n  };\n\n  /**\n   * Exception response has user message attribute\n   */\n  this.returnExceptionResponse = function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(_ref5) {\n      var usermessage = _ref5.usermessage;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.abrupt('return', {\n                data: [],\n                usermessage: usermessage,\n                result: true,\n                error: true\n              });\n\n            case 1:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n}\n\ninherit(QueryService, BaseService);\n\nexports.default = new QueryService();\n\n},{\"app/constant\":5,\"core/data/service\":6,\"core/i18n/i18n.service\":14,\"core/utils/geo\":65,\"core/utils/utils\":68}],352:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('core/utils/geo'),\n    createOlFeatureFromApiResponseFeature = _require2.createOlFeatureFromApiResponseFeature;\n\nvar BaseService = require('core/data/service');\n\nfunction SearchService() {\n  base(this);\n  // method to searchfeature features\n  this.features = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : { layer: layer, search_endpoint: search_endpoint, filter: filter, raw: false, queryUrl: queryUrl, feature_count: feature_count, ordering: ordering };\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt('return', _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var promisesSearch, layer, params, _options$raw, raw, filter, dataSearch, layers, provider, promise, responses;\n\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      promisesSearch = [];\n                      layer = options.layer, params = _objectWithoutProperties(options, ['layer']);\n                      _options$raw = options.raw, raw = _options$raw === undefined ? false : _options$raw, filter = options.filter;\n                      dataSearch = {\n                        data: [],\n                        query: {\n                          type: 'search',\n                          search: filter\n                        },\n                        type: params.search_endpoint\n                      };\n                      // check if layer is array\n\n                      layers = Array.isArray(layer) ? layer : [layer];\n                      //check if filter is array\n\n                      params.filter = Array.isArray(params.filter) ? params.filter : [params.filter];\n                      // if api or ows search_endpoint\n                      if (params.search_endpoint === 'api') layers.forEach(function (layer, index) {\n                        return promisesSearch.push(layer.searchFeatures(_extends({}, params, {\n                          filter: params.filter[index]\n                        })));\n                      });else {\n                        // need to get query provider for get one request only\n                        provider = layers[0].getProvider('search');\n                        promise = new Promise(function (resolve, reject) {\n                          provider.query(_extends({}, params, {\n                            layers: layers\n                          }, layers[0].getSearchParams()) // nee to get search params\n                          ).then(function (data) {\n                            resolve({\n                              data: data\n                            });\n                          }).fail(reject);\n                        });\n\n                        promisesSearch.push(promise);\n                      }\n                      _context.next = 9;\n                      return Promise.allSettled(promisesSearch);\n\n                    case 9:\n                      responses = _context.sent;\n\n                      responses.forEach(function () {\n                        var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                            status = _ref3.status,\n                            value = _ref3.value;\n\n                        // need to filter only fulfilled response\n                        if (status === 'fulfilled') {\n                          if (raw) {\n                            dataSearch.data.push(params.search_endpoint === 'api' ? {\n                              data: value\n                            } : value);\n                          } else {\n                            var _value$data = value.data,\n                                data = _value$data === undefined ? [] : _value$data;\n\n                            params.search_endpoint === 'api' ? data.length && dataSearch.data.push(data[0]) : dataSearch.data = data;\n                          }\n                        }\n                      });\n                      return _context.abrupt('return', dataSearch);\n\n                    case 12:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, this);\n            }))());\n\n          case 1:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  /**\n   * Method to return feature from api\n   * @param layer\n   * @param fid\n   * @returns {Promise<{data: [], layer}|{data: [{features: ([*]|[]), query: {type: string}, layer: *}]}>}\n   */\n  this.fids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        layer = _ref5.layer,\n        _ref5$formatter = _ref5.formatter,\n        formatter = _ref5$formatter === undefined ? 0 : _ref5$formatter,\n        _ref5$fids = _ref5.fids,\n        fids = _ref5$fids === undefined ? [] : _ref5$fids;\n\n    var response, features;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            response = {\n              data: [{\n                layer: layer,\n                features: []\n              }],\n              query: {\n                type: 'search'\n              }\n            };\n            _context3.prev = 1;\n            _context3.t0 = layer;\n\n            if (!_context3.t0) {\n              _context3.next = 7;\n              break;\n            }\n\n            _context3.next = 6;\n            return layer.getFeatureByFids({ fids: fids, formatter: formatter });\n\n          case 6:\n            _context3.t0 = _context3.sent;\n\n          case 7:\n            features = _context3.t0;\n\n            features && features.forEach(function (feature) {\n              return response.data[0].features.push(createOlFeatureFromApiResponseFeature(feature));\n            });\n            _context3.next = 13;\n            break;\n\n          case 11:\n            _context3.prev = 11;\n            _context3.t1 = _context3['catch'](1);\n\n          case 13:\n            return _context3.abrupt('return', response);\n\n          case 14:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this, [[1, 11]]);\n  }));\n\n  /**\n   * Search service function to load many layers with each one with its fids\n   * @param layers: Array of layers that we want serach fids features\n   * @param fids: Array of array of fids\n   * @param formatter: how we want visualize\n   * @returns {Promise<void>}\n   */\n  this.layersfids = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var _this = this;\n\n    var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref7$layers = _ref7.layers,\n        layers = _ref7$layers === undefined ? [] : _ref7$layers,\n        _ref7$fids = _ref7.fids,\n        fids = _ref7$fids === undefined ? [] : _ref7$fids,\n        _ref7$formatter = _ref7.formatter,\n        formatter = _ref7$formatter === undefined ? 0 : _ref7$formatter;\n\n    var promises, response, layersresponses;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            promises = [];\n            response = {\n              data: [],\n              query: {\n                type: 'search'\n              }\n            };\n\n            layers.forEach(function (layer, index) {\n              promises.push(_this.fids({\n                layer: layer,\n                fids: fids[index],\n                formatter: formatter\n              }));\n            });\n            _context4.prev = 3;\n            _context4.next = 6;\n            return Promise.all(promises);\n\n          case 6:\n            layersresponses = _context4.sent;\n\n            layersresponses.forEach(function (layerresponse) {\n              return response.data.push(layerresponse.data);\n            });\n            _context4.next = 13;\n            break;\n\n          case 10:\n            _context4.prev = 10;\n            _context4.t0 = _context4['catch'](3);\n\n            console.log(_context4.t0);\n\n          case 13:\n            return _context4.abrupt('return', response);\n\n          case 14:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this, [[3, 10]]);\n  }));\n}\n\ninherit(SearchService, BaseService);\n\nexports.default = new SearchService();\n\n},{\"core/data/service\":6,\"core/utils/geo\":65,\"core/utils/utils\":68}],353:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _dataExpression = require('services/data-expression');\n\nvar _dataExpression2 = _interopRequireDefault(_dataExpression);\n\nvar _dataOws = require('services/data-ows');\n\nvar _dataOws2 = _interopRequireDefault(_dataOws);\n\nvar _dataProxy = require('services/data-proxy');\n\nvar _dataProxy2 = _interopRequireDefault(_dataProxy);\n\nvar _dataQuery = require('services/data-query');\n\nvar _dataQuery2 = _interopRequireDefault(_dataQuery);\n\nvar _dataSearch = require('services/data-search');\n\nvar _dataSearch2 = _interopRequireDefault(_dataSearch);\n\nvar _iframePlugin = require('services/iframe-plugin');\n\nvar _iframePlugin2 = _interopRequireDefault(_iframePlugin);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } } /**\n                                                                                                                                                                                                     * @file\n                                                                                                                                                                                                     * @since v3.6\n                                                                                                                                                                                                     */\n\nvar _require = require('core/utils/utils'),\n    splitContextAndMethod = _require.splitContextAndMethod;\n\nfunction Routerservice() {\n  //set deafult outputplace\n  this.defaultoutputplaces = ['gui'];\n  // set current outputplaces\n  this.currentoutputplaces = [].concat(_toConsumableArray(this.defaultoutputplaces)); // array contains all\n\n  /**\n   * Object contain output function to show results\n   * @type {{gui(*=, *=): void, iframe(*=, *=): void}}\n   * dataPromise: is thre promise request for data,\n   * options: {\n   *   show: method or Boolean to set if show or not the result on output\n   *   before : async function to handle data return from server\n   *   after: method to handle or do some thisn after show data\n   * }\n   */\n  this.ouputplaces = {\n    gui: function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(dataPromise) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _gui2.default.setLoadingContent(true);\n                _context.prev = 1;\n\n                _gui2.default.outputDataPlace(dataPromise, options);\n                _context.next = 5;\n                return dataPromise;\n\n              case 5:\n                _context.next = 9;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context['catch'](1);\n\n              case 9:\n                _gui2.default.setLoadingContent(false);\n\n              case 10:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 7]]);\n      }));\n\n      function gui(_x2) {\n        return _ref.apply(this, arguments);\n      }\n\n      return gui;\n    }(),\n    iframe: function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(dataPromise) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _iframePlugin2.default.outputDataPlace(dataPromise, options);\n\n              case 1:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function iframe(_x4) {\n        return _ref2.apply(this, arguments);\n      }\n\n      return iframe;\n    }()\n  };\n\n  /**\n   *\n   * @returns {Promise<void>}\n   */\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            this.services = {\n              query: _dataQuery2.default,\n              search: _dataSearch2.default,\n              expression: _dataExpression2.default,\n              proxy: _dataProxy2.default,\n              ows: _dataOws2.default\n            };\n\n          case 1:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  /**\n   *\n   * @param contextAndMethod 'String contain type of service(search or query): method'\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.getData = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(contextAndMethod) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _splitContextAndMetho, context, method, service, _options$inputs, inputs, _options$outputs, outputs, dataPromise, data;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _splitContextAndMetho = splitContextAndMethod(contextAndMethod), context = _splitContextAndMetho.context, method = _splitContextAndMetho.method;\n              service = this.getService(context);\n              _options$inputs = options.inputs, inputs = _options$inputs === undefined ? {} : _options$inputs, _options$outputs = options.outputs, outputs = _options$outputs === undefined ? {} : _options$outputs;\n              //return a promise and not the data\n\n              dataPromise = service[method](inputs);\n\n              outputs && this.currentoutputplaces.forEach(function (place) {\n                _this.ouputplaces[place](dataPromise, outputs);\n              });\n              //return always data\n              _context4.next = 7;\n              return dataPromise;\n\n            case 7:\n              data = _context4.sent;\n              _context4.next = 10;\n              return data;\n\n            case 10:\n              return _context4.abrupt('return', _context4.sent);\n\n            case 11:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, this);\n    }));\n\n    return function (_x6) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  /**\n   *Force to show empty output data\n   *\n   * */\n  this.showEmptyOutputs = function () {\n    var _this2 = this;\n\n    var dataPromise = Promise.resolve({\n      data: []\n    });\n    this.currentoutputplaces.forEach(function (place) {\n      _this2.ouputplaces[place](dataPromise);\n    });\n  };\n\n  /**\n   * Set a costum datapromiseoutput to applicationa outputs settede\n   * @param dataPromise\n   */\n  this.showCustomOutputDataPromise = function (dataPromise) {\n    var _this3 = this;\n\n    this.currentoutputplaces.forEach(function (place) {\n      _this3.ouputplaces[place](dataPromise, {});\n    });\n  };\n\n  /**\n   *\n   * @param serviceName\n   * @returns {*}\n   */\n  this.getService = function (serviceName) {\n    return this.services[serviceName];\n  };\n\n  /*\n  * */\n  this.setOutputPlaces = function () {\n    var places = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    this.currentoutputplaces = places;\n  };\n\n  /**\n   *\n   * @param place\n   */\n  this.addCurrentOutputPlace = function (place) {\n    place && this.currentoutputplaces.indexOf(place) === -1 && this.currentoutputplaces.push(place);\n  };\n\n  /**\n   *\n   * @param place\n   * @param method has to get two parameters data (promise) and options (Object)\n   * ex {\n   * place: <newplace>\n   * method(dataPromise, options={}){}\n   *   }\n   */\n  this.addNewOutputPlace = function () {\n    var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        place = _ref5.place,\n        _ref5$method = _ref5.method,\n        method = _ref5$method === undefined ? function () {} : _ref5$method;\n\n    var added = false;\n    if (this.ouputplaces[place] === undefined) {\n      this.ouputplaces[place] = method;\n      added = true;\n    }\n    return added;\n  };\n\n  // reset default configuration\n  this.resetDefaultOutput = function () {\n    this.currentoutputplaces = [].concat(_toConsumableArray(this.defaultoutputplaces));\n  };\n}\n\nexports.default = new Routerservice();\n\n},{\"core/utils/utils\":68,\"services/data-expression\":348,\"services/data-ows\":349,\"services/data-proxy\":350,\"services/data-query\":351,\"services/data-search\":352,\"services/gui\":356,\"services/iframe-plugin\":359}],354:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\n//lass that is usefult to apply changes to features (undo/redo) singleton\nfunction ChangesManager() {\n  this.execute = function (object, items, reverse) {\n    var fnc = void 0;\n    var feature = void 0;\n    items.forEach(function (item) {\n      feature = item.feature;\n      if (reverse) {\n        // change to opposite\n        feature[ChangesManager.Actions[feature.getState()].opposite]();\n      }\n      // get method from object\n      fnc = ChangesManager.Actions[feature.getState()].fnc;\n      object[fnc](feature);\n    });\n  };\n}\n\n// know actions\nChangesManager.Actions = {\n  'add': {\n    fnc: 'addFeature',\n    opposite: 'delete'\n  },\n  'delete': {\n    fnc: 'removeFeature',\n    opposite: 'add'\n  },\n  'update': {\n    fnc: 'updateFeature',\n    opposite: 'update'\n  }\n};\n\nexports.default = new ChangesManager();\n\n},{}],355:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('gui/utils/utils'),\n    Stack = _require.barstack; /**\n                                * @file\n                                * @since v3.7\n                                */\n\nfunction FloatbarService() {\n  this.stack = new Stack();\n  this.init = function (layout) {\n    this.layout = layout;\n    this.sidebarEl = $(this.layout.options.controlSidebarOptions.selector);\n    this._zindex = this.sidebarEl.css(\"z-index\");\n    this._modalOverlay = null;\n    this._modal = false;\n    this._isopen = false;\n  };\n\n  this.isOpen = function () {\n    return this._isopen;\n  };\n\n  this.open = function () {\n    this.layout.floatBar.open(this.sidebarEl, true);\n    this._isopen = true;\n  };\n\n  this.close = function () {\n    this.layout.floatBar.close(this.sidebarEl, true);\n    this._isopen = false;\n  };\n\n  this.showPanel = function (panel, options) {\n    options = options || {};\n    var append = options.append || false;\n    var modal = options.modal || false;\n    options.parent = \"#g3w-floatbarpanel-placeholder\";\n    this.stack.push(panel, options);\n    if (!this._isopen) this.open();\n  };\n\n  this.closePanel = function (panel) {\n    if (panel) this.stack.remove(panel);else this.stack.pop();\n    if (!this.stack.getLength()) {\n      if (this._modal) {\n        _gui2.default.setModal(false);\n        this.close();\n        $('.control-sidebar-bg').toggleClass('control-sidebar-bg-shadow');\n        this.sidebarEl.css(\"z-index\", \"\");\n        this.sidebarEl.css(\"padding-top\", \"50px\");\n        $('.control-sidebar-bg').css(\"z-index\", \"\");\n        this._modal = false;\n      } else this.close();\n    }\n  };\n\n  this.hidePanel = function () {\n    this.close();\n  };\n}\n\nexports.default = new FloatbarService();\n\n},{\"gui/utils/utils\":187,\"services/gui\":356}],356:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _router = require('services/router');\n\nvar _router2 = _interopRequireDefault(_router);\n\nvar _components = require('store/components');\n\nvar _components2 = _interopRequireDefault(_components);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    noop = _require.noop;\n\nvar G3WObject = require('core/g3wobject');\n\n// API della GUI.\n// methods have be defined by application\n// app should call GUI.ready() when GUI is ready\nfunction GUI() {\n  this.setters = {\n    setContent: function setContent() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.emit('opencontent', true);\n      this._setContent(options);\n    }\n  };\n  this.isready = false;\n  // images urls\n  this.getResourcesUrl = noop;\n  // show a Vue form\n  this.showForm = noop;\n  this.closeForm = noop;\n  this.showListing = noop;\n  this.closeListing = noop;\n  this.hideListing = noop;\n  // modal\n  this.setModal = noop;\n  this.showFullModal = noop;\n  // modal\n  this.showQueryResults = noop;\n  this.hideQueryResults = noop;\n  this.showPanel = noop;\n  this.hidePanel = noop;\n  this.reloadComponents = noop;\n  this.showUserMessage = noop;\n  this.closeUserMessage = noop;\n  this.showModalDialog = noop;\n  //property to how result has to be add or close all and show new\n  // false mean create new and close all open\n  this.push_content = false;\n  this.setPushContent = function () {\n    var bool = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.push_content = bool;\n  };\n  this.getPushContent = function () {\n    return this.push_content;\n  };\n  this._closeUserMessageBeforeSetContent = true;\n  this.setComponent = function (component) {\n    _components2.default.registerComponent(component);\n  };\n  this.getComponent = function (id) {\n    return _components2.default.getComponent(id);\n  };\n  this.getComponents = function () {\n    return _components2.default.getComponents();\n  };\n\n  this.goto = function (url) {\n    _router2.default.goto(url);\n  };\n  this.ready = function () {\n    this.emit('ready');\n    this.isready = true;\n  };\n  this.guiResized = function () {\n    this.emit('guiresized');\n  };\n  //ready GUI\n  this.isReady = function () {\n    var _this = this;\n\n    return new Promise(function (resolve) {\n      return _this.isready ? resolve() : _this.once('ready', resolve);\n    });\n  };\n  /**\n   * Passing a component application ui id return service that belong to component\n   * @param componentId\n   * @returns {*}\n   */\n  this.getService = function (componentId) {\n    var component = this.getComponent(componentId);\n    return component && component.getService();\n  };\n  /* spinner */\n  this.showSpinner = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  };\n  this.hideSpinner = function (id) {};\n  /* end spinner */\n  this.notify = noop;\n  this.dialog = noop;\n  this.isMobile = noop;\n  //useful to registere setters\n  base(this);\n}\n\ninherit(GUI, G3WObject);\n\nexports.default = new GUI();\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"services/router\":363,\"store/components\":370}],357:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar BaseService = require('core/iframe/services/baseservice');\n\nfunction AppService() {\n  base(this);\n  this.mapControls = {\n    screenshot: {\n      control: null\n    },\n    changeMap: {\n      control: null\n    }\n  };\n\n  /**\n   * Init service\n   * @returns {Promise<unknown>}\n   */\n  this.init = function () {\n    var _this = this;\n\n    return new Promise(function (resolve, reject) {\n      _this.mapService.once('ready', function () {\n        _this._map = _this.mapService.getMap();\n        _this._mapCrs = _this.mapService.getCrs();\n        _this.mapControls.screenshot.control = _this.mapService.getMapControlByType({\n          type: 'screenshot'\n        });\n        _this.setReady(true);\n        resolve();\n      });\n    });\n  };\n  /**\n   *\n   * @returns {Promise<void>}\n   */\n  this.results = function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var _ref$capture = _ref.capture,\n          capture = _ref$capture === undefined ? true : _ref$capture;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              capture ? _data2.default.setOutputPlaces(['iframe']) : _data2.default.resetDefaultOutput();\n              return _context.abrupt('return', []);\n\n            case 2:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  this.screenshot = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(_ref3) {\n      var _this2 = this;\n\n      var _ref3$capture = _ref3.capture,\n          capture = _ref3$capture === undefined ? true : _ref3$capture;\n      var action;\n      return regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              action = 'app:screenshot';\n\n              capture ? this.mapControls.screenshot.control.overwriteOnClickEvent(_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n                var blob;\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        _context2.prev = 0;\n                        _context2.next = 3;\n                        return _this2.mapService.createMapImage();\n\n                      case 3:\n                        blob = _context2.sent;\n\n                        _this2.emit('response', {\n                          action: action,\n                          response: {\n                            result: true,\n                            data: blob\n                          }\n                        });\n                        _context2.next = 10;\n                        break;\n\n                      case 7:\n                        _context2.prev = 7;\n                        _context2.t0 = _context2['catch'](0);\n\n                        _this2.emit('response', {\n                          action: action,\n                          response: {\n                            result: false,\n                            data: _context2.t0\n                          }\n                        });\n\n                      case 10:\n                      case 'end':\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2, _this2, [[0, 7]]);\n              }))) : this.mapControls.screenshot.control.resetOriginalOnClickEvent();\n\n            case 2:\n            case 'end':\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    return function (_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  /**\n   * Eventually send as param the projection in which we would like get center of map\n   * @param params\n   * @returns {Promise<void>}\n   */\n  this.getcenter = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt('return', this.mapService.getCenter());\n\n          case 1:\n          case 'end':\n            return _context4.stop();\n        }\n      }\n    }, _callee4, this);\n  }));\n\n  /**\n   * Zoom to coordinates\n   * @param params\n   * @returns {Promise<[]>}\n   */\n  this.zoomtocoordinates = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _params$coordinates, coordinates, _params$highlight, highlight;\n\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _params$coordinates = params.coordinates, coordinates = _params$coordinates === undefined ? [] : _params$coordinates, _params$highlight = params.highlight, highlight = _params$highlight === undefined ? false : _params$highlight;\n\n            if (!(coordinates && Array.isArray(coordinates) && coordinates.length === 2)) {\n              _context5.next = 6;\n              break;\n            }\n\n            this.mapService.zoomTo(coordinates);\n            return _context5.abrupt('return', coordinates);\n\n          case 6:\n            return _context5.abrupt('return', Promise.reject(coordinates));\n\n          case 7:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n\n  /**\n   * Eventually send as param the projection in which we would like get center of map\n   * @param params\n   * @returns {Promise<void>}\n   */\n  this.getextent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            return _context6.abrupt('return', this.mapService.getMapExtent());\n\n          case 1:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  /**\n   *\n   * @param params\n   * @returns {Promise<[]>}\n   */\n  this.zoomtoextent = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _params$extent, extent;\n\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _params$extent = params.extent, extent = _params$extent === undefined ? [] : _params$extent;\n\n            if (!(extent && Array.isArray(extent) && extent.length === 4)) {\n              _context7.next = 6;\n              break;\n            }\n\n            this.mapService.goToBBox(extent);\n            return _context7.abrupt('return', extent);\n\n          case 6:\n            return _context7.abrupt('return', Promise.reject(extent));\n\n          case 7:\n          case 'end':\n            return _context7.stop();\n        }\n      }\n    }, _callee7, this);\n  }));\n\n  //method to zoom to features\n  this.zoomtofeature = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9() {\n    var _this3 = this;\n\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            return _context9.abrupt('return', new Promise(function () {\n              var _ref11 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8(resolve, reject) {\n                var qgs_layer_id, feature, _params$highlight2, highlight, response;\n\n                return regeneratorRuntime.wrap(function _callee8$(_context8) {\n                  while (1) {\n                    switch (_context8.prev = _context8.next) {\n                      case 0:\n                        qgs_layer_id = params.qgs_layer_id, feature = params.feature, _params$highlight2 = params.highlight, highlight = _params$highlight2 === undefined ? false : _params$highlight2;\n\n                        qgs_layer_id = _this3.getQgsLayerId({\n                          qgs_layer_id: qgs_layer_id\n                        });\n\n                        _context8.next = 4;\n                        return _this3.findFeaturesWithGeometry({\n                          qgs_layer_id: qgs_layer_id,\n                          feature: feature,\n                          zoom: true,\n                          highlight: highlight\n                        });\n\n                      case 4:\n                        response = _context8.sent;\n\n\n                        resolve(response.qgs_layer_id);\n\n                      case 6:\n                      case 'end':\n                        return _context8.stop();\n                    }\n                  }\n                }, _callee8, _this3);\n              }));\n\n              return function (_x8, _x9) {\n                return _ref11.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case 'end':\n            return _context9.stop();\n        }\n      }\n    }, _callee9, this);\n  }));\n}\n\ninherit(AppService, BaseService);\n\nexports.default = new AppService();\n\n},{\"core/iframe/services/baseservice\":16,\"core/utils/utils\":68,\"services/data\":353}],358:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar BasePluginService = require('core/iframe/services/plugins/service');\n\nvar _g3wsdk$core$utils = g3wsdk.core.utils,\n    base = _g3wsdk$core$utils.base,\n    inherit = _g3wsdk$core$utils.inherit;\n\n\nfunction EditingService() {\n  var _this2 = this;\n\n  base(this);\n  this.pluginName = 'editing';\n  this.subscribevents = [];\n  this.isRunning = false;\n  this.responseObject = {\n    cb: null, // resolve or reject promise method\n    qgs_layer_id: null,\n    error: null\n  };\n  this.config = {\n    tools: {\n      add: {\n        disabled: [{\n          id: 'deletefeature'\n        }, {\n          id: 'copyfeatures'\n        }, {\n          id: 'editmultiattributes'\n        }, {\n          id: 'deletePart'\n        }, {\n          id: 'splitfeature'\n        }, {\n          id: 'mergefeatures'\n        }]\n      },\n      update: {\n        disabled: [{\n          id: 'addfeature'\n        }, {\n          id: 'copyfeatures'\n        }, {\n          id: 'deletefeature'\n        }, {\n          id: 'editmultiattributes'\n        }, {\n          id: 'deletePart'\n        }, {\n          id: 'splitfeature'\n        }, {\n          id: 'mergefeatures'\n        }]\n      },\n      delete: {\n        enabled: [{\n          id: 'deletefeature',\n          options: {\n            active: true\n          }\n        }]\n      }\n    }\n  };\n\n  // METHODS CALLED FROM EACH ACTION METHOD\n  // run before each action\n  this.startAction = function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(_ref) {\n      var _this = this;\n\n      var toolboxes = _ref.toolboxes,\n          resolve = _ref.resolve,\n          reject = _ref.reject;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.responseObject.cb = reject;\n              // set same mode autosave\n              this.dependencyApi.setSaveConfig({\n                cb: {\n                  done: function done(toolbox) {\n                    //set toolbox id\n                    _this.responseObject.cb = resolve;\n                    _this.responseObject.qgs_layer_id = toolbox.getId();\n                    _this.responseObject.error = null;\n                    // close panel that fire closeediting panel event\n                    _this.dependencyApi.hidePanel();\n                  }, // called when commit changes is done successuffly\n                  error: function error(toolbox, _error) {\n                    _this.responseObject.cb = reject;\n                    _this.responseObject.qgs_layer_id = toolbox.getId();\n                    _this.responseObject.error = _error;\n                  } // called whe commit change receive an error\n                }\n              });\n              // set toolboxes visible base on value of qgs_layer_id\n              this.dependencyApi.showPanel({\n                toolboxes: toolboxes\n              });\n              this.isRunning = true;\n\n            case 4:\n            case 'end':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  //run after each action\n  this.stopAction = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var qgs_layer_id;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            qgs_layer_id = options.qgs_layer_id;\n            _context2.t0 = qgs_layer_id;\n\n            if (!_context2.t0) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 5;\n            return this.stopEditing(qgs_layer_id);\n\n          case 5:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  }));\n\n  //// subscribers handlers\n  this.subscribersHandlers = {\n    canUndo: function canUndo(_ref4) {\n      var activeTool = _ref4.activeTool,\n          _ref4$disableToolboxe = _ref4.disableToolboxes,\n          disableToolboxes = _ref4$disableToolboxe === undefined ? [] : _ref4$disableToolboxe;\n      return function (bool) {\n        //set currenttoolbocx id in editing to null\n        if (bool === false) {\n          _this2.responseObject.qgs_layer_id = null;\n          _this2.responseObject.error = null;\n        }\n        activeTool.setEnabled(!bool);\n        disableToolboxes.forEach(function (toolbox) {\n          return toolbox.setEditing(!bool);\n        });\n      };\n    },\n    canRedo: function canRedo() {},\n    cancelform: function cancelform(cb) {\n      return function () {\n        cb();\n      };\n    }, //run callback\n    addfeature: function addfeature() {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          properties = _ref5.properties,\n          toolboxes = _ref5.toolboxes;\n\n      return function (feature) {\n        Object.keys(properties).forEach(function (property) {\n          return feature.set(property, properties[property]);\n        });\n        var activeTool = void 0;\n        var disableToolboxes = [];\n        toolboxes.forEach(function (toolbox) {\n          var addFeatureTool = toolbox.getToolById('addfeature');\n          if (addFeatureTool.isActive()) {\n            addFeatureTool.setEnabled(false);\n            activeTool = addFeatureTool;\n          } else {\n            toolbox.setEditing(false);\n            disableToolboxes.push(toolbox);\n          }\n        });\n        //just one time\n        if (_this2.subscribevents.find(function (eventObject) {\n          return eventObject.event !== 'canUndo';\n        })) {\n          var handler = _this2.addSubscribeEvents('canUndo', {\n            activeTool: activeTool,\n            disableToolboxes: disableToolboxes\n          });\n          _this2.addSubscribeEvents('cancelform', handler);\n        }\n      };\n    },\n    closeeditingpanel: function closeeditingpanel(_ref6) {\n      var qgs_layer_id = _ref6.qgs_layer_id;\n      return function () {\n        // response to router service\n        _this2.responseObject.cb({\n          qgs_layer_id: _this2.responseObject.qgs_layer_id,\n          error: _this2.responseObject.error\n        });\n        // stop action\n        _this2.stopAction({ qgs_layer_id: qgs_layer_id });\n      };\n    }\n  };\n\n  // method to add subscribe refenrence\n  this.addSubscribeEvents = function (event) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var handler = this.subscribersHandlers[event](options);\n    this.dependencyApi.subscribe(event, handler);\n    this.subscribevents.push({\n      event: event,\n      handler: handler\n    });\n    return handler;\n  };\n\n  /**\n   * Reset subscriber editing plugin events\n   */\n  this.resetSubscribeEvents = function () {\n    var _this3 = this;\n\n    this.subscribevents.forEach(function (_ref7) {\n      var event = _ref7.event,\n          handler = _ref7.handler;\n\n      _this3.dependencyApi.unsubscribe(event, handler);\n    });\n  };\n\n  /**\n   * Method called whe we want add a feature\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.add = function () {\n    var _this4 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new Promise(function () {\n      var _ref8 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n        var configQglLayerId, data, properties, qgs_layer_id, options, toolboxes, toolbox;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!_this4.isRunning) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                reject();\n                _context3.next = 19;\n                break;\n\n              case 4:\n                // extract qgslayerid from configuration message\n                configQglLayerId = config.qgs_layer_id, data = _objectWithoutProperties(config, ['qgs_layer_id']);\n                properties = data.properties;\n                qgs_layer_id = _this4.getQgsLayerId({\n                  qgs_layer_id: configQglLayerId,\n                  noValue: _this4.dependencyApi.getEditableLayersId()\n                });\n                //call method common\n\n                _context3.next = 9;\n                return _this4.startAction({\n                  toolboxes: qgs_layer_id,\n                  resolve: resolve,\n                  reject: reject\n                });\n\n              case 9:\n\n                // create options\n                options = {\n                  tools: _this4.config.tools.add,\n                  startstopediting: false,\n                  action: 'add',\n                  selected: qgs_layer_id.length === 1\n                };\n                // return all toolboxes\n\n                _context3.next = 12;\n                return _this4.startEditing(qgs_layer_id, options);\n\n              case 12:\n                toolboxes = _context3.sent;\n\n                toolboxes = toolboxes.filter(function (toolboxPromise) {\n                  return toolboxPromise.status === 'fulfilled';\n                }).map(function (toolboxPromise) {\n                  return toolboxPromise.value;\n                });\n                !_gui2.default.isSidebarVisible() && _gui2.default.showSidebar();\n                toolbox = toolboxes.length === 1 && toolboxes[0];\n\n                toolbox && toolbox.setActiveTool(toolbox.getToolById('addfeature'));\n                // // in case of no feature add avent subscribe\n                _this4.addSubscribeEvents('addfeature', { properties: properties, toolboxes: toolboxes });\n                _this4.addSubscribeEvents('closeeditingpanel', { qgs_layer_id: qgs_layer_id });\n\n              case 19:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this4);\n      }));\n\n      return function (_x6, _x7) {\n        return _ref8.apply(this, arguments);\n      };\n    }());\n  };\n\n  /**\n   * Method called when we want update a know feature field\n   * @param config\n   * @returns {Promise<unknown>}\n   */\n  this.update = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n    var _this5 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            return _context5.abrupt('return', new Promise(function () {\n              var _ref10 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(resolve, reject) {\n                var configQglLayerId, data, feature, qgs_layer_id, response, found, options;\n                return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                  while (1) {\n                    switch (_context4.prev = _context4.next) {\n                      case 0:\n                        if (!_this5.isRunning) {\n                          _context4.next = 4;\n                          break;\n                        }\n\n                        reject();\n                        _context4.next = 22;\n                        break;\n\n                      case 4:\n                        configQglLayerId = config.qgs_layer_id, data = _objectWithoutProperties(config, ['qgs_layer_id']);\n                        feature = data.feature;\n                        qgs_layer_id = _this5.getQgsLayerId({\n                          qgs_layer_id: configQglLayerId,\n                          noValue: _this5.dependencyApi.getEditableLayersId()\n                        });\n                        _context4.next = 9;\n                        return _this5.findFeaturesWithGeometry({\n                          qgs_layer_id: qgs_layer_id,\n                          feature: feature,\n                          zoom: true,\n                          highlight: true,\n                          selected: qgs_layer_id.length === 1 // set selected toolbox\n                        });\n\n                      case 9:\n                        response = _context4.sent;\n                        found = response.found;\n\n                        if (!found) {\n                          _context4.next = 21;\n                          break;\n                        }\n\n                        _context4.next = 14;\n                        return _this5.startAction({\n                          toolboxes: [response.qgs_layer_id],\n                          resolve: resolve,\n                          reject: reject\n                        });\n\n                      case 14:\n\n                        // create options\n                        options = {\n                          feature: feature,\n                          tools: _this5.config.tools.update,\n                          startstopediting: false,\n                          action: 'update'\n                        };\n\n                        // return all toolboxes\n\n                        _context4.next = 17;\n                        return _this5.startEditing([response.qgs_layer_id], options);\n\n                      case 17:\n                        !_gui2.default.isSidebarVisible() && _gui2.default.showSidebar();\n                        _this5.addSubscribeEvents('closeeditingpanel', {\n                          qgs_layer_id: [response.qgs_layer_id]\n                        });\n                        _context4.next = 22;\n                        break;\n\n                      case 21:\n                        reject();\n\n                      case 22:\n                      case 'end':\n                        return _context4.stop();\n                    }\n                  }\n                }, _callee4, _this5);\n              }));\n\n              return function (_x9, _x10) {\n                return _ref10.apply(this, arguments);\n              };\n            }()));\n\n          case 1:\n          case 'end':\n            return _context5.stop();\n        }\n      }\n    }, _callee5, this);\n  }));\n\n  this.delete = function () {};\n\n  /**\n   * Start editing called when we want to start editing\n   * @param qgs_layer_id\n   * @param options\n   * @returns {Promise<unknown|void>}\n   */\n  this.startEditing = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n    var _this6 = this;\n\n    var qgs_layer_id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var _options$action, action, feature, filter, startEditingPromise;\n\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _options$action = options.action, action = _options$action === undefined ? 'add' : _options$action, feature = options.feature;\n            filter = {};\n\n            options.filter = filter;\n            _context6.t0 = action;\n            _context6.next = _context6.t0 === 'add' ? 6 : _context6.t0 === 'update' ? 8 : 10;\n            break;\n\n          case 6:\n            filter.nofeatures = true;\n            return _context6.abrupt('break', 10);\n\n          case 8:\n            filter.field = feature.field + '|eq|' + feature.value;\n            return _context6.abrupt('break', 10);\n\n          case 10:\n            startEditingPromise = [];\n\n            qgs_layer_id.forEach(function (layerid) {\n              startEditingPromise.push(_this6.dependencyApi.startEditing(layerid, options));\n            });\n            _context6.next = 14;\n            return Promise.allSettled(startEditingPromise);\n\n          case 14:\n            return _context6.abrupt('return', _context6.sent);\n\n          case 15:\n          case 'end':\n            return _context6.stop();\n        }\n      }\n    }, _callee6, this);\n  }));\n\n  /**\n   * Stop editing\n   * @param qgs_layer_id\n   * @returns {Promise<unknown>}\n   */\n  this.stopEditing = function () {\n    var _ref12 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7(qgs_layer_id) {\n      var _this7 = this;\n\n      var stopEditingPromises;\n      return regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              stopEditingPromises = [];\n\n              qgs_layer_id.forEach(function (layerid) {\n                stopEditingPromises.push(_this7.dependencyApi.stopEditing(layerid));\n              });\n              _context7.next = 4;\n              return Promise.allSettled(stopEditingPromises);\n\n            case 4:\n              this.clear();\n\n            case 5:\n            case 'end':\n              return _context7.stop();\n          }\n        }\n      }, _callee7, this);\n    }));\n\n    return function (_x13) {\n      return _ref12.apply(this, arguments);\n    };\n  }();\n\n  this.stop = function () {\n    var _this8 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this8.dependencyApi.hidePanel();\n      _gui2.default.hideSidebar();\n      _this8.once('clear', resolve);\n    });\n  };\n\n  /**\n   * Method called wen we want to reset default editing plugin behaviour\n   *\n   * */\n  this.clear = function () {\n    this.dependencyApi.resetDefault();\n    this.isRunning = false;\n    this.responseObject = {\n      cb: null, // resolve or reject promise method\n      qgs_layer_id: null,\n      error: null\n    };\n    this.resetSubscribeEvents();\n    this.emit('clear');\n  };\n}\n\ninherit(EditingService, BasePluginService);\n\nexports.default = new EditingService();\n\n},{\"core/iframe/services/plugins/service\":18,\"services/gui\":356}],359:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    splitContextAndMethod = _require.splitContextAndMethod,\n    uniqueId = _require.uniqueId;\n\nfunction IframePluginService() {\n  var _this3 = this;\n\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  //project is current project send by application service\n  this.pendingactions = {};\n  this.init = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n    var _this = this;\n\n    var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        project = _ref2.project;\n\n    var layers, serviceNames, i, service;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _gui2.default.isReady();\n\n          case 2:\n            this.services = require('core/iframe/services/index');\n            //set eventResponse handler to alla services\n            this.eventResponseServiceHandler = function (_ref3) {\n              var action = _ref3.action,\n                  response = _ref3.response;\n\n              _this.postMessage({\n                id: null,\n                action: action,\n                response: response\n              });\n            };\n            /*\n            get layer attributes from project layers state\n             */\n            layers = project.state.layers.map(function (layer) {\n              return {\n                id: layer.id,\n                name: layer.name\n              };\n            });\n            //initialize all service\n\n            serviceNames = Object.keys(this.services);\n            i = 0;\n\n          case 7:\n            if (!(i < serviceNames.length)) {\n              _context.next = 16;\n              break;\n            }\n\n            service = this.services[serviceNames[i]];\n            // set common layer attribute service just one time\n\n            service.getLayers() === undefined && service.setLayers(layers);\n            _context.next = 12;\n            return service.init();\n\n          case 12:\n            service.on('response', this.eventResponseServiceHandler);\n\n          case 13:\n            i++;\n            _context.next = 7;\n            break;\n\n          case 16:\n            /**\n             * Send post message is ready\n             */\n            this.postMessage({\n              id: null,\n              action: \"app:ready\",\n              response: {\n                result: true,\n                data: {\n                  layers: layers\n                }\n              }\n            });\n\n            if (window.addEventListener) window.addEventListener(\"message\", this.getMessage, false);else window.attachEvent(\"onmessage\", this.getMessage);\n\n          case 18:\n          case 'end':\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  }));\n\n  /**\n   * Outputplace iframe get by DataRouteService\n   * @param dataPromise\n   * @param options\n   * @returns {Promise<void>}\n   */\n  this.outputDataPlace = function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(dataPromise) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      var _options$action, action, _ref5, result, _ref5$data, data, parser, outputData;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _options$action = options.action, action = _options$action === undefined ? 'app:results' : _options$action;\n              _context2.next = 3;\n              return dataPromise;\n\n            case 3:\n              _ref5 = _context2.sent;\n              result = _ref5.result;\n              _ref5$data = _ref5.data;\n              data = _ref5$data === undefined ? [] : _ref5$data;\n              parser = new ol.format.GeoJSON();\n              outputData = [];\n\n              try {\n                outputData = data.map(function (_ref6) {\n                  var layer = _ref6.layer,\n                      features = _ref6.features;\n                  return _defineProperty({}, layer.getId(), {\n                    features: parser.writeFeatures(features)\n                  });\n                });\n              } catch (err) {\n                result: false;\n                outputData: err;\n              }\n              this.postMessage({\n                id: null,\n                action: action,\n                response: {\n                  result: result,\n                  data: outputData\n                }\n              });\n\n            case 11:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    return function (_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  // method to post message to parent\n  this.postMessage = function () {\n    var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (window.parent) window.parent.postMessage(message, \"*\");\n  };\n\n  this.stopPendingActions = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n    var _this2 = this;\n\n    var promises;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            promises = [];\n\n            Object.keys(this.pendingactions).forEach(function (id) {\n              var context = _this2.pendingactions[id].context;\n\n              promises.push(_this2.services[context].stop());\n              delete _this2.pendingactions[id];\n            });\n            return _context3.abrupt('return', Promise.allSettled(promises));\n\n          case 3:\n          case 'end':\n            return _context3.stop();\n        }\n      }\n    }, _callee3, this);\n  }));\n\n  // method to handle all message from window\n  this.getMessage = function () {\n    var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(evt) {\n      var _evt$data, _evt$data$id, id, _evt$data$single, single, action, params, _splitContextAndMetho, context, method, result, data;\n\n      return regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              if (!(evt && evt.data)) {\n                _context4.next = 24;\n                break;\n              }\n\n              _evt$data = evt.data, _evt$data$id = _evt$data.id, id = _evt$data$id === undefined ? uniqueId() : _evt$data$id, _evt$data$single = _evt$data.single, single = _evt$data$single === undefined ? true : _evt$data$single, action = _evt$data.action, params = _evt$data.data;\n              _splitContextAndMetho = splitContextAndMethod(action), context = _splitContextAndMetho.context, method = _splitContextAndMetho.method;\n              result = false;\n              data = void 0;\n              _context4.prev = 5;\n\n              if (!_this3.services[context].getReady()) {\n                _context4.next = 16;\n                break;\n              }\n\n              _context4.t0 = single;\n\n              if (!_context4.t0) {\n                _context4.next = 11;\n                break;\n              }\n\n              _context4.next = 11;\n              return _this3.stopPendingActions();\n\n            case 11:\n              _this3.pendingactions[id] = {\n                context: context\n              };\n              _context4.next = 14;\n              return _this3.services[context][method](params);\n\n            case 14:\n              data = _context4.sent;\n\n              result = true;\n\n            case 16:\n              _context4.next = 22;\n              break;\n\n            case 18:\n              _context4.prev = 18;\n              _context4.t1 = _context4['catch'](5);\n\n              result = false;\n              data = _context4.t1;\n\n            case 22:\n              _this3.postMessage({\n                id: id,\n                action: action,\n                response: {\n                  result: result,\n                  data: data\n                }\n              });\n              delete _this3.pendingactions[id];\n\n            case 24:\n            case 'end':\n              return _context4.stop();\n          }\n        }\n      }, _callee4, _this3, [[5, 18]]);\n    }));\n\n    return function (_x6) {\n      return _ref9.apply(this, arguments);\n    };\n  }();\n\n  // Called when change map or clear\n  this.clear = function () {\n    var serviceNames = Object.keys(this.services);\n    for (var i = 0; i < serviceNames.length; i++) {\n      var service = this.services[serviceNames[i]];\n      service.off('response', this.eventResponseServiceHandler);\n    }\n    this.stopPendingActions();\n    if (window.removeEventListener) window.removeEventListener(\"message\", this.getMessage, false);else window.detachEvent(\"onmessage\", this.getMessage);\n  };\n}\n\nexports.default = new IframePluginService();\n\n},{\"core/iframe/services/index\":17,\"core/utils/utils\":68,\"services/gui\":356}],360:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.7\n */\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n// service sidebar\nfunction navbaritemsService() {\n  this.state = {\n    items: {\n      left: [],\n      right: []\n    }\n  };\n  this.addItem = function (item) {\n    var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'right';\n\n    this.state.items[position].push(item);\n  };\n\n  base(this);\n}\n\ninherit(navbaritemsService, G3WObject);\n\nexports.default = new navbaritemsService();\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],361:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _data2 = require('services/data');\n\nvar _data3 = _interopRequireDefault(_data2);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/i18n/i18n.service'),\n    t = _require.t;\n\nvar _require2 = require('core/utils/utils'),\n    uniqueId = _require2.uniqueId,\n    createFilterFromString = _require2.createFilterFromString,\n    XHR = _require2.XHR;\n\nvar QUERYBUILDERSEARCHES = 'QUERYBUILDERSEARCHES';\n\nfunction QueryBuilderService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  this._cacheValues = {};\n  this._items = _application2.default.getLocalItem(QUERYBUILDERSEARCHES) || {};\n}\n\nvar proto = QueryBuilderService.prototype;\n\nproto.getCurrentProjectItems = function () {\n  var projectId = _projects2.default.getCurrentProject().getId();\n  this._items[projectId] = this._items[projectId] || [];\n  return this._items[projectId];\n};\n\nproto.getItems = function (projectId) {\n  var items = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  return items ? items[projectId] || [] : [];\n};\n\nproto._getLayerById = function (layerId) {\n  return _catalogLayers2.default.getLayerById(layerId);\n};\n\nproto.getValues = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref2.layerId,\n      field = _ref2.field;\n\n  var valuesField, layer, dataUrl, response;\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          this._cacheValues[layerId] = this._cacheValues[layerId] || {};\n          valuesField = this._cacheValues[layerId][field];\n\n          if (!(valuesField === undefined)) {\n            _context.next = 18;\n            break;\n          }\n\n          _context.prev = 3;\n          layer = this._getLayerById(layerId);\n          dataUrl = layer.getUrl('data');\n          _context.next = 8;\n          return XHR.get({\n            url: dataUrl,\n            params: {\n              ordering: field,\n              unique: field\n            }\n          });\n\n        case 8:\n          response = _context.sent;\n\n          if (response.result) this._cacheValues[layerId][field] = this._cacheValues[layerId][field] || response.data;\n          return _context.abrupt('return', this._cacheValues[layerId][field] || []);\n\n        case 13:\n          _context.prev = 13;\n          _context.t0 = _context['catch'](3);\n\n          reject();\n\n        case 16:\n          _context.next = 19;\n          break;\n\n        case 18:\n          return _context.abrupt('return', valuesField);\n\n        case 19:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this, [[3, 13]]);\n}));\n\nproto.run = function () {\n  var _this = this;\n\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref3.layerId,\n      stringFilter = _ref3.filter,\n      _ref3$showResult = _ref3.showResult,\n      showResult = _ref3$showResult === undefined ? true : _ref3$showResult;\n\n  return new Promise(function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n      var layer, search_endpoint, filter, _ref5, data;\n\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              layer = _this._getLayerById(layerId);\n              search_endpoint = layer.getSearchEndPoint();\n              filter = createFilterFromString({\n                layer: layer,\n                search_endpoint: search_endpoint,\n                filter: stringFilter\n              });\n              _context2.prev = 3;\n              _context2.next = 6;\n              return _data3.default.getData('search:features', {\n                inputs: {\n                  layer: layer,\n                  filter: filter,\n                  search_endpoint: search_endpoint,\n                  feature_count: 100\n                },\n                outputs: showResult\n              });\n\n            case 6:\n              _ref5 = _context2.sent;\n              data = _ref5.data;\n\n              resolve(data);\n              _context2.next = 15;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2['catch'](3);\n\n              _gui2.default.showUserMessage({\n                type: 'alert',\n                message: 'sdk.querybuilder.error_run',\n                autoclose: true\n              });\n              reject(_context2.t0);\n\n            case 15:\n            case 'end':\n              return _context2.stop();\n          }\n        }\n      }, _callee2, _this, [[3, 11]]);\n    }));\n\n    return function (_x4, _x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }());\n};\n\nproto.test = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      layerId = _ref7.layerId,\n      filter = _ref7.filter;\n\n  var data;\n  return regeneratorRuntime.wrap(function _callee3$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return this.run({\n            layerId: layerId,\n            filter: filter,\n            showResult: false\n          });\n\n        case 3:\n          data = _context3.sent;\n          return _context3.abrupt('return', data.length && data[0].features.length);\n\n        case 7:\n          _context3.prev = 7;\n          _context3.t0 = _context3['catch'](0);\n\n          _context3.t0 = t('sdk.querybuilder.error_test');\n          return _context3.abrupt('return', Promise.reject(_context3.t0));\n\n        case 11:\n        case 'end':\n          return _context3.stop();\n      }\n    }\n  }, _callee3, this, [[0, 7]]);\n}));\n\nproto.delete = function () {\n  var _this2 = this;\n\n  var _ref8 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref8.id;\n\n  return new Promise(function (resolve, reject) {\n    _gui2.default.dialog.confirm(t('sdk.querybuilder.delete'), function (result) {\n      if (result) {\n        var querybuildersearches = _this2.getItems().filter(function (item) {\n          return item.id !== id;\n        });\n        var projectId = _projects2.default.getCurrentProject().getId();\n        var saveitems = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n        if (querybuildersearches.length) saveitems[projectId] = querybuildersearches;else delete saveitems[projectId];\n        if (Object.keys(saveitems).length) _application2.default.setLocalItem({\n          id: QUERYBUILDERSEARCHES,\n          data: saveitems\n        });else _application2.default.removeLocalItem(QUERYBUILDERSEARCHES);\n        resolve();\n      } else reject();\n    });\n  });\n};\n\nproto.editLocalItem = function (projectId, querybuildersearch) {\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  var querybuildersearches = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  querybuildersearches[projectId].find(function (_querybuildersearch, index) {\n    if (_querybuildersearch.id === querybuildersearch.id) {\n      querybuildersearches[projectId][index] = querybuildersearch;\n      return true;\n    }\n  });\n  _application2.default.setLocalItem({\n    id: QUERYBUILDERSEARCHES,\n    data: querybuildersearches\n  });\n  this._resetItems(projectId, querybuildersearches[projectId]);\n};\n\nproto._resetItems = function (projectId, querybuildersearches) {\n  var _this3 = this;\n\n  setTimeout(function () {\n    querybuildersearches.forEach(function (querybuildersearch) {\n      return _this3._items[projectId].push(querybuildersearch);\n    });\n  }, 0);\n  this._items[projectId].splice(0);\n};\n\nproto.addLocalItem = function (projectId, querybuildersearch) {\n  querybuildersearch.id = uniqueId();\n  projectId = projectId || _projects2.default.getCurrentProject().getId();\n  var querybuildersearches = _application2.default.getLocalItem(QUERYBUILDERSEARCHES);\n  if (querybuildersearches === undefined) {\n    var _querybuildersearches = [querybuildersearch];\n    _application2.default.setLocalItem({\n      id: QUERYBUILDERSEARCHES,\n      data: _defineProperty({}, projectId, _querybuildersearches)\n    });\n    this._resetItems(projectId, _querybuildersearches);\n  } else {\n    querybuildersearches[projectId] = querybuildersearches[projectId] ? [].concat(_toConsumableArray(querybuildersearches[projectId]), [querybuildersearch]) : [querybuildersearch];\n    _application2.default.setLocalItem({\n      id: QUERYBUILDERSEARCHES,\n      data: querybuildersearches\n    });\n    this._resetItems(projectId, querybuildersearches[projectId]);\n  }\n};\n\nproto.save = function () {\n  var _this4 = this;\n\n  var _ref9 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      id = _ref9.id,\n      name = _ref9.name,\n      layerId = _ref9.layerId,\n      filter = _ref9.filter,\n      projectId = _ref9.projectId;\n\n  var layerName = this._getLayerById(layerId).getName();\n  var querybuildersearch = {\n    layerId: layerId,\n    filter: filter,\n    layerName: layerName\n  };\n  if (id) {\n    querybuildersearch.name = name;\n    querybuildersearch.id = id;\n    this.editLocalItem(projectId, querybuildersearch);\n    _gui2.default.showUserMessage({\n      type: 'success',\n      message: t(\"sdk.querybuilder.messages.changed\"),\n      autoclose: true\n    });\n    return;\n  }\n  _gui2.default.dialog.prompt(t('sdk.querybuilder.additem'), function (result) {\n    if (result) {\n      var searchService = _gui2.default.getComponent('search').getService();\n      querybuildersearch.name = result;\n      searchService.addQueryBuilderSearch(querybuildersearch);\n      _this4.addLocalItem(projectId, querybuildersearch);\n      _gui2.default.showUserMessage({\n        type: 'success',\n        message: t(\"sdk.querybuilder.messages.changed\"),\n        autoclose: true\n      });\n    }\n  });\n};\n\nproto.all = function () {};\n\nproto.sample = function () {};\n\nproto.clear = function () {\n  this._cacheValues = {};\n};\n\nproto.add = function () {};\n\nexports.default = new QueryBuilderService();\n\n},{\"core/i18n/i18n.service\":14,\"core/utils/utils\":68,\"services/application\":346,\"services/data\":353,\"services/gui\":356,\"store/catalog-layers\":369,\"store/projects\":374}],362:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _data = require('services/data');\n\nvar _data2 = _interopRequireDefault(_data);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    XHR = _require.XHR,\n    base = _require.base,\n    createSingleFieldParameter = _require.createSingleFieldParameter;\n\nvar _require2 = require('core/utils/geo'),\n    sanitizeFidFeature = _require2.sanitizeFidFeature,\n    getAlphanumericPropertiesFromFeature = _require2.getAlphanumericPropertiesFromFeature;\n\nvar G3WObject = require('core/g3wobject');\n\nfunction RelationsService() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  base(this);\n}\n\ninherit(RelationsService, G3WObject);\n\nvar proto = RelationsService.prototype;\n\nproto.createUrl = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var currentProject = _projects2.default.getCurrentProject();\n  // type : <editing, data, xls>\n  var _options$layer = options.layer,\n      layer = _options$layer === undefined ? {} : _options$layer,\n      _options$relation = options.relation,\n      relation = _options$relation === undefined ? {} : _options$relation,\n      fid = options.fid,\n      _options$type = options.type,\n      type = _options$type === undefined ? 'data' : _options$type,\n      _options$formatter = options.formatter,\n      formatter = _options$formatter === undefined ? 1 : _options$formatter;\n\n  var layerId = void 0;\n  var father = relation.father,\n      child = relation.child,\n      referencedLayer = relation.referencedLayer,\n      referencingLayer = relation.referencingLayer,\n      relationId = relation.id;\n\n  if (father !== undefined) layerId = layer.id === father ? child : father;else layerId = layer.id === referencedLayer ? referencingLayer : referencedLayer;\n  var dataUrl = currentProject.getLayerById(layerId).getUrl(type);\n  var value = sanitizeFidFeature(fid);\n  return dataUrl + '?relationonetomany=' + relationId + '|' + value + '&formatter=' + formatter;\n};\n\nproto.getRelations = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var url = this.createUrl(options);\n  return XHR.get({\n    url: url\n  });\n};\n\n/**\n * Get relations NM\n * @param nmRelation\n * @param features\n * @returns {Promise<[]>}\n */\nproto.getRelationsNM = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      nmRelation = _ref2.nmRelation,\n      _ref2$features = _ref2.features,\n      features = _ref2$features === undefined ? [] : _ref2$features;\n\n  var referencedLayer, referencingLayer, _nmRelation$fieldRef, referencingField, referencedField, relationsNM, values, responseFids;\n\n  return regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          referencedLayer = nmRelation.referencedLayer, referencingLayer = nmRelation.referencingLayer, _nmRelation$fieldRef = nmRelation.fieldRef, referencingField = _nmRelation$fieldRef.referencingField, referencedField = _nmRelation$fieldRef.referencedField;\n          relationsNM = []; // start with empty relations result\n\n          if (!features.length) {\n            _context.next = 8;\n            break;\n          }\n\n          values = features.map(function (feature) {\n            return feature.attributes[referencingField];\n          });\n          _context.next = 6;\n          return _data2.default.getData('search:features', {\n            inputs: {\n              layer: _catalogLayers2.default.getLayerById(referencedLayer),\n              filter: '' + createSingleFieldParameter({\n                field: referencedField,\n                value: values,\n                logicop: 'OR'\n              }),\n              formatter: 1, // set formatter to\n              search_endpoint: 'api'\n            },\n            outputs: null\n          });\n\n        case 6:\n          responseFids = _context.sent;\n\n          if (responseFids.data && responseFids.data[0] && Array.isArray(responseFids.data[0].features)) {\n            relationsNM = responseFids.data[0].features.map(function (feature) {\n              var attributes = getAlphanumericPropertiesFromFeature(feature.getProperties()).reduce(function (accumulator, property) {\n                accumulator[property] = feature.get(property);\n                return accumulator;\n              }, {});\n              return {\n                id: feature.getId(),\n                attributes: attributes,\n                geometry: feature.getGeometry()\n              };\n            });\n          }\n\n        case 8:\n          return _context.abrupt('return', relationsNM);\n\n        case 9:\n        case 'end':\n          return _context.stop();\n      }\n    }\n  }, _callee, this);\n}));\n\nproto.save = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var url = this.createUrl(options);\n  return XHR.fileDownload({\n    url: url,\n    httpMethod: \"GET\"\n  });\n};\n\nexports.default = new RelationsService();\n\n},{\"core/g3wobject\":13,\"core/utils/geo\":65,\"core/utils/utils\":68,\"services/data\":353,\"store/catalog-layers\":369,\"store/projects\":374}],363:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    Base64 = _require.Base64;\n\nvar G3WObject = require('core/g3wobject');\n\n/*\n * RouterService based on  History.js (https://github.com/browserstate/history.js) e Crossroads (https://github.com/millermedeiros/crossroads.js)\n * Base concept is RouteQuery, example \"map?point=21.2,42.1&zoom=12\",\n * it inserts into browser and URL as quesrystring (q=map@point!21.2,41.1|zoom!12).\n * To run RouteQuery:\n *\n * RouterService.goto(\"map?point=21.2,42.1&zoom=12\");\n *\n *To listen to router has to be add  RouterService.addRoute(pattern, callback). Es.:\n *\n * var route = RouterService.addRoute('map/{?query}',function(query){\n *  console.log(query.point);\n *  console.log(query.zoom);\n * });\n *\n * Patterns:\n *  \"map/{foo}\": la porzione \"foo\" is request, and is passed as parameter in callback\n *  \"map/:foo:\": la porzione \"foo\"  optional, \n *  \"map/:foo*: \n *  \"map/{?querystring}\": mandatory\n *  \"map/:?querystring:\": optionals\n *\n * to remove  route:\n * RouterService.removeRoute(route);\n*/\n\ncrossroads.ignoreState = true;\ncrossroads.greedy = true;\n\nvar RouterService = function RouterService() {\n\n  this._initialLocationQuery;\n  this._routeQuery = '';\n  this.setters = {\n    setRouteQuery: function setRouteQuery(routeQuery) {\n      this._routeQuery = routeQuery;\n      crossroads.parse(routeQuery);\n    }\n  };\n\n  base(this);\n};\ninherit(RouterService, G3WObject);\n\nvar proto = RouterService.prototype;\n\nproto.init = function () {\n  //Return the querystring part of a URL\n  var query = window.location.search;\n  this._setRouteQueryFromLocationQuery(query);\n};\n\nproto.addRoute = function (pattern, handler, priority) {\n  return crossroads.addRoute(pattern, handler, priority);\n};\n\nproto.removeRoute = function (route) {\n  return crossroads.removeRoute(route);\n};\n\nproto.removeAllRoutes = function () {\n  return crossroads.removeAllRoutes();\n};\n\nproto.parse = function (request, defaultArgs) {\n  return crossroads.parse(request, defaultArgs);\n};\n\nproto.goto = function (routeQuery) {\n  if (!this._initialQuery) {\n    this._initialLocationQuery = this._stripInitialQuery(location.search.substring(1));\n  }\n  if (routeQuery) {\n    this.setRouteQuery(routeQuery);\n  }\n};\n\nproto.makePermalink = function (routeQuery) {\n  if (!this._initialQuery) {\n    this._initialLocationQuery = this._stripInitialQuery(location.search.substring(1));\n  }\n  var encodedRouteQuery = this._encodeRouteQuery(routeQuery);\n  //encodedRouteQuery = Base64.encode(encodedRouteQuery);\n  return '?' + this._initialLocationQuery + '&q=' + this._encodeRouteQuery(routeQuery);\n};\n\nproto.makeQueryString = function (queryParams) {};\n\nproto.slicePath = function (path) {\n  return path.split('?')[0].split('/');\n};\n\nproto.sliceFirst = function (path) {\n  var pathAndQuery = path.split('?');\n  var queryString = pathAndQuery[1];\n  var pathArr = pathAndQuery[0].split('/');\n  var firstPath = pathArr[0];\n  path = pathArr.slice(1).join('/');\n  path = [path, queryString].join('?');\n  return [firstPath, path];\n};\n\nproto.getQueryParams = function (query) {\n  query = query.replace('?', '');\n  var queryParams = {};\n  var queryPairs = [];\n  if (query != \"\" && query.indexOf(\"&\") == -1) {\n    queryPairs = [query];\n  } else {\n    queryPairs = query.split('&');\n  }\n  try {\n    _.forEach(queryPairs, function (queryPair) {\n      var pair = queryPair.split('=');\n      var key = pair[0];\n      var value = pair[1];\n      queryParams[key] = value;\n    });\n  } catch (e) {}\n  return queryParams;\n};\n\nproto.getQueryString = function (path) {\n  return path.split('?')[1];\n};\n\nproto._getQueryPortion = function (query, queryKey) {\n  var queryPortion;\n  try {\n    var queryPairs = query.split('&');\n    var queryParams = {};\n    _.forEach(queryPairs, function (queryPair) {\n      var pair = queryPair.split('=');\n      var key = pair[0];\n      if (key == queryKey) {\n        queryPortion = queryPair;\n      }\n    });\n  } catch (e) {}\n  return queryPortion;\n};\n\nproto._encodeRouteQuery = function (routeQuery) {\n  routeQuery = routeQuery.replace('?', '@');\n  routeQuery = routeQuery.replace('&', '|');\n  routeQuery = routeQuery.replace('=', '!');\n  return routeQuery;\n};\n\nproto._decodeRouteQuery = function (routeQuery) {\n  routeQuery = routeQuery.replace('@', '?');\n  routeQuery = routeQuery.replace('|', '&');\n  routeQuery = routeQuery.replace('!', '=');\n  return routeQuery;\n};\n\nproto._setRouteQueryFromLocationQuery = function (locationQuery) {\n  var encodedRouteQuery = this._getRouteQueryFromLocationQuery(locationQuery);\n  //encodedRouteQuery = Base64.decode(encodedRouteQuery);\n  if (encodedRouteQuery) {\n    var routeQuery = this._decodeRouteQuery(encodedRouteQuery);\n    this.setRouteQuery(routeQuery);\n  }\n};\n\nproto._getRouteQueryFromLocationQuery = function (locationQuery) {\n  return this.getQueryParams(locationQuery)['q'];\n};\n\nproto._stripInitialQuery = function (locationQuery) {\n  var previousQuery = this._getQueryPortion(locationQuery, 'q');\n  if (previousQuery) {\n    var previousQueryLength = previousQuery.length;\n    var previousQueryPosition = locationQuery.indexOf(previousQuery);\n    queryPrefix = _.trimEnd(locationQuery.substring(0, previousQueryPosition), \"&\");\n    querySuffix = locationQuery.substring(previousQueryPosition + previousQueryLength);\n    querySuffix = queryPrefix != \"\" ? querySuffix : _.trimStart(querySuffix, \"&\");\n    locationQuery = queryPrefix + querySuffix;\n  }\n  return locationQuery;\n};\n\nexports.default = new RouterService();\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],364:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /**\n                                                                                                                                                                                                                                                                   * @file\n                                                                                                                                                                                                                                                                   * @since v3.7\n                                                                                                                                                                                                                                                                   */\n\nvar _SidebarItem = require('components/SidebarItem.vue');\n\nvar _SidebarItem2 = _interopRequireDefault(_SidebarItem);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar _require2 = require('gui/utils/utils'),\n    Stack = _require2.barstack;\n\nvar G3WObject = require('core/g3wobject');\n\n/**\n * TODO: temporary need to remove it\n */\nvar SidebarItem = Vue.extend(_SidebarItem2.default);\n\nfunction SidebarService() {\n  //set sidebar stack\n  this.stack = new Stack();\n  // set setter for close sidebarpanel to catch event\n  // of closing panel of the sidebar\n  this.setters = {\n    closeSidebarPanel: function closeSidebarPanel() {},\n    openCloseItem: function openCloseItem(bool) {}\n  };\n  //service state\n  this.state = {\n    components: [],\n    gui: {\n      title: ''\n    },\n    disabled: false\n  };\n  //inizialize method\n  this.init = function (layout) {\n    this.layout = layout;\n  };\n  // add component to sidebar\n  this.addComponents = function (components) {\n    var _this = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    //for each component of the sidebar it is call addComponent method\n    components.forEach(function (component) {\n      return _this.addComponent(component, options);\n    });\n    return true;\n  };\n  // add each component to the sidebar\n  // add also position insiede the sidebar\n  this.addComponent = function (component) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var position = options.position,\n        _options$before = options.before,\n        before = _options$before === undefined ? true : _options$before,\n        info = options.info;\n\n    if (isMobile.any && !component.mobile) {\n      return false;\n    }\n    var sidebarItem = new SidebarItem({\n      service: this,\n      info: info,\n      component: component\n    });\n    sidebarItem.title = component.title || sidebarItem.title;\n    sidebarItem.info = component.info || sidebarItem.info;\n    sidebarItem.actions = component.actions || sidebarItem.actions;\n    sidebarItem.open = component.state.open; //(component.open === undefined) ? sidebarItem.open : component.open;\n    sidebarItem.icon = component.icon || sidebarItem.icon;\n    sidebarItem.iconColor = component.iconColor;\n    sidebarItem.state = component.state || true;\n    sidebarItem.collapsible = typeof component.collapsible === 'boolean' ? component.collapsible : true;\n    sidebarItem.isolate = typeof component.isolate === 'boolean' ? component.isolate : false;\n    //append component to  g3w-sidebarcomponents (template sidebar.html)\n    var DOMComponent = sidebarItem.$mount().$el;\n    this.state.components.push(component);\n    var isPanelSidebarShow = $('.g3w-sidebarpanel').is(':visible');\n    var sidebarcomponetsdomid = '#g3w-sidebarcomponents' + (isPanelSidebarShow ? ':hidden' : '');\n    var children = $(sidebarcomponetsdomid).children().filter(function () {\n      return this.style.display !== 'none';\n    });\n    var childrenLength = children.length;\n    if (position === null || position === undefined || position < 0 || position >= childrenLength) $(sidebarcomponetsdomid).append(DOMComponent);else children.each(function (index, element) {\n      var findElementIndexId = Number.isInteger(position) ? position === index : element.id === position;\n      findElementIndexId && $(DOMComponent)['insert' + (before ? 'Before' : 'After')](element);\n    });\n    //mount componet to g3w-sidebarcomponent-placeholder (template sidebar-item.html);\n    component.mount(\"#g3w-sidebarcomponent-placeholder\");\n    // check if componentonent has iniService method\n    component.initService && component.initService();\n    // add click handler\n    this.setComponentClickHandler(component);\n    return true;\n  };\n\n  this.setComponentClickHandler = function (component) {\n    component.click = function () {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$open = _ref.open,\n          open = _ref$open === undefined ? false : _ref$open;\n\n      open = open || false;\n      $(component.getInternalComponent().$el).siblings('a').click();\n      component.setOpen(open);\n    };\n  };\n\n  // get component by id\n  this.getComponent = function (id) {\n    return this.state.components.find(function (component) {\n      return component.getId() === id;\n    });\n  };\n\n  // get all components\n  this.getComponents = function () {\n    return this.state.components;\n  };\n\n  /**\n   * close for the moment only conlapsbale\n   */\n  this.closeOpenComponents = function () {\n    var collapsible = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n    this.getComponents().forEach(function (component) {\n      return component.closeWhenViewportContentIsOpen() && component.collapsible && component.click({ open: false });\n    });\n  };\n\n  this.reloadComponent = function (id) {\n    var component = this.getComponent(id);\n    component && component.reload();\n  };\n\n  this.reloadComponents = function () {\n    // force close of the panel\n    this.closePanel();\n    this.state.components.forEach(function (component) {\n      if (component.collapsible && component.state.open) component.click({ open: false });\n      component.reload();\n    });\n  };\n  //remove component\n  this.removeComponent = function (component) {\n    var _this2 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var position = options.position;\n\n    this.state.components.forEach(function (sidebarComponent, index) {\n      if (component === sidebarComponent) {\n        component.unmount();\n        _this2.state.components.splice(index, 1);\n        if (position !== undefined && Number.isInteger(position)) $('#g3w-sidebarcomponents').children(':visible')[position].remove();else $('#g3w-sidebarcomponents').children('#' + component.id).remove();\n        return false;\n      }\n    });\n  };\n  // show panel on stack\n  this.showPanel = function (panel) {\n    var _this3 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    return new Promise(function (resolve, reject) {\n      _this3.state.gui.title = panel.title;\n      var parent = \"#g3w-sidebarpanel-placeholder\";\n      _this3.stack.getCurrentContentData() && $(_this3.stack.getCurrentContentData().content.internalPanel.$el).hide();\n      _this3.stack.push(panel, _extends({\n        parent: parent\n      }, options)).then(function (content) {\n        return resolve(content);\n      });\n    });\n  };\n\n  // close panel\n  this.closePanel = function () {\n    var _this4 = this;\n\n    this.state.gui.title = null;\n    this.closeSidebarPanel();\n    this.stack.pop().then(function (content) {\n      content = null;\n      _this4.stack.getCurrentContentData() && $(_this4.stack.getCurrentContentData().content.internalPanel.$el).show();\n    });\n  };\n\n  this.closeAllPanels = function () {\n    this.state.gui.title = null;\n    this.closeSidebarPanel();\n    this.stack.clear();\n  };\n\n  base(this);\n}\n\ninherit(SidebarService, G3WObject);\n\nexports.default = new SidebarService();\n\n},{\"components/SidebarItem.vue\":293,\"core/g3wobject\":13,\"core/utils/utils\":68,\"gui/utils/utils\":187}],365:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n/**\n * @file\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    XHR = _require.XHR;\n\n/**\n * Singletone service to run async task\n * @constructor\n */\n\n\nfunction TaskService() {\n  /**\n   * Array contain all task id that are running. Each item is an object contain:\n   * {\n   *   taskId: //taskId,\n   *   intervalId: interval to clear clearInterval()\n   * }\n   **/\n  var tasks = [];\n  /**\n   *\n   * @param options: {\n   *   method: http method to run task GET/POST\n   *   url: api request url (that server start in background task)\n   *   taskUrl = url to ask the status og task\n   *   params: Object contain param to http/https request\n   *   interval: interval in milliseconds to do a request for ask status of task (default 10000 - 1 second)\n   *   listener: ()=>{} method to call\n   *\n   * }\n   *\n   * return a Promise that return a task id\n   */\n  this.runTask = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var _this = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var _options$method, method, _options$params, params, url, taskUrl, _options$interval, interval, _options$timeout, timeout, _options$listener, listener, response, result, task_id, intervalId;\n\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _options$method = options.method, method = _options$method === undefined ? 'GET' : _options$method, _options$params = options.params, params = _options$params === undefined ? {} : _options$params, url = options.url, taskUrl = options.taskUrl, _options$interval = options.interval, interval = _options$interval === undefined ? 1000 : _options$interval, _options$timeout = options.timeout, timeout = _options$timeout === undefined ? Infinity : _options$timeout, _options$listener = options.listener, listener = _options$listener === undefined ? function () {} : _options$listener;\n            _context2.prev = 1;\n\n            if (!(method === 'GET')) {\n              _context2.next = 8;\n              break;\n            }\n\n            _context2.next = 5;\n            return XHR.get({\n              url: url,\n              params: params\n            });\n\n          case 5:\n            _context2.t0 = _context2.sent;\n            _context2.next = 11;\n            break;\n\n          case 8:\n            _context2.next = 10;\n            return XHR.post({\n              url: url,\n              data: params.data || {},\n              contentType: params.contentType || \"application/json\"\n            });\n\n          case 10:\n            _context2.t0 = _context2.sent;\n\n          case 11:\n            response = _context2.t0;\n            result = response.result, task_id = response.task_id;\n\n            if (!result) {\n              _context2.next = 19;\n              break;\n            }\n\n            intervalId = setInterval(_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var _response;\n\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      // check if timeout is defined\n                      timeout = timeout - interval;\n\n                      if (!(timeout > 0)) {\n                        _context.next = 15;\n                        break;\n                      }\n\n                      _response = void 0;\n                      _context.prev = 3;\n                      _context.next = 6;\n                      return XHR.get({\n                        url: '' + taskUrl + task_id\n                      });\n\n                    case 6:\n                      _response = _context.sent;\n                      _context.next = 12;\n                      break;\n\n                    case 9:\n                      _context.prev = 9;\n                      _context.t0 = _context['catch'](3);\n\n                      _response = _context.t0;\n\n                    case 12:\n                      listener({\n                        task_id: task_id,\n                        timeout: false,\n                        response: _response\n                      });\n                      _context.next = 17;\n                      break;\n\n                    case 15:\n                      listener({\n                        timeout: true\n                      });\n                      _this.stopTask({\n                        task_id: task_id\n                      });\n\n                    case 17:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this, [[3, 9]]);\n            })), interval);\n\n            // add current task to list of task\n\n            tasks.push({\n              task_id: task_id,\n              intervalId: intervalId\n            });\n\n            // run first time listener function\n            listener({\n              task_id: task_id,\n              response: response\n            });\n            _context2.next = 20;\n            break;\n\n          case 19:\n            return _context2.abrupt('return', Promise.reject(response));\n\n          case 20:\n            _context2.next = 25;\n            break;\n\n          case 22:\n            _context2.prev = 22;\n            _context2.t1 = _context2['catch'](1);\n            return _context2.abrupt('return', Promise.reject(_context2.t1));\n\n          case 25:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this, [[1, 22]]);\n  }));\n\n  /**\n   *\n   * @param options: {\n   *   taskId: taskId that is running\n   * }\n   */\n  this.stopTask = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var task_id = options.task_id;\n\n    var task = tasks.find(function (task) {\n      return task.task_id === task_id;\n    });\n    if (task) clearInterval(task.intervalId);\n  };\n\n  /**\n   * clare all task\n   */\n  this.clear = function () {\n    var _this2 = this;\n\n    tasks.forEach(function (_ref3) {\n      var taskId = _ref3.taskId;\n\n      _this2.stopTask({\n        taskId: taskId\n      });\n    });\n    //reset to empty tasks\n    tasks.splice(0);\n  };\n}\n\n/**\n * SERVER\n * \"\"\"Returns the (possibly) new layer ID where the isochrone\n data has been added. If the task has not yet completed a status message is returned\n\n Note: `project_id` is only used for permissions checking!\n\n Returns 500 in case of exceptions\n Returns 404 in case of task not found\n Returns 200 ok for all other cases\n\n Response body:\n\n {\n            \"status\": \"complete\",  // or \"pending\" or \"error\", full list at\n                                   // https://huey.readthedocs.io/en/latest/signals.html#signals\n            \"exception\": \"Normally empty, error message in case of errors\",\n            \"progress\": [\n                100,  // Progress %\n            ],\n            \"task_result\": {\n                \"qgis_ayer_id\": \"4f2a88a1-ca93-4859-9de3-75d9728cde0e\"\n            }\n        }\n\n **/\n\nexports.default = new TaskService();\n\n},{\"core/utils/utils\":68}],366:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @file\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * @since v3.7\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */\n\nvar _applicationState = require('store/application-state');\n\nvar _applicationState2 = _interopRequireDefault(_applicationState);\n\nvar _constant = require('app/constant');\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit,\n    uniqueId = _require.uniqueId;\n\nvar G3WObject = require('core/g3wobject');\n\nvar ViewportService = function ViewportService() {\n  // state of viewport\n  this.state = {\n    primaryView: 'map', // primary view (default)\n    // percentage of secondary view\n    secondaryPerc: 0, // setted to 0 at beginning (not visible)\n    // used to store if content vertical or horizontal is  changed by resised\n    resized: {\n      start: false,\n      'h': false,\n      'v': false\n    },\n    // splitting orientation (h = horizontal, v = vertical)\n    split: 'h',\n    //map\n    map: {\n      sizes: {\n        width: 0,\n        height: 0\n      },\n      aside: false\n    },\n    //content\n    content: {\n      loading: false,\n      disabled: false,\n      sizes: {\n        width: 0,\n        height: 0\n      },\n      // store the resize vertical or horizontal\n      resize: {\n        'h': {\n          perc: 0\n        },\n        'v': {\n          perc: 0\n        }\n      },\n      aside: true,\n      showgoback: true,\n      stack: [], // array elements of  stack contents\n      closable: true, // (x) is closable\n      backonclose: false, // back on prevoius content\n      contentsdata: [] // content data array\n    },\n    usermessage: {\n      id: null, // unique identify\n      show: false,\n      title: null,\n      message: null,\n      position: null,\n      type: null,\n      draggable: null,\n      cloasable: null,\n      autoclose: null,\n      textMessage: false,\n      hooks: {\n        header: null,\n        body: null,\n        footer: null\n      }\n    }\n  };\n  // content of viewport (map and content)\n  this._components = {\n    map: null,\n    content: null\n  };\n  // default contents\n  this._defaultMapComponent;\n  this._contextualMapComponent;\n\n  // minimun height and width of secondary view\n  this._secondaryViewMinWidth = _constant.VIEWPORT.resize.content.min;\n  this._secondaryViewMinHeight = _constant.VIEWPORT.resize.content.min;\n  this._immediateComponentsLayout = true;\n  this.init = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _options$primaryview = options.primaryview,\n        primaryview = _options$primaryview === undefined ? 'map' : _options$primaryview,\n        _options$split = options.split,\n        split = _options$split === undefined ? 'h' : _options$split,\n        components = options.components;\n    // check if it set primary view (map is default)\n\n    this.state.primaryView = primaryview;\n    // check splitting property\n    this.state.split = split;\n    // add component (map and content)\n    this._addComponents(components);\n  };\n\n  // Method to set true or false of content\n  this.setResized = function (type) {\n    var bool = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    this.state.resized[type] = bool;\n  };\n\n  this.showUserMessage = function () {\n    var _this = this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        title = _ref.title,\n        subtitle = _ref.subtitle,\n        message = _ref.message,\n        type = _ref.type,\n        position = _ref.position,\n        size = _ref.size,\n        draggable = _ref.draggable,\n        duration = _ref.duration,\n        _ref$textMessage = _ref.textMessage,\n        textMessage = _ref$textMessage === undefined ? false : _ref$textMessage,\n        closable = _ref.closable,\n        autoclose = _ref.autoclose,\n        _ref$hooks = _ref.hooks,\n        hooks = _ref$hooks === undefined ? {} : _ref$hooks;\n\n    this.closeUserMessage();\n    setTimeout(function () {\n      _this.state.usermessage.id = uniqueId();\n      _this.state.usermessage.show = true;\n      _this.state.usermessage.message = message;\n      _this.state.usermessage.textMessage = textMessage;\n      _this.state.usermessage.title = title;\n      _this.state.usermessage.subtitle = subtitle;\n      _this.state.usermessage.position = position;\n      _this.state.usermessage.duration = duration;\n      _this.state.usermessage.type = type;\n      _this.state.usermessage.show = true;\n      _this.state.usermessage.size = size;\n      _this.state.usermessage.autoclose = autoclose;\n      _this.state.usermessage.closable = closable;\n      _this.state.usermessage.draggable = draggable;\n      _this.state.usermessage.hooks.header = hooks.header; // has to be a vue component or vue object\n      _this.state.usermessage.hooks.body = hooks.body; // has to be a vue component or vue object\n      _this.state.usermessage.hooks.footer = hooks.footer; // has to be a vue component or vue object\n    });\n    return this.state.usermessage;\n  };\n\n  this.closeUserMessage = function () {\n    this.state.usermessage.id = null;\n    this.state.usermessage.show = false;\n    this.state.usermessage.textMessage = false;\n    this.state.usermessage.message = '';\n  };\n\n  this.getState = function () {\n    return this.state;\n  };\n\n  this.getMapState = function () {\n    return this.state.map;\n  };\n\n  this.getContentState = function () {\n    return this.state.content;\n  };\n\n  this.setLoadingContent = function () {\n    var loading = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    this.state.content.loading = loading;\n  };\n\n  this._addComponents = function (components) {\n    var _this2 = this;\n\n    // components is an object\n    //(index.js)\n    /*\n     {\n      map: new MapComponent({\n        id: 'map'\n      }),\n      content: new ContentsComponent({\n        id: 'contents'\n      })\n     }\n     */\n    Object.entries(components).forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          viewName = _ref3[0],\n          component = _ref3[1];\n\n      // check if component are map or content\n      if (Object.keys(_this2._components).indexOf(viewName) > -1) {\n        component.mount('#g3w-view-' + viewName, true).then(function () {\n          _this2._components[viewName] = component;\n          // check if view name is map\n          if (viewName === 'map') _this2._defaultMapComponent = component; // set de default component to map\n        }).fail(function (err) {\n          return console.log(err);\n        });\n      }\n    });\n  };\n\n  this.showMap = function () {\n    this._toggleMapComponentVisibility(this._defaultMapComponent, true);\n    this._components['map'] = this._defaultMapComponent;\n    this._showView('map');\n  };\n\n  this.showContextualMap = function () {\n    var _this3 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    if (!this._contextualMapComponent) this._contextualMapComponent = this._defaultMapComponent;\n    if (this._contextualMapComponent != this._defaultMapComponent) this._toggleMapComponentVisibility(this._defaultMapComponent, false);\n    if (!this._contextualMapComponent.ismount()) {\n      var contextualMapComponent = this._contextualMapComponent;\n      contextualMapComponent.mount('#g3w-view-map', true).then(function () {\n        return _this3._components['map'] = contextualMapComponent;\n      });\n    } else {\n      this._components['map'] = this._contextualMapComponent;\n      this._toggleMapComponentVisibility(this._contextualMapComponent, true);\n    }\n    this._showView('map', options);\n  };\n\n  // get default component\n  this.recoverDefaultMap = function () {\n    if (this._components['map'] !== this._defaultMapComponent) {\n      this._components['map'] = this._defaultMapComponent;\n      this._toggleMapComponentVisibility(this._contextualMapComponent, false);\n      this._toggleMapComponentVisibility(this._defaultMapComponent, true);\n    }\n    return this._components['map'];\n  };\n\n  this.setContextualMapComponent = function (mapComponent) {\n    if (mapComponent === this._defaultMapComponent) return;\n    if (this._contextualMapComponent) this._contextualMapComponent.unmount();\n    this._contextualMapComponent = mapComponent;\n  };\n\n  this.resetContextualMapComponent = function () {\n    this._contextualMapComponent && this._contextualMapComponent.unmount();\n    this._contextualMapComponent = this._defaultMapComponent;\n  };\n\n  this._toggleMapComponentVisibility = function (mapComponent, toggle) {\n    mapComponent.internalComponent.$el.style.display = toggle ? 'block' : 'none';\n  };\n\n  // close map method\n  this.closeMap = function () {\n    this.state.secondaryPerc = this.state.primaryView === 'map' ? 100 : 0;\n    this.recoverDefaultMap();\n    this._layout();\n  };\n\n  // show content of the viewport content\n  /*\n   options: {\n     content: (string, jQuery elemento or Vue component)\n     title: Title of the content\n     push: (opyionale, default false): if yes the content is push on top of the stack (contentStack)\n     split: (optional, default 'h'): 'h' || 'v' splitting map and content orientation\n     perc: (optional, default 50): percentage of content\n   }\n   */\n\n  this.showContent = function () {\n    var _this4 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    options.perc = options.perc !== undefined ? options.perc : this.getContentPercentageFromCurrentLayout();\n    // check if push is set\n    options.push = options.push || false;\n    var evenContentName = options.perc === 100 ? 'show-content-full' : 'show-content';\n    // set all content parameters\n    this._prepareContentView(options);\n    // immediate layout false (to understand better)\n    this._immediateComponentsLayout = false;\n    // call show view (in this case content (other is map)\n    this._showView('content', options);\n    this._components.content.setContent(options).then(function () {\n      _this4._immediateComponentsLayout = true;\n      _this4._layoutComponents(evenContentName);\n    });\n  };\n\n  // hide content\n  this.hideContent = function (bool) {\n    var prevContentPerc = this.getContentPercentageFromCurrentLayout(this.state.split);\n    this.state.secondaryVisible = !bool;\n    this._layout('hide-content');\n    // return previous percentage\n    return prevContentPerc;\n  };\n\n  this.resetToDefaultContentPercentage = function () {\n    var currentRightPanel = this.getCurrentContentLayout();\n    currentRightPanel['' + (this.state.split === 'h' ? 'width' : 'height')] = currentRightPanel[(this.state.split === 'h' ? 'width' : 'height') + '_default'];\n    currentRightPanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'] = false;\n    this._layoutComponents();\n  };\n\n  this.toggleFullViewContent = function () {\n    _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'] = !_applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'];\n    this._layoutComponents();\n  };\n\n  this.isFullViewContent = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel[(this.state.split === 'h' ? 'width' : 'height') + '_100'];\n  };\n\n  this.contentLength = function () {\n    return this.state.content.contentsdata.length;\n  };\n\n  // pull the last element of contentStack\n  this.popContent = function () {\n    var _this5 = this;\n\n    var d = $.Deferred();\n    // check if content exist compontentStack\n    if (this.state.content.contentsdata.length) {\n      this.recoverDefaultMap();\n      var data = this._components.content.getPreviousContentData();\n      this._prepareContentView(data.options);\n      this._immediateComponentsLayout = false;\n      this._showView('content', data.options);\n      this._components.content.popContent().then(function () {\n        _this5.state.secondaryPerc = data.options.perc;\n        _this5._immediateComponentsLayout = true;\n        _this5._layout('pop-content');\n        d.resolve(_this5._components.contentgetCurrentContentData);\n      });\n    } else d.reject();\n    return d.promise();\n  };\n\n  /**\n   * Return current compoent data\n   * @returns {*}\n   */\n  this.getCurrentContent = function () {\n    return this.contentLength() ? this.state.content.contentsdata[this.contentLength() - 1] : null;\n  };\n\n  this.getCurrentContentTitle = function () {\n    var currentContent = this.getCurrentContent();\n    return currentContent && currentContent.options.title;\n  };\n\n  this.getCurrentContentId = function () {\n    var currentContent = this.getCurrentContent();\n    return currentContent && currentContent.options.id;\n  };\n\n  this.changeCurrentContentOptions = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var currentContent = this.getCurrentContent();\n    if (currentContent) {\n      var title = options.title,\n          crumb = options.crumb;\n\n      if (title) currentContent.options.title = title;\n      if (crumb) currentContent.options.crumb = crumb;\n    }\n  };\n\n  this.changeCurrentContentTitle = function () {\n    var title = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n    var currentContent = this.getCurrentContent();\n    if (currentContent) currentContent.options.title = title;\n  };\n\n  this.isContentOpen = function () {\n    return !!this.state.content.contentsdata.length;\n  };\n\n  // close  content\n  this.closeContent = function () {\n    var _this6 = this;\n\n    var d = $.Deferred();\n    if (this.isContentOpen()) {\n      //.setFullViewContent(false);\n      this._components.content.removeContent();\n      // close secondary view( return a promise)\n      this.closeSecondaryView('close-content').then(function () {\n        //recover default map\n        var mapComponent = _this6.recoverDefaultMap();\n        d.resolve(mapComponent);\n      });\n    } else {\n      var mapComponent = this.recoverDefaultMap();\n      d.resolve(mapComponent);\n    }\n    return d.promise();\n  };\n\n  this.disableContent = function (disabled) {\n    this.state.content.disabled = disabled;\n  };\n\n  this.removeContent = function () {\n    // check if backonclose proprerty is  true o false\n    // to remove all content stack or just last component\n    if (this.state.content.backonclose && this.state.content.contentsdata.length > 1) this.popContent();else return this.closeContent();\n  };\n\n  this.isPrimaryView = function (viewName) {\n    return this.state.primaryView == viewName;\n  };\n\n  this.setPrimaryView = function (viewTag) {\n    if (this.state.primaryView !== viewTag) this.state.primaryView = viewTag;\n    this._layout();\n  };\n\n  this.showPrimaryView = function () {\n    var perc = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    if (perc && this.state.secondaryVisible && this.state.secondaryPerc === 100) {\n      this.state.secondaryPerc = 100 - perc;\n      this._layout();\n    }\n  };\n\n  this.showSecondaryView = function () {\n    var split = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n    var perc = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.state.perc;\n\n    this.state.secondaryVisible = true;\n    this.state.split = split;\n    this.state.secondaryPerc = perc;\n    this._layout();\n  };\n\n  // close secondary view\n  this.closeSecondaryView = function () {\n    var _this7 = this;\n\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var d = $.Deferred();\n    var secondaryViewComponent = this._components[this._otherView(this.state.primaryView)];\n    if (secondaryViewComponent.clearContents) {\n      secondaryViewComponent.clearContents().then(function () {\n        _this7.state.secondaryVisible = false;\n        _this7.state.secondaryPerc = 0;\n        _this7._layout(event);\n        Vue.nextTick(function () {\n          return d.resolve();\n        });\n      });\n    } else {\n      this.state.secondaryVisible = false;\n      this._layout(event);\n      Vue.nextTick(function () {\n        return d.resolve();\n      });\n    }\n    return d.promise();\n  };\n\n  this.getDefaultViewPerc = function (viewName) {\n    return this.isPrimaryView(viewName) ? 100 : 50;\n  };\n\n  // return the opposite view\n  this._otherView = function (viewName) {\n    return viewName === 'map' ? 'content' : 'map';\n  };\n\n  this._isSecondary = function (view) {\n    return this.state.primaryView !== view;\n  };\n\n  this._setPrimaryView = function (viewTag) {\n    if (this.state.primaryView !== viewTag) this.state.primaryView = viewTag;\n  };\n\n  /**\n   * Set the state of content (right or bottom content other than map)\n   * @param options\n   * @private\n   */\n  this._prepareContentView = function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var title = options.title,\n        _options$split2 = options.split,\n        split = _options$split2 === undefined ? null : _options$split2,\n        _options$closable = options.closable,\n        closable = _options$closable === undefined ? true : _options$closable,\n        _options$backonclose = options.backonclose,\n        backonclose = _options$backonclose === undefined ? true : _options$backonclose,\n        _options$style = options.style,\n        style = _options$style === undefined ? {} : _options$style,\n        _options$showgoback = options.showgoback,\n        showgoback = _options$showgoback === undefined ? true : _options$showgoback,\n        _options$headertools = options.headertools,\n        headertools = _options$headertools === undefined ? [] : _options$headertools;\n\n    this.state.content.title = title;\n    this.state.content.split = split;\n    this.state.content.closable = closable;\n    this.state.content.backonclose = backonclose;\n    this.state.content.contentsdata = this._components.content.contentsdata;\n    this.state.content.style = style;\n    this.state.content.headertools = headertools;\n    this.state.content.showgoback = showgoback;\n  };\n\n  // manage all layout logic\n  // viewName: map or content\n  //options.  percentage , splitting title etc ..\n  this._showView = function (viewName) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _options$perc = options.perc,\n        perc = _options$perc === undefined ? this.getDefaultViewPerc(viewName) : _options$perc,\n        _options$split3 = options.split,\n        split = _options$split3 === undefined ? 'h' : _options$split3;\n\n    var aside = void 0;\n    if (this.isPrimaryView(viewName)) aside = typeof options.aside == 'undefined' ? false : options.aside;else aside = true;\n    this.state[viewName].aside = aside;\n    //calculate the content\n    var secondaryPerc = this.isPrimaryView(viewName) ? 100 - perc : perc;\n    //show Secondary View content only if more then 0\n    if (secondaryPerc > 0) this.showSecondaryView(split, secondaryPerc);else return this.closeSecondaryView();\n  };\n\n  this._getReducedSizes = function () {\n    var contentEl = $('.content');\n    var reducedWidth = 0;\n    var reducedHeight = 0;\n    var sideBarToggleEl = $('.sidebar-aside-toggle');\n    if (contentEl && this.state.secondaryVisible && this.isFullViewContent()) {\n      if (sideBarToggleEl && sideBarToggleEl.is(':visible')) {\n        var toggleWidth = sideBarToggleEl.outerWidth();\n        contentEl.css('padding-left', toggleWidth + 5);\n        reducedWidth = toggleWidth - 5;\n      }\n    } else {\n      var _toggleWidth = sideBarToggleEl.outerWidth();\n      contentEl.css('padding-left', this.state.secondaryPerc === 100 ? _toggleWidth + 5 : 15);\n    }\n    return {\n      reducedWidth: reducedWidth,\n      reducedHeight: reducedHeight\n    };\n  };\n\n  //main layout function\n  this._layout = function () {\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    var reducesdSizes = this._getReducedSizes();\n    this._setViewSizes(reducesdSizes.reducedWidth, reducesdSizes.reducedHeight);\n    if (this._immediateComponentsLayout) this._layoutComponents(event);\n  };\n\n  this._setViewSizes = function () {\n    var primaryView = this.state.primaryView;\n    var secondaryView = this._otherView(primaryView);\n\n    var _getViewportSize = this.getViewportSize(),\n        viewportWidth = _getViewportSize.width,\n        viewportHeight = _getViewportSize.height;\n    // assign all width and height of the view to primary view (map)\n\n\n    var primaryWidth = void 0;\n    var primaryHeight = void 0;\n    var secondaryWidth = void 0;\n    var secondaryHeight = void 0;\n    // percentage of secondary view (content)\n    var scale = (this.state.secondaryPerc !== 100 && !this.isFullViewContent() ? this.getContentPercentageFromCurrentLayout(this.state.split) : 100) / 100;\n    if (this.state.split === 'h') {\n      secondaryWidth = this.state.secondaryVisible ? Math.max(viewportWidth * scale, this._secondaryViewMinWidth) : 0;\n      secondaryHeight = viewportHeight;\n      primaryWidth = viewportWidth - secondaryWidth;\n      primaryHeight = viewportHeight;\n    } else {\n      secondaryWidth = viewportWidth;\n      secondaryHeight = this.state.secondaryVisible ? Math.max(viewportHeight * scale, this._secondaryViewMinHeight) : 0;\n      primaryWidth = this.state.secondaryVisible && scale === 1 ? 0 : viewportWidth;\n      primaryHeight = viewportHeight - secondaryHeight;\n    }\n    this.state[primaryView].sizes.width = primaryWidth;\n    this.state[primaryView].sizes.height = primaryHeight;\n    this.state[secondaryView].sizes.width = secondaryWidth;\n    this.state[secondaryView].sizes.height = secondaryHeight;\n  };\n\n  this.getViewportSize = function () {\n    return {\n      width: this._viewportWidth(),\n      height: this._viewportHeight()\n    };\n  };\n\n  this._viewportHeight = function () {\n    var topHeight = $('.navbar-header').innerHeight();\n    return $(document).innerHeight() - topHeight;\n  };\n\n  this._viewportWidth = function () {\n    var main_sidebar = $(\".main-sidebar\");\n    var offset = main_sidebar.length && main_sidebar.offset().left;\n    var width = main_sidebar.length && main_sidebar[0].getBoundingClientRect().width;\n    var sideBarSpace = width + offset;\n    return $('#app')[0].getBoundingClientRect().width - sideBarSpace;\n  };\n\n  /**\n   * Method that se resize. Is called by moveFnc that is called from resize (vertical or horiziontal) component\n   * @param type\n   * @param sizes\n   * @param perc\n   */\n  this.resizeViewComponents = function (type) {\n    var sizes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var perc = arguments[2];\n\n    this.setResized(type, true);\n    this.setContentPercentageFromCurrentLayout(type, perc);\n    this._layout('resize');\n  };\n\n  /**\n   * Get current information layout\n   * @param type\n   * @param perc\n   */\n  this.setContentPercentageFromCurrentLayout = function () {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n    var perc = arguments[1];\n\n    this.getCurrentContentLayout()[type === 'h' ? 'width' : 'height'] = perc;\n  };\n\n  this.getContentPercentageFromCurrentLayout = function () {\n    var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.split;\n\n    return this.getCurrentContentLayout()[type === 'h' ? 'width' : 'height'];\n  };\n\n  this.getCurrentContentLayout = function () {\n    return _applicationState2.default.gui.layout[_applicationState2.default.gui.layout.__current].rightpanel;\n  };\n\n  // load components of  viewport\n  // after right size setting\n  this._layoutComponents = function () {\n    var _this8 = this;\n\n    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    requestAnimationFrame(function () {\n      var reducesdSizes = _this8._getReducedSizes();\n      var reducedWidth = reducesdSizes.reducedWidth || 0;\n      var reducedHeight = reducesdSizes.reducedHeight || 0;\n      // for each components\n      _this8._setViewSizes();\n      Object.entries(_this8._components).forEach(function (_ref4) {\n        var _ref5 = _slicedToArray(_ref4, 2),\n            name = _ref5[0],\n            component = _ref5[1];\n\n        var width = _this8.state[name].sizes.width - reducedWidth;\n        var height = _this8.state[name].sizes.height - reducedHeight;\n        component.layout(width, height);\n      });\n      event && setTimeout(function () {\n        _this8.emit(event);\n        _gui2.default.emit(event);\n      });\n    });\n  };\n\n  /**\n   * function called at start of application (just one time)\n   * @private\n   */\n  this._firstLayout = function () {\n    var _this9 = this;\n\n    var drawing = false;\n    var resizeFired = false;\n    function triggerResize() {\n      resizeFired = true;\n      drawResize();\n    }\n    /**\n     * function called from resize of browser windows (also open dev tool)\n     */\n    var drawResize = function drawResize() {\n      if (resizeFired === true) {\n        resizeFired = false;\n        drawing = true;\n        _this9._layout('resize');\n        requestAnimationFrame(drawResize);\n      } else {\n        drawing = false;\n      }\n    };\n    // GUI ready event\n    _gui2.default.on('ready', function () {\n      /**\n       * SetSidebar width (used by components/Viewport.vue single file component)\n       */\n      _this9.SIDEBARWIDTH = _gui2.default.getSize({ element: 'sidebar', what: 'width' });\n      _this9._layout();\n      _gui2.default.on('guiresized', function () {\n        return triggerResize();\n      });\n      // resize della window\n      $(window).resize(function () {\n        // set resizedFired to true and execute drawResize if it's not already running\n        drawing === false && triggerResize();\n      });\n      // resize on main siedemar open close sidebar\n      $('.main-sidebar').on('webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd', function (event) {\n        //be sure that is the main sidebar that is transitioned non his child\n        if (event.target === this) {\n          $(this).trigger('trans-end');\n          triggerResize();\n        }\n      });\n    });\n  };\n  this._firstLayout();\n  base(this);\n};\n\ninherit(ViewportService, G3WObject);\n\n//singleton\nexports.default = new ViewportService();\n\n},{\"app/constant\":5,\"core/g3wobject\":13,\"core/utils/utils\":68,\"services/gui\":356,\"store/application-state\":368}],367:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file\n * @since v3.6\n */\n\n// Store all workflow activated\nvar WorkFlowsStack = function WorkFlowsStack() {\n  this._workflows = [];\n  this.push = function (workflow) {\n    if (this._workflows.indexOf(workflow) === -1) return this._workflows.push(workflow) - 1;\n    return this._workflows.indexOf(workflow);\n  };\n\n  /**\n  * Get parent\n  * @returns {boolean|*}\n  */\n  this.getParent = function () {\n    var index = this._getCurrentIndex();\n    return index > 0 && this._workflows[index - 1];\n  };\n\n  /**\n  * Get all list of parents\n  * @returns {boolean|T[]}\n  */\n  this.getParents = function () {\n    var index = this._getCurrentIndex();\n    return index > 0 && this._workflows.slice(0, index);\n  };\n\n  this.pop = function () {\n    return this._workflows.pop();\n  };\n\n  this.getLength = function () {\n    return this._workflows.length;\n  };\n\n  this._getCurrentIndex = function () {\n    var currentWorkflow = this.getCurrent();\n    return this._workflows.findIndex(function (workfow) {\n      return workfow === currentWorkflow;\n    });\n  };\n\n  this.getCurrent = function () {\n    return this.getLast();\n  };\n\n  this.getLast = function () {\n    var length = this._workflows.length;\n    return length ? this._workflows[length - 1] : null;\n  };\n\n  this.getFirst = function () {\n    return this._workflows[0];\n  };\n\n  this.removeAt = function (index) {\n    this._workflows.splice(index, 1);\n  };\n\n  this.getAt = function (index) {\n    return this._workflows[index];\n  };\n\n  this.insertAt = function (index, workflow) {\n    this._workflows[index] = workflow;\n  };\n\n  this.clear = function () {\n    while (this._workflows.length) {\n      var workflow = this.pop();\n      workflow.stop();\n    }\n  };\n};\n\nexports.default = new WorkFlowsStack();\n\n},{}],368:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file State and methods to query the STATE of application\n * @since v3.6\n */\n\n/**\n * State of application reactive\n * @type {object}\n */\nvar STATE = Vue.observable({\n\n  /**\n   * true = application is ready\n   */\n  ready: false,\n\n  /**\n   * true = application is loaded inside an iframe\n   */\n  iframe: false,\n\n  /**\n   * true = application is connected\n   */\n  online: false,\n\n  /**\n   * true = application is loaded on mobile device\n   */\n  ismobile: false,\n\n  /**\n   * true = there is a pending download \n   */\n  download: false,\n\n  /**\n   * true = there is a pending upload\n   */\n  upload: false,\n\n  /**\n   * @FIXME add description\n   */\n  baseLayerId: null,\n\n  /**\n   * en = default language\n   */\n  language: 'en',\n\n  /**\n   * @deprecated Since v3.8. Will be deleted in v4.x. Use ApplicationState.language instead\n   */\n  lng: 'en',\n\n  /**\n   * @FIXME add description\n   */\n  changeProjectview: false,\n\n  /**\n   * @FIXME add description\n   */\n  plugins: [],\n\n  /**\n   * @FIXME add description\n   */\n  user: null,\n\n  /**\n   * @FIXME add description\n   */\n  map: {\n    epsg: '',\n    unit: 'metric'\n  },\n\n  /**\n   * @FIXME add description\n   */\n  gui: {\n\n    app: {\n      /**\n       * true = application is disabled and unclickable (waiting)\n       */\n      disabled: false\n    },\n\n    sidebar: {\n      /**\n       * true = sidebar is disabled (not responsive)\n       */\n      disabled: false // \n    },\n\n    layout: {\n      /**\n       * store the current layout owner (\"app\" = default)\n       */\n      __current: 'app',\n\n      /**\n       * @FIXME add description\n       */\n      app: {}\n\n    }\n\n  },\n\n  /**\n   * @FIXME add description\n   */\n  keys: {\n    vendorkeys: {\n      google: undefined,\n      bing: undefined\n    }\n  },\n\n  /**\n   * @FIXME add description\n   */\n  tokens: {\n    filtertoken: undefined\n  }\n\n});\n\n/**\n * Store methods to query STATE of application\n * \n * @type {object}\n */\nvar STATE_METHODS = exports.STATE_METHODS = {};\n\nexports.default = STATE;\n\n},{}],369:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file State of legend items in Table of Contents (TOC) [aka. catalog layers]\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar LayersStoresRegistry = require('core/layers/layersstoresregistry');\n\nfunction CatalogLayersStoresRegistry() {\n  base(this);\n}\n\ninherit(CatalogLayersStoresRegistry, LayersStoresRegistry);\n\nexports.default = new CatalogLayersStoresRegistry();\n\n},{\"core/layers/layersstoresregistry\":38,\"core/utils/utils\":68}],370:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file Store legacy frontend components\n * @since v3.6\n * \n * @deprecated will be probably removed after v4.x. Use Vue Single File Components (SFC) instead\n */\n\nvar G3WObject = require('core/g3wobject');\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\n//class Componet Registry (singleton)\n// store all components added\n\n\nfunction ComponentsRegistry() {\n  this.components = {};\n  this.registerComponent = function (component) {\n    var id = component.getId();\n    if (!this.components[id]) {\n      this.components[id] = component;\n      this.emit('componentregistered', component);\n    }\n  };\n\n  this.getComponent = function (id) {\n    return this.components[id];\n  };\n\n  this.getComponents = function () {\n    return this.components;\n  };\n\n  this.unregisterComponent = function (id) {\n    var component = this.components[id];\n    if (component) {\n      if (typeof component.destroy === 'function') component.destroy();\n      this.components[id] = null;\n    }\n    return component;\n  };\n  base(this);\n}\n\ninherit(ComponentsRegistry, G3WObject);\n\nexports.default = new ComponentsRegistry();\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68}],371:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nvar _gui = require('services/gui');\n\nvar _gui2 = _interopRequireDefault(_gui);\n\nvar _constants = require('g3w-ol/constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit; /**\n                                 * @file Store Open Layers controls (zoom, streetrview, screnshoot, ruler, ...)\n                                 * @since v3.6\n                                 */\n\nvar G3WObject = require('core/g3wobject');\n\nfunction ControlsRegistry() {\n  var _this = this;\n\n  this._controls = {};\n  this._offlineids = [];\n  this.selectedLayer = null;\n  this.externalLayers = [];\n\n  _application2.default.on('complete', function () {\n    /**\n     * since 3.8.0\n     */\n    var CatalogService = _gui2.default.getService('catalog');\n\n    // 0. store unwatches of external layers (selected or visible)\n    var unWatches = {};\n\n    /**\n     * Handle temporary layers added by `addlayers` map control (Polygon or Multipolygon)\n     *\n     * @listens CatalogService~addExternalLayer\n     * @listens CatalogService~removeExternalLayer\n     *\n     * @since 3.8.0\n     */\n\n    // 1. update list `this.externalLayers`\n    // 2. update list `unWatches` of layer un-watchers (based on unique name of layer)\n    // 3. call `this.onAddExternalLayer`\n    CatalogService.onafter('addExternalLayer', function (_ref) {\n      var layer = _ref.layer,\n          type = _ref.type;\n\n      if ('vector' === type) {\n        _this.externalLayers.push(layer);\n        // Add event listener of selected property to set selected layer\n        unWatches[layer.name] = [_constants.VM.$watch(function () {\n          return layer.selected;\n        }, // watch `layer.selected` property\n        function (selected) {\n          _this.setSelectedLayer(true === selected ? layer : null);\n        })];\n\n        _this.callControlsEventHandler({\n          handler: 'onAddExternalLayer',\n          param: {\n            layer: layer,\n            unWatches: unWatches[layer.name]\n          }\n        });\n      }\n    });\n\n    // 4. clean up any previously attached event listener\n    CatalogService.onafter('removeExternalLayer', function (_ref2) {\n      var name = _ref2.name,\n          type = _ref2.type;\n\n      if ('vector' === type) {\n        _this.externalLayers = _this.externalLayers.filter(function (layer) {\n          if (name === layer.name) {\n            _this.callControlsEventHandler({\n              handler: 'handleRemoveExternalLayer',\n              param: layer\n            });\n            layer === _this.selectedLayer && _this.setSelectedLayer(null);\n          }\n          return name !== layer.name;\n        });\n        unWatches[name].forEach(function (unWatch) {\n          return unWatch();\n        });\n        delete unWatches[name];\n      }\n    });\n  });\n\n  _application2.default.onbefore('offline', function () {\n    _this._offlineids.forEach(function (controlItem) {\n      var id = controlItem.id;\n\n      var control = _this._controls[id];\n      controlItem.enable = control.getEnable();\n      control.setEnable(false);\n    });\n  });\n\n  _application2.default.onbefore('online', function () {\n    _this._offlineids.forEach(function (controlItem) {\n      var id = controlItem.id,\n          enable = controlItem.enable;\n\n      _this._controls[id].setEnable(enable);\n    });\n  });\n\n  this.setters = {\n    registerControl: function registerControl(id, control) {\n      this._registerControl(id, control);\n    }\n  };\n\n  /**\n   * @since 3.8.0\n   * @param { unknown | null } layer\n   */\n  this.setSelectedLayer = function (layer) {\n    this.selectedLayer = layer;\n  };\n\n  /**\n   * @since 3.8.0\n   */\n  this.getSelectedLayer = function () {\n    return this.selectedLayer;\n  };\n\n  /**\n   * @since 3.8.0\n   * @returns {Array}\n   */\n  this.getExternalLayers = function () {\n    return this.externalLayers;\n  };\n\n  /**\n   * @since 3.8.0\n   */\n  this.catalogSelectedLayer = function (layer) {\n    this.setSelectedLayer(layer.isSelected() ? layer : null);\n\n    this.callControlsEventHandler({\n      handler: 'onSelectLayer',\n      param: this.selectedLayer\n    });\n  };\n\n  /**\n   * @since 3.8.0\n   * @param handler <String> method name\n   * @param param <Any>\n   */\n  this.callControlsEventHandler = function (_ref3) {\n    var handler = _ref3.handler,\n        param = _ref3.param;\n\n    Object.values(this._controls).forEach(function (control) {\n      if ('function' === typeof control[handler]) {\n        control[handler](param);\n      }\n    });\n  };\n\n  this._registerControl = function (id, control) {\n    this._controls[id] = control;\n    if (control.offline === false) {\n      this._offlineids.push({\n        id: id,\n        enable: control.getEnable()\n      });\n      control.getEnable() && control.setEnable(_application2.default.isOnline());\n    }\n  };\n\n  this.getControl = function (id) {\n    return this._controls[id];\n  };\n\n  this.getControls = function () {\n    return this._controls;\n  };\n\n  this.unregisterControl = function (id) {\n    var control = this.getControl(id);\n    var mapService = _gui2.default.getService('map');\n    var map = mapService.getMap();\n    if (control) {\n      map.removeControl(control);\n      delete this._controls[id];\n      this._offlineids = this._offlineids.filter(function (_id) {\n        return _id !== id;\n      });\n      return true;\n    }\n    return false;\n  };\n  base(this);\n}\n\ninherit(ControlsRegistry, G3WObject);\n\nexports.default = new ControlsRegistry();\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"g3w-ol/constants\":75,\"services/application\":346,\"services/gui\":356}],372:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @file Store Open Layers levels (raster images, vector shapes, markers, ...)\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    inherit = _require.inherit,\n    base = _require.base;\n\nvar LayersStoresRegistry = require('core/layers/layersstoresregistry');\n\nfunction MapLayersStoresRegistry() {\n  base(this);\n}\n\ninherit(MapLayersStoresRegistry, LayersStoresRegistry);\n\nexports.default = new MapLayersStoresRegistry();\n\n},{\"core/layers/layersstoresregistry\":38,\"core/utils/utils\":68}],373:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _projects = require('store/projects');\n\nvar _projects2 = _interopRequireDefault(_projects);\n\nvar _application = require('services/application');\n\nvar _application2 = _interopRequireDefault(_application);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @file Store G3W-CLIENT plugins (editing, qplotly, qtimeseries, ...)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            * @since v3.6\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                            */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\n\n/**\n * law project configuration on project is handle as plugin\n * @type {string[]}\n */\nvar OTHERPLUGINS = ['law'];\n\nfunction PluginsRegistry() {\n  var _this = this;\n\n  this.config = null;\n  this._plugins = {};\n  this._configurationPlugins = [];\n  this.pluginsConfigs = {};\n  this._loadedPluginUrls = [];\n  this.setters = {\n    //setters to register plugin\n    registerPlugin: function registerPlugin(plugin) {\n      if (!this._plugins[plugin.name]) this._plugins[plugin.name] = plugin;\n    }\n  };\n  /**\n   * CHECK IF STILL USEFUL. IT RELATED TO CHANGE MAP OLD BEHAVIOR (PREVIOUS VERSION 3.4).\n   * NOW WHEN CHANGE MAP IS TRIGGER, PAGE IS RELOADED.\n   */\n  _projects2.default.onafter('setCurrentProject', function (project) {\n    _this.gidProject = project.getGid();\n  });\n\n  base(this);\n\n  // initialize plugin\n  this.init = function () {\n    var _this2 = this;\n\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    return new Promise(function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(resolve, reject) {\n        var plugins;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this2.pluginsBaseUrl = options.pluginsBaseUrl;\n                // plugin configurations\n                _this2.setPluginsConfig(options.pluginsConfigs);\n                // filter\n                Object.keys(_this2.pluginsConfigs).forEach(function (pluginName) {\n                  return _this2._configurationPlugins.push(pluginName);\n                });\n                _this2.addLoadingPlugins();\n                // plugins that aren't in configuration server but in project\n                _this2.otherPluginsConfig = options.otherPluginsConfig;\n                _this2.setOtherPlugins();\n                _this2.setDependencyPluginConfig();\n                _context.prev = 7;\n                _context.next = 10;\n                return _this2._loadPlugins();\n\n              case 10:\n                plugins = _context.sent;\n\n                resolve(plugins);\n                _context.next = 17;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context['catch'](7);\n\n                reject(_context.t0);\n\n              case 17:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this2, [[7, 14]]);\n      }));\n\n      return function (_x2, _x3) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  };\n\n  this.addLoadingPlugins = function () {\n    Object.keys(this.pluginsConfigs).forEach(function (plugin) {\n      return _application2.default.loadingPlugin(plugin);\n    });\n  };\n\n  this.removeLoadingPlugin = function (plugin, ready) {\n    _application2.default.loadedPlugin(plugin, ready);\n  };\n\n  this._loadPlugins = function () {\n    var _this3 = this;\n\n    var pluginLoadPromises = Object.entries(this.pluginsConfigs).map(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n          name = _ref3[0],\n          pluginConfig = _ref3[1];\n\n      return _this3._setup(name, pluginConfig);\n    });\n    return Promise.allSettled(pluginLoadPromises);\n  };\n\n  this.setDependencyPluginConfig = function () {\n    var _this4 = this;\n\n    var _loop = function _loop(pluginName) {\n      var dependecyPluginConfig = _this4.pluginsConfigs[pluginName].plugins;\n      dependecyPluginConfig && Object.keys(dependecyPluginConfig).forEach(function (pluginName) {\n        _this4.pluginsConfigs[pluginName] = _extends({}, _this4.pluginsConfigs[pluginName], dependecyPluginConfig[pluginName]);\n      });\n    };\n\n    for (var pluginName in this.pluginsConfigs) {\n      _loop(pluginName);\n    }\n  };\n\n  this.setOtherPlugins = function () {\n    var law = OTHERPLUGINS[0];\n    if (this.otherPluginsConfig && this.otherPluginsConfig[law] && this.otherPluginsConfig[law].length) {\n      // law plugin\n      this.pluginsConfigs[law] = this.otherPluginsConfig[law];\n      this.pluginsConfigs[law].gid = this.otherPluginsConfig.gid;\n    } else delete this.pluginsConfigs[law];\n  };\n\n  // reaload plugin in case of change map\n  this.reloadPlugins = function (initConfig, project) {\n    var _this5 = this;\n\n    return new Promise(function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(resolve, reject) {\n        var scripts, plugins, _loop2, pluginName, _plugins;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                scripts = $('script');\n                plugins = _this5.getPlugins();\n\n                _loop2 = function _loop2(pluginName) {\n                  var plugin = plugins[pluginName];\n                  // unload plugin e remove from DOM\n                  plugin.unload();\n                  delete _this5._plugins[pluginName];\n                  scripts.each(function (index, scr) {\n                    _this5._loadedPluginUrls.forEach(function (pluginUrl, idx) {\n                      if (scr.getAttribute('src') === pluginUrl && pluginUrl.indexOf(pluginName) !== -1) {\n                        scr.parentNode.removeChild(scr);\n                        _this5._loadedPluginUrls.splice(idx, 1);\n                        return false;\n                      }\n                    });\n                  });\n                };\n\n                for (pluginName in plugins) {\n                  _loop2(pluginName);\n                }\n                _this5._loadedPluginUrls = [];\n                //setup plugins\n                _this5.otherPluginsConfig = project.getState();\n                _this5.setPluginsConfig(initConfig.group.plugins);\n                _this5.addLoadingPlugins();\n                _this5.setOtherPlugins();\n                _context2.prev = 9;\n                _context2.next = 12;\n                return _this5._loadPlugins();\n\n              case 12:\n                _plugins = _context2.sent;\n\n                resolve(_plugins);\n                _context2.next = 19;\n                break;\n\n              case 16:\n                _context2.prev = 16;\n                _context2.t0 = _context2['catch'](9);\n\n                reject(_context2.t0);\n\n              case 19:\n              case 'end':\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this5, [[9, 16]]);\n      }));\n\n      return function (_x4, _x5) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n  };\n\n  /**\n   * setup plugin config only filtered by gid configuration\n   * @param config\n   */\n  this.setPluginsConfig = function () {\n    var _this6 = this;\n\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    var enabledPluginConfig = {};\n    Object.entries(config).filter(function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n          pluginConfig = _ref6[1];\n\n      return pluginConfig.gid === _this6.gidProject;\n    }).forEach(function (_ref7) {\n      var _ref8 = _slicedToArray(_ref7, 2),\n          pluginName = _ref8[0],\n          pluginConfig = _ref8[1];\n\n      return enabledPluginConfig[pluginName] = pluginConfig;\n    });\n    this.pluginsConfigs = enabledPluginConfig;\n  };\n\n  /**\n   * Method to load external script\n   * @param url\n   * @returns {*}\n   * @private\n   */\n  this._loadScript = function (url) {\n    return $.getScript(url);\n  };\n\n  //load plugin script\n  this._setup = function (name, pluginConfig) {\n    var _this7 = this;\n\n    return new Promise(function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(resolve, reject) {\n        var _pluginConfig$jsscrip, jsscripts, depedencypluginlibrariespromises, _loop3, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, script, baseUrl, scriptUrl;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (_.isNull(pluginConfig)) {\n                  _context3.next = 38;\n                  break;\n                }\n\n                _pluginConfig$jsscrip = pluginConfig.jsscripts, jsscripts = _pluginConfig$jsscrip === undefined ? [] : _pluginConfig$jsscrip;\n                depedencypluginlibrariespromises = [];\n\n                _loop3 = function _loop3(script) {\n                  depedencypluginlibrariespromises.push(new Promise(function (resolve, reject) {\n                    _this7._loadScript(script).done(function () {\n                      return resolve();\n                    }).fail(function () {\n                      return reject();\n                    });\n                  }));\n                };\n\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context3.prev = 7;\n\n                for (_iterator = jsscripts[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  script = _step.value;\n\n                  _loop3(script);\n                }\n                _context3.next = 15;\n                break;\n\n              case 11:\n                _context3.prev = 11;\n                _context3.t0 = _context3['catch'](7);\n                _didIteratorError = true;\n                _iteratorError = _context3.t0;\n\n              case 15:\n                _context3.prev = 15;\n                _context3.prev = 16;\n\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                  _iterator.return();\n                }\n\n              case 18:\n                _context3.prev = 18;\n\n                if (!_didIteratorError) {\n                  _context3.next = 21;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 21:\n                return _context3.finish(18);\n\n              case 22:\n                return _context3.finish(15);\n\n              case 23:\n                _context3.prev = 23;\n                _context3.next = 26;\n                return Promise.all(depedencypluginlibrariespromises);\n\n              case 26:\n                baseUrl = '' + _this7.pluginsBaseUrl + name;\n                scriptUrl = baseUrl + '/js/plugin.js?' + Date.now();\n\n                pluginConfig.baseUrl = _this7.pluginsBaseUrl;\n                _this7._loadScript(scriptUrl).done(function () {\n                  _this7._loadedPluginUrls.push(scriptUrl);\n                  resolve();\n                }).fail(function () {\n                  _this7.removeLoadingPlugin(name, false);\n                  reject();\n                });\n                _context3.next = 36;\n                break;\n\n              case 32:\n                _context3.prev = 32;\n                _context3.t1 = _context3['catch'](23);\n\n                _this7.removeLoadingPlugin(name, false);\n                reject();\n\n              case 36:\n                _context3.next = 39;\n                break;\n\n              case 38:\n                resolve();\n\n              case 39:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this7, [[7, 11, 15, 23], [16,, 18, 22], [23, 32]]);\n      }));\n\n      return function (_x7, _x8) {\n        return _ref9.apply(this, arguments);\n      };\n    }());\n  };\n\n  this.getPluginConfig = function (pluginName) {\n    return this.pluginsConfigs[pluginName];\n  };\n\n  this.getPlugins = function () {\n    return this._plugins;\n  };\n\n  this.getPlugin = function (pluginName) {\n    return this._plugins[pluginName];\n  };\n\n  // method to check if a plugin is in configuration and will be added to application\n  this.isPluginInConfiguration = function (pluginName) {\n    return this._configurationPlugins.indexOf(pluginName) !== -1;\n  };\n\n  this.isTherePlugin = function (pluginName) {\n    return this.pluginsConfigs[pluginName];\n  };\n}\n\ninherit(PluginsRegistry, G3WObject);\n\nexports.default = new PluginsRegistry();\n\n},{\"core/g3wobject\":13,\"core/utils/utils\":68,\"services/application\":346,\"store/projects\":374}],374:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _catalogLayers = require('store/catalog-layers');\n\nvar _catalogLayers2 = _interopRequireDefault(_catalogLayers);\n\nvar _mapLayers = require('store/map-layers');\n\nvar _mapLayers2 = _interopRequireDefault(_mapLayers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @file Store QGIS project configurations (enabled map controls / plugins / layers / ...)\n * @since v3.6\n */\n\nvar _require = require('core/utils/utils'),\n    base = _require.base,\n    inherit = _require.inherit;\n\nvar G3WObject = require('core/g3wobject');\nvar Project = require('core/project/project');\n\n/* service\n    setup: init method\n    getLayersState: returnLayersState\n    getLayersTree: return  array of layersTree from LayersState\n*/\n\n// Public interface\nfunction ProjectsRegistry() {\n  this.config = null;\n  this.initialized = false;\n  this.projectType = null;\n  this.overviewproject;\n  this.setters = {\n    createProject: function createProject(projectConfig) {\n      //hook to get project config and modify it\n    },\n    setCurrentProject: function setCurrentProject(project) {\n      if (this.state.currentProject !== project) {\n        _catalogLayers2.default.removeLayersStores();\n        _mapLayers2.default.removeLayersStores();\n      }\n      this.state.currentProject = project;\n      this.state.qgis_version = project.getQgisVersion();\n      this.setProjectType(project.state.type);\n      var projectLayersStore = project.getLayersStore();\n      //set in first position (catalog)\n      _catalogLayers2.default.addLayersStore(projectLayersStore, 0);\n      //set in first position (map)\n      _mapLayers2.default.addLayersStore(projectLayersStore, 0);\n    }\n  };\n\n  this.state = {\n    baseLayers: {},\n    minScale: null,\n    maxscale: null,\n    currentProject: null,\n    qgis_version: null\n  };\n\n  // (lazy loading)\n  this._groupProjects = [];\n  this._projectConfigs = {};\n\n  base(this);\n}\n\ninherit(ProjectsRegistry, G3WObject);\n\nvar proto = ProjectsRegistry.prototype;\n\n//Inizialize configuration for all project belong to group\nproto.init = function () {\n  var _this = this;\n\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var d = $.Deferred();\n  //check if already initialized\n  if (!this.initialized) {\n    this.config = config;\n    this.overviewproject = config.overviewproject;\n    this.setupState();\n    // get current configuration\n    var searchParams = new URLSearchParams(location.search);\n    var map_theme = searchParams.get('map_theme');\n    this.getProject(config.initproject, {\n      map_theme: map_theme\n    }).then(function (project) {\n      // set current project\n\n      _this.setCurrentProject(project);\n      _this.initialized = true;\n      d.resolve(project);\n    }).fail(function (error) {\n      return d.reject(error);\n    });\n  } else {\n    var project = this.getCurrentProject();\n    d.resolve(project);\n  }\n  return d.promise();\n};\n\nproto.clear = function () {\n  this.config = null;\n  this.initialized = false;\n  this.projectType = null;\n  this.overviewproject;\n  this.initialized = false;\n  this._groupProjects = [];\n  this._projectConfigs = {};\n  this.state = {\n    baseLayers: {},\n    minScale: null,\n    maxscale: null,\n    currentProject: null,\n    qgis_version: null\n  };\n};\n\nproto.setProjectType = function (projectType) {\n  this.projectType = projectType;\n};\n\nproto.getConfig = function () {\n  return this.config;\n};\n\nproto.getState = function () {\n  return this.state;\n};\n\nproto.setupState = function () {\n  this.state.baseLayers = this.config.baselayers;\n  this.state.minScale = this.config.minscale;\n  this.state.maxScale = this.config.maxscale;\n  this.state.crs = this.config.crs;\n  this.setProjects(this.config.projects);\n};\n\nproto.getProjectType = function () {\n  return this.projectType;\n};\n\nproto.getProjects = function () {\n  return this._groupProjects;\n};\n\nproto.setProjects = function (projects) {\n  var _this2 = this;\n\n  this.clearProjects();\n  projects.forEach(function (project) {\n    _this2.state.qgis_version = project.qgis_version || _this2.state.qgis_version;\n    project.baselayers = _this2.config.baselayers;\n    project.minscale = _this2.config.minscale;\n    project.maxscale = _this2.config.maxscale;\n    project.crs = _this2.config.crs;\n    project.vectorurl = _this2.config.vectorurl;\n    project.rasterurl = _this2.config.rasterurl;\n    project.overviewprojectgid = _this2.overviewproject ? _this2.overviewproject.gid : null;\n    _this2._groupProjects.push(project);\n  });\n};\n\nproto.clearProjects = function () {\n  this._groupProjects = [];\n};\n\nproto.getListableProjects = function () {\n  var currentProjectId = this.getCurrentProject().getId();\n  return _.sortBy(this.getProjects().filter(function (project) {\n    if (!_.isNil(project.listable)) return project.listable;\n    if (project.id === currentProjectId || project.overviewprojectgid && project.gid === project.overviewprojectgid) return false;\n    return project;\n  }), 'title');\n};\n\nproto.getCurrentProject = function () {\n  return this.state.currentProject;\n};\n\n// method to get project configuration - added reload to force to get configuratn project from server\nproto.getProject = function (projectGid) {\n  var _this3 = this;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { reload: false };\n  var reload = options.reload,\n      map_theme = options.map_theme;\n\n  var d = $.Deferred();\n  var pendingProject = this._groupProjects.find(function (project) {\n    return project.gid === projectGid;\n  });\n  if (!pendingProject) {\n    d.reject(\"Project doesn't exist\");\n    return d.promise();\n  }\n  var projectConfig = !reload && this._projectConfigs[projectGid];\n  if (projectConfig) {\n    var project = new Project(projectConfig);\n    d.resolve(project);\n  } else {\n    this._getProjectFullConfig(pendingProject, { map_theme: map_theme }).then(function (projectFullConfig) {\n      var projectConfig = _.merge(pendingProject, projectFullConfig);\n      projectConfig.WMSUrl = _this3.config.getWmsUrl(projectConfig);\n      // setupu project relations\n      projectConfig.relations = _this3._setProjectRelations(projectConfig);\n      _this3._projectConfigs[projectConfig.gid] = projectConfig;\n      // instance of Project\n      _this3.createProject(projectConfig);\n      var project = new Project(projectConfig);\n      // add to project\n      d.resolve(project);\n    }).fail(function (error) {\n      return d.reject(error);\n    });\n  }\n  return d.promise();\n};\n\nproto._setProjectRelations = function (projectConfig) {\n  projectConfig.relations = projectConfig.relations ? projectConfig.relations : [];\n  projectConfig.relations = projectConfig.relations.map(function (relation) {\n    if (relation.type === \"ONE\") {\n      projectConfig.layers.find(function (layer) {\n        if (layer.id === relation.referencingLayer) {\n          relation.name = layer.name;\n          relation.origname = layer.origname;\n          return true;\n        }\n      });\n    }\n    return relation;\n  });\n  return projectConfig.relations;\n};\n\nproto.getProjectConfigByGid = function (gid) {\n  return this._groupProjects.find(function (project) {\n    return project.gid === gid;\n  });\n};\n\nproto.setProjectAliasUrl = function (_ref) {\n  var gid = _ref.gid,\n      url = _ref.url,\n      host = _ref.host;\n\n  var project = this.config.projects.find(function (project) {\n    return project.gid === gid;\n  });\n  if (project) project.url = project && '' + (host ? host : '') + url;\n};\n/**\n *\n * @param gid\n * @param mode production or development\n * @returns {string}\n */\nproto.getProjectUrl = function (gid) {\n  // get base url\n  var baseurl = this.config.urls.baseurl;\n  // get project configuration in initConfig group projects\n\n  var projectConfig = this.getProjectConfigByGid(gid);\n  var url = projectConfig.url;\n  var _location = location,\n      origin = _location.origin;\n\n  return '' + origin + baseurl + url;\n};\n\n// method to call server to get project configuration\nproto._getProjectFullConfig = function (projectBaseConfig) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var map_theme = options.map_theme;\n\n  var d = $.Deferred();\n  var url = this.config.getProjectConfigUrl(projectBaseConfig);\n  $.get(url).done(function (projectFullConfig) {\n    if (map_theme) {\n      var type = projectBaseConfig.type,\n          id = projectBaseConfig.id;\n      var map_themes = projectFullConfig.map_themes;\n\n      var find_map_theme = map_themes.find(function (_ref2) {\n        var theme = _ref2.theme;\n        return theme === map_theme;\n      });\n      if (find_map_theme) {\n        var url_theme = '/' + type + '/api/prjtheme/' + id + '/' + map_theme;\n        $.get(url_theme).done(function (_ref3) {\n          var result = _ref3.result,\n              layerstree = _ref3.data;\n\n          if (result) {\n            projectFullConfig.layerstree = layerstree;\n            find_map_theme.layetstree = layerstree;\n            find_map_theme.default = true;\n          }\n        }).always(function () {\n          d.resolve(projectFullConfig);\n        });\n      }\n    } else d.resolve(projectFullConfig);\n  }).fail(function (error) {\n    return d.reject(error);\n  });\n  return d.promise();\n};\n\nexports.default = new ProjectsRegistry();\n\n},{\"core/g3wobject\":13,\"core/project/project\":62,\"core/utils/utils\":68,\"store/catalog-layers\":369,\"store/map-layers\":372}],375:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @file Store user session (login / logout)\n * @since v3.6\n */\n\nvar SessionsRegistry = function SessionsRegistry() {\n  this._sessions = {};\n\n  this.register = function (session) {\n    var id = session.getId();\n    this._sessions[id] = session;\n  };\n\n  this.unregister = function (id) {\n    delete this._sessions[id];\n  };\n\n  this.getSession = function (id) {\n    return this._sessions[id];\n  };\n\n  this.setSession = function (id, session) {\n    this._sessions[id] = session;\n  };\n\n  this.getSessions = function () {\n    return this._sessions;\n  };\n\n  this.clear = function () {\n    this._sessions = {};\n  };\n};\n\nexports.default = new SessionsRegistry();\n\n},{}],376:[function(require,module,exports){\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* WARNING: this file is autogenerated by gulpfile.js, please do not edit manually */\n\nexports.default = '3.8.0-alpha.1';\n\n},{}]},{},[193]);\n"]}